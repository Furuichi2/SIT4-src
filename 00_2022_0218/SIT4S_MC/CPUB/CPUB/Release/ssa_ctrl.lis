*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     ｃ／ｂ制御                              ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 5855                              19     
 5856                              20     ;2015-11-15 二重回路対策の有効性の確認用
 5857                              21     ;1      .DEFINE         "1"
 5858                              22     ;0      .DEFINE         "0"
 5859                              23     
 5860                              24     _INCCMPERR_FORCE_USE    .DEFINE         "1"
 5861                              25     ;;1     .DEFINE         "0"
 5862                              26     
 5863                              27     
 5864                              28     
 5865 00000000                     29             .SECTION        P,CODE                  ;
 5866                              30     
 5867                              31     ;       //      ***********************************
 5868                              32     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 5869                              33     ;       //      ***********************************
 5870                              34             .INCLUDE        "ssa_krom.ext"          ; //
 5871                               1 I1  ;       ***************************
 5872                               2 I1  ;       ***     汎用ルーチン    ***
 5873                               3 I1  ;       ***************************
 5874                               4 I1          .GLOBAL         _EMG_OUT                ;ssa_khad.src
 5875                               5 I1          .GLOBAL         _EXQ_OUT                ;ssa_khad.src
 5876                               6 I1          .GLOBAL         _RESET_OUT              ;ssa_khad.src
 5877                               7 I1          .GLOBAL         _RESET_END_OUT          ;ssa_khad.src
 5878                               8 I1          .GLOBAL         _VON1_ON                ;ssa_khad.src
 5879                               9 I1          .GLOBAL         _VON1_OF                ;ssa_khad.src
 5880                              10 I1          .GLOBAL         _VON2_ON                ;ssa_khad.src
 5881                              11 I1          .GLOBAL         _VON2_OF                ;ssa_khad.src
 5882                              12 I1          .GLOBAL         _VON3_ON                ;ssa_khad.src
 5883                              13 I1          .GLOBAL         _VON3_OF                ;ssa_khad.src
 5884                              14 I1          .GLOBAL         _RDY_ON                 ;ssa_khad.src
 5885                              15 I1          .GLOBAL         _RDY_OF                 ;ssa_khad.src
 5886                              16 I1          .GLOBAL         _ANTI_ON                ;ssa_khad.src
 5887                              17 I1          .GLOBAL         _ANTI_OF                ;ssa_khad.src
 5888                              18 I1          .GLOBAL         _AUTO_ON                ;ssa_khad.src
 5889                              19 I1          .GLOBAL         _AUTO_OF                ;ssa_khad.src
 5890                              20 I1          .GLOBAL         _FRCYCL_OF              ;ssa_khad.src
 5891                              21 I1          .GLOBAL         _FRCYCL_ON              ;ssa_khad.src
 5892                              22 I1  
 5893                              23 I1  ;       *******************************************
 5894                              24 I1  ;       ***                                     ***
 5895                              25 I1  ;       ***     各状態ハンドシェイクと処理      ***
 5896                              26 I1  ;       ***                                     ***
 5897                              27 I1  ;       *******************************************
 5898                              28 I1  ;_SH4_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 5899                              29 I1  ;_SH2_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 5900                              30 I1  ;_SH4_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 5901                              31 I1  ;_SH2_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 5902                              32 I1  ;_SH4_HD_POS_START      .SRES   2       ;起動したい
 5903                              33 I1  ;_SH2_HD_POS_START      .SRES   2       ;起動したい
 5904                              34 I1  ;_SH4_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE     2
PROGRAM NAME =

 5905                              35 I1  ;_SH2_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 5906                              36 I1  ;_SH4_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 5907                              37 I1  ;_SH2_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 5908                              38 I1  ;_SH4_HD_CNT_STOP       .SRES   2       ;連続停止
 5909                              39 I1  ;_SH2_HD_CNT_STOP       .SRES   2       ;連続停止
 5910                              40 I1  ;_SH4_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 5911                              41 I1  ;_SH2_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 5912                              42 I1  
 5913                              43 I1  
 5914                              44 I1  ;       ***********************************
 5915                              45 I1  ;       ***                             ***
 5916                              46 I1  ;       ***     READY 準備完了          ***
 5917                              47 I1  ;       ***                             ***
 5918                              48 I1  ;       ***********************************
 5919                              49 I1          .GLOBAL _CPU_AB_RDY_OF_OUT
 5920                              50 I1          .GLOBAL _CPU_BA_RDY_OF_OUT
 5921                              51 I1          .GLOBAL _CPU_AB_RDY_ON_OUT
 5922                              52 I1          .GLOBAL _CPU_BA_RDY_ON_JG
 5923                              53 I1          .GLOBAL _CPU_AB_RDY_OF_JG
 5924                              54 I1  
 5925                              55 I1  ;       ***********************************
 5926                              56 I1  ;       ***                             ***
 5927                              57 I1  ;       ***     BUSY 準備未完了         ***
 5928                              58 I1  ;       ***                             ***
 5929                              59 I1  ;       ***********************************
 5930                              60 I1          .GLOBAL _CPU_AB_BSY_OF_OUT
 5931                              61 I1          .GLOBAL _CPU_BA_BSY_OF_OUT
 5932                              62 I1          .GLOBAL _CPU_AB_BSY_ON_OUT
 5933                              63 I1          .GLOBAL _CPU_BA_BSY_ON_JG
 5934                              64 I1          .GLOBAL _CPU_AB_BSY_OF_JG
 5935                              65 I1  
 5936                              66 I1  ;       ***********************************
 5937                              67 I1  ;       ***                             ***
 5938                              68 I1  ;       ***     STR 運転開始            ***
 5939                              69 I1  ;       ***                             ***
 5940                              70 I1  ;       ***********************************
 5941                              71 I1          .GLOBAL _CPU_AB_STR_OF_OUT
 5942                              72 I1          .GLOBAL _CPU_BA_STR_OF_OUT
 5943                              73 I1          .GLOBAL _CPU_AB_STR_ON_OUT
 5944                              74 I1          .GLOBAL _CPU_BA_STR_ON_JG
 5945                              75 I1          .GLOBAL _CPU_AB_STR_OF_JG
 5946                              76 I1  
 5947                              77 I1  ;       ***********************************
 5948                              78 I1  ;       ***                             ***
 5949                              79 I1  ;       ***     AUTO    開始            ***
 5950                              80 I1  ;       ***                             ***
 5951                              81 I1  ;       ***********************************
 5952                              82 I1          .GLOBAL _CPU_AB_DRVSTOP_OF_OUT
 5953                              83 I1          .GLOBAL _CPU_AB_DRVSTOP_ON_OUT  ;
 5954                              84 I1          .GLOBAL _CPU_BA_DRVSTOP_ON_JG   ;
 5955                              85 I1          .GLOBAL _CPU_BA_DRVSTOP_OF_OUT  ;
 5956                              86 I1  
 5957                              87 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_OUT
 5958                              88 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_OF_OUT
 5959                              89 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_ON_OUT
 5960                              90 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_ON_JG
 5961                              91 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_JG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE     3
PROGRAM NAME =

 5962                              92 I1  
 5963                              93 I1  ;       ***********************************
 5964                              94 I1  ;       ***                             ***
 5965                              95 I1  ;       ***     ニアゼロ開始            ***
 5966                              96 I1  ;       ***                             ***
 5967                              97 I1  ;       ***********************************
 5968                              98 I1          .GLOBAL _CPU_AB_NZR_OF_OUT
 5969                              99 I1          .GLOBAL _CPU_BA_NZR_OF_OUT
 5970                             100 I1          .GLOBAL _CPU_AB_NZR_ON_OUT
 5971                             101 I1          .GLOBAL _CPU_BA_NZR_ON_JG
 5972                             102 I1          .GLOBAL _CPU_AB_NZR_OF_JG
 5973                             103 I1  
 5974                             104 I1  
 5975                             105 I1  ;       ***********************************
 5976                             106 I1  ;       ***                             ***
 5977                             107 I1  ;       ***     連続停止                ***
 5978                             108 I1  ;       ***                             ***
 5979                             109 I1  ;       ***********************************
 5980                             110 I1          .GLOBAL _CPU_AB_CST_OF_OUT1     ;
 5981                             111 I1          .GLOBAL _CPU_AB_CST_OF_OUT2     ;
 5982                             112 I1          .GLOBAL _CPU_BA_CST_OF_OUT
 5983                             113 I1          .GLOBAL _CPU_AB_CST_ON_OUT1
 5984                             114 I1          .GLOBAL _CPU_AB_CST_ON_OUT2
 5985                             115 I1          .GLOBAL _CPU_BA_CST_ON_JG
 5986                             116 I1          .GLOBAL _CPU_AB_CST_OF_JG
 5987                             117 I1  
 5988                             118 I1  ;       ***********************************
 5989                             119 I1  ;       ***                             ***
 5990                             120 I1  ;       ***     ステップ停止            ***
 5991                             121 I1  ;       ***                             ***
 5992                             122 I1  ;       ***********************************
 5993                             123 I1          .GLOBAL _CPU_AB_CED_OF_OUT
 5994                             124 I1          .GLOBAL _CPU_BA_CED_OF_OUT
 5995                             125 I1          .GLOBAL _CPU_AB_CED_ON_OUT
 5996                             126 I1          .GLOBAL _CPU_BA_CED_ON_JG
 5997                             127 I1          .GLOBAL _CPU_AB_CED_OF_JG
 5998                             128 I1  
 5999                             129 I1  ;       ***********************************
 6000                             130 I1  ;       ***                             ***
 6001                             131 I1  ;       ***     相手CPUの工程をROへ     ***
 6002                             132 I1  ;       ***                             ***
 6003                             133 I1  ;       ***********************************
 6004                             134 I1          .GLOBAL _CPU_BA_STEP_LOAD
 6005                             135 I1  
 6006                             136 I1  ;       ***********************************
 6007                             137 I1  ;       ***                             ***
 6008                             138 I1  ;       ***     ｽﾗｲﾄﾞ自動待機(hold)     ***
 6009                             139 I1  ;       ***                             ***
 6010                             140 I1  ;       ***********************************
 6011                             141 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_ON_OUT       ;
 6012                             142 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_OF_OUT       ;
 6013                             143 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_ON_JG        ;
 6014                             144 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_OF_JG        ;
 6015                             145 I1  
 6016                             146 I1  ;       *******************************************
 6017                             147 I1  ;       ***             ssa_com1.src            ***
 6018                             148 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE     4
PROGRAM NAME =

 6019                             149 I1          .GLOBAL         _DIVS_32REG2_32REG1_R4_32REG2_R2        ;(R2/R4-->R2)
 6020                             150 I1          .GLOBAL         _DIVS_64R1R2_32R4_32R2                  ;(R1,R2/R4-->R2)
 6021                             151 I1          .GLOBAL         _DIVU_64R1R2_32R4_32R2                  ;
 6022                             152 I1          .GLOBAL         _HIGH_DIVS_32REG2_16REG1_R4_16REG2_R2   ;(R2/R4-->R2)
 6023                             153 I1          .GLOBAL         _HIGH_S32R2_MUL_S32R1_DIV_S32R4_S32R2   ;(R2*R1/R4-->R2)
 6024                             154 I1          .GLOBAL         _FPU_R2_MUL_R1_DIV_R4                   ;
 6025                             155 I1          .GLOBAL         _FPU_R2_MUL_R1_R3_DIV_R4                ;
 6026                             156 I1          .GLOBAL         _FPU_DIVS_32REG2_32REG1_R4_32REG2_R2    ;
 6027                             157 I1          .GLOBAL         _FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1   ;
 6028                             158 I1  
 6029                             159 I1          .GLOBAL         _MULDIV_R2S32mR1S32dR4S32aR1R2S64;
 6030                             160 I1          .GLOBAL         _MULDIV_R1R2S64mR3S32dR4S32aR1R2S64
 6031                             161 I1          .GLOBAL         _MUL_R1R2S64mR3S32aR1R2S64              ;
 6032                             162 I1  
 6033                             163 I1          .GLOBAL         _DIVS_64R1R2_32R4_64R1R2        ;
 6034                             164 I1          .GLOBAL         _DIVU_64R1R2_32R4_64R1R2        ;
 6035                             165 I1  
 6036                             166 I1          .GLOBAL         _DIG_AREA_CHK0
 6037                             167 I1          .GLOBAL         _DIG_AREA_CHK1
 6038                             168 I1  
 6039                             169 I1          .GLOBAL         _FPU_POS_HOKAN1
 6040                             170 I1          .GLOBAL         _FPU_TIM_HOKAN1
 6041                             171 I1          .GLOBAL         _X_R2_MUL_R1_DIV_R4
 6042                              35             .IMPORT         _SELF_START_CONF        ;ssa_self.src
 6043                              36     
 6044                              37             .IMPORT         _MN_POS_CTRL_START              ;ssa_pos1.src
 6045                              38             .IMPORT         _MN_POS_CTRL_ACT                ;ssa_pos1.src
 6046                              39             .IMPORT         _NOW_POS_PRESET_OUTPLS          ;現在位置を目標位置に変える
 6047                              40     
 6048                              41             .IMPORT         _UP_AREA_DATCHK                 ;ssa_dtmk.src
 6049                              42             .IMPORT         _DAT_MOSTPOS_SIG_CLR
 6050                              43             .IMPORT         _ORG_END_SIG_CLR
 6051                              44     
 6052                              45             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6053                              46     
 6054                              47             .IMPORT         _RESET_ERR_SEQ_CLR
 6055                              48             .IMPORT         _RESET_ERR_SEQ_CLR1     ;2010-12-10
 6056                              49             .IMPORT         _RESET_ERR_SEQ_CLR2     ;2010-12-10
 6057                              50             .IMPORT         _FUL_DATA_INIT
 6058                              51     
 6059                              52     ;       ===== 2003-06-06 ===
 6060                              53             .IMPORT         _DAI_MOSTPOS_SMPLE
 6061                              54             .IMPORT         _BRK_ERR_WORK_CLR1      ;ERR1.SRC
 6062                              55     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6063                              56     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6064                              57     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6065                              58             .IMPORT         _STOP_ERR_CHK
 6066                              59             .IMPORT         _LSA_ERRCLR_INI         ;2006-07-16 SSA_ERR1.SRC
 6067                              60     
 6068                              61             .IMPORT         _FWD_REV_STSIG_OFF              ;
 6069                              62             .IMPORT         _POS_LSI_SLOW_STOP              ;
 6070                              63     
 6071                              64             .IMPORT         _ERR_INFO_RST_CLR
 6072                              65     
 6073                              66             .IMPORT         _EXQ_STOP_LEV_POS_CLR           ;
 6074                              67             .IMPORT         _IRQ_EMG_STP_CLR                ;2004-04-04
 6075                              68     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE     5
PROGRAM NAME =

 6076                              69             .IMPORT         _GPOSIN_HOS_RESET
 6077                              70             .IMPORT         _CNTREST_HOS_RESET
 6078                              71     
 6079                              72             .IMPORT         _TEP_FLG_CLR                    ;FLGｸﾘｱ
 6080                              73             .IMPORT         _TEPA_START_CHK                 ;開始条件
 6081                              74             .IMPORT         _TEPA_PLSCNT_CLR                ;片手ONした瞬間0にする
 6082                              75             .IMPORT         _TEPA_PLSCNT_CHK                ;
 6083                              76     
 6084                              77     ;       ---------------------------------
 6085                              78             .IMPORT         _RNA_SCIF_ERR_CLR2              ;SCIF
 6086                              79     
 6087                              80             .IMPORT         _EMG_STOP                       ;
 6088                              81     
 6089                              82             .IMPORT         _API_BREAK_VALV_FLG_ON          ;
 6090                              83             .IMPORT         _API_BREAK_VALV_FLG_OF          ;2014-08-05
 6091                              84     
 6092                              85             .IMPORT         _PRESET_PV_FLGCLR               ;2014-09-14 異常が発生した
 6093                              86             .IMPORT         _NOW_INC_DIG_MAK                ;2014-09-26
 6094                              87     
 6095                              88     ;       //      ***********************************
 6096                              89     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6097                              90     ;       //      ***********************************
 6098                              91             .IMPORT         _LONG_BIT_TBL0
 6099                              92             .GLOBAL         _SQ_CBWK_TOP
 6100                              93     ;       ====================================
 6101                              94             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6102                              95             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6103                              96             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6104                              97             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6105                              98             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6106                              99             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6107                             100             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6108                             101             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6109                             102             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6110                             103             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6111                             104             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6112                             105             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6113                             106             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6114                             107             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
 6115                             108     ;       ==== 2003-07-09 ===
 6116                             109             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更 0:level 1:edge
 6117                             110             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6118                             111     
 6119                             112     ;       ==== 2006-04-10===
 6120                             113             .GLOBAL         _PAR_SFTY_BRKSEL        ;
 6121                             114             .GLOBAL         _PAR_BRKDISE_TIM        ;ﾌﾞﾚｰｷ釈放遅延時間3000msec
 6122                             115             .IMPORT         _PAR_BRKLOCK_TIM        ;ﾌﾞﾚｰｷﾛｯｸ遅延時間100msec
 6123                             116             .IMPORT         _PAR_SELF_WAIT_TM       ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの
                                          時間
 6124                             117             .IMPORT         _PAR_SLOCK_DLY2         ;
 6125                             118     
 6126                             119     
 6127                             120     ;       ==== 2011-09-06===
 6128                             121             .IMPORT         _PAR_UPCHK_SEL1
 6129                             122     
 6130                             123     
 6131                             124             .IMPORT         _PAR_UPMASK_SPD
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE     6
PROGRAM NAME =

 6132                             125             .IMPORT         _CB_SYS_PARAM000
 6133                             126     
 6134                             127     ;       ==== 2012-09-25===
 6135                             128             .IMPORT         _PAR_MYUTING_SEL        ;
 6136                             129     
 6137                             130     ;       ==== 2014-02-20===
 6138                             131             .IMPORT         _PAR_EXTDRV_SEL         ;
 6139                             132             .IMPORT         _PAR_BTNER_TM
 6140                             133             .IMPORT         _PAR_MYUTERR_SEL        ;3 0: 1:異常 行程異常を監視する[R02R03　20
                                          14-02-18]
 6141                             134     
 6142                             135     
 6143                             136     ;       ==== 2014-09-26===
 6144                             137             .IMPORT         _PAR_INCMODE_SEL
 6145                             138             .IMPORT         _PAR_INCMODE_EPLS
 6146                             139     
 6147                             140     ;       //      ***********************************
 6148                             141     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6149                             142     ;       //      ***********************************
 6150                             143             .EXPORT         _EMG_CTL_FLG_PROC       ;==>ssa_err1.src
 6151                             144             .EXPORT         _EXQ_CTL_FLG_PROC       ;==>ssa_err1.src
 6152                             145             .EXPORT         _STP_RST_FLG_PROC       ;==>ssa_err1.src
 6153                             146     
 6154                             147     
 6155                             148             .EXPORT         _RESET_CHEAK            ;==>ssa_cbmn.src
 6156                             149             .EXPORT         _MODE_CHANGE            ;==>ssa_cbmn.src
 6157                             150             .EXPORT         _MODE_CTRL              ;==>ssa_cbmn.src
 6158                             151             .EXPORT         _MODE_AREA_MAKE         ;ssa_ctrl.src 待機点AREA作成
 6159                             152     
 6160                             153             .EXPORT         _STEP_SIG_DSP_CLR
 6161                             154             .EXPORT         _STEP_SIG_DISP;
 6162                             155     
 6163                             156             .EXPORT         _STOPPING_TIM_MOV_INI
 6164                             157             .EXPORT         _STOPPING_TIM_STOP_INI
 6165                             158             .EXPORT         _STOPPING_TIM_CHK
 6166                             159     
 6167                             160             .IMPORT         _KJPHOS_SIG_CLR         ;2004-07-05 ssa_kjyu.inc
 6168                             161             .IMPORT         _KJPHOS_SAMPLING1       ;2004-07-05
 6169                             162     
 6170                             163     
 6171                             164             .IMPORT         _OVER_RID_UPDN_LAT_DTMK ;2005-01-17
 6172                             165             .IMPORT         _SET_PV_ABS_TO_OBJ      ;20060919
 6173                             166             .IMPORT         _OVERLID_DEF_SET        ;20060919
 6174                             167     
 6175                             168             .IMPORT         _LINK_CLANK_DIG_MAK             ;2009-07-17
 6176                             169     
 6177                             170             .AIF    1 EQ    0       ;
 6178                             171             .IMPORT _CBA_STS_BKUP_SAVE              ;2011-09-14 BAKUP
 6179                             172             .AENDI
 6180                             173     
 6181                             174     ;       ==== 2012-03-06====
 6182                             175             .IMPORT _BRKTMCAL_API1_STR              ;
 6183                             176             .IMPORT _BRKTMCAL_STG1_STOPINI          ;停止ソフト
 6184                             177             .IMPORT _BRKTMCAL_API3_ENDCNF1          ;
 6185                             178             .IMPORT _BRKTMCAL_API4_ENDCNF2          ;
 6186                             179     
 6187                             180     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE     7
PROGRAM NAME =

 6188                             181             .IMPORT _SH4_ORG_DIR_REV        ;原点復帰方向
 6189                             182     
 6190                             183             .IMPORT _SEQAB_DP_TOP           ;2014-08-30
 6191                             184             .IMPORT _EXQ_STOP               ;2014-08-30
 6192                             185             .IMPORT _SVP_INTLIM_SNO         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　行程
 6193                             186             .IMPORT _SVP_INTLIM_AGL         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　角度0.1度
 6194                             187             .IMPORT _SVP_INTLIM_POS         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　位置
 6195                             188             .IMPORT _SVP_WTTIM_MAX          ;//ｽﾗｲﾄﾞ自動待機機能  待機時間0.1秒
 6196                             189             .IMPORT _PVP_WTJUD_SNO          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（行程）
 6197                             190             .IMPORT _PVP_WTJUD_AGL          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（角度）0.1度
 6198                             191             .IMPORT _PVP_WTJUD_POS          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（位置）0.01mm
 6199                             192     
 6200                             193             .EXPORT _POS_HOLD_FLG_STR2CLR   ;2014-09-01
 6201                             194     
 6202                             195             .IMPORT _DNM_DATA_REV_SET       ;2014-09-18
 6203                             196             .IMPORT _PAR_MYU_BRK_SEL        ;2015-09-06
 6204                             197     
 6205                             198             .IMPORT _API_ENDHAND_SIGCHK     ;
 6206                             199     
 6207                             200              .AIF   1 EQ 1  ;
 6208                             201 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6209                             202              .AENDI
 6210                             203     ;       --------------------2016-07-18
 6211                             204             .IMPORT         _CPUA_LOT_CHK_FLG               ;2016-07-18CHECK
 6212                             205             .IMPORT         _CPUB_LOT_CHK_FLG               ;2016-07-18CHECK
 6213                             206             .IMPORT         _CPUA_LOT_CNT_FLG               ;
 6214                             207             .IMPORT         _CPUB_LOT_CNT_FLG               ;
 6215                             208             .IMPORT         _CPUA_CONT_MOD_CNT_PV           ;
 6216                             209             .IMPORT         _CPUB_CONT_MOD_CNT_PV           ;
 6217                             210             .IMPORT         _CPUB_DBG_MONI_CNT              ;2016-08-22
 6218                             211     
 6219                             212     ;       *******************************************
 6220                             213     ;       ***                                     ***
 6221                             214     ;       ***     リセット処理                    ***
 6222                             215     ;       ***                                     ***
 6223                             216     ;       *******************************************
 6224                             217     ;       (ｽﾃｯﾌﾟをある程度またぐ時はR5以上を使用する)
 6225                             218     ;       モードはリセット時に確定する
 6226                             219     ;
 6227                             220     
 6228 00000000                    221             .ALIGN  4                               ;
 6229 00000000                    222     _RESET_CHEAK:           ;==>ssa_cbmn.src
 6230                             223             SUB_START
 6231 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6232                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6233                             224     
 6234                             225     
 6235                             226              .AIF   1 EQ 1  ;
 6236                             227 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6237                             228              .AENDI
 6238                             229     ;       --------- 2016-10-31(2016-06-21)-------------
 6239                             230             FAR_JSR #_DNM_OBJ_AREA_SIG2,R0                  ;振り子の場合の目標の待機点信号
 6240 00000002 D01E                   M           MOV.L   #_DNM_OBJ_AREA_SIG2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6241 00000004 400B                   M           JSR     @R0                     ;
 6242 00000006 0009                   M           NOP                                     ;
 6243                             231     
 6244                             232     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE     8
PROGRAM NAME =

 6245                             233     ;       ======= EMG ====
 6246 00000008 D61D               234             MOV.L   #_reset_flg,R6          ;
 6247 0000000A D51E               235             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6248 0000000C 6051               236             MOV.W   @R5,R0                  ;
 6249 0000000E D11E               237             MOV.L   #_ERR_LEV_IN2,R1        ;2010-12-10追加
 6250 00000010 6211               238             MOV.W   @R1,R2                  ;
 6251 00000012 202B               239             OR      R2,R0                   ;
 6252 00000014 D11D               240             MOV.L   #_ERR_LEV_IN3,R1        ;2010-12-10追加
 6253 00000016 6211               241             MOV.W   @R1,R2                  ;
 6254 00000018 202B               242             OR      R2,R0                   ;
 6255 0000001A D11D               243             MOV.L   #_ERR_LEV_IN4,R1        ;2010-12-10追加
 6256 0000001C 6211               244             MOV.W   @R1,R2                  ;
 6257 0000001E 202B               245             OR      R2,R0                   ;
 6258 00000020 D11C               246             MOV.L   #_ERR_LEV_IN5,R1        ;2010-12-10追加
 6259 00000022 6211               247             MOV.W   @R1,R2                  ;
 6260 00000024 202B               248             OR      R2,R0                   ;
 6261 00000026 2008               249             TST     R0,R0                   ;
 6262                             250             TST_BIT_OF RESET_CHK_100        ;
 6263 00000028 8909                   M           BT      RESET_CHK_100
 6264 0000002A D516               251             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6265 0000002C 200A               252             XOR     R0,R0                   ;
 6266 0000002E 2501               253             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6267 00000030 9122               254             MOV.W   #BIT0,R1                ;
 6268 00000032 2611               255             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6269                             256             PUSH_REG1 R6
 6270 00000034 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6271                                 M                                           ;REG=>[SP]
 6272                                 M                                           ;"-4" FF,FF,FF,FC
 6273                             257             FAR_JSR #_EMG_OUT,R0            ;
 6274 00000036 D018                   M           MOV.L   #_EMG_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6275 00000038 400B                   M           JSR     @R0                     ;
 6276 0000003A 0009                   M           NOP                                     ;
 6277                             258             POP_REG1 R6
 6278                                 M                                   ; RE"+4" 00,00,00,04
 6279 0000003C 66F6                   M           MOV.L   @R15+,R6        ;
 6280                             259     
 6281 0000003E                    260     RESET_CHK_100:                          ;==>ssa_cbmn.src
 6282                             261     
 6283                             262     ;       ======= EXQ ====
 6284 0000003E D517               263             MOV.L   #_exq_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6285 00000040 6051               264             MOV.W   @R5,R0                  ;
 6286 00000042 2008               265             TST     R0,R0                   ;
 6287                             266             TST_BIT_OF RESET_CHK_200        ;
 6288 00000044 8908                   M           BT      RESET_CHK_200
 6289 00000046 200A               267             XOR     R0,R0                   ;
 6290 00000048 2501               268             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6291 0000004A 9115               269             MOV.W   #BIT0,R1                ;
 6292 0000004C 2611               270             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6293                             271             PUSH_REG1 R6
 6294 0000004E 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6295                                 M                                           ;REG=>[SP]
 6296                                 M                                           ;"-4" FF,FF,FF,FC
 6297                             272             FAR_JSR #_EXQ_OUT,R0            ;
 6298 00000050 D013                   M           MOV.L   #_EXQ_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6299 00000052 400B                   M           JSR     @R0                     ;
 6300 00000054 0009                   M           NOP                                     ;
 6301                             273             POP_REG1 R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE     9
PROGRAM NAME =

 6302                                 M                                   ; RE"+4" 00,00,00,04
 6303 00000056 66F6                   M           MOV.L   @R15+,R6        ;
 6304                             274     
 6305 00000058                    275     RESET_CHK_200:                          ;==>ssa_cbmn.src
 6306                             276     
 6307 00000058 6061               277             MOV.W   @R6,R0                  ;
 6308 0000005A 2008               278             TST     R0,R0                   ;ﾘｾｯﾄ必要?
 6309                             279             TST_BIT_ON RESET_CHK_300        ;YES
 6310 0000005C 8B26                   M           BF      RESET_CHK_300
 6311                             280     
 6312 0000005E D111               281             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6313 00000060 6011               282             MOV.W   @R1,R0                  ;
 6314 00000062 D111               283             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
 6315 00000064 6211               284             MOV.W   @R1,R2                  ;
 6316 00000066 202B               285             OR      R2,R0                   ;
 6317 00000068 2008               286             TST     R0,R0                   ;
 6318                             287             TST_BIT_OF RESET_CHK_250                                        ;
 6319 0000006A 8903                   M           BT      RESET_CHK_250
 6320 0000006C 0009               288             NOP                                                             ;ﾊﾞｸﾞ?//SEQ_CHK_BI
                                          T作成
 6321                             289             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;ﾘｾｯﾄ必要
 6322 0000006E D104                   M           MOV.L   #_reset_flg,R1          ;
 6323 00000070 9202                   M           MOV.W   #BIT0,R2                ;
 6324 00000072 2121                   M           MOV.W   R2,@R1  ;
 6325                             290     
 6326 00000074                    291     RESET_CHK_250:                                                          ;
 6327                             292             M_BRA   RESET_CHK_EXT                                           ;
 6328 00000074 A0EC                   M           BRA     RESET_CHK_EXT
 6329 00000076 0009                   M           NOP
 6330                             293     
 6331                             294     ;       ===== ﾘｾｯﾄが必要な状態======
 6332                                     ***** BEGIN-POOL *****
 6333 00000078 0001                       DATA FOR SOURCE-LINE 254,269,289
 6334 0000007A 0000                       ALIGNMENT CODE
 6335 0000007C 00000000                   DATA FOR SOURCE-LINE 230
 6336 00000080 00000000                   DATA FOR SOURCE-LINE 234,289
 6337 00000084 00000000                   DATA FOR SOURCE-LINE 235,251
 6338 00000088 00000000                   DATA FOR SOURCE-LINE 237
 6339 0000008C 00000000                   DATA FOR SOURCE-LINE 240
 6340 00000090 00000000                   DATA FOR SOURCE-LINE 243
 6341 00000094 00000000                   DATA FOR SOURCE-LINE 246
 6342 00000098 00000000                   DATA FOR SOURCE-LINE 257
 6343 0000009C 00000000                   DATA FOR SOURCE-LINE 263
 6344 000000A0 00000000                   DATA FOR SOURCE-LINE 272
 6345 000000A4 00000000                   DATA FOR SOURCE-LINE 281
 6346 000000A8 00000000                   DATA FOR SOURCE-LINE 283
 6347                                     ***** END-POOL *****
 6348 000000AC                    295     RESET_CHK_300:                          ;
 6349                             296                                             ;BIT0:ﾘｾｯﾄ必要       :EMGならANTI:OFF出力
 6350                             297                                             ;BIT1:ﾘｾｯﾄONｴｯｼﾞ有り :RST出力 400
 6351                             298                                             ;BIT2:ﾘｾｯﾄOFF        :遅延開始 500
 6352                             299                                             ;
 6353 000000AC C804               300             TST     #BIT2,R0                ;
 6354                             301             TST_BIT_OF RESET_CHK_305        ;
 6355 000000AE 8901                   M           BT      RESET_CHK_305
 6356                             302             M_BRA   RESET_CHK_500           ;遅延完了待ち
 6357 000000B0 A0A2                   M           BRA     RESET_CHK_500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    10
PROGRAM NAME =

 6358 000000B2 0009                   M           NOP
 6359                             303     
 6360 000000B4                    304     RESET_CHK_305:                          ;
 6361 000000B4 C802               305             TST     #BIT1,R0                ;
 6362                             306             TST_BIT_ON RESET_CHK_400        ;ﾘｾｯﾄOFF待ち
 6363 000000B6 8B7F                   M           BF      RESET_CHK_400
 6364                             307     
 6365                             308             FAR_JSR #_DAT_MOSTPOS_SIG_CLR,R0
 6366 000000B8 D013                   M           MOV.L   #_DAT_MOSTPOS_SIG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6367 000000BA 400B                   M           JSR     @R0                     ;
 6368 000000BC 0009                   M           NOP                                     ;
 6369                             309             FAR_JSR #_ORG_END_SIG_CLR,R0
 6370 000000BE D013                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6371 000000C0 400B                   M           JSR     @R0                     ;
 6372 000000C2 0009                   M           NOP                                     ;
 6373                             310     
 6374                             311             FAR_JSR #_KJPHOS_SIG_CLR,R0     ;2004-07-05
 6375 000000C4 D012                   M           MOV.L   #_KJPHOS_SIG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6376 000000C6 400B                   M           JSR     @R0                     ;
 6377 000000C8 0009                   M           NOP                                     ;
 6378                             312             FAR_JSR #_LSA_ERRCLR_INI,R0     ;2006-07-16
 6379 000000CA D012                   M           MOV.L   #_LSA_ERRCLR_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6380 000000CC 400B                   M           JSR     @R0                     ;
 6381 000000CE 0009                   M           NOP                                     ;
 6382                             313             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6383 000000D0 D011                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6384 000000D2 400B                   M           JSR     @R0                     ;
 6385 000000D4 0009                   M           NOP                                     ;
 6386                             314     
 6387                             315     
 6388                             316     ;;;;    MOV.L   #_di1_cb_ctl1_on,R1     ;//
 6389 000000D6 D111               317             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼｰｹﾝｽがﾘｾ
                                          ｯﾄでｸﾘｱするため)
 6390 000000D8 6011               318             MOV.W   @R1,R0                  ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFしない)
 6391                             319     
 6392 000000DA 9414               320             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6393 000000DC 2048               321             TST     R4,R0                   ;ONｴｯｼﾞ
 6394                             322             TST_BIT_OF RESET_CHK_325        ;RESET_CHK_EXT  ;NO EXIT
 6395 000000DE 8910                   M           BT      RESET_CHK_325
 6396                             323     
 6397 000000E0 200A               324             XOR     R0,R0                           ;
 6398 000000E2 D50F               325             MOV.L   #_ORG_PRESET_TIM,R5             ;
 6399 000000E4 2501               326             MOV.W   R0,@R5                          ;
 6400                             327             FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;
 6401 000000E6 D00F                   M           MOV.L   #_NOW_POS_PRESET_OUTPLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6402 000000E8 400B                   M           JSR     @R0                     ;
 6403 000000EA 0009                   M           NOP                                     ;
 6404                             328     
 6405                             329             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;
 6406 000000EC D00E                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6407 000000EE 400B                   M           JSR     @R0                     ;
 6408 000000F0 0009                   M           NOP                                     ;
 6409                             330     
 6410                             331             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
 6411 000000F2 D00E                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6412 000000F4 400B                   M           JSR     @R0                     ;
 6413 000000F6 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    11
PROGRAM NAME =

 6414                             332     
 6415                             333             FAR_JSR #_RESET_CONF_CHK,R1     ;ANS R0 ﾘｾｯﾄ可能ですか？
 6416 000000F8 D10D                   M           MOV.L   #_RESET_CONF_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6417 000000FA 410B                   M           JSR     @R1                     ;
 6418 000000FC 0009                   M           NOP                                     ;
 6419 000000FE 2008               334             TST     R0,R0                   ;
 6420                             335             TST_BIT_OF RESET_CHK_330        ;R0!=0 ﾘｾｯﾄ開始不可
 6421 00000100 8918                   M           BT      RESET_CHK_330
 6422 00000102                    336     RESET_CHK_325
 6423                             337             M_BRA   RESET_CHK_EXT           ;
 6424 00000102 A0A5                   M           BRA     RESET_CHK_EXT
 6425 00000104 0009                   M           NOP
 6426                                     ***** BEGIN-POOL *****
 6427 00000106 8000                       DATA FOR SOURCE-LINE 320
 6428 00000108 00000000                   DATA FOR SOURCE-LINE 308
 6429 0000010C 00000000                   DATA FOR SOURCE-LINE 309
 6430 00000110 00000000                   DATA FOR SOURCE-LINE 311
 6431 00000114 00000000                   DATA FOR SOURCE-LINE 312
 6432 00000118 00000000                   DATA FOR SOURCE-LINE 313
 6433 0000011C 00000000                   DATA FOR SOURCE-LINE 317
 6434 00000120 00000000                   DATA FOR SOURCE-LINE 325
 6435 00000124 00000000                   DATA FOR SOURCE-LINE 327
 6436 00000128 00000000                   DATA FOR SOURCE-LINE 329
 6437 0000012C 00000000                   DATA FOR SOURCE-LINE 331
 6438 00000130 00000000                   DATA FOR SOURCE-LINE 333
 6439                                     ***** END-POOL *****
 6440 00000134                    338     RESET_CHK_330
 6441                             339     
 6442                             340     ;;      TST     R0,R0                   ;
 6443                             341     ;;      TST_BIT_ON RESET_CHK_EXT        ;R0!=0 ﾘｾｯﾄ開始不可
 6444                             342     
 6445                             343     
 6446                             344             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT1,WKREG=R6   ;bit-set
 6447 00000134 D610                   M           MOV.L   #_reset_flg,R6          ;
 6448 00000136 6061                   M           MOV.W   @R6,R0          ;
 6449 00000138 CB02                   M           OR      #BIT1,R0                ;
 6450 0000013A 2601                   M           MOV.W   R0,@R6          ;
 6451                             345             FAR_JSR #_RESET_ERR_SEQ_CLR,R0  ;移動しない
 6452 0000013C D00F                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6453 0000013E 400B                   M           JSR     @R0                     ;
 6454 00000140 0009                   M           NOP                                     ;
 6455                             346             FAR_JSR #_RESET_OUT,R0                                          ;
 6456 00000142 D00F                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6457 00000144 400B                   M           JSR     @R0                     ;
 6458 00000146 0009                   M           NOP                                     ;
 6459                             347             FAR_JSR #_RST_MOD_POS_START,R0
 6460 00000148 D00E                   M           MOV.L   #_RST_MOD_POS_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6461 0000014A 400B                   M           JSR     @R0                     ;
 6462 0000014C 0009                   M           NOP                                     ;
 6463                             348             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0
 6464 0000014E D00E                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6465 00000150 400B                   M           JSR     @R0                     ;
 6466 00000152 0009                   M           NOP                                     ;
 6467                             349             FAR_JSR #_IRQ_EMG_STP_CLR,R0    ;2004-04-04
 6468 00000154 D00D                   M           MOV.L   #_IRQ_EMG_STP_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6469 00000156 400B                   M           JSR     @R0                     ;
 6470 00000158 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    12
PROGRAM NAME =

 6471                             350     
 6472                             351     
 6473                             352     ;       === EXQではやらない処理=====
 6474                             353     ;;      .AIF    1 EQ 1  ;ﾌﾟﾛｸﾞﾗﾑ変更箇所(反転仕様以外の標準に入れる変更)
 6475 0000015A D10D               354             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6476 0000015C 6011               355             MOV.W   @R1,R0                  ;EMG
 6477 0000015E 2008               356             TST     R0,R0                   ;
 6478                             357             TST_BIT_OF RESET_CHK_350        ;
 6479 00000160 891E                   M           BT      RESET_CHK_350
 6480                             358             FAR_JSR #_LOT_SIG_FLG_CLR,R0    ;
 6481 00000162 D00C                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6482 00000164 400B                   M           JSR     @R0                     ;
 6483 00000166 0009                   M           NOP                                     ;
 6484                             359     
 6485 00000168 D10B               360             MOV.L   #_SELF_TIMING_SIG,R1    ;2006-04-10
 6486 0000016A 200A               361             XOR     R0,R0                   ;
 6487 0000016C 2101               362             MOV.W   R0,@R1                  ;
 6488                             363     
 6489                             364     ;       ---EMGのときだけｸﾘｱするように変更[EXQではﾀｲﾏを継続させる]----
 6490                             365             FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0     ;
 6491 0000016E D00B                   M           MOV.L   #_CYCLE_TIME_REFLASH_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6492 00000170 400B                   M           JSR     @R0                     ;
 6493 00000172 0009                   M           NOP                                     ;
 6494                             366     
 6495                             367     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策RESET_CHK_350:                               ;
 6496                             368     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策     M_BRA   RESET_CHK_EXT
 6497                             369     
 6498                             370             M_BRA   RESET_CHK_399           ;2016-04-15
 6499 00000174 A017                   M           BRA     RESET_CHK_399
 6500 00000176 0009                   M           NOP
 6501                             371     
 6502                             372     ;       -- 遮光時二重回路偏差オーバ対策---
 6503                             373     
 6504                                     ***** BEGIN-POOL *****
 6505 00000178 00000000                   DATA FOR SOURCE-LINE 344
 6506 0000017C 00000000                   DATA FOR SOURCE-LINE 345
 6507 00000180 00000000                   DATA FOR SOURCE-LINE 346
 6508 00000184 00000000                   DATA FOR SOURCE-LINE 347
 6509 00000188 00000000                   DATA FOR SOURCE-LINE 348
 6510 0000018C 00000000                   DATA FOR SOURCE-LINE 349
 6511 00000190 00000000                   DATA FOR SOURCE-LINE 354
 6512 00000194 00000000                   DATA FOR SOURCE-LINE 358
 6513 00000198 00000000                   DATA FOR SOURCE-LINE 360
 6514 0000019C 00000000                   DATA FOR SOURCE-LINE 365
 6515                                     ***** END-POOL *****
 6516 000001A0                    374     RESET_CHK_350:                          ;
 6517                             375     ;       ----- 2016-04-15 EXQ,遮光による行程違いのﾘｶﾊﾞﾘｰ処理-------
 6518                             376             FAR_JSR #_EXQ_PROC_STEP_RECOVER,R0      ;
 6519 000001A0 D003                   M           MOV.L   #_EXQ_PROC_STEP_RECOVER,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6520 000001A2 400B                   M           JSR     @R0                     ;
 6521 000001A4 0009                   M           NOP                                     ;
 6522                             377     
 6523 000001A6                    378     RESET_CHK_399:                                  ;
 6524                             379             FAR_JSR #_API_EXQ_STEP_FLGCLR,R0        ;
 6525 000001A6 D003                   M           MOV.L   #_API_EXQ_STEP_FLGCLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6526 000001A8 400B                   M           JSR     @R0                     ;
 6527 000001AA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    13
PROGRAM NAME =

 6528                             380             M_BRA   RESET_CHK_EXT
 6529 000001AC A050                   M           BRA     RESET_CHK_EXT
 6530 000001AE 0009                   M           NOP
 6531                             381     
 6532                             382     ;       ==== ﾘｾｯﾄOFF待ち ====
 6533                                     ***** BEGIN-POOL *****
 6534 000001B0 00000000                   DATA FOR SOURCE-LINE 376
 6535 000001B4 00000000                   DATA FOR SOURCE-LINE 379
 6536                                     ***** END-POOL *****
 6537 000001B8                    383     RESET_CHK_400:  ;ﾘｾｯﾄOFF待ち
 6538 000001B8 D10A               384             MOV.L   #_di1_cb_ctl1_dt,R1     ;//
 6539 000001BA 6011               385             MOV.W   @R1,R0                  ;
 6540 000001BC 9410               386             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6541 000001BE 2048               387             TST     R4,R0                   ;
 6542                             388             TST_BIT_ON RESET_CHK_EXT        ;ON継続
 6543 000001C0 8B46                   M           BF      RESET_CHK_EXT
 6544                             389     
 6545                             390     
 6546                             391             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT2,WKREG=R6   ;bit-set
 6547 000001C2 D609                   M           MOV.L   #_reset_flg,R6          ;
 6548 000001C4 6061                   M           MOV.W   @R6,R0          ;
 6549 000001C6 CB04                   M           OR      #BIT2,R0                ;
 6550 000001C8 2601                   M           MOV.W   R0,@R6          ;
 6551                             392             MEM1_DATA_SET MEM=_reset_dly_tim,LG=W,DATA=_RST_DLY_TM,WKREG1=R1,WKREG2=R2
 6552 000001CA D108                   M           MOV.L   #_reset_dly_tim,R1              ;
 6553 000001CC 9209                   M           MOV.W   #_RST_DLY_TM,R2         ;
 6554 000001CE 2121                   M           MOV.W   R2,@R1  ;
 6555                             393             FAR_JSR #_RESET_OUT,R0                                          ;
 6556 000001D0 D007                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6557 000001D2 400B                   M           JSR     @R0                     ;
 6558 000001D4 0009                   M           NOP                                     ;
 6559                             394             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6560 000001D6 D007                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6561 000001D8 400B                   M           JSR     @R0                     ;
 6562 000001DA 0009                   M           NOP                                     ;
 6563                             395             M_BRA   RESET_CHK_EXT
 6564 000001DC A038                   M           BRA     RESET_CHK_EXT
 6565 000001DE 0009                   M           NOP
 6566                             396     
 6567                             397     
 6568                             398     ;       ==== 遅延待ち ==
 6569                                     ***** BEGIN-POOL *****
 6570 000001E0 8000                       DATA FOR SOURCE-LINE 386
 6571 000001E2 00C8                       DATA FOR SOURCE-LINE 392
 6572 000001E4 00000000                   DATA FOR SOURCE-LINE 384
 6573 000001E8 00000000                   DATA FOR SOURCE-LINE 391
 6574 000001EC 00000000                   DATA FOR SOURCE-LINE 392
 6575 000001F0 00000000                   DATA FOR SOURCE-LINE 393
 6576 000001F4 00000000                   DATA FOR SOURCE-LINE 394
 6577                                     ***** END-POOL *****
 6578 000001F8                    399     RESET_CHK_500:  ;
 6579 000001F8 D11B               400             MOV.L   #_reset_dly_tim,R1
 6580 000001FA 6011               401             MOV.W   @R1,R0                                          ;
 6581 000001FC 2008               402             TST     R0,R0                                                   ;
 6582                             403             TST_BIT_ON RESET_CHK_EXT                                        ;
 6583 000001FE 8B27                   M           BF      RESET_CHK_EXT
 6584                             404     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    14
PROGRAM NAME =

 6585                             405             FAR_JSR #_RST_MOD_POS_END,R1
 6586 00000200 D11A                   M           MOV.L   #_RST_MOD_POS_END,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6587 00000202 410B                   M           JSR     @R1                     ;
 6588 00000204 0009                   M           NOP                                     ;
 6589                             406             FAR_JSR #_RESET_END_OUT,R1                                      ;
 6590 00000206 D11A                   M           MOV.L   #_RESET_END_OUT,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6591 00000208 410B                   M           JSR     @R1                     ;
 6592 0000020A 0009                   M           NOP                                     ;
 6593                             407             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;完了
 6594 0000020C D119                   M           MOV.L   #_reset_flg,R1          ;
 6595 0000020E 9227                   M           MOV.W   #0,R2           ;
 6596 00000210 2121                   M           MOV.W   R2,@R1  ;
 6597                             408     
 6598                             409     ;       -------- 2010-12-10 移動追加----
 6599                             410             FAR_JSR #_RESET_ERR_SEQ_CLR,R0
 6600 00000212 D019                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6601 00000214 400B                   M           JSR     @R0                     ;
 6602 00000216 0009                   M           NOP                                     ;
 6603                             411             FAR_JSR #_RESET_ERR_SEQ_CLR2,R0
 6604 00000218 D018                   M           MOV.L   #_RESET_ERR_SEQ_CLR2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6605 0000021A 400B                   M           JSR     @R0                     ;
 6606 0000021C 0009                   M           NOP                                     ;
 6607                             412     
 6608                             413     ;       === 2003-07-01 ====
 6609 0000021E D118               414             MOV.L   #_HIST_DAT_SEND_DIS,R1  ;//1:DISENABLE 0:ENABLE
 6610 00000220 200A               415             XOR     R0,R0                   ;
 6611 00000222 2101               416             MOV.W   R0,@R1                  ;
 6612                             417     
 6613 00000224 D117               418             MOV.L   #_TRD_CLR_CMD,R1        ;//01 CLR
 6614 00000226 901C               419             MOV.W   #1,R0                   ;
 6615 00000228 2101               420             MOV.W   R0,@R1                  ;CLR START
 6616                             421     
 6617                             422             FAR_JSR #_ERR_INFO_RST_CLR,R0
 6618 0000022A D017                   M           MOV.L   #_ERR_INFO_RST_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6619 0000022C 400B                   M           JSR     @R0                     ;
 6620 0000022E 0009                   M           NOP                                     ;
 6621                             423     
 6622                             424     ;       ----------- 2006-07-28 -------
 6623                             425             FAR_JSR #_TEPA_PLSCNT_CLR,R0
 6624 00000230 D016                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6625 00000232 400B                   M           JSR     @R0                     ;
 6626 00000234 0009                   M           NOP                                     ;
 6627                             426             FAR_JSR #_TEP_FLG_CLR,R0
 6628 00000236 D016                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6629 00000238 400B                   M           JSR     @R0                     ;
 6630 0000023A 0009                   M           NOP                                     ;
 6631                             427             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6632 0000023C D015                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6633 0000023E 400B                   M           JSR     @R0                     ;
 6634 00000240 0009                   M           NOP                                     ;
 6635                             428             FAR_JSR #_OVERLID_DEF_SET,R0    ;20060919
 6636 00000242 D015                   M           MOV.L   #_OVERLID_DEF_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6637 00000244 400B                   M           JSR     @R0                     ;
 6638 00000246 0009                   M           NOP                                     ;
 6639                             429     
 6640                             430     ;       ======= 描画用 ======
 6641                             431             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;再描画
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    15
PROGRAM NAME =

 6642 00000248 D114                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
 6643 0000024A 6011                   M           MOV.W   @R1,R0          ;
 6644 0000024C CB01                   M           OR      #BIT0,R0                ;
 6645 0000024E 2101                   M           MOV.W   R0,@R1          ;
 6646                             432     
 6647                             433     
 6648                             434     ;;;;;;  EMGのときだけｸﾘｱするように変更ため移動<2013-07-19>
 6649                             435     ;;;;;;  FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0                                     ;
 6650                             436     
 6651                             437     
 6652 00000250                    438     RESET_CHK_EXT:
 6653                             439     
 6654 00000250 D113               440             mov.l   #_pass_err_flg1,r1      ;//異常ﾙｰﾁﾝ
 6655 00000252 6011               441             mov.w   @r1,r0                  ;
 6656 00000254 9206               442             mov.w   #H'FF80,r2              ;BIT7~BIT15
 6657 00000256 202B               443             or      r2,r0                   ;
 6658 00000258 2101               444             mov.w   r0,@r1                  ;
 6659                             445             SUB_END
 6660                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6661 0000025A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6662                             446             M_RTS
 6663 0000025C 000B                   M           RTS                             ;RTSの後ろの
 6664 0000025E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6665                             447     
 6666                             448     ;       ***********************************
 6667                             449     ;       ***                             ***
 6668                             450     ;       ***     ﾘｾｯﾄ可能条件            ***
 6669                             451     ;       ***                             ***
 6670                             452     ;       ***                             ***
 6671                             453     ;       ***********************************
 6672                             454     ;
 6673                             455     ;
 6674                                     ***** BEGIN-POOL *****
 6675 00000260 0000                       DATA FOR SOURCE-LINE 407
 6676 00000262 0001                       DATA FOR SOURCE-LINE 419
 6677 00000264 FF80                       DATA FOR SOURCE-LINE 442
 6678 00000266 0000                       ALIGNMENT CODE
 6679 00000268 00000000                   DATA FOR SOURCE-LINE 400
 6680 0000026C 00000000                   DATA FOR SOURCE-LINE 405
 6681 00000270 00000000                   DATA FOR SOURCE-LINE 406
 6682 00000274 00000000                   DATA FOR SOURCE-LINE 407
 6683 00000278 00000000                   DATA FOR SOURCE-LINE 410
 6684 0000027C 00000000                   DATA FOR SOURCE-LINE 411
 6685 00000280 00000000                   DATA FOR SOURCE-LINE 414
 6686 00000284 00000000                   DATA FOR SOURCE-LINE 418
 6687 00000288 00000000                   DATA FOR SOURCE-LINE 422
 6688 0000028C 00000000                   DATA FOR SOURCE-LINE 425
 6689 00000290 00000000                   DATA FOR SOURCE-LINE 426
 6690 00000294 00000000                   DATA FOR SOURCE-LINE 427
 6691 00000298 00000000                   DATA FOR SOURCE-LINE 428
 6692 0000029C 00000000                   DATA FOR SOURCE-LINE 431
 6693 000002A0 00000000                   DATA FOR SOURCE-LINE 440
 6694                                     ***** END-POOL *****
 6695 000002A4                    456             .ALIGN  4                               ;
 6696 000002A4                    457     _RESET_CONF_CHK:
 6697                             458             SUB_START
 6698 000002A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    16
PROGRAM NAME =

 6699                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6700                             459     
 6701                             460     ;---2011-09-20 ﾌﾞﾚｰｷﾓｰﾄﾞSW-ONでは安全一行程か原点復帰のみ
 6702 000002A6 D108               461             MOV.L   #_BRKTST_SW_IN,R1                               ;
 6703 000002A8 6011               462             MOV.W   @R1,R0                                          ;
 6704 000002AA C801               463             TST     #BIT0,R0                                        ;
 6705                             464             TST_BIT_OF RST_CONFCK_010                               ;
 6706 000002AC 8912                   M           BT      RST_CONFCK_010
 6707                             465     
 6708 000002AE D107               466             MOV.L   #_INP_MODE,R1                           ;
 6709 000002B0 6011               467             MOV.W   @R1,R0                                  ;
 6710 000002B2 C840               468             TST     #_W1DUP,R0                              ;
 6711                             469             TST_BIT_ON RST_CONFCK_010                       ;
 6712 000002B4 8B0E                   M           BF      RST_CONFCK_010
 6713                             470     
 6714 000002B6 C804               471             TST     #_W1SGL,R0                                      ;
 6715                             472             TST_BIT_OF RST_CONFCK_005                               ;
 6716 000002B8 8904                   M           BT      RST_CONFCK_005
 6717                             473     
 6718                             474     ;-------- 安全一----------
 6719 000002BA D105               475             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 6720 000002BC 6011               476             MOV.W   @R1,R0                                          ;
 6721 000002BE C97F               477             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 6722                             478     
 6723 000002C0 C810               479             TST     #_W1OPT,R0                                      ;OPTION?
 6724                             480             TST_BIT_OF RST_CONFCK_010                               ;NO ちゃんとした安全一
 6725 000002C2 8907                   M           BT      RST_CONFCK_010
 6726 000002C4                    481     RST_CONFCK_005
 6727                             482             M_BRA   RST_CONFCK_NG                                   ;
 6728 000002C4 A0B0                   M           BRA     RST_CONFCK_NG
 6729 000002C6 0009                   M           NOP
 6730                             483     
 6731                                     ***** BEGIN-POOL *****
 6732 000002C8 00000000                   DATA FOR SOURCE-LINE 461
 6733 000002CC 00000000                   DATA FOR SOURCE-LINE 466
 6734 000002D0 00000000                   DATA FOR SOURCE-LINE 475
 6735                                     ***** END-POOL *****
 6736 000002D4                    484     RST_CONFCK_010
 6737                             485     
 6738                             486     ;       ----------------------------------------------
 6739                             487             _MONI_RESET_SET SETNO=1,SETREG=R0,WKREG=R1      ;2014-09-13
 6740 000002D4 9027                   M           MOV.W   #1,R0
 6741 000002D6 D117                   M           MOV.L   #_MONI_RESET_STEP,R1
 6742 000002D8 2101                   M           MOV.W   R0,@R1
 6743                             488     
 6744 000002DA D117               489             MOV.L   #_INP_MODE,R1           ;
 6745 000002DC 6011               490             MOV.W   @R1,R0                  ;
 6746 000002DE C801               491             TST     #_W1OFF,R0              ;
 6747                             492             TST_BIT_ON RST_CONFCK_NG70      ;[切]
 6748 000002E0 8B7E                   M           BF      RST_CONFCK_NG70
 6749                             493     
 6750                             494     ;       ======= 安全装置ﾁｪｯｸ ==============
 6751 000002E2 D116               495             MOV.L   #_SFTY_IN_DAT,R1        ;
 6752 000002E4 6011               496             MOV.W   @R1,R0                  ;有効・無効のSWのみ
 6753 000002E6 C803               497             TST     #(BIT1+BIT0),R0
 6754                             498             TST_BIT_ON RST_CONFCK_NG70      ;
 6755 000002E8 8B7A                   M           BF      RST_CONFCK_NG70
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    17
PROGRAM NAME =

 6756                             499     
 6757                             500     ;       ----------------------------------------------
 6758                             501             _MONI_RESET_SET SETNO=2,SETREG=R0,WKREG=R1      ;2014-09-13
 6759 000002EA 901D                   M           MOV.W   #2,R0
 6760 000002EC D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 6761 000002EE 2101                   M           MOV.W   R0,@R1
 6762                             502     
 6763                             503     ;-----EMGのswは見る 340.0は見ない---
 6764 000002F0 D113               504             MOV.L   #_di3_cb_inp1,R1                ;//+0:EMG1,EMG2 BIT1,BIT0
 6765                             505     ;;;340.0のor    MOV.L   #_di3_cb_inp1_dt,R1     ;//制御に使用するのは_dt(相手側の遮光も)
 6766 000002F2 6011               506             MOV.W   @R1,R0                  ;
 6767 000002F4 C803               507             TST     #(BIT1+BIT0),R0         ;EMG?
 6768                             508             TST_BIT_ON RST_CONFCK_NG70
 6769 000002F6 8B73                   M           BF      RST_CONFCK_NG70
 6770                             509     
 6771                             510             _MONI_RESET_SET SETNO=3,SETREG=R0,WKREG=R1      ;2014-09-13
 6772 000002F8 9017                   M           MOV.W   #3,R0
 6773 000002FA D10E                   M           MOV.L   #_MONI_RESET_STEP,R1
 6774 000002FC 2101                   M           MOV.W   R0,@R1
 6775                             511     
 6776 000002FE D10E               512             MOV.L   #_INP_MODE,R1           ;
 6777 00000300 6011               513             MOV.W   @R1,R0                  ;
 6778 00000302 9113               514             MOV.W   #(_W1DUP),R1            ;[原点復帰]
 6779 00000304 2018               515             TST     R1,R0                   ;
 6780                             516             TST_BIT_ON RST_CONFCK_015_OK    ;何でもOK
 6781 00000306 8B0C                   M           BF      RST_CONFCK_015_OK
 6782                             517     
 6783                             518     ;       === 段取は回転の場合は動作可能 ===
 6784 00000308 9111               519             MOV.W   #(_W1DIC),R1                    ;
 6785 0000030A 2018               520             TST     R1,R0                           ;
 6786                             521             TST_BIT_OF RST_CONFCK_020               ;[段取寸動]
 6787 0000030C 891C                   M           BT      RST_CONFCK_020
 6788                             522     
 6789                             523             _MONI_RESET_SET SETNO=4,SETREG=R0,WKREG=R1      ;2014-09-13
 6790 0000030E 900F                   M           MOV.W   #4,R0
 6791 00000310 D108                   M           MOV.L   #_MONI_RESET_STEP,R1
 6792 00000312 2101                   M           MOV.W   R0,@R1
 6793                             524     
 6794 00000314 D50B               525             MOV.L   #_ORG_DND_NOMAL_FLG1,R5         ;段取動作はOK(POWER-ON/)
 6795 00000316 6651               526             MOV.W   @R5,R6                          ;0異常
 6796 00000318 2668               527             TST     R6,R6                           ;
 6797                             528             TST_BIT_OF RST_CONFCK_NG70              ;
 6798 0000031A 8961                   M           BT      RST_CONFCK_NG70
 6799                             529             _MONI_RESET_SET SETNO=5,SETREG=R0,WKREG=R1      ;2014-09-13
 6800 0000031C 9009                   M           MOV.W   #5,R0
 6801 0000031E D105                   M           MOV.L   #_MONI_RESET_STEP,R1
 6802 00000320 2101                   M           MOV.W   R0,@R1
 6803                             530     
 6804 00000322                    531     RST_CONFCK_015_OK:
 6805                             532             M_BRA   RST_CONFCK_OK                   ;
 6806 00000322 A084                   M           BRA     RST_CONFCK_OK
 6807 00000324 0009                   M           NOP
 6808                             533     
 6809                             534     
 6810                                     ***** BEGIN-POOL *****
 6811 00000326 0001                       DATA FOR SOURCE-LINE 487
 6812 00000328 0002                       DATA FOR SOURCE-LINE 501
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    18
PROGRAM NAME =

 6813 0000032A 0003                       DATA FOR SOURCE-LINE 510
 6814 0000032C 0040                       DATA FOR SOURCE-LINE 514
 6815 0000032E 0020                       DATA FOR SOURCE-LINE 519
 6816 00000330 0004                       DATA FOR SOURCE-LINE 523
 6817 00000332 0005                       DATA FOR SOURCE-LINE 529
 6818 00000334 00000000                   DATA FOR SOURCE-LINE 487,501,510,523,529
 6819 00000338 00000000                   DATA FOR SOURCE-LINE 489,512
 6820 0000033C 00000000                   DATA FOR SOURCE-LINE 495
 6821 00000340 00000000                   DATA FOR SOURCE-LINE 504
 6822 00000344 00000000                   DATA FOR SOURCE-LINE 525
 6823                                     ***** END-POOL *****
 6824 00000348                    535     RST_CONFCK_020:
 6825                             536             _MONI_RESET_SET SETNO=6,SETREG=R0,WKREG=R1      ;2014-09-13
 6826 00000348 901D                   M           MOV.W   #6,R0
 6827 0000034A D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 6828 0000034C 2101                   M           MOV.W   R0,@R1
 6829                             537     
 6830                             538     ;       ===== (設定異常・原点復帰未完了)==
 6831 0000034E D511               539             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//段取りok,原点動作以外動作禁止 0:異常 1:
                                          OK
 6832 00000350 6651               540             MOV.W   @R5,R6                          ;0異常
 6833 00000352 2668               541             TST     R6,R6                           ;
 6834                             542             TST_BIT_OF RST_CONFCK_NG70              ;
 6835 00000354 8944                   M           BT      RST_CONFCK_NG70
 6836                             543     
 6837                             544             _MONI_RESET_SET SETNO=7,SETREG=R0,WKREG=R1      ;2014-09-13
 6838 00000356 9017                   M           MOV.W   #7,R0
 6839 00000358 D10D                   M           MOV.L   #_MONI_RESET_STEP,R1
 6840 0000035A 2101                   M           MOV.W   R0,@R1
 6841                             545     
 6842                             546     
 6843                             547     ;;;2003-07-14   ===== (設定異常・原点復帰未完了)==
 6844                             548     ;;;     MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//原点動作以外動作禁止 0:異常 1:OK
 6845                             549     ;;;     MOV.W   @R5,R6                          ;0異常
 6846                             550     ;;;     TST     R6,R6                           ;
 6847                             551     ;;;     TST_BIT_OF RST_CONFCK_NG                ;
 6848                             552     
 6849                             553     ;;;     MOV.W   #(_W1DIC),R1                    ;
 6850                             554     ;;;     TST     R1,R0                           ;
 6851                             555     ;;;     TST_BIT_ON RST_CONFCK_OK                ;
 6852                             556     
 6853                             557     ;       ==== 待機点ｴﾘｱか-->待機点選出=====
 6854 0000035C                    558     RST_CONFCK_050:
 6855 0000035C D10E               559             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
 6856 0000035E 6011               560             MOV.W   @R1,R0                          ;
 6857 00000360 2008               561             TST     R0,R0                           ;
 6858                             562             TST_BIT_OF RST_CONFCK_OK                ;EXQの場合
 6859 00000362 8964                   M           BT      RST_CONFCK_OK
 6860                             563     
 6861                             564             _MONI_RESET_SET SETNO=8,SETREG=R0,WKREG=R1      ;2014-09-13
 6862 00000364 9011                   M           MOV.W   #8,R0
 6863 00000366 D10A                   M           MOV.L   #_MONI_RESET_STEP,R1
 6864 00000368 2101                   M           MOV.W   R0,@R1
 6865                             565     
 6866                             566     ;       ===     2011-09-14      ===
 6867 0000036A D10C               567             MOV.L   #_BRKTST_INPUT_CMD,R1   ;//安全一行程の試験モード指定時BIT0=ON
 6868 0000036C 6011               568             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    19
PROGRAM NAME =

 6869 0000036E C801               569             TST     #BIT0,R0                ;
 6870                             570             TST_BIT_ON RST_CONFCK_BRK100    ;[]
 6871 00000370 8B4C                   M           BF      RST_CONFCK_BRK100
 6872                             571     ;       ===========================
 6873                             572     
 6874                             573             _MONI_RESET_SET SETNO=9,SETREG=R0,WKREG=R1      ;2014-09-13
 6875 00000372 900B                   M           MOV.W   #9,R0
 6876 00000374 D106                   M           MOV.L   #_MONI_RESET_STEP,R1
 6877 00000376 2101                   M           MOV.W   R0,@R1
 6878                             574     
 6879                             575     
 6880                             576     
 6881                             577     ;       =====2014-09-25 ====================
 6882                             578             FAR_JSR #_INC_RSTMODE_CHK,R0
 6883 00000378 D009                   M           MOV.L   #_INC_RSTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6884 0000037A 400B                   M           JSR     @R0                     ;
 6885 0000037C 0009                   M           NOP                                     ;
 6886 0000037E 2008               579             TST     R0,R0                   ;
 6887                             580             TST_BIT_OF RST_CONFCK_055       ;通常ｿﾌﾄで判定して[待機点です]
 6888 00000380 8910                   M           BT      RST_CONFCK_055
 6889                             581             M_BRA   RST_CONFCK_OK           ;
 6890 00000382 A054                   M           BRA     RST_CONFCK_OK
 6891 00000384 0009                   M           NOP
 6892                             582     
 6893                             583     
 6894                                     ***** BEGIN-POOL *****
 6895 00000386 0006                       DATA FOR SOURCE-LINE 536
 6896 00000388 0007                       DATA FOR SOURCE-LINE 544
 6897 0000038A 0008                       DATA FOR SOURCE-LINE 564
 6898 0000038C 0009                       DATA FOR SOURCE-LINE 573
 6899 0000038E 0000                       ALIGNMENT CODE
 6900 00000390 00000000                   DATA FOR SOURCE-LINE 536,544,564,573
 6901 00000394 00000000                   DATA FOR SOURCE-LINE 539
 6902 00000398 00000000                   DATA FOR SOURCE-LINE 559
 6903 0000039C 00000000                   DATA FOR SOURCE-LINE 567
 6904 000003A0 00000000                   DATA FOR SOURCE-LINE 578
 6905                                     ***** END-POOL *****
 6906 000003A4                    584     RST_CONFCK_055:
 6907                             585     
 6908                             586     
 6909                             587     ;       === 待機点だ！ ==== ﾘｾｯﾄ時の待機点ｹﾞｯﾄ====
 6910                             588     ;       ------- 2014-09-18-------
 6911 000003A4 D107               589             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
 6912 000003A6 6011               590             MOV.W   @R1,R0                                  ;
 6913 000003A8 C804               591             TST     #(_DMATH_DNDRIV),R0                     ;
 6914                             592             TST_BIT_OF RST_CONFCK_080                       ;
 6915 000003AA 8921                   M           BT      RST_CONFCK_080
 6916                             593     
 6917 000003AC D406               594             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
 6918 000003AE 6041               595             MOV.W   @R4,R0
 6919 000003B0 C810               596             TST     #BIT4,R0                                ;左側
 6920                             597             TST_BIT_ON RST_CONFCK_OK                        ;OK 初期値動作
 6921 000003B2 8B3C                   M           BF      RST_CONFCK_OK
 6922                             598     
 6923 000003B4 C880               599             TST     #BIT7,R0                                ;
 6924                             600             TST_BIT_ON RST_CONFCK_060                       ;逆側
 6925 000003B6 8B0B                   M           BF      RST_CONFCK_060
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    20
PROGRAM NAME =

 6926                             601             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 6927 000003B8 9003                   M           MOV.W   #10,R0
 6928 000003BA D104                   M           MOV.L   #_MONI_RESET_STEP,R1
 6929 000003BC 2101                   M           MOV.W   R0,@R1
 6930                             602             M_BRA   RST_CONFCK_NG                           ;
 6931 000003BE A033                   M           BRA     RST_CONFCK_NG
 6932 000003C0 0009                   M           NOP
 6933                             603     
 6934                             604     
 6935                                     ***** BEGIN-POOL *****
 6936 000003C2 000A                       DATA FOR SOURCE-LINE 601
 6937 000003C4 00000000                   DATA FOR SOURCE-LINE 589
 6938 000003C8 00000000                   DATA FOR SOURCE-LINE 594
 6939 000003CC 00000000                   DATA FOR SOURCE-LINE 601
 6940                                     ***** END-POOL *****
 6941 000003D0                    605     RST_CONFCK_060:
 6942                             606             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
 6943 000003D0 D002                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6944 000003D2 400B                   M           JSR     @R0                     ;
 6945 000003D4 0009                   M           NOP                                     ;
 6946                             607             M_BRA   RST_CONFCK_OK                           ;
 6947 000003D6 A02A                   M           BRA     RST_CONFCK_OK
 6948 000003D8 0009                   M           NOP
 6949                             608     
 6950                             609     
 6951                             610     ;       --2014-09-25-------------------------------------
 6952                                     ***** BEGIN-POOL *****
 6953 000003DA 0000                       ALIGNMENT CODE
 6954 000003DC 00000000                   DATA FOR SOURCE-LINE 606
 6955                                     ***** END-POOL *****
 6956 000003E0                    611     RST_CONFCK_NG70:
 6957                             612             _MONI_RESET_SET SETNO=11,SETREG=R0,WKREG=R1     ;
 6958 000003E0 9003                   M           MOV.W   #11,R0
 6959 000003E2 D102                   M           MOV.L   #_MONI_RESET_STEP,R1
 6960 000003E4 2101                   M           MOV.W   R0,@R1
 6961                             613             M_BRA   RST_CONFCK_NG                           ;
 6962 000003E6 A01F                   M           BRA     RST_CONFCK_NG
 6963 000003E8 0009                   M           NOP
 6964                             614     
 6965                             615     ;       ----------------------------------------------------
 6966                                     ***** BEGIN-POOL *****
 6967 000003EA 000B                       DATA FOR SOURCE-LINE 612
 6968 000003EC 00000000                   DATA FOR SOURCE-LINE 612
 6969                                     ***** END-POOL *****
 6970 000003F0                    616     RST_CONFCK_080:
 6971 000003F0 D404               617             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
 6972 000003F2 6041               618             MOV.W   @R4,R0                                  ;
 6973 000003F4 C810               619             TST     #BIT4,R0                                ;
 6974                             620             TST_BIT_ON RST_CONFCK_OK                        ;
 6975 000003F6 8B1A                   M           BF      RST_CONFCK_OK
 6976                             621                                                             ;
 6977                             622             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 6978 000003F8 9003                   M           MOV.W   #10,R0
 6979 000003FA D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 6980 000003FC 2101                   M           MOV.W   R0,@R1
 6981                             623             M_BRA   RST_CONFCK_NG                           ;2011-09-14 ADD
 6982 000003FE A013                   M           BRA     RST_CONFCK_NG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    21
PROGRAM NAME =

 6983 00000400 0009                   M           NOP
 6984                             624     
 6985                             625     ;       -- 2011-09-14 ADD--
 6986                                     ***** BEGIN-POOL *****
 6987 00000402 000A                       DATA FOR SOURCE-LINE 622
 6988 00000404 00000000                   DATA FOR SOURCE-LINE 617
 6989 00000408 00000000                   DATA FOR SOURCE-LINE 622
 6990                                     ***** END-POOL *****
 6991 0000040C                    626     RST_CONFCK_BRK100:
 6992 0000040C D404               627             MOV.L   #_BRKTST_AREA_SIG,R4                    ;//BIT0/BIT4:待機点範囲
 6993 0000040E 6041               628             MOV.W   @R4,R0                                  ;//BIT1:下降(上昇信号はない)
 6994 00000410 C810               629             TST     #BIT4,R0                                ;
 6995                             630             TST_BIT_ON RST_CONFCK_OK                        ;
 6996 00000412 8B0C                   M           BF      RST_CONFCK_OK
 6997                             631     
 6998                             632             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 6999 00000414 9003                   M           MOV.W   #10,R0
 7000 00000416 D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 7001 00000418 2101                   M           MOV.W   R0,@R1
 7002                             633             M_BRA   RST_CONFCK_NG                           ;
 7003 0000041A A005                   M           BRA     RST_CONFCK_NG
 7004 0000041C 0009                   M           NOP
 7005                             634     
 7006                             635     
 7007                             636     
 7008                                     ***** BEGIN-POOL *****
 7009 0000041E 000A                       DATA FOR SOURCE-LINE 632
 7010 00000420 00000000                   DATA FOR SOURCE-LINE 627
 7011 00000424 00000000                   DATA FOR SOURCE-LINE 632
 7012                                     ***** END-POOL *****
 7013 00000428                    637     RST_CONFCK_NG:
 7014 00000428 E0FF               638             MOV     #-1,R0
 7015                             639             M_BRA   RST_CONFCK_END
 7016 0000042A A001                   M           BRA     RST_CONFCK_END
 7017 0000042C 0009                   M           NOP
 7018 0000042E                    640     RST_CONFCK_OK:
 7019 0000042E 200A               641             XOR     R0,R0                           ;ﾘｾｯﾄ可能
 7020 00000430                    642     RST_CONFCK_END:
 7021                             643             SUB_END
 7022                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7023 00000430 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7024                             644             M_RTS
 7025 00000432 000B                   M           RTS                             ;RTSの後ろの
 7026 00000434 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7027                             645     
 7028                             646     
 7029                             647     ;       *******************************************
 7030                             648     ;       ***                                     ***
 7031                             649     ;       ***     モード変更                      ***
 7032                             650     ;       ***     (ﾘｾｯﾄ中だけでも良い)            ***
 7033                             651     ;       *******************************************
 7034                             652     ;       INP_MODE(ﾘｾｯﾄ条件に必要)=MODE_SEL INP_MODE=>MODE_SEL
 7035                             653     ;       BIT0:切
 7036                             654     ;       BIT1:寸動・寸動一行程
 7037                             655     ;       BIT2:安全一行程・OPTION安全一行程・一行程
 7038                             656     ;       BIT3:連続・連続ﾀｲﾏ・ｶｳﾝﾀ、連続寸動一行程、連続一行程
 7039                             657     ;       BIT4:OPTION
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    22
PROGRAM NAME =

 7040                             658     ;       BIT5:段取()
 7041                             659     ;       BIT6:強制上昇（待機点復帰）
 7042                             660     ;
 7043                             661     ;       BIT8:連続ﾀｲﾏ(BIT3=1)/寸動一行程(BIT1=1)
 7044                             662     ;       BIT9:連続ｶｳﾝﾀ(BIT3=1)
 7045                             663     ;       BIT10:一行程(BIT2=1)
 7046                             664     ;       BIT11:連続一行程(BIT4=1)
 7047                             665     ;       BIT12:連続寸動一行程(BIT4=1)
 7048                             666     ;       BIT13:
 7049                             667     ;       BIT14
 7050                             668     ;       BIT15
 7051                             669     ;
 7052                             670     ;
 7053 00000438                    671             .ALIGN  4                               ;
 7054 00000438                    672     _MODE_CHANGE:           ;==>ssa_cbmn.src
 7055                             673             SUB_START
 7056 00000438 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7057                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7058                             674     ;       U2b     INP_MODE;       //入力　ﾘｾｯﾄ条件に使用 INP_MODE-->MODE_SEL
 7059                             675     ;       U2b     MODE_SEL;       //ﾘｾｯﾄ時に決定
 7060                             676     ;                               //bit0:切 bit1寸動 bit2:安一(sgl,opt) bit3:連続 bit4:opt b
                                          it5:段取 bit6:待機点復帰
 7061                             677     ;                               //まずbit0~bit7のいずれかがonする　選択未は切(bit0)
 7062                             678     ;                               //bit8~bit15:詳細情報
 7063                             679     ;;;     MOV.L   #_reset_flg,R6                                  ;
 7064                             680     ;;;     MOV.W   @R6,R0                                          ;
 7065                             681     ;;;     TST     R0,R0                                           ;ﾘｾｯﾄ中?
 7066                             682     ;;;     TST_BIT_OF MODE_CHG_EXT                                 ;
 7067                             683     
 7068 0000043A D10B               684             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 7069 0000043C 6011               685             MOV.W   @R1,R0                                          ;
 7070 0000043E C97F               686             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 7071                             687     
 7072 00000440 2008               688             TST     R0,R0                                   ;モード選択なし
 7073                             689             TST_BIT_ON MODE_CHG_050                         ;
 7074 00000442 8B00                   M           BF      MODE_CHG_050
 7075 00000444 CB01               690             OR      #_W1OFF,R0                              ;切
 7076 00000446                    691     MODE_CHG_050:                                           ;(複数個は異常だからここではみない
                                          )
 7077                             692     
 7078 00000446 C801               693             TST     #_W1OFF,R0
 7079                             694             TST_BIT_ON MODE_CHG_800                         ;切
 7080 00000448 8B5D                   M           BF      MODE_CHG_800
 7081                             695     
 7082 0000044A C810               696             TST     #_W1OPT,R0                              ;OPTION?
 7083                             697             TST_BIT_OF MODE_CHG_100                         ;
 7084 0000044C 893E                   M           BT      MODE_CHG_100
 7085                             698     
 7086                             699     ;       ==== OPTION ======(BIT10:一行程 BIT11:連続寸動 BIT12:連寸一 BIT13(安一))
 7087 0000044E D107               700             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7088 00000450 6211               701             MOV.W   @R1,R2                                  ;
 7089 00000452 9306               702             MOV.W   #(BIT14+BIT13+BIT12+BIT11+BIT10),R3     ;
 7090 00000454 2239               703             AND     R3,R2                                   ;
 7091 00000456 2228               704             TST     R2,R2                                   ;
 7092                             705             TST_BIT_ON MODE_CHG_080                         ;(NO 安全一行程以外)
 7093 00000458 8B0A                   M           BF      MODE_CHG_080
 7094                             706     ;       === 選択なし===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    23
PROGRAM NAME =

 7095 0000045A 9003               707             MOV.W   #_W1OFF,R0                              ;切
 7096 0000045C 222A               708             XOR     R2,R2                                   ;
 7097                             709             M_BRA   MODE_CHG_800                            ;
 7098 0000045E A052                   M           BRA     MODE_CHG_800
 7099 00000460 0009                   M           NOP
 7100                             710     
 7101                             711     
 7102                             712     ;       =====選択があれば安全一行程か一行程====
 7103                             713     ;       =====選択があれば安全一行程か一行程か連寸一か連続一行程====
 7104                                     ***** BEGIN-POOL *****
 7105 00000462 7C00                       DATA FOR SOURCE-LINE 702
 7106 00000464 0001                       DATA FOR SOURCE-LINE 707
 7107 00000466 0000                       ALIGNMENT CODE
 7108 00000468 00000000                   DATA FOR SOURCE-LINE 684
 7109 0000046C 00000000                   DATA FOR SOURCE-LINE 700
 7110                                     ***** END-POOL *****
 7111 00000470                    714     MODE_CHG_080:
 7112                             715     ;;2003-05-24 一行程追加 MOV.W   #BIT13,R3                               ;安全一行程
 7113                             716     ;;              XOR     R2,R2                                   ;
 7114                             717     ;;              MOV.W   #_W1SGL,R0                              ;安全一行程に変更
 7115                             718     ;;              M_BRA   MODE_CHG_800                            ;
 7116                             719     
 7117                             720     ;       ==== 2003-05-24 =====
 7118 00000470 9310               721             MOV.W   #BIT13,R3                                       ;安全一行程
 7119 00000472 2238               722             TST     R3,R2                                           ;
 7120                             723             TST_BIT_ON MODE_CHG_080_SGL                             ;
 7121 00000474 8B1E                   M           BF      MODE_CHG_080_SGL
 7122                             724     
 7123 00000476 930E               725             MOV.W   #BIT10,R3                                       ;一行程
 7124 00000478 2238               726             TST     R3,R2                                           ;
 7125                             727             TST_BIT_ON MODE_CHG_080_SNG                             ;
 7126 0000047A 8B20                   M           BF      MODE_CHG_080_SNG
 7127                             728     
 7128                             729     ;       ==== 2004-01-26
 7129 0000047C D107               730             MOV.L   #_WFSYS_OPT_CNT_SEL,R1                          ;
 7130 0000047E 6011               731             MOV.W   @R1,R0                                          ;
 7131 00000480 8801               732             CMP/EQ  #1,R0                                           ;連寸一有効?
 7132 00000482 8B12               733             BF      MODE_CHG_OPT090                                 ;
 7133                             734     
 7134 00000484 9308               735             MOV.W   #BIT11,R3                                       ;連続一行程
 7135 00000486 2238               736             TST     R3,R2                                           ;
 7136                             737             TST_BIT_ON MODE_CHG_OPT050                              ;
 7137 00000488 8B0A                   M           BF      MODE_CHG_OPT050
 7138                             738     
 7139 0000048A 9306               739             MOV.W   #BIT12,R3                                       ;連寸一行程
 7140 0000048C 2238               740             TST     R3,R2                                           ;
 7141                             741             TST_BIT_ON MODE_CHG_OPT050                              ;
 7142 0000048E 8B07                   M           BF      MODE_CHG_OPT050
 7143                             742             M_BRA   MODE_CHG_OPT090                                 ;
 7144 00000490 A00B                   M           BRA     MODE_CHG_OPT090
 7145 00000492 0009                   M           NOP
 7146                             743     
 7147                                     ***** BEGIN-POOL *****
 7148 00000494 2000                       DATA FOR SOURCE-LINE 721
 7149 00000496 0400                       DATA FOR SOURCE-LINE 725
 7150 00000498 0800                       DATA FOR SOURCE-LINE 735
 7151 0000049A 1000                       DATA FOR SOURCE-LINE 739
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    24
PROGRAM NAME =

 7152 0000049C 00000000                   DATA FOR SOURCE-LINE 730
 7153                                     ***** END-POOL *****
 7154 000004A0                    744     MODE_CHG_OPT050
 7155 000004A0 9002               745             MOV.W   #_W1CNT,R0                                      ;連続の運転の部類にいれる
 7156 000004A2 203B               746             OR      R3,R0                                           ;BIT11orBIT12
 7157                             747             M_BRA   MODE_CHG_800                                    ;
 7158 000004A4 A02F                   M           BRA     MODE_CHG_800
 7159 000004A6 0009                   M           NOP
 7160                             748     
 7161                             749     ;       === 選択なしと同じ扱い===
 7162                                     ***** BEGIN-POOL *****
 7163 000004A8 0008                       DATA FOR SOURCE-LINE 745
 7164                                     ***** END-POOL *****
 7165 000004AA                    750     MODE_CHG_OPT090
 7166 000004AA 9002               751             MOV.W   #_W1OFF,R0                                      ;切
 7167 000004AC 222A               752             XOR     R2,R2                                           ;
 7168                             753             M_BRA   MODE_CHG_800                                    ;
 7169 000004AE A02A                   M           BRA     MODE_CHG_800
 7170 000004B0 0009                   M           NOP
 7171                             754     
 7172                             755     ;       ==== 安全一行程(OPTIONも)===
 7173                                     ***** BEGIN-POOL *****
 7174 000004B2 0001                       DATA FOR SOURCE-LINE 751
 7175                                     ***** END-POOL *****
 7176 000004B4                    756     MODE_CHG_080_SGL:
 7177 000004B4 222A               757             XOR     R2,R2                                           ;S
 7178 000004B6 9001               758             MOV.W   #_W1SGL,R0                                      ;安全一行程に変更
 7179                             759             M_BRA   MODE_CHG_800                                    ;
 7180 000004B8 A025                   M           BRA     MODE_CHG_800
 7181 000004BA 0009                   M           NOP
 7182                             760     
 7183                                     ***** BEGIN-POOL *****
 7184 000004BC 0004                       DATA FOR SOURCE-LINE 758
 7185                                     ***** END-POOL *****
 7186 000004BE                    761     MODE_CHG_080_SNG:                                               ;SINGLE:一行程もﾓｰﾄﾞは安全
                                          一行程として扱う
 7187 000004BE 9203               762             MOV.W   #BIT10,R2                                       ;一行程
 7188 000004C0 9003               763             MOV.W   #_W1SGL,R0                                      ;
 7189 000004C2 202B               764             OR      R2,R0                                           ;BIT10+SGL
 7190                             765             M_BRA   MODE_CHG_800                                    ;
 7191 000004C4 A01F                   M           BRA     MODE_CHG_800
 7192 000004C6 0009                   M           NOP
 7193                             766     
 7194                                     ***** BEGIN-POOL *****
 7195 000004C8 0400                       DATA FOR SOURCE-LINE 762
 7196 000004CA 0004                       DATA FOR SOURCE-LINE 763
 7197                                     ***** END-POOL *****
 7198 000004CC                    767     MODE_CHG_100:                                           ;
 7199 000004CC C808               768             TST     #_W1CNT,R0                              ;連続
 7200                             769             TST_BIT_OF MODE_CHG_150                         ;
 7201 000004CE 8909                   M           BT      MODE_CHG_150
 7202                             770     ;       ==== 連続 =======
 7203 000004D0 D103               771             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7204 000004D2 6211               772             MOV.W   @R1,R2                                  ;
 7205 000004D4 9303               773             MOV.W   #(BIT9+BIT8),R3                         ;
 7206 000004D6 2239               774             AND     R3,R2                                   ;
 7207 000004D8 202B               775             OR      R2,R0                                   ;R0(W1CNT)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    25
PROGRAM NAME =

 7208                             776             M_BRA   MODE_CHG_800                            ;
 7209 000004DA A014                   M           BRA     MODE_CHG_800
 7210 000004DC 0009                   M           NOP
 7211                             777     
 7212                                     ***** BEGIN-POOL *****
 7213 000004DE 0300                       DATA FOR SOURCE-LINE 773
 7214 000004E0 00000000                   DATA FOR SOURCE-LINE 771
 7215                                     ***** END-POOL *****
 7216 000004E4                    778     MODE_CHG_150:                                           ;
 7217 000004E4 C802               779             TST     #_W1INC,R0                              ;寸動?
 7218                             780             TST_BIT_OF MODE_CHG_200                         ;
 7219 000004E6 890D                   M           BT      MODE_CHG_200
 7220                             781     ;       ==== 寸動 =======
 7221 000004E8 D105               782             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7222 000004EA 6211               783             MOV.W   @R1,R2                                  ;
 7223 000004EC 9405               784             MOV.W   #BIT3,R4                                ;
 7224 000004EE 2248               785             TST     R4,R2                                   ;
 7225                             786             TST_BIT_OF MODE_CHG_800                         ;
 7226 000004F0 8909                   M           BT      MODE_CHG_800
 7227 000004F2 9203               787             MOV.W   #BIT8,R2                                ;寸一
 7228 000004F4 202B               788             OR      R2,R0                                   ;
 7229                             789             M_BRA   MODE_CHG_800                            ;
 7230 000004F6 A006                   M           BRA     MODE_CHG_800
 7231 000004F8 0009                   M           NOP
 7232                             790     
 7233                                     ***** BEGIN-POOL *****
 7234 000004FA 0008                       DATA FOR SOURCE-LINE 784
 7235 000004FC 0100                       DATA FOR SOURCE-LINE 787
 7236 000004FE 0000                       ALIGNMENT CODE
 7237 00000500 00000000                   DATA FOR SOURCE-LINE 782
 7238                                     ***** END-POOL *****
 7239 00000504                    791     MODE_CHG_200:                                           ;
 7240 00000504 0009               792             NOP                                             ;
 7241 00000506                    793     MODE_CHG_800:                                           ;
 7242 00000506 D102               794             MOV.L   #_INP_MODE,R1                           ;一行程はOPTION+SGL
 7243 00000508 2101               795             MOV.W   R0,@R1                                  ;OPTIONの安全一はSGLだけ
 7244 0000050A                    796     MODE_CHG_EXT:                                           ;
 7245                             797     
 7246                             798             SUB_END
 7247                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7248 0000050A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7249                             799             M_RTS
 7250 0000050C 000B                   M           RTS                             ;RTSの後ろの
 7251 0000050E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7252                             800     
 7253                             801     ;       ***************************************************
 7254                             802     ;       ***                                             ***
 7255                             803     ;       ***     各モードでのﾘｾｯﾄ条件に必要な位置信号    ***
 7256                             804     ;       ***     _INP_MODEと_MODE_SELを使い分ける        ***
 7257                             805     ;       ***     また回転とその他で待機点が異なる        ***
 7258                             806     ;       ***     ()                                      ***
 7259                             807     ;       ***************************************************
 7260                                     ***** BEGIN-POOL *****
 7261 00000510 00000000                   DATA FOR SOURCE-LINE 794
 7262                                     ***** END-POOL *****
 7263 00000514                    808     _MODE_AREA_MAKE:                ;ssa_ctrl.src 待機点AREA作成
 7264                             809             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    26
PROGRAM NAME =

 7265 00000514 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7266                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7267 00000516 D102               810             MOV.L   #_SET1_MRTION_SEL1,R1   ;bit0~bit3
 7268                             811             SUB_END
 7269                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7270 00000518 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7271                             812             M_RTS
 7272 0000051A 000B                   M           RTS                             ;RTSの後ろの
 7273 0000051C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7274                             813     
 7275                             814     
 7276                             815     
 7277                             816     ;       *******************************************
 7278                             817     ;       ***                                     ***
 7279                             818     ;       ***     モード制御                      ***
 7280                             819     ;       ***                                     ***
 7281                             820     ;       *******************************************
 7282                             821     
 7283                                     ***** BEGIN-POOL *****
 7284 0000051E 0000                       ALIGNMENT CODE
 7285 00000520 00000000                   DATA FOR SOURCE-LINE 810
 7286                                     ***** END-POOL *****
 7287 00000524                    822     _MODE_CTRL:             ;==>ssa_cbmn.src
 7288                             823             SUB_START                       ;
 7289 00000524 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7290                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7291                             824     
 7292                             825     ;       -------------- EPﾁｪｯｸ 2014-06-04 ------------
 7293                             826             FAR_JSR #_EP_SENCER_CHECK,R0
 7294 00000526 D004                   M           MOV.L   #_EP_SENCER_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7295 00000528 400B                   M           JSR     @R0                     ;
 7296 0000052A 0009                   M           NOP                                     ;
 7297 0000052C D103               827             MOV.L   #_EPCHK_FLG,R1                  ;
 7298 0000052E 6011               828             MOV.W   @R1,R0                          ;
 7299 00000530 C801               829             TST     #BIT0,R0                        ;動作中
 7300                             830             TST_BIT_OF MODE_CTL_100                 ;
 7301 00000532 8905                   M           BT      MODE_CTL_100
 7302                             831             M_BRA   MODE_CTL_EXIT                   ;
 7303 00000534 A04B                   M           BRA     MODE_CTL_EXIT
 7304 00000536 0009                   M           NOP
 7305                             832     
 7306                                     ***** BEGIN-POOL *****
 7307 00000538 00000000                   DATA FOR SOURCE-LINE 826
 7308 0000053C 00000000                   DATA FOR SOURCE-LINE 827
 7309                                     ***** END-POOL *****
 7310 00000540                    833     MODE_CTL_100
 7311                             834     
 7312                             835     ;       ---------- 2010-08-20[制動モード]---------
 7313                             836             FAR_JSR #_BRKTST_CTRL,R0        ;
 7314 00000540 D026                   M           MOV.L   #_BRKTST_CTRL,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7315 00000542 400B                   M           JSR     @R0                     ;
 7316 00000544 0009                   M           NOP                                     ;
 7317                             837     
 7318                             838     
 7319                             839              .AIF   1 EQ 1  ;
 7320                             840 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7321                             841              .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    27
PROGRAM NAME =

 7322                             842     ;       ---------- 2016-10-31(2016-05-11)----------
 7323                             843             FAR_JSR #_POSCTRL_CANSEL_RESET,R0
 7324 00000546 D026                   M           MOV.L   #_POSCTRL_CANSEL_RESET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7325 00000548 400B                   M           JSR     @R0                     ;
 7326 0000054A 0009                   M           NOP                                     ;
 7327                             844     
 7328                             845     ;       -------------ＳＷ情報でモードによっては異常にするため[2014-02-20 R02R03]----------
                                          -----
 7329                             846             FAR_JSR #_MASK2_SAFTY_MAK,R0            ;[SWの条件だけを作る]
 7330 0000054C D025                   M           MOV.L   #_MASK2_SAFTY_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7331 0000054E 400B                   M           JSR     @R0                     ;
 7332 00000550 0009                   M           NOP                                     ;
 7333                             847             FAR_JSR #_SFTY_MUTING_MODE_ERR,R0       ;
 7334 00000552 D025                   M           MOV.L   #_SFTY_MUTING_MODE_ERR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7335 00000554 400B                   M           JSR     @R0                     ;
 7336 00000556 0009                   M           NOP                                     ;
 7337                             848     
 7338                             849     
 7339 00000558 D124               850             MOV.L   #_reset_flg,R1          ;
 7340 0000055A 6011               851             MOV.W   @R1,R0                  ;
 7341 0000055C 2008               852             TST     R0,R0                   ;
 7342                             853             TST_BIT_ON MODE_CTL_EXIT        ;
 7343 0000055E 8B36                   M           BF      MODE_CTL_EXIT
 7344                             854     
 7345 00000560 D123               855             MOV.L   #_SELF_FLG,R1           ;//BIT0:ｾﾙﾌﾁｪｯｸ中 //BIT7
 7346 00000562 6011               856             MOV.W   @R1,R0                  ;
 7347 00000564 D223               857             MOV.L   #_SELF_COM,R2           ;//BIT0:ｾﾙﾌﾁｪｯｸ指令
 7348 00000566 6321               858             MOV.W   @R2,R3                  ;
 7349 00000568 203B               859             OR      R3,R0                   ;
 7350 0000056A C801               860             TST     #BIT0,R0                ;ｾﾙﾌ中またはｾﾙﾌｺﾏﾝﾄﾞON
 7351                             861             TST_BIT_ON MODE_CTL_EXIT        ;
 7352 0000056C 8B2F                   M           BF      MODE_CTL_EXIT
 7353                             862     
 7354 0000056E D122               863             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 7355 00000570 6011               864             MOV.W   @R1,R0                  ;
 7356 00000572 2008               865             TST     R0,R0                   ;
 7357                             866             TST_BIT_ON MODE_CTL_ET900       ;2003-06-06[2-3]
 7358 00000574 8B21                   M           BF      MODE_CTL_ET900
 7359                             867     
 7360 00000576 D121               868             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
 7361 00000578 6011               869             MOV.W   @R1,R0                  ;2003-06-06
 7362 0000057A 2008               870             TST     R0,R0                   ;
 7363                             871             TST_BIT_ON MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-4]
 7364 0000057C 8B1D                   M           BF      MODE_CTL_ET900
 7365                             872     
 7366                             873     
 7367                             874             FAR_JSR #_ANTI_CHEAK,R0         ;(ｾﾙﾌﾁｪｯｸ開始条件､ｾﾙﾌﾁｪｯｸの開始)
 7368 0000057E D020                   M           MOV.L   #_ANTI_CHEAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7369 00000580 400B                   M           JSR     @R0                     ;
 7370 00000582 0009                   M           NOP                                     ;
 7371                             875     
 7372                             876     
 7373                             877     
 7374                             878     ;       ------- 2014-06-06[EPｾﾝｻﾁｪｯｸ]
 7375 00000584 D11F               879             MOV.L   #_EPCHK_FLG,R1          ;
 7376 00000586 6011               880             MOV.W   @R1,R0                  ;
 7377 00000588 D11F               881             MOV.L   #_EPCHK_COM,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    28
PROGRAM NAME =

 7378 0000058A 6211               882             MOV.W   @R1,R2                  ;
 7379 0000058C 202B               883             OR      R2,R0                   ;
 7380 0000058E C801               884             TST     #BIT0,R0                ;
 7381                             885             TST_BIT_ON MODE_CTL_EXIT        ;
 7382 00000590 8B1D                   M           BF      MODE_CTL_EXIT
 7383                             886     
 7384                             887     
 7385                             888     ;       ------- 2010-08-20[制動モード]
 7386 00000592 D11E               889             MOV.L   #_BRKTST_MOD_FLG,R1     ;
 7387 00000594 6011               890             MOV.W   @R1,R0                  ;
 7388 00000596 C801               891             TST     #BIT0,R0                ;
 7389                             892             TST_BIT_ON MODE_CTL_EXIT        ;
 7390 00000598 8B19                   M           BF      MODE_CTL_EXIT
 7391                             893     
 7392                             894     
 7393                             895     
 7394                             896     
 7395 0000059A D11D               897             MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
 7396 0000059C 6011               898             MOV.W   @R1,R0                  ;
 7397 0000059E C801               899             TST     #BIT0,R0                ;内部準備完了
 7398                             900             TST_BIT_OF MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-5]
 7399 000005A0 890B                   M           BT      MODE_CTL_ET900
 7400                             901     
 7401                             902             FAR_JSR #_TEPA_PLSCNT_CHK,R0    ;
 7402 000005A2 D01C                   M           MOV.L   #_TEPA_PLSCNT_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7403 000005A4 400B                   M           JSR     @R0                     ;
 7404 000005A6 0009                   M           NOP                                     ;
 7405                             903     
 7406                             904     ;       --------- 2007-12-24 --------
 7407                             905             FAR_JSR #_LOT_CNT_CNT,R0        ;
 7408 000005A8 D01B                   M           MOV.L   #_LOT_CNT_CNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7409 000005AA 400B                   M           JSR     @R0                     ;
 7410 000005AC 0009                   M           NOP                                     ;
 7411                             906     
 7412                             907     
 7413                             908     ;;;;;;;2014-02-20       FAR_JSR #_MASK2_SAFTY_MAK,R0    ;[SWの条件だけを作る]
 7414                             909     
 7415                             910             FAR_JSR #_RDY_CHEAK,R0          ;運転動作
 7416 000005AE D01B                   M           MOV.L   #_RDY_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7417 000005B0 400B                   M           JSR     @R0                     ;
 7418 000005B2 0009                   M           NOP                                     ;
 7419                             911             FAR_JSR #_RDY_HOLDSTP_FLGOUT,R0
 7420 000005B4 D01A                   M           MOV.L   #_RDY_HOLDSTP_FLGOUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7421 000005B6 400B                   M           JSR     @R0                     ;
 7422 000005B8 0009                   M           NOP                                     ;
 7423                             912     
 7424 000005BA                    913     MODE_CTL_ET900:                         ;
 7425                             914     
 7426                             915     ;       ==== 2003-06-06[2-2] ==
 7427 000005BA D11A               916             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7428 000005BC 6011               917             MOV.W   @R1,R0                          ;
 7429                             918     ;;[2009-10-07下振子]    TST     #_DMATH_CNTROT,R0               ;
 7430 000005BE C805               919             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;回転or往復
 7431                             920             TST_BIT_OF MODE_CTL_EXIT                ;
 7432 000005C0 8905                   M           BT      MODE_CTL_EXIT
 7433                             921             FAR_JSR #_DAI_MOSTPOS_SMPLE,R0          ;
 7434 000005C2 D019                   M           MOV.L   #_DAI_MOSTPOS_SMPLE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    29
PROGRAM NAME =

 7435 000005C4 400B                   M           JSR     @R0                     ;
 7436 000005C6 0009                   M           NOP                                     ;
 7437                             922     
 7438                             923     
 7439                             924             FAR_JSR #_KJPHOS_SAMPLING1,R0   ;2004-07-05
 7440 000005C8 D018                   M           MOV.L   #_KJPHOS_SAMPLING1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7441 000005CA 400B                   M           JSR     @R0                     ;
 7442 000005CC 0009                   M           NOP                                     ;
 7443                             925     
 7444 000005CE                    926     MODE_CTL_EXIT:                          ;
 7445                             927     
 7446                             928              .AIF   1 EQ 1  ;
 7447                             929 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7448                             930              .AENDI
 7449                             931     
 7450                             932             FAR_JSR #_DEBUG_CMPERR_STSMAK,R0        ;2016-08-09
 7451 000005CE D018                   M           MOV.L   #_DEBUG_CMPERR_STSMAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7452 000005D0 400B                   M           JSR     @R0                     ;
 7453 000005D2 0009                   M           NOP                                     ;
 7454                             933     
 7455                             934     
 7456                             935             SUB_END
 7457                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7458 000005D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7459                             936             M_RTS
 7460 000005D6 000B                   M           RTS                             ;RTSの後ろの
 7461 000005D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7462                             937     
 7463                             938     ;       *******************************************
 7464                             939     ;       ***             2016-08-09 調査用       ***
 7465                             940     ;       *******************************************
 7466                             941             .IMPORT _CPUB_DBG_MONI_STP      ;2016-08-12
 7467                                     ***** BEGIN-POOL *****
 7468 000005DA 0000                       ALIGNMENT CODE
 7469 000005DC 00000000                   DATA FOR SOURCE-LINE 836
 7470 000005E0 00000000                   DATA FOR SOURCE-LINE 843
 7471 000005E4 00000000                   DATA FOR SOURCE-LINE 846
 7472 000005E8 00000000                   DATA FOR SOURCE-LINE 847
 7473 000005EC 00000000                   DATA FOR SOURCE-LINE 850
 7474 000005F0 00000000                   DATA FOR SOURCE-LINE 855
 7475 000005F4 00000000                   DATA FOR SOURCE-LINE 857
 7476 000005F8 00000000                   DATA FOR SOURCE-LINE 863
 7477 000005FC 00000000                   DATA FOR SOURCE-LINE 868
 7478 00000600 00000000                   DATA FOR SOURCE-LINE 874
 7479 00000604 00000000                   DATA FOR SOURCE-LINE 879
 7480 00000608 00000000                   DATA FOR SOURCE-LINE 881
 7481 0000060C 00000000                   DATA FOR SOURCE-LINE 889
 7482 00000610 00000000                   DATA FOR SOURCE-LINE 897
 7483 00000614 00000000                   DATA FOR SOURCE-LINE 902
 7484 00000618 00000000                   DATA FOR SOURCE-LINE 905
 7485 0000061C 00000000                   DATA FOR SOURCE-LINE 910
 7486 00000620 00000000                   DATA FOR SOURCE-LINE 911
 7487 00000624 00000000                   DATA FOR SOURCE-LINE 916
 7488 00000628 00000000                   DATA FOR SOURCE-LINE 921
 7489 0000062C 00000000                   DATA FOR SOURCE-LINE 924
 7490 00000630 00000000                   DATA FOR SOURCE-LINE 932
 7491                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    30
PROGRAM NAME =

 7492 00000634                    942     _DEBUG_CMPERR_STSMAK                    ;2016-08-09
 7493                             943             SUB_START
 7494 00000634 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7495                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7496 00000636 200A               944             XOR     R0,R0
 7497 00000638 D117               945             MOV.L   #_STOP_LATCH_B,R1               ;
 7498 0000063A 6211               946             MOV.W   @R1,R2                          ;
 7499 0000063C 2228               947             TST     R2,R2                           ;
 7500                             948             TST_BIT_OF DEBUG_CMPERR_STSMK10         ;
 7501 0000063E 8900                   M           BT      DEBUG_CMPERR_STSMK10
 7502 00000640 CB01               949             OR      #BIT0,R0                        ;257.0/327.0
 7503 00000642                    950     DEBUG_CMPERR_STSMK10
 7504                             951     
 7505 00000642 D116               952             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
 7506 00000644 6211               953             MOV.W   @R1,R2
 7507 00000646 2228               954             TST     R2,R2                           ;
 7508                             955             TST_BIT_OF DEBUG_CMPERR_STSMK20         ;
 7509 00000648 8900                   M           BT      DEBUG_CMPERR_STSMK20
 7510 0000064A CB02               956             OR      #BIT1,R0                        ;257.1/327.1HANDはcpuaから見てだけをﾓﾆﾀ
 7511 0000064C                    957     DEBUG_CMPERR_STSMK20
 7512                             958     
 7513                             959     
 7514                             960             .AIF    1 EQ    0
 7515                             961             MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7516                             962             .AELSE
 7517 0000064C D114               963 C           MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7518                             964             .AENDI
 7519 0000064E 6211               965             MOV.W   @R1,R2
 7520 00000650 2228               966             TST     R2,R2                           ;
 7521                             967             TST_BIT_OF DEBUG_CMPERR_STSMK40         ;
 7522 00000652 8900                   M           BT      DEBUG_CMPERR_STSMK40
 7523 00000654 CB04               968             OR      #BIT2,R0                        ;257.2HANDはcpuaから見てだけをﾓﾆﾀcpua-data
 7524 00000656                    969     DEBUG_CMPERR_STSMK40
 7525                             970     
 7526                             971             .AIF    1 EQ    0
 7527                             972             MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7528                             973             .AELSE
 7529 00000656 D113               974 C           MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7530                             975             .AENDI
 7531 00000658 6211               976             MOV.W   @R1,R2
 7532 0000065A 2228               977             TST     R2,R2                           ;
 7533                             978             TST_BIT_OF DEBUG_CMPERR_STSMK60         ;
 7534 0000065C 8900                   M           BT      DEBUG_CMPERR_STSMK60
 7535 0000065E CB08               979             OR      #BIT3,R0                        ;257.3HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7536 00000660                    980     DEBUG_CMPERR_STSMK60
 7537                             981     
 7538                             982     
 7539                             983             .AIF    1 EQ    0
 7540                             984             MOV.L   #_SH4_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7541                             985             .AELSE
 7542 00000660 D111               986 C           MOV.L   #_SH2_HD_STEP_END,R1            ;
 7543                             987             .AENDI
 7544 00000662 6211               988             MOV.W   @R1,R2
 7545 00000664 2228               989             TST     R2,R2                           ;
 7546                             990             TST_BIT_OF DEBUG_CMPERR_STSMK80         ;
 7547 00000666 8900                   M           BT      DEBUG_CMPERR_STSMK80
 7548 00000668 CB10               991             OR      #BIT4,R0                        ;257.4HANDはcpuaから見てだけをﾓﾆﾀcpua-data
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    31
PROGRAM NAME =

 7549 0000066A                    992     DEBUG_CMPERR_STSMK80
 7550                             993     
 7551                             994     
 7552                             995             .AIF    1 EQ    0
 7553                             996             MOV.L   #_SH2_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7554                             997             .AELSE
 7555 0000066A D110               998 C           MOV.L   #_SH4_HD_STEP_END,R1            ;
 7556                             999             .AENDI
 7557 0000066C 6211              1000             MOV.W   @R1,R2
 7558 0000066E 2228              1001             TST     R2,R2                           ;
 7559                            1002             TST_BIT_OF DEBUG_CMPERR_STSMK100        ;
 7560 00000670 8900                   M           BT      DEBUG_CMPERR_STSMK100
 7561 00000672 CB20              1003             OR      #BIT5,R0                        ;257.5HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7562 00000674                   1004     DEBUG_CMPERR_STSMK100
 7563                            1005     
 7564                            1006     
 7565                            1007     
 7566                            1008     
 7567 00000674 D10E              1009             MOV.L   #_CMPSTEP_STEP_END,R1   ;
 7568 00000676 6211              1010             MOV.W   @R1,R2
 7569 00000678 2228              1011             TST     R2,R2                           ;
 7570                            1012             TST_BIT_OF DEBUG_CMPERR_STSMK150        ;
 7571 0000067A 8900                   M           BT      DEBUG_CMPERR_STSMK150
 7572 0000067C CB40              1013             OR      #BIT6,R0                        ;257.6/327.6 END
 7573 0000067E                   1014     DEBUG_CMPERR_STSMK150
 7574                            1015     
 7575                            1016     
 7576 0000067E D10D              1017             MOV.L   #_SQ_CBWK_TOP+_WKSQCB257,R1             ;257.0,1,2,3(END),4
 7577 00000680 2101              1018             MOV.W   R0,@R1
 7578                            1019     
 7579                            1020             .AIF    1 EQ    0
 7580                            1021     
 7581                            1022             .AELSE
 7582                            1023 C   
 7583 00000682 D10D              1024 C           MOV.L   #_CNT_STOP_WAIT_TIM,R1
 7584 00000684 6011              1025 C           MOV.W   @R1,R0
 7585 00000686 D10D              1026 C           MOV.L   #_CPUB_DBG_MONI_STP,R1  ;2016-08-12
 7586 00000688 2101              1027 C           MOV.W   R0,@R1                  ;
 7587                            1028 C   
 7588 0000068A D10D              1029 C           MOV.L   #_CNT_STOP_DBG_CNT,R1   ;//2016-08-22 CHECK
 7589 0000068C 6011              1030 C           MOV.W   @R1,R0
 7590 0000068E D10D              1031 C           MOV.L   #_CPUB_DBG_MONI_CNT,R1  ;2016-08-22
 7591 00000690 2101              1032 C           MOV.W   R0,@R1                  ;
 7592                            1033 C   
 7593                            1034             .AENDI
 7594                            1035     
 7595                            1036             SUB_END
 7596                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7597 00000692 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7598                            1037             M_RTS
 7599 00000694 000B                   M           RTS                             ;RTSの後ろの
 7600 00000696 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7601                            1038     
 7602                            1039     ;       ***************************************************
 7603                            1040     ;       ***                                             ***
 7604                            1041     ;       ***     再起動防止OFF→ON条件,ON→OFF(ｾﾙﾌﾁｪｯｸ)  ***
 7605                            1042     ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    32
PROGRAM NAME =

 7606                            1043     ;       ***************************************************
 7607                            1044     ;       Output ANTI-SIGNAL
 7608                            1045     ;       Output IN_RDY_FLG
 7609                                     ***** BEGIN-POOL *****
 7610 00000698 00000000                   DATA FOR SOURCE-LINE 945
 7611 0000069C 00000000                   DATA FOR SOURCE-LINE 952
 7612 000006A0 00000000                   DATA FOR SOURCE-LINE 963
 7613 000006A4 00000000                   DATA FOR SOURCE-LINE 974
 7614 000006A8 00000000                   DATA FOR SOURCE-LINE 986
 7615 000006AC 00000000                   DATA FOR SOURCE-LINE 998
 7616 000006B0 00000000                   DATA FOR SOURCE-LINE 1009
 7617 000006B4 00000000                   DATA FOR SOURCE-LINE 1017
 7618 000006B8 00000000                   DATA FOR SOURCE-LINE 1024
 7619 000006BC 00000000                   DATA FOR SOURCE-LINE 1026
 7620 000006C0 00000000                   DATA FOR SOURCE-LINE 1029
 7621 000006C4 00000000                   DATA FOR SOURCE-LINE 1031
 7622                                     ***** END-POOL *****
 7623 000006C8                   1046     _ANTI_CHEAK:
 7624                            1047             SUB_START
 7625 000006C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7626                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7627                            1048     
 7628 000006CA D114              1049             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 7629 000006CC 6011              1050             MOV.W   @R1,R0                  ;
 7630 000006CE C810              1051             TST     #_WOANT,R0              ;ANTI
 7631                            1052             TST_BIT_ON ANTI_CHK_0500        ;
 7632 000006D0 8B46                   M           BF      ANTI_CHK_0500
 7633                            1053     
 7634                            1054     ;       ===================================
 7635                            1055     ;       ===     ANTI - OFF 中           ===
 7636                            1056     ;       ===     ANTI - ON またはｾﾙﾌﾁｪｯｸ ===
 7637                            1057     ;       ===================================
 7638 000006D2 D113              1058             MOV.L   #_MODE_SEL,R1                   ;
 7639 000006D4 6011              1059             MOV.W   @R1,R0                          ;
 7640 000006D6 C801              1060             TST     #_W1OFF,R0                      ;切?
 7641                            1061             TST_BIT_ON ANTI_CHK_EXIT                ;ﾘｾｯﾄ不可
 7642 000006D8 8B4C                   M           BF      ANTI_CHK_EXIT
 7643                            1062     
 7644                            1063     ;;;全モードセルフチェックを行う
 7645                            1064     ;;;2006-05-09   MOV.W   #(_W1DUP+_W1DIC+_W1INC),R1      ;
 7646                            1065     ;;;2006-05-09   TST     R1,R0                           ;
 7647                            1066     ;;;2006-05-09   TST_BIT_ON ANTI_CHK_0100                ;寸動等
 7648                            1067     
 7649 000006DA D112              1068             MOV.L   #_SELF_FLG,R1                   ;
 7650 000006DC 6011              1069             MOV.W   @R1,R0                          ;
 7651 000006DE C880              1070             TST     #BIT7,R0                        ;ｾﾙﾌﾁｪｯｸ完了?
 7652                            1071             TST_BIT_OF ANTI_CHK_0150                ;(ｾﾙﾌﾁｪｯｸ未完了)
 7653 000006E0 892E                   M           BT      ANTI_CHK_0150
 7654                            1072     
 7655 000006E2                   1073     ANTI_CHK_0100:                                  ;
 7656                            1074             FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 7657 000006E2 D011                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7658 000006E4 400B                   M           JSR     @R0                     ;
 7659 000006E6 0009                   M           NOP                                     ;
 7660                            1075             FAR_JSR #_ANTI_ON,R1                    ;ANTI-ON
 7661 000006E8 D110                   M           MOV.L   #_ANTI_ON,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7662 000006EA 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    33
PROGRAM NAME =

 7663 000006EC 0009                   M           NOP                                     ;
 7664                            1076             MEM1_DATA_SET MEM=_IN_RDY_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2        ;内部準備
                                          完了
 7665 000006EE D110                   M           MOV.L   #_IN_RDY_FLG,R1         ;
 7666 000006F0 9212                   M           MOV.W   #BIT0,R2                ;
 7667 000006F2 2121                   M           MOV.W   R2,@R1  ;
 7668                            1077     
 7669                            1078     ;       ------ 2006-04-10 ------
 7670                            1079             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7671 000006F4 D10F                   M           MOV.L   #_SELF_COM,R1           ;
 7672 000006F6 9210                   M           MOV.W   #0,R2           ;
 7673 000006F8 2121                   M           MOV.W   R2,@R1  ;
 7674                            1080             MEM1_DATA_SET MEM=_SELF_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7675 000006FA D10A                   M           MOV.L   #_SELF_FLG,R1           ;
 7676 000006FC 920D                   M           MOV.W   #0,R2           ;
 7677 000006FE 2121                   M           MOV.W   R2,@R1  ;
 7678                            1081     
 7679                            1082     
 7680                            1083     ;       -----REQ-ON--------
 7681 00000700 D10D              1084             MOV.L   #_EPCHK_FLG,R1          ;
 7682 00000702 6011              1085             MOV.W   @R1,R0                  ;
 7683 00000704 C880              1086             TST     #BIT7,R0                ;
 7684                            1087             TST_BIT_ON ANTI_CHK_0130        ;正常完了している
 7685 00000706 8B05                   M           BF      ANTI_CHK_0130
 7686                            1088             MEM1_DATA_SET MEM=_EPCHK_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;
 7687 00000708 D10C                   M           MOV.L   #_EPCHK_COM,R1          ;
 7688 0000070A 9205                   M           MOV.W   #BIT0,R2                ;
 7689 0000070C 2121                   M           MOV.W   R2,@R1  ;
 7690                            1089             MEM1_DATA_SET MEM=_EPCHK_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;
 7691 0000070E D10A                   M           MOV.L   #_EPCHK_FLG,R1          ;
 7692 00000710 9203                   M           MOV.W   #0,R2           ;
 7693 00000712 2121                   M           MOV.W   R2,@R1  ;
 7694 00000714                   1090     ANTI_CHK_0130:
 7695                            1091     
 7696                            1092     
 7697                            1093     
 7698                            1094             M_BRA   ANTI_CHK_EXIT                   ;
 7699 00000714 A02E                   M           BRA     ANTI_CHK_EXIT
 7700 00000716 0009                   M           NOP
 7701                            1095     
 7702                                     ***** BEGIN-POOL *****
 7703 00000718 0001                       DATA FOR SOURCE-LINE 1076,1088
 7704 0000071A 0000                       DATA FOR SOURCE-LINE 1079,1080,1089
 7705 0000071C 00000000                   DATA FOR SOURCE-LINE 1049
 7706 00000720 00000000                   DATA FOR SOURCE-LINE 1058
 7707 00000724 00000000                   DATA FOR SOURCE-LINE 1068,1080
 7708 00000728 00000000                   DATA FOR SOURCE-LINE 1074
 7709 0000072C 00000000                   DATA FOR SOURCE-LINE 1075
 7710 00000730 00000000                   DATA FOR SOURCE-LINE 1076
 7711 00000734 00000000                   DATA FOR SOURCE-LINE 1079
 7712 00000738 00000000                   DATA FOR SOURCE-LINE 1084,1089
 7713 0000073C 00000000                   DATA FOR SOURCE-LINE 1088
 7714                                     ***** END-POOL *****
 7715 00000740                   1096     ANTI_CHK_0150:
 7716                            1097     
 7717                            1098             FAR_JSR #_SELF_START_CONF,R1            ;ANS R0=00(ｾﾙﾌﾁｪｯｸ開始可能)
 7718 00000740 D105                   M           MOV.L   #_SELF_START_CONF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    34
PROGRAM NAME =

 7719 00000742 410B                   M           JSR     @R1                     ;
 7720 00000744 0009                   M           NOP                                     ;
 7721 00000746 2008              1099             TST     R0,R0                           ;
 7722                            1100             TST_BIT_ON ANTI_CHK_EXIT                ;
 7723 00000748 8B14                   M           BF      ANTI_CHK_EXIT
 7724                            1101     
 7725                            1102             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2  ;ｾﾙﾌ開始ｺﾏﾝﾄﾞ
 7726 0000074A D104                   M           MOV.L   #_SELF_COM,R1           ;
 7727 0000074C 9202                   M           MOV.W   #BIT0,R2                ;
 7728 0000074E 2121                   M           MOV.W   R2,@R1  ;
 7729                            1103             M_BRA   ANTI_CHK_EXIT                   ;
 7730 00000750 A010                   M           BRA     ANTI_CHK_EXIT
 7731 00000752 0009                   M           NOP
 7732                            1104     
 7733                            1105     
 7734                            1106     ;       ===================================
 7735                            1107     ;       ===     ANTI - ON 中            ===
 7736                            1108     ;       ===================================
 7737                                     ***** BEGIN-POOL *****
 7738 00000754 0001                       DATA FOR SOURCE-LINE 1102
 7739 00000756 0000                       ALIGNMENT CODE
 7740 00000758 00000000                   DATA FOR SOURCE-LINE 1098
 7741 0000075C 00000000                   DATA FOR SOURCE-LINE 1102
 7742                                     ***** END-POOL *****
 7743 00000760                   1109     ANTI_CHK_0500:
 7744 00000760 D106              1110             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 7745 00000762 6011              1111             MOV.W   @R1,R0                          ;
 7746 00000764 C801              1112             TST     #BIT0,R0                        ;
 7747                            1113             TST_BIT_ON ANTI_CHK_EXIT                ;
 7748 00000766 8B05                   M           BF      ANTI_CHK_EXIT
 7749                            1114     
 7750                            1115             FAR_JSR #_ANTI_OF,R1                    ;ｾﾙﾌﾁｪｯｸ未完SET
 7751 00000768 D105                   M           MOV.L   #_ANTI_OF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7752 0000076A 410B                   M           JSR     @R1                     ;
 7753 0000076C 0009                   M           NOP                                     ;
 7754 0000076E 200A              1116             XOR     R0,R0
 7755 00000770 D104              1117             MOV.L   #_SELF_FLG,R1                   ;
 7756 00000772 2101              1118             MOV.W   R0,@R1                          ;
 7757                            1119     
 7758 00000774                   1120     ANTI_CHK_EXIT:
 7759                            1121     
 7760                            1122             SUB_END
 7761                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7762 00000774 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7763                            1123             M_RTS
 7764 00000776 000B                   M           RTS                             ;RTSの後ろの
 7765 00000778 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7766                            1124     
 7767                            1125     
 7768                            1126     ;       ***************************************************
 7769                            1127     ;       ***                                             ***
 7770                            1128     ;       ***     準備完了・起動                          ***
 7771                            1129     ;       ***                                             ***
 7772                            1130     ;       ***************************************************
 7773                            1131     ;       U2b     DRV_ACT_FLG;    //運転動作ﾌﾗｸﾞ BIT0:運転中
 7774                            1132     ;       U2b     BTTN_FLG;       //BIT0:両手ﾌﾘ- BIT1:片手ON　BIT2:両手ON
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    35
PROGRAM NAME =

 7775                            1133             .IMPORT _SH4_HD_HLDSTOP2        ;
 7776                            1134             .IMPORT _SH2_HD_HLDSTOP2        ;
 7777                            1135     
 7778                                     ***** BEGIN-POOL *****
 7779 0000077A 0000                       ALIGNMENT CODE
 7780 0000077C 00000000                   DATA FOR SOURCE-LINE 1110
 7781 00000780 00000000                   DATA FOR SOURCE-LINE 1115
 7782 00000784 00000000                   DATA FOR SOURCE-LINE 1117
 7783                                     ***** END-POOL *****
 7784 00000788                   1136     _RDY_CHEAK:
 7785                            1137             SUB_START
 7786 00000788 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7787                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7788                            1138     
 7789                            1139     ;       -------------------------------------------
 7790                            1140     ;       ---                                     ---
 7791                            1141     ;       -------------------------------------------
 7792                            1142             FAR_JSR #_POSHLD1_SIG_CHK,R0            ;
 7793 0000078A D008                   M           MOV.L   #_POSHLD1_SIG_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7794 0000078C 400B                   M           JSR     @R0                     ;
 7795 0000078E 0009                   M           NOP                                     ;
 7796                            1143     
 7797                            1144                                             ;"HOLD-CMDは必ず動作中で行うこと"
 7798 00000790 D107              1145             MOV.L   #_POS_HOLD_FLG,R1       ;BIT0=1:減速状態[既に停止ｺﾏﾝﾄﾞは個別ｿﾌﾄで発行して
                                          いる]
 7799 00000792 6011              1146             MOV.W   @R1,R0                  ;BIT1=1:位置決め完了状態
 7800 00000794 2008              1147             TST     R0,R0                   ;
 7801                            1148             TST_BIT_ON RDY_HOLDCHK_0100
 7802 00000796 8B0F                   M           BF      RDY_HOLDCHK_0100
 7803                            1149     
 7804 00000798 D106              1150             MOV.L   #_POS_HOLD_CMD,R1                                               ;BIT0~BIT6
                                          の7個まで受け付ける
 7805 0000079A 6011              1151             MOV.W   @R1,R0                                                          ;
 7806 0000079C 2008              1152             TST     R0,R0                                                           ;
 7807                            1153             TST_BIT_OF RDY_HOLDCHK_END                                              ;
 7808 0000079E 8965                   M           BT      RDY_HOLDCHK_END
 7809                            1154     
 7810                            1155             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
 7811 000007A0 D103                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
 7812 000007A2 6011                   M           MOV.W   @R1,R0          ;
 7813 000007A4 CB01                   M           OR      #BIT0,R0                ;
 7814 000007A6 2101                   M           MOV.W   R0,@R1          ;
 7815                            1156             M_BRA   RDY_HOLDCHK_1000
 7816 000007A8 A054                   M           BRA     RDY_HOLDCHK_1000
 7817 000007AA 0009                   M           NOP
 7818                            1157     
 7819                                     ***** BEGIN-POOL *****
 7820 000007AC 00000000                   DATA FOR SOURCE-LINE 1142
 7821 000007B0 00000000                   DATA FOR SOURCE-LINE 1145,1155
 7822 000007B4 00000000                   DATA FOR SOURCE-LINE 1150
 7823                                     ***** END-POOL *****
 7824 000007B8                   1158     RDY_HOLDCHK_0100
 7825 000007B8 C802              1159             TST     #BIT1,R0                                                        ;位置決め
                                          完了状態?
 7826                            1160             TST_BIT_ON RDY_HOLDCHK_0200                                             ;
 7827 000007BA 8B19                   M           BF      RDY_HOLDCHK_0200
 7828                            1161     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    36
PROGRAM NAME =

 7829                            1162             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 7830 000007BC D008                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7831 000007BE 400B                   M           JSR     @R0                     ;
 7832 000007C0 0009                   M           NOP                                     ;
 7833                            1163     
 7834 000007C2 D108              1164             MOV.L   #_DRV_ACT_FLG,R1                                                ;//運転動
                                          作ﾌﾗｸﾞ BIT0:運転中
 7835 000007C4 6011              1165             MOV.W   @R1,R0                                                          ;
 7836 000007C6 C801              1166             TST     #BIT0,R0                                                        ;運転中?
 7837                            1167             TST_BIT_ON RDY_HOLDCHK_1000                                             ;YES 状態
                                          維持
 7838 000007C8 8B44                   M           BF      RDY_HOLDCHK_1000
 7839                            1168     
 7840                            1169             FAR_JSR #_HOLD_STOP_BA_JG,R0                                            ;
 7841 000007CA D007                   M           MOV.L   #_HOLD_STOP_BA_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7842 000007CC 400B                   M           JSR     @R0                     ;
 7843 000007CE 0009                   M           NOP                                     ;
 7844 000007D0 2008              1170             TST     R0,R0                                                           ;
 7845                            1171             TST_BIT_OF RDY_HOLDCHK_1999                                             ;相手停止?
                                          NO
 7846 000007D2 8949                   M           BT      RDY_HOLDCHK_1999
 7847                            1172     
 7848                            1173             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT1,WKREG=R1        ;bit-set
 7849 000007D4 D105                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
 7850 000007D6 6011                   M           MOV.W   @R1,R0          ;
 7851 000007D8 CB02                   M           OR      #BIT1,R0                ;
 7852 000007DA 2101                   M           MOV.W   R0,@R1          ;
 7853                            1174             M_BRA   RDY_HOLDCHK_1999
 7854 000007DC A044                   M           BRA     RDY_HOLDCHK_1999
 7855 000007DE 0009                   M           NOP
 7856                            1175     
 7857                            1176     
 7858                            1177     ;       ---------------- 再スタート---------------------
 7859                                     ***** BEGIN-POOL *****
 7860 000007E0 00000000                   DATA FOR SOURCE-LINE 1162
 7861 000007E4 00000000                   DATA FOR SOURCE-LINE 1164
 7862 000007E8 00000000                   DATA FOR SOURCE-LINE 1169
 7863 000007EC 00000000                   DATA FOR SOURCE-LINE 1173
 7864                                     ***** END-POOL *****
 7865 000007F0                   1178     RDY_HOLDCHK_0200:
 7866                            1179             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 7867 000007F0 D010                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7868 000007F2 400B                   M           JSR     @R0                     ;
 7869 000007F4 0009                   M           NOP                                     ;
 7870                            1180     
 7871                            1181             FAR_JSR #_POS_HOLD_RESTART_CHK,R0       ;ｺﾏﾝﾄﾞ発行
 7872 000007F6 D010                   M           MOV.L   #_POS_HOLD_RESTART_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7873 000007F8 400B                   M           JSR     @R0                     ;
 7874 000007FA 0009                   M           NOP                                     ;
 7875                            1182     
 7876 000007FC D10F              1183             MOV.L   #_POS_HOLD_RESTARTCMD,R1        ;
 7877 000007FE 6011              1184             MOV.W   @R1,R0                          ;
 7878 00000800 2008              1185             TST     R0,R0                           ;
 7879                            1186             TST_BIT_OF RDY_HOLDCHK_1999             ;
 7880 00000802 8931                   M           BT      RDY_HOLDCHK_1999
 7881 00000804 6007              1187             NOT     R0,R0                           ;
 7882 00000806 D10E              1188             MOV.L   #_POS_HOLD_CMD,R1               ;BIT0~BIT6の7個まで受け付ける
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    37
PROGRAM NAME =

 7883 00000808 6211              1189             MOV.W   @R1,R2                          ;
 7884 0000080A 2209              1190             AND     R0,R2                           ;
 7885 0000080C 2121              1191             MOV.W   R2,@R1                          ;
 7886 0000080E 2228              1192             TST     R2,R2                           ;
 7887                            1193             TST_BIT_ON RDY_HOLDCHK_1999             ;
 7888 00000810 8B2A                   M           BF      RDY_HOLDCHK_1999
 7889                            1194     
 7890                            1195     ;       -------- 全てのHOLD条件無し -----------
 7891                            1196             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;
 7892 00000812 D00C                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7893 00000814 400B                   M           JSR     @R0                     ;
 7894 00000816 0009                   M           NOP                                     ;
 7895                            1197             FAR_JSR #_HOLD_RESTART_BA_JG,R0         ;
 7896 00000818 D00B                   M           MOV.L   #_HOLD_RESTART_BA_JG,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7897 0000081A 400B                   M           JSR     @R0                     ;
 7898 0000081C 0009                   M           NOP                                     ;
 7899 0000081E 2008              1198             TST     R0,R0                           ;
 7900                            1199             TST_BIT_ON RDY_HOLDCHK_1999             ;
 7901 00000820 8B22                   M           BF      RDY_HOLDCHK_1999
 7902                            1200             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
 7903 00000822 D00A                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7904 00000824 400B                   M           JSR     @R0                     ;
 7905 00000826 0009                   M           NOP                                     ;
 7906                            1201     
 7907 00000828 E001              1202             MOV.B   #BIT0,R0                        ;
 7908 0000082A D109              1203             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 7909 0000082C 2101              1204             MOV.W   R0,@R1                          ;
 7910                            1205             M_BRA   RDY_CHK_0220                    ;再起動
 7911 0000082E A13D                   M           BRA     RDY_CHK_0220
 7912 00000830 0009                   M           NOP
 7913                            1206     
 7914                                     ***** BEGIN-POOL *****
 7915 00000832 0000                       ALIGNMENT CODE
 7916 00000834 00000000                   DATA FOR SOURCE-LINE 1179
 7917 00000838 00000000                   DATA FOR SOURCE-LINE 1181
 7918 0000083C 00000000                   DATA FOR SOURCE-LINE 1183
 7919 00000840 00000000                   DATA FOR SOURCE-LINE 1188
 7920 00000844 00000000                   DATA FOR SOURCE-LINE 1196
 7921 00000848 00000000                   DATA FOR SOURCE-LINE 1197
 7922 0000084C 00000000                   DATA FOR SOURCE-LINE 1200
 7923 00000850 00000000                   DATA FOR SOURCE-LINE 1203
 7924                                     ***** END-POOL *****
 7925 00000854                   1207     RDY_HOLDCHK_1000
 7926 00000854 D102              1208             MOV.L   #_END_CMD_LATCH,R1              ;
 7927 00000856 6011              1209             MOV.W   @R1,R0                          ;
 7928 00000858 2008              1210             TST     R0,R0                           ;
 7929                            1211             TST_BIT_ON RDY_HOLDCHK_1200             ;
 7930 0000085A 8B03                   M           BF      RDY_HOLDCHK_1200
 7931                            1212             M_BRA   RDY_CHK_1000                    ;
 7932 0000085C A263                   M           BRA     RDY_CHK_1000
 7933 0000085E 0009                   M           NOP
 7934                                     ***** BEGIN-POOL *****
 7935 00000860 00000000                   DATA FOR SOURCE-LINE 1208
 7936                                     ***** END-POOL *****
 7937 00000864                   1213     RDY_HOLDCHK_1200
 7938                            1214             M_BRA   RDY_CHK_1200                    ;
 7939 00000864 A278                   M           BRA     RDY_CHK_1200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    38
PROGRAM NAME =

 7940 00000866 0009                   M           NOP
 7941                            1215     
 7942 00000868                   1216     RDY_HOLDCHK_1999
 7943                            1217             M_BRA   RDY_CHK_EXIT
 7944 00000868 A2A7                   M           BRA     RDY_CHK_EXIT
 7945 0000086A 0009                   M           NOP
 7946                            1218     
 7947 0000086C                   1219     RDY_HOLDCHK_END
 7948                            1220     
 7949                            1221     
 7950                            1222     
 7951                            1223     
 7952                            1224     
 7953                            1225     
 7954                            1226     ;       ==== 2003-07-09(非運転状態ではｻｲｸﾙ速度表示ON) ====
 7955                            1227             FAR_JSR #_CNT_CYCL_DISP_ST,R0   ;表示する(表示したくないならこのｽｷｬﾝ内に表示しない
                                          をONする)
 7956 0000086C D007                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7957 0000086E 400B                   M           JSR     @R0                     ;
 7958 00000870 0009                   M           NOP                                     ;
 7959                            1228     
 7960                            1229     
 7961                            1230     ;       ------------2019010-10(2019-08-20)--------------
 7962                            1231             FAR_JSR #_CNT_SPM_DISP_CHK,R0   ;
 7963 00000872 D007                   M           MOV.L   #_CNT_SPM_DISP_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7964 00000874 400B                   M           JSR     @R0                     ;
 7965 00000876 0009                   M           NOP                                     ;
 7966                            1232     
 7967                            1233     
 7968                            1234     ;       ================================
 7969 00000878 D106              1235             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 7970 0000087A 6011              1236             MOV.W   @R1,R0                  ;
 7971 0000087C C801              1237             TST     #BIT0,R0                ;運転中?
 7972                            1238             TST_BIT_OF RDY_CHK_0050         ;
 7973 0000087E 890F                   M           BT      RDY_CHK_0050
 7974                            1239     ;       ===============================
 7975 00000880 D105              1240             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 7976 00000882 6011              1241             MOV.W   @R1,R0                  ;
 7977 00000884 2008              1242             TST     R0,R0                   ;
 7978                            1243             TST_BIT_ON RDY_CHK_0030         ;
 7979 00000886 8B09                   M           BF      RDY_CHK_0030
 7980                            1244             M_BRA   RDY_CHK_1200            ;(終了待ち)
 7981 00000888 A266                   M           BRA     RDY_CHK_1200
 7982 0000088A 0009                   M           NOP
 7983                            1245     
 7984                                     ***** BEGIN-POOL *****
 7985 0000088C 00000000                   DATA FOR SOURCE-LINE 1227
 7986 00000890 00000000                   DATA FOR SOURCE-LINE 1231
 7987 00000894 00000000                   DATA FOR SOURCE-LINE 1235
 7988 00000898 00000000                   DATA FOR SOURCE-LINE 1240
 7989                                     ***** END-POOL *****
 7990 0000089C                   1246     RDY_CHK_0030:
 7991                            1247             M_BRA   RDY_CHK_0500            ;通常の位置決め状態
 7992 0000089C A1B8                   M           BRA     RDY_CHK_0500
 7993 0000089E 0009                   M           NOP
 7994                            1248     
 7995 000008A0                   1249     RDY_CHK_0050:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    39
PROGRAM NAME =

 7996                            1250     ;       ----------------------------------------------
 7997                            1251             _MONI_RDY_SET SETNO=1,SETREG=R0,WKREG=R1        ;2014-09-13
 7998 000008A0 9007                   M           MOV.W   #1,R0
 7999 000008A2 D104                   M           MOV.L   #_MONI_RDY_STEP,R1
 8000 000008A4 2101                   M           MOV.W   R0,@R1
 8001                            1252     ;       ----------------------------------------------
 8002                            1253     
 8003 000008A6 D104              1254             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 8004 000008A8 6011              1255             MOV.W   @R1,R0                  ;
 8005 000008AA 2008              1256             TST     R0,R0                   ;
 8006                            1257             TST_BIT_OF RDY_CHK_0060         ;
 8007 000008AC 8906                   M           BT      RDY_CHK_0060
 8008                            1258             M_BRA   RDY_CHK_0200_START_WAIT ;
 8009 000008AE A115                   M           BRA     RDY_CHK_0200_START_WAIT
 8010 000008B0 0009                   M           NOP
 8011                            1259     
 8012                                     ***** BEGIN-POOL *****
 8013 000008B2 0001                       DATA FOR SOURCE-LINE 1251
 8014 000008B4 00000000                   DATA FOR SOURCE-LINE 1251
 8015 000008B8 00000000                   DATA FOR SOURCE-LINE 1254
 8016                                     ***** END-POOL *****
 8017 000008BC                   1260     RDY_CHK_0060:
 8018                            1261     ;       ----------------------------------------------
 8019                            1262             _MONI_RDY_SET SETNO=2,SETREG=R0,WKREG=R1        ;2014-09-13
 8020 000008BC 900A                   M           MOV.W   #2,R0
 8021 000008BE D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 8022 000008C0 2101                   M           MOV.W   R0,@R1
 8023                            1263     ;       ----------------------------------------------
 8024                            1264     
 8025                            1265     ;       ------- 2007-01-16--
 8026                            1266     
 8027                            1267     
 8028                            1268     ;       ------- 2006-07-28---
 8029                            1269             FAR_JSR #_ORGIN_MODE_START_WAIT,R0      ;
 8030 000008C2 D006                   M           MOV.L   #_ORGIN_MODE_START_WAIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8031 000008C4 400B                   M           JSR     @R0                     ;
 8032 000008C6 0009                   M           NOP                                     ;
 8033 000008C8 2008              1270             TST     R0,R0
 8034                            1271             TST_BIT_OF RDY_CHK_0070
 8035 000008CA 890B                   M           BT      RDY_CHK_0070
 8036 000008CC 8855              1272             CMP/EQ  #H'55,R0                        ;
 8037 000008CE 8B07              1273             BF      ORGIN_MODE_START_WT10           ;
 8038                            1274             M_BRA   RDY_CHK_0220                    ;55:起動
 8039 000008D0 A0EC                   M           BRA     RDY_CHK_0220
 8040 000008D2 0009                   M           NOP
 8041                                     ***** BEGIN-POOL *****
 8042 000008D4 0002                       DATA FOR SOURCE-LINE 1262
 8043 000008D6 0000                       ALIGNMENT CODE
 8044 000008D8 00000000                   DATA FOR SOURCE-LINE 1262
 8045 000008DC 00000000                   DATA FOR SOURCE-LINE 1269
 8046                                     ***** END-POOL *****
 8047 000008E0                   1275     ORGIN_MODE_START_WT10
 8048                            1276             M_BRA   RDY_CHK_0399                    ;-1
 8049 000008E0 A18C                   M           BRA     RDY_CHK_0399
 8050 000008E2 0009                   M           NOP
 8051                            1277     
 8052 000008E4                   1278     RDY_CHK_0070:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    40
PROGRAM NAME =

 8053                            1279     
 8054                            1280     ;       ----------------------------------------------
 8055                            1281             _MONI_RDY_SET SETNO=3,SETREG=R0,WKREG=R1        ;2014-09-13
 8056 000008E4 901B                   M           MOV.W   #3,R0
 8057 000008E6 D10E                   M           MOV.L   #_MONI_RDY_STEP,R1
 8058 000008E8 2101                   M           MOV.W   R0,@R1
 8059                            1282     ;       ----------------------------------------------
 8060                            1283     
 8061                            1284     ;       ------- 2008-04-28(ORGIN MODE) ------------
 8062                            1285             FAR_JSR #_ORGIN_180CHK,R0
 8063 000008EA D00E                   M           MOV.L   #_ORGIN_180CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8064 000008EC 400B                   M           JSR     @R0                     ;
 8065 000008EE 0009                   M           NOP                                     ;
 8066                            1286     
 8067                            1287     
 8068                            1288     
 8069                            1289     
 8070                            1290     ;       ======= 非運転状態では位置決め完了待ちｸﾘｱ 2003-06-13 ====
 8071                            1291             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
 8072 000008F0 D10D                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
 8073 000008F2 6011                   M           MOV.W   @R1,R0          ;
 8074 000008F4 C9FE                   M           AND     #LOW ~BIT0,R0           ;
 8075 000008F6 2101                   M           MOV.W   R0,@R1          ;
 8076                            1292     
 8077                            1293     ;       ------- 2006-07-28 ----------------
 8078                            1294             FAR_JSR #_TEP_FLG_CLR,R0
 8079 000008F8 D00C                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8080 000008FA 400B                   M           JSR     @R0                     ;
 8081 000008FC 0009                   M           NOP                                     ;
 8082                            1295     
 8083                            1296     ;       ===========================================
 8084                            1297     ;       ===     安全装置ﾏｽｸ                     ===
 8085                            1298     ;       ===========================================
 8086                            1299     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
 8087                            1300     
 8088                            1301     ;       ===========================================================
 8089                            1302     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択のSWの反映を停止の待機点で行う     ===
 8090                            1303     ;       ===========================================================
 8091                            1304     ;       ======>2013-08-20 停止中であればSW切り替えを反映させる
 8092                            1305     
 8093 000008FE D10C              1306             MOV.L   #_UPMSK2_MOD,R1                         ;
 8094 00000900 6011              1307             MOV.W   @R1,R0                                  ;
 8095 00000902 2008              1308             TST     R0,R0                                   ;
 8096                            1309             TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;SWを使用しない
 8097 00000904 8902                   M           BT      RDY_SFTY_MASK2CHK050
 8098                            1310     
 8099                            1311     ;;;;;;;;;;;;2013-08-20; <ふりこの場合、待機点の切替が起動後になってしまう。>
 8100                            1312     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 8101                            1313     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8102                            1314     ;;;;;;;;;;;;2013-08-20  TST     #(_DMATH_DNDRIV),R0                     ;
 8103                            1315     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK030                 ;
 8104                            1316     ;;;;;;;;;;;;2013-08-20
 8105                            1317     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1             ;
 8106                            1318     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8107                            1319     ;;;;;;;;;;;;2013-08-20  MOV.W   #BIT7,R4                                ;
 8108                            1320     ;;;;;;;;;;;;2013-08-20  TST     R4,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    41
PROGRAM NAME =

 8109                            1321     ;;;;;;;;;;;;2013-08-20  TST_BIT_ON RDY_SFTY_MASK2CHK040                 ;
 8110                            1322     ;;;;;;;;;;;;2013-08-20
 8111                            1323     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK030
 8112                            1324     ;;;;;;;;;;;;2013-08-20
 8113                            1325     ;;;;;;;;;;;;2013-08-20  MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機
                                          点範囲
 8114                            1326     ;;;;;;;;;;;;2013-08-20  MOV.W   @R4,R0                                  ;
 8115                            1327     ;;;;;;;;;;;;2013-08-20  TST     #BIT0,R0                                ;
 8116                            1328     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;待機点ではない
 8117                            1329     ;;;;;;;;;;;;2013-08-20
 8118                            1330     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK040
 8119                            1331     
 8120                            1332             FAR_JSR #_MASK2_SAFTY_SW_MOV,R0                 ;
 8121 00000906 D00B                   M           MOV.L   #_MASK2_SAFTY_SW_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8122 00000908 400B                   M           JSR     @R0                     ;
 8123 0000090A 0009                   M           NOP                                     ;
 8124                            1333     
 8125 0000090C                   1334     RDY_SFTY_MASK2CHK050:
 8126                            1335     
 8127                            1336     
 8128                            1337     ;       ===========================================================
 8129                            1338     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択 停止中[待機点と待機点以外]        ===
 8130                            1339     ;       ===========================================================
 8131                            1340     ;;;;;   FAR_JSR #_SFTY_MASK_START,R0            ;従来のソフトは停止時いつでもマスク
 8132                            1341     ;;;;2015-09-06  FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8133                            1342     
 8134                            1343     
 8135                            1344     ;;;;_BRK_SADOU_CHG
 8136                            1345     ;       -------- 2015-09-06---------
 8137 0000090C D10A              1346             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
 8138 0000090E 6011              1347             MOV.W   @R1,R0                                                  ;
 8139 00000910 8801              1348             CMP/EQ  #1,R0
 8140 00000912 8915              1349             BT      RDY_SFTY_MASK2CHK055                                    ;停止制御有効
 8141                            1350     
 8142                            1351             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
 8143 00000914 D009                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8144 00000916 400B                   M           JSR     @R0                     ;
 8145 00000918 0009                   M           NOP                                     ;
 8146                            1352             M_BRA   RDY_SFTY_MASK2CHK100                                    ;
 8147 0000091A A022                   M           BRA     RDY_SFTY_MASK2CHK100
 8148 0000091C 0009                   M           NOP
 8149                            1353     
 8150                                     ***** BEGIN-POOL *****
 8151 0000091E 0003                       DATA FOR SOURCE-LINE 1281
 8152 00000920 00000000                   DATA FOR SOURCE-LINE 1281
 8153 00000924 00000000                   DATA FOR SOURCE-LINE 1285
 8154 00000928 00000000                   DATA FOR SOURCE-LINE 1291
 8155 0000092C 00000000                   DATA FOR SOURCE-LINE 1294
 8156 00000930 00000000                   DATA FOR SOURCE-LINE 1306
 8157 00000934 00000000                   DATA FOR SOURCE-LINE 1332
 8158 00000938 00000000                   DATA FOR SOURCE-LINE 1346
 8159 0000093C 00000000                   DATA FOR SOURCE-LINE 1351
 8160                                     ***** END-POOL *****
 8161 00000940                   1354     RDY_SFTY_MASK2CHK055:
 8162                            1355     
 8163 00000940 D104              1356             MOV.L   #_DRV_START_KEEP,R1
 8164 00000942 6011              1357             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    42
PROGRAM NAME =

 8165 00000944 C801              1358             TST     #BIT0,R0                        ;
 8166                            1359             TST_BIT_ON RDY_SFTY_MASK2CHK060         ;
 8167 00000946 8B09                   M           BF      RDY_SFTY_MASK2CHK060
 8168                            1360     
 8169                            1361             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8170 00000948 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8171 0000094A 400B                   M           JSR     @R0                     ;
 8172 0000094C 0009                   M           NOP                                     ;
 8173                            1362             M_BRA   RDY_SFTY_MASK2CHK100            ;
 8174 0000094E A008                   M           BRA     RDY_SFTY_MASK2CHK100
 8175 00000950 0009                   M           NOP
 8176                                     ***** BEGIN-POOL *****
 8177 00000952 0000                       ALIGNMENT CODE
 8178 00000954 00000000                   DATA FOR SOURCE-LINE 1356
 8179 00000958 00000000                   DATA FOR SOURCE-LINE 1361
 8180                                     ***** END-POOL *****
 8181 0000095C                   1363     RDY_SFTY_MASK2CHK060:
 8182                            1364             FAR_JSR #_SFTY_MASK_END,R0              ;
 8183 0000095C D004                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8184 0000095E 400B                   M           JSR     @R0                     ;
 8185 00000960 0009                   M           NOP                                     ;
 8186 00000962                   1365     RDY_SFTY_MASK2CHK100:
 8187                            1366     
 8188                            1367     ;       ================================================================
 8189                            1368     
 8190 00000962 D104              1369             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 8191 00000964 6011              1370             MOV.W   @R1,R0                  ;
 8192 00000966 C820              1371             TST     #_WORDY,R0              ;RDY
 8193                            1372             TST_BIT_OF RDY_CHK_0120         ;準備未完了
 8194 00000968 8906                   M           BT      RDY_CHK_0120
 8195                            1373             M_BRA   RDY_CHK_0200            ;(準備完了ON)
 8196 0000096A A067                   M           BRA     RDY_CHK_0200
 8197 0000096C 0009                   M           NOP
 8198                            1374     
 8199                                     ***** BEGIN-POOL *****
 8200 0000096E 0000                       ALIGNMENT CODE
 8201 00000970 00000000                   DATA FOR SOURCE-LINE 1364
 8202 00000974 00000000                   DATA FOR SOURCE-LINE 1369
 8203                                     ***** END-POOL *****
 8204 00000978                   1375     RDY_CHK_0120:
 8205                            1376     ;       ----------------------------------------------
 8206                            1377             _MONI_RDY_SET SETNO=4,SETREG=R0,WKREG=R1        ;2014-09-13
 8207 00000978 9035                   M           MOV.W   #4,R0
 8208 0000097A D11F                   M           MOV.L   #_MONI_RDY_STEP,R1
 8209 0000097C 2101                   M           MOV.W   R0,@R1
 8210                            1378     ;       ----------------------------------------------
 8211                            1379     
 8212                            1380     ;       ===================================
 8213                            1381     ;       ===                             ===
 8214                            1382     ;       ===     準備未完了              ===
 8215                            1383     ;       ===                             ===
 8216                            1384     ;       ===================================
 8217                            1385     ;       (本当は両手ﾌﾘ+連続停止OFF+,,,,,)
 8218                            1386     
 8219                            1387     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
 8220                            1388     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
 8221                            1389     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    43
PROGRAM NAME =

 8222                            1390     
 8223                            1391     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8224                            1392             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8225 0000097E D11F                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 8226 00000980 6011                   M           MOV.W   @R1,R0          ;
 8227 00000982 9431                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8228 00000984 2049                   M           AND     R4,R0           ;
 8229 00000986 2101                   M           MOV.W   R0,@R1          ;
 8230                            1393     
 8231                            1394     ;       ----- 2006-04-10----
 8232                            1395     ;;;     MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK
 8233                            1396     
 8234                            1397     
 8235                            1398     
 8236                            1399     ;;;;;;;;;[2007-01-16]   MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;
 8237                            1400     ;;;;;;;;;[2007-01-16]   MOV.W   @R1,R0                  ;
 8238                            1401     ;;;;;;;;;[2007-01-16]   TST     R0,R0                   ;
 8239                            1402     ;;;;;;;;;[2007-01-16]   TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
 8240                            1403     
 8241                            1404     ;2015-09-06 _BRK_SADOU_CHG 遮光解除後の準備完了の遅延をやめる
 8242                            1405     ;2015-09-06;    ------- 2007-01-19(原点復帰のみこの処理を入れる)----------
 8243                            1406     ;2015-09-06     MOV.L   #_MODE_SEL,R1                   ;
 8244                            1407     ;2015-09-06     MOV.W   @R1,R0                          ;
 8245                            1408     ;2015-09-06     TST     #_W1DUP,R0                      ;原点復帰?
 8246                            1409     ;2015-09-06     TST_BIT_OF RDY_CHK_0130                 ;
 8247                            1410     ;2015-09-06
 8248                            1411     ;2015-09-06;    -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
 8249                            1412     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
 8250                            1413     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
 8251                            1414     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
 8252                            1415     ;2015-09-06     TST     R4,R0                           ;
 8253                            1416     ;2015-09-06     TST_BIT_ON RDY_CHK_0130                 ;"MC時=1"
 8254                            1417     ;2015-09-06
 8255                            1418     ;2015-09-06;    -------- 原点復帰[2007年の話]----------
 8256                            1419     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;原点復帰モードのみ準備完了を遅らせる　０
                                          ．８秒くらい
 8257                            1420     ;2015-09-06     MOV.W   @R1,R0                  ;パルス遅らせる方式では、チョン押しと長押
                                          し区別がしずらいから
 8258                            1421     ;2015-09-06     TST     R0,R0                   ;準備完了を遅らせている
 8259                            1422     ;2015-09-06     TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
 8260                            1423     ;2015-09-06
 8261                            1424     ;2015-09-06RDY_CHK_0130:
 8262                            1425     ;       ----------------------------------------------
 8263                            1426             _MONI_RDY_SET SETNO=5,SETREG=R0,WKREG=R1        ;2014-09-13
 8264 00000988 902F                   M           MOV.W   #5,R0
 8265 0000098A D11B                   M           MOV.L   #_MONI_RDY_STEP,R1
 8266 0000098C 2101                   M           MOV.W   R0,@R1
 8267                            1427     ;       ----------------------------------------------
 8268                            1428     
 8269                            1429     
 8270                            1430     ;       ------- 順番入れ替え 2006-07-28 (とりあえず不要な入れ替えでしたが、、)-------
 8271                            1431             FAR_JSR #_RDYON_CONF1,R1        ;
 8272 0000098E D11C                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8273 00000990 410B                   M           JSR     @R1                     ;
 8274 00000992 0009                   M           NOP                                     ;
 8275 00000994 2008              1432             TST     R0,R0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    44
PROGRAM NAME =

 8276                            1433             TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8277 00000996 8B45                   M           BF      RDY_CHK_0199
 8278                            1434     
 8279                            1435     
 8280                            1436     ;       ----------------------------------------------
 8281                            1437             _MONI_RDY_SET SETNO=20,SETREG=R0,WKREG=R1       ;2014-09-13
 8282 00000998 9028                   M           MOV.W   #20,R0
 8283 0000099A D117                   M           MOV.L   #_MONI_RDY_STEP,R1
 8284 0000099C 2101                   M           MOV.W   R0,@R1
 8285                            1438     ;       ----------------------------------------------
 8286                            1439     
 8287                            1440     
 8288                            1441     
 8289 0000099E D119              1442             MOV.L   #_BTTN_FLG,R1           ;
 8290 000009A0 6011              1443             MOV.W   @R1,R0                  ;
 8291 000009A2 C801              1444             TST     #BIT0,R0                ;両手ﾌﾘ?
 8292                            1445             TST_BIT_OF RDY_CHK_0199         ;NO
 8293 000009A4 893E                   M           BT      RDY_CHK_0199
 8294                            1446     
 8295                            1447     ;       ----------------------------------------------
 8296                            1448             _MONI_RDY_SET SETNO=21,SETREG=R0,WKREG=R1       ;2014-09-13
 8297 000009A6 9022                   M           MOV.W   #21,R0
 8298 000009A8 D113                   M           MOV.L   #_MONI_RDY_STEP,R1
 8299 000009AA 2101                   M           MOV.W   R0,@R1
 8300                            1449     ;       ----------------------------------------------
 8301                            1450     
 8302                            1451     ;;      ------- 順番入れ替え 2006-07-28-------
 8303                            1452     ;;      MOV.L   #_BTTN_FLG,R1           ;
 8304                            1453     ;;      MOV.W   @R1,R0                  ;
 8305                            1454     ;;      TST     #BIT0,R0                ;両手ﾌﾘ?
 8306                            1455     ;;      TST_BIT_OF RDY_CHK_0199         ;NO
 8307                            1456     ;;
 8308                            1457     ;;      FAR_JSR #_RDYON_CONF1,R1        ;
 8309                            1458     ;;      TST     R0,R0                   ;
 8310                            1459     ;;      TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8311                            1460     ;------- 両手フリ----
 8312                            1461     
 8313 000009AC D116              1462             MOV.L   #_MODE_SEL,R1           ;
 8314 000009AE 6611              1463             MOV.W   @R1,R6                  ;
 8315 000009B0 921E              1464             MOV.W   #_W1CNT,R2              ;
 8316 000009B2 2628              1465             TST     R2,R6                   ;
 8317                            1466             TST_BIT_OF RDY_CHK_0150         ;
 8318 000009B4 8904                   M           BT      RDY_CHK_0150
 8319                            1467     
 8320 000009B6 D315              1468             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 8321 000009B8 6131              1469             MOV.W   @R3,R1                  ;
 8322 000009BA 921A              1470             MOV.W   #_W2SUP,R2              ;
 8323 000009BC 2128              1471             TST     R2,R1                   ;
 8324                            1472             TST_BIT_ON RDY_CHK_0199         ;連続ｾｯﾄｱｯﾌﾟ釦中
 8325 000009BE 8B31                   M           BF      RDY_CHK_0199
 8326                            1473     
 8327 000009C0                   1474     RDY_CHK_0150:
 8328 000009C0 200A              1475             XOR     R0,R0
 8329 000009C2 D113              1476             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
 8330 000009C4 2101              1477             MOV.W   R0,@R1                  ;
 8331                            1478     
 8332 000009C6 9215              1479             MOV.W   #_SYS_BSAME_TIM,R2      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    45
PROGRAM NAME =

 8333 000009C8 D112              1480             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 8334 000009CA 2121              1481             MOV.W   R2,@R1                  ;
 8335                            1482     
 8336                            1483             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0  ;
 8337 000009CC D012                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8338 000009CE 400B                   M           JSR     @R0                     ;
 8339 000009D0 0009                   M           NOP                                     ;
 8340                            1484             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8341 000009D2 D012                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8342 000009D4 400B                   M           JSR     @R0                     ;
 8343 000009D6 0009                   M           NOP                                     ;
 8344 000009D8 2008              1485             TST     R0,R0                   ;
 8345                            1486             TST_BIT_OF RDY_CHK_0198         ;WAIT
 8346 000009DA 8902                   M           BT      RDY_CHK_0198
 8347                            1487             FAR_JSR #_RDY_ON,R1             ;準備完了へ遷移
 8348 000009DC D110                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8349 000009DE 410B                   M           JSR     @R1                     ;
 8350 000009E0 0009                   M           NOP                                     ;
 8351 000009E2                   1488     RDY_CHK_0198:
 8352                            1489             M_BRA   RDY_CHK_EXIT
 8353 000009E2 A1EA                   M           BRA     RDY_CHK_EXIT
 8354 000009E4 0009                   M           NOP
 8355                            1490     
 8356                                     ***** BEGIN-POOL *****
 8357 000009E6 0004                       DATA FOR SOURCE-LINE 1377
 8358 000009E8 FFF7                       DATA FOR SOURCE-LINE 1392
 8359 000009EA 0005                       DATA FOR SOURCE-LINE 1426
 8360 000009EC 0014                       DATA FOR SOURCE-LINE 1437
 8361 000009EE 0015                       DATA FOR SOURCE-LINE 1448
 8362 000009F0 0008                       DATA FOR SOURCE-LINE 1464
 8363 000009F2 0080                       DATA FOR SOURCE-LINE 1470
 8364 000009F4 01F4                       DATA FOR SOURCE-LINE 1479
 8365 000009F6 0000                       ALIGNMENT CODE
 8366 000009F8 00000000                   DATA FOR SOURCE-LINE 1377,1426,1437,1448
 8367 000009FC 00000000                   DATA FOR SOURCE-LINE 1392
 8368 00000A00 00000000                   DATA FOR SOURCE-LINE 1431
 8369 00000A04 00000000                   DATA FOR SOURCE-LINE 1442
 8370 00000A08 00000000                   DATA FOR SOURCE-LINE 1462
 8371 00000A0C 00000000                   DATA FOR SOURCE-LINE 1468
 8372 00000A10 00000000                   DATA FOR SOURCE-LINE 1476
 8373 00000A14 00000000                   DATA FOR SOURCE-LINE 1480
 8374 00000A18 00000000                   DATA FOR SOURCE-LINE 1483
 8375 00000A1C 00000000                   DATA FOR SOURCE-LINE 1484
 8376 00000A20 00000000                   DATA FOR SOURCE-LINE 1487
 8377                                     ***** END-POOL *****
 8378 00000A24                   1491     RDY_CHK_0199:
 8379                            1492             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したいをOFF
 8380 00000A24 D003                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8381 00000A26 400B                   M           JSR     @R0                     ;
 8382 00000A28 0009                   M           NOP                                     ;
 8383                            1493             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
 8384 00000A2A D003                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8385 00000A2C 400B                   M           JSR     @R0                     ;
 8386 00000A2E 0009                   M           NOP                                     ;
 8387                            1494     
 8388                            1495             M_BRA   RDY_CHK_EXIT
 8389 00000A30 A1C3                   M           BRA     RDY_CHK_EXIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    46
PROGRAM NAME =

 8390 00000A32 0009                   M           NOP
 8391                            1496     
 8392                            1497     ;       ===================================
 8393                            1498     ;       ===     準備完了ON              ===
 8394                            1499     ;       ===     起動または準備未完了    ===
 8395                            1500     ;       ===================================
 8396                                     ***** BEGIN-POOL *****
 8397 00000A34 00000000                   DATA FOR SOURCE-LINE 1492
 8398 00000A38 00000000                   DATA FOR SOURCE-LINE 1493
 8399                                     ***** END-POOL *****
 8400 00000A3C                   1501     RDY_CHK_0200:
 8401                            1502              .AIF   1 EQ 1  ;
 8402                            1503 C   ;       -------- 2016-10-31 ADD 二重回路対策
 8403                            1504              .AENDI
 8404                            1505             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-07-22 二重回路対策
 8405 00000A3C D00E                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8406 00000A3E 400B                   M           JSR     @R0                     ;
 8407 00000A40 0009                   M           NOP                                     ;
 8408                            1506     
 8409                            1507     
 8410                            1508             FAR_JSR #_RDYON_CONF1,R1                ;
 8411 00000A42 D10E                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8412 00000A44 410B                   M           JSR     @R1                     ;
 8413 00000A46 0009                   M           NOP                                     ;
 8414 00000A48 2008              1509             TST     R0,R0                           ;
 8415                            1510             TST_BIT_ON RDY_CHK_0299A                ;準備未完了へ
 8416 00000A4A 8B2D                   M           BF      RDY_CHK_0299A
 8417                            1511     
 8418                            1512     
 8419                            1513     ;       ------------------------------------
 8420                            1514             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8421 00000A4C D00C                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8422 00000A4E 400B                   M           JSR     @R0                     ;
 8423 00000A50 0009                   M           NOP                                     ;
 8424                            1515     ;       ------------------------------------
 8425                            1516     
 8426                            1517             FAR_JSR #_BTTN_START_CHK,R1             ;(0.5秒同時ON,) R0=00(KEEP) 55(起動) FF(準
                                          備未完へ)
 8427 00000A52 D10C                   M           MOV.L   #_BTTN_START_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8428 00000A54 410B                   M           JSR     @R1                     ;
 8429 00000A56 0009                   M           NOP                                     ;
 8430 00000A58 2008              1518             TST     R0,R0                           ;
 8431                            1519             TST_BIT_OF RDY_CHK_0290A                ;変化なし 2002-10-08 相手側ﾁｪｯｸ
 8432 00000A5A 8923                   M           BT      RDY_CHK_0290A
 8433 00000A5C 8855              1520             CMP/EQ  #H'55,R0                        ;
 8434 00000A5E 8B23              1521             BF      RDY_CHK_0299A                   ;失敗 -1
 8435                            1522     
 8436                            1523     ;       ---------------------------
 8437                            1524     ;       ---                     ---
 8438                            1525     ;       ---     起動が入った    ---
 8439                            1526     ;       ---     2007-01-16      ---
 8440                            1527     ;       ---                     ---
 8441                            1528     ;       ---------------------------
 8442                            1529             FAR_JSR #_DRV_START_KEP_WAIT,R0         ;
 8443 00000A60 D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8444 00000A62 400B                   M           JSR     @R0                     ;
 8445 00000A64 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    47
PROGRAM NAME =

 8446 00000A66 2008              1530             TST     R0,R0                           ;
 8447                            1531             TST_BIT_OF RDY_CHK_0280                 ;(原点復帰または解除中ではない)
 8448 00000A68 8912                   M           BT      RDY_CHK_0280
 8449 00000A6A 8855              1532             CMP/EQ  #H'55,R0                        ;
 8450 00000A6C 8B1A              1533             BF      RDY_CHK_0290A                   ;
 8451                            1534     
 8452                            1535     ;       ------- 起動時の原点復帰時の演算(ﾚﾍﾞﾙﾀｲﾌﾟのみ使用可能)------
 8453                            1536             FAR_JSR #_ORGIN_MODE_SEL_START,R0       ;
 8454 00000A6E D007                   M           MOV.L   #_ORGIN_MODE_SEL_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8455 00000A70 400B                   M           JSR     @R0                     ;
 8456 00000A72 0009                   M           NOP                                     ;
 8457                            1537     
 8458                            1538             M_BRA   RDY_CHK_0220                    ;起動
 8459 00000A74 A01A                   M           BRA     RDY_CHK_0220
 8460 00000A76 0009                   M           NOP
 8461                            1539     
 8462                            1540     
 8463                                     ***** BEGIN-POOL *****
 8464 00000A78 00000000                   DATA FOR SOURCE-LINE 1505
 8465 00000A7C 00000000                   DATA FOR SOURCE-LINE 1508
 8466 00000A80 00000000                   DATA FOR SOURCE-LINE 1514
 8467 00000A84 00000000                   DATA FOR SOURCE-LINE 1517
 8468 00000A88 00000000                   DATA FOR SOURCE-LINE 1529
 8469 00000A8C 00000000                   DATA FOR SOURCE-LINE 1536
 8470                                     ***** END-POOL *****
 8471 00000A90                   1541     RDY_CHK_0280
 8472                            1542     
 8473                            1543     ;       ===================================
 8474                            1544     ;       ===                             ===
 8475                            1545     ;       ===     2006-07-28              ===
 8476                            1546     ;       ===     原点起動                ===
 8477                            1547     ;       ===                             ===
 8478                            1548     ;       ===================================
 8479                            1549     ;       ここのはこない(エッジタイプだけこれ)
 8480                            1550             FAR_JSR #_ORGIN_MODE_SEL_WAIT,R0        ;
 8481 00000A90 D003                   M           MOV.L   #_ORGIN_MODE_SEL_WAIT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8482 00000A92 400B                   M           JSR     @R0                     ;
 8483 00000A94 0009                   M           NOP                                     ;
 8484 00000A96 2008              1551             TST     R0,R0                           ;
 8485                            1552             TST_BIT_OF RDY_CHK_0220                 ;起動
 8486 00000A98 8908                   M           BT      RDY_CHK_0220
 8487                            1553             M_BRA   RDY_CHK_0399                    ;
 8488 00000A9A A0AF                   M           BRA     RDY_CHK_0399
 8489 00000A9C 0009                   M           NOP
 8490                            1554     
 8491                            1555     
 8492                                     ***** BEGIN-POOL *****
 8493 00000A9E 0000                       ALIGNMENT CODE
 8494 00000AA0 00000000                   DATA FOR SOURCE-LINE 1550
 8495                                     ***** END-POOL *****
 8496 00000AA4                   1556     RDY_CHK_0290A:
 8497                            1557             M_BRA   RDY_CHK_0290                    ;
 8498 00000AA4 A094                   M           BRA     RDY_CHK_0290
 8499 00000AA6 0009                   M           NOP
 8500                            1558     
 8501 00000AA8                   1559     RDY_CHK_0299A:
 8502                            1560             M_BRA   RDY_CHK_0299                    ;失敗 -1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    48
PROGRAM NAME =

 8503 00000AA8 A09C                   M           BRA     RDY_CHK_0299
 8504 00000AAA 0009                   M           NOP
 8505                            1561     
 8506                            1562     
 8507 00000AAC                   1563     RDY_CHK_0220:
 8508                            1564     
 8509                            1565     ;       ===================================
 8510                            1566     ;       ===     擬似起動処理            ===
 8511                            1567     ;       ===================================
 8512                            1568             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
 8513 00000AAC D007                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8514 00000AAE 400B                   M           JSR     @R0                     ;
 8515 00000AB0 0009                   M           NOP                                     ;
 8516                            1569     
 8517                            1570             FAR_JSR #_CPU_AB_STR_ON_OUT,R0          ;
 8518 00000AB2 D007                   M           MOV.L   #_CPU_AB_STR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8519 00000AB4 400B                   M           JSR     @R0                     ;
 8520 00000AB6 0009                   M           NOP                                     ;
 8521 00000AB8 9006              1571             MOV.W   #BIT0,R0                        ;
 8522 00000ABA D106              1572             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 8523 00000ABC 2101              1573             MOV.W   R0,@R1                          ;
 8524                            1574     
 8525                            1575     ;       ==== 2003-07-01 ====
 8526                            1576             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;
 8527 00000ABE D006                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8528 00000AC0 400B                   M           JSR     @R0                     ;
 8529 00000AC2 0009                   M           NOP                                     ;
 8530                            1577             M_BRA   RDY_CHK_0399                    ;準備完了はONのままとする
 8531 00000AC4 A09A                   M           BRA     RDY_CHK_0399
 8532 00000AC6 0009                   M           NOP
 8533                            1578     
 8534                                     ***** BEGIN-POOL *****
 8535 00000AC8 0001                       DATA FOR SOURCE-LINE 1571
 8536 00000ACA 0000                       ALIGNMENT CODE
 8537 00000ACC 00000000                   DATA FOR SOURCE-LINE 1568
 8538 00000AD0 00000000                   DATA FOR SOURCE-LINE 1570
 8539 00000AD4 00000000                   DATA FOR SOURCE-LINE 1572
 8540 00000AD8 00000000                   DATA FOR SOURCE-LINE 1576
 8541                                     ***** END-POOL *****
 8542 00000ADC                   1579     RDY_CHK_0200_START_WAIT:
 8543                            1580     ;       ---- 2015-03-15-------
 8544                            1581             .AIF    1 EQ    0       ;
 8545                            1582             .AELSE
 8546                            1583 C           FAR_JSR #_ELSE_CPU_START_POS_PRESET,R0  ;
 8547 00000ADC D009                   M           MOV.L   #_ELSE_CPU_START_POS_PRESET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8548 00000ADE 400B                   M           JSR     @R0                     ;
 8549 00000AE0 0009                   M           NOP                                     ;
 8550                            1584             .AENDI
 8551                            1585     
 8552                            1586             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 8553 00000AE2 D009                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8554 00000AE4 400B                   M           JSR     @R0                     ;
 8555 00000AE6 0009                   M           NOP                                     ;
 8556 00000AE8 2008              1587             TST     R0,R0                           ;
 8557                            1588             TST_BIT_ON RDY_CHK_0200_START           ;相手も起動したいぞ(これを最初にﾁｪｯｸする事
                                          )
 8558 00000AEA 8B15                   M           BF      RDY_CHK_0200_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    49
PROGRAM NAME =

 8559                            1589     
 8560                            1590     
 8561                            1591     ;       -------HOLDからの起動(運転釦無し、自動起動)　2014-09-01--------------
 8562 00000AEC D107              1592             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 8563 00000AEE 6011              1593             MOV.W   @R1,R0                          ;
 8564 00000AF0 2008              1594             TST     R0,R0                           ;
 8565                            1595             TST_BIT_ON RDY_CHK_0200_START_WT2       ;
 8566 00000AF2 8B0F                   M           BF      RDY_CHK_0200_START_WT2
 8567                            1596     ;       ------------------------------------------------
 8568                            1597     
 8569                            1598     
 8570                            1599             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
 8571 00000AF4 D006                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8572 00000AF6 400B                   M           JSR     @R0                     ;
 8573 00000AF8 0009                   M           NOP                                     ;
 8574                            1600     
 8575 00000AFA 2008              1601             TST     R0,R0                           ;
 8576                            1602             TST_BIT_ON RDY_CHK_0200_START_WT2       ;(準備完了ONならいつまでもまつ)
 8577 00000AFC 8B0A                   M           BF      RDY_CHK_0200_START_WT2
 8578                            1603             M_BRA   RDY_CHK_0299                    ;失敗:起動をあきらめる
 8579 00000AFE A071                   M           BRA     RDY_CHK_0299
 8580 00000B00 0009                   M           NOP
 8581                            1604     
 8582                                     ***** BEGIN-POOL *****
 8583 00000B02 0000                       ALIGNMENT CODE
 8584 00000B04 00000000                   DATA FOR SOURCE-LINE 1583
 8585 00000B08 00000000                   DATA FOR SOURCE-LINE 1586
 8586 00000B0C 00000000                   DATA FOR SOURCE-LINE 1592
 8587 00000B10 00000000                   DATA FOR SOURCE-LINE 1599
 8588                                     ***** END-POOL *****
 8589 00000B14                   1605     RDY_CHK_0200_START_WT2:
 8590                            1606             M_BRA   RDY_CHK_0399
 8591 00000B14 A072                   M           BRA     RDY_CHK_0399
 8592 00000B16 0009                   M           NOP
 8593                            1607     
 8594 00000B18                   1608     RDY_CHK_0200_START:
 8595                            1609     
 8596                            1610     ;       ===================================
 8597                            1611     ;       ===     起動処理                ===
 8598                            1612     ;       ===================================
 8599                            1613     
 8600                            1614     ;;;;;   FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8601                            1615     
 8602                            1616     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8603                            1617             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;2005-01-17
 8604 00000B18 D01C                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8605 00000B1A 400B                   M           JSR     @R0                     ;
 8606 00000B1C 0009                   M           NOP                                     ;
 8607                            1618     
 8608                            1619             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8609 00000B1E D11C                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 8610 00000B20 6011                   M           MOV.W   @R1,R0          ;
 8611 00000B22 9430                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8612 00000B24 2049                   M           AND     R4,R0           ;
 8613 00000B26 2101                   M           MOV.W   R0,@R1          ;
 8614                            1620     
 8615                            1621             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    50
PROGRAM NAME =

 8616 00000B28 D01A                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8617 00000B2A 400B                   M           JSR     @R0                     ;
 8618 00000B2C 0009                   M           NOP                                     ;
 8619                            1622             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
 8620 00000B2E D01A                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8621 00000B30 400B                   M           JSR     @R0                     ;
 8622 00000B32 0009                   M           NOP                                     ;
 8623                            1623             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
 8624 00000B34 D019                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8625 00000B36 400B                   M           JSR     @R0                     ;
 8626 00000B38 0009                   M           NOP                                     ;
 8627                            1624     
 8628                            1625     ;       ==== 2004-01-28 ==
 8629 00000B3A 200A              1626             XOR     R0,R0
 8630 00000B3C D118              1627             MOV.L   #_ENC360_OVER_FLG,R1            ;
 8631 00000B3E 2101              1628             MOV.W   R0,@R1                          ;
 8632                            1629     
 8633                            1630             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
 8634 00000B40 D018                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8635 00000B42 400B                   M           JSR     @R0                     ;
 8636 00000B44 0009                   M           NOP                                     ;
 8637                            1631     
 8638                            1632             FAR_JSR #_CB_CTL_START_INI,R0
 8639 00000B46 D018                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8640 00000B48 400B                   M           JSR     @R0                     ;
 8641 00000B4A 0009                   M           NOP                                     ;
 8642                            1633             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
 8643 00000B4C D017                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8644 00000B4E 400B                   M           JSR     @R0                     ;
 8645 00000B50 0009                   M           NOP                                     ;
 8646                            1634     
 8647                            1635     
 8648                            1636             FAR_JSR #_MN_POS_CTRL_START,R0                                                  ;
 8649 00000B52 D017                   M           MOV.L   #_MN_POS_CTRL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8650 00000B54 400B                   M           JSR     @R0                     ;
 8651 00000B56 0009                   M           NOP                                     ;
 8652                            1637     
 8653                            1638     
 8654                            1639     
 8655                            1640     ;       --------------------2014-09-19-----------------------
 8656                            1641             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
 8657 00000B58 D016                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8658 00000B5A 400B                   M           JSR     @R0                     ;
 8659 00000B5C 0009                   M           NOP                                     ;
 8660                            1642     
 8661                            1643     ;       --------------------2014-09-12-----------------------
 8662                            1644     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
 8663                            1645     ;;;;;;;;;;;     MOV.W   @R1,R0                  ;
 8664                            1646     ;;;;;;;;;;;     PUSH_REG1 R0
 8665                            1647     ;;;;;;;;;;;
 8666                            1648     ;;;;;;;;;;;     FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12[位置計算後にCLR]
 8667                            1649     ;;;;;;;;;;;
 8668                            1650     ;;;;;;;;;;;     POP_REG1 R0
 8669                            1651     ;;;;;;;;;;;     TST     R0,R0                           ;
 8670                            1652     ;;;;;;;;;;;     TST_BIT_OF RDY_POSHLD_CHK050            ;再起動
 8671                            1653     ;;;;;;;;;;;
 8672                            1654     ;;;;;;;;;;;     MOV.B   #BIT0,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    51
PROGRAM NAME =

 8673                            1655     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
 8674                            1656     ;;;;;;;;;;;     MOV.W   R0,@R1                          ;
 8675                            1657     ;;;;;;;;;;;
 8676                            1658     ;;;;;;;;;;;RDY_POSHLD_CHK050
 8677                            1659     ;       --------------------------------------
 8678                            1660     
 8679                            1661             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
 8680 00000B5E D116                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
 8681 00000B60 9212                   M           MOV.W   #BIT0,R2                ;
 8682 00000B62 2121                   M           MOV.W   R2,@R1  ;
 8683                            1662             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
 8684 00000B64 D015                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8685 00000B66 400B                   M           JSR     @R0                     ;
 8686 00000B68 0009                   M           NOP                                     ;
 8687                            1663     
 8688                            1664             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
 8689 00000B6A D015                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8690 00000B6C 400B                   M           JSR     @R0                     ;
 8691 00000B6E 0009                   M           NOP                                     ;
 8692                            1665             FAR_JSR #_RDY_OF,R1                     ;
 8693 00000B70 D114                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8694 00000B72 410B                   M           JSR     @R1                     ;
 8695 00000B74 0009                   M           NOP                                     ;
 8696                            1666     
 8697                            1667              .AIF   1 EQ 1  ;
 8698                            1668 C   ;       -------- 2016-10-31 ADD 二重回路対策
 8699                            1669              .AENDI
 8700                            1670             FAR_JSR #_SELFCHK_LOCK_SET,R0           ;2016-04-16
 8701 00000B76 D014                   M           MOV.L   #_SELFCHK_LOCK_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8702 00000B78 400B                   M           JSR     @R0                     ;
 8703 00000B7A 0009                   M           NOP                                     ;
 8704                            1671     
 8705                            1672     
 8706                            1673     ;       ====== 2007-01-16========
 8707                            1674             FAR_JSR #_START_SFTY_LOCK_CLR,R0
 8708 00000B7C D013                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8709 00000B7E 400B                   M           JSR     @R0                     ;
 8710 00000B80 0009                   M           NOP                                     ;
 8711                            1675     
 8712                            1676     
 8713                            1677     
 8714                            1678     
 8715                            1679     
 8716                            1680     ;;;     XOR     R0,R0                           ;
 8717                            1681     ;;;     MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したいは終わり側にも使用する
 8718                            1682     ;;;     MOV.W   R0,@R1                          ;
 8719                            1683     ;;;     FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 8720                            1684             M_BRA   RDY_CHK_0399                    ;
 8721 00000B82 A03B                   M           BRA     RDY_CHK_0399
 8722 00000B84 0009                   M           NOP
 8723                            1685     
 8724                            1686     ;       ====== 保持状態=======
 8725                                     ***** BEGIN-POOL *****
 8726 00000B86 FFF7                       DATA FOR SOURCE-LINE 1619
 8727 00000B88 0001                       DATA FOR SOURCE-LINE 1661
 8728 00000B8A 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    52
PROGRAM NAME =

 8729 00000B8C 00000000                   DATA FOR SOURCE-LINE 1617
 8730 00000B90 00000000                   DATA FOR SOURCE-LINE 1619
 8731 00000B94 00000000                   DATA FOR SOURCE-LINE 1621
 8732 00000B98 00000000                   DATA FOR SOURCE-LINE 1622
 8733 00000B9C 00000000                   DATA FOR SOURCE-LINE 1623
 8734 00000BA0 00000000                   DATA FOR SOURCE-LINE 1627
 8735 00000BA4 00000000                   DATA FOR SOURCE-LINE 1630
 8736 00000BA8 00000000                   DATA FOR SOURCE-LINE 1632
 8737 00000BAC 00000000                   DATA FOR SOURCE-LINE 1633
 8738 00000BB0 00000000                   DATA FOR SOURCE-LINE 1636
 8739 00000BB4 00000000                   DATA FOR SOURCE-LINE 1641
 8740 00000BB8 00000000                   DATA FOR SOURCE-LINE 1661
 8741 00000BBC 00000000                   DATA FOR SOURCE-LINE 1662
 8742 00000BC0 00000000                   DATA FOR SOURCE-LINE 1664
 8743 00000BC4 00000000                   DATA FOR SOURCE-LINE 1665
 8744 00000BC8 00000000                   DATA FOR SOURCE-LINE 1670
 8745 00000BCC 00000000                   DATA FOR SOURCE-LINE 1674
 8746                                     ***** END-POOL *****
 8747 00000BD0                   1687     RDY_CHK_0290:                           ;((((()))))
 8748                            1688             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8749 00000BD0 D003                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8750 00000BD2 400B                   M           JSR     @R0                     ;
 8751 00000BD4 0009                   M           NOP                                     ;
 8752 00000BD6 2008              1689             TST     R0,R0                   ;
 8753                            1690             TST_BIT_OF RDY_CHK_0299         ;相手側CPUのせいで準備未完了へ
 8754 00000BD8 8904                   M           BT      RDY_CHK_0299
 8755                            1691             M_BRA   RDY_CHK_0399            ;
 8756 00000BDA A00F                   M           BRA     RDY_CHK_0399
 8757 00000BDC 0009                   M           NOP
 8758                            1692     
 8759                            1693     ;       ======= 準備完了失敗====
 8760                                     ***** BEGIN-POOL *****
 8761 00000BDE 0000                       ALIGNMENT CODE
 8762 00000BE0 00000000                   DATA FOR SOURCE-LINE 1688
 8763                                     ***** END-POOL *****
 8764 00000BE4                   1694     RDY_CHK_0299:
 8765                            1695             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
 8766 00000BE4 D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8767 00000BE6 400B                   M           JSR     @R0                     ;
 8768 00000BE8 0009                   M           NOP                                     ;
 8769                            1696             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
 8770 00000BEA D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8771 00000BEC 400B                   M           JSR     @R0                     ;
 8772 00000BEE 0009                   M           NOP                                     ;
 8773                            1697             FAR_JSR #_RDY_OF,R0                     ;準備未完了へ遷移
 8774 00000BF0 D005                   M           MOV.L   #_RDY_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8775 00000BF2 400B                   M           JSR     @R0                     ;
 8776 00000BF4 0009                   M           NOP                                     ;
 8777                            1698     ;;;     FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 8778                            1699     
 8779                            1700     ;       ------- 2007-01-16----------
 8780 00000BF6 200A              1701             XOR     R0,R0
 8781 00000BF8 D104              1702             MOV.L   #_DRV_START_KEEP,R1             ;FLG
 8782 00000BFA 2101              1703             MOV.W   R0,@R1                          ;
 8783                            1704     
 8784 00000BFC                   1705     RDY_CHK_0399:
 8785                            1706             M_BRA   RDY_CHK_EXIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    53
PROGRAM NAME =

 8786 00000BFC A0DD                   M           BRA     RDY_CHK_EXIT
 8787 00000BFE 0009                   M           NOP
 8788                            1707     
 8789                            1708     
 8790                            1709     
 8791                            1710     ;       ===================================
 8792                            1711     ;       ===     ﾊﾞﾙﾌﾞON(位置決め中)     ===
 8793                            1712     ;       ===================================
 8794                            1713     ;       >> ﾛｯﾄｶｳﾝﾀ処理 <<
 8795                                     ***** BEGIN-POOL *****
 8796 00000C00 00000000                   DATA FOR SOURCE-LINE 1695
 8797 00000C04 00000000                   DATA FOR SOURCE-LINE 1696
 8798 00000C08 00000000                   DATA FOR SOURCE-LINE 1697
 8799 00000C0C 00000000                   DATA FOR SOURCE-LINE 1702
 8800                                     ***** END-POOL *****
 8801 00000C10                   1714     RDY_CHK_0500:
 8802                            1715     
 8803                            1716     ;;;2007-12-24   FAR_JSR #_LOT_CNT_CNT,R0        ;
 8804                            1717     
 8805                            1718     
 8806                            1719             FAR_JSR #_STEP_SIG_DISP,R0      ;
 8807 00000C10 D006                   M           MOV.L   #_STEP_SIG_DISP,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8808 00000C12 400B                   M           JSR     @R0                     ;
 8809 00000C14 0009                   M           NOP                                     ;
 8810                            1720     ;       ==== 2003-07-09 ====
 8811                            1721             FAR_JSR #_CNT_SPM_DISP_CHK,R0
 8812 00000C16 D006                   M           MOV.L   #_CNT_SPM_DISP_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8813 00000C18 400B                   M           JSR     @R0                     ;
 8814 00000C1A 0009                   M           NOP                                     ;
 8815                            1722     ;       ====================
 8816                            1723     
 8817                            1724     ;       ---------------------------------------------------------
 8818                            1725     ;       --------------------[一旦停止処理]-------------------
 8819                            1726     ;       ---------------------------------------------------------
 8820                            1727             FAR_JSR #_POSHLD1_STEP1_STOPCMD_CHK,R0                  ;
 8821 00000C1C D005                   M           MOV.L   #_POSHLD1_STEP1_STOPCMD_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8822 00000C1E 400B                   M           JSR     @R0                     ;
 8823 00000C20 0009                   M           NOP                                     ;
 8824 00000C22 2008              1728             TST     R0,R0                                           ;
 8825                            1729             TST_BIT_OF RDY_CHK_0505                                 ;
 8826 00000C24 8908                   M           BT      RDY_CHK_0505
 8827                            1730             M_BRA   RDY_CHK_1000                                    ;
 8828 00000C26 A07E                   M           BRA     RDY_CHK_1000
 8829 00000C28 0009                   M           NOP
 8830                                     ***** BEGIN-POOL *****
 8831 00000C2A 0000                       ALIGNMENT CODE
 8832 00000C2C 00000000                   DATA FOR SOURCE-LINE 1719
 8833 00000C30 00000000                   DATA FOR SOURCE-LINE 1721
 8834 00000C34 00000000                   DATA FOR SOURCE-LINE 1727
 8835                                     ***** END-POOL *****
 8836 00000C38                   1731     RDY_CHK_0505:
 8837                            1732     
 8838                            1733     
 8839                            1734     
 8840                            1735     ;       --------- 2006-07-28---------------------
 8841                            1736     ;       位置決めキャンセル機能１
 8842                            1737             FAR_JSR #_POS_CANSEL_STOP_CHK,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    54
PROGRAM NAME =

 8843 00000C38 D003                   M           MOV.L   #_POS_CANSEL_STOP_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8844 00000C3A 400B                   M           JSR     @R0                     ;
 8845 00000C3C 0009                   M           NOP                                     ;
 8846 00000C3E 2008              1738             TST     R0,R0                           ;
 8847                            1739             TST_BIT_OF RDY_CHK_0510                 ;
 8848 00000C40 8904                   M           BT      RDY_CHK_0510
 8849                            1740             M_BRA   RDY_CHK_1000                    ;
 8850 00000C42 A070                   M           BRA     RDY_CHK_1000
 8851 00000C44 0009                   M           NOP
 8852                                     ***** BEGIN-POOL *****
 8853 00000C46 0000                       ALIGNMENT CODE
 8854 00000C48 00000000                   DATA FOR SOURCE-LINE 1737
 8855                                     ***** END-POOL *****
 8856 00000C4C                   1741     RDY_CHK_0510:
 8857                            1742     ;       ----------------------------------------------
 8858                            1743     ;       ===== 各々のモード処理======
 8859 00000C4C D102              1744             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
 8860 00000C4E 6011              1745             MOV.W   @R1,R0                  ;
 8861 00000C50 2008              1746             TST     R0,R0                   ;
 8862                            1747             TST_BIT_ON RDY_CHK_0520         ;BIT0
 8863 00000C52 8B03                   M           BF      RDY_CHK_0520
 8864                            1748             M_BRA   RDY_CHK_1000            ;
 8865 00000C54 A067                   M           BRA     RDY_CHK_1000
 8866 00000C56 0009                   M           NOP
 8867                            1749     
 8868                                     ***** BEGIN-POOL *****
 8869 00000C58 00000000                   DATA FOR SOURCE-LINE 1744
 8870                                     ***** END-POOL *****
 8871 00000C5C                   1750     RDY_CHK_0520:
 8872                            1751     
 8873                            1752     ;       ------ 2007-03-02[CMP]------------------------
 8874 00000C5C D102              1753             MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
 8875 00000C5E 6011              1754             MOV.W   @R1,R0                          ;
 8876 00000C60 C802              1755             TST     #BIT1,R0                        ;
 8877                            1756             TST_BIT_OF RDY_CHK_0525                 ;
 8878 00000C62 8903                   M           BT      RDY_CHK_0525
 8879                            1757             M_BRA   RDY_CHK_1000                    ;
 8880 00000C64 A05F                   M           BRA     RDY_CHK_1000
 8881 00000C66 0009                   M           NOP
 8882                                     ***** BEGIN-POOL *****
 8883 00000C68 00000000                   DATA FOR SOURCE-LINE 1753
 8884                                     ***** END-POOL *****
 8885 00000C6C                   1758     RDY_CHK_0525:
 8886                            1759     ;       ----------------------------------------
 8887                            1760     
 8888                            1761     
 8889                            1762     ;       -------- 2007-02-05 ----------
 8890                            1763     ;2015-09-06_BRK_SADOU_CHG EQ 1
 8891                            1764     ;;;廃止 FAR_JSR #_SFTY_DLY_SET2,R0      ;全モードで停止後の遮光ブレーキ遅延時間
 8892                            1765     
 8893 00000C6C D106              1766             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 8894 00000C6E 6011              1767             MOV.W   @R1,R0                  ;
 8895 00000C70 C808              1768             TST     #_W1CNT,R0              ;
 8896                            1769             TST_BIT_OF RDY_CHK_0600         ;
 8897 00000C72 8915                   M           BT      RDY_CHK_0600
 8898                            1770     
 8899 00000C74 9106              1771             MOV.W   #(BIT12+BIT11),R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    55
PROGRAM NAME =

 8900 00000C76 2018              1772             TST     R1,R0
 8901                            1773             TST_BIT_OF RDY_CHK_0530         ;
 8902 00000C78 890A                   M           BT      RDY_CHK_0530
 8903                            1774     
 8904                            1775             FAR_JSR #_MODE_CSS_STOP_CHK,R0  ;連続一行程・連続寸動一行程
 8905 00000C7A D004                   M           MOV.L   #_MODE_CSS_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8906 00000C7C 400B                   M           JSR     @R0                     ;
 8907 00000C7E 0009                   M           NOP                                     ;
 8908                            1776             M_BRA   RDY_CHK_1000
 8909 00000C80 A051                   M           BRA     RDY_CHK_1000
 8910 00000C82 0009                   M           NOP
 8911                            1777     
 8912                                     ***** BEGIN-POOL *****
 8913 00000C84 1800                       DATA FOR SOURCE-LINE 1771
 8914 00000C86 0000                       ALIGNMENT CODE
 8915 00000C88 00000000                   DATA FOR SOURCE-LINE 1766
 8916 00000C8C 00000000                   DATA FOR SOURCE-LINE 1775
 8917                                     ***** END-POOL *****
 8918 00000C90                   1778     RDY_CHK_0530:
 8919                            1779             FAR_JSR #_MODE_CNT_STOP_CHK,R0  ;
 8920 00000C90 D002                   M           MOV.L   #_MODE_CNT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8921 00000C92 400B                   M           JSR     @R0                     ;
 8922 00000C94 0009                   M           NOP                                     ;
 8923                            1780             M_BRA   RDY_CHK_1000
 8924 00000C96 A046                   M           BRA     RDY_CHK_1000
 8925 00000C98 0009                   M           NOP
 8926                                     ***** BEGIN-POOL *****
 8927 00000C9A 0000                       ALIGNMENT CODE
 8928 00000C9C 00000000                   DATA FOR SOURCE-LINE 1779
 8929                                     ***** END-POOL *****
 8930 00000CA0                   1781     RDY_CHK_0600:
 8931                            1782     
 8932 00000CA0 C802              1783             TST     #_W1INC,R0              ;
 8933                            1784             TST_BIT_OF RDY_CHK_0650         ;
 8934 00000CA2 8907                   M           BT      RDY_CHK_0650
 8935                            1785             FAR_JSR #_MODE_INC_STOP_CHK,R0  ;
 8936 00000CA4 D002                   M           MOV.L   #_MODE_INC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8937 00000CA6 400B                   M           JSR     @R0                     ;
 8938 00000CA8 0009                   M           NOP                                     ;
 8939                            1786             M_BRA   RDY_CHK_1000
 8940 00000CAA A03C                   M           BRA     RDY_CHK_1000
 8941 00000CAC 0009                   M           NOP
 8942                            1787     
 8943                                     ***** BEGIN-POOL *****
 8944 00000CAE 0000                       ALIGNMENT CODE
 8945 00000CB0 00000000                   DATA FOR SOURCE-LINE 1785
 8946                                     ***** END-POOL *****
 8947 00000CB4                   1788     RDY_CHK_0650:
 8948                            1789     
 8949 00000CB4 C804              1790             TST     #_W1SGL,R0              ;
 8950                            1791             TST_BIT_OF RDY_CHK_0700         ;
 8951 00000CB6 891B                   M           BT      RDY_CHK_0700
 8952                            1792     ;       === 回転時は一度                [作業一行程,一行程,外部安全一]
 8953                            1793             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 8954 00000CB8 D008                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8955 00000CBA 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    56
PROGRAM NAME =

 8956 00000CBC 0009                   M           NOP                                     ;
 8957                            1794                                             ;上昇ホールドするかしないか
 8958                            1795     
 8959                            1796             FAR_JSR #_UP_HOLD_AREA_MASK,R0  ;安全一行程中のマスクするかしないかの条件
 8960 00000CBE D008                   M           MOV.L   #_UP_HOLD_AREA_MASK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8961 00000CC0 400B                   M           JSR     @R0                     ;
 8962 00000CC2 0009                   M           NOP                                     ;
 8963                            1797     
 8964                            1798     
 8965                            1799             FAR_JSR #_MODE_SGL_STOP_CHK,R0  ;AUTO SIGNAL MAKE　AUTOのための処理
 8966 00000CC4 D007                   M           MOV.L   #_MODE_SGL_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8967 00000CC6 400B                   M           JSR     @R0                     ;
 8968 00000CC8 0009                   M           NOP                                     ;
 8969                            1800     
 8970 00000CCA D107              1801             MOV.L   #_UP_HOLD_FLG,R1        ;
 8971 00000CCC 6011              1802             MOV.W   @R1,R0                  ;
 8972 00000CCE C802              1803             TST     #BIT1,R0                ;上昇無効
 8973                            1804             TST_BIT_OF SGL_UP_HOLD_MASK050  ;
 8974 00000CD0 8902                   M           BT      SGL_UP_HOLD_MASK050
 8975                            1805     
 8976                            1806             FAR_JSR #_SFTY_MASK_START,R0    ;[[[[]]]]
 8977 00000CD2 D006                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8978 00000CD4 400B                   M           JSR     @R0                     ;
 8979 00000CD6 0009                   M           NOP                                     ;
 8980                            1807     
 8981                            1808     
 8982                            1809     ;       -------- 2007-02-05 ----------
 8983                            1810     ;2015-09-06_BRK_SADOU_CHG EQ 1
 8984                            1811     ;;;廃止 FAR_JSR #_SFTY_DLY_SET1,R0      ;
 8985                            1812     
 8986                            1813     ;;;;;   -------- 2006-11-21-------------
 8987                            1814     ;;;;;   MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
 8988                            1815     ;;;;;   MOV.W   @R1,R0                  ;
 8989                            1816     ;;;;;   -------- 2007-01-16-----
 8990                            1817     ;;;;;   MOV.L   #_PAR_SLOCK_DLY2,R1     ;
 8991                            1818     ;;;;;   MOV.W   @R1,R1                  ;
 8992                            1819     ;;;;;   ADD     R1,R0                   ;
 8993                            1820     ;;;;;   MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
 8994                            1821     ;;;;;   MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
 8995                            1822     ;;;;;;  ---------------------------------
 8996                            1823     
 8997                            1824     
 8998 00000CD8                   1825     SGL_UP_HOLD_MASK050:
 8999                            1826             M_BRA   RDY_CHK_1000            ;
 9000 00000CD8 A025                   M           BRA     RDY_CHK_1000
 9001 00000CDA 0009                   M           NOP
 9002                            1827     
 9003                                     ***** BEGIN-POOL *****
 9004 00000CDC 00000000                   DATA FOR SOURCE-LINE 1793
 9005 00000CE0 00000000                   DATA FOR SOURCE-LINE 1796
 9006 00000CE4 00000000                   DATA FOR SOURCE-LINE 1799
 9007 00000CE8 00000000                   DATA FOR SOURCE-LINE 1801
 9008 00000CEC 00000000                   DATA FOR SOURCE-LINE 1806
 9009                                     ***** END-POOL *****
 9010 00000CF0                   1828     RDY_CHK_0700:
 9011                            1829     
 9012 00000CF0 C810              1830             TST     #_W1OPT,R0              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    57
PROGRAM NAME =

 9013                            1831             TST_BIT_OF RDY_CHK_0750         ;
 9014 00000CF2 890B                   M           BT      RDY_CHK_0750
 9015                            1832             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 9016 00000CF4 D003                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9017 00000CF6 400B                   M           JSR     @R0                     ;
 9018 00000CF8 0009                   M           NOP                                     ;
 9019                            1833             FAR_JSR #_MODE_OPT_STOP_CHK,R0  ;OPTION=安全一工程(分けるか?)
 9020 00000CFA D003                   M           MOV.L   #_MODE_OPT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9021 00000CFC 400B                   M           JSR     @R0                     ;
 9022 00000CFE 0009                   M           NOP                                     ;
 9023                            1834             M_BRA   RDY_CHK_1000            ;
 9024 00000D00 A011                   M           BRA     RDY_CHK_1000
 9025 00000D02 0009                   M           NOP
 9026                                     ***** BEGIN-POOL *****
 9027 00000D04 00000000                   DATA FOR SOURCE-LINE 1832
 9028 00000D08 00000000                   DATA FOR SOURCE-LINE 1833
 9029                                     ***** END-POOL *****
 9030 00000D0C                   1835     RDY_CHK_0750:
 9031                            1836     
 9032 00000D0C C840              1837             TST     #_W1DUP,R0                      ;
 9033                            1838             TST_BIT_OF RDY_CHK_0950                 ;
 9034 00000D0E 8907                   M           BT      RDY_CHK_0950
 9035                            1839             FAR_JSR #_MODE_DUP_STOP_CHK,R0          ;待機点復帰
 9036 00000D10 D002                   M           MOV.L   #_MODE_DUP_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9037 00000D12 400B                   M           JSR     @R0                     ;
 9038 00000D14 0009                   M           NOP                                     ;
 9039                            1840             M_BRA   RDY_CHK_1000
 9040 00000D16 A006                   M           BRA     RDY_CHK_1000
 9041 00000D18 0009                   M           NOP
 9042                                     ***** BEGIN-POOL *****
 9043 00000D1A 0000                       ALIGNMENT CODE
 9044 00000D1C 00000000                   DATA FOR SOURCE-LINE 1839
 9045                                     ***** END-POOL *****
 9046 00000D20                   1841     RDY_CHK_0950:
 9047                            1842     
 9048                            1843             FAR_JSR #_MODE_DIC_STOP_CHK,R0  ;段取
 9049 00000D20 D008                   M           MOV.L   #_MODE_DIC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9050 00000D22 400B                   M           JSR     @R0                     ;
 9051 00000D24 0009                   M           NOP                                     ;
 9052                            1844     
 9053                            1845     ;       ===================================
 9054                            1846     ;       ===     位置決め部              ===
 9055                            1847     ;       ===================================
 9056 00000D26                   1848     RDY_CHK_1000:
 9057                            1849             FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 9058 00000D26 D108                   M           MOV.L   #_MN_POS_CTRL_ACT,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9059 00000D28 410B                   M           JSR     @R1                     ;
 9060 00000D2A 0009                   M           NOP                                     ;
 9061                            1850                                                     ;<寸動等の停止 -->準備未完了へ "FF">
 9062                            1851                                                     ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 9063 00000D2C D107              1852             MOV.L   #_END_CMD_LATCH,R1
 9064 00000D2E 2101              1853             MOV.W   R0,@R1                          ;
 9065 00000D30 2008              1854             TST     R0,R0                           ;
 9066                            1855             TST_BIT_OF RDY_CHK_EXIT                 ;(継続)
 9067 00000D32 8942                   M           BT      RDY_CHK_EXIT
 9068                            1856     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    58
PROGRAM NAME =

 9069 00000D34 200A              1857             XOR     R0,R0                           ;
 9070 00000D36 D106              1858             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 9071 00000D38 2101              1859             MOV.W   R0,@R1                          ;
 9072                            1860             FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 9073 00000D3A D006                   M           MOV.L   #_CPU_BA_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9074 00000D3C 400B                   M           JSR     @R0                     ;
 9075 00000D3E 0009                   M           NOP                                     ;
 9076                            1861             M_BRA   RDY_CHK_EXIT                    ;
 9077 00000D40 A03B                   M           BRA     RDY_CHK_EXIT
 9078 00000D42 0009                   M           NOP
 9079                            1862     
 9080                                     ***** BEGIN-POOL *****
 9081 00000D44 00000000                   DATA FOR SOURCE-LINE 1843
 9082 00000D48 00000000                   DATA FOR SOURCE-LINE 1849
 9083 00000D4C 00000000                   DATA FOR SOURCE-LINE 1852
 9084 00000D50 00000000                   DATA FOR SOURCE-LINE 1858
 9085 00000D54 00000000                   DATA FOR SOURCE-LINE 1860
 9086                                     ***** END-POOL *****
 9087 00000D58                   1863     RDY_CHK_1200:
 9088                            1864             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 9089 00000D58 D005                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9090 00000D5A 400B                   M           JSR     @R0                     ;
 9091 00000D5C 0009                   M           NOP                                     ;
 9092 00000D5E 2008              1865             TST     R0,R0                           ;
 9093                            1866             TST_BIT_ON RDY_CHK_EXIT                 ;起動状態のまま
 9094 00000D60 8B2B                   M           BF      RDY_CHK_EXIT
 9095                            1867     
 9096 00000D62 D104              1868             MOV.L   #_END_CMD_LATCH,R1              ;
 9097 00000D64 6011              1869             MOV.W   @R1,R0                          ;
 9098                            1870     
 9099 00000D66 8855              1871             CMP/EQ  #H'55,R0                        ;
 9100 00000D68 8906              1872             BT      RDY_CHK_CYCL_END                ;ｻｲｸﾙｴﾝﾄﾞ
 9101                            1873             M_BRA   RDY_CHK_END_COM                 ;寸動終了
 9102 00000D6A A014                   M           BRA     RDY_CHK_END_COM
 9103 00000D6C 0009                   M           NOP
 9104                            1874     
 9105                                     ***** BEGIN-POOL *****
 9106 00000D6E 0000                       ALIGNMENT CODE
 9107 00000D70 00000000                   DATA FOR SOURCE-LINE 1864
 9108 00000D74 00000000                   DATA FOR SOURCE-LINE 1868
 9109                                     ***** END-POOL *****
 9110 00000D78                   1875     RDY_CHK_CYCL_END:
 9111                            1876     ;;本当はここだけど、ここにこない        FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;(ﾛｯﾄｶｳﾝﾀ
                                          には使用できないので注意)
 9112                            1877     
 9113 00000D78 D112              1878             MOV.L   #_MODE_SEL,R1                   ;
 9114 00000D7A 6011              1879             MOV.W   @R1,R0                          ;
 9115 00000D7C 9220              1880             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9116 00000D7E 2028              1881             TST     R2,R0                           ;
 9117                            1882             TST_BIT_ON RDY_CHK_END_COM              ;
 9118 00000D80 8B09                   M           BF      RDY_CHK_END_COM
 9119                            1883     
 9120 00000D82 D111              1884             MOV.L   #_SELF_CHK_SEL,R1               ;
 9121 00000D84 6011              1885             MOV.W   @R1,R0                          ;
 9122 00000D86 C802              1886             TST     #BIT1,R0                        ;2006-04-10 運転終了時にセルフするBIT1=1
 9123                            1887             TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9124 00000D88 8905                   M           BT      RDY_CHK_END_COM
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    59
PROGRAM NAME =

 9125                            1888     
 9126                            1889     ;;2006-04-10    TST     #BIT0,R0                        ;
 9127                            1890     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9128                            1891     
 9129                            1892     ;;2006-04-10    TST     #BIT1,R0                        ;
 9130                            1893     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;//制御停止時ｾﾙﾌﾁｪｯｸしない JUMP
 9131                            1894     
 9132 00000D8A D110              1895             MOV.L   #_SELF_TIMING_SIG,R1            ;2006-04-10
 9133 00000D8C 9019              1896             MOV.W   #1,R0                           ;2006-04-10
 9134 00000D8E 2101              1897             MOV.W   R0,@R1                          ;2006-04-10
 9135                            1898     
 9136                            1899     ; ==== //制御停止時ｾﾙﾌﾁｪｯｸする===
 9137 00000D90 D10F              1900             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 9138 00000D92 200A              1901             XOR     R0,R0                           ;
 9139 00000D94 2101              1902             MOV.W   R0,@R1                          ;
 9140                            1903     
 9141 00000D96                   1904     RDY_CHK_END_COM:
 9142                            1905             FAR_JSR #_STEP_SIG_DSP_CLR,R0           ;行程ｸﾘｱ
 9143 00000D96 D00F                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9144 00000D98 400B                   M           JSR     @R0                     ;
 9145 00000D9A 0009                   M           NOP                                     ;
 9146                            1906     
 9147                            1907             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;中断及び１回転終了時
 9148 00000D9C D00E                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9149 00000D9E 400B                   M           JSR     @R0                     ;
 9150 00000DA0 0009                   M           NOP                                     ;
 9151                            1908     
 9152                            1909             FAR_JSR #_AUTO_OF,R0                    ;
 9153 00000DA2 D00E                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9154 00000DA4 400B                   M           JSR     @R0                     ;
 9155 00000DA6 0009                   M           NOP                                     ;
 9156                            1910     
 9157 00000DA8 200A              1911             XOR     R0,R0
 9158 00000DAA D10D              1912             MOV.L   #_DRV_ACT_FLG,R1                ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 9159 00000DAC 2101              1913             MOV.W   R0,@R1                          ;
 9160                            1914     
 9161                            1915             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05
 9162 00000DAE D00D                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9163 00000DB0 400B                   M           JSR     @R0                     ;
 9164 00000DB2 0009                   M           NOP                                     ;
 9165                            1916     
 9166                            1917             FAR_JSR #_FRCYCL_OF,R0                  ;上昇無効
 9167 00000DB4 D00C                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9168 00000DB6 400B                   M           JSR     @R0                     ;
 9169 00000DB8 0009                   M           NOP                                     ;
 9170                            1918     
 9171 00000DBA                   1919     RDY_CHK_EXIT:
 9172                            1920             SUB_END
 9173                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9174 00000DBA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9175                            1921             M_RTS
 9176 00000DBC 000B                   M           RTS                             ;RTSの後ろの
 9177 00000DBE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9178                            1922     
 9179                            1923     
 9180                            1924     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    60
PROGRAM NAME =

 9181                            1925     ;       ***                             ***
 9182                            1926     ;       ***     RDY-ON 維持条件         ***
 9183                            1927     ;       ***                             ***
 9184                            1928     ;       ***********************************
 9185                            1929     ;       R0=0 RDY ON KEEP
 9186                                     ***** BEGIN-POOL *****
 9187 00000DC0 0062                       DATA FOR SOURCE-LINE 1880
 9188 00000DC2 0001                       DATA FOR SOURCE-LINE 1896
 9189 00000DC4 00000000                   DATA FOR SOURCE-LINE 1878
 9190 00000DC8 00000000                   DATA FOR SOURCE-LINE 1884
 9191 00000DCC 00000000                   DATA FOR SOURCE-LINE 1895
 9192 00000DD0 00000000                   DATA FOR SOURCE-LINE 1900
 9193 00000DD4 00000000                   DATA FOR SOURCE-LINE 1905
 9194 00000DD8 00000000                   DATA FOR SOURCE-LINE 1907
 9195 00000DDC 00000000                   DATA FOR SOURCE-LINE 1909
 9196 00000DE0 00000000                   DATA FOR SOURCE-LINE 1912
 9197 00000DE4 00000000                   DATA FOR SOURCE-LINE 1915
 9198 00000DE8 00000000                   DATA FOR SOURCE-LINE 1917
 9199                                     ***** END-POOL *****
 9200 00000DEC                   1930     _RDYON_CONF1:
 9201                            1931             SUB_START
 9202 00000DEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9203                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9204 00000DEE D113              1932             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
 9205 00000DF0 6011              1933             MOV.W   @R1,R0                          ;
 9206 00000DF2 941D              1934             MOV.W   #BIT14,R4                       ;
 9207 00000DF4 2048              1935             TST     R4,R0                           ;
 9208                            1936             TST_BIT_ON RDY_ON_CF_999                ;一旦停止指令
 9209 00000DF6 8B2B                   M           BF      RDY_ON_CF_999
 9210                            1937     
 9211                            1938     ;       ----------------------------------------------
 9212                            1939             _MONI_RDY_SET SETNO=10,SETREG=R0,WKREG=R1       ;2014-09-13
 9213 00000DF8 901B                   M           MOV.W   #10,R0
 9214 00000DFA D111                   M           MOV.L   #_MONI_RDY_STEP,R1
 9215 00000DFC 2101                   M           MOV.W   R0,@R1
 9216                            1940     ;       ----------------------------------------------
 9217                            1941     
 9218 00000DFE D111              1942             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9219 00000E00 6011              1943             MOV.W   @R1,R0                          ;
 9220 00000E02 C803              1944             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9221                            1945             TST_BIT_ON RDY_ON_CF_999                ;
 9222 00000E04 8B24                   M           BF      RDY_ON_CF_999
 9223                            1946     
 9224                            1947     ;       ----------------------------------------------
 9225                            1948             _MONI_RDY_SET SETNO=11,SETREG=R0,WKREG=R1       ;2014-09-13
 9226 00000E06 9015                   M           MOV.W   #11,R0
 9227 00000E08 D10D                   M           MOV.L   #_MONI_RDY_STEP,R1
 9228 00000E0A 2101                   M           MOV.W   R0,@R1
 9229                            1949     ;       ----------------------------------------------
 9230                            1950     
 9231 00000E0C D10E              1951             MOV.L   #_MODE_SEL,R1                   ;
 9232 00000E0E 6611              1952             MOV.W   @R1,R6                          ;
 9233 00000E10 9211              1953             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9234 00000E12 2628              1954             TST     R2,R6                           ;
 9235                            1955             TST_BIT_ON RDY_ON_CF_998                ;(寸動・段取はﾛｯﾄｶｳﾝﾄｱｯﾌﾟは関係なし)
 9236 00000E14 8B09                   M           BF      RDY_ON_CF_998
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    61
PROGRAM NAME =

 9237                            1956     
 9238                            1957     ;       ----------------------------------------------
 9239                            1958             _MONI_RDY_SET SETNO=12,SETREG=R0,WKREG=R1       ;2014-09-13
 9240 00000E16 900F                   M           MOV.W   #12,R0
 9241 00000E18 D109                   M           MOV.L   #_MONI_RDY_STEP,R1
 9242 00000E1A 2101                   M           MOV.W   R0,@R1
 9243                            1959     ;       ----------------------------------------------
 9244                            1960     
 9245 00000E1C D10B              1961             MOV.L   #_CNT_STOP_CMD,R1               ;
 9246 00000E1E 6011              1962             MOV.W   @R1,R0                          ;
 9247 00000E20 2008              1963             TST     R0,R0                           ;
 9248                            1964             TST_BIT_ON RDY_ON_CF_999                ;連続停止,LOT,設定異常
 9249 00000E22 8B15                   M           BF      RDY_ON_CF_999
 9250                            1965     
 9251                            1966     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
 9252                            1967     ;;      MOV.W   @R1,R0                          ;
 9253                            1968     ;;      MOV.W   #_W1END,R2                      ;
 9254                            1969     ;;      TST     R2,R0                           ;連続停止
 9255                            1970     ;;      TST_BIT_ON RDY_ON_CF_999                ;
 9256                            1971     
 9257                            1972     ;       ----------------------------------------------
 9258                            1973             _MONI_RDY_SET SETNO=13,SETREG=R0,WKREG=R1       ;2014-09-13
 9259 00000E24 9009                   M           MOV.W   #13,R0
 9260 00000E26 D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 9261 00000E28 2101                   M           MOV.W   R0,@R1
 9262                            1974     ;       ----------------------------------------------
 9263                            1975     
 9264 00000E2A                   1976     RDY_ON_CF_998:
 9265 00000E2A 200A              1977             XOR     R0,R0                   ;準備完了
 9266                            1978             M_BRA   RDY_ON_CF_EXT           ;
 9267 00000E2C A011                   M           BRA     RDY_ON_CF_EXT
 9268 00000E2E 0009                   M           NOP
 9269                                     ***** BEGIN-POOL *****
 9270 00000E30 4000                       DATA FOR SOURCE-LINE 1934
 9271 00000E32 000A                       DATA FOR SOURCE-LINE 1939
 9272 00000E34 000B                       DATA FOR SOURCE-LINE 1948
 9273 00000E36 0062                       DATA FOR SOURCE-LINE 1953
 9274 00000E38 000C                       DATA FOR SOURCE-LINE 1958
 9275 00000E3A 000D                       DATA FOR SOURCE-LINE 1973
 9276 00000E3C 00000000                   DATA FOR SOURCE-LINE 1932
 9277 00000E40 00000000                   DATA FOR SOURCE-LINE 1939,1948,1958,1973
 9278 00000E44 00000000                   DATA FOR SOURCE-LINE 1942
 9279 00000E48 00000000                   DATA FOR SOURCE-LINE 1951
 9280 00000E4C 00000000                   DATA FOR SOURCE-LINE 1961
 9281                                     ***** END-POOL *****
 9282 00000E50                   1979     RDY_ON_CF_999:
 9283 00000E50 E0FF              1980             MOV     #-1,R0                  ;準備未完了
 9284 00000E52                   1981     RDY_ON_CF_EXT:
 9285                            1982             SUB_END
 9286                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9287 00000E52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9288                            1983             M_RTS
 9289 00000E54 000B                   M           RTS                             ;RTSの後ろの
 9290 00000E56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9291                            1984     
 9292                            1985     ;       ***********************************
 9293                            1986     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    62
PROGRAM NAME =

 9294                            1987     ;       ***     2006-04-10              ***
 9295                            1988     ;       ***                             ***
 9296                            1989     ;       ***********************************
 9297                            1990     ;;;;2015-09-06
 9298                            1991     ;;;;_BRK_SADOU_CHG EQ 0 廃止
 9299                            1992     ;;;;_RDY_OF_SFTY_LOCK:
 9300                            1993     ;;;;    SUB_START
 9301                            1994     ;;;;    MOV.L   #_PAR_SFTY_BRKSEL,R1            ;
 9302                            1995     ;;;;    MOV.W   @R1,R0                          ;
 9303                            1996     ;;;;    CMP/EQ  #1,R0                           ;
 9304                            1997     ;;;;    BF      RDY_OF_SFTYLOCK_END             ;
 9305                            1998     ;;;;
 9306                            1999     ;;;;;   ----------- 位置決め完了から遅延時間分は遮光になってもブレーキかけない安一------
 9307                            2000     ;;;;;   (ｾﾙﾌﾁｪｯｸ遅延時間)2007-01-16(ﾌﾞﾚｰｷをかけない)
 9308                            2001     ;;;;    MOV.L   #_SFTY_LOCK_DLYTM,R1            ;
 9309                            2002     ;;;;    MOV.W   @R1,R0                          ;(上昇ﾎｰﾙﾄﾞ無効)
 9310                            2003     ;;;;    TST     R0,R0                           ;
 9311                            2004     ;;;;    TST_BIT_ON RDY_OF_SFTYLOCK_END          ;(位置決め完了遅延時間)
 9312                            2005     ;;;;
 9313                            2006     ;;;;
 9314                            2007     ;;;;    MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9315                            2008     ;;;;    MOV.W   @R1,R0                          ;
 9316                            2009     ;;;;    TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9317                            2010     ;;;;    TST_BIT_OF RDY_OF_SFTYLOCK_100          ;
 9318                            2011     ;;;;
 9319                            2012     ;;;;
 9320                            2013     ;;;;    MOV.W   #BIT0,R0                        ;
 9321                            2014     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9322                            2015     ;;;;    MOV.W   R0,@R1                          ;
 9323                            2016     ;;;;    M_BRA   RDY_OF_SFTYLOCK_END             ;
 9324                            2017     ;;;;
 9325                            2018     ;;;;RDY_OF_SFTYLOCK_100:
 9326                            2019     ;;;;    XOR     R0,R0
 9327                            2020     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9328                            2021     ;;;;    MOV.W   R0,@R1                          ;
 9329                            2022     ;;;;
 9330                            2023     ;;;;RDY_OF_SFTYLOCK_END:
 9331                            2024     ;;;;    SUB_END
 9332                            2025     ;;;;    M_RTS
 9333                            2026     
 9334                            2027     
 9335                            2028     ;       ***********************************
 9336                            2029     ;       ***                             ***
 9337                            2030     ;       ***     RDY-ON から起動条件     ***
 9338                            2031     ;       ***             準備未完へ      ***
 9339                            2032     ;       ***                             ***
 9340                            2033     ;       ***********************************
 9341                            2034     ;       (0.5秒同時ON,)
 9342                            2035     ;       R0=00(KEEP) H'55(起動) FF(準備未完へ)
 9343 00000E58                   2036     _BTTN_START_CHK:
 9344                            2037             SUB_START
 9345 00000E58 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9346                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9347                            2038     
 9348                            2039     ;       ------- 2007-01-16(遮光装置の遅延時の起動記憶)----------
 9349 00000E5A D105              2040             MOV.L   #_DRV_START_KEEP,R1             ;FLG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    63
PROGRAM NAME =

 9350 00000E5C 6011              2041             MOV.W   @R1,R0                          ;
 9351 00000E5E C801              2042             TST     #BIT0,R0                        ;
 9352                            2043             TST_BIT_OF BTTN_DRVSEP_CHK_END          ;
 9353 00000E60 890D                   M           BT      BTTN_DRVSEP_CHK_END
 9354                            2044     
 9355 00000E62 D104              2045             MOV.L   #_BTTN_FLG,R1                   ;
 9356 00000E64 6011              2046             MOV.W   @R1,R0                          ;
 9357 00000E66 C804              2047             TST     #BIT2,R0                        ;両手ON
 9358                            2048             TST_BIT_OF BTTN_DRVSEP_CHK_CLR          ;両手ONをやめた
 9359 00000E68 8906                   M           BT      BTTN_DRVSEP_CHK_CLR
 9360                            2049             M_BRA   BTTN_START_CK570                ;
 9361 00000E6A A09E                   M           BRA     BTTN_START_CK570
 9362 00000E6C 0009                   M           NOP
 9363                            2050     
 9364                                     ***** BEGIN-POOL *****
 9365 00000E6E 0000                       ALIGNMENT CODE
 9366 00000E70 00000000                   DATA FOR SOURCE-LINE 2040
 9367 00000E74 00000000                   DATA FOR SOURCE-LINE 2045
 9368                                     ***** END-POOL *****
 9369 00000E78                   2051     BTTN_DRVSEP_CHK_CLR:
 9370 00000E78 200A              2052             XOR     R0,R0                   ;
 9371 00000E7A D10B              2053             MOV.L   #_DRV_START_KEEP,R1     ;FLG
 9372 00000E7C 2101              2054             MOV.W   R0,@R1                  ;;
 9373 00000E7E                   2055     BTTN_DRVSEP_CHK_END:
 9374                            2056     
 9375                            2057     
 9376                            2058     ;;_BRK_SADOU_CHG EQ 0
 9377                            2059     ;;;;;;2015-09-06
 9378                            2060     ;;;;;;; ------- 2007-01-23(遮光装置の遅延時手動パルサは受け付けない)-------
 9379                            2061     ;;;;;;  MOV.L   #_RDY_SFTY_WAIT_TIM,R1                          ;
 9380                            2062     ;;;;;;  MOV.W   @R1,R0                                          ;
 9381                            2063     ;;;;;;  TST     R0,R0                                           ;
 9382                            2064     ;;;;;;  TST_BIT_OF BTTN_DRVTEP_CHKEND                           ;
 9383                            2065     ;;;;;;  FAR_JSR #_TEPA_PLSCNT_CLR,R0                            ;
 9384                            2066     ;;;;;;BTTN_DRVTEP_CHKEND
 9385                            2067     ;       ---------------------------------[2]
 9386                            2068     
 9387                            2069     
 9388                            2070     
 9389                            2071     
 9390                            2072     
 9391 00000E7E D10B              2073             MOV.L   #_BTTN_FLG,R1           ;
 9392 00000E80 6011              2074             MOV.W   @R1,R0                  ;
 9393 00000E82 C801              2075             TST     #BIT0,R0                ;両手ﾌﾘ?
 9394                            2076             TST_BIT_OF BTTN_START_CK100     ;NO JUMP
 9395 00000E84 8905                   M           BT      BTTN_START_CK100
 9396                            2077     
 9397                            2078             FAR_JSR #_TEPA_PLSCNT_CLR,R0    ;2006-07-28
 9398 00000E86 D00A                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9399 00000E88 400B                   M           JSR     @R0                     ;
 9400 00000E8A 0009                   M           NOP                                     ;
 9401                            2079     
 9402 00000E8C 9209              2080             MOV.W   #_SYS_BSAME_TIM,R2      ;(両手ﾌﾘｰ)
 9403 00000E8E D109              2081             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9404 00000E90 2121              2082             MOV.W   R2,@R1                  ;
 9405 00000E92                   2083     BTTN_START_CK100:
 9406                            2084     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    64
PROGRAM NAME =

 9407 00000E92 D109              2085             MOV.L   #_MODE_SEL,R1           ;
 9408 00000E94 6611              2086             MOV.W   @R1,R6                  ;
 9409 00000E96 9205              2087             MOV.W   #_W1CNT,R2              ;
 9410 00000E98 2628              2088             TST     R2,R6                   ;
 9411                            2089             TST_BIT_ON BTTN_START_CK150     ;
 9412 00000E9A 8B0F                   M           BF      BTTN_START_CK150
 9413 00000E9C 9203              2090             MOV.W   #H'7FFF,R2              ;連続以外はいつでも7FFF設定
 9414                            2091             M_BRA   BTTN_START_CK220        ;
 9415 00000E9E A042                   M           BRA     BTTN_START_CK220
 9416 00000EA0 0009                   M           NOP
 9417                            2092     
 9418                                     ***** BEGIN-POOL *****
 9419 00000EA2 01F4                       DATA FOR SOURCE-LINE 2080
 9420 00000EA4 0008                       DATA FOR SOURCE-LINE 2087
 9421 00000EA6 7FFF                       DATA FOR SOURCE-LINE 2090
 9422 00000EA8 00000000                   DATA FOR SOURCE-LINE 2053
 9423 00000EAC 00000000                   DATA FOR SOURCE-LINE 2073
 9424 00000EB0 00000000                   DATA FOR SOURCE-LINE 2078
 9425 00000EB4 00000000                   DATA FOR SOURCE-LINE 2081
 9426 00000EB8 00000000                   DATA FOR SOURCE-LINE 2085
 9427                                     ***** END-POOL *****
 9428 00000EBC                   2093     BTTN_START_CK150:
 9429                            2094     ;       **********************************
 9430                            2095     ;       ***     2004-01-26              **
 9431                            2096     ;       **********************************
 9432 00000EBC D106              2097             MOV.L   #_MODE_SEL,R1           ;
 9433 00000EBE 6011              2098             MOV.W   @R1,R0                  ;
 9434 00000EC0 9108              2099             MOV.W   #(BIT12+BIT11),R1       ;
 9435 00000EC2 2018              2100             TST     R1,R0                   ;OPTIONの連続寸動
 9436                            2101             TST_BIT_ON BTTN_START_CK180     ;本当のｵﾌﾟｼｮﾝではない
 9437 00000EC4 8B03                   M           BF      BTTN_START_CK180
 9438                            2102     
 9439                            2103     ;       ===============================================
 9440                            2104     ;       ====== ｾｯﾄｱｯﾌﾟ仕様CHEAK 未なら 7FFF=R2 CK220へ==
 9441                            2105     ;       ================================================
 9442 00000EC6 D105              2106             MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
 9443 00000EC8 6011              2107             MOV.W   @R1,R0                  ;28.4
 9444 00000ECA C810              2108             TST     #BIT4,R0                ;
 9445                            2109             TST_BIT_ON BTTN_START_CK190     ;ｾｯﾄｱｯﾌﾟ仕様
 9446 00000ECC 8B08                   M           BF      BTTN_START_CK190
 9447 00000ECE                   2110     BTTN_START_CK180:                       ;
 9448 00000ECE 9202              2111             MOV.W   #H'7FFF,R2              ;
 9449                            2112             M_BRA   BTTN_START_CK220        ;
 9450 00000ED0 A029                   M           BRA     BTTN_START_CK220
 9451 00000ED2 0009                   M           NOP
 9452                            2113     
 9453                            2114     ;       ===== ｾｯﾄｱｯﾌﾟﾁｪｯｸ ====
 9454                                     ***** BEGIN-POOL *****
 9455 00000ED4 1800                       DATA FOR SOURCE-LINE 2099
 9456 00000ED6 7FFF                       DATA FOR SOURCE-LINE 2111
 9457 00000ED8 00000000                   DATA FOR SOURCE-LINE 2097
 9458 00000EDC 00000000                   DATA FOR SOURCE-LINE 2106
 9459                                     ***** END-POOL *****
 9460 00000EE0                   2115     BTTN_START_CK190:
 9461 00000EE0 D105              2116             MOV.L   #_SET_UP_TIM,R1         ;
 9462 00000EE2 6211              2117             MOV.W   @R1,R2                  ;
 9463 00000EE4 2228              2118             TST     R2,R2                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    65
PROGRAM NAME =

 9464                            2119             TST_BIT_OF BTTN_START_CK192     ;ｾｯﾄｱｯﾌﾟ待ち
 9465 00000EE6 890B                   M           BT      BTTN_START_CK192
 9466                            2120     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 9467                            2121             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 9468 00000EE8 D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 9469 00000EEA 6011                   M           MOV.W   @R1,R0          ;
 9470 00000EEC 9403                   M           MOV.W   #LWORD (~BIT3),R4       ;
 9471 00000EEE 2049                   M           AND     R4,R0           ;
 9472 00000EF0 2101                   M           MOV.W   R0,@R1          ;
 9473                            2122             M_BRA   BTTN_START_CK195
 9474 00000EF2 A00A                   M           BRA     BTTN_START_CK195
 9475 00000EF4 0009                   M           NOP
 9476                                     ***** BEGIN-POOL *****
 9477 00000EF6 FFF7                       DATA FOR SOURCE-LINE 2121
 9478 00000EF8 00000000                   DATA FOR SOURCE-LINE 2116
 9479 00000EFC 00000000                   DATA FOR SOURCE-LINE 2121
 9480                                     ***** END-POOL *****
 9481 00000F00                   2123     BTTN_START_CK192:
 9482                            2124     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち状態 ======
 9483                            2125             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4
 9484 00000F00 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
 9485 00000F02 6011                   M           MOV.W   @R1,R0          ;
 9486 00000F04 9408                   M           MOV.W   #(BIT3),R4              ;
 9487 00000F06 204B                   M           OR      R4,R0           ;
 9488 00000F08 2101                   M           MOV.W   R0,@R1          ;
 9489 00000F0A                   2126     BTTN_START_CK195:
 9490                            2127     
 9491 00000F0A D305              2128             MOV.L   #_di2_cb_ctl2_on,R3     ;
 9492 00000F0C 6131              2129             MOV.W   @R3,R1                  ;
 9493 00000F0E 9204              2130             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9494 00000F10 2128              2131             TST     R2,R1                   ;
 9495                            2132             TST_BIT_ON BTTN_START_CK200     ;
 9496 00000F12 8B07                   M           BF      BTTN_START_CK200
 9497                            2133             M_BRA   BTTN_START_CK300        ;
 9498 00000F14 A009                   M           BRA     BTTN_START_CK300
 9499 00000F16 0009                   M           NOP
 9500                            2134     
 9501                                     ***** BEGIN-POOL *****
 9502 00000F18 0008                       DATA FOR SOURCE-LINE 2125
 9503 00000F1A 0080                       DATA FOR SOURCE-LINE 2130
 9504 00000F1C 00000000                   DATA FOR SOURCE-LINE 2125
 9505 00000F20 00000000                   DATA FOR SOURCE-LINE 2128
 9506                                     ***** END-POOL *****
 9507 00000F24                   2135     BTTN_START_CK200:
 9508 00000F24 9214              2136             MOV.W   #_SYS_SETUP_TIM,R2      ;
 9509 00000F26                   2137     BTTN_START_CK220:
 9510 00000F26 D10B              2138             MOV.L   #_SET_UP_TIM,R1         ;
 9511 00000F28 2121              2139             MOV.W   R2,@R1                  ;
 9512                            2140     
 9513                            2141     ;       ============================
 9514 00000F2A                   2142     BTTN_START_CK300:
 9515 00000F2A D10B              2143             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9516 00000F2C 6211              2144             MOV.W   @R1,R2                  ;
 9517 00000F2E 2228              2145             TST     R2,R2                   ;
 9518                            2146             TST_BIT_OF BTTN_START_CK599     ;準備未完了へ
 9519 00000F30 893E                   M           BT      BTTN_START_CK599
 9520                            2147     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    66
PROGRAM NAME =

 9521                            2148     ;;;;;   -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9522                            2149     ;;;;;                                   ;ｾｯﾄｱｯﾌﾟの処理が必要
 9523                            2150     ;;;;;           MOV.L   #_BTTN_FLG,R1           ;
 9524                            2151     ;;;;;           MOV.W   @R1,R0                  ;
 9525                            2152     ;;;;;           TST     #BIT2,R0                ;両手ON
 9526                            2153     ;;;;;           TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9527                            2154     ;;;;;
 9528                            2155     ;;;;;   ;       ------- 2006-07-28 ------------
 9529                            2156     ;;;;;           MOV.L   #_MODE_SEL,R1                   ;
 9530                            2157     ;;;;;           MOV.W   @R1,R0                          ;
 9531                            2158     ;;;;;           TST     #_W1DIC,R0                      ;
 9532                            2159     ;;;;;           TST_BIT_OF BTTN_START_CK320             ;
 9533                            2160     ;;;;;
 9534                            2161     ;;;;;           FAR_JSR #_TEPA_START_CHK,R0             ;
 9535                            2162     ;;;;;           TST     R0,R0                           ;
 9536                            2163     ;;;;;           TST_BIT_ON BTTN_START_CK570             ;
 9537                            2164     ;;;;;   BTTN_START_CK320:
 9538                            2165     ;       ---------------------------------
 9539                            2166     
 9540                            2167     ;       -------------------
 9541 00000F32 D10A              2168             MOV.L   #_MODE_SEL,R1                   ;
 9542 00000F34 6011              2169             MOV.W   @R1,R0                          ;
 9543 00000F36 C820              2170             TST     #_W1DIC,R0                      ;
 9544                            2171             TST_BIT_OF BTTN_START_CK320             ;
 9545 00000F38 8916                   M           BT      BTTN_START_CK320
 9546                            2172     
 9547 00000F3A D109              2173             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 9548 00000F3C 6011              2174             MOV.W   @R1,R0                          ;
 9549 00000F3E C802              2175             TST     #BIT1,R0                        ;
 9550                            2176             TST_BIT_OF BTTN_START_CK320             ;手パ無効
 9551 00000F40 8912                   M           BT      BTTN_START_CK320
 9552                            2177     
 9553                            2178             FAR_JSR #_TEPA_START_CHK,R0             ;
 9554 00000F42 D008                   M           MOV.L   #_TEPA_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9555 00000F44 400B                   M           JSR     @R0                     ;
 9556 00000F46 0009                   M           NOP                                     ;
 9557 00000F48 2008              2179             TST     R0,R0                           ;
 9558                            2180             TST_BIT_ON BTTN_START_CK570             ;
 9559 00000F4A 8B2E                   M           BF      BTTN_START_CK570
 9560                            2181             M_BRA   BTTN_START_CK550                ;
 9561 00000F4C A02A                   M           BRA     BTTN_START_CK550
 9562 00000F4E 0009                   M           NOP
 9563                            2182     
 9564                                     ***** BEGIN-POOL *****
 9565 00000F50 07D0                       DATA FOR SOURCE-LINE 2136
 9566 00000F52 0000                       ALIGNMENT CODE
 9567 00000F54 00000000                   DATA FOR SOURCE-LINE 2138
 9568 00000F58 00000000                   DATA FOR SOURCE-LINE 2143
 9569 00000F5C 00000000                   DATA FOR SOURCE-LINE 2168
 9570 00000F60 00000000                   DATA FOR SOURCE-LINE 2173
 9571 00000F64 00000000                   DATA FOR SOURCE-LINE 2178
 9572                                     ***** END-POOL *****
 9573 00000F68                   2183     BTTN_START_CK320:
 9574                            2184     ;       -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9575                            2185                                     ;ｾｯﾄｱｯﾌﾟの処理が必要
 9576 00000F68 D107              2186             MOV.L   #_BTTN_FLG,R1           ;
 9577 00000F6A 6011              2187             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    67
PROGRAM NAME =

 9578 00000F6C C804              2188             TST     #BIT2,R0                ;両手ON
 9579                            2189             TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9580 00000F6E 8B11                   M           BF      BTTN_START_CK350
 9581                            2190     
 9582                            2191     ;       ---------------------------------
 9583                            2192     
 9584                            2193     ;       ===== ｾｯﾄｱｯﾌﾟ釦を押しながら2秒経過してしまったのかチェック===
 9585 00000F70 D106              2194             MOV.L   #_SET_UP_TIM,R1         ;
 9586 00000F72 6211              2195             MOV.W   @R1,R2                  ;
 9587 00000F74 2228              2196             TST     R2,R2                   ;
 9588                            2197             TST_BIT_ON BTTN_START_CK550     ;
 9589 00000F76 8B15                   M           BF      BTTN_START_CK550
 9590                            2198     
 9591 00000F78 D305              2199             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 9592 00000F7A 6131              2200             MOV.W   @R3,R1                  ;
 9593 00000F7C 9203              2201             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9594 00000F7E 2128              2202             TST     R2,R1                   ;ON続けて2秒経過
 9595                            2203             TST_BIT_ON BTTN_START_CK599     ;
 9596 00000F80 8B16                   M           BF      BTTN_START_CK599
 9597                            2204             M_BRA   BTTN_START_CK550        ;
 9598 00000F82 A00F                   M           BRA     BTTN_START_CK550
 9599 00000F84 0009                   M           NOP
 9600                            2205     
 9601                            2206     ;       ==== 運転釦ON ====
 9602                                     ***** BEGIN-POOL *****
 9603 00000F86 0080                       DATA FOR SOURCE-LINE 2201
 9604 00000F88 00000000                   DATA FOR SOURCE-LINE 2186
 9605 00000F8C 00000000                   DATA FOR SOURCE-LINE 2194
 9606 00000F90 00000000                   DATA FOR SOURCE-LINE 2199
 9607                                     ***** END-POOL *****
 9608 00000F94                   2207     BTTN_START_CK350:
 9609 00000F94 D102              2208             MOV.L   #_SET_UP_TIM,R1         ;
 9610 00000F96 6211              2209             MOV.W   @R1,R2                  ;
 9611 00000F98 2228              2210             TST     R2,R2                   ;
 9612                            2211             TST_BIT_OF BTTN_START_CK599     ;ｾｯﾄｱｯﾌﾟOFF
 9613 00000F9A 8909                   M           BT      BTTN_START_CK599
 9614                            2212             M_BRA   BTTN_START_CK570
 9615 00000F9C A005                   M           BRA     BTTN_START_CK570
 9616 00000F9E 0009                   M           NOP
 9617                            2213     
 9618                            2214     
 9619                                     ***** BEGIN-POOL *****
 9620 00000FA0 00000000                   DATA FOR SOURCE-LINE 2208
 9621                                     ***** END-POOL *****
 9622 00000FA4                   2215     BTTN_START_CK550:                       ;
 9623 00000FA4 200A              2216             XOR     R0,R0                   ;
 9624                            2217             M_BRA   BTTN_START_CKEXT        ;
 9625 00000FA6 A004                   M           BRA     BTTN_START_CKEXT
 9626 00000FA8 0009                   M           NOP
 9627 00000FAA                   2218     BTTN_START_CK570:
 9628 00000FAA E055              2219             MOV     #H'55,R0                ;起動
 9629                            2220             M_BRA   BTTN_START_CKEXT        ;
 9630 00000FAC A001                   M           BRA     BTTN_START_CKEXT
 9631 00000FAE 0009                   M           NOP
 9632 00000FB0                   2221     BTTN_START_CK599:                       ;
 9633 00000FB0 E0FF              2222             MOV     #-1,R0                  ;準備未完へ
 9634 00000FB2                   2223     BTTN_START_CKEXT:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    68
PROGRAM NAME =

 9635                            2224             SUB_END
 9636                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9637 00000FB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9638                            2225             M_RTS
 9639 00000FB4 000B                   M           RTS                             ;RTSの後ろの
 9640 00000FB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9641                            2226     
 9642                            2227     ;       *******************************************
 9643                            2228     ;       ***                                     ***
 9644                            2229     ;       ***     2016-10-31(2016-04-16)          ***
 9645                            2230     ;       ***      ｻﾌﾞﾙｰﾁﾝにする(JUMP)            ***
 9646                            2231     ;       *******************************************
 9647                            2232              .AIF   1 EQ 1  ;
 9648                            2233 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9649                            2234              .AENDI
 9650                            2235     
 9651                            2236             .IMPORT _PAR_SELFCHK_POWSEL
 9652 00000FB8                   2237     _SELFCHK_LOCK_SET:              ;2016-04-16
 9653                            2238             SUB_START
 9654 00000FB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9655                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9656                            2239     
 9657 00000FBA D108              2240             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
 9658 00000FBC 6011              2241             MOV.W   @R1,R0                          ;
 9659 00000FBE 8801              2242             CMP/EQ  #1,R0                           ;
 9660 00000FC0 8908              2243             BT      SELF_FORCE_POW_100              ;"1"ならちゃんとセルフする
 9661                            2244     
 9662                            2245     ;       ===== 2006-12-06 [1]=====
 9663 00000FC2 900A              2246             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
 9664 00000FC4 D106              2247             MOV.L   #_SELF_LOCK_FLG,R1              ;
 9665 00000FC6 2101              2248             MOV.W   R0,@R1                          ;
 9666 00000FC8 222A              2249             XOR     R2,R2                           ;
 9667 00000FCA 233A              2250             XOR     R3,R3                           ;
 9668 00000FCC D105              2251             MOV.L   #_SELF_CHK_SEL,R1               ;
 9669 00000FCE 2121              2252             MOV.W   R2,@R1                          ;
 9670 00000FD0 D105              2253             MOV.L   #_SELF_CHK_MATHED,R1            ;
 9671 00000FD2 2131              2254             MOV.W   R3,@R1                          ;
 9672                            2255     
 9673 00000FD4                   2256     SELF_FORCE_POW_100
 9674                            2257             SUB_END
 9675                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9676 00000FD4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9677                            2258             M_RTS
 9678 00000FD6 000B                   M           RTS                             ;RTSの後ろの
 9679 00000FD8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9680                            2259     
 9681                            2260     
 9682                            2261     ;       ***********************************
 9683                            2262     ;       ***                             ***
 9684                            2263     ;       ***     CPUA位置→CPUB位置      ***
 9685                            2264     ;       ***     2015-03-15 寸動対策     ***
 9686                            2265     ;       ***                             ***
 9687                            2266     ;       ***********************************
 9688                            2267             .IMPORT _SH_POSCTL_RL_ABSPLS
 9689                                     ***** BEGIN-POOL *****
 9690 00000FDA 0001                       DATA FOR SOURCE-LINE 2246
 9691 00000FDC 00000000                   DATA FOR SOURCE-LINE 2240
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    69
PROGRAM NAME =

 9692 00000FE0 00000000                   DATA FOR SOURCE-LINE 2247
 9693 00000FE4 00000000                   DATA FOR SOURCE-LINE 2251
 9694 00000FE8 00000000                   DATA FOR SOURCE-LINE 2253
 9695                                     ***** END-POOL *****
 9696 00000FEC                   2268     _ELSE_CPU_START_POS_PRESET:
 9697                            2269             SUB_START
 9698 00000FEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9699                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9700                            2270             .AIF    1 EQ    0       ;
 9701                            2271     
 9702                            2272             .AELSE
 9703                            2273 C   
 9704 00000FEE D409              2274 C           MOV.L   #_SH_POSCTL_RL_ABSPLS,R4        ;CPUA
 9705 00000FF0 5140              2275 C           MOV.L   @(0,R4),R1                              ;
 9706 00000FF2 5241              2276 C           MOV.L   @(4,R4),R2                              ;
 9707                            2277 C   
 9708 00000FF4 5540              2278 C           MOV.L   @(0,R4),R5                              ;
 9709 00000FF6 5641              2279 C           MOV.L   @(4,R4),R6                              ;
 9710 00000FF8 3518              2280 C           SUB     R1,R5
 9711 00000FFA 3628              2281 C           SUB     R2,R6                                   ;
 9712 00000FFC 265B              2282 C           OR      R5,R6                                   ;
 9713 00000FFE 2668              2283 C           TST     R6,R6                                   ;
 9714                            2284 C           TST_BIT_OF ELSECPU_GET_OBJPOS_100               ;8ﾊﾞｲﾄｱｸｾｽ中の問題
 9715 00001000 8901                   M           BT      ELSECPU_GET_OBJPOS_100
 9716                            2285 C   
 9717 00001002 5140              2286 C           MOV.L   @(0,R4),R1                              ;
 9718 00001004 5241              2287 C           MOV.L   @(4,R4),R2                              ;
 9719                            2288 C   
 9720                            2289 C   
 9721 00001006                   2290 C   ELSECPU_GET_OBJPOS_100
 9722 00001006 D404              2291 C           MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
 9723 00001008 1410              2292 C           MOV.L   R1,@(0,R4)
 9724 0000100A 1421              2293 C           MOV.L   R2,@(4,R4)
 9725                            2294 C   
 9726 0000100C                   2295 C   ELSECPU_GET_OBJPOS_EXT
 9727                            2296 C   
 9728                            2297             .AENDI
 9729                            2298             SUB_END
 9730                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9731 0000100C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9732                            2299             M_RTS
 9733 0000100E 000B                   M           RTS                             ;RTSの後ろの
 9734 00001010 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9735                            2300     
 9736                            2301     
 9737                            2302     
 9738                            2303     ;       *******************************************
 9739                            2304     ;       ***                                     ***
 9740                            2305     ;       ***                                     ***
 9741                            2306     ;       ***                                     ***
 9742                            2307     ;       *******************************************
 9743                                     ***** BEGIN-POOL *****
 9744 00001012 0000                       ALIGNMENT CODE
 9745 00001014 00000000                   DATA FOR SOURCE-LINE 2274
 9746 00001018 00000000                   DATA FOR SOURCE-LINE 2291
 9747                                     ***** END-POOL *****
 9748 0000101C                   2308     _MODE_CNT_STOP_CHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    70
PROGRAM NAME =

 9749                            2309             SUB_START
 9750 0000101C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9751                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9752                            2310             FAR_JSR #_CPU_AB_CST_OF_JG,R0   ;
 9753 0000101E D017                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9754 00001020 400B                   M           JSR     @R0                     ;
 9755 00001022 0009                   M           NOP                                     ;
 9756 00001024 2118              2311             TST     R1,R1                   ;
 9757                            2312             TST_BIT_OF MODE_CNT_STPCMP_100  ;自分のいくぞ信号ON? NO
 9758 00001026 890F                   M           BT      MODE_CNT_STPCMP_100
 9759                            2313     
 9760 00001028 D115              2314             MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
 9761 0000102A 6011              2315             MOV.W   @R1,R0                  ;
 9762 0000102C D215              2316             MOV.L   #_CPOS_STEP_MAX,R2      ;
 9763 0000102E 6421              2317             MOV.W   @R2,R4                  ;
 9764 00001030 7401              2318             ADD     #1,R4                   ;
 9765 00001032 3400              2319             CMP/EQ  R0,R4                   ;
 9766 00001034 8908              2320             BT      MODE_CNT_STPCMP_100     ;最終工程
 9767                            2321     
 9768 00001036 6503              2322             MOV     R0,R5                   ;push
 9769                            2323             FAR_JSR #_CPU_BA_STEP_LOAD,R2   ;ANS R3
 9770 00001038 D213                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9771 0000103A 420B                   M           JSR     @R2                     ;
 9772 0000103C 0009                   M           NOP                                     ;
 9773 0000103E 3500              2324             CMP/EQ  R0,R5                   ;
 9774 00001040 8B02              2325             BF      MODE_CNT_STPCMP_100     ;不一致状態
 9775                            2326     
 9776                            2327             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;自分のいくぞ信号クリア(相手のもやったほうがいいの
                                          か？)
 9777 00001042 D012                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9778 00001044 400B                   M           JSR     @R0                     ;
 9779 00001046 0009                   M           NOP                                     ;
 9780                            2328     
 9781 00001048                   2329     MODE_CNT_STPCMP_100:
 9782                            2330     
 9783                            2331     ;       -------- 2015-11-13-------------------
 9784                            2332     ;;      MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 9785                            2333     ;;      MOV.W   @R1,R0                          ;
 9786                            2334     ;;      MOV.W   #_WOATO,R2                      ;AUTO
 9787                            2335     ;;      TST     R2,R0                           ;
 9788                            2336     ;;      TST_BIT_ON MODE_CNT_STPCHK_200          ;AUTO ON
 9789                            2337     ;;
 9790                            2338     ;;      MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9791                            2339     ;;      MOV.W   @R1,R0                          ;
 9792                            2340     ;;      MOV.W   #(BIT9+BIT8),R4                 ;
 9793                            2341     ;;      TST     R4,R0                           ;
 9794                            2342     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ
 9795                            2343     ;;
 9796                            2344     ;;      MOV.W   #BIT8,R4                        ;
 9797                            2345     ;;      TST     R4,R0                           ;ﾀｲﾏ?
 9798                            2346     ;;      TST_BIT_OF MODE_CNT_STPCHK_050
 9799                            2347     ;;      MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
 9800                            2348     ;;      MOV.L   @R1,R0                          ;
 9801                            2349     ;;      M_BRA   MODE_CNT_STPCHK_080             ;
 9802                            2350     ;;
 9803                            2351     ;;MODE_CNT_STPCHK_050:
 9804                            2352     ;;      MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    71
PROGRAM NAME =

 9805                            2353     ;;      MOV.W   @R1,R0                          ;
 9806                            2354     ;;MODE_CNT_STPCHK_080:
 9807                            2355     ;;      TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
 9808                            2356     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;
 9809                            2357     
 9810                            2358     
 9811                            2359     ;       -------- 2015-11-13-------------------
 9812 00001048 D111              2360             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9813 0000104A 6011              2361             MOV.W   @R1,R0                          ;
 9814 0000104C 9414              2362             MOV.W   #(BIT9+BIT8),R4                 ;
 9815 0000104E 2048              2363             TST     R4,R0                           ;
 9816                            2364             TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ:AUTO ON固定
 9817 00001050 895E                   M           BT      MODE_CNT_STPCHK_199
 9818                            2365     
 9819                            2366     ;       -------------AUTO ON[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
 9820 00001052 D110              2367             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 9821 00001054 6011              2368             MOV.W   @R1,R0                          ;
 9822 00001056 9210              2369             MOV.W   #_WOATO,R2                      ;AUTO
 9823 00001058 2028              2370             TST     R2,R0                           ;
 9824                            2371             TST_BIT_OF MODE_CNT_STPCHK_120          ;AUTO OFF
 9825 0000105A 8923                   M           BT      MODE_CNT_STPCHK_120
 9826                            2372     
 9827                            2373     ;;; .AIF 1 EQ 1
 9828                            2374     ;       --------- 相手CPU停止判定必要[2015-11-15]------
 9829                            2375             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;
 9830 0000105C D00E                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9831 0000105E 400B                   M           JSR     @R0                     ;
 9832 00001060 0009                   M           NOP                                     ;
 9833 00001062 2008              2376             TST     R0,R0                           ;
 9834                            2377             TST_BIT_OF MODE_CNT_STPCHK_200
 9835 00001064 8957                   M           BT      MODE_CNT_STPCHK_200
 9836                            2378             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set[ﾃ
                                          ﾞﾊﾞｯｸ用だと思う]
 9837 00001066 D10D                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
 9838 00001068 6011                   M           MOV.W   @R1,R0          ;
 9839 0000106A CB01                   M           OR      #BIT0,R0                ;
 9840 0000106C 2101                   M           MOV.W   R0,@R1          ;
 9841                            2379             FAR_JSR #_AUTO_OF,R0                    ;
 9842 0000106E D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9843 00001070 400B                   M           JSR     @R0                     ;
 9844 00001072 0009                   M           NOP                                     ;
 9845                            2380             M_BRA   MODE_CNT_STPCHK_150             ;AUTO OFF
 9846 00001074 A033                   M           BRA     MODE_CNT_STPCHK_150
 9847 00001076 0009                   M           NOP
 9848                            2381     
 9849                            2382     ;;; .AENDI
 9850                            2383     
 9851                            2384     
 9852                            2385     ;;;[2016-10-31不要]     M_BRA   MODE_CNT_STPCHK_200             ;AUTO ON
 9853                            2386     
 9854                            2387     
 9855                            2388     ;       -------------AUTO OFF[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
 9856                                     ***** BEGIN-POOL *****
 9857 00001078 0300                       DATA FOR SOURCE-LINE 2362
 9858 0000107A 0040                       DATA FOR SOURCE-LINE 2369
 9859 0000107C 00000000                   DATA FOR SOURCE-LINE 2310
 9860 00001080 00000000                   DATA FOR SOURCE-LINE 2314
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    72
PROGRAM NAME =

 9861 00001084 00000000                   DATA FOR SOURCE-LINE 2316
 9862 00001088 00000000                   DATA FOR SOURCE-LINE 2323
 9863 0000108C 00000000                   DATA FOR SOURCE-LINE 2327
 9864 00001090 00000000                   DATA FOR SOURCE-LINE 2360
 9865 00001094 00000000                   DATA FOR SOURCE-LINE 2367
 9866 00001098 00000000                   DATA FOR SOURCE-LINE 2375
 9867 0000109C 00000000                   DATA FOR SOURCE-LINE 2378
 9868 000010A0 00000000                   DATA FOR SOURCE-LINE 2379
 9869                                     ***** END-POOL *****
 9870 000010A4                   2389     MODE_CNT_STPCHK_120                             ;AUTO OFF
 9871 000010A4 D104              2390             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9872 000010A6 6011              2391             MOV.W   @R1,R0                          ;
 9873 000010A8 9405              2392             MOV.W   #BIT8,R4                        ;
 9874 000010AA 2048              2393             TST     R4,R0                           ;ﾀｲﾏ?
 9875                            2394             TST_BIT_OF MODE_CNT_STPCHK_050
 9876 000010AC 8908                   M           BT      MODE_CNT_STPCHK_050
 9877 000010AE D103              2395             MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
 9878 000010B0 6012              2396             MOV.L   @R1,R0                          ;
 9879                            2397             M_BRA   MODE_CNT_STPCHK_080             ;
 9880 000010B2 A00A                   M           BRA     MODE_CNT_STPCHK_080
 9881 000010B4 0009                   M           NOP
 9882                            2398     
 9883                                     ***** BEGIN-POOL *****
 9884 000010B6 0100                       DATA FOR SOURCE-LINE 2392
 9885 000010B8 00000000                   DATA FOR SOURCE-LINE 2390
 9886 000010BC 00000000                   DATA FOR SOURCE-LINE 2395
 9887                                     ***** END-POOL *****
 9888 000010C0                   2399     MODE_CNT_STPCHK_050:
 9889 000010C0 D10C              2400             MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
 9890 000010C2 6011              2401             MOV.W   @R1,R0                          ;
 9891                            2402     
 9892                            2403     
 9893                            2404              .AIF   1 EQ 1  ;
 9894                            2405 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9895                            2406              .AENDI
 9896                            2407     ;       -------- 2016-10-31(2016-07-21)(相手cpu状態)----------------
 9897                            2408             .AIF    1 EQ    0       ;
 9898                            2409             MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
 9899                            2410             .AELSE
 9900 000010C4 D10C              2411 C           MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
 9901                            2412             .AENDI                                  ;
 9902 000010C6 6411              2413             MOV.W   @R1,R4                          ;
 9903 000010C8 204B              2414             OR      R4,R0                           ;自分+相手cpu
 9904                            2415     
 9905                            2416     
 9906 000010CA                   2417     MODE_CNT_STPCHK_080:
 9907 000010CA 2008              2418             TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
 9908                            2419             TST_BIT_OF MODE_CNT_STPCHK_199          ;
 9909 000010CC 8920                   M           BT      MODE_CNT_STPCHK_199
 9910                            2420     
 9911                            2421     
 9912 000010CE D10B              2422             MOV.L   #_BTTN_FLG,R1                   ;
 9913 000010D0 6011              2423             MOV.W   @R1,R0                          ;
 9914 000010D2 C804              2424             TST     #BIT2,R0                        ;両手ON
 9915                            2425             TST_BIT_ON MODE_CNT_STPCHK_300          ;<200の方が安全かな>
 9916 000010D4 8B57                   M           BF      MODE_CNT_STPCHK_300
 9917                            2426     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    73
PROGRAM NAME =

 9918                            2427              .AIF   1 EQ 1  ;
 9919                            2428 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9920                            2429              .AENDI
 9921                            2430     
 9922                            2431     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
 9923 000010D6 D10A              2432             MOV.L   #_CMPSTEP_STEP_END,R1           ;
 9924 000010D8 6011              2433             MOV.W   @R1,R0                          ;
 9925 000010DA 2008              2434             TST     R0,R0                           ;
 9926                            2435             TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
 9927 000010DC 8B53                   M           BF      MODE_CNT_STPCHK_300
 9928                            2436     
 9929                            2437     ;[[2016-10-31]; ---------- 2015-11-13[行程2重回路対策]---------------
 9930                            2438     ;[[2016-10-31];;; .AIF 1 EQ 1
 9931                            2439     ;[[2016-10-31]  FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
 9932                            2440     ;[[2016-10-31]  TST     R0,R0                           ;
 9933                            2441     ;[[2016-10-31]  TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
 9934                            2442     ;[[2016-10-31];;; .AENDI
 9935                            2443     
 9936 000010DE                   2444     MODE_CNT_STPCHK_150:                            ;AUTO OFF
 9937                            2445     
 9938                            2446     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
 9939                            2447             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
 9940 000010DE D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9941 000010E0 400B                   M           JSR     @R0                     ;
 9942 000010E2 0009                   M           NOP                                     ;
 9943                            2448     
 9944                            2449     ;       ---2007-03-02-----
 9945                            2450             MOD_LOW_STOP_R0_R1                      ;MNWR_POS_CMD=BIT1,減速停止,起動OFF
 9946 000010E4 D108                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
 9947 000010E6 E002                   M           MOV.B   #BIT1,R0                        ;
 9948 000010E8 2101                   M           MOV.W   R0,@R1                          ;
 9949                            2451             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;CPUBへSTOP(AUTO-ON,AUTO-OFF)に関わらず･･･
                                          AUTOにさせないため
 9950 000010EA D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9951 000010EC 400B                   M           JSR     @R0                     ;
 9952 000010EE 0009                   M           NOP                                     ;
 9953                            2452     
 9954                            2453             M_BRA   MODE_CNT_STPCHK_300             ;
 9955 000010F0 A049                   M           BRA     MODE_CNT_STPCHK_300
 9956 000010F2 0009                   M           NOP
 9957                            2454     
 9958                                     ***** BEGIN-POOL *****
 9959 000010F4 00000000                   DATA FOR SOURCE-LINE 2400
 9960 000010F8 00000000                   DATA FOR SOURCE-LINE 2411
 9961 000010FC 00000000                   DATA FOR SOURCE-LINE 2422
 9962 00001100 00000000                   DATA FOR SOURCE-LINE 2432
 9963 00001104 00000000                   DATA FOR SOURCE-LINE 2447
 9964 00001108 00000000                   DATA FOR SOURCE-LINE 2450
 9965 0000110C 00000000                   DATA FOR SOURCE-LINE 2451
 9966                                     ***** END-POOL *****
 9967 00001110                   2455     MODE_CNT_STPCHK_199:                            ;
 9968                            2456             FAR_JSR #_AUTO_ON,R0                    ;
 9969 00001110 D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9970 00001112 400B                   M           JSR     @R0                     ;
 9971 00001114 0009                   M           NOP                                     ;
 9972 00001116                   2457     MODE_CNT_STPCHK_200:                            ;
 9973                            2458     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    74
PROGRAM NAME =

 9974                            2459     ;       -------------------------------------------
 9975 00001116 D105              2460             MOV.L   #_POSHLD1_STOPLATCH,R1          ;
 9976 00001118 6011              2461             MOV.W   @R1,R0                          ;
 9977 0000111A 2008              2462             TST     R0,R0                           ;
 9978                            2463             TST_BIT_OF MODE_CNT_STPCHK_210          ;
 9979 0000111C 8908                   M           BT      MODE_CNT_STPCHK_210
 9980 0000111E 200A              2464             XOR     R0,R0                           ;
 9981 00001120 2101              2465             MOV.W   R0,@R1                          ;
 9982                            2466             M_BRA   MODE_CNT_STPCHK_220             ;
 9983 00001122 A00D                   M           BRA     MODE_CNT_STPCHK_220
 9984 00001124 0009                   M           NOP
 9985                            2467     
 9986                                     ***** BEGIN-POOL *****
 9987 00001126 0000                       ALIGNMENT CODE
 9988 00001128 00000000                   DATA FOR SOURCE-LINE 2456
 9989 0000112C 00000000                   DATA FOR SOURCE-LINE 2460
 9990                                     ***** END-POOL *****
 9991 00001130                   2468     MODE_CNT_STPCHK_210:                            ;
 9992                            2469     
 9993 00001130 D10C              2470             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
 9994 00001132 6011              2471             MOV.W   @R1,R0                          ;
 9995 00001134 2008              2472             TST     R0,R0                           ;
 9996                            2473             TST_BIT_OF MODE_CNT_STPCHK_250          ;
 9997 00001136 8907                   M           BT      MODE_CNT_STPCHK_250
 9998                            2474     
 9999                            2475              .AIF   1 EQ 1  ;
10000                            2476 C   ;       -------- 2016-10-31 ADD 二重回路対策
10001                            2477              .AENDI
10002                            2478     
10003                            2479     ;       --2016-10-31(2016-08-11)(CMPERR対策)---------
10004 00001138 D10B              2480             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
10005 0000113A 6011              2481             MOV.W   @R1,R0                          ;
10006 0000113C 2008              2482             TST     R0,R0                           ;
10007                            2483             TST_BIT_ON MODE_CNT_STPCHK_250          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
10008 0000113E 8B03                   M           BF      MODE_CNT_STPCHK_250
10009                            2484     
10010                            2485     
10011 00001140                   2486     MODE_CNT_STPCHK_220:                            ;
10012                            2487     
10013 00001140 D10A              2488             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10014 00001142 6011              2489             MOV.W   @R1,R0                          ;
10015 00001144 CB01              2490             OR      #BIT0,R0                        ;
10016 00001146 2101              2491             MOV.W   R0,@R1                          ;
10017                            2492     
10018 00001148                   2493     MODE_CNT_STPCHK_250:
10019                            2494     
10020 00001148 D108              2495             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10021 0000114A 6011              2496             MOV.W   @R1,R0                          ;
10022 0000114C C801              2497             TST     #BIT0,R0                        ;
10023                            2498             TST_BIT_OF MODE_CNT_STPCHK_300          ;
10024 0000114E 891A                   M           BT      MODE_CNT_STPCHK_300
10025                            2499     
10026 00001150 D107              2500             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10027 00001152 6011              2501             MOV.W   @R1,R0                          ;
10028 00001154 D207              2502             MOV.L   #_CPOS_STEP_MAX,R2              ;
10029 00001156 6421              2503             MOV.W   @R2,R4                          ;
10030 00001158 7401              2504             ADD     #1,R4                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    75
PROGRAM NAME =

10031 0000115A 3400              2505             CMP/EQ  R0,R4                           ;
10032 0000115C 8B0C              2506             BF      MODE_CNT_STPCHK_280             ;最終工程以外?
10033                            2507             M_BRA   MODE_CNT_STPCHK_300             ;
10034 0000115E A012                   M           BRA     MODE_CNT_STPCHK_300
10035 00001160 0009                   M           NOP
10036                            2508     
10037                                     ***** BEGIN-POOL *****
10038 00001162 0000                       ALIGNMENT CODE
10039 00001164 00000000                   DATA FOR SOURCE-LINE 2470
10040 00001168 00000000                   DATA FOR SOURCE-LINE 2480
10041 0000116C 00000000                   DATA FOR SOURCE-LINE 2488,2495
10042 00001170 00000000                   DATA FOR SOURCE-LINE 2500
10043 00001174 00000000                   DATA FOR SOURCE-LINE 2502
10044                                     ***** END-POOL *****
10045 00001178                   2509     MODE_CNT_STPCHK_280:
10046                            2510     ;       == 2004-12-20====
10047 00001178 D104              2511             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
10048 0000117A 6011              2512             MOV.W   @R1,R0                                                  ;
10049 0000117C C804              2513             TST     #BIT2,R0                                                ;2004-12-20
10050                            2514             TST_BIT_ON MODE_CNT_STPCHK_300                                  ;(待機点停止しない
                                          ﾓｰﾄﾞは別)
10051 0000117E 8B02                   M           BF      MODE_CNT_STPCHK_300
10052                            2515     
10053                            2516             FAR_JSR #_STOP_LTH_OUT,R0
10054 00001180 D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10055 00001182 400B                   M           JSR     @R0                     ;
10056 00001184 0009                   M           NOP                                     ;
10057                            2517     
10058                            2518     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10059                            2519     
10060                            2520     
10061                            2521     
10062 00001186                   2522     MODE_CNT_STPCHK_300:                            ;
10063                            2523     
10064                            2524             SUB_END
10065                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10066 00001186 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10067                            2525             M_RTS
10068 00001188 000B                   M           RTS                             ;RTSの後ろの
10069 0000118A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10070                            2526     
10071                            2527     
10072                            2528     ;       ***************************************************
10073                            2529     ;       ***                                             ***
10074                            2530     ;       ***     2016-04-12                              ***
10075                            2531     ;       ***     連続一行程                              ***
10076                            2532     ;       ***     連続寸動一行程                          ***
10077                            2533     ;       ***     上記のための連続の共通部サブルーチン化  ***
10078                            2534     ;       ***     但し、連続には使用しないでおく          ***
10079                            2535     ;       ***                                             ***
10080                            2536     ;       ***************************************************
10081                                     ***** BEGIN-POOL *****
10082 0000118C 00000000                   DATA FOR SOURCE-LINE 2511
10083 00001190 00000000                   DATA FOR SOURCE-LINE 2516
10084                                     ***** END-POOL *****
10085 00001194                   2537     _MODE_CNTCOM1_STOP_CHK:
10086                            2538             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    76
PROGRAM NAME =

10087 00001194 4F22                   M           STS.L   PR,@-R15                ;[必要]
10088                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10089                            2539     
10090                            2540             FAR_JSR #_CPU_AB_CST_OF_JG,R0           ;R0=_SH4_HD_CNT_STOP,R1=_SH4_HD_CNT_CNT
10091 00001196 D00C                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10092 00001198 400B                   M           JSR     @R0                     ;
10093 0000119A 0009                   M           NOP                                     ;
10094 0000119C 2118              2541             TST     R1,R1                           ;
10095                            2542             TST_BIT_OF MODE_CNTCOM1_STPCMP_100      ;自分のいくぞ信号ON? NO:
10096 0000119E 890F                   M           BT      MODE_CNTCOM1_STPCMP_100
10097                            2543     
10098 000011A0 D10A              2544             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10099 000011A2 6011              2545             MOV.W   @R1,R0                          ;
10100 000011A4 D20A              2546             MOV.L   #_CPOS_STEP_MAX,R2              ;
10101 000011A6 6421              2547             MOV.W   @R2,R4                          ;
10102 000011A8 7401              2548             ADD     #1,R4                           ;
10103 000011AA 3400              2549             CMP/EQ  R0,R4                           ;
10104 000011AC 8908              2550             BT      MODE_CNTCOM1_STPCMP_100         ;最終工程
10105                            2551     
10106 000011AE 6503              2552             MOV     R0,R5                           ;push
10107                            2553             FAR_JSR #_CPU_BA_STEP_LOAD,R2           ;ANS R0 (SH2_STEP_NO,SH4_STEP_NO)
10108 000011B0 D208                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10109 000011B2 420B                   M           JSR     @R2                     ;
10110 000011B4 0009                   M           NOP                                     ;
10111 000011B6 3500              2554             CMP/EQ  R0,R5                           ;
10112 000011B8 8B02              2555             BF      MODE_CNTCOM1_STPCMP_100         ;不一致状態
10113                            2556     
10114                            2557                                                     ;自分のいくぞ信号クリア(相手のもやったほう
                                          がいいのか？)
10115                            2558             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0         ;_SH4_HD_CNT_CNT=0CLR
10116 000011BA D007                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10117 000011BC 400B                   M           JSR     @R0                     ;
10118 000011BE 0009                   M           NOP                                     ;
10119                            2559     
10120 000011C0                   2560     MODE_CNTCOM1_STPCMP_100:
10121                            2561             SUB_END
10122                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10123 000011C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10124                            2562             M_RTS
10125 000011C2 000B                   M           RTS                             ;RTSの後ろの
10126 000011C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10127                            2563     
10128                            2564     
10129                            2565     ;       **************************************************
10130                            2566     ;       ***                                             ***
10131                            2567     ;       ***     AUTO_ON状態(停止条件の判定              ***
10132                            2568     ;       ***                                             ***
10133                            2569     ;       ***************************************************
10134                                     ***** BEGIN-POOL *****
10135 000011C6 0000                       ALIGNMENT CODE
10136 000011C8 00000000                   DATA FOR SOURCE-LINE 2540
10137 000011CC 00000000                   DATA FOR SOURCE-LINE 2544
10138 000011D0 00000000                   DATA FOR SOURCE-LINE 2546
10139 000011D4 00000000                   DATA FOR SOURCE-LINE 2553
10140 000011D8 00000000                   DATA FOR SOURCE-LINE 2558
10141                                     ***** END-POOL *****
10142 000011DC                   2570     _MODE_CNTCNF1_STOP_CHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    77
PROGRAM NAME =

10143                            2571             SUB_START
10144 000011DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
10145                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10146                            2572     ;       -------------AUTO ON(連続一行程)------------
10147                            2573             FAR_JSR #_AUTO_ON,R0                            ;
10148 000011DE D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10149 000011E0 400B                   M           JSR     @R0                     ;
10150 000011E2 0009                   M           NOP                                     ;
10151                            2574     ;       -------------------------------------------
10152 000011E4 D104              2575             MOV.L   #_POSHLD1_STOPLATCH,R1                  ;
10153 000011E6 6011              2576             MOV.W   @R1,R0                                  ;
10154 000011E8 2008              2577             TST     R0,R0                                   ;
10155                            2578             TST_BIT_OF MODE_CNTCNF1_STPCHK_210              ;
10156 000011EA 8907                   M           BT      MODE_CNTCNF1_STPCHK_210
10157 000011EC 200A              2579             XOR     R0,R0                                   ;
10158 000011EE 2101              2580             MOV.W   R0,@R1                                  ;
10159                            2581             M_BRA   MODE_CNTCNF1_STPCHK_220                 ;
10160 000011F0 A008                   M           BRA     MODE_CNTCNF1_STPCHK_220
10161 000011F2 0009                   M           NOP
10162                                     ***** BEGIN-POOL *****
10163 000011F4 00000000                   DATA FOR SOURCE-LINE 2573
10164 000011F8 00000000                   DATA FOR SOURCE-LINE 2575
10165                                     ***** END-POOL *****
10166 000011FC                   2582     MODE_CNTCNF1_STPCHK_210:                                ;
10167                            2583     
10168 000011FC D105              2584             MOV.L   #_CNT_STOP_CMD,R1                       ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄ
                                          ｱｯﾌﾟ
10169 000011FE 6011              2585             MOV.W   @R1,R0                                  ;
10170 00001200 2008              2586             TST     R0,R0                                   ;
10171                            2587             TST_BIT_OF MODE_CNTCNF1_STPCHK_250              ;(上死点停止指令OFF)
10172 00001202 8903                   M           BT      MODE_CNTCNF1_STPCHK_250
10173 00001204                   2588     MODE_CNTCNF1_STPCHK_220:                                ;
10174                            2589     
10175                            2590     ;       //BIT0:ｽﾄｯﾌﾟ釦記憶 停止可能なタイミングで出力される
10176                            2591             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10177 00001204 D104                   M           MOV.L   #_STOP_LATCH_B,R1               ;
10178 00001206 6011                   M           MOV.W   @R1,R0          ;
10179 00001208 CB01                   M           OR      #BIT0,R0                ;
10180 0000120A 2101                   M           MOV.W   R0,@R1          ;
10181                            2592     
10182 0000120C                   2593     MODE_CNTCNF1_STPCHK_250:
10183                            2594             SUB_END
10184                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10185 0000120C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10186                            2595             M_RTS
10187 0000120E 000B                   M           RTS                             ;RTSの後ろの
10188 00001210 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10189                            2596     
10190                            2597     
10191                            2598     
10192                            2599     ;       **************************************************
10193                            2600     ;       ***                                             ***
10194                            2601     ;       ***     AUTO_ON状態(相手側も動作する状態)       ***
10195                            2602     ;       ***                                             ***
10196                            2603     ;       ***************************************************
10197                                     ***** BEGIN-POOL *****
10198 00001212 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    78
PROGRAM NAME =

10199 00001214 00000000                   DATA FOR SOURCE-LINE 2584
10200 00001218 00000000                   DATA FOR SOURCE-LINE 2591
10201                                     ***** END-POOL *****
10202 0000121C                   2604     _MODE_CNTCOM2_STOP_CHK:
10203                            2605             SUB_START
10204 0000121C 4F22                   M           STS.L   PR,@-R15                ;[必要]
10205                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10206                            2606     
10207 0000121E D106              2607             MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦等
10208 00001220 6011              2608             MOV.W   @R1,R0                                  ;
10209 00001222 C801              2609             TST     #BIT0,R0                                ;
10210                            2610             TST_BIT_OF MODE_CNTCOM2_STPCHK_300              ;
10211 00001224 8915                   M           BT      MODE_CNTCOM2_STPCHK_300
10212                            2611     
10213 00001226 D105              2612             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10214 00001228 6011              2613             MOV.W   @R1,R0                          ;
10215 0000122A D205              2614             MOV.L   #_CPOS_STEP_MAX,R2              ;
10216 0000122C 6421              2615             MOV.W   @R2,R4                          ;
10217 0000122E 7401              2616             ADD     #1,R4                           ;
10218 00001230 3400              2617             CMP/EQ  R0,R4                           ;
10219 00001232 8B07              2618             BF      MODE_CNTCOM2_STPCHK_280         ;最終工程以外?
10220                            2619             M_BRA   MODE_CNTCOM2_STPCHK_300         ;最終行程は別で行う
10221 00001234 A00D                   M           BRA     MODE_CNTCOM2_STPCHK_300
10222 00001236 0009                   M           NOP
10223                            2620     
10224                                     ***** BEGIN-POOL *****
10225 00001238 00000000                   DATA FOR SOURCE-LINE 2607
10226 0000123C 00000000                   DATA FOR SOURCE-LINE 2612
10227 00001240 00000000                   DATA FOR SOURCE-LINE 2614
10228                                     ***** END-POOL *****
10229 00001244                   2621     MODE_CNTCOM2_STPCHK_280:
10230                            2622     
10231 00001244 D104              2623             MOV.L   #_CPOS_MOD_FLG1,R1              ;
10232 00001246 6011              2624             MOV.W   @R1,R0                          ;
10233 00001248 C804              2625             TST     #BIT2,R0                        ;2004-12-20
10234                            2626             TST_BIT_ON MODE_CNTCOM2_STPCHK_300      ;BIT2=1 待機点停止しないﾓｰﾄﾞは別で行う
10235 0000124A 8B02                   M           BF      MODE_CNTCOM2_STPCHK_300
10236                            2627     
10237                            2628             FAR_JSR #_STOP_LTH_OUT,R0               ;STOP_LATCH.BIT0=1,SH4_HD_CNT_STOP=-1
10238 0000124C D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10239 0000124E 400B                   M           JSR     @R0                     ;
10240 00001250 0009                   M           NOP                                     ;
10241                            2629     
10242 00001252                   2630     MODE_CNTCOM2_STPCHK_300:                        ;
10243                            2631     
10244                            2632             SUB_END
10245                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10246 00001252 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10247                            2633             M_RTS
10248 00001254 000B                   M           RTS                             ;RTSの後ろの
10249 00001256 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10250                            2634     
10251                            2635     ;       ***************************
10252                            2636     ;       ***                     ***
10253                            2637     ;       ***************************
10254                            2638             .EXPORT _STOP_LTH_OUT
10255                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    79
PROGRAM NAME =

10256 00001258 00000000                   DATA FOR SOURCE-LINE 2623
10257 0000125C 00000000                   DATA FOR SOURCE-LINE 2628
10258                                     ***** END-POOL *****
10259 00001260                   2639     _STOP_LTH_OUT:
10260                            2640             SUB_START
10261 00001260 4F22                   M           STS.L   PR,@-R15                ;[必要]
10262                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10263 00001262 D105              2641             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10264 00001264 6011              2642             MOV.W   @R1,R0                          ;
10265 00001266 CB01              2643             OR      #BIT0,R0                        ;
10266 00001268 2101              2644             MOV.W   R0,@R1                          ;
10267                            2645     
10268                            2646             FAR_JSR #_CPU_AB_CST_ON_OUT1,R0         ;
10269 0000126A D004                   M           MOV.L   #_CPU_AB_CST_ON_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10270 0000126C 400B                   M           JSR     @R0                     ;
10271 0000126E 0009                   M           NOP                                     ;
10272                            2647     
10273                            2648             SUB_END
10274                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10275 00001270 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10276                            2649             M_RTS
10277 00001272 000B                   M           RTS                             ;RTSの後ろの
10278 00001274 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10279                            2650     
10280                            2651     
10281                            2652     ;       *******************************************
10282                            2653     ;       ***                                     ***
10283                            2654     ;       ***             安全一工程              ***
10284                            2655     ;       ***             一行程                  ***
10285                            2656     ;       *******************************************
10286                                     ***** BEGIN-POOL *****
10287 00001276 0000                       ALIGNMENT CODE
10288 00001278 00000000                   DATA FOR SOURCE-LINE 2641
10289 0000127C 00000000                   DATA FOR SOURCE-LINE 2646
10290                                     ***** END-POOL *****
10291 00001280                   2657     _MODE_SGL_STOP_CHK:
10292                            2658             SUB_START
10293 00001280 4F22                   M           STS.L   PR,@-R15                ;[必要]
10294                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10295                            2659     ;       === 2003-05-24==
10296 00001282 D105              2660             MOV.L   #_MODE_SEL,R1                   ;寸動・安全一工程・連続・OPT
10297 00001284 6011              2661             MOV.W   @R1,R0                          ;
10298 00001286 9106              2662             MOV.W   #BIT10,R1                       ;
10299 00001288 2018              2663             TST     R1,R0                           ;
10300                            2664             TST_BIT_OF MODE_SGL_STPCHK_050          ;安全一行程
10301 0000128A 8909                   M           BT      MODE_SGL_STPCHK_050
10302                            2665             FAR_JSR #_AUTO_ON,R0                    ;一行程
10303 0000128C D003                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10304 0000128E 400B                   M           JSR     @R0                     ;
10305 00001290 0009                   M           NOP                                     ;
10306                            2666             M_BRA   MODE_SGL_STPCHK_200             ;
10307 00001292 A03F                   M           BRA     MODE_SGL_STPCHK_200
10308 00001294 0009                   M           NOP
10309                            2667     
10310                                     ***** BEGIN-POOL *****
10311 00001296 0400                       DATA FOR SOURCE-LINE 2662
10312 00001298 00000000                   DATA FOR SOURCE-LINE 2660
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    80
PROGRAM NAME =

10313 0000129C 00000000                   DATA FOR SOURCE-LINE 2665
10314                                     ***** END-POOL *****
10315 000012A0                   2668     MODE_SGL_STPCHK_050:                            ;
10316 000012A0 D10A              2669             MOV.L   #_UP_HOLD_FLG,R1                ;
10317 000012A2 6011              2670             MOV.W   @R1,R0                          ;
10318 000012A4 C801              2671             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10319                            2672             TST_BIT_OF MODE_SGL_STPCHK_100          ;
10320 000012A6 8923                   M           BT      MODE_SGL_STPCHK_100
10321                            2673     ;;      FAR_JSR #_AUTO_ON,R0                    ;
10322                            2674     
10323                            2675     ;       ----2007-03-02-------------------------
10324                            2676             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;相手側はautoにならないで止めたみたいか？
10325 000012A8 D009                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10326 000012AA 400B                   M           JSR     @R0                     ;
10327 000012AC 0009                   M           NOP                                     ;
10328 000012AE 2008              2677             TST     R0,R0                           ;
10329                            2678             TST_BIT_OF MODE_SGL_STPCHK_080          ;
10330 000012B0 8916                   M           BT      MODE_SGL_STPCHK_080
10331                            2679             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10332 000012B2 D108                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10333 000012B4 6011                   M           MOV.W   @R1,R0          ;
10334 000012B6 CB01                   M           OR      #BIT0,R0                ;
10335 000012B8 2101                   M           MOV.W   R0,@R1          ;
10336                            2680             FAR_JSR #_AUTO_OF,R0                    ;
10337 000012BA D007                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10338 000012BC 400B                   M           JSR     @R0                     ;
10339 000012BE 0009                   M           NOP                                     ;
10340                            2681     
10341                            2682     ;       ---------- [2015-11-15]-------------------
10342                            2683     ;;; .AIF 1 EQ 1
10343                            2684             FAR_JSR #_UP_HOLD_MISS,R0       ;
10344 000012C0 D006                   M           MOV.L   #_UP_HOLD_MISS,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10345 000012C2 400B                   M           JSR     @R0                     ;
10346 000012C4 0009                   M           NOP                                     ;
10347                            2685     ;;; .AENDI
10348                            2686     ;       ---------------------------------------
10349                            2687     
10350                            2688             M_BRA   MODE_SGL_STPCHK_150             ;
10351 000012C6 A01C                   M           BRA     MODE_SGL_STPCHK_150
10352 000012C8 0009                   M           NOP
10353                            2689     
10354                                     ***** BEGIN-POOL *****
10355 000012CA 0000                       ALIGNMENT CODE
10356 000012CC 00000000                   DATA FOR SOURCE-LINE 2669
10357 000012D0 00000000                   DATA FOR SOURCE-LINE 2676
10358 000012D4 00000000                   DATA FOR SOURCE-LINE 2679
10359 000012D8 00000000                   DATA FOR SOURCE-LINE 2680
10360 000012DC 00000000                   DATA FOR SOURCE-LINE 2684
10361                                     ***** END-POOL *****
10362 000012E0                   2690     MODE_SGL_STPCHK_080             ;
10363                            2691             FAR_JSR #_AUTO_ON,R0                    ;
10364 000012E0 D002                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10365 000012E2 400B                   M           JSR     @R0                     ;
10366 000012E4 0009                   M           NOP                                     ;
10367                            2692             M_BRA   MODE_SGL_STPCHK_200             ;
10368 000012E6 A015                   M           BRA     MODE_SGL_STPCHK_200
10369 000012E8 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    81
PROGRAM NAME =

10370                            2693     
10371                                     ***** BEGIN-POOL *****
10372 000012EA 0000                       ALIGNMENT CODE
10373 000012EC 00000000                   DATA FOR SOURCE-LINE 2691
10374                                     ***** END-POOL *****
10375 000012F0                   2694     MODE_SGL_STPCHK_100:                            ;
10376                            2695     
10377                            2696     ;       ======= 2003-06-13 =====
10378                            2697     ;;;とりあえずくみこまない       MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分
                                          ) 2003-06-13
10379                            2698     ;;;とりあえずくみこまない       MOV.W   @R1,R0                          ;運転中止(寸動部分
                                          ) 2003-06-13
10380                            2699     ;;;とりあえずくみこまない       TST     R0,R0                           ;運転中止(寸動部分
                                          ) 2003-06-13
10381                            2700     ;;;とりあえずくみこまない       TST_BIT_OF MODE_SGL_STPCHK_150          ;TIME-OUT
10382                            2701     
10383                            2702     
10384 000012F0 D10A              2703             MOV.L   #_BTTN_FLG,R1                   ;
10385 000012F2 6011              2704             MOV.W   @R1,R0                          ;
10386 000012F4 C804              2705             TST     #BIT2,R0                        ;両手ON
10387                            2706             TST_BIT_ON MODE_SGL_STPCHK_200          ;
10388 000012F6 8B0D                   M           BF      MODE_SGL_STPCHK_200
10389                            2707     
10390                            2708     ;       ---------- 2015-11-13[行程2重回路対策]---------------
10391                            2709     ;;; .AIF 1 EQ 1
10392                            2710             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10393 000012F8 D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10394 000012FA 400B                   M           JSR     @R0                     ;
10395 000012FC 0009                   M           NOP                                     ;
10396 000012FE 2008              2711             TST     R0,R0                           ;
10397                            2712             TST_BIT_ON MODE_SGL_STPCHK_200          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10398 00001300 8B08                   M           BF      MODE_SGL_STPCHK_200
10399                            2713     ;;; .AENDI
10400                            2714     
10401 00001302                   2715     MODE_SGL_STPCHK_150:
10402                            2716     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10403                            2717             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10404 00001302 D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10405 00001304 400B                   M           JSR     @R0                     ;
10406 00001306 0009                   M           NOP                                     ;
10407                            2718     
10408                            2719     
10409                            2720     ;       ---2007-03-02-----
10410                            2721             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10411 00001308 D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10412 0000130A E002                   M           MOV.B   #BIT1,R0                        ;
10413 0000130C 2101                   M           MOV.W   R0,@R1                          ;
10414                            2722             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10415 0000130E D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10416 00001310 400B                   M           JSR     @R0                     ;
10417 00001312 0009                   M           NOP                                     ;
10418                            2723     
10419                            2724     
10420                            2725     
10421 00001314                   2726     MODE_SGL_STPCHK_200:
10422                            2727             SUB_END
10423                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    82
PROGRAM NAME =

10424 00001314 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10425                            2728             M_RTS
10426 00001316 000B                   M           RTS                             ;RTSの後ろの
10427 00001318 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10428                            2729     
10429                            2730     
10430                            2731     
10431                            2732     ;       *******************************************
10432                            2733     ;       ***                                     ***
10433                            2734     ;       ***     2016-04-12正式に作成            ***
10434                            2735     ;       ***                                     ***
10435                            2736     ;       *******************************************
10436                                     ***** BEGIN-POOL *****
10437 0000131A 0000                       ALIGNMENT CODE
10438 0000131C 00000000                   DATA FOR SOURCE-LINE 2703
10439 00001320 00000000                   DATA FOR SOURCE-LINE 2710
10440 00001324 00000000                   DATA FOR SOURCE-LINE 2717
10441 00001328 00000000                   DATA FOR SOURCE-LINE 2721
10442 0000132C 00000000                   DATA FOR SOURCE-LINE 2722
10443                                     ***** END-POOL *****
10444 00001330                   2737     _MODE_CSS_STOP_CHK:     ;連続一行程・連続寸動一行程
10445                            2738             SUB_START
10446 00001330 4F22                   M           STS.L   PR,@-R15                ;[必要]
10447                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10448                            2739     
10449 00001332 D104              2740             MOV.L   #_MODE_SEL,R1           ;
10450 00001334 6011              2741             MOV.W   @R1,R0                  ;
10451 00001336 9103              2742             MOV.W   #BIT11,R1
10452 00001338 2018              2743             TST     R1,R0           ;連続一行程？
10453                            2744             TST_BIT_ON MODE_CCC_STOPCHK     ;YES
10454 0000133A 8B05                   M           BF      MODE_CCC_STOPCHK
10455                            2745             M_BRA   MODE_CSS_STOPCHK_START  ;連続寸動一行程
10456 0000133C A022                   M           BRA     MODE_CSS_STOPCHK_START
10457 0000133E 0009                   M           NOP
10458                            2746     
10459                            2747     ;       == 連続一行程==
10460                                     ***** BEGIN-POOL *****
10461 00001340 0800                       DATA FOR SOURCE-LINE 2742
10462 00001342 0000                       ALIGNMENT CODE
10463 00001344 00000000                   DATA FOR SOURCE-LINE 2740
10464                                     ***** END-POOL *****
10465 00001348                   2748     MODE_CCC_STOPCHK:
10466                            2749             FAR_JSR #_MODE_CNTCOM1_STOP_CHK,R0              ;
10467 00001348 D009                   M           MOV.L   #_MODE_CNTCOM1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10468 0000134A 400B                   M           JSR     @R0                     ;
10469 0000134C 0009                   M           NOP                                     ;
10470                            2750             FAR_JSR #_MODE_CNTCNF1_STOP_CHK,R0              ;
10471 0000134E D009                   M           MOV.L   #_MODE_CNTCNF1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10472 00001350 400B                   M           JSR     @R0                     ;
10473 00001352 0009                   M           NOP                                     ;
10474 00001354 D108              2751             MOV.L   #_BTTN_FLG,R1                           ;
10475 00001356 6011              2752             MOV.W   @R1,R0                                  ;
10476 00001358 C804              2753             TST     #BIT2,R0                                ;
10477                            2754             TST_BIT_ON MODE_CCC_STPCMP_120                  ;両手ON
10478 0000135A 8B03                   M           BF      MODE_CCC_STPCMP_120
10479                            2755             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10480 0000135C D107                   M           MOV.L   #_STOP_LATCH_B,R1               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    83
PROGRAM NAME =

10481 0000135E 6011                   M           MOV.W   @R1,R0          ;
10482 00001360 CB01                   M           OR      #BIT0,R0                ;
10483 00001362 2101                   M           MOV.W   R0,@R1          ;
10484 00001364                   2756     MODE_CCC_STPCMP_120:
10485                            2757     
10486                            2758             FAR_JSR #_MODE_CNTCOM2_STOP_CHK,R0              ;STOP_LATCH_B->STOP_LATCH
10487 00001364 D006                   M           MOV.L   #_MODE_CNTCOM2_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10488 00001366 400B                   M           JSR     @R0                     ;
10489 00001368 0009                   M           NOP                                     ;
10490                            2759                                                             ;良いﾀｲﾐﾝｸﾞで出力する()
10491                            2760     
10492                            2761             M_BRA   MODE_CSS_STOPCK1000     ;
10493 0000136A A0AD                   M           BRA     MODE_CSS_STOPCK1000
10494 0000136C 0009                   M           NOP
10495                            2762     
10496                            2763     ;       ===========================================
10497                            2764     ;       ===             連続寸動一行程          ===
10498                            2765     ;       ===========================================
10499                            2766     ;       == 連続寸動一行程(あした考える->20190820) ==
10500                                     ***** BEGIN-POOL *****
10501 0000136E 0000                       ALIGNMENT CODE
10502 00001370 00000000                   DATA FOR SOURCE-LINE 2749
10503 00001374 00000000                   DATA FOR SOURCE-LINE 2750
10504 00001378 00000000                   DATA FOR SOURCE-LINE 2751
10505 0000137C 00000000                   DATA FOR SOURCE-LINE 2755
10506 00001380 00000000                   DATA FOR SOURCE-LINE 2758
10507                                     ***** END-POOL *****
10508 00001384                   2767     MODE_CSS_STOPCHK_START: ;
10509                            2768             FAR_JSR #_MODE_CNTCOM1_STOP_CHK,R0              ;2019-08-20 共通化
10510 00001384 D00C                   M           MOV.L   #_MODE_CNTCOM1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10511 00001386 400B                   M           JSR     @R0                     ;
10512 00001388 0009                   M           NOP                                     ;
10513                            2769     
10514                            2770     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10515                            2771     ;       本来なら200:~220でやるべき話だが　ここでやったほうが安全性は高い
10516                            2772             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
                                          =-1
10517 0000138A D00C                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10518 0000138C 400B                   M           JSR     @R0                     ;
10519 0000138E 0009                   M           NOP                                     ;
10520 00001390 2008              2773             TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10521                            2774             TST_BIT_OF MODE_CCS_STPCMP_105                                          ;
10522 00001392 891F                   M           BT      MODE_CCS_STPCMP_105
10523                            2775             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10524 00001394 D10A                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10525 00001396 6011                   M           MOV.W   @R1,R0          ;
10526 00001398 CB01                   M           OR      #BIT0,R0                ;
10527 0000139A 2101                   M           MOV.W   R0,@R1          ;
10528                            2776             FAR_JSR #_AUTO_OF,R0                                                    ;
10529 0000139C D009                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10530 0000139E 400B                   M           JSR     @R0                     ;
10531 000013A0 0009                   M           NOP                                     ;
10532                            2777     
10533                            2778             FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10534 000013A2 D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10535 000013A4 400B                   M           JSR     @R0                     ;
10536 000013A6 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    84
PROGRAM NAME =

10537                            2779             MOD_LOW_STOP_R0_R1                                              ;
10538 000013A8 D108                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10539 000013AA E002                   M           MOV.B   #BIT1,R0                        ;
10540 000013AC 2101                   M           MOV.W   R0,@R1                          ;
10541                            2780             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10542 000013AE D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10543 000013B0 400B                   M           JSR     @R0                     ;
10544 000013B2 0009                   M           NOP                                     ;
10545                            2781             M_BRA   MODE_CCS_STPCMP_300                                     ;
10546 000013B4 A088                   M           BRA     MODE_CCS_STPCMP_300
10547 000013B6 0009                   M           NOP
10548                            2782     
10549                            2783     
10550                            2784     
10551                                     ***** BEGIN-POOL *****
10552 000013B8 00000000                   DATA FOR SOURCE-LINE 2768
10553 000013BC 00000000                   DATA FOR SOURCE-LINE 2772
10554 000013C0 00000000                   DATA FOR SOURCE-LINE 2775
10555 000013C4 00000000                   DATA FOR SOURCE-LINE 2776
10556 000013C8 00000000                   DATA FOR SOURCE-LINE 2778
10557 000013CC 00000000                   DATA FOR SOURCE-LINE 2779
10558 000013D0 00000000                   DATA FOR SOURCE-LINE 2780
10559                                     ***** END-POOL *****
10560 000013D4                   2785     MODE_CCS_STPCMP_105:
10561                            2786     ;       ----------------------------------------------------------------
10562                            2787     
10563                            2788     
10564                            2789     
10565                            2790     ;;;;;;  ----- 2005-08-26 -------
10566                            2791     ;;;;;;  MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10567                            2792     ;;;;;;  MOV.W   @R1,R0                          ;
10568                            2793     ;;;;;;  TST     #BIT0,R0                        ;STOP-LATCH-ON
10569                            2794     ;;;;;;  TST_BIT_OF MODE_CCS_STPCMP_110          ;
10570                            2795     ;;;;;;  M_BRA   MODE_CCS_STPCMP_270
10571                            2796     ;;;;;;MODE_CCS_STPCMP_110:
10572                            2797     ;       ------------------------
10573                            2798     
10574 000013D4 D111              2799             MOV.L   #_BTTN_FLG,R1                           ;
10575 000013D6 6011              2800             MOV.W   @R1,R0                                          ;
10576 000013D8 C804              2801             TST     #BIT2,R0                                                ;
10577                            2802             TST_BIT_ON MODE_CCS_STPCMP_120          ;両手ON
10578 000013DA 8B02                   M           BF      MODE_CCS_STPCMP_120
10579                            2803     
10580 000013DC 901C              2804             MOV.W   #BIT0,R0                                        ;
10581 000013DE D110              2805             MOV.L   #_CCS_BTTN_OFF,R1                       ;両手ON以外の状態が運転中にあった
                                          。必ずいつか止める
10582 000013E0 2101              2806             MOV.W   R0,@R1                                          ;
10583                            2807     
10584 000013E2                   2808     MODE_CCS_STPCMP_120:
10585                            2809     ;       ---------回転の論理変更----------
10586                            2810     
10587 000013E2 D110              2811             MOV.L   #_CPOS_CTL_MATH,R1                              ;
10588 000013E4 6011              2812             MOV.W   @R1,R0                                                  ;
10589                            2813     ;;;2016-10-31   TST     #_DMATH_CNTROT,R0               ;
10590 000013E6 C805              2814             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
10591                            2815             TST_BIT_OF MODE_CCS_STPCMP_140                  ;
10592 000013E8 892C                   M           BT      MODE_CCS_STPCMP_140
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    85
PROGRAM NAME =

10593                            2816     
10594 000013EA D40F              2817             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
10595 000013EC 6041              2818             MOV.W   @R4,R0                                          ;
10596 000013EE C802              2819             TST     #(BIT1),R0                                              ;下降(停止)
10597                            2820             TST_BIT_ON MODE_CCS_STPCMP_145          ;(停止)
10598 000013F0 8B2C                   M           BF      MODE_CCS_STPCMP_145
10599                            2821     
10600 000013F2 D50E              2822             MOV.L   #_INT_POS_CTL_STEP,R5           ;
10601 000013F4 6251              2823             MOV.W   @R5,R2                                          ;
10602 000013F6 D40E              2824             MOV.L   #_UP_HOLD_STEP,R4                       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
10603 000013F8 6541              2825             MOV.W   @R4,R5                                          ;
10604 000013FA 3252              2826             CMP/HS  R5,R2                                           ;ﾁｪｯｸすべき工程にきたか
10605 000013FC 8B26              2827             BF      MODE_CCS_STPCMP_145                             ;NO(停止)
10606                            2828     
10607                            2829     ;;;2019-08-20   MOV.L   #_INC_ENC360,R4                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
10608 000013FE D40D              2830             MOV.L   #_DNM_CTL_INC3600,R4            ;
10609 00001400 6241              2831             MOV.W   @R4,R2                                          ;
10610 00001402 D50D              2832             MOV.L   #_UP_HOLD_DIG,R5                        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で
                                          比較
10611 00001404 6151              2833             MOV.W   @R5,R1                                          ;START
10612 00001406 D50D              2834             MOV.L   #_SETX_UPAREA_DIG,R5            ;
10613 00001408 6351              2835             MOV.W   @R5,R3                                          ;
10614                            2836             FAR_JSR #_DIG_AREA_CHK1,R0                      ;"ANS:R5"
10615 0000140A D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10616 0000140C 400B                   M           JSR     @R0                     ;
10617 0000140E 0009                   M           NOP                                     ;
10618 00001410 4511              2837             CMP/PZ  R5                                                      ;
10619 00001412 8B1B              2838             BF      MODE_CCS_STPCMP_145                             ;
10620                            2839             M_BRA   MODE_CCS_STPCMP_200                     ;165~359.9　HOLD
10621 00001414 A042                   M           BRA     MODE_CCS_STPCMP_200
10622 00001416 0009                   M           NOP
10623                            2840     
10624                            2841     ;       -------- 反転------------
10625                                     ***** BEGIN-POOL *****
10626 00001418 0001                       DATA FOR SOURCE-LINE 2804
10627 0000141A 0000                       ALIGNMENT CODE
10628 0000141C 00000000                   DATA FOR SOURCE-LINE 2799
10629 00001420 00000000                   DATA FOR SOURCE-LINE 2805
10630 00001424 00000000                   DATA FOR SOURCE-LINE 2811
10631 00001428 00000000                   DATA FOR SOURCE-LINE 2817
10632 0000142C 00000000                   DATA FOR SOURCE-LINE 2822
10633 00001430 00000000                   DATA FOR SOURCE-LINE 2824
10634 00001434 00000000                   DATA FOR SOURCE-LINE 2830
10635 00001438 00000000                   DATA FOR SOURCE-LINE 2832
10636 0000143C 00000000                   DATA FOR SOURCE-LINE 2834
10637 00001440 00000000                   DATA FOR SOURCE-LINE 2836
10638                                     ***** END-POOL *****
10639 00001444                   2842     MODE_CCS_STPCMP_140:
10640 00001444 D10D              2843             MOV.L   #_LOT_CNT_FLG,R1                ;//行程=1で0 最終工程で条件成立で=1()
10641 00001446 6011              2844             MOV.W   @R1,R0                          ;BIT0=1 上昇ﾎｰﾙﾄﾞ〜1工程または下降工程まで
10642 00001448 C801              2845             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10643                            2846             TST_BIT_ON MODE_CCS_STPCMP_200          ;
10644 0000144A 8B27                   M           BF      MODE_CCS_STPCMP_200
10645                            2847     
10646                            2848     
10647                            2849     
10648                            2850     ;       =========== 停止===============
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    86
PROGRAM NAME =

10649 0000144C                   2851     MODE_CCS_STPCMP_145:
10650                            2852             FAR_JSR #_AUTO_OF,R0                    ;
10651 0000144C D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10652 0000144E 400B                   M           JSR     @R0                     ;
10653 00001450 0009                   M           NOP                                     ;
10654                            2853     
10655                            2854     ;       === 上昇ﾎｰﾙﾄﾞではない===
10656 00001452 D10C              2855             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10657 00001454 6011              2856             MOV.W   @R1,R0                          ;
10658 00001456 C801              2857             TST     #BIT0,R0                        ;
10659                            2858             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
10660 00001458 8936                   M           BT      MODE_CCS_STPCMP_300
10661                            2859     
10662                            2860     ;;;;2005-08-28  MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10663                            2861     
10664                            2862     ;下降行程で手を離したら無条件に停止する
10665                            2863     ;;;;2007-12-26  MOV.L   #_STOP_LATCH_B,R1               ;2005-08-28
10666                            2864     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10667                            2865     ;;;;2007-12-26  TST     #BIT0,R0                        ;
10668                            2866     ;;;;2007-12-26  TST_BIT_OF MODE_CCS_STPCMP_150          ;通常の停止
10669                            2867     ;;;;2007-12-26
10670                            2868     ;;;;2007-12-26  MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10671                            2869     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10672                            2870     ;;;;2007-12-26  MOV.L   #_CPOS_STEP_MAX,R2              ;
10673                            2871     ;;;;2007-12-26  MOV.W   @R2,R4                          ;
10674                            2872     ;;;;2007-12-26  ADD     #1,R4                           ;
10675                            2873     ;;;;2007-12-26  CMP/EQ  R0,R4                           ;
10676                            2874     ;;;;2007-12-26  BF      MODE_CCS_STPCMP_150             ;最終工程でないなら手動停止
10677                            2875     ;;;;2007-12-26  M_BRA   MODE_CCS_STPCMP_300             ;
10678                            2876     ;;;;2019-08-20MODE_CCS_STPCMP_150:
10679                            2877     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10680                            2878             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10681 0000145A D00B                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10682 0000145C 400B                   M           JSR     @R0                     ;
10683 0000145E 0009                   M           NOP                                     ;
10684                            2879             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10685 00001460 D10A                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10686 00001462 E002                   M           MOV.B   #BIT1,R0                        ;
10687 00001464 2101                   M           MOV.W   R0,@R1                          ;
10688                            2880     ;       ---2007-03-02-----
10689                            2881             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10690 00001466 D00A                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10691 00001468 400B                   M           JSR     @R0                     ;
10692 0000146A 0009                   M           NOP                                     ;
10693                            2882     
10694                            2883     ;       ------- 2007-12-26-------
10695 0000146C 200A              2884             XOR     R0,R0
10696 0000146E D109              2885             MOV.L   #_STOP_LATCH_B,R1               ;
10697 00001470 2101              2886             MOV.W   R0,@R1
10698 00001472 D109              2887             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10699 00001474 2101              2888             MOV.W   R0,@R1
10700                            2889             M_BRA   MODE_CCS_STPCMP_300             ;
10701 00001476 A027                   M           BRA     MODE_CCS_STPCMP_300
10702 00001478 0009                   M           NOP
10703                            2890     
10704                            2891     ;       ====== 上昇ﾎｰﾙﾄﾞ中 =====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    87
PROGRAM NAME =

10705                                     ***** BEGIN-POOL *****
10706 0000147A 0000                       ALIGNMENT CODE
10707 0000147C 00000000                   DATA FOR SOURCE-LINE 2843
10708 00001480 00000000                   DATA FOR SOURCE-LINE 2852
10709 00001484 00000000                   DATA FOR SOURCE-LINE 2855
10710 00001488 00000000                   DATA FOR SOURCE-LINE 2878
10711 0000148C 00000000                   DATA FOR SOURCE-LINE 2879
10712 00001490 00000000                   DATA FOR SOURCE-LINE 2881
10713 00001494 00000000                   DATA FOR SOURCE-LINE 2885
10714 00001498 00000000                   DATA FOR SOURCE-LINE 2887
10715                                     ***** END-POOL *****
10716 0000149C                   2892     MODE_CCS_STPCMP_200:
10717                            2893     ;2007-11-21 本来は200:~220:だけでいいが確認が難しいことと、不具合をださないなら上でやる
10718                            2894     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10719                            2895     ;       FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
                                          =-1
10720                            2896     ;       TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10721                            2897     ;       TST_BIT_OF MODE_CCS_STPCMP_220                                          ;
10722                            2898     ;       MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10723                            2899     ;       FAR_JSR #_AUTO_OF,R0                                                    ;
10724                            2900     ;
10725                            2901     ;       FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10726                            2902     ;       MOD_LOW_STOP_R0_R1                                              ;
10727                            2903     ;       FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10728                            2904     ;       M_BRA   MODE_CCS_STPCMP_300                                     ;
10729                            2905     ;MODE_CCS_STPCMP_220:
10730                            2906     ;       ----------------------------------------------------------------
10731                            2907     
10732                            2908             FAR_JSR #_AUTO_ON,R0                    ;
10733 0000149C D00C                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10734 0000149E 400B                   M           JSR     @R0                     ;
10735 000014A0 0009                   M           NOP                                     ;
10736                            2909     
10737 000014A2 D10C              2910             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
10738 000014A4 6011              2911             MOV.W   @R1,R0                          ;
10739 000014A6 2008              2912             TST     R0,R0                           ;
10740                            2913             TST_BIT_ON MODE_CCS_STPCMP_250          ;停止すべき
10741 000014A8 8B03                   M           BF      MODE_CCS_STPCMP_250
10742                            2914     
10743 000014AA D10B              2915             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10744 000014AC 6011              2916             MOV.W   @R1,R0                          ;
10745 000014AE C801              2917             TST     #BIT0,R0                        ;
10746                            2918             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
10747 000014B0 890A                   M           BT      MODE_CCS_STPCMP_300
10748                            2919     
10749 000014B2                   2920     MODE_CCS_STPCMP_250:
10750 000014B2 D10A              2921             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10751 000014B4 6011              2922             MOV.W   @R1,R0                          ;
10752 000014B6 CB01              2923             OR      #BIT0,R0                        ;
10753 000014B8 2101              2924             MOV.W   R0,@R1                          ;
10754                            2925     
10755 000014BA                   2926     MODE_CCS_STPCMP_270:
10756                            2927     
10757                            2928     ;;;;;;;;;;;2007-12-26 最終工程でなくても上昇ﾎｰﾙﾄﾞで停止ｺﾏﾝﾄﾞ出力
10758                            2929     ;;;     ------------- 追加 2005-08-26 -----------
10759                            2930     ;;;        MOV.L        #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    88
PROGRAM NAME =

10760                            2931     ;;;        MOV.W        @R1,R0                          ;
10761                            2932     ;;;        MOV.L        #_CPOS_STEP_MAX,R2              ;
10762                            2933     ;;;        MOV.W        @R2,R4                          ;
10763                            2934     ;;;        ADD  #1,R4                           ;
10764                            2935     ;;;        CMP/EQ       R0,R4                           ;
10765                            2936     ;;;        BF   MODE_CCS_STPCMP_280             ;最終工程以外?
10766                            2937     ;;;        M_BRA        MODE_CCS_STPCMP_300             ;
10767                            2938     
10768 000014BA                   2939     MODE_CCS_STPCMP_280:
10769 000014BA D109              2940             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
10770 000014BC 6011              2941             MOV.W   @R1,R0                                                  ;
10771 000014BE C804              2942             TST     #BIT2,R0                                                ;2004-12-20
10772                            2943             TST_BIT_ON MODE_CCS_STPCMP_300                                  ;
10773 000014C0 8B02                   M           BF      MODE_CCS_STPCMP_300
10774                            2944     
10775                            2945             FAR_JSR #_STOP_LTH_OUT,R0
10776 000014C2 D008                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10777 000014C4 400B                   M           JSR     @R0                     ;
10778 000014C6 0009                   M           NOP                                     ;
10779                            2946     
10780                            2947     
10781 000014C8                   2948     MODE_CCS_STPCMP_300:
10782                            2949     
10783 000014C8                   2950     MODE_CSS_STOPCK1000:
10784                            2951     
10785                            2952             SUB_END
10786                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10787 000014C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10788                            2953             M_RTS
10789 000014CA 000B                   M           RTS                             ;RTSの後ろの
10790 000014CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10791                            2954     
10792                            2955     
10793                                     ***** BEGIN-POOL *****
10794 000014CE 0000                       ALIGNMENT CODE
10795 000014D0 00000000                   DATA FOR SOURCE-LINE 2908
10796 000014D4 00000000                   DATA FOR SOURCE-LINE 2910
10797 000014D8 00000000                   DATA FOR SOURCE-LINE 2915
10798 000014DC 00000000                   DATA FOR SOURCE-LINE 2921
10799 000014E0 00000000                   DATA FOR SOURCE-LINE 2940
10800 000014E4 00000000                   DATA FOR SOURCE-LINE 2945
10801                                     ***** END-POOL *****
10802 000014E8                   2956     _MODE_OPT_STOP_CHK:;//(ｵﾌﾟｼｮﾝではなくなってしまっている ここにはこないPSDIぐらい)
10803 000014E8                   2957     _MODE_INC_STOP_CHK:
10804                            2958             SUB_START
10805 000014E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
10806                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10807 000014EA D103              2959             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分) 2003-06-13
10808 000014EC 6011              2960             MOV.W   @R1,R0                          ;運転中止(寸動部分) 2003-06-13
10809 000014EE 2008              2961             TST     R0,R0                           ;運転中止(寸動部分) 2003-06-13
10810                            2962             TST_BIT_OF MODE_INC_STPCHK_050          ;運転中止(寸動部分) 2003-06-13
10811 000014F0 8923                   M           BT      MODE_INC_STPCHK_050
10812                            2963             M_BRA   MODE_INC_STPCHK_000             ;運転中止(寸動部分) 2003-06-13
10813 000014F2 A019                   M           BRA     MODE_INC_STPCHK_000
10814 000014F4 0009                   M           NOP
10815                            2964     
10816                            2965     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    89
PROGRAM NAME =

10817                                     ***** BEGIN-POOL *****
10818 000014F6 0000                       ALIGNMENT CODE
10819 000014F8 00000000                   DATA FOR SOURCE-LINE 2959
10820                                     ***** END-POOL *****
10821 000014FC                   2966     _MODE_DIC_STOP_CHK:
10822                            2967             SUB_START
10823 000014FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
10824                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10825                            2968     ;       -------- 2006-07-28----
10826 000014FE D107              2969             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
10827 00001500 6011              2970             MOV.W   @R1,R0                          ;
10828 00001502 2008              2971             TST     R0,R0                           ;
10829                            2972             TST_BIT_OF MODE_INC_STPCHK_000          ;
10830 00001504 8910                   M           BT      MODE_INC_STPCHK_000
10831                            2973     
10832                            2974     
10833                            2975     ;       ---------手パﾓｰﾄﾞで手パ有効OFFなら終り[2011-07-04]
10834 00001506 D106              2976             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
10835 00001508 6011              2977             MOV.W   @R1,R0                          ;
10836 0000150A C802              2978             TST     #BIT1,R0                        ;
10837                            2979             TST_BIT_OF MODE_INC_STPCHK_050          ;
10838 0000150C 8915                   M           BT      MODE_INC_STPCHK_050
10839                            2980     
10840                            2981     
10841 0000150E D105              2982             MOV.L   #_BTTN_FLG,R1                   ;
10842 00001510 6011              2983             MOV.W   @R1,R0                          ;
10843 00001512 C802              2984             TST     #BIT1,R0                        ;
10844                            2985             TST_BIT_ON MODE_INC_STPCHK_100          ;片手ONなら継続
10845 00001514 8B1A                   M           BF      MODE_INC_STPCHK_100
10846                            2986             M_BRA   MODE_INC_STPCHK_050             ;
10847 00001516 A010                   M           BRA     MODE_INC_STPCHK_050
10848 00001518 0009                   M           NOP
10849                            2987     ;       -----------------------
10850                            2988     
10851                                     ***** BEGIN-POOL *****
10852 0000151A 0000                       ALIGNMENT CODE
10853 0000151C 00000000                   DATA FOR SOURCE-LINE 2969
10854 00001520 00000000                   DATA FOR SOURCE-LINE 2976
10855 00001524 00000000                   DATA FOR SOURCE-LINE 2982
10856                                     ***** END-POOL *****
10857 00001528                   2989     MODE_INC_STPCHK_000:
10858 00001528 D10A              2990             MOV.L   #_BTTN_FLG,R1                   ;
10859 0000152A 6011              2991             MOV.W   @R1,R0                          ;
10860 0000152C C804              2992             TST     #BIT2,R0                        ;両手ON
10861                            2993             TST_BIT_ON MODE_INC_STPCHK_100          ;
10862 0000152E 8B0D                   M           BF      MODE_INC_STPCHK_100
10863                            2994     
10864                            2995     
10865                            2996     ;       ---------- 2015-11-13[行程2重回路対策]---------------
10866                            2997     ;; .AIF 1 EQ 1
10867                            2998             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10868 00001530 D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10869 00001532 400B                   M           JSR     @R0                     ;
10870 00001534 0009                   M           NOP                                     ;
10871 00001536 2008              2999             TST     R0,R0                           ;
10872                            3000             TST_BIT_ON MODE_INC_STPCHK_100          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10873 00001538 8B08                   M           BF      MODE_INC_STPCHK_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    90
PROGRAM NAME =

10874                            3001     ;; .AENDI
10875                            3002     ;       ------------------------------------
10876                            3003     
10877 0000153A                   3004     MODE_INC_STPCHK_050:
10878                            3005     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10879                            3006             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10880 0000153A D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10881 0000153C 400B                   M           JSR     @R0                     ;
10882 0000153E 0009                   M           NOP                                     ;
10883                            3007     
10884                            3008     ;       ---2007-03-02-----
10885                            3009             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10886 00001540 D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10887 00001542 E002                   M           MOV.B   #BIT1,R0                        ;
10888 00001544 2101                   M           MOV.W   R0,@R1                          ;
10889                            3010             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10890 00001546 D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10891 00001548 400B                   M           JSR     @R0                     ;
10892 0000154A 0009                   M           NOP                                     ;
10893                            3011     
10894 0000154C                   3012     MODE_INC_STPCHK_100:
10895                            3013             SUB_END
10896                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10897 0000154C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10898                            3014             M_RTS
10899 0000154E 000B                   M           RTS                             ;RTSの後ろの
10900 00001550 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10901                            3015     
10902                            3016     ;       === 2003-07-09 =====
10903                                     ***** BEGIN-POOL *****
10904 00001552 0000                       ALIGNMENT CODE
10905 00001554 00000000                   DATA FOR SOURCE-LINE 2990
10906 00001558 00000000                   DATA FOR SOURCE-LINE 2998
10907 0000155C 00000000                   DATA FOR SOURCE-LINE 3006
10908 00001560 00000000                   DATA FOR SOURCE-LINE 3009
10909 00001564 00000000                   DATA FOR SOURCE-LINE 3010
10910                                     ***** END-POOL *****
10911 00001568                   3017     _MODE_DUP_STOP_CHK:
10912                            3018             SUB_START
10913 00001568 4F22                   M           STS.L   PR,@-R15                ;[必要]
10914                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10915                            3019     
10916 0000156A D109              3020             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
10917 0000156C 6011              3021             MOV.W   @R1,R0                          ;
10918 0000156E 8801              3022             CMP/EQ  #1,R0                           ;
10919 00001570 8918              3023             BT      MODE_DUP_STPCHK100              ;
10920                            3024     
10921 00001572 D108              3025             MOV.L   #_BTTN_FLG,R1                   ;
10922 00001574 6011              3026             MOV.W   @R1,R0                          ;
10923 00001576 C804              3027             TST     #BIT2,R0                        ;両手ON
10924                            3028             TST_BIT_ON MODE_DUP_STPCHK200           ;
10925 00001578 8B22                   M           BF      MODE_DUP_STPCHK200
10926                            3029     
10927                            3030             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10928 0000157A D007                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10929 0000157C 400B                   M           JSR     @R0                     ;
10930 0000157E 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    91
PROGRAM NAME =

10931                            3031     
10932                            3032     ;       ---2007-03-02-----
10933                            3033             MOD_LOW_STOP_R0_R1                      ;減速停止
10934 00001580 D106                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10935 00001582 E002                   M           MOV.B   #BIT1,R0                        ;
10936 00001584 2101                   M           MOV.W   R0,@R1                          ;
10937                            3034             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10938 00001586 D006                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10939 00001588 400B                   M           JSR     @R0                     ;
10940 0000158A 0009                   M           NOP                                     ;
10941                            3035     
10942                            3036             M_BRA   MODE_DUP_STPCHK200
10943 0000158C A018                   M           BRA     MODE_DUP_STPCHK200
10944 0000158E 0009                   M           NOP
10945                            3037     
10946                                     ***** BEGIN-POOL *****
10947 00001590 00000000                   DATA FOR SOURCE-LINE 3020
10948 00001594 00000000                   DATA FOR SOURCE-LINE 3025
10949 00001598 00000000                   DATA FOR SOURCE-LINE 3030
10950 0000159C 00000000                   DATA FOR SOURCE-LINE 3033
10951 000015A0 00000000                   DATA FOR SOURCE-LINE 3034
10952                                     ***** END-POOL *****
10953 000015A4                   3038     MODE_DUP_STPCHK100:
10954                            3039     ;       ====原点復帰完了待ち
10955 000015A4 D108              3040             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
10956 000015A6 6011              3041             MOV.W   @R1,R0                          ;起動でBIT1=BIT0=0 完了でBIT0=1　LATCH/BIT
                                          1=1
10957 000015A8 C810              3042             TST     #BIT4,R0                        ;
10958                            3043             TST_BIT_ON MODE_DUP_STPCHK200           ;BIT4=1 全工程終了
10959 000015AA 8B09                   M           BF      MODE_DUP_STPCHK200
10960                            3044     
10961 000015AC C808              3045             TST     #BIT3,R0                        ;終了 終了ﾗｯﾁ
10962                            3046             TST_BIT_OF MODE_DUP_STPCHK200           ;
10963 000015AE 8907                   M           BT      MODE_DUP_STPCHK200
10964 000015B0 CB10              3047             OR      #BIT4,R0                        ;
10965 000015B2 2101              3048             MOV.W   R0,@R1                          ;
10966                            3049     
10967                            3050     ;       ---2007-03-02-----
10968                            3051             MOD_LOW_STOP_R0_R1                      ;減速停止(本当は不要だけど終了させる為にあ
                                          えて)
10969 000015B4 D105                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10970 000015B6 E002                   M           MOV.B   #BIT1,R0                        ;
10971 000015B8 2101                   M           MOV.W   R0,@R1                          ;
10972                            3052             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10973 000015BA D005                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10974 000015BC 400B                   M           JSR     @R0                     ;
10975 000015BE 0009                   M           NOP                                     ;
10976                            3053     
10977 000015C0                   3054     MODE_DUP_STPCHK200
10978                            3055             SUB_END
10979                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10980 000015C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10981                            3056             M_RTS
10982 000015C2 000B                   M           RTS                             ;RTSの後ろの
10983 000015C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10984                            3057     
10985                            3058     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    92
PROGRAM NAME =

10986                            3059     ;       ***                                     ***
10987                            3060     ;       ***     位置決めキャンセル指令時クリア  ***
10988                            3061     ;       ***                                     ***
10989                            3062     ;       *******************************************
10990                                     ***** BEGIN-POOL *****
10991 000015C6 0000                       ALIGNMENT CODE
10992 000015C8 00000000                   DATA FOR SOURCE-LINE 3040
10993 000015CC 00000000                   DATA FOR SOURCE-LINE 3051
10994 000015D0 00000000                   DATA FOR SOURCE-LINE 3052
10995                                     ***** END-POOL *****
10996 000015D4                   3063     _POS_CANSEL_STOP_CHK:
10997                            3064             SUB_START
10998 000015D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
10999                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11000                            3065              .AIF   1 EQ 1  ;
11001                            3066 C   ;       -------- 2016-10-31 ADD 二重回路対策
11002                            3067              .AENDI
11003                            3068     
11004                            3069     ;;;2016-10-31   MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
11005                            3070     ;;;2016-10-31   MOV.W   @R1,R0                          ;
11006                            3071     ;;;2016-10-31   MOV.W   #BIT11,R4                       ;
11007                            3072     
11008                            3073     ;       -------- 2016-10-31(2016-05-11) ﾗｯﾁﾃﾞｰﾀに変更-----------
11009 000015D6 D10C              3074             MOV.L   #_POSCANSEL_CMD,R1              ;
11010 000015D8 6011              3075             MOV.W   @R1,R0                          ;
11011 000015DA 9413              3076             MOV.W   #BIT11,R4                       ;
11012                            3077     
11013 000015DC 2048              3078             TST     R4,R0                           ;
11014                            3079             TST_BIT_OF POS_CANSEL_STPCHK_MOV        ;
11015 000015DE 891F                   M           BT      POS_CANSEL_STPCHK_MOV
11016                            3080     
11017                            3081             FAR_JSR #_POS_CANSEL_CLR,R0
11018 000015E0 D00A                   M           MOV.L   #_POS_CANSEL_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11019 000015E2 400B                   M           JSR     @R0                     ;
11020 000015E4 0009                   M           NOP                                     ;
11021                            3082             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
11022 000015E6 D00A                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11023 000015E8 400B                   M           JSR     @R0                     ;
11024 000015EA 0009                   M           NOP                                     ;
11025                            3083     
11026                            3084     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
11027                            3085             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
11028 000015EC D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11029 000015EE 400B                   M           JSR     @R0                     ;
11030 000015F0 0009                   M           NOP                                     ;
11031                            3086     
11032                            3087     ;       ---2007-03-02-----
11033                            3088             MOD_LOW_STOP_R0_R1              ;bit1->_MNWR_POS_CMD,R1         ;減速停止,起動OFF
11034 000015F2 D109                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11035 000015F4 E002                   M           MOV.B   #BIT1,R0                        ;
11036 000015F6 2101                   M           MOV.W   R0,@R1                          ;
11037                            3089             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11038 000015F8 D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11039 000015FA 400B                   M           JSR     @R0                     ;
11040 000015FC 0009                   M           NOP                                     ;
11041                            3090     
11042                            3091     ;       ---- STOP ANS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    93
PROGRAM NAME =

11043 000015FE E001              3092             MOV     #1,R0
11044                            3093             M_BRA   POS_CANSEL_STPCHK_END
11045 00001600 A00F                   M           BRA     POS_CANSEL_STPCHK_END
11046 00001602 0009                   M           NOP
11047                                     ***** BEGIN-POOL *****
11048 00001604 0800                       DATA FOR SOURCE-LINE 3076
11049 00001606 0000                       ALIGNMENT CODE
11050 00001608 00000000                   DATA FOR SOURCE-LINE 3074
11051 0000160C 00000000                   DATA FOR SOURCE-LINE 3081
11052 00001610 00000000                   DATA FOR SOURCE-LINE 3082
11053 00001614 00000000                   DATA FOR SOURCE-LINE 3085
11054 00001618 00000000                   DATA FOR SOURCE-LINE 3088
11055 0000161C 00000000                   DATA FOR SOURCE-LINE 3089
11056                                     ***** END-POOL *****
11057 00001620                   3094     POS_CANSEL_STPCHK_MOV:
11058 00001620 200A              3095             XOR     R0,R0
11059 00001622                   3096     POS_CANSEL_STPCHK_END:
11060                            3097             SUB_END
11061                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11062 00001622 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11063                            3098             M_RTS
11064 00001624 000B                   M           RTS                             ;RTSの後ろの
11065 00001626 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11066                            3099     
11067 00001628                   3100     _POS_CANSEL_CLR
11068                            3101             SUB_START
11069 00001628 4F22                   M           STS.L   PR,@-R15                ;[必要]
11070                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11071                            3102             FAR_JSR #_AUTO_OF,R0                    ;
11072 0000162A D006                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11073 0000162C 400B                   M           JSR     @R0                     ;
11074 0000162E 0009                   M           NOP                                     ;
11075 00001630 200A              3103             XOR     R0,R0
11076 00001632 D105              3104             MOV.L   #_STOP_LATCH_B,R1               ;
11077 00001634 2101              3105             MOV.W   R0,@R1
11078 00001636 D105              3106             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11079 00001638 2101              3107             MOV.W   R0,@R1
11080 0000163A D105              3108             MOV.L   #_INT_CLS_CTL_FLG,R1            ;//BIT0=1 START 起動時ｸﾘｱ
11081 0000163C 2101              3109             MOV.W   R0,@R1                          ;
11082                            3110     
11083                            3111             SUB_END
11084                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11085 0000163E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11086                            3112             M_RTS
11087 00001640 000B                   M           RTS                             ;RTSの後ろの
11088 00001642 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11089                            3113     
11090                            3114     
11091                            3115     ;       *******************************************
11092                            3116     ;       ***                                     ***
11093                            3117     ;       ***     モード制御フラグの異常時クリア  ***
11094                            3118     ;       ***                                     ***
11095                            3119     ;       *******************************************
11096                                     ***** BEGIN-POOL *****
11097 00001644 00000000                   DATA FOR SOURCE-LINE 3102
11098 00001648 00000000                   DATA FOR SOURCE-LINE 3104
11099 0000164C 00000000                   DATA FOR SOURCE-LINE 3106
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    94
PROGRAM NAME =

11100 00001650 00000000                   DATA FOR SOURCE-LINE 3108
11101                                     ***** END-POOL *****
11102 00001654                   3120             .ALIGN  4                               ;
11103 00001654                   3121     _EMG_CTL_FLG_PROC:
11104                            3122             SUB_START
11105 00001654 4F22                   M           STS.L   PR,@-R15                ;[必要]
11106                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11107                            3123             FAR_JSR #_EXQ_CTL_FLG_PROC,R1           ;
11108 00001656 D10D                   M           MOV.L   #_EXQ_CTL_FLG_PROC,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11109 00001658 410B                   M           JSR     @R1                     ;
11110 0000165A 0009                   M           NOP                                     ;
11111                            3124             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;(ﾛｯﾄｶｳﾝﾀには使用できないので注意)
11112 0000165C D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11113 0000165E 400B                   M           JSR     @R0                     ;
11114 00001660 0009                   M           NOP                                     ;
11115                            3125             FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;
11116 00001662 D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11117 00001664 400B                   M           JSR     @R0                     ;
11118 00001666 0009                   M           NOP                                     ;
11119                            3126     
11120 00001668 200A              3127             XOR     R0,R0                           ;
11121 0000166A D10B              3128             MOV.L   #_INT_POS_CTL_STEP,R1           ;
11122 0000166C 2101              3129             MOV.W   R0,@R1                          ;
11123 0000166E D10B              3130             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
11124 00001670 2101              3131             MOV.W   R0,@R1                          ;
11125                            3132     
11126                            3133             FAR_JSR #_STEP_SIG_DSP_CLR,R0
11127 00001672 D00B                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11128 00001674 400B                   M           JSR     @R0                     ;
11129 00001676 0009                   M           NOP                                     ;
11130                            3134     
11131 00001678 200A              3135             XOR     R0,R0                           ;2004-01-28
11132 0000167A D10A              3136             MOV.L   #_ENC360_OVER_FLG,R1            ;
11133 0000167C 2101              3137             MOV.W   R0,@R1                          ;
11134                            3138     
11135                            3139     ;       ----- 2006-04-26 ------------
11136 0000167E 200A              3140             XOR     R0,R0                           ;
11137 00001680 D109              3141             MOV.L   #_IN_RDY_FLG,R1                 ;ANTI LEVEL
11138 00001682 2101              3142             MOV.W   R0,@R1                          ;
11139                            3143     
11140                            3144             SUB_END
11141                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11142 00001684 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11143                            3145             M_RTS
11144 00001686 000B                   M           RTS                             ;RTSの後ろの
11145 00001688 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11146                            3146     
11147                                     ***** BEGIN-POOL *****
11148 0000168A 0000                       ALIGNMENT CODE
11149 0000168C 00000000                   DATA FOR SOURCE-LINE 3123
11150 00001690 00000000                   DATA FOR SOURCE-LINE 3124
11151 00001694 00000000                   DATA FOR SOURCE-LINE 3125
11152 00001698 00000000                   DATA FOR SOURCE-LINE 3128
11153 0000169C 00000000                   DATA FOR SOURCE-LINE 3130
11154 000016A0 00000000                   DATA FOR SOURCE-LINE 3133
11155 000016A4 00000000                   DATA FOR SOURCE-LINE 3136
11156 000016A8 00000000                   DATA FOR SOURCE-LINE 3141
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    95
PROGRAM NAME =

11157                                     ***** END-POOL *****
11158 000016AC                   3147             .ALIGN  4                               ;
11159 000016AC                   3148     _EXQ_CTL_FLG_PROC:                              ;EMGでも呼ばれる
11160                            3149             SUB_START
11161 000016AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11162                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11163                            3150     ;;;     XOR     R0,R0                           ;
11164                            3151     ;;;2006-04-26   MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
11165                            3152     ;;;2006-04-26   MOV.W   R0,@R1                  ;
11166                            3153     
11167 000016AE 200A              3154             XOR     R0,R0                           ;
11168 000016B0 D127              3155             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
11169 000016B2 2101              3156             MOV.W   R0,@R1                  ;
11170                            3157     
11171                            3158     
11172                            3159             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05[clr]
11173 000016B4 D027                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11174 000016B6 400B                   M           JSR     @R0                     ;
11175 000016B8 0009                   M           NOP                                     ;
11176                            3160     
11177                            3161     ;;      2007-01-16 START_SFTY_LOCK_CLRでｸﾘｱする
11178                            3162     ;;      MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK 2006-04-10
11179                            3163     ;;      MOV.W   R0,@R1                  ;2006-04-10
11180                            3164     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;2006-04-10
11181                            3165     ;;      MOV.W   R0,@R1                  ;2006-04-10
11182                            3166     
11183                            3167     ;       ====== 2007-01-16========
11184                            3168             FAR_JSR #_START_SFTY_LOCK_CLR,R0        ;2007-01-16[KEP--clr]
11185 000016BA D027                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11186 000016BC 400B                   M           JSR     @R0                     ;
11187 000016BE 0009                   M           NOP                                     ;
11188                            3169     
11189                            3170     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
11190                            3171     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
11191                            3172             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                ;2013-02-23 新ｿﾌﾄは
11192 000016C0 D026                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11193 000016C2 400B                   M           JSR     @R0                     ;
11194 000016C4 0009                   M           NOP                                     ;
11195                            3173     
11196 000016C6 200A              3174             XOR     R0,R0                   ;
11197 000016C8 D125              3175             MOV.L   #_INT_CLS_CTL_FLG,R1    ;       //BIT0=1 START 起動時ｸﾘｱ
11198 000016CA 2101              3176             MOV.W   R0,@R1
11199                            3177     
11200 000016CC 200A              3178             XOR     R0,R0                           ;
11201 000016CE D125              3179             MOV.L   #_RST_ERR_CHK_FLG,R1            ;BIT0=偏差異常みない
11202 000016D0 2101              3180             MOV.W   R0,@R1                          ;
11203                            3181     ;       == 2003-07-09 ==
11204 000016D2 D125              3182             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
11205 000016D4 2101              3183             MOV.W   R0,@R1                          ;
11206                            3184     
11207                            3185     
11208                            3186     ;       ======ｻｲｸﾙ停止状態OFF==========================
11209                            3187             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
11210 000016D6 D125                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11211 000016D8 6011                   M           MOV.W   @R1,R0          ;
11212 000016DA 9436                   M           MOV.W   #LWORD (~BIT7),R4       ;
11213 000016DC 2049                   M           AND     R4,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    96
PROGRAM NAME =

11214 000016DE 2101                   M           MOV.W   R0,@R1          ;
11215                            3188     
11216                            3189     ;       ======各一旦停止=================================
11217                            3190             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
11218 000016E0 D122                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11219 000016E2 6011                   M           MOV.W   @R1,R0          ;
11220 000016E4 9432                   M           MOV.W   #LWORD (~BIT9),R4       ;
11221 000016E6 2049                   M           AND     R4,R0           ;
11222 000016E8 2101                   M           MOV.W   R0,@R1          ;
11223                            3191     ;       ===============================================
11224                            3192             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
11225 000016EA D121                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11226 000016EC 6011                   M           MOV.W   @R1,R0          ;
11227 000016EE C900                   M           AND     #LOW ~(H'FF),R0         ;
11228 000016F0 2101                   M           MOV.W   R0,@R1          ;
11229                            3193     
11230                            3194     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
11231                            3195             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
11232 000016F2 D11E                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11233 000016F4 6011                   M           MOV.W   @R1,R0          ;
11234 000016F6 942A                   M           MOV.W   #LWORD (~BIT3),R4       ;
11235 000016F8 2049                   M           AND     R4,R0           ;
11236 000016FA 2101                   M           MOV.W   R0,@R1          ;
11237                            3196     ;       ===============================================
11238                            3197             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0                 ;起動したいもｸﾘｱ
11239 000016FC D01D                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11240 000016FE 400B                   M           JSR     @R0                     ;
11241 00001700 0009                   M           NOP                                     ;
11242                            3198     
11243                            3199             FAR_JSR #_STOPPING_TIM_STOP_INI,R0
11244 00001702 D01D                   M           MOV.L   #_STOPPING_TIM_STOP_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11245 00001704 400B                   M           JSR     @R0                     ;
11246 00001706 0009                   M           NOP                                     ;
11247                            3200     
11248                            3201     ;       ==== 2012-03-06====
11249                            3202             FAR_JSR #_BRKTMCAL_STG1_STOPINI,R0              ;停止ソフト
11250 00001708 D01C                   M           MOV.L   #_BRKTMCAL_STG1_STOPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11251 0000170A 400B                   M           JSR     @R0                     ;
11252 0000170C 0009                   M           NOP                                     ;
11253                            3203     
11254                            3204     
11255                            3205     ;       ==== 2003-07-01 ====
11256                            3206             FAR_JSR #_BRK_ERR_WORK_CLR1,R0
11257 0000170E D01C                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11258 00001710 400B                   M           JSR     @R0                     ;
11259 00001712 0009                   M           NOP                                     ;
11260                            3207     
11261                            3208     ;       ==== 2003-07-09 ====
11262                            3209             FAR_JSR #_CNT_CYCL_DISP_ST,R0
11263 00001714 D01B                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11264 00001716 400B                   M           JSR     @R0                     ;
11265 00001718 0009                   M           NOP                                     ;
11266                            3210     
11267                            3211     ;       === 2019-10-10(2019-08-20)==========
11268 0000171A 200A              3212             XOR             R0,R0
11269 0000171C D11A              3213             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    97
PROGRAM NAME =

11270 0000171E 2101              3214             MOV.W   R0,@R1                                  ;
11271                            3215     
11272                            3216     
11273                            3217     ;       ==== 2004-03-29 ===
11274                            3218             FAR_JSR #_EXQ_STOP_LEV_POS_CLR,R0
11275 00001720 D01A                   M           MOV.L   #_EXQ_STOP_LEV_POS_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11276 00001722 400B                   M           JSR     @R0                     ;
11277 00001724 0009                   M           NOP                                     ;
11278                            3219     
11279                            3220     ;       ==== 2004-04-19 ==
11280                            3221             FAR_JSR #_GPOSIN_HOS_RESET,R0
11281 00001726 D01A                   M           MOV.L   #_GPOSIN_HOS_RESET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11282 00001728 400B                   M           JSR     @R0                     ;
11283 0000172A 0009                   M           NOP                                     ;
11284                            3222     
11285                            3223     ;       ==== 2004-12-20 =====
11286                            3224             FAR_JSR #_CNTREST_HOS_RESET,R0
11287 0000172C D019                   M           MOV.L   #_CNTREST_HOS_RESET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11288 0000172E 400B                   M           JSR     @R0                     ;
11289 00001730 0009                   M           NOP                                     ;
11290                            3225     
11291                            3226     
11292                            3227     ;       ==== 2006-07-28 =====
11293                            3228             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0 ;
11294 00001732 D019                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11295 00001734 400B                   M           JSR     @R0                     ;
11296 00001736 0009                   M           NOP                                     ;
11297                            3229     
11298                            3230     
11299                            3231     ;       --------タイマ処理から再開をクリア[3/]------
11300                            3232             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W
11301 00001738 200A                   M           XOR     R0,R0           ;
11302 0000173A D118                   M           MOV.L   #_DURING_TIM_FX,R1      ;
11303 0000173C 2101                   M           MOV.W   R0,@R1          ;
11304                            3233     
11305                            3234     
11306                            3235     ;       -------------------2014-08-30 -----------
11307                            3236             FAR_JSR #_POS_HOLD_FLG_EXQ_CLR,R0
11308 0000173E D018                   M           MOV.L   #_POS_HOLD_FLG_EXQ_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11309 00001740 400B                   M           JSR     @R0                     ;
11310 00001742 0009                   M           NOP                                     ;
11311                            3237     
11312                            3238     
11313                            3239     
11314                            3240             SUB_END
11315                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11316 00001744 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11317                            3241             M_RTS
11318 00001746 000B                   M           RTS                             ;RTSの後ろの
11319 00001748 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11320                            3242     
11321                            3243     
11322                            3244     
11323                            3245     ;       *******************************************
11324                            3246     ;       ***                                     ***
11325                            3247     ;       ***     リセット制御フラグの異常時CLR   ***
11326                            3248     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    98
PROGRAM NAME =

11327                            3249     ;       *******************************************
11328                                     ***** BEGIN-POOL *****
11329 0000174A FF7F                       DATA FOR SOURCE-LINE 3187
11330 0000174C FDFF                       DATA FOR SOURCE-LINE 3190
11331 0000174E FFF7                       DATA FOR SOURCE-LINE 3195
11332 00001750 00000000                   DATA FOR SOURCE-LINE 3155
11333 00001754 00000000                   DATA FOR SOURCE-LINE 3159
11334 00001758 00000000                   DATA FOR SOURCE-LINE 3168
11335 0000175C 00000000                   DATA FOR SOURCE-LINE 3172
11336 00001760 00000000                   DATA FOR SOURCE-LINE 3175
11337 00001764 00000000                   DATA FOR SOURCE-LINE 3179
11338 00001768 00000000                   DATA FOR SOURCE-LINE 3182
11339 0000176C 00000000                   DATA FOR SOURCE-LINE 3187,3190,3195
11340 00001770 00000000                   DATA FOR SOURCE-LINE 3192
11341 00001774 00000000                   DATA FOR SOURCE-LINE 3197
11342 00001778 00000000                   DATA FOR SOURCE-LINE 3199
11343 0000177C 00000000                   DATA FOR SOURCE-LINE 3202
11344 00001780 00000000                   DATA FOR SOURCE-LINE 3206
11345 00001784 00000000                   DATA FOR SOURCE-LINE 3209
11346 00001788 00000000                   DATA FOR SOURCE-LINE 3213
11347 0000178C 00000000                   DATA FOR SOURCE-LINE 3218
11348 00001790 00000000                   DATA FOR SOURCE-LINE 3221
11349 00001794 00000000                   DATA FOR SOURCE-LINE 3224
11350 00001798 00000000                   DATA FOR SOURCE-LINE 3228
11351 0000179C 00000000                   DATA FOR SOURCE-LINE 3232
11352 000017A0 00000000                   DATA FOR SOURCE-LINE 3236
11353                                     ***** END-POOL *****
11354 000017A4                   3250             .ALIGN  4                               ;
11355 000017A4                   3251     _STP_RST_FLG_PROC:
11356                            3252             SUB_START
11357 000017A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
11358                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11359 000017A6 200A              3253             XOR     R0,R0
11360 000017A8 D102              3254             MOV.L   #_reset_flg,R1                  ;
11361 000017AA 2101              3255             MOV.W   R0,@R1                          ;
11362                            3256             SUB_END
11363                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11364 000017AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11365                            3257             M_RTS
11366 000017AE 000B                   M           RTS                             ;RTSの後ろの
11367 000017B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11368                            3258     
11369                            3259     
11370                            3260     ;       ***************************************************
11371                            3261     ;       ***     ﾘｾｯﾄ開始時にｻｰﾎﾞを含めてやるべき処理    ***
11372                            3262     ;       ***************************************************
11373                            3263             .IMPORT _DEBUG_SIGNAL_OFF
11374                                     ***** BEGIN-POOL *****
11375 000017B2 0000                       ALIGNMENT CODE
11376 000017B4 00000000                   DATA FOR SOURCE-LINE 3254
11377                                     ***** END-POOL *****
11378 000017B8                   3264     _RST_MOD_POS_START:
11379                            3265             SUB_START
11380 000017B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
11381                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11382                            3266     ;;;;;   FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;現在位置を目標位置に変える
11383                            3267             FAR_JSR #_DEBUG_SIGNAL_OFF,R0           ;2004-03-03
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE    99
PROGRAM NAME =

11384 000017BA D003                   M           MOV.L   #_DEBUG_SIGNAL_OFF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11385 000017BC 400B                   M           JSR     @R0                     ;
11386 000017BE 0009                   M           NOP                                     ;
11387                            3268             SUB_END
11388                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11389 000017C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11390                            3269             M_RTS
11391 000017C2 000B                   M           RTS                             ;RTSの後ろの
11392 000017C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11393                            3270     
11394                            3271     
11395                            3272     ;       ***************************************************
11396                            3273     ;       ***     ﾘｾｯﾄ終了時にｻｰﾎﾞを含めてやるべき処理    ***
11397                            3274     ;       ***************************************************
11398                            3275     ;       [1]動作モードの決定
11399                            3276     ;       [2]
11400                            3277     ;
11401                            3278     ;
11402                                     ***** BEGIN-POOL *****
11403 000017C6 0000                       ALIGNMENT CODE
11404 000017C8 00000000                   DATA FOR SOURCE-LINE 3267
11405                                     ***** END-POOL *****
11406 000017CC                   3279     _RST_MOD_POS_END:
11407                            3280             SUB_START
11408 000017CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11409                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11410                            3281     
11411                            3282     ;;;;;;;;;       -----------2011-09-14 段取で安全一を動かすならこのソフトを生かす--
11412                            3283     ;;;;;;;;;       MOV.L   #_BRKTST_INPUT_CMD,R1           ;//BIT0:制動試験指令[349.0の替わり
                                          ],BIT1:制動試験停止指令
11413                            3284     ;;;;;;;;;       MOV.W   @R1,R0                          ;
11414                            3285     ;;;;;;;;;       TST     #BIT0,R0                        ;
11415                            3286     ;;;;;;;;;       TST_BIT_OF RST_MOD_POSEND_100           ;
11416                            3287     ;;;;;;;;;       MOV.W   #(_W1DIC),R0                    ;
11417                            3288     ;;;;;;;;;       MOV.L   #_MODE_SEL,R1                   ;
11418                            3289     ;;;;;;;;;       MOV.W   R0,@R1                          ;
11419                            3290     ;;;;;;;;;       M_BRA   RST_MOD_POSEND_200              ;
11420                            3291     ;       ------------------------------------------
11421                            3292     
11422 000017CE                   3293     RST_MOD_POSEND_100:
11423 000017CE D106              3294             MOV.L   #_INP_MODE,R1                   ;
11424 000017D0 6011              3295             MOV.W   @R1,R0                          ;
11425 000017D2 D106              3296             MOV.L   #_MODE_SEL,R1                   ;
11426 000017D4 2101              3297             MOV.W   R0,@R1                          ;
11427                            3298     
11428 000017D6                   3299     RST_MOD_POSEND_200:
11429                            3300     
11430 000017D6 200A              3301             XOR     R0,R0                           ;
11431 000017D8 D105              3302             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
11432 000017DA 2101              3303             MOV.W   R0,@R1                          ;
11433 000017DC D105              3304             MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
11434 000017DE 2101              3305             MOV.W   R0,@R1                          ;
11435                            3306             SUB_END
11436                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11437 000017E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11438                            3307             M_RTS
11439 000017E2 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   100
PROGRAM NAME =

11440 000017E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11441                            3308     
11442                            3309     ;       *******************************************
11443                            3310     ;       ***     上昇ﾎｰﾙﾄﾞ位置検索               ***
11444                            3311     ;       *******************************************
11445                            3312     ;       -- 設定からくる上昇位置をチェックする --
11446                            3313     ;       運転ﾓｰﾄﾞと運転方法から待機点へ戻る
11447                                     ***** BEGIN-POOL *****
11448 000017E6 0000                       ALIGNMENT CODE
11449 000017E8 00000000                   DATA FOR SOURCE-LINE 3294
11450 000017EC 00000000                   DATA FOR SOURCE-LINE 3296
11451 000017F0 00000000                   DATA FOR SOURCE-LINE 3302
11452 000017F4 00000000                   DATA FOR SOURCE-LINE 3304
11453                                     ***** END-POOL *****
11454 000017F8                   3314     _SV_UP_HOLD_CHK:
11455                            3315             SUB_START
11456 000017F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
11457                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11458 000017FA D104              3316             MOV.L   #_MODE_SEL,R1                           ;
11459 000017FC 6011              3317             MOV.W   @R1,R0                                  ;
11460 000017FE 9404              3318             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;
11461 00001800 2048              3319             TST     R4,R0                                   ;ﾓｰｼｮﾝ運転か?
11462                            3320             TST_BIT_ON SV_UP_HLDCHK_0050                    ;
11463 00001802 8B05                   M           BF      SV_UP_HLDCHK_0050
11464 00001804 200A              3321             XOR     R0,R0                                   ;
11465                            3322             M_BRA   SV_UP_HLDCHK_0900                       ;
11466 00001806 A040                   M           BRA     SV_UP_HLDCHK_0900
11467 00001808 0009                   M           NOP
11468                            3323     
11469                                     ***** BEGIN-POOL *****
11470 0000180A 001E                       DATA FOR SOURCE-LINE 3318
11471 0000180C 00000000                   DATA FOR SOURCE-LINE 3316
11472                                     ***** END-POOL *****
11473 00001810                   3324     SV_UP_HLDCHK_0050:
11474 00001810 D102              3325             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
11475 00001812 6011              3326             MOV.W   @R1,R0                                  ;
11476 00001814 C808              3327             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
11477                            3328             TST_BIT_ON SV_UP_HLDCHK_0100                    ;上往復
11478 00001816 8B03                   M           BF      SV_UP_HLDCHK_0100
11479                            3329             M_BRA   SV_UP_HLDCHK_0190                       ;
11480 00001818 A012                   M           BRA     SV_UP_HLDCHK_0190
11481 0000181A 0009                   M           NOP
11482                            3330     ;       ======== 上往復 =======
11483                                     ***** BEGIN-POOL *****
11484 0000181C 00000000                   DATA FOR SOURCE-LINE 3325
11485                                     ***** END-POOL *****
11486 00001820                   3331     SV_UP_HLDCHK_0100:
11487                            3332             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11488 00001820 D404                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11489 00001822 440B                   M           JSR     @R4                     ;
11490 00001824 0009                   M           NOP                                     ;
11491 00001826 D404              3333             MOV.L   #_UP_HOLD_STEP1,R4      ;
11492 00001828 2411              3334             MOV.W   R1,@R4
11493 0000182A D404              3335             MOV.L   #_UP_HOLD_STEP2,R4      ;
11494 0000182C 2421              3336             MOV.W   R2,@R4
11495                            3337             M_BRA   SV_UP_HLDCHK_0900
11496 0000182E A02C                   M           BRA     SV_UP_HLDCHK_0900
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   101
PROGRAM NAME =

11497 00001830 0009                   M           NOP
11498                            3338     
11499                                     ***** BEGIN-POOL *****
11500 00001832 0000                       ALIGNMENT CODE
11501 00001834 00000000                   DATA FOR SOURCE-LINE 3332
11502 00001838 00000000                   DATA FOR SOURCE-LINE 3333
11503 0000183C 00000000                   DATA FOR SOURCE-LINE 3335
11504                                     ***** END-POOL *****
11505 00001840                   3339     SV_UP_HLDCHK_0190:
11506 00001840 C804              3340             TST     #_DMATH_DNDRIV,R0               ;DRIVE MATH 下往復
11507                            3341             TST_BIT_ON SV_UP_HLDCHK_0200
11508 00001842 8B01                   M           BF      SV_UP_HLDCHK_0200
11509                            3342             M_BRA   SV_UP_HLDCHK_0290               ;
11510 00001844 A002                   M           BRA     SV_UP_HLDCHK_0290
11511 00001846 0009                   M           NOP
11512                            3343     
11513                            3344     ;       =====   下往復  =====
11514 00001848                   3345     SV_UP_HLDCHK_0200:
11515                            3346             M_BRA   SV_UP_HLDCHK_0295               ;回転と同じ論理[2009-10-07]
11516 00001848 A002                   M           BRA     SV_UP_HLDCHK_0295
11517 0000184A 0009                   M           NOP
11518                            3347     
11519                            3348     ;;[20091007下振子]      FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11520                            3349     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP1,R4      ;
11521                            3350     ;;[20091007下振子]      MOV.W   R1,@R4                  ;
11522                            3351     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP2,R4      ;
11523                            3352     ;;[20091007下振子]      MOV.W   R2,@R4                  ;運転開始時にUP_HOLD_STEPにCOPY
11524                            3353     ;;[20091007下振子]      M_BRA   SV_UP_HLDCHK_0900
11525                            3354     
11526                            3355     
11527 0000184C                   3356     SV_UP_HLDCHK_0290:
11528 0000184C C802              3357             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
11529                            3358             TST_BIT_ON SV_UP_HLDCHK_0300            ;
11530 0000184E 8B13                   M           BF      SV_UP_HLDCHK_0300
11531 00001850                   3359     SV_UP_HLDCHK_0295:              ;20091007下振り子は回転と同じ論理
11532                            3360     ;       =====   回転    =====
11533                            3361             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R1
11534 00001850 D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11535 00001852 440B                   M           JSR     @R4                     ;
11536 00001854 0009                   M           NOP                                     ;
11537 00001856 D405              3362             MOV.L   #_UP_HOLD_STEP,R4;      //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11538 00001858 2411              3363             MOV.W   R1,@R4
11539 0000185A D405              3364             MOV.L   #_UP_HOLD_STEP1,R4      ;
11540 0000185C 2411              3365             MOV.W   R1,@R4
11541 0000185E D405              3366             MOV.L   #_UP_HOLD_STEP2,R4      ;
11542 00001860 2411              3367             MOV.W   R1,@R4
11543                            3368             M_BRA   SV_UP_HLDCHK_0900
11544 00001862 A012                   M           BRA     SV_UP_HLDCHK_0900
11545 00001864 0009                   M           NOP
11546                            3369     
11547                            3370     ;       =====   反転    =====
11548                                     ***** BEGIN-POOL *****
11549 00001866 0000                       ALIGNMENT CODE
11550 00001868 00000000                   DATA FOR SOURCE-LINE 3361
11551 0000186C 00000000                   DATA FOR SOURCE-LINE 3362
11552 00001870 00000000                   DATA FOR SOURCE-LINE 3364
11553 00001874 00000000                   DATA FOR SOURCE-LINE 3366
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   102
PROGRAM NAME =

11554                                     ***** END-POOL *****
11555 00001878                   3371     SV_UP_HLDCHK_0300:
11556                            3372             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R2
11557 00001878 D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11558 0000187A 440B                   M           JSR     @R4                     ;
11559 0000187C 0009                   M           NOP                                     ;
11560 0000187E D405              3373             MOV.L   #_UP_HOLD_STEP,R4       ;       //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11561 00001880 2421              3374             MOV.W   R2,@R4
11562 00001882 D405              3375             MOV.L   #_UP_HOLD_STEP1,R4      ;
11563 00001884 2421              3376             MOV.W   R2,@R4
11564 00001886 D405              3377             MOV.L   #_UP_HOLD_STEP2,R4      ;
11565 00001888 2421              3378             MOV.W   R2,@R4
11566 0000188A                   3379     SV_UP_HLDCHK_0900:
11567                            3380     
11568                            3381             SUB_END
11569                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11570 0000188A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11571                            3382             M_RTS
11572 0000188C 000B                   M           RTS                             ;RTSの後ろの
11573 0000188E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11574                            3383     
11575                            3384     ;       *******************************************
11576                            3385     ;       ***                                     ***
11577                            3386     ;       ***     以降/時計回転ステップ検索       ***
11578                            3387     ;       ***     以降/反時計回転ステップ検索     ***
11579                            3388     ;       ***                                     ***
11580                            3389     ;       *******************************************
11581                            3390     ;       1,2,3,4,5,6(5段の最終)
11582                            3391     ;       ここでは段数を決定する
11583                            3392     ;       実動作で、角度を判定する
11584                            3393     ;
11585                            3394     ;       待機点を横切る運転はない
11586                            3395     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=3
11587                            3396     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11588                            3397     ;
11589                            3398     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11590                            3399     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=4
11591                            3400     ;
11592                            3401     ;       < つまり >      R1は位置増加(CW/正転:待機点への戻りの方向)
11593                            3402     ;                       R2は位置減少(CCW/逆転:待機点への戻りの方向)
11594                            3403     ;
11595                                     ***** BEGIN-POOL *****
11596 00001890 00000000                   DATA FOR SOURCE-LINE 3372
11597 00001894 00000000                   DATA FOR SOURCE-LINE 3373
11598 00001898 00000000                   DATA FOR SOURCE-LINE 3375
11599 0000189C 00000000                   DATA FOR SOURCE-LINE 3377
11600                                     ***** END-POOL *****
11601 000018A0                   3404             .ALIGN  4
11602 000018A0                   3405     _CW_CCW_ENDSTEP_SERACH:
11603                            3406             SUB_START
11604 000018A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
11605                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11606 000018A2 D110              3407             MOV.L   #_SETX_POS_STEP_MAX,R1          ;//設定=1~10(2~11)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   103
PROGRAM NAME =

11607 000018A4 6511              3408             MOV.W   @R1,R5                          ;R5ｶｳﾝﾀ
11608 000018A6 7501              3409             ADD     #1,R5                           ;設定+1=MAX
11609 000018A8 6153              3410             MOV     R5,R1                           ;MAX-SET
11610 000018AA 6253              3411             MOV     R5,R2                           ;MAX-SET
11611 000018AC 6053              3412             MOV     R5,R0                           ;
11612 000018AE 70FF              3413             ADD     #-1,R0                          ;
11613 000018B0 4008              3414             SHLL2   R0                              ;*4
11614 000018B2 DA0D              3415             MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10     ;
11615 000018B4 3A0C              3416             ADD     R0,R10                          ;
11616 000018B6 68A2              3417             MOV.L   @R10,R8                         ;最終工程(待機点)
11617 000018B8 7AFC              3418             ADD     #-4,R10                         ;
11618 000018BA 6053              3419             MOV     R5,R0
11619                            3420     
11620 000018BC 233A              3421             XOR     R3,R3                           ;
11621 000018BE 244A              3422             XOR     R4,R4                           ;
11622                            3423     
11623 000018C0                   3424     CW_CCW_ESTEP_LOP000:
11624 000018C0 2008              3425             TST     R0,R0                           ;MAX STEP
11625                            3426             TST_BIT_OF CW_CCW_ESTEP_LOPEND          ;
11626 000018C2 8927                   M           BT      CW_CCW_ESTEP_LOPEND
11627                            3427     
11628 000018C4 67A2              3428             MOV.L   @R10,R7                         ;
11629 000018C6 8801              3429             CMP/EQ  #1,R0                           ;1ｽﾃｯﾌﾟ
11630 000018C8 8B01              3430             BF      CW_CCW_ESTEP_LOP050             ;最後? NO
11631 000018CA D508              3431             MOV.L   #_SETX_UPAREA_PLS,R5            ;//4;待機点
11632 000018CC 6752              3432             MOV.L   @R5,R7                          ;
11633 000018CE                   3433     CW_CCW_ESTEP_LOP050:                            ;
11634                            3434     
11635                            3435     
11636 000018CE 3870              3436             CMP/EQ  R7,R8                           ;R7(前段)=<R8(現段)
11637 000018D0 8914              3437             BT      CW_CCW_ESTEP_LOP300             ;
11638                            3438     
11639 000018D2 3877              3439             CMP/GT  R7,R8                           ;
11640 000018D4 8B0C              3440             BF      CW_CCW_ESTEP_LOP150             ;R7(前段)>=R8(現段)
11641 000018D6 E401              3441             MOV     #1,R4                           ;逆転終了
11642                            3442     
11643 000018D8 2338              3443             TST     R3,R3                           ;一回でも逆転があったか
11644                            3444             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11645 000018DA 8B16                   M           BF      CW_CCW_ESTEP_LOP400
11646                            3445     ;       ===== 正転===
11647 000018DC 6103              3446             MOV     R0,R1                           ;
11648                            3447             M_BRA   CW_CCW_ESTEP_LOP400
11649 000018DE A014                   M           BRA     CW_CCW_ESTEP_LOP400
11650 000018E0 0009                   M           NOP
11651                            3448     
11652                                     ***** BEGIN-POOL *****
11653 000018E2 0000                       ALIGNMENT CODE
11654 000018E4 00000000                   DATA FOR SOURCE-LINE 3407
11655 000018E8 00000000                   DATA FOR SOURCE-LINE 3415
11656 000018EC 00000000                   DATA FOR SOURCE-LINE 3431
11657                                     ***** END-POOL *****
11658 000018F0                   3449     CW_CCW_ESTEP_LOP150:                            ;
11659 000018F0 E301              3450             MOV     #1,R3                           ;正転終了
11660 000018F2 2448              3451             TST     R4,R4                           ;
11661                            3452             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11662 000018F4 8B09                   M           BF      CW_CCW_ESTEP_LOP400
11663                            3453     ;       ===== 逆転===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   104
PROGRAM NAME =

11664 000018F6 6203              3454             MOV     R0,R2                           ;
11665                            3455             M_BRA   CW_CCW_ESTEP_LOP400             ;
11666 000018F8 A007                   M           BRA     CW_CCW_ESTEP_LOP400
11667 000018FA 0009                   M           NOP
11668                            3456     
11669                            3457     
11670                            3458     ;       ===== ﾃﾞｰﾀEQU時の処理====
11671                            3459     ;       ===== 前段時の処理 =====
11672 000018FC                   3460     CW_CCW_ESTEP_LOP300:                            ;
11673 000018FC 2338              3461             TST     R3,R3                           ;
11674                            3462             TST_BIT_ON CW_CCW_ESTEP_LOP320          ;
11675 000018FE 8B00                   M           BF      CW_CCW_ESTEP_LOP320
11676                            3463     ;;;     ADD     #-1,R1                          ;
11677 00001900 6203              3464             MOV     R0,R2                           ;
11678 00001902                   3465     CW_CCW_ESTEP_LOP320:                            ;
11679                            3466     
11680 00001902 2448              3467             TST     R4,R4                           ;
11681                            3468             TST_BIT_ON CW_CCW_ESTEP_LOP340          ;
11682 00001904 8B00                   M           BF      CW_CCW_ESTEP_LOP340
11683                            3469     ;;;     ADD     #-1,R2                          ;
11684 00001906 6203              3470             MOV     R0,R2                           ;
11685                            3471     
11686 00001908                   3472     CW_CCW_ESTEP_LOP340:                            ;
11687 00001908 0009              3473             NOP
11688 0000190A                   3474     CW_CCW_ESTEP_LOP400:                            ;
11689 0000190A 70FF              3475             ADD     #-1,R0                          ;
11690 0000190C 7AFC              3476             ADD     #-4,R10                         ;
11691 0000190E 6873              3477             MOV     R7,R8                           ;入れ替え
11692                            3478             M_BRA   CW_CCW_ESTEP_LOP000             ;
11693 00001910 AFD6                   M           BRA     CW_CCW_ESTEP_LOP000
11694 00001912 0009                   M           NOP
11695                            3479     
11696 00001914                   3480     CW_CCW_ESTEP_LOPEND:
11697                            3481             M_BRA   CW_CCW_ESTEPTMCHK_START
11698 00001914 A000                   M           BRA     CW_CCW_ESTEPTMCHK_START
11699 00001916 0009                   M           NOP
11700                            3482     
11701                            3483     ;       --------- input R1,R2 OUTPUT R1,R2---------
11702 00001918                   3484     CW_CCW_ESTEPTMCHK_START:
11703                            3485     ;;;     MOV.L   #_PAR_UPCHK_SEL1,R4             ;
11704 00001918 D402              3486             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R4     ;2012-03-06
11705 0000191A 6041              3487             MOV.W   @R4,R0                          ;
11706 0000191C 8801              3488             CMP/EQ  #1,R0                           ;
11707 0000191E 8903              3489             BT      CW_CCW_ESTEPTMCHK_010           ;
11708                            3490             M_BRA   CW_CCW_ESTEPTMCHK_LOPEND        ;
11709 00001920 A026                   M           BRA     CW_CCW_ESTEPTMCHK_LOPEND
11710 00001922 0009                   M           NOP
11711                            3491     
11712                                     ***** BEGIN-POOL *****
11713 00001924 00000000                   DATA FOR SOURCE-LINE 3486
11714                                     ***** END-POOL *****
11715 00001928                   3492     CW_CCW_ESTEPTMCHK_010
11716                            3493     
11717                            3494     
11718                            3495     ;       ========== 2011-09-01 r1:これ以降cw,r2:これ以降ccw
11719                            3496     ;タイマ停止があればその工程は上昇ホールドではない
11720                            3497     ;[R1,R2]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   105
PROGRAM NAME =

11721 00001928 D40F              3498             MOV.L   #_SETX_POS_STEP_MAX,R4          ;//設定=1~10(2~11)
11722 0000192A 6541              3499             MOV.W   @R4,R5                          ;R5ｶｳﾝﾀ
11723                            3500     
11724 0000192C 7501              3501             ADD     #1,R5                           ;設定+1=MAX
11725 0000192E 6053              3502             MOV     R5,R0                           ;
11726 00001930 D40E              3503             MOV.L   #_SETX_POS_SDAT1_TIM,R4         ;
11727 00001932 70FE              3504             ADD     #-2,R0                          ;
11728 00001934 4008              3505             SHLL2   R0                              ;
11729 00001936 340C              3506             ADD     R0,R4                           ;
11730 00001938 6053              3507             MOV     R5,R0                           ;R0=2~6,2~11
11731 0000193A 70FF              3508             ADD     #-1,R0                          ;R0=2~5,2~10:　5段目が0以外なら6ｽﾃｯﾌﾟから
11732                            3509     
11733                            3510     
11734 0000193C                   3511     CW_CCW_ESTEPTMCHK_LOP:
11735 0000193C 2008              3512             TST     R0,R0
11736                            3513             TST_BIT_OF CW_CCW_ESTEPTMCHK_LOPEND     ;
11737 0000193E 8917                   M           BT      CW_CCW_ESTEPTMCHK_LOPEND
11738                            3514     
11739 00001940 6342              3515             MOV.L   @R4,R3                          ;R3:data
11740                            3516     
11741 00001942 3152              3517             CMP/HS  R5,R1                           ;MAX=< R1 演算不要
11742 00001944 8905              3518             BT      CW_CCW_ESTEPTMCHK_100           ;
11743 00001946 3106              3519             CMP/HI  R0,R1                           ;
11744 00001948 8903              3520             BT      CW_CCW_ESTEPTMCHK_100           ;
11745                            3521     
11746 0000194A 2338              3522             TST     R3,R3                           ;
11747                            3523             TST_BIT_OF CW_CCW_ESTEPTMCHK_100        ;
11748 0000194C 8901                   M           BT      CW_CCW_ESTEPTMCHK_100
11749 0000194E 6103              3524             MOV     R0,R1                           ;
11750 00001950 7101              3525             ADD     #1,R1                           ;
11751 00001952                   3526     CW_CCW_ESTEPTMCHK_100:
11752                            3527     
11753                            3528     
11754 00001952 3252              3529             CMP/HS  R5,R2                           ;MAX=< R2 演算不要
11755 00001954 8903              3530             BT      CW_CCW_ESTEPTMCHK_200           ;
11756 00001956 3206              3531             CMP/HI  R0,R2                           ;
11757 00001958 8901              3532             BT      CW_CCW_ESTEPTMCHK_200           ;
11758                            3533     
11759 0000195A 6203              3534             MOV     R0,R2                           ;
11760 0000195C 7201              3535             ADD     #1,R2                           ;
11761                            3536     
11762 0000195E                   3537     CW_CCW_ESTEPTMCHK_200:
11763 0000195E 74FC              3538             ADD     #-4,R4                          ;
11764 00001960 70FF              3539             ADD     #-1,R0                          ;
11765                            3540             M_BRA   CW_CCW_ESTEPTMCHK_LOP           ;
11766 00001962 AFEB                   M           BRA     CW_CCW_ESTEPTMCHK_LOP
11767 00001964 0009                   M           NOP
11768                                     ***** BEGIN-POOL *****
11769 00001966 0000                       ALIGNMENT CODE
11770 00001968 00000000                   DATA FOR SOURCE-LINE 3498
11771 0000196C 00000000                   DATA FOR SOURCE-LINE 3503
11772                                     ***** END-POOL *****
11773 00001970                   3541     CW_CCW_ESTEPTMCHK_LOPEND                ;
11774                            3542             SUB_END
11775                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11776 00001970 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11777                            3543             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   106
PROGRAM NAME =

11778 00001972 000B                   M           RTS                             ;RTSの後ろの
11779 00001974 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11780                            3544     
11781                            3545     ;       ***********************************
11782                            3546     ;       ***                             ***
11783                            3547     ;       ***     上昇ﾎｰﾙﾄﾞ状態ならﾎｰﾙﾄﾞ  ***
11784                            3548     ;       ***                             ***
11785                            3549     ;       ***                             ***
11786                            3550     ;       ***********************************
11787 00001978                   3551             .ALIGN  4
11788 00001978                   3552     _CTRL_UP_HOLD_CHK:
11789                            3553             SUB_START
11790 00001978 4F22                   M           STS.L   PR,@-R15                ;[必要]
11791                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11792                            3554     ;;2012-03-06    MOV.L   #_INT_POS_CTL_STEP,R5   ;
11793                            3555     ;;2012-03-06    MOV.W   @R5,R0                  ;
11794                            3556     ;;2012-03-06    TST     R0,R0                   ;
11795                            3557     ;;2012-03-06    TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
11796                            3558     ;;2012-03-06    M_BRA   CTRL_UP_HOLD_CK_END     ;
11797                            3559     
11798                            3560     ;ﾃｽﾄﾓｰﾄﾞ中はﾏｽｸ,AUTOにしない
11799 0000197A D105              3561             MOV.L   #_BRKTST_SW_IN,R1               ;2012-03-06
11800 0000197C 6011              3562             MOV.W   @R1,R0                          ;2012-03-06
11801 0000197E 2008              3563             TST     R0,R0                           ;2012-03-06
11802                            3564             TST_BIT_ON CTRL_UP_HOLD_CK_STAA         ;2012-03-06EXIT
11803 00001980 8B03                   M           BF      CTRL_UP_HOLD_CK_STAA
11804                            3565     
11805 00001982 D504              3566             MOV.L   #_INT_POS_CTL_STEP,R5   ;
11806 00001984 6051              3567             MOV.W   @R5,R0                  ;
11807 00001986 2008              3568             TST     R0,R0                   ;
11808                            3569             TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
11809 00001988 8B06                   M           BF      CTRL_UP_HOLD_CK_ST00
11810 0000198A                   3570     CTRL_UP_HOLD_CK_STAA:
11811                            3571             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
11812 0000198A A027                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
11813 0000198C 0009                   M           NOP
11814                            3572     
11815                            3573     
11816                            3574     
11817                            3575     
11818                            3576     
11819                                     ***** BEGIN-POOL *****
11820 0000198E 0000                       ALIGNMENT CODE
11821 00001990 00000000                   DATA FOR SOURCE-LINE 3561
11822 00001994 00000000                   DATA FOR SOURCE-LINE 3566
11823                                     ***** END-POOL *****
11824 00001998                   3577     CTRL_UP_HOLD_CK_ST00:
11825 00001998 D102              3578             MOV.L   #_UP_HOLD_FLG,R1        ;       //BIT0=1 上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝ
                                          ﾓｰﾄﾞでこの信号はON/OFFする
11826 0000199A 6011              3579             MOV.W   @R1,R0                  ;BIT4(OBJ~待機),BIT5(待機~OBJ)
11827 0000199C C801              3580             TST     #BIT0,R0                ;
11828                            3581             TST_BIT_OF CTRL_UP_HOLD_CK_ST20 ;
11829 0000199E 8903                   M           BT      CTRL_UP_HOLD_CK_ST20
11830                            3582             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
11831 000019A0 A01C                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
11832 000019A2 0009                   M           NOP
11833                            3583     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   107
PROGRAM NAME =

11834                                     ***** BEGIN-POOL *****
11835 000019A4 00000000                   DATA FOR SOURCE-LINE 3578
11836                                     ***** END-POOL *****
11837 000019A8                   3584     CTRL_UP_HOLD_CK_ST20:
11838                            3585     ;       ===== 一度ｴﾘｱ外にでたかﾁｪｯｸ ======
11839 000019A8 D40E              3586             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲
11840 000019AA 6041              3587             MOV.W   @R4,R0                          ;
11841 000019AC C810              3588             TST     #BIT4,R0                        ;
11842                            3589             TST_BIT_ON CTRL_UP_HOLD_CK_ST40         ;
11843 000019AE 8B03                   M           BF      CTRL_UP_HOLD_CK_ST40
11844 000019B0 D10D              3590             MOV.L   #_UP_HOLD_FLG,R1                ;１回目の運転開始(異常時または1CYCLEND)
11845 000019B2 6011              3591             MOV.W   @R1,R0                          ;
11846 000019B4 CB30              3592             OR      #(BIT5+BIT4),R0                 ;
11847 000019B6 2101              3593             MOV.W   R0,@R1                          ;
11848 000019B8                   3594     CTRL_UP_HOLD_CK_ST40:
11849                            3595             FAR_JSR #_UP_HOLD_SIG_MAK,R0
11850 000019B8 D00C                   M           MOV.L   #_UP_HOLD_SIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11851 000019BA 400B                   M           JSR     @R0                     ;
11852 000019BC 0009                   M           NOP                                     ;
11853 000019BE 2008              3596             TST     R0,R0
11854                            3597             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT
11855 000019C0 890C                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
11856                            3598     
11857                            3599     ;;2012-03-06    MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこ
                                          の信号はON/OFFする
11858                            3600     ;;2012-03-06    MOV.W   @R1,R0                  ;
11859                            3601     ;;2012-03-06    OR      #BIT0,R0                ;
11860                            3602     ;;2012-03-06    MOV.W   R0,@R1                  ;
11861                            3603     ;速度がある程度になったらホールドする
11862                            3604     
11863                            3605     ;       ===========================
11864                            3606     ;       ===     2012-03-06      ===
11865                            3607     ;       ===　　速度チェック     ===
11866                            3608     ;       ===========================
11867 000019C2 D10B              3609             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
11868 000019C4 6011              3610             MOV.W   @R1,R0                          ;
11869 000019C6 8801              3611             CMP/EQ  #1,R0                           ;
11870 000019C8 8B04              3612             BF      CTRL_UP_HOLD_CK_ST50            ;
11871                            3613     
11872                            3614     ;       -------2012-03-06--------
11873                            3615             FAR_JSR #_UP_HOLD_MASK_SPDCHK,R0        ;
11874 000019CA D00A                   M           MOV.L   #_UP_HOLD_MASK_SPDCHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11875 000019CC 400B                   M           JSR     @R0                     ;
11876 000019CE 0009                   M           NOP                                     ;
11877 000019D0 2008              3616             TST     R0,R0                           ;
11878                            3617             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT       ;動作方向でその速度に達していない
11879 000019D2 8903                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
11880                            3618     
11881 000019D4                   3619     CTRL_UP_HOLD_CK_ST50:
11882                            3620     
11883 000019D4 D104              3621             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
11884 000019D6 6011              3622             MOV.W   @R1,R0                  ;
11885 000019D8 CB01              3623             OR      #BIT0,R0                ;
11886 000019DA 2101              3624             MOV.W   R0,@R1                  ;
11887                            3625     
11888                            3626     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   108
PROGRAM NAME =

11889                            3627     
11890                            3628     
11891                            3629     
11892                            3630     
11893                            3631     
11894                            3632     
11895 000019DC                   3633     CTRL_UP_HOLD_CK_ST_EXT:
11896                            3634     
11897                            3635             SUB_END
11898                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11899 000019DC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11900                            3636             M_RTS
11901 000019DE 000B                   M           RTS                             ;RTSの後ろの
11902 000019E0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11903                            3637     
11904                            3638     ;       ***************************************************
11905                            3639     ;       ***                                             ***
11906                            3640     ;       ***     上昇ホールドが相手ＣＰＵが行わないで    ***
11907                            3641     ;       ***     強制停止に向かった                      ***
11908                            3642     ;       ***                                             ***
11909                            3643     ;       ***************************************************
11910                            3644     ;       2015-11-15
11911                            3645     ;; .AIF 1 EQ 1
11912                                     ***** BEGIN-POOL *****
11913 000019E2 0000                       ALIGNMENT CODE
11914 000019E4 00000000                   DATA FOR SOURCE-LINE 3586
11915 000019E8 00000000                   DATA FOR SOURCE-LINE 3590,3621
11916 000019EC 00000000                   DATA FOR SOURCE-LINE 3595
11917 000019F0 00000000                   DATA FOR SOURCE-LINE 3609
11918 000019F4 00000000                   DATA FOR SOURCE-LINE 3615
11919                                     ***** END-POOL *****
11920 000019F8                   3646     _UP_HOLD_MISS
11921                            3647             SUB_START
11922 000019F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
11923                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11924                            3648             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;
11925 000019FA D004                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11926 000019FC 400B                   M           JSR     @R0                     ;
11927 000019FE 0009                   M           NOP                                     ;
11928                            3649             FAR_JSR #_SFTY_MASK_END,R0      ;(結果としてはﾏｽｸするかもしれない)
11929 00001A00 D003                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11930 00001A02 400B                   M           JSR     @R0                     ;
11931 00001A04 0009                   M           NOP                                     ;
11932                            3650     
11933                            3651             SUB_END
11934                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11935 00001A06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11936                            3652             M_RTS
11937 00001A08 000B                   M           RTS                             ;RTSの後ろの
11938 00001A0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11939                            3653     ;; .AENDI
11940                            3654     
11941                            3655     ;       ***********************************
11942                            3656     ;       ***                             ***
11943                            3657     ;       ***                             ***
11944                            3658     ;       ***                             ***
11945                            3659     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   109
PROGRAM NAME =

11946                            3660     ;
11947                                     ***** BEGIN-POOL *****
11948 00001A0C 00000000                   DATA FOR SOURCE-LINE 3648
11949 00001A10 00000000                   DATA FOR SOURCE-LINE 3649
11950                                     ***** END-POOL *****
11951 00001A14                   3661             .ALIGN  4
11952 00001A14                   3662     _UP_HOLD_SIG_MAK:
11953                            3663             SUB_START
11954 00001A14 4F22                   M           STS.L   PR,@-R15                ;[必要]
11955                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11956 00001A16 D50A              3664             MOV.L   #_INT_POS_CTL_STEP,R5   ;
11957 00001A18 6251              3665             MOV.W   @R5,R2                  ;
11958 00001A1A D40A              3666             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11959 00001A1C 6541              3667             MOV.W   @R4,R5                  ;
11960 00001A1E 3252              3668             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
11961 00001A20 8B34              3669             BF      CTRL_UP_HOLD_CK_END     ;
11962                            3670     
11963                            3671     ;       ======== ﾁｪｯｸすべき工程だ =======
11964                            3672     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
11965                            3673     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
11966                            3674     ;       --------- [2009-10-07下振子]----
11967 00001A22 D409              3675             MOV.L   #_DNM_CTL_INC3600,R4    ;2009-10-07
11968 00001A24 6241              3676             MOV.W   @R4,R2                  ;
11969                            3677     
11970 00001A26 D509              3678             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
11971 00001A28 6151              3679             MOV.W   @R5,R1                  ;START
11972 00001A2A D509              3680             MOV.L   #_SETX_UPAREA_DIG,R5    ;
11973 00001A2C 6351              3681             MOV.W   @R5,R3                  ;
11974                            3682             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
11975 00001A2E D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11976 00001A30 400B                   M           JSR     @R0                     ;
11977 00001A32 0009                   M           NOP                                     ;
11978                            3683     
11979                            3684     
11980 00001A34 D108              3685             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
11981 00001A36 6011              3686             MOV.W   @R1,R0                                  ;
11982 00001A38 C808              3687             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
11983                            3688             TST_BIT_OF CTRL_UP_HOLD_CK_200                  ;
11984 00001A3A 890F                   M           BT      CTRL_UP_HOLD_CK_200
11985                            3689             M_BRA   CTRL_UP_HOLD_CK_400                     ;2009-10-07
11986 00001A3C A018                   M           BRA     CTRL_UP_HOLD_CK_400
11987 00001A3E 0009                   M           NOP
11988                            3690     ;;      M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
11989                            3691     
11990                                     ***** BEGIN-POOL *****
11991 00001A40 00000000                   DATA FOR SOURCE-LINE 3664
11992 00001A44 00000000                   DATA FOR SOURCE-LINE 3666
11993 00001A48 00000000                   DATA FOR SOURCE-LINE 3675
11994 00001A4C 00000000                   DATA FOR SOURCE-LINE 3678
11995 00001A50 00000000                   DATA FOR SOURCE-LINE 3680
11996 00001A54 00000000                   DATA FOR SOURCE-LINE 3682
11997 00001A58 00000000                   DATA FOR SOURCE-LINE 3685
11998                                     ***** END-POOL *****
11999 00001A5C                   3692     CTRL_UP_HOLD_CK_200:
12000 00001A5C C804              3693             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12001                            3694             TST_BIT_OF CTRL_UP_HOLD_CK_300                  ;
12002 00001A5E 8901                   M           BT      CTRL_UP_HOLD_CK_300
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   110
PROGRAM NAME =

12003                            3695             M_BRA   CTRL_UP_HOLD_CK_400                     ;[2009-10-07下振子]
12004 00001A60 A006                   M           BRA     CTRL_UP_HOLD_CK_400
12005 00001A62 0009                   M           NOP
12006                            3696     ;;;[2009-10-07下振子]   M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
12007                            3697     
12008 00001A64                   3698     CTRL_UP_HOLD_CK_300:
12009 00001A64 C802              3699             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12010                            3700             TST_BIT_OF CTRL_UP_HOLD_CK_400                  ;
12011 00001A66 8903                   M           BT      CTRL_UP_HOLD_CK_400
12012                            3701     
12013                            3702     ;       ==== 反転R5=0,-1 ====
12014 00001A68 4515              3703             CMP/PL  R5                                      ;
12015 00001A6A 8B0B              3704             BF      CTRL_UP_HOLD_CK_700                     ;成立
12016                            3705             M_BRA   CTRL_UP_HOLD_CK_END                     ;
12017 00001A6C A00E                   M           BRA     CTRL_UP_HOLD_CK_END
12018 00001A6E 0009                   M           NOP
12019                            3706     
12020 00001A70                   3707     CTRL_UP_HOLD_CK_400:
12021                            3708     ;       ==== 正転R5=0,1 ====
12022 00001A70 D603              3709             MOV.L   #_UP_HOLD_FLG,R6                ;
12023 00001A72 6061              3710             MOV.W   @R6,R0                          ;
12024 00001A74 C820              3711             TST     #BIT5,R0                        ;範囲外へ一度いっているか？
12025                            3712             TST_BIT_OF CTRL_UP_HOLD_CK_END
12026 00001A76 8909                   M           BT      CTRL_UP_HOLD_CK_END
12027 00001A78 4511              3713             CMP/PZ  R5
12028 00001A7A 8903              3714             BT      CTRL_UP_HOLD_CK_700                     ;成立
12029                            3715             M_BRA   CTRL_UP_HOLD_CK_END                     ;
12030 00001A7C A006                   M           BRA     CTRL_UP_HOLD_CK_END
12031 00001A7E 0009                   M           NOP
12032                                     ***** BEGIN-POOL *****
12033 00001A80 00000000                   DATA FOR SOURCE-LINE 3709
12034                                     ***** END-POOL *****
12035 00001A84                   3716     CTRL_UP_HOLD_CK_700:
12036                            3717     
12037 00001A84 E0FF              3718             MOV     #-1,R0                  ;
12038                            3719     
12039                            3720             SUB_END
12040                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12041 00001A86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12042                            3721             M_RTS
12043 00001A88 000B                   M           RTS                             ;RTSの後ろの
12044 00001A8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12045                            3722     
12046                            3723     
12047                            3724     
12048 00001A8C                   3725     CTRL_UP_HOLD_CK_END:
12049 00001A8C 200A              3726             XOR     R0,R0
12050                            3727             SUB_END
12051                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12052 00001A8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12053                            3728             M_RTS
12054 00001A90 000B                   M           RTS                             ;RTSの後ろの
12055 00001A92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12056                            3729     
12057                            3730     
12058                            3731     
12059                            3732     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   111
PROGRAM NAME =

12060                            3733     ;       ***                             ***
12061                            3734     ;       ***     2012-03-06              ***
12062                            3735     ;       ***     　　速度チェック        ***
12063                            3736     ;       ***                             ***
12064                            3737     ;       ***********************************
12065                            3738     ;動作方向にその速度以上になったらホールド・マスクする
12066 00001A94                   3739             .ALIGN  4                               ;
12067 00001A94                   3740     _UP_HOLD_MASK_SPDCHK:
12068                            3741             SUB_START
12069 00001A94 4F22                   M           STS.L   PR,@-R15                ;[必要]
12070                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12071                            3742     
12072 00001A96 D109              3743             MOV.L   #_ENC_PLS_SPD_DIR,R1                                    ;
12073 00001A98 6211              3744             MOV.W   @R1,R2                                                  ;
12074                            3745     
12075 00001A9A D109              3746             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12076 00001A9C 6011              3747             MOV.W   @R1,R0                                  ;
12077 00001A9E C801              3748             TST     #_DMATH_CNTROT,R0                       ;
12078                            3749             TST_BIT_ON UP_HOLD_MASKSPDCHK_FWD
12079 00001AA0 8B07                   M           BF      UP_HOLD_MASKSPDCHK_FWD
12080                            3750     
12081 00001AA2 C802              3751             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12082                            3752             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;
12083 00001AA4 8B10                   M           BF      UP_HOLD_MASKSPDCHK_REV
12084                            3753     
12085 00001AA6 C804              3754             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH ふりこ
12086                            3755             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;選択されていない
12087 00001AA8 891E                   M           BT      UP_HOLD_MASKSPDCHK_NG
12088                            3756     
12089                            3757     ;ふりこ[今往路?復路]
12090 00001AAA D106              3758             MOV.L   #_DNM_DIR_SET_FLG,R1                    ;//
12091 00001AAC 6011              3759             MOV.W   @R1,R0                                  ;0:往路
12092 00001AAE 2008              3760             TST     R0,R0                                   ;
12093                            3761             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;1:復路
12094 00001AB0 8B0A                   M           BF      UP_HOLD_MASKSPDCHK_REV
12095                            3762     
12096 00001AB2                   3763     UP_HOLD_MASKSPDCHK_FWD:
12097 00001AB2 2228              3764             TST     R2,R2                                   ;
12098                            3765             TST_BIT_ON UP_HOLD_MASKSPDCHK_NG                ;逆回転 EXIT
12099 00001AB4 8B18                   M           BF      UP_HOLD_MASKSPDCHK_NG
12100                            3766             M_BRA   UP_HOLD_MASKSPDCHK_COM                  ;
12101 00001AB6 A009                   M           BRA     UP_HOLD_MASKSPDCHK_COM
12102 00001AB8 0009                   M           NOP
12103                            3767     
12104                                     ***** BEGIN-POOL *****
12105 00001ABA 0000                       ALIGNMENT CODE
12106 00001ABC 00000000                   DATA FOR SOURCE-LINE 3743
12107 00001AC0 00000000                   DATA FOR SOURCE-LINE 3746
12108 00001AC4 00000000                   DATA FOR SOURCE-LINE 3758
12109                                     ***** END-POOL *****
12110 00001AC8                   3768     UP_HOLD_MASKSPDCHK_REV:
12111 00001AC8 2228              3769             TST     R2,R2                                   ;
12112                            3770             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;正回転 EXIT
12113 00001ACA 890D                   M           BT      UP_HOLD_MASKSPDCHK_NG
12114                            3771     
12115 00001ACC                   3772     UP_HOLD_MASKSPDCHK_COM:
12116                            3773     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   112
PROGRAM NAME =

12117                            3774     
12118                            3775     
12119 00001ACC D104              3776             MOV.L   #(_PAR_UPMASK_SPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
12120 00001ACE 6211              3777             MOV.W   @R1,R2                                                  ;
12121 00001AD0 D104              3778             MOV.L   #_PV_ENC_SPD_PER,R1                                     ;
12122 00001AD2 6311              3779             MOV.W   @R1,R3                                                  ;
12123 00001AD4 3323              3780             CMP/GE  R2,R3                                                   ;R2=<R3[PV]
12124 00001AD6 8B07              3781             BF      UP_HOLD_MASKSPDCHK_NG
12125                            3782     ;       ------------------------------------------------------------------
12126                            3783     ;       ---回転では+方向
12127                            3784     ;       ---反転では-方向
12128                            3785     ;       ---ふりこ往路では+方向
12129                            3786     ;       ---ふりこ復路では-方向
12130                            3787     ;       ---ブレーキテストでは
12131                            3788     
12132 00001AD8                   3789     UP_HOLD_MASKSPDCHK_STR:
12133 00001AD8 E001              3790             MOV.B   #1,R0
12134                            3791             M_BRA   UP_HOLD_MASKSPDCHK_END
12135 00001ADA A006                   M           BRA     UP_HOLD_MASKSPDCHK_END
12136 00001ADC 0009                   M           NOP
12137                            3792     
12138                                     ***** BEGIN-POOL *****
12139 00001ADE 0000                       ALIGNMENT CODE
12140 00001AE0 00000000                   DATA FOR SOURCE-LINE 3776
12141 00001AE4 00000000                   DATA FOR SOURCE-LINE 3778
12142                                     ***** END-POOL *****
12143 00001AE8                   3793     UP_HOLD_MASKSPDCHK_NG:
12144 00001AE8 200A              3794             XOR     R0,R0
12145 00001AEA                   3795     UP_HOLD_MASKSPDCHK_END
12146                            3796     
12147                            3797             SUB_END
12148                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12149 00001AEA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12150                            3798             M_RTS
12151 00001AEC 000B                   M           RTS                             ;RTSの後ろの
12152 00001AEE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12153                            3799     
12154                            3800     
12155                            3801     ;       ===================================
12156                            3802     ;       ===     上昇ﾎｰﾙﾄﾞ無効出力       ===
12157                            3803     ;       ===================================
12158 00001AF0                   3804     _UP_HOLD_AREA_MASK:
12159                            3805             SUB_START
12160 00001AF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
12161                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12162 00001AF2 D10D              3806             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12163 00001AF4 6011              3807             MOV.W   @R1,R0                  ;
12164 00001AF6 C802              3808             TST     #BIT1,R0                ;
12165                            3809             TST_BIT_ON UP_HOLD_ARA_MASK500  ;既に終了
12166 00001AF8 8B12                   M           BF      UP_HOLD_ARA_MASK500
12167 00001AFA C801              3810             TST     #BIT0,R0                ;ﾎｰﾙﾄﾞ状態か
12168                            3811             TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12169 00001AFC 8910                   M           BT      UP_HOLD_ARA_MASK500
12170                            3812     
12171                            3813     ;       === 上昇無効仕様か ===
12172                            3814     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   113
PROGRAM NAME =

12173                            3815     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.W   @R1,R0                  ;28.2
12174                            3816     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST     #BIT2,R0                ;
12175                            3817     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12176                            3818     
12177                            3819     
12178                            3820     ;       ---2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]--
12179                            3821     ;;;     FAR_JSR #_OPT_SFTY_MASK_CHK,R0  ;
12180                            3822     ;;;     TST     R0,R0                           ;
12181                            3823     ;;;;    TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12182                            3824     
12183                            3825             FAR_JSR #_OPT_SGL_SFTY_MASK_CHK,R0      ;
12184 00001AFE D00B                   M           MOV.L   #_OPT_SGL_SFTY_MASK_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12185 00001B00 400B                   M           JSR     @R0                     ;
12186 00001B02 0009                   M           NOP                                     ;
12187 00001B04 2008              3826             TST     R0,R0                           ;R0=-1　上昇無効にしない
12188                            3827             TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12189 00001B06 8B0B                   M           BF      UP_HOLD_ARA_MASK500
12190                            3828                                                     ;・作業一行程、一行程は待機点２ＳＷに従う
12191                            3829     
12192                            3830     
12193                            3831     ;;;;2013-02-20 振子・反転とも上昇ホールド＋マスク有り
12194                            3832     ;;;;2013-02-20 ;        ----2011-09-06 振り子と反転は　上昇ホールドはするが上昇無効にはし
                                          ない
12195                            3833     ;;;;2013-02-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12196                            3834     ;;;;2013-02-20  MOV.W   @R1,R0                                  ;
12197                            3835     ;;;;2013-02-20  TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12198                            3836     ;;;;2013-02-20  TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12199                            3837     ;;;;反転がマスクはされているが遮光停止するのはなぜ？
12200                            3838     
12201                            3839     
12202                            3840     ;       ====== 2013-02-23 やっぱり　ふりこと反転は　マスクする、しないを切り替える
12203 00001B08 D109              3841             MOV.L   #_UPMSK2_DRVSEL,R1                      ;//2013-02-23
12204 00001B0A 6011              3842             MOV.W   @R1,R0                                  ;0:反転,ふりこを上昇無効にしない
12205 00001B0C 2008              3843             TST     R0,R0                                   ;
12206                            3844             TST_BIT_ON UP_HOLD_ARA_MASK480                  ;1の場合見なくする
12207 00001B0E 8B03                   M           BF      UP_HOLD_ARA_MASK480
12208                            3845     ;       -------------------------------------------------------------------
12209                            3846     
12210 00001B10 D108              3847             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12211 00001B12 6011              3848             MOV.W   @R1,R0                                  ;
12212 00001B14 C806              3849             TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12213                            3850             TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12214 00001B16 8B03                   M           BF      UP_HOLD_ARA_MASK500
12215                            3851     
12216                            3852     
12217 00001B18                   3853     UP_HOLD_ARA_MASK480:
12218                            3854     
12219                            3855     ;       ======= このフラグをONすれば上昇ﾎｰﾙﾄﾞ+速度条件でﾏｽｸ===-
12220 00001B18 D103              3856             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12221 00001B1A 6011              3857             MOV.W   @R1,R0                  ;
12222 00001B1C CB02              3858             OR      #BIT1,R0                ;
12223 00001B1E 2101              3859             MOV.W   R0,@R1                  ;
12224                            3860     
12225                            3861     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   114
PROGRAM NAME =

12226 00001B20                   3862     UP_HOLD_ARA_MASK500:
12227                            3863     
12228                            3864             SUB_END
12229                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12230 00001B20 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12231                            3865             M_RTS
12232 00001B22 000B                   M           RTS                             ;RTSの後ろの
12233 00001B24 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12234                            3866     
12235                            3867     
12236                            3868     
12237                                     ***** BEGIN-POOL *****
12238 00001B26 0000                       ALIGNMENT CODE
12239 00001B28 00000000                   DATA FOR SOURCE-LINE 3806,3856
12240 00001B2C 00000000                   DATA FOR SOURCE-LINE 3825
12241 00001B30 00000000                   DATA FOR SOURCE-LINE 3841
12242 00001B34 00000000                   DATA FOR SOURCE-LINE 3847
12243                                     ***** END-POOL *****
12244 00001B38                   3869     _UP_HOLD_FLG_CLR1:
12245                            3870             SUB_START
12246 00001B38 4F22                   M           STS.L   PR,@-R15                ;[必要]
12247                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12248 00001B3A D103              3871             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ信号(手放し自動、上昇無効出力用)
12249 00001B3C 6011              3872             MOV.W   @R1,R0                  ;
12250 00001B3E C9FC              3873             AND     #LOW ~(BIT1+BIT0),R0    ;(ここでOFFする必要があるのか？)
12251 00001B40 2101              3874             MOV.W   R0,@R1                  ;
12252                            3875             SUB_END
12253                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12254 00001B42 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12255                            3876             M_RTS
12256 00001B44 000B                   M           RTS                             ;RTSの後ろの
12257 00001B46 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12258                            3877     
12259                                     ***** BEGIN-POOL *****
12260 00001B48 00000000                   DATA FOR SOURCE-LINE 3871
12261                                     ***** END-POOL *****
12262 00001B4C                   3878     _UP_HOLD_FLG_CLR2:
12263                            3879             SUB_START
12264 00001B4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12265                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12266 00001B4E D103              3880             MOV.L   #_UP_HOLD_FLG,R1        ;１回目の運転開始(異常時または1CYCLEND)
12267 00001B50 6011              3881             MOV.W   @R1,R0                  ;
12268 00001B52 C9CF              3882             AND     #LOW ~(BIT5+BIT4),R0    ;
12269 00001B54 2101              3883             MOV.W   R0,@R1                  ;
12270                            3884             SUB_END
12271                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12272 00001B56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12273                            3885             M_RTS
12274 00001B58 000B                   M           RTS                             ;RTSの後ろの
12275 00001B5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12276                            3886     
12277                            3887     
12278                            3888     
12279                            3889     
12280                            3890     
12281                            3891     
12282                            3892     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   115
PROGRAM NAME =

12283                            3893     
12284                            3894     ;       ***************************************************
12285                            3895     ;       ***                                             ***
12286                            3896     ;       ***     ミューテングの定義変更                  ***
12287                            3897     ;       ***     2012-09-25                              ***
12288                            3898     ;       ***     準備完了・未完了中も急停止にする        ***
12289                            3899     ;       ***                                             ***
12290                            3900     ;       ***************************************************
12291                            3901     ;;;2013-02-23 不要      .ALIGN  4                               ;
12292                            3902     ;;;2013-02-23 不要_SFTY_MASK_ST_NOT_DRV:
12293                            3903     ;;;2013-02-23 不要      SUB_START
12294                            3904     ;;;2013-02-23 不要
12295                            3905     ;;;2013-02-23 不要;     ======== 2013-02-20[SEQ349.9] ====
12296                            3906     ;;;2013-02-23 不要      MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃ
                                          ﾝｸﾞ無効)
12297                            3907     ;;;2013-02-23 不要      MOV.W   @R1,R0                          ;
12298                            3908     ;;;2013-02-23 不要      CMP/EQ  #1,R0                           ;
12299                            3909     ;;;2013-02-23 不要      BT      SFTY_MASK_ST_NOTDRV100          ;
12300                            3910     ;;;2013-02-23 不要
12301                            3911     ;;;2013-02-23 不要
12302                            3912     ;;;2013-02-23 不要;;;2012-10-15 MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照
                                          しない 1:参照する
12303                            3913     ;;;2013-02-23 不要      MOV.L   #_UPMSK2_MATH,R1                        ;//0:参照しない 1:
                                          参照する
12304                            3914     ;;;2013-02-23 不要      MOV.W   @R1,R0                                  ;
12305                            3915     ;;;2013-02-23 不要      TST     R0,R0                                   ;
12306                            3916     ;;;2013-02-23 不要      TST_BIT_ON SFTY_MASK_ST_NOTDRV100               ;
12307                            3917     ;;;2013-02-23 不要
12308                            3918     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12309                            3919     ;;;2013-02-23 不要
12310                            3920     ;;;2013-02-23 不要      M_BRA   SFTY_MASK_ST_NOTDRV500
12311                            3921     ;;;2013-02-23 不要
12312                            3922     ;;;2013-02-23 不要
12313                            3923     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV100:
12314                            3924     ;;;2013-02-23 不要
12315                            3925     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_END,R0                      ;
12316                            3926     ;;;2013-02-23 不要
12317                            3927     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV500:                                       ;
12318                            3928     ;;;2013-02-23 不要
12319                            3929     ;;;2013-02-23 不要      SUB_END
12320                            3930     ;;;2013-02-23 不要      M_RTS
12321                            3931     
12322                            3932     
12323                            3933     ;       ***********************************
12324                            3934     ;       ***                             ***
12325                            3935     ;       ***     停止中のマスク          ***
12326                            3936     ;       ***                             ***
12327                            3937     ;       ***********************************
12328                            3938     ;       ***************************
12329                            3939     ;       ***     2013-02-23      ***
12330                            3940     ;       ***************************
12331                            3941     ;       上昇無効が有効/無効
12332                            3942     ;       SWが有効で,SWがONか?
12333                            3943     ;
12334                            3944     ;
12335                                     ***** BEGIN-POOL *****
12336 00001B5C 00000000                   DATA FOR SOURCE-LINE 3880
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   116
PROGRAM NAME =

12337                                     ***** END-POOL *****
12338 00001B60                   3945     _NEWMASK_SEL_STOPMSK
12339                            3946             SUB_START                               ;
12340 00001B60 4F22                   M           STS.L   PR,@-R15                ;[必要]
12341                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12342                            3947     
12343                            3948     ;       ======== 2013-02-20[SEQ349.9] ====
12344 00001B62 D10A              3949             MOV.L   #_MYUTING_MOD_STOPSEL,R1                ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12345 00001B64 6011              3950             MOV.W   @R1,R0                                  ;
12346 00001B66 8801              3951             CMP/EQ  #1,R0                                   ;
12347 00001B68 890B              3952             BT      NEWMASK_SELSTOPCHK400                   ;
12348                            3953     
12349                            3954     ;       ----------------------------------
12350 00001B6A D109              3955             MOV.L   #_UPMSK2_MATH,R1                ;[0:停止中はﾏｽｸ固定],[1:停止中はﾏｽｸする/し
                                          ないをSWで決定]
12351 00001B6C 6011              3956             MOV.W   @R1,R0                          ;
12352 00001B6E 2008              3957             TST     R0,R0                           ;
12353                            3958             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12354 00001B70 8916                   M           BT      NEWMASK_SELSTOPCHK500
12355                            3959     
12356 00001B72 D108              3960             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない:1:参照する
12357 00001B74 6011              3961             MOV.W   @R1,R0                          ;
12358 00001B76 2008              3962             TST     R0,R0                           ;
12359                            3963             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12360 00001B78 8912                   M           BT      NEWMASK_SELSTOPCHK500
12361                            3964     
12362 00001B7A D107              3965             MOV.L   #_UPMAK2_MOD_USE_SW,R1          ;
12363 00001B7C 6011              3966             MOV.W   @R1,R0                          ;
12364 00001B7E 2008              3967             TST     R0,R0
12365                            3968             TST_BIT_ON NEWMASK_SELSTOPCHK500        ;上昇無効にする
12366 00001B80 8B0E                   M           BF      NEWMASK_SELSTOPCHK500
12367                            3969     
12368                            3970     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にしない----
12369 00001B82                   3971     NEWMASK_SELSTOPCHK400
12370                            3972             FAR_JSR #_SFTY_MASK_END,R0                      ;
12371 00001B82 D006                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12372 00001B84 400B                   M           JSR     @R0                     ;
12373 00001B86 0009                   M           NOP                                     ;
12374                            3973             M_BRA   NEWMASK_SELSTOPCHKEND
12375 00001B88 A00D                   M           BRA     NEWMASK_SELSTOPCHKEND
12376 00001B8A 0009                   M           NOP
12377                            3974     
12378                            3975     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にする----
12379                                     ***** BEGIN-POOL *****
12380 00001B8C 00000000                   DATA FOR SOURCE-LINE 3949
12381 00001B90 00000000                   DATA FOR SOURCE-LINE 3955
12382 00001B94 00000000                   DATA FOR SOURCE-LINE 3960
12383 00001B98 00000000                   DATA FOR SOURCE-LINE 3965
12384 00001B9C 00000000                   DATA FOR SOURCE-LINE 3972
12385                                     ***** END-POOL *****
12386 00001BA0                   3976     NEWMASK_SELSTOPCHK500
12387                            3977             FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12388 00001BA0 D002                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12389 00001BA2 400B                   M           JSR     @R0                     ;
12390 00001BA4 0009                   M           NOP                                     ;
12391 00001BA6                   3978     NEWMASK_SELSTOPCHKEND
12392                            3979     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   117
PROGRAM NAME =

12393                            3980     
12394                            3981             SUB_END
12395                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12396 00001BA6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12397                            3982             M_RTS
12398 00001BA8 000B                   M           RTS                             ;RTSの後ろの
12399 00001BAA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12400                            3983     
12401                            3984     
12402                            3985     ;       ***********************************
12403                            3986     ;       ***     動作上ﾏｽｸしたい         ***
12404                            3987     ;       ***     上昇無効,運転終了       ***
12405                            3988     ;       ***********************************
12406                                     ***** BEGIN-POOL *****
12407 00001BAC 00000000                   DATA FOR SOURCE-LINE 3977
12408                                     ***** END-POOL *****
12409 00001BB0                   3989     _SFTY_MASK_START:
12410                            3990             SUB_START
12411 00001BB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
12412                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12413 00001BB2 D105              3991             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12414 00001BB4 6011              3992             MOV.W   @R1,R0                  ;
12415 00001BB6 CB03              3993             OR      #(BIT1+BIT0),R0         ;
12416 00001BB8 2101              3994             MOV.W   R0,@R1                  ;
12417                            3995             FAR_JSR #_FRCYCL_OF,R0          ;
12418 00001BBA D004                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12419 00001BBC 400B                   M           JSR     @R0                     ;
12420 00001BBE 0009                   M           NOP                                     ;
12421                            3996             SUB_END
12422                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12423 00001BC0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12424                            3997             M_RTS
12425 00001BC2 000B                   M           RTS                             ;RTSの後ろの
12426 00001BC4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12427                            3998     
12428                            3999     ;       ***********************************
12429                            4000     ;       ***     動作上ﾏｽｸやめたい       ***
12430                            4001     ;       ***     起動時                  ***
12431                            4002     ;       ***********************************
12432                                     ***** BEGIN-POOL *****
12433 00001BC6 0000                       ALIGNMENT CODE
12434 00001BC8 00000000                   DATA FOR SOURCE-LINE 3991
12435 00001BCC 00000000                   DATA FOR SOURCE-LINE 3995
12436                                     ***** END-POOL *****
12437 00001BD0                   4003     _SFTY_MASK_END:
12438                            4004             SUB_START
12439 00001BD0 4F22                   M           STS.L   PR,@-R15                ;[必要]
12440                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12441 00001BD2 D104              4005             MOV.L   #_SW_DEV_MASK_FLG,R1    ;//BIT1=BIT0=0 安全装置無効  BIT1=BIT0=1 安全装置
                                          有効
12442 00001BD4 6011              4006             MOV.W   @R1,R0                  ;
12443 00001BD6 C803              4007             TST     #(BIT1+BIT0),R0         ;
12444                            4008             TST_BIT_ON SFTY_MASK_ED_100     ;
12445 00001BD8 8B08                   M           BF      SFTY_MASK_ED_100
12446                            4009             FAR_JSR #_SFTY_MASK_START,R0    ;
12447 00001BDA D003                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12448 00001BDC 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   118
PROGRAM NAME =

12449 00001BDE 0009                   M           NOP                                     ;
12450                            4010             M_BRA   SFTY_MASK_ED_200        ;
12451 00001BE0 A00B                   M           BRA     SFTY_MASK_ED_200
12452 00001BE2 0009                   M           NOP
12453                            4011     
12454                                     ***** BEGIN-POOL *****
12455 00001BE4 00000000                   DATA FOR SOURCE-LINE 4005
12456 00001BE8 00000000                   DATA FOR SOURCE-LINE 4009
12457                                     ***** END-POOL *****
12458 00001BEC                   4012     SFTY_MASK_ED_100:
12459 00001BEC D104              4013             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12460 00001BEE 6011              4014             MOV.W   @R1,R0                  ;
12461 00001BF0 C9FC              4015             AND     #LOW ~(BIT1+BIT0),R0    ;
12462 00001BF2 2101              4016             MOV.W   R0,@R1                  ;
12463                            4017             FAR_JSR #_FRCYCL_ON,R0          ;
12464 00001BF4 D003                   M           MOV.L   #_FRCYCL_ON,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12465 00001BF6 400B                   M           JSR     @R0                     ;
12466 00001BF8 0009                   M           NOP                                     ;
12467 00001BFA                   4018     SFTY_MASK_ED_200:
12468                            4019             SUB_END
12469                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12470 00001BFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12471                            4020             M_RTS
12472 00001BFC 000B                   M           RTS                             ;RTSの後ろの
12473 00001BFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12474                            4021     
12475                            4022     
12476                            4023     
12477                            4024     
12478                            4025     
12479                            4026     
12480                            4027     
12481                            4028     
12482                            4029     
12483                            4030     
12484                            4031     ;       *******************************************************************
12485                            4032     ;       ***                                                             ***
12486                            4033     ;       ***     2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]     ***
12487                            4034     ;       ***                                                             ***
12488                            4035     ;       *******************************************************************
12489                            4036     ;       ANS R0=0
12490                            4037     ;       ANS R0=-1 (上昇無効にしない)
12491                            4038     ;;_OPT_SFTY_MASK_CHK:
12492                            4039     ;;      SUB_START
12493                            4040     ;;      XOR     R2,R2                   ;
12494                            4041     ;;
12495                            4042     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
12496                            4043     ;;      MOV.W   @R1,R0                          ;
12497                            4044     ;;      TST     #_W1OPT,R0                      ;OPTION?
12498                            4045     ;;      TST_BIT_OF OPT_SFTY_MASKCHK_100         ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12499                            4046     ;;
12500                            4047     ;;      MOV.L   #_MODE_SEL,R1                   ;
12501                            4048     ;;      MOV.W   @R1,R0                          ;
12502                            4049     ;;      MOV.W   #BIT10,R1                       ;
12503                            4050     ;;      TST     R1,R0                           ;
12504                            4051     ;;      TST_BIT_ON OPT_SFTY_MASKCHK_100         ;ON:一行程
12505                            4052     ;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   119
PROGRAM NAME =

12506                            4053     ;;      ---ｵﾌﾟｼｮﾝの安全一行程--
12507                            4054     ;;      MOV.L   #_WPAR_SFYOPT_USEL,R1           ;
12508                            4055     ;;      MOV.W   @R1,R0                          ;
12509                            4056     ;;      CMP/EQ  #1,R0                           ;
12510                            4057     ;;      BF      OPT_SFTY_MASKCHK_100            ;
12511                            4058     ;;
12512                            4059     ;;      MOV.B   #-1,R2                          ;
12513                            4060     ;;
12514                            4061     ;;OPT_SFTY_MASKCHK_100:
12515                            4062     ;;      MOV     R2,R0
12516                            4063     ;;      SUB_END
12517                            4064     ;;      M_RTS
12518                            4065     
12519                            4066     ;       ***************************************************************************
12520                            4067     ;       ***                                                                     ***
12521                            4068     ;       ***     2012-09-25                                                      ***
12522                            4069     ;       ***     [ｵﾌﾟｼｮﾝの安全一行程はｼｽﾊﾟﾗの指示に従い上昇無効にする/しない]    ***
12523                            4070     ;       ***                                                                     ***
12524                            4071     ;       ***************************************************************************
12525                            4072     ;       ANS R0=0:上昇無効にする,-1:上昇無効にしない
12526                                     ***** BEGIN-POOL *****
12527 00001C00 00000000                   DATA FOR SOURCE-LINE 4013
12528 00001C04 00000000                   DATA FOR SOURCE-LINE 4017
12529                                     ***** END-POOL *****
12530 00001C08                   4073             .ALIGN  4                               ;
12531 00001C08                   4074     _OPT_SGL_SFTY_MASK_CHK:
12532                            4075             SUB_START
12533 00001C08 4F22                   M           STS.L   PR,@-R15                ;[必要]
12534                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12535 00001C0A 222A              4076             XOR     R2,R2                   ;
12536                            4077     
12537                            4078     ;       ======== 2013-02-20[SEQ349.9] ====
12538 00001C0C D10B              4079             MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12539 00001C0E 6011              4080             MOV.W   @R1,R0                          ;
12540 00001C10 8801              4081             CMP/EQ  #1,R0                           ;
12541 00001C12 8936              4082             BT      OPT_SGL_SFTY_MASKCHK_500        ;
12542                            4083     
12543                            4084     
12544 00001C14 D10A              4085             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
12545 00001C16 6011              4086             MOV.W   @R1,R0                          ;28.2
12546 00001C18 C804              4087             TST     #BIT2,R0                        ;
12547                            4088             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;
12548 00001C1A 8932                   M           BT      OPT_SGL_SFTY_MASKCHK_500
12549                            4089     
12550                            4090     
12551 00001C1C D109              4091             MOV.L   #_di1_cb_ctl1_dt,R1             ;
12552 00001C1E 6011              4092             MOV.W   @R1,R0                          ;
12553 00001C20 C810              4093             TST     #_W1OPT,R0                      ;OPTION?
12554                            4094             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_100     ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12555 00001C22 891D                   M           BT      OPT_SGL_SFTY_MASKCHK_100
12556                            4095     
12557 00001C24 D108              4096             MOV.L   #_MODE_SEL,R1                   ;
12558 00001C26 6011              4097             MOV.W   @R1,R0                          ;
12559 00001C28 9107              4098             MOV.W   #BIT10,R1                       ;
12560 00001C2A 2018              4099             TST     R1,R0                           ;
12561                            4100             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_080     ;ON:一行程　2012-09-25
12562 00001C2C 8B10                   M           BF      OPT_SGL_SFTY_MASKCHK_080
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   120
PROGRAM NAME =

12563                            4101     ;;;;;;  TST_BIT_ON OPT_SGL_SFTY_MASKCHK_100     ;ON:一行程
12564                            4102     
12565                            4103     ;       ---ｵﾌﾟｼｮﾝの安全一行程--
12566 00001C2E D107              4104             MOV.L   #_WPAR_SFYOPT_USEL,R1           ;PARAM66
12567 00001C30 6011              4105             MOV.W   @R1,R0                          ;
12568 00001C32 8801              4106             CMP/EQ  #1,R0                           ;
12569 00001C34 8925              4107             BT      OPT_SGL_SFTY_MASKCHK_500        ;1:上昇無効にしない
12570                            4108             M_BRA   OPT_SGL_SFTY_MASKCHK_400        ;0,2上昇無効にする
12571 00001C36 A021                   M           BRA     OPT_SGL_SFTY_MASKCHK_400
12572 00001C38 0009                   M           NOP
12573                            4109     
12574                            4110     ;       --------一行程[新ﾓｰﾄﾞでは上昇無効にしない]---
12575                                     ***** BEGIN-POOL *****
12576 00001C3A 0400                       DATA FOR SOURCE-LINE 4098
12577 00001C3C 00000000                   DATA FOR SOURCE-LINE 4079
12578 00001C40 00000000                   DATA FOR SOURCE-LINE 4085
12579 00001C44 00000000                   DATA FOR SOURCE-LINE 4091
12580 00001C48 00000000                   DATA FOR SOURCE-LINE 4096
12581 00001C4C 00000000                   DATA FOR SOURCE-LINE 4104
12582                                     ***** END-POOL *****
12583 00001C50                   4111     OPT_SGL_SFTY_MASKCHK_080:
12584                            4112     ;;;;2012-10-15  MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:参照する
12585                            4113     ;;;;2013-08-20  MOV.L   #_UPMSK2_MATH,R1                ;//0: 1:
12586                            4114     
12587 00001C50 D102              4115             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない[旧ﾓｰﾄﾞ] 1:参照する 2013-08
                                          -20
12588 00001C52 6011              4116             MOV.W   @R1,R0                          ;
12589 00001C54 2008              4117             TST     R0,R0                           ;
12590                            4118             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12591 00001C56 8911                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12592                            4119             M_BRA   OPT_SGL_SFTY_MASKCHK_500        ;
12593 00001C58 A013                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12594 00001C5A 0009                   M           NOP
12595                            4120     
12596                            4121     
12597                            4122     ;       ======== 通常の安全一行程の条件(GAMEN-SWは上昇無効有り)===
12598                                     ***** BEGIN-POOL *****
12599 00001C5C 00000000                   DATA FOR SOURCE-LINE 4115
12600                                     ***** END-POOL *****
12601 00001C60                   4123     OPT_SGL_SFTY_MASKCHK_100:
12602                            4124     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MATH,R1                ;//0:参照しない 1:
                                          参照する
12603                            4125     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12604                            4126     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12605                            4127     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12606                            4128     ;;;;;;;;;;;;;;2013-08-20
12607                            4129     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:
                                          参照する
12608                            4130     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12609                            4131     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12610                            4132     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;2012-10-15
12611                            4133     ;;;;;;;;;;;;;;2013-08-20
12612                            4134     ;;;;;;;;;;;;;;2013-08-20;;;;2012-10-15  TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までど
                                          おりする
12613                            4135     
12614                            4136     ;       ===2013-08-20 SWを使用しない場合は 旧動作(上昇無効にする)==
12615 00001C60 D104              4137             MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照しない 1:参照する
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   121
PROGRAM NAME =

12616 00001C62 6011              4138             MOV.W   @R1,R0                                  ;
12617 00001C64 2008              4139             TST     R0,R0                                   ;
12618                            4140             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400             ;今までどおりする
12619 00001C66 8909                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12620                            4141     
12621 00001C68 D103              4142             MOV.L   #_UPMAK2_MOD_USE_SW,R1                  ;
12622 00001C6A 6011              4143             MOV.W   @R1,R0                                  ;
12623 00001C6C 2008              4144             TST     R0,R0
12624                            4145             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_400             ;ON する
12625 00001C6E 8B05                   M           BF      OPT_SGL_SFTY_MASKCHK_400
12626                            4146             M_BRA   OPT_SGL_SFTY_MASKCHK_500                ;しない
12627 00001C70 A007                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12628 00001C72 0009                   M           NOP
12629                            4147     
12630                            4148     ;       ----------上昇無効にする----
12631                                     ***** BEGIN-POOL *****
12632 00001C74 00000000                   DATA FOR SOURCE-LINE 4137
12633 00001C78 00000000                   DATA FOR SOURCE-LINE 4142
12634                                     ***** END-POOL *****
12635 00001C7C                   4149     OPT_SGL_SFTY_MASKCHK_400:
12636 00001C7C 222A              4150             XOR     R2,R2
12637                            4151             M_BRA   OPT_SGL_SFTY_MASKCHK_END
12638 00001C7E A001                   M           BRA     OPT_SGL_SFTY_MASKCHK_END
12639 00001C80 0009                   M           NOP
12640                            4152     
12641                            4153     ;       ---------しない----
12642 00001C82                   4154     OPT_SGL_SFTY_MASKCHK_500:
12643 00001C82 E2FF              4155             MOV.B   #-1,R2                          ;
12644 00001C84                   4156     OPT_SGL_SFTY_MASKCHK_END:
12645 00001C84 6023              4157             MOV     R2,R0
12646                            4158     
12647                            4159             SUB_END
12648                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12649 00001C86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12650                            4160             M_RTS
12651 00001C88 000B                   M           RTS                             ;RTSの後ろの
12652 00001C8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12653                            4161     
12654                            4162     
12655                            4163     
12656                            4164     
12657                            4165     
12658                            4166     
12659                            4167     
12660                            4168     
12661                            4169     
12662                            4170     ;       ***********************************
12663                            4171     ;       ***     ロットカウント処理      ***
12664                            4172     ;       ***********************************
12665                            4173     ;
12666                            4174     ;
12667                            4175     ;       <待機点内->待機点外>
12668                            4176             .IMPORT _LOT_SIG_SET            ;
12669 00001C8C                   4177     _LOT_CNT_CNT:
12670                            4178             SUB_START
12671 00001C8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12672                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   122
PROGRAM NAME =

12673                            4179     
12674                            4180     ;       ====待機点復帰はロットカウンタをカウントしない S00ejの2回目===
12675 00001C8E D105              4181             MOV.L   #_MODE_SEL,R1           ;
12676 00001C90 6011              4182             MOV.W   @R1,R0                  ;
12677 00001C92 C860              4183             TST     #(_W1DUP+_W1DIC),R0     ;TST #_W1DUP 原点復帰と段取はｶｳﾝﾄしない 2003-07-01
12678                            4184             TST_BIT_ON LOT_CNTCNT_200       ;原点時はｶｳﾝﾄしない
12679 00001C94 8B2B                   M           BF      LOT_CNTCNT_200
12680                            4185     
12681 00001C96 D104              4186             MOV.L   #_LOT_CHK_FLG,R1        ;
12682 00001C98 6011              4187             MOV.W   @R1,R0                  ;
12683 00001C9A C911              4188             AND     #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12684 00001C9C 8811              4189             CMP/EQ  #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12685 00001C9E 8905              4190             BT      LOT_CNTCNT_050          ;下降領域に入った
12686                            4191             M_BRA   LOT_CNTCNT_200          ;
12687 00001CA0 A025                   M           BRA     LOT_CNTCNT_200
12688 00001CA2 0009                   M           NOP
12689                            4192     
12690                            4193     
12691                                     ***** BEGIN-POOL *****
12692 00001CA4 00000000                   DATA FOR SOURCE-LINE 4181
12693 00001CA8 00000000                   DATA FOR SOURCE-LINE 4186
12694                                     ***** END-POOL *****
12695 00001CAC                   4194     LOT_CNTCNT_050:
12696                            4195     
12697                            4196              .AIF   1 EQ 1  ;
12698                            4197 C   ;       -------- 2016-10-31 ADD 二重回路対策
12699                            4198              .AENDI
12700                            4199     ;       ---------- 2016-10-31(2016-07-16) ----------------
12701                            4200             .AIF    1 EQ    0       ;
12702                            4201             MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12703                            4202             .AELSE                                  ;
12704 00001CAC D103              4203 C           MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12705                            4204             .AENDI                                  ;
12706                            4205     
12707 00001CAE 6011              4206             MOV.W   @R1,R0                          ;
12708 00001CB0 C911              4207             AND     #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12709 00001CB2 8811              4208             CMP/EQ  #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12710 00001CB4 8904              4209             BT      LOT_CNTCNT_080                  ;下降領域に入った
12711                            4210             M_BRA   LOT_CNTCNT_200                  ;
12712 00001CB6 A01A                   M           BRA     LOT_CNTCNT_200
12713 00001CB8 0009                   M           NOP
12714                            4211     
12715                                     ***** BEGIN-POOL *****
12716 00001CBA 0000                       ALIGNMENT CODE
12717 00001CBC 00000000                   DATA FOR SOURCE-LINE 4203
12718                                     ***** END-POOL *****
12719 00001CC0                   4212     LOT_CNTCNT_080:                                 ;
12720                            4213     
12721                            4214     
12722                            4215     
12723 00001CC0 D10E              4216             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1() <===ﾓｰｼｮﾝ時
                                          のみ=1
12724 00001CC2 6011              4217             MOV.W   @R1,R0                  ;
12725 00001CC4 2008              4218             TST     R0,R0                   ;
12726                            4219             TST_BIT_ON LOT_CNTCNT_200       ;
12727 00001CC6 8B12                   M           BF      LOT_CNTCNT_200
12728                            4220     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   123
PROGRAM NAME =

12729                            4221             FAR_JSR #_UP_LOT_SIG_MAK,R0
12730 00001CC8 D00D                   M           MOV.L   #_UP_LOT_SIG_MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12731 00001CCA 400B                   M           JSR     @R0                     ;
12732 00001CCC 0009                   M           NOP                                     ;
12733                            4222     
12734 00001CCE 2008              4223             TST     R0,R0                   ;
12735                            4224             TST_BIT_OF LOT_CNTCNT_200       ;
12736 00001CD0 890D                   M           BT      LOT_CNTCNT_200
12737                            4225     
12738 00001CD2 D10A              4226             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
12739 00001CD4 6011              4227             MOV.W   @R1,R0                  ;
12740 00001CD6 CB01              4228             OR      #BIT0,R0                ;
12741 00001CD8 2101              4229             MOV.W   R0,@R1                  ;
12742                            4230     
12743                            4231     
12744                            4232     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
12745                            4233     ;;2016-10-31未使用      MOV.W   @R1,R0                  ;
12746                            4234     ;;2016-10-31未使用      OR      #BIT0,R0                ;
12747                            4235     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
12748                            4236     
12749                            4237     
12750                            4238     
12751                            4239             FAR_JSR #_LOT_SIG_SET,R0                                                ;
12752 00001CDA D00A                   M           MOV.L   #_LOT_SIG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12753 00001CDC 400B                   M           JSR     @R0                     ;
12754 00001CDE 0009                   M           NOP                                     ;
12755                            4240     
12756                            4241     ;       ===========ﾛｯﾄｶｳﾝﾀでの処理==================
12757 00001CE0 D109              4242             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
12758 00001CE2 6011              4243             MOV.W   @R1,R0                  ;
12759 00001CE4 2008              4244             TST     R0,R0
12760                            4245             TST_BIT_OF CONT_LOT_CHK050
12761 00001CE6 8901                   M           BT      CONT_LOT_CHK050
12762 00001CE8 70FF              4246             ADD     #-1,R0
12763 00001CEA 2101              4247             MOV.W   R0,@R1
12764 00001CEC                   4248     CONT_LOT_CHK050:
12765 00001CEC 0009              4249             NOP
12766                            4250     
12767                            4251     
12768 00001CEE                   4252     LOT_CNTCNT_200:
12769                            4253     
12770                            4254              .AIF   1 EQ 1  ;
12771                            4255 C   ;       -------- 2016-10-31 ADD 二重回路対策
12772                            4256              .AENDI
12773                            4257             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
12774 00001CEE D007                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12775 00001CF0 400B                   M           JSR     @R0                     ;
12776 00001CF2 0009                   M           NOP                                     ;
12777                            4258     
12778                            4259             SUB_END
12779                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12780 00001CF4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12781                            4260             M_RTS
12782 00001CF6 000B                   M           RTS                             ;RTSの後ろの
12783 00001CF8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12784                            4261     
12785                            4262     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   124
PROGRAM NAME =

12786                            4263              .AIF   1 EQ 1  ;
12787                            4264 C   ;       -------- 2016-10-31 ADD 二重回路対策
12788                            4265              .AENDI
12789                            4266     ;       ---------- 二重回路 2016-07-21---------
12790                                     ***** BEGIN-POOL *****
12791 00001CFA 0000                       ALIGNMENT CODE
12792 00001CFC 00000000                   DATA FOR SOURCE-LINE 4216,4226
12793 00001D00 00000000                   DATA FOR SOURCE-LINE 4221
12794 00001D04 00000000                   DATA FOR SOURCE-LINE 4239
12795 00001D08 00000000                   DATA FOR SOURCE-LINE 4242
12796 00001D0C 00000000                   DATA FOR SOURCE-LINE 4257
12797                                     ***** END-POOL *****
12798 00001D10                   4267     _CNT_MODE_CNT_SIG_OUT
12799                            4268             SUB_START
12800 00001D10 4F22                   M           STS.L   PR,@-R15                ;[必要]
12801                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12802                            4269     
12803                            4270     ;       ------2016-07-16
12804 00001D12 D107              4271             MOV.L   #_LOT_CHK_FLG,R1                ;
12805 00001D14 6011              4272             MOV.W   @R1,R0                          ;
12806                            4273             .AIF    1 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
12807                            4274             MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12808                            4275             .AELSE
12809 00001D16 D107              4276 C           MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12810                            4277             .AENDI                                  ;
12811 00001D18 2101              4278             MOV.W   R0,@R1                          ;
12812                            4279     
12813                            4280     
12814 00001D1A D107              4281             MOV.L   #_LOT_CNT_FLG,R1                ;
12815 00001D1C 6011              4282             MOV.W   @R1,R0                          ;
12816                            4283             .AIF    1 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
12817                            4284             MOV.L   #_CPUA_LOT_CNT_FLG,R1           ;2016-07-18CHECK
12818                            4285             .AELSE
12819 00001D1E D107              4286 C           MOV.L   #_CPUB_LOT_CNT_FLG,R1           ;2016-07-18CHECK
12820                            4287             .AENDI                                  ;
12821 00001D20 2101              4288             MOV.W   R0,@R1                          ;
12822                            4289     
12823                            4290     
12824 00001D22 D107              4291             MOV.L   #_CONT_MOD_CNT_PV,R1            ;
12825 00001D24 6011              4292             MOV.W   @R1,R0                          ;
12826                            4293             .AIF    1 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
12827                            4294             MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
12828                            4295             .AELSE
12829 00001D26 D107              4296 C           MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
12830                            4297             .AENDI                                  ;
12831 00001D28 2101              4298             MOV.W   R0,@R1                          ;
12832                            4299             SUB_END
12833                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12834 00001D2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12835                            4300             M_RTS
12836 00001D2C 000B                   M           RTS                             ;RTSの後ろの
12837 00001D2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12838                            4301     
12839                            4302     
12840                            4303     
12841                            4304             .EXPORT _LOT_SIG_FLG_CLR
12842                            4305     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   125
PROGRAM NAME =

12843                                     ***** BEGIN-POOL *****
12844 00001D30 00000000                   DATA FOR SOURCE-LINE 4271
12845 00001D34 00000000                   DATA FOR SOURCE-LINE 4276
12846 00001D38 00000000                   DATA FOR SOURCE-LINE 4281
12847 00001D3C 00000000                   DATA FOR SOURCE-LINE 4286
12848 00001D40 00000000                   DATA FOR SOURCE-LINE 4291
12849 00001D44 00000000                   DATA FOR SOURCE-LINE 4296
12850                                     ***** END-POOL *****
12851 00001D48                   4306     _LOT_SIG_FLG_CLR:
12852                            4307             SUB_START
12853 00001D48 4F22                   M           STS.L   PR,@-R15                ;[必要]
12854                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12855 00001D4A D105              4308             MOV.L   #_LOT_CHK_FLG,R1        ;
12856 00001D4C 6011              4309             MOV.W   @R1,R0                  ;
12857 00001D4E C9EE              4310             AND     #LOW ~(BIT4+BIT0),R0    ;
12858 00001D50 2101              4311             MOV.W   R0,@R1
12859                            4312     
12860 00001D52 D104              4313             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
12861 00001D54 200A              4314             XOR     R0,R0                   ;
12862 00001D56 2101              4315             MOV.W   R0,@R1                  ;
12863                            4316     
12864                            4317             SUB_END
12865                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12866 00001D58 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12867                            4318             M_RTS
12868 00001D5A 000B                   M           RTS                             ;RTSの後ろの
12869 00001D5C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12870                            4319     
12871                            4320     
12872                                     ***** BEGIN-POOL *****
12873 00001D5E 0000                       ALIGNMENT CODE
12874 00001D60 00000000                   DATA FOR SOURCE-LINE 4308
12875 00001D64 00000000                   DATA FOR SOURCE-LINE 4313
12876                                     ***** END-POOL *****
12877 00001D68                   4321     _UP_LOT_SIG_MAK:
12878                            4322             SUB_START
12879 00001D68 4F22                   M           STS.L   PR,@-R15                ;[必要]
12880                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12881 00001D6A D50A              4323             MOV.L   #_INT_POS_CTL_STEP,R5   ;
12882 00001D6C 6251              4324             MOV.W   @R5,R2                  ;
12883 00001D6E D40A              4325             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
12884 00001D70 6541              4326             MOV.W   @R4,R5                  ;
12885 00001D72 3252              4327             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
12886 00001D74 8B2E              4328             BF      CTRL_UP_LOT_CK_END      ;
12887                            4329     
12888                            4330     ;       == ﾁｪｯｸすべく工程より大きい====
12889                            4331     ;       ======== ﾁｪｯｸすべき工程だ =======
12890                            4332     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
12891                            4333     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
12892                            4334     
12893 00001D76 D409              4335             MOV.L   #_DNM_CTL_INC3600,R4    ;[2009-10-07下振子]
12894 00001D78 6241              4336             MOV.W   @R4,R2                  ;
12895                            4337     
12896 00001D7A D509              4338             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
12897 00001D7C 6151              4339             MOV.W   @R5,R1                  ;START
12898 00001D7E D509              4340             MOV.L   #_SETX_UPAREA_DIG,R5    ;
12899 00001D80 6351              4341             MOV.W   @R5,R3                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   126
PROGRAM NAME =

12900                            4342             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
12901 00001D82 D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12902 00001D84 400B                   M           JSR     @R0                     ;
12903 00001D86 0009                   M           NOP                                     ;
12904                            4343     
12905                            4344     
12906 00001D88 D108              4345             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12907 00001D8A 6011              4346             MOV.W   @R1,R0                                  ;
12908 00001D8C C808              4347             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12909                            4348             TST_BIT_OF CTRL_UP_LOT_CK_200                   ;
12910 00001D8E 890F                   M           BT      CTRL_UP_LOT_CK_200
12911                            4349             M_BRA   CTRL_UP_LOT_CK_END                      ;(作成未)
12912 00001D90 A020                   M           BRA     CTRL_UP_LOT_CK_END
12913 00001D92 0009                   M           NOP
12914                            4350     
12915                                     ***** BEGIN-POOL *****
12916 00001D94 00000000                   DATA FOR SOURCE-LINE 4323
12917 00001D98 00000000                   DATA FOR SOURCE-LINE 4325
12918 00001D9C 00000000                   DATA FOR SOURCE-LINE 4335
12919 00001DA0 00000000                   DATA FOR SOURCE-LINE 4338
12920 00001DA4 00000000                   DATA FOR SOURCE-LINE 4340
12921 00001DA8 00000000                   DATA FOR SOURCE-LINE 4342
12922 00001DAC 00000000                   DATA FOR SOURCE-LINE 4345
12923                                     ***** END-POOL *****
12924 00001DB0                   4351     CTRL_UP_LOT_CK_200:
12925 00001DB0 C804              4352             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12926                            4353             TST_BIT_OF CTRL_UP_LOT_CK_300                   ;
12927 00001DB2 8901                   M           BT      CTRL_UP_LOT_CK_300
12928                            4354             M_BRA   CTRL_UP_LOT_CK_400                      ;[2009-10-07下振子]
12929 00001DB4 A006                   M           BRA     CTRL_UP_LOT_CK_400
12930 00001DB6 0009                   M           NOP
12931                            4355     ;;[2009-10-07下振子]    M_BRA   CTRL_UP_LOT_CK_END      ;(作成未)
12932                            4356     
12933 00001DB8                   4357     CTRL_UP_LOT_CK_300:
12934 00001DB8 C802              4358             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12935                            4359             TST_BIT_OF CTRL_UP_LOT_CK_400                   ;
12936 00001DBA 8903                   M           BT      CTRL_UP_LOT_CK_400
12937                            4360     
12938                            4361     ;       ==== 反転R5=0,-1 ====
12939 00001DBC 4515              4362             CMP/PL  R5                                      ;
12940 00001DBE 8B05              4363             BF      CTRL_UP_LOT_CK_700                      ;成立
12941                            4364             M_BRA   CTRL_UP_LOT_CK_END                      ;
12942 00001DC0 A008                   M           BRA     CTRL_UP_LOT_CK_END
12943 00001DC2 0009                   M           NOP
12944                            4365     
12945                            4366     ;-----------回転-----------
12946 00001DC4                   4367     CTRL_UP_LOT_CK_400:
12947                            4368     ;       ==== 正転R5=0,1 ====
12948 00001DC4 4511              4369             CMP/PZ  R5
12949 00001DC6 8901              4370             BT      CTRL_UP_LOT_CK_700                      ;成立
12950                            4371             M_BRA   CTRL_UP_LOT_CK_END                      ;
12951 00001DC8 A004                   M           BRA     CTRL_UP_LOT_CK_END
12952 00001DCA 0009                   M           NOP
12953 00001DCC                   4372     CTRL_UP_LOT_CK_700:
12954 00001DCC E0FF              4373             MOV     #-1,R0                  ;
12955                            4374     
12956                            4375             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   127
PROGRAM NAME =

12957                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12958 00001DCE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12959                            4376             M_RTS
12960 00001DD0 000B                   M           RTS                             ;RTSの後ろの
12961 00001DD2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12962                            4377     
12963 00001DD4                   4378     CTRL_UP_LOT_CK_END:
12964 00001DD4 200A              4379             XOR     R0,R0
12965                            4380             SUB_END
12966                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12967 00001DD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12968                            4381             M_RTS
12969 00001DD8 000B                   M           RTS                             ;RTSの後ろの
12970 00001DDA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12971                            4382     
12972                            4383     
12973                            4384     
12974                            4385     ;       *******************************************
12975                            4386     ;       ***                                     ***
12976                            4387     ;       ***     クラッチ・ブレーキ起動処理      ***
12977                            4388     ;       ***                                     ***
12978                            4389     ;       *******************************************
12979 00001DDC                   4390     _CB_CTL_START_INI:
12980                            4391             SUB_START
12981 00001DDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12982                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12983                            4392     
12984                            4393     
12985                            4394              .AIF   1 EQ 1  ;
12986                            4395 C   ;       -------- 2016-10-31 ADD 二重回路対策
12987                            4396              .AENDI
12988                            4397             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-10-31(2016-07-22) 二重回路対策
12989 00001DDE D00D                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12990 00001DE0 400B                   M           JSR     @R0                     ;
12991 00001DE2 0009                   M           NOP                                     ;
12992                            4398     
12993                            4399     ;2016-10-31     XOR     R2,R2
12994                            4400     ;2016-10-31     XOR     R3,R3
12995                            4401     ;2016-10-31     MOV.L   #_MODE_SEL,R1                           ;
12996                            4402     ;2016-10-31     MOV.W   @R1,R0                                  ;
12997                            4403     ;2016-10-31     TST     #_W1CNT,R0                              ;
12998                            4404     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100
12999                            4405     ;2016-10-31
13000                            4406     ;2016-10-31;    **********************************
13001                            4407     ;2016-10-31;    ***     2004-01-26              **
13002                            4408     ;2016-10-31;    **********************************
13003                            4409     ;2016-10-31     MOV.W   #(BIT12+BIT11),R1       ;
13004                            4410     ;2016-10-31     TST     R1,R0                   ;OPTIONの連続寸動
13005                            4411     ;2016-10-31     TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
13006                            4412     ;2016-10-31
13007                            4413     ;2016-10-31     MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
13008                            4414     ;2016-10-31     MOV.W   @R1,R0                          ;.8=TIM .9=CNT
13009                            4415     ;2016-10-31     MOV.W   #BIT8,R4                        ;
13010                            4416     ;2016-10-31     TST     R4,R0                           ;
13011                            4417     ;2016-10-31     TST_BIT_OF CONT_MD_CHK050       ;
13012                            4418     ;2016-10-31     MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
13013                            4419     ;2016-10-31     MOV.L   @R1,R2                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   128
PROGRAM NAME =

13014                            4420     ;2016-10-31     M_BRA   CONT_MD_CHK100          ;
13015                            4421     ;2016-10-31CONT_MD_CHK050:
13016                            4422     ;2016-10-31
13017                            4423     ;2016-10-31     MOV.W   #BIT9,R4                        ;
13018                            4424     ;2016-10-31     TST     R4,R0                           ;
13019                            4425     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100       ;
13020                            4426     ;2016-10-31     MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
13021                            4427     ;2016-10-31     MOV.W   @R1,R3                  ;
13022                            4428     ;2016-10-31CONT_MD_CHK100:
13023                            4429     ;2016-10-31
13024                            4430     ;2016-10-31     MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
13025                            4431     ;2016-10-31     MOV.L   R2,@R1                  ;
13026                            4432     ;2016-10-31     MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
13027                            4433     ;2016-10-31     MOV.W   R3,@R1                  ;
13028                            4434     
13029                            4435     ;       ======ｻｲｸﾙ停止状態OFF==========================
13030 00001DE4 D50C              4436             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R5             ;
13031 00001DE6 6051              4437             MOV.W   @R5,R0                                  ;
13032 00001DE8 9412              4438             MOV.W   #LWORD ~(BIT7),R4                       ;
13033 00001DEA 2049              4439             AND     R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
                                          る
13034 00001DEC 2501              4440             MOV.W   R0,@R5                                  ;
13035                            4441     ;       ===============================================
13036                            4442     
13037                            4443     ;       ======= ｻｰﾎﾞ 2003-05-24 ====
13038 00001DEE D10B              4444             MOV.L   #_WPAR_INCSTP_EDYTM1,R1         ;停止遅延時間1=>ﾊﾟﾗﾒｰﾀﾜｰｸへ
13039 00001DF0 6011              4445             MOV.W   @R1,R0                          ;
13040 00001DF2 D10B              4446             MOV.L   #_WPAR_INCSTP_EDYTM,R1          ;
13041 00001DF4 2101              4447             MOV.W   R0,@R1                          ;
13042                            4448     
13043                            4449             FAR_JSR #_DRV_START_INI_NEW1,R0         ;2003-07-09
13044 00001DF6 D00B                   M           MOV.L   #_DRV_START_INI_NEW1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13045 00001DF8 400B                   M           JSR     @R0                     ;
13046 00001DFA 0009                   M           NOP                                     ;
13047                            4450     
13048                            4451     
13049                            4452             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
13050 00001DFC D10A                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
13051 00001DFE 6011                   M           MOV.W   @R1,R0          ;
13052 00001E00 C900                   M           AND     #LOW ~(H'FF),R0         ;
13053 00001E02 2101                   M           MOV.W   R0,@R1          ;
13054                            4453     
13055                            4454     ;       ----- 2007-03-02 ----
13056 00001E04 200A              4455             XOR     R0,R0
13057 00001E06 D109              4456             MOV.L   #_CMP_RECOVER_FLG,R1            ;(ﾃﾞﾊﾞｯｸ用)
13058 00001E08 2101              4457             MOV.W   R0,@R1                          ;
13059                            4458     
13060                            4459             SUB_END
13061                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13062 00001E0A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13063                            4460             M_RTS
13064 00001E0C 000B                   M           RTS                             ;RTSの後ろの
13065 00001E0E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13066                            4461     
13067                            4462     
13068                            4463     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   129
PROGRAM NAME =

13069                            4464     
13070                            4465     ;       *******************************************
13071                            4466     ;       ***                                     ***
13072                            4467     ;       ***     2016-10-31(2016-07-22)          ***
13073                            4468     ;       ***     二重回路対策                    ***
13074                            4469     ;       *******************************************
13075                            4470              .AIF   1 EQ 1  ;
13076                            4471 C   ;       -------- 2016-10-31 ADD 二重回路対策
13077                            4472              .AENDI
13078                            4473     ;
13079                                     ***** BEGIN-POOL *****
13080 00001E10 FF7F                       DATA FOR SOURCE-LINE 4438
13081 00001E12 0000                       ALIGNMENT CODE
13082 00001E14 00000000                   DATA FOR SOURCE-LINE 4397
13083 00001E18 00000000                   DATA FOR SOURCE-LINE 4436
13084 00001E1C 00000000                   DATA FOR SOURCE-LINE 4444
13085 00001E20 00000000                   DATA FOR SOURCE-LINE 4446
13086 00001E24 00000000                   DATA FOR SOURCE-LINE 4449
13087 00001E28 00000000                   DATA FOR SOURCE-LINE 4452
13088 00001E2C 00000000                   DATA FOR SOURCE-LINE 4456
13089                                     ***** END-POOL *****
13090 00001E30                   4474     _START_CNT_INFO_OUT
13091                            4475             SUB_START
13092 00001E30 4F22                   M           STS.L   PR,@-R15                ;[必要]
13093                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13094 00001E32 222A              4476             XOR     R2,R2
13095 00001E34 233A              4477             XOR     R3,R3
13096 00001E36 D109              4478             MOV.L   #_MODE_SEL,R1                           ;
13097 00001E38 6011              4479             MOV.W   @R1,R0                                  ;
13098 00001E3A C808              4480             TST     #_W1CNT,R0                              ;
13099                            4481             TST_BIT_OF CONT_MD_CHK100
13100 00001E3C 8919                   M           BT      CONT_MD_CHK100
13101                            4482     
13102                            4483     ;       **********************************
13103                            4484     ;       ***     2004-01-26              **
13104                            4485     ;       **********************************
13105 00001E3E 910A              4486             MOV.W   #(BIT12+BIT11),R1       ;
13106 00001E40 2018              4487             TST     R1,R0                   ;OPTIONの連続寸動
13107                            4488             TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
13108 00001E42 8B16                   M           BF      CONT_MD_CHK100
13109                            4489     
13110 00001E44 D106              4490             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
13111 00001E46 6011              4491             MOV.W   @R1,R0                          ;.8=TIM .9=CNT
13112 00001E48 9406              4492             MOV.W   #BIT8,R4                        ;
13113 00001E4A 2048              4493             TST     R4,R0                           ;
13114                            4494             TST_BIT_OF CONT_MD_CHK050       ;
13115 00001E4C 890C                   M           BT      CONT_MD_CHK050
13116 00001E4E D105              4495             MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
13117 00001E50 6212              4496             MOV.L   @R1,R2                  ;
13118                            4497             M_BRA   CONT_MD_CHK100          ;
13119 00001E52 A00E                   M           BRA     CONT_MD_CHK100
13120 00001E54 0009                   M           NOP
13121                                     ***** BEGIN-POOL *****
13122 00001E56 1800                       DATA FOR SOURCE-LINE 4486
13123 00001E58 0100                       DATA FOR SOURCE-LINE 4492
13124 00001E5A 0000                       ALIGNMENT CODE
13125 00001E5C 00000000                   DATA FOR SOURCE-LINE 4478
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   130
PROGRAM NAME =

13126 00001E60 00000000                   DATA FOR SOURCE-LINE 4490
13127 00001E64 00000000                   DATA FOR SOURCE-LINE 4495
13128                                     ***** END-POOL *****
13129 00001E68                   4498     CONT_MD_CHK050:
13130                            4499     
13131 00001E68 940D              4500             MOV.W   #BIT9,R4                        ;
13132 00001E6A 2048              4501             TST     R4,R0                           ;
13133                            4502             TST_BIT_OF CONT_MD_CHK100       ;
13134 00001E6C 8901                   M           BT      CONT_MD_CHK100
13135 00001E6E D106              4503             MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
13136 00001E70 6311              4504             MOV.W   @R1,R3                  ;
13137 00001E72                   4505     CONT_MD_CHK100:
13138                            4506     
13139 00001E72 D106              4507             MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
13140 00001E74 2122              4508             MOV.L   R2,@R1                  ;
13141 00001E76 D106              4509             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
13142 00001E78 2131              4510             MOV.W   R3,@R1                  ;
13143                            4511     
13144                            4512             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
13145 00001E7A D006                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13146 00001E7C 400B                   M           JSR     @R0                     ;
13147 00001E7E 0009                   M           NOP                                     ;
13148                            4513     
13149                            4514             SUB_END
13150                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13151 00001E80 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13152                            4515             M_RTS
13153 00001E82 000B                   M           RTS                             ;RTSの後ろの
13154 00001E84 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13155                            4516     
13156                            4517     ;       =====================================
13157                            4518     ;       ==== 2003-07-09に追加した起動ｸﾘｱ ====
13158                            4519     ;       =====================================
13159                                     ***** BEGIN-POOL *****
13160 00001E86 0200                       DATA FOR SOURCE-LINE 4500
13161 00001E88 00000000                   DATA FOR SOURCE-LINE 4503
13162 00001E8C 00000000                   DATA FOR SOURCE-LINE 4507
13163 00001E90 00000000                   DATA FOR SOURCE-LINE 4509
13164 00001E94 00000000                   DATA FOR SOURCE-LINE 4512
13165                                     ***** END-POOL *****
13166          00000002          4520     _EQ_CNT_DISP_STCNT      .EQU    2       ;
13167                            4521     
13168 00001E98                   4522     _DRV_START_INI_NEW1:
13169                            4523             SUB_START
13170 00001E98 4F22                   M           STS.L   PR,@-R15                ;[必要]
13171                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13172                            4524     ;       == 2003-07-09 ==
13173 00001E9A 200A              4525             XOR     R0,R0
13174 00001E9C D109              4526             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
13175 00001E9E 2101              4527             MOV.W   R0,@R1                          ;
13176                            4528     
13177 00001EA0 D109              4529             MOV.L   #_PAR_ORGDRV_CNT,R1             ;
13178 00001EA2 6011              4530             MOV.W   @R1,R0                          ;
13179 00001EA4 D109              4531             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13180 00001EA6 2101              4532             MOV.W   R0,@R1                          ;
13181                            4533     
13182                            4534     ;       ======== 連続======
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   131
PROGRAM NAME =

13183 00001EA8 D109              4535             MOV.L   #_MODE_SEL,R1                   ;
13184 00001EAA 6011              4536             MOV.W   @R1,R0                          ;
13185 00001EAC C808              4537             TST     #_W1CNT,R0                      ;
13186                            4538             TST_BIT_OF DRV_START_ININW1_050         ;
13187 00001EAE 8915                   M           BT      DRV_START_ININW1_050
13188                            4539     
13189 00001EB0 9006              4540             MOV.W   #_EQ_CNT_DISP_STCNT,R0          ;
13190 00001EB2 D108              4541             MOV.L   #_CYCL_DSP_CNT_PV,R1            ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13191 00001EB4 2101              4542             MOV.W   R0,@R1                          ;
13192                            4543     
13193 00001EB6 9004              4544             MOV.W   #BIT0,R0                        ;
13194 00001EB8 D107              4545             MOV.L   #_CYCL_DSP_DISENB,R1;//0:表示 1:非表示 => 反転して出力
13195 00001EBA 2101              4546             MOV.W   R0,@R1
13196                            4547             M_BRA   DRV_START_ININW1_100
13197 00001EBC A011                   M           BRA     DRV_START_ININW1_100
13198 00001EBE 0009                   M           NOP
13199                                     ***** BEGIN-POOL *****
13200 00001EC0 0002                       DATA FOR SOURCE-LINE 4540
13201 00001EC2 0001                       DATA FOR SOURCE-LINE 4544
13202 00001EC4 00000000                   DATA FOR SOURCE-LINE 4526
13203 00001EC8 00000000                   DATA FOR SOURCE-LINE 4529
13204 00001ECC 00000000                   DATA FOR SOURCE-LINE 4531
13205 00001ED0 00000000                   DATA FOR SOURCE-LINE 4535
13206 00001ED4 00000000                   DATA FOR SOURCE-LINE 4541
13207 00001ED8 00000000                   DATA FOR SOURCE-LINE 4545
13208                                     ***** END-POOL *****
13209 00001EDC                   4548     DRV_START_ININW1_050:
13210 00001EDC 200A              4549             XOR     R0,R0                           ;
13211 00001EDE D102              4550             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13212 00001EE0 2101              4551             MOV.W   R0,@R1
13213 00001EE2                   4552     DRV_START_ININW1_100:
13214                            4553             SUB_END
13215                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13216 00001EE2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13217                            4554             M_RTS
13218 00001EE4 000B                   M           RTS                             ;RTSの後ろの
13219 00001EE6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13220                            4555     
13221                            4556     ;       ===================================
13222                            4557     ;       ==== 2003-07-09連続SPM表示開始  ===
13223                            4558     ;       ===================================
13224                                     ***** BEGIN-POOL *****
13225 00001EE8 00000000                   DATA FOR SOURCE-LINE 4550
13226                                     ***** END-POOL *****
13227 00001EEC                   4559     _CNT_CYCL_DISP_ST:
13228                            4560             SUB_START
13229 00001EEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13230                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13231 00001EEE 200A              4561             XOR     R0,R0                           ;
13232 00001EF0 D102              4562             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13233 00001EF2 2101              4563             MOV.W   R0,@R1
13234                            4564             SUB_END
13235                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13236 00001EF4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13237                            4565             M_RTS
13238 00001EF6 000B                   M           RTS                             ;RTSの後ろの
13239 00001EF8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   132
PROGRAM NAME =

13240                            4566     ;       =====================================
13241                            4567     ;       ==== 2003-07-09連続SPM非表示条件  ===
13242                            4568     ;       =====================================
13243                                     ***** BEGIN-POOL *****
13244 00001EFA 0000                       ALIGNMENT CODE
13245 00001EFC 00000000                   DATA FOR SOURCE-LINE 4562
13246                                     ***** END-POOL *****
13247 00001F00                   4569     _CNT_SPM_DISP_CHK:
13248                            4570             SUB_START
13249 00001F00 4F22                   M           STS.L   PR,@-R15                ;[必要]
13250                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13251 00001F02 D107              4571             MOV.L   #_MODE_SEL,R1                   ;
13252 00001F04 6011              4572             MOV.W   @R1,R0                          ;
13253 00001F06 C808              4573             TST     #_W1CNT,R0                      ;
13254                            4574             TST_BIT_OF CNT_SPM_DSPCK050             ;
13255 00001F08 8906                   M           BT      CNT_SPM_DSPCK050
13256 00001F0A D106              4575             MOV.L   #_CYCL_DSP_CNT_PV,R1            ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13257 00001F0C 6011              4576             MOV.W   @R1,R0                          ;
13258 00001F0E 2008              4577             TST     R0,R0                           ;
13259                            4578             TST_BIT_OF CNT_SPM_DSPCK050             ;表示する
13260 00001F10 8902                   M           BT      CNT_SPM_DSPCK050
13261                            4579     
13262 00001F12 9004              4580             MOV.W   #BIT0,R0                        ;
13263 00001F14 D104              4581             MOV.L   #_CYCL_DSP_DISENB,R1            ;1:非表示 => 反転して出力
13264 00001F16 2101              4582             MOV.W   R0,@R1                          ;
13265                            4583     
13266 00001F18                   4584     CNT_SPM_DSPCK050:
13267                            4585     
13268                            4586             SUB_END
13269                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13270 00001F18 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13271                            4587             M_RTS
13272 00001F1A 000B                   M           RTS                             ;RTSの後ろの
13273 00001F1C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13274                            4588     
13275                            4589     
13276                            4590     
13277                            4591     ;       ***********************************
13278                            4592     ;       ***                             ***
13279                            4593     ;       ***     終了処理の二重回路対策  ***
13280                            4594     ;       ***                             ***
13281                            4595     ;       ***********************************
13282                            4596     ;自分のやるべき事が終わったらこのチェックを行う
13283                            4597     ;       Output  R0=FF:終了
13284                            4598     ;               R0=0 :WAIT
13285                            4599     ;       "この処理が終わり上位でフラグをクリアする事"
13286                            4600     ;
13287                            4601     ;
13288                            4602             .EXPORT _CMPAB_NEAR_END_PROC    ;
13289                            4603             .EXPORT _CMPAB_STEP_END_PROC    ;
13290                            4604     
13291                            4605             .EXPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
13292                            4606             .EXPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
13293                            4607             .EXPORT _CMPSTP_POS_START_CLR;//起動したい
13294                            4608             .EXPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13295                            4609             .EXPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
13296                            4610             .EXPORT _CMPSTP_CNT_STOP_CLR;//連続停止
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   133
PROGRAM NAME =

13297                            4611             .EXPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
13298                            4612             .EXPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
13299                            4613             .EXPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
13300                            4614     
13301                            4615             .EXPORT _CMPEMG_EXQ_FLG_CLR;//
13302                            4616             .EXPORT _POS_CMP_1STEP_START_INI
13303                            4617     
13304                                     ***** BEGIN-POOL *****
13305 00001F1E 0001                       DATA FOR SOURCE-LINE 4580
13306 00001F20 00000000                   DATA FOR SOURCE-LINE 4571
13307 00001F24 00000000                   DATA FOR SOURCE-LINE 4575
13308 00001F28 00000000                   DATA FOR SOURCE-LINE 4581
13309                                     ***** END-POOL *****
13310 00001F2C                   4618     _CMPAB_NEAR_END_PROC
13311                            4619             SUB_START
13312 00001F2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13313                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13314                            4620             PUSH_REG1 R5
13315 00001F2E 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13316                                 M                                           ;REG=>[SP]
13317                                 M                                           ;"-4" FF,FF,FF,FC
13318 00001F30 D505              4621             MOV.L   #_CMPSTEP_NEAR_ZERO,R5          ;//ﾆｱｾﾞﾛ処理を行いたい
13319 00001F32 6051              4622             MOV.W   @R5,R0                          ;
13320 00001F34 2008              4623             TST     R0,R0                           ;
13321                            4624             TST_BIT_ON CMPAB_NEAR_END_PC_100        ;
13322 00001F36 8B0B                   M           BF      CMPAB_NEAR_END_PC_100
13323 00001F38 E001              4625             MOV     #BIT0,R0                        ;
13324 00001F3A 2501              4626             MOV.W   R0,@R5                          ;START FLG ON bit0
13325                            4627             FAR_JSR #_CPU_AB_NZR_ON_OUT,R0          ;R0,R1 USED
13326 00001F3C D003                   M           MOV.L   #_CPU_AB_NZR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13327 00001F3E 400B                   M           JSR     @R0                     ;
13328 00001F40 0009                   M           NOP                                     ;
13329                            4628             M_BRA   CMPAB_NEAR_END_PC_NG            ;
13330 00001F42 A029                   M           BRA     CMPAB_NEAR_END_PC_NG
13331 00001F44 0009                   M           NOP
13332                            4629     
13333                            4630     ;       ===== 処理開始 =========
13334                                     ***** BEGIN-POOL *****
13335 00001F46 0000                       ALIGNMENT CODE
13336 00001F48 00000000                   DATA FOR SOURCE-LINE 4621
13337 00001F4C 00000000                   DATA FOR SOURCE-LINE 4627
13338                                     ***** END-POOL *****
13339 00001F50                   4631     CMPAB_NEAR_END_PC_100:
13340 00001F50 6051              4632             MOV.W   @R5,R0                          ;
13341 00001F52 C802              4633             TST     #BIT1,R0                        ;
13342                            4634             TST_BIT_ON CMPAB_NEAR_END_PC_200        ;
13343 00001F54 8B10                   M           BF      CMPAB_NEAR_END_PC_200
13344                            4635             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;R0 !=0 END
13345 00001F56 D006                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13346 00001F58 400B                   M           JSR     @R0                     ;
13347 00001F5A 0009                   M           NOP                                     ;
13348 00001F5C 2008              4636             TST     R0,R0                           ;
13349                            4637             TST_BIT_OF CMPAB_NEAR_END_PC_NG         ;CPU-Bまだ処理中
13350 00001F5E 891B                   M           BT      CMPAB_NEAR_END_PC_NG
13351 00001F60 6051              4638             MOV.W   @R5,R0                          ;
13352 00001F62 CB02              4639             OR      #BIT1,R0                        ;
13353 00001F64 2501              4640             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   134
PROGRAM NAME =

13354                            4641             FAR_JSR #_CPU_BA_NZR_OF_OUT,R0          ;CPU-B信号ｸﾘｱ
13355 00001F66 D003                   M           MOV.L   #_CPU_BA_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13356 00001F68 400B                   M           JSR     @R0                     ;
13357 00001F6A 0009                   M           NOP                                     ;
13358                            4642             M_BRA   CMPAB_NEAR_END_PC_NG            ;
13359 00001F6C A014                   M           BRA     CMPAB_NEAR_END_PC_NG
13360 00001F6E 0009                   M           NOP
13361                            4643     
13362                                     ***** BEGIN-POOL *****
13363 00001F70 00000000                   DATA FOR SOURCE-LINE 4635
13364 00001F74 00000000                   DATA FOR SOURCE-LINE 4641
13365                                     ***** END-POOL *****
13366 00001F78                   4644     CMPAB_NEAR_END_PC_200:
13367 00001F78 6051              4645             MOV.W   @R5,R0                          ;
13368 00001F7A C804              4646             TST     #BIT2,R0                        ;(完了状態)
13369                            4647             TST_BIT_ON CMPAB_NEAR_END_PC_OK         ;
13370 00001F7C 8B07                   M           BF      CMPAB_NEAR_END_PC_OK
13371                            4648     
13372                            4649             FAR_JSR #_CPU_AB_NZR_OF_JG,R0           ;R0=0;完了
13373 00001F7E D005                   M           MOV.L   #_CPU_AB_NZR_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13374 00001F80 400B                   M           JSR     @R0                     ;
13375 00001F82 0009                   M           NOP                                     ;
13376 00001F84 2008              4650             TST     R0,R0                           ;
13377                            4651             TST_BIT_ON CMPAB_NEAR_END_PC_NG         ;自分の信号がｸﾘｱされていない
13378 00001F86 8B07                   M           BF      CMPAB_NEAR_END_PC_NG
13379 00001F88 6051              4652             MOV.W   @R5,R0                          ;
13380 00001F8A CB04              4653             OR      #BIT2,R0                        ;
13381 00001F8C 2501              4654             MOV.W   R0,@R5                          ;
13382 00001F8E                   4655     CMPAB_NEAR_END_PC_OK:
13383 00001F8E E0FF              4656             MOV     #-1,R0                          ;
13384                            4657             M_BRA   CMPAB_NEAR_END_PC_ED            ;
13385 00001F90 A003                   M           BRA     CMPAB_NEAR_END_PC_ED
13386 00001F92 0009                   M           NOP
13387                            4658     
13388                                     ***** BEGIN-POOL *****
13389 00001F94 00000000                   DATA FOR SOURCE-LINE 4649
13390                                     ***** END-POOL *****
13391 00001F98                   4659     CMPAB_NEAR_END_PC_NG:
13392 00001F98 200A              4660             XOR     R0,R0                   ;
13393 00001F9A                   4661     CMPAB_NEAR_END_PC_ED:
13394                            4662             POP_REG1 R5                     ;
13395                                 M                                   ; RE"+4" 00,00,00,04
13396 00001F9A 65F6                   M           MOV.L   @R15+,R5        ;
13397                            4663             SUB_END
13398                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13399 00001F9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13400                            4664             M_RTS
13401 00001F9E 000B                   M           RTS                             ;RTSの後ろの
13402 00001FA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13403                            4665     
13404                            4666     
13405                            4667             .MACRO  CMPAB_STEP_END_MAC FLG,ABON_OUT,BAON_JG,BAOF_OUT,ABOF_JG
13406                            4668             PUSH_REG1 R5
13407                            4669             MOV.L   #\FLG,R5                        ;//ﾆｱｾﾞﾛ処理を行いたい
13408                            4670             MOV.W   @R5,R0                          ;
13409                            4671             TST     R0,R0                           ;
13410                            4672             TST_BIT_ON JMP100\@                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   135
PROGRAM NAME =

13411                            4673             MOV     #BIT0,R0                        ;
13412                            4674             MOV.W   R0,@R5                          ;START FLG ON bit0
13413                            4675             FAR_JSR #\ABON_OUT,R0                   ;R0,R1 USED
13414                            4676             M_BRA   JMP_NG\@                        ;
13415                            4677     
13416                            4678     ;       ===== 処理開始 =========
13417                            4679     JMP100\@:
13418                            4680             MOV.W   @R5,R0                          ;
13419                            4681             TST     #BIT1,R0                        ;
13420                            4682             TST_BIT_ON JMP200\@                     ;
13421                            4683     
13422                            4684             FAR_JSR #\BAON_JG,R0                    ;R0 !=0 END
13423                            4685             TST     R0,R0                           ;
13424                            4686             TST_BIT_OF JMP_NG\@                     ;CPU-Bまだ処理中
13425                            4687             MOV.W   @R5,R0                          ;
13426                            4688             OR      #BIT1,R0                        ;
13427                            4689             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13428                            4690             FAR_JSR #\BAOF_OUT,R0                   ;CPU-B信号ｸﾘｱ
13429                            4691             M_BRA   JMP_NG\@
13430                            4692     
13431                            4693     JMP200\@:
13432                            4694             MOV.W   @R5,R0                          ;
13433                            4695             TST     #BIT2,R0                        ;(完了状態)
13434                            4696             TST_BIT_ON JMP_OK\@                     ;
13435                            4697     
13436                            4698             FAR_JSR #\ABOF_JG,R0            ;R0=0;完了
13437                            4699             TST     R0,R0                           ;
13438                            4700             TST_BIT_ON JMP_NG\@             ;自分の信号がｸﾘｱされていない
13439                            4701             MOV.W   @R5,R0                          ;
13440                            4702             OR      #BIT2,R0                        ;
13441                            4703             MOV.W   R0,@R5                          ;
13442                            4704     JMP_OK\@:
13443                            4705             MOV     #-1,R0                          ;
13444                            4706             M_BRA   JMP_ED\@
13445                            4707     
13446                            4708     JMP_NG\@:
13447                            4709             XOR     R0,R0                   ;
13448                            4710     JMP_ED\@:
13449                            4711             POP_REG1 R5                     ;
13450                            4712             .ENDM
13451                            4713     
13452                            4714     
13453 00001FA2                   4715     _CMPAB_STEP_END_PROC
13454                            4716             SUB_START
13455 00001FA2 4F22                   M           STS.L   PR,@-R15                ;[必要]
13456                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13457                            4717             CMPAB_STEP_END_MAC FLG=         _CMPSTEP_STEP_END
13458                            4718     +                       ,ABON_OUT=      _CPU_AB_CED_ON_OUT
13459                            4719     +                       ,BAON_JG=       _CPU_BA_CED_ON_JG
13460                            4720     +                       ,BAOF_OUT=      _CPU_BA_CED_OF_OUT
13461                            4721     +                       ,ABOF_JG=       _CPU_AB_CED_OF_JG
13462                                 M           PUSH_REG1 R5
13463 00001FA4 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13464                                 M                                           ;REG=>[SP]
13465                                 M                                           ;"-4" FF,FF,FF,FC
13466 00001FA6 D505                   M           MOV.L   #_CMPSTEP_STEP_END,R5                   ;//ﾆｱｾﾞﾛ処理を行いたい
13467 00001FA8 6051                   M           MOV.W   @R5,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   136
PROGRAM NAME =

13468 00001FAA 2008                   M           TST     R0,R0                           ;
13469                                 M           TST_BIT_ON JMP10000000                  ;
13470 00001FAC 8B0A                   M           BF      JMP10000000
13471 00001FAE E001                   M           MOV     #BIT0,R0                        ;
13472 00001FB0 2501                   M           MOV.W   R0,@R5                          ;START FLG ON bit0
13473                                 M           FAR_JSR #_CPU_AB_CED_ON_OUT,R0                  ;R0,R1 USED
13474 00001FB2 D003                   M           MOV.L   #_CPU_AB_CED_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13475 00001FB4 400B                   M           JSR     @R0                     ;
13476 00001FB6 0009                   M           NOP                                     ;
13477                                 M           M_BRA   JMP_NG00000                     ;
13478 00001FB8 A028                   M           BRA     JMP_NG00000
13479 00001FBA 0009                   M           NOP
13480                                 M   
13481                                 M   ;       ===== 処理開始 =========
13482                                 M   ***** BEGIN-POOL *****
13483 00001FBC 00000000               M   DATA FOR SOURCE-LINE 4717
13484 00001FC0 00000000               M   DATA FOR SOURCE-LINE 4717
13485                                 M   ***** END-POOL *****
13486 00001FC4                        M   JMP10000000:
13487 00001FC4 6051                   M           MOV.W   @R5,R0                          ;
13488 00001FC6 C802                   M           TST     #BIT1,R0                        ;
13489                                 M           TST_BIT_ON JMP20000000                  ;
13490 00001FC8 8B10                   M           BF      JMP20000000
13491                                 M   
13492                                 M           FAR_JSR #_CPU_BA_CED_ON_JG,R0                   ;R0 !=0 END
13493 00001FCA D006                   M           MOV.L   #_CPU_BA_CED_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13494 00001FCC 400B                   M           JSR     @R0                     ;
13495 00001FCE 0009                   M           NOP                                     ;
13496 00001FD0 2008                   M           TST     R0,R0                           ;
13497                                 M           TST_BIT_OF JMP_NG00000                  ;CPU-Bまだ処理中
13498 00001FD2 891B                   M           BT      JMP_NG00000
13499 00001FD4 6051                   M           MOV.W   @R5,R0                          ;
13500 00001FD6 CB02                   M           OR      #BIT1,R0                        ;
13501 00001FD8 2501                   M           MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13502                                 M           FAR_JSR #_CPU_BA_CED_OF_OUT,R0                  ;CPU-B信号ｸﾘｱ
13503 00001FDA D003                   M           MOV.L   #_CPU_BA_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13504 00001FDC 400B                   M           JSR     @R0                     ;
13505 00001FDE 0009                   M           NOP                                     ;
13506                                 M           M_BRA   JMP_NG00000
13507 00001FE0 A014                   M           BRA     JMP_NG00000
13508 00001FE2 0009                   M           NOP
13509                                 M   
13510                                 M   ***** BEGIN-POOL *****
13511 00001FE4 00000000               M   DATA FOR SOURCE-LINE 4717
13512 00001FE8 00000000               M   DATA FOR SOURCE-LINE 4717
13513                                 M   ***** END-POOL *****
13514 00001FEC                        M   JMP20000000:
13515 00001FEC 6051                   M           MOV.W   @R5,R0                          ;
13516 00001FEE C804                   M           TST     #BIT2,R0                        ;(完了状態)
13517                                 M           TST_BIT_ON JMP_OK00000                  ;
13518 00001FF0 8B07                   M           BF      JMP_OK00000
13519                                 M   
13520                                 M           FAR_JSR #_CPU_AB_CED_OF_JG,R0           ;R0=0;完了
13521 00001FF2 D005                   M           MOV.L   #_CPU_AB_CED_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13522 00001FF4 400B                   M           JSR     @R0                     ;
13523 00001FF6 0009                   M           NOP                                     ;
13524 00001FF8 2008                   M           TST     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   137
PROGRAM NAME =

13525                                 M           TST_BIT_ON JMP_NG00000          ;自分の信号がｸﾘｱされていない
13526 00001FFA 8B07                   M           BF      JMP_NG00000
13527 00001FFC 6051                   M           MOV.W   @R5,R0                          ;
13528 00001FFE CB04                   M           OR      #BIT2,R0                        ;
13529 00002000 2501                   M           MOV.W   R0,@R5                          ;
13530 00002002                        M   JMP_OK00000:
13531 00002002 E0FF                   M           MOV     #-1,R0                          ;
13532                                 M           M_BRA   JMP_ED00000
13533 00002004 A003                   M           BRA     JMP_ED00000
13534 00002006 0009                   M           NOP
13535                                 M   
13536                                 M   ***** BEGIN-POOL *****
13537 00002008 00000000               M   DATA FOR SOURCE-LINE 4717
13538                                 M   ***** END-POOL *****
13539 0000200C                        M   JMP_NG00000:
13540 0000200C 200A                   M           XOR     R0,R0                   ;
13541 0000200E                        M   JMP_ED00000:
13542                                 M           POP_REG1 R5                     ;
13543                                 M                                   ; RE"+4" 00,00,00,04
13544 0000200E 65F6                   M           MOV.L   @R15+,R5        ;
13545                            4722             SUB_END
13546                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13547 00002010 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13548                            4723             M_RTS
13549 00002012 000B                   M           RTS                             ;RTSの後ろの
13550 00002014 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13551                            4724     
13552                            4725     
13553                            4726     ;
13554                            4727     ;
13555                            4728     ;
13556 00002016                   4729     _CMPSTP_CTRL_REDY_CLR:;//準備完了にしたいをOFF
13557                            4730             SUB_START
13558 00002016 4F22                   M           STS.L   PR,@-R15                ;[必要]
13559                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13560                            4731             FAR_JSR #_CPU_AB_RDY_OF_OUT,R0
13561 00002018 D004                   M           MOV.L   #_CPU_AB_RDY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13562 0000201A 400B                   M           JSR     @R0                     ;
13563 0000201C 0009                   M           NOP                                     ;
13564 0000201E D104              4732             MOV.L   #_CMPSTEP_CTRL_REDY,R1;//準備完了にしたくない<<完了・未完了は共通で1:完了
                                          0:>>
13565 00002020 200A              4733             XOR     R0,R0
13566 00002022 2101              4734             MOV.W   R0,@R1
13567                            4735             SUB_END
13568                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13569 00002024 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13570                            4736             M_RTS
13571 00002026 000B                   M           RTS                             ;RTSの後ろの
13572 00002028 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13573                            4737     
13574                                     ***** BEGIN-POOL *****
13575 0000202A 0000                       ALIGNMENT CODE
13576 0000202C 00000000                   DATA FOR SOURCE-LINE 4731
13577 00002030 00000000                   DATA FOR SOURCE-LINE 4732
13578                                     ***** END-POOL *****
13579 00002034                   4738     _CMPSTP_CTRL_BUSY_CLR:;//準備未完了にしたいをOFF
13580                            4739             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   138
PROGRAM NAME =

13581 00002034 4F22                   M           STS.L   PR,@-R15                ;[必要]
13582                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13583                            4740             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0
13584 00002036 D004                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13585 00002038 400B                   M           JSR     @R0                     ;
13586 0000203A 0009                   M           NOP                                     ;
13587 0000203C D103              4741             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたくない
13588 0000203E 200A              4742             XOR     R0,R0
13589 00002040 2101              4743             MOV.W   R0,@R1
13590                            4744             SUB_END
13591                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13592 00002042 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13593                            4745             M_RTS
13594 00002044 000B                   M           RTS                             ;RTSの後ろの
13595 00002046 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13596                            4746     
13597                                     ***** BEGIN-POOL *****
13598 00002048 00000000                   DATA FOR SOURCE-LINE 4740
13599 0000204C 00000000                   DATA FOR SOURCE-LINE 4741
13600                                     ***** END-POOL *****
13601 00002050                   4747     _CMPSTP_POS_START_CLR:;//起動したいをOFF
13602                            4748             SUB_START
13603 00002050 4F22                   M           STS.L   PR,@-R15                ;[必要]
13604                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13605                            4749             FAR_JSR #_CPU_AB_STR_OF_OUT,R0
13606 00002052 D004                   M           MOV.L   #_CPU_AB_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13607 00002054 400B                   M           JSR     @R0                     ;
13608 00002056 0009                   M           NOP                                     ;
13609 00002058 D103              4750             MOV.L   #_CMPSTEP_POS_START,R1;//起動したいくない
13610 0000205A 200A              4751             XOR     R0,R0
13611 0000205C 2101              4752             MOV.W   R0,@R1
13612                            4753             SUB_END
13613                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13614 0000205E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13615                            4754             M_RTS
13616 00002060 000B                   M           RTS                             ;RTSの後ろの
13617 00002062 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13618                            4755     
13619                                     ***** BEGIN-POOL *****
13620 00002064 00000000                   DATA FOR SOURCE-LINE 4749
13621 00002068 00000000                   DATA FOR SOURCE-LINE 4750
13622                                     ***** END-POOL *****
13623 0000206C                   4756     _CMPSTP_SFTY_AUTO_CLR:;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13624                            4757             SUB_START
13625 0000206C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13626                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13627                            4758     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
13628                            4759             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
13629 0000206E D006                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13630 00002070 400B                   M           JSR     @R0                     ;
13631 00002072 0009                   M           NOP                                     ;
13632                            4760             FAR_JSR #_CPU_BA_DRVSTOP_OF_OUT,R0      ;相手側CLR
13633 00002074 D005                   M           MOV.L   #_CPU_BA_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13634 00002076 400B                   M           JSR     @R0                     ;
13635 00002078 0009                   M           NOP                                     ;
13636                            4761     
13637 0000207A D105              4762             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   139
PROGRAM NAME =

13638 0000207C 200A              4763             XOR     R0,R0
13639 0000207E 2101              4764             MOV.W   R0,@R1
13640                            4765             SUB_END
13641                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13642 00002080 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13643                            4766             M_RTS
13644 00002082 000B                   M           RTS                             ;RTSの後ろの
13645 00002084 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13646                            4767     
13647                                     ***** BEGIN-POOL *****
13648 00002086 0000                       ALIGNMENT CODE
13649 00002088 00000000                   DATA FOR SOURCE-LINE 4759
13650 0000208C 00000000                   DATA FOR SOURCE-LINE 4760
13651 00002090 00000000                   DATA FOR SOURCE-LINE 4762
13652                                     ***** END-POOL *****
13653 00002094                   4768     _CMPSTP_NEAR_ZERO_CLR:;//ﾆｱｾﾞﾛ処理を行いたい
13654                            4769             SUB_START
13655 00002094 4F22                   M           STS.L   PR,@-R15                ;[必要]
13656                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13657                            4770             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0
13658 00002096 D004                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13659 00002098 400B                   M           JSR     @R0                     ;
13660 0000209A 0009                   M           NOP                                     ;
13661 0000209C D103              4771             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
13662 0000209E 200A              4772             XOR     R0,R0
13663 000020A0 2101              4773             MOV.W   R0,@R1
13664                            4774             SUB_END
13665                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13666 000020A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13667                            4775             M_RTS
13668 000020A4 000B                   M           RTS                             ;RTSの後ろの
13669 000020A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13670                            4776     
13671                                     ***** BEGIN-POOL *****
13672 000020A8 00000000                   DATA FOR SOURCE-LINE 4770
13673 000020AC 00000000                   DATA FOR SOURCE-LINE 4771
13674                                     ***** END-POOL *****
13675 000020B0                   4777     _CMPSTP_CNT_STOP_CLR:;//連続停止
13676                            4778             SUB_START
13677 000020B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
13678                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13679                            4779             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
13680 000020B2 D006                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13681 000020B4 400B                   M           JSR     @R0                     ;
13682 000020B6 0009                   M           NOP                                     ;
13683                            4780             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
13684 000020B8 D005                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13685 000020BA 400B                   M           JSR     @R0                     ;
13686 000020BC 0009                   M           NOP                                     ;
13687 000020BE D105              4781             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
13688 000020C0 200A              4782             XOR     R0,R0
13689 000020C2 2101              4783             MOV.W   R0,@R1
13690                            4784             SUB_END
13691                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13692 000020C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13693                            4785             M_RTS
13694 000020C6 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   140
PROGRAM NAME =

13695 000020C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13696                            4786     
13697                                     ***** BEGIN-POOL *****
13698 000020CA 0000                       ALIGNMENT CODE
13699 000020CC 00000000                   DATA FOR SOURCE-LINE 4779
13700 000020D0 00000000                   DATA FOR SOURCE-LINE 4780
13701 000020D4 00000000                   DATA FOR SOURCE-LINE 4781
13702                                     ***** END-POOL *****
13703 000020D8                   4787     _CMPSTP_STEP_END_CLR:;//位置決め完了としたい
13704                            4788             SUB_START
13705 000020D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
13706                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13707                            4789             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
13708 000020DA D004                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13709 000020DC 400B                   M           JSR     @R0                     ;
13710 000020DE 0009                   M           NOP                                     ;
13711 000020E0 D103              4790             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
13712 000020E2 200A              4791             XOR     R0,R0
13713 000020E4 2101              4792             MOV.W   R0,@R1
13714                            4793             SUB_END
13715                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13716 000020E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13717                            4794             M_RTS
13718 000020E8 000B                   M           RTS                             ;RTSの後ろの
13719 000020EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13720                            4795     
13721                            4796     ;       ***************************
13722                            4797     ;       ***     EMG/EXQ         ***
13723                            4798     ;       ***************************
13724                                     ***** BEGIN-POOL *****
13725 000020EC 00000000                   DATA FOR SOURCE-LINE 4789
13726 000020F0 00000000                   DATA FOR SOURCE-LINE 4790
13727                                     ***** END-POOL *****
13728 000020F4                   4799     _CMPEMG_EXQ_FLG_CLR:
13729                            4800             SUB_START
13730 000020F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
13731                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13732                            4801             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
13733 000020F6 D014                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13734 000020F8 400B                   M           JSR     @R0                     ;
13735 000020FA 0009                   M           NOP                                     ;
13736                            4802             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
13737 000020FC D013                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13738 000020FE 400B                   M           JSR     @R0                     ;
13739 00002100 0009                   M           NOP                                     ;
13740                            4803     
13741                            4804             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0  ;
13742 00002102 D013                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13743 00002104 400B                   M           JSR     @R0                     ;
13744 00002106 0009                   M           NOP                                     ;
13745                            4805     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
13746                            4806             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
13747 00002108 D012                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13748 0000210A 400B                   M           JSR     @R0                     ;
13749 0000210C 0009                   M           NOP                                     ;
13750                            4807     
13751                            4808             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   141
PROGRAM NAME =

13752 0000210E D012                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13753 00002110 400B                   M           JSR     @R0                     ;
13754 00002112 0009                   M           NOP                                     ;
13755                            4809             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
13756 00002114 D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13757 00002116 400B                   M           JSR     @R0                     ;
13758 00002118 0009                   M           NOP                                     ;
13759                            4810             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
13760 0000211A D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13761 0000211C 400B                   M           JSR     @R0                     ;
13762 0000211E 0009                   M           NOP                                     ;
13763                            4811             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
13764 00002120 D010                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13765 00002122 400B                   M           JSR     @R0                     ;
13766 00002124 0009                   M           NOP                                     ;
13767                            4812     
13768 00002126 200A              4813             XOR     R0,R0
13769 00002128 D10F              4814             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたい
13770 0000212A 2101              4815             MOV.W   R0,@R1
13771 0000212C D10F              4816             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13772 0000212E 2101              4817             MOV.W   R0,@R1
13773 00002130 D10F              4818             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
13774 00002132 2101              4819             MOV.W   R0,@R1
13775 00002134 D10F              4820             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
13776 00002136 2101              4821             MOV.W   R0,@R1
13777 00002138 D10F              4822             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
13778 0000213A 2101              4823             MOV.W   R0,@R1
13779                            4824     
13780                            4825     ;       == 2004-12-20 ==
13781 0000213C D10F              4826             MOV.L   #_CNT_BANK_CALC_ERR,R1
13782 0000213E 2101              4827             MOV.W   R0,@R1
13783                            4828     
13784                            4829     
13785                            4830             SUB_END
13786                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13787 00002140 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13788                            4831             M_RTS
13789 00002142 000B                   M           RTS                             ;RTSの後ろの
13790 00002144 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13791                            4832     
13792                            4833     ;       ***************************
13793                            4834     ;       ***     開始時          ***
13794                            4835     ;       ***     START           ***
13795                            4836     ;       ***************************
13796                                     ***** BEGIN-POOL *****
13797 00002146 0000                       ALIGNMENT CODE
13798 00002148 00000000                   DATA FOR SOURCE-LINE 4801
13799 0000214C 00000000                   DATA FOR SOURCE-LINE 4802
13800 00002150 00000000                   DATA FOR SOURCE-LINE 4804
13801 00002154 00000000                   DATA FOR SOURCE-LINE 4806
13802 00002158 00000000                   DATA FOR SOURCE-LINE 4808
13803 0000215C 00000000                   DATA FOR SOURCE-LINE 4809
13804 00002160 00000000                   DATA FOR SOURCE-LINE 4810
13805 00002164 00000000                   DATA FOR SOURCE-LINE 4811
13806 00002168 00000000                   DATA FOR SOURCE-LINE 4814
13807 0000216C 00000000                   DATA FOR SOURCE-LINE 4816
13808 00002170 00000000                   DATA FOR SOURCE-LINE 4818
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   142
PROGRAM NAME =

13809 00002174 00000000                   DATA FOR SOURCE-LINE 4820
13810 00002178 00000000                   DATA FOR SOURCE-LINE 4822
13811 0000217C 00000000                   DATA FOR SOURCE-LINE 4826
13812                                     ***** END-POOL *****
13813 00002180                   4837     _CMPCYC_START_CLR:
13814                            4838             SUB_START
13815 00002180 4F22                   M           STS.L   PR,@-R15                ;[必要]
13816                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13817                            4839             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
13818 00002182 D004                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13819 00002184 400B                   M           JSR     @R0                     ;
13820 00002186 0009                   M           NOP                                     ;
13821                            4840             FAR_JSR #_CMPSTP_SFTY_AUTO_CLR,R0;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13822 00002188 D003                   M           MOV.L   #_CMPSTP_SFTY_AUTO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13823 0000218A 400B                   M           JSR     @R0                     ;
13824 0000218C 0009                   M           NOP                                     ;
13825                            4841             SUB_END
13826                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13827 0000218E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13828                            4842             M_RTS
13829 00002190 000B                   M           RTS                             ;RTSの後ろの
13830 00002192 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13831                            4843     
13832                            4844     ;       ***********************************
13833                            4845     ;       ***     終了前                  ***
13834                            4846     ;       ***     起動に必要な信号の準備  ***
13835                            4847     ;       ***********************************
13836                                     ***** BEGIN-POOL *****
13837 00002194 00000000                   DATA FOR SOURCE-LINE 4839
13838 00002198 00000000                   DATA FOR SOURCE-LINE 4840
13839                                     ***** END-POOL *****
13840 0000219C                   4848     _CMPCYC_END_CLR:
13841                            4849             SUB_START
13842 0000219C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13843                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13844                            4850             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたい
13845 0000219E D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13846 000021A0 400B                   M           JSR     @R0                     ;
13847 000021A2 0009                   M           NOP                                     ;
13848                            4851             FAR_JSR #_CMPSTP_CTRL_BUSY_CLR,R0;//準備未完了にしたい
13849 000021A4 D005                   M           MOV.L   #_CMPSTP_CTRL_BUSY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13850 000021A6 400B                   M           JSR     @R0                     ;
13851 000021A8 0009                   M           NOP                                     ;
13852                            4852             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したい
13853 000021AA D005                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13854 000021AC 400B                   M           JSR     @R0                     ;
13855 000021AE 0009                   M           NOP                                     ;
13856                            4853             SUB_END
13857                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13858 000021B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13859                            4854             M_RTS
13860 000021B2 000B                   M           RTS                             ;RTSの後ろの
13861 000021B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13862                            4855     
13863                            4856     ;       ***********************************
13864                            4857     ;       ***                             ***
13865                            4858     ;       ***     1つのｽﾃｯﾌﾟの起動時      ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   143
PROGRAM NAME =

13866                            4859     ;       ***                             ***
13867                            4860     ;       ***********************************
13868                                     ***** BEGIN-POOL *****
13869 000021B6 0000                       ALIGNMENT CODE
13870 000021B8 00000000                   DATA FOR SOURCE-LINE 4850
13871 000021BC 00000000                   DATA FOR SOURCE-LINE 4851
13872 000021C0 00000000                   DATA FOR SOURCE-LINE 4852
13873                                     ***** END-POOL *****
13874 000021C4                   4861     _POS_CMP_1STEP_START_INI:
13875                            4862             SUB_START
13876 000021C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
13877                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13878                            4863             FAR_JSR #_CMPSTP_STEP_END_CLR,R0;//位置決め完了としたい
13879 000021C6 D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13880 000021C8 400B                   M           JSR     @R0                     ;
13881 000021CA 0009                   M           NOP                                     ;
13882                            4864             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾆｱｾﾞﾛ処理を行いたい
13883 000021CC D00A                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13884 000021CE 400B                   M           JSR     @R0                     ;
13885 000021D0 0009                   M           NOP                                     ;
13886                            4865             FAR_JSR #_FUL_DATA_INIT,R0                      ;
13887 000021D2 D00A                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13888 000021D4 400B                   M           JSR     @R0                     ;
13889 000021D6 0009                   M           NOP                                     ;
13890 000021D8 200A              4866             XOR     R0,R0                                   ;
13891 000021DA D109              4867             MOV.L   #_NEAR_IN_FLG,R1                        ;
13892 000021DC 2101              4868             MOV.W   R0,@R1                                  ;
13893                            4869     
13894                            4870             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
13895 000021DE D009                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13896 000021E0 400B                   M           JSR     @R0                     ;
13897 000021E2 0009                   M           NOP                                     ;
13898                            4871     
13899                            4872     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
13900                            4873             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
13901 000021E4 D108                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
13902 000021E6 6011                   M           MOV.W   @R1,R0          ;
13903 000021E8 C9FE                   M           AND     #LOW ~BIT0,R0           ;
13904 000021EA 2101                   M           MOV.W   R0,@R1          ;
13905                            4874     
13906                            4875     
13907                            4876             SUB_END
13908                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13909 000021EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13910                            4877             M_RTS
13911 000021EE 000B                   M           RTS                             ;RTSの後ろの
13912 000021F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13913                            4878     
13914                            4879     ;       ***********************************
13915                            4880     ;       **      ステップ表示            ***
13916                            4881     ;       ***********************************
13917                            4882     ;       ５段仕様は段数によらず最終工程は６行程目＋BIT15
13918                            4883     ;       10段仕様は段数によらず最終工程は１１行程目＋BIT15
13919                            4884     ;
13920                            4885     ;
13921                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   144
PROGRAM NAME =

13922 000021F2 0000                       ALIGNMENT CODE
13923 000021F4 00000000                   DATA FOR SOURCE-LINE 4863
13924 000021F8 00000000                   DATA FOR SOURCE-LINE 4864
13925 000021FC 00000000                   DATA FOR SOURCE-LINE 4865
13926 00002200 00000000                   DATA FOR SOURCE-LINE 4867
13927 00002204 00000000                   DATA FOR SOURCE-LINE 4870
13928 00002208 00000000                   DATA FOR SOURCE-LINE 4873
13929                                     ***** END-POOL *****
13930 0000220C                   4886     _STEP_SIG_DSP_CLR;
13931                            4887             SUB_START
13932 0000220C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13933                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13934 0000220E 244A              4888             XOR     R4,R4
13935                            4889             M_BRA   STEP_SIG_DSP200
13936 00002210 A022                   M           BRA     STEP_SIG_DSP200
13937 00002212 0009                   M           NOP
13938                            4890     
13939 00002214                   4891     _STEP_SIG_DISP;
13940                            4892             SUB_START
13941 00002214 4F22                   M           STS.L   PR,@-R15                ;[必要]
13942                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13943                            4893     
13944 00002216 D109              4894             MOV.L   #_INT_POS_CTL_STEP,R1   ;1~5,6
13945 00002218 6011              4895             MOV.W   @R1,R0                  ;
13946 0000221A D109              4896             MOV.L   #_CPOS_STEP_MAX,R1      ;
13947 0000221C 6411              4897             MOV.W   @R1,R4                  ;
13948 0000221E 7401              4898             ADD     #1,R4                   ;
13949 00002220 3042              4899             CMP/HS  R4,R0                   ;
13950 00002222 8B15              4900             BF      STEP_SIG_DSP100         ;
13951                            4901     
13952                            4902     ;       ==== 最終工程==
13953 00002224 D107              4903             MOV.L   #_WFSYS_MAX_STEP_SEL,R1 ;2004-01-26
13954 00002226 6011              4904             MOV.W   @R1,R0                  ;
13955 00002228 8801              4905             CMP/EQ  #1,R0                   ;
13956 0000222A 8B0D              4906             BF      STEP_SIG_DSP050         ;
13957                            4907     
13958 0000222C 9004              4908             MOV.W   #_EQ_STEP_MAX+1,R0      ;1~5の時は2~6
13959 0000222E 3406              4909             CMP/HI  R0,R4                   ;5+1 < MAX+1
13960 00002230 8B0A              4910             BF      STEP_SIG_DSP050         ;NO MAX=1~5
13961                            4911     
13962 00002232 9402              4912             MOV.W   #(BIT15+BIT10),R4       ;"*"はBIT10
13963                            4913             M_BRA   STEP_SIG_DSP200         ;
13964 00002234 A010                   M           BRA     STEP_SIG_DSP200
13965 00002236 0009                   M           NOP
13966                            4914     
13967                                     ***** BEGIN-POOL *****
13968 00002238 0006                       DATA FOR SOURCE-LINE 4908
13969 0000223A 8400                       DATA FOR SOURCE-LINE 4912
13970 0000223C 00000000                   DATA FOR SOURCE-LINE 4894
13971 00002240 00000000                   DATA FOR SOURCE-LINE 4896
13972 00002244 00000000                   DATA FOR SOURCE-LINE 4903
13973                                     ***** END-POOL *****
13974 00002248                   4915     STEP_SIG_DSP050:
13975 00002248 9401              4916             MOV.W   #(BIT15+BIT5),R4        ;"*"はBIT5
13976                            4917             M_BRA   STEP_SIG_DSP200         ;
13977 0000224A A005                   M           BRA     STEP_SIG_DSP200
13978 0000224C 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   145
PROGRAM NAME =

13979                            4918     
13980                                     ***** BEGIN-POOL *****
13981 0000224E 8020                       DATA FOR SOURCE-LINE 4916
13982                                     ***** END-POOL *****
13983 00002250                   4919     STEP_SIG_DSP100:
13984 00002250 D107              4920             MOV.L   #_LONG_BIT_TBL0,R1              ;
13985 00002252 4008              4921             SHLL2   R0                              ;data=1 BIT0
13986 00002254 301C              4922             ADD     R1,R0                           ;
13987 00002256 6402              4923             MOV.L   @R0,R4                          ;
13988 00002258                   4924     STEP_SIG_DSP200:
13989                            4925     
13990                            4926     ;       ---------2014-09-22 追加BIT13--------------
13991 00002258 D106              4927             MOV.L   #_MOT_REP_F,R1                  ;//BIT0(ﾘﾋﾟｰﾄ動作
13992 0000225A 6011              4928             MOV.W   @R1,R0                          ;
13993 0000225C C801              4929             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ中
13994                            4930             TST_BIT_OF STEP_SIG_DSP300              ;
13995 0000225E 8901                   M           BT      STEP_SIG_DSP300
13996 00002260 9005              4931             MOV.W   #BIT13,R0                       ;
13997 00002262 240B              4932             OR      R0,R4                           ;
13998 00002264                   4933     STEP_SIG_DSP300:                                ;
13999                            4934     
14000                            4935     
14001 00002264 D504              4936             MOV.L   #_SQ_CBWK_TOP+_WKSQCB210,R5     ;
14002 00002266 2541              4937             MOV.W   R4,@R5                          ;
14003                            4938     
14004                            4939     
14005                            4940             SUB_END
14006                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14007 00002268 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14008                            4941             M_RTS
14009 0000226A 000B                   M           RTS                             ;RTSの後ろの
14010 0000226C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14011                            4942     
14012                            4943     
14013                            4944     ;       ***********************************
14014                            4945     ;       ***                             ***
14015                            4946     ;       ***     運転開始                ***
14016                            4947     ;       ***                             ***
14017                            4948     ;       ***********************************
14018                                     ***** BEGIN-POOL *****
14019 0000226E 2000                       DATA FOR SOURCE-LINE 4931
14020 00002270 00000000                   DATA FOR SOURCE-LINE 4920
14021 00002274 00000000                   DATA FOR SOURCE-LINE 4927
14022 00002278 00000000                   DATA FOR SOURCE-LINE 4936
14023                                     ***** END-POOL *****
14024 0000227C                   4949     _STOPPING_TIM_MOV_INI:
14025                            4950             SUB_START
14026 0000227C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14027                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14028 0000227E D104              4951             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14029 00002280 200A              4952             XOR     R0,R0                   ;動作開始
14030 00002282 2101              4953             MOV.W   R0,@R1                  ;
14031                            4954     
14032                            4955     
14033                            4956     ;       ==== 2012-03-06====
14034                            4957             FAR_JSR #_BRKTMCAL_API1_STR,R0          ;JUMP力がないため
14035 00002284 D003                   M           MOV.L   #_BRKTMCAL_API1_STR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   146
PROGRAM NAME =

14036 00002286 400B                   M           JSR     @R0                     ;
14037 00002288 0009                   M           NOP                                     ;
14038                            4958     
14039                            4959             SUB_END
14040                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14041 0000228A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14042                            4960             M_RTS
14043 0000228C 000B                   M           RTS                             ;RTSの後ろの
14044 0000228E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14045                            4961     
14046                            4962     ;       ***********************************
14047                            4963     ;       ***                             ***
14048                            4964     ;       ***     停止条件成立(測定開始)  ***
14049                            4965     ;       ***                             ***
14050                            4966     ;       ***********************************
14051                            4967     
14052                                     ***** BEGIN-POOL *****
14053 00002290 00000000                   DATA FOR SOURCE-LINE 4951
14054 00002294 00000000                   DATA FOR SOURCE-LINE 4957
14055                                     ***** END-POOL *****
14056 00002298                   4968     _STOPPING_TIM_STOP_INI:
14057                            4969             SUB_START
14058 00002298 4F22                   M           STS.L   PR,@-R15                ;[必要]
14059                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14060 0000229A D114              4970             MOV.L   #_STOPPING_TIM_FLG,R1           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停
                                          止中
14061 0000229C 6011              4971             MOV.W   @R1,R0                          ;
14062 0000229E C841              4972             TST     #(BIT6+BIT0),R0                 ;
14063                            4973             TST_BIT_ON STOPPING_TIM_STOPINI_100     ;動作開始?/停止後の停止?
14064 000022A0 8B1E                   M           BF      STOPPING_TIM_STOPINI_100
14065                            4974     
14066                            4975     ;;2010-08-20    MOV.W   #_SYS_STOPPING_TIM,R2
14067 000022A2 D113              4976             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14068 000022A4 6211              4977             MOV.W   @R1,R2                          ;
14069                            4978     
14070 000022A6 D113              4979             MOV.L   #_STOPPING_STOP_TIM,R1  ;//停止を測定するタイマ
14071 000022A8 2121              4980             MOV.W   R2,@R1                  ;
14072                            4981     
14073 000022AA D413              4982             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;RL_OBJ->PV 200609
                                          19
14074 000022AC 6146              4983             MOV.L   @R4+,R1                                                 ;
14075 000022AE 6242              4984             MOV.L   @R4,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14076 000022B0 D412              4985             MOV.L   #_STOPPING_VLVOFF_POS,R4;//停止処理開始時点の位置
14077 000022B2 2412              4986             MOV.L   R1,@R4                  ;
14078 000022B4 1421              4987             MOV.L   R2,@(4,R4)              ;
14079                            4988     
14080 000022B6 D412              4989             MOV.L   #_STOPPING_STOP_POS,R4  ;//停止処理測定位置
14081 000022B8 2412              4990             MOV.L   R1,@R4                  ;
14082 000022BA 1421              4991             MOV.L   R2,@(4,R4)              ;
14083                            4992     
14084 000022BC D10B              4993             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14085 000022BE 9012              4994             MOV.W   #BIT0,R0                ;
14086 000022C0 2101              4995             MOV.W   R0,@R1
14087                            4996     
14088 000022C2 200A              4997             XOR     R0,R0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   147
PROGRAM NAME =

14089 000022C4 D10F              4998             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14090 000022C6 2101              4999             MOV.W   R0,@R1                  ;
14091 000022C8 D10F              5000             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14092 000022CA 2101              5001             MOV.W   R0,@R1                  ;
14093                            5002     
14094                            5003     ;       ==== 2003-07-09 ========
14095 000022CC D10F              5004             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14096 000022CE 900B              5005             MOV.W   #BIT4,R0                ;
14097 000022D0 2101              5006             MOV.W   R0,@R1                  ;BIT4:起動有り ELSE = 0
14098                            5007     
14099                            5008     
14100                            5009     ;       --2009-07-17 add[不具合対策 ﾌﾞﾚｰｷ角度ｵｰﾊﾞ3]---
14101                            5010             FAR_JSR #_LINK_CLANK_DIG_MAK,R0 ;2009-07-17
14102 000022D2 D00F                   M           MOV.L   #_LINK_CLANK_DIG_MAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14103 000022D4 400B                   M           JSR     @R0                     ;
14104 000022D6 0009                   M           NOP                                     ;
14105                            5011     
14106 000022D8 D10E              5012             MOV.L   #_LINK_CLANK_PV,R1      ;//0.1度
14107 000022DA 6011              5013             MOV.W   @R1,R0                  ;
14108 000022DC D10E              5014             MOV.L   #_VALV_OFF_DIG_CLANK,R1 ;
14109 000022DE 2101              5015             MOV.W   R0,@R1                  ;
14110                            5016     
14111                            5017     ;       =========================
14112                            5018     
14113 000022E0                   5019     STOPPING_TIM_STOPINI_100:
14114                            5020     
14115                            5021             SUB_END
14116                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14117 000022E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14118                            5022             M_RTS
14119 000022E2 000B                   M           RTS                             ;RTSの後ろの
14120 000022E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14121                            5023     
14122                            5024     ;       ***********************************
14123                            5025     ;       ***                             ***
14124                            5026     ;       ***     (測定中)                ***
14125                            5027     ;       ***                             ***
14126                            5028     ;       ***********************************
14127                            5029     
14128                                     ***** BEGIN-POOL *****
14129 000022E6 0001                       DATA FOR SOURCE-LINE 4994
14130 000022E8 0010                       DATA FOR SOURCE-LINE 5005
14131 000022EA 0000                       ALIGNMENT CODE
14132 000022EC 00000000                   DATA FOR SOURCE-LINE 4970,4993
14133 000022F0 00000000                   DATA FOR SOURCE-LINE 4976
14134 000022F4 00000000                   DATA FOR SOURCE-LINE 4979
14135 000022F8 00000000                   DATA FOR SOURCE-LINE 4982
14136 000022FC 00000000                   DATA FOR SOURCE-LINE 4985
14137 00002300 00000000                   DATA FOR SOURCE-LINE 4989
14138 00002304 00000000                   DATA FOR SOURCE-LINE 4998
14139 00002308 00000000                   DATA FOR SOURCE-LINE 5000
14140 0000230C 00000000                   DATA FOR SOURCE-LINE 5004
14141 00002310 00000000                   DATA FOR SOURCE-LINE 5010
14142 00002314 00000000                   DATA FOR SOURCE-LINE 5012
14143 00002318 00000000                   DATA FOR SOURCE-LINE 5014
14144                                     ***** END-POOL *****
14145 0000231C                   5030     _STOPPING_TIM_CHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   148
PROGRAM NAME =

14146                            5031             SUB_START
14147 0000231C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14148                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14149                            5032     
14150 0000231E D104              5033             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14151 00002320 9004              5034             MOV.W   #BIT0,R0                ;
14152 00002322 6011              5035             MOV.W   @R1,R0                  ;
14153 00002324 C840              5036             TST     #BIT6,R0                ;測定完了?
14154                            5037             TST_BIT_OF STOPPING_TIM_CK050   ;
14155 00002326 8905                   M           BT      STOPPING_TIM_CK050
14156                            5038             M_BRA   STOPPING_TIM_CK900      ;完了
14157 00002328 A065                   M           BRA     STOPPING_TIM_CK900
14158 0000232A 0009                   M           NOP
14159                            5039     
14160                                     ***** BEGIN-POOL *****
14161 0000232C 0001                       DATA FOR SOURCE-LINE 5034
14162 0000232E 0000                       ALIGNMENT CODE
14163 00002330 00000000                   DATA FOR SOURCE-LINE 5033
14164                                     ***** END-POOL *****
14165 00002334                   5040     STOPPING_TIM_CK050:                                                     ;
14166 00002334 C801              5041             TST     #BIT0,R0
14167                            5042             TST_BIT_ON STOPPING_TIM_CK080   ;
14168 00002336 8B01                   M           BF      STOPPING_TIM_CK080
14169                            5043             M_BRA   STOPPING_TIM_CK900      ;未
14170 00002338 A05D                   M           BRA     STOPPING_TIM_CK900
14171 0000233A 0009                   M           NOP
14172 0000233C                   5044     STOPPING_TIM_CK080
14173                            5045     
14174                            5046     
14175 0000233C D114              5047             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14176 0000233E 6211              5048             MOV.W   @R1,R2                  ;
14177 00002340 7201              5049             ADD     #1,R2                   ;
14178 00002342 2121              5050             MOV.W   R2,@R1                  ;
14179                            5051     
14180 00002344 D013              5052             MOV.L   #_LINK_PV_ABSPLS,R0                     ;RL_OBJ->PV20060919
14181 00002346 6106              5053             MOV.L   @R0+,R1                                                 ;
14182 00002348 6202              5054             MOV.L   @R0,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14183                            5055     
14184 0000234A D013              5056             MOV.L   #_STOPPING_VLVOFF_POS,R0                ;//停止処理開始時点の位置
14185 0000234C 6306              5057             MOV.L   @R0+,R3                                 ;
14186 0000234E 6402              5058             MOV.L   @R0,R4                                  ;
14187                            5059     
14188 00002350 D012              5060             MOV.L   #_STOPPING_STOP_POS,R0                  ;
14189 00002352 6502              5061             MOV.L   @R0,R5                                  ;
14190 00002354 2012              5062             MOV.L   R1,@R0                                  ;
14191 00002356 5601              5063             MOV.L   @(4,R0),R6                              ;
14192 00002358 1021              5064             MOV.L   R2,@(4,R0)                              ;
14193                            5065     
14194                            5066             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R3,DT_ANS_REGL=R4       ;ﾊﾞﾙﾌﾞOFF開始−今
                                          回
14195 0000235A 0008                   M           CLRT
14196 0000235C 342A                   M           SUBC    R2,R4
14197 0000235E 331A                   M           SUBC    R1,R3
14198                            5067             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;前回−今回
14199 00002360 0008                   M           CLRT
14200 00002362 362A                   M           SUBC    R2,R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   149
PROGRAM NAME =

14201 00002364 351A                   M           SUBC    R1,R5
14202                            5068     
14203                            5069     
14204                            5070     ;ﾊﾞﾙﾌﾞOFF位置+/-10ﾊﾟﾙｽの範囲では停止中と判断する[2011-08-29]
14205 00002366 6043              5071             MOV     R4,R0                                   ;
14206 00002368 4011              5072             CMP/PZ  R0                                      ;
14207 0000236A 8900              5073             BT      STOPPING_TIM_CK100                      ;
14208 0000236C 600B              5074             NEG     R0,R0                                   ;
14209 0000236E                   5075     STOPPING_TIM_CK100:                                     ;
14210 0000236E 910D              5076             MOV.W   #D'10,R1                                ;
14211 00002370 3102              5077             CMP/HS  R0,R1                                   ;
14212 00002372 8903              5078             BT      STOPPING_TIM_CK120                      ;
14213                            5079     ;       -------------------------------------------------------
14214                            5080     
14215                            5081     
14216 00002374 6063              5082             MOV     R6,R0                   ;
14217 00002376 205B              5083             OR      R5,R0                   ;
14218 00002378 2008              5084             TST     R0,R0                   ;
14219                            5085             TST_BIT_ON STOPPING_TIM_CK400   ;
14220 0000237A 8B27                   M           BF      STOPPING_TIM_CK400
14221 0000237C                   5086     STOPPING_TIM_CK120:
14222                            5087     ;       ===== 停止状態() =====
14223 0000237C D408              5088             MOV.L   #_STOPPING_STOP_TIM,R4                                  ;//停止を測定する
                                          タイマ
14224 0000237E 6041              5089             MOV.W   @R4,R0                                                  ;
14225 00002380 2008              5090             TST     R0,R0                                                   ;
14226                            5091             TST_BIT_OF STOPPING_TIM_CK200                                   ;
14227 00002382 890F                   M           BT      STOPPING_TIM_CK200
14228 00002384 70FF              5092             ADD     #-1,R0                                                  ;
14229 00002386 2401              5093             MOV.W   R0,@R4                                                  ;
14230                            5094             M_BRA   STOPPING_TIM_CK900                                      ;
14231 00002388 A035                   M           BRA     STOPPING_TIM_CK900
14232 0000238A 0009                   M           NOP
14233                            5095     ;       ====== ﾀｲﾑｱｯﾌﾟ停止=======
14234                                     ***** BEGIN-POOL *****
14235 0000238C 000A                       DATA FOR SOURCE-LINE 5076
14236 0000238E 0000                       ALIGNMENT CODE
14237 00002390 00000000                   DATA FOR SOURCE-LINE 5047
14238 00002394 00000000                   DATA FOR SOURCE-LINE 5052
14239 00002398 00000000                   DATA FOR SOURCE-LINE 5056
14240 0000239C 00000000                   DATA FOR SOURCE-LINE 5060
14241 000023A0 00000000                   DATA FOR SOURCE-LINE 5088
14242                                     ***** END-POOL *****
14243 000023A4                   5096     STOPPING_TIM_CK200:
14244 000023A4 D106              5097             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14245 000023A6 6211              5098             MOV.W   @R1,R2                  ;
14246                            5099     
14247                            5100     ;;;2010-08-20   MOV.W   #_SYS_STOPPING_TIM,R4   ;
14248 000023A8 D106              5101             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14249 000023AA 6411              5102             MOV.W   @R1,R4                          ;
14250                            5103     
14251 000023AC 3248              5104             SUB     R4,R2                   ;
14252 000023AE 4211              5105             CMP/PZ  R2                      ;
14253 000023B0 8900              5106             BT      STOPPING_TIM_CK250      ;
14254 000023B2 222A              5107             XOR     R2,R2                   ;
14255 000023B4                   5108     STOPPING_TIM_CK250:                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   150
PROGRAM NAME =

14256                            5109     
14257                            5110             FAR_JSR #_BRKTMCAL_API3_ENDCNF1,R0      ;2012-03-06
14258 000023B4 D004                   M           MOV.L   #_BRKTMCAL_API3_ENDCNF1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14259 000023B6 400B                   M           JSR     @R0                     ;
14260 000023B8 0009                   M           NOP                                     ;
14261                            5111             M_BRA   STOPPING_TIM_CK600      ;
14262 000023BA A013                   M           BRA     STOPPING_TIM_CK600
14263 000023BC 0009                   M           NOP
14264                            5112     
14265                            5113     ;       ==== 動作状態 ============
14266                                     ***** BEGIN-POOL *****
14267 000023BE 0000                       ALIGNMENT CODE
14268 000023C0 00000000                   DATA FOR SOURCE-LINE 5097
14269 000023C4 00000000                   DATA FOR SOURCE-LINE 5101
14270 000023C8 00000000                   DATA FOR SOURCE-LINE 5110
14271                                     ***** END-POOL *****
14272 000023CC                   5114     STOPPING_TIM_CK400:
14273                            5115     
14274                            5116     ;;;;2010-08-20  MOV.W   #_SYS_STOPPING_TIM,R0           ;
14275 000023CC D40D              5117             MOV.L   #_WPAR_STOPING_TIM,R4           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14276 000023CE 6041              5118             MOV.W   @R4,R0                          ;
14277                            5119     
14278 000023D0 D40D              5120             MOV.L   #_STOPPING_STOP_TIM,R4          ;//停止を測定するタイマ
14279 000023D2 2401              5121             MOV.W   R0,@R4                          ;
14280                            5122     
14281 000023D4 235A              5123             XOR     R5,R3                           ;動作方向[[[[[[[[]]]]]]]]]]
14282 000023D6 4311              5124             CMP/PZ  R3                              ;
14283 000023D8 890D              5125             BT      STOPPING_TIM_CK900              ;同一方向NO 反転した
14284                            5126     
14285                            5127             FAR_JSR #_BRKTMCAL_API4_ENDCNF2,R0      ;2012-03-06
14286 000023DA D00C                   M           MOV.L   #_BRKTMCAL_API4_ENDCNF2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14287 000023DC 400B                   M           JSR     @R0                     ;
14288 000023DE 0009                   M           NOP                                     ;
14289                            5128     
14290                            5129     ;       ===== 反転停止 ======
14291 000023E0 D10B              5130             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14292 000023E2 6211              5131             MOV.W   @R1,R2                  ;
14293                            5132     
14294 000023E4                   5133     STOPPING_TIM_CK600:
14295 000023E4 D10B              5134             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14296 000023E6 2121              5135             MOV.W   R2,@R1                  ;
14297                            5136     
14298 000023E8 D10B              5137             MOV.L   #_STOPPING_TIM_FLG,R1                           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0
                                          測定開始 BIT6:停止中
14299 000023EA 900A              5138             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
14300 000023EC 2101              5139             MOV.W   R0,@R1                                          ;BIT1~BIT5はその他の処理用
14301                            5140                                                                     ;BIT1:画面へ
14302                            5141     
14303                            5142     ;       ==== 2003-07-09 ========
14304 000023EE D10B              5143             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14305 000023F0 6011              5144             MOV.W   @R1,R0                  ;
14306 000023F2 CB20              5145             OR      #(BIT5),R0              ;
14307 000023F4 2101              5146             MOV.W   R0,@R1                  ;BIT5起動有り/完了有り
14308                            5147     ;       =========================
14309                            5148     
14310 000023F6                   5149     STOPPING_TIM_CK900:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   151
PROGRAM NAME =

14311                            5150     
14312                            5151             FAR_JSR #_STOP_ERR_CHK,R0
14313 000023F6 D00A                   M           MOV.L   #_STOP_ERR_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14314 000023F8 400B                   M           JSR     @R0                     ;
14315 000023FA 0009                   M           NOP                                     ;
14316                            5152     
14317                            5153             SUB_END
14318                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14319 000023FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14320                            5154             M_RTS
14321 000023FE 000B                   M           RTS                             ;RTSの後ろの
14322 00002400 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14323                            5155     
14324                            5156     
14325                            5157     ;//     *******************************************
14326                            5158     ;//     ***     2003-06-13                      ***
14327                            5159     ;//     ***     ニアゼロタイムアウトセット      ***
14328                            5160     ;//     *******************************************
14329                            5161             .EXPORT _SET_NZ_TIM_DAT
14330                            5162             .EXPORT _NZ_TIM_CHK1
14331                                     ***** BEGIN-POOL *****
14332 00002402 007F                       DATA FOR SOURCE-LINE 5138
14333 00002404 00000000                   DATA FOR SOURCE-LINE 5117
14334 00002408 00000000                   DATA FOR SOURCE-LINE 5120
14335 0000240C 00000000                   DATA FOR SOURCE-LINE 5127
14336 00002410 00000000                   DATA FOR SOURCE-LINE 5130
14337 00002414 00000000                   DATA FOR SOURCE-LINE 5134
14338 00002418 00000000                   DATA FOR SOURCE-LINE 5137
14339 0000241C 00000000                   DATA FOR SOURCE-LINE 5143
14340 00002420 00000000                   DATA FOR SOURCE-LINE 5151
14341                                     ***** END-POOL *****
14342 00002424                   5163     _SET_NZ_TIM_DAT
14343                            5164             SUB_START
14344 00002424 4F22                   M           STS.L   PR,@-R15                ;[必要]
14345                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14346 00002426 D109              5165             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14347 00002428 6011              5166             MOV.W   @R1,R0                          ;
14348 0000242A 2008              5167             TST     R0,R0                           ;
14349                            5168             TST_BIT_ON SET_NZ_TIMDT_010             ;
14350 0000242C 8B00                   M           BF      SET_NZ_TIMDT_010
14351 0000242E 900B              5169             MOV.W   #H'7FFF,R0                      ;
14352 00002430                   5170     SET_NZ_TIMDT_010
14353 00002430 D107              5171             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14354 00002432 2101              5172             MOV.W   R0,@R1                          ;
14355                            5173     
14356 00002434 D107              5174             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;異常(機能は入れない)
14357 00002436 6011              5175             MOV.W   @R1,R0                          ;
14358 00002438 2008              5176             TST     R0,R0                           ;
14359                            5177             TST_BIT_ON SET_NZ_TIMDT_020             ;
14360 0000243A 8B00                   M           BF      SET_NZ_TIMDT_020
14361 0000243C 9004              5178             MOV.W   #H'7FFF,R0                      ;
14362 0000243E                   5179     SET_NZ_TIMDT_020                                ;
14363 0000243E D106              5180             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;
14364 00002440 2101              5181             MOV.W   R0,@R1                          ;
14365                            5182     
14366                            5183             SUB_END
14367                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   152
PROGRAM NAME =

14368 00002442 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14369                            5184             M_RTS
14370 00002444 000B                   M           RTS                             ;RTSの後ろの
14371 00002446 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14372                            5185     
14373                            5186     ;//     *******************************************
14374                            5187     ;//     ***     2003-06-13                      ***
14375                            5188     ;//     ***     ニアゼロタイムアウト            ***
14376                            5189     ;//     *******************************************
14377                                     ***** BEGIN-POOL *****
14378 00002448 7FFF                       DATA FOR SOURCE-LINE 5169,5178
14379 0000244A 0000                       ALIGNMENT CODE
14380 0000244C 00000000                   DATA FOR SOURCE-LINE 5165
14381 00002450 00000000                   DATA FOR SOURCE-LINE 5171
14382 00002454 00000000                   DATA FOR SOURCE-LINE 5174
14383 00002458 00000000                   DATA FOR SOURCE-LINE 5180
14384                                     ***** END-POOL *****
14385 0000245C                   5190     _NZ_TIM_CHK1
14386                            5191             SUB_START
14387 0000245C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14388                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14389 0000245E D10B              5192             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14390 00002460 6011              5193             MOV.W   @R1,R0                          ;
14391 00002462 2008              5194             TST     R0,R0                           ;
14392                            5195             TST_BIT_OF NZ_TIM_CK1_100               ;
14393 00002464 8905                   M           BT      NZ_TIM_CK1_100
14394                            5196     
14395 00002466 D10A              5197             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14396 00002468 6011              5198             MOV.W   @R1,R0                          ;
14397 0000246A 2008              5199             TST     R0,R0                           ;
14398                            5200             TST_BIT_OF NZ_TIM_CK1_100               ;
14399 0000246C 8901                   M           BT      NZ_TIM_CK1_100
14400 0000246E 70FF              5201             ADD     #-1,R0                          ;
14401 00002470 2101              5202             MOV.W   R0,@R1                          ;
14402 00002472                   5203     NZ_TIM_CK1_100
14403                            5204     
14404 00002472 D108              5205             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;運転中止(寸動部分)
14405 00002474 6011              5206             MOV.W   @R1,R0                          ;
14406 00002476 2008              5207             TST     R0,R0                           ;
14407                            5208             TST_BIT_OF NZ_TIM_CK1_200               ;
14408 00002478 8905                   M           BT      NZ_TIM_CK1_200
14409                            5209     
14410 0000247A D107              5210             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;運転中止(寸動部分)
14411 0000247C 6011              5211             MOV.W   @R1,R0                          ;
14412 0000247E 2008              5212             TST     R0,R0                           ;
14413                            5213             TST_BIT_OF NZ_TIM_CK1_200               ;
14414 00002480 8901                   M           BT      NZ_TIM_CK1_200
14415 00002482 70FF              5214             ADD     #-1,R0                          ;
14416 00002484 2101              5215             MOV.W   R0,@R1                          ;
14417 00002486                   5216     NZ_TIM_CK1_200
14418                            5217     
14419                            5218             SUB_END
14420                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14421 00002486 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14422                            5219             M_RTS
14423 00002488 000B                   M           RTS                             ;RTSの後ろの
14424 0000248A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   153
PROGRAM NAME =

14425                            5220     
14426                            5221     ;       ***********************************
14427                            5222     ;       ***                             ***
14428                            5223     ;       ***     2006-07-28              ***
14429                            5224     ;       ***                             ***
14430                            5225     ;       ***********************************
14431                            5226     ;       ANS R0=0 START // ELSE WAIT
14432                                     ***** BEGIN-POOL *****
14433 0000248C 00000000                   DATA FOR SOURCE-LINE 5192
14434 00002490 00000000                   DATA FOR SOURCE-LINE 5197
14435 00002494 00000000                   DATA FOR SOURCE-LINE 5205
14436 00002498 00000000                   DATA FOR SOURCE-LINE 5210
14437                                     ***** END-POOL *****
14438 0000249C                   5227     _ORGIN_MODE_SEL_WAIT:
14439                            5228             SUB_START
14440 0000249C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14441                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14442 0000249E 222A              5229             XOR     R2,R2
14443 000024A0 D10A              5230             MOV.L   #_MODE_SEL,R1           ;
14444 000024A2 6011              5231             MOV.W   @R1,R0                  ;
14445 000024A4 C840              5232             TST     #_W1DUP,R0              ;
14446                            5233             TST_BIT_OF ORGIN_MODE_SEL_WTEND ;
14447 000024A6 8921                   M           BT      ORGIN_MODE_SEL_WTEND
14448                            5234     
14449                            5235     
14450                            5236     ;_BRK_SADOU_CHG 2015-09-06
14451                            5237     ;2015-09-06;    ======= 2010-10-25 針の穴===
14452                            5238     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
14453                            5239     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
14454                            5240     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
14455                            5241     ;2015-09-06     TST     R4,R0
14456                            5242     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;off今まで通り
14457                            5243     ;2015-09-06
14458                            5244     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14459                            5245     ;2015-09-06     MOV.W   @R1,R0                          ;
14460                            5246     ;2015-09-06     TST     R0,R0                           ;
14461                            5247     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;
14462                            5248     ;2015-09-06     MOV.W   #1,R2                           ;ﾀｲﾏではないがﾀｲﾏ代わりに入れる
14463                            5249     ;2015-09-06     M_BRA   ORGIN_MODE_SEL_WTEND            ;
14464                            5250     ;2015-09-06
14465                            5251     ;2015-09-06
14466                            5252     ;2015-09-06ORGIN_MODE_SEL_WT030:                                ;
14467                            5253     
14468                            5254     
14469                            5255     
14470                            5256     ;       === 2008-09-16 原点復帰方法ﾚﾍﾞﾙなら即起動===========
14471 000024A8 D109              5257             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
14472 000024AA 6011              5258             MOV.W   @R1,R0                          ;
14473 000024AC 8801              5259             CMP/EQ  #1,R0                           ;ｴｯｼﾞ?
14474 000024AE 8915              5260             BT      ORGIN_MODE_SEL_WT100            ;YES ｴｯｼﾞ
14475                            5261     
14476 000024B0 233A              5262             XOR     R3,R3                           ;(ｻｰﾁ)
14477 000024B2 D108              5263             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14478 000024B4 6011              5264             MOV.W   @R1,R0                          ;
14479 000024B6 9407              5265             MOV.W   #BIT15,R4                       ;
14480 000024B8 2048              5266             TST     R4,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   154
PROGRAM NAME =

14481                            5267             TST_BIT_OF ORGIN_MODE_SEL_WT090         ;
14482 000024BA 8900                   M           BT      ORGIN_MODE_SEL_WT090
14483 000024BC 9305              5268             MOV.W   #1,R3                           ;待機点位置決め
14484 000024BE                   5269     ORGIN_MODE_SEL_WT090:                           ;
14485 000024BE D106              5270             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14486 000024C0 2131              5271             MOV.W   R3,@R1                          ;
14487 000024C2 222A              5272             XOR     R2,R2                           ;ﾚﾍﾞﾙ
14488                            5273             M_BRA   ORGIN_MODE_SEL_WTEND            ;
14489 000024C4 A012                   M           BRA     ORGIN_MODE_SEL_WTEND
14490 000024C6 0009                   M           NOP
14491                            5274     ;       ====================================================
14492                            5275     
14493                            5276     
14494                                     ***** BEGIN-POOL *****
14495 000024C8 8000                       DATA FOR SOURCE-LINE 5265
14496 000024CA 0001                       DATA FOR SOURCE-LINE 5268
14497 000024CC 00000000                   DATA FOR SOURCE-LINE 5230
14498 000024D0 00000000                   DATA FOR SOURCE-LINE 5257
14499 000024D4 00000000                   DATA FOR SOURCE-LINE 5263
14500 000024D8 00000000                   DATA FOR SOURCE-LINE 5270
14501                                     ***** END-POOL *****
14502 000024DC                   5277     ORGIN_MODE_SEL_WT100:
14503 000024DC D106              5278             MOV.L   #_WPAR_ORGMOD2_TIM,R1           ;
14504 000024DE 6211              5279             MOV.W   @R1,R2                          ;
14505 000024E0 2228              5280             TST     R2,R2                           ;
14506                            5281             TST_BIT_OF ORGIN_MODE_SEL_WTEND         ;
14507 000024E2 8903                   M           BT      ORGIN_MODE_SEL_WTEND
14508                            5282     
14509                            5283     
14510                            5284             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORGIN_MOD2_START_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
14511 000024E4 D105                   M           MOV.L   #_ORGIN_MOD2_START_FLG,R1               ;
14512 000024E6 6011                   M           MOV.W   @R1,R0          ;
14513 000024E8 CB01                   M           OR      #BIT0,R0                ;
14514 000024EA 2101                   M           MOV.W   R0,@R1          ;
14515                            5285     
14516                            5286     
14517 000024EC                   5287     ORGIN_MODE_SEL_WTEND:
14518 000024EC D104              5288             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;
14519 000024EE 2121              5289             MOV.W   R2,@R1                  ;
14520 000024F0 6023              5290             MOV     R2,R0                   ;
14521                            5291     
14522                            5292             SUB_END
14523                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14524 000024F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14525                            5293             M_RTS
14526 000024F4 000B                   M           RTS                             ;RTSの後ろの
14527 000024F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14528                            5294     
14529                            5295             .EXPORT _ORGIN_MODE_FLG_CLR     ;
14530                                     ***** BEGIN-POOL *****
14531 000024F8 00000000                   DATA FOR SOURCE-LINE 5278
14532 000024FC 00000000                   DATA FOR SOURCE-LINE 5284
14533 00002500 00000000                   DATA FOR SOURCE-LINE 5288
14534                                     ***** END-POOL *****
14535 00002504                   5296     _ORGIN_MODE_FLG_CLR:
14536                            5297             SUB_START
14537 00002504 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   155
PROGRAM NAME =

14538                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14539 00002506 200A              5298             XOR     R0,R0                           ;
14540 00002508 D102              5299             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14541 0000250A 2101              5300             MOV.W   R0,@R1                          ;
14542                            5301             SUB_END
14543                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14544 0000250C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14545                            5302             M_RTS
14546 0000250E 000B                   M           RTS                             ;RTSの後ろの
14547 00002510 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14548                            5303     
14549                            5304     ;       ***********************************
14550                            5305     ;       ***                             ***
14551                            5306     ;       ***     2015-10-13              ***
14552                            5307     ;       ***                             ***
14553                            5308     ;       ***********************************
14554                            5309     ;       ANS R0=0 START // ELSE WAIT
14555                            5310     ;       レベルタイプのみ
14556                                     ***** BEGIN-POOL *****
14557 00002512 0000                       ALIGNMENT CODE
14558 00002514 00000000                   DATA FOR SOURCE-LINE 5299
14559                                     ***** END-POOL *****
14560 00002518                   5311     _ORGIN_MODE_SEL_START:
14561                            5312             SUB_START
14562 00002518 4F22                   M           STS.L   PR,@-R15                ;[必要]
14563                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14564                            5313     
14565 0000251A D109              5314             MOV.L   #_MODE_SEL,R1           ;
14566 0000251C 6011              5315             MOV.W   @R1,R0                  ;
14567 0000251E C840              5316             TST     #_W1DUP,R0              ;
14568                            5317             TST_BIT_OF ORGIN_MODE_SEL_STEND ;
14569 00002520 8908                   M           BT      ORGIN_MODE_SEL_STEND
14570                            5318     
14571 00002522 233A              5319             XOR     R3,R3                           ;(ｻｰﾁ)
14572 00002524 D107              5320             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14573 00002526 6011              5321             MOV.W   @R1,R0                          ;
14574 00002528 9407              5322             MOV.W   #BIT15,R4                       ;
14575 0000252A 2048              5323             TST     R4,R0                           ;
14576                            5324             TST_BIT_OF ORGIN_MODE_SEL_ST090         ;
14577 0000252C 8900                   M           BT      ORGIN_MODE_SEL_ST090
14578 0000252E 9305              5325             MOV.W   #1,R3                           ;待機点位置決め
14579 00002530                   5326     ORGIN_MODE_SEL_ST090:                           ;
14580 00002530 D105              5327             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14581 00002532 2131              5328             MOV.W   R3,@R1                          ;
14582 00002534                   5329     ORGIN_MODE_SEL_STEND:
14583                            5330     
14584                            5331             SUB_END
14585                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14586 00002534 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14587                            5332             M_RTS
14588 00002536 000B                   M           RTS                             ;RTSの後ろの
14589 00002538 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14590                            5333     
14591                            5334     
14592                            5335     ;       ***********************************
14593                            5336     ;       ***                             ***
14594                            5337     ;       ***     2006-07-28              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   156
PROGRAM NAME =

14595                            5338     ;       ***     ﾓｰﾄﾞ判定・起動          ***
14596                            5339     ;       ***********************************
14597                            5340     ;       00:EXIT
14598                            5341     ;       55:起動
14599                            5342     ;       FF:WAIT
14600                                     ***** BEGIN-POOL *****
14601 0000253A 8000                       DATA FOR SOURCE-LINE 5322
14602 0000253C 0001                       DATA FOR SOURCE-LINE 5325
14603 0000253E 0000                       ALIGNMENT CODE
14604 00002540 00000000                   DATA FOR SOURCE-LINE 5314
14605 00002544 00000000                   DATA FOR SOURCE-LINE 5320
14606 00002548 00000000                   DATA FOR SOURCE-LINE 5327
14607                                     ***** END-POOL *****
14608 0000254C                   5343     _ORGIN_MODE_START_WAIT:
14609                            5344             SUB_START
14610 0000254C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14611                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14612 0000254E D10C              5345             MOV.L   #_MODE_SEL,R1           ;
14613 00002550 6011              5346             MOV.W   @R1,R0                  ;
14614 00002552 C840              5347             TST     #_W1DUP,R0              ;
14615                            5348             TST_BIT_OF ORGIN_MODE_ST_WT_NOT ;
14616 00002554 892C                   M           BT      ORGIN_MODE_ST_WT_NOT
14617                            5349     
14618 00002556 D10B              5350             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14619 00002558 6011              5351             MOV.W   @R1,R0                          ;
14620 0000255A 2008              5352             TST     R0,R0                           ;
14621                            5353             TST_BIT_OF ORGIN_MODE_ST_WT_NOT         ;
14622 0000255C 8928                   M           BT      ORGIN_MODE_ST_WT_NOT
14623                            5354     
14624 0000255E D10A              5355             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;//2.0sec
14625 00002560 6211              5356             MOV.W   @R1,R2                  ;
14626 00002562 2228              5357             TST     R2,R2                   ;
14627                            5358             TST_BIT_OF ORGIN_MODE_ST_WT100  ;TIME UP 2.0
14628 00002564 8916                   M           BT      ORGIN_MODE_ST_WT100
14629 00002566 72FF              5359             ADD     #-1,R2
14630 00002568 2121              5360             MOV.W   R2,@R1
14631                            5361     
14632 0000256A D108              5362             MOV.L   #_BTTN_FLG,R1                   ;
14633 0000256C 6011              5363             MOV.W   @R1,R0                          ;
14634 0000256E C804              5364             TST     #BIT2,R0                        ;両手ON
14635                            5365             TST_BIT_ON ORGIN_MODE_ST_WT_WAIT        ;YES
14636 00002570 8B1B                   M           BF      ORGIN_MODE_ST_WT_WAIT
14637                            5366     
14638 00002572 9003              5367             MOV.W   #1,R0                           ;ﾁｮﾝ押し
14639 00002574 D106              5368             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14640 00002576 2101              5369             MOV.W   R0,@R1                          ;
14641                            5370             M_BRA   ORGIN_MODE_ST_WT_START          ;
14642 00002578 A014                   M           BRA     ORGIN_MODE_ST_WT_START
14643 0000257A 0009                   M           NOP
14644                            5371     
14645                                     ***** BEGIN-POOL *****
14646 0000257C 0001                       DATA FOR SOURCE-LINE 5367
14647 0000257E 0000                       ALIGNMENT CODE
14648 00002580 00000000                   DATA FOR SOURCE-LINE 5345
14649 00002584 00000000                   DATA FOR SOURCE-LINE 5350
14650 00002588 00000000                   DATA FOR SOURCE-LINE 5355
14651 0000258C 00000000                   DATA FOR SOURCE-LINE 5362
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   157
PROGRAM NAME =

14652 00002590 00000000                   DATA FOR SOURCE-LINE 5368
14653                                     ***** END-POOL *****
14654 00002594                   5372     ORGIN_MODE_ST_WT100                             ;
14655 00002594 200A              5373             XOR     R0,R0                           ;長い押し
14656 00002596 D102              5374             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14657 00002598 2101              5375             MOV.W   R0,@R1                          ;
14658                            5376             M_BRA   ORGIN_MODE_ST_WT_START          ;
14659 0000259A A003                   M           BRA     ORGIN_MODE_ST_WT_START
14660 0000259C 0009                   M           NOP
14661                            5377     
14662                            5378     
14663                                     ***** BEGIN-POOL *****
14664 0000259E 0000                       ALIGNMENT CODE
14665 000025A0 00000000                   DATA FOR SOURCE-LINE 5374
14666                                     ***** END-POOL *****
14667 000025A4                   5379     ORGIN_MODE_ST_WT_START          ;
14668 000025A4 E055              5380             MOV.B   #H'55,R0                ;
14669                            5381             M_BRA   ORGIN_MODE_ST_WTEND     ;
14670 000025A6 A004                   M           BRA     ORGIN_MODE_ST_WTEND
14671 000025A8 0009                   M           NOP
14672 000025AA                   5382     ORGIN_MODE_ST_WT_WAIT           ;
14673 000025AA E0FF              5383             MOV.B   #-1,R0
14674                            5384             M_BRA   ORGIN_MODE_ST_WTEND     ;
14675 000025AC A001                   M           BRA     ORGIN_MODE_ST_WTEND
14676 000025AE 0009                   M           NOP
14677                            5385     
14678 000025B0                   5386     ORGIN_MODE_ST_WT_NOT    ;
14679 000025B0 200A              5387             XOR     R0,R0
14680 000025B2                   5388     ORGIN_MODE_ST_WTEND     ;
14681                            5389             SUB_END
14682                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14683 000025B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14684                            5390             M_RTS
14685 000025B4 000B                   M           RTS                             ;RTSの後ろの
14686 000025B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14687                            5391     
14688                            5392     ;       *******************************************
14689                            5393     ;       ***                                     ***
14690                            5394     ;       ***     通信側にも処理がある            ***
14691                            5395     ;       ***                                     ***
14692                            5396     ;       *******************************************
14693                            5397             .IMPORT         _RENEA_ERR_RESET_INI
14694                            5398             .IMPORT         _LT_RNA_REF_ERR_FLG1    ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
14695                            5399             .IMPORT         _API_X_PRO_SEND_START2  ;
14696                            5400     
14697 000025B8                   5401     _RNA_SCIF_ERR_CLR1:
14698                            5402             SUB_START
14699 000025B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14700                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14701                            5403             .AIF    1 EQ    0               ;
14702                            5404             .IMPORT _IN_RNA_REF_ERR_FLG1
14703                            5405             .IMPORT _IN_RNA_REF_ERR_FLG2
14704                            5406     
14705                            5407             MOV.L   #_LT_RNA_REF_ERR_FLG1,R1                ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
14706                            5408             MOV.W   @R1,R0                                  ;
14707                            5409             TST     #(BIT6+BIT4),R0                         ;ﾘﾆｱ異常
14708                            5410             TST_BIT_ON RNA_SCIF_ERRCLR1_050                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   158
PROGRAM NAME =

14709                            5411     
14710                            5412     ;;;[温度ﾃｽﾄ用でﾘｾｯﾄ毎に読出たい時用]
14711                            5413     ;;;FAR_JSR      #_API_X_PRO_SEND_START2,R0              ;2015-10-15
14712                            5414     
14713                            5415             M_BRA   RNA_SCIF_ERRCLR1_100                    ;
14714                            5416     
14715                            5417     RNA_SCIF_ERRCLR1_050:
14716                            5418             FAR_JSR #_RNA_SCIF_ERR_CLR2,R0                  ;
14717                            5419             FAR_JSR #_RENEA_ERR_RESET_INI,R0                ;
14718                            5420             M_BRA   RNA_SCIF_ERRCLR1_200                    ;
14719                            5421     
14720                            5422     RNA_SCIF_ERRCLR1_100:
14721                            5423     
14722                            5424             FAR_JSR #_RNA_SCIF_ERR_CLR2,R0
14723                            5425     
14724                            5426     RNA_SCIF_ERRCLR1_200:
14725                            5427     
14726                            5428             .AENDI
14727                            5429             SUB_END
14728                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14729 000025BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14730                            5430             M_RTS
14731 000025BC 000B                   M           RTS                             ;RTSの後ろの
14732 000025BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14733                            5431     
14734                            5432             .EXPORT _CLRSQ206_BIT11
14735                            5433             .EXPORT _SETSQ206_BIT11
14736                            5434     
14737 000025C0                   5435     _CLRSQ206_BIT11:
14738                            5436             SUB_START
14739 000025C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14740                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14741                            5437             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT11),WKRG1=R1,WKRG2=R
                                          4       ;
14742 000025C2 D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
14743 000025C4 6011                   M           MOV.W   @R1,R0          ;
14744 000025C6 9404                   M           MOV.W   #LWORD (~BIT11),R4      ;
14745 000025C8 2049                   M           AND     R4,R0           ;
14746 000025CA 2101                   M           MOV.W   R0,@R1          ;
14747                            5438             SUB_END
14748                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14749 000025CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14750                            5439             M_RTS
14751 000025CE 000B                   M           RTS                             ;RTSの後ろの
14752 000025D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14753                            5440     
14754                                     ***** BEGIN-POOL *****
14755 000025D2 F7FF                       DATA FOR SOURCE-LINE 5437
14756 000025D4 00000000                   DATA FOR SOURCE-LINE 5437
14757                                     ***** END-POOL *****
14758 000025D8                   5441     _SETSQ206_BIT11:
14759                            5442             SUB_START
14760 000025D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14761                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14762                            5443             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4
                                                  ;
14763 000025DA D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   159
PROGRAM NAME =

14764 000025DC 6011                   M           MOV.W   @R1,R0          ;
14765 000025DE 9404                   M           MOV.W   #(BIT11),R4             ;
14766 000025E0 204B                   M           OR      R4,R0           ;
14767 000025E2 2101                   M           MOV.W   R0,@R1          ;
14768                            5444             SUB_END
14769                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14770 000025E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14771                            5445             M_RTS
14772 000025E6 000B                   M           RTS                             ;RTSの後ろの
14773 000025E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14774                            5446     
14775                            5447     
14776                            5448     
14777                            5449     
14778                            5450     ;       ---------------------------
14779                            5451     ;       ---     2007-01-16      ---
14780                            5452     ;       ---------------------------
14781                            5453     ;       ﾚﾍﾞﾙﾀｲﾌﾟのみ対象
14782                            5454     ;
14783                                     ***** BEGIN-POOL *****
14784 000025EA 0800                       DATA FOR SOURCE-LINE 5443
14785 000025EC 00000000                   DATA FOR SOURCE-LINE 5443
14786                                     ***** END-POOL *****
14787 000025F0                   5455     _DRV_START_KEP_WAIT
14788                            5456             SUB_START
14789 000025F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14790                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14791                            5457     
14792                            5458     
14793                            5459     ;_BRK_SADOU_CHG 2015-09-06
14794                            5460     ;;;2015-09-06   MOV.L   #_MODE_SEL,R1                   ;
14795                            5461     ;;;2015-09-06   MOV.W   @R1,R0                          ;
14796                            5462     ;;;2015-09-06   TST     #_W1DUP,R0                      ;
14797                            5463     ;;;2015-09-06   TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
14798                            5464     
14799 000025F2 D109              5465             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
14800 000025F4 6011              5466             MOV.W   @R1,R0                          ;
14801 000025F6 2008              5467             TST     R0,R0
14802                            5468             TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
14803 000025F8 8B1C                   M           BF      DRV_START_KEP_WAIT_NON
14804                            5469     
14805 000025FA D108              5470             MOV.L   #_DRV_START_KEEP,R1             ;FLG
14806 000025FC 6011              5471             MOV.W   @R1,R0                          ;
14807 000025FE C801              5472             TST     #BIT0,R0                        ;
14808                            5473             TST_BIT_ON DRV_START_KEP_WAIT_100       ;
14809 00002600 8B10                   M           BF      DRV_START_KEP_WAIT_100
14810                            5474     
14811                            5475     ;       --- OFF---
14812 00002602 D107              5476             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14813 00002604 6011              5477             MOV.W   @R1,R0                          ;
14814 00002606 2008              5478             TST     R0,R0                           ;
14815                            5479             TST_BIT_OF DRV_START_KEP_WAIT_100
14816 00002608 890C                   M           BT      DRV_START_KEP_WAIT_100
14817                            5480     
14818 0000260A 9003              5481             MOV.W   #BIT0,R0                        ;
14819 0000260C D103              5482             MOV.L   #_DRV_START_KEEP,R1             ;FLG
14820 0000260E 2101              5483             MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   160
PROGRAM NAME =

14821                            5484             M_BRA   DRV_START_KEP_WAIT_USE          ;
14822 00002610 A013                   M           BRA     DRV_START_KEP_WAIT_USE
14823 00002612 0009                   M           NOP
14824                            5485     
14825                                     ***** BEGIN-POOL *****
14826 00002614 0001                       DATA FOR SOURCE-LINE 5481
14827 00002616 0000                       ALIGNMENT CODE
14828 00002618 00000000                   DATA FOR SOURCE-LINE 5465
14829 0000261C 00000000                   DATA FOR SOURCE-LINE 5470,5482
14830 00002620 00000000                   DATA FOR SOURCE-LINE 5476
14831                                     ***** END-POOL *****
14832 00002624                   5486     DRV_START_KEP_WAIT_100
14833 00002624 D102              5487             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;「「「「ﾛｯｸ解除の遅延時間中?」」」
14834 00002626 6011              5488             MOV.W   @R1,R0                          ;
14835 00002628 2008              5489             TST     R0,R0                           ;
14836                            5490             TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
14837 0000262A 8B06                   M           BF      DRV_START_KEP_WAIT_USE
14838                            5491     ;       -- 起動--
14839                            5492             M_BRA   DRV_START_KEP_WAIT_START
14840 0000262C A009                   M           BRA     DRV_START_KEP_WAIT_START
14841 0000262E 0009                   M           NOP
14842                            5493     
14843                            5494     
14844                                     ***** BEGIN-POOL *****
14845 00002630 00000000                   DATA FOR SOURCE-LINE 5487
14846                                     ***** END-POOL *****
14847 00002634                   5495     DRV_START_KEP_WAIT_NON
14848 00002634 200A              5496             XOR     R0,R0                   ;
14849                            5497             M_BRA   DRV_START_KEP_WAIT_END  ;
14850 00002636 A008                   M           BRA     DRV_START_KEP_WAIT_END
14851 00002638 0009                   M           NOP
14852 0000263A                   5498     DRV_START_KEP_WAIT_USE
14853 0000263A 9001              5499             MOV.W   #1,R0
14854                            5500             M_BRA   DRV_START_KEP_WAIT_END
14855 0000263C A005                   M           BRA     DRV_START_KEP_WAIT_END
14856 0000263E 0009                   M           NOP
14857                            5501     
14858                                     ***** BEGIN-POOL *****
14859 00002640 0001                       DATA FOR SOURCE-LINE 5499
14860                                     ***** END-POOL *****
14861 00002642                   5502     DRV_START_KEP_WAIT_START
14862 00002642 200A              5503             XOR     R0,R0                           ;
14863 00002644 D103              5504             MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
14864 00002646 2101              5505             MOV.W   R0,@R1                          ;
14865 00002648 9002              5506             MOV.W   #H'55,R0                        ;
14866 0000264A                   5507     DRV_START_KEP_WAIT_END
14867                            5508             SUB_END
14868                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14869 0000264A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14870                            5509             M_RTS
14871 0000264C 000B                   M           RTS                             ;RTSの後ろの
14872 0000264E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14873                            5510     
14874                            5511     ;;      ---------------------------
14875                            5512     ;;      ---     2007-01-16      ---
14876                            5513     ;;      ---------------------------
14877                            5514     ;;_DRV_START_KEP_WAIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   161
PROGRAM NAME =

14878                            5515     ;;      SUB_START
14879                            5516     ;;
14880                            5517     ;;      -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
14881                            5518     ;;      MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
14882                            5519     ;;      MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
14883                            5520     ;;      MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2秒だから
14884                            5521     ;;      TST     R4,R0
14885                            5522     ;;      TST_BIT_ON DRV_START_KEP_WAIT_050       ;原点復帰でもﾊﾟﾙｽ出力を遅らせる
14886                            5523     ;;
14887                            5524     ;;      MOV.L   #_MODE_SEL,R1                   ;
14888                            5525     ;;      MOV.W   @R1,R0                          ;
14889                            5526     ;;      TST     #_W1DUP,R0                      ;
14890                            5527     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
14891                            5528     ;;
14892                            5529     ;;      MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
14893                            5530     ;;      MOV.W   @R1,R0                          ;
14894                            5531     ;;      TST     R0,R0
14895                            5532     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
14896                            5533     ;;
14897                            5534     ;;DRV_START_KEP_WAIT_050
14898                            5535     ;;
14899                            5536     ;;
14900                            5537     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
14901                            5538     ;;      MOV.W   @R1,R0                          ;
14902                            5539     ;;      TST     #BIT0,R0                        ;
14903                            5540     ;;      TST_BIT_ON DRV_START_KEP_WAIT_100       ;
14904                            5541     ;;
14905                            5542     ;;      --- OFF---
14906                            5543     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14907                            5544     ;;      MOV.W   @R1,R0                          ;
14908                            5545     ;;      TST     R0,R0                           ;
14909                            5546     ;;      TST_BIT_OF DRV_START_KEP_WAIT_100
14910                            5547     ;;
14911                            5548     ;;      MOV.W   #BIT0,R0                        ;
14912                            5549     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
14913                            5550     ;;      MOV.W   R0,@R1                          ;
14914                            5551     ;;      M_BRA   DRV_START_KEP_WAIT_USE          ;
14915                            5552     ;;
14916                            5553     ;;DRV_START_KEP_WAIT_100
14917                            5554     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14918                            5555     ;;      MOV.W   @R1,R0                          ;
14919                            5556     ;;      TST     R0,R0                           ;
14920                            5557     ;;      TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
14921                            5558     ;;      -- 起動--
14922                            5559     ;;      M_BRA   DRV_START_KEP_WAIT_START
14923                            5560     ;;
14924                            5561     ;;
14925                            5562     ;;DRV_START_KEP_WAIT_NON
14926                            5563     ;;      XOR     R0,R0                   ;
14927                            5564     ;;      M_BRA   DRV_START_KEP_WAIT_END  ;
14928                            5565     ;;DRV_START_KEP_WAIT_USE
14929                            5566     ;;      MOV.W   #1,R0
14930                            5567     ;;      M_BRA   DRV_START_KEP_WAIT_END
14931                            5568     ;;
14932                            5569     ;;DRV_START_KEP_WAIT_START
14933                            5570     ;;      XOR     R0,R0                           ;
14934                            5571     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   162
PROGRAM NAME =

14935                            5572     ;;      MOV.W   R0,@R1                          ;
14936                            5573     ;;      MOV.W   #H'55,R0                        ;
14937                            5574     ;;DRV_START_KEP_WAIT_END
14938                            5575     ;;      SUB_END
14939                            5576     ;;      M_RTS
14940                            5577     
14941                            5578     
14942                            5579     ;       ---------------------------
14943                            5580     ;       ---     2007-01-16      ---
14944                            5581     ;       ---------------------------
14945                                     ***** BEGIN-POOL *****
14946 00002650 0055                       DATA FOR SOURCE-LINE 5506
14947 00002652 0000                       ALIGNMENT CODE
14948 00002654 00000000                   DATA FOR SOURCE-LINE 5504
14949                                     ***** END-POOL *****
14950 00002658                   5582     _START_SFTY_LOCK_CLR
14951                            5583             SUB_START
14952 00002658 4F22                   M           STS.L   PR,@-R15                ;[必要]
14953                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14954 0000265A 200A              5584             XOR     R0,R0
14955                            5585     
14956 0000265C D103              5586             MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;ﾛｯｸ釈放の遅延時間
14957 0000265E 2101              5587             MOV.W   R0,@R1                  ;
14958                            5588     
14959                            5589     ;_BRK_SADOU_CHG 2015-09-06
14960                            5590     ;;;2015-09-06廃止       MOV.L   #_SFTY_LOCK_DLYTM,R1    ;位置決め完了の遅延時間
14961                            5591     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
14962                            5592     
14963                            5593     ;;;2015-09-06廃止       MOV.L   #_RDY_SFTY_LOCK,R1      ;FLG
14964                            5594     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
14965                            5595     
14966 00002660 D103              5596             MOV.L   #_DRV_START_KEEP,R1     ;FLG
14967 00002662 2101              5597             MOV.W   R0,@R1                  ;
14968                            5598     
14969                            5599             SUB_END
14970                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14971 00002664 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14972                            5600             M_RTS
14973 00002666 000B                   M           RTS                             ;RTSの後ろの
14974 00002668 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14975                            5601     
14976                            5602     
14977                            5603     
14978                            5604     ;       ***********************************
14979                            5605     ;       ***                             ***
14980                            5606     ;       ***     2007-02-05              ***
14981                            5607     ;       ***     運転完了、中断時        ***
14982                            5608     ;       ***     遮光遅延を働かせる      ***
14983                            5609     ;       ***                             ***
14984                            5610     ;       ***********************************
14985                            5611     ;2015-09-06_BRK_SADOU_CHG EQ 1
14986                            5612     ;;廃止_SFTY_DLY_SET1                            ;安一専用
14987                            5613     ;;廃止  SUB_START
14988                            5614     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
14989                            5615     ;;廃止  MOV.W   @R1,R0                  ;
14990                            5616     ;;廃止
14991                            5617     ;;廃止  MOV.L   #_PAR_SLOCK_DLY2,R1     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   163
PROGRAM NAME =

14992                            5618     ;;廃止  MOV.W   @R1,R1                  ;
14993                            5619     ;;廃止  ADD     R1,R0                   ;
14994                            5620     ;;廃止
14995                            5621     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
14996                            5622     ;;廃止  MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
14997                            5623     ;;廃止  SUB_END
14998                            5624     ;;廃止  M_RTS
14999                            5625     ;;廃止
15000                            5626     ;;廃止_SFTY_DLY_SET2
15001                            5627     ;;廃止  SUB_START
15002                            5628     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
15003                            5629     ;;廃止  MOV.W   @R1,R0                  ;
15004                            5630     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
15005                            5631     ;;廃止  MOV.W   R0,@R1                  ;
15006                            5632     ;;廃止  SUB_END
15007                            5633     ;;廃止  M_RTS
15008                            5634     ;;廃止; ------このNOP4がないと変になる2007-02-26-----------
15009                            5635     ;;廃止  NOP
15010                            5636     ;;廃止  NOP
15011                            5637     ;;廃止  NOP
15012                            5638     ;;廃止  NOP
15013                            5639     
15014                            5640     ;       *******************************************
15015                            5641     ;       ***                                     ***
15016                            5642     ;       ***     ORGIN DIRECT CHECK              ***
15017                            5643     ;       ***     2008-04-28　180度近辺           ***
15018                            5644     ;       ***     2008-05-07  181はパス           ***
15019                            5645     ;       *******************************************
15020                            5646     ;       179,180でON
15021                            5647     ;       178,180,181以外でOFF
15022                            5648     
15023                                     ***** BEGIN-POOL *****
15024 0000266A 0000                       ALIGNMENT CODE
15025 0000266C 00000000                   DATA FOR SOURCE-LINE 5586
15026 00002670 00000000                   DATA FOR SOURCE-LINE 5596
15027                                     ***** END-POOL *****
15028          000006FE          5649     _EQ_ORG_ONDIG   .EQU    179*10  ;
15029          00000708          5650     _EQ_ORG_OFDIG   .EQU    180*10  ;
15030          0000000A          5651     _EQ_ORG_HIS     .EQU    10      ;
15031                            5652     
15032 00002674                   5653             .ALIGN  4                               ;2008-05-07
15033 00002674                   5654     _ORGIN_180CHK
15034                            5655             SUB_START
15035 00002674 4F22                   M           STS.L   PR,@-R15                ;[必要]
15036                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15037                            5656     
15038 00002676 D408              5657             MOV.L   #_INC_ENC360,R4                                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と
                                          同じ)
15039 00002678 6241              5658             MOV.W   @R4,R2                                          ;
15040                            5659     
15041 0000267A 910A              5660             MOV.W   #_EQ_ORG_ONDIG,R1                                       ;179~181
15042 0000267C 930A              5661             MOV.W   #_EQ_ORG_OFDIG,R3                                       ;
15043                            5662             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15044 0000267E 3313                   M           CMP/GE  R1,R3
15045 00002680 8B0C                   M           BF      JMP0100001
15046                                 M   ;       === 0度をはさなまい===
15047 00002682 200A                   M           XOR     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   164
PROGRAM NAME =

15048 00002684 3213                   M           CMP/GE  R1,R2           ;
15049 00002686 8B0F                   M           BF      JMP0200001                      ; PV<SV1
15050 00002688 3323                   M           CMP/GE  R2,R3           ;
15051 0000268A 8B0D                   M           BF      JMP0200001                      ; SV2<PV2 (1)
15052 0000268C E001                   M           MOV     #1,R0           ;
15053                                 M           M_BRA   JMP0200001                      ;
15054 0000268E A00B                   M           BRA     JMP0200001
15055 00002690 0009                   M           NOP
15056                                 M   
15057                                 M   ;       ==== ０度をはさむ====
15058                                 M   ***** BEGIN-POOL *****
15059 00002692 06FE                   M   DATA FOR SOURCE-LINE 5660
15060 00002694 0708                   M   DATA FOR SOURCE-LINE 5661
15061 00002696 0000                   M   ALIGNMENT CODE
15062 00002698 00000000               M   DATA FOR SOURCE-LINE 5657
15063                                 M   ***** END-POOL *****
15064 0000269C                        M   JMP0100001:
15065 0000269C E001                   M           MOV     #1,R0
15066 0000269E 3213                   M           CMP/GE  R1,R2
15067 000026A0 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
15068 000026A2 3323                   M           CMP/GE  R2,R3           ;
15069 000026A4 8900                   M           BT      JMP0200001                      ;
15070 000026A6 200A                   M           XOR     R0,R0           ;
15071 000026A8                        M   JMP0200001:
15072                            5663     
15073 000026A8 2008              5664             TST     R0,R0                                           ;
15074                            5665             TST_BIT_OF ORGIN_180CK_100                              ;範囲内ﾋｽﾃﾘｼｽ中
15075 000026AA 8911                   M           BT      ORGIN_180CK_100
15076                            5666     
15077                            5667             MEM1_BIT0_F_ORSET MEM=_ORIGN_180ARA_FLG,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15078 000026AC D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
15079 000026AE 6041                   M           MOV.W   @R4,R0          ;
15080 000026B0 9108                   M           MOV.W   #BIT5,R1                ;
15081 000026B2 201B                   M           OR      R1,R0           ;
15082 000026B4 2401                   M           MOV.W   R0,@R4          ;
15083                            5668             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15084 000026B6 D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
15085 000026B8 6041                   M           MOV.W   @R4,R0          ;
15086 000026BA 9103                   M           MOV.W   #BIT5,R1                ;
15087 000026BC 201B                   M           OR      R1,R0           ;
15088 000026BE 2401                   M           MOV.W   R0,@R4          ;
15089                            5669     
15090                            5670     ;;;;    ------- 2009-03-19 不具合(だめ) S05p~現在までの不具合 S05vにて修正
15091                            5671     ;;;;    MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15092                            5672     ;;;;    MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15093                            5673     
15094                            5674     
15095                            5675             M_BRA   ORGIN_180CK_300                                 ;
15096 000026C0 A032                   M           BRA     ORGIN_180CK_300
15097 000026C2 0009                   M           NOP
15098                            5676     
15099                            5677     
15100                                     ***** BEGIN-POOL *****
15101 000026C4 0020                       DATA FOR SOURCE-LINE 5667,5668
15102 000026C6 0000                       ALIGNMENT CODE
15103 000026C8 00000000                   DATA FOR SOURCE-LINE 5667
15104 000026CC 00000000                   DATA FOR SOURCE-LINE 5668
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   165
PROGRAM NAME =

15105                                     ***** END-POOL *****
15106 000026D0                   5678     ORGIN_180CK_100
15107 000026D0 910A              5679             MOV.W   #_EQ_ORG_ONDIG-_EQ_ORG_HIS,R1                   ;178~182
15108 000026D2 930A              5680             MOV.W   #_EQ_ORG_OFDIG+_EQ_ORG_HIS,R3                   ;
15109                            5681             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15110 000026D4 3313                   M           CMP/GE  R1,R3
15111 000026D6 8B09                   M           BF      JMP0100002
15112                                 M   ;       === 0度をはさなまい===
15113 000026D8 200A                   M           XOR     R0,R0
15114 000026DA 3213                   M           CMP/GE  R1,R2           ;
15115 000026DC 8B0C                   M           BF      JMP0200002                      ; PV<SV1
15116 000026DE 3323                   M           CMP/GE  R2,R3           ;
15117 000026E0 8B0A                   M           BF      JMP0200002                      ; SV2<PV2 (1)
15118 000026E2 E001                   M           MOV     #1,R0           ;
15119                                 M           M_BRA   JMP0200002                      ;
15120 000026E4 A008                   M           BRA     JMP0200002
15121 000026E6 0009                   M           NOP
15122                                 M   
15123                                 M   ;       ==== ０度をはさむ====
15124                                 M   ***** BEGIN-POOL *****
15125 000026E8 06F4                   M   DATA FOR SOURCE-LINE 5679
15126 000026EA 0712                   M   DATA FOR SOURCE-LINE 5680
15127                                 M   ***** END-POOL *****
15128 000026EC                        M   JMP0100002:
15129 000026EC E001                   M           MOV     #1,R0
15130 000026EE 3213                   M           CMP/GE  R1,R2
15131 000026F0 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
15132 000026F2 3323                   M           CMP/GE  R2,R3           ;
15133 000026F4 8900                   M           BT      JMP0200002                      ;
15134 000026F6 200A                   M           XOR     R0,R0           ;
15135 000026F8                        M   JMP0200002:
15136 000026F8 2008              5682             TST     R0,R0                                           ;
15137                            5683             TST_BIT_ON ORGIN_180CK_200                              ;範囲内ﾋｽﾃﾘｼｽ中
15138 000026FA 8B11                   M           BF      ORGIN_180CK_200
15139                            5684     
15140                            5685             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15141 000026FC D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
15142 000026FE 6041                   M           MOV.W   @R4,R0          ;
15143 00002700 9108                   M           MOV.W   #LWORD (~BIT5),R1       ;
15144 00002702 2019                   M           AND     R1,R0           ;
15145 00002704 2401                   M           MOV.W   R0,@R4          ;
15146                            5686             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15147 00002706 D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
15148 00002708 6041                   M           MOV.W   @R4,R0          ;
15149 0000270A 9103                   M           MOV.W   #LWORD (~BIT5),R1       ;
15150 0000270C 2019                   M           AND     R1,R0           ;
15151 0000270E 2401                   M           MOV.W   R0,@R4          ;
15152                            5687             M_BRA   ORGIN_180CK_300                                 ;
15153 00002710 A00A                   M           BRA     ORGIN_180CK_300
15154 00002712 0009                   M           NOP
15155                            5688     
15156                            5689     ;       --------- ﾋｽﾃﾘｼｽ中---
15157                                     ***** BEGIN-POOL *****
15158 00002714 FFDF                       DATA FOR SOURCE-LINE 5685,5686
15159 00002716 0000                       ALIGNMENT CODE
15160 00002718 00000000                   DATA FOR SOURCE-LINE 5685
15161 0000271C 00000000                   DATA FOR SOURCE-LINE 5686
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   166
PROGRAM NAME =

15162                                     ***** END-POOL *****
15163 00002720                   5690     ORGIN_180CK_200
15164                            5691     ;       ======== CPUA => CPUB DIRECTION===
15165                            5692             .AIF    1 EQ    0
15166                            5693             .AELSE
15167 00002720 D103              5694 C           MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15168 00002722 6011              5695 C           MOV.W   @R1,R0                          ;
15169 00002724 D103              5696 C           MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15170 00002726 2101              5697 C           MOV.W   R0,@R1                          ;
15171                            5698             .AENDI
15172                            5699     
15173 00002728                   5700     ORGIN_180CK_300
15174                            5701     
15175                            5702     ;       ======== CPUB => CPUA DIRECTION===
15176                            5703             .AIF    1 EQ    0       ;
15177                            5704             MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15178                            5705             MOV.W   @R1,R0                          ;
15179                            5706             MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15180                            5707             MOV.W   R0,@R1                          ;
15181                            5708             .AELSE
15182                            5709             .AENDI
15183                            5710     
15184                            5711     
15185                            5712     
15186                            5713             SUB_END
15187                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15188 00002728 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15189                            5714             M_RTS
15190 0000272A 000B                   M           RTS                             ;RTSの後ろの
15191 0000272C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15192                            5715     
15193                            5716     ;       ***********************************
15194                            5717     ;       ***                             ***
15195                            5718     ;       ***     2008-11-11              ***
15196                            5719     ;       ***                             ***
15197                            5720     ;       ***********************************
15198                            5721     ;       ﾘﾆｱｽｹｰﾙ異常で停止させない場合、ﾘｾｯﾄをｼｰｹﾝｽから行う
15199                            5722             .EXPORT _RNA_ERR_RSTCHK                 ;
15200                                     ***** BEGIN-POOL *****
15201 0000272E 0000                       ALIGNMENT CODE
15202 00002730 00000000                   DATA FOR SOURCE-LINE 5694
15203 00002734 00000000                   DATA FOR SOURCE-LINE 5696
15204                                     ***** END-POOL *****
15205 00002738                   5723             .ALIGN  4                               ;
15206 00002738                   5724     _RNA_ERR_RSTCHK                                 ;
15207                            5725             SUB_START
15208 00002738 4F22                   M           STS.L   PR,@-R15                ;[必要]
15209                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15210                            5726     
15211                            5727     
15212 0000273A D10C              5728             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15213 0000273C 6011              5729             MOV.W   @R1,R0                          ;
15214 0000273E D10C              5730             MOV.L   #_SQ_RNA_ALMRST_OLD,R1          ;
15215 00002740 6211              5731             MOV.W   @R1,R2                          ;
15216 00002742 2101              5732             MOV.W   R0,@R1                          ;
15217 00002744 220A              5733             XOR     R0,R2                           ;EDGE
15218 00002746 2209              5734             AND     R0,R2                           ;ON EDGE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   167
PROGRAM NAME =

15219                            5735     
15220 00002748 D10A              5736             MOV.L   #_IN_PARAM_RNA_CHK,R1           ;1:ERRを見ない　特殊ﾊﾞｰｼﾞｮﾝ
15221 0000274A 6011              5737             MOV.W   @R1,R0                          ;
15222 0000274C 2008              5738             TST     R0,R0                           ;
15223                            5739             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15224 0000274E 8909                   M           BT      RNA_ERR_RSTCKEXT
15225                            5740     
15226 00002750 D109              5741             MOV.L   #_RNA_RESET_FLG,R1              ;(TIME-OUTを見ないだけ)
15227 00002752 6011              5742             MOV.W   @R1,R0                          ;
15228 00002754 2008              5743             TST     R0,R0                           ;
15229                            5744             TST_BIT_ON RNA_ERR_RSTCKEXT             ;
15230 00002756 8B05                   M           BF      RNA_ERR_RSTCKEXT
15231                            5745     
15232 00002758 9407              5746             MOV.W   #BIT12,R4                       ;
15233 0000275A 2248              5747             TST     R4,R2                           ;
15234                            5748             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15235 0000275C 8902                   M           BT      RNA_ERR_RSTCKEXT
15236                            5749     
15237                            5750             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;(ﾊｰﾄﾞ異常があれば異常ｺﾏﾝﾄﾞを出力する)
15238 0000275E D007                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15239 00002760 400B                   M           JSR     @R0                     ;
15240 00002762 0009                   M           NOP                                     ;
15241                            5751     
15242                            5752     
15243 00002764                   5753     RNA_ERR_RSTCKEXT                ;
15244                            5754             SUB_END
15245                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15246 00002764 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15247                            5755             M_RTS
15248 00002766 000B                   M           RTS                             ;RTSの後ろの
15249 00002768 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15250                            5756     
15251                            5757     
15252                            5758     ;       ***************************************************
15253                            5759     ;       ***                                             ***
15254                            5760     ;       ***     準備完了、未完了の遮光を急停止にする    ***
15255                            5761     ;       ***     このソフトでは停止にしない              ***
15256                            5762     ;       ***     MASKをやめる条件をつくるだけ            ***
15257                            5763     ;       ***     2012-09-25                              ***
15258                            5764     ;       ***************************************************
15259                                     ***** BEGIN-POOL *****
15260 0000276A 1000                       DATA FOR SOURCE-LINE 5746
15261 0000276C 00000000                   DATA FOR SOURCE-LINE 5728
15262 00002770 00000000                   DATA FOR SOURCE-LINE 5730
15263 00002774 00000000                   DATA FOR SOURCE-LINE 5736
15264 00002778 00000000                   DATA FOR SOURCE-LINE 5741
15265 0000277C 00000000                   DATA FOR SOURCE-LINE 5750
15266                                     ***** END-POOL *****
15267 00002780                   5765             .ALIGN  4                               ;
15268 00002780                   5766     _MASK2_SAFTY_MAK:
15269                            5767             SUB_START
15270 00002780 4F22                   M           STS.L   PR,@-R15                ;[必要]
15271                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15272                            5768     
15273 00002782 D10B              5769             MOV.L   #(_PAR_MYUTING_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15274 00002784 6011              5770             MOV.W   @R1,R0                                                  ;
15275 00002786 8801              5771             CMP/EQ  #1,R0                                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   168
PROGRAM NAME =

15276 00002788 8B1F              5772             BF      MASK2_SFYSTP500                                         ;ﾐｭｰﾃﾝｸﾞ選択外部SW
                                          を参照しない
15277                            5773     
15278 0000278A D10A              5774             MOV.L   #_SW_DEV_MASK_FLG,R1                                    ;
15279 0000278C 6011              5775             MOV.W   @R1,R0                                                  ;
15280 0000278E C803              5776             TST     #(BIT1+BIT0),R0                                         ;
15281                            5777             TST_BIT_OF MASK2_SFYSTP400                                      ;安全装置の有効・
                                          無効ＳＷ兼ROMパラ含む
15282 00002790 8918                   M           BT      MASK2_SFYSTP400
15283                            5778     
15284 00002792 D109              5779             MOV.L   #_di2_cb_ctl2_dt,R1                                     ;
15285 00002794 6211              5780             MOV.W   @R1,R2                                                  ;
15286 00002796 9409              5781             MOV.W   #_W2WT2,R4                                              ;BIT5
15287 00002798 2249              5782             AND     R4,R2                                                   ;
15288 0000279A D108              5783             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15289 0000279C 2121              5784             MOV.W   R2,@R1                                                  ;
15290                            5785     
15291 0000279E D108              5786             MOV.L   #_SELF_FLG,R1                                           ;//BIT0:ｾﾙﾌﾁｪｯｸ中
15292 000027A0 6011              5787             MOV.W   @R1,R0                                                  ;
15293 000027A2 C801              5788             TST     #BIT0,R0                                                ;
15294                            5789             TST_BIT_ON MASK2_SFYSTP500                                      ;
15295 000027A4 8B11                   M           BF      MASK2_SFYSTP500
15296                            5790     
15297 000027A6 9002              5791             MOV.W   #1,R0                                                   ;この時点である一
                                          部を安全一を除き準備完了中もEXQ停止
15298                            5792             M_BRA   MASK2_SFYSTP600                                         ;
15299 000027A8 A010                   M           BRA     MASK2_SFYSTP600
15300 000027AA 0009                   M           NOP
15301                            5793     
15302                            5794     
15303                                     ***** BEGIN-POOL *****
15304 000027AC 0020                       DATA FOR SOURCE-LINE 5781
15305 000027AE 0001                       DATA FOR SOURCE-LINE 5791
15306 000027B0 00000000                   DATA FOR SOURCE-LINE 5769
15307 000027B4 00000000                   DATA FOR SOURCE-LINE 5774
15308 000027B8 00000000                   DATA FOR SOURCE-LINE 5779
15309 000027BC 00000000                   DATA FOR SOURCE-LINE 5783
15310 000027C0 00000000                   DATA FOR SOURCE-LINE 5786
15311                                     ***** END-POOL *****
15312 000027C4                   5795     MASK2_SFYSTP400:
15313 000027C4 222A              5796             XOR     R2,R2
15314 000027C6 D104              5797             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15315 000027C8 2121              5798             MOV.W   R2,@R1                                                  ;
15316                            5799     
15317 000027CA                   5800     MASK2_SFYSTP500:
15318 000027CA 200A              5801             XOR     R0,R0
15319 000027CC                   5802     MASK2_SFYSTP600:
15320 000027CC D103              5803             MOV.L   #_UPMSK2_MOD,R1         ;//SWを0:参照しない,1:参照する
15321 000027CE 2101              5804             MOV.W   R0,@R1                  ;
15322                            5805     
15323 000027D0                   5806     MASK2_SFYSTPEXT:
15324                            5807     
15325                            5808             SUB_END
15326                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15327 000027D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   169
PROGRAM NAME =

15328                            5809             M_RTS
15329 000027D2 000B                   M           RTS                             ;RTSの後ろの
15330 000027D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15331                            5810     
15332                                     ***** BEGIN-POOL *****
15333 000027D6 0000                       ALIGNMENT CODE
15334 000027D8 00000000                   DATA FOR SOURCE-LINE 5797
15335 000027DC 00000000                   DATA FOR SOURCE-LINE 5803
15336                                     ***** END-POOL *****
15337 000027E0                   5811     _MASK2_SAFTY_SW_MOV:
15338                            5812             SUB_START
15339 000027E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
15340                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15341 000027E2 D103              5813             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15342 000027E4 6011              5814             MOV.W   @R1,R0                                                  ;
15343 000027E6 D103              5815             MOV.L   #_UPMAK2_MOD_USE_SW,R1                                  ;//0,1(反映ﾀｲﾐﾝｸﾞ
                                          後)
15344 000027E8 2101              5816             MOV.W   R0,@R1                                                  ;
15345                            5817     
15346                            5818             SUB_END
15347                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15348 000027EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15349                            5819             M_RTS
15350 000027EC 000B                   M           RTS                             ;RTSの後ろの
15351 000027EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15352                            5820     
15353                            5821     
15354                            5822     
15355                            5823     
15356                            5824     
15357                            5825     ;       *******************************************
15358                            5826     ;       ***                                     ***
15359                            5827     ;       ***             2014-02-20              ***
15360                            5828     ;       ***             SWによるﾓｰﾄﾞ制限        ***
15361                            5829     ;       *******************************************
15362                                     ***** BEGIN-POOL *****
15363 000027F0 00000000                   DATA FOR SOURCE-LINE 5813
15364 000027F4 00000000                   DATA FOR SOURCE-LINE 5815
15365                                     ***** END-POOL *****
15366 000027F8                   5830     _SFTY_MUTING_MODE_ERR:
15367                            5831             SUB_START
15368 000027F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15369                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15370 000027FA D10C              5832             MOV.L   #(_PAR_MYUTERR_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15371 000027FC 6011              5833             MOV.W   @R1,R0
15372 000027FE 8801              5834             CMP/EQ  #1,R0
15373 00002800 8B39              5835             BF      SFTY_MUTING_MODER_EXT           ;
15374                            5836     
15375 00002802 D10B              5837             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15376 00002804 6011              5838             MOV.W   @R1,R0                                                  ;
15377 00002806 D10B              5839             MOV.L   #_UPMSK2_MOD_IN_SWOLD,R1        ;//2014-02-20
15378 00002808 6211              5840             MOV.W   @R1,R2                          ;
15379 0000280A 2101              5841             MOV.W   R0,@R1                          ;
15380 0000280C 220A              5842             XOR     R0,R2                           ;
15381 0000280E 2028              5843             TST     R2,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   170
PROGRAM NAME =

15382                            5844             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15383 00002810 8916                   M           BT      SFTY_MUTING_MODER_100
15384                            5845     
15385                            5846     ;       ------無効から有効になった--------
15386 00002812 D109              5847             MOV.L   #_INP_MODE,R1                   ;
15387 00002814 6011              5848             MOV.W   @R1,R0                          ;
15388 00002816 9407              5849             MOV.W   #_W1CNT+_W1OPT,R4               ;
15389 00002818 2048              5850             TST     R4,R0                           ;
15390                            5851             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15391 0000281A 8911                   M           BT      SFTY_MUTING_MODER_100
15392                            5852     
15393 0000281C 9404              5853             MOV.W   #H'0018,R4                      ;
15394                            5854             FAR_JSR #_EMG_STOP,R0                   ;
15395 0000281E D007                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15396 00002820 400B                   M           JSR     @R0                     ;
15397 00002822 0009                   M           NOP                                     ;
15398                            5855             M_BRA   SFTY_MUTING_MODER_EXT           ;
15399 00002824 A027                   M           BRA     SFTY_MUTING_MODER_EXT
15400 00002826 0009                   M           NOP
15401                            5856     
15402                            5857     
15403                                     ***** BEGIN-POOL *****
15404 00002828 0018                       DATA FOR SOURCE-LINE 5849,5853
15405 0000282A 0000                       ALIGNMENT CODE
15406 0000282C 00000000                   DATA FOR SOURCE-LINE 5832
15407 00002830 00000000                   DATA FOR SOURCE-LINE 5837
15408 00002834 00000000                   DATA FOR SOURCE-LINE 5839
15409 00002838 00000000                   DATA FOR SOURCE-LINE 5847
15410 0000283C 00000000                   DATA FOR SOURCE-LINE 5854
15411                                     ***** END-POOL *****
15412 00002840                   5858     SFTY_MUTING_MODER_100:
15413                            5859     
15414                            5860     ;       -------------------------------------------
15415                            5861     ;       ---             ﾓｰﾄﾞ制限                ---
15416                            5862     ;       -------------------------------------------
15417                            5863     
15418 00002840 D104              5864             MOV.L   #_INP_MODE,R1                           ;
15419 00002842 6011              5865             MOV.W   @R1,R0                                  ;
15420 00002844 C808              5866             TST     #_W1CNT,R0                              ;
15421                            5867             TST_BIT_ON SFTY_MUTING_MODER_200                ;連続
15422 00002846 8B09                   M           BF      SFTY_MUTING_MODER_200
15423                            5868     
15424 00002848 D103              5869             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
15425 0000284A 6011              5870             MOV.W   @R1,R0                                  ;
15426 0000284C C810              5871             TST     #_W1OPT,R0                              ;
15427                            5872             TST_BIT_ON SFTY_MUTING_MODER_200                ;ｵﾌﾟｼｮﾝ
15428 0000284E 8B05                   M           BF      SFTY_MUTING_MODER_200
15429                            5873             M_BRA   SFTY_MUTING_MODER_EXT                   ;
15430 00002850 A011                   M           BRA     SFTY_MUTING_MODER_EXT
15431 00002852 0009                   M           NOP
15432                            5874     
15433                            5875     
15434                                     ***** BEGIN-POOL *****
15435 00002854 00000000                   DATA FOR SOURCE-LINE 5864
15436 00002858 00000000                   DATA FOR SOURCE-LINE 5869
15437                                     ***** END-POOL *****
15438 0000285C                   5876     SFTY_MUTING_MODER_200:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   171
PROGRAM NAME =

15439                            5877     
15440 0000285C D108              5878             MOV.L   #_UPMSK2_MOD_IN_SW,R1                   ;//BIT5=0/1(生　待機点2)
15441 0000285E 6011              5879             MOV.W   @R1,R0                                  ;
15442 00002860 2008              5880             TST     R0,R0                                   ;
15443                            5881             TST_BIT_OF SFTY_MUTING_MODER_EXT                ;
15444 00002862 8908                   M           BT      SFTY_MUTING_MODER_EXT
15445                            5882     
15446                            5883             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
                                          ;
15447 00002864 D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
15448 00002866 6011                   M           MOV.W   @R1,R0          ;
15449 00002868 9408                   M           MOV.W   #(BIT4),R4              ;
15450 0000286A 204B                   M           OR      R4,R0           ;
15451 0000286C 2101                   M           MOV.W   R0,@R1          ;
15452 0000286E 9406              5884             MOV.W   #H'2164,R4
                                          ;
15453                            5885             FAR_JSR #_EMG_STOP,R0
                                          ;
15454 00002870 D005                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15455 00002872 400B                   M           JSR     @R0                     ;
15456 00002874 0009                   M           NOP                                     ;
15457                            5886     
15458 00002876                   5887     SFTY_MUTING_MODER_EXT:
15459                            5888     
15460                            5889             SUB_END
15461                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15462 00002876 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15463                            5890             M_RTS
15464 00002878 000B                   M           RTS                             ;RTSの後ろの
15465 0000287A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15466                            5891     
15467                            5892     
15468                            5893     
15469                            5894     
15470                            5895     
15471                            5896     ;       ***************************************************
15472                            5897     ;       ***                                             ***
15473                            5898     ;       ***                                             ***
15474                            5899     ;       ***             制動試験                        ***
15475                            5900     ;       ***                                             ***
15476                            5901     ;       ***             2010-08-20                      ***
15477                            5902     ;       ***                                             ***
15478                            5903     ;       ***************************************************
15479                            5904     ;       ﾊﾟﾗﾒｰﾀ21から
15480                            5905     ;_PAR_SELF_MATH_SEL
15481                            5906     ;       MOV.L   #_SELF_CHK_SEL,R1               ;
15482                            5907     ;       MOV.W   R2,@R1                          ;0:ｾﾙﾌﾁｪｯｸなし
15483                            5908     ;                                               ;BIT0=1:非常停止解除時
15484                            5909     ;                                               ;BIT1=1:動作終了時
15485                            5910     ;       MOV.L   #_SELF_CHK_MATHED,R1            ;
15486                            5911     ;       MOV.W   R3,@R1                          ;項目
15487                            5912     ;       _PAR_SELFCHK_POWSEL     .DATA.W         1       ;0:電源投入時のみPARAM21 1:PARAM21
                                          のﾀｲﾐﾝｸﾞ
15488                            5913     ;
15489                            5914     ;       1回ｾﾙﾌﾁｪｯｸが終了し、起動したら、通常のｾﾙﾌﾁｪｯｸ _SELF_CHK_SEL
15490                            5915     ;       MOV.L   #_SELF_LOCK_FLG,R1
15491                            5916     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   172
PROGRAM NAME =

15492                            5917     ;
15493                            5918     
15494                                     ***** BEGIN-POOL *****
15495 0000287C 0010                       DATA FOR SOURCE-LINE 5883
15496 0000287E 2164                       DATA FOR SOURCE-LINE 5884
15497 00002880 00000000                   DATA FOR SOURCE-LINE 5878
15498 00002884 00000000                   DATA FOR SOURCE-LINE 5883
15499 00002888 00000000                   DATA FOR SOURCE-LINE 5885
15500                                     ***** END-POOL *****
15501 0000288C                   5919             .ALIGN  4
15502 0000288C                   5920     _BRKTST_CTRL:
15503                            5921             SUB_START
15504 0000288C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15505                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15506                            5922     
15507                            5923     ;       ------2011-09-14-------
15508                            5924             FAR_JSR #_BRKTST_INPUT_MAK,R0           ;
15509 0000288E D010                   M           MOV.L   #_BRKTST_INPUT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15510 00002890 400B                   M           JSR     @R0                     ;
15511 00002892 0009                   M           NOP                                     ;
15512                            5925     
15513                            5926     
15514 00002894 D10F              5927             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15515 00002896 6011              5928             MOV.W   @R1,R0                          ;
15516 00002898 C801              5929             TST     #BIT0,R0                        ;
15517                            5930             TST_BIT_ON BRKTST_CTL_100               ;
15518 0000289A 8B27                   M           BF      BRKTST_CTL_100
15519                            5931                                                     ;BIT0=1 START
15520                            5932                                                     ;BIT1=0 起動待ち BIT1=1 起動完了
15521                            5933                                                     ;BIT2=0 起動中   BIT2=1 停止指令ON
15522                            5934                                                     ;BIT3=0 停止待ち BIT3=1 停止完了
15523                            5935                                                     ;BIT4=1:98%到達
15524                            5936                                                     ;BIT5=0:正常 1:速度到達しないまたは停止時
                                          間ｵｰﾊﾞした失敗
15525                            5937                                                     ;BIT6=1 完了(指令OFF待ち)
15526                            5938                                                     ;BIT7=1 完了(このソフトでは使用しない)
15527                            5939     
15528                            5940     
15529                            5941     ;       ========== ILDE =========
15530                            5942     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15531 0000289C D10E              5943             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15532 0000289E 6011              5944             MOV.W   @R1,R0                          ;
15533 000028A0 C801              5945             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15534                            5946             TST_BIT_OF BRKTST_CTL_090               ;OFF
15535 000028A2 8911                   M           BT      BRKTST_CTL_090
15536                            5947     
15537                            5948     ;       --- ｾﾙﾌﾁｪｯｸ有ならｾﾙﾌﾁｪｯｸ完了後に行う---
15538 000028A4 D10D              5949             MOV.L   #_SELF_CHK_SEL,R1               ;
15539 000028A6 6011              5950             MOV.W   @R1,R0                          ;
15540 000028A8 2008              5951             TST     R0,R0                           ;
15541                            5952             TST_BIT_OF BRKTST_CTL_050               ;SELFﾁｪｯｸ有効？ NO
15542 000028AA 8903                   M           BT      BRKTST_CTL_050
15543                            5953     
15544 000028AC D10C              5954             MOV.L   #_SELF_FLG,R1                   ;//BIT0:ｾﾙﾌﾁｪｯｸ中  BIT7ｾﾙﾌﾁｪｯｸ正常完了
15545 000028AE 6011              5955             MOV.W   @R1,R0                          ;
15546 000028B0 C880              5956             TST     #BIT7,R0                        ;
15547                            5957             TST_BIT_OF BRKTST_CTL_090               ;ｾﾙﾌﾁｪｯｸ未完了
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   173
PROGRAM NAME =

15548 000028B2 8909                   M           BT      BRKTST_CTL_090
15549 000028B4                   5958     BRKTST_CTL_050:
15550                            5959     
15551                            5960             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
15552 000028B4 D00B                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15553 000028B6 400B                   M           JSR     @R0                     ;
15554 000028B8 0009                   M           NOP                                     ;
15555 000028BA 2008              5961             TST     R0,R0                           ;
15556                            5962             TST_BIT_ON BRKTST_CTL_090               ;R0!=0 EXIT
15557 000028BC 8B04                   M           BF      BRKTST_CTL_090
15558                            5963     
15559 000028BE 9005              5964             MOV.W   #BIT0,R0                        ;
15560 000028C0 D104              5965             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15561 000028C2 2101              5966             MOV.W   R0,@R1                          ;
15562                            5967                                                     ;BIT7が変化するときにCALL
15563 000028C4 D108              5968             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15564 000028C6 2101              5969             MOV.W   R0,@R1                          ;2011-09-14
15565                            5970             .AIF    1 EQ    0       ;
15566                            5971             FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15567                            5972             .AENDI
15568                            5973     
15569                            5974     
15570 000028C8                   5975     BRKTST_CTL_090:
15571                            5976             M_BRA   BRKTST_CTL_900                  ;
15572 000028C8 A0E8                   M           BRA     BRKTST_CTL_900
15573 000028CA 0009                   M           NOP
15574                            5977     
15575                            5978     
15576                            5979     ;       ------------- 動作中---------------
15577                                     ***** BEGIN-POOL *****
15578 000028CC 0001                       DATA FOR SOURCE-LINE 5964
15579 000028CE 0000                       ALIGNMENT CODE
15580 000028D0 00000000                   DATA FOR SOURCE-LINE 5924
15581 000028D4 00000000                   DATA FOR SOURCE-LINE 5927,5965
15582 000028D8 00000000                   DATA FOR SOURCE-LINE 5943
15583 000028DC 00000000                   DATA FOR SOURCE-LINE 5949
15584 000028E0 00000000                   DATA FOR SOURCE-LINE 5954
15585 000028E4 00000000                   DATA FOR SOURCE-LINE 5960
15586 000028E8 00000000                   DATA FOR SOURCE-LINE 5968
15587                                     ***** END-POOL *****
15588 000028EC                   5980     BRKTST_CTL_100:
15589                            5981     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15590 000028EC D10C              5982             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15591 000028EE 6011              5983             MOV.W   @R1,R0                          ;
15592 000028F0 C801              5984             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15593                            5985             TST_BIT_ON BRKTST_CTL_200               ;
15594 000028F2 8B2D                   M           BF      BRKTST_CTL_200
15595                            5986     
15596 000028F4 D10B              5987             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15597 000028F6 6011              5988             MOV.W   @R1,R0                          ;
15598 000028F8 C960              5989             AND     #(BIT6+BIT5),R0                 ;
15599 000028FA 8840              5990             CMP/EQ  #BIT6,R0                        ;異常がなくて正常完了している
15600 000028FC 891C              5991             BT      BRKTST_CTL_150                  ;正常完了状態でのOFF
15601                            5992     
15602                            5993     ;;;;2011-09-14  TST     #BIT6,R0                ;
15603                            5994     ;;;;2011-09-14  TST_BIT_ON BRKTST_CTL_150       ;完了状態でのOFF
15604                            5995     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   174
PROGRAM NAME =

15605                            5996                                                     ;動作中にモードＯＦＦした、異常停止
15606 000028FE 940E              5997             MOV.W   #H'3490,R4                      ;2010-12-21
15607                            5998             FAR_JSR #_EMG_STOP,R0                   ;
15608 00002900 D009                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15609 00002902 400B                   M           JSR     @R0                     ;
15610 00002904 0009                   M           NOP                                     ;
15611                            5999     
15612 00002906 200A              6000             XOR     R0,R0                           ;
15613 00002908 D106              6001             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15614 0000290A 2101              6002             MOV.W   R0,@R1                          ;
15615                            6003                                                     ;BIT7が変化するときにCALL
15616 0000290C D107              6004             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15617 0000290E 2101              6005             MOV.W   R0,@R1                          ;2011-09-14
15618                            6006             .AIF    1 EQ    0       ;
15619                            6007             FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15620                            6008             .AENDI
15621                            6009     
15622 00002910 200A              6010             XOR     R0,R0
15623 00002912 D107              6011             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
15624 00002914 2101              6012             MOV.W   R0,@R1
15625 00002916 D107              6013             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
15626 00002918 2101              6014             MOV.W   R0,@R1
15627                            6015     
15628                            6016             M_BRA   BRKTST_CTL_190
15629 0000291A A012                   M           BRA     BRKTST_CTL_190
15630 0000291C 0009                   M           NOP
15631                            6017     
15632                            6018     ;       --------- 正常完了状態でoffされた----------
15633                                     ***** BEGIN-POOL *****
15634 0000291E 3490                       DATA FOR SOURCE-LINE 5997
15635 00002920 00000000                   DATA FOR SOURCE-LINE 5982
15636 00002924 00000000                   DATA FOR SOURCE-LINE 5987,6001
15637 00002928 00000000                   DATA FOR SOURCE-LINE 5998
15638 0000292C 00000000                   DATA FOR SOURCE-LINE 6004
15639 00002930 00000000                   DATA FOR SOURCE-LINE 6011
15640 00002934 00000000                   DATA FOR SOURCE-LINE 6013
15641                                     ***** END-POOL *****
15642 00002938                   6019     BRKTST_CTL_150:
15643                            6020     
15644 00002938 9005              6021             MOV.W   #BIT7,R0                        ;
15645 0000293A D103              6022             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15646 0000293C 2101              6023             MOV.W   R0,@R1                          ;
15647                            6024                                                     ;BIT7が変化するときにCALL
15648 0000293E D103              6025             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15649 00002940 2101              6026             MOV.W   R0,@R1                          ;2011-09-14
15650                            6027             .AIF    1 EQ    0       ;
15651                            6028             FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15652                            6029             .AENDI
15653                            6030     
15654                            6031     
15655 00002942                   6032     BRKTST_CTL_190:
15656                            6033             M_BRA   BRKTST_CTL_900                  ;
15657 00002942 A0AB                   M           BRA     BRKTST_CTL_900
15658 00002944 0009                   M           NOP
15659                            6034     
15660                            6035     ;       -------------起動待ち(BIT1=0),起動中(),停止判定待ち-----------------
15661                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   175
PROGRAM NAME =

15662 00002946 0080                       DATA FOR SOURCE-LINE 6021
15663 00002948 00000000                   DATA FOR SOURCE-LINE 6022
15664 0000294C 00000000                   DATA FOR SOURCE-LINE 6025
15665                                     ***** END-POOL *****
15666 00002950                   6036     BRKTST_CTL_200:
15667 00002950 D102              6037             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15668 00002952 6011              6038             MOV.W   @R1,R0                          ;
15669                            6039     
15670 00002954 C808              6040             TST     #BIT3,R0                        ;
15671                            6041             TST_BIT_OF BRKTST_CTL_220               ;
15672 00002956 8903                   M           BT      BRKTST_CTL_220
15673                            6042             M_BRA   BRKTST_CTL_500                  ;[停止完了]
15674 00002958 A090                   M           BRA     BRKTST_CTL_500
15675 0000295A 0009                   M           NOP
15676                            6043     
15677                                     ***** BEGIN-POOL *****
15678 0000295C 00000000                   DATA FOR SOURCE-LINE 6037
15679                                     ***** END-POOL *****
15680 00002960                   6044     BRKTST_CTL_220:
15681 00002960 C804              6045             TST     #BIT2,R0                        ;
15682                            6046             TST_BIT_ON BRKTST_CTL_400               ;
15683 00002962 8B6D                   M           BF      BRKTST_CTL_400
15684 00002964 C802              6047             TST     #BIT1,R0                        ;
15685                            6048             TST_BIT_ON BRKTST_CTL_300               ;
15686 00002966 8B35                   M           BF      BRKTST_CTL_300
15687                            6049     
15688                            6050     ;       ---- 起動待ち[BIT1=0]-----
15689                            6051     
15690                            6052     ;       ===============準備完了・未完了処置===========
15691                            6053     ;       --- 2010-10-22 ---------
15692                            6054             FAR_JSR #_BRKTST_RDY_CHK,R0             ;
15693 00002968 D003                   M           MOV.L   #_BRKTST_RDY_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15694 0000296A 400B                   M           JSR     @R0                     ;
15695 0000296C 0009                   M           NOP                                     ;
15696                            6055     
15697 0000296E 2008              6056             TST     R0,R0                           ;
15698                            6057             TST_BIT_OF BRKTST_CTL_250               ;
15699 00002970 8904                   M           BT      BRKTST_CTL_250
15700                            6058             M_BRA   BRKTST_CTL_290                  ;RDY-OFFまたはrdy-onだが(起動不可)
15701 00002972 A024                   M           BRA     BRKTST_CTL_290
15702 00002974 0009                   M           NOP
15703                            6059     
15704                            6060     ;       ---------- 準備完了で”起動受付可能”な状況
15705                                     ***** BEGIN-POOL *****
15706 00002976 0000                       ALIGNMENT CODE
15707 00002978 00000000                   DATA FOR SOURCE-LINE 6054
15708                                     ***** END-POOL *****
15709 0000297C                   6061     BRKTST_CTL_250:
15710                            6062     
15711                            6063             FAR_JSR #_BTTN_START_CHK,R0     ;
15712 0000297C D005                   M           MOV.L   #_BTTN_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15713 0000297E 400B                   M           JSR     @R0                     ;
15714 00002980 0009                   M           NOP                                     ;
15715 00002982 2008              6064             TST     R0,R0                   ;
15716                            6065             TST_BIT_OF BRKTST_CTL_290       ;変化なし
15717 00002984 891B                   M           BT      BRKTST_CTL_290
15718 00002986 8855              6066             CMP/EQ  #H'55,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   176
PROGRAM NAME =

15719 00002988 8908              6067             BT      BRKTST_CTL_260          ;起動
15720                            6068     
15721                            6069     ;       ---------- 失敗-----------
15722                            6070             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
15723 0000298A D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15724 0000298C 400B                   M           JSR     @R0                     ;
15725 0000298E 0009                   M           NOP                                     ;
15726                            6071             M_BRA   BRKTST_CTL_290                  ;
15727 00002990 A015                   M           BRA     BRKTST_CTL_290
15728 00002992 0009                   M           NOP
15729                            6072     
15730                            6073     
15731                                     ***** BEGIN-POOL *****
15732 00002994 00000000                   DATA FOR SOURCE-LINE 6063
15733 00002998 00000000                   DATA FOR SOURCE-LINE 6070
15734                                     ***** END-POOL *****
15735 0000299C                   6074     BRKTST_CTL_260:
15736                            6075             FAR_JSR #_DRV_START_KEP_WAIT,R0                         ;
15737 0000299C D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15738 0000299E 400B                   M           JSR     @R0                     ;
15739 000029A0 0009                   M           NOP                                     ;
15740 000029A2 2008              6076             TST     R0,R0                                           ;
15741                            6077             TST_BIT_OF BRKTST_CTL_290                               ;
15742 000029A4 890B                   M           BT      BRKTST_CTL_290
15743 000029A6 8855              6078             CMP/EQ  #H'55,R0
15744 000029A8 8B09              6079             BF      BRKTST_CTL_290                                  ;"1"ﾛｯｸ解除中待ち
15745                            6080     
15746                            6081             FAR_JSR #_BRKTST_CHKDT_MAK,R0
15747 000029AA D007                   M           MOV.L   #_BRKTST_CHKDT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15748 000029AC 400B                   M           JSR     @R0                     ;
15749 000029AE 0009                   M           NOP                                     ;
15750                            6082             FAR_JSR #_BRKTST_MOTOR_START,R0                                         ;起動
15751 000029B0 D006                   M           MOV.L   #_BRKTST_MOTOR_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15752 000029B2 400B                   M           JSR     @R0                     ;
15753 000029B4 0009                   M           NOP                                     ;
15754                            6083             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
15755 000029B6 D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15756 000029B8 6011                   M           MOV.W   @R1,R0          ;
15757 000029BA CB02                   M           OR      #BIT1,R0                ;
15758 000029BC 2101                   M           MOV.W   R0,@R1          ;
15759 000029BE                   6084     BRKTST_CTL_290:
15760                            6085             M_BRA   BRKTST_CTL_900                                                  ;
15761 000029BE A06D                   M           BRA     BRKTST_CTL_900
15762 000029C0 0009                   M           NOP
15763                            6086     
15764                            6087     ;       ----------------------------------------
15765                                     ***** BEGIN-POOL *****
15766 000029C2 0000                       ALIGNMENT CODE
15767 000029C4 00000000                   DATA FOR SOURCE-LINE 6075
15768 000029C8 00000000                   DATA FOR SOURCE-LINE 6081
15769 000029CC 00000000                   DATA FOR SOURCE-LINE 6082
15770 000029D0 00000000                   DATA FOR SOURCE-LINE 6083
15771                                     ***** END-POOL *****
15772 000029D4                   6088     BRKTST_CTL_300:
15773                            6089     ;       ------ 98%CHKCK----
15774                            6090             FAR_JSR #_BRKTST_SPD_CHK,R0
15775 000029D4 D008                   M           MOV.L   #_BRKTST_SPD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   177
PROGRAM NAME =

15776 000029D6 400B                   M           JSR     @R0                     ;
15777 000029D8 0009                   M           NOP                                     ;
15778                            6091     
15779                            6092     ;       ---- 起動中・停止指令待ち[BIT2=0]-----
15780                            6093     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15781 000029DA D108              6094             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15782 000029DC 6011              6095             MOV.W   @R1,R0                                                          ;
15783 000029DE C802              6096             TST     #BIT1,R0                                                        ;349.1(停
                                          止指令)
15784                            6097             TST_BIT_OF BRKTST_CTL_350                                               ;
15785 000029E0 8912                   M           BT      BRKTST_CTL_350
15786 000029E2 9408              6098             MOV.W   #H'3491,R4                                                      ;2010-12-2
                                          1
15787                            6099             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
15788 000029E4 D006                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15789 000029E6 400B                   M           JSR     @R0                     ;
15790 000029E8 0009                   M           NOP                                     ;
15791                            6100             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT2,WKREG=R1      ;ちゃんと
                                          した停止
15792 000029EA D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15793 000029EC 6011                   M           MOV.W   @R1,R0          ;
15794 000029EE CB04                   M           OR      #BIT2,R0                ;
15795 000029F0 2101                   M           MOV.W   R0,@R1          ;
15796                            6101             M_BRA   BRKTST_CTL_390
15797 000029F2 A01A                   M           BRA     BRKTST_CTL_390
15798 000029F4 0009                   M           NOP
15799                            6102     
15800                                     ***** BEGIN-POOL *****
15801 000029F6 3491                       DATA FOR SOURCE-LINE 6098
15802 000029F8 00000000                   DATA FOR SOURCE-LINE 6090
15803 000029FC 00000000                   DATA FOR SOURCE-LINE 6094
15804 00002A00 00000000                   DATA FOR SOURCE-LINE 6099
15805 00002A04 00000000                   DATA FOR SOURCE-LINE 6100
15806                                     ***** END-POOL *****
15807 00002A08                   6103     BRKTST_CTL_350:
15808 00002A08 D109              6104             MOV.L   #_BTTN_FLG,R1                   ;
15809 00002A0A 6011              6105             MOV.W   @R1,R0                          ;
15810 00002A0C C804              6106             TST     #BIT2,R0                        ;両手ON
15811                            6107             TST_BIT_OF BRKTST_CTL_360               ;両手ONでない
15812 00002A0E 8904                   M           BT      BRKTST_CTL_360
15813                            6108     
15814                            6109             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
15815 00002A10 D008                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15816 00002A12 400B                   M           JSR     @R0                     ;
15817 00002A14 0009                   M           NOP                                     ;
15818 00002A16 2008              6110             TST     R0,R0                           ;
15819                            6111             TST_BIT_OF BRKTST_CTL_390               ;
15820 00002A18 8907                   M           BT      BRKTST_CTL_390
15821                            6112     
15822 00002A1A                   6113     BRKTST_CTL_360                                  ;両手ONでない
15823 00002A1A 9408              6114             MOV.W   #H'3492,R4                      ;2010-12-21
15824                            6115     ;;;;    FAR_JSR #_BRKTST_MOTOR_STOP,R0          ;動作中に運転釦を離したまたは異常が発生し
                                          た
15825                            6116             FAR_JSR #_EMG_STOP,R0                   ;
15826 00002A1C D006                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15827 00002A1E 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   178
PROGRAM NAME =

15828 00002A20 0009                   M           NOP                                     ;
15829                            6117             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT5+BIT2),WKREG=R1       ;B
                                          IT5異常
15830 00002A22 D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15831 00002A24 6011                   M           MOV.W   @R1,R0          ;
15832 00002A26 CB24                   M           OR      #(BIT5+BIT2),R0         ;
15833 00002A28 2101                   M           MOV.W   R0,@R1          ;
15834 00002A2A                   6118     BRKTST_CTL_390:
15835                            6119             M_BRA   BRKTST_CTL_900                  ;
15836 00002A2A A037                   M           BRA     BRKTST_CTL_900
15837 00002A2C 0009                   M           NOP
15838                            6120     
15839                            6121     
15840                            6122     
15841                            6123     
15842                            6124     ;       ----------------------------------------
15843                                     ***** BEGIN-POOL *****
15844 00002A2E 3492                       DATA FOR SOURCE-LINE 6114
15845 00002A30 00000000                   DATA FOR SOURCE-LINE 6104
15846 00002A34 00000000                   DATA FOR SOURCE-LINE 6109
15847 00002A38 00000000                   DATA FOR SOURCE-LINE 6116
15848 00002A3C 00000000                   DATA FOR SOURCE-LINE 6117
15849                                     ***** END-POOL *****
15850 00002A40                   6125     BRKTST_CTL_400:
15851                            6126     ;       ---- 停止指令ON 停止判定待ち[BIT3=0]-----
15852 00002A40 D10B              6127             MOV.L   #_STOPPING_TIM_FLG,R1                                           ;
15853 00002A42 6011              6128             MOV.W   @R1,R0
15854 00002A44 C840              6129             TST     #BIT6,R0                                                        ;
15855                            6130             TST_BIT_OF BRKTST_CTL_490                                               ;
15856 00002A46 8910                   M           BT      BRKTST_CTL_490
15857                            6131     
15858                            6132             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT3,WKREG=R1      ;[停止完了
                                          ]
15859 00002A48 D10A                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15860 00002A4A 6011                   M           MOV.W   @R1,R0          ;
15861 00002A4C CB08                   M           OR      #BIT3,R0                ;
15862 00002A4E 2101                   M           MOV.W   R0,@R1          ;
15863                            6133     
15864                            6134     
15865                            6135     ;;;;    MOV.L   #_SQ_CBWK_TOP+_WKSQCB212,R1
15866                            6136     ;;;;    MOV.W   @R1,R0
15867                            6137     ;;;;    MOV.W   #(BIT9+BIT8),R4                                                 ;
15868                            6138     
15869 00002A50 D109              6139             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1
15870 00002A52 6011              6140             MOV.W   @R1,R0
15871 00002A54 940B              6141             MOV.W   #(BIT15+BIT14),R4                                                       ;
15872 00002A56 2048              6142             TST     R4,R0                                                           ;
15873                            6143             TST_BIT_ON BRKTST_CTL_450                                               ;
15874 00002A58 8B03                   M           BF      BRKTST_CTL_450
15875                            6144     
15876 00002A5A D106              6145             MOV.L   #_BRKTST_MOD_FLG,R1                                             ;
15877 00002A5C 6011              6146             MOV.W   @R1,R0                                                          ;
15878 00002A5E C810              6147             TST     #BIT4,R0                                                        ;
15879                            6148             TST_BIT_ON BRKTST_CTL_490                                               ;速度到達
15880 00002A60 8B03                   M           BF      BRKTST_CTL_490
15881                            6149     
15882 00002A62                   6150     BRKTST_CTL_450:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   179
PROGRAM NAME =

15883                            6151             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT5,WKREG=R1      ;停止ｵｰﾊﾞ
15884 00002A62 D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15885 00002A64 6011                   M           MOV.W   @R1,R0          ;
15886 00002A66 CB20                   M           OR      #BIT5,R0                ;
15887 00002A68 2101                   M           MOV.W   R0,@R1          ;
15888                            6152     
15889 00002A6A                   6153     BRKTST_CTL_490:
15890                            6154             M_BRA   BRKTST_CTL_900                  ;
15891 00002A6A A017                   M           BRA     BRKTST_CTL_900
15892 00002A6C 0009                   M           NOP
15893                            6155     
15894                            6156     
15895                            6157     ;       ---------[正常に停止完了した 異常にして、リセットを待つ]-----------------
15896                                     ***** BEGIN-POOL *****
15897 00002A6E C000                       DATA FOR SOURCE-LINE 6141
15898 00002A70 00000000                   DATA FOR SOURCE-LINE 6127
15899 00002A74 00000000                   DATA FOR SOURCE-LINE 6132,6145,6151
15900 00002A78 00000000                   DATA FOR SOURCE-LINE 6139
15901                                     ***** END-POOL *****
15902 00002A7C                   6158     BRKTST_CTL_500:
15903 00002A7C 9408              6159             MOV.W   #H'3493,R4                                                      ;2010-12-2
                                          1
15904                            6160             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
15905 00002A7E D005                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15906 00002A80 400B                   M           JSR     @R0                     ;
15907 00002A82 0009                   M           NOP                                     ;
15908                            6161             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT6,WKREG=R1      ;bit-set
15909 00002A84 D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15910 00002A86 6011                   M           MOV.W   @R1,R0          ;
15911 00002A88 CB40                   M           OR      #BIT6,R0                ;
15912 00002A8A 2101                   M           MOV.W   R0,@R1          ;
15913                            6162             M_BRA   BRKTST_CTL_900                                                  ;
15914 00002A8C A006                   M           BRA     BRKTST_CTL_900
15915 00002A8E 0009                   M           NOP
15916                            6163     
15917                            6164     
15918                            6165     
15919                            6166     ;       ---------------------------------------------
15920                                     ***** BEGIN-POOL *****
15921 00002A90 3493                       DATA FOR SOURCE-LINE 6159
15922 00002A92 0000                       ALIGNMENT CODE
15923 00002A94 00000000                   DATA FOR SOURCE-LINE 6160
15924 00002A98 00000000                   DATA FOR SOURCE-LINE 6161
15925                                     ***** END-POOL *****
15926 00002A9C                   6167     BRKTST_CTL_900:
15927                            6168     
15928 00002A9C D10C              6169             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15929 00002A9E 6011              6170             MOV.W   @R1,R0                          ;
15930 00002AA0 D10C              6171             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1     ;
15931 00002AA2 6211              6172             MOV.W   @R1,R2                          ;
15932 00002AA4 9411              6173             MOV.W   #H'FF00,R4                      ;
15933 00002AA6 2249              6174             AND     R4,R2
15934 00002AA8 6447              6175             NOT     R4,R4
15935 00002AAA 2049              6176             AND     R4,R0
15936 00002AAC 220B              6177             OR      R0,R2
15937 00002AAE 2121              6178             MOV.W   R2,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   180
PROGRAM NAME =

15938                            6179     
15939                            6180     
15940                            6181     
15941                            6182     
15942                            6183     ;       -----------ﾌﾞﾚｰｷﾃｽﾄ時にｽﾄｯﾋﾟﾝｸﾞﾀｲﾏﾘｾｯﾄ
15943 00002AB0 D109              6184             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更
15944 00002AB2 6011              6185             MOV.W   @R1,R0                  ;
15945 00002AB4 940A              6186             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
15946 00002AB6 2048              6187             TST     R4,R0                   ;ONｴｯｼﾞ
15947                            6188             TST_BIT_OF BRKTST_CTL_950       ;
15948 00002AB8 8904                   M           BT      BRKTST_CTL_950
15949                            6189             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB229,LG=W,BIT=~(BIT15+BIT14+BIT13+BIT12),
                                          WKRG1=R1,WKRG2=R4       ;
15950 00002ABA D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1             ;
15951 00002ABC 6011                   M           MOV.W   @R1,R0          ;
15952 00002ABE 9406                   M           MOV.W   #LWORD ~(BIT15+BIT14+BIT13+BIT12),R4    ;
15953 00002AC0 2049                   M           AND     R4,R0           ;
15954 00002AC2 2101                   M           MOV.W   R0,@R1          ;
15955 00002AC4                   6190     BRKTST_CTL_950:
15956                            6191     
15957                            6192     
15958                            6193             SUB_END
15959                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15960 00002AC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15961                            6194             M_RTS
15962 00002AC6 000B                   M           RTS                             ;RTSの後ろの
15963 00002AC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15964                            6195     
15965                            6196     
15966                            6197     
15967                            6198     ;       ***********************************
15968                            6199     ;       ***                             ***
15969                            6200     ;       ***     制動モード条件          ***
15970                            6201     ;       ***                             ***
15971                            6202     ;       ***********************************
15972                            6203     ;ANS:R0=0 NOMAL
15973                            6204     ;    R0=-1 ERR
15974                                     ***** BEGIN-POOL *****
15975 00002ACA FF00                       DATA FOR SOURCE-LINE 6173
15976 00002ACC 8000                       DATA FOR SOURCE-LINE 6186
15977 00002ACE 0FFF                       DATA FOR SOURCE-LINE 6189
15978 00002AD0 00000000                   DATA FOR SOURCE-LINE 6169
15979 00002AD4 00000000                   DATA FOR SOURCE-LINE 6171,6189
15980 00002AD8 00000000                   DATA FOR SOURCE-LINE 6184
15981                                     ***** END-POOL *****
15982 00002ADC                   6205     _BRKTST_MODE_CONF:
15983                            6206             SUB_START
15984 00002ADC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15985                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15986                            6207     
15987 00002ADE E2FF              6208             MOV.B   #-1,R2                                  ;
15988                            6209     
15989                            6210     ;;;;2011-09-14  MOV.L   #_INP_MODE,R1                           ;
15990                            6211     ;;;;;   MOV.W   @R1,R0                                  ;
15991                            6212     ;;;;2010-08     TST     #_W1DUP,R0                              ;上死点復帰
15992                            6213     ;;;;2011-09-14  TST     #_W1DIC,R0                              ;段取寸動
15993                            6214     ;;;;2011-09-14  TST_BIT_OF BRKTST_MOD_CF_END                    ;NO END[[[[[[[ここは実行さ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   181
PROGRAM NAME =

                                          れない CMDを落とすから]]]]]
15994                            6215     
15995 00002AE0 D105              6216             MOV.L   #_emg_err_flg,R1                        ;//異常ﾗｯﾁ
15996 00002AE2 6011              6217             MOV.W   @R1,R0                                  ;
15997 00002AE4 D105              6218             MOV.L   #_exq_err_flg,R1                        ;//異常ﾗｯﾁ
15998 00002AE6 6311              6219             MOV.W   @R1,R3                                  ;
15999 00002AE8 203B              6220             OR      R3,R0                                   ;
16000 00002AEA 2008              6221             TST     R0,R0                                   ;
16001                            6222             TST_BIT_ON BRKTST_MOD_CF_END                    ;
16002 00002AEC 8B00                   M           BF      BRKTST_MOD_CF_END
16003                            6223     
16004 00002AEE 222A              6224             XOR     R2,R2                                   ;
16005 00002AF0                   6225     BRKTST_MOD_CF_END:
16006 00002AF0 6023              6226             MOV     R2,R0                                   ;
16007                            6227             SUB_END
16008                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16009 00002AF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16010                            6228             M_RTS
16011 00002AF4 000B                   M           RTS                             ;RTSの後ろの
16012 00002AF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16013                            6229     
16014                            6230     ;       *******************************************
16015                            6231     ;       ***                                     ***
16016                            6232     ;       ***                                     ***
16017                            6233     ;       ***                                     ***
16018                            6234     ;       *******************************************
16019                                     ***** BEGIN-POOL *****
16020 00002AF8 00000000                   DATA FOR SOURCE-LINE 6216
16021 00002AFC 00000000                   DATA FOR SOURCE-LINE 6218
16022                                     ***** END-POOL *****
16023 00002B00                   6235             .ALIGN  4
16024 00002B00                   6236     _BRKTST_INPUT_MAK:
16025                            6237             SUB_START
16026 00002B00 4F22                   M           STS.L   PR,@-R15                ;[必要]
16027                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16028                            6238     ;       -------- 2011-09-14---
16029 00002B02 D10A              6239             MOV.L   #_INP_MODE,R1                           ;
16030 00002B04 6011              6240             MOV.W   @R1,R0                                  ;
16031 00002B06 C804              6241             TST     #_W1SGL,R0                              ;安全一行程SW
16032                            6242             TST_BIT_OF BRKTST_INPUTMK_100                   ;
16033 00002B08 891A                   M           BT      BRKTST_INPUTMK_100
16034                            6243     
16035 00002B0A D109              6244             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
16036 00002B0C 6011              6245             MOV.W   @R1,R0                                  ;
16037 00002B0E C810              6246             TST     #_W1OPT,R0                              ;OPT
16038                            6247             TST_BIT_ON BRKTST_INPUTMK_100                   ;OPTIONの安全でした
16039 00002B10 8B16                   M           BF      BRKTST_INPUTMK_100
16040                            6248     
16041                            6249     ;;;;    MOV.L   #_CB_SEQ_CB_COM349,R1                           ;これは本当は違う　安全装
                                          置入／切
16042                            6250     ;;;;    MOV.W   @R1,R0                                          ;
16043                            6251     ;;;;    TST     #BIT0,R0                                        ;
16044                            6252     ;;;;    TST_BIT_OF BRKTST_INPUTMK_100                           ;
16045                            6253     
16046 00002B12 D108              6254             MOV.L   #_BRKTST_SW_IN,R1                               ;
16047 00002B14 6011              6255             MOV.W   @R1,R0                                          ;
16048 00002B16 C801              6256             TST     #BIT0,R0                                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   182
PROGRAM NAME =

16049                            6257             TST_BIT_OF BRKTST_INPUTMK_100                           ;BIT0=BIT1=1でくる
16050 00002B18 8912                   M           BT      BRKTST_INPUTMK_100
16051                            6258     
16052                            6259             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_INPUT_CMD,LG=W,BIT=(BIT0),WKREG=R1  ;[安全一行
                                          程のみonする]
16053 00002B1A D107                   M           MOV.L   #_BRKTST_INPUT_CMD,R1           ;
16054 00002B1C 6011                   M           MOV.W   @R1,R0          ;
16055 00002B1E CB01                   M           OR      #(BIT0),R0              ;
16056 00002B20 2101                   M           MOV.W   R0,@R1          ;
16057                            6260             FAR_JSR #_BRKTST_STOPSIG_MAKE,R0                                        ;
16058 00002B22 D006                   M           MOV.L   #_BRKTST_STOPSIG_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16059 00002B24 400B                   M           JSR     @R0                     ;
16060 00002B26 0009                   M           NOP                                     ;
16061                            6261             M_BRA   BRKTST_INPUTMK_200                                              ;
16062 00002B28 A00F                   M           BRA     BRKTST_INPUTMK_200
16063 00002B2A 0009                   M           NOP
16064                            6262     
16065                                     ***** BEGIN-POOL *****
16066 00002B2C 00000000                   DATA FOR SOURCE-LINE 6239
16067 00002B30 00000000                   DATA FOR SOURCE-LINE 6244
16068 00002B34 00000000                   DATA FOR SOURCE-LINE 6254
16069 00002B38 00000000                   DATA FOR SOURCE-LINE 6259
16070 00002B3C 00000000                   DATA FOR SOURCE-LINE 6260
16071                                     ***** END-POOL *****
16072 00002B40                   6263     BRKTST_INPUTMK_100:
16073 00002B40 200A              6264             XOR     R0,R0                                   ;
16074 00002B42 D103              6265             MOV.L   #_BRKTST_INPUT_CMD,R1                   ;2011-09-14
16075 00002B44 2101              6266             MOV.W   R0,@R1                                  ;
16076 00002B46 D103              6267             MOV.L   #_BRKTST_STR_FLG,R1                     ;
16077 00002B48 2101              6268             MOV.W   R0,@R1                                  ;
16078                            6269     
16079 00002B4A                   6270     BRKTST_INPUTMK_200:
16080                            6271     
16081                            6272             SUB_END
16082                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16083 00002B4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16084                            6273             M_RTS
16085 00002B4C 000B                   M           RTS                             ;RTSの後ろの
16086 00002B4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16087                            6274     
16088                            6275     
16089                            6276     
16090                            6277     ;       ***********************************
16091                            6278     ;       ***                             ***
16092                            6279     ;       ***     制動試験準備完了条件    ***
16093                            6280     ;       ***     2010-10-22              ***
16094                            6281     ;       ***********************************
16095                            6282     ;ANS:R0=0 RDY-ON
16096                            6283     ;    R0=-1 RDY-OFF
16097                            6284     ;       FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
16098                                     ***** BEGIN-POOL *****
16099 00002B50 00000000                   DATA FOR SOURCE-LINE 6265
16100 00002B54 00000000                   DATA FOR SOURCE-LINE 6267
16101                                     ***** END-POOL *****
16102 00002B58                   6285     _BRKTST_RDY_CHK:
16103                            6286             SUB_START
16104 00002B58 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   183
PROGRAM NAME =

16105                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16106                            6287     
16107                            6288     ;       ===========================
16108                            6289     ;       ===     安全装置ﾏｽｸ     ===
16109                            6290     ;       ===========================
16110                            6291     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
16111                            6292     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
16112                            6293     
16113                            6294     ;;;;_BRK_SADOU_CHG 2015-09-06[MCは後から修正]
16114                            6295     ;;;     FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23
16115                            6296     
16116                            6297     ;       -------- 2015-09-06---------
16117 00002B5A D104              6298             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
16118 00002B5C 6011              6299             MOV.W   @R1,R0                                                  ;
16119 00002B5E 8801              6300             CMP/EQ  #1,R0
16120 00002B60 8908              6301             BT      BRKTST_RDY_SFTY_MASK2CHK055                                     ;停止制御
                                          有効
16121                            6302     
16122                            6303             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
16123 00002B62 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16124 00002B64 400B                   M           JSR     @R0                     ;
16125 00002B66 0009                   M           NOP                                     ;
16126                            6304             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100                                     ;
16127 00002B68 A015                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16128 00002B6A 0009                   M           NOP
16129                            6305     
16130                                     ***** BEGIN-POOL *****
16131 00002B6C 00000000                   DATA FOR SOURCE-LINE 6298
16132 00002B70 00000000                   DATA FOR SOURCE-LINE 6303
16133                                     ***** END-POOL *****
16134 00002B74                   6306     BRKTST_RDY_SFTY_MASK2CHK055:
16135                            6307     
16136 00002B74 D104              6308             MOV.L   #_DRV_START_KEEP,R1
16137 00002B76 6011              6309             MOV.W   @R1,R0                          ;
16138 00002B78 C801              6310             TST     #BIT0,R0                        ;
16139                            6311             TST_BIT_ON BRKTST_RDY_SFTY_MASK2CHK060          ;
16140 00002B7A 8B09                   M           BF      BRKTST_RDY_SFTY_MASK2CHK060
16141                            6312     
16142                            6313             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
16143 00002B7C D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16144 00002B7E 400B                   M           JSR     @R0                     ;
16145 00002B80 0009                   M           NOP                                     ;
16146                            6314             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100             ;
16147 00002B82 A008                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16148 00002B84 0009                   M           NOP
16149                            6315     
16150                                     ***** BEGIN-POOL *****
16151 00002B86 0000                       ALIGNMENT CODE
16152 00002B88 00000000                   DATA FOR SOURCE-LINE 6308
16153 00002B8C 00000000                   DATA FOR SOURCE-LINE 6313
16154                                     ***** END-POOL *****
16155 00002B90                   6316     BRKTST_RDY_SFTY_MASK2CHK060:
16156                            6317             FAR_JSR #_SFTY_MASK_END,R0              ;
16157 00002B90 D011                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16158 00002B92 400B                   M           JSR     @R0                     ;
16159 00002B94 0009                   M           NOP                                     ;
16160 00002B96                   6318     BRKTST_RDY_SFTY_MASK2CHK100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   184
PROGRAM NAME =

16161                            6319     
16162                            6320     
16163                            6321     
16164 00002B96 D111              6322             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
16165 00002B98 6011              6323             MOV.W   @R1,R0                  ;
16166 00002B9A C820              6324             TST     #_WORDY,R0              ;RDY
16167                            6325             TST_BIT_ON BRKTST_RDYCK_0200    ;(準備完了ON)
16168 00002B9C 8B2E                   M           BF      BRKTST_RDYCK_0200
16169                            6326     
16170                            6327     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
16171                            6328     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;
16172                            6329     
16173                            6330             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16174 00002B9E D010                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16175 00002BA0 400B                   M           JSR     @R0                     ;
16176 00002BA2 0009                   M           NOP                                     ;
16177 00002BA4 2008              6331             TST     R0,R0                   ;
16178                            6332             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16179 00002BA6 8B41                   M           BF      BRKTST_RDYCHK_OFF
16180                            6333     
16181 00002BA8 D10E              6334             MOV.L   #_BTTN_FLG,R1           ;
16182 00002BAA 6011              6335             MOV.W   @R1,R0                  ;
16183 00002BAC C801              6336             TST     #BIT0,R0                ;両手ﾌﾘ?
16184                            6337             TST_BIT_OF BRKTST_RDYCHK_OFF    ;
16185 00002BAE 893D                   M           BT      BRKTST_RDYCHK_OFF
16186                            6338     
16187 00002BB0 200A              6339             XOR     R0,R0
16188 00002BB2 D10D              6340             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
16189 00002BB4 2101              6341             MOV.W   R0,@R1                  ;
16190                            6342     
16191 00002BB6 920E              6343             MOV.W   #_SYS_BSAME_TIM,R2      ;
16192 00002BB8 D10C              6344             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
16193 00002BBA 2121              6345             MOV.W   R2,@R1                  ;
16194                            6346     
16195                            6347             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0          ;
16196 00002BBC D00C                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16197 00002BBE 400B                   M           JSR     @R0                     ;
16198 00002BC0 0009                   M           NOP                                     ;
16199                            6348             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
16200 00002BC2 D00C                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16201 00002BC4 400B                   M           JSR     @R0                     ;
16202 00002BC6 0009                   M           NOP                                     ;
16203 00002BC8 2008              6349             TST     R0,R0                           ;
16204                            6350             TST_BIT_OF BRKTST_RDYCK_0198            ;WAIT
16205 00002BCA 8902                   M           BT      BRKTST_RDYCK_0198
16206                            6351             FAR_JSR #_RDY_ON,R1                     ;準備完了へ遷移
16207 00002BCC D10A                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16208 00002BCE 410B                   M           JSR     @R1                     ;
16209 00002BD0 0009                   M           NOP                                     ;
16210 00002BD2                   6352     BRKTST_RDYCK_0198:                              ;
16211                            6353             M_BRA   BRKTST_RDYCHK_START_WAIT        ;RDY-ON待ち
16212 00002BD2 A02E                   M           BRA     BRKTST_RDYCHK_START_WAIT
16213 00002BD4 0009                   M           NOP
16214                            6354     
16215                            6355     
16216                            6356     
16217                            6357     ;       -------準備完了状態
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   185
PROGRAM NAME =

16218                                     ***** BEGIN-POOL *****
16219 00002BD6 01F4                       DATA FOR SOURCE-LINE 6343
16220 00002BD8 00000000                   DATA FOR SOURCE-LINE 6317
16221 00002BDC 00000000                   DATA FOR SOURCE-LINE 6322
16222 00002BE0 00000000                   DATA FOR SOURCE-LINE 6330
16223 00002BE4 00000000                   DATA FOR SOURCE-LINE 6334
16224 00002BE8 00000000                   DATA FOR SOURCE-LINE 6340
16225 00002BEC 00000000                   DATA FOR SOURCE-LINE 6344
16226 00002BF0 00000000                   DATA FOR SOURCE-LINE 6347
16227 00002BF4 00000000                   DATA FOR SOURCE-LINE 6348
16228 00002BF8 00000000                   DATA FOR SOURCE-LINE 6351
16229                                     ***** END-POOL *****
16230 00002BFC                   6358     BRKTST_RDYCK_0200       ;(準備完了ON状態)
16231                            6359             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16232 00002BFC D003                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16233 00002BFE 400B                   M           JSR     @R0                     ;
16234 00002C00 0009                   M           NOP                                     ;
16235 00002C02 2008              6360             TST     R0,R0                   ;
16236                            6361             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16237 00002C04 8B12                   M           BF      BRKTST_RDYCHK_OFF
16238                            6362             M_BRA   BRKTST_RDYCHK_ON        ;
16239 00002C06 A003                   M           BRA     BRKTST_RDYCHK_ON
16240 00002C08 0009                   M           NOP
16241                            6363     
16242                            6364     
16243                                     ***** BEGIN-POOL *****
16244 00002C0A 0000                       ALIGNMENT CODE
16245 00002C0C 00000000                   DATA FOR SOURCE-LINE 6359
16246                                     ***** END-POOL *****
16247 00002C10                   6365     BRKTST_RDYCHK_ON:
16248                            6366             FAR_JSR #_RDY_ON,R1                                     ;
16249 00002C10 D104                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16250 00002C12 410B                   M           JSR     @R1                     ;
16251 00002C14 0009                   M           NOP                                     ;
16252                            6367             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0                          ;
16253 00002C16 D004                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16254 00002C18 400B                   M           JSR     @R0                     ;
16255 00002C1A 0009                   M           NOP                                     ;
16256 00002C1C 255A              6368             XOR     R5,R5                                           ;
16257                            6369             M_BRA   BRKTST_RDYCHK_END                               ;
16258 00002C1E A009                   M           BRA     BRKTST_RDYCHK_END
16259 00002C20 0009                   M           NOP
16260                            6370     
16261                            6371     
16262                            6372     
16263                                     ***** BEGIN-POOL *****
16264 00002C22 0000                       ALIGNMENT CODE
16265 00002C24 00000000                   DATA FOR SOURCE-LINE 6366
16266 00002C28 00000000                   DATA FOR SOURCE-LINE 6367
16267                                     ***** END-POOL *****
16268 00002C2C                   6373     BRKTST_RDYCHK_OFF:
16269                            6374             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
16270 00002C2C D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16271 00002C2E 400B                   M           JSR     @R0                     ;
16272 00002C30 0009                   M           NOP                                     ;
16273 00002C32                   6375     BRKTST_RDYCHK_START_WAIT:
16274 00002C32 E5FF              6376             MOV     #-1,R5                                          ;起動受付不可
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   186
PROGRAM NAME =

16275 00002C34                   6377     BRKTST_RDYCHK_END:
16276 00002C34 6053              6378             MOV     R5,R0                                           ;
16277                            6379     
16278                            6380             SUB_END
16279                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16280 00002C36 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16281                            6381             M_RTS
16282 00002C38 000B                   M           RTS                             ;RTSの後ろの
16283 00002C3A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16284                            6382     
16285                            6383     
16286                                     ***** BEGIN-POOL *****
16287 00002C3C 00000000                   DATA FOR SOURCE-LINE 6374
16288                                     ***** END-POOL *****
16289 00002C40                   6384     _BRKTST_RDY_OFF_OUT:
16290                            6385             SUB_START
16291 00002C40 4F22                   M           STS.L   PR,@-R15                ;[必要]
16292                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16293                            6386             FAR_JSR #_RDY_OF,R1                     ;
16294 00002C42 D107                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16295 00002C44 410B                   M           JSR     @R1                     ;
16296 00002C46 0009                   M           NOP                                     ;
16297                            6387             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
16298 00002C48 D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16299 00002C4A 400B                   M           JSR     @R0                     ;
16300 00002C4C 0009                   M           NOP                                     ;
16301                            6388             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16302 00002C4E D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16303 00002C50 400B                   M           JSR     @R0                     ;
16304 00002C52 0009                   M           NOP                                     ;
16305 00002C54 200A              6389             XOR     R0,R0                           ;
16306 00002C56 D105              6390             MOV.L   #_DRV_START_KEEP,R1             ;FLG
16307 00002C58 2101              6391             MOV.W   R0,@R1                          ;
16308                            6392             SUB_END
16309                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16310 00002C5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16311                            6393             M_RTS
16312 00002C5C 000B                   M           RTS                             ;RTSの後ろの
16313 00002C5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16314                            6394     
16315                            6395     ;       ***********************************
16316                            6396     ;       ***                             ***
16317                            6397     ;       ***     motor起動               ***
16318                            6398     ;       ***                             ***
16319                            6399     ;       ***********************************
16320                            6400             .IMPORT _BRKTST_POS_START               ;
16321                            6401     ;       --------------<同期ソフトはできないつくり>-----------------------------
16322                                     ***** BEGIN-POOL *****
16323 00002C60 00000000                   DATA FOR SOURCE-LINE 6386
16324 00002C64 00000000                   DATA FOR SOURCE-LINE 6387
16325 00002C68 00000000                   DATA FOR SOURCE-LINE 6388
16326 00002C6C 00000000                   DATA FOR SOURCE-LINE 6390
16327                                     ***** END-POOL *****
16328 00002C70                   6402     _BRKTST_MOTOR_START:
16329                            6403             SUB_START
16330 00002C70 4F22                   M           STS.L   PR,@-R15                ;[必要]
16331                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   187
PROGRAM NAME =

16332                            6404     
16333                            6405     ;       ===================================
16334                            6406     ;       ===     起動処理                ===
16335                            6407     ;       ===================================
16336                            6408             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
16337 00002C72 D124                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
16338 00002C74 6011                   M           MOV.W   @R1,R0          ;
16339 00002C76 9442                   M           MOV.W   #LWORD (~BIT3),R4       ;
16340 00002C78 2049                   M           AND     R4,R0           ;
16341 00002C7A 2101                   M           MOV.W   R0,@R1          ;
16342                            6409             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
16343 00002C7C D022                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16344 00002C7E 400B                   M           JSR     @R0                     ;
16345 00002C80 0009                   M           NOP                                     ;
16346                            6410             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
16347 00002C82 D022                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16348 00002C84 400B                   M           JSR     @R0                     ;
16349 00002C86 0009                   M           NOP                                     ;
16350                            6411             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
16351 00002C88 D021                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16352 00002C8A 400B                   M           JSR     @R0                     ;
16353 00002C8C 0009                   M           NOP                                     ;
16354                            6412     
16355                            6413     ;       ==== 2004-01-28 ==
16356 00002C8E 200A              6414             XOR     R0,R0
16357 00002C90 D120              6415             MOV.L   #_ENC360_OVER_FLG,R1            ;
16358 00002C92 2101              6416             MOV.W   R0,@R1                          ;
16359                            6417     
16360                            6418             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
16361 00002C94 D020                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16362 00002C96 400B                   M           JSR     @R0                     ;
16363 00002C98 0009                   M           NOP                                     ;
16364                            6419             FAR_JSR #_CB_CTL_START_INI,R0
16365 00002C9A D020                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16366 00002C9C 400B                   M           JSR     @R0                     ;
16367 00002C9E 0009                   M           NOP                                     ;
16368                            6420             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
16369 00002CA0 D01F                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16370 00002CA2 400B                   M           JSR     @R0                     ;
16371 00002CA4 0009                   M           NOP                                     ;
16372                            6421     
16373                            6422     ;;;;;   FAR_JSR #_MN_POS_CTRL_START,R0          ;
16374                            6423     
16375                            6424     
16376                            6425             FAR_JSR #_BRKTST_POS_START,R0
16377 00002CA6 D01F                   M           MOV.L   #_BRKTST_POS_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16378 00002CA8 400B                   M           JSR     @R0                     ;
16379 00002CAA 0009                   M           NOP                                     ;
16380                            6426     
16381                            6427     
16382                            6428     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
16383                            6429             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
16384 00002CAC D41E                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
16385 00002CAE 6041                   M           MOV.W   @R4,R0          ;
16386 00002CB0 9126                   M           MOV.W   #LWORD (~BIT5),R1       ;
16387 00002CB2 2019                   M           AND     R1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   188
PROGRAM NAME =

16388 00002CB4 2401                   M           MOV.W   R0,@R4          ;
16389                            6430             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
16390 00002CB6 D41D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
16391 00002CB8 6041                   M           MOV.W   @R4,R0          ;
16392 00002CBA 9121                   M           MOV.W   #LWORD (~BIT5),R1       ;
16393 00002CBC 2019                   M           AND     R1,R0           ;
16394 00002CBE 2401                   M           MOV.W   R0,@R4          ;
16395                            6431     
16396                            6432     
16397                            6433             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
16398 00002CC0 D11B                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
16399 00002CC2 921E                   M           MOV.W   #BIT0,R2                ;
16400 00002CC4 2121                   M           MOV.W   R2,@R1  ;
16401                            6434             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
16402 00002CC6 D01B                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16403 00002CC8 400B                   M           JSR     @R0                     ;
16404 00002CCA 0009                   M           NOP                                     ;
16405                            6435     
16406                            6436             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16407 00002CCC D01A                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16408 00002CCE 400B                   M           JSR     @R0                     ;
16409 00002CD0 0009                   M           NOP                                     ;
16410                            6437             FAR_JSR #_RDY_OF,R1                     ;
16411 00002CD2 D11A                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16412 00002CD4 410B                   M           JSR     @R1                     ;
16413 00002CD6 0009                   M           NOP                                     ;
16414                            6438     
16415                            6439     ;       ==== 2007-09-07 ちゃんとｾﾙﾌを生かす===
16416                            6440     ;;      .IMPORT _PAR_SELFCHK_POWSEL
16417                            6441     
16418 00002CD8 D119              6442             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
16419 00002CDA 6011              6443             MOV.W   @R1,R0                          ;
16420 00002CDC 8801              6444             CMP/EQ  #1,R0                           ;
16421 00002CDE 8908              6445             BT      BRKTST_STR_POW_100              ;"1"ならちゃんとセルフする
16422                            6446     
16423                            6447     ;       ===== 2006-12-06 [1]=====
16424 00002CE0 900F              6448             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
16425 00002CE2 D118              6449             MOV.L   #_SELF_LOCK_FLG,R1              ;
16426 00002CE4 2101              6450             MOV.W   R0,@R1                          ;
16427 00002CE6 222A              6451             XOR     R2,R2                           ;
16428 00002CE8 233A              6452             XOR     R3,R3                           ;
16429 00002CEA D117              6453             MOV.L   #_SELF_CHK_SEL,R1               ;
16430 00002CEC 2121              6454             MOV.W   R2,@R1                          ;
16431 00002CEE D117              6455             MOV.L   #_SELF_CHK_MATHED,R1            ;
16432 00002CF0 2131              6456             MOV.W   R3,@R1                          ;
16433                            6457     
16434 00002CF2                   6458     BRKTST_STR_POW_100
16435                            6459     
16436                            6460     ;       ====== 2007-01-16========
16437                            6461             FAR_JSR #_START_SFTY_LOCK_CLR,R0
16438 00002CF2 D017                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16439 00002CF4 400B                   M           JSR     @R0                     ;
16440 00002CF6 0009                   M           NOP                                     ;
16441                            6462     
16442                            6463     
16443                            6464             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   189
PROGRAM NAME =

16444                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16445 00002CF8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16446                            6465             M_RTS
16447 00002CFA 000B                   M           RTS                             ;RTSの後ろの
16448 00002CFC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16449                            6466     
16450                            6467     
16451                                     ***** BEGIN-POOL *****
16452 00002CFE FFF7                       DATA FOR SOURCE-LINE 6408
16453 00002D00 FFDF                       DATA FOR SOURCE-LINE 6429,6430
16454 00002D02 0001                       DATA FOR SOURCE-LINE 6433,6448
16455 00002D04 00000000                   DATA FOR SOURCE-LINE 6408
16456 00002D08 00000000                   DATA FOR SOURCE-LINE 6409
16457 00002D0C 00000000                   DATA FOR SOURCE-LINE 6410
16458 00002D10 00000000                   DATA FOR SOURCE-LINE 6411
16459 00002D14 00000000                   DATA FOR SOURCE-LINE 6415
16460 00002D18 00000000                   DATA FOR SOURCE-LINE 6418
16461 00002D1C 00000000                   DATA FOR SOURCE-LINE 6419
16462 00002D20 00000000                   DATA FOR SOURCE-LINE 6420
16463 00002D24 00000000                   DATA FOR SOURCE-LINE 6425
16464 00002D28 00000000                   DATA FOR SOURCE-LINE 6429
16465 00002D2C 00000000                   DATA FOR SOURCE-LINE 6430
16466 00002D30 00000000                   DATA FOR SOURCE-LINE 6433
16467 00002D34 00000000                   DATA FOR SOURCE-LINE 6434
16468 00002D38 00000000                   DATA FOR SOURCE-LINE 6436
16469 00002D3C 00000000                   DATA FOR SOURCE-LINE 6437
16470 00002D40 00000000                   DATA FOR SOURCE-LINE 6442
16471 00002D44 00000000                   DATA FOR SOURCE-LINE 6449
16472 00002D48 00000000                   DATA FOR SOURCE-LINE 6453
16473 00002D4C 00000000                   DATA FOR SOURCE-LINE 6455
16474 00002D50 00000000                   DATA FOR SOURCE-LINE 6461
16475                                     ***** END-POOL *****
16476 00002D54                   6468             .ALIGN  4
16477 00002D54                   6469     _BRKTST_CHKDT_MAK:
16478                            6470             SUB_START
16479 00002D54 4F22                   M           STS.L   PR,@-R15                ;[必要]
16480                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16481 00002D56 D00C              6471             MOV.L   #_LINK_MAX_SPD_PLS,R0   ;
16482 00002D58 6202              6472             MOV.L   @R0,R2                  ;
16483 00002D5A 9414              6473             MOV.W   #_SPD_PER_MAX,R4        ;100.00per
16484                            6474     
16485 00002D5C D00B              6475             MOV.L   #_WPAR_BRKTOUT_SPD,R0           ;出力LATE
16486 00002D5E 6101              6476             MOV.W   @R0,R1                          ;
16487 00002D60 4115              6477             CMP/PL  R1                              ;
16488 00002D62 8900              6478             BT      BRKTST_CHKDTMK_100                      ;
16489 00002D64 6143              6479             MOV     R4,R1                                   ;
16490 00002D66                   6480     BRKTST_CHKDTMK_100:                                     ;
16491                            6481             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
16492 00002D66 D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16493 00002D68 400B                   M           JSR     @R0                     ;
16494 00002D6A 0009                   M           NOP                                     ;
16495 00002D6C D109              6482             MOV.L   #_BRKTST_OUTSPD_PLS,R1          ;
16496 00002D6E 2122              6483             MOV.L   R2,@R1                          ;
16497                            6484     
16498 00002D70 D009              6485             MOV.L   #_WPAR_BRKTCHK_SPD,R0           ;
16499 00002D72 6101              6486             MOV.W   @R0,R1                          ;
16500 00002D74 9407              6487             MOV.W   #_SPD_PER_MAX,R4                ;100.00per
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   190
PROGRAM NAME =

16501                            6488             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
16502 00002D76 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16503 00002D78 400B                   M           JSR     @R0                     ;
16504 00002D7A 0009                   M           NOP                                     ;
16505 00002D7C D107              6489             MOV.L   #_BRKTST_CHKSPD_PLS,R1
16506 00002D7E 2122              6490             MOV.L   R2,@R1                          ;
16507                            6491     
16508                            6492             SUB_END
16509                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16510 00002D80 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16511                            6493             M_RTS
16512 00002D82 000B                   M           RTS                             ;RTSの後ろの
16513 00002D84 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16514                            6494     
16515                            6495     
16516                            6496     
16517                            6497     
16518                            6498     
16519                            6499     ;       ***********************************
16520                            6500     ;       ***                             ***
16521                            6501     ;       ***             速度            ***
16522                            6502     ;       ***                             ***
16523                            6503     ;       ***********************************
16524                                     ***** BEGIN-POOL *****
16525 00002D86 2710                       DATA FOR SOURCE-LINE 6473,6487
16526 00002D88 00000000                   DATA FOR SOURCE-LINE 6471
16527 00002D8C 00000000                   DATA FOR SOURCE-LINE 6475
16528 00002D90 00000000                   DATA FOR SOURCE-LINE 6481,6488
16529 00002D94 00000000                   DATA FOR SOURCE-LINE 6482
16530 00002D98 00000000                   DATA FOR SOURCE-LINE 6485
16531 00002D9C 00000000                   DATA FOR SOURCE-LINE 6489
16532                                     ***** END-POOL *****
16533 00002DA0                   6504             .ALIGN  4
16534 00002DA0                   6505     _BRKTST_SPD_CHK:
16535                            6506             SUB_START
16536 00002DA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16537                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16538 00002DA2 D106              6507             MOV.L   #_ABS_ENC_PLS_SPD,R1    ;
16539 00002DA4 6212              6508             MOV.L   @R1,R2                  ;PV(ABS)
16540 00002DA6 D106              6509             MOV.L   #_BRKTST_CHKSPD_PLS,R1  ;
16541 00002DA8 6012              6510             MOV.L   @R1,R0                  ;SV
16542 00002DAA 3202              6511             CMP/HS  R0,R2                   ;R0=< R2?
16543 00002DAC 8B03              6512             BF      BRKTST_SPDCHK_100       ;NO JUMP
16544                            6513     
16545                            6514             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT4),WKREG=R1    ;BIT4速度ﾗ
                                          ｯﾁ
16546 00002DAE D105                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16547 00002DB0 6011                   M           MOV.W   @R1,R0          ;
16548 00002DB2 CB10                   M           OR      #(BIT4),R0              ;
16549 00002DB4 2101                   M           MOV.W   R0,@R1          ;
16550                            6515     
16551 00002DB6                   6516     BRKTST_SPDCHK_100:
16552                            6517             SUB_END
16553                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16554 00002DB6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16555                            6518             M_RTS
16556 00002DB8 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   191
PROGRAM NAME =

16557 00002DBA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16558                            6519     
16559                            6520     
16560                            6521     ;       ***********************************
16561                            6522     ;       ***                             ***
16562                            6523     ;       ***     motor停止               ***
16563                            6524     ;       ***                             ***
16564                            6525     ;       ***********************************
16565                                     ***** BEGIN-POOL *****
16566 00002DBC 00000000                   DATA FOR SOURCE-LINE 6507
16567 00002DC0 00000000                   DATA FOR SOURCE-LINE 6509
16568 00002DC4 00000000                   DATA FOR SOURCE-LINE 6514
16569                                     ***** END-POOL *****
16570 00002DC8                   6526             .ALIGN  4
16571                            6527             .IMPORT _EMG_STOP_SPEC;相手には教えない
16572                            6528     
16573 00002DC8                   6529     _BRKTST_MOTOR_STOP:
16574                            6530             SUB_START
16575 00002DC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16576                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16577                            6531             FAR_JSR #_EMG_STOP_SPEC,R0              ;相手には教えない
16578 00002DCA D003                   M           MOV.L   #_EMG_STOP_SPEC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16579 00002DCC 400B                   M           JSR     @R0                     ;
16580 00002DCE 0009                   M           NOP                                     ;
16581                            6532             SUB_END
16582                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16583 00002DD0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16584                            6533             M_RTS
16585 00002DD2 000B                   M           RTS                             ;RTSの後ろの
16586 00002DD4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16587                            6534     
16588                            6535     ;       *******************************************
16589                            6536     ;       ***                                     ***
16590                            6537     ;       ***                                     ***
16591                            6538     ;       ***                                     ***
16592                            6539     ;       *******************************************
16593                                     ***** BEGIN-POOL *****
16594 00002DD6 0000                       ALIGNMENT CODE
16595 00002DD8 00000000                   DATA FOR SOURCE-LINE 6531
16596                                     ***** END-POOL *****
16597 00002DDC                   6540             .ALIGN  4                               ;
16598 00002DDC                   6541     _BRKTST_STOPSIG_MAKE:
16599                            6542             SUB_START
16600 00002DDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16601                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16602 00002DDE D10D              6543             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16603 00002DE0 6011              6544             MOV.W   @R1,R0                                          ;
16604 00002DE2 C801              6545             TST     #BIT0,R0                                        ;
16605                            6546             TST_BIT_OF BRKTST_STOPSIG_MK300                         ;
16606 00002DE4 8912                   M           BT      BRKTST_STOPSIG_MK300
16607                            6547     
16608 00002DE6 D40C              6548             MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
16609 00002DE8 6542              6549             MOV.L   @R4,R5                                                  ;
16610 00002DEA 5641              6550             MOV.L   @(1*4,R4),R6                                            ;
16611                            6551     
16612 00002DEC D40B              6552             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;
16613 00002DEE 6146              6553             MOV.L   @R4+,R1                                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   192
PROGRAM NAME =

16614 00002DF0 6242              6554             MOV.L   @R4,R2                                                  ;
16615                            6555     
16616                            6556             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;R5,R6 - R1,R2 =R5
                                          ,R6<0なら停止
16617 00002DF2 0008                   M           CLRT
16618 00002DF4 362A                   M           SUBC    R2,R6
16619 00002DF6 351A                   M           SUBC    R1,R5
16620 00002DF8 4511              6557             CMP/PZ  R5
16621 00002DFA 8907              6558             BT      BRKTST_STOPSIG_MK300                            ;
16622                            6559     
16623 00002DFC D105              6560             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16624 00002DFE 6011              6561             MOV.W   @R1,R0                                          ;
16625 00002E00 C9FE              6562             AND     #LOW ~BIT0,R0                                   ;
16626 00002E02 2101              6563             MOV.W   R0,@R1                                          ;
16627                            6564     
16628 00002E04 D106              6565             MOV.L   #_BRKTST_INPUT_CMD,R1                           ;2011-09-14
16629 00002E06 6011              6566             MOV.W   @R1,R0                                          ;
16630 00002E08 CB02              6567             OR      #BIT1,R0                                        ;
16631 00002E0A 2101              6568             MOV.W   R0,@R1                                          ;
16632                            6569     
16633 00002E0C                   6570     BRKTST_STOPSIG_MK300:
16634                            6571             SUB_END
16635                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16636 00002E0C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16637                            6572             M_RTS
16638 00002E0E 000B                   M           RTS                             ;RTSの後ろの
16639 00002E10 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16640                            6573     
16641                            6574     
16642                            6575     
16643                            6576     ;       ***********************************
16644                            6577     ;       ***                             ***
16645                            6578     ;       ***     RDY-ON 維持条件         ***
16646                            6579     ;       ***                             ***
16647                            6580     ;       ***********************************
16648                            6581     ;       R0=0 RDY ON KEEP
16649                                     ***** BEGIN-POOL *****
16650 00002E12 0000                       ALIGNMENT CODE
16651 00002E14 00000000                   DATA FOR SOURCE-LINE 6543,6560
16652 00002E18 00000000                   DATA FOR SOURCE-LINE 6548
16653 00002E1C 00000000                   DATA FOR SOURCE-LINE 6552
16654 00002E20 00000000                   DATA FOR SOURCE-LINE 6565
16655                                     ***** END-POOL *****
16656 00002E24                   6582     _BRK_RDYON_CONF1:
16657                            6583             SUB_START
16658 00002E24 4F22                   M           STS.L   PR,@-R15                ;[必要]
16659                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16660 00002E26 D108              6584             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
16661 00002E28 6011              6585             MOV.W   @R1,R0                          ;
16662 00002E2A 940C              6586             MOV.W   #BIT14,R4                       ;
16663 00002E2C 2048              6587             TST     R4,R0                           ;
16664                            6588             TST_BIT_ON BRK_RDY_ON_CF_999            ;一旦停止指令
16665 00002E2E 8B11                   M           BF      BRK_RDY_ON_CF_999
16666                            6589     
16667 00002E30 D106              6590             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
16668 00002E32 6011              6591             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   193
PROGRAM NAME =

16669 00002E34 C803              6592             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
16670                            6593             TST_BIT_ON BRK_RDY_ON_CF_999            ;
16671 00002E36 8B0D                   M           BF      BRK_RDY_ON_CF_999
16672                            6594     
16673 00002E38 D105              6595             MOV.L   #_CNT_STOP_CMD,R1               ;
16674 00002E3A 6011              6596             MOV.W   @R1,R0                          ;
16675 00002E3C C801              6597             TST     #BIT0,R0                        ;
16676                            6598             TST_BIT_ON BRK_RDY_ON_CF_999            ;BIT0=連続停止,(BIT2:LOT,設定異常)
16677 00002E3E 8B09                   M           BF      BRK_RDY_ON_CF_999
16678                            6599     
16679                            6600     
16680 00002E40                   6601     BRK_RDY_ON_CF_998:
16681 00002E40 200A              6602             XOR     R0,R0                   ;準備完了
16682                            6603             M_BRA   BRK_RDY_ON_CF_EXT               ;
16683 00002E42 A008                   M           BRA     BRK_RDY_ON_CF_EXT
16684 00002E44 0009                   M           NOP
16685                            6604     
16686                                     ***** BEGIN-POOL *****
16687 00002E46 4000                       DATA FOR SOURCE-LINE 6586
16688 00002E48 00000000                   DATA FOR SOURCE-LINE 6584
16689 00002E4C 00000000                   DATA FOR SOURCE-LINE 6590
16690 00002E50 00000000                   DATA FOR SOURCE-LINE 6595
16691                                     ***** END-POOL *****
16692 00002E54                   6605     BRK_RDY_ON_CF_999:
16693 00002E54 E0FF              6606             MOV     #-1,R0                  ;準備未完了
16694 00002E56                   6607     BRK_RDY_ON_CF_EXT:
16695                            6608             SUB_END
16696                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16697 00002E56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16698                            6609             M_RTS
16699 00002E58 000B                   M           RTS                             ;RTSの後ろの
16700 00002E5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16701                            6610     
16702 00002E5C                   6611             .ALIGN  4
16703 00002E5C 0009              6612             NOP
16704 00002E5E 0009              6613             NOP
16705 00002E60 0009              6614             NOP
16706 00002E62 0009              6615             NOP
16707                            6616     
16708                            6617     ;       *******************************************
16709                            6618     ;       ***                                     ***
16710                            6619     ;       ***                                     ***
16711                            6620     ;       ***                                     ***
16712                            6621     ;       ***                                     ***
16713                            6622     ;       ***                                     ***
16714                            6623     ;       ***                                     ***
16715                            6624     ;       ***             R02R03新機能            ***
16716                            6625     ;       ***                                     ***
16717                            6626     ;       ***                                     ***
16718                            6627     ;       ***                                     ***
16719                            6628     ;       ***                                     ***
16720                            6629     ;       ***                                     ***
16721                            6630     ;       ***                                     ***
16722                            6631     ;       *******************************************
16723                            6632     
16724                            6633     ;       *******************************************
16725                            6634     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   194
PROGRAM NAME =

16726                            6635     ;       ***                                     ***
16727                            6636     ;       ***             外部起動                ***
16728                            6637     ;       ***                                     ***
16729                            6638     ;       ***                                     ***
16730                            6639     ;       *******************************************
16731                            6640             .EXPORT _EXT_DRVBTTN_MODE
16732 00002E64                   6641     _EXT_DRVBTTN_MODE
16733                            6642             SUB_START
16734 00002E64 4F22                   M           STS.L   PR,@-R15                ;[必要]
16735                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16736                            6643     
16737 00002E66 D10D              6644             MOV.L   #(_PAR_EXTDRV_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16738 00002E68 6011              6645             MOV.W   @R1,R0                                                  ;
16739 00002E6A 8801              6646             CMP/EQ  #1,R0                                                   ;
16740 00002E6C 8B12              6647             BF      EXT_DRVBTTN_MOD_END                                     ;
16741                            6648     
16742                            6649             FAR_JSR #_EXT_DRVBTTN_INFO_MAKE,R0              ;
16743 00002E6E D00C                   M           MOV.L   #_EXT_DRVBTTN_INFO_MAKE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16744 00002E70 400B                   M           JSR     @R0                     ;
16745 00002E72 0009                   M           NOP                                     ;
16746                            6650     
16747                            6651     
16748                            6652             FAR_JSR #_EXT_DRVBTTN_MODJG_CONF,R0     ;
16749 00002E74 D00B                   M           MOV.L   #_EXT_DRVBTTN_MODJG_CONF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16750 00002E76 400B                   M           JSR     @R0                     ;
16751 00002E78 0009                   M           NOP                                     ;
16752                            6653     
16753 00002E7A 930E              6654             MOV.W   #BIT15,R3
16754 00002E7C 244A              6655             XOR     R4,R4                           ;
16755 00002E7E D10A              6656             MOV.L   #_EXTDRV_BTTN_USE,R1            ;//SYSPARAM+各条件
16756 00002E80 6011              6657             MOV.W   @R1,R0                          ;
16757 00002E82 2008              6658             TST     R0,R0                           ;
16758                            6659             TST_BIT_OF EXT_DRVBTTN_MOD100           ;
16759 00002E84 8900                   M           BT      EXT_DRVBTTN_MOD100
16760 00002E86 6433              6660             MOV     R3,R4                           ;
16761 00002E88                   6661     EXT_DRVBTTN_MOD100
16762                            6662     
16763 00002E88 6337              6663             NOT     R3,R3                           ;
16764 00002E8A D108              6664             MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1     ;
16765 00002E8C 6211              6665             MOV.W   @R1,R2                          ;
16766 00002E8E 2239              6666             AND     R3,R2                           ;
16767 00002E90 224B              6667             OR      R4,R2                           ;
16768 00002E92 2121              6668             MOV.W   R2,@R1                          ;
16769                            6669     
16770                            6670     
16771 00002E94                   6671     EXT_DRVBTTN_MOD_END
16772                            6672     
16773                            6673             SUB_END
16774                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16775 00002E94 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16776                            6674             M_RTS
16777 00002E96 000B                   M           RTS                             ;RTSの後ろの
16778 00002E98 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16779                            6675     
16780                            6676     
16781                            6677     
16782                            6678     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   195
PROGRAM NAME =

16783                            6679     ;       ***                             ***
16784                            6680     ;       ***     釦入力                  ***
16785                            6681     ;       ***                             ***
16786                            6682     ;       ***********************************
16787                                     ***** BEGIN-POOL *****
16788 00002E9A 8000                       DATA FOR SOURCE-LINE 6654
16789 00002E9C 00000000                   DATA FOR SOURCE-LINE 6644
16790 00002EA0 00000000                   DATA FOR SOURCE-LINE 6649
16791 00002EA4 00000000                   DATA FOR SOURCE-LINE 6652
16792 00002EA8 00000000                   DATA FOR SOURCE-LINE 6656
16793 00002EAC 00000000                   DATA FOR SOURCE-LINE 6664
16794                                     ***** END-POOL *****
16795 00002EB0                   6683     _EXT_DRVBTTN_INFO_MAKE:
16796                            6684             SUB_START
16797 00002EB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16798                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16799                            6685     
16800                            6686     ;       ---------- 打ち抜き記憶処理だけ先に行う------------------
16801 00002EB2 255A              6687             XOR     R5,R5
16802 00002EB4 D10D              6688             MOV.L   #_CB_SEQ_CB_COM352,R1           ;//
16803 00002EB6 6011              6689             MOV.W   @R1,R0                          ;
16804 00002EB8 C801              6690             TST     #BIT0,R0                        ;
16805                            6691             TST_BIT_OF EXT_DRVBTTN_INFO_MK100       ;
16806 00002EBA 8907                   M           BT      EXT_DRVBTTN_INFO_MK100
16807                            6692     
16808 00002EBC D10C              6693             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
16809 00002EBE 6511              6694             MOV.W   @R1,R5                          ;自己保持
16810                            6695     
16811 00002EC0 D10C              6696             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
16812 00002EC2 6011              6697             MOV.W   @R1,R0                          ;
16813 00002EC4 940E              6698             MOV.W   #_WOATO,R4                      ;
16814 00002EC6 2048              6699             TST     R4,R0                           ;AUTO ON?
16815                            6700             TST_BIT_OF EXT_DRVBTTN_INFO_MK100
16816 00002EC8 8900                   M           BT      EXT_DRVBTTN_INFO_MK100
16817                            6701     
16818 00002ECA E501              6702             MOV.B   #BIT0,R5                        ;
16819                            6703     
16820 00002ECC                   6704     EXT_DRVBTTN_INFO_MK100:
16821 00002ECC D108              6705             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
16822 00002ECE 2151              6706             MOV.W   R5,@R1                          ;
16823                            6707     
16824                            6708     
16825                            6709     ;       -----------------釦入力---------------------------
16826 00002ED0 D109              6710             MOV.L   #_CB_IN_HANYO,R1                        ;//BIT8,9,10,11,12,13 6点(SQ004相
                                          当)
16827 00002ED2 6011              6711             MOV.W   @R1,R0                                  ;(論理あわせ済み信号)
16828 00002ED4 9307              6712             MOV.W   #(BIT11+BIT10),R3                       ;BIT10=N.C　0:運転 BIT11=N.O 1:運
                                          転
16829 00002ED6 2039              6713             AND     R3,R0                                   ;
16830 00002ED8 9406              6714             MOV.W   #(0+BIT10),R4                           ;両手OFF
16831 00002EDA 3040              6715             CMP/EQ  R4,R0                                   ;
16832 00002EDC 8B0E              6716             BF      EXT_DRVBTTN_INFO_MK200                  ;
16833 00002EDE E201              6717             MOV.B   #BIT0,R2                                ;
16834                            6718             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
16835 00002EE0 A014                   M           BRA     EXT_DRVBTTN_INFO_MK400
16836 00002EE2 0009                   M           NOP
16837                            6719     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   196
PROGRAM NAME =

16838                                     ***** BEGIN-POOL *****
16839 00002EE4 0040                       DATA FOR SOURCE-LINE 6698
16840 00002EE6 0C00                       DATA FOR SOURCE-LINE 6712
16841 00002EE8 0400                       DATA FOR SOURCE-LINE 6714
16842 00002EEA 0000                       ALIGNMENT CODE
16843 00002EEC 00000000                   DATA FOR SOURCE-LINE 6688
16844 00002EF0 00000000                   DATA FOR SOURCE-LINE 6693,6705
16845 00002EF4 00000000                   DATA FOR SOURCE-LINE 6696
16846 00002EF8 00000000                   DATA FOR SOURCE-LINE 6710
16847                                     ***** END-POOL *****
16848 00002EFC                   6720     EXT_DRVBTTN_INFO_MK200
16849 00002EFC 9404              6721             MOV.W   #(BIT11+0),R4                           ;両手ON
16850 00002EFE 3040              6722             CMP/EQ  R4,R0                                   ;
16851 00002F00 8B03              6723             BF      EXT_DRVBTTN_INFO_MK300                  ;
16852 00002F02 E204              6724             MOV.B   #BIT2,R2                                ;
16853                            6725             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
16854 00002F04 A002                   M           BRA     EXT_DRVBTTN_INFO_MK400
16855 00002F06 0009                   M           NOP
16856                            6726     
16857                                     ***** BEGIN-POOL *****
16858 00002F08 0800                       DATA FOR SOURCE-LINE 6721
16859                                     ***** END-POOL *****
16860 00002F0A                   6727     EXT_DRVBTTN_INFO_MK300
16861                            6728     
16862 00002F0A E202              6729             MOV.B   #BIT1,R2                                ;片手ON
16863                            6730     
16864 00002F0C                   6731     EXT_DRVBTTN_INFO_MK400:
16865 00002F0C D107              6732             MOV.L   #_EXT_BTTN_FLG,R1                       ;
16866 00002F0E 2121              6733             MOV.W   R2,@R1                                  ;
16867                            6734                                                             ;BIT10=BIT11=1 1秒で異常
16868                            6735     
16869                            6736     
16870 00002F10 D107              6737             MOV.L   #_EXTDRV_BTTN_USE,R1                    ;//SYSPARAM+各条件
16871 00002F12 6211              6738             MOV.W   @R1,R2                                  ;
16872 00002F14 2228              6739             TST     R2,R2                                   ;
16873                            6740             TST_BIT_OF EXT_DRVBTTN_INFO_MK410               ;
16874 00002F16 8902                   M           BT      EXT_DRVBTTN_INFO_MK410
16875                            6741     
16876                            6742     ;       ---------- 釦異常ﾁｪｯｸ input R0[実入力]
16877 00002F18 9406              6743             MOV.W   #(BIT11+BIT10),R4                       ;
16878 00002F1A 3040              6744             CMP/EQ  R4,R0                                   ;異常?
16879 00002F1C 890C              6745             BT      EXT_DRVBTTN_INFO_MK420                  ;YES
16880 00002F1E                   6746     EXT_DRVBTTN_INFO_MK410:
16881                            6747             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0             ;
16882 00002F1E D005                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16883 00002F20 400B                   M           JSR     @R0                     ;
16884 00002F22 0009                   M           NOP                                     ;
16885                            6748             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMAL
16886 00002F24 A01B                   M           BRA     EXT_DRVBTTN_INFO_MK500
16887 00002F26 0009                   M           NOP
16888                            6749     
16889                                     ***** BEGIN-POOL *****
16890 00002F28 0C00                       DATA FOR SOURCE-LINE 6743
16891 00002F2A 0000                       ALIGNMENT CODE
16892 00002F2C 00000000                   DATA FOR SOURCE-LINE 6732
16893 00002F30 00000000                   DATA FOR SOURCE-LINE 6737
16894 00002F34 00000000                   DATA FOR SOURCE-LINE 6747
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   197
PROGRAM NAME =

16895                                     ***** END-POOL *****
16896 00002F38                   6750     EXT_DRVBTTN_INFO_MK420:
16897 00002F38 D103              6751             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                ;
16898 00002F3A 6011              6752             MOV.W   @R1,R0                                  ;
16899 00002F3C 2008              6753             TST     R0,R0                                   ;
16900                            6754             TST_BIT_OF EXT_DRVBTTN_INFO_MK450               ;異常
16901 00002F3E 8905                   M           BT      EXT_DRVBTTN_INFO_MK450
16902 00002F40 70FF              6755             ADD     #-1,R0                                  ;
16903 00002F42 2101              6756             MOV.W   R0,@R1                                  ;
16904                            6757             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMALだが
16905 00002F44 A00B                   M           BRA     EXT_DRVBTTN_INFO_MK500
16906 00002F46 0009                   M           NOP
16907                            6758     
16908                                     ***** BEGIN-POOL *****
16909 00002F48 00000000                   DATA FOR SOURCE-LINE 6751
16910                                     ***** END-POOL *****
16911 00002F4C                   6759     EXT_DRVBTTN_INFO_MK450:
16912                            6760     
16913                            6761             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT15),WKRG1=R1,WKRG2=R4
                                          ;
16914 00002F4C D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
16915 00002F4E 6011                   M           MOV.W   @R1,R0          ;
16916 00002F50 9408                   M           MOV.W   #(BIT15),R4             ;
16917 00002F52 204B                   M           OR      R4,R0           ;
16918 00002F54 2101                   M           MOV.W   R0,@R1          ;
16919 00002F56 9406              6762             MOV.W   #H'216F,R4
                                          ;216.15
16920                            6763             FAR_JSR #_EMG_STOP,R0
                                          ;
16921 00002F58 D004                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16922 00002F5A 400B                   M           JSR     @R0                     ;
16923 00002F5C 0009                   M           NOP                                     ;
16924                            6764     
16925 00002F5E                   6765     EXT_DRVBTTN_INFO_MK500:
16926                            6766     
16927                            6767     
16928                            6768             SUB_END
16929                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16930 00002F5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16931                            6769             M_RTS
16932 00002F60 000B                   M           RTS                             ;RTSの後ろの
16933 00002F62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16934                            6770     
16935                            6771     
16936                            6772     ;       ***********************************
16937                            6773     ;       ***                             ***
16938                            6774     ;       ***     切替                    ***
16939                            6775     ;       ***                             ***
16940                            6776     ;       ***********************************
16941                                     ***** BEGIN-POOL *****
16942 00002F64 8000                       DATA FOR SOURCE-LINE 6761
16943 00002F66 216F                       DATA FOR SOURCE-LINE 6762
16944 00002F68 00000000                   DATA FOR SOURCE-LINE 6761
16945 00002F6C 00000000                   DATA FOR SOURCE-LINE 6763
16946                                     ***** END-POOL *****
16947 00002F70                   6777     _EXT_DRVBTTN_MODJG_CONF
16948                            6778             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   198
PROGRAM NAME =

16949 00002F70 4F22                   M           STS.L   PR,@-R15                ;[必要]
16950                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16951                            6779     
16952 00002F72 266A              6780             XOR     R6,R6                                                   ;ANS
16953                            6781     
16954                            6782     ;       ----------------------------------------------
16955 00002F74 D10F              6783             MOV.L   #_di1_cb_ctl1_dt,R1                                     ;//
16956 00002F76 6011              6784             MOV.W   @R1,R0                                                  ;
16957 00002F78 C810              6785             TST     #_W1OPT,R0                                              ;OPT
16958                            6786             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500                              ;ｵﾌﾟｼｮﾝ行程ではな
                                          い
16959 00002F7A 8924                   M           BT      EXT_DRVBTTN_MODJG_CF500
16960                            6787     
16961                            6788     ;       ------------[ﾉｯﾁsw=ｵﾌﾟｼｮﾝ行程]----------------------------------
16962                            6789     
16963                            6790     ;       ----------- 352,1=1 外部入力　外部起動ﾓｰﾄﾞ----------------------
16964 00002F7C D10E              6791             MOV.L   #_CB_SEQ_CB_COM352,R1                   ;//2014-09-01
16965 00002F7E 6011              6792             MOV.W   @R1,R0                                  ;
16966 00002F80 C802              6793             TST     #BIT1,R0                                ;
16967                            6794             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300              ;
16968 00002F82 8B1F                   M           BF      EXT_DRVBTTN_MODJG_CF300
16969                            6795     
16970                            6796     ;       ------------[仕様設定107 22.10=1]----------------------------------
16971 00002F84 D10D              6797             MOV.L   #_CB_SEQ_SW_SEL022,R1           ;
16972 00002F86 6011              6798             MOV.W   @R1,R0                          ;
16973 00002F88 9410              6799             MOV.W   #BIT10,R4                       ;107
16974 00002F8A 2048              6800             TST     R4,R0                           ;
16975                            6801             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.10=1 有効
16976 00002F8C 8B1A                   M           BF      EXT_DRVBTTN_MODJG_CF300
16977                            6802     
16978                            6803     
16979 00002F8E 940E              6804             MOV.W   #BIT11,R4                       ;108 22.11
16980 00002F90 2048              6805             TST     R4,R0                           ;
16981                            6806             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500      ;22.11=0 無効
16982 00002F92 8918                   M           BT      EXT_DRVBTTN_MODJG_CF500
16983                            6807     
16984                            6808     ;       ------------[仕様設定108 22.11=1]----------------------------------
16985 00002F94 940C              6809             MOV.W   #(BIT6+BIT4),R4                 ;
16986 00002F96 2048              6810             TST     R4,R0                           ;
16987                            6811             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.6(103) 22.4(101)のどちらかONで有効
16988 00002F98 8B14                   M           BF      EXT_DRVBTTN_MODJG_CF300
16989                            6812     
16990 00002F9A 940A              6813             MOV.W   #(BIT8+BIT7),R4                 ;22.8(105) 22.7(104)の両方OFFで有効
16991 00002F9C 2048              6814             TST     R4,R0                           ;
16992                            6815             TST_BIT_OF EXT_DRVBTTN_MODJG_CF300      ;
16993 00002F9E 8911                   M           BT      EXT_DRVBTTN_MODJG_CF300
16994                            6816     
16995                            6817     ;       打抜記憶
16996 00002FA0 D107              6818             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
16997 00002FA2 6011              6819             MOV.W   @R1,R0                          ;
16998 00002FA4 C801              6820             TST     #BIT0,R0                        ;
16999                            6821             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;有効
17000 00002FA6 8B0D                   M           BF      EXT_DRVBTTN_MODJG_CF300
17001                            6822             M_BRA   EXT_DRVBTTN_MODJG_CF500         ;
17002 00002FA8 A00D                   M           BRA     EXT_DRVBTTN_MODJG_CF500
17003 00002FAA 0009                   M           NOP
17004                            6823     ;       ----------------------------------------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   199
PROGRAM NAME =

17005                            6824     
17006                            6825     
17007                            6826     ;       --------------- 有効----------------------
17008                                     ***** BEGIN-POOL *****
17009 00002FAC 0400                       DATA FOR SOURCE-LINE 6799
17010 00002FAE 0800                       DATA FOR SOURCE-LINE 6804
17011 00002FB0 0050                       DATA FOR SOURCE-LINE 6809
17012 00002FB2 0180                       DATA FOR SOURCE-LINE 6813
17013 00002FB4 00000000                   DATA FOR SOURCE-LINE 6783
17014 00002FB8 00000000                   DATA FOR SOURCE-LINE 6791
17015 00002FBC 00000000                   DATA FOR SOURCE-LINE 6797
17016 00002FC0 00000000                   DATA FOR SOURCE-LINE 6818
17017                                     ***** END-POOL *****
17018 00002FC4                   6827     EXT_DRVBTTN_MODJG_CF300
17019 00002FC4 E601              6828             MOV.B   #BIT0,R6                        ;
17020 00002FC6                   6829     EXT_DRVBTTN_MODJG_CF500
17021 00002FC6 D106              6830             MOV.L   #_EXTDRV_BTTN_USE,R1    ;//SYSPARAM+各条件
17022 00002FC8 6011              6831             MOV.W   @R1,R0                  ;
17023 00002FCA 2161              6832             MOV.W   R6,@R1                  ;NEW=R6
17024                            6833     
17025 00002FCC 206A              6834             XOR     R6,R0                           ;
17026 00002FCE 2069              6835             AND     R6,R0                           ;R0=BIT0
17027 00002FD0 C801              6836             TST     #BIT0,R0                        ;
17028                            6837             TST_BIT_OF EXT_DRVBTTN_MODJG_CF700      ;
17029 00002FD2 8902                   M           BT      EXT_DRVBTTN_MODJG_CF700
17030                            6838     
17031                            6839     ;       ------- 立ち上がり[異常検出タイマプリセット]　-----------
17032                            6840             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0     ;
17033 00002FD4 D003                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17034 00002FD6 400B                   M           JSR     @R0                     ;
17035 00002FD8 0009                   M           NOP                                     ;
17036                            6841     
17037                            6842     
17038 00002FDA                   6843     EXT_DRVBTTN_MODJG_CF700
17039                            6844             SUB_END
17040                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17041 00002FDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17042                            6845             M_RTS
17043 00002FDC 000B                   M           RTS                             ;RTSの後ろの
17044 00002FDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17045                            6846     
17046                            6847     
17047                                     ***** BEGIN-POOL *****
17048 00002FE0 00000000                   DATA FOR SOURCE-LINE 6830
17049 00002FE4 00000000                   DATA FOR SOURCE-LINE 6840
17050                                     ***** END-POOL *****
17051 00002FE8                   6848     _EXT_DRVBTTN_ERRTIM_SET
17052                            6849             SUB_START
17053 00002FE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17054                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17055 00002FEA D103              6850             MOV.L   #(_PAR_BTNER_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1       ;NO=NC=1 THEN 異常
17056 00002FEC 6011              6851             MOV.W   @R1,R0                                                  ;
17057 00002FEE D103              6852             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                                ;
17058 00002FF0 2101              6853             MOV.W   R0,@R1                                                  ;運転ボタン異常時
                                          間１秒
17059                            6854             SUB_END
17060                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   200
PROGRAM NAME =

17061 00002FF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17062                            6855             M_RTS
17063 00002FF4 000B                   M           RTS                             ;RTSの後ろの
17064 00002FF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17065                            6856     
17066                            6857     
17067                            6858     
17068                            6859     ;       *******************************************
17069                            6860     ;       ***                                     ***
17070                            6861     ;       ***     位置決め一旦停止(自動待機位置)  ***
17071                            6862     ;       ***                                     ***
17072                            6863     ;       *******************************************
17073                            6864     ;       ﾊﾝﾄﾞｼｪｲｸの考え
17074                            6865     ;       ----------- 停止処理側---------------------------------
17075                            6866     ;               [1]運転
17076                            6867     ;               [2]停止判定したCPU(A)            -->[SH4_HD_HLDSTOP1]=-1 -->CPU(B)
17077                            6868     ;               [3]停止状態
17078                            6869     ;               [4]相手CPU同状態(停止)判定待ち   -->[SH4==SH2==-1]
17079                            6870     ;       ----------- 起動処理側---------------------------------
17080                            6871     ;               [5]起動条件待ち->起動条件成立    -->[SH4_HD_HLDSTOP1]=0  -->CPU(B)
17081                            6872     ;               [6]相手CPU同状態(起動)待ち       -->[SH4==SH2==0]
17082                            6873     ;               [7]実起動処理
17083                            6874     ;;      _CPU_AB_DRVHLDSTOP_ON_OUT       ;
17084                            6875     ;;      _CPU_AB_DRVHLDSTOP_OF_OUT       ;
17085                            6876     ;;      _CPU_BA_DRVHLDSTOP_ON_JG        ;
17086                            6877     ;;      _CPU_BA_DRVHLDSTOP_OF_JG        ;
17087                            6878     
17088                            6879     ;       ***************************
17089                            6880     ;       ***                     ***
17090                            6881     ;       ***     停止側処理      ***
17091                            6882     ;       ***                     ***
17092                            6883     ;       ***************************
17093                            6884     ;       //BIT0=1:ﾎｰﾙﾄﾞ停止受付[自分停止ON または相手停止ON]
17094                            6885             .IMPORT _CMP_HOLD_CTLGENSOK
17095                            6886     
17096                                     ***** BEGIN-POOL *****
17097 00002FF8 00000000                   DATA FOR SOURCE-LINE 6850
17098 00002FFC 00000000                   DATA FOR SOURCE-LINE 6852
17099                                     ***** END-POOL *****
17100 00003000                   6887     _POSHLD1_STEP1_STOPCMD_CHK:
17101                            6888             SUB_START
17102 00003000 4F22                   M           STS.L   PR,@-R15                ;[必要]
17103                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17104 00003002 D103              6889             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17105 00003004 6011              6890             MOV.W   @R1,R0                          ;
17106 00003006 C801              6891             TST     #BIT0,R0                        ;
17107                            6892             TST_BIT_OF POSHLD1_STEP1_STOP100        ;
17108 00003008 8904                   M           BT      POSHLD1_STEP1_STOP100
17109                            6893             M_BRA   POSHLD1_STEP1_STOPWAIT          ;BIT0=1:停止側の処理は終了:上のソフトの処
                                          理待ち
17110 0000300A A056                   M           BRA     POSHLD1_STEP1_STOPWAIT
17111 0000300C 0009                   M           NOP
17112                            6894     
17113                            6895     ;       -------------停止信号待ち-----------------------
17114                            6896     ;       自分は範囲でしか停止出力しない
17115                            6897     ;       相手からはいつでも受け付ける
17116                            6898     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   201
PROGRAM NAME =

17117                                     ***** BEGIN-POOL *****
17118 0000300E 0000                       ALIGNMENT CODE
17119 00003010 00000000                   DATA FOR SOURCE-LINE 6889
17120                                     ***** END-POOL *****
17121 00003014                   6899     POSHLD1_STEP1_STOP100:
17122                            6900             FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;相手CPUから止まれといわれたか
17123 00003014 D00D                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17124 00003016 400B                   M           JSR     @R0                     ;
17125 00003018 0009                   M           NOP                                     ;
17126 0000301A 2008              6901             TST     R0,R0                                   ;
17127                            6902             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17128 0000301C 8B20                   M           BF      POSHLD1_STEP1_STOP150
17129                            6903     
17130 0000301E D10C              6904             MOV.L   #_SEQAB_DP_TOP+151*2,R1                 ;151.8[本仕様有]
17131 00003020 6011              6905             MOV.W   @R1,R0                                  ;
17132 00003022 9411              6906             MOV.W   #BIT8,R4                                ;
17133 00003024 2048              6907             TST     R4,R0                                   ;
17134                            6908             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17135 00003026 8945                   M           BT      POSHLD1_STEP1_STOPNO
17136                            6909     
17137 00003028 D10A              6910             MOV.L   #_SEQAB_DP_TOP+32*2,R1                  ;32.12[入/切]
17138 0000302A 6011              6911             MOV.W   @R1,R0                                  ;
17139 0000302C 940D              6912             MOV.W   #BIT12,R4                               ;
17140 0000302E 2048              6913             TST     R4,R0                                   ;
17141                            6914             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17142 00003030 8940                   M           BT      POSHLD1_STEP1_STOPNO
17143                            6915     
17144 00003032 D109              6916             MOV.L   #_MODE_SEL,R1                   ;
17145 00003034 6011              6917             MOV.W   @R1,R0                          ;
17146 00003036 C81C              6918             TST     #_W1CNT+_W1SGL+_W1OPT,R0        ;
17147                            6919             TST_BIT_OF POSHLD1_STEP1_STOPNO
17148 00003038 893C                   M           BT      POSHLD1_STEP1_STOPNO
17149                            6920     
17150                            6921     
17151                            6922             FAR_JSR #_POSHLD1_STOP_CONFCHK,R0
17152 0000303A D008                   M           MOV.L   #_POSHLD1_STOP_CONFCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17153 0000303C 400B                   M           JSR     @R0                     ;
17154 0000303E 0009                   M           NOP                                     ;
17155 00003040 2008              6923             TST     R0,R0                                   ;
17156                            6924             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17157 00003042 8B0D                   M           BF      POSHLD1_STEP1_STOP150
17158                            6925             M_BRA   POSHLD1_STEP1_STOPNO                    ;
17159 00003044 A036                   M           BRA     POSHLD1_STEP1_STOPNO
17160 00003046 0009                   M           NOP
17161                            6926     
17162                            6927     
17163                                     ***** BEGIN-POOL *****
17164 00003048 0100                       DATA FOR SOURCE-LINE 6906
17165 0000304A 1000                       DATA FOR SOURCE-LINE 6912
17166 0000304C 00000000                   DATA FOR SOURCE-LINE 6900
17167 00003050 00000000                   DATA FOR SOURCE-LINE 6904
17168 00003054 00000000                   DATA FOR SOURCE-LINE 6910
17169 00003058 00000000                   DATA FOR SOURCE-LINE 6916
17170 0000305C 00000000                   DATA FOR SOURCE-LINE 6922
17171                                     ***** END-POOL *****
17172 00003060                   6928     POSHLD1_STEP1_STOP150:
17173                            6929     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   202
PROGRAM NAME =

17174                            6930             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0            ;停止釦を記憶
17175 00003060 D00D                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17176 00003062 400B                   M           JSR     @R0                     ;
17177 00003064 0009                   M           NOP                                     ;
17178                            6931     
17179                            6932     ;       --------- 停止条件成立---------
17180                            6933             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
17181 00003066 D00D                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17182 00003068 400B                   M           JSR     @R0                     ;
17183 0000306A 0009                   M           NOP                                     ;
17184                            6934     
17185                            6935             MOD_LOW_STOP_R0_R1
                                          ;
17186 0000306C D10C                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
17187 0000306E E002                   M           MOV.B   #BIT1,R0                        ;
17188 00003070 2101                   M           MOV.W   R0,@R1                          ;
17189                            6936             FAR_JSR #_CPU_AB_DRVHLDSTOP_ON_OUT,R0
                                          ;
17190 00003072 D00C                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_ON_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17191 00003074 400B                   M           JSR     @R0                     ;
17192 00003076 0009                   M           NOP                                     ;
17193                            6937             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17194 00003078 D10B                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17195 0000307A 6011                   M           MOV.W   @R1,R0          ;
17196 0000307C CB01                   M           OR      #(BIT0),R0              ;
17197 0000307E 2101                   M           MOV.W   R0,@R1          ;
17198                            6938             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_CMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17199 00003080 D10A                   M           MOV.L   #_POS_HOLD_CMD,R1               ;
17200 00003082 6011                   M           MOV.W   @R1,R0          ;
17201 00003084 CB01                   M           OR      #(BIT0),R0              ;
17202 00003086 2101                   M           MOV.W   R0,@R1          ;
17203                            6939             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4
                                          ;待機減速開始
17204 00003088 D109                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17205 0000308A 6011                   M           MOV.W   @R1,R0          ;
17206 0000308C 9403                   M           MOV.W   #(BIT6),R4              ;
17207 0000308E 204B                   M           OR      R4,R0           ;
17208 00003090 2101                   M           MOV.W   R0,@R1          ;
17209                            6940     
17210                            6941             M_BRA   POSHLD1_STEP1_STOPWAIT
17211 00003092 A012                   M           BRA     POSHLD1_STEP1_STOPWAIT
17212 00003094 0009                   M           NOP
17213                            6942     
17214                            6943     
17215                                     ***** BEGIN-POOL *****
17216 00003096 0040                       DATA FOR SOURCE-LINE 6939
17217 00003098 00000000                   DATA FOR SOURCE-LINE 6930
17218 0000309C 00000000                   DATA FOR SOURCE-LINE 6933
17219 000030A0 00000000                   DATA FOR SOURCE-LINE 6935
17220 000030A4 00000000                   DATA FOR SOURCE-LINE 6936
17221 000030A8 00000000                   DATA FOR SOURCE-LINE 6937
17222 000030AC 00000000                   DATA FOR SOURCE-LINE 6938
17223 000030B0 00000000                   DATA FOR SOURCE-LINE 6939
17224                                     ***** END-POOL *****
17225 000030B4                   6944     POSHLD1_STEP1_STOPNO:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   203
PROGRAM NAME =

17226 000030B4 200A              6945             XOR     R0,R0                   ;何もない(動いていいよ、動くことを妨げない)
17227                            6946             M_BRA   POSHLD1_STEP1_STOPEXT
17228 000030B6 A004                   M           BRA     POSHLD1_STEP1_STOPEXT
17229 000030B8 0009                   M           NOP
17230                            6947     
17231 000030BA                   6948     POSHLD1_STEP1_STOPWAIT:
17232 000030BA E0FF              6949             MOV.B   #-1,R0                  ;停止処理中
17233                            6950             M_BRA   POSHLD1_STEP1_STOPEXT
17234 000030BC A001                   M           BRA     POSHLD1_STEP1_STOPEXT
17235 000030BE 0009                   M           NOP
17236                            6951     
17237 000030C0                   6952     POSHLD1_STEP1_STOPSTOP:
17238 000030C0 E001              6953             MOV.B   #1,R0                   ;停止終了
17239 000030C2                   6954     POSHLD1_STEP1_STOPEXT:
17240                            6955     
17241                            6956             SUB_END
17242                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17243 000030C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17244                            6957             M_RTS
17245 000030C4 000B                   M           RTS                             ;RTSの後ろの
17246 000030C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17247                            6958     
17248                            6959     
17249                            6960     ;       ***********************************************************
17250                            6961     ;       ***     位置決め停止前の停止釦、一旦停止中停止釦の記憶  ***
17251                            6962     ;       ***********************************************************
17252                            6963     ;       1ｻｲｸﾙに2回の停止位置は存在しない
17253 000030C8                   6964     _POSHLD1_STOPBTTNCMD_CHK
17254                            6965             SUB_START
17255 000030C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17256                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17257                            6966     
17258 000030CA D107              6967             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
17259 000030CC 6011              6968             MOV.W   @R1,R0                          ;
17260 000030CE 2008              6969             TST     R0,R0                           ;
17261                            6970             TST_BIT_ON  POSHLD1_STOPBTTNCMDCK_050
17262 000030D0 8B03                   M           BF      POSHLD1_STOPBTTNCMDCK_050
17263 000030D2 D106              6971             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
17264 000030D4 6011              6972             MOV.W   @R1,R0                          ;
17265 000030D6 2008              6973             TST     R0,R0
17266                            6974             TST_BIT_OF POSHLD1_STOPBTTNCMDCK_100    ;
17267 000030D8 8903                   M           BT      POSHLD1_STOPBTTNCMDCK_100
17268 000030DA                   6975     POSHLD1_STOPBTTNCMDCK_050
17269                            6976             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSHLD1_STOPLATCH,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17270 000030DA D105                   M           MOV.L   #_POSHLD1_STOPLATCH,R1          ;
17271 000030DC 6011                   M           MOV.W   @R1,R0          ;
17272 000030DE CB01                   M           OR      #(BIT0),R0              ;
17273 000030E0 2101                   M           MOV.W   R0,@R1          ;
17274 000030E2                   6977     POSHLD1_STOPBTTNCMDCK_100
17275                            6978     
17276                            6979     
17277                            6980             SUB_END
17278                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17279 000030E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17280                            6981             M_RTS
17281 000030E4 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   204
PROGRAM NAME =

17282 000030E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17283                            6982     
17284                            6983     
17285                            6984     
17286                                     ***** BEGIN-POOL *****
17287 000030E8 00000000                   DATA FOR SOURCE-LINE 6967
17288 000030EC 00000000                   DATA FOR SOURCE-LINE 6971
17289 000030F0 00000000                   DATA FOR SOURCE-LINE 6976
17290                                     ***** END-POOL *****
17291 000030F4                   6985     _POSHLD1_STOP_CONFCHK:
17292                            6986             SUB_START
17293 000030F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
17294                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17295                            6987     
17296 000030F6 D125              6988             MOV.L   #_POS_HOLDABS_CALCF,R1  ;//1:終了
17297 000030F8 6011              6989             MOV.W   @R1,R0                  ;
17298 000030FA E401              6990             MOV.B   #BIT0,R4                ;
17299 000030FC 2048              6991             TST     R4,R0                   ;
17300                            6992             TST_BIT_OF POSHLD1_STOPCONF_100 ;ﾛｯﾄ変更無し
17301 000030FE 8905                   M           BT      POSHLD1_STOPCONF_100
17302 00003100 6447              6993             NOT     R4,R4                   ;
17303 00003102 2049              6994             AND     R4,R0                   ;
17304 00003104 2101              6995             MOV.W   R0,@R1                  ;
17305                            6996     
17306 00003106 200A              6997             XOR     R0,R0
17307 00003108 D121              6998             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//1:終了
17308 0000310A 2101              6999             MOV.W   R0,@R1                  ;
17309                            7000     
17310 0000310C                   7001     POSHLD1_STOPCONF_100
17311                            7002     
17312 0000310C D121              7003             MOV.L   #_SETX_POS_STEP_MAX,R1          ;
17313 0000310E 6811              7004             MOV.W   @R1,R8                          ;LOOP data 1~10
17314 00003110 7801              7005             ADD     #1,R8                           ;2~11
17315                            7006     
17316 00003112 E401              7007             MOV.B   #BIT0,R4                ;
17317 00003114 D61E              7008             MOV.L   #_POSHLD1_CHKLST_FLG,R6 ;//1:終了
17318                            7009     
17319 00003116 D520              7010             MOV.L   #_POSHLD1_STOP_STEP,R5  ;//11個
17320                            7011     
17321 00003118                   7012     POSHLD1_STOPCONF_200LOP
17322 00003118 6361              7013             MOV.W   @R6,R3                          ;毎回読む
17323                            7014     
17324 0000311A 6055              7015             MOV.W   @R5+,R0                         ;
17325 0000311C 2008              7016             TST     R0,R0                           ;
17326                            7017             TST_BIT_OF POSHLD1_STOPCONF_500         ;
17327 0000311E 8954                   M           BT      POSHLD1_STOPCONF_500
17328                            7018     
17329 00003120 2348              7019             TST     R4,R3                           ;終了?
17330                            7020             TST_BIT_ON POSHLD1_STOPCONF_400         ;YES
17331 00003122 8B4B                   M           BF      POSHLD1_STOPCONF_400
17332                            7021     
17333 00003124 70FF              7022             ADD     #-1,R0
17334 00003126 DB1D              7023             MOV.L   #_SETX_POS_SDAT1_CNTSTEP,R11    ;速度連続.LONG
17335 00003128 4008              7024             SHLL2   R0                              ;
17336 0000312A 0CBE              7025             MOV.L   @(R0,R11),R12                   ;指定されている目標行程
17337                            7026     
17338 0000312C D11C              7027             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   205
PROGRAM NAME =

17339 0000312E 6011              7028             MOV.W   @R1,R0                          ;
17340 00003130 2008              7029             TST     R0,R0                           ;
17341                            7030             TST_BIT_OF POSHLD1_STOPCONF_STOPNO      ;起動していない
17342 00003132 894A                   M           BT      POSHLD1_STOPCONF_STOPNO
17343                            7031     
17344 00003134 70FF              7032             ADD     #-1,R0
17345 00003136 4008              7033             SHLL2   R0                              ;
17346 00003138 0DBE              7034             MOV.L   @(R0,R11),R13                   ;今回運転している目標行程
17347                            7035     
17348 0000313A 3DC0              7036             CMP/EQ  R12,R13                         ;R12=R13
17349 0000313C 8B3A              7037             BF      POSHLD1_STOPCONF_300            ;
17350                            7038     
17351                            7039             PUSH_REG1       R3                      ;CHKFLG
17352 0000313E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
17353                                 M                                           ;REG=>[SP]
17354                                 M                                           ;"-4" FF,FF,FF,FC
17355                            7040             PUSH_REG1       R4                      ;CHKBIT
17356 00003140 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17357                                 M                                           ;REG=>[SP]
17358                                 M                                           ;"-4" FF,FF,FF,FC
17359                            7041             PUSH_REG1       R5                      ;STEP
17360 00003142 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17361                                 M                                           ;REG=>[SP]
17362                                 M                                           ;"-4" FF,FF,FF,FC
17363                            7042             PUSH_REG1       R6                      ;CHKFLG
17364 00003144 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
17365                                 M                                           ;REG=>[SP]
17366                                 M                                           ;"-4" FF,FF,FF,FC
17367                            7043             PUSH_REG1       R8                      ;CHKFLG
17368 00003146 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
17369                                 M                                           ;REG=>[SP]
17370                                 M                                           ;"-4" FF,FF,FF,FC
17371                            7044     ;       演算
17372                            7045             FAR_JSR #_HOLD1_DNSTART_POSCHK,R0       ;
17373 00003148 D016                   M           MOV.L   #_HOLD1_DNSTART_POSCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17374 0000314A 400B                   M           JSR     @R0                     ;
17375 0000314C 0009                   M           NOP                                     ;
17376                            7046     
17377                            7047             POP_REG1        R8
17378                                 M                                   ; RE"+4" 00,00,00,04
17379 0000314E 68F6                   M           MOV.L   @R15+,R8        ;
17380                            7048             POP_REG1        R6
17381                                 M                                   ; RE"+4" 00,00,00,04
17382 00003150 66F6                   M           MOV.L   @R15+,R6        ;
17383                            7049             POP_REG1        R5
17384                                 M                                   ; RE"+4" 00,00,00,04
17385 00003152 65F6                   M           MOV.L   @R15+,R5        ;
17386                            7050             POP_REG1        R4
17387                                 M                                   ; RE"+4" 00,00,00,04
17388 00003154 64F6                   M           MOV.L   @R15+,R4        ;
17389                            7051             POP_REG1        R3
17390                                 M                                   ; RE"+4" 00,00,00,04
17391 00003156 63F6                   M           MOV.L   @R15+,R3        ;
17392                            7052     
17393 00003158 2008              7053             TST     R0,R0
17394                            7054             TST_BIT_OF POSHLD1_STOPCONF_400         ;0:まだ未到達
17395 0000315A 892F                   M           BT      POSHLD1_STOPCONF_400
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   206
PROGRAM NAME =

17396                            7055     
17397 0000315C 8801              7056             CMP/EQ  #1,R0
17398 0000315E 8B2B              7057             BF      POSHLD1_STOPCONF_350            ;-1:MISS[目標位置を超えた] 1:NOMAL 0:まだ
17399                            7058     
17400 00003160 6033              7059             MOV     R3,R0                           ;
17401 00003162 234B              7060             OR      R4,R3                           ;
17402 00003164 2631              7061             MOV.W   R3,@R6                          ;CHKLISTSAVE
17403 00003166 2048              7062             TST     R4,R0                           ;
17404                            7063             TST_BIT_ON POSHLD1_STOPCONF_400         ;前回もＯＮだった
17405 00003168 8B28                   M           BF      POSHLD1_STOPCONF_400
17406                            7064     
17407                            7065     ;       ---------- 前回OFFで今回ON-----------------------
17408 0000316A D10F              7066             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17409 0000316C 6011              7067             MOV.W   @R1,R0                                  ;
17410 0000316E 920B              7068             MOV.W   #BIT12,R2                               ;
17411 00003170 2028              7069             TST     R2,R0                                   ;
17412                            7070             TST_BIT_ON POSHLD1_STOPCONF_STOPSTOP            ;2015-02-20[論理入れ替え]
17413 00003172 8B2D                   M           BF      POSHLD1_STOPCONF_STOPSTOP
17414                            7071     
17415                            7072             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R2;
                                          通過信号
17416 00003174 D10D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17417 00003176 6011                   M           MOV.W   @R1,R0          ;
17418 00003178 9206                   M           MOV.W   #(BIT12),R2             ;
17419 0000317A 202B                   M           OR      R2,R0           ;
17420 0000317C 2101                   M           MOV.W   R0,@R1          ;
17421 0000317E 9004              7073             MOV.W   #D'20,R0                                        ;
17422 00003180 D10B              7074             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1                       ;2015-02-20追加　20msecだ
                                          け再起動または通過時
17423 00003182 2101              7075             MOV.W   R0,@R1                                          ;
17424                            7076             M_BRA   POSHLD1_STOPCONF_400                    ;
17425 00003184 A01A                   M           BRA     POSHLD1_STOPCONF_400
17426 00003186 0009                   M           NOP
17427                            7077     
17428                            7078     ;;;;2015-02-20[論理入れ替え]
17429                            7079     ;;;;    TST_BIT_OF POSHLD1_STOPCONF_400                 ;
17430                            7080     ;;;;    M_BRA   POSHLD1_STOPCONF_STOPSTOP
17431                            7081     
17432                            7082     
17433                            7083     
17434                            7084     
17435                            7085     
17436                            7086     
17437                            7087     
17438                            7088     
17439                            7089     
17440                                     ***** BEGIN-POOL *****
17441 00003188 1000                       DATA FOR SOURCE-LINE 7068,7072
17442 0000318A 0014                       DATA FOR SOURCE-LINE 7073
17443 0000318C 00000000                   DATA FOR SOURCE-LINE 6988
17444 00003190 00000000                   DATA FOR SOURCE-LINE 6998,7008
17445 00003194 00000000                   DATA FOR SOURCE-LINE 7003
17446 00003198 00000000                   DATA FOR SOURCE-LINE 7010
17447 0000319C 00000000                   DATA FOR SOURCE-LINE 7023
17448 000031A0 00000000                   DATA FOR SOURCE-LINE 7027
17449 000031A4 00000000                   DATA FOR SOURCE-LINE 7045
17450 000031A8 00000000                   DATA FOR SOURCE-LINE 7066
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   207
PROGRAM NAME =

17451 000031AC 00000000                   DATA FOR SOURCE-LINE 7072
17452 000031B0 00000000                   DATA FOR SOURCE-LINE 7074
17453                                     ***** END-POOL *****
17454 000031B4                   7090     POSHLD1_STOPCONF_300
17455 000031B4 3DC7              7091             CMP/GT  R12,R13                         ;R12[指定]<R13[現状]?
17456 000031B6 8B01              7092             BF      POSHLD1_STOPCONF_400            ;NO! R13[現状]<R12[指定]まだその行程でない
17457                            7093     
17458                            7094     ;       -------------通り過ぎた R12[指定]<R13[現状]----------------
17459 000031B8                   7095     POSHLD1_STOPCONF_350
17460 000031B8 234B              7096             OR      R4,R3                           ;
17461 000031BA 2631              7097             MOV.W   R3,@R6                          ;CHKLISTSAVE
17462                            7098     
17463 000031BC                   7099     POSHLD1_STOPCONF_400
17464 000031BC 4400              7100             SHLL    R4                      ;
17465 000031BE 78FF              7101             ADD     #-1,R8                  ;
17466 000031C0 2888              7102             TST     R8,R8                   ;
17467                            7103             TST_BIT_OF POSHLD1_STOPCONF_499 ;MAX(ここではひっかっかることはない)
17468 000031C2 8901                   M           BT      POSHLD1_STOPCONF_499
17469                            7104             M_BRA   POSHLD1_STOPCONF_200LOP
17470 000031C4 AFA8                   M           BRA     POSHLD1_STOPCONF_200LOP
17471 000031C6 0009                   M           NOP
17472                            7105     
17473 000031C8                   7106     POSHLD1_STOPCONF_499
17474 000031C8 0009              7107             NOP
17475 000031CA                   7108     POSHLD1_STOPCONF_500
17476 000031CA                   7109     POSHLD1_STOPCONF_STOPNO         ;
17477 000031CA 200A              7110             XOR     R0,R0
17478                            7111             M_BRA   POSHLD1_STOPCONF_STOPEND
17479 000031CC A001                   M           BRA     POSHLD1_STOPCONF_STOPEND
17480 000031CE 0009                   M           NOP
17481                            7112     
17482 000031D0                   7113     POSHLD1_STOPCONF_STOPSTOP               ;
17483 000031D0 E001              7114             MOV.B   #BIT0,R0                ;
17484                            7115     
17485 000031D2                   7116     POSHLD1_STOPCONF_STOPEND
17486                            7117             SUB_END
17487                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17488 000031D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17489                            7118             M_RTS
17490 000031D4 000B                   M           RTS                             ;RTSの後ろの
17491 000031D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17492                            7119     
17493                            7120     
17494 000031D8                   7121     _HOLD1_DNSTART_POSCHK:
17495                            7122             SUB_START
17496 000031D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17497                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17498 000031DA D106              7123             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
17499 000031DC 6011              7124             MOV.W   @R1,R0                                  ;
17500 000031DE C804              7125             TST     #_DMATH_DNDRIV,R0                       ;ふりこ
17501                            7126             TST_BIT_OF HOLD1_DNSTARTPOSCK100                ;
17502 000031E0 890E                   M           BT      HOLD1_DNSTARTPOSCK100
17503                            7127     
17504 000031E2 D105              7128             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//このフラグでいいのかな？
17505 000031E4 6011              7129             MOV.W   @R1,R0                          ;
17506 000031E6 2008              7130             TST     R0,R0                           ;
17507                            7131             TST_BIT_OF HOLD1_DNSTARTPOSCK100        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   208
PROGRAM NAME =

17508 000031E8 890A                   M           BT      HOLD1_DNSTARTPOSCK100
17509                            7132     
17510 000031EA D404              7133             MOV.L   #_POSHLD1_SDAT2_HOLDPOS,R4;//停止位置
17511 000031EC 6146              7134             MOV.L   @R4+,R1
17512 000031EE 6246              7135             MOV.L   @R4+,R2
17513                            7136             M_BRA   HOLD1_DNSTARTPOSCK200           ;
17514 000031F0 A009                   M           BRA     HOLD1_DNSTARTPOSCK200
17515 000031F2 0009                   M           NOP
17516                            7137     
17517                                     ***** BEGIN-POOL *****
17518 000031F4 00000000                   DATA FOR SOURCE-LINE 7123
17519 000031F8 00000000                   DATA FOR SOURCE-LINE 7128
17520 000031FC 00000000                   DATA FOR SOURCE-LINE 7133
17521                                     ***** END-POOL *****
17522 00003200                   7138     HOLD1_DNSTARTPOSCK100:
17523 00003200 D404              7139             MOV.L   #_POSHLD1_SDAT1_HOLDPOS,R4;//停止位置
17524 00003202 6146              7140             MOV.L   @R4+,R1
17525 00003204 6246              7141             MOV.L   @R4+,R2
17526                            7142     
17527 00003206                   7143     HOLD1_DNSTARTPOSCK200:
17528                            7144             FAR_JSR #_CMP_HOLD_CTLGENSOK,R0         ;R0=01
17529 00003206 D004                   M           MOV.L   #_CMP_HOLD_CTLGENSOK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17530 00003208 400B                   M           JSR     @R0                     ;
17531 0000320A 0009                   M           NOP                                     ;
17532                            7145     
17533                            7146             SUB_END
17534                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17535 0000320C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17536                            7147             M_RTS
17537 0000320E 000B                   M           RTS                             ;RTSの後ろの
17538 00003210 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17539                            7148     
17540                            7149     ;       *******************************************
17541                            7150     ;       ***                                     ***
17542                            7151     ;       ***     開始側処理                      ***
17543                            7152     ;       ***     (完全に停止した時点)            ***
17544                            7153     ;       ***                                     ***
17545                            7154     ;       *******************************************
17546                            7155     ;
17547                                     ***** BEGIN-POOL *****
17548 00003212 0000                       ALIGNMENT CODE
17549 00003214 00000000                   DATA FOR SOURCE-LINE 7139
17550 00003218 00000000                   DATA FOR SOURCE-LINE 7144
17551                                     ***** END-POOL *****
17552 0000321C                   7156     _POSHLD1_STEP2_START_CHK:
17553                            7157             SUB_START
17554 0000321C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17555                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17556 0000321E D124              7158             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17557 00003220 6011              7159             MOV.W   @R1,R0                          ;
17558 00003222 C801              7160             TST     #BIT0,R0                        ;
17559                            7161             TST_BIT_OF POSHLD1_STEP2_STARTEXT       ;このソフトには関係ないのに呼ばれた
17560 00003224 895D                   M           BT      POSHLD1_STEP2_STARTEXT
17561                            7162     
17562 00003226 C804              7163             TST     #BIT2,R0                        ;
17563                            7164             TST_BIT_ON POSHLD1_STEP2_STARTEXT       ;
17564 00003228 8B5B                   M           BF      POSHLD1_STEP2_STARTEXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   209
PROGRAM NAME =

17565                            7165     
17566 0000322A C802              7166             TST     #BIT1,R0                        ;ﾀｲﾏ設定?
17567                            7167             TST_BIT_ON POSHLD1_STEP2_START100       ;
17568 0000322C 8B14                   M           BF      POSHLD1_STEP2_START100
17569                            7168     
17570                            7169     ;       ------------内部停止状態成立-----------
17571 0000322E D121              7170             MOV.L   #_SVP_WTTIM_MAX,R1              ;//ｽﾗｲﾄﾞ自動待機機能  待機時間上限
17572 00003230 6211              7171             MOV.W   @R1,R2                          ;
17573 00003232 9435              7172             MOV.W   #D'100,R4                       ;0.1秒
17574 00003234 324D              7173             DMULS.L R4,R2                           ;
17575 00003236 021A              7174             STS.L   MACL,R2                         ;
17576 00003238 D11F              7175             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17577 0000323A 2122              7176             MOV.L   R2,@R1                          ;
17578                            7177     
17579                            7178             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT1),WKREG=R1          ;
17580 0000323C D11C                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17581 0000323E 6011                   M           MOV.W   @R1,R0          ;
17582 00003240 CB02                   M           OR      #(BIT1),R0              ;
17583 00003242 2101                   M           MOV.W   R0,@R1          ;
17584                            7179             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4 ;
                                          待機停止中
17585 00003244 D11D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17586 00003246 6011                   M           MOV.W   @R1,R0          ;
17587 00003248 942B                   M           MOV.W   #(BIT7),R4              ;
17588 0000324A 204B                   M           OR      R4,R0           ;
17589 0000324C 2101                   M           MOV.W   R0,@R1          ;
17590                            7180             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT6),WKRG1=R1,WKRG2=R4
                                          ;待機減速開始
17591 0000324E D11B                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17592 00003250 6011                   M           MOV.W   @R1,R0          ;
17593 00003252 9427                   M           MOV.W   #LWORD (~BIT6),R4       ;
17594 00003254 2049                   M           AND     R4,R0           ;
17595 00003256 2101                   M           MOV.W   R0,@R1          ;
17596                            7181     
17597                            7182     
17598                            7183     
17599 00003258                   7184     POSHLD1_STEP2_START100:
17600                            7185     
17601                            7186     
17602 00003258 D117              7187             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17603 0000325A 6212              7188             MOV.L   @R1,R2                          ;
17604 0000325C 2228              7189             TST     R2,R2                           ;
17605                            7190             TST_BIT_OF POSHLD1_STEP2_START500       ;ﾀｲﾑｱｯﾌﾟ,0設定
17606 0000325E 8937                   M           BT      POSHLD1_STEP2_START500
17607 00003260 72FF              7191             ADD     #-1,R2                          ;
17608 00003262 2122              7192             MOV.L   R2,@R1                          ;
17609                            7193     
17610                            7194     
17611 00003264                   7195     POSHLD1_STEP2_START200:
17612                            7196     ;       --------------------試し------------------------
17613                            7197     ;       "本仕様有／無ｼｰｹﾝｽ+有効/無効sw+角度範囲+停止指令",相手信号
17614 00003264 D116              7198             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17615 00003266 6011              7199             MOV.W   @R1,R0                                  ;
17616 00003268 941D              7200             MOV.W   #BIT12,R4                               ;
17617 0000326A 2048              7201             TST     R4,R0                                   ;
17618                            7202             TST_BIT_ON POSHLD1_STEP2_STARTEXT               ;
17619 0000326C 8B39                   M           BF      POSHLD1_STEP2_STARTEXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   210
PROGRAM NAME =

17620                            7203     
17621                            7204     ;       ----------------起動条件成立--------------------------------
17622                            7205             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT2),WKREG=R1
                                          ;
17623 0000326E D110                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17624 00003270 6011                   M           MOV.W   @R1,R0          ;
17625 00003272 CB04                   M           OR      #(BIT2),R0              ;
17626 00003274 2101                   M           MOV.W   R0,@R1          ;
17627                            7206             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_RESTARTCMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;RESTART
17628 00003276 D113                   M           MOV.L   #_POS_HOLD_RESTARTCMD,R1                ;
17629 00003278 6011                   M           MOV.W   @R1,R0          ;
17630 0000327A CB01                   M           OR      #(BIT0),R0              ;
17631 0000327C 2101                   M           MOV.W   R0,@R1          ;
17632                            7207             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                          ;待機停止中
17633 0000327E D10F                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17634 00003280 6011                   M           MOV.W   @R1,R0          ;
17635 00003282 9411                   M           MOV.W   #LWORD (~BIT7),R4       ;
17636 00003284 2049                   M           AND     R4,R0           ;
17637 00003286 2101                   M           MOV.W   R0,@R1          ;
17638                            7208     ;;;;2015-02-20  MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT8),WKRG1=R1,WKR
                                          G2=R4           ;再起動ON
17639                            7209             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12|BIT8),WKRG1=R1,WKRG2
                                          =R4             ;再起動ON
17640 00003288 D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17641 0000328A 6011                   M           MOV.W   @R1,R0          ;
17642 0000328C 940D                   M           MOV.W   #(BIT12|BIT8),R4                ;
17643 0000328E 204B                   M           OR      R4,R0           ;
17644 00003290 2101                   M           MOV.W   R0,@R1          ;
17645                            7210     
17646 00003292 900B              7211             MOV.W   #D'20,R0                                ;
17647 00003294 D10C              7212             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1               ;20msecだけ再起動をONする
17648 00003296 2101              7213             MOV.W   R0,@R1                                  ;
17649 00003298 D10C              7214             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1               ;2015-02-20追加　20msecだけ再起動
                                          または通過時
17650 0000329A 2101              7215             MOV.W   R0,@R1                                  ;
17651                            7216             M_BRA   POSHLD1_STEP2_STARTEXT
                                          ;
17652 0000329C A021                   M           BRA     POSHLD1_STEP2_STARTEXT
17653 0000329E 0009                   M           NOP
17654                            7217     
17655                                     ***** BEGIN-POOL *****
17656 000032A0 0064                       DATA FOR SOURCE-LINE 7172
17657 000032A2 0080                       DATA FOR SOURCE-LINE 7179
17658 000032A4 FFBF                       DATA FOR SOURCE-LINE 7180
17659 000032A6 1000                       DATA FOR SOURCE-LINE 7200
17660 000032A8 FF7F                       DATA FOR SOURCE-LINE 7207
17661 000032AA 1100                       DATA FOR SOURCE-LINE 7209
17662 000032AC 0014                       DATA FOR SOURCE-LINE 7211
17663 000032AE 0000                       ALIGNMENT CODE
17664 000032B0 00000000                   DATA FOR SOURCE-LINE 7158,7178,7205
17665 000032B4 00000000                   DATA FOR SOURCE-LINE 7170
17666 000032B8 00000000                   DATA FOR SOURCE-LINE 7175,7187
17667 000032BC 00000000                   DATA FOR SOURCE-LINE 7179,7180,7207,7209
17668 000032C0 00000000                   DATA FOR SOURCE-LINE 7198
17669 000032C4 00000000                   DATA FOR SOURCE-LINE 7206
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   211
PROGRAM NAME =

17670 000032C8 00000000                   DATA FOR SOURCE-LINE 7212
17671 000032CC 00000000                   DATA FOR SOURCE-LINE 7214
17672                                     ***** END-POOL *****
17673 000032D0                   7218     POSHLD1_STEP2_START500:
17674                            7219     
17675                            7220     
17676 000032D0 D506              7221             MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R5             ;
17677 000032D2 6151              7222             MOV.W   @R5,R1                                  ;
17678 000032D4 9008              7223             MOV.W   #BIT13,R0
17679 000032D6 210B              7224             OR      R0,R1
17680 000032D8 2511              7225             MOV.W   R1,@R5
17681                            7226     
17682 000032DA 9406              7227             MOV.W   #H'224D,R4                              ;2010-12-21
17683                            7228             FAR_JSR #_EXQ_STOP,R0                           ;EXQ_FLG
17684 000032DC D004                   M           MOV.L   #_EXQ_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17685 000032DE 400B                   M           JSR     @R0                     ;
17686 000032E0 0009                   M           NOP                                     ;
17687                            7229     
17688 000032E2                   7230     POSHLD1_STEP2_STARTEXT:
17689                            7231     
17690                            7232             SUB_END
17691                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17692 000032E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17693                            7233             M_RTS
17694 000032E4 000B                   M           RTS                             ;RTSの後ろの
17695 000032E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17696                            7234     
17697                            7235     
17698                                     ***** BEGIN-POOL *****
17699 000032E8 2000                       DATA FOR SOURCE-LINE 7223
17700 000032EA 224D                       DATA FOR SOURCE-LINE 7227
17701 000032EC 00000000                   DATA FOR SOURCE-LINE 7221
17702 000032F0 00000000                   DATA FOR SOURCE-LINE 7228
17703                                     ***** END-POOL *****
17704 000032F4                   7236     _POSHLD1_FLG_CLR:
17705                            7237             SUB_START
17706 000032F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
17707                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17708 000032F6 200A              7238             XOR     R0,R0
17709 000032F8 D106              7239             MOV.L   #_POS_HLDSTOP1_FLG,R1   ;
17710 000032FA 2101              7240             MOV.W   R0,@R1                  ;
17711 000032FC D106              7241             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//
17712 000032FE 2101              7242             MOV.W   R0,@R1
17713                            7243     
17714                            7244             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT7|BIT6),WKRG1=R1,WKRG2
                                          =R4     ;
17715 00003300 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17716 00003302 6011                   M           MOV.W   @R1,R0          ;
17717 00003304 9404                   M           MOV.W   #LWORD ~(BIT7|BIT6),R4  ;
17718 00003306 2049                   M           AND     R4,R0           ;
17719 00003308 2101                   M           MOV.W   R0,@R1          ;
17720                            7245     
17721                            7246             SUB_END
17722                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17723 0000330A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17724                            7247             M_RTS
17725 0000330C 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   212
PROGRAM NAME =

17726 0000330E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17727                            7248     
17728                            7249     
17729                            7250     
17730                            7251     
17731                            7252     
17732                                     ***** BEGIN-POOL *****
17733 00003310 FF3F                       DATA FOR SOURCE-LINE 7244
17734 00003312 0000                       ALIGNMENT CODE
17735 00003314 00000000                   DATA FOR SOURCE-LINE 7239
17736 00003318 00000000                   DATA FOR SOURCE-LINE 7241
17737 0000331C 00000000                   DATA FOR SOURCE-LINE 7244
17738                                     ***** END-POOL *****
17739 00003320                   7253     _POSHLD1_SIG_CHK
17740                            7254             SUB_START
17741 00003320 4F22                   M           STS.L   PR,@-R15                ;[必要]
17742                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17743                            7255     ;       --------- 再起動信号--------------
17744 00003322 D507              7256             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
17745 00003324 6351              7257             MOV.W   @R5,R3
17746 00003326 9409              7258             MOV.W   #BIT8,R4
17747 00003328 2348              7259             TST     R4,R3
17748                            7260             TST_BIT_OF POSHLD1_SIGCHK_200   ;
17749 0000332A 8910                   M           BT      POSHLD1_SIGCHK_200
17750                            7261     
17751 0000332C D105              7262             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;       //100msecだけ再起動をONする
17752 0000332E 6011              7263             MOV.W   @R1,R0                          ;
17753 00003330 2008              7264             TST     R0,R0
17754                            7265             TST_BIT_OF POSHLD1_SIGCHK_100           ;
17755 00003332 8909                   M           BT      POSHLD1_SIGCHK_100
17756 00003334 70FF              7266             ADD     #-1,R0
17757 00003336 2101              7267             MOV.W   R0,@R1
17758                            7268             M_BRA   POSHLD1_SIGCHK_200
17759 00003338 A009                   M           BRA     POSHLD1_SIGCHK_200
17760 0000333A 0009                   M           NOP
17761                                     ***** BEGIN-POOL *****
17762 0000333C 0100                       DATA FOR SOURCE-LINE 7258
17763 0000333E 0000                       ALIGNMENT CODE
17764 00003340 00000000                   DATA FOR SOURCE-LINE 7256
17765 00003344 00000000                   DATA FOR SOURCE-LINE 7262
17766                                     ***** END-POOL *****
17767 00003348                   7269     POSHLD1_SIGCHK_100
17768 00003348 6447              7270             NOT     R4,R4
17769 0000334A 2349              7271             AND     R4,R3
17770 0000334C 2531              7272             MOV.W   R3,@R5                          ;
17771                            7273     
17772 0000334E                   7274     POSHLD1_SIGCHK_200
17773                            7275     
17774                            7276     
17775                            7277     
17776                            7278     ;       --------- 通過信号2015-02-20--------------
17777 0000334E D507              7279             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
17778 00003350 6351              7280             MOV.W   @R5,R3
17779 00003352 9409              7281             MOV.W   #BIT12,R4
17780 00003354 2348              7282             TST     R4,R3
17781                            7283             TST_BIT_OF POSHLD1_SIGCHK_400   ;
17782 00003356 8910                   M           BT      POSHLD1_SIGCHK_400
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   213
PROGRAM NAME =

17783                            7284     
17784 00003358 D105              7285             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;       //100msecだけ再起動をONする
17785 0000335A 6011              7286             MOV.W   @R1,R0                          ;
17786 0000335C 2008              7287             TST     R0,R0
17787                            7288             TST_BIT_OF POSHLD1_SIGCHK_300           ;
17788 0000335E 8909                   M           BT      POSHLD1_SIGCHK_300
17789 00003360 70FF              7289             ADD     #-1,R0
17790 00003362 2101              7290             MOV.W   R0,@R1
17791                            7291             M_BRA   POSHLD1_SIGCHK_400
17792 00003364 A009                   M           BRA     POSHLD1_SIGCHK_400
17793 00003366 0009                   M           NOP
17794                                     ***** BEGIN-POOL *****
17795 00003368 1000                       DATA FOR SOURCE-LINE 7281
17796 0000336A 0000                       ALIGNMENT CODE
17797 0000336C 00000000                   DATA FOR SOURCE-LINE 7279
17798 00003370 00000000                   DATA FOR SOURCE-LINE 7285
17799                                     ***** END-POOL *****
17800 00003374                   7292     POSHLD1_SIGCHK_300
17801 00003374 6447              7293             NOT     R4,R4
17802 00003376 2349              7294             AND     R4,R3
17803 00003378 2531              7295             MOV.W   R3,@R5                          ;
17804                            7296     
17805 0000337A                   7297     POSHLD1_SIGCHK_400
17806                            7298     
17807                            7299             SUB_END
17808                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17809 0000337A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17810                            7300             M_RTS
17811 0000337C 000B                   M           RTS                             ;RTSの後ろの
17812 0000337E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17813                            7301     
17814                            7302     ;       *******************************************
17815                            7303     ;       ***                                     ***
17816                            7304     ;       ***     複数個で一旦停止を行える構造    ***
17817                            7305     ;       ***                                     ***
17818                            7306     ;       ***                                     ***
17819                            7307     ;       *******************************************
17820                            7308     ;
17821                            7309     ;
17822                            7310     ;_POS_HLDSTOP1_FLG;     //位置決め状態、準備未完了状態にて行う
17823 00003380                   7311     _POS_HOLD_RESTART_CHK:
17824                            7312             SUB_START
17825 00003380 4F22                   M           STS.L   PR,@-R15                ;[必要]
17826                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17827                            7313             FAR_JSR #_POSHLD1_STEP2_START_CHK,R0            ;ｺﾏﾝﾄﾞで出力
17828 00003382 D003                   M           MOV.L   #_POSHLD1_STEP2_START_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17829 00003384 400B                   M           JSR     @R0                     ;
17830 00003386 0009                   M           NOP                                     ;
17831                            7314     
17832                            7315             SUB_END
17833                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17834 00003388 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17835                            7316             M_RTS
17836 0000338A 000B                   M           RTS                             ;RTSの後ろの
17837 0000338C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17838                            7317     
17839                            7318     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   214
PROGRAM NAME =

17840                            7319     
17841                            7320     
17842                                     ***** BEGIN-POOL *****
17843 0000338E 0000                       ALIGNMENT CODE
17844 00003390 00000000                   DATA FOR SOURCE-LINE 7313
17845                                     ***** END-POOL *****
17846 00003394                   7321     _HOLD_RESTART_OF_OUT:
17847                            7322             SUB_START
17848 00003394 4F22                   M           STS.L   PR,@-R15                ;[必要]
17849                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17850                            7323             FAR_JSR #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;
17851 00003396 D003                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17852 00003398 400B                   M           JSR     @R0                     ;
17853 0000339A 0009                   M           NOP                                     ;
17854                            7324             SUB_END
17855                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17856 0000339C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17857                            7325             M_RTS
17858 0000339E 000B                   M           RTS                             ;RTSの後ろの
17859 000033A0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17860                            7326     
17861                            7327     
17862                            7328     ;       -----R0=0 RESTART-OK----------
17863                                     ***** BEGIN-POOL *****
17864 000033A2 0000                       ALIGNMENT CODE
17865 000033A4 00000000                   DATA FOR SOURCE-LINE 7323
17866                                     ***** END-POOL *****
17867 000033A8                   7329     _HOLD_RESTART_BA_JG:
17868                            7330             SUB_START
17869 000033A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17870                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17871                            7331             FAR_JSR #_CPU_BA_DRVHLDSTOP_OF_JG,R0    ;R0=0 起動 とりあえず１個
17872 000033AA D003                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_OF_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17873 000033AC 400B                   M           JSR     @R0                     ;
17874 000033AE 0009                   M           NOP                                     ;
17875                            7332             SUB_END
17876                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17877 000033B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17878                            7333             M_RTS
17879 000033B2 000B                   M           RTS                             ;RTSの後ろの
17880 000033B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17881                            7334     
17882                            7335     ;       -----R0=0 RESTART-OK----------
17883                            7336     ;;;;;;;;;;_HOLD_STOP_BA_JG:
17884                            7337     ;;;;;;;;;;      SUB_START
17885                            7338     ;;;;;;;;;;      FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0    ;R0=FFFF 停止 とりあえず1個(複数時
                                          でもどれか１つがFFFFでいいと思う)
17886                            7339     ;;;;;;;;;;      SUB_END
17887                            7340     ;;;;;;;;;       M_RTS
17888                            7341     
17889                            7342     
17890                            7343     
17891                            7344     
17892                                     ***** BEGIN-POOL *****
17893 000033B6 0000                       ALIGNMENT CODE
17894 000033B8 00000000                   DATA FOR SOURCE-LINE 7331
17895                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   215
PROGRAM NAME =

17896 000033BC                   7345     _POS_HOLD_FLG_CLR:
17897                            7346             SUB_START
17898 000033BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17899                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17900                            7347     
17901 000033BE 200A              7348             XOR     R0,R0
17902 000033C0 D105              7349             MOV.L   #_POS_HOLD_RESTARTCMD,R1
17903 000033C2 2101              7350             MOV.W   R0,@R1
17904 000033C4 D105              7351             MOV.L   #_POS_HOLD_CMD,R1
17905 000033C6 2101              7352             MOV.W   R0,@R1
17906 000033C8 D105              7353             MOV.L   #_POS_HOLD_FLG,R1
17907 000033CA 2101              7354             MOV.W   R0,@R1
17908                            7355     
17909                            7356             FAR_JSR #_POSHLD1_FLG_CLR,R0            ;
17910 000033CC D005                   M           MOV.L   #_POSHLD1_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17911 000033CE 400B                   M           JSR     @R0                     ;
17912 000033D0 0009                   M           NOP                                     ;
17913                            7357     
17914                            7358             SUB_END
17915                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17916 000033D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17917                            7359             M_RTS
17918 000033D4 000B                   M           RTS                             ;RTSの後ろの
17919 000033D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17920                            7360     
17921                            7361     ;
17922                                     ***** BEGIN-POOL *****
17923 000033D8 00000000                   DATA FOR SOURCE-LINE 7349
17924 000033DC 00000000                   DATA FOR SOURCE-LINE 7351
17925 000033E0 00000000                   DATA FOR SOURCE-LINE 7353
17926 000033E4 00000000                   DATA FOR SOURCE-LINE 7356
17927                                     ***** END-POOL *****
17928 000033E8                   7362     _POS_HOLD_FLG_STR2CLR:
17929                            7363             SUB_START
17930 000033E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17931                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17932 000033EA 200A              7364             XOR     R0,R0
17933 000033EC D102              7365             MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
17934 000033EE 2101              7366             MOV.W   R0,@R1                  ;
17935                            7367     
17936                            7368     ;;;;;;;;;;      MOV.L   #_POS_HOLD_RDY_EXITF2,R1;//しょうがない
17937                            7369     ;;;;;;;;;;      MOV.W   R0,@R1                  ;
17938                            7370     
17939                            7371             SUB_END
17940                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17941 000033F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17942                            7372             M_RTS
17943 000033F2 000B                   M           RTS                             ;RTSの後ろの
17944 000033F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17945                            7373     
17946                            7374     ;       ***********************************
17947                            7375     ;       ***     EXQ,EMG時の内部ｸﾘｱ      ***
17948                            7376     ;       ***********************************
17949                                     ***** BEGIN-POOL *****
17950 000033F6 0000                       ALIGNMENT CODE
17951 000033F8 00000000                   DATA FOR SOURCE-LINE 7365
17952                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   216
PROGRAM NAME =

17953 000033FC                   7377     _POS_HOLD_FLG_EXQ_CLR:
17954                            7378             SUB_START
17955 000033FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17956                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17957                            7379     
17958                            7380             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
17959 000033FE D00E                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17960 00003400 400B                   M           JSR     @R0                     ;
17961 00003402 0009                   M           NOP                                     ;
17962                            7381             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
17963 00003404 D00D                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17964 00003406 400B                   M           JSR     @R0                     ;
17965 00003408 0009                   M           NOP                                     ;
17966                            7382     
17967 0000340A 200A              7383             XOR     R0,R0                           ;
17968 0000340C D10C              7384             MOV.L   #_POSHLD1_STOPLATCH,R1          ;//停止前、停止中に停止釦相当が発生したか?
17969 0000340E 2101              7385             MOV.W   R0,@R1                          ;
17970                            7386     
17971 00003410 D10C              7387             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;251.8   20msecだけ再起動をONする
17972 00003412 2101              7388             MOV.W   R0,@R1                          ;
17973 00003414 D10C              7389             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;251.12  20msecだけ通過時もしくは再起動時O
                                          Nする[2015-02-20]
17974 00003416 2101              7390             MOV.W   R0,@R1                          ;
17975                            7391     
17976                            7392     ;       ---     2015-02-20 BIT9は設定条件       ---
17977                            7393             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT12|BIT8|BIT7|BIT6),WKR
                                          G1=R1,WKRG2=R4  ;
17978 00003418 D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17979 0000341A 6011                   M           MOV.W   @R1,R0          ;
17980 0000341C 940A                   M           MOV.W   #LWORD ~(BIT12|BIT8|BIT7|BIT6),R4       ;
17981 0000341E 2049                   M           AND     R4,R0           ;
17982 00003420 2101                   M           MOV.W   R0,@R1          ;
17983                            7394     
17984                            7395     
17985                            7396             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;DPRAM ｺﾏﾝﾄﾞｸﾘｱ
17986 00003422 D00B                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17987 00003424 400B                   M           JSR     @R0                     ;
17988 00003426 0009                   M           NOP                                     ;
17989                            7397             FAR_JSR #_RDY_HOLDSTP_OF_FLGOUT,R0      ;
17990 00003428 D00A                   M           MOV.L   #_RDY_HOLDSTP_OF_FLGOUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17991 0000342A 400B                   M           JSR     @R0                     ;
17992 0000342C 0009                   M           NOP                                     ;
17993                            7398     
17994                            7399     
17995                            7400     
17996                            7401     
17997                            7402             SUB_END
17998                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17999 0000342E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18000                            7403             M_RTS
18001 00003430 000B                   M           RTS                             ;RTSの後ろの
18002 00003432 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18003                            7404     
18004                            7405     ;EMG,EXQなのでRDY_CHECKは通らないから強制OFF[2015-02-20]
18005                                     ***** BEGIN-POOL *****
18006 00003434 EE3F                       DATA FOR SOURCE-LINE 7393
18007 00003436 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   217
PROGRAM NAME =

18008 00003438 00000000                   DATA FOR SOURCE-LINE 7380
18009 0000343C 00000000                   DATA FOR SOURCE-LINE 7381
18010 00003440 00000000                   DATA FOR SOURCE-LINE 7384
18011 00003444 00000000                   DATA FOR SOURCE-LINE 7387
18012 00003448 00000000                   DATA FOR SOURCE-LINE 7389
18013 0000344C 00000000                   DATA FOR SOURCE-LINE 7393
18014 00003450 00000000                   DATA FOR SOURCE-LINE 7396
18015 00003454 00000000                   DATA FOR SOURCE-LINE 7397
18016                                     ***** END-POOL *****
18017 00003458                   7406     _RDY_HOLDSTP_OF_FLGOUT:
18018                            7407             SUB_START
18019 00003458 4F22                   M           STS.L   PR,@-R15                ;[必要]
18020                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18021 0000345A 200A              7408             XOR     R0,R0
18022 0000345C D103              7409             MOV.L   #_SH4_HD_HLDSTOP2,R1
18023 0000345E 2101              7410             MOV.W   R0,@R1
18024 00003460 D103              7411             MOV.L   #_SH2_HD_HLDSTOP2,R1
18025 00003462 2101              7412             MOV.W   R0,@R1
18026                            7413             SUB_END
18027                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18028 00003464 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18029                            7414             M_RTS
18030 00003466 000B                   M           RTS                             ;RTSの後ろの
18031 00003468 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18032                            7415     
18033                            7416     
18034                                     ***** BEGIN-POOL *****
18035 0000346A 0000                       ALIGNMENT CODE
18036 0000346C 00000000                   DATA FOR SOURCE-LINE 7409
18037 00003470 00000000                   DATA FOR SOURCE-LINE 7411
18038                                     ***** END-POOL *****
18039 00003474                   7417     _RDY_HOLDSTP_FLGOUT:
18040                            7418             SUB_START
18041 00003474 4F22                   M           STS.L   PR,@-R15                ;[必要]
18042                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18043                            7419     
18044 00003476 D103              7420             MOV.L   #_POS_HOLD_FLG,R1       ;
18045 00003478 6011              7421             MOV.W   @R1,R0                  ;
18046                            7422     
18047                            7423             .AIF    1 EQ    0       ;
18048                            7424             MOV.L   #_SH4_HD_HLDSTOP2,R1
18049                            7425             .AELSE
18050 0000347A D103              7426 C           MOV.L   #_SH2_HD_HLDSTOP2,R1
18051                            7427             .AENDI
18052 0000347C 2101              7428             MOV.W   R0,@R1
18053                            7429     
18054                            7430             SUB_END
18055                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18056 0000347E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18057                            7431             M_RTS
18058 00003480 000B                   M           RTS                             ;RTSの後ろの
18059 00003482 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18060                            7432     
18061                                     ***** BEGIN-POOL *****
18062 00003484 00000000                   DATA FOR SOURCE-LINE 7420
18063 00003488 00000000                   DATA FOR SOURCE-LINE 7426
18064                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   218
PROGRAM NAME =

18065 0000348C                   7433     _HOLD_STOP_BA_JG:
18066                            7434             SUB_START
18067 0000348C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18068                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18069                            7435     
18070                            7436             .AIF    1 EQ    0       ;
18071                            7437             MOV.L   #_SH2_HD_HLDSTOP2,R1
18072                            7438             .AELSE
18073 0000348E D102              7439 C           MOV.L   #_SH4_HD_HLDSTOP2,R1
18074                            7440             .AENDI
18075 00003490 6011              7441             MOV.W   @R1,R0
18076                            7442     
18077                            7443             SUB_END
18078                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18079 00003492 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18080                            7444             M_RTS
18081 00003494 000B                   M           RTS                             ;RTSの後ろの
18082 00003496 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18083                            7445     
18084                            7446     
18085                            7447     ;       *******************************************
18086                            7448     ;       ***                                     ***
18087                            7449     ;       ***                                     ***
18088                            7450     ;       ***                                     ***
18089                            7451     ;       ***     寸動任意角度起動                ***
18090                            7452     ;       ***                                     ***
18091                            7453     ;       ***                                     ***
18092                            7454     ;       ***                                     ***
18093                            7455     ;       *******************************************
18094                            7456     
18095                            7457     ;       *******************************************
18096                            7458     ;       ***                                     ***
18097                            7459     ;       ***     EMG時ワーククリア               ***
18098                            7460     ;       ***                                     ***
18099                            7461     ;       *******************************************
18100                            7462     ;       起動時もCALLされる
18101                            7463             .EXPORT _INC_RST_WORK_CLR
18102                                     ***** BEGIN-POOL *****
18103 00003498 00000000                   DATA FOR SOURCE-LINE 7439
18104                                     ***** END-POOL *****
18105 0000349C                   7464     _INC_RST_WORK_CLR
18106                            7465             SUB_START                               ;
18107 0000349C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18108                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18109 0000349E 200A              7466             XOR     R0,R0                           ;
18110 000034A0 D103              7467             MOV.L   #_INC_RESET_STEP,R1             ;//0,1:1ｽﾃｯﾌﾟから起動 2~11
18111 000034A2 2101              7468             MOV.W   R0,@R1                          ;//
18112                            7469     
18113 000034A4 D103              7470             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18114 000034A6 2101              7471             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18115                            7472     
18116                            7473             SUB_END                                 ;
18117                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18118 000034A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18119                            7474             M_RTS                                   ;
18120 000034AA 000B                   M           RTS                             ;RTSの後ろの
18121 000034AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   219
PROGRAM NAME =

18122                            7475     
18123                            7476     ;       *******************************************
18124                            7477     ;       ***                                     ***
18125                            7478     ;       ***     リセット時の開始行程判断        ***
18126                            7479     ;       ***                                     ***
18127                            7480     ;       *******************************************
18128                            7481             .IMPORT _POS_STEP1_SEARCH               ;
18129                            7482     
18130                                     ***** BEGIN-POOL *****
18131 000034AE 0000                       ALIGNMENT CODE
18132 000034B0 00000000                   DATA FOR SOURCE-LINE 7467
18133 000034B4 00000000                   DATA FOR SOURCE-LINE 7470
18134                                     ***** END-POOL *****
18135 000034B8                   7483     _INC_RSTMODE_CHK
18136                            7484             SUB_START                                                       ;
18137 000034B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
18138                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18139                            7485     
18140                            7486             FAR_JSR #_INC_SPEC_RSTCHK,R0                    ;ｼｽﾊﾟﾗが有効で且つ寸動
18141 000034BA D004                   M           MOV.L   #_INC_SPEC_RSTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18142 000034BC 400B                   M           JSR     @R0                     ;
18143 000034BE 0009                   M           NOP                                     ;
18144                            7487     
18145 000034C0 222A              7488             XOR     R2,R2                                   ;
18146 000034C2 2008              7489             TST     R0,R0
18147                            7490             TST_BIT_ON INC_RSTMODECK020                     ;寸動で且つ、リセット有効
18148 000034C4 8B04                   M           BF      INC_RSTMODECK020
18149                            7491             M_BRA   INC_RSTMODECK499                        ;特殊なﾓｰﾄﾞではない
18150 000034C6 A08A                   M           BRA     INC_RSTMODECK499
18151 000034C8 0009                   M           NOP
18152                            7492     
18153                                     ***** BEGIN-POOL *****
18154 000034CA 0000                       ALIGNMENT CODE
18155 000034CC 00000000                   DATA FOR SOURCE-LINE 7486
18156                                     ***** END-POOL *****
18157 000034D0                   7493     INC_RSTMODECK020
18158                            7494     
18159                            7495     ;       ----------------------------------
18160 000034D0 D104              7496             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18161 000034D2 6011              7497             MOV.W   @R1,R0                                  ;
18162 000034D4 C804              7498             TST     #(_DMATH_DNDRIV),R0                     ;
18163                            7499             TST_BIT_OF INC_RSTMODECK100                     ;振子でない
18164 000034D6 8909                   M           BT      INC_RSTMODECK100
18165                            7500     
18166 000034D8 D403              7501             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
18167 000034DA 6041              7502             MOV.W   @R4,R0
18168 000034DC C890              7503             TST     #(BIT7+BIT4),R0                         ;
18169                            7504             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18170 000034DE 8B7D                   M           BF      INC_RSTMODECK490
18171                            7505             M_BRA   INC_RSTMODECK200                        ;
18172 000034E0 A008                   M           BRA     INC_RSTMODECK200
18173 000034E2 0009                   M           NOP
18174                            7506     
18175                            7507     
18176                                     ***** BEGIN-POOL *****
18177 000034E4 00000000                   DATA FOR SOURCE-LINE 7496
18178 000034E8 00000000                   DATA FOR SOURCE-LINE 7501
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   220
PROGRAM NAME =

18179                                     ***** END-POOL *****
18180 000034EC                   7508     INC_RSTMODECK100
18181 000034EC D412              7509             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
18182 000034EE 6041              7510             MOV.W   @R4,R0                                  ;
18183 000034F0 C810              7511             TST     #BIT4,R0                                ;左側
18184                            7512             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18185 000034F2 8B73                   M           BF      INC_RSTMODECK490
18186                            7513     
18187                            7514     ;       --------- 待機点にいない いままではここはＮＧ区間-----------
18188 000034F4                   7515     INC_RSTMODECK200
18189                            7516     
18190                            7517             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0          ;
18191 000034F4 D011                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18192 000034F6 400B                   M           JSR     @R0                     ;
18193 000034F8 0009                   M           NOP                                     ;
18194                            7518             FAR_JSR #_NOW_INC_DIG_MAK,R0            ;
18195 000034FA D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18196 000034FC 400B                   M           JSR     @R0                     ;
18197 000034FE 0009                   M           NOP                                     ;
18198                            7519     
18199                            7520     
18200 00003500 D110              7521             MOV.L   #_LINK_NOWROT_OFSPLS_P,R1               ;[[[目標]]]
18201 00003502 6712              7522             MOV.L   @R1,R7                                  ;
18202                            7523     
18203                            7524     ;       -------2018-02-10(2018-01-25)[回転で待機点359度のとき 0の場合は問題なし]----------
                                          -
18204                            7525             FAR_JSR #_INC_RST_DATA_CHK,R0                   ;input R7 /output R7
18205 00003504 D010                   M           MOV.L   #_INC_RST_DATA_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18206 00003506 400B                   M           JSR     @R0                     ;
18207 00003508 0009                   M           NOP                                     ;
18208                            7526     ;       -------------- 2018-01-25 追加----------------
18209                            7527     
18210                            7528             FAR_JSR #_POS_STEP1_SEARCH,R0                   ;INPUT R7
18211 0000350A D010                   M           MOV.L   #_POS_STEP1_SEARCH,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18212 0000350C 400B                   M           JSR     @R0                     ;
18213 0000350E 0009                   M           NOP                                     ;
18214                            7529                                                             ;OUTPUT R0(R6):ｽﾃｯﾌﾟ R5方向
18215                            7530                                                             ;R2(Sn),R3(Sn_1),R7(入力=目標位置)
18216 00003510 2008              7531             TST     R0,R0                                   ;
18217                            7532             TST_BIT_OF INC_RSTMODECK490                     ;OKにはできない
18218 00003512 8963                   M           BT      INC_RSTMODECK490
18219 00003514 D10E              7533             MOV.L   #_INC_RESET_STEP,R1                     ;
18220 00003516 2101              7534             MOV.W   R0,@R1                                  ;開始行程
18221                            7535     
18222                            7536     ;       -- R5=方向 BIT1=0(正)/1(逆)---
18223 00003518 D10E              7537             MOV.L   #(_PAR_INCMODE_EPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
18224 0000351A 6011              7538             MOV.W   @R1,R0                                                  ;
18225 0000351C 2008              7539             TST     R0,R0                                                   ;
18226                            7540             TST_BIT_OF INC_RSTMODECK280                                     ;
18227 0000351E 8929                   M           BT      INC_RSTMODECK280
18228                            7541     
18229 00003520 E402              7542             MOV.B   #BIT1,R4                                ;
18230 00003522 2548              7543             TST     R4,R5                                   ;
18231                            7544             TST_BIT_OF INC_RSTMODECK240                     ;方向
18232 00003524 8918                   M           BT      INC_RSTMODECK240
18233 00003526 600B              7545             NEG     R0,R0                                   ;
18234 00003528 307C              7546             ADD     R7,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   221
PROGRAM NAME =

18235                            7547     
18236                            7548             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R7,MINRG=R0    ;T=1:範囲内　R7 >= R2 => R0(R7-α)
                                          　なら次行程
18237 0000352A 3203                   M           CMP/GE  R0,R2           ;MIN =< DT THEN T=1
18238 0000352C 8B00                   M           BF      JMP0100003                      ;DT < MIN T=0
18239 0000352E 3723                   M           CMP/GE  R2,R7           ;
18240 00003530                        M   JMP0100003                                      ;
18241 00003530 8917              7549             BT      INC_RSTMODECK260                        ;
18242                            7550             M_BRA   INC_RSTMODECK280                        ;範囲内ではない
18243 00003532 A01F                   M           BRA     INC_RSTMODECK280
18244 00003534 0009                   M           NOP
18245                            7551     
18246                                     ***** BEGIN-POOL *****
18247 00003536 0000                       ALIGNMENT CODE
18248 00003538 00000000                   DATA FOR SOURCE-LINE 7509
18249 0000353C 00000000                   DATA FOR SOURCE-LINE 7517
18250 00003540 00000000                   DATA FOR SOURCE-LINE 7518
18251 00003544 00000000                   DATA FOR SOURCE-LINE 7521
18252 00003548 00000000                   DATA FOR SOURCE-LINE 7525
18253 0000354C 00000000                   DATA FOR SOURCE-LINE 7528
18254 00003550 00000000                   DATA FOR SOURCE-LINE 7533
18255 00003554 00000000                   DATA FOR SOURCE-LINE 7537
18256                                     ***** END-POOL *****
18257 00003558                   7552     INC_RSTMODECK240                                        ;
18258 00003558 307C              7553             ADD     R7,R0                                   ;
18259                            7554             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R0,MINRG=R7    ;T=1:範囲内　R7=<R2<=R0(R7+α)なら
                                          次行程
18260 0000355A 3273                   M           CMP/GE  R7,R2           ;MIN =< DT THEN T=1
18261 0000355C 8B00                   M           BF      JMP0100004                      ;DT < MIN T=0
18262 0000355E 3023                   M           CMP/GE  R2,R0           ;
18263 00003560                        M   JMP0100004                                      ;
18264 00003560 8B08              7555             BF      INC_RSTMODECK280                        ;範囲内ではない2016-05-17抜けてい
                                          た
18265                            7556     
18266 00003562                   7557     INC_RSTMODECK260                                        ;
18267                            7558     
18268 00003562 D50D              7559             MOV.L   #_INC_RESET_STEP,R5                     ;
18269 00003564 6051              7560             MOV.W   @R5,R0                                  ;
18270 00003566 7001              7561             ADD     #1,R0
18271 00003568 D40C              7562             MOV.L   #_SETX_POS_STEP_MAX,R4                  ;
18272 0000356A 6141              7563             MOV.W   @R4,R1                                  ;
18273 0000356C 7101              7564             ADD     #1,R1                                   ;
18274 0000356E 3103              7565             CMP/GE  R0,R1                                   ;
18275 00003570 8B00              7566             BF      INC_RSTMODECK280                        ;ｵｰﾊﾞしてしまう
18276 00003572 2501              7567             MOV.W   R0,@R5                                  ;
18277                            7568     
18278                            7569     
18279 00003574                   7570     INC_RSTMODECK280
18280 00003574 D10A              7571             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18281 00003576 6011              7572             MOV.W   @R1,R0                                  ;
18282 00003578 C804              7573             TST     #(_DMATH_DNDRIV),R0                     ;
18283                            7574             TST_BIT_OF INC_RSTMODECK300                     ;ふりこではない
18284 0000357A 8921                   M           BT      INC_RSTMODECK300
18285                            7575     
18286                            7576     ;       ------前回がﾓｰｼｮﾝ運転ならその運転の方向を引き継ぐ[2014-11-10]-----
18287 0000357C D109              7577             MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   222
PROGRAM NAME =

18288 0000357E 6011              7578             MOV.W   @R1,R0                          ;
18289 00003580 C801              7579             TST     #BIT0,R0                        ;
18290                            7580             TST_BIT_OF INC_RSTMODECK290             ;前はﾓｰｼｮﾝではないorふりこではない
18291 00003582 8915                   M           BT      INC_RSTMODECK290
18292                            7581     
18293 00003584 D108              7582             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向
18294 00003586 6011              7583             MOV.W   @R1,R0                          ;
18295 00003588 C801              7584             TST     #BIT0,R0                        ;
18296                            7585             TST_BIT_OF INC_RSTMODECK300             ;正
18297 0000358A 8919                   M           BT      INC_RSTMODECK300
18298                            7586     
18299                            7587             FAR_JSR #_DNM_DATA_REV_SET,R0           ;逆
18300 0000358C D007                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18301 0000358E 400B                   M           JSR     @R0                     ;
18302 00003590 0009                   M           NOP                                     ;
18303                            7588             M_BRA   INC_RSTMODECK300                ;
18304 00003592 A015                   M           BRA     INC_RSTMODECK300
18305 00003594 0009                   M           NOP
18306                            7589     
18307                            7590     
18308                            7591     
18309                                     ***** BEGIN-POOL *****
18310 00003596 0000                       ALIGNMENT CODE
18311 00003598 00000000                   DATA FOR SOURCE-LINE 7559
18312 0000359C 00000000                   DATA FOR SOURCE-LINE 7562
18313 000035A0 00000000                   DATA FOR SOURCE-LINE 7571
18314 000035A4 00000000                   DATA FOR SOURCE-LINE 7577
18315 000035A8 00000000                   DATA FOR SOURCE-LINE 7582
18316 000035AC 00000000                   DATA FOR SOURCE-LINE 7587
18317                                     ***** END-POOL *****
18318 000035B0                   7592     INC_RSTMODECK290
18319                            7593     
18320 000035B0 930C              7594             MOV.W   #_UPDN_DIRJG_DIG,R3                     ;               .EQU    1800    ;
18321 000035B2 D107              7595             MOV.L   #_INC_ENC360,R1                         ;
18322 000035B4 6211              7596             MOV.W   @R1,R2                                  ;
18323 000035B6 3237              7597             CMP/GT  R3,R2                                   ;
18324 000035B8 8B02              7598             BF      INC_RSTMODECK300                        ;
18325                            7599     
18326                            7600     ;       --------0~180-------------
18327                            7601             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
18328 000035BA D006                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18329 000035BC 400B                   M           JSR     @R0                     ;
18330 000035BE 0009                   M           NOP                                     ;
18331                            7602     
18332 000035C0                   7603     INC_RSTMODECK300
18333                            7604     
18334 000035C0 E001              7605             MOV.B   #BIT0,R0                        ;
18335 000035C2 D105              7606             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18336 000035C4 2101              7607             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18337                            7608     
18338                            7609     ;       -----------------------------------------
18339                            7610     ;;;INC_RSTMODECK480
18340 000035C6 E201              7611             MOV.B   #BIT0,R2                        ;
18341                            7612             M_BRA   INC_RSTMODECK500                ;OKして!
18342 000035C8 A00A                   M           BRA     INC_RSTMODECK500
18343 000035CA 0009                   M           NOP
18344                            7613     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   223
PROGRAM NAME =

18345                            7614     
18346                                     ***** BEGIN-POOL *****
18347 000035CC 0708                       DATA FOR SOURCE-LINE 7594
18348 000035CE 0000                       ALIGNMENT CODE
18349 000035D0 00000000                   DATA FOR SOURCE-LINE 7595
18350 000035D4 00000000                   DATA FOR SOURCE-LINE 7601
18351 000035D8 00000000                   DATA FOR SOURCE-LINE 7606
18352                                     ***** END-POOL *****
18353 000035DC                   7615     INC_RSTMODECK490
18354 000035DC 0009              7616             NOP
18355 000035DE                   7617     INC_RSTMODECK499
18356 000035DE 200A              7618             XOR     R0,R0                           ;通常ｿﾌﾄを流して
18357 000035E0                   7619     INC_RSTMODECK500
18358                            7620     
18359                            7621             SUB_END                                                         ;
18360                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18361 000035E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18362                            7622             M_RTS                                                           ;
18363 000035E2 000B                   M           RTS                             ;RTSの後ろの
18364 000035E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18365                            7623     
18366                            7624     
18367                            7625     
18368                            7626             .EXPORT _INC_SPEC_RSTCHK
18369 000035E6                   7627     _INC_SPEC_RSTCHK
18370                            7628             SUB_START                                                       ;
18371 000035E6 4F22                   M           STS.L   PR,@-R15                ;[必要]
18372                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18373                            7629     
18374 000035E8 D105              7630             MOV.L   #(_PAR_INCMODE_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
18375 000035EA 6011              7631             MOV.W   @R1,R0                                                  ;
18376 000035EC 8801              7632             CMP/EQ  #1,R0                                                   ;
18377 000035EE 8B0B              7633             BF      INC_SPEC_RSTCK100                                       ;
18378                            7634     
18379 000035F0 D104              7635             MOV.L   #_INP_MODE,R1                                           ;
18380 000035F2 6011              7636             MOV.W   @R1,R0                                                  ;
18381 000035F4 C802              7637             TST     #_W1INC,R0                                              ;寸動?
18382                            7638             TST_BIT_OF INC_SPEC_RSTCK100                                    ;
18383 000035F6 8907                   M           BT      INC_SPEC_RSTCK100
18384                            7639     
18385 000035F8 E001              7640             MOV.B   #BIT0,R0
18386                            7641             M_BRA   INC_SPEC_RSTCK200
18387 000035FA A006                   M           BRA     INC_SPEC_RSTCK200
18388 000035FC 0009                   M           NOP
18389                            7642     
18390                                     ***** BEGIN-POOL *****
18391 000035FE 0000                       ALIGNMENT CODE
18392 00003600 00000000                   DATA FOR SOURCE-LINE 7630
18393 00003604 00000000                   DATA FOR SOURCE-LINE 7635
18394                                     ***** END-POOL *****
18395 00003608                   7643     INC_SPEC_RSTCK100:
18396 00003608 200A              7644             XOR     R0,R0
18397 0000360A                   7645     INC_SPEC_RSTCK200:
18398                            7646     
18399                            7647     
18400                            7648             SUB_END                                                         ;
18401                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   224
PROGRAM NAME =

18402 0000360A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18403                            7649             M_RTS                                                           ;
18404 0000360C 000B                   M           RTS                             ;RTSの後ろの
18405 0000360E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18406                            7650     
18407                            7651     ;       -------------- 2018-02-10 追加----------------
18408                            7652     ;       -------------- 2018-01-25 追加----------------
18409 00003610                   7653     _INC_RST_DATA_CHK:
18410                            7654             SUB_START                                                       ;
18411 00003610 4F22                   M           STS.L   PR,@-R15                ;[必要]
18412                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18413                            7655     
18414 00003612 D107              7656             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18415 00003614 6011              7657             MOV.W   @R1,R0                                                  ;
18416 00003616 C801              7658             TST             #_DMATH_CNTROT,R0                               ;
18417                            7659             TST_BIT_OF INC_RSTDAT_CHK230
18418 00003618 8906                   M           BT      INC_RSTDAT_CHK230
18419                            7660     
18420 0000361A D106              7661             MOV.L   #_SETX_UPAREA_PLS,R1                    ;//4;待機点
18421 0000361C 6212              7662             MOV.L   @R1,R2                                                  ;起点(Sn_1)
18422 0000361E 3723              7663             CMP/GE  R2,R7                                                   ;待機点(起点)<=現
                                          在位置:正常
18423 00003620 8902              7664             BT              INC_RSTDAT_CHK230
18424                            7665     
18425 00003622 D105              7666             MOV.L   #_LINK_1ROT_PLS,R1                              ;
18426 00003624 6412              7667             MOV.L   @R1,R4                                                  ;
18427 00003626 374C              7668             ADD             R4,R7                                                   ;
18428 00003628                   7669     INC_RSTDAT_CHK230
18429                            7670     
18430                            7671             SUB_END                                                         ;
18431                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18432 00003628 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18433                            7672             M_RTS                                                           ;
18434 0000362A 000B                   M           RTS                             ;RTSの後ろの
18435 0000362C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18436                            7673     
18437                            7674     
18438                            7675     ;       *******************************************
18439                            7676     ;       ***                                     ***
18440                            7677     ;       ***             EPｾﾝｻﾁｪｯｸ               ***
18441                            7678     ;       ***                                     ***
18442                            7679     ;       *******************************************
18443                            7680             .INCLUDE        "ssa_epchk.inc"         ;//
18444                               1 I1  ;       ***********************************
18445                               2 I1  ;       ***                             ***
18446                               3 I1  ;       ***     EPｾﾝｻﾁｪｯｸ               ***
18447                               4 I1  ;       ***                             ***
18448                               5 I1  ;       ***********************************
18449                               6 I1  ;       電源投入時
18450                               7 I1  ;       位置づけはｾﾙﾌﾁｪｯｸだが,独立した機能
18451                               8 I1  ;       ANTI-ONしてから
18452                               9 I1  
18453                              10 I1          .EXPORT         _EPSEN_CLR
18454                              11 I1  
18455                              12 I1          .GLOBAL         _PAR_EPCHK_SEL          ;5 0:EPｾﾝｻﾁｪｯｸしない 1:ﾁｪｯｸする
18456                              13 I1          .GLOBAL         _PAR_EP1STR_DLYTM       ;6 開始遅延時間 ms
18457                              14 I1          .GLOBAL         _PAR_EP2FVINOF_ERTM     ;7 片方ﾘﾚｰOF(0)確認時間兼ﾀｲﾑｱｳﾄ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   225
PROGRAM NAME =

18458                              15 I1          .GLOBAL         _PAR_EP3BRKON_DLYTM     ;8 ﾌﾞﾚｰｷON出力遅延
18459                              16 I1          .GLOBAL         _PAR_EP4EPINOF_ERTM     ;9 EPｾﾝｻoff確認時間兼ﾀｲﾑｱｳﾄ
18460                              17 I1          .GLOBAL         _PAR_EP5RSTON_DLYTM     ;10 EPｾﾝｻﾘｾｯﾄON遅延時間
18461                              18 I1          .GLOBAL         _PAR_EP6RSTON_JGTM      ;1 ﾘｾｯﾄON時間兼判定時間
18462                              19 I1          .GLOBAL         _PAR_EP6RSTOF_INTTM     ;2 OFFｲﾝﾀ-ﾊﾞﾙ時間
18463                              20 I1          .GLOBAL         _PAR_EP6RST_RETRY       ;3 ﾘｾｯﾄﾘﾄﾗｲ回数
18464                              21 I1          .GLOBAL         _PAR_EP7AB_DLYTM        ;4 CPUA-->CPUBﾃｽﾄ遅延時間
18465                              22 I1          .GLOBAL         _PAR_EP7END_DLYTM       ;5 CPUB-->終了遅延時間
18466                              23 I1  
18467                              24 I1  
18468                              25 I1          .MACRO  STEP_NEXT MEM
18469                              26 I1          MOV.L   #\MEM,R1        ;
18470                              27 I1          MOV.W   @R1,R0          ;
18471                              28 I1          ADD     #1,R0           ;
18472                              29 I1          MOV.W   R0,@R1          ;
18473                              30 I1          .ENDM
18474                              31 I1  
18475                                 I1  ***** BEGIN-POOL *****
18476 0000362E 0000                   I1  ALIGNMENT CODE
18477 00003630 00000000               I1  DATA FOR SOURCE-LINE 7656
18478 00003634 00000000               I1  DATA FOR SOURCE-LINE 7661
18479 00003638 00000000               I1  DATA FOR SOURCE-LINE 7666
18480                                 I1  ***** END-POOL *****
18481 0000363C                     32 I1          .ALIGN  4                               ;
18482 0000363C                     33 I1  _EP_JMP_TBL
18483                              34 I1  
18484 0000363C 00000000            35 I1          .DATA.L         EP_STEP_USE_RY_DATSET_A ;0
18485 00003640 00000000            36 I1          .DATA.L         EP_STEP_USE_RY_A        ;1 片効有効RY-ON,片効きｾﾝｻ確認
18486 00003644 00000000            37 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;2
18487 00003648 00000000            38 I1          .DATA.L         EP_STEP_VALVON_COM      ;3 ﾊﾞﾙﾌﾞON,EPｾﾝｻ確認
18488 0000364C 00000000            39 I1          .DATA.L         EP_STEP_EPSENSIG_A      ;4
18489 00003650 00000000            40 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;5
18490 00003654 00000000            41 I1          .DATA.L         EP_STEP_RESETON_COM     ;6
18491 00003658 00000000            42 I1          .DATA.L         EP_STEP_ENDSIG_A        ;7
18492 0000365C 00000000            43 I1          .DATA.L         EP_STEP_USE_RY_DATSET_B ;8
18493 00003660 00000000            44 I1          .DATA.L         EP_STEP_USE_RY_B        ;9
18494 00003664 00000000            45 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;10
18495 00003668 00000000            46 I1          .DATA.L         EP_STEP_VALVON_COM      ;11
18496 0000366C 00000000            47 I1          .DATA.L         EP_STEP_EPSENSIG_B      ;12
18497 00003670 00000000            48 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;13
18498 00003674 00000000            49 I1          .DATA.L         EP_STEP_RESETON_COM     ;14
18499 00003678 00000000            50 I1          .DATA.L         EP_STEP_ENDSIG_B        ;15
18500 0000367C 00000000            51 I1          .DATA.L         EP_STEP_XX              ;16
18501 00003680 00000000            52 I1          .DATA.L         EP_STEP_XX              ;17
18502 00003684 00000000            53 I1          .DATA.L         EP_STEP_XX              ;18
18503 00003688 00000000            54 I1          .DATA.L         EP_STEP_XX              ;19
18504 0000368C 00000000            55 I1          .DATA.L         EP_STEP_XX              ;20
18505 00003690 00000000            56 I1          .DATA.L         EP_STEP_XX              ;21
18506 00003694 00000000            57 I1          .DATA.L         EP_STEP_XX              ;22
18507 00003698 00000000            58 I1          .DATA.L         EP_STEP_XX              ;23
18508 0000369C 00000000            59 I1          .DATA.L         EP_STEP_XX              ;24
18509 000036A0 00000000            60 I1          .DATA.L         EP_STEP_XX              ;25
18510 000036A4 00000000            61 I1          .DATA.L         EP_STEP_XX              ;26
18511 000036A8 00000000            62 I1          .DATA.L         EP_STEP_XX              ;27
18512 000036AC 00000000            63 I1          .DATA.L         EP_STEP_XX              ;28
18513 000036B0 00000000            64 I1          .DATA.L         EP_STEP_XX              ;29
18514 000036B4 00000000            65 I1          .DATA.L         EP_STEP_XX              ;30
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   226
PROGRAM NAME =

18515 000036B8 00000000            66 I1          .DATA.L         EP_STEP_XX              ;31
18516 000036BC 00000000            67 I1          .DATA.L         EP_STEP_XX              ;32
18517                              68 I1  
18518                              69 I1  
18519                              70 I1  
18520 000036C0                     71 I1          .ALIGN  4                               ;
18521                              72 I1          .EXPORT _EP_SENCER_CHECK
18522 000036C0                     73 I1  _EP_SENCER_CHECK
18523                              74 I1          SUB_START
18524 000036C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18525                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18526                              75 I1  
18527 000036C2 D105                76 I1          MOV.L   #_EPCHK_FLG,R1                  ;
18528 000036C4 6011                77 I1          MOV.W   @R1,R0                          ;
18529 000036C6 2008                78 I1          TST     R0,R0                           ;
18530                              79 I1          TST_BIT_ON EP_SENCER_CK050              ;
18531 000036C8 8B36                   M           BF      EP_SENCER_CK050
18532                              80 I1  
18533 000036CA D104                81 I1          MOV.L   #_EPCHK_COM,R1                  ;
18534 000036CC 6011                82 I1          MOV.W   @R1,R0                          ;
18535 000036CE 2008                83 I1          TST     R0,R0                           ;
18536                              84 I1          TST_BIT_ON EP_SENCER_CK020              ;
18537 000036D0 8B06                   M           BF      EP_SENCER_CK020
18538                              85 I1          M_BRA   EP_SENCER_CKEXT                 ;IDEL
18539 000036D2 A1F8                   M           BRA     EP_SENCER_CKEXT
18540 000036D4 0009                   M           NOP
18541                              86 I1  
18542                              87 I1  ;       --------- 開始処理-----------
18543                                 I1  ***** BEGIN-POOL *****
18544 000036D6 0000                   I1  ALIGNMENT CODE
18545 000036D8 00000000               I1  DATA FOR SOURCE-LINE 76
18546 000036DC 00000000               I1  DATA FOR SOURCE-LINE 81
18547                                 I1  ***** END-POOL *****
18548 000036E0                     88 I1  EP_SENCER_CK020:
18549                              89 I1  
18550 000036E0 D102                90 I1          MOV.L   #(_PAR_EPCHK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1      ;
18551 000036E2 6011                91 I1          MOV.W   @R1,R0                                                  ;
18552 000036E4 8801                92 I1          CMP/EQ  #1,R0                                                   ;
18553 000036E6 8903                93 I1          BT      EP_SENCER_CK030                                         ;
18554                              94 I1          M_BRA   EP_SENCER_CK800                                         ;正常終了
18555 000036E8 A1C8                   M           BRA     EP_SENCER_CK800
18556 000036EA 0009                   M           NOP
18557                              95 I1  
18558                              96 I1  
18559                                 I1  ***** BEGIN-POOL *****
18560 000036EC 00000000               I1  DATA FOR SOURCE-LINE 90
18561                                 I1  ***** END-POOL *****
18562 000036F0                     97 I1  EP_SENCER_CK030:
18563                              98 I1  
18564                              99 I1          FAR_JSR #_EP_SENCHK_STOPCONF1,R0        ;
18565 000036F0 D004                   M           MOV.L   #_EP_SENCHK_STOPCONF1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18566 000036F2 400B                   M           JSR     @R0                     ;
18567 000036F4 0009                   M           NOP                                     ;
18568 000036F6 2008               100 I1          TST     R0,R0                           ;
18569                             101 I1          TST_BIT_OF EP_SENCER_CK040              ;
18570 000036F8 8908                   M           BT      EP_SENCER_CK040
18571                             102 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   227
PROGRAM NAME =

18572 000036FA 200A               103 I1          XOR     R0,R0
18573 000036FC D102               104 I1          MOV.L   #_EPCHK_STS,R1                  ;
18574 000036FE 2101               105 I1          MOV.W   R0,@R1                          ;
18575                             106 I1          M_BRA   EP_SENCER_CK900                 ;
18576 00003700 A1CA                   M           BRA     EP_SENCER_CK900
18577 00003702 0009                   M           NOP
18578                             107 I1  
18579                                 I1  ***** BEGIN-POOL *****
18580 00003704 00000000               I1  DATA FOR SOURCE-LINE 99
18581 00003708 00000000               I1  DATA FOR SOURCE-LINE 104
18582                                 I1  ***** END-POOL *****
18583 0000370C                    108 I1  EP_SENCER_CK040:
18584 0000370C E001               109 I1          MOV.B   #BIT0,R0                ;
18585 0000370E D106               110 I1          MOV.L   #_EPCHK_FLG,R1          ;
18586 00003710 2101               111 I1          MOV.W   R0,@R1                  ;
18587                             112 I1  
18588 00003712 200A               113 I1          XOR     R0,R0                   ;
18589 00003714 D105               114 I1          MOV.L   #_EPCHK_STEP,R1         ;
18590 00003716 2101               115 I1          MOV.W   R0,@R1                  ;
18591                             116 I1  
18592 00003718 E001               117 I1          MOV.B   #BIT0,R0                ;
18593 0000371A D105               118 I1          MOV.L   #_EPCHK_STS,R1          ;
18594 0000371C 2101               119 I1          MOV.W   R0,@R1                  ;
18595                             120 I1  
18596                             121 I1  ;       ---------------------------
18597 0000371E 222A               122 I1          XOR     R2,R2
18598 00003720 D104               123 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
18599 00003722 2121               124 I1          MOV.W   R2,@R1                                                  ;
18600                             125 I1  
18601                             126 I1          M_BRA   EP_SENCER_CKEND         ;
18602 00003724 A1CB                   M           BRA     EP_SENCER_CKEND
18603 00003726 0009                   M           NOP
18604                             127 I1  
18605                             128 I1  
18606                                 I1  ***** BEGIN-POOL *****
18607 00003728 00000000               I1  DATA FOR SOURCE-LINE 110
18608 0000372C 00000000               I1  DATA FOR SOURCE-LINE 114
18609 00003730 00000000               I1  DATA FOR SOURCE-LINE 118
18610 00003734 00000000               I1  DATA FOR SOURCE-LINE 123
18611                                 I1  ***** END-POOL *****
18612 00003738                    129 I1  EP_SENCER_CK050:
18613 00003738 C880               130 I1          TST     #BIT7,R0                ;
18614                             131 I1          TST_BIT_OF EP_SENCER_CK100      ;
18615 0000373A 8901                   M           BT      EP_SENCER_CK100
18616                             132 I1          M_BRA   EP_SENCER_CKEND ;
18617 0000373C A1BF                   M           BRA     EP_SENCER_CKEND
18618 0000373E 0009                   M           NOP
18619                             133 I1  
18620                             134 I1  ;       ---------- 処理中---------------
18621 00003740                    135 I1  EP_SENCER_CK100:
18622                             136 I1  
18623                             137 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_DLY_TIM,WKREG1=R1,WKREG2=R4 ;
18624 00003740 D106                   M           MOV.L   #_EPCHK_DLY_TIM,R1              ;SORCE ADRESS SET
18625 00003742 6411                   M           MOV.W   @R1,R4          ;
18626 00003744 2448                   M           TST     R4,R4                   ;
18627 00003746 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
18628 00003748 4410                   M           DT      R4                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   228
PROGRAM NAME =

18629 0000374A 2141                   M           MOV.W   R4,@R1          ;STORE
18630 0000374C                        M   JMP_0100005:
18631                             138 I1  
18632                             139 I1  ;       -------- 中断条件--------------------
18633                             140 I1          FAR_JSR #_EP_SENCHK_STOPCONF2,R0        ;
18634 0000374C D004                   M           MOV.L   #_EP_SENCHK_STOPCONF2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18635 0000374E 400B                   M           JSR     @R0                     ;
18636 00003750 0009                   M           NOP                                     ;
18637 00003752 2008               141 I1          TST     R0,R0                           ;
18638                             142 I1          TST_BIT_OF EP_SENCER_CK150              ;
18639 00003754 8906                   M           BT      EP_SENCER_CK150
18640                             143 I1          M_BRA   EP_SENCER_CK900                 ;異常
18641 00003756 A19F                   M           BRA     EP_SENCER_CK900
18642 00003758 0009                   M           NOP
18643                             144 I1  
18644                                 I1  ***** BEGIN-POOL *****
18645 0000375A 0000                   I1  ALIGNMENT CODE
18646 0000375C 00000000               I1  DATA FOR SOURCE-LINE 137
18647 00003760 00000000               I1  DATA FOR SOURCE-LINE 140
18648                                 I1  ***** END-POOL *****
18649 00003764                    145 I1  EP_SENCER_CK150:
18650                             146 I1  
18651                             147 I1  ;       -----------遅延時間処理--------
18652 00003764 D102               148 I1          MOV.L   #_EPCHK_DLY_TIM,R1              ;
18653 00003766 6011               149 I1          MOV.W   @R1,R0                          ;
18654 00003768 2008               150 I1          TST     R0,R0                           ;
18655                             151 I1          TST_BIT_OF EP_SENCER_CK200              ;
18656 0000376A 8903                   M           BT      EP_SENCER_CK200
18657                             152 I1          M_BRA   EP_SENCER_CKEND         ;
18658 0000376C A1A7                   M           BRA     EP_SENCER_CKEND
18659 0000376E 0009                   M           NOP
18660                             153 I1  
18661                             154 I1  ;       ---------- 遅延時間中は異常ﾀｲﾏｶｳﾝﾄしない-----------
18662                                 I1  ***** BEGIN-POOL *****
18663 00003770 00000000               I1  DATA FOR SOURCE-LINE 148
18664                                 I1  ***** END-POOL *****
18665 00003774                    155 I1  EP_SENCER_CK200:
18666                             156 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_ERR_TIM,WKREG1=R1,WKREG2=R4 ;
18667 00003774 D107                   M           MOV.L   #_EPCHK_ERR_TIM,R1              ;SORCE ADRESS SET
18668 00003776 6411                   M           MOV.W   @R1,R4          ;
18669 00003778 2448                   M           TST     R4,R4                   ;
18670 0000377A 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
18671 0000377C 4410                   M           DT      R4                              ;
18672 0000377E 2141                   M           MOV.W   R4,@R1          ;STORE
18673 00003780                        M   JMP_0100006:
18674                             157 I1  
18675 00003780 D105               158 I1          MOV.L   #_EPCHK_STEP,R1                         ;
18676 00003782 6011               159 I1          MOV.W   @R1,R0                                  ;
18677 00003784 C91F               160 I1          AND     #H'1F,R0                                ;MAX 16ｽﾃｯﾌﾟ
18678 00003786 4008               161 I1          SHLL2   R0                                      ;
18679 00003788 D104               162 I1          MOV.L   #_EP_JMP_TBL,R1                         ;
18680 0000378A 310C               163 I1          ADD     R0,R1                                   ;
18681 0000378C 6012               164 I1          MOV.L   @R1,R0                                  ;
18682                             165 I1          REG_JMP WKREG=R0                                ;
18683 0000378E 402B                   M           JMP     @R0
18684 00003790 0009                   M           NOP
18685                             166 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   229
PROGRAM NAME =

18686                             167 I1  
18687                             168 I1  ;       ---------------------------------------------------
18688                             169 I1  ;       ---     遅延ﾀｲﾏ,有効ﾘﾚｰ,異常ﾀｲﾏｾｯﾄ[STEP0]       ---
18689                             170 I1  ;       ---------------------------------------------------
18690                                 I1  ***** BEGIN-POOL *****
18691 00003792 0000                   I1  ALIGNMENT CODE
18692 00003794 00000000               I1  DATA FOR SOURCE-LINE 156
18693 00003798 00000000               I1  DATA FOR SOURCE-LINE 158
18694 0000379C 00000000               I1  DATA FOR SOURCE-LINE 162
18695                                 I1  ***** END-POOL *****
18696 000037A0                    171 I1  EP_STEP_USE_RY_DATSET_A
18697                             172 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18698 000037A0 D102               173 I1          MOV.L   #(_PAR_EP1STR_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;開始遅延
18699 000037A2 6211               174 I1          MOV.W   @R1,R2                                                  ;
18700 000037A4 D102               175 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
18701 000037A6 2121               176 I1          MOV.W   R2,@R1                                                  ;
18702                             177 I1          M_BRA   EP_STEP_USE_RY_DATSETCOM
18703 000037A8 A008                   M           BRA     EP_STEP_USE_RY_DATSETCOM
18704 000037AA 0009                   M           NOP
18705                             178 I1  
18706                                 I1  ***** BEGIN-POOL *****
18707 000037AC 00000000               I1  DATA FOR SOURCE-LINE 173
18708 000037B0 00000000               I1  DATA FOR SOURCE-LINE 175
18709                                 I1  ***** END-POOL *****
18710 000037B4                    179 I1  EP_STEP_USE_RY_DATSET_B
18711                             180 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18712 000037B4 D106               181 I1          MOV.L   #(_PAR_EP7AB_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;開始遅延
18713 000037B6 6211               182 I1          MOV.W   @R1,R2                                                  ;
18714 000037B8 D106               183 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
18715 000037BA 2121               184 I1          MOV.W   R2,@R1                                                  ;
18716                             185 I1  
18717 000037BC                    186 I1  EP_STEP_USE_RY_DATSETCOM
18718                             187 I1  
18719                             188 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
18720 000037BC D106               189 I1          MOV.L   #(_PAR_EP2FVINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;片方ﾘﾚｰOF(0)確認
                                          時間兼ﾀｲﾑｱｳﾄ
18721 000037BE 6211               190 I1          MOV.W   @R1,R2                                                  ;
18722 000037C0 D106               191 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
18723 000037C2 2121               192 I1          MOV.W   R2,@R1                                                  ;
18724                             193 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
18725 000037C4 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
18726 000037C6 6011                   M           MOV.W   @R1,R0          ;
18727 000037C8 7001                   M           ADD     #1,R0           ;
18728 000037CA 2101                   M           MOV.W   R0,@R1          ;
18729                             194 I1          M_BRA   EP_SENCER_CKEND                                         ;
18730 000037CC A177                   M           BRA     EP_SENCER_CKEND
18731 000037CE 0009                   M           NOP
18732                             195 I1  
18733                             196 I1  
18734                             197 I1  ;       ---------------------------------------------------
18735                             198 I1  ;       ---     VF-RYの片効ｱﾝｻ待ち，異常CHK[STEP1]      ---
18736                             199 I1  ;       ---------------------------------------------------
18737                             200 I1  ;       ﾀｲﾑｱｯﾌﾟ前に入力を確認し、入力が"L"なら即遷移する,時間内に"L"にならなければ異常
18738                             201 I1  ;       ----------- A:ｽﾃｯﾌﾟ1,B:ｽﾃｯﾌﾟ1----------
18739                                 I1  ***** BEGIN-POOL *****
18740 000037D0 00000000               I1  DATA FOR SOURCE-LINE 181
18741 000037D4 00000000               I1  DATA FOR SOURCE-LINE 183
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   230
PROGRAM NAME =

18742 000037D8 00000000               I1  DATA FOR SOURCE-LINE 189
18743 000037DC 00000000               I1  DATA FOR SOURCE-LINE 191
18744 000037E0 00000000               I1  DATA FOR SOURCE-LINE 193
18745                                 I1  ***** END-POOL *****
18746 000037E4                    202 I1  EP_STEP_USE_RY_A
18747                             203 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT5),WKRG1=R1,WKRG2=R4      ;BIT5=1:A
                                          片効要求
18748 000037E4 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
18749 000037E6 6011                   M           MOV.W   @R1,R0          ;
18750 000037E8 9403                   M           MOV.W   #(BIT5),R4              ;
18751 000037EA 204B                   M           OR      R4,R0           ;
18752 000037EC 2101                   M           MOV.W   R0,@R1          ;
18753                             204 I1          M_BRA   EP_STEP_USE_RY_COM              ;
18754 000037EE A008                   M           BRA     EP_STEP_USE_RY_COM
18755 000037F0 0009                   M           NOP
18756                             205 I1  
18757                             206 I1  
18758                                 I1  ***** BEGIN-POOL *****
18759 000037F2 0020                   I1  DATA FOR SOURCE-LINE 203
18760 000037F4 00000000               I1  DATA FOR SOURCE-LINE 203
18761                                 I1  ***** END-POOL *****
18762 000037F8                    207 I1  EP_STEP_USE_RY_B
18763                             208 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4      ;BIT6=A片
                                          効要求
18764 000037F8 D108                   M           MOV.L   #_EPCHK_STS,R1          ;
18765 000037FA 6011                   M           MOV.W   @R1,R0          ;
18766 000037FC 940C                   M           MOV.W   #(BIT6),R4              ;
18767 000037FE 204B                   M           OR      R4,R0           ;
18768 00003800 2101                   M           MOV.W   R0,@R1          ;
18769 00003802                    209 I1  EP_STEP_USE_RY_COM
18770                             210 I1  
18771                             211 I1          FAR_JSR #_VFRY_IN_CHK,R0                                                ;ANS R0=0(
                                          OFF) R0=BIT14(ON)
18772 00003802 D007                   M           MOV.L   #_VFRY_IN_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18773 00003804 400B                   M           JSR     @R0                     ;
18774 00003806 0009                   M           NOP                                     ;
18775                             212 I1  
18776 00003808 2008               213 I1          TST     R0,R0                                                           ;
18777                             214 I1          TST_BIT_ON EP_STEP_USE_RY_COM_150                                       ;
18778 0000380A 8B0D                   M           BF      EP_STEP_USE_RY_COM_150
18779                             215 I1  
18780                             216 I1  ;       ------- OFF発見 ------
18781                             217 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18782 0000380C D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
18783 0000380E 6011                   M           MOV.W   @R1,R0          ;
18784 00003810 7001                   M           ADD     #1,R0           ;
18785 00003812 2101                   M           MOV.W   R0,@R1          ;
18786                             218 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18787 00003814 A153                   M           BRA     EP_SENCER_CKEND
18788 00003816 0009                   M           NOP
18789                             219 I1  
18790                                 I1  ***** BEGIN-POOL *****
18791 00003818 0040                   I1  DATA FOR SOURCE-LINE 208
18792 0000381A 0000                   I1  ALIGNMENT CODE
18793 0000381C 00000000               I1  DATA FOR SOURCE-LINE 208
18794 00003820 00000000               I1  DATA FOR SOURCE-LINE 211
18795 00003824 00000000               I1  DATA FOR SOURCE-LINE 217
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   231
PROGRAM NAME =

18796                                 I1  ***** END-POOL *****
18797 00003828                    220 I1  EP_STEP_USE_RY_COM_150                                                          ;
18798 00003828 D105               221 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
18799 0000382A 6011               222 I1          MOV.W   @R1,R0                                                          ;
18800 0000382C 2008               223 I1          TST     R0,R0                                                           ;
18801                             224 I1          TST_BIT_ON EP_STEP_USE_RY_COM_190                                       ;
18802 0000382E 8B0B                   M           BF      EP_STEP_USE_RY_COM_190
18803                             225 I1  
18804                             226 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT2),WKRG1=R1,WKRG2=R4      ;ﾌｨｰﾄﾞﾊﾞｯｸ
                                          失敗
18805 00003830 D104                   M           MOV.L   #_EPCHK_STS,R1          ;
18806 00003832 6011                   M           MOV.W   @R1,R0          ;
18807 00003834 9403                   M           MOV.W   #(BIT2),R4              ;
18808 00003836 204B                   M           OR      R4,R0           ;
18809 00003838 2101                   M           MOV.W   R0,@R1          ;
18810                             227 I1          M_BRA   EP_SENCER_CK900                                                 ;
18811 0000383A A12D                   M           BRA     EP_SENCER_CK900
18812 0000383C 0009                   M           NOP
18813                             228 I1  
18814                                 I1  ***** BEGIN-POOL *****
18815 0000383E 0004                   I1  DATA FOR SOURCE-LINE 226
18816 00003840 00000000               I1  DATA FOR SOURCE-LINE 221
18817 00003844 00000000               I1  DATA FOR SOURCE-LINE 226
18818                                 I1  ***** END-POOL *****
18819 00003848                    229 I1  EP_STEP_USE_RY_COM_190                                                          ;
18820                             230 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18821 00003848 A139                   M           BRA     EP_SENCER_CKEND
18822 0000384A 0009                   M           NOP
18823                             231 I1  
18824                             232 I1  
18825                             233 I1  
18826                             234 I1  ;       ---------------------------------------------------
18827                             235 I1  ;       ---     遅延ﾀｲﾏ,ﾊﾞﾙﾌﾞON,異常ﾀｲﾏｾｯﾄ[STEP2]       ---
18828                             236 I1  ;       ---------------------------------------------------
18829 0000384C                    237 I1  EP_STEP_VALVON_DATSET
18830                             238 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18831 0000384C D106               239 I1          MOV.L   #(_PAR_EP3BRKON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾌﾞﾚｰｷON出
                                          力遅延
18832 0000384E 6211               240 I1          MOV.W   @R1,R2                                                          ;
18833 00003850 D106               241 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
18834 00003852 2121               242 I1          MOV.W   R2,@R1                                                          ;
18835                             243 I1  
18836                             244 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
18837 00003854 D106               245 I1          MOV.L   #(_PAR_EP4EPINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;ﾊﾞﾙﾌﾞON時間兼ﾀｲﾑｱ
                                          ｳﾄ時間
18838 00003856 6211               246 I1          MOV.W   @R1,R2                                                  ;
18839 00003858 D106               247 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
18840 0000385A 2121               248 I1          MOV.W   R2,@R1                                                  ;
18841                             249 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
18842 0000385C D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
18843 0000385E 6011                   M           MOV.W   @R1,R0          ;
18844 00003860 7001                   M           ADD     #1,R0           ;
18845 00003862 2101                   M           MOV.W   R0,@R1          ;
18846                             250 I1          M_BRA   EP_SENCER_CKEND                                         ;
18847 00003864 A12B                   M           BRA     EP_SENCER_CKEND
18848 00003866 0009                   M           NOP
18849                             251 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   232
PROGRAM NAME =

18850                             252 I1  
18851                             253 I1  ;       ---------------------------------------------------
18852                             254 I1  ;       ---     ﾊﾞﾙﾌﾞONのｱﾝｻEP待ち，異常CHK[STEP3]      ---
18853                             255 I1  ;       ---------------------------------------------------
18854                             256 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"L"なら遷移,"H"なら異常
18855                             257 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
18856                                 I1  ***** BEGIN-POOL *****
18857 00003868 00000000               I1  DATA FOR SOURCE-LINE 239
18858 0000386C 00000000               I1  DATA FOR SOURCE-LINE 241
18859 00003870 00000000               I1  DATA FOR SOURCE-LINE 245
18860 00003874 00000000               I1  DATA FOR SOURCE-LINE 247
18861 00003878 00000000               I1  DATA FOR SOURCE-LINE 249
18862                                 I1  ***** END-POOL *****
18863 0000387C                    258 I1  EP_STEP_VALVON_COM
18864 0000387C E001               259 I1          MOV.B   #(BIT0),R0                      ;ﾌﾞﾚｰｷ解除
18865 0000387E D10A               260 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
18866 00003880 2101               261 I1          MOV.W   R0,@R1                          ;
18867                             262 I1  
18868                             263 I1  
18869 00003882 D10A               264 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
18870 00003884 6011               265 I1          MOV.W   @R1,R0                                                          ;
18871 00003886 2008               266 I1          TST     R0,R0                                                           ;
18872                             267 I1          TST_BIT_ON EP_STEP_VALV_COM_190                                 ;
18873 00003888 8B20                   M           BF      EP_STEP_VALV_COM_190
18874                             268 I1  
18875                             269 I1  ;       ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ
18876 0000388A 200A               270 I1          XOR     R0,R0                           ;
18877 0000388C D106               271 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
18878 0000388E 2101               272 I1          MOV.W   R0,@R1                          ;
18879                             273 I1  
18880                             274 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
18881 00003890 D007                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18882 00003892 400B                   M           JSR     @R0                     ;
18883 00003894 0009                   M           NOP                                     ;
18884                             275 I1  
18885 00003896 2008               276 I1          TST     R0,R0                                                           ;
18886                             277 I1          TST_BIT_ON EP_STEP_VALV_COM_150                                 ;
18887 00003898 8B0E                   M           BF      EP_STEP_VALV_COM_150
18888                             278 I1  
18889                             279 I1  ;       ------- OFF発見 ------
18890                             280 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18891 0000389A D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
18892 0000389C 6011                   M           MOV.W   @R1,R0          ;
18893 0000389E 7001                   M           ADD     #1,R0           ;
18894 000038A0 2101                   M           MOV.W   R0,@R1          ;
18895                             281 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18896 000038A2 A10C                   M           BRA     EP_SENCER_CKEND
18897 000038A4 0009                   M           NOP
18898                             282 I1  
18899                                 I1  ***** BEGIN-POOL *****
18900 000038A6 0000                   I1  ALIGNMENT CODE
18901 000038A8 00000000               I1  DATA FOR SOURCE-LINE 260,271
18902 000038AC 00000000               I1  DATA FOR SOURCE-LINE 264
18903 000038B0 00000000               I1  DATA FOR SOURCE-LINE 274
18904 000038B4 00000000               I1  DATA FOR SOURCE-LINE 280
18905                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   233
PROGRAM NAME =

18906 000038B8                    283 I1  EP_STEP_VALV_COM_150                                                            ;
18907                             284 I1  
18908                             285 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻ失敗
18909 000038B8 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
18910 000038BA 6011                   M           MOV.W   @R1,R0          ;
18911 000038BC 9403                   M           MOV.W   #(BIT3),R4              ;
18912 000038BE 204B                   M           OR      R4,R0           ;
18913 000038C0 2101                   M           MOV.W   R0,@R1          ;
18914                             286 I1          M_BRA   EP_SENCER_CK900                                                 ;
18915 000038C2 A0E9                   M           BRA     EP_SENCER_CK900
18916 000038C4 0009                   M           NOP
18917                             287 I1  
18918                                 I1  ***** BEGIN-POOL *****
18919 000038C6 0008                   I1  DATA FOR SOURCE-LINE 285
18920 000038C8 00000000               I1  DATA FOR SOURCE-LINE 285
18921                                 I1  ***** END-POOL *****
18922 000038CC                    288 I1  EP_STEP_VALV_COM_190
18923                             289 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18924 000038CC A0F7                   M           BRA     EP_SENCER_CKEND
18925 000038CE 0009                   M           NOP
18926                             290 I1  
18927                             291 I1  
18928                             292 I1  
18929                             293 I1  ;       ---------------------------------------------------
18930                             294 I1  ;       ---     EP確認完了[STEP4]                       ---
18931                             295 I1  ;       ---------------------------------------------------
18932 000038D0                    296 I1  EP_STEP_EPSENSIG_A:
18933                             297 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4      ;
18934 000038D0 D107                   M           MOV.L   #_EPCHK_STS,R1          ;
18935 000038D2 6011                   M           MOV.W   @R1,R0          ;
18936 000038D4 940A                   M           MOV.W   #(BIT7),R4              ;
18937 000038D6 204B                   M           OR      R4,R0           ;
18938 000038D8 2101                   M           MOV.W   R0,@R1          ;
18939 000038DA 200A               298 I1          XOR     R0,R0                                                           ;
18940 000038DC D105               299 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;STEP5の前
                                          に行う
18941 000038DE 2101               300 I1          MOV.W   R0,@R1                                                          ;
18942                             301 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18943 000038E0 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
18944 000038E2 6011                   M           MOV.W   @R1,R0          ;
18945 000038E4 7001                   M           ADD     #1,R0           ;
18946 000038E6 2101                   M           MOV.W   R0,@R1          ;
18947                             302 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18948 000038E8 A0E9                   M           BRA     EP_SENCER_CKEND
18949 000038EA 0009                   M           NOP
18950                             303 I1  
18951                                 I1  ***** BEGIN-POOL *****
18952 000038EC 0080                   I1  DATA FOR SOURCE-LINE 297
18953 000038EE 0000                   I1  ALIGNMENT CODE
18954 000038F0 00000000               I1  DATA FOR SOURCE-LINE 297
18955 000038F4 00000000               I1  DATA FOR SOURCE-LINE 299
18956 000038F8 00000000               I1  DATA FOR SOURCE-LINE 301
18957                                 I1  ***** END-POOL *****
18958 000038FC                    304 I1  EP_STEP_EPSENSIG_B:
18959                             305 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT8),WKRG1=R1,WKRG2=R4      ;
18960 000038FC D107                   M           MOV.L   #_EPCHK_STS,R1          ;
18961 000038FE 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   234
PROGRAM NAME =

18962 00003900 940A                   M           MOV.W   #(BIT8),R4              ;
18963 00003902 204B                   M           OR      R4,R0           ;
18964 00003904 2101                   M           MOV.W   R0,@R1          ;
18965 00003906 200A               306 I1          XOR     R0,R0                                                           ;STEP5の前
                                          に行う
18966 00003908 D105               307 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;
18967 0000390A 2101               308 I1          MOV.W   R0,@R1                                                          ;
18968                             309 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18969 0000390C D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
18970 0000390E 6011                   M           MOV.W   @R1,R0          ;
18971 00003910 7001                   M           ADD     #1,R0           ;
18972 00003912 2101                   M           MOV.W   R0,@R1          ;
18973                             310 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18974 00003914 A0D3                   M           BRA     EP_SENCER_CKEND
18975 00003916 0009                   M           NOP
18976                             311 I1  
18977                             312 I1  
18978                             313 I1  ;       ---------------------------------------------------
18979                             314 I1  ;       ---     EPﾘｾｯﾄON遅延,ﾀｲﾑｱｳﾄ設定[STEP5]          ---
18980                             315 I1  ;       ---------------------------------------------------
18981                                 I1  ***** BEGIN-POOL *****
18982 00003918 0100                   I1  DATA FOR SOURCE-LINE 305
18983 0000391A 0000                   I1  ALIGNMENT CODE
18984 0000391C 00000000               I1  DATA FOR SOURCE-LINE 305
18985 00003920 00000000               I1  DATA FOR SOURCE-LINE 307
18986 00003924 00000000               I1  DATA FOR SOURCE-LINE 309
18987                                 I1  ***** END-POOL *****
18988 00003928                    316 I1  EP_STEP_RESET_DATSET1:
18989 00003928 D104               317 I1          MOV.L   #_EPCHK_RETRY_CNT,R1            ;
18990 0000392A 6011               318 I1          MOV.W   @R1,R0                          ;
18991 0000392C 2008               319 I1          TST     R0,R0                           ;
18992                             320 I1          TST_BIT_ON EP_STEP_RESET_100            ;ﾘﾄﾗｲ
18993 0000392E 8B0B                   M           BF      EP_STEP_RESET_100
18994                             321 I1  
18995                             322 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18996 00003930 D103               323 I1          MOV.L   #(_PAR_EP5RSTON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
                                          延時間
18997 00003932 6211               324 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
18998 00003934 D103               325 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
18999 00003936 2121               326 I1          MOV.W   R2,@R1                                                          ;
19000                             327 I1          M_BRA   EP_STEP_RESET_DATSET_COM                                        ;
19001 00003938 A00A                   M           BRA     EP_STEP_RESET_DATSET_COM
19002 0000393A 0009                   M           NOP
19003                             328 I1  
19004                                 I1  ***** BEGIN-POOL *****
19005 0000393C 00000000               I1  DATA FOR SOURCE-LINE 317
19006 00003940 00000000               I1  DATA FOR SOURCE-LINE 323
19007 00003944 00000000               I1  DATA FOR SOURCE-LINE 325
19008                                 I1  ***** END-POOL *****
19009 00003948                    329 I1  EP_STEP_RESET_100:
19010                             330 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19011 00003948 D106               331 I1          MOV.L   #(_PAR_EP6RSTOF_INTTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
                                          延時間(ｲﾝﾀｰﾊﾞﾙ時間)
19012 0000394A 6211               332 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
19013 0000394C D106               333 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   235
PROGRAM NAME =

19014 0000394E 2121               334 I1          MOV.W   R2,@R1                                                          ;
19015                             335 I1  
19016 00003950                    336 I1  EP_STEP_RESET_DATSET_COM:
19017                             337 I1  
19018                             338 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
19019 00003950 D106               339 I1          MOV.L   #(_PAR_EP6RSTON_JGTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1          ;ﾘｾｯﾄON時
                                          間兼ﾀｲﾑｱｳﾄ時間
19020 00003952 6211               340 I1          MOV.W   @R1,R2                                                          ;
19021 00003954 D106               341 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19022 00003956 2121               342 I1          MOV.W   R2,@R1                                                          ;
19023                             343 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19024 00003958 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19025 0000395A 6011                   M           MOV.W   @R1,R0          ;
19026 0000395C 7001                   M           ADD     #1,R0           ;
19027 0000395E 2101                   M           MOV.W   R0,@R1          ;
19028                             344 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19029 00003960 A0AD                   M           BRA     EP_SENCER_CKEND
19030 00003962 0009                   M           NOP
19031                             345 I1  
19032                             346 I1  
19033                             347 I1  
19034                             348 I1  
19035                             349 I1  ;       ---------------------------------------------------
19036                             350 I1  ;       ---     ﾘｾｯﾄONのｱﾝｻEP待ち，異常CHK[STEP6]       ---
19037                             351 I1  ;       ---------------------------------------------------
19038                             352 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"Ｈ"なら遷移,"Ｌ"なら異常　ﾘﾄﾗｲ
19039                             353 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
19040                                 I1  ***** BEGIN-POOL *****
19041 00003964 00000000               I1  DATA FOR SOURCE-LINE 331
19042 00003968 00000000               I1  DATA FOR SOURCE-LINE 333
19043 0000396C 00000000               I1  DATA FOR SOURCE-LINE 339
19044 00003970 00000000               I1  DATA FOR SOURCE-LINE 341
19045 00003974 00000000               I1  DATA FOR SOURCE-LINE 343
19046                                 I1  ***** END-POOL *****
19047 00003978                    354 I1  EP_STEP_RESETON_COM
19048                             355 I1  
19049                             356 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4      ;ﾘｾｯﾄｺﾏﾝﾄﾞ
19050 00003978 D10D                   M           MOV.L   #_EPCHK_STS,R1          ;
19051 0000397A 6011                   M           MOV.W   @R1,R0          ;
19052 0000397C 9415                   M           MOV.W   #(BIT9),R4              ;
19053 0000397E 204B                   M           OR      R4,R0           ;
19054 00003980 2101                   M           MOV.W   R0,@R1          ;
19055                             357 I1  
19056 00003982 D10C               358 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19057 00003984 6011               359 I1          MOV.W   @R1,R0                                                          ;
19058 00003986 2008               360 I1          TST     R0,R0                                                           ;
19059                             361 I1          TST_BIT_ON EP_STEP_RESET_COM_190                                        ;
19060 00003988 8B38                   M           BF      EP_STEP_RESET_COM_190
19061                             362 I1  
19062                             363 I1  ;       ------- ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ--------
19063                             364 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9),WKRG1=R1,WKRG2=R4     ;ﾘｾｯﾄOFF
19064 0000398A D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19065 0000398C 6011                   M           MOV.W   @R1,R0          ;
19066 0000398E 940D                   M           MOV.W   #LWORD ~(BIT9),R4       ;
19067 00003990 2049                   M           AND     R4,R0           ;
19068 00003992 2101                   M           MOV.W   R0,@R1          ;
19069                             365 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   236
PROGRAM NAME =

19070                             366 I1  
19071                             367 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
19072 00003994 D008                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19073 00003996 400B                   M           JSR     @R0                     ;
19074 00003998 0009                   M           NOP                                     ;
19075                             368 I1  
19076 0000399A 2008               369 I1          TST     R0,R0                                                           ;
19077                             370 I1          TST_BIT_OF EP_STEP_RESET_COM_150                                        ;
19078 0000399C 8910                   M           BT      EP_STEP_RESET_COM_150
19079                             371 I1  
19080                             372 I1  ;       ------- ON発見 ------
19081                             373 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19082 0000399E D107                   M           MOV.L   #_EPCHK_STEP,R1 ;
19083 000039A0 6011                   M           MOV.W   @R1,R0          ;
19084 000039A2 7001                   M           ADD     #1,R0           ;
19085 000039A4 2101                   M           MOV.W   R0,@R1          ;
19086                             374 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19087 000039A6 A08A                   M           BRA     EP_SENCER_CKEND
19088 000039A8 0009                   M           NOP
19089                             375 I1  
19090                                 I1  ***** BEGIN-POOL *****
19091 000039AA 0200                   I1  DATA FOR SOURCE-LINE 356
19092 000039AC FDFF                   I1  DATA FOR SOURCE-LINE 364
19093 000039AE 0000                   I1  ALIGNMENT CODE
19094 000039B0 00000000               I1  DATA FOR SOURCE-LINE 356,364
19095 000039B4 00000000               I1  DATA FOR SOURCE-LINE 358
19096 000039B8 00000000               I1  DATA FOR SOURCE-LINE 367
19097 000039BC 00000000               I1  DATA FOR SOURCE-LINE 373
19098                                 I1  ***** END-POOL *****
19099 000039C0                    376 I1  EP_STEP_RESET_COM_150                                                           ;
19100 000039C0 D106               377 I1          MOV.L   #(_PAR_EP6RST_RETRY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;ﾘｾｯﾄﾘﾄﾗｲ
                                          回数
19101 000039C2 6211               378 I1          MOV.W   @R1,R2                                                          ;0:ﾘﾄﾗｲし
                                          ない
19102 000039C4 D506               379 I1          MOV.L   #_EPCHK_RETRY_CNT,R5                                            ;
19103 000039C6 6051               380 I1          MOV.W   @R5,R0                                                          ;
19104 000039C8 3022               381 I1          CMP/HS  R2,R0                                                           ;0(SV)=<0(
                                          PV)
19105 000039CA 890D               382 I1          BT      EP_STEP_RESET_COM_170                                           ;ﾘﾄﾗｲｵｰﾊﾞ
19106 000039CC 7001               383 I1          ADD     #1,R0                                                           ;
19107 000039CE 2501               384 I1          MOV.W   R0,@R5                                                          ;
19108                             385 I1  
19109 000039D0 D104               386 I1          MOV.L   #_EPCHK_STEP,R1                         ;1個前からやり直す
19110 000039D2 6011               387 I1          MOV.W   @R1,R0                                  ;
19111 000039D4 70FF               388 I1          ADD     #-1,R0                                  ;
19112 000039D6 2101               389 I1          MOV.W   R0,@R1                                  ;
19113                             390 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19114 000039D8 A071                   M           BRA     EP_SENCER_CKEND
19115 000039DA 0009                   M           NOP
19116                             391 I1  
19117                             392 I1  
19118                                 I1  ***** BEGIN-POOL *****
19119 000039DC 00000000               I1  DATA FOR SOURCE-LINE 377
19120 000039E0 00000000               I1  DATA FOR SOURCE-LINE 379
19121 000039E4 00000000               I1  DATA FOR SOURCE-LINE 386
19122                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   237
PROGRAM NAME =

19123 000039E8                    393 I1  EP_STEP_RESET_COM_170                                                           ;終了処理
19124                             394 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻﾘｾｯﾄ
                                          失敗
19125 000039E8 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19126 000039EA 6011                   M           MOV.W   @R1,R0          ;
19127 000039EC 9403                   M           MOV.W   #(BIT4),R4              ;
19128 000039EE 204B                   M           OR      R4,R0           ;
19129 000039F0 2101                   M           MOV.W   R0,@R1          ;
19130                             395 I1          M_BRA   EP_SENCER_CK900                                                 ;
19131 000039F2 A051                   M           BRA     EP_SENCER_CK900
19132 000039F4 0009                   M           NOP
19133                             396 I1  
19134                                 I1  ***** BEGIN-POOL *****
19135 000039F6 0010                   I1  DATA FOR SOURCE-LINE 394
19136 000039F8 00000000               I1  DATA FOR SOURCE-LINE 394
19137                                 I1  ***** END-POOL *****
19138 000039FC                    397 I1  EP_STEP_RESET_COM_190
19139                             398 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19140 000039FC A05F                   M           BRA     EP_SENCER_CKEND
19141 000039FE 0009                   M           NOP
19142                             399 I1  
19143                             400 I1  
19144                             401 I1  
19145                             402 I1  ;       ---------------------------------------------------
19146                             403 I1  ;       ---     CPUA終了,CPUB開始遅延+ﾀｲﾑｱｳﾄ設定[STEP7] ---
19147                             404 I1  ;       ---------------------------------------------------
19148 00003A00                    405 I1  EP_STEP_ENDSIG_A
19149                             406 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT5),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19150 00003A00 D10B                   M           MOV.L   #_EPCHK_STS,R1          ;
19151 00003A02 6011                   M           MOV.W   @R1,R0          ;
19152 00003A04 9411                   M           MOV.W   #LWORD ~(BIT9|BIT5),R4  ;
19153 00003A06 2049                   M           AND     R4,R0           ;
19154 00003A08 2101                   M           MOV.W   R0,@R1          ;
19155                             407 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT10),WKRG1=R1,WKRG2=R4             ;A
                                          完了
19156 00003A0A D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19157 00003A0C 6011                   M           MOV.W   @R1,R0          ;
19158 00003A0E 940D                   M           MOV.W   #(BIT10),R4             ;
19159 00003A10 204B                   M           OR      R4,R0           ;
19160 00003A12 2101                   M           MOV.W   R0,@R1          ;
19161                             408 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4              ;B
                                          開始
19162 00003A14 D106                   M           MOV.L   #_EPCHK_STS,R1          ;
19163 00003A16 6011                   M           MOV.W   @R1,R0          ;
19164 00003A18 9409                   M           MOV.W   #(BIT1),R4              ;
19165 00003A1A 204B                   M           OR      R4,R0           ;
19166 00003A1C 2101                   M           MOV.W   R0,@R1          ;
19167                             409 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19168 00003A1E D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19169 00003A20 6011                   M           MOV.W   @R1,R0          ;
19170 00003A22 7001                   M           ADD     #1,R0           ;
19171 00003A24 2101                   M           MOV.W   R0,@R1          ;
19172                             410 I1          M_BRA   EP_SENCER_CKEND                                                         ;
19173 00003A26 A04A                   M           BRA     EP_SENCER_CKEND
19174 00003A28 0009                   M           NOP
19175                             411 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   238
PROGRAM NAME =

19176                                 I1  ***** BEGIN-POOL *****
19177 00003A2A FDDF                   I1  DATA FOR SOURCE-LINE 406
19178 00003A2C 0400                   I1  DATA FOR SOURCE-LINE 407
19179 00003A2E 0002                   I1  DATA FOR SOURCE-LINE 408
19180 00003A30 00000000               I1  DATA FOR SOURCE-LINE 406,407,408
19181 00003A34 00000000               I1  DATA FOR SOURCE-LINE 409
19182                                 I1  ***** END-POOL *****
19183 00003A38                    412 I1  EP_STEP_ENDSIG_B
19184                             413 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT6),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19185 00003A38 D108                   M           MOV.L   #_EPCHK_STS,R1          ;
19186 00003A3A 6011                   M           MOV.W   @R1,R0          ;
19187 00003A3C 940C                   M           MOV.W   #LWORD ~(BIT9|BIT6),R4  ;
19188 00003A3E 2049                   M           AND     R4,R0           ;
19189 00003A40 2101                   M           MOV.W   R0,@R1          ;
19190                             414 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4     ;
19191 00003A42 D106                   M           MOV.L   #_EPCHK_STS,R1          ;
19192 00003A44 6011                   M           MOV.W   @R1,R0          ;
19193 00003A46 9408                   M           MOV.W   #(BIT11),R4             ;
19194 00003A48 204B                   M           OR      R4,R0           ;
19195 00003A4A 2101                   M           MOV.W   R0,@R1          ;
19196                             415 I1  
19197                             416 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19198 00003A4C D104               417 I1          MOV.L   #(_PAR_EP7END_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;終了遅延
19199 00003A4E 6211               418 I1          MOV.W   @R1,R2                                                          ;
19200 00003A50 D104               419 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19201 00003A52 2121               420 I1          MOV.W   R2,@R1                                                          ;
19202                             421 I1          M_BRA   EP_STEP_RESET_DATSET_COM                                        ;
19203 00003A54 AF7C                   M           BRA     EP_STEP_RESET_DATSET_COM
19204 00003A56 0009                   M           NOP
19205                             422 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19206                                 M   ***** BEGIN-POOL *****
19207 00003A58 FDBF                   M   DATA FOR SOURCE-LINE 413
19208 00003A5A 0800                   M   DATA FOR SOURCE-LINE 414
19209 00003A5C 00000000               M   DATA FOR SOURCE-LINE 413,414
19210 00003A60 00000000               M   DATA FOR SOURCE-LINE 417
19211 00003A64 00000000               M   DATA FOR SOURCE-LINE 419
19212                                 M   ***** END-POOL *****
19213 00003A68 D102                   M           MOV.L   #_EPCHK_STEP,R1 ;
19214 00003A6A 6011                   M           MOV.W   @R1,R0          ;
19215 00003A6C 7001                   M           ADD     #1,R0           ;
19216 00003A6E 2101                   M           MOV.W   R0,@R1          ;
19217                             423 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19218 00003A70 A025                   M           BRA     EP_SENCER_CKEND
19219 00003A72 0009                   M           NOP
19220                             424 I1  
19221                             425 I1  
19222                                 I1  ***** BEGIN-POOL *****
19223 00003A74 00000000               I1  DATA FOR SOURCE-LINE 422
19224                                 I1  ***** END-POOL *****
19225 00003A78                    426 I1  EP_STEP_ENDSIG
19226                             427 I1          M_BRA   EP_SENCER_CK800                                                 ;
19227 00003A78 A000                   M           BRA     EP_SENCER_CK800
19228 00003A7A 0009                   M           NOP
19229                             428 I1  
19230                             429 I1  
19231 00003A7C                    430 I1  EP_STEP_XX:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   239
PROGRAM NAME =

19232                             431 I1  
19233                             432 I1  ;       -----------正常終了処理--------
19234 00003A7C                    433 I1  EP_SENCER_CK800:
19235                             434 I1  
19236 00003A7C 9006               435 I1          MOV.W   #BIT7,R0                        ;
19237 00003A7E D104               436 I1          MOV.L   #_EPCHK_FLG,R1                  ;
19238 00003A80 2101               437 I1          MOV.W   R0,@R1                          ;
19239                             438 I1  
19240 00003A82 9004               439 I1          MOV.W   #BIT15,R0
19241 00003A84 D103               440 I1          MOV.L   #_EPCHK_STS,R1                  ;BIT15:正常完了
19242 00003A86 2101               441 I1          MOV.W   R0,@R1                          ;
19243                             442 I1  
19244                             443 I1          M_BRA   EP_SENCER_CK950                 ;
19245 00003A88 A014                   M           BRA     EP_SENCER_CK950
19246 00003A8A 0009                   M           NOP
19247                             444 I1  
19248                             445 I1  
19249                             446 I1  ;       -----------異常終了処理--------
19250                                 I1  ***** BEGIN-POOL *****
19251 00003A8C 0080                   I1  DATA FOR SOURCE-LINE 435
19252 00003A8E 8000                   I1  DATA FOR SOURCE-LINE 439
19253 00003A90 00000000               I1  DATA FOR SOURCE-LINE 436
19254 00003A94 00000000               I1  DATA FOR SOURCE-LINE 440
19255                                 I1  ***** END-POOL *****
19256 00003A98                    447 I1  EP_SENCER_CK900:
19257                             448 I1  
19258 00003A98 9418               449 I1          MOV.W   #H'239E,R4              ;2010-12-21
19259                             450 I1          FAR_JSR #_EMG_STOP,R0                   ;
19260 00003A9A D00E                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19261 00003A9C 400B                   M           JSR     @R0                     ;
19262 00003A9E 0009                   M           NOP                                     ;
19263                             451 I1  
19264 00003AA0 200A               452 I1          XOR     R0,R0                                   ;
19265 00003AA2 D10D               453 I1          MOV.L   #_EPCHK_FLG,R1                          ;
19266 00003AA4 2101               454 I1          MOV.W   R0,@R1                                  ;
19267                             455 I1  
19268 00003AA6 D10D               456 I1          MOV.L   #_EPCHK_STS,R1                          ;
19269 00003AA8 6011               457 I1          MOV.W   @R1,R0                                  ;
19270 00003AAA 9410               458 I1          MOV.W   #(BIT4|BIT3|BIT2),R4                    ;異常要因以外をｸﾘｱ
19271 00003AAC 2049               459 I1          AND     R4,R0                                   ;
19272                             460 I1  
19273 00003AAE 940F               461 I1          MOV.W   #BIT14,R4                               ;BIT14異常終了ｾｯﾄ
19274 00003AB0 204B               462 I1          OR      R4,R0                                   ;
19275 00003AB2 2101               463 I1          MOV.W   R0,@R1                                  ;
19276                             464 I1  
19277                             465 I1  ;       -----------終了共通処理--------
19278 00003AB4                    466 I1  EP_SENCER_CK950:
19279 00003AB4 200A               467 I1          XOR     R0,R0                                   ;
19280 00003AB6 D10A               468 I1          MOV.L   #_EPCHK_COM,R1                          ;
19281 00003AB8 2101               469 I1          MOV.W   R0,@R1                                  ;
19282 00003ABA D10A               470 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1                 ;強制ﾊﾞﾙﾌﾞON:OFF
19283 00003ABC 2101               471 I1          MOV.W   R0,@R1                                  ;
19284                             472 I1  
19285                             473 I1  
19286 00003ABE                    474 I1  EP_SENCER_CKEND
19287 00003ABE D107               475 I1          MOV.L   #_EPCHK_STS,R1                  ;
19288 00003AC0 6211               476 I1          MOV.W   @R1,R2                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   240
PROGRAM NAME =

19289 00003AC2 D109               477 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19290 00003AC4 2121               478 I1          MOV.W   R2,@R1                          ;
19291                             479 I1  
19292 00003AC6                    480 I1  EP_SENCER_CKEXT
19293                             481 I1          SUB_END
19294                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19295 00003AC6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19296                             482 I1          M_RTS
19297 00003AC8 000B                   M           RTS                             ;RTSの後ろの
19298 00003ACA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19299                             483 I1  
19300                             484 I1  
19301                                 I1  ***** BEGIN-POOL *****
19302 00003ACC 239E                   I1  DATA FOR SOURCE-LINE 449
19303 00003ACE 001C                   I1  DATA FOR SOURCE-LINE 458
19304 00003AD0 4000                   I1  DATA FOR SOURCE-LINE 461
19305 00003AD2 0000                   I1  ALIGNMENT CODE
19306 00003AD4 00000000               I1  DATA FOR SOURCE-LINE 450
19307 00003AD8 00000000               I1  DATA FOR SOURCE-LINE 453
19308 00003ADC 00000000               I1  DATA FOR SOURCE-LINE 456,475
19309 00003AE0 00000000               I1  DATA FOR SOURCE-LINE 468
19310 00003AE4 00000000               I1  DATA FOR SOURCE-LINE 470
19311 00003AE8 00000000               I1  DATA FOR SOURCE-LINE 477
19312                                 I1  ***** END-POOL *****
19313 00003AEC                    485 I1  _EP_SENCHK_STOPCONF1:
19314 00003AEC                    486 I1  _EP_SENCHK_STOPCONF2:
19315                             487 I1          SUB_START
19316 00003AEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19317                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19318                             488 I1  
19319 00003AEE D104               489 I1          MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
19320 00003AF0 6011               490 I1          MOV.W   @R1,R0                  ;
19321 00003AF2 D104               491 I1          MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
19322 00003AF4 6211               492 I1          MOV.W   @R1,R2                  ;
19323 00003AF6 202B               493 I1          OR      R2,R0                   ;
19324                             494 I1  
19325                             495 I1          SUB_END
19326                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19327 00003AF8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19328                             496 I1          M_RTS
19329 00003AFA 000B                   M           RTS                             ;RTSの後ろの
19330 00003AFC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19331                             497 I1  
19332                             498 I1  
19333                             499 I1  ;       ANS R0=0(OFF) R0=BIT14(ON)
19334                                 I1  ***** BEGIN-POOL *****
19335 00003AFE 0000                   I1  ALIGNMENT CODE
19336 00003B00 00000000               I1  DATA FOR SOURCE-LINE 489
19337 00003B04 00000000               I1  DATA FOR SOURCE-LINE 491
19338                                 I1  ***** END-POOL *****
19339 00003B08                    500 I1  _VFRY_IN_CHK:
19340                             501 I1          SUB_START
19341 00003B08 4F22                   M           STS.L   PR,@-R15                ;[必要]
19342                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19343 00003B0A 9405               502 I1          MOV.W   #BIT14,R4                       ;
19344 00003B0C D103               503 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
19345 00003B0E 6011               504 I1          MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   241
PROGRAM NAME =

19346 00003B10 2049               505 I1          AND     R4,R0                           ;0orBIT14
19347                             506 I1  
19348                             507 I1          SUB_END
19349                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19350 00003B12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19351                             508 I1          M_RTS
19352 00003B14 000B                   M           RTS                             ;RTSの後ろの
19353 00003B16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19354                             509 I1  
19355                             510 I1  
19356                                 I1  ***** BEGIN-POOL *****
19357 00003B18 4000                   I1  DATA FOR SOURCE-LINE 502
19358 00003B1A 0000                   I1  ALIGNMENT CODE
19359 00003B1C 00000000               I1  DATA FOR SOURCE-LINE 503
19360                                 I1  ***** END-POOL *****
19361 00003B20                    511 I1  _EPSEN_IN_CHK
19362                             512 I1          SUB_START
19363 00003B20 4F22                   M           STS.L   PR,@-R15                ;[必要]
19364                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19365 00003B22 9405               513 I1          MOV.W   #BIT15,R4                       ;
19366 00003B24 D103               514 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
19367 00003B26 6011               515 I1          MOV.W   @R1,R0                          ;
19368 00003B28 2049               516 I1          AND     R4,R0                           ;0orBIT15
19369                             517 I1  
19370                             518 I1          SUB_END
19371                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19372 00003B2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19373                             519 I1          M_RTS
19374 00003B2C 000B                   M           RTS                             ;RTSの後ろの
19375 00003B2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19376                             520 I1  
19377                             521 I1  
19378                                 I1  ***** BEGIN-POOL *****
19379 00003B30 8000                   I1  DATA FOR SOURCE-LINE 513
19380 00003B32 0000                   I1  ALIGNMENT CODE
19381 00003B34 00000000               I1  DATA FOR SOURCE-LINE 514
19382                                 I1  ***** END-POOL *****
19383 00003B38                    522 I1  _EPSEN_CLR
19384                             523 I1          SUB_START
19385 00003B38 4F22                   M           STS.L   PR,@-R15                ;[必要]
19386                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19387                             524 I1  
19388 00003B3A 9408               525 I1          MOV.W   #BIT15,R4
19389 00003B3C D104               526 I1          MOV.L   #_EPCHK_STS,R1                  ;
19390 00003B3E 6011               527 I1          MOV.W   @R1,R0
19391 00003B40 2049               528 I1          AND     R4,R0
19392 00003B42 2101               529 I1          MOV.W   R0,@R1                          ;
19393 00003B44 D103               530 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19394 00003B46 2101               531 I1          MOV.W   R0,@R1                          ;
19395                             532 I1  
19396                             533 I1          SUB_END
19397                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19398 00003B48 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19399                             534 I1          M_RTS
19400 00003B4A 000B                   M           RTS                             ;RTSの後ろの
19401 00003B4C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19402                             535 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   242
PROGRAM NAME =

19403                            7681     
19404                            7682     
19405                            7683     
19406                                     ***** BEGIN-POOL *****
19407 00003B4E 8000                       DATA FOR SOURCE-LINE 525
19408 00003B50 00000000                   DATA FOR SOURCE-LINE 526
19409 00003B54 00000000                   DATA FOR SOURCE-LINE 530
19410                                     ***** END-POOL *****
19411 00003B58                   7684             .ALIGN  4
19412                            7685     ;       *******************************************
19413                            7686     ;       ***                                     ***
19414                            7687     ;       ***                                     ***
19415                            7688     ;       ***                                     ***
19416                            7689     ;       ***     EXQ,遮光による行程違いのRECOVER ***
19417                            7690     ;       ***             2016-04-16              ***
19418                            7691     ;       ***             2016-01-10              ***
19419                            7692     ;       ***                                     ***
19420                            7693     ;       ***                                     ***
19421                            7694     ;       ***                                     ***
19422                            7695     ;       *******************************************
19423                            7696     ;       リセット時に行う
19424                            7697     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
19425                            7698     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
19426                            7699     ;       このリカバーはハンドシェイク時のみのリカバーとする
19427                            7700     
19428                            7701             .IMPORT _CPUA_SV_STEP                           ;
19429                            7702             .IMPORT _CPUB_SV_STEP                           ;
19430                            7703     
19431                            7704             .IMPORT _EMG_POS_FLG_PROC
19432                            7705     
19433                            7706     
19434 00003B58                   7707     _EXQ_PROC_STEP_RECOVER:
19435                            7708             SUB_START
19436 00003B58 4F22                   M           STS.L   PR,@-R15                ;[必要]
19437                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19438                            7709     
19439                            7710     
19440 00003B5A D117              7711             MOV.L   #_MODE_SEL,R1                           ;
19441 00003B5C 6011              7712             MOV.W   @R1,R0                                  ;
19442                            7713     
19443 00003B5E 942A              7714             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
19444 00003B60 2048              7715             TST     R4,R0                                   ;
19445                            7716             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
19446 00003B62 896B                   M           BT      EXQ_PROC_STEPRECOVER_END1
19447                            7717     
19448 00003B64 D115              7718             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
19449 00003B66 6011              7719             MOV.W   @R1,R0                                  ;
19450                            7720     ;;;;    TST     #_DMATH_CNTROT,R0                       ;
19451                            7721     ;;;;    TST     #(_DMATH_DNDRIV),R0                     ;回転or往復
19452 00003B68 C805              7722             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
19453                            7723             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;
19454 00003B6A 8967                   M           BT      EXQ_PROC_STEPRECOVER_END1
19455                            7724     
19456 00003B6C D114              7725             MOV.L   #_EXQ_LT_GET_FLG,R1                     ;[]
19457 00003B6E 6011              7726             MOV.W   @R1,R0                                  ;
19458 00003B70 2008              7727             TST     R0,R0                                   ;
19459                            7728             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   243
PROGRAM NAME =

19460 00003B72 8963                   M           BT      EXQ_PROC_STEPRECOVER_END1
19461                            7729     
19462                            7730     
19463                            7731     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
19464 00003B74 D113              7732             MOV.L   #_EXQ_LT_PROC_CNT1,R1
19465 00003B76 6011              7733             MOV.W   @R1,R0
19466 00003B78 7001              7734             ADD     #1,R0
19467 00003B7A 2101              7735             MOV.W   R0,@R1
19468                            7736     
19469 00003B7C E401              7737             MOV.B   #BIT0,R4
19470 00003B7E D112              7738             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19471 00003B80 6011              7739             MOV.W   @R1,R0
19472 00003B82 204A              7740             XOR     R4,R0
19473 00003B84 2101              7741             MOV.W   R0,@R1
19474                            7742     
19475                            7743     
19476                            7744     ;---------------------------------------------------------
19477                            7745     ;切替条件
19478                            7746     ;       EXQ_LT_GET_FLGがON
19479                            7747     ;       (1)R1:自分が0(emg)でない
19480                            7748     ;       (1)R2:相手も0(emg)でない
19481                            7749     ;         (2-1)自分が最終行程の場合
19482                            7750     ;               (3-1)待機点範囲の場合
19483                            7751     ;                       相手CPUが0または1の場合　
19484                            7752     ;                       自分はEMG処理相当を行う(行程1からはじめる)
19485                            7753     ;               (3-2)待機点範囲でない場合:演算しない
19486                            7754     ;         (2-2)自分が最終行程でない場合
19487                            7755     ;               自分<相手であれば行程を入れ替える
19488                            7756     ;       EXQ_LT_HAND_STEP2_FLG=_CMPSTEP_STEP_END
19489                            7757     
19490                            7758             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
19491 00003B86 D011                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19492 00003B88 400B                   M           JSR     @R0                     ;
19493 00003B8A 0009                   M           NOP                                     ;
19494 00003B8C 6303              7759             MOV     R0,R3                           ;R3!=0:待機点
19495                            7760     
19496 00003B8E D510              7761             MOV.L   #_SV_POS_CTL_STEP,R5            ;
19497 00003B90 6151              7762             MOV.W   @R5,R1                          ;自分
19498                            7763             .AIF    1 EQ    0
19499                            7764             MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
19500                            7765             .AELSE
19501 00003B92 D610              7766 C           MOV.L   #_CPUA_SV_STEP,R6               ;
19502                            7767             .AENDI
19503 00003B94 6261              7768             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
19504 00003B96 2118              7769             TST     R1,R1                           ;CPUA(自分)
19505                            7770             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;[次の工程は１行程から行う]
19506 00003B98 8950                   M           BT      EXQ_PROC_STEPRECOVER_END1
19507                            7771     
19508 00003B9A 2338              7772             TST     R3,R3                           ;待機点？
19509                            7773             TST_BIT_OF EXQ_PROC_STEPRECOVER_200     ;NO!
19510 00003B9C 8950                   M           BT      EXQ_PROC_STEPRECOVER_200
19511                            7774     
19512 00003B9E D40E              7775             MOV.L   #_CPOS_STEP_MAX,R4              ;
19513 00003BA0 6041              7776             MOV.W   @R4,R0                          ;
19514 00003BA2 7001              7777             ADD     #1,R0                           ;
19515 00003BA4 3010              7778             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
19516 00003BA6 8B49              7779             BF      EXQ_PROC_STEPRECOVER_END1       ;NO!(待機点だが最終ステップではない)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   244
PROGRAM NAME =

19517                            7780     
19518                            7781     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
19519 00003BA8 E001              7782             MOV.B   #1,R0                           ;
19520 00003BAA 2228              7783             TST     R2,R2                           ;
19521                            7784             TST_BIT_OF EXQ_PROC_STEPRECOVER_100     ;(R2=0:次の工程は0から YES:EMG)
19522 00003BAC 8916                   M           BT      EXQ_PROC_STEPRECOVER_100
19523                            7785     
19524 00003BAE 3200              7786             CMP/EQ  R0,R2                           ;
19525 00003BB0 8914              7787             BT      EXQ_PROC_STEPRECOVER_100        ;相手CPU=1です
19526                            7788             M_BRA   EXQ_PROC_STEPRECOVER_END1       ;
19527 00003BB2 A043                   M           BRA     EXQ_PROC_STEPRECOVER_END1
19528 00003BB4 0009                   M           NOP
19529                            7789     
19530                            7790     ;
19531                            7791     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
19532                            7792     ;
19533                            7793     ;待機点での方向変更処理が必要
19534                            7794     ;       「EMGと同じ処理」
19535                                     ***** BEGIN-POOL *****
19536 00003BB6 001E                       DATA FOR SOURCE-LINE 7714
19537 00003BB8 00000000                   DATA FOR SOURCE-LINE 7711
19538 00003BBC 00000000                   DATA FOR SOURCE-LINE 7718
19539 00003BC0 00000000                   DATA FOR SOURCE-LINE 7725
19540 00003BC4 00000000                   DATA FOR SOURCE-LINE 7732
19541 00003BC8 00000000                   DATA FOR SOURCE-LINE 7738
19542 00003BCC 00000000                   DATA FOR SOURCE-LINE 7758
19543 00003BD0 00000000                   DATA FOR SOURCE-LINE 7761
19544 00003BD4 00000000                   DATA FOR SOURCE-LINE 7766
19545 00003BD8 00000000                   DATA FOR SOURCE-LINE 7775
19546                                     ***** END-POOL *****
19547 00003BDC                   7795     EXQ_PROC_STEPRECOVER_100:
19548                            7796     
19549 00003BDC D105              7797             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
19550 00003BDE 6011              7798             MOV.W   @R1,R0                          ;
19551 00003BE0 C804              7799             TST     #_DMATH_DNDRIV,R0               ;
19552                            7800             TST_BIT_ON EXQ_PROC_STEPRECOVER_150     ;
19553 00003BE2 8B0D                   M           BF      EXQ_PROC_STEPRECOVER_150
19554                            7801     
19555                            7802             FAR_JSR #_EMG_POS_FLG_PROC,R0           ;振り子以外なら非常停止と同じ処理でいい
19556 00003BE4 D004                   M           MOV.L   #_EMG_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19557 00003BE6 400B                   M           JSR     @R0                     ;
19558 00003BE8 0009                   M           NOP                                     ;
19559                            7803             FAR_JSR #_EMG_CTL_FLG_PROC,R0           ;
19560 00003BEA D004                   M           MOV.L   #_EMG_CTL_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19561 00003BEC 400B                   M           JSR     @R0                     ;
19562 00003BEE 0009                   M           NOP                                     ;
19563                            7804             M_BRA   EXQ_PROC_STEPRECOVER_180        ;
19564 00003BF0 A00C                   M           BRA     EXQ_PROC_STEPRECOVER_180
19565 00003BF2 0009                   M           NOP
19566                            7805     
19567                                     ***** BEGIN-POOL *****
19568 00003BF4 00000000                   DATA FOR SOURCE-LINE 7797
19569 00003BF8 00000000                   DATA FOR SOURCE-LINE 7802
19570 00003BFC 00000000                   DATA FOR SOURCE-LINE 7803
19571                                     ***** END-POOL *****
19572 00003C00                   7806     EXQ_PROC_STEPRECOVER_150:
19573                            7807             FAR_JSR #_DNM_CYCLE_END,R0              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   245
PROGRAM NAME =

19574 00003C00 D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19575 00003C02 400B                   M           JSR     @R0                     ;
19576 00003C04 0009                   M           NOP                                     ;
19577                            7808             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
19578 00003C06 D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19579 00003C08 400B                   M           JSR     @R0                     ;
19580 00003C0A 0009                   M           NOP                                     ;
19581 00003C0C                   7809     EXQ_PROC_STEPRECOVER_180:
19582                            7810             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
19583 00003C0C D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19584 00003C0E 400B                   M           JSR     @R0                     ;
19585 00003C10 0009                   M           NOP                                     ;
19586                            7811     
19587                            7812     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
19588 00003C12 D108              7813             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
19589 00003C14 6011              7814             MOV.W   @R1,R0                          ;
19590 00003C16 7001              7815             ADD     #1,R0                           ;
19591 00003C18 2101              7816             MOV.W   R0,@R1                          ;
19592                            7817     
19593 00003C1A E402              7818             MOV.B   #BIT1,R4
19594 00003C1C D106              7819             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19595 00003C1E 6011              7820             MOV.W   @R1,R0
19596 00003C20 204A              7821             XOR     R4,R0
19597 00003C22 2101              7822             MOV.W   R0,@R1
19598                            7823     ;       ------ﾃﾞﾊﾞｯｸ--------
19599                            7824             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
19600 00003C24 A030                   M           BRA     EXQ_PROC_STEPRECOVER_END
19601 00003C26 0009                   M           NOP
19602                            7825     
19603                            7826     
19604                            7827     ;       ==============================================
19605                                     ***** BEGIN-POOL *****
19606 00003C28 00000000                   DATA FOR SOURCE-LINE 7807
19607 00003C2C 00000000                   DATA FOR SOURCE-LINE 7808
19608 00003C30 00000000                   DATA FOR SOURCE-LINE 7810
19609 00003C34 00000000                   DATA FOR SOURCE-LINE 7813
19610 00003C38 00000000                   DATA FOR SOURCE-LINE 7819
19611                                     ***** END-POOL *****
19612 00003C3C                   7828     EXQ_PROC_STEPRECOVER_END1       ;
19613                            7829             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
19614 00003C3C A024                   M           BRA     EXQ_PROC_STEPRECOVER_END
19615 00003C3E 0009                   M           NOP
19616                            7830     
19617                            7831     
19618                            7832     ;       ---------------------途中行程-----------------------
19619 00003C40                   7833     EXQ_PROC_STEPRECOVER_200:                       ;NO!
19620                            7834     
19621 00003C40 D109              7835             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;[HANDｼｪｲｸ中]
19622 00003C42 6011              7836             MOV.W   @R1,R0                          ;
19623 00003C44 2008              7837             TST     R0,R0                           ;
19624                            7838             TST_BIT_OF EXQ_PROC_STEPRECOVER_END     ;
19625 00003C46 891F                   M           BT      EXQ_PROC_STEPRECOVER_END
19626                            7839     
19627 00003C48 6151              7840             MOV.W   @R5,R1                          ;CPUA(自分)
19628 00003C4A 6261              7841             MOV.W   @R6,R2                          ;CPUB 2BYTE
19629                            7842     
19630                            7843     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   246
PROGRAM NAME =

19631 00003C4C 3216              7844             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
19632 00003C4E 8911              7845             BT      EXQ_PROC_STEPRECOVER_250        ;YES
19633                            7846     
19634                            7847     
19635 00003C50 D106              7848             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
19636 00003C52 6011              7849             MOV.W   @R1,R0                          ;
19637 00003C54 7001              7850             ADD     #1,R0                           ;
19638 00003C56 2101              7851             MOV.W   R0,@R1                          ;
19639                            7852     
19640 00003C58 E408              7853             MOV.B   #BIT3,R4
19641 00003C5A D105              7854             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19642 00003C5C 6011              7855             MOV.W   @R1,R0
19643 00003C5E 204A              7856             XOR     R4,R0
19644 00003C60 2101              7857             MOV.W   R0,@R1
19645                            7858             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
19646 00003C62 A011                   M           BRA     EXQ_PROC_STEPRECOVER_END
19647 00003C64 0009                   M           NOP
19648                            7859     
19649                            7860     
19650                            7861     ;       ------------- 行程変更実地
19651                                     ***** BEGIN-POOL *****
19652 00003C66 0000                       ALIGNMENT CODE
19653 00003C68 00000000                   DATA FOR SOURCE-LINE 7835
19654 00003C6C 00000000                   DATA FOR SOURCE-LINE 7848
19655 00003C70 00000000                   DATA FOR SOURCE-LINE 7854
19656                                     ***** END-POOL *****
19657 00003C74                   7862     EXQ_PROC_STEPRECOVER_250:                       ;NO!
19658 00003C74 2521              7863             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
19659                            7864     
19660                            7865     ;       ------ 必要があれば目標位置演算-------------
19661                            7866     
19662 00003C76 D106              7867             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
19663 00003C78 6011              7868             MOV.W   @R1,R0                          ;
19664 00003C7A 7001              7869             ADD     #1,R0                           ;
19665 00003C7C 2101              7870             MOV.W   R0,@R1                          ;
19666                            7871     
19667 00003C7E E404              7872             MOV.B   #BIT2,R4
19668 00003C80 D104              7873             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19669 00003C82 6011              7874             MOV.W   @R1,R0
19670 00003C84 204A              7875             XOR     R4,R0
19671 00003C86 2101              7876             MOV.W   R0,@R1
19672                            7877     
19673                            7878     
19674                            7879     
19675 00003C88                   7880     EXQ_PROC_STEPRECOVER_END:
19676                            7881     
19677                            7882             SUB_END
19678                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19679 00003C88 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19680                            7883             M_RTS
19681 00003C8A 000B                   M           RTS                             ;RTSの後ろの
19682 00003C8C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19683                            7884     
19684                            7885     
19685                            7886     
19686                            7887     
19687                            7888             .IMPORT _DNM_CYCLE_END          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   247
PROGRAM NAME =

19688                            7889             .IMPORT _CYC_END_POS_FLG_CLR
19689                            7890     
19690                            7891     ;       *******************************************
19691                            7892     ;       ***     待機点かどうかのチェック        ***
19692                            7893     ;       *******************************************
19693                            7894     ;       ANS R0
19694                            7895     ;       MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(BIT0),WKREG=R1      ;
19695                            7896     
19696                                     ***** BEGIN-POOL *****
19697 00003C8E 0000                       ALIGNMENT CODE
19698 00003C90 00000000                   DATA FOR SOURCE-LINE 7867
19699 00003C94 00000000                   DATA FOR SOURCE-LINE 7873
19700                                     ***** END-POOL *****
19701 00003C98                   7897     _RECOVER_WAIT_AREA_CHK:
19702                            7898             SUB_START
19703 00003C98 4F22                   M           STS.L   PR,@-R15                ;[必要]
19704                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19705                            7899             PUSH_REG1 R1
19706 00003C9A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19707                                 M                                           ;REG=>[SP]
19708                                 M                                           ;"-4" FF,FF,FF,FC
19709                            7900             PUSH_REG1 R2
19710 00003C9C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19711                                 M                                           ;REG=>[SP]
19712                                 M                                           ;"-4" FF,FF,FF,FC
19713                            7901             PUSH_REG1 R3
19714 00003C9E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
19715                                 M                                           ;REG=>[SP]
19716                                 M                                           ;"-4" FF,FF,FF,FC
19717                            7902             PUSH_REG1 R4
19718 00003CA0 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
19719                                 M                                           ;REG=>[SP]
19720                                 M                                           ;"-4" FF,FF,FF,FC
19721 00003CA2 233A              7903             XOR     R3,R3                           ;ANS R3=0
19722                            7904     
19723 00003CA4 D104              7905             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
19724 00003CA6 6011              7906             MOV.W   @R1,R0                          ;
19725 00003CA8 C804              7907             TST     #_DMATH_DNDRIV,R0               ;
19726                            7908             TST_BIT_OF RECOVER_WAIT_AREACHK_100     ;
19727 00003CAA 8909                   M           BT      RECOVER_WAIT_AREACHK_100
19728                            7909     
19729                            7910              .AIF   1 EQ 1  ;
19730                            7911 C   ;       -------- 2016-10-31 ADD 二重回路対策
19731                            7912              .AENDI
19732                            7913     
19733                            7914     ;;;信号変更 2016-10-31
19734 00003CAC D103              7915             MOV.L   #_DNM_RST_SPEC_AREASIG,R1
19735 00003CAE 6011              7916             MOV.W   @R1,R0                          ;
19736 00003CB0 C801              7917             TST     #BIT0,R0
19737                            7918             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
19738 00003CB2 8B0D                   M           BF      RECOVER_WAIT_AREACHK_200
19739                            7919     
19740                            7920     ;;;信号変更     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1
19741                            7921     ;;;信号変更     MOV.W   @R1,R0                          ;
19742                            7922     ;;;信号変更     MOV.W   #BIT7,R4                        ;
19743                            7923     ;;;信号変更     TST     R4,R0                           ;
19744                            7924     ;;;信号変更     TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   248
PROGRAM NAME =

19745                            7925     
19746                            7926     ;;;;記述ミス    MOV.L   #_M_LINK_AREASIG,R4             ;
19747                            7927     ;;;;記述ミス    MOV.W   @R4,R0                          ;
19748                            7928     ;;;;記述ミス    TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
19749                            7929             M_BRA   RECOVER_WAIT_AREACHK_END
19750 00003CB4 A00D                   M           BRA     RECOVER_WAIT_AREACHK_END
19751 00003CB6 0009                   M           NOP
19752                            7930     
19753                                     ***** BEGIN-POOL *****
19754 00003CB8 00000000                   DATA FOR SOURCE-LINE 7905
19755 00003CBC 00000000                   DATA FOR SOURCE-LINE 7915
19756                                     ***** END-POOL *****
19757 00003CC0                   7931     RECOVER_WAIT_AREACHK_100
19758 00003CC0 D402              7932             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲(ふりこでは使えない
                                          )
19759 00003CC2 6041              7933             MOV.W   @R4,R0                          ;
19760 00003CC4 C810              7934             TST     #BIT4,R0                        ;
19761                            7935             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
19762 00003CC6 8B03                   M           BF      RECOVER_WAIT_AREACHK_200
19763                            7936             M_BRA   RECOVER_WAIT_AREACHK_END
19764 00003CC8 A003                   M           BRA     RECOVER_WAIT_AREACHK_END
19765 00003CCA 0009                   M           NOP
19766                            7937     
19767                            7938     
19768                                     ***** BEGIN-POOL *****
19769 00003CCC 00000000                   DATA FOR SOURCE-LINE 7932
19770                                     ***** END-POOL *****
19771 00003CD0                   7939     RECOVER_WAIT_AREACHK_200
19772 00003CD0 E301              7940             MOV.B   #BIT0,R3
19773 00003CD2                   7941     RECOVER_WAIT_AREACHK_END
19774 00003CD2 6033              7942             MOV     R3,R0                           ;ANS R0=0 R0=BIT0(待機点範囲)
19775                            7943             POP_REG1 R4
19776                                 M                                   ; RE"+4" 00,00,00,04
19777 00003CD4 64F6                   M           MOV.L   @R15+,R4        ;
19778                            7944             POP_REG1 R3
19779                                 M                                   ; RE"+4" 00,00,00,04
19780 00003CD6 63F6                   M           MOV.L   @R15+,R3        ;
19781                            7945             POP_REG1 R2
19782                                 M                                   ; RE"+4" 00,00,00,04
19783 00003CD8 62F6                   M           MOV.L   @R15+,R2        ;
19784                            7946             POP_REG1 R1
19785                                 M                                   ; RE"+4" 00,00,00,04
19786 00003CDA 61F6                   M           MOV.L   @R15+,R1        ;
19787                            7947     
19788                            7948             SUB_END
19789                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19790 00003CDC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19791                            7949             M_RTS
19792 00003CDE 000B                   M           RTS                             ;RTSの後ろの
19793 00003CE0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19794                            7950     
19795                            7951     
19796                            7952     
19797                            7953     ;       *******************************************
19798                            7954     ;       ***                                     ***
19799                            7955     ;       ***                                     ***
19800                            7956     ;       ***     2016-10-31(2016-06-21)          ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   249
PROGRAM NAME =

19801                            7957     ;       ***                                     ***
19802                            7958     ;       *******************************************
19803                            7959              .AIF   1 EQ 1  ;
19804                            7960 C   ;       -------- 2016-10-31 ADD 二重回路対策
19805                            7961              .AENDI
19806                            7962     
19807 00003CE2                   7963     _DNM_OBJ_AREA_SIG2:             ;振り子の場合の目標の待機点信号
19808                            7964             SUB_START
19809 00003CE2 4F22                   M           STS.L   PR,@-R15                ;[必要]
19810                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19811                            7965     
19812 00003CE4 D10C              7966             MOV.L   #_MODE_SEL,R1                           ;
19813 00003CE6 6011              7967             MOV.W   @R1,R0                                  ;
19814 00003CE8 C81E              7968             TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
19815                            7969             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;
19816 00003CEA 893D                   M           BT      DNMOBJ_ARASIG2_150
19817                            7970     
19818 00003CEC D10B              7971             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
19819 00003CEE 6011              7972             MOV.W   @R1,R0                                  ;
19820 00003CF0 C804              7973             TST     #_DMATH_DNDRIV,R0                       ;
19821                            7974             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;ふりこじゃない
19822 00003CF2 8939                   M           BT      DNMOBJ_ARASIG2_150
19823                            7975     
19824 00003CF4 D10A              7976             MOV.L   #_BRKTST_SW_IN,R1                       ;
19825 00003CF6 6011              7977             MOV.W   @R1,R0                                  ;
19826 00003CF8 C801              7978             TST     #BIT0,R0                                ;
19827                            7979             TST_BIT_ON DNMOBJ_ARASIG2_150                   ;
19828 00003CFA 8B35                   M           BF      DNMOBJ_ARASIG2_150
19829                            7980     
19830 00003CFC D409              7981             MOV.L   #_DNM_SETX_LINK_UP_POS_DN,R4            ;ﾘﾝｸ(範囲比較)
19831 00003CFE 6141              7982             MOV.W   @R4,R1                                  ;待機点-α
19832 00003D00 D409              7983             MOV.L   #_DNM_SETX_LINK_UP_POS_UP,R4            ;
19833 00003D02 6341              7984             MOV.W   @R4,R3                                  ;待機点+α
19834 00003D04 D409              7985             MOV.L   #_INC_ENC360,R4                         ;PG
19835 00003D06 6241              7986             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
19836                            7987             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
19837 00003D08 D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19838 00003D0A 400B                   M           JSR     @R0                     ;
19839 00003D0C 0009                   M           NOP                                     ;
19840 00003D0E 4511              7988             CMP/PZ  R5                                      ;
19841 00003D10 8B10              7989             BF      DNMOBJ_ARASIG2_100                      ;
19842                            7990             M_BRA   DNMOBJ_ARASIG2_120_SET
19843 00003D12 A019                   M           BRA     DNMOBJ_ARASIG2_120_SET
19844 00003D14 0009                   M           NOP
19845                            7991     
19846                            7992     
19847                                     ***** BEGIN-POOL *****
19848 00003D16 0000                       ALIGNMENT CODE
19849 00003D18 00000000                   DATA FOR SOURCE-LINE 7966
19850 00003D1C 00000000                   DATA FOR SOURCE-LINE 7971
19851 00003D20 00000000                   DATA FOR SOURCE-LINE 7976
19852 00003D24 00000000                   DATA FOR SOURCE-LINE 7981
19853 00003D28 00000000                   DATA FOR SOURCE-LINE 7983
19854 00003D2C 00000000                   DATA FOR SOURCE-LINE 7985
19855 00003D30 00000000                   DATA FOR SOURCE-LINE 7987
19856                                     ***** END-POOL *****
19857 00003D34                   7993     DNMOBJ_ARASIG2_100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   250
PROGRAM NAME =

19858 00003D34 D407              7994             MOV.L   #_SETX_LINK_UP_POS_DN,R4                ;ﾘﾝｸ(範囲比較)
19859 00003D36 6141              7995             MOV.W   @R4,R1                                  ;待機点-α
19860 00003D38 D407              7996             MOV.L   #_SETX_LINK_UP_POS_UP,R4                ;
19861 00003D3A 6341              7997             MOV.W   @R4,R3                                  ;待機点+α
19862 00003D3C D407              7998             MOV.L   #_INC_ENC360,R4                         ;PG
19863 00003D3E 6241              7999             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
19864                            8000             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
19865 00003D40 D007                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19866 00003D42 400B                   M           JSR     @R0                     ;
19867 00003D44 0009                   M           NOP                                     ;
19868 00003D46 8B0F              8001             BF      DNMOBJ_ARASIG2_150                      ;
19869 00003D48                   8002     DNMOBJ_ARASIG2_120_SET:
19870                            8003     
19871                            8004             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(BIT0),WKREG=R1      ;
19872 00003D48 D106                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
19873 00003D4A 6011                   M           MOV.W   @R1,R0          ;
19874 00003D4C CB01                   M           OR      #(BIT0),R0              ;
19875 00003D4E 2101                   M           MOV.W   R0,@R1          ;
19876                            8005             M_BRA   DNMOBJ_ARASIG2_200
19877 00003D50 A00E                   M           BRA     DNMOBJ_ARASIG2_200
19878 00003D52 0009                   M           NOP
19879                            8006     
19880                                     ***** BEGIN-POOL *****
19881 00003D54 00000000                   DATA FOR SOURCE-LINE 7994
19882 00003D58 00000000                   DATA FOR SOURCE-LINE 7996
19883 00003D5C 00000000                   DATA FOR SOURCE-LINE 7998
19884 00003D60 00000000                   DATA FOR SOURCE-LINE 8000
19885 00003D64 00000000                   DATA FOR SOURCE-LINE 8004
19886                                     ***** END-POOL *****
19887 00003D68                   8007     DNMOBJ_ARASIG2_150:
19888                            8008     
19889                            8009             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(~BIT0),WKREG=R1    ;
19890 00003D68 D103                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
19891 00003D6A 6011                   M           MOV.W   @R1,R0          ;
19892 00003D6C C9FE                   M           AND     #LOW (~BIT0),R0         ;
19893 00003D6E 2101                   M           MOV.W   R0,@R1          ;
19894                            8010     
19895 00003D70                   8011     DNMOBJ_ARASIG2_200:
19896                            8012     
19897                            8013             SUB_END
19898                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19899 00003D70 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19900                            8014             M_RTS
19901 00003D72 000B                   M           RTS                             ;RTSの後ろの
19902 00003D74 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19903                            8015     
19904                            8016     
19905                            8017     ;       *******************************************
19906                            8018     ;       ***                                     ***
19907                            8019     ;       ***     EXQ発生時　ﾊﾝﾄﾞｼｪｲｸ中かﾁｪｯｸ     ***
19908                            8020     ;       ***     2016-01-10[]                    ***
19909                            8021     ;       ***     2016-04-15                      ***
19910                            8022     ;       *******************************************
19911                            8023             .EXPORT _API_EXQ_STEP_STS_GET
19912                                     ***** BEGIN-POOL *****
19913 00003D76 0000                       ALIGNMENT CODE
19914 00003D78 00000000                   DATA FOR SOURCE-LINE 8009
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   251
PROGRAM NAME =

19915                                     ***** END-POOL *****
19916 00003D7C                   8024     _API_EXQ_STEP_STS_GET
19917                            8025             SUB_START
19918 00003D7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19919                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19920                            8026     
19921 00003D7E D106              8027             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
19922 00003D80 6011              8028             MOV.W   @R1,R0                          ;
19923 00003D82 2008              8029             TST     R0,R0                           ;
19924                            8030             TST_BIT_ON API_EXQ_STEP_STSGET_EXT      ;
19925 00003D84 8B05                   M           BF      API_EXQ_STEP_STSGET_EXT
19926 00003D86 E001              8031             MOV.B   #BIT0,R0                        ;
19927 00003D88 2101              8032             MOV.W   R0,@R1                          ;
19928                            8033     
19929 00003D8A D104              8034             MOV.L   #_CMPSTEP_STEP_END,R1   ;(HAND)
19930 00003D8C 6011              8035             MOV.W   @R1,R0                          ;
19931 00003D8E D104              8036             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
19932 00003D90 2101              8037             MOV.W   R0,@R1                          ;
19933                            8038     
19934                            8039     
19935 00003D92                   8040     API_EXQ_STEP_STSGET_EXT
19936                            8041     
19937                            8042             SUB_END
19938                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19939 00003D92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19940                            8043             M_RTS
19941 00003D94 000B                   M           RTS                             ;RTSの後ろの
19942 00003D96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19943                            8044     
19944                            8045     
19945                            8046     ;       *******************************************
19946                            8047     ;       ***                                     ***
19947                            8048     ;       ***     クリア                          ***
19948                            8049     ;       ***     2016-01-10                      ***
19949                            8050     ;       *******************************************
19950                            8051             .EXPORT _API_EXQ_STEP_FLGCLR
19951                                     ***** BEGIN-POOL *****
19952 00003D98 00000000                   DATA FOR SOURCE-LINE 8027
19953 00003D9C 00000000                   DATA FOR SOURCE-LINE 8034
19954 00003DA0 00000000                   DATA FOR SOURCE-LINE 8036
19955                                     ***** END-POOL *****
19956 00003DA4                   8052     _API_EXQ_STEP_FLGCLR
19957                            8053             SUB_START
19958 00003DA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
19959                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19960 00003DA6 200A              8054             XOR     R0,R0
19961 00003DA8 D103              8055             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
19962 00003DAA 2101              8056             MOV.W   R0,@R1                          ;
19963 00003DAC D103              8057             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
19964 00003DAE 2101              8058             MOV.W   R0,@R1                          ;
19965                            8059     
19966                            8060             SUB_END
19967                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19968 00003DB0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19969                            8061             M_RTS
19970 00003DB2 000B                   M           RTS                             ;RTSの後ろの
19971 00003DB4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   252
PROGRAM NAME =

19972                            8062     
19973                            8063     
19974                            8064     
19975                            8065     ;       *******************************************
19976                            8066     ;       ***                                     ***
19977                            8067     ;       ***     リセット処理                    ***
19978                            8068     ;       ***     2016-10-31(2016-05-11)          ***
19979                            8069     ;       ***                                     ***
19980                            8070     ;       *******************************************
19981                            8071              .AIF   1 EQ 1  ;
19982                            8072 C   ;       -------- 2016-10-31 ADD 二重回路対策
19983                            8073              .AENDI
19984                                     ***** BEGIN-POOL *****
19985 00003DB6 0000                       ALIGNMENT CODE
19986 00003DB8 00000000                   DATA FOR SOURCE-LINE 8055
19987 00003DBC 00000000                   DATA FOR SOURCE-LINE 8057
19988                                     ***** END-POOL *****
19989 00003DC0                   8074     _POSCTRL_CANSEL_RESET:
19990                            8075             SUB_START
19991 00003DC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
19992                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19993 00003DC2 D10E              8076             MOV.L   #_POSCANSEL_CMD,R1              ;
19994 00003DC4 6011              8077             MOV.W   @R1,R0                          ;
19995 00003DC6 2008              8078             TST     R0,R0                           ;
19996                            8079             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
19997 00003DC8 8913                   M           BT      POSCTRL_CANSEL_RST_EXT
19998                            8080     
19999 00003DCA D10D              8081             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
20000 00003DCC 6011              8082             MOV.W   @R1,R0                          ;
20001 00003DCE 9413              8083             MOV.W   #BIT11,R4                       ;
20002 00003DD0 2048              8084             TST     R4,R0                           ;指令OFF
20003                            8085             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;
20004 00003DD2 8B0E                   M           BF      POSCTRL_CANSEL_RST_EXT
20005                            8086     
20006 00003DD4 D10B              8087             MOV.L   #_di1_cb_ctl1_dt,R1             ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼ
                                          ｰｹﾝｽがﾘｾｯﾄでｸﾘｱするため)
20007 00003DD6 6011              8088             MOV.W   @R1,R0                          ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFし
                                          ない)
20008 00003DD8 940F              8089             MOV.W   #_W1RST,R4                      ;ﾘｾｯﾄ釦
20009 00003DDA 2048              8090             TST     R4,R0                           ;ONｴｯｼﾞ
20010                            8091             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
20011 00003DDC 8909                   M           BT      POSCTRL_CANSEL_RST_EXT
20012                            8092     
20013 00003DDE 200A              8093             XOR     R0,R0                           ;
20014 00003DE0 D106              8094             MOV.L   #_POSCANSEL_CMD,R1              ;
20015 00003DE2 2101              8095             MOV.W   R0,@R1                          ;
20016                            8096     
20017 00003DE4 D108              8097             MOV.L   #_reset_flg,R1                  ;
20018 00003DE6 6011              8098             MOV.W   @R1,R0                          ;
20019 00003DE8 2008              8099             TST     R0,R0                           ;
20020                            8100             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;EXQ,EMG
20021 00003DEA 8B02                   M           BF      POSCTRL_CANSEL_RST_EXT
20022                            8101     
20023                            8102             FAR_JSR #_POSCAN_PROC_STEP_RECOVER,R0   ;
20024 00003DEC D007                   M           MOV.L   #_POSCAN_PROC_STEP_RECOVER,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20025 00003DEE 400B                   M           JSR     @R0                     ;
20026 00003DF0 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   253
PROGRAM NAME =

20027                            8103     
20028                            8104     
20029 00003DF2                   8105     POSCTRL_CANSEL_RST_EXT:
20030                            8106     
20031                            8107             SUB_END
20032                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20033 00003DF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20034                            8108             M_RTS
20035 00003DF4 000B                   M           RTS                             ;RTSの後ろの
20036 00003DF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20037                            8109     
20038                            8110     
20039                            8111     
20040                            8112     ;       *******************************************
20041                            8113     ;       ***                                     ***
20042                            8114     ;       ***                                     ***
20043                            8115     ;       ***                                     ***
20044                            8116     ;       ***     EXQ,遮光による行程違いのRECOVER ***
20045                            8117     ;       ***     2016-10-31                      ***
20046                            8118     ;       ***                                     ***
20047                            8119     ;       ***                                     ***
20048                            8120     ;       *******************************************
20049                            8121     ;       リセット時に行う
20050                            8122     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
20051                            8123     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
20052                            8124     ;       このリカバーはハンドシェイク時のみのリカバーとする
20053                            8125              .AIF   1 EQ 1  ;
20054                            8126 C   ;       -------- 2016-10-31 ADD 二重回路対策
20055                            8127              .AENDI
20056                            8128     
20057                            8129     
20058                                     ***** BEGIN-POOL *****
20059 00003DF8 0800                       DATA FOR SOURCE-LINE 8083
20060 00003DFA 8000                       DATA FOR SOURCE-LINE 8089
20061 00003DFC 00000000                   DATA FOR SOURCE-LINE 8076,8094
20062 00003E00 00000000                   DATA FOR SOURCE-LINE 8081
20063 00003E04 00000000                   DATA FOR SOURCE-LINE 8087
20064 00003E08 00000000                   DATA FOR SOURCE-LINE 8097
20065 00003E0C 00000000                   DATA FOR SOURCE-LINE 8102
20066                                     ***** END-POOL *****
20067 00003E10                   8130     _POSCAN_PROC_STEP_RECOVER:
20068                            8131             SUB_START
20069 00003E10 4F22                   M           STS.L   PR,@-R15                ;[必要]
20070                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20071                            8132     
20072                            8133     
20073 00003E12 D115              8134             MOV.L   #_MODE_SEL,R1                           ;
20074 00003E14 6011              8135             MOV.W   @R1,R0                                  ;
20075                            8136     
20076 00003E16 9426              8137             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
20077 00003E18 2048              8138             TST     R4,R0                                   ;
20078                            8139             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1
20079 00003E1A 8953                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20080                            8140     
20081 00003E1C D113              8141             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20082 00003E1E 6011              8142             MOV.W   @R1,R0                                  ;
20083 00003E20 C805              8143             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   254
PROGRAM NAME =

20084                            8144             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;
20085 00003E22 894F                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20086                            8145     
20087                            8146     
20088                            8147     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
20089 00003E24 D112              8148             MOV.L   #_EXQ_LT_PROC_CNT1,R1
20090 00003E26 6011              8149             MOV.W   @R1,R0
20091 00003E28 7001              8150             ADD     #1,R0
20092 00003E2A 2101              8151             MOV.W   R0,@R1
20093                            8152     
20094 00003E2C E401              8153             MOV.B   #BIT0,R4
20095 00003E2E D111              8154             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20096 00003E30 6011              8155             MOV.W   @R1,R0
20097 00003E32 204A              8156             XOR     R4,R0
20098 00003E34 2101              8157             MOV.W   R0,@R1
20099                            8158     
20100                            8159     
20101                            8160     ;---------------------------------------------------------
20102                            8161     ;切替条件
20103                            8162     ;       (1)R1:自分が0(emg)でない
20104                            8163     ;       (1)R2:相手も0(emg)でない
20105                            8164     ;         (2-1)自分が最終行程の場合
20106                            8165     ;               (3-1)待機点範囲の場合
20107                            8166     ;                       相手CPUが0または1の場合　
20108                            8167     ;                       自分はEMG処理相当を行う(行程1からはじめる)
20109                            8168     ;               (3-2)待機点範囲でない場合:演算しない
20110                            8169     ;         (2-2)自分が最終行程でない場合
20111                            8170     ;               自分<相手であれば行程を入れ替える
20112                            8171     
20113                            8172             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
20114 00003E36 D010                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20115 00003E38 400B                   M           JSR     @R0                     ;
20116 00003E3A 0009                   M           NOP                                     ;
20117 00003E3C 6303              8173             MOV     R0,R3                           ;R3!=0:待機点
20118                            8174     
20119 00003E3E D50F              8175             MOV.L   #_SV_POS_CTL_STEP,R5            ;
20120 00003E40 6151              8176             MOV.W   @R5,R1                          ;自分
20121                            8177             .AIF    1 EQ    0
20122                            8178             MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
20123                            8179             .AELSE
20124 00003E42 D60F              8180 C           MOV.L   #_CPUA_SV_STEP,R6               ;
20125                            8181             .AENDI
20126 00003E44 6261              8182             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
20127 00003E46 2118              8183             TST     R1,R1                           ;CPUA(自分)
20128                            8184             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;[次の工程は１行程から行う]
20129 00003E48 893C                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20130                            8185     
20131 00003E4A 2338              8186             TST     R3,R3                           ;待機点？
20132                            8187             TST_BIT_OF POSCAN_PROCSTEPRECOVER_200   ;NO!
20133 00003E4C 893C                   M           BT      POSCAN_PROCSTEPRECOVER_200
20134                            8188     
20135 00003E4E D40D              8189             MOV.L   #_CPOS_STEP_MAX,R4              ;
20136 00003E50 6041              8190             MOV.W   @R4,R0                          ;
20137 00003E52 7001              8191             ADD     #1,R0                           ;
20138 00003E54 3010              8192             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
20139 00003E56 8B35              8193             BF      POSCAN_PROCSTEPRECOVER_END1     ;NO!(待機点だが最終ステップではない)
20140                            8194     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   255
PROGRAM NAME =

20141                            8195     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
20142 00003E58 E001              8196             MOV.B   #1,R0                           ;
20143 00003E5A 2228              8197             TST     R2,R2                           ;
20144                            8198             TST_BIT_OF POSCAN_PROCSTEPRECOVER_100   ;(R2=0:次の工程は0から YES:EMG)
20145 00003E5C 8914                   M           BT      POSCAN_PROCSTEPRECOVER_100
20146                            8199     
20147 00003E5E 3200              8200             CMP/EQ  R0,R2                           ;
20148 00003E60 8912              8201             BT      POSCAN_PROCSTEPRECOVER_100      ;相手CPU=1です
20149                            8202             M_BRA   POSCAN_PROCSTEPRECOVER_END1     ;
20150 00003E62 A02F                   M           BRA     POSCAN_PROCSTEPRECOVER_END1
20151 00003E64 0009                   M           NOP
20152                            8203     
20153                            8204     ;
20154                            8205     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
20155                            8206     ;待機点での方向変更処理が必要
20156                            8207     ;       「EMGと同じ処理」
20157                                     ***** BEGIN-POOL *****
20158 00003E66 001E                       DATA FOR SOURCE-LINE 8137
20159 00003E68 00000000                   DATA FOR SOURCE-LINE 8134
20160 00003E6C 00000000                   DATA FOR SOURCE-LINE 8141
20161 00003E70 00000000                   DATA FOR SOURCE-LINE 8148
20162 00003E74 00000000                   DATA FOR SOURCE-LINE 8154
20163 00003E78 00000000                   DATA FOR SOURCE-LINE 8172
20164 00003E7C 00000000                   DATA FOR SOURCE-LINE 8175
20165 00003E80 00000000                   DATA FOR SOURCE-LINE 8180
20166 00003E84 00000000                   DATA FOR SOURCE-LINE 8189
20167                                     ***** END-POOL *****
20168 00003E88                   8208     POSCAN_PROCSTEPRECOVER_100:
20169                            8209             FAR_JSR #_DNM_CYCLE_END,R0              ;
20170 00003E88 D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20171 00003E8A 400B                   M           JSR     @R0                     ;
20172 00003E8C 0009                   M           NOP                                     ;
20173                            8210             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
20174 00003E8E D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20175 00003E90 400B                   M           JSR     @R0                     ;
20176 00003E92 0009                   M           NOP                                     ;
20177                            8211             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
20178 00003E94 D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20179 00003E96 400B                   M           JSR     @R0                     ;
20180 00003E98 0009                   M           NOP                                     ;
20181                            8212     
20182                            8213     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
20183 00003E9A D108              8214             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
20184 00003E9C 6011              8215             MOV.W   @R1,R0                          ;
20185 00003E9E 7001              8216             ADD     #1,R0                           ;
20186 00003EA0 2101              8217             MOV.W   R0,@R1                          ;
20187                            8218     
20188 00003EA2 E402              8219             MOV.B   #BIT1,R4
20189 00003EA4 D106              8220             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20190 00003EA6 6011              8221             MOV.W   @R1,R0
20191 00003EA8 204A              8222             XOR     R4,R0
20192 00003EAA 2101              8223             MOV.W   R0,@R1
20193                            8224     ;       ------ﾃﾞﾊﾞｯｸ--------
20194                            8225             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20195 00003EAC A033                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20196 00003EAE 0009                   M           NOP
20197                            8226     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   256
PROGRAM NAME =

20198                            8227     
20199                            8228     ;       ==============================================
20200                                     ***** BEGIN-POOL *****
20201 00003EB0 00000000                   DATA FOR SOURCE-LINE 8209
20202 00003EB4 00000000                   DATA FOR SOURCE-LINE 8210
20203 00003EB8 00000000                   DATA FOR SOURCE-LINE 8211
20204 00003EBC 00000000                   DATA FOR SOURCE-LINE 8214
20205 00003EC0 00000000                   DATA FOR SOURCE-LINE 8220
20206                                     ***** END-POOL *****
20207 00003EC4                   8229     POSCAN_PROCSTEPRECOVER_END1     ;
20208                            8230             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20209 00003EC4 A027                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20210 00003EC6 0009                   M           NOP
20211                            8231     
20212                            8232     
20213                            8233     ;       ---------------------途中行程-----------------------
20214 00003EC8                   8234     POSCAN_PROCSTEPRECOVER_200:                     ;NO!
20215 00003EC8 6151              8235             MOV.W   @R5,R1                          ;CPUA(自分)
20216 00003ECA 6261              8236             MOV.W   @R6,R2                          ;CPUB 2BYTE
20217                            8237     
20218 00003ECC 3216              8238             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
20219 00003ECE 890F              8239             BT      POSCAN_PROCSTEPRECOVER_250      ;YES
20220                            8240     
20221                            8241     
20222 00003ED0 D105              8242             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
20223 00003ED2 6011              8243             MOV.W   @R1,R0                          ;
20224 00003ED4 7001              8244             ADD     #1,R0                           ;
20225 00003ED6 2101              8245             MOV.W   R0,@R1                          ;
20226                            8246     
20227 00003ED8 E408              8247             MOV.B   #BIT3,R4
20228 00003EDA D104              8248             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20229 00003EDC 6011              8249             MOV.W   @R1,R0
20230 00003EDE 204A              8250             XOR     R4,R0
20231 00003EE0 2101              8251             MOV.W   R0,@R1
20232                            8252             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20233 00003EE2 A018                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20234 00003EE4 0009                   M           NOP
20235                            8253     
20236                            8254     
20237                            8255     ;       ------------- 行程変更実地
20238                                     ***** BEGIN-POOL *****
20239 00003EE6 0000                       ALIGNMENT CODE
20240 00003EE8 00000000                   DATA FOR SOURCE-LINE 8242
20241 00003EEC 00000000                   DATA FOR SOURCE-LINE 8248
20242                                     ***** END-POOL *****
20243 00003EF0                   8256     POSCAN_PROCSTEPRECOVER_250:                     ;NO!
20244                            8257     ;       -------2016-07-16---------------
20245                            8258             PUSH_REG1 R2
20246 00003EF0 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20247                                 M                                           ;REG=>[SP]
20248                                 M                                           ;"-4" FF,FF,FF,FC
20249                            8259             PUSH_REG1 R5
20250 00003EF2 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
20251                                 M                                           ;REG=>[SP]
20252                                 M                                           ;"-4" FF,FF,FF,FC
20253                            8260             FAR_JSR #_ROT_CNTMODE_CHK,R0
20254 00003EF4 D009                   M           MOV.L   #_ROT_CNTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   257
PROGRAM NAME =

20255 00003EF6 400B                   M           JSR     @R0                     ;
20256 00003EF8 0009                   M           NOP                                     ;
20257                            8261             POP_REG1 R5
20258                                 M                                   ; RE"+4" 00,00,00,04
20259 00003EFA 65F6                   M           MOV.L   @R15+,R5        ;
20260                            8262             POP_REG1 R2
20261                                 M                                   ; RE"+4" 00,00,00,04
20262 00003EFC 62F6                   M           MOV.L   @R15+,R2        ;
20263                            8263     ;       -------------------------------
20264                            8264     
20265 00003EFE 2008              8265             TST     R0,R0
20266                            8266             TST_BIT_ON POSCAN_PROCSTEPRECOVER_END   ;
20267 00003F00 8B09                   M           BF      POSCAN_PROCSTEPRECOVER_END
20268                            8267     
20269 00003F02 2521              8268             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
20270                            8269     
20271                            8270     ;       ------ 必要があれば目標位置演算-------------
20272 00003F04 D106              8271             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
20273 00003F06 6011              8272             MOV.W   @R1,R0                          ;
20274 00003F08 7001              8273             ADD     #1,R0                           ;
20275 00003F0A 2101              8274             MOV.W   R0,@R1                          ;
20276                            8275     
20277 00003F0C E404              8276             MOV.B   #BIT2,R4
20278 00003F0E D105              8277             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20279 00003F10 6011              8278             MOV.W   @R1,R0
20280 00003F12 204A              8279             XOR     R4,R0
20281 00003F14 2101              8280             MOV.W   R0,@R1
20282                            8281     
20283                            8282     
20284 00003F16                   8283     POSCAN_PROCSTEPRECOVER_END:
20285                            8284     
20286                            8285             SUB_END
20287                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20288 00003F16 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20289                            8286             M_RTS
20290 00003F18 000B                   M           RTS                             ;RTSの後ろの
20291 00003F1A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20292                            8287     
20293                                     ***** BEGIN-POOL *****
20294 00003F1C 00000000                   DATA FOR SOURCE-LINE 8260
20295 00003F20 00000000                   DATA FOR SOURCE-LINE 8271
20296 00003F24 00000000                   DATA FOR SOURCE-LINE 8277
20297                                     ***** END-POOL *****
20298 00003F28                   8288     _ROT_CNTMODE_CHK:
20299                            8289             SUB_START
20300 00003F28 4F22                   M           STS.L   PR,@-R15                ;[必要]
20301                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20302                            8290     
20303 00003F2A 9416              8291             MOV.W   #1,R4   ;
20304 00003F2C 3140              8292             CMP/EQ  R4,R1   ;自分はSTEP1
20305 00003F2E 8B1F              8293             BF      ROT_CNTMODCHK_100               ;変更可能(自分が1でない)
20306                            8294     
20307 00003F30 D40B              8295             MOV.L   #_CPOS_STEP_MAX,R4              ;
20308 00003F32 6041              8296             MOV.W   @R4,R0                          ;
20309 00003F34 7001              8297             ADD     #1,R0                           ;
20310 00003F36 3020              8298             CMP/EQ  R2,R0                           ;相手が最終行程
20311 00003F38 8B1A              8299             BF      ROT_CNTMODCHK_100               ;変更可能(相手が最終ｽﾃｯﾌﾟではない)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   258
PROGRAM NAME =

20312                            8300     
20313 00003F3A D10A              8301             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
20314 00003F3C 6011              8302             MOV.W   @R1,R0                          ;
20315 00003F3E C801              8303             TST     #(_DMATH_CNTROT),R0             ;回転
20316                            8304             TST_BIT_OF ROT_CNTMODCHK_100            ;NO! 変更可能
20317 00003F40 8916                   M           BT      ROT_CNTMODCHK_100
20318                            8305     
20319                            8306     ;待機点Vﾓｰﾄﾞ
20320 00003F42 D109              8307             MOV.L   #_SETX_POS_MOD_FLG1,R1          ;
20321 00003F44 6011              8308             MOV.W   @R1,R0                          ;
20322 00003F46 C905              8309             AND     #(BIT2+BIT0),R0                 ;
20323 00003F48 8805              8310             CMP/EQ  #(BIT2+BIT0),R0                 ;
20324 00003F4A 8B11              8311             BF      ROT_CNTMODCHK_100               ;回転,連続で待機点停止無し? NO
20325                            8312     
20326                            8313     
20327 00003F4C D107              8314             MOV.L   #_LINK_CLANK_PV,R1              ;
20328 00003F4E 6011              8315             MOV.W   @R1,R0                          ;
20329 00003F50 9404              8316             MOV.W   #D'600,R4                       ;60.0
20330 00003F52 3042              8317             CMP/HS  R4,R0                           ;
20331 00003F54 890C              8318             BT      ROT_CNTMODCHK_100               ;60<ｸﾗﾝｸ角度が大きい
20332                            8319             M_BRA   ROT_CNTMODCHK_200               ;0~60度だ.
20333 00003F56 A00E                   M           BRA     ROT_CNTMODCHK_200
20334 00003F58 0009                   M           NOP
20335                            8320     
20336                                     ***** BEGIN-POOL *****
20337 00003F5A 0001                       DATA FOR SOURCE-LINE 8291
20338 00003F5C 0258                       DATA FOR SOURCE-LINE 8316
20339 00003F5E 0000                       ALIGNMENT CODE
20340 00003F60 00000000                   DATA FOR SOURCE-LINE 8295
20341 00003F64 00000000                   DATA FOR SOURCE-LINE 8301
20342 00003F68 00000000                   DATA FOR SOURCE-LINE 8307
20343 00003F6C 00000000                   DATA FOR SOURCE-LINE 8314
20344                                     ***** END-POOL *****
20345 00003F70                   8321     ROT_CNTMODCHK_100:
20346 00003F70 200A              8322             XOR     R0,R0                   ;変更する
20347                            8323             M_BRA   ROT_CNTMODCHK_END       ;
20348 00003F72 A001                   M           BRA     ROT_CNTMODCHK_END
20349 00003F74 0009                   M           NOP
20350                            8324     
20351 00003F76                   8325     ROT_CNTMODCHK_200:
20352 00003F76 E001              8326             MOV.B   #1,R0                   ;変更しない
20353 00003F78                   8327     ROT_CNTMODCHK_END:
20354                            8328             SUB_END
20355                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20356 00003F78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20357                            8329             M_RTS
20358 00003F7A 000B                   M           RTS                             ;RTSの後ろの
20359 00003F7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20360                            8330     
20361                            8331     
20362                            8332     
20363                            8333             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   259

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ANTI_CHK_0100                    P             000006E2   7655*
ANTI_CHK_0130                    P             00000714   7685  7694*
ANTI_CHK_0150                    P             00000740   7653  7715*
ANTI_CHK_0500                    P             00000760   7632  7743*
ANTI_CHK_EXIT                    P             00000774   7642  7699  7723  7730  7748  7758*
API_EXQ_STEP_STSGET_EXT          P             00003D92  19925 19935*
BIT0                                      EQU  00000001     15* 2029  2333  2348  6267  6291  6323  6644  6704  6721  6753  6767 
                                                          6869  7070  7299  7350  7380  7388  7397  7502  7666  7688  7727  7746 
                                                          7813  7836  7907  7971  8074  8165  8291  8521  8681  9220  9351  9393 
                                                          9663  9839 10015 10022 10179 10209 10265 10318 10334 10482 10526 10580 
                                                         10642 10658 10745 10752 11827 11885 12167 12250 12415 12443 12461 12683 
                                                         12684 12708 12709 12740 12857 13193 13262 13323 13471 13903 13993 14062 
                                                         14085 14151 14166 14299 14513 14807 14818 15280 15293 15516 15533 15559 
                                                         15592 16048 16055 16138 16183 16399 16424 16604 16625 16669 16675 16804 
                                                         16818 16833 16998 17019 17027 17106 17196 17201 17272 17298 17316 17483 
                                                         17558 17630 18289 18295 18334 18340 18385 18584 18592 18864 19469 19736 
                                                         19772 19826 19874 19892 19926 20094 20322 20323 
BIT1                                      EQU  00000002     16* 2030  2334  2349  6361  6449  6721  6753  6767  7070  7510  7825 
                                                          7851  8876  8972  9122  9220  9549  9947 10412 10539 10596 10686 10836 
                                                         10843 10887 10935 10970 11035 12164 12222 12250 12415 12443 12461 13341 
                                                         13352 13488 13500 14299 15280 15684 15757 15783 16630 16669 16862 16966 
                                                         17187 17566 17582 18229 19164 19593 20188 
BIT10                                     EQU  00000400     25* 2359  7089  7123  7187 10298 12559 13962 16828 16830 16877 16973 
                                                         19158 
BIT11                                     EQU  00000800     26* 2360  7089  7134  8899  9434 10451 11011 13105 14744 14765 16828 
                                                         16849 16877 16979 19193 20001 
BIT12                                     EQU  00001000     27* 2365  7089  7139  8899  9434 13105 15232 15952 17139 17410 17418 
                                                         17616 17642 17779 17980 
BIT13                                     EQU  00002000     28* 2366  7089  7118 13996 15952 17678 
BIT14                                     EQU  00004000     29* 2367  7089  9206 15871 15952 16662 19273 19343 
BIT15                                     EQU  00008000     30* 2368 13962 13975 14479 14574 15871 15952 16753 16916 19240 19365 
                                                         19388 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2031  2335  2350  2370  6353  6549  6721  7070  7523  9357  9578 
                                                          9914 10049 10233 10386 10476 10576 10771 10860 10923 12546 13368 13380 
                                                         13516 13528 14299 14634 15681 15794 15810 15832 16852 17562 17625 18807 
                                                         19270 19667 20277 20322 20323 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2032  2336  2351  2371  6721  7070  7223  7535  8227  8611  9470 
                                                          9486 10961 11234 14299 15670 15861 16339 18911 19270 19640 20227 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   260

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT4                                      EQU  00000010     19* 2337  2352  2372  6721  6919  6973  6994  7070  7548  9444 10957 
                                                         10964 11841 11846 12268 12683 12684 12708 12709 12857 14096 14299 15449 
                                                         15878 16548 16985 18168 18183 19127 19270 19760 
BIT5                                      EQU  00000020     20* 2338  2353  2373  6721  7070  7561 11846 12024 12268 13975 14299 
                                                         14306 15080 15086 15143 15149 15598 15832 15886 16386 16392 18750 19152 
BIT6                                      EQU  00000040     21* 2339  2354  2374  6721  7070  7572 14062 14153 14299 15598 15599 
                                                         15854 15911 16985 17206 17593 17717 17980 18766 19187 
BIT7                                      EQU  00000080     22* 2340  2355  2375  6923  7651  7683 11212 13032 15546 15644 16990 
                                                         17587 17635 17717 17980 18168 18613 18936 19236 
BIT8                                      EQU  00000100     23* 2341  2356  7205  7227  9814  9873 13112 16990 17132 17642 17746 
                                                         17980 18962 
BIT9                                      EQU  00000200     24* 2342  2357  7205  9814 11220 13131 19052 19066 19152 19187 
BRKTST_CHKDTMK_100               P             00002D66  16488 16490*
BRKTST_CTL_050                   P             000028B4  15542 15549*
BRKTST_CTL_090                   P             000028C8  15535 15548 15557 15570*
BRKTST_CTL_100                   P             000028EC  15518 15588*
BRKTST_CTL_150                   P             00002938  15600 15642*
BRKTST_CTL_190                   P             00002942  15629 15655*
BRKTST_CTL_200                   P             00002950  15594 15666*
BRKTST_CTL_220                   P             00002960  15672 15680*
BRKTST_CTL_250                   P             0000297C  15699 15709*
BRKTST_CTL_260                   P             0000299C  15719 15735*
BRKTST_CTL_290                   P             000029BE  15701 15717 15727 15742 15744 15759*
BRKTST_CTL_300                   P             000029D4  15686 15772*
BRKTST_CTL_350                   P             00002A08  15785 15807*
BRKTST_CTL_360                   P             00002A1A  15812 15822*
BRKTST_CTL_390                   P             00002A2A  15797 15820 15834*
BRKTST_CTL_400                   P             00002A40  15683 15850*
BRKTST_CTL_450                   P             00002A62  15874 15882*
BRKTST_CTL_490                   P             00002A6A  15856 15880 15889*
BRKTST_CTL_500                   P             00002A7C  15674 15902*
BRKTST_CTL_900                   P             00002A9C  15572 15657 15761 15836 15891 15914 15926*
BRKTST_CTL_950                   P             00002AC4  15948 15955*
BRKTST_INPUTMK_100               P             00002B40  16033 16039 16050 16072*
BRKTST_INPUTMK_200               P             00002B4A  16062 16079*
BRKTST_MOD_CF_END                P             00002AF0  16002 16005*
BRKTST_RDYCHK_END                P             00002C34  16258 16275*
BRKTST_RDYCHK_OFF                P             00002C2C  16179 16185 16237 16268*
BRKTST_RDYCHK_ON                 P             00002C10  16239 16247*
BRKTST_RDYCHK_START_WAIT         P             00002C32  16212 16273*
BRKTST_RDYCK_0198                P             00002BD2  16205 16210*
BRKTST_RDYCK_0200                P             00002BFC  16168 16230*
BRKTST_RDY_SFTY_MASK2CHK055      P             00002B74  16120 16134*
BRKTST_RDY_SFTY_MASK2CHK060      P             00002B90  16140 16155*
BRKTST_RDY_SFTY_MASK2CHK100      P             00002B96  16127 16147 16160*
BRKTST_SPDCHK_100                P             00002DB6  16543 16551*
BRKTST_STOPSIG_MK300             P             00002E0C  16606 16621 16633*
BRKTST_STR_POW_100               P             00002CF2  16421 16434*
BRK_RDY_ON_CF_998                P             00002E40  16680*
BRK_RDY_ON_CF_999                P             00002E54  16665 16671 16677 16692*
BRK_RDY_ON_CF_EXT                P             00002E56  16683 16694*
BTTN_DRVSEP_CHK_CLR              P             00000E78   9359  9369*
BTTN_DRVSEP_CHK_END              P             00000E7E   9353  9373*
BTTN_START_CK100                 P             00000E92   9395  9405*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   261

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BTTN_START_CK150                 P             00000EBC   9412  9428*
BTTN_START_CK180                 P             00000ECE   9437  9447*
BTTN_START_CK190                 P             00000EE0   9446  9460*
BTTN_START_CK192                 P             00000F00   9465  9481*
BTTN_START_CK195                 P             00000F0A   9474  9489*
BTTN_START_CK200                 P             00000F24   9496  9507*
BTTN_START_CK220                 P             00000F26   9415  9450  9509*
BTTN_START_CK300                 P             00000F2A   9498  9514*
BTTN_START_CK320                 P             00000F68   9545  9551  9573*
BTTN_START_CK350                 P             00000F94   9580  9608*
BTTN_START_CK550                 P             00000FA4   9561  9589  9598  9622*
BTTN_START_CK570                 P             00000FAA   9361  9559  9615  9627*
BTTN_START_CK599                 P             00000FB0   9519  9596  9613  9632*
BTTN_START_CKEXT                 P             00000FB2   9625  9630  9634*
CMPAB_NEAR_END_PC_100            P             00001F50  13322 13339*
CMPAB_NEAR_END_PC_200            P             00001F78  13343 13366*
CMPAB_NEAR_END_PC_ED             P             00001F9A  13385 13393*
CMPAB_NEAR_END_PC_NG             P             00001F98  13330 13350 13359 13378 13391*
CMPAB_NEAR_END_PC_OK             P             00001F8E  13370 13382*
CNT_SPM_DSPCK050                 P             00001F18  13255 13260 13266*
CONT_LOT_CHK050                  P             00001CEC  12761 12764*
CONT_MD_CHK050                   P             00001E68  13115 13129*
CONT_MD_CHK100                   P             00001E72  13100 13108 13119 13134 13137*
CTRL_UP_HOLD_CK_200              P             00001A5C  11984 11999*
CTRL_UP_HOLD_CK_300              P             00001A64  12002 12008*
CTRL_UP_HOLD_CK_400              P             00001A70  11986 12004 12011 12020*
CTRL_UP_HOLD_CK_700              P             00001A84  12015 12028 12035*
CTRL_UP_HOLD_CK_END              P             00001A8C  11961 12017 12026 12030 12048*
CTRL_UP_HOLD_CK_ST00             P             00001998  11809 11824*
CTRL_UP_HOLD_CK_ST20             P             000019A8  11829 11837*
CTRL_UP_HOLD_CK_ST40             P             000019B8  11843 11848*
CTRL_UP_HOLD_CK_ST50             P             000019D4  11870 11881*
CTRL_UP_HOLD_CK_STAA             P             0000198A  11803 11810*
CTRL_UP_HOLD_CK_ST_EXT           P             000019DC  11812 11831 11855 11879 11895*
CTRL_UP_LOT_CK_200               P             00001DB0  12910 12924*
CTRL_UP_LOT_CK_300               P             00001DB8  12927 12933*
CTRL_UP_LOT_CK_400               P             00001DC4  12929 12936 12946*
CTRL_UP_LOT_CK_700               P             00001DCC  12940 12949 12953*
CTRL_UP_LOT_CK_END               P             00001DD4  12886 12912 12942 12951 12963*
CW_CCW_ESTEPTMCHK_010            P             00001928  11707 11715*
CW_CCW_ESTEPTMCHK_100            P             00001952  11742 11744 11748 11751*
CW_CCW_ESTEPTMCHK_200            P             0000195E  11755 11757 11762*
CW_CCW_ESTEPTMCHK_LOP            P             0000193C  11734*11766 
CW_CCW_ESTEPTMCHK_LOPEND         P             00001970  11709 11737 11773*
CW_CCW_ESTEPTMCHK_START          P             00001918  11698 11702*
CW_CCW_ESTEP_LOP000              P             000018C0  11623*11693 
CW_CCW_ESTEP_LOP050              P             000018CE  11630 11633*
CW_CCW_ESTEP_LOP150              P             000018F0  11640 11658*
CW_CCW_ESTEP_LOP300              P             000018FC  11637 11672*
CW_CCW_ESTEP_LOP320              P             00001902  11675 11678*
CW_CCW_ESTEP_LOP340              P             00001908  11682 11686*
CW_CCW_ESTEP_LOP400              P             0000190A  11645 11649 11662 11666 11688*
CW_CCW_ESTEP_LOPEND              P             00001914  11626 11696*
DEBUG_CMPERR_STSMK10             P             00000642   7501  7503*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   262

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DEBUG_CMPERR_STSMK100            P             00000674   7560  7562*
DEBUG_CMPERR_STSMK150            P             0000067E   7571  7573*
DEBUG_CMPERR_STSMK20             P             0000064C   7509  7511*
DEBUG_CMPERR_STSMK40             P             00000656   7522  7524*
DEBUG_CMPERR_STSMK60             P             00000660   7534  7536*
DEBUG_CMPERR_STSMK80             P             0000066A   7547  7549*
DNMOBJ_ARASIG2_100               P             00003D34  19841 19857*
DNMOBJ_ARASIG2_120_SET           P             00003D48  19843 19869*
DNMOBJ_ARASIG2_150               P             00003D68  19816 19822 19828 19868 19887*
DNMOBJ_ARASIG2_200               P             00003D70  19877 19895*
DRV_START_ININW1_050             P             00001EDC  13187 13209*
DRV_START_ININW1_100             P             00001EE2  13197 13213*
DRV_START_KEP_WAIT_100           P             00002624  14809 14816 14832*
DRV_START_KEP_WAIT_END           P             0000264A  14850 14855 14866*
DRV_START_KEP_WAIT_NON           P             00002634  14803 14847*
DRV_START_KEP_WAIT_START         P             00002642  14840 14861*
DRV_START_KEP_WAIT_USE           P             0000263A  14822 14837 14852*
ELSECPU_GET_OBJPOS_100           P             00001006   9715  9721*
ELSECPU_GET_OBJPOS_EXT           P             0000100C   9726*
EP_SENCER_CK020                  P             000036E0  18537 18548*
EP_SENCER_CK030                  P             000036F0  18553 18562*
EP_SENCER_CK040                  P             0000370C  18570 18583*
EP_SENCER_CK050                  P             00003738  18531 18612*
EP_SENCER_CK100                  P             00003740  18615 18621*
EP_SENCER_CK150                  P             00003764  18639 18649*
EP_SENCER_CK200                  P             00003774  18656 18665*
EP_SENCER_CK800                  P             00003A7C  18555 19227 19234*
EP_SENCER_CK900                  P             00003A98  18576 18641 18811 18915 19131 19256*
EP_SENCER_CK950                  P             00003AB4  19245 19278*
EP_SENCER_CKEND                  P             00003ABE  18602 18617 18658 18730 18787 18821 18847 18896 18924 18948 18974 19029 
                                                         19087 19114 19140 19173 19218 19286*
EP_SENCER_CKEXT                  P             00003AC6  18539 19292*
EP_STEP_ENDSIG                   P             00003A78  19225*
EP_STEP_ENDSIG_A                 P             00003A00  18491 19148*
EP_STEP_ENDSIG_B                 P             00003A38  18499 19183*
EP_STEP_EPSENSIG_A               P             000038D0  18488 18932*
EP_STEP_EPSENSIG_B               P             000038FC  18496 18958*
EP_STEP_RESETON_COM              P             00003978  18490 18498 19047*
EP_STEP_RESET_100                P             00003948  18993 19009*
EP_STEP_RESET_COM_150            P             000039C0  19078 19099*
EP_STEP_RESET_COM_170            P             000039E8  19105 19123*
EP_STEP_RESET_COM_190            P             000039FC  19060 19138*
EP_STEP_RESET_DATSET1            P             00003928  18489 18497 18988*
EP_STEP_RESET_DATSET_COM         P             00003950  19001 19016*19203 
EP_STEP_USE_RY_A                 P             000037E4  18485 18746*
EP_STEP_USE_RY_B                 P             000037F8  18493 18762*
EP_STEP_USE_RY_COM               P             00003802  18754 18769*
EP_STEP_USE_RY_COM_150           P             00003828  18778 18797*
EP_STEP_USE_RY_COM_190           P             00003848  18802 18819*
EP_STEP_USE_RY_DATSETCOM         P             000037BC  18703 18717*
EP_STEP_USE_RY_DATSET_A          P             000037A0  18484 18696*
EP_STEP_USE_RY_DATSET_B          P             000037B4  18492 18710*
EP_STEP_VALVON_COM               P             0000387C  18487 18495 18863*
EP_STEP_VALVON_DATSET            P             0000384C  18486 18494 18829*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   263

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

EP_STEP_VALV_COM_150             P             000038B8  18887 18906*
EP_STEP_VALV_COM_190             P             000038CC  18873 18922*
EP_STEP_XX                       P             00003A7C  18500 18501 18502 18503 18504 18505 18506 18507 18508 18509 18510 18511 
                                                         18512 18513 18514 18515 18516 19231*
EXQ_PROC_STEPRECOVER_100         P             00003BDC  19522 19525 19547*
EXQ_PROC_STEPRECOVER_150         P             00003C00  19553 19572*
EXQ_PROC_STEPRECOVER_180         P             00003C0C  19564 19581*
EXQ_PROC_STEPRECOVER_200         P             00003C40  19510 19619*
EXQ_PROC_STEPRECOVER_250         P             00003C74  19632 19657*
EXQ_PROC_STEPRECOVER_END         P             00003C88  19600 19614 19625 19646 19675*
EXQ_PROC_STEPRECOVER_END1        P             00003C3C  19446 19454 19460 19506 19516 19527 19612*
EXT_DRVBTTN_INFO_MK100           P             00002ECC  16806 16816 16820*
EXT_DRVBTTN_INFO_MK200           P             00002EFC  16832 16848*
EXT_DRVBTTN_INFO_MK300           P             00002F0A  16851 16860*
EXT_DRVBTTN_INFO_MK400           P             00002F0C  16835 16854 16864*
EXT_DRVBTTN_INFO_MK410           P             00002F1E  16874 16880*
EXT_DRVBTTN_INFO_MK420           P             00002F38  16879 16896*
EXT_DRVBTTN_INFO_MK450           P             00002F4C  16901 16911*
EXT_DRVBTTN_INFO_MK500           P             00002F5E  16886 16905 16925*
EXT_DRVBTTN_MOD100               P             00002E88  16759 16761*
EXT_DRVBTTN_MODJG_CF300          P             00002FC4  16968 16976 16988 16993 17000 17018*
EXT_DRVBTTN_MODJG_CF500          P             00002FC6  16959 16982 17002 17020*
EXT_DRVBTTN_MODJG_CF700          P             00002FDA  17029 17038*
EXT_DRVBTTN_MOD_END              P             00002E94  16740 16771*
HOLD1_DNSTARTPOSCK100            P             00003200  17502 17508 17522*
HOLD1_DNSTARTPOSCK200            P             00003206  17514 17527*
H_BYTE                                    EQU  00000000     82*
INC_RSTDAT_CHK230                P             00003628  18418 18423 18428*
INC_RSTMODECK020                 P             000034D0  18148 18157*
INC_RSTMODECK100                 P             000034EC  18164 18180*
INC_RSTMODECK200                 P             000034F4  18172 18188*
INC_RSTMODECK240                 P             00003558  18232 18257*
INC_RSTMODECK260                 P             00003562  18241 18266*
INC_RSTMODECK280                 P             00003574  18227 18243 18264 18275 18279*
INC_RSTMODECK290                 P             000035B0  18291 18318*
INC_RSTMODECK300                 P             000035C0  18284 18297 18304 18324 18332*
INC_RSTMODECK490                 P             000035DC  18170 18185 18218 18353*
INC_RSTMODECK499                 P             000035DE  18150 18355*
INC_RSTMODECK500                 P             000035E0  18342 18357*
INC_SPEC_RSTCK100                P             00003608  18377 18383 18395*
INC_SPEC_RSTCK200                P             0000360A  18387 18397*
JMP0100001                       P             0000269C  15045 15064*
JMP0100002                       P             000026EC  15111 15128*
JMP0100003                       P             00003530  18238 18240*
JMP0100004                       P             00003560  18261 18263*
JMP0200001                       P             000026A8  15049 15051 15054 15067 15069 15071*
JMP0200002                       P             000026F8  15115 15117 15120 15131 15133 15135*
JMP10000000                      P             00001FC4  13470 13486*
JMP20000000                      P             00001FEC  13490 13514*
JMP_0100005                      P             0000374C  18627 18630*
JMP_0100006                      P             00003780  18670 18673*
JMP_ED00000                      P             0000200E  13533 13541*
JMP_NG00000                      P             0000200C  13478 13498 13507 13526 13539*
JMP_OK00000                      P             00002002  13518 13530*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   264

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

LOT_CNTCNT_050                   P             00001CAC  12685 12695*
LOT_CNTCNT_080                   P             00001CC0  12710 12719*
LOT_CNTCNT_200                   P             00001CEE  12679 12687 12712 12727 12736 12768*
L_BYTE                                    EQU  00000001     81*
MASK2_SFYSTP400                  P             000027C4  15282 15312*
MASK2_SFYSTP500                  P             000027CA  15276 15295 15317*
MASK2_SFYSTP600                  P             000027CC  15299 15319*
MASK2_SFYSTPEXT                  P             000027D0  15323*
MODE_CCC_STOPCHK                 P             00001348  10454 10465*
MODE_CCC_STPCMP_120              P             00001364  10478 10484*
MODE_CCS_STPCMP_105              P             000013D4  10522 10560*
MODE_CCS_STPCMP_120              P             000013E2  10578 10584*
MODE_CCS_STPCMP_140              P             00001444  10592 10639*
MODE_CCS_STPCMP_145              P             0000144C  10598 10605 10619 10649*
MODE_CCS_STPCMP_200              P             0000149C  10621 10644 10716*
MODE_CCS_STPCMP_250              P             000014B2  10741 10749*
MODE_CCS_STPCMP_270              P             000014BA  10755*
MODE_CCS_STPCMP_280              P             000014BA  10768*
MODE_CCS_STPCMP_300              P             000014C8  10546 10660 10701 10747 10773 10781*
MODE_CHG_050                     P             00000446   7074  7076*
MODE_CHG_080                     P             00000470   7093  7111*
MODE_CHG_080_SGL                 P             000004B4   7121  7176*
MODE_CHG_080_SNG                 P             000004BE   7126  7186*
MODE_CHG_100                     P             000004CC   7084  7198*
MODE_CHG_150                     P             000004E4   7201  7216*
MODE_CHG_200                     P             00000504   7219  7239*
MODE_CHG_800                     P             00000506   7080  7098  7158  7169  7180  7191  7209  7226  7230  7241*
MODE_CHG_EXT                     P             0000050A   7244*
MODE_CHG_OPT050                  P             000004A0   7137  7142  7154*
MODE_CHG_OPT090                  P             000004AA   7132  7144  7165*
MODE_CNTCNF1_STPCHK_210          P             000011FC  10156 10166*
MODE_CNTCNF1_STPCHK_220          P             00001204  10160 10173*
MODE_CNTCNF1_STPCHK_250          P             0000120C  10172 10182*
MODE_CNTCOM1_STPCMP_100          P             000011C0  10096 10104 10112 10120*
MODE_CNTCOM2_STPCHK_280          P             00001244  10219 10229*
MODE_CNTCOM2_STPCHK_300          P             00001252  10211 10221 10235 10242*
MODE_CNT_STPCHK_050              P             000010C0   9876  9888*
MODE_CNT_STPCHK_080              P             000010CA   9880  9906*
MODE_CNT_STPCHK_120              P             000010A4   9825  9870*
MODE_CNT_STPCHK_150              P             000010DE   9846  9936*
MODE_CNT_STPCHK_199              P             00001110   9817  9909  9967*
MODE_CNT_STPCHK_200              P             00001116   9835  9972*
MODE_CNT_STPCHK_210              P             00001130   9979  9991*
MODE_CNT_STPCHK_220              P             00001140   9983 10011*
MODE_CNT_STPCHK_250              P             00001148   9997 10008 10018*
MODE_CNT_STPCHK_280              P             00001178  10032 10045*
MODE_CNT_STPCHK_300              P             00001186   9916  9927  9955 10024 10034 10051 10062*
MODE_CNT_STPCMP_100              P             00001048   9758  9766  9774  9781*
MODE_CSS_STOPCHK_START           P             00001384  10456 10508*
MODE_CSS_STOPCK1000              P             000014C8  10493 10783*
MODE_CTL_100                     P             00000540   7301  7310*
MODE_CTL_ET900                   P             000005BA   7358  7364  7399  7424*
MODE_CTL_EXIT                    P             000005CE   7303  7343  7352  7382  7390  7432  7444*
MODE_DUP_STPCHK100               P             000015A4  10919 10953*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   265

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

MODE_DUP_STPCHK200               P             000015C0  10925 10943 10959 10963 10977*
MODE_INC_STPCHK_000              P             00001528  10813 10830 10857*
MODE_INC_STPCHK_050              P             0000153A  10811 10838 10847 10877*
MODE_INC_STPCHK_100              P             0000154C  10845 10862 10873 10894*
MODE_SGL_STPCHK_050              P             000012A0  10301 10315*
MODE_SGL_STPCHK_080              P             000012E0  10330 10362*
MODE_SGL_STPCHK_100              P             000012F0  10320 10375*
MODE_SGL_STPCHK_150              P             00001302  10351 10401*
MODE_SGL_STPCHK_200              P             00001314  10307 10368 10388 10398 10421*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEWMASK_SELSTOPCHK400            P             00001B82  12347 12369*
NEWMASK_SELSTOPCHK500            P             00001BA0  12354 12360 12366 12386*
NEWMASK_SELSTOPCHKEND            P             00001BA6  12375 12391*
NZ_TIM_CK1_100                   P             00002472  14393 14399 14402*
NZ_TIM_CK1_200                   P             00002486  14408 14414 14417*
OPT_SGL_SFTY_MASKCHK_080         P             00001C50  12562 12583*
OPT_SGL_SFTY_MASKCHK_100         P             00001C60  12555 12601*
OPT_SGL_SFTY_MASKCHK_400         P             00001C7C  12571 12591 12619 12625 12635*
OPT_SGL_SFTY_MASKCHK_500         P             00001C82  12541 12548 12569 12593 12627 12642*
OPT_SGL_SFTY_MASKCHK_END         P             00001C84  12638 12644*
ORGIN_180CK_100                  P             000026D0  15075 15106*
ORGIN_180CK_200                  P             00002720  15138 15163*
ORGIN_180CK_300                  P             00002728  15096 15153 15173*
ORGIN_MODE_SEL_ST090             P             00002530  14577 14579*
ORGIN_MODE_SEL_STEND             P             00002534  14569 14582*
ORGIN_MODE_SEL_WT090             P             000024BE  14482 14484*
ORGIN_MODE_SEL_WT100             P             000024DC  14474 14502*
ORGIN_MODE_SEL_WTEND             P             000024EC  14447 14489 14507 14517*
ORGIN_MODE_START_WT10            P             000008E0   8037  8047*
ORGIN_MODE_ST_WT100              P             00002594  14628 14654*
ORGIN_MODE_ST_WTEND              P             000025B2  14670 14675 14680*
ORGIN_MODE_ST_WT_NOT             P             000025B0  14616 14622 14678*
ORGIN_MODE_ST_WT_START           P             000025A4  14642 14659 14667*
ORGIN_MODE_ST_WT_WAIT            P             000025AA  14636 14672*
P                                P        SCT  00000000   5865*
POSCAN_PROCSTEPRECOVER_100       P             00003E88  20145 20148 20168*
POSCAN_PROCSTEPRECOVER_200       P             00003EC8  20133 20214*
POSCAN_PROCSTEPRECOVER_250       P             00003EF0  20219 20243*
POSCAN_PROCSTEPRECOVER_END       P             00003F16  20195 20209 20233 20267 20284*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   266

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POSCAN_PROCSTEPRECOVER_END1      P             00003EC4  20079 20085 20129 20139 20150 20207*
POSCTRL_CANSEL_RST_EXT           P             00003DF2  19997 20004 20011 20021 20029*
POSHLD1_SIGCHK_100               P             00003348  17755 17767*
POSHLD1_SIGCHK_200               P             0000334E  17749 17759 17772*
POSHLD1_SIGCHK_300               P             00003374  17788 17800*
POSHLD1_SIGCHK_400               P             0000337A  17782 17792 17805*
POSHLD1_STEP1_STOP100            P             00003014  17108 17121*
POSHLD1_STEP1_STOP150            P             00003060  17128 17157 17172*
POSHLD1_STEP1_STOPEXT            P             000030C2  17228 17234 17239*
POSHLD1_STEP1_STOPNO             P             000030B4  17135 17142 17148 17159 17225*
POSHLD1_STEP1_STOPSTOP           P             000030C0  17237*
POSHLD1_STEP1_STOPWAIT           P             000030BA  17110 17211 17231*
POSHLD1_STEP2_START100           P             00003258  17568 17599*
POSHLD1_STEP2_START200           P             00003264  17611*
POSHLD1_STEP2_START500           P             000032D0  17606 17673*
POSHLD1_STEP2_STARTEXT           P             000032E2  17560 17564 17619 17652 17688*
POSHLD1_STOPBTTNCMDCK_050        P             000030DA  17262 17268*
POSHLD1_STOPBTTNCMDCK_100        P             000030E2  17267 17274*
POSHLD1_STOPCONF_100             P             0000310C  17301 17310*
POSHLD1_STOPCONF_200LOP          P             00003118  17321*17470 
POSHLD1_STOPCONF_300             P             000031B4  17349 17454*
POSHLD1_STOPCONF_350             P             000031B8  17398 17459*
POSHLD1_STOPCONF_400             P             000031BC  17331 17395 17405 17425 17456 17463*
POSHLD1_STOPCONF_499             P             000031C8  17468 17473*
POSHLD1_STOPCONF_500             P             000031CA  17327 17475*
POSHLD1_STOPCONF_STOPEND         P             000031D2  17479 17485*
POSHLD1_STOPCONF_STOPNO          P             000031CA  17342 17476*
POSHLD1_STOPCONF_STOPSTOP        P             000031D0  17413 17482*
POS_CANSEL_STPCHK_END            P             00001622  11045 11059*
POS_CANSEL_STPCHK_MOV            P             00001620  11015 11057*
RDY_CHK_0030                     P             0000089C   7979  7990*
RDY_CHK_0050                     P             000008A0   7973  7995*
RDY_CHK_0060                     P             000008BC   8007  8017*
RDY_CHK_0070                     P             000008E4   8035  8052*
RDY_CHK_0120                     P             00000978   8194  8204*
RDY_CHK_0150                     P             000009C0   8318  8327*
RDY_CHK_0198                     P             000009E2   8346  8351*
RDY_CHK_0199                     P             00000A24   8277  8293  8325  8378*
RDY_CHK_0200                     P             00000A3C   8196  8400*
RDY_CHK_0200_START               P             00000B18   8558  8594*
RDY_CHK_0200_START_WAIT          P             00000ADC   8009  8542*
RDY_CHK_0200_START_WT2           P             00000B14   8566  8577  8589*
RDY_CHK_0220                     P             00000AAC   7911  8039  8459  8486  8507*
RDY_CHK_0280                     P             00000A90   8448  8471*
RDY_CHK_0290                     P             00000BD0   8498  8747*
RDY_CHK_0290A                    P             00000AA4   8432  8450  8496*
RDY_CHK_0299                     P             00000BE4   8503  8579  8754  8764*
RDY_CHK_0299A                    P             00000AA8   8416  8434  8501*
RDY_CHK_0399                     P             00000BFC   8049  8488  8531  8591  8721  8756  8784*
RDY_CHK_0500                     P             00000C10   7992  8801*
RDY_CHK_0505                     P             00000C38   8826  8836*
RDY_CHK_0510                     P             00000C4C   8848  8856*
RDY_CHK_0520                     P             00000C5C   8863  8871*
RDY_CHK_0525                     P             00000C6C   8878  8885*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   267

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RDY_CHK_0530                     P             00000C90   8902  8918*
RDY_CHK_0600                     P             00000CA0   8897  8930*
RDY_CHK_0650                     P             00000CB4   8934  8947*
RDY_CHK_0700                     P             00000CF0   8951  9010*
RDY_CHK_0750                     P             00000D0C   9014  9030*
RDY_CHK_0950                     P             00000D20   9034  9046*
RDY_CHK_1000                     P             00000D26   7932  8828  8850  8865  8880  8909  8924  8940  9000  9024  9040  9056*
RDY_CHK_1200                     P             00000D58   7939  7981  9087*
RDY_CHK_CYCL_END                 P             00000D78   9100  9110*
RDY_CHK_END_COM                  P             00000D96   9102  9118  9124  9141*
RDY_CHK_EXIT                     P             00000DBA   7944  8353  8389  8786  9067  9077  9094  9171*
RDY_HOLDCHK_0100                 P             000007B8   7802  7824*
RDY_HOLDCHK_0200                 P             000007F0   7827  7865*
RDY_HOLDCHK_1000                 P             00000854   7816  7838  7925*
RDY_HOLDCHK_1200                 P             00000864   7930  7937*
RDY_HOLDCHK_1999                 P             00000868   7846  7854  7880  7888  7901  7942*
RDY_HOLDCHK_END                  P             0000086C   7808  7947*
RDY_ON_CF_998                    P             00000E2A   9236  9264*
RDY_ON_CF_999                    P             00000E50   9209  9222  9249  9282*
RDY_ON_CF_EXT                    P             00000E52   9267  9284*
RDY_SFTY_MASK2CHK050             P             0000090C   8097  8125*
RDY_SFTY_MASK2CHK055             P             00000940   8140  8161*
RDY_SFTY_MASK2CHK060             P             0000095C   8167  8181*
RDY_SFTY_MASK2CHK100             P             00000962   8147  8174  8186*
RECOVER_WAIT_AREACHK_100         P             00003CC0  19727 19757*
RECOVER_WAIT_AREACHK_200         P             00003CD0  19738 19762 19771*
RECOVER_WAIT_AREACHK_END         P             00003CD2  19750 19764 19773*
RESET_CHK_100                    P             0000003E   6263  6281*
RESET_CHK_200                    P             00000058   6288  6305*
RESET_CHK_250                    P             00000074   6319  6326*
RESET_CHK_300                    P             000000AC   6310  6348*
RESET_CHK_305                    P             000000B4   6355  6360*
RESET_CHK_325                    P             00000102   6395  6422*
RESET_CHK_330                    P             00000134   6421  6440*
RESET_CHK_350                    P             000001A0   6479  6516*
RESET_CHK_399                    P             000001A6   6499  6523*
RESET_CHK_400                    P             000001B8   6363  6537*
RESET_CHK_500                    P             000001F8   6357  6578*
RESET_CHK_EXT                    P             00000250   6328  6424  6529  6543  6564  6583  6652*
RNA_ERR_RSTCKEXT                 P             00002764  15224 15230 15235 15243*
ROT_CNTMODCHK_100                P             00003F70  20305 20311 20317 20324 20331 20345*
ROT_CNTMODCHK_200                P             00003F76  20333 20351*
ROT_CNTMODCHK_END                P             00003F78  20348 20353*
RST_CONFCK_005                   P             000002C4   6716  6726*
RST_CONFCK_010                   P             000002D4   6706  6712  6725  6736*
RST_CONFCK_015_OK                P             00000322   6781  6804*
RST_CONFCK_020                   P             00000348   6787  6824*
RST_CONFCK_050                   P             0000035C   6854*
RST_CONFCK_055                   P             000003A4   6888  6906*
RST_CONFCK_060                   P             000003D0   6925  6941*
RST_CONFCK_080                   P             000003F0   6915  6970*
RST_CONFCK_BRK100                P             0000040C   6871  6991*
RST_CONFCK_END                   P             00000430   7016  7020*
RST_CONFCK_NG                    P             00000428   6728  6931  6962  6982  7003  7013*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   268

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RST_CONFCK_NG70                  P             000003E0   6748  6755  6769  6798  6835  6956*
RST_CONFCK_OK                    P             0000042E   6806  6859  6890  6921  6947  6975  6996  7018*
RST_MOD_POSEND_100               P             000017CE  11422*
RST_MOD_POSEND_200               P             000017D6  11428*
SELF_FORCE_POW_100               P             00000FD4   9660  9673*
SET_NZ_TIMDT_010                 P             00002430  14350 14352*
SET_NZ_TIMDT_020                 P             0000243E  14360 14362*
SFTY_MASK_ED_100                 P             00001BEC  12445 12458*
SFTY_MASK_ED_200                 P             00001BFA  12451 12467*
SFTY_MUTING_MODER_100            P             00002840  15383 15391 15412*
SFTY_MUTING_MODER_200            P             0000285C  15422 15428 15438*
SFTY_MUTING_MODER_EXT            P             00002876  15373 15399 15430 15444 15458*
SGL_UP_HOLD_MASK050              P             00000CD8   8974  8998*
STEP_SIG_DSP050                  P             00002248  13956 13960 13974*
STEP_SIG_DSP100                  P             00002250  13950 13983*
STEP_SIG_DSP200                  P             00002258  13936 13964 13977 13988*
STEP_SIG_DSP300                  P             00002264  13995 13998*
STOPPING_TIM_CK050               P             00002334  14155 14165*
STOPPING_TIM_CK080               P             0000233C  14168 14172*
STOPPING_TIM_CK100               P             0000236E  14207 14209*
STOPPING_TIM_CK120               P             0000237C  14212 14221*
STOPPING_TIM_CK200               P             000023A4  14227 14243*
STOPPING_TIM_CK250               P             000023B4  14253 14255*
STOPPING_TIM_CK400               P             000023CC  14220 14272*
STOPPING_TIM_CK600               P             000023E4  14262 14294*
STOPPING_TIM_CK900               P             000023F6  14157 14170 14231 14283 14310*
STOPPING_TIM_STOPINI_100         P             000022E0  14064 14113*
SV_UP_HLDCHK_0050                P             00001810  11463 11473*
SV_UP_HLDCHK_0100                P             00001820  11478 11486*
SV_UP_HLDCHK_0190                P             00001840  11480 11505*
SV_UP_HLDCHK_0200                P             00001848  11508 11514*
SV_UP_HLDCHK_0290                P             0000184C  11510 11527*
SV_UP_HLDCHK_0295                P             00001850  11516 11531*
SV_UP_HLDCHK_0300                P             00001878  11530 11555*
SV_UP_HLDCHK_0900                P             0000188A  11466 11496 11544 11566*
UP_HOLD_ARA_MASK480              P             00001B18  12207 12217*
UP_HOLD_ARA_MASK500              P             00001B20  12166 12169 12189 12214 12226*
UP_HOLD_MASKSPDCHK_COM           P             00001ACC  12101 12115*
UP_HOLD_MASKSPDCHK_END           P             00001AEA  12135 12145*
UP_HOLD_MASKSPDCHK_FWD           P             00001AB2  12079 12096*
UP_HOLD_MASKSPDCHK_NG            P             00001AE8  12087 12099 12113 12124 12143*
UP_HOLD_MASKSPDCHK_REV           P             00001AC8  12083 12094 12110*
UP_HOLD_MASKSPDCHK_STR           P             00001AD8  12132*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3425 16538 
_ABS_OUT_PLS_SPD                          IMPT 00000000   3435 
_ACCERR_ACC_HENSA                         IMPT 00000000   4442 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   269

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACCERR_ACC_OBJ                           IMPT 00000000   4441 
_ACCERR_ACC_PV                            IMPT 00000000   4440 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4451 
_ACCERR_ERR_CNT                           IMPT 00000000   4443 
_ACCESS_ERR1                              IMPT 00000000   3521 
_ACC_MONITOR_DAT1                         IMPT 00000000   4254 
_ACC_MONITOR_DAT2                         IMPT 00000000   4255 
_ACC_MONITOR_DAT3                         IMPT 00000000   4256 
_ACC_MONITOR_DAT4                         IMPT 00000000   4257 
_ACC_MONITOR_DAT5                         IMPT 00000000   4258 
_ACC_MONITOR_DAT6                         IMPT 00000000   4259 
_ACC_MONITOR_DAT7                         IMPT 00000000   4260 
_ACC_MONITOR_DAT8                         IMPT 00000000   4261 
_ACC_REST_ABS_PLS                         IMPT 00000000   4211 
_ACC_REST_FLG                             IMPT 00000000   4212 
_ANTI_CHEAK                      P             000006C8   7368  7623*
_ANTI_OF                                  IMPT 00000000   5887  7751 
_ANTI_ON                                  IMPT 00000000   5886  7661 
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6090  9162 11173 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6089  8684 16402 
_API_ENDHAND_SIGCHK                       IMPT 00000000   6205 10393 10868 
_API_EXQ_STEP_FLGCLR             P        EXPT 00003DA4   6525 19950 19956*
_API_EXQ_STEP_STS_GET            P        EXPT 00003D7C  19911 19916*
_API_X_PRO_SEND_START2                    IMPT 00000000  14695 
_AUTO_OF                                  IMPT 00000000   5889  9153  9842 10337 10529 10651 11072 
_AUTO_ON                                  IMPT 00000000   5888  9969 10148 10303 10364 10733 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3668 
_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3661 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3666 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3665 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3662 
_BASE_TIM010MS                            IMPT 00000000   2483 
_BASE_TIM100MS                            IMPT 00000000   2484 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4427 
_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4426 
_BBN_MESURE_POINT                         IMPT 00000000   4421 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4411 
_BBN_MESURE_PSPD                          IMPT 00000000   4413 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4412 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4407 
_BBN_MESURE_SSPD                          IMPT 00000000   4409 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4408 
_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4425 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4419 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4416 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4418 
_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4415 
_BBN_SET_TIME                             IMPT 00000000   4422 
_BKTMCL_ACCDAT                            IMPT 00000000   4613 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4614 
_BKTMCL_ACCPOINT                          IMPT 00000000   4616 
_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4630 
_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4638 
_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4637 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   270

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4643 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4644 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4645 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4640 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4648 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4649 
_BKTMCL_ENC_DIR                           IMPT 00000000   4621 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4620 
_BKTMCL_POINTMAX                          IMPT 00000000   4617 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4632 
_BKTMCL_SPDBUF                            IMPT 00000000   4612 
_BKTMCL_STOP_SPD                          IMPT 00000000   4636 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4629 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4631 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4625 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4626 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4628 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3414 
_BRK1_CHKDLY_TM                           IMPT 00000000   3402 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3410 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3409 
_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3408 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3407 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3405 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3406 
_BRK1_SV_DN_ACC                           IMPT 00000000   3413 
_BRK2_CHKDLY_TM                           IMPT 00000000   3403 
_BRK2_SV_DN_ACC                           IMPT 00000000   3415 
_BRKTMCAL_API1_STR                        IMPT 00000000   6182 14035 
_BRKTMCAL_API3_ENDCNF1                    IMPT 00000000   6184 14258 
_BRKTMCAL_API4_ENDCNF2                    IMPT 00000000   6185 14286 
_BRKTMCAL_STG1_STOPINI                    IMPT 00000000   6183 11250 
_BRKTST_AREA_SIG                          IMPT 00000000   4152  6992 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4162 
_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4163 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4160 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4161 
_BRKTST_CHKDT_MAK                P             00002D54  15747 16477*
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4142 16505 16540 
_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4155 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4154 
_BRKTST_CTRL                     P             0000288C   7314 15502*
_BRKTST_INPUT_CMD                         IMPT 00000000   4145  6867 15531 15590 15781 16053 16074 16628 
_BRKTST_INPUT_MAK                P             00002B00  15509 16024*
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4157 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4156 
_BRKTST_MODE_CONF                P             00002ADC  15552 15815 15982*
_BRKTST_MOD_FLG                           IMPT 00000000   4140  7386 15514 15560 15596 15613 15645 15667 15755 15792 15830 15859 
                                                         15876 15884 15909 15928 16546 
_BRKTST_MOTOR_START              P             00002C70  15751 16328*
_BRKTST_MOTOR_STOP               P             00002DC8  15788 15905 16573*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4141 16495 
_BRKTST_POS_START                         IMPT 00000000  16320 16377 
_BRKTST_RDY_CHK                  P             00002B58  15693 16102*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   271

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BRKTST_RDY_OFF_OUT              P             00002C40  15723 16270 16289*
_BRKTST_SPD_CHK                  P             00002DA0  15775 16534*
_BRKTST_STOPSIG_MAKE             P             00002DDC  16058 16598*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4149 16608 
_BRKTST_STR_FLG                           IMPT 00000000   4150 16076 16602 16623 
_BRKTST_SW_IN                             IMPT 00000000   4151  6702 11799 16046 19824 
_BRK_CHK_COM                              IMPT 00000000   3399 
_BRK_CHK_FLG                              IMPT 00000000   3400 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6061  8527  9940 10404 10534 10681 10880 10928 11028 11257 17181 
_BRK_RDYON_CONF1                 P             00002E24  16174 16232 16656*
_BTTN_FLG                                 IMPT 00000000   2551  8289  9355  9391  9576  9912 10384 10474 10574 10841 10858 10921 
                                                         14632 15808 16181 
_BTTN_ON_TIME                             IMPT 00000000   3691 
_BTTN_START_CHK                  P             00000E58   8427  9343*15712 
_BVLV_CTL_FLG                             IMPT 00000000   4799 
_BVLV_CTL_ON                              IMPT 00000000   4800 
_BVLV_START_IN                            IMPT 00000000   4803 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3172 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2897 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2896 
_CALC_MISS_FLG1                           IMPT 00000000   3774 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2078*
_CALC_PLS_MMIN_L32                        EQU  00000001   2079*
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2074*
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2075*
_CALC_ROT_MAX                             EQU  60000000   2070*
_CAM_CNT_CHG_FLG                          IMPT 00000000   3271 11123 
_CAM_CTL_STEP                             IMPT 00000000   2627 
_CAM_DT_FLG                               EQU  0000000E   2188*
_CAM_INF_D1                               EQU  00000010   2189*
_CAM_INF_D2                               EQU  00000012   2190*
_CAM_NOW_DIG                              IMPT 00000000   3268 
_CAM_OF_DGT                               EQU  0000000C   2187*
_CAM_OF_DIG                               EQU  00000008   2184* 2185 
_CAM_OF_DIR                               EQU  0000000A   2186*
_CAM_OF_STP                               EQU  00000006   2183*
_CAM_OF_TIM                               EQU  00000008   2185*
_CAM_OLD_DIG                              IMPT 00000000   3269 
_CAM_ON_DIG                               EQU  00000002   2181*
_CAM_ON_DIR                               EQU  00000004   2182*
_CAM_ON_STP                               EQU  00000000   2180*
_CAM_OUTPUT_DT                            IMPT 00000000   3262 
_CAM_OUTPUT_SW                            IMPT 00000000   3260 
_CAM_POS_CTL_STEP                         IMPT 00000000   3270 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3027 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3028 
_CAM_SELECT_SW                            IMPT 00000000   3261 
_CAM_START_FLG                            IMPT 00000000   3263 
_CAM_START_MODE                           IMPT 00000000   3264 
_CAM_STEP_MAX                             IMPT 00000000   3267 
_CAM_STEP_NO                              IMPT 00000000   3265 
_CAM_STEP_NO_OLD                          IMPT 00000000   3266 
_CAM_STRCUT                               EQU  00000014   2179*
_CBSTS_LOAD_FLG                           IMPT 00000000   4562 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   272

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CBSTS_SAVE_CMDWK                         IMPT 00000000   4570 
_CBSTS_SAVE_DAT                           IMPT 00000000   4579 15563 15616 15648 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_CTL_START_INI                P             00001DDC   8639 12979*16365 
_CB_ERR_INFO_MEM                          EQU  00000080    138*
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_INT_START_OK                          IMPT 00000000   2480 
_CB_IN_HANYO                              IMPT 00000000   4838 16826 
_CB_SEQ_CB_COM340                         IMPT 00000000   3013  9204 16660 17408 17614 19999 
_CB_SEQ_CB_COM345                         IMPT 00000000   3016 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5433 
_CB_SEQ_CB_COM346                         IMPT 00000000   3017 
_CB_SEQ_CB_COM347                         IMPT 00000000   3018 
_CB_SEQ_CB_COM348                         IMPT 00000000   3019 
_CB_SEQ_CB_COM349                         IMPT 00000000   3020 19344 19366 
_CB_SEQ_CB_COM350                         IMPT 00000000   3022 
_CB_SEQ_CB_COM351                         IMPT 00000000   3023 
_CB_SEQ_CB_COM352                         IMPT 00000000   3024 16802 16964 
_CB_SEQ_CB_COM356                         IMPT 00000000   5285 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3014  9547 10834 14477 14572 15212 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3015 
_CB_SEQ_SW_SEL022                         IMPT 00000000   3008 16971 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3009 
_CB_SEQ_SW_SEL028                         IMPT 00000000   3010  7087  7203  7221  9442  9812  9871 12544 13110 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3011 
_CB_SEQ_SW_SEL058                         IMPT 00000000   4888 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_PARAM000                          IMPT 00000000   6132  8137 11704 11867 12119 15273 15370 16117 16737 17055 18223 18374 
                                                         18550 18698 18712 18720 18831 18837 18996 19011 19019 19100 19198 
_CB_TIME                                  EQU  0000000A   1997* 2010  2011  2012  2017 
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3513 10581 10656 10743 
_CHKPOSANSDIG                             IMPT 00000000   4733 
_CHKPOSWORK1                              IMPT 00000000   4720 
_CHKPOSWORK2                              IMPT 00000000   4721 
_CHKPOSWORKANS                            IMPT 00000000   4726 
_CHKSPDANSPER                             IMPT 00000000   4725 
_CHKSPDPERWORK1                           IMPT 00000000   4728 
_CHKSPDPERWORK2                           IMPT 00000000   4729 
_CHKSPDPOSINFO                            IMPT 00000000   4731 
_CHKSPDPOSOFS                             IMPT 00000000   4732 
_CHKSPDWORK1                              IMPT 00000000   4718 
_CHKSPDWORK2                              IMPT 00000000   4719 
_CHKSPDWORKANS                            IMPT 00000000   4722 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   273

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CHKSPDWORKTMAX                           IMPT 00000000   4724 
_CHKSPDWORKVMAX                           IMPT 00000000   4723 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4251 
_CHK_CLK_SIG                              IMPT 00000000   4764 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   4000 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   3999 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   3216 
_CLRSQ206_BIT11                  P        EXPT 000025C0  14734 14737*
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2763 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2762 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3580 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3574 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3577 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3571 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3579 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3573 
_CMP2_NOW_NG_CNT                          IMPT 00000000   3581 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3575 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3578 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3572 
_CMPAB_NEAR_END_PROC             P        EXPT 00001F2C  13288 13310*
_CMPAB_STEP_END_PROC             P        EXPT 00001FA2  13289 13453*
_CMPCYC_END_CLR                  P        EXPT 0000219C  13299 13840*
_CMPCYC_START_CLR                P        EXPT 00002180  13298 13813*
_CMPEMG_EXQ_FLG_CLR              P        EXPT 000020F4   6464 11239 13301 13728*
_CMPSTEP_CNT_STOP                         IMPT 00000000   2671 13687 13775 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2667 13587 13769 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2666 13564 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2670 13318 13661 13773 
_CMPSTEP_POS_START                        IMPT 00000000   2668  7975  8003  8522  9070 13609 
_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2669 13637 13771 
_CMPSTEP_STEP_END                         IMPT 00000000   2672  7567  9923 13466 13711 13777 19929 
_CMPSTP_CNT_STOP_CLR             P        EXPT 000020B0  13296 13675*
_CMPSTP_CTRL_BUSY_CLR            P        EXPT 00002034  13292 13579*13849 
_CMPSTP_CTRL_REDY_CLR            P        EXPT 00002016   8384  8689  8770 13291 13556*13733 13845 16302 16407 
_CMPSTP_NEAR_ZERO_CLR            P        EXPT 00002094  13295 13653*13883 
_CMPSTP_POS_START_CLR            P        EXPT 00002050   8380  8766 13293 13601*13737 13853 16298 
_CMPSTP_SFTY_AUTO_CLR            P        EXPT 0000206C  13294 13623*13822 
_CMPSTP_STEP_END_CLR             P        EXPT 000020D8  13297 13703*13879 
_CMP_ERR_CHK_STSA                         IMPT 00000000   2880 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2881 
_CMP_ERR_STEP_A                           IMPT 00000000   2886 
_CMP_ERR_STEP_B                           IMPT 00000000   2887 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2882 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2883 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2884 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2885 
_CMP_ERR_TIM1                             IMPT 00000000   2583 
_CMP_HOLD_CTLGENSOK                       IMPT 00000000  17094 17529 
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3684 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3889 
_CMP_RECOVER_FLG                          IMPT 00000000   3994  9837 10332 10524 13057 
_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3685 
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2585 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   274

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CNTREST_HOS_RESET                        IMPT 00000000   6077 11287 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3671 13781 
_CNT_CYCL_DISP_ST                P             00001EEC   7956 11263 13227*
_CNT_GRF_I_DATA                           IMPT 00000000   5426 
_CNT_GRF_POINT                            IMPT 00000000   5428 
_CNT_GRF_Y_DATA                           IMPT 00000000   5427 
_CNT_MODE_CNT_SIG_OUT            P             00001D10  12774 12798*13145 
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3938 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3677 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3678 
_CNT_SPM_DISP_CHK                P             00001F00   7963  8812 13247*
_CNT_STOP_CMD                             IMPT 00000000   2506  9245  9993 10168 10737 16673 17258 
_CNT_STOP_CMD_BEF1                        IMPT 00000000   4388 
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3658 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5341  7588 
_CNT_STOP_LNGTH                           IMPT 00000000   3664 
_CNT_STOP_WAIT_TIM                        IMPT 00000000   5340  7583 10004 
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3953 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3954 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3936 
_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3955 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3950 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3951 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3952 
_CNT_SYNC_STS_FLG                         IMPT 00000000   3937 
_CONT_MOD_CNT_PV                          IMPT 00000000   3084  9889 12757 12824 13141 
_CONT_MOD_TIM_PV                          IMPT 00000000   3086  9877 13139 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3670 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3331 
_COP_DIG_SIG_FLG                          IMPT 00000000   3330 
_COP_OLD_ENC3600                          IMPT 00000000   3349 
_CPOS_BANK_USELFUL                        IMPT 00000000   3657 
_CPOS_CTL_MATH                            IMPT 00000000   2747  7427 10587 
_CPOS_DND_DIGTOP                          IMPT 00000000   3766 
_CPOS_DND_PLSTOP                          IMPT 00000000   3767 
_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3765 
_CPOS_DND_STOP_SW                         IMPT 00000000   3763 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3764 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4823 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4825 
_CPOS_MOD_FLG1                            IMPT 00000000   2746 10047 10231 10769 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2744 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3659 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2741 
_CPOS_SDAT1_INF1                          IMPT 00000000   2742 
_CPOS_SDAT1_NUM                           IMPT 00000000   2743 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2738 
_CPOS_SDAT1_SPD                           IMPT 00000000   2739 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2745 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3660 
_CPOS_SDAT1_TIM                           IMPT 00000000   2740 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2766 
_CPOS_SDAT1_UP_POS                        IMPT 00000000   2767 
_CPOS_STEP_MAX                            IMPT 00000000   2748  9762 10028 10100 10215 13946 19512 20135 20307 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   275

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPOS_UPAREA_PLS                          IMPT 00000000   2761 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5064 
_CPUA_CONT_MOD_CNT_PV                     IMPT 00000000   6215  9900 
_CPUA_LOT_CHK_FLG                         IMPT 00000000   6211 12704 
_CPUA_LOT_CNT_FLG                         IMPT 00000000   6213 
_CPUA_SV_STEP                             IMPT 00000000  19428 19501 20124 
_CPUBX_MEM1_BUF                           IMPT 00000000   5442 
_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5441 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5440 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5451 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5453 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5452 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5448 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5449 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5447 
_CPUB_CONT_MOD_CNT_PV                     IMPT 00000000   6216 12829 
_CPUB_DBG_MONI_CNT                        IMPT 00000000   6217  7590 
_CPUB_DBG_MONI_STP                        IMPT 00000000   7466  7585 
_CPUB_LOT_CHK_FLG                         IMPT 00000000   6212 12809 
_CPUB_LOT_CNT_FLG                         IMPT 00000000   6214 12819 
_CPUB_PARAM_ERR_NO                        IMPT 00000000   5162 
_CPUB_SV_STEP                             IMPT 00000000  19429 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5161 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5444 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5443 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5055 
_CPUD_CHK_TIME                            IMPT 00000000   5056 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5151 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5152 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   5934 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   5930 13584 13742 
_CPU_AB_BSY_ON_OUT                        IMPT 00000000   5932 
_CPU_AB_CED_OF_JG                         IMPT 00000000   5997 13521 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   5993 13708 13764 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   5995 13474 
_CPU_AB_CST_OF_JG                         IMPT 00000000   5986  9753 10091 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   5980 13680 13756 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   5981  9777 10116 13684 13760 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   5983 10269 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   5984 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   6012 17851 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   6011 17190 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   5952 13629 13747 
_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   5953  9950 10415 10542 10690 10890 10938 10973 11038 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   5972 13373 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   5968 13658 13752 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   5970 13326 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   5923 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   5919 13561 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   5921  8337 16196 16253 
_CPU_AB_STR_OF_JG                         IMPT 00000000   5945 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   5941 13606 
_CPU_AB_STR_ON_OUT                        IMPT 00000000   5943  8518 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   5931 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   276

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPU_BA_BSY_ON_JG                         IMPT 00000000   5933 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   5994 13503 
_CPU_BA_CED_ON_JG                         IMPT 00000000   5996 13493 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   5982 
_CPU_BA_CST_ON_JG                         IMPT 00000000   5985 
_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   6014 17872 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   6013 17123 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   5955 13633 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   5954  9830 10325 10517 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   5969 13355 
_CPU_BA_NZR_ON_JG                         IMPT 00000000   5971 13345 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   5920 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   5922  8341  8571  8749 16200 
_CPU_BA_STEP_LOAD                         IMPT 00000000   6004  9770 10108 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   5942  9073 
_CPU_BA_STR_ON_JG                         IMPT 00000000   5944  8553  9089 
_CPU_SV_HAND_IN                           IMPT 00000000   2508 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2509 
_CPU_SV_HAND_OUT                          IMPT 00000000   2511 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3956 
_CTL_ENC360                               IMPT 00000000   2520 
_CTL_ENC360_OLD                           IMPT 00000000   4040 
_CTRL_UP_HOLD_CHK                P             00001978   8954  9016 11788*
_CW_CCW_ENDSTEP_SERACH           P             000018A0  11488 11534 11557 11602*
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4298 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4299 
_CYCLE_TIME_DAT                           IMPT 00000000   3000 
_CYCLE_TIME_FLG                           IMPT 00000000   3002 
_CYCLE_TIME_PV                            IMPT 00000000   3001 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6052  6491 
_CYCL_DSP_CNT_PV                          IMPT 00000000   3465 11269 13190 13256 
_CYCL_DSP_DISENB                          IMPT 00000000   3464 13194 13211 13232 13263 
_CYCL_START_CNT                           IMPT 00000000   2764 
_CYC_END_POS_FLG_CLR                      IMPT 00000000  19578 19688 20174 
_DAIHAI_CALC_WORK1                        IMPT 00000000   4339 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4348 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4350 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4351 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4352 
_DAIHAI_CALC_WORK2                        IMPT 00000000   4340 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4341 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4342 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4343 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4344 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4345 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4346 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4347 
_DAI_CMP_SMPSTART                         IMPT 00000000   2944 
_DAI_HOSEI1_FLG                           IMPT 00000000   2934 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6060  7434 
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   6049  6366 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5085 
_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5086 
_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5091 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   277

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5087 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5092 
_DBG_CNT_GPOSINT                          IMPT 00000000   3595 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3589 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3588 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3590 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5324 
_DBG_DNM_END_CNT                          IMPT 00000000   5323 
_DBG_DNM_STR_CNT                          IMPT 00000000   5322 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3229 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3231 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3228 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3230 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3598 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3602 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3610 
_DBG_STEP12_CHG_SPD                       IMPT 00000000   3606 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3592 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3599 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3603 
_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3611 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3607 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3593 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3600 
_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3614 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3604 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3612 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3608 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3594 
_DEBUG_CMPERR_STSMAK             P             00000634   7451  7492*
_DEBUG_ENC360_STS                         IMPT 00000000   4652 
_DEBUG_ENC360_STS2                        IMPT 00000000   4653 
_DEBUG_MOD_CODE                           IMPT 00000000   5083 
_DEBUG_SIGNAL_OFF                         IMPT 00000000  11373 11384 
_DEF_DAI_POS_PV                           IMPT 00000000   2973 
_DG_PS_INF_CHK1                           EQU  00000000   2197*
_DG_PS_INF_CHK2                           EQU  0000003C   2202*
_DG_PS_INF_CONT                           EQU  00000004   2198*
_DG_PS_INF_LATE                           EQU  00000010   2201*
_DG_PS_INF_STLK                           EQU  0000000C   2200*
_DG_PS_INF_UNIT                           EQU  00000008   2199*
_DIG_AREA_CHK0                            IMPT 00000000   6036 
_DIG_AREA_CHK1                            IMPT 00000000   6037 10615 11975 12901 19837 19865 
_DIR_FLG                                  IMPT 00000000   4052 
_DISP_ENC360                              IMPT 00000000   2524 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3003  6642 
_DISP_SV_DG_DAT                           IMPT 00000000   3315 
_DISP_SV_MM_DAT                           IMPT 00000000   3316 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   6019 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   6020 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   6033 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   6021 
_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   6034 
_DMATH_CNTROT                             EQU  00000001   2029* 7430 10590 12077 18416 19452 20083 20315 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   278

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DMATH_DNDRIV                             EQU  00000004   2031* 6913  7430 10590 11506 12000 12085 12212 12925 17500 18162 18282 
                                                         19452 19551 19725 19820 20083 
_DMATH_REVRSE                             EQU  00000002   2030*11528 12009 12081 12212 12934 
_DMATH_UPDRIV                             EQU  00000008   2032*11476 11982 12908 
_DNDINC_CTRL_STEP                         IMPT 00000000   3762 
_DND_CALC_WORK                            IMPT 00000000   2790 
_DND_OVERCHK_DIG                          IMPT 00000000   4252 
_DNM_ACC_CALFLG                           IMPT 00000000   4222 
_DNM_CTL_INC3600                          IMPT 00000000   4090 10608 11967 12893 
_DNM_CYCLE_END                            IMPT 00000000  19574 19687 20170 
_DNM_DATA_REV_SET                         IMPT 00000000   6202  6943 18300 18328 
_DNM_DEBUG_CNT                            IMPT 00000000   4693 
_DNM_DEBUG_STS1                           IMPT 00000000   4692 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4088 
_DNM_DIR_CHG_TIM                          IMPT 00000000   4089 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5049 18293 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4128 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4086 17504 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4087 
_DNM_DIR_SET_FLG                          IMPT 00000000   4085 12090 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4741 
_DNM_OBJ_AREA_SIG2               P             00003CE2   6240 19807*
_DNM_RESET_AREA                           IMPT 00000000   5004  6917 18166 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5314 19734 19872 19890 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4084 
_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4082 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4083 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4081 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4457 
_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4098 19830 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4097 19832 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5029 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4093 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4092 
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4094 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4096 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4095 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5134 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5143 
_DPCHK_ERR_SIG                            IMPT 00000000   5133 
_DPCHK_WR_COD                             IMPT 00000000   5135 
_DPSQ022                                  EQU  0000002C   2084*
_DPSQ024                                  EQU  00000030   2085*
_DPSQ028                                  EQU  00000038   2086*
_DPSQ029                                  EQU  0000003A   2087*
_DPSQ058                                  EQU  00000074   2088*
_DPSQ287                                  EQU  0000023E   2099*
_DPSQ288                                  EQU  00000240   2100*
_DPSQ340                                  EQU  000002A8   2090*
_DPSQ341                                  EQU  000002AA   2091*
_DPSQ356                                  EQU  000002C8   2092*
_DPSQ358                                  EQU  000002CC   2093*
_DPSQ359                                  EQU  000002CE   2094*
_DPSQ367                                  EQU  000002DE   2095*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   279

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DPSQ368                                  EQU  000002E0   2096*
_DPSQ369                                  EQU  000002E2   2097*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2966 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2958 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2965 
_DRVHOS_IDO_BUF                           IMPT 00000000   2970 
_DRVHOS_IDO_CNT                           IMPT 00000000   2961 
_DRVHOS_IDO_POINT                         IMPT 00000000   2959 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2969 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2967 
_DRVHOS_USE_FLG                           IMPT 00000000   2956 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2957 
_DRVHOS_WORK_BUF                          IMPT 00000000   2971 
_DRV_ACT_FLG                              IMPT 00000000   2657  7834  7969  8680  9158 11168 16398 
_DRV_START_INI_NEW1              P             00001E98  13044 13168*
_DRV_START_KEEP                           IMPT 00000000   3988  8163  8781  9349  9371 14805 14819 14863 14966 16136 16306 
_DRV_START_KEP_WAIT              P             000025F0   8443 14787*15737 
_DT_100PER_0                              EQU  00000064   2001*
_DT_100PER_1                              EQU  000003E8   2000*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3325 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3324 
_DUM_SET1_DIG_TOP                         IMPT 00000000   3323 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5110 
_DUM_SET2_SPD_TOP                         IMPT 00000000   5111 
_DUM_UPAREA_DIG0                          IMPT 00000000   3322 
_DURING_TIM_FX                            IMPT 00000000   4655 11302 
_ELSE_CPU_START_POS_PRESET       P             00000FEC   8547  9696*
_ELSE_ERR_FLG1                            IMPT 00000000   2579 
_ELSE_ERR_FLG2                            IMPT 00000000   2580 
_EMG_CTL_FLG_PROC                P        EXPT 00001654   6150 11103*19560 
_EMG_OUT                                  IMPT 00000000   5874  6274 
_EMG_POS_FLG_PROC                         IMPT 00000000  19431 19556 
_EMG_SCANCUT_FLG                          IMPT 00000000   4777 
_EMG_STOP                                 IMPT 00000000   6087 15395 15454 15608 15826 16921 19260 
_EMG_STOP_SPEC                            IMPT 00000000  16571 16578 
_ENC360_BITERR_CNT                        IMPT 00000000   2544 
_ENC360_BITFLW_CNT                        IMPT 00000000   2543 
_ENC360_BITNML_CNT                        IMPT 00000000   2545 
_ENC360_HEX                               IMPT 00000000   2519 
_ENC360_INDT                              IMPT 00000000   2518 
_ENC360_INOLD                             IMPT 00000000   2517 
_ENC360_LINK_AREASIG                      IMPT 00000000   3637 
_ENC360_OVER_ENC                          IMPT 00000000   3529 
_ENC360_OVER_FLG                          IMPT 00000000   3528  8630 11132 16357 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3431 
_ENCPLS_DELT                              IMPT 00000000   3427 
_ENCPLS_POINT_SEL                         IMPT 00000000   3430 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3428 
_ENCPLS_SPD_POINT                         IMPT 00000000   3429 
_ENCPLS_SPD_TOTAL                         IMPT 00000000   3423 
_ENC_PLS_SPD                              IMPT 00000000   3424 
_ENC_PLS_SPD_DIR                          IMPT 00000000   3426 12072 
_ENC_SYSRST_CMD                           IMPT 00000000   2535 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   280

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ENC_TIMEXT_FLG                           IMPT 00000000   2536 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5101 
_END_CMD_LATCH                            IMPT 00000000   2630  7926  9063  9096 
_EPCHK_COM                                IMPT 00000000   4923  7377  7687 18533 19280 
_EPCHK_DLY_TIM                            IMPT 00000000   4926 18598 18624 18652 18700 18714 18833 18998 19013 19200 
_EPCHK_ERR_TIM                            IMPT 00000000   4927 18667 18722 18798 18839 18869 19021 19056 
_EPCHK_FLG                                IMPT 00000000   4924  7297  7375  7681  7691 18527 18585 19237 19265 
_EPCHK_FORCE_VONCMD                       IMPT 00000000   4930 18865 18877 19282 
_EPCHK_RETRY_CNT                          IMPT 00000000   4928 18940 18966 18989 19102 
_EPCHK_STEP                               IMPT 00000000   4925 18589 18675 18725 18782 18842 18891 18943 18969 19024 19082 19109 
                                                         19168 19213 
_EPCHK_STOP_DISENB                        IMPT 00000000   5247 
_EPCHK_STS                                IMPT 00000000   4929 18573 18593 18748 18764 18805 18909 18934 18960 19050 19064 19125 
                                                         19150 19156 19162 19185 19191 19241 19268 19287 19389 
_EPSEN_CLR                       P        EXPT 00003B38  18453 19383*
_EPSEN_IN_CHK                    P             00003B20  18881 19072 19361*
_EP_JMP_TBL                      P             0000363C  18482*18679 
_EP_SENCER_CHECK                 P        EXPT 000036C0   7294 18521 18522*
_EP_SENCHK_STOPCONF1             P             00003AEC  18565 19313*
_EP_SENCHK_STOPCONF2             P             00003AEC  18634 19314*
_EQ_CNT_DISP_STCNT                        EQU  00000002  13166*13189 
_EQ_DND_MAX                               EQU  00000002   2034*
_EQ_ORG_HIS                               EQU  0000000A  15030*15107 15108 
_EQ_ORG_OFDIG                             EQU  00000708  15029*15042 15108 
_EQ_ORG_ONDIG                             EQU  000006FE  15028*15041 15107 
_EQ_STEP_MAX                              EQU  00000005   2027*13958 
_EQ_STEP_MX2                              EQU  0000000A   2028*
_ERRCHK_ENC360                            IMPT 00000000   4604 
_ERR_FIRST_ST                             IMPT 00000000   4992 
_ERR_INFO_A01                             EQU  00000020   2253*
_ERR_INFO_A02                             EQU  00000022   2254*
_ERR_INFO_A03                             EQU  00000024   2255*
_ERR_INFO_A04                             EQU  00000026   2256*
_ERR_INFO_A05                             EQU  00000028   2257*
_ERR_INFO_A06                             EQU  0000002A   2258*
_ERR_INFO_A07                             EQU  0000002C   2259*
_ERR_INFO_A08                             EQU  0000002E   2260*
_ERR_INFO_B01                             EQU  00000030   2261*
_ERR_INFO_B02                             EQU  00000032   2262*
_ERR_INFO_B03                             EQU  00000034   2263*
_ERR_INFO_B04                             EQU  00000036   2264*
_ERR_INFO_B05                             EQU  00000038   2265*
_ERR_INFO_B06                             EQU  0000003A   2266*
_ERR_INFO_B07                             EQU  0000003C   2267*
_ERR_INFO_B08                             EQU  0000003E   2268*
_ERR_INFO_C01                             EQU  00000000   2245*
_ERR_INFO_C02                             EQU  00000004   2246*
_ERR_INFO_C03                             EQU  00000008   2247*
_ERR_INFO_C04                             EQU  0000000C   2248*
_ERR_INFO_C05                             EQU  00000010   2249*
_ERR_INFO_C06                             EQU  00000014   2250*
_ERR_INFO_C07                             EQU  00000018   2251*
_ERR_INFO_C08                             EQU  0000001C   2252*
_ERR_INFO_DLY_TIM                         IMPT 00000000   3523 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   281

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ERR_INFO_RST_CLR                         IMPT 00000000   6071  6618 
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3524 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3525 
_ERR_LEV_IN2                              IMPT 00000000   4277  6249 
_ERR_LEV_IN3                              IMPT 00000000   4278  6252 
_ERR_LEV_IN4                              IMPT 00000000   4279  6255 
_ERR_LEV_IN5                              IMPT 00000000   4280  6258 
_ERR_LEV_IN6                              IMPT 00000000   4281 
_EXQ_CTL_FLG_PROC                P        EXPT 000016AC   6151 11108 11159*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5298 19621 19931 19961 
_EXQ_LT_GET_FLG                           IMPT 00000000   5297 19456 19921 19963 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5299 19464 20089 
_EXQ_LT_PROC_CNT2                         IMPT 00000000   5300 19588 20183 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5301 19662 20272 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5302 19635 20222 
_EXQ_OUT                                  IMPT 00000000   5875  6298 
_EXQ_PROC_STEP_RECOVER           P             00003B58   6519 19434*
_EXQ_STOP                                 IMPT 00000000   6191 17684 
_EXQ_STOP_LEV_POS_CLR                     IMPT 00000000   6073 11275 
_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4846 16897 17057 
_EXTDRV_BTTN_USE                          IMPT 00000000   4839 16755 16870 17021 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4840 16808 16821 16996 
_EXT_BTTN_FLG                             IMPT 00000000   4843 16865 
_EXT_DRVBTTN_ERRTIM_SET          P             00002FE8  16882 17033 17051*
_EXT_DRVBTTN_INFO_MAKE           P             00002EB0  16743 16795*
_EXT_DRVBTTN_MODE                P        EXPT 00002E64  16731 16732*
_EXT_DRVBTTN_MODJG_CONF          P             00002F70  16749 16947*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   6026 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   6027 
_FPU_POS_HOKAN1                           IMPT 00000000   6039 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   6024 16492 16502 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   6025 
_FPU_TIM_HOKAN1                           IMPT 00000000   6040 
_FRCYCL_OF                                IMPT 00000000   5890  9167 12418 
_FRCYCL_ON                                IMPT 00000000   5891 12464 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3570 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3569 
_FREQ_SV_SPD                              IMPT 00000000   3502 
_FR_CYL_MASK_FLG                          IMPT 00000000   2629 12413 12459 
_FULCLS_ELSE_STS                          IMPT 00000000   4829 
_FULCLS_MATHED                            IMPT 00000000   4819 
_FULCLS_TIM_SETFLG                        IMPT 00000000   4827 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3065 
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4659 
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4660 
_FUL_CLS_RNADIG                           EQU  00000320   2005*
_FUL_DATA_INIT                            IMPT 00000000   6057 13887 
_FWD_REV_STSIG_OFF                        IMPT 00000000   6068 
_GMN_HANYO_DI1                            IMPT 00000000   5359 
_GMN_HANYO_OUT1_SQ                        IMPT 00000000   5360 
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3868 
_GPOSIN_HOS_RESET                         IMPT 00000000   6076 11281 
_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3944 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3945 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   282

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_HENSA_OVR_ENCPOS                         IMPT 00000000   2865 
_HENSA_OVR_OUTPLS                         IMPT 00000000   2864 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   6022 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   6023 
_HIST_DAT_SEND_COM                        IMPT 00000000   5420 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5419  6609 
_HIST_EVENT_COD                           IMPT 00000000   5421 
_HIST_KEP_SEND_COM                        IMPT 00000000   5422 
_HOLD1_DNSTART_POSCHK            P             000031D8  17373 17494*
_HOLD_RESTART_BA_JG              P             000033A8   7896 17867*
_HOLD_RESTART_OF_OUT             P             00003394   7892 17846*17986 
_HOLD_STOP_BA_JG                 P             0000348C   7841 18065*
_INCENC_ADD                               EQU  00000000   2056*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2686 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2685 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2687 
_INCHEN_ADD                               EQU  00000000   2055*
_INCREV_ADD                               EQU  00000000   2060*
_INCRNA_ADD                               EQU  00000000   2057*
_INCSTP_ADD                               EQU  00000000   2058*
_INC_ABS_ORGWORK                          IMPT 00000000   2912 
_INC_ABS_ORGWORK2                         IMPT 00000000   4331 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4332 
_INC_ENC360                               IMPT 00000000   2523 15038 18321 19834 19862 
_INC_ENC_MM_POS                           IMPT 00000000   2707 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2688 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4333 
_INC_RESET_STEP                           IMPT 00000000   5044 18110 18219 18268 
_INC_RESET_USE_F                          IMPT 00000000   5045 18113 18335 
_INC_RSTMODE_CHK                 P             000034B8   6883 18135*
_INC_RST_DATA_CHK                P             00003610  18205 18409*
_INC_RST_WORK_CLR                P        EXPT 0000349C  18101 18105*
_INC_SPEC_RSTCHK                 P        EXPT 000035E6  18141 18368 18369*
_INC_STOP_CNT                             IMPT 00000000   3243 
_INFO_CHK1_COD                            EQU  5AA51234   2195*
_INFO_CHK2_COD                            EQU  4321A55A   2196*
_INPUT_MODE_SW                            IMPT 00000000   2578 
_INP_ERR_FLG                              IMPT 00000000   4595 
_INP_MODE                                 IMPT 00000000   2610  6708  6744  6776  7242 11423 15386 15418 16029 18379 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5109 
_INT1MS_SCAN_02MS                         IMPT 00000000   4270 
_INT1MS_SCAN_03MS                         IMPT 00000000   4271 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4272 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4273 
_INT1MS_SCAN_10MS                         IMPT 00000000   4274 
_INT_CLS_CTL_FLG                          IMPT 00000000   2831 11080 11197 
_INT_CLS_DYL_TIM                          IMPT 00000000   2832 
_INT_CYC_DRV_STS                          IMPT 00000000   2830 
_INT_DND_CTL_STEP                         IMPT 00000000   2826 
_INT_DND_NEG_STEP                         IMPT 00000000   2834 
_INT_DND_STEP_FLG                         IMPT 00000000   2829 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2843 
_INT_POS_CTL_FLAG                         IMPT 00000000   2827 15623 
_INT_POS_CTL_STEP                         IMPT 00000000   2824  9760 10026 10098 10213 10600 11121 11805 11956 12881 13944 17338 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   283

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_INT_POS_STEP_FLG                         IMPT 00000000   2828 
_INT_SFY_INP_DAT                          IMPT 00000000   3630 
_INT_STP_INP_DAT                          IMPT 00000000   3631 
_INT_STP_INP_DAT1                         IMPT 00000000   3632 
_INT_STP_INP_DAT2                         IMPT 00000000   3633 
_INT_STP_INP_DAT3                         IMPT 00000000   3634 
_IN_PARAM_RNA_CHK                         IMPT 00000000   4027 15220 
_IN_POS_GPOINT_POS                        IMPT 00000000   3929 
_IN_RDY_FLG                               IMPT 00000000   2618  7395  7665  7744  9137 11137 
_IRQ_EMG_CNT                              IMPT 00000000   3624 
_IRQ_EMG_FLG                              IMPT 00000000   3623 
_IRQ_EMG_STP_CLR                          IMPT 00000000   6074  6468 
_IRQ_SFY_CNT                              IMPT 00000000   3626 
_IRQ_SFY_FLG                              IMPT 00000000   3625 
_IRQ_STP_CNT                              IMPT 00000000   3628 
_IRQ_STP_FLG                              IMPT 00000000   3627 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4185 
_KAJLIV_TTL_POINT                         IMPT 00000000   4184 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4182 
_KJPHOS_CAL_PRS                           IMPT 00000000   2993 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   2985 
_KJPHOS_IDO_BUF                           IMPT 00000000   2988 
_KJPHOS_IDO_CNT                           IMPT 00000000   2982 
_KJPHOS_IDO_POINT                         IMPT 00000000   2981 
_KJPHOS_IDO_TOTAL                         IMPT 00000000   2987 
_KJPHOS_SAMPLING1                         IMPT 00000000   6168  7440 
_KJPHOS_SIG_CLR                           IMPT 00000000   6167  6375 
_KJPHOS_USE_FLG                           IMPT 00000000   2980 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   2984 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4816 
_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4817 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4815 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   2991 
_KJYUU_IN_DAT_PV                          IMPT 00000000   2990 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   2992 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4826 
_KJYU_CMP_CMD                             IMPT 00000000   4885 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4891 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4890 
_KJ_AREATRD_SIG                           IMPT 00000000   4867 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4868 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3748 
_KJ_AREA_SIG                              IMPT 00000000   3747 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2471 
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3663 
_LINK_1000ROT_PLS                         IMPT 00000000   4203 
_LINK_1ROT_PLS                            IMPT 00000000   2758 18425 
_LINK_2ROT_PLS                            IMPT 00000000   4200 
_LINK_3ROT_PLS                            IMPT 00000000   4201 
_LINK_4ROT_PLS                            IMPT 00000000   4202 
_LINK_CLANK_DIG_MAK                       IMPT 00000000   6175 14102 
_LINK_CLANK_PV                            IMPT 00000000   3480 14106 20327 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3033 16481 
_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2681 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   284

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2680 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2682 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2683 18200 
_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2752 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2751 
_LINK_POS_OFFSET1                         IMPT 00000000   2845 
_LINK_POS_OFFSET2                         IMPT 00000000   2846 
_LINK_PV_ABSPLS                           IMPT 00000000   2844 14073 14180 16612 
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2805  9722 
_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2813 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2814 
_LNGTH_ADD_DATA                           IMPT 00000000   2839 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2840 
_LONG_BIT_TBL0                            IMPT 00000000   6098 13984 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3467 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3468 
_LOT_CHK_FLG                              IMPT 00000000   2650 12681 12804 12855 
_LOT_CNT_CNT                     P             00001C8C   7408 12669*
_LOT_CNT_FLG                              IMPT 00000000   2648 10640 12723 12738 12814 12860 
_LOT_SIG_FLG_CLR                 P        EXPT 00001D48   6481 12841 12851*19583 20178 
_LOT_SIG_SET                              IMPT 00000000  12668 12752 
_LSA1_FILETR_TIM                          IMPT 00000000   3729 
_LSA2_FILETR_TIM                          IMPT 00000000   3730 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3735 
_LSA_ENC_DIG                              IMPT 00000000   3722 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3723 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3724 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3725 
_LSA_ERRCLR_INI                           IMPT 00000000   6066  6379 
_LSA_ERR_SIG                              IMPT 00000000   3734 
_LSA_SIG_DT                               IMPT 00000000   3726 
_LSA_SIG_DT2                              IMPT 00000000   4051 
_LSA_SIG_OLD_DT                           IMPT 00000000   3727 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3728 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3586 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4459 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4460 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4461 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4462 
_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3565 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3564 
_LSI_LOAD_PLS                             IMPT 00000000   5171 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3554 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3555 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3556 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3537 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3550 
_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3548 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3547 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3551 
_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3557 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3558 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3559 
_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3560 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   285

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3561 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3538 
_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3648 
_LSI_SET_SPD_MINLMT                       IMPT 00000000   3649 
_LSI_SET_SPD_SV                           IMPT 00000000   3647 
_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3498 
_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3497 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3499 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3500 
_LT_RNA_REF_ERR_FLG1                      IMPT 00000000  14694 
_MAIN_CLK                                 IMPT 00000000   4763 
_MAIN_START_OK                            IMPT 00000000   2481 
_MASK2_SAFTY_MAK                 P             00002780   7330 15268*
_MASK2_SAFTY_SW_MOV              P             000027E0   8121 15337*
_MCN_DBG_COD11                            EQU  00000063   2230*
_MCN_DBG_COD21                            EQU  00000059   2232*
_MCN_DBG_COD22                            EQU  00000058   2233*
_MCN_DBG_COD23                            EQU  00000058   2234*
_MCN_DBG_COD31                            EQU  0000004F   2236*
_MCN_DBG_COD32                            EQU  0000004E   2237*
_MCN_DBG_COD33                            EQU  0000004D   2238*
_MCN_FUJI_DBG1                            EQU  000004D2   2240*
_MISS_KEN_CAM_IN                          IMPT 00000000   5376 
_MISS_KEN_CAM_OF_EDG                      IMPT 00000000   5377 
_MISS_KEN_CNT_STOP_SQ                     IMPT 00000000   5379 
_MISS_KEN_DI                              IMPT 00000000   5372 
_MISS_KEN_DI_REC_ON                       IMPT 00000000   5373 
_MISS_KEN_EMG_STOP_SQ                     IMPT 00000000   5380 
_MISS_KEN_INIT_FLG                        IMPT 00000000   5369 
_MISS_KEN_INIT_TIM                        IMPT 00000000   5370 
_MNWR_POS_CMD                             IMPT 00000000   2774  8859  8874  9946 10411 10538 10685 10886 10934 10969 11034 15625 
                                                         17186 
_MN_POS_CTRL_ACT                          IMPT 00000000   6045  9058 
_MN_POS_CTRL_START                        IMPT 00000000   6044  8649 
_MODE_AREA_MAKE                  P        EXPT 00000514   6158  7263*
_MODE_CHANGE                     P        EXPT 00000438   6156  7054*
_MODE_CNTCNF1_STOP_CHK           P             000011DC  10142*10471 
_MODE_CNTCOM1_STOP_CHK           P             00001194  10085*10467 10510 
_MODE_CNTCOM2_STOP_CHK           P             0000121C  10202*10487 
_MODE_CNT_STOP_CHK               P             0000101C   8920  9748*
_MODE_CSS_STOP_CHK               P             00001330   8905 10444*
_MODE_CTRL                       P        EXPT 00000524   6157  7287*
_MODE_DIC_STOP_CHK               P             000014FC   9049 10821*
_MODE_DUP_STOP_CHK               P             00001568   9036 10911*
_MODE_INC_STOP_CHK               P             000014E8   8936 10803*
_MODE_OPT_STOP_CHK               P             000014E8   9020 10802*
_MODE_SEL                                 IMPT 00000000   2611  7638  8313  8893  9113  9231  9407  9432  9541 10296 10449 11425 
                                                         11458 12557 12675 13096 13183 13251 14443 14565 14612 17144 19440 19812 
                                                         20073 
_MODE_SGL_STOP_CHK               P             00001280   8966 10291*
_MONI_CPUAB_PLSDELT                       IMPT 00000000   3904 
_MONI_DISP_MOD                            IMPT 00000000   5424 
_MONI_RDY_STEP                            IMPT 00000000   4985  7999  8021  8057  8208  8265  8283  8298  9214  9227  9241  9260 
_MONI_RESET_STEP                          IMPT 00000000   4984  6741  6760  6773  6791  6801  6827  6839  6863  6876  6928  6959 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   286

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                          6979  7000 
_MONI_SELF_STS1                           IMPT 00000000   4986 
_MONI_SELF_STS2                           IMPT 00000000   4987 
_MOT_REP_CNT                              IMPT 00000000   5031 
_MOT_REP_F                                IMPT 00000000   5030 13991 
_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5048 18287 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2584 
_MOV_ERR_FLG1                             IMPT 00000000   2581 
_MRTION_SEL                               IMPT 00000000   2616 
_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   6030 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   6029 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   6031 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4712 12344 12538 
_M_LINK_AREASIG                           IMPT 00000000   2690  6971 10594 11839 18181 19758 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2798 
_NEAR_IN_FLG                              IMPT 00000000   2673 13891 
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4311 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4309 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4310 
_NEG_DND_STOP_POS_END_F                   IMPT 00000000   5388 
_NEG_DND_STOP_USE_F                       IMPT 00000000   5387 
_NEG_EXITTIM                              IMPT 00000000   4681 
_NEWMASK_SEL_STOPMSK             P             00001B60   8143  8170 11192 12338*16123 16143 
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3566 
_NEW_TEP_CNT                              IMPT 00000000   3794 
_NOW_INC_DIG_MAK                          IMPT 00000000   6093 18195 
_NOW_MOTREP_DIR                           IMPT 00000000   5032 
_NOW_POS_PRESET_OUTPLS                    IMPT 00000000   6046  6401 
_NZ_TIM_CHK1                     P        EXPT 0000245C  14330 14385*
_NZ_TIM_OUT_PV1                           IMPT 00000000   3382 10807 14353 14395 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3383 14363 14410 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3380 14346 14389 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3381 14356 14404 
_OBJDIG_CLANK                             IMPT 00000000   4684 
_OBJ_ENC360                               IMPT 00000000   2525 
_OLD_RNAORG_POS1                          IMPT 00000000   2512 
_OPT_SGL_SFTY_MASK_CHK           P             00001C08  12184 12531*
_ORGIN2_STEP_FLG                          IMPT 00000000   4320 
_ORGIN_180CHK                    P             00002674   8063 15033*
_ORGIN_END_FLG1                           IMPT 00000000   3055 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3818 14518 14624 
_ORGIN_MOD2_SEL                           IMPT 00000000   3817 14485 14580 14639 14656 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3819 14511 14540 14618 
_ORGIN_MODE_FLG_CLR              P        EXPT 00002504   8513 11022 11294 14529 14535*
_ORGIN_MODE_SEL_START            P             00002518   8454 14560*
_ORGIN_MODE_SEL_WAIT             P             0000249C   8481 14438*
_ORGIN_MODE_START_WAIT           P             0000254C   8030 14608*
_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4376 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4377 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4378 
_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2588  6794 
_ORG_DRV_CNT_PV                           IMPT 00000000   3454 13179 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2587  6831 
_ORG_END_SIG_CLR                          IMPT 00000000   6050  6370 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   287

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ORG_FIRST_OBJPLS                         IMPT 00000000   3046 
_ORG_PRESET_TIM                           IMPT 00000000   2596  6398 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3455 10955 11204 13174 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3047 
_ORIGN_180ARA_FLG                         IMPT 00000000   4012 15078 15141 15169 16384 
_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3650 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3441 
_OUTPLS_DELT                              IMPT 00000000   3437 
_OUTPLS_DIV                               IMPT 00000000   2848 
_OUTPLS_MOD                               IMPT 00000000   2847 
_OUTPLS_POINT_SEL                         IMPT 00000000   3440 
_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3438 
_OUTPLS_SPD_POINT                         IMPT 00000000   3439 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3433 
_OUT_PLS_SPD                              IMPT 00000000   3434 
_OUT_PLS_SPD_DIR                          IMPT 00000000   3436 
_OVER1_JGDIG                              EQU  00000032   2039*
_OVERH_CALC_USE                           IMPT 00000000   4678 
_OVERH_MODE_SEL                           IMPT 00000000   4676 
_OVERLIDE_DT_SEL                          IMPT 00000000   3866 
_OVERLID_DEF_SET                          IMPT 00000000   6173  6636 
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3893 
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3856 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3854 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3855 
_OVER_RIDE_USEFUL                         IMPT 00000000   3888 
_OVER_RID_UPDN_LAT_DTMK                   IMPT 00000000   6171  8604 
_OVER_UPDN_DBGCNT                         IMPT 00000000   3890 
_OVRLIDE_LATE_MAX                         EQU  00000064   2271*
_PAR_BRKDISE_TIM                          IMPT 00000000   6121 
_PAR_BRKLOCK_TIM                          IMPT 00000000   6122 
_PAR_BTNER_TM                             IMPT 00000000   6139 17055 
_PAR_EP1STR_DLYTM                         IMPT 00000000  18456 18698 
_PAR_EP2FVINOF_ERTM                       IMPT 00000000  18457 18720 
_PAR_EP3BRKON_DLYTM                       IMPT 00000000  18458 18831 
_PAR_EP4EPINOF_ERTM                       IMPT 00000000  18459 18837 
_PAR_EP5RSTON_DLYTM                       IMPT 00000000  18460 18996 
_PAR_EP6RSTOF_INTTM                       IMPT 00000000  18462 19011 
_PAR_EP6RSTON_JGTM                        IMPT 00000000  18461 19019 
_PAR_EP6RST_RETRY                         IMPT 00000000  18463 19100 
_PAR_EP7AB_DLYTM                          IMPT 00000000  18464 18712 
_PAR_EP7END_DLYTM                         IMPT 00000000  18465 19198 
_PAR_EPCHK_SEL                            IMPT 00000000  18455 18550 
_PAR_EXTDRV_SEL                           IMPT 00000000   6138 16737 
_PAR_INCMODE_EPLS                         IMPT 00000000   6145 18223 
_PAR_INCMODE_SEL                          IMPT 00000000   6144 18374 
_PAR_MYUTERR_SEL                          IMPT 00000000   6140 15370 
_PAR_MYUTING_SEL                          IMPT 00000000   6135 15273 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6203  8137 16117 
_PAR_ORGDRV_CNT                           IMPT 00000000   6117 13177 
_PAR_ORGDRV_MOD                           IMPT 00000000   6116 10916 14471 
_PAR_SELFCHK_POWSEL                       IMPT 00000000   9651  9657 16418 
_PAR_SELF_WAIT_TM                         IMPT 00000000   6123 
_PAR_SFTY_BRKSEL                          IMPT 00000000   6120 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   288

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PAR_SLOCK_DLY2                           IMPT 00000000   6124 
_PAR_UPCHK_SEL1                           IMPT 00000000   6128 11704 11867 
_PAR_UPMASK_SPD                           IMPT 00000000   6131 12119 
_PLSOUTEND_FLG                            IMPT 00000000   5194 
_PLSOUTEND_PVPLS                          IMPT 00000000   5192 
_PLSOUTEND_SHIN                           IMPT 00000000   5193 
_PLS_OUTPUT_FLG                           IMPT 00000000   3373 
_PLS_OUT_END_STS                          IMPT 00000000   4746 
_PON_ERR_WAIT_TIM                         IMPT 00000000   5124 
_POSCANSEL_CMD                            IMPT 00000000   5313 11009 19993 20014 
_POSCAN_PROC_STEP_RECOVER        P             00003E10  20024 20067*
_POSCTL_CALC_ERR                          IMPT 00000000   3841 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3897 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3896 
_POSCTL_RL_PLS                            IMPT 00000000   3828 
_POSCTL_RL_SPD                            IMPT 00000000   3832 
_POSCTL_SET_SPD                           IMPT 00000000   3830 
_POSCTL_STEP_CMD                          IMPT 00000000   3839 
_POSCTL_STEP_FLG                          IMPT 00000000   3840 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3835 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3837 
_POSCTL_SV_PLS                            IMPT 00000000   3827 
_POSCTL_SV_SPD                            IMPT 00000000   3831 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3834 
_POSCTRL_CANSEL_RESET            P             00003DC0   7324 19989*
_POSHLD1_CHKLST_FLG                       IMPT 00000000   4979 17307 17317 17711 
_POSHLD1_FLG_CLR                 P             000032F4  17704*17910 
_POSHLD1_GENSKPOSWK                       IMPT 00000000   4958 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4959 
_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   4961 17523 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   4962 17510 
_POSHLD1_SIG_CHK                 P             00003320   7793 17739*
_POSHLD1_STEP1_STOPCMD_CHK       P             00003000   8821 17100*
_POSHLD1_STEP2_START_CHK         P             0000321C  17552*17828 
_POSHLD1_STOPBTTNCMD_CHK         P             000030C8   7830  7867 17175 17253*
_POSHLD1_STOPLATCH                        IMPT 00000000   4967  9975 10152 17270 17968 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4956 
_POSHLD1_STOP_CONFCHK            P             000030F4  17152 17291*
_POSHLD1_STOP_STEP                        IMPT 00000000   4955 17319 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4954 
_POSHLD_SET_DN_ACC                        IMPT 00000000   4966 
_POSINER_FLG                              IMPT 00000000   4907 
_POSINER_MOSTPV_POS                       IMPT 00000000   4903 
_POSINER_OLDPV_POS                        IMPT 00000000   4902 
_POSINER_PV_POS                           IMPT 00000000   4901 
_POSINER_RETRY_CNT                        IMPT 00000000   4909 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4910 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4911 
_POSINER_STS                              IMPT 00000000   4908 
_POSINER_SV_OVRPOS                        IMPT 00000000   4905 
_POSINER_SV_POS                           IMPT 00000000   4904 
_POSINER_SV_STPPOS                        IMPT 00000000   4906 
_POSLSI_CHK_CNT                           IMPT 00000000   2857 
_POSLSI_CHK_DLT                           IMPT 00000000   2858 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   289

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POSLSI_CHK_RESTPLS                       IMPT 00000000   2851 
_POSLSI_CHK_STS                           IMPT 00000000   2859 
_POSLSI_CMP_DATA                          IMPT 00000000   2841 
_POSLSI_DELT_POS                          IMPT 00000000   2842 
_POSLSI_DRIV_SHIN                         IMPT 00000000   2850 
_POSLSI_DRV_FRQ                           IMPT 00000000   3567 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2855 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2853 
_POS_CALC_ERR_FLG1                        IMPT 00000000   3540 
_POS_CALC_ERR_FLG2                        IMPT 00000000   3541 
_POS_CALC_ERR_INF1                        IMPT 00000000   3544 
_POS_CALC_ERR_INF2                        IMPT 00000000   3545 
_POS_CANSEL_CLR                  P             00001628  11018 11067*
_POS_CANSEL_STOP_CHK             P             000015D4   8843 10996*
_POS_CMP_1STEP_START_INI         P        EXPT 000021C4  13302 13818 13874*
_POS_CTRL_SQ_STS                          IMPT 00000000   2821  8072 11225 13050 13901 
_POS_DRV_DIRECT                           IMPT 00000000   2815 
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5213 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5212 
_POS_END_WAIT_TIM                         IMPT 00000000   5203 
_POS_FRQ_SPDMAX                           IMPT 00000000   3039 
_POS_GPOINT_POS                           IMPT 00000000   3930 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4938 17576 17602 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4939 17104 17194 17556 17580 17623 17709 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4940 17647 17751 17971 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4941 17422 17649 17784 17973 
_POS_HOLDABS_CALCF                        IMPT 00000000   4978 17296 
_POS_HOLD_CMD                             IMPT 00000000   4973  7804  7882 17199 17904 
_POS_HOLD_FLG                             IMPT 00000000   4974  7798  7811  7849 17906 18044 
_POS_HOLD_FLG_CLR                P             000033BC   7903 17896*17959 
_POS_HOLD_FLG_EXQ_CLR            P             000033FC  11308 17953*
_POS_HOLD_FLG_STR2CLR            P        EXPT 000033E8   6200  8421  8657 17928*17963 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   4975  7908  8562 17933 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   4976 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   4972  7876 17628 17902 
_POS_HOLD_RESTART_CHK            P             00003380   7872 17823*
_POS_LSI_ABSPLS                           IMPT 00000000   2903 
_POS_LSI_ACCLT1                           IMPT 00000000   3043 
_POS_LSI_ACCLT2                           IMPT 00000000   3044 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3539 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3543 
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3061 
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3060 
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2907 
_POS_LSI_OFFSET1                          IMPT 00000000   2905 
_POS_LSI_OFFSET2                          IMPT 00000000   2906 
_POS_LSI_OLDCNT                           IMPT 00000000   2909 
_POS_LSI_SLOW_STOP                        IMPT 00000000   6069 
_POS_LSI_SPDBAS                           IMPT 00000000   3042 
_POS_LSI_SPDLAT                           IMPT 00000000   3041 
_POS_LSI_SPDMAX                           IMPT 00000000   3040 
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2902 
_POS_STEP1_SEARCH                         IMPT 00000000  18128 18211 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3492 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   290

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PRD_DAI_POS0                             IMPT 00000000   3490 
_PRD_DAI_POS1                             IMPT 00000000   3491 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3978 
_PRESET_PV_FLGCLR                         IMPT 00000000   6092  6411 
_PS_DG_INF_CHK1                           EQU  00000000   2204*
_PS_DG_INF_CHK2                           EQU  0000003C   2209*
_PS_DG_INF_CONT                           EQU  00000004   2205*
_PS_DG_INF_LATE                           EQU  00000010   2208*
_PS_DG_INF_STLK                           EQU  0000000C   2207*
_PS_DG_INF_UNIT                           EQU  00000008   2206*
_PS_TIME                                  EQU  00000002   1998*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3241 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3445 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3446 
_PVP_WTJUD_AGL                            IMPT 00000000   6197 
_PVP_WTJUD_POS                            IMPT 00000000   6198 
_PVP_WTJUD_SNO                            IMPT 00000000   6196 
_PVX_AMPERR_TIM1                          IMPT 00000000   3179 
_PVX_AMPERR_TIM2                          IMPT 00000000   3180 
_PVX_AMPERR_TIM3                          IMPT 00000000   3181 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4736 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4717 
_PVX_DAI_POS0                             IMPT 00000000   2923 
_PVX_DAI_POS1                             IMPT 00000000   2924 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4701 
_PVX_DYHITO_POS                           IMPT 00000000   2931 
_PVX_IAMP_VLT                             IMPT 00000000   3182 
_PVX_INPPOS_TIM1                          IMPT 00000000   3155 
_PVX_MOTINS_AG2                           IMPT 00000000   4521 
_PVX_MOTINS_AG2X                          IMPT 00000000   4522 
_PVX_MOTINS_AG3                           IMPT 00000000   4527 
_PVX_MOTINS_AG3X                          IMPT 00000000   4528 
_PVX_MOTINS_AGL                           IMPT 00000000   4524 
_PVX_MOTINS_AGLX                          IMPT 00000000   4525 
_PVX_MOTINS_DAN                           IMPT 00000000   4532 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4533 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4531 
_PVX_MOTINS_INF                           IMPT 00000000   4535 
_PVX_MOTINS_POS                           IMPT 00000000   4518 
_PVX_MOTINS_PS2                           IMPT 00000000   4517 
_PVX_MOTINS_PS3                           IMPT 00000000   4519 
_PVX_RNA_STLORK                           IMPT 00000000   2925 
_PV_ENC_SPD_PER                           IMPT 00000000   3443 12121 
_PV_OUT_SPD_PER                           IMPT 00000000   3444 
_RDYON_CONF1                     P             00000DEC   8272  8411  9200*
_RDY_CHEAK                       P             00000788   7416  7784*
_RDY_HOLDSTP_FLGOUT              P             00003474   7420 18039*
_RDY_HOLDSTP_OF_FLGOUT           P             00003458  17990 18017*
_RDY_OF                                   IMPT 00000000   5885  8693  8774 16294 16411 
_RDY_ON                                   IMPT 00000000   5884  8348 16207 16249 
_RDY_SFTY_LOCK                            IMPT 00000000   3714 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3715 14812 14833 14956 
_RECOVER_WAIT_AREA_CHK           P             00003C98  19491 19701*20114 
_RENEA_ERR_RESET_INI                      IMPT 00000000  14693 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   291

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_REP_CAMOBJ_DIG                           IMPT 00000000   5033 
_RESET_CHEAK                     P        EXPT 00000000   6155  6229*
_RESET_CONF_CHK                  P             000002A4   6416  6696*
_RESET_END_OUT                            IMPT 00000000   5877  6590 
_RESET_ERR_SEQ_CLR                        IMPT 00000000   6054  6452  6600 
_RESET_ERR_SEQ_CLR1                       IMPT 00000000   6055 
_RESET_ERR_SEQ_CLR2                       IMPT 00000000   6056  6604 
_RESET_OUT                                IMPT 00000000   5876  6456  6556 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2715 
_RESET_ROTNUM_ZR                          IMPT 00000000   2714 
_REVCHK_DRIV_SHIN                         IMPT 00000000   4602 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4603 
_REVMOD_REVDN_DIG                         IMPT 00000000   4605 
_REV_CALC_WORK0                           IMPT 00000000   3232 
_REV_CALC_WORK1                           IMPT 00000000   3233 
_REV_CALC_WORK2                           IMPT 00000000   3234 
_REV_ERR_FLG                              IMPT 00000000   5234 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5237 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5238 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4601 
_REV_LATCH_ENCPOS                         IMPT 00000000   2873 
_REV_LATCH_OUTPLS                         IMPT 00000000   2872 
_REV_LATCH_RNAPOS                         IMPT 00000000   2874 
_RM1_CHK_OLDSTS                           IMPT 00000000   5058 
_RM1_CHK_TIME                             IMPT 00000000   5059 
_RM2_CHK_OLDSTS                           IMPT 00000000   5061 
_RM2_CHK_TIME                             IMPT 00000000   5062 
_RNAREV_ADD                               EQU  00000000   2061*
_RNASTP_ADD                               EQU  00000000   2059*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2964 
_RNA_ABS_MAXPOS                           IMPT 00000000   2943 
_RNA_ABS_MD2_C1                           IMPT 00000000   4335 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4336 
_RNA_ABS_MD2_C2                           IMPT 00000000   4337 
_RNA_ABS_MD_DT0                           IMPT 00000000   2927 
_RNA_ABS_MD_DT1                           IMPT 00000000   2928 
_RNA_ABS_MEMORG                           IMPT 00000000   2920 
_RNA_ABS_MINPOS                           IMPT 00000000   2942 
_RNA_ABS_ORGWORK                          IMPT 00000000   2911 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4329 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4330 
_RNA_ABS_POS                              IMPT 00000000   2919 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2941 
_RNA_ABS_WKMINPOS                         IMPT 00000000   2940 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4476 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4469 
_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4471 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4470 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4473 
_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4472 
_RNA_BBN_SET_TIME                         IMPT 00000000   4475 
_RNA_CMD_RD_CNT                           IMPT 00000000   2538 
_RNA_CMD_SND_CNT                          IMPT 00000000   2537 
_RNA_COM_ERR_CNT                          IMPT 00000000   2530 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   292

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_COM_NML_CNT                          IMPT 00000000   2531 
_RNA_CTL_POS0                             IMPT 00000000   2929 
_RNA_CTL_POS1                             IMPT 00000000   2930 
_RNA_ENC360                               IMPT 00000000   2522 
_RNA_ERR_RSTCHK                  P        EXPT 00002738  15199 15206*
_RNA_HOS_DELT                             IMPT 00000000   2932 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4488 
_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2706 
_RNA_OLD_STEP                             IMPT 00000000   4491 
_RNA_POS_OFFSET1                          IMPT 00000000   2917 
_RNA_POS_OFFSET2                          IMPT 00000000   2918 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4028 
_RNA_PROTOCOL_X                           IMPT 00000000   4031 
_RNA_RESET_FLG                            IMPT 00000000   2533 15226 
_RNA_RESET_TIM                            IMPT 00000000   2534 
_RNA_SCIF_ERR_CLR1               P             000025B8   6406 14697*15238 
_RNA_SCIF_ERR_CLR2                        IMPT 00000000   6085 
_RNA_STLORK                               IMPT 00000000   2922 
_RNA_STLORK_HALF                          IMPT 00000000   4327 
_RNA_STOP_CNT                             IMPT 00000000   3242 
_RNA_TECH_POINT                           IMPT 00000000   4487 
_RNA_TECH_POSBUF                          IMPT 00000000   4486 
_ROOT_MAIN_INP                            IMPT 00000000   5430 
_ROOT_MAIN_OUT                            IMPT 00000000   5431 
_ROT_CNTMODE_CHK                 P             00003F28  20254 20298*
_RST_DLY_TM                               EQU  000000C8   2017* 6553 
_RST_ERR_CHK_ERR                          IMPT 00000000   2878 
_RST_ERR_CHK_FLG                          IMPT 00000000   2876 11201 
_RST_MOD_POS_END                 P             000017CC   6586 11406*
_RST_MOD_POS_START               P             000017B8   6460 11378*
_SAME_TIM                                 IMPT 00000000   2658  8333  9403  9515 16192 
_SCAN_DBG_CNT                             IMPT 00000000   4782 
_SCAN_SMP_SIG                             IMPT 00000000   4769 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4760 
_SCAN_TIM_IN                              IMPT 00000000   4765 
_SCAN_TIM_POINT                           IMPT 00000000   4761 
_SCAN_TIM_TOTAL                           IMPT 00000000   4759 
_SDATCLS_OBJMM                            IMPT 00000000   3067 
_SDATCLS_OBJPLS                           IMPT 00000000   3066 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3068 
_SDATCLS_TRG_STEP                         IMPT 00000000   3070 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3069 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2760 
_SELFCHK_LOCK_SET                P             00000FB8   8701  9652*
_SELF_AD_LATCH                            IMPT 00000000   3703 
_SELF_BRK_LOCK                            IMPT 00000000   3699 
_SELF_CHK_MATHED                          IMPT 00000000   3698  9670 16431 
_SELF_CHK_SEL                             IMPT 00000000   2605  9120  9668 15538 16429 
_SELF_COM                                 IMPT 00000000   2603  7347  7671  7726 
_SELF_FIRST_END_FLG                       IMPT 00000000   3696 
_SELF_FLG                                 IMPT 00000000   2601  7345  7649  7675  7755 15291 15544 
_SELF_LOCK_FLG                            IMPT 00000000   3983  9664 16425 
_SELF_MOV_LENGTH                          IMPT 00000000   3706 
_SELF_MOV_SPEED                           IMPT 00000000   3707 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   293

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SELF_SECOND_ACT_FLG                      IMPT 00000000   3701 
_SELF_SECOND_STEP                         IMPT 00000000   3702 
_SELF_START_CONF                          IMPT 00000000   6042  7718 
_SELF_START_POS_LATCH                     IMPT 00000000   3705 
_SELF_START_WAIT_TM                       IMPT 00000000   2604 
_SELF_TIMING_SIG                          IMPT 00000000   3697  6485  9132 
_SEQAB_DP_TOP                             IMPT 00000000   6190 17130 17137 
_SET1_ACCLAT_TIM1                         IMPT 00000000   3142 
_SET1_AMP100P_VLT                         IMPT 00000000   3176 
_SET1_ARACHK_LNG1                         IMPT 00000000   3157 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4919 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4914 
_SET1_ATSLID_COEF1                        IMPT 00000000   4917 
_SET1_ATSLID_COEF2                        IMPT 00000000   4918 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4915 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4916 
_SET1_BREAK_DIG                           IMPT 00000000   3478 
_SET1_BREAK_TIM1                          IMPT 00000000   3476 
_SET1_CNT_CNT                             IMPT 00000000   3085 13135 
_SET1_CNT_TIM                             IMPT 00000000   3083 13116 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3168 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3169 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3170 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3187 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3189 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3188 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3191 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3190 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3193 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3192 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3195 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3194 
_SET1_DNAREA_INPX                         IMPT 00000000   3145 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3149 
_SET1_DNAREA_JUDG                         IMPT 00000000   3119 
_SET1_DNDINC_SPD1                         IMPT 00000000   3128 
_SET1_DND_DIGTOP                          IMPT 00000000   3757 
_SET1_DND_PLSTOP                          IMPT 00000000   3758 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3756 
_SET1_DND_STOP_SW                         IMPT 00000000   3755 
_SET1_DND_UPPLS                           IMPT 00000000   3759 
_SET1_EJECAM_OFR                          IMPT 00000000   5022 
_SET1_EJECAM_ONR                          IMPT 00000000   5021 
_SET1_ENC360_HOS1                         IMPT 00000000   3159 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3171 
_SET1_INCDIR_SEL1                         IMPT 00000000   3100 
_SET1_INCENC_ELNG                         IMPT 00000000   3162 
_SET1_INCHEN_ELNG                         IMPT 00000000   3161 
_SET1_INCPLS_1REV                         IMPT 00000000   3097 
_SET1_INCPLS_HOSM                         IMPT 00000000   3102 
_SET1_INCPLS_HOSN                         IMPT 00000000   3101 
_SET1_INCPOS_KP01                         IMPT 00000000   3140 
_SET1_INCREV_ELNG                         IMPT 00000000   3166 
_SET1_INCRNA_ELNG                         IMPT 00000000   3163 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   294

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_INCSTP_ELNG                         IMPT 00000000   3164 
_SET1_INPPOS_TIM1                         IMPT 00000000   3154 
_SET1_INTLIM_AGL                          IMPT 00000000   4944 
_SET1_INTLIM_PLS                          IMPT 00000000   4946 
_SET1_KAJAREA_ENO                         IMPT 00000000   4855 
_SET1_KAJAREA_SEL                         IMPT 00000000   4869 
_SET1_KAJAREA_SNO                         IMPT 00000000   4854 
_SET1_KATTCH_EAG                          IMPT 00000000   4877 
_SET1_KATTCH_SAG                          IMPT 00000000   4876 
_SET1_KATTCH_SPD                          IMPT 00000000   4545 
_SET1_KJEND_DIG1                          IMPT 00000000   3746 
_SET1_KJEND_DIG2                          IMPT 00000000   4858 
_SET1_KJEND_STEP1                         IMPT 00000000   3745 
_SET1_KJSTR_DIG1                          IMPT 00000000   3744 
_SET1_KJSTR_DIG2                          IMPT 00000000   4857 
_SET1_KJSTR_STEP1                         IMPT 00000000   3743 
_SET1_LSAABN_AGL1                         IMPT 00000000   3732 
_SET1_LSAABN_AGL2                         IMPT 00000000   3733 
_SET1_MAX_KJYU                            IMPT 00000000   4188 
_SET1_MISCAM_OFR                          IMPT 00000000   5024 
_SET1_MISCAM_ONR                          IMPT 00000000   5023 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3114 
_SET1_MOTREP_CNT                          IMPT 00000000   5014 
_SET1_MOTREP_SPD                          IMPT 00000000   5013 
_SET1_MOTREP_STGE                         IMPT 00000000   5012 
_SET1_MOTREP_STGS                         IMPT 00000000   5011 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5010 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3104 
_SET1_MRTION_SEL1                         IMPT 00000000   3197  7267 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3198 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3175 
_SET1_OBJARA_INPX                         IMPT 00000000   3146 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3150 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3152 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3222 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3208 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3203 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3211 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3215 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3256 
_SET1_OVERLIDE_COF                        IMPT 00000000   3867 
_SET1_PLSAHI_PLS                          IMPT 00000000   3783 
_SET1_PLSALO_PLS                          IMPT 00000000   3782 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3258 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3259 
_SET1_REVDAT_SPD1                         IMPT 00000000   3131 
_SET1_REVDAT_SPD2                         IMPT 00000000   3134 
_SET1_REVDAT_SPD3                         IMPT 00000000   3135 
_SET1_RNADIR_SEL1                         IMPT 00000000   3099 
_SET1_RNAORG_POS1                         IMPT 00000000   3115 
_SET1_RNAPOS_KP01                         IMPT 00000000   3141 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3116 
_SET1_RNAPOS_MINP                         IMPT 00000000   3117 
_SET1_RNAREV_ELNG                         IMPT 00000000   3167 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   295

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_RNASTP_ELNG                         IMPT 00000000   3165 
_SET1_ROTCAM_OFR                          IMPT 00000000   5020 
_SET1_ROTCAM_ONR                          IMPT 00000000   5019 
_SET1_RPARAM_TOP1                         IMPT 00000000   3093 
_SET1_SSCURV_TIM1                         IMPT 00000000   3143 
_SET1_STDINC_SPD1                         IMPT 00000000   3130 
_SET1_TEPCTL_SPD1                         IMPT 00000000   3790 
_SET1_TEPLAT_DAT1                         IMPT 00000000   3137 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3138 
_SET1_UPAREA_DIG0                         IMPT 00000000   3221 
_SET1_UPAREA_DIG1                         IMPT 00000000   3158 
_SET1_UPAREA_INPX                         IMPT 00000000   3144 
_SET1_UPAREA_INPXPLS                      IMPT 00000000   3148 
_SET1_UPAREA_JUDG                         IMPT 00000000   3118 
_SET1_UPAREA_PLS0                         IMPT 00000000   3206 
_SET1_UPAREA_PLS1                         IMPT 00000000   3207 
_SET1_UPAREA_POS0                         IMPT 00000000   3202 
_SET1_UPAREA_POS1                         IMPT 00000000   3038 
_SET1_UPAREA_SPD0                         IMPT 00000000   3210 
_SET1_UPAREA_SPD1                         IMPT 00000000   3129 
_SET1_UPAREA_TIM0                         IMPT 00000000   3214 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3132 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4187 
_SET2_INTLIM_AGL                          IMPT 00000000   4945 
_SET2_INTLIM_PLS                          IMPT 00000000   4947 
_SET360_UPAREA_DIG1                       IMPT 00000000   4043 
_SET360_UPAREA_PLS1                       IMPT 00000000   4044 
_SETC_KJEND_DIG1                          IMPT 00000000   4126 
_SETC_KJEND_DIG2                          IMPT 00000000   4865 
_SETC_KJSTR_DIG1                          IMPT 00000000   4125 
_SETC_KJSTR_DIG2                          IMPT 00000000   4864 
_SETD_DEGSPD_MAX                          IMPT 00000000   3294 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4236 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4237 
_SETSQ206_BIT11                  P        EXPT 000025D8  14735 14758*
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4107 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4106 
_SETXY_UPAREA_DIG                         IMPT 00000000   4102 
_SETXY_UPAREA_PLS                         IMPT 00000000   4101 
_SETX_ACCERR_DLY1                         IMPT 00000000   4444 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4439 
_SETX_ACCERR_SEL                          IMPT 00000000   4449 
_SETX_BANK_USELFUL                        IMPT 00000000   3656 
_SETX_BREAK_DIG2                          IMPT 00000000   4172 
_SETX_BREAK_TIM2                          IMPT 00000000   4173 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3124 
_SETX_DAIPOS_MINP                         IMPT 00000000   3125 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3120 
_SETX_DNAREA_JG_PLS                       IMPT 00000000   3121 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3063 
_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3064 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4822 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4456 
_SETX_INCPLS_HOSM                         IMPT 00000000   3103 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   296

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_KJEND_DIG1                          IMPT 00000000   4121 
_SETX_KJEND_DIG2                          IMPT 00000000   4861 
_SETX_KJSTR_DIG1                          IMPT 00000000   4120 
_SETX_KJSTR_DIG2                          IMPT 00000000   4860 
_SETX_KJYUCLS_OBJ                         IMPT 00000000   4824 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5114 
_SETX_LINK_UP_POS_DN                      IMPT 00000000   2701 19858 
_SETX_LINK_UP_POS_UP                      IMPT 00000000   2700 19860 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4433 
_SETX_MOTREP_DIR                          IMPT 00000000   5028 
_SETX_OUTPLS_HOSA                         IMPT 00000000   3111 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3112 
_SETX_OVERH_AMP                           IMPT 00000000   4675 
_SETX_OVERH_LNGTH                         IMPT 00000000   4674 
_SETX_POS_CTL_MATH                        IMPT 00000000   2734  6911 11474 11980 12075 12210 12906 17498 18160 18280 18414 19448 
                                                         19549 19723 19818 20081 20313 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2733 20320 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2725 17334 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2726 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2722 11614 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2723 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2724 11726 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2732 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2728 
_SETX_POS_STEP_MAX                        IMPT 00000000   2735 11606 11721 17312 18271 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4489 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4490 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4948 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4949 
_SETX_UPAREA_DIG                          IMPT 00000000   3036 10612 11972 12898 
_SETX_UPAREA_PLS                          IMPT 00000000   3034 11631 18420 
_SETX_UPAREA_RNA                          IMPT 00000000   3035 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3051 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3053 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3050 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3052 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4455 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3109 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3108 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3107 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3106 
_SETY_KJEND_DIG1                          IMPT 00000000   4123 
_SETY_KJEND_DIG2                          IMPT 00000000   4863 
_SETY_KJSTR_DIG1                          IMPT 00000000   4122 
_SETY_KJSTR_DIG2                          IMPT 00000000   4862 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4951 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4952 
_SET_ACC_OVRLIDE                          IMPT 00000000   3878 
_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3846 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3844 
_SET_DN_ACC_LATE                          IMPT 00000000   3895 
_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3870 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3869 
_SET_NZ_TIM_DAT                  P        EXPT 00002424  13895 14329 14342*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   297

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET_PV_ABS_TO_OBJ                        IMPT 00000000   6172  6383  6560  6632 18191 
_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3858 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3857 
_SET_SPDBAS_PLS                           IMPT 00000000   3845 
_SET_SPD_OVRLIDE                          IMPT 00000000   3877 
_SET_UP_ACC_LATE                          IMPT 00000000   3894 
_SET_UP_TIM                               IMPT 00000000   2659  8329  9461  9510  9585  9609 16188 
_SFTYCHK_CLANK_DEG                        IMPT 00000000   5180 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5181 
_SFTYCHK_RNA_POS                          IMPT 00000000   3374 
_SFTY_CTL_IN_DAT                          IMPT 00000000   2553 
_SFTY_IN_DAT                              IMPT 00000000   2552  6751  9218 16667 
_SFTY_LOCK_DLYTM                          IMPT 00000000   3977 
_SFTY_MASK_END                   P             00001BD0   8183  8634 11929 12371 12437*16157 16361 
_SFTY_MASK_START                 P             00001BB0   8977 12388 12409*12447 
_SFTY_MUTING_MODE_ERR            P             000027F8   7334 15366*
_SH2_ADD_PLS                              IMPT 00000000   5618 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5578 
_SH2_CNT_REST_HF                          IMPT 00000000   5589 
_SH2_CNT_REST_PLS                         IMPT 00000000   5573 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5626 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5627 
_SH2_HD_CNT_STOP                          IMPT 00000000   6112  7517 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6104 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6102 
_SH2_HD_HLDSTOP2                          IMPT 00000000   7776 18024 18050 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6110 
_SH2_HD_POS_START                         IMPT 00000000   6106 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6108 
_SH2_HD_STEP_END                          IMPT 00000000   6114  7542 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5574 
_SH2_LOT_CNT_A                            IMPT 00000000   5585 
_SH2_LOT_STEP_A                           IMPT 00000000   5586 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5580 
_SH2_NOW_STEP                             IMPT 00000000   5624 
_SH2_PLSI_ACCS                            IMPT 00000000   5582 
_SH2_PLSI_LATE                            IMPT 00000000   5583 
_SH2_REST_PLS_RL                          IMPT 00000000   5576 
_SH2_REST_PLS_SR                          IMPT 00000000   5575 
_SH2_REST_RL_HF                           IMPT 00000000   5588 
_SH2_REST_SR_HF                           IMPT 00000000   5587 
_SH2_STEP1_FRQ                            IMPT 00000000   5606 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5601 
_SH2_STEP1_REST_P                         IMPT 00000000   5596 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5591 
_SH2_STEP1_TIM                            IMPT 00000000   5611 
_SH2_STEP2_FRQ                            IMPT 00000000   5607 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5602 
_SH2_STEP2_REST_P                         IMPT 00000000   5597 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5592 
_SH2_STEP2_TIM                            IMPT 00000000   5612 
_SH2_STEP3_FRQ                            IMPT 00000000   5608 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5603 
_SH2_STEP3_REST_P                         IMPT 00000000   5598 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   298

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP3_SV_PLS                         IMPT 00000000   5593 
_SH2_STEP3_TIM                            IMPT 00000000   5613 
_SH2_STEP4_FRQ                            IMPT 00000000   5609 
_SH2_STEP4_PV_PLS                         IMPT 00000000   5604 
_SH2_STEP4_REST_P                         IMPT 00000000   5599 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5594 
_SH2_STEP4_TIM                            IMPT 00000000   5614 
_SH2_STEP5_FRQ                            IMPT 00000000   5610 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5605 
_SH2_STEP5_REST_P                         IMPT 00000000   5600 
_SH2_STEP5_SV_PLS                         IMPT 00000000   5595 
_SH2_STEP5_TIM                            IMPT 00000000   5615 
_SH2_STEP_FRQ                             IMPT 00000000   5622 
_SH2_STEP_PV_PLS                          IMPT 00000000   5620 
_SH2_STEP_REST_P                          IMPT 00000000   5621 
_SH2_STEP_SV_PLS                          IMPT 00000000   5619 
_SH2_STEP_TIM                             IMPT 00000000   5623 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5579 
_SH2_TOTAL_PLS                            IMPT 00000000   5617 
_SH4_ADD_PLS                              IMPT 00000000   5561 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5523 
_SH4_CNT_REST_HF                          IMPT 00000000   5533 
_SH4_CNT_REST_PLS                         IMPT 00000000   5519 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5569 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5570 
_SH4_HD_CNT_STOP                          IMPT 00000000   6111  7529 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6103 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6101 
_SH4_HD_HLDSTOP2                          IMPT 00000000   7775 18022 18073 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6109 
_SH4_HD_POS_START                         IMPT 00000000   6105 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6107 
_SH4_HD_STEP_END                          IMPT 00000000   6113  7555 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5520 
_SH4_LOT_CNT_A                            IMPT 00000000   5529 
_SH4_LOT_STEP_A                           IMPT 00000000   5530 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5525 
_SH4_NOW_STEP                             IMPT 00000000   5567 
_SH4_ORG_DIR_REV                          IMPT 00000000   6188 15167 
_SH4_PLSI_ACCS                            IMPT 00000000   5527 
_SH4_PLSI_LATE                            IMPT 00000000   5528 
_SH4_REST_PLS_RL                          IMPT 00000000   5522 
_SH4_REST_PLS_SR                          IMPT 00000000   5521 
_SH4_REST_RL_HF                           IMPT 00000000   5532 
_SH4_REST_SR_HF                           IMPT 00000000   5531 
_SH4_STEP1_FRQ                            IMPT 00000000   5550 
_SH4_STEP1_PV_PLS                         IMPT 00000000   5545 
_SH4_STEP1_REST_P                         IMPT 00000000   5540 
_SH4_STEP1_SV_PLS                         IMPT 00000000   5535 
_SH4_STEP1_TIM                            IMPT 00000000   5555 
_SH4_STEP2_FRQ                            IMPT 00000000   5551 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5546 
_SH4_STEP2_REST_P                         IMPT 00000000   5541 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5536 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   299

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP2_TIM                            IMPT 00000000   5556 
_SH4_STEP3_FRQ                            IMPT 00000000   5552 
_SH4_STEP3_PV_PLS                         IMPT 00000000   5547 
_SH4_STEP3_REST_P                         IMPT 00000000   5542 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5537 
_SH4_STEP3_TIM                            IMPT 00000000   5557 
_SH4_STEP4_FRQ                            IMPT 00000000   5553 
_SH4_STEP4_PV_PLS                         IMPT 00000000   5548 
_SH4_STEP4_REST_P                         IMPT 00000000   5543 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5538 
_SH4_STEP4_TIM                            IMPT 00000000   5558 
_SH4_STEP5_FRQ                            IMPT 00000000   5554 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5549 
_SH4_STEP5_REST_P                         IMPT 00000000   5544 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5539 
_SH4_STEP5_TIM                            IMPT 00000000   5559 
_SH4_STEP_FRQ                             IMPT 00000000   5565 
_SH4_STEP_PV_PLS                          IMPT 00000000   5563 
_SH4_STEP_REST_P                          IMPT 00000000   5564 
_SH4_STEP_SV_PLS                          IMPT 00000000   5562 
_SH4_STEP_TIM                             IMPT 00000000   5566 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5524 
_SH4_TOTAL_PLS                            IMPT 00000000   5560 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4006 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4007 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000   9688  9704 
_SINKAKU_INF                              IMPT 00000000   3275 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3277 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3276 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3279 
_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3278 
_SINWK_CALC_SCAN                          IMPT 00000000   3287 
_SIN_RCAMOF_SW1                           IMPT 00000000   3303 
_SIN_RCAMON_SW1                           IMPT 00000000   3302 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3282 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3306 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3281 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3305 
_SLIDALM_CHK_FLG                          IMPT 00000000   4364 
_SLIDALM_CHK_POS                          IMPT 00000000   4366 
_SLIDALM_CHK_TIM                          IMPT 00000000   4365 
_SLIDALM_POS_MINAS                        IMPT 00000000   4368 
_SLIDALM_POS_PULAS                        IMPT 00000000   4367 
_SPD_PER_MAX                              EQU  00002710   1999*16483 16500 
_SPLCHK_FLG                               IMPT 00000000   4998 
_SPLCHK_TIM                               IMPT 00000000   4999 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5071 
_SQ_CBWK_TOP                              IMPT 00000000   6099  7576  8225  8609  9468  9484 11210 11218 11232 13030 14001 14742 
                                                         14763 15084 15147 15447 15869 15930 15950 16337 16390 16764 16914 17204 
                                                         17416 17585 17591 17633 17640 17676 17715 17744 17777 17978 19289 19393 
                                                         19470 19594 19641 19668 20095 20189 20228 20278 
_SQ_OVERH_CMP                             IMPT 00000000   4677 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4026 15214 
_START_ACK_COD                            EQU  00004321    213*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   300

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_START_CNT_INFO_OUT              P             00001E30   8405 12989 13090*
_START_FLG_AFTER_EMG                      IMPT 00000000   3356 
_START_REQ_COD                            EQU  00009876    212*
_START_SFTY_LOCK_CLR             P             00002658   8708 11185 14950*16438 
_STEP_CMPERR_TIMX1                        IMPT 00000000   5333 
_STEP_SIG_DISP                   P        EXPT 00002214   6161  8807 13939*
_STEP_SIG_DSP_CLR                P        EXPT 0000220C   6160  9143 11127 13930*
_STOPCHK_INC_POS                          IMPT 00000000   3240 
_STOPCHK_RNA_POS                          IMPT 00000000   3239 
_STOPPING_STOP_POS                        IMPT 00000000   2637 14080 14188 
_STOPPING_STOP_TIM                        IMPT 00000000   2639 14070 14223 14278 
_STOPPING_TIM_CHK                P        EXPT 0000231C   6165 14145*
_STOPPING_TIM_FLG                         IMPT 00000000   2638 14028 14060 14084 14150 14298 15852 
_STOPPING_TIM_MOV_INI            P        EXPT 0000227C   6163  8643 14024*16369 
_STOPPING_TIM_PV1                         IMPT 00000000   2640 14089 14175 14244 14291 
_STOPPING_TIM_PV2                         IMPT 00000000   2641 14091 14295 
_STOPPING_TIM_STOP_INI           P        EXPT 00002298   6164 11244 14056*
_STOPPING_VLVOFF_POS                      IMPT 00000000   2636 14076 14184 
_STOP_360ENC_DIG                          IMPT 00000000   4059 
_STOP_ERR_CHK                             IMPT 00000000   6065 14313 
_STOP_ERR_LATCH                           IMPT 00000000   3477 14095 14304 
_STOP_LATCH                               IMPT 00000000   2619  7505 10263 10698 11078 
_STOP_LATCH_B                             IMPT 00000000   2620  7497 10013 10020 10177 10207 10480 10696 10750 11076 17263 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2870 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2868 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2867 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2869 
_STOP_LTH_OUT                    P        EXPT 00001260  10054 10238 10254 10259*10776 
_STP_RST_FLG_PROC                P        EXPT 000017A4   6152 11355*
_STR_ENC3600_DIG                          IMPT 00000000   2787 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2788 
_SVCHK_SCAN                               IMPT 00000000   4696 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3225 
_SVP_INTLIM_AGL                           IMPT 00000000   6193 
_SVP_INTLIM_POS                           IMPT 00000000   6194 
_SVP_INTLIM_SNO                           IMPT 00000000   6192 
_SVP_WTTIM_MAX                            IMPT 00000000   6195 17571 
_SVX_DNM_MAXSPM                           IMPT 00000000   4245 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3531 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3532 
_SV_CHG_FLG1                              IMPT 00000000   3318 
_SV_CHG_FLG2                              IMPT 00000000   3319 
_SV_CONST_SUB_PV                          IMPT 00000000   3946 
_SV_DAT_ERR1                              IMPT 00000000   3320 
_SV_OBJ360                                IMPT 00000000   3503 
_SV_POS_CTL_STEP                          IMPT 00000000   2820 19496 20119 
_SV_REAL_PLS                              IMPT 00000000   3947 
_SV_REAL_SUB_PV                           IMPT 00000000   3948 
_SV_UP_HOLD_CHK                  P             000017F8   8616 11454*16343 
_SW_DEV_MASK_FLG                          IMPT 00000000   2628 12441 15278 
_SYS_BSAME_TIM                            EQU  000001F4   2010* 8332  9402 16191 
_SYS_SETUP_TIM                            EQU  000007D0   2011* 9508 
_SYS_STOPPING_TIM                         EQU  00000032   2012*
_TABLE_ERR_FLG                            IMPT 00000000   2485 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   301

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TBL_ANS_ACCTIM                           IMPT 00000000   4241 
_TBL_ANS_ACC_SEL                          IMPT 00000000   4243 
_TBL_ANS_MAXSPM                           IMPT 00000000   4242 
_TBL_USE_POS0                             IMPT 00000000   4240 
_TECH2_KJYU_DIG                           IMPT 00000000   4508 
_TECH2_KJYU_LNG                           IMPT 00000000   4506 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4499 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4500 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4501 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4502 
_TECH2_KJYU_LT2PLS                        IMPT 00000000   4503 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4504 
_TECH2_KJYU_PLS                           IMPT 00000000   4507 
_TECH2_KJYU_PLSX                          IMPT 00000000   4505 
_TECH2_KN_FLG                             IMPT 00000000   4509 
_TECH_USED_F                              IMPT 00000000   4546 
_TECH_WK_DIG1                             IMPT 00000000   4539 
_TECH_WK_DIG2                             IMPT 00000000   4540 
_TECH_WK_DIG3                             IMPT 00000000   4541 
_TECH_WK_DIG4                             IMPT 00000000   4542 
_TECH_WK_PLS1                             IMPT 00000000   4538 
_TEPA_PLSCNT_CHK                          IMPT 00000000   6082  7402 
_TEPA_PLSCNT_CLR                          IMPT 00000000   6081  6624  7657  9398 
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4402 
_TEPA_START_CHK                           IMPT 00000000   6080  9554 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3804 
_TEP_CHG_SPD1                             IMPT 00000000   3808 
_TEP_CHG_SPD2                             IMPT 00000000   3809 
_TEP_CNTSMP_TIM                           IMPT 00000000   4752 
_TEP_DND_SPD_PLS                          IMPT 00000000   4751 
_TEP_FLG_CLR                              IMPT 00000000   6079  6628  8079 
_TEP_INPLS_FLG                            IMPT 00000000   3799 
_TEP_IN_ADD                               IMPT 00000000   3793 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3806 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3805 
_TEP_MODE_DRV                             IMPT 00000000   3795 10826 14799 
_TEP_POS_ADD_CNT                          IMPT 00000000   3791 
_TEP_REVPLS_LT_FLG                        IMPT 00000000   4753 
_TEP_STEP_FLG                             IMPT 00000000   3796 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3803 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3802 
_TEP_STEP_WTTM                            IMPT 00000000   3797 
_TIM_1MSEC                                EQU  0000000A   1996* 2010  2011  2012  2017 
_TIM_CNT010MS_DT                          EQU  0000000A   2326*
_TIM_CNT100MS_DT                          EQU  00000064   2327*
_TIM_SEC                                  EQU  00002710   1995*
_TMP_SCI_DEBUG                            IMPT 00000000   5275 
_TRD_CLR_CMD                              IMPT 00000000   5407  6613 
_TRD_DP_MOV_CNT                           IMPT 00000000   5413 
_TRD_DP_MOV_FLG                           IMPT 00000000   5412 
_TRD_EVENT_COD                            IMPT 00000000   5402 
_TRD_EVENT_LATCH                          IMPT 00000000   5404 
_TRD_LATE_PV                              IMPT 00000000   5409 
_TRD_LATE_SV                              IMPT 00000000   5408 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   302

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TRD_POINT_END                            IMPT 00000000   5406 
_TRD_POINT_EVENT                          IMPT 00000000   5405 
_TRD_SMP_DAT1                             IMPT 00000000   5393 
_TRD_SMP_DAT2                             IMPT 00000000   5394 
_TRD_SMP_DAT3                             IMPT 00000000   5395 
_TRD_SMP_DAT4                             IMPT 00000000   5396 
_TRD_SMP_DAT5                             IMPT 00000000   5397 
_TRD_SMP_DAT6                             IMPT 00000000   5398 
_TRD_SMP_DAT7                             IMPT 00000000   5399 
_TRD_SMP_DAT8                             IMPT 00000000   5400 
_TRD_SMP_FLG                              IMPT 00000000   5410 
_TRD_SMP_POINT                            IMPT 00000000   5401 
_UP360_CHK_LIST                           IMPT 00000000   4041 
_UP360_JGDIG                              EQU  00000028   2038*
_UPDN_DIRJG_DIG                           EQU  00000708   2004*18320 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5225 
_UPLIMIT_START_F                          IMPT 00000000   4707 
_UPLIMIT_SV_SPD                           IMPT 00000000   4706 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4667 12362 12621 15343 
_UPMSK2_DRVSEL                            IMPT 00000000   4669 12203 
_UPMSK2_MATH                              IMPT 00000000   4668 12350 
_UPMSK2_MOD                               IMPT 00000000   4665  8093 12356 12587 12615 15320 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4666 15288 15314 15341 15375 15440 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4670 15377 
_UP_AREA_DATCHK                           IMPT 00000000   6048 
_UP_HOLD_AREA_MASK               P             00001AF0   8960 12158*
_UP_HOLD_DIG                              IMPT 00000000   2625 10610 11970 12896 
_UP_HOLD_FLG                              IMPT 00000000   2626  8970 10316 11825 11844 11883 12022 12162 12220 12248 12266 
_UP_HOLD_FLG_CLR1                P             00001B38   8620  9148 11112 11925 12244*16347 
_UP_HOLD_FLG_CLR2                P             00001B4C   8624 11116 12262*16351 
_UP_HOLD_MASK_SPDCHK             P             00001A94  11874 12067*
_UP_HOLD_MISS                    P             000019F8  10344 11920*
_UP_HOLD_SIG_MAK                 P             00001A14  11850 11952*
_UP_HOLD_STEP                             IMPT 00000000   2622 10602 11537 11560 11958 12883 
_UP_HOLD_STEP1                            IMPT 00000000   2623 11491 11539 11562 
_UP_HOLD_STEP2                            IMPT 00000000   2624 11493 11541 11564 
_UP_LOT_SIG_MAK                  P             00001D68  12730 12877*
_VALV_OFF_DIG_CLANK                       IMPT 00000000   3479 14108 
_VALV_ON_FLG                              IMPT 00000000   4053 
_VFRY_IN_CHK                     P             00003B08  18772 19339*
_VIB_DLY_TIM                              IMPT 00000000   4195 
_VIB_GET_SET_TIM                          IMPT 00000000   4192 
_VIB_PV_UP_TIM                            IMPT 00000000   4194 
_VIB_STEP_COM                             IMPT 00000000   4191 
_VIB_STEP_FLG                             IMPT 00000000   4190 
_VIB_USE_SET_TIM                          IMPT 00000000   4193 
_VON1_OF                                  IMPT 00000000   5879 
_VON1_ON                                  IMPT 00000000   5878 
_VON2_OF                                  IMPT 00000000   5881 
_VON2_ON                                  IMPT 00000000   5880 
_VON3_OF                                  IMPT 00000000   5883 
_VON3_ON                                  IMPT 00000000   5882 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2351* 7155  7199  8315  8895  9409 11460 13098 13185 13253 15388 15420 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   303

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         17146 19443 19814 20076 
_W1DIC                                    EQU  00000020   2353* 6784  9115  9233  9543 12677 
_W1DUP                                    EQU  00000040   2354* 6710  6778  9032  9115  9233 12677 14445 14567 14614 
_W1END                                    EQU  00000080   2355*
_W1INC                                    EQU  00000002   2349* 7217  8932  9115  9233 11460 18381 19443 19814 20076 
_W1LNC                                    EQU  00000400   2359*
_W1LNO                                    EQU  00000800   2360*
_W1OFF                                    EQU  00000001   2348* 6746  7075  7078  7095  7166  7640 
_W1OPT                                    EQU  00000010   2352* 6723  7082  9012 11460 12553 15388 15426 16037 16957 17146 19443 
                                                         19814 20076 
_W1REV                                    EQU  00004000   2367*
_W1RNC                                    EQU  00000100   2356*
_W1RNO                                    EQU  00000200   2357*
_W1RST                                    EQU  00008000   2368* 6392  6540 15945 20008 
_W1SGL                                    EQU  00000004   2350* 6714  7178  7188  8949 11460 16031 17146 19443 19814 20076 
_W1SNC                                    EQU  00001000   2365*
_W1SNO                                    EQU  00002000   2366*
_W2LS1                                    EQU  00000004   2370*
_W2LS2                                    EQU  00000008   2371*
_W2SUP                                    EQU  00000080   2375* 8322  9493  9593 
_W2WT1                                    EQU  00000010   2372*
_W2WT2                                    EQU  00000020   2373*15286 
_W2WT3                                    EQU  00000040   2374*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5075 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4813 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4811 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4812 
_WFSYS_MAX_STEP_SEL                       IMPT 00000000   3511 13953 
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3510  7129 
_WKSQCB200                                EQU  00000000   2104*
_WKSQCB201                                EQU  00000002   2105*
_WKSQCB202                                EQU  00000004   2106*
_WKSQCB203                                EQU  00000006   2107*
_WKSQCB204                                EQU  00000008   2108*
_WKSQCB205                                EQU  0000000A   2109*
_WKSQCB206                                EQU  0000000C   2110* 8225  8609  9468  9484 11210 11218 11232 13030 14742 14763 16337 
_WKSQCB207                                EQU  0000000E   2111*15084 15147 16390 
_WKSQCB208                                EQU  00000010   2112*
_WKSQCB209                                EQU  00000012   2113*
_WKSQCB210                                EQU  00000014   2114*14001 
_WKSQCB211                                EQU  00000016   2115*
_WKSQCB212                                EQU  00000018   2116*
_WKSQCB213                                EQU  0000001A   2117*
_WKSQCB214                                EQU  0000001C   2118*
_WKSQCB215                                EQU  0000001E   2119*
_WKSQCB216                                EQU  00000020   2120*15447 16914 
_WKSQCB217                                EQU  00000022   2121*
_WKSQCB218                                EQU  00000024   2122*
_WKSQCB219                                EQU  00000026   2123*
_WKSQCB220                                EQU  00000028   2124*
_WKSQCB221                                EQU  0000002A   2125*
_WKSQCB222                                EQU  0000002C   2126*
_WKSQCB223                                EQU  0000002E   2127*
_WKSQCB224                                EQU  00000030   2128*17676 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   304

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB225                                EQU  00000032   2129*
_WKSQCB226                                EQU  00000034   2130*
_WKSQCB227                                EQU  00000036   2131*16764 
_WKSQCB228                                EQU  00000038   2132*
_WKSQCB229                                EQU  0000003A   2133*15869 15930 15950 
_WKSQCB230                                EQU  0000003C   2134*
_WKSQCB231                                EQU  0000003E   2135*
_WKSQCB232                                EQU  00000040   2136*
_WKSQCB233                                EQU  00000042   2137*
_WKSQCB234                                EQU  00000044   2138*
_WKSQCB235                                EQU  00000046   2139*
_WKSQCB236                                EQU  00000048   2140*
_WKSQCB237                                EQU  0000004A   2141*
_WKSQCB238                                EQU  0000004C   2142*
_WKSQCB239                                EQU  0000004E   2143*19289 19393 
_WKSQCB240                                EQU  00000050   2144*
_WKSQCB241                                EQU  00000052   2145*
_WKSQCB242                                EQU  00000054   2146*
_WKSQCB243                                EQU  00000056   2147*
_WKSQCB244                                EQU  00000058   2148*
_WKSQCB245                                EQU  0000005A   2149*
_WKSQCB246                                EQU  0000005C   2150*
_WKSQCB247                                EQU  0000005E   2151*
_WKSQCB248                                EQU  00000060   2152*
_WKSQCB249                                EQU  00000062   2153*
_WKSQCB250                                EQU  00000064   2154*
_WKSQCB251                                EQU  00000066   2155*17204 17416 17585 17591 17633 17640 17715 17744 17777 17978 
_WKSQCB252                                EQU  00000068   2156*
_WKSQCB253                                EQU  0000006A   2157*
_WKSQCB254                                EQU  0000006C   2158*
_WKSQCB255                                EQU  0000006E   2159*
_WKSQCB256                                EQU  00000070   2160*
_WKSQCB257                                EQU  00000072   2161* 7576 
_WKSQCB258                                EQU  00000074   2162*
_WKSQCB259                                EQU  00000076   2163*19470 19594 19641 19668 20095 20189 20228 20278 
_WKSQCB260                                EQU  00000078   2164*
_WKSQCB261                                EQU  0000007A   2165*
_WKSQCB262                                EQU  0000007C   2166*
_WKSQCB263                                EQU  0000007E   2167*
_WKSQCB264                                EQU  00000080   2168*
_WKSQCB265                                EQU  00000082   2169*
_WKSQCB266                                EQU  00000084   2170*
_WKSQCB267                                EQU  00000086   2171*
_WKSQCB268                                EQU  00000088   2172*
_WKSQCB269                                EQU  0000008A   2173*
_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3522 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3300 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3299 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3285 
_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3292 
_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3293 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3284 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3290 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3291 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   305

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3297 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3296 
_WOANT                                    EQU  00000010   2337* 7630 
_WOATO                                    EQU  00000040   2339* 9822 16813 
_WOFCY                                    EQU  00000080   2340*
_WOQST                                    EQU  00000001   2333*
_WORCY                                    EQU  00000100   2341*
_WORDY                                    EQU  00000020   2338* 8192 16166 
_WORST                                    EQU  00000200   2342*
_WOVN1                                    EQU  00000002   2334*
_WOVN2                                    EQU  00000004   2335*
_WOVN3                                    EQU  00000008   2336*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4588 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4396 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4397 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4146 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4148 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4147 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4113 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4114 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4111 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4112 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4117 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4118 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4115 
_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4116 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4689 
_WPARX_ELSE_ORGPLS                        IMPT 00000000   4688 
_WPAR_360STP_HAB                          IMPT 00000000   4038 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3964 
_WPAR_ACC_MATHED                          IMPT 00000000   4208 
_WPAR_ANAIN_SEL                           IMPT 00000000   3962 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4635 
_WPAR_BRK1_ACCTM                          IMPT 00000000   3393 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3392 
_WPAR_BRK2_ACCTM                          IMPT 00000000   3394 
_WPAR_BRKTCHK_SPD                         IMPT 00000000   4136 16498 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4135 16485 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4395 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3391 
_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4289 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4290 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3335 
_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3336 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3333 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3334 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4300 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3340 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3341 
_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3338 
_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3339 
_WPAR_COP_SDG1                            IMPT 00000000   3345 
_WPAR_COP_SDG2                            IMPT 00000000   3346 
_WPAR_COP_ZDG1                            IMPT 00000000   3343 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   306

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_COP_ZDG2                            IMPT 00000000   3344 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4037 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4354 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2953 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2950 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2951 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2954 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2949 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2952 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3397 
_WPAR_ILNGERR_LNG                         IMPT 00000000   3396 
_WPAR_INCOVER_LNG                         IMPT 00000000   3362 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3363 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3364 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3365 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3369 13040 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3367 13038 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3368 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4183 
_WPAR_LSA_FILTIM                          IMPT 00000000   3731 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4036 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4319 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3816 14503 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4379 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3865 
_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3371 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4137 12566 
_WPAR_SLDALM_LNG                          IMPT 00000000   4361 
_WPAR_SLDALM_TIM                          IMPT 00000000   4362 
_WPAR_STOPING_TIM                         IMPT 00000000   4206 14067 14248 14275 
_WPAR_ZERO_SPD                            IMPT 00000000   3390 
_WPVX_KAJLIV_TTL                          IMPT 00000000   4186 
_WPV_ABS_AD_DATA                          IMPT 00000000   3970 
_WPV_AD_DATA                              IMPT 00000000   3969 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5390 
_WPV_CB_STS_POINT                         IMPT 00000000   5415 
_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5391 
_WPV_CB_TRD_POINT                         IMPT 00000000   5416 
_WPV_POWER_MONI                           IMPT 00000000   3971 
_WPV_POWER_ON_CNT                         IMPT 00000000   5417 
_WPV_SCAN_MAX01                           IMPT 00000000   4771 
_WPV_SCAN_MAX10                           IMPT 00000000   4770 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4767 
_WPV_SCAN_TIM_REAL                        IMPT 00000000   4766 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2215*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2216*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2217*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2218*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4103 
_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4105 
_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4104 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2697 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2699 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2698 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   307

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WXPV_ERR_DISP                            IMPT 00000000   3641 
_W_PARAM_TOP                              IMPT 00000000   4554  8137 11704 11867 12119 15273 15370 16117 16737 17055 18223 18374 
                                                         18550 18698 18712 18720 18831 18837 18996 19011 19019 19100 19198 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5272 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5267 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5260 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5265 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5264 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5273 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5261 
_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5263 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5271 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5262 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5268 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   6041 
_ZERO_INCENC                              EQU  00000000   2047*
_ZERO_INCHEN                              EQU  00000000   2046*
_ZERO_INCREV                              EQU  00000000   2051*
_ZERO_INCRNA                              EQU  00000001   2048*
_ZERO_INCSTP                              EQU  00000000   2049*
_ZERO_RNAREV                              EQU  00000001   2052*
_ZERO_RNASTP                              EQU  00000001   2050*
_cbsys_tbl_err                            IMPT 00000000   4228 
_di1_cb_ctl1                              IMPT 00000000   2490 
_di1_cb_ctl1_dt                           IMPT 00000000   2498  6389  6538  6719  7068 12551 15424 15943 16035 16955 20006 
_di1_cb_ctl1_of                           IMPT 00000000   2500 
_di1_cb_ctl1_on                           IMPT 00000000   2499 
_di2_cb_ctl2                              IMPT 00000000   2491 
_di2_cb_ctl2_dt                           IMPT 00000000   2502  8320  9591 15284 
_di2_cb_ctl2_of                           IMPT 00000000   2504 
_di2_cb_ctl2_on                           IMPT 00000000   2503  9491 
_di3_cb_inp1                              IMPT 00000000   2492  6764 
_di3_cb_inp1_dt                           IMPT 00000000   2496 
_di4_cb_inp2                              IMPT 00000000   2493 
_dq1_cb_out1                              IMPT 00000000   2494  7628  8190  9820 16164 16811 
_emg_err_flg                              IMPT 00000000   2574  6312  6475  6855  7354 11431 15995 19319 
_emg_lev_flg                              IMPT 00000000   2573  6247  6264 
_exq_err_flg                              IMPT 00000000   2577  6314  7360 11433 15997 19321 
_exq_lev_flg                              IMPT 00000000   2575  6284 
_pass_err_flg1                            IMPT 00000000   2571  6654 
_pass_err_flg2                            IMPT 00000000   2572 
_reset_dly_tim                            IMPT 00000000   2595  6552  6579 
_reset_flg                                IMPT 00000000   2594  6246  6322  6447  6547  6594  7339 11360 20017 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:26                                                  PAGE   308

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    000003F7E        
