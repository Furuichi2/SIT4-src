*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送,mem,dp)     ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 2039                              16     
 2040                              17     ;
 2041                              18             .INCLUDE        "dp_et1.ext"            ; //
 2042                               1 I1  ;       *******************************************************************
 2043                               2 I1  ;       ***                                                             ***
 2044                               3 I1  ;       ***                                                             ***
 2045                               4 I1  ;       ***                                                             ***
 2046                               5 I1  ;       ***                                                             ***
 2047                               6 I1  ;       ***                                                             ***
 2048                               7 I1  ;       ***                                                             ***
 2049                               8 I1  ;       *******************************************************************
 2050                               9 I1  ;       このファイルはsh2またはsh4のアセンブラソースにインクルードされ
 2051                              10 I1  ;       その中で、実アドレスを割り付ける
 2052                              11 I1  ;       このではdpramのオフセットアドレスを定義する
 2053                              12 I1  ;       このファイルのextern宣言として
 2054                              13 I1  
 2055                              14 I1  
 2056                              15 I1  ;       ===========================================
 2057                              16 I1  ;       ===             ET1 SV DATA             ===
 2058                              17 I1  ;       ===========================================
 2059                              18 I1  ;       --------------------------------------------------
 2060                              19 I1          .GLOBAL         _ET_CPUB_SND_INI_ET1    ;INITAL CODE REQ
 2061                              20 I1          .GLOBAL         _ET_CPUB_RCV_INI_ET1    ;INITAL CODE ACK
 2062                              21 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_ET1    ;H'12345678(req)
 2063                              22 I1  ;;;;    .GLOBAL         _ET_CPUB_RCV_ACK_ET1    ;H'87654321(ack)
 2064                              23 I1  ;       ---------------------------------------------------
 2065                              24 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_ADR    ;TOPADRESS (192K+32K 256Kbyte)
 2066                              25 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_CNT    ;1~128個
 2067                              26 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_DAT        ;(256byte MAX)
 2068                              27 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_END        ;
 2069                              28 I1  
 2070                              29 I1  ;       ===========================================
 2071                              30 I1  ;       ===             ET1 TOREND DATA         ===
 2072                              31 I1  ;       ===========================================
 2073                              32 I1  ;       --------------------------------------------------
 2074                              33 I1          .GLOBAL         _ET_CPUA_SND_INI_ET1    ;INITAL CODE REQ
 2075                              34 I1          .GLOBAL         _ET_CPUA_RCV_INI_ET1    ;INITAL CODE ACK
 2076                              35 I1          .GLOBAL         _ET_CPUA_SND_REQ_ET1    ;H'12345678(req)
 2077                              36 I1          .GLOBAL         _ET_CPUA_RCV_ACK_ET1    ;H'87654321(ack)
 2078                              37 I1  ;       ---------------------------------------------------
 2079                              38 I1          .GLOBAL         _ET_CPUA_SND_REQ_ADR    ;TOPADRESS (192K+32K 256Kbyte)
 2080                              39 I1          .GLOBAL         _ET_CPUA_SND_REQ_CNT    ;1~128個
 2081                              40 I1          .GLOBAL         _ET_CPUA_SND_DAT        ;(256byte MAX)
 2082                              41 I1          .GLOBAL         _ET_CPUA_SND_END        ;
 2083                              42 I1  
 2084                              43 I1  ;       ===========================================
 2085                              44 I1  ;       ===             ET1 loder DATA          ===
 2086                              45 I1  ;       ===========================================
 2087                              46 I1  ;       2006-12-01
 2088                              47 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE     2
PROGRAM NAME =

 2089                              48 I1          .GLOBAL         _ET_LDCMND_AREA         ;LdCmnd set area
 2090                              49 I1          .GLOBAL         _ET_LDCMND_REQ          ;LdCmnd Request Flag
 2091                              50 I1          .GLOBAL         _ET_LDCMND_RES          ;LdCmnd Response Flag
 2092                              51 I1          .GLOBAL         _ET1_VER                ;ET1 VERSION            V05
 2093                              52 I1  
 2094                              53 I1  ;       ===== HMI V05j 2007/12/07 =====
 2095                              54 I1          .GLOBAL         _ET1_IPS_ENT            ;IPｱﾄﾞﾚｽ確定
 2096                              55 I1          .GLOBAL         _ET1_IPS_ADR0           ;IPｱﾄﾞﾚｽ
 2097                              56 I1          .GLOBAL         _ET1_IPS_ADR1           ;IPｱﾄﾞﾚｽ
 2098                              57 I1          .GLOBAL         _ET1_IPS_ADR2           ;IPｱﾄﾞﾚｽ
 2099                              58 I1          .GLOBAL         _ET1_IPS_ADR3           ;IPｱﾄﾞﾚｽ
 2100                              59 I1          .GLOBAL         _ET1_SUB_NET0           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2101                              60 I1          .GLOBAL         _ET1_SUB_NET1           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2102                              61 I1          .GLOBAL         _ET1_SUB_NET2           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2103                              62 I1          .GLOBAL         _ET1_SUB_NET3           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2104                              63 I1          .GLOBAL         _ET1_DEF_GAT0           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2105                              64 I1          .GLOBAL         _ET1_DEF_GAT1           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2106                              65 I1          .GLOBAL         _ET1_DEF_GAT2           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2107                              66 I1          .GLOBAL         _ET1_DEF_GAT3           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2108                              67 I1          .GLOBAL         _ET1_IPM_ADR0           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2109                              68 I1          .GLOBAL         _ET1_IPM_ADR1           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2110                              69 I1          .GLOBAL         _ET1_IPM_ADR2           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2111                              70 I1          .GLOBAL         _ET1_IPM_ADR3           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2112                              71 I1  
 2113                              72 I1  ;       ===========================================
 2114                              73 I1  ;       ===     ET1==>CPUA(読出 32BYTE) ｽﾃｰﾀｽRD ===
 2115                              74 I1  ;       ===     2008-10-20                      ===
 2116                              75 I1  ;       ===========================================
 2117                              76 I1          .GLOBAL         _ET_CPUA_RD_REQ         ;CPUA-->ET1 READ REQ
 2118                              77 I1          .GLOBAL         _ET_CPUA_RD_ACK         ;ET1-->CPUA data SET ACK
 2119                              78 I1          .GLOBAL         _ET_CPUA_RD_CNT         ;読出個数
 2120                              79 I1          .GLOBAL         _ET_CPUA_RD_ADR         ;読出ｱﾄﾞﾚｽ
 2121                              80 I1          .GLOBAL         _ET_CPUA_RD_BUF         ;32byte(16w)
 2122                              81 I1  ;       ===========================================
 2123                              82 I1  ;       ===     CPUA==>書込2(32byte)    ｽﾃｰﾀｽWR ===
 2124                              83 I1  ;       ===     2008-10-20                      ===
 2125                              84 I1  ;       ===========================================
 2126                              85 I1          .GLOBAL         _ET_CPUA_WR2_ADR        ;STS WR LINE
 2127                              86 I1          .GLOBAL         _ET_CPUA_WR2_BUF        ;32byte(16w)
 2128                              87 I1          .GLOBAL         _ET_CPUA_WR2_REQ        ;
 2129                              88 I1          .GLOBAL         _ET_CPUA_WR2_ACK        ;
 2130                              89 I1          .GLOBAL         _ET_CPUA_WR2_CNT        ;
 2131                              90 I1  
 2132                              91 I1  
 2133                              92 I1  ;;;     ===========================================
 2134                              93 I1  ;;;     ===     2009-06-19 komtrax(ET2)対応     ===
 2135                              94 I1  ;;;     ===========================================
 2136                              95 I1  ;;;     .GLOBAL         _ET2_SEQ_IDT01          ;FA2,3 seq-->et2
 2137                              96 I1  ;;;     .GLOBAL         _ET2_SEQ_IDT02          ;FA4,5 seq-->et2
 2138                              97 I1  ;;;     .GLOBAL         _ET2_SEQ_QDT01          ;FA6,7 et2-->seq
 2139                              98 I1  ;;;     .GLOBAL         _ET2_SEQ_QDT02          ;FA8,9 et2-->seq
 2140                              99 I1  ;;;;    ============== 使用付加(2009-06-19)　後はﾊﾞﾝｸだけ============
 2141                             100 I1  ;       ===========================================
 2142                             101 I1  ;       ===     2009-07-24 komtrax(ET2)対応     ===
 2143                             102 I1  ;       ===========================================
 2144                             103 I1  ;       ------------(KOMTRAX空間に対して SIT_MEM)
 2145                             104 I1          .GLOBAL         _ET2_SITM_ADR           ;FA2,3 SIT4->ET1  R/W ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE     3
PROGRAM NAME =

 2146                             105 I1          .GLOBAL         _ET2_SITM_REQ           ;FA4   SIT4->ET1  HND=BIT7 R/W=BIT6(BIT5~B
                                          IT0は空間)
 2147                             106 I1          .GLOBAL         _ET2_SITM_ACK           ;FA5   SIT4<-ET1
 2148                             107 I1          .GLOBAL         _ET2_SITM_WRDT          ;FA6,7 SIT4->ET1  WR data
 2149                             108 I1          .GLOBAL         _ET2_SITM_RDDT          ;FA8,9(SIT4<-ET1) RD data
 2150                             109 I1          .GLOBAL         _ET2_SEQ_IDT01          ;FAA,B seq(SQ149)-->et2
 2151                             110 I1          .GLOBAL         _ET2_SEQ_QDT01          ;FAC,D et2-->seq(SQ86)
 2152                             111 I1  ;;;;    ============== 使用不可(2009-07-24)　後はﾊﾞﾝｸだけ============
 2153                             112 I1  
 2154                             113 I1  
 2155                              19             .import         _MEM_ARI                        ;1BYTE(H'840 statu "A5")
 2156                              20             .import         _MEM_BNK_ADR1                   ;1BYTE(H'900 d0=0/d0=1 bank)
 2157                              21     
 2158                              22     
 2159                              23     
 2160                              24     
 2161                              25     ;;_ET2_DEBUG_TRG        .DEFINE         "1"             ; ﾃﾞﾊﾞｯｸ
 2162                              26     _ET2_DEBUG_TRG  .DEFINE         "0"             ;出荷
 2163                              27     
 2164                              28     
 2165                              29     
 2166                              30     ;       ===========================================
 2167                              31     ;       ===             ET1 TOREND DATA         ===
 2168                              32     ;       ===========================================
 2169                              33             .IMPORT         _CPUA_SND_INI_ET1       ;INITAL CODE REQ
 2170                              34             .IMPORT         _CPUA_RCV_INI_ET1       ;INITAL CODE ACK
 2171                              35             .IMPORT         _CPUA_SND_REQ_ET1       ;H'12345678(req)
 2172                              36             .IMPORT         _CPUA_RCV_ACK_ET1       ;H'87654321(ack)
 2173                              37             .IMPORT         _CPUA_SND_REQ_ADR       ;TOPADRESS (192K+32K 256Kbyte)
 2174                              38             .IMPORT         _CPUA_SND_REQ_CNT       ;1~128個
 2175                              39             .IMPORT         _CPUA_SND_DAT           ;(256byte MAX)
 2176                              40             .IMPORT         _CPUA_SND_END           ;
 2177                              41     
 2178                              42     
 2179                              43             .EXPORT _ET1_CPU_MAIN_MOV
 2180                              44             .EXPORT _ET1_CPU_HIGH_MOV
 2181                              45     
 2182                              46     ;       --------KOMTRAXのためのEXTERN
 2183                              47             .IMPORT         _SEQ_024_SV             ;DPRAM(島村参照使用設定)2009-*-*   24.6
 2184                              48             .IMPORT         _SEQ_DP_TOP             ;高速アクセス用
 2185                              49     
 2186                              50     ;       ------2011-01-14 処理軽減のため10msec作成---
 2187          00000001            51     __TM_LATE01MS   .EQU    1               ;
 2188          0000000A            52     __TM_LATE10MS   .EQU    10              ;
 2189                              53     
 2190                              54     ;       ***************************************************
 2191                              55     ;       ***                                             ***
 2192                              56     ;       ***                                             ***
 2193                              57     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送)            ***
 2194                              58     ;       ***     (high:TREND)                            ***
 2195                              59     ;       ***                                             ***
 2196                              60     ;       ***                                             ***
 2197                              61     ;       ***************************************************
 2198 00000000                     62             .SECTION        Bfram, DATA                     ; B4007000H
 2199 00000000                     63             .SECTION        P,CODE                  ;
 2200 00000000                     64             .ALIGN  4                                       ;
 2201 00000000                     65     _ET1_CPU_HIGH_MOV
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE     4
PROGRAM NAME =

 2202                              66             SUB_START
 2203 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2204                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2205 00000002 D10A                67             MOV.L   #_ET1_INITAL_FLG,R1                     ;
 2206 00000004 6011                68             MOV.W   @R1,R0                                  ;
 2207 00000006 C840                69             TST     #BIT6,R0                                ;
 2208                              70             TST_BIT_OF ET1_CPU_HIGHMV_END                   ;
 2209 00000008 890C                   M           BT      ET1_CPU_HIGHMV_END
 2210                              71     
 2211                              72     ;       ---------- ET1/CPUA ﾃﾞｰﾀ転送--------------
 2212                              73             FAR_JSR #_ET1_CPUA_DT_MOVE,R0
 2213 0000000A D009                   M           MOV.L   #_ET1_CPUA_DT_MOVE,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2214 0000000C 400B                   M           JSR     @R0                     ;
 2215 0000000E 0009                   M           NOP                                     ;
 2216                              74     
 2217 00000010 D108                75             MOV.L   #_SEQ_024_SV,R1                 ;
 2218 00000012 6011                76             MOV.W   @R1,R0                          ;
 2219 00000014 C840                77             TST     #BIT6,R0                        ;24.6(仕様設定135)
 2220                              78             TST_BIT_OF ET1_CPU_HIGHMV_END           ;
 2221 00000016 8905                   M           BT      ET1_CPU_HIGHMV_END
 2222                              79     
 2223                              80     ;       ---------- 2009-07-27(KOMTRAX)-----------------
 2224                              81     ;       ---------- ｼｰｹﾝｽ出力(CPUB-->SEQ)---------------
 2225                              82     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX-->CPUB-->SEQ)--
 2226                              83     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX<--CPUB--SEQ)---
 2227                              84     ;       ---------- ｲﾍﾞﾝﾄﾒｯｾｰｼﾞ転送---------------------
 2228                              85     
 2229                              86             FAR_JSR #_KOMTRAX_DATA_CTRL,R0
 2230 00000018 D007                   M           MOV.L   #_KOMTRAX_DATA_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2231 0000001A 400B                   M           JSR     @R0                     ;
 2232 0000001C 0009                   M           NOP                                     ;
 2233                              87     
 2234                              88     
 2235                              89             FAR_JSR #_KOMTRAX_TIMCNT,R0             ;1mSEC
 2236 0000001E D007                   M           MOV.L   #_KOMTRAX_TIMCNT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2237 00000020 400B                   M           JSR     @R0                     ;
 2238 00000022 0009                   M           NOP                                     ;
 2239                              90     
 2240 00000024                     91     ET1_CPU_HIGHMV_END
 2241                              92             SUB_END
 2242                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2243 00000024 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2244                              93             M_RTS
 2245 00000026 000B                   M           RTS                             ;RTSの後ろの
 2246 00000028 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2247                              94     
 2248                              95     ;       ***************************************************
 2249                              96     ;       ***                                             ***
 2250                              97     ;       ***                                             ***
 2251                              98     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送)            ***
 2252                              99     ;       ***     (MAIN:SV)                               ***
 2253                             100     ;       ***                                             ***
 2254                             101     ;       ***************************************************
 2255                                     ***** BEGIN-POOL *****
 2256 0000002A 0000                       ALIGNMENT CODE
 2257 0000002C 00000000                   DATA FOR SOURCE-LINE 67
 2258 00000030 00000000                   DATA FOR SOURCE-LINE 73
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE     5
PROGRAM NAME =

 2259 00000034 00000000                   DATA FOR SOURCE-LINE 75
 2260 00000038 00000000                   DATA FOR SOURCE-LINE 86
 2261 0000003C 00000000                   DATA FOR SOURCE-LINE 89
 2262                                     ***** END-POOL *****
 2263 00000040                    102     _ET1_CPU_MAIN_MOV
 2264                             103             SUB_START
 2265 00000040 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2266                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2267                             104     
 2268 00000042 D104               105             MOV.L   #_ET1_INITAL_FLG,R1                     ;
 2269 00000044 6011               106             MOV.W   @R1,R0                                  ;
 2270 00000046 C840               107             TST     #BIT6,R0                                ;
 2271                             108             TST_BIT_ON ET1_CPU_MNMV_100                     ;
 2272 00000048 8B08                   M           BF      ET1_CPU_MNMV_100
 2273                             109             FAR_JSR #_ET1_INITAL_CHK,R0                     ;
 2274 0000004A D003                   M           MOV.L   #_ET1_INITAL_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2275 0000004C 400B                   M           JSR     @R0                     ;
 2276 0000004E 0009                   M           NOP                                     ;
 2277                             110     
 2278                             111             M_BRA   ET1_CPU_MNMV_END                        ;
 2279 00000050 A04E                   M           BRA     ET1_CPU_MNMV_END
 2280 00000052 0009                   M           NOP
 2281                                     ***** BEGIN-POOL *****
 2282 00000054 00000000                   DATA FOR SOURCE-LINE 105
 2283 00000058 00000000                   DATA FOR SOURCE-LINE 109
 2284                                     ***** END-POOL *****
 2285 0000005C                    112     ET1_CPU_MNMV_100:
 2286                             113             FAR_JSR #_ET1_INIEND_MOVE,R0                    ;
 2287 0000005C D008                   M           MOV.L   #_ET1_INIEND_MOVE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2288 0000005E 400B                   M           JSR     @R0                     ;
 2289 00000060 0009                   M           NOP                                     ;
 2290                             114     
 2291 00000062 D108               115             MOV.L   #_SEQ_024_SV,R1                 ;
 2292 00000064 6011               116             MOV.W   @R1,R0                          ;
 2293 00000066 C840               117             TST     #BIT6,R0                        ;24.6(仕様設定135)
 2294                             118             TST_BIT_OF ET1_CPU_MNMV_END             ;komtrax無効 then jump
 2295 00000068 8942                   M           BT      ET1_CPU_MNMV_END
 2296                             119     
 2297 0000006A D507               120             MOV.L   #_KMT_DLYSCAN_TIM,R5            ;
 2298 0000006C 6051               121             MOV.W   @R5,R0                          ;
 2299 0000006E 9405               122             MOV.W   #D'10,R4                        ;
 2300 00000070 3042               123             CMP/HS  R4,R0                           ;
 2301 00000072 890B               124             BT      ET1_CPU_MNMV_200                ;10 < R0
 2302 00000074 7001               125             ADD     #1,R0                           ;
 2303 00000076 2501               126             MOV.W   R0,@R5                          ;
 2304                             127             M_BRA   ET1_CPU_MNMV_END                ;10SCANは何もしない(ﾒｲﾝのｲﾆｼｬﾙ処理のため)
 2305 00000078 A03A                   M           BRA     ET1_CPU_MNMV_END
 2306 0000007A 0009                   M           NOP
 2307                             128     
 2308                                     ***** BEGIN-POOL *****
 2309 0000007C 000A                       DATA FOR SOURCE-LINE 122
 2310 0000007E 0000                       ALIGNMENT CODE
 2311 00000080 00000000                   DATA FOR SOURCE-LINE 113
 2312 00000084 00000000                   DATA FOR SOURCE-LINE 115
 2313 00000088 00000000                   DATA FOR SOURCE-LINE 120
 2314                                     ***** END-POOL *****
 2315 0000008C                    129     ET1_CPU_MNMV_200:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE     6
PROGRAM NAME =

 2316                             130             FAR_JSR #_KOMTRAX_EVENT_MAIN,R0         ;WR 8CHAR * 6　異常ｲﾍﾞﾝﾄの変更あり・なし
 2317 0000008C D00D                   M           MOV.L   #_KOMTRAX_EVENT_MAIN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2318 0000008E 400B                   M           JSR     @R0                     ;
 2319 00000090 0009                   M           NOP                                     ;
 2320                             131     
 2321                             132             FAR_JSR #_KOMTRAX_HAND_WRITE,R0         ;WDTなど書き込み要求
 2322 00000092 D00D                   M           MOV.L   #_KOMTRAX_HAND_WRITE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2323 00000094 400B                   M           JSR     @R0                     ;
 2324 00000096 0009                   M           NOP                                     ;
 2325                             133     
 2326                             134             FAR_JSR #_KOMTRAX_STATUS_READ,R0        ;WDTのｱﾝｻｰﾊﾞｯｸなどのｽﾃｰﾀｽ読み出し要求
 2327 00000098 D00C                   M           MOV.L   #_KOMTRAX_STATUS_READ,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2328 0000009A 400B                   M           JSR     @R0                     ;
 2329 0000009C 0009                   M           NOP                                     ;
 2330                             135     
 2331                             136             FAR_JSR #_KOMTRAX_STAUS_MAKE,R0         ;
 2332 0000009E D00C                   M           MOV.L   #_KOMTRAX_STAUS_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2333 000000A0 400B                   M           JSR     @R0                     ;
 2334 000000A2 0009                   M           NOP                                     ;
 2335                             137     
 2336                             138             FAR_JSR #_KOMTRAX_PVDAT_MAKE,R0         ;
 2337 000000A4 D00B                   M           MOV.L   #_KOMTRAX_PVDAT_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2338 000000A6 400B                   M           JSR     @R0                     ;
 2339 000000A8 0009                   M           NOP                                     ;
 2340                             139     
 2341                             140             FAR_JSR #_KOMTRAX_PVDAT_WRITE,R0        ;実測転送要求
 2342 000000AA D00B                   M           MOV.L   #_KOMTRAX_PVDAT_WRITE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2343 000000AC 400B                   M           JSR     @R0                     ;
 2344 000000AE 0009                   M           NOP                                     ;
 2345                             141     
 2346                             142     
 2347                             143     ;       --------- 2011-01-14 TYP011型判定-----------
 2348 000000B0 D10A               144             MOV.L   #_KMT_TYP_011,R1                ;
 2349 000000B2 6011               145             MOV.W   @R1,R0                          ;
 2350 000000B4 8801               146             CMP/EQ  #1,R0                           ;
 2351 000000B6 8915               147             BT      ET1_CPU_MNMV_500                ;TYPE011機能有効? YES JUMP
 2352                             148     
 2353                             149             FAR_JSR #_KMT_TYPE_011_CHK,R0
 2354 000000B8 D009                   M           MOV.L   #_KMT_TYPE_011_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2355 000000BA 400B                   M           JSR     @R0                     ;
 2356 000000BC 0009                   M           NOP                                     ;
 2357                             150             M_BRA   ET1_CPU_MNMV_END
 2358 000000BE A017                   M           BRA     ET1_CPU_MNMV_END
 2359 000000C0 0009                   M           NOP
 2360                             151     
 2361                                     ***** BEGIN-POOL *****
 2362 000000C2 0000                       ALIGNMENT CODE
 2363 000000C4 00000000                   DATA FOR SOURCE-LINE 130
 2364 000000C8 00000000                   DATA FOR SOURCE-LINE 132
 2365 000000CC 00000000                   DATA FOR SOURCE-LINE 134
 2366 000000D0 00000000                   DATA FOR SOURCE-LINE 136
 2367 000000D4 00000000                   DATA FOR SOURCE-LINE 138
 2368 000000D8 00000000                   DATA FOR SOURCE-LINE 140
 2369 000000DC 00000000                   DATA FOR SOURCE-LINE 144
 2370 000000E0 00000000                   DATA FOR SOURCE-LINE 149
 2371                                     ***** END-POOL *****
 2372 000000E4                    152     ET1_CPU_MNMV_500:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE     7
PROGRAM NAME =

 2373                             153     
 2374                             154     
 2375                             155             FAR_JSR #_KOMTRAX_HINBAN_MAIN,R0                ;
 2376 000000E4 D004                   M           MOV.L   #_KOMTRAX_HINBAN_MAIN,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2377 000000E6 400B                   M           JSR     @R0                     ;
 2378 000000E8 0009                   M           NOP                                     ;
 2379                             156     
 2380                             157             FAR_JSR #_KOMTRAX_SYOUMO_MAIN,R0                ;
 2381 000000EA D004                   M           MOV.L   #_KOMTRAX_SYOUMO_MAIN,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2382 000000EC 400B                   M           JSR     @R0                     ;
 2383 000000EE 0009                   M           NOP                                     ;
 2384                             158     
 2385                             159     
 2386 000000F0                    160     ET1_CPU_MNMV_END:
 2387                             161     
 2388                             162     
 2389                             163             SUB_END
 2390                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2391 000000F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2392                             164             M_RTS
 2393 000000F2 000B                   M           RTS                             ;RTSの後ろの
 2394 000000F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2395                             165     
 2396                             166     
 2397                             167     ;       ***************************************************
 2398                             168     ;       ***                                             ***
 2399                             169     ;       ***                                             ***
 2400                             170     ;       ***     INITAL                                  ***
 2401                             171     ;       ***     (MAIN)                                  ***
 2402                             172     ;       ***                                             ***
 2403                             173     ;       ***************************************************
 2404                                     ***** BEGIN-POOL *****
 2405 000000F6 0000                       ALIGNMENT CODE
 2406 000000F8 00000000                   DATA FOR SOURCE-LINE 155
 2407 000000FC 00000000                   DATA FOR SOURCE-LINE 157
 2408                                     ***** END-POOL *****
 2409 00000100                    174     _ET1_INITAL_CHK:
 2410                             175             SUB_START
 2411 00000100 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2412                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2413 00000102 D10A               176             MOV.L   #_ET1_INITAL_FLG,R1             ;
 2414 00000104 6011               177             MOV.W   @R1,R0                          ;
 2415 00000106 C840               178             TST     #BIT6,R0                        ;
 2416                             179             TST_BIT_ON ET1_INIT_CHK_END             ;
 2417 00000108 8B0D                   M           BF      ET1_INIT_CHK_END
 2418                             180     ;;;;;[mc]       MOV.L   #_MEM_ARI,R1                    ;
 2419                             181     ;;;;;[mc]       MOV.B   @R1,R0                          ;
 2420                             182     ;;;;;[mc]       EXTU.B  R0,R0                           ;
 2421                             183     ;;;;;[mc]       MOV.W   #H'00A5,R1                      ;
 2422                             184     ;;;;;[mc]       .AIF    0       EQ 1                    ;@
 2423                             185     ;;;;;[mc]       MOV.W   #H'00A5,R0                                      ;@カード有りに見せ
                                          る
 2424                             186     ;;;;;[mc]       .AENDI                                                  ;@
 2425                             187     ;;;;;[mc]       CMP/EQ  R1,R0                                           ;
 2426                             188     ;;;;;[mc]       BF      ET1_INIT_CHK_END                                ;未接続
 2427                             189     ;;;;;[mc]
 2428                             190     ;;;;;[mc]       FAR_JSR #_ET1_BANK_SEL0_OUT,R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE     8
PROGRAM NAME =

 2429                             191     ;;;;;[mc]
 2430                             192     
 2431 0000010A D109               193             MOV.L   #_ET_CPUB_RCV_INI_ET1,R1                        ;
 2432 0000010C 6012               194             MOV.L   @R1,R0                                          ;
 2433 0000010E D409               195             MOV.L   #_ET1_INIT_ACK,R4                               ;
 2434 00000110 3040               196             CMP/EQ  R4,R0                                           ;
 2435 00000112 8B08               197             BF      ET1_INIT_CHK_END                                ;未完了
 2436                             198     
 2437 00000114 D108               199             MOV.L   #_ET_CPUA_RCV_INI_ET1,R1                ;
 2438 00000116 6012               200             MOV.L   @R1,R0                                  ;
 2439                             201     
 2440                             202     ;;;;;[mc]       .AIF    0       EQ 1                    ;@
 2441                             203     ;;;;;[mc]       MOV.L   #_ET1_INIT_ACK,R0                               ;@INITAL ENDに見せ
                                          る
 2442                             204     ;;;;;[mc]       .AENDI                                                  ;@
 2443                             205     
 2444 00000118 D406               206             MOV.L   #_ET1_INIT_ACK,R4                       ;
 2445 0000011A 3040               207             CMP/EQ  R4,R0                                   ;
 2446 0000011C 8B03               208             BF      ET1_INIT_CHK_END                        ;未完了
 2447                             209     
 2448                             210             MEM1_BIT0_TO_BIT7_ORSET MEM=_ET1_INITAL_FLG,LG=W,BIT=BIT6,WKREG=R1      ;bit-set
 2449 0000011E D103                   M           MOV.L   #_ET1_INITAL_FLG,R1             ;
 2450 00000120 6011                   M           MOV.W   @R1,R0          ;
 2451 00000122 CB40                   M           OR      #BIT6,R0                ;
 2452 00000124 2101                   M           MOV.W   R0,@R1          ;
 2453                             211     
 2454 00000126                    212     ET1_INIT_CHK_END:
 2455                             213             SUB_END
 2456                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2457 00000126 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2458                             214             M_RTS
 2459 00000128 000B                   M           RTS                             ;RTSの後ろの
 2460 0000012A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2461                             215     
 2462                             216     ;       ***********************************
 2463                             217     ;       ***                             ***
 2464                             218     ;       ***     INITAL-CODE             ***
 2465                             219     ;       ***                             ***
 2466                             220     ;       ***********************************
 2467                                     ***** BEGIN-POOL *****
 2468 0000012C 00000000                   DATA FOR SOURCE-LINE 176,210
 2469 00000130 00000000                   DATA FOR SOURCE-LINE 193
 2470 00000134 56789ABC                   DATA FOR SOURCE-LINE 195,206
 2471 00000138 00000000                   DATA FOR SOURCE-LINE 199
 2472                                     ***** END-POOL *****
 2473 0000013C                    221     _ET1_INIEND_MOVE:
 2474                             222             SUB_START
 2475 0000013C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2476                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2477                             223     ;;;;;[mc]       FAR_JSR #_ET1_BANK_SEL0_OUT,R1  ;
 2478                             224     
 2479 0000013E D007               225             MOV.L   #_ET1_INIT_REQ,R0
 2480                             226             REG_MOV_TO_MEM  DST_ADR=_ET_CPUB_SND_INI_ET1,L1=L,DT_REG=R0,WKREG1=R1
 2481 00000140 D107                   M           MOV.L   #_ET_CPUB_SND_INI_ET1,R1        ;DST_ADR
 2482 00000142 2102                   M           MOV.L   R0,@R1  ;DST_ADR
 2483                             227     
 2484                             228     ;       ==== CPUA<=>ET1 ====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE     9
PROGRAM NAME =

 2485                             229             MEM_MOV_TO_MEM  SRC_ADR=_CPUA_SND_INI_ET1,L1=L,DST_ADR=_ET_CPUA_SND_INI_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2486 00000144 D107                   M           MOV.L   #_CPUA_SND_INI_ET1,R1
 2487 00000146 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2488 00000148 D307                   M           MOV.L   #_ET_CPUA_SND_INI_ET1,R3        ;DST_ADR
 2489 0000014A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2490                             230             MEM_MOV_TO_MEM  SRC_ADR=_ET_CPUA_RCV_INI_ET1,L1=L,DST_ADR=_CPUA_RCV_INI_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2491 0000014C D107                   M           MOV.L   #_ET_CPUA_RCV_INI_ET1,R1
 2492 0000014E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2493 00000150 D307                   M           MOV.L   #_CPUA_RCV_INI_ET1,R3   ;DST_ADR
 2494 00000152 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2495                             231     
 2496                             232             SUB_END
 2497                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2498 00000154 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2499                             233             M_RTS
 2500 00000156 000B                   M           RTS                             ;RTSの後ろの
 2501 00000158 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2502                             234     
 2503                             235     ;       ***********************************
 2504                             236     ;       ***                             ***
 2505                             237     ;       ***     Input R2                ***
 2506                             238     ;       ***                             ***
 2507                             239     ;       ***********************************
 2508                             240     ;;;;;[mc]_ET1_BANK_SEL0_OUT:
 2509                             241     ;;;;;[mc]       SUB_START
 2510                             242     ;;;;;[mc]
 2511                             243     ;;;;;[mc]       XOR     R2,R2
 2512                             244     ;;;;;[mc]       MOV.L   #_ET1_BANK_SEL,R1                       ;
 2513                             245     ;;;;;[mc]       MOV.W   R2,@R1                                  ;
 2514                             246     ;;;;;[mc]
 2515                             247     ;;;;;[mc]       MOV.L   #_MEM_BNK_ADR1,R1               ;1BYTE(H'900 d0=0/d0=1 bank)
 2516                             248     ;;;;;[mc]       MOV.B   R2,@R1                          ;BANK OUT
 2517                             249     ;;;;;[mc]
 2518                             250     ;;;;;[mc]       SUB_END
 2519                             251     ;;;;;[mc]       M_RTS
 2520                             252     
 2521                             253     ;       ***********************************
 2522                             254     ;       ***                             ***
 2523                             255     ;       ***     CPUA-->ET1              ***
 2524                             256     ;       ***             DATA,TRIG       ***
 2525                             257     ;       ***     ET1-->CPUA              ***
 2526                             258     ;       ***                             ***
 2527                             259     ;       ***********************************
 2528                                     ***** BEGIN-POOL *****
 2529 0000015A 0000                       ALIGNMENT CODE
 2530 0000015C 12345678                   DATA FOR SOURCE-LINE 225
 2531 00000160 00000000                   DATA FOR SOURCE-LINE 226
 2532 00000164 00000000                   DATA FOR SOURCE-LINE 229
 2533 00000168 00000000                   DATA FOR SOURCE-LINE 229
 2534 0000016C 00000000                   DATA FOR SOURCE-LINE 230
 2535 00000170 00000000                   DATA FOR SOURCE-LINE 230
 2536                                     ***** END-POOL *****
 2537 00000174                    260     _ET1_CPUA_DT_MOVE:
 2538                             261             SUB_START
 2539 00000174 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    10
PROGRAM NAME =

 2540                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2541                             262     
 2542 00000176 D10A               263             MOV.L   #_CPUA_SND_REQ_ET1,R1           ;
 2543 00000178 6212               264             MOV.L   @R1,R2                          ;
 2544 0000017A D10A               265             MOV.L   #_CPUA_REQ_OLD,R1               ;
 2545 0000017C 6012               266             MOV.L   @R1,R0                          ;
 2546 0000017E 2122               267             MOV.L   R2,@R1                          ;
 2547 00000180 202A               268             XOR     R2,R0                           ;
 2548 00000182 2008               269             TST     R0,R0                           ;
 2549                             270             TST_BIT_OF ET1_CPUA_DT_MV100            ;ﾄﾘｶﾞ変化なし
 2550 00000184 8920                   M           BT      ET1_CPUA_DT_MV100
 2551                             271     
 2552                             272      MEM_WORD_BLOCK_MOV1 SRC_ADR=_CPUA_SND_DAT,DST_ADR=_ET_CPUA_SND_DAT,CNT_DAT=_ET1_CPUAB_BUF
                                          _MAX/2,DT_REG=R2,CNT_REG=R3
 2553 00000186 DA08                   M           MOV.L   #_CPUA_SND_DAT,R10                      ;
 2554 00000188 DB08                   M           MOV.L   #_ET_CPUA_SND_DAT,R11                   ;
 2555 0000018A 9307                   M           MOV.W   #_ET1_CPUAB_BUF_MAX/2,R3                ;
 2556                                 M           BLOCK_MOV1      W,2,R10,R11,R2,R3
 2557 0000018C                        M   JMP000000:                                      ;
 2558 0000018C 2338                   M           TST     R3,R3   ;
 2559                                 M           TST_BIT_OF JMP100000            ;
 2560 0000018E 890F                   M           BT      JMP100000
 2561 00000190 62A5                   M           MOV.W   @R10+,R2        ;
 2562 00000192 2B21                   M           MOV.W   R2,@R11 ;
 2563 00000194 7B02                   M           ADD     #2,R11  ;
 2564 00000196 73FF                   M           ADD     #H'FF,R3                ;
 2565                                 M           M_BRA   JMP000000                       ;
 2566 00000198 AFF8                   M           BRA     JMP000000
 2567 0000019A 0009                   M           NOP
 2568                                 M   ***** BEGIN-POOL *****
 2569 0000019C 0080                   M   DATA FOR SOURCE-LINE 272
 2570 0000019E 0000                   M   ALIGNMENT CODE
 2571 000001A0 00000000               M   DATA FOR SOURCE-LINE 263
 2572 000001A4 00000000               M   DATA FOR SOURCE-LINE 265
 2573 000001A8 00000000               M   DATA FOR SOURCE-LINE 272
 2574 000001AC 00000000               M   DATA FOR SOURCE-LINE 272
 2575                                 M   ***** END-POOL *****
 2576 000001B0                        M   JMP100000:                                      ;
 2577                             273      MEM_MOV_TO_MEM SRC_ADR=_CPUA_SND_REQ_CNT,L1=L,DST_ADR=_ET_CPUA_SND_REQ_CNT,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2578 000001B0 D109                   M           MOV.L   #_CPUA_SND_REQ_CNT,R1
 2579 000001B2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2580 000001B4 D309                   M           MOV.L   #_ET_CPUA_SND_REQ_CNT,R3        ;DST_ADR
 2581 000001B6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2582                             274     
 2583                             275     
 2584                             276     ;;;;_ET1_CPUAB_BUF_MAX=256
 2585                             277     ;;;     MOV.L   #_CPUA_SND_DAT,R10                      ;SRC_TOP
 2586                             278     ;;;     MOV.L   #_ET_CPUA_SND_DAT,R11                   ;DST_TOP
 2587                             279     ;;;     MOV.L   #_CPUA_SND_REQ_CNT,R1                   ;CNT
 2588                             280     ;;;     MOV.W   @R1,R3                                  ;
 2589                             281     ;;;     PUSH_REG1 R3                                    ;
 2590                             282     ;;;     SHLR    R3                                      ;1/2
 2591                             283     ;;;     BLOCK_MOV1      W,2,R10,R11,R2,R3               ;
 2592                             284     ;;;     POP_REG1 R3
 2593                             285     ;;;     MOV.L   #_ET_CPUA_SND_REQ_CNT,R1                ;
 2594                             286     ;;      MOV.W   R3,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    11
PROGRAM NAME =

 2595                             287     
 2596                             288      MEM_MOV_TO_MEM SRC_ADR=_CPUA_SND_REQ_ADR,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ADR,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2597 000001B8 D109                   M           MOV.L   #_CPUA_SND_REQ_ADR,R1
 2598 000001BA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2599 000001BC D309                   M           MOV.L   #_ET_CPUA_SND_REQ_ADR,R3        ;DST_ADR
 2600 000001BE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2601                             289     
 2602                             290     ;;;-2014-09-30不具合の元?
 2603                             291     ;;;     MEM_MOV_TO_MEM  SRC_ADR=_CPUA_SND_REQ_ET1,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2604                             292             MEM_MOV_TO_MEM  SRC_ADR=_CPUA_REQ_OLD,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ET1,L2=L,WKREG
                                          1=R1,WKREG2=R2,WKREG3=R3
 2605 000001C0 D109                   M           MOV.L   #_CPUA_REQ_OLD,R1
 2606 000001C2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2607 000001C4 D309                   M           MOV.L   #_ET_CPUA_SND_REQ_ET1,R3        ;DST_ADR
 2608 000001C6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2609                             293     
 2610                             294     
 2611                             295     
 2612                             296     
 2613                             297     
 2614 000001C8                    298     ET1_CPUA_DT_MV100:
 2615                             299     
 2616                             300     ;       ------------- ET1 --> CPUA ---------------
 2617                             301      MEM_MOV_TO_MEM SRC_ADR=_ET_CPUA_RCV_ACK_ET1,L1=L,DST_ADR=_CPUA_RCV_ACK_ET1,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2618 000001C8 D109                   M           MOV.L   #_ET_CPUA_RCV_ACK_ET1,R1
 2619 000001CA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2620 000001CC D309                   M           MOV.L   #_CPUA_RCV_ACK_ET1,R3   ;DST_ADR
 2621 000001CE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2622                             302     
 2623                             303             SUB_END
 2624                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2625 000001D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2626                             304             M_RTS
 2627 000001D2 000B                   M           RTS                             ;RTSの後ろの
 2628 000001D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2629                             305     
 2630                             306     
 2631                             307     ;       ***********************************
 2632                             308     ;       ***                             ***
 2633                             309     ;       ***     CPUB-->ET1              ***
 2634                             310     ;       ***             DATA,TRIG       ***
 2635                             311     ;       ***                             ***
 2636                             312     ;       ***********************************
 2637                             313     ;       128byte単位で7FFFまで転送する
 2638                             314     ;;;;;;;;;2006-12-01     _CPUB_ET1_BLK           .EQU    128             ;128byte()
 2639                             315     ;;;;;;;;;2006-12-01     _CPUB_ET1_ADRMAX        .EQU    H'7000          ;0~6FFF
 2640                             316     
 2641                             317     ;;;;;;;;;2006-12-01     _ET1_SV_DATA_SEND:
 2642                             318     ;;;;;;;;;2006-12-01             SUB_START
 2643                             319     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_FLG,R1                    ;
 2644                             320     ;;;;;;;;;2006-12-01             MOV.W   @R1,R0                                  ;
 2645                             321     ;;;;;;;;;2006-12-01             TST     R0,R0                                   ;
 2646                             322     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_100                  ;
 2647                             323     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    12
PROGRAM NAME =

 2648                             324     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_100:
 2649                             325     ;;;;;;;;;2006-12-01             TST     #BIT1,R0                                ;
 2650                             326     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_150                  ;
 2651                             327     ;;;;;;;;;2006-12-01
 2652                             328     ;;;;;;;;;2006-12-01             MEM1_BIT0_TO_BIT7_ORSET MEM=_CPU_REQ_DAT_FLG,LG=W,BIT=BIT1
                                          ,WKREG=R1       ;bit-set
 2653                             329     ;;;;;;;;;2006-12-01             XOR     R0,R0
 2654                             330     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_CNT,L1=L,DT_REG=R0,WK
                                          REG1=R1
 2655                             331     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT                     ;
 2656                             332     
 2657                             333     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_150:
 2658                             334     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_ET1,R8                ;
 2659                             335     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_RCV_ACK_ET1,R9                ;
 2660                             336     ;;;;;;;;;2006-12-01             MOV.L   @R8,R0                                  ;
 2661                             337     ;;;;;;;;;2006-12-01             MOV.L   @R9,R1                                  ;
 2662                             338     ;;;;;;;;;2006-12-01             CMP/EQ  R1,R0                                   ;
 2663                             339     ;;;;;;;;;2006-12-01             BF      ET1_SV_DATASEND_EXT                     ;EQではな
                                          い.WAIT
 2664                             340     ;;;;;;;;;2006-12-01     ;       -----------------------------------------------
 2665                             341     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_CNT,R5                    ;
 2666                             342     ;;;;;;;;;2006-12-01             MOV.L   @R5,R2                                  ;0~6FFF/12
                                          8byte
 2667                             343     ;;;;;;;;;2006-12-01             MOV.L   #(_CPUB_ET1_ADRMAX/_CPUB_ET1_BLK),R3    ;
 2668                             344     ;;;;;;;;;2006-12-01             CMP/HI  R2,R3                                   ;R2 < R3
 2669                             345     ;;;;;;;;;2006-12-01             BT      ET1_SV_DATASEND_200                     ;
 2670                             346     ;;;;;;;;;2006-12-01             XOR     R2,R2                                   ;
 2671                             347     ;;;;;;;;;2006-12-01             MOV.L   R2,@R5                                  ;
 2672                             348     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_900                     ;
 2673                             349     ;;;;;;;;;2006-12-01
 2674                             350     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_200:                                    ;Input R2
 2675                             351     ;;;;;;;;;2006-12-01             MOV.L   #(STARTOF Bfram),R5                     ;
 2676                             352     ;;;;;;;;;2006-12-01             MOV.W   #_CPUB_ET1_BLK,R3                       ;
 2677                             353     ;;;;;;;;;2006-12-01             DMULS.L R2,R3                                   ;CNT*128by
                                          te
 2678                             354     ;;;;;;;;;2006-12-01             STS.L   MACL,R6                                 ;
 2679                             355     ;;;;;;;;;2006-12-01
 2680                             356     ;;;;;;;;;2006-12-01             SHLR    R3
 2681                             357     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_CNT,R1                ;
 2682                             358     ;;;;;;;;;2006-12-01             MOV.L   R3,@R1                                  ;128byte/2
                                          =64word
 2683                             359     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_ADR,R1                ;
 2684                             360     ;;;;;;;;;2006-12-01             MOV.L   R6,@R1                                  ;ADRESS
 2685                             361     ;;;;;;;;;2006-12-01             ADD     R6,R5                                   ;
 2686                             362     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_DAT,R7                    ;
 2687                             363     ;;;;;;;;;2006-12-01
 2688                             364     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_LOP:
 2689                             365     ;;;;;;;;;2006-12-01             TST     R3,R3                                   ;
 2690                             366     ;;;;;;;;;2006-12-01             TST_BIT_OF ET1_SV_DATASEND_800
 2691                             367     ;;;;;;;;;2006-12-01             MOV.W   @R5+,R1                                 ;
 2692                             368     ;;;;;;;;;2006-12-01             MOV.W   R1,@R7
 2693                             369     ;;;;;;;;;2006-12-01             ADD     #2,R7
 2694                             370     ;;;;;;;;;2006-12-01             ADD     #-1,R3
 2695                             371     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_LOP
 2696                             372     ;;;;;;;;;2006-12-01
 2697                             373     ;;;;;;;;;2006-12-01     ;       -------------(HAND)---------------------------------
 2698                             374     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_800:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    13
PROGRAM NAME =

 2699                             375     ;;;;;;;;;2006-12-01             XOR     R1,R1
 2700                             376     ;;;;;;;;;2006-12-01             MOV.L   @R8,R0                                  ;
 2701                             377     ;;;;;;;;;2006-12-01             TST     R0,R0                                   ;
 2702                             378     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_820                  ;
 2703                             379     ;;;;;;;;;2006-12-01             MOV.L   #_ET1_DATA_COD,R1                       ;
 2704                             380     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_820:                                    ;
 2705                             381     ;;;;;;;;;2006-12-01             MOV.L   R1,@R8                                  ;NEW REQ
 2706                             382     ;;;;;;;;;2006-12-01
 2707                             383     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_CNT,R1                    ;
 2708                             384     ;;;;;;;;;2006-12-01             MOV.L   @R1,R0                                  ;
 2709                             385     ;;;;;;;;;2006-12-01             ADD     #1,R0                                   ;
 2710                             386     ;;;;;;;;;2006-12-01             MOV.L   R0,@R1                                  ;
 2711                             387     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT
 2712                             388     ;;;;;;;;;2006-12-01
 2713                             389     ;;;;;;;;;2006-12-01     ;       -------------(END)---------------------------------
 2714                             390     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_900:
 2715                             391     ;;;;;;;;;2006-12-01             XOR     R0,R0
                                                  ;
 2716                             392     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_FLG,L1=W,DT_REG=R0,WK
                                          REG1=R1 ;
 2717                             393     ;;;;;;;;;2006-12-01             XOR     R0,R0
                                                  ;
 2718                             394     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_CNT,L1=L,DT_REG=R0,WK
                                          REG1=R1 ;
 2719                             395     ;;;;;;;;;2006-12-01
                                                  ;
 2720                             396     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_EXT:
 2721                             397     ;;;;;;;;;2006-12-01             SUB_END
 2722                             398     ;;;;;;;;;2006-12-01             M_RTS
 2723                             399     
 2724                             400     
 2725                             401     ;       *******************************************
 2726                             402     ;       ***                                     ***
 2727                             403     ;       ***             KOMTRAX機能時有効       ***
 2728                             404     ;       ***                                     ***
 2729                             405     ;       *******************************************
 2730                             406     ;       ----------ｲﾍﾞﾝﾄｺｰﾄﾞ→CMD送信------------
 2731                             407             .IMPORT         _IROCK_OUT_NO           ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-
                                          ON=0注意]
 2732                             408             .IMPORT         _IROCK_CHAR             ;1byte [8][8]...MSG-data
 2733                             409     
 2734                             410             .IMPORT         _FRAM_CB_ICHAR          ;H'6000 256byte
 2735                             411     
 2736                             412     ;       ---------- 2009-07-27(KOMTRAX)-----------
 2737                             413     ;       ---------- ｼｰｹﾝｽ出力(CPUB-->SEQ)
 2738                             414     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX-->CPUB-->SEQ)
 2739                             415     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX<--CPUB--SEQ)
 2740                             416     ;       ---------- ｲﾍﾞﾝﾄﾒｯｾｰｼﾞ転送
 2741                             417     
 2742                                     ***** BEGIN-POOL *****
 2743 000001D6 0000                       ALIGNMENT CODE
 2744 000001D8 00000000                   DATA FOR SOURCE-LINE 273
 2745 000001DC 00000000                   DATA FOR SOURCE-LINE 273
 2746 000001E0 00000000                   DATA FOR SOURCE-LINE 288
 2747 000001E4 00000000                   DATA FOR SOURCE-LINE 288
 2748 000001E8 00000000                   DATA FOR SOURCE-LINE 292
 2749 000001EC 00000000                   DATA FOR SOURCE-LINE 292
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    14
PROGRAM NAME =

 2750 000001F0 00000000                   DATA FOR SOURCE-LINE 301
 2751 000001F4 00000000                   DATA FOR SOURCE-LINE 301
 2752                                     ***** END-POOL *****
 2753          000000E2           418     _SQ113          .EQU    113*2           ;SEQ--->CPUB指令　2011-01-14 113.9
 2754          0000012A           419     _SQ149          .EQU    149*2           ;SEQ--->CPUB-->KOMTRAX
 2755          000000AC           420     _SQ086          .EQU    86*2            ;KOMTRAX-->CPUB-->SEQ()
 2756          000000AE           421     _SQ087          .EQU    87*2            ;CPUB-->SEQ(BIT3=ｲﾍﾞﾝﾄ,BIT2=1ｻｲｸﾙ)
 2757          00000001           422     __KMTCMD_WR     .EQU    BIT0            ;
 2758          00000002           423     __KMTCMD_RD     .EQU    BIT1            ;
 2759                             424     
 2760                             425     ;       ----------- SITM MEM-MAP------
 2761                             426     
 2762                             427     ;       ========== SIT==>KOMTRAX ====
 2763          00000000           428     __SITM_HANDWR   .EQU    0*2             ;
 2764          00000002           429     __SITM_HANDCNT  .EQU    1*2             ;2byte
 2765                             430     
 2766          00000004           431     __SITM_CHRTOP1  .EQU    2*2             ;byte adress
 2767          00000008           432     __SITM_CHRCNT   .EQU    8               ;8byte
 2768                             433     
 2769          0000000C           434     __SITM_AIDAT1   .EQU    6*2             ;
 2770          00000008           435     __SITM_AIDTCNT  .EQU    2*4             ;2byte*4CH
 2771                             436     
 2772          00000014           437     __SITM_MENTCNT  .EQU    10*2            ;4byte
 2773          00000004           438     __SITM_MCNTCNT  .EQU    4               ;
 2774                             439     
 2775                             440     ;       -------------- KOMTRAX==>SIT====
 2776          00000064           441     __SITM_OUT_TOP  .EQU    50*2            ;
 2777          00000020           442     __SITM_OUTCNT   .EQU    16*2            ;16word/MAX(50W)
 2778                             443     
 2779          00000064           444     __SITM_HANDRD   .EQU    __SITM_OUT_TOP+0*2      ;0
 2780                             445                                                     ;1　1:DO指令なので別I/Oで送信される
 2781          00000068           446     __SITM_TRSSTS1  .EQU    __SITM_OUT_TOP+2*2      ;2
 2782          0000006A           447     __SITM_ERRSTS1  .EQU    __SITM_OUT_TOP+3*2      ;3
 2783          0000006C           448     __SITM_WARSTS1  .EQU    __SITM_OUT_TOP+4*2      ;4
 2784          0000006E           449     __SITM_TRSSTS2  .EQU    __SITM_OUT_TOP+5*2      ;5
 2785          00000070           450     __SITM_KMTTYPE  .EQU    __SITM_OUT_TOP+6*2      ;6:5A01が011型KOMTRAX対応 2011-01-14
 2786                             451     
 2787                             452     
 2788                             453     ;-------__SITM_KMTTYPEのﾃﾞｰﾀの中身 2011-01-14
 2789          00005A01           454     __SIT_VER_TYP2_COD      .EQU    H'5A01                  ;SIT4へﾒﾓﾘ拡張されたｿﾌﾄであること
                                          を通知する
 2790                             455     
 2791                             456     ;       ---------　EVENT　信号---------
 2792          00000032           457     __EVENT_SIG_ONTIMSV     .EQU    500/__TM_LATE10MS       ;300msec ｲﾍﾞﾝﾄのための信号(送信処
                                          理100msec,)
 2793          00000032           458     __EVENT_SIG_OFTIMSV     .EQU    500/__TM_LATE10MS       ;300msec ｲﾍﾞﾝﾄのための信号(送信処
                                          理100msec,)
 2794                             459     
 2795                             460     ;       ----------------- 1CYCLE
 2796          00000014           461     __CYCLE_SIG_TIMSV       .EQU    20      ;20msec　15~25msec　50msec:1秒で20回転　1200spmま
                                          で可能
 2797                             462     
 2798                             463     
 2799                             464     
 2800                             465     ;       -----------2011-01-14-------
 2801          000000C8           466     __SITM_SYOUMO_TOP       .EQU    100*2   ;
 2802          00000040           467     __SITM_SYOUMO_CNT       .EQU    32*2    ;64byte
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    15
PROGRAM NAME =

 2803                             468     
 2804          00000108           469     __SITM_HINBAN_TOP       .EQU    132*2   ;
 2805          000000A0           470     __SITM_HINBAN_CNT       .EQU    80*2    ;160byte
 2806                             471     
 2807                             472     
 2808          00000064           473     __HINBAN_SIG_ONTIMSV    .EQU    1000/__TM_LATE10MS      ;1000msec保証   ;200/__TM_LATE10MS
                                                  ;150msec保証
 2809          00000064           474     __HINBAN_SIG_OFTIMSV    .EQU    1000/__TM_LATE10MS      ;1000msec保証   ;200/__TM_LATE10MS
                                                  ;150msec保証
 2810                             475     
 2811          00000014           476     __SYOUMO_SIG_ONTIMSV    .EQU    200/__TM_LATE10MS       ;150msec保証
 2812          00000014           477     __SYOUMO_SIG_OFTIMSV    .EQU    200/__TM_LATE10MS       ;150msec保証
 2813                             478     
 2814                             479     
 2815          00000006           480     _HINBAN_BUF_MAX         .EQU    6               ;ｶｳﾝﾀMAX
 2816                             481     
 2817                             482     ;       ***********************************
 2818                             483     ;       ***                             ***
 2819                             484     ;       ***     高速処理 1ms~5mse       ***
 2820                             485     ;       ***                             ***
 2821                             486     ;       ***********************************
 2822                             487     ;
 2823                             488     ;
 2824 000001F8                    489             .ALIGN  4                                       ;
 2825 000001F8                    490     _KOMTRAX_DATA_CTRL
 2826                             491             SUB_START
 2827 000001F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2828                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2829                             492     
 2830                             493             FAR_JSR #_KMT_1CYCLE_SIGCHK,R0                  ;1CYCLE 信号////OK
 2831 000001FA D006                   M           MOV.L   #_KMT_1CYCLE_SIGCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2832 000001FC 400B                   M           JSR     @R0                     ;
 2833 000001FE 0009                   M           NOP                                     ;
 2834                             494     
 2835                             495     ;       --------------------------------
 2836                             496             FAR_JSR #_KMT_SEQ_REF1,R0                       ;DI/DO///////OK
 2837 00000200 D005                   M           MOV.L   #_KMT_SEQ_REF1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2838 00000202 400B                   M           JSR     @R0                     ;
 2839 00000204 0009                   M           NOP                                     ;
 2840                             497     
 2841                             498     ;;;;;;  2011-01-14 ﾒｲﾝｽｷｬﾝへ　処理軽減
 2842                             499     ;;;;;;  ----------ｲﾍﾞﾝﾄｺｰﾄﾞ→CMD送信------------
 2843                             500     ;;;;;;  FAR_JSR #_KMT_EVENT_INT_STEP,R0                 ;ﾒｲﾝｽｷｬﾝでもいい
 2844                             501     
 2845                             502     ;       ------------------ CMD制御---------------------
 2846                             503     ;       ---------ｺﾏﾝﾄﾞ/ﾃﾞｰﾀを受け取ってwrする/readも可能-----------------------
 2847                             504             FAR_JSR #_KMT_CMD_TRS,R0                        ;SIT => COMMAD,DATA => KMT
 2848 00000206 D005                   M           MOV.L   #_KMT_CMD_TRS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2849 00000208 400B                   M           JSR     @R0                     ;
 2850 0000020A 0009                   M           NOP                                     ;
 2851                             505                                                             ;SIT <= RESOPONSE   <= KMT
 2852                             506     
 2853                             507     
 2854                             508             SUB_END
 2855                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2856 0000020C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2857                             509             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    16
PROGRAM NAME =

 2858 0000020E 000B                   M           RTS                             ;RTSの後ろの
 2859 00000210 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2860                             510     
 2861                             511     
 2862                             512     
 2863                                     ***** BEGIN-POOL *****
 2864 00000212 0000                       ALIGNMENT CODE
 2865 00000214 00000000                   DATA FOR SOURCE-LINE 493
 2866 00000218 00000000                   DATA FOR SOURCE-LINE 496
 2867 0000021C 00000000                   DATA FOR SOURCE-LINE 504
 2868                                     ***** END-POOL *****
 2869 00000220                    513     _KOMTRAX_TIMCNT:
 2870                             514             SUB_START
 2871 00000220 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2872                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2873                             515     
 2874                             516     ;;;2011-01-14   DN_TIME LG=W,MEM_ADR=_KMT_HANDWDT_TIM,WKREG1=R1,WKREG2=R2       ;
 2875                             517     
 2876                             518     
 2877                             519     ;       ------------ 2011-01-14 10MSEC 作成 ---------------
 2878 00000222 D104               520             MOV.L   #_KMT_PROC_10MS,R1                              ;10msecﾀｲﾏ作成
 2879 00000224 6011               521             MOV.W   @R1,R0                                          ;
 2880 00000226 2008               522             TST     R0,R0                                           ;
 2881                             523             TST_BIT_OF KOMTRAX_TIMCT10_100                          ;
 2882 00000228 8906                   M           BT      KOMTRAX_TIMCT10_100
 2883 0000022A 70FF               524             ADD     #-1,R0                                          ;
 2884 0000022C 2101               525             MOV.W   R0,@R1                                          ;
 2885                             526             M_BRA   KOMTRAX_TIMCT10_200                             ;
 2886 0000022E A008                   M           BRA     KOMTRAX_TIMCT10_200
 2887 00000230 0009                   M           NOP
 2888                                     ***** BEGIN-POOL *****
 2889 00000232 0000                       ALIGNMENT CODE
 2890 00000234 00000000                   DATA FOR SOURCE-LINE 520
 2891                                     ***** END-POOL *****
 2892 00000238                    527     KOMTRAX_TIMCT10_100:
 2893 00000238 9006               528             MOV.W   #D'10-1,R0                                      ;
 2894 0000023A 2101               529             MOV.W   R0,@R1                                          ;
 2895                             530     
 2896                             531             FAR_JSR #_KMT_10MSEC_TIM,R0                                     ;2011-01-14
 2897 0000023C D003                   M           MOV.L   #_KMT_10MSEC_TIM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2898 0000023E 400B                   M           JSR     @R0                     ;
 2899 00000240 0009                   M           NOP                                     ;
 2900                             532     
 2901 00000242                    533     KOMTRAX_TIMCT10_200:
 2902                             534     
 2903                             535             SUB_END
 2904                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2905 00000242 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2906                             536             M_RTS
 2907 00000244 000B                   M           RTS                             ;RTSの後ろの
 2908 00000246 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2909                             537     
 2910                             538     ;       *******************************************
 2911                             539     ;       ***                                     ***
 2912                             540     ;       ***     処理軽減のため10msecタイマ使用  ***
 2913                             541     ;       ***                                     ***
 2914                             542     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    17
PROGRAM NAME =

 2915                             543     ;       ----------2011-01-14----
 2916                                     ***** BEGIN-POOL *****
 2917 00000248 0009                       DATA FOR SOURCE-LINE 528
 2918 0000024A 0000                       ALIGNMENT CODE
 2919 0000024C 00000000                   DATA FOR SOURCE-LINE 531
 2920                                     ***** END-POOL *****
 2921 00000250                    544     _KMT_10MSEC_TIM:
 2922                             545             SUB_START
 2923 00000250 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2924                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2925                             546     
 2926                             547             DN_TIME LG=W,MEM_ADR=_KMT_HINBAN_SIGTIM,WKREG1=R1,WKREG2=R2
 2927 00000252 D10D                   M           MOV.L   #_KMT_HINBAN_SIGTIM,R1          ;SORCE ADRESS SET
 2928 00000254 6211                   M           MOV.W   @R1,R2          ;
 2929 00000256 2228                   M           TST     R2,R2                   ;
 2930 00000258 8901                   M           BT      JMP_0100001                     ;ZERO THEN JUMP
 2931 0000025A 4210                   M           DT      R2                              ;
 2932 0000025C 2121                   M           MOV.W   R2,@R1          ;STORE
 2933 0000025E                        M   JMP_0100001:
 2934                             548             DN_TIME LG=W,MEM_ADR=_KMT_SYOUMO_SIGTIM,WKREG1=R1,WKREG2=R2
 2935 0000025E D10B                   M           MOV.L   #_KMT_SYOUMO_SIGTIM,R1          ;SORCE ADRESS SET
 2936 00000260 6211                   M           MOV.W   @R1,R2          ;
 2937 00000262 2228                   M           TST     R2,R2                   ;
 2938 00000264 8901                   M           BT      JMP_0100002                     ;ZERO THEN JUMP
 2939 00000266 4210                   M           DT      R2                              ;
 2940 00000268 2121                   M           MOV.W   R2,@R1          ;STORE
 2941 0000026A                        M   JMP_0100002:
 2942                             549     
 2943                             550             DN_TIME LG=W,MEM_ADR=_KMT_HANDWDT_TIM,WKREG1=R1,WKREG2=R2       ;1msec->10msecへ 2
                                          011-01-14
 2944 0000026A D109                   M           MOV.L   #_KMT_HANDWDT_TIM,R1            ;SORCE ADRESS SET
 2945 0000026C 6211                   M           MOV.W   @R1,R2          ;
 2946 0000026E 2228                   M           TST     R2,R2                   ;
 2947 00000270 8901                   M           BT      JMP_0100003                     ;ZERO THEN JUMP
 2948 00000272 4210                   M           DT      R2                              ;
 2949 00000274 2121                   M           MOV.W   R2,@R1          ;STORE
 2950 00000276                        M   JMP_0100003:
 2951                             551             DN_TIME LG=W,MEM_ADR=_KMT_EVENT_SIGTIM,WKREG1=R1,WKREG2=R2      ;1msec->10msecへ 2
                                          011-01-14
 2952 00000276 D107                   M           MOV.L   #_KMT_EVENT_SIGTIM,R1           ;SORCE ADRESS SET
 2953 00000278 6211                   M           MOV.W   @R1,R2          ;
 2954 0000027A 2228                   M           TST     R2,R2                   ;
 2955 0000027C 8901                   M           BT      JMP_0100004                     ;ZERO THEN JUMP
 2956 0000027E 4210                   M           DT      R2                              ;
 2957 00000280 2121                   M           MOV.W   R2,@R1          ;STORE
 2958 00000282                        M   JMP_0100004:
 2959                             552     
 2960                             553     
 2961                             554             SUB_END
 2962                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2963 00000282 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2964                             555             M_RTS
 2965 00000284 000B                   M           RTS                             ;RTSの後ろの
 2966 00000286 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2967                             556     
 2968                             557     
 2969                             558     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    18
PROGRAM NAME =

 2970                             559     ;       ***                                     ***
 2971                             560     ;       ***             1CYCLE 信号             ***
 2972                             561     ;       ***             割込                    ***
 2973                             562     ;       *******************************************
 2974                             563             .IMPORT _CPUATOD_1CYCL_SIG              ;BIT0=0/BIT0=1 ｾｯﾄCPUA CLR CPUD
 2975                             564     
 2976                                     ***** BEGIN-POOL *****
 2977 00000288 00000000                   DATA FOR SOURCE-LINE 547
 2978 0000028C 00000000                   DATA FOR SOURCE-LINE 548
 2979 00000290 00000000                   DATA FOR SOURCE-LINE 550
 2980 00000294 00000000                   DATA FOR SOURCE-LINE 551
 2981                                     ***** END-POOL *****
 2982 00000298                    565     _KMT_1CYCLE_SET                                 ;(CPUBのｸﾗｯﾁからCALL)
 2983                             566             SUB_START
 2984 00000298 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2985                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2986 0000029A 9009               567             MOV.W   #__CYCLE_SIG_TIMSV,R0
 2987 0000029C D105               568             MOV.L   #_KMT_1CYCL_SIGTIM,R1           ;
 2988 0000029E 2101               569             MOV.W   R0,@R1                          ;
 2989                             570             MEM1_BIT0_F_ORSET MEM=_KMT_STS_SQ087,LG=W,BIT=(BIT2),WKRG1=R1,WKRG2=R2
 2990 000002A0 D105                   M           MOV.L   #_KMT_STS_SQ087,R1              ;
 2991 000002A2 6011                   M           MOV.W   @R1,R0          ;
 2992 000002A4 9205                   M           MOV.W   #(BIT2),R2              ;
 2993 000002A6 202B                   M           OR      R2,R0           ;
 2994 000002A8 2101                   M           MOV.W   R0,@R1          ;
 2995                             571             SUB_END
 2996                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2997 000002AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2998                             572             M_RTS
 2999 000002AC 000B                   M           RTS                             ;RTSの後ろの
 3000 000002AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3001                             573     
 3002                             574     
 3003                                     ***** BEGIN-POOL *****
 3004 000002B0 0014                       DATA FOR SOURCE-LINE 567
 3005 000002B2 0004                       DATA FOR SOURCE-LINE 570
 3006 000002B4 00000000                   DATA FOR SOURCE-LINE 568
 3007 000002B8 00000000                   DATA FOR SOURCE-LINE 570
 3008                                     ***** END-POOL *****
 3009 000002BC                    575     _KMT_1CYCLE_SIGCHK
 3010                             576             SUB_START
 3011 000002BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3012                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3013                             577     
 3014                             578     ;       --------- 2014-09-29 1ｻｲｸﾙ信号をCPUAからもらう----------
 3015 000002BE D10A               579             MOV.L   #_CPUATOD_1CYCL_SIG,R1          ;BIT0=0/BIT0=1 1ｻｲｸﾙ
 3016 000002C0 6011               580             MOV.W   @R1,R0                          ;
 3017 000002C2 C801               581             TST     #BIT0,R0                        ;
 3018                             582             TST_BIT_OF KMT_1CYCLSIGCHK_050          ;1CYCLE ON
 3019 000002C4 8904                   M           BT      KMT_1CYCLSIGCHK_050
 3020 000002C6 200A               583             XOR     R0,R0                           ;
 3021 000002C8 2101               584             MOV.W   R0,@R1                          ;CLR
 3022                             585     
 3023                             586             FAR_JSR #_KMT_1CYCLE_SET,R0             ;
 3024 000002CA D008                   M           MOV.L   #_KMT_1CYCLE_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3025 000002CC 400B                   M           JSR     @R0                     ;
 3026 000002CE 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    19
PROGRAM NAME =

 3027                             587     
 3028 000002D0                    588     KMT_1CYCLSIGCHK_050
 3029                             589     
 3030                             590     
 3031                             591     ;       -----------------------------------------
 3032 000002D0 D107               592             MOV.L   #_KMT_STS_SQ087,R1              ;ok
 3033 000002D2 6011               593             MOV.W   @R1,R0                          ;
 3034 000002D4 C804               594             TST     #BIT2,R0
 3035                             595             TST_BIT_OF KMT_1CYCLSIGCHK_END
 3036 000002D6 8914                   M           BT      KMT_1CYCLSIGCHK_END
 3037                             596     
 3038 000002D8 D106               597             MOV.L   #_KMT_1CYCL_SIGTIM,R1           ;
 3039 000002DA 6011               598             MOV.W   @R1,R0                          ;
 3040 000002DC 2008               599             TST     R0,R0
 3041                             600             TST_BIT_OF KMT_1CYCLSIGCHK_100          ;
 3042 000002DE 890B                   M           BT      KMT_1CYCLSIGCHK_100
 3043 000002E0 70FF               601             ADD     #-1,R0
 3044 000002E2 2101               602             MOV.W   R0,@R1                          ;
 3045                             603             M_BRA   KMT_1CYCLSIGCHK_END             ;
 3046 000002E4 A00D                   M           BRA     KMT_1CYCLSIGCHK_END
 3047 000002E6 0009                   M           NOP
 3048                             604     
 3049                                     ***** BEGIN-POOL *****
 3050 000002E8 00000000                   DATA FOR SOURCE-LINE 579
 3051 000002EC 00000000                   DATA FOR SOURCE-LINE 586
 3052 000002F0 00000000                   DATA FOR SOURCE-LINE 592
 3053 000002F4 00000000                   DATA FOR SOURCE-LINE 597
 3054                                     ***** END-POOL *****
 3055 000002F8                    605     KMT_1CYCLSIGCHK_100
 3056                             606             MEM1_BIT0_F_ADCLR MEM=_KMT_STS_SQ087,LG=W,BIT=~(BIT2),WKRG1=R1,WKRG2=R4 ;
 3057 000002F8 D104                   M           MOV.L   #_KMT_STS_SQ087,R1              ;
 3058 000002FA 6011                   M           MOV.W   @R1,R0          ;
 3059 000002FC 9404                   M           MOV.W   #LWORD ~(BIT2),R4       ;
 3060 000002FE 2049                   M           AND     R4,R0           ;
 3061 00000300 2101                   M           MOV.W   R0,@R1          ;
 3062                             607     
 3063 00000302                    608     KMT_1CYCLSIGCHK_END
 3064                             609             SUB_END
 3065                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3066 00000302 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3067                             610             M_RTS
 3068 00000304 000B                   M           RTS                             ;RTSの後ろの
 3069 00000306 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3070                             611     
 3071                             612     
 3072                             613     ;       *******************************************
 3073                             614     ;       ***                                     ***
 3074                             615     ;       ***             ｼｰｹﾝｽ1WORD転送処理      ***
 3075                             616     ;       ***             (read/write)            ***
 3076                             617     ;       ***             割り込み                ***
 3077                             618     ;       *******************************************
 3078                                     ***** BEGIN-POOL *****
 3079 00000308 FFFB                       DATA FOR SOURCE-LINE 606
 3080 0000030A 0000                       ALIGNMENT CODE
 3081 0000030C 00000000                   DATA FOR SOURCE-LINE 606
 3082                                     ***** END-POOL *****
 3083 00000310                    619             .ALIGN  4                                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    20
PROGRAM NAME =

 3084 00000310                    620     _KMT_SEQ_REF1:
 3085                             621             SUB_START
 3086 00000310 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3087                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3088                             622     
 3089                             623     
 3090                             624     ;       ----- SEQ149 -->DPRAM
 3091                             625             MEM_MOV_TO_MEM  SRC_ADR=_SEQ_DP_TOP+_SQ149,L1=W,DST_ADR=_ET2_SEQ_IDT01,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2 ;
 3092 00000312 D00C                   M           MOV.L   #_SEQ_DP_TOP+_SQ149,R0
 3093 00000314 6101                   M           MOV.W   @R0,R1  ;WK1=SRC_ADR WK2=data
 3094 00000316 D20C                   M           MOV.L   #_ET2_SEQ_IDT01,R2      ;DST_ADR
 3095 00000318 2211                   M           MOV.W   R1,@R2  ;DST_ADR
 3096                             626     
 3097                             627     ;       ----- DPRAM -->SEQ 86
 3098                             628             MEM_MOV_TO_MEM  SRC_ADR=_ET2_SEQ_QDT01,L1=W,DST_ADR=_SEQ_DP_TOP+_SQ086,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2 ;
 3099 0000031A D00C                   M           MOV.L   #_ET2_SEQ_QDT01,R0
 3100 0000031C 6101                   M           MOV.W   @R0,R1  ;WK1=SRC_ADR WK2=data
 3101 0000031E D20C                   M           MOV.L   #_SEQ_DP_TOP+_SQ086,R2  ;DST_ADR
 3102 00000320 2211                   M           MOV.W   R1,@R2  ;DST_ADR
 3103                             629     
 3104                             630     ;       ------- MAINSQ87WORK+INT87-->SIT4 CPUA(SEQ).DPへ
 3105 00000322 D10C               631             MOV.L   #_KMT_STS1MN_SQ87,R1    ;
 3106 00000324 6011               632             MOV.W   @R1,R0                  ;MAINで作成したSQ87とINTをあわせて出力
 3107 00000326 D30C               633             MOV.L   #_KMT_STS_SQ087,R3      ;
 3108 00000328 6231               634             MOV.W   @R3,R2
 3109 0000032A 9409               635             MOV.W   #H'FFF8,R4              ;R4=MAIN SCAN BIT
 3110 0000032C 2049               636             AND     R4,R0                   ;MAIN BIT3,BIT4,5,6,BIT7~BIT15
 3111 0000032E 6447               637             NOT     R4,R4                   ;
 3112 00000330 2249               638             AND     R4,R2                   ;INT BIT0~BIT6
 3113 00000332 220B               639             OR      R0,R2                   ;
 3114 00000334 2321               640             MOV.W   R2,@R3                  ;SQ087 WORKへ
 3115 00000336 D109               641             MOV.L   #_SEQ_DP_TOP+_SQ087,R1  ;
 3116 00000338 2121               642             MOV.W   R2,@R1                  ;SEQ.DP
 3117                             643     
 3118                             644     ;;;     MEM_MOV_TO_MEM  SRC_ADR=_KMT_STS_SQ087,L1=W,DST_ADR=_SEQ_DP_TOP+_SQ087,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2
 3119                             645     
 3120                             646             SUB_END
 3121                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3122 0000033A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3123                             647             M_RTS
 3124 0000033C 000B                   M           RTS                             ;RTSの後ろの
 3125 0000033E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3126                             648     
 3127                             649     
 3128                             650     
 3129                             651     ;       ***************************************************
 3130                             652     ;       ***                                             ***
 3131                             653     ;       ***     MAIN LOOP                               ***
 3132                             654     ;       ***     KOMTRAXに表示すべきﾃﾞｰﾀをINTに送信する  ***
 3133                             655     ;       ***                                             ***
 3134                             656     ;       ***************************************************
 3135                             657     ;
 3136                                     ***** BEGIN-POOL *****
 3137 00000340 FFF8                       DATA FOR SOURCE-LINE 635
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    21
PROGRAM NAME =

 3138 00000342 0000                       ALIGNMENT CODE
 3139 00000344 00000000                   DATA FOR SOURCE-LINE 625
 3140 00000348 00000000                   DATA FOR SOURCE-LINE 625
 3141 0000034C 00000000                   DATA FOR SOURCE-LINE 628
 3142 00000350 00000000                   DATA FOR SOURCE-LINE 628
 3143 00000354 00000000                   DATA FOR SOURCE-LINE 631
 3144 00000358 00000000                   DATA FOR SOURCE-LINE 633
 3145 0000035C 00000000                   DATA FOR SOURCE-LINE 641
 3146                                     ***** END-POOL *****
 3147 00000360                    658             .ALIGN  4                                       ;
 3148 00000360                    659     _KOMTRAX_EVENT_MAIN
 3149                             660             SUB_START
 3150 00000360 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3151                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3152                             661     
 3153                             662             FAR_JSR #_ICHAR_DATA_CHK,R0                     ;作成
 3154 00000362 D004                   M           MOV.L   #_ICHAR_DATA_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3155 00000364 400B                   M           JSR     @R0                     ;
 3156 00000366 0009                   M           NOP                                     ;
 3157                             663     
 3158                             664     ;処理軽減のため1msecからﾒｲﾝへ2011-01-14
 3159                             665     
 3160                             666             FAR_JSR #_KMT_EVENT_INT_STEP,R0                 ;転送処理
 3161 00000368 D003                   M           MOV.L   #_KMT_EVENT_INT_STEP,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3162 0000036A 400B                   M           JSR     @R0                     ;
 3163 0000036C 0009                   M           NOP                                     ;
 3164                             667     
 3165                             668             SUB_END
 3166                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3167 0000036E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3168                             669             M_RTS
 3169 00000370 000B                   M           RTS                             ;RTSの後ろの
 3170 00000372 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3171                             670     
 3172                             671     ;       ***************************************************
 3173                             672     ;       ***                                             ***
 3174                             673     ;       ***     ｷｬﾗｸﾀに変化があったら送信ｲﾍﾞﾝﾄを出力    ***
 3175                             674     ;       ***                                             ***
 3176                             675     ;       ***************************************************
 3177                             676     ;       キャラクタが変化して、そのキャラクタが2文字が"",""でなければ有効なﾃﾞｰﾀ
 3178                             677     ;[1]基本的にメインのデータをCOPYする
 3179                             678     ;       変化があった際に
 3180                             679     ;       最新値が"20"未満のデータまたは"20"20"なら送信しない
 3181                             680     ;       =>なし状態
 3182                             681     ;・ERRなし状態
 3183                             682     ;"CHAR[0][8]をチェックだけをチェックする"
 3184                             683     ;・ERR有りでCHAR[0][8]が送信完了したら
 3185                             684     ;
 3186                             685     ;CHAR[1][8]をﾁｪｯｸする
 3187                             686     ;
 3188                             687     ;_IROCK_OUT_NO          ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-ON=0注意]
 3189                             688     
 3190                                     ***** BEGIN-POOL *****
 3191 00000374 00000000                   DATA FOR SOURCE-LINE 662
 3192 00000378 00000000                   DATA FOR SOURCE-LINE 666
 3193                                     ***** END-POOL *****
 3194 0000037C                    689     _ICHAR_DATA_CHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    22
PROGRAM NAME =

 3195                             690             SUB_START
 3196 0000037C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3197                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3198                             691     
 3199 0000037E D103               692             MOV.L   #_KMT_EVENT_CHGF,R1             ;
 3200 00000380 6011               693             MOV.W   @R1,R0                          ;MAIN=>INT
 3201 00000382 2008               694             TST     R0,R0                           ;
 3202                             695             TST_BIT_OF ICHAR_DATCHK_020             ;
 3203 00000384 8904                   M           BT      ICHAR_DATCHK_020
 3204                             696             M_BRA   ICHAR_DATCHK_999                ;送信ｲﾍﾞﾝﾄ中
 3205 00000386 A072                   M           BRA     ICHAR_DATCHK_999
 3206 00000388 0009                   M           NOP
 3207                             697     
 3208                                     ***** BEGIN-POOL *****
 3209 0000038A 0000                       ALIGNMENT CODE
 3210 0000038C 00000000                   DATA FOR SOURCE-LINE 692
 3211                                     ***** END-POOL *****
 3212 00000390                    698     ICHAR_DATCHK_020:
 3213                             699     
 3214 00000390 200A               700             XOR     R0,R0
 3215 00000392 D50A               701             MOV.L   #_KMT_CHK_CHRNO,R5              ;0/1
 3216 00000394 6155               702             MOV.W   @R5+,R1                         ;1
 3217 00000396 201B               703             OR      R1,R0                           ;
 3218 00000398 6155               704             MOV.W   @R5+,R1                         ;2
 3219 0000039A 201B               705             OR      R1,R0                           ;
 3220 0000039C 6155               706             MOV.W   @R5+,R1                         ;3
 3221 0000039E 201B               707             OR      R1,R0                           ;
 3222 000003A0 6155               708             MOV.W   @R5+,R1                         ;4
 3223 000003A2 201B               709             OR      R1,R0                           ;
 3224 000003A4 6155               710             MOV.W   @R5+,R1                         ;5
 3225 000003A6 201B               711             OR      R1,R0                           ;
 3226 000003A8 6155               712             MOV.W   @R5+,R1                         ;6
 3227 000003AA 201B               713             OR      R1,R0                           ;
 3228 000003AC 6155               714             MOV.W   @R5+,R1                         ;7
 3229 000003AE 201B               715             OR      R1,R0                           ;
 3230 000003B0 6155               716             MOV.W   @R5+,R1                         ;8
 3231 000003B2 201B               717             OR      R1,R0                           ;
 3232 000003B4 2008               718             TST     R0,R0                           ;
 3233                             719             TST_BIT_OF ICHAR_DATCHK_050             ;
 3234 000003B6 8903                   M           BT      ICHAR_DATCHK_050
 3235                             720             M_BRA   ICHAR_DATCHK_300                ;ﾃﾞｰﾀ有り更新を止める
 3236 000003B8 A024                   M           BRA     ICHAR_DATCHK_300
 3237 000003BA 0009                   M           NOP
 3238                             721     
 3239                                     ***** BEGIN-POOL *****
 3240 000003BC 00000000                   DATA FOR SOURCE-LINE 701
 3241                                     ***** END-POOL *****
 3242 000003C0                    722     ICHAR_DATCHK_050:
 3243                             723     
 3244                             724     
 3245                             725     
 3246                             726     
 3247                             727     
 3248                             728     
 3249 000003C0 9A2B               729             MOV.W   #D'8,R10                        ;
 3250 000003C2 D517               730             MOV.L   #_IROCK_OUT_NO,R5               ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-
                                          ON=0注意]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    23
PROGRAM NAME =

 3251 000003C4 D617               731             MOV.L   #_KMT_OLD_CHRNO,R6              ;
 3252 000003C6 D718               732             MOV.L   #_KMT_CHK_CHRNO,R7              ;0/1
 3253 000003C8 9428               733             MOV.W   #H'FFFF,R4                      ;
 3254                             734     
 3255                             735     
 3256 000003CA                    736     ICHAR_DATCHK_070LOP:
 3257 000003CA 233A               737             XOR     R3,R3                           ;
 3258 000003CC 6155               738             MOV.W   @R5+,R1                         ;NEW
 3259 000003CE 6261               739             MOV.W   @R6,R2                          ;
 3260 000003D0 2611               740             MOV.W   R1,@R6                          ;
 3261 000003D2 3140               741             CMP/EQ  R4,R1                           ;
 3262 000003D4 8907               742             BT      ICHAR_DATCHK_100                ;R3=0 有効なデータなし
 3263                             743     
 3264 000003D6 3120               744             CMP/EQ  R2,R1                           ;R2=R1
 3265 000003D8 8905               745             BT      ICHAR_DATCHK_100                ;変化なし(通常はFFFF→CODEなので変化有り)
 3266                             746                                                     ;前回の表示グループに同じコードがあるか？
 3267                             747                                                     ;あれば詰めた結果なので更新しない
 3268                             748     
 3269                             749             FAR_JSR #_CHAR_BUF8_SERCH,R0            ;INPUT R1 ANS R0=0(同じものがない)
 3270 000003DA D014                   M           MOV.L   #_CHAR_BUF8_SERCH,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3271 000003DC 400B                   M           JSR     @R0                     ;
 3272 000003DE 0009                   M           NOP                                     ;
 3273 000003E0 2008               750             TST     R0,R0                           ;
 3274                             751             TST_BIT_ON ICHAR_DATCHK_100             ;今までの８個に同じものがある詰まっただけ
 3275 000003E2 8B00                   M           BF      ICHAR_DATCHK_100
 3276                             752     
 3277 000003E4 931B               753             MOV.W   #1,R3                           ;
 3278                             754     
 3279 000003E6                    755     ICHAR_DATCHK_100:                               ;
 3280 000003E6 2731               756             MOV.W   R3,@R7                          ;
 3281 000003E8 7602               757             ADD     #2,R6
 3282 000003EA 7702               758             ADD     #2,R7
 3283 000003EC 7AFF               759             ADD     #-1,R10
 3284 000003EE 2AA8               760             TST     R10,R10
 3285                             761             TST_BIT_ON ICHAR_DATCHK_070LOP          ;
 3286 000003F0 8BEB                   M           BF      ICHAR_DATCHK_070LOP
 3287                             762     
 3288                             763     
 3289 000003F2 9412               764             MOV.W   #D'8,R4
 3290 000003F4 D50B               765             MOV.L   #_KMT_OLD_CHRNO,R5              ;
 3291 000003F6 D60E               766             MOV.L   #_KMT_USE_CHRNO,R6              ;
 3292 000003F8                    767     ICHAR_DATCHK_200:
 3293 000003F8 6055               768             MOV.W   @R5+,R0                         ;COPY OLD(NEW)==>USE
 3294 000003FA 2601               769             MOV.W   R0,@R6
 3295 000003FC 7602               770             ADD     #2,R6
 3296 000003FE 74FF               771             ADD     #-1,R4                          ;
 3297 00000400 2448               772             TST     R4,R4                           ;
 3298                             773             TST_BIT_ON ICHAR_DATCHK_200             ;
 3299 00000402 8BF9                   M           BF      ICHAR_DATCHK_200
 3300                             774     
 3301                             775     
 3302                             776     ;       ============ﾃﾞｰﾀ有/なし=======
 3303 00000404                    777     ICHAR_DATCHK_300:
 3304 00000404 200A               778             XOR     R0,R0                           ;
 3305 00000406 D508               779             MOV.L   #_KMT_CHK_CHRNO,R5              ;0/1
 3306 00000408                    780     ICHAR_DATCHK_300LOP:
 3307 00000408 6151               781             MOV.W   @R5,R1                          ;0/1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    24
PROGRAM NAME =

 3308 0000040A 2118               782             TST     R1,R1                           ;
 3309                             783             TST_BIT_ON ICHAR_DATCHK_400             ;送信ﾃﾞｰﾀ有り
 3310 0000040C 8B12                   M           BF      ICHAR_DATCHK_400
 3311 0000040E 7502               784             ADD     #2,R5                           ;
 3312 00000410 7001               785             ADD     #1,R0                           ;
 3313 00000412 8808               786             CMP/EQ  #8,R0                           ;
 3314 00000414 8BF8               787             BF      ICHAR_DATCHK_300LOP
 3315                             788             M_BRA   ICHAR_DATCHK_500                ;送信すべきデータなし
 3316 00000416 A029                   M           BRA     ICHAR_DATCHK_500
 3317 00000418 0009                   M           NOP
 3318                             789     
 3319                             790     
 3320                                     ***** BEGIN-POOL *****
 3321 0000041A 0008                       DATA FOR SOURCE-LINE 729,764
 3322 0000041C FFFF                       DATA FOR SOURCE-LINE 733
 3323 0000041E 0001                       DATA FOR SOURCE-LINE 753
 3324 00000420 00000000                   DATA FOR SOURCE-LINE 730
 3325 00000424 00000000                   DATA FOR SOURCE-LINE 731,765
 3326 00000428 00000000                   DATA FOR SOURCE-LINE 732,779
 3327 0000042C 00000000                   DATA FOR SOURCE-LINE 749
 3328 00000430 00000000                   DATA FOR SOURCE-LINE 766
 3329                                     ***** END-POOL *****
 3330 00000434                    791     ICHAR_DATCHK_400:
 3331 00000434 211A               792             XOR     R1,R1                           ;
 3332 00000436 2511               793             MOV.W   R1,@R5                          ;ﾃﾞｰﾀなしにする
 3333                             794     
 3334 00000438 D50F               795             MOV.L   #_IROCK_CHAR,R5                 ;
 3335 0000043A 4000               796             SHLL    R0                              ;
 3336 0000043C 4008               797             SHLL2   R0                              ;8byte
 3337 0000043E 350C               798             ADD     R0,R5                           ;
 3338                             799     
 3339 00000440 D70E               800             MOV.L   #_KMT_EVENT_CHAR,R7             ;
 3340                             801     
 3341 00000442 6055               802             MOV.W   @R5+,R0                         ;8byte(4WORD)
 3342 00000444 2008               803             TST     R0,R0                           ;
 3343                             804             TST_BIT_OF ICHAR_DATCHK_500             ;0000はﾃﾞｰﾀなし
 3344 00000446 8911                   M           BT      ICHAR_DATCHK_500
 3345 00000448 9114               805             MOV.W   #H'2020,R1                      ;
 3346 0000044A 3010               806             CMP/EQ  R1,R0                           ;
 3347 0000044C 890E               807             BT      ICHAR_DATCHK_500                ;2020" "" "はﾃﾞｰﾀなし
 3348                             808     
 3349 0000044E 2701               809             MOV.W   R0,@R7                          ;
 3350 00000450 7702               810             ADD     #2,R7
 3351 00000452 6055               811             MOV.W   @R5+,R0
 3352 00000454 2701               812             MOV.W   R0,@R7
 3353 00000456 7702               813             ADD     #2,R7
 3354 00000458 6055               814             MOV.W   @R5+,R0
 3355 0000045A 2701               815             MOV.W   R0,@R7
 3356 0000045C 7702               816             ADD     #2,R7
 3357 0000045E 6055               817             MOV.W   @R5+,R0
 3358 00000460 2701               818             MOV.W   R0,@R7
 3359 00000462 7702               819             ADD     #2,R7
 3360                             820             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_CHGF,LG=W,BIT=BIT0,WKREG=R1      ;bit-set
 3361 00000464 D106                   M           MOV.L   #_KMT_EVENT_CHGF,R1             ;
 3362 00000466 6011                   M           MOV.W   @R1,R0          ;
 3363 00000468 CB01                   M           OR      #BIT0,R0                ;
 3364 0000046A 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    25
PROGRAM NAME =

 3365                             821     
 3366 0000046C                    822     ICHAR_DATCHK_500:
 3367 0000046C 0009               823             NOP
 3368 0000046E                    824     ICHAR_DATCHK_999
 3369                             825     
 3370                             826             SUB_END
 3371                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3372 0000046E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3373                             827             M_RTS
 3374 00000470 000B                   M           RTS                             ;RTSの後ろの
 3375 00000472 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3376                             828     
 3377                             829     
 3378                             830     ;       *******************************************
 3379                             831     ;       ***                                     ***
 3380                             832     ;       ***                                     ***
 3381                             833     ;       ***                                     ***
 3382                             834     ;       *******************************************
 3383                             835     ;       INPUT R1
 3384                             836     ;       OUTPUT R0=0(同じものがない)
 3385                             837     ;
 3386                                     ***** BEGIN-POOL *****
 3387 00000474 2020                       DATA FOR SOURCE-LINE 805
 3388 00000476 0000                       ALIGNMENT CODE
 3389 00000478 00000000                   DATA FOR SOURCE-LINE 795
 3390 0000047C 00000000                   DATA FOR SOURCE-LINE 800
 3391 00000480 00000000                   DATA FOR SOURCE-LINE 820
 3392                                     ***** END-POOL *****
 3393 00000484                    838     _CHAR_BUF8_SERCH:
 3394                             839             SUB_START
 3395 00000484 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3396                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3397                             840             PUSH_REG1 R3
 3398 00000486 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
 3399                                 M                                           ;REG=>[SP]
 3400                                 M                                           ;"-4" FF,FF,FF,FC
 3401                             841     
 3402 00000488 D30D               842             MOV.L   #_KMT_USE_CHRNO,R3              ;
 3403                             843     
 3404 0000048A 6035               844             MOV.W   @R3+,R0                         ;1
 3405 0000048C 3010               845             CMP/EQ  R1,R0                           ;
 3406 0000048E 8919               846             BT      CHAR_BUF8SER_200                ;
 3407                             847     
 3408 00000490 6035               848             MOV.W   @R3+,R0                         ;2
 3409 00000492 3010               849             CMP/EQ  R1,R0                           ;
 3410 00000494 8916               850             BT      CHAR_BUF8SER_200                ;
 3411                             851     
 3412 00000496 6035               852             MOV.W   @R3+,R0                         ;3
 3413 00000498 3010               853             CMP/EQ  R1,R0                           ;
 3414 0000049A 8913               854             BT      CHAR_BUF8SER_200                ;
 3415                             855     
 3416 0000049C 6035               856             MOV.W   @R3+,R0                         ;4
 3417 0000049E 3010               857             CMP/EQ  R1,R0                           ;
 3418 000004A0 8910               858             BT      CHAR_BUF8SER_200                ;
 3419                             859     
 3420 000004A2 6035               860             MOV.W   @R3+,R0                         ;5
 3421 000004A4 3010               861             CMP/EQ  R1,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    26
PROGRAM NAME =

 3422 000004A6 890D               862             BT      CHAR_BUF8SER_200                ;
 3423                             863     
 3424 000004A8 6035               864             MOV.W   @R3+,R0                         ;6
 3425 000004AA 3010               865             CMP/EQ  R1,R0                           ;
 3426 000004AC 890A               866             BT      CHAR_BUF8SER_200                ;
 3427                             867     
 3428 000004AE 6035               868             MOV.W   @R3+,R0                         ;7
 3429 000004B0 3010               869             CMP/EQ  R1,R0                           ;
 3430 000004B2 8907               870             BT      CHAR_BUF8SER_200                ;
 3431                             871     
 3432 000004B4 6035               872             MOV.W   @R3+,R0                         ;8
 3433 000004B6 3010               873             CMP/EQ  R1,R0                           ;
 3434 000004B8 8904               874             BT      CHAR_BUF8SER_200                ;
 3435                             875     
 3436 000004BA 200A               876             XOR     R0,R0                           ;同じものがない
 3437                             877             M_BRA   CHAR_BUF8SER_END
 3438 000004BC A003                   M           BRA     CHAR_BUF8SER_END
 3439 000004BE 0009                   M           NOP
 3440                             878     
 3441                             879     
 3442                                     ***** BEGIN-POOL *****
 3443 000004C0 00000000                   DATA FOR SOURCE-LINE 842
 3444                                     ***** END-POOL *****
 3445 000004C4                    880     CHAR_BUF8SER_200:
 3446 000004C4 9003               881             MOV.W   #-1,R0                          ;同じものがある
 3447 000004C6                    882     CHAR_BUF8SER_END:
 3448                             883             POP_REG1 R3
 3449                                 M                                   ; RE"+4" 00,00,00,04
 3450 000004C6 63F6                   M           MOV.L   @R15+,R3        ;
 3451                             884             SUB_END
 3452                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3453 000004C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3454                             885             M_RTS
 3455 000004CA 000B                   M           RTS                             ;RTSの後ろの
 3456 000004CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3457                             886     
 3458                             887     
 3459                             888     
 3460                             889     
 3461                             890     
 3462                             891     ;       *******************************************
 3463                             892     ;       ***                                     ***
 3464                             893     ;       ***             EVENT割込転送処理       ***
 3465                             894     ;       ***             (write)                 ***
 3466                             895     ;       *******************************************
 3467                                     ***** BEGIN-POOL *****
 3468 000004CE FFFF                       DATA FOR SOURCE-LINE 881
 3469                                     ***** END-POOL *****
 3470 000004D0                    896             .ALIGN  4                                       ;
 3471 000004D0                    897     _KMT_EVENT_INT_STEP
 3472                             898             SUB_START
 3473 000004D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3474                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3475                             899     
 3476                             900     ;;;     10msecへ
 3477                             901     ;;;     ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 3478                             902     ;;;     MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    27
PROGRAM NAME =

 3479                             903     ;;;     MOV.W   @R1,R0                                  ;
 3480                             904     ;;;     TST     R0,R0                                   ;
 3481                             905     ;;;     TST_BIT_OF KMT_EVET_STP050                      ;
 3482                             906     ;;;     ADD     #-1,R0                                  ;
 3483                             907     ;;;     MOV.W   R0,@R1                                  ;
 3484                             908     ;;;KMT_EVET_STP050:
 3485                             909     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 3486                             910     
 3487                             911     
 3488 000004D2 D116               912             MOV.L   #_KMT_EVENT_FLG,R1                      ;
 3489 000004D4 6011               913             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 3490 000004D6 C80E               914             TST     #(BIT3+BIT2+BIT1),R0                            ;BIT2=1 ｼｰｹﾝｽへ出力
 3491                             915             TST_BIT_ON KMT_EVET_STP300                      ;
 3492 000004D8 8B38                   M           BF      KMT_EVET_STP300
 3493                             916     
 3494 000004DA D515               917             MOV.L   #_KMT_EVENT_CHGF,R5                     ;
 3495 000004DC 6051               918             MOV.W   @R5,R0                                  ;MAIN==>INT
 3496 000004DE 2008               919             TST     R0,R0                                   ;
 3497                             920             TST_BIT_OF KMT_EVET_STPEXT                      ;
 3498 000004E0 8977                   M           BT      KMT_EVET_STPEXT
 3499                             921     
 3500 000004E2 200A               922             XOR     R0,R0                                   ;
 3501 000004E4 2501               923             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 3502                             924     
 3503 000004E6 200A               925             XOR     R0,R0
 3504 000004E8 D112               926             MOV.L   #_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                 ;0
                                          :固定 (SIT_MEMを対象)
 3505 000004EA 2101               927             MOV.W   R0,@R1                                  ;
 3506                             928     
 3507 000004EC 901B               929             MOV.W   #__SITM_CHRTOP1/2,R0                    ;byte adr/2
 3508 000004EE D112               930             MOV.L   #_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                 ;
 3509 000004F0 2101               931             MOV.W   R0,@R1                                  ;
 3510                             932     
 3511 000004F2 9019               933             MOV.W   #__SITM_CHRCNT/2,R0                     ;8byte=4word
 3512 000004F4 D111               934             MOV.L   #_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                    ;M
                                          AX 1~256 word
 3513 000004F6 2101               935             MOV.W   R0,@R1
 3514                             936     
 3515 000004F8 D511               937             MOV.L   #_KMT_EVENT_CHAR,R5                     ;8文字*8:64文字
 3516 000004FA D612               938             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R6                    ;
 3517 000004FC 6055               939             MOV.W   @R5+,R0                                 ;
 3518 000004FE 2601               940             MOV.W   R0,@R6                                  ;2文字
 3519 00000500 7602               941             ADD     #2,R6                                   ;
 3520 00000502 6055               942             MOV.W   @R5+,R0                                 ;
 3521 00000504 2601               943             MOV.W   R0,@R6                                  ;4文字
 3522 00000506 7602               944             ADD     #2,R6                                   ;
 3523 00000508 6055               945             MOV.W   @R5+,R0                                 ;
 3524 0000050A 2601               946             MOV.W   R0,@R6                                  ;6文字
 3525 0000050C 7602               947             ADD     #2,R6                                   ;
 3526 0000050E 6055               948             MOV.W   @R5+,R0                                 ;
 3527 00000510 2601               949             MOV.W   R0,@R6                                  ;8文字
 3528 00000512 7602               950             ADD     #2,R6                                   ;
 3529                             951     
 3530 00000514 9009               952             MOV.W   #__KMTCMD_WR,R0
 3531 00000516 D10C               953             MOV.L   #_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                    ;
 3532 00000518 2101               954             MOV.W   R0,@R1                                  ;WRITE
 3533                             955     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    28
PROGRAM NAME =

 3534                             956             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT1,WKREG=R1       ;bit-set
 3535 0000051A D104                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3536 0000051C 6011                   M           MOV.W   @R1,R0          ;
 3537 0000051E CB02                   M           OR      #BIT1,R0                ;
 3538 00000520 2101                   M           MOV.W   R0,@R1          ;
 3539                             957             M_BRA   KMT_EVET_STPEXT
 3540 00000522 A056                   M           BRA     KMT_EVET_STPEXT
 3541 00000524 0009                   M           NOP
 3542                             958     
 3543                                     ***** BEGIN-POOL *****
 3544 00000526 0002                       DATA FOR SOURCE-LINE 929
 3545 00000528 0004                       DATA FOR SOURCE-LINE 933
 3546 0000052A 0001                       DATA FOR SOURCE-LINE 952
 3547 0000052C 00000000                   DATA FOR SOURCE-LINE 912,956
 3548 00000530 00000000                   DATA FOR SOURCE-LINE 917
 3549 00000534 00000000                   DATA FOR SOURCE-LINE 926
 3550 00000538 00000000                   DATA FOR SOURCE-LINE 930
 3551 0000053C 00000000                   DATA FOR SOURCE-LINE 934
 3552 00000540 00000000                   DATA FOR SOURCE-LINE 937
 3553 00000544 00000000                   DATA FOR SOURCE-LINE 938
 3554 00000548 00000000                   DATA FOR SOURCE-LINE 953
 3555                                     ***** END-POOL *****
 3556 0000054C                    959     KMT_EVET_STP300
 3557 0000054C D10C               960             MOV.L   #_KMT_EVENT_FLG,R1                                      ;
 3558 0000054E 6011               961             MOV.W   @R1,R0                                                  ;BIT1=1 EVENT終了
                                          待ち
 3559 00000550 C808               962             TST     #BIT3,R0                                                ;OFF保証
 3560                             963             TST_BIT_ON KMT_EVET_STP500                                              ;
 3561 00000552 8B37                   M           BF      KMT_EVET_STP500
 3562                             964     
 3563 00000554 C804               965             TST     #BIT2,R0
 3564                             966             TST_BIT_ON KMT_EVET_STP400                                              ;ON保証
 3565 00000556 8B1B                   M           BF      KMT_EVET_STP400
 3566                             967     
 3567 00000558 D10A               968             MOV.L   #_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1
                                                          ;
 3568 0000055A 6011               969             MOV.W   @R1,R0                                                          ;
 3569 0000055C 2008               970             TST     R0,R0                                                           ;
 3570                             971             TST_BIT_ON KMT_EVET_STPEXT                                              ;ｺﾏﾝﾄﾞ処理
                                          中
 3571 0000055E 8B38                   M           BF      KMT_EVET_STPEXT
 3572                             972     
 3573                             973             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT2,WKREG=R1       ;bit-set
 3574 00000560 D107                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3575 00000562 6011                   M           MOV.W   @R1,R0          ;
 3576 00000564 CB04                   M           OR      #BIT2,R0                ;
 3577 00000566 2101                   M           MOV.W   R0,@R1          ;
 3578                             974     
 3579                             975             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R2
 3580 00000568 D107                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3581 0000056A 6011                   M           MOV.W   @R1,R0          ;
 3582 0000056C 9206                   M           MOV.W   #(BIT3),R2              ;
 3583 0000056E 202B                   M           OR      R2,R0           ;
 3584 00000570 2101                   M           MOV.W   R0,@R1          ;
 3585                             976     
 3586 00000572 9004               977             MOV.W   #__EVENT_SIG_ONTIMSV,R0                 ;
 3587 00000574 D105               978             MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    29
PROGRAM NAME =

 3588 00000576 2101               979             MOV.W   R0,@R1                                  ;
 3589                             980             M_BRA   KMT_EVET_STPEXT                         ;ON保証ﾀｲﾏ
 3590 00000578 A02B                   M           BRA     KMT_EVET_STPEXT
 3591 0000057A 0009                   M           NOP
 3592                             981     
 3593                                     ***** BEGIN-POOL *****
 3594 0000057C 0008                       DATA FOR SOURCE-LINE 975
 3595 0000057E 0032                       DATA FOR SOURCE-LINE 977
 3596 00000580 00000000                   DATA FOR SOURCE-LINE 960,973
 3597 00000584 00000000                   DATA FOR SOURCE-LINE 968
 3598 00000588 00000000                   DATA FOR SOURCE-LINE 975
 3599 0000058C 00000000                   DATA FOR SOURCE-LINE 978
 3600                                     ***** END-POOL *****
 3601 00000590                    982     KMT_EVET_STP400
 3602                             983     
 3603 00000590 D109               984             MOV.L   #_KMT_EVENT_SIGTIM,R1                           ;
 3604 00000592 6011               985             MOV.W   @R1,R0                                          ;
 3605 00000594 2008               986             TST     R0,R0                                                   ;
 3606                             987             TST_BIT_ON KMT_EVET_STPEXT                                      ;
 3607 00000596 8B1C                   M           BF      KMT_EVET_STPEXT
 3608                             988     
 3609                             989             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT3),WKRG1=R1,WKRG2=R4       ;
 3610 00000598 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3611 0000059A 6011                   M           MOV.W   @R1,R0          ;
 3612 0000059C 940A                   M           MOV.W   #LWORD ~(BIT3),R4       ;
 3613 0000059E 2049                   M           AND     R4,R0           ;
 3614 000005A0 2101                   M           MOV.W   R0,@R1          ;
 3615                             990             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT3,WKREG=R1       ;bit-set
 3616 000005A2 D107                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3617 000005A4 6011                   M           MOV.W   @R1,R0          ;
 3618 000005A6 CB08                   M           OR      #BIT3,R0                ;
 3619 000005A8 2101                   M           MOV.W   R0,@R1          ;
 3620                             991     
 3621                             992     
 3622 000005AA 9004               993             MOV.W   #__EVENT_SIG_OFTIMSV,R0                 ;
 3623 000005AC D102               994             MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
 3624 000005AE 2101               995             MOV.W   R0,@R1                                  ;
 3625                             996             M_BRA   KMT_EVET_STPEXT                         ;OFF保証ﾀｲﾏ
 3626 000005B0 A00F                   M           BRA     KMT_EVET_STPEXT
 3627 000005B2 0009                   M           NOP
 3628                             997     
 3629                                     ***** BEGIN-POOL *****
 3630 000005B4 FFF7                       DATA FOR SOURCE-LINE 989
 3631 000005B6 0032                       DATA FOR SOURCE-LINE 993
 3632 000005B8 00000000                   DATA FOR SOURCE-LINE 984,994
 3633 000005BC 00000000                   DATA FOR SOURCE-LINE 989
 3634 000005C0 00000000                   DATA FOR SOURCE-LINE 990
 3635                                     ***** END-POOL *****
 3636 000005C4                    998     KMT_EVET_STP500:
 3637                             999     
 3638 000005C4 D104              1000             MOV.L   #_KMT_EVENT_SIGTIM,R1                           ;
 3639 000005C6 6011              1001             MOV.W   @R1,R0                                          ;
 3640 000005C8 2008              1002             TST     R0,R0                                           ;
 3641                            1003             TST_BIT_ON KMT_EVET_STPEXT                              ;
 3642 000005CA 8B02                   M           BF      KMT_EVET_STPEXT
 3643                            1004     
 3644 000005CC 200A              1005             XOR     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    30
PROGRAM NAME =

 3645 000005CE D103              1006             MOV.L   #_KMT_EVENT_FLG,R1                                              ;
 3646 000005D0 2101              1007             MOV.W   R0,@R1                                                          ;
 3647                            1008     
 3648                            1009     
 3649 000005D2                   1010     KMT_EVET_STPEXT
 3650                            1011             SUB_END
 3651                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3652 000005D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3653                            1012             M_RTS
 3654 000005D4 000B                   M           RTS                             ;RTSの後ろの
 3655 000005D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3656                            1013     
 3657                            1014     
 3658                            1015     ;       *******************************************
 3659                            1016     ;       ***                                     ***
 3660                            1017     ;       ***             ﾊﾝﾄﾞｼｪｲｸWR              ***
 3661                            1018     ;       ***                                     ***
 3662                            1019     ;       *******************************************
 3663                                     ***** BEGIN-POOL *****
 3664 000005D8 00000000                   DATA FOR SOURCE-LINE 1000
 3665 000005DC 00000000                   DATA FOR SOURCE-LINE 1006
 3666                                     ***** END-POOL *****
 3667 000005E0                   1020     _KOMTRAX_HAND_WRITE:
 3668                            1021             SUB_START
 3669 000005E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3670                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3671                            1022     
 3672                            1023     
 3673 000005E2 D111              1024             MOV.L   #_KMT_HANDWR_FLG,R1                             ;
 3674 000005E4 6011              1025             MOV.W   @R1,R0                                          ;BIT1=1
 3675 000005E6 C802              1026             TST     #(BIT1),R0                                      ;
 3676                            1027             TST_BIT_ON KMT_HANDWR_STP300                            ;
 3677 000005E8 8B2C                   M           BF      KMT_HANDWR_STP300
 3678                            1028     
 3679                            1029     ;       ---------- WDT ﾁｪｯｸ部分------------------
 3680                            1030             FAR_JSR #_KMT_HAND_WDTCHK,R0
 3681 000005EA D010                   M           MOV.L   #_KMT_HAND_WDTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3682 000005EC 400B                   M           JSR     @R0                     ;
 3683 000005EE 0009                   M           NOP                                     ;
 3684 000005F0 2008              1031             TST     R0,R0
 3685                            1032             TST_BIT_OF KMT_HANDWR_STPEXT                                            ;
 3686 000005F2 8931                   M           BT      KMT_HANDWR_STPEXT
 3687                            1033     
 3688                            1034     ;       -------------------------------------
 3689 000005F4 200A              1035             XOR     R0,R0
 3690 000005F6 D10E              1036             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1               ;0
                                          :固定 (SIT_MEMを対象)
 3691 000005F8 2101              1037             MOV.W   R0,@R1                                                          ;
 3692                            1038     
 3693 000005FA 9012              1039             MOV.W   #__SITM_HANDWR/2,R0                                             ;byte adr/
                                          2
 3694 000005FC D10D              1040             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1               ;
 3695 000005FE 2101              1041             MOV.W   R0,@R1                                                          ;
 3696                            1042     
 3697 00000600 9010              1043             MOV.W   #__SITM_HANDCNT/2,R0                                            ;2Byte=1WO
                                          RD
 3698 00000602 D10D              1044             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;MAX 1~256
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    31
PROGRAM NAME =

                                           word
 3699 00000604 2101              1045             MOV.W   R0,@R1
 3700                            1046     
 3701 00000606 D10D              1047             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3702 00000608 6011              1048             MOV.W   @R1,R0                                                          ;
 3703 0000060A 7001              1049             ADD     #1,R0                                                           ;
 3704 0000060C D10B              1050             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3705 0000060E 2101              1051             MOV.W   R0,@R1                                                          ;
 3706                            1052     
 3707 00000610 9008              1053             MOV.W   #__KMTCMD_WR,R0                                                         ;W
                                          RITE
 3708 00000612 D10B              1054             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3709 00000614 2101              1055             MOV.W   R0,@R1                                                          ;
 3710                            1056     
 3711                            1057             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HANDWR_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 3712 00000616 D104                   M           MOV.L   #_KMT_HANDWR_FLG,R1             ;
 3713 00000618 6011                   M           MOV.W   @R1,R0          ;
 3714 0000061A CB02                   M           OR      #BIT1,R0                ;
 3715 0000061C 2101                   M           MOV.W   R0,@R1          ;
 3716                            1058             M_BRA   KMT_HANDWR_STPEXT
 3717 0000061E A01B                   M           BRA     KMT_HANDWR_STPEXT
 3718 00000620 0009                   M           NOP
 3719                            1059     
 3720                                     ***** BEGIN-POOL *****
 3721 00000622 0000                       DATA FOR SOURCE-LINE 1039
 3722 00000624 0001                       DATA FOR SOURCE-LINE 1043,1053
 3723 00000626 0000                       ALIGNMENT CODE
 3724 00000628 00000000                   DATA FOR SOURCE-LINE 1024,1057
 3725 0000062C 00000000                   DATA FOR SOURCE-LINE 1030
 3726 00000630 00000000                   DATA FOR SOURCE-LINE 1036
 3727 00000634 00000000                   DATA FOR SOURCE-LINE 1040
 3728 00000638 00000000                   DATA FOR SOURCE-LINE 1044
 3729 0000063C 00000000                   DATA FOR SOURCE-LINE 1047,1050
 3730 00000640 00000000                   DATA FOR SOURCE-LINE 1054
 3731                                     ***** END-POOL *****
 3732 00000644                   1060     KMT_HANDWR_STP300
 3733                            1061     
 3734                            1062     ;       ---------- WDT ﾁｪｯｸ部分------------------
 3735                            1063             FAR_JSR #_KMT_HAND_WDTCHK,R0                                            ;
 3736 00000644 D006                   M           MOV.L   #_KMT_HAND_WDTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3737 00000646 400B                   M           JSR     @R0                     ;
 3738 00000648 0009                   M           NOP                                     ;
 3739                            1064     
 3740 0000064A D106              1065             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3741 0000064C 6011              1066             MOV.W   @R1,R0                                                          ;
 3742 0000064E 2008              1067             TST     R0,R0                                                           ;
 3743                            1068             TST_BIT_ON KMT_HANDWR_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 3744 00000650 8B02                   M           BF      KMT_HANDWR_STPEXT
 3745                            1069     
 3746 00000652 200A              1070             XOR     R0,R0
 3747 00000654 D104              1071             MOV.L   #_KMT_HANDWR_FLG,R1                                             ;
 3748 00000656 2101              1072             MOV.W   R0,@R1                                                          ;
 3749                            1073     
 3750                            1074     
 3751 00000658                   1075     KMT_HANDWR_STPEXT
 3752                            1076     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    32
PROGRAM NAME =

 3753                            1077             SUB_END
 3754                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3755 00000658 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3756                            1078             M_RTS
 3757 0000065A 000B                   M           RTS                             ;RTSの後ろの
 3758 0000065C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3759                            1079     
 3760                            1080     ;       ***************************************************
 3761                            1081     ;       ***                                             ***
 3762                            1082     ;       ***             WDT CHKECK                      ***
 3763                            1083     ;       ***                                             ***
 3764                            1084     ;       ***************************************************
 3765                            1085     ;       100msec毎にﾁｪｯｸ
 3766                                     ***** BEGIN-POOL *****
 3767 0000065E 0000                       ALIGNMENT CODE
 3768 00000660 00000000                   DATA FOR SOURCE-LINE 1063
 3769 00000664 00000000                   DATA FOR SOURCE-LINE 1065
 3770 00000668 00000000                   DATA FOR SOURCE-LINE 1071
 3771                                     ***** END-POOL *****
 3772          0000000B          1086     __WDT_TIM_SET_DAT       .EQU    (100/__TM_LATE10MS)+1   ;2011-01-14
 3773          00000064          1087     __WDT_UP_ERR_CNT        .EQU    100                     ;2011-01-14 100ﾒｲﾝｽｷｬﾝ*100msec=MIN
                                          =10秒 MAX=30秒
 3774                            1088     
 3775 0000066C                   1089     _KMT_HAND_WDTCHK:
 3776                            1090             SUB_START
 3777 0000066C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3778                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3779                            1091     
 3780                            1092     ;;;     MOV.L   #_KMT_STS1_SET,R1                                               ;READ確定ﾃ
                                          ﾞｰﾀあるか？
 3781                            1093     ;;;     MOV.W   @R1,R0                                                          ;
 3782                            1094     ;;;     MOV.W   #BIT0,R4
 3783                            1095     ;;;     TST     R4,R0                                                           ;
 3784                            1096     ;;;     TST_BIT_OF KMT_HANDWDTCHK_WAIT                                          ;
 3785                            1097     ;;;     NOT     R4,R4                                                           ;READの確
                                          定ﾃﾞｰﾀあるか?
 3786                            1098     ;;;     AND     R4,R0                                                           ;
 3787                            1099     ;;;     MOV.W   R0,@R1                                                          ;
 3788                            1100     
 3789 0000066E D503              1101             MOV.L   #_KMT_HANDWDT_TIM,R5                            ;
 3790 00000670 6051              1102             MOV.W   @R5,R0                                          ;
 3791 00000672 2008              1103             TST     R0,R0
 3792                            1104             TST_BIT_OF KMT_HANDWDTCHK_030                           ;
 3793 00000674 8904                   M           BT      KMT_HANDWDTCHK_030
 3794                            1105             M_BRA   KMT_HANDWDTCHK_WAIT                             ;
 3795 00000676 A039                   M           BRA     KMT_HANDWDTCHK_WAIT
 3796 00000678 0009                   M           NOP
 3797                            1106     
 3798                                     ***** BEGIN-POOL *****
 3799 0000067A 0000                       ALIGNMENT CODE
 3800 0000067C 00000000                   DATA FOR SOURCE-LINE 1101
 3801                                     ***** END-POOL *****
 3802 00000680                   1107     KMT_HANDWDTCHK_030                                              ;
 3803                            1108     ;;;;2011-01-14  MOV.W   #D'100+1,R0                             ;100msec
 3804 00000680 900F              1109             MOV.W   #__WDT_TIM_SET_DAT,R0                           ;10*10msec=100msec 2011-01
                                          -14
 3805 00000682 2501              1110             MOV.W   R0,@R5                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    33
PROGRAM NAME =

 3806 00000684                   1111     KMT_HANDWDTCHK_050                                              ;
 3807                            1112     
 3808 00000684 D108              1113             MOV.L   #(__SITM_HANDRD-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1               ;
 3809 00000686 6011              1114             MOV.W   @R1,R0                                                          ;
 3810 00000688 D108              1115             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3811 0000068A 6211              1116             MOV.W   @R1,R2                                                          ;
 3812 0000068C 3200              1117             CMP/EQ  R0,R2                                                           ;
 3813 0000068E 891B              1118             BT      KMT_HANDWDTCHK_200                                              ;
 3814                            1119     
 3815 00000690 D507              1120             MOV.L   #_KMT_HANDWDT_CNT,R5                                                    ;
 3816 00000692 6051              1121             MOV.W   @R5,R0                                                                  ;
 3817                            1122     ;;2011-01-14    MOV.W   #D'100,R4                                                       ;1
                                          00m*100scan=10秒
 3818 00000694 9406              1123             MOV.W   #__WDT_UP_ERR_CNT,R4                                                    ;1
                                          00m*100scan=10秒 2011-01-14
 3819 00000696 3042              1124             CMP/HS  R4,R0                                                                   ;
 3820 00000698 890C              1125             BT      KMT_HANDWDTCHK_100                                                      ;O
                                          VER
 3821 0000069A 7001              1126             ADD     #1,R0                                                                   ;
 3822 0000069C 2501              1127             MOV.W   R0,@R5                                                                  ;
 3823                            1128             M_BRA   KMT_HANDWDTCHK_WAIT                                                     ;
 3824 0000069E A025                   M           BRA     KMT_HANDWDTCHK_WAIT
 3825 000006A0 0009                   M           NOP
 3826                            1129     
 3827                                     ***** BEGIN-POOL *****
 3828 000006A2 000B                       DATA FOR SOURCE-LINE 1109
 3829 000006A4 0064                       DATA FOR SOURCE-LINE 1123
 3830 000006A6 0000                       ALIGNMENT CODE
 3831 000006A8 00000000                   DATA FOR SOURCE-LINE 1113
 3832 000006AC 00000000                   DATA FOR SOURCE-LINE 1115
 3833 000006B0 00000000                   DATA FOR SOURCE-LINE 1120
 3834                                     ***** END-POOL *****
 3835 000006B4                   1130     KMT_HANDWDTCHK_100                                                                      ;
 3836                            1131             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4        ;
 3837 000006B4 D103                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3838 000006B6 6011                   M           MOV.W   @R1,R0          ;
 3839 000006B8 9403                   M           MOV.W   #(BIT7),R4              ;
 3840 000006BA 204B                   M           OR      R4,R0           ;
 3841 000006BC 2101                   M           MOV.W   R0,@R1          ;
 3842                            1132             M_BRA   KMT_HANDWDTCHK_WAIT                                                     ;
 3843 000006BE A015                   M           BRA     KMT_HANDWDTCHK_WAIT
 3844 000006C0 0009                   M           NOP
 3845                            1133                                                                                             ;
 3846                                     ***** BEGIN-POOL *****
 3847 000006C2 0080                       DATA FOR SOURCE-LINE 1131
 3848 000006C4 00000000                   DATA FOR SOURCE-LINE 1131
 3849                                     ***** END-POOL *****
 3850 000006C8                   1134     KMT_HANDWDTCHK_200                                                                      ;
 3851                            1135     
 3852 000006C8 200A              1136             XOR     R0,R0                                                                   ;
 3853 000006CA D106              1137             MOV.L   #_KMT_HANDWDT_CNT,R1                                                    ;
 3854 000006CC 2101              1138             MOV.W   R0,@R1                                                                  ;
 3855                            1139     
 3856                            1140             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4       ;
 3857 000006CE D106                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3858 000006D0 6011                   M           MOV.W   @R1,R0          ;
 3859 000006D2 9404                   M           MOV.W   #LWORD (~BIT7),R4       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    34
PROGRAM NAME =

 3860 000006D4 2049                   M           AND     R4,R0           ;
 3861 000006D6 2101                   M           MOV.W   R0,@R1          ;
 3862                            1141     
 3863 000006D8 9002              1142             MOV.W   #1,R0                           ;
 3864                            1143             M_BRA   KMT_HANDWDTCHK_END              ;ok
 3865 000006DA A008                   M           BRA     KMT_HANDWDTCHK_END
 3866 000006DC 0009                   M           NOP
 3867                            1144     
 3868                            1145     
 3869                                     ***** BEGIN-POOL *****
 3870 000006DE FF7F                       DATA FOR SOURCE-LINE 1140
 3871 000006E0 0001                       DATA FOR SOURCE-LINE 1142
 3872 000006E2 0000                       ALIGNMENT CODE
 3873 000006E4 00000000                   DATA FOR SOURCE-LINE 1137
 3874 000006E8 00000000                   DATA FOR SOURCE-LINE 1140
 3875                                     ***** END-POOL *****
 3876 000006EC                   1146     KMT_HANDWDTCHK_WAIT:
 3877 000006EC 200A              1147             XOR     R0,R0
 3878 000006EE                   1148     KMT_HANDWDTCHK_END:
 3879                            1149             SUB_END
 3880                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3881 000006EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3882                            1150             M_RTS
 3883 000006F0 000B                   M           RTS                             ;RTSの後ろの
 3884 000006F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3885                            1151     
 3886                            1152     
 3887                            1153     ;       *******************************************
 3888                            1154     ;       ***                                     ***
 3889                            1155     ;       ***             ｽﾃｰﾀｽREAD[KMT->SIT4]    ***
 3890                            1156     ;       ***             MAIN                    ***
 3891                            1157     ;       *******************************************
 3892 000006F4                   1158     _KOMTRAX_STATUS_READ:
 3893                            1159             SUB_START
 3894 000006F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3895                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3896                            1160     
 3897 000006F6 D10C              1161             MOV.L   #_KMT_STS1RD_FLG,R1                     ;
 3898 000006F8 6011              1162             MOV.W   @R1,R0                                  ;BIT1=1
 3899 000006FA C802              1163             TST     #(BIT1),R0                              ;
 3900                            1164             TST_BIT_ON KMT_STATUS_RD300                     ;
 3901 000006FC 8B1E                   M           BF      KMT_STATUS_RD300
 3902                            1165     
 3903 000006FE 200A              1166             XOR     R0,R0
 3904 00000700 D10A              1167             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1       ;0:固定 (S
                                          IT_MEMを対象)
 3905 00000702 2101              1168             MOV.W   R0,@R1                                                          ;
 3906                            1169     
 3907 00000704 900D              1170             MOV.W   #__SITM_OUT_TOP/2,R0                                            ;byte adr/
                                          2
 3908 00000706 D10A              1171             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1       ;
 3909 00000708 2101              1172             MOV.W   R0,@R1                                                          ;
 3910                            1173     
 3911 0000070A 900B              1174             MOV.W   #__SITM_OUTCNT/2,R0                                             ;32Byte=16
                                          WORD
 3912 0000070C D109              1175             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;AREA-MAX
                                          は50 word
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    35
PROGRAM NAME =

 3913 0000070E 2101              1176             MOV.W   R0,@R1
 3914                            1177     
 3915                            1178     
 3916 00000710 9009              1179             MOV.W   #__KMTCMD_RD,R0                                                 ;READ
 3917 00000712 D109              1180             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;
 3918 00000714 2101              1181             MOV.W   R0,@R1                                                          ;
 3919                            1182     
 3920                            1183             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_STS1RD_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 3921 00000716 D104                   M           MOV.L   #_KMT_STS1RD_FLG,R1             ;
 3922 00000718 6011                   M           MOV.W   @R1,R0          ;
 3923 0000071A CB02                   M           OR      #BIT1,R0                ;
 3924 0000071C 2101                   M           MOV.W   R0,@R1          ;
 3925                            1184             M_BRA   KMT_STATUS_RDEXT
 3926 0000071E A020                   M           BRA     KMT_STATUS_RDEXT
 3927 00000720 0009                   M           NOP
 3928                            1185     
 3929                                     ***** BEGIN-POOL *****
 3930 00000722 0032                       DATA FOR SOURCE-LINE 1170
 3931 00000724 0010                       DATA FOR SOURCE-LINE 1174
 3932 00000726 0002                       DATA FOR SOURCE-LINE 1179
 3933 00000728 00000000                   DATA FOR SOURCE-LINE 1161,1183
 3934 0000072C 00000000                   DATA FOR SOURCE-LINE 1167
 3935 00000730 00000000                   DATA FOR SOURCE-LINE 1171
 3936 00000734 00000000                   DATA FOR SOURCE-LINE 1175
 3937 00000738 00000000                   DATA FOR SOURCE-LINE 1180
 3938                                     ***** END-POOL *****
 3939 0000073C                   1186     KMT_STATUS_RD300
 3940                            1187     
 3941 0000073C D10B              1188             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;
 3942 0000073E 6011              1189             MOV.W   @R1,R0                                                          ;
 3943 00000740 2008              1190             TST     R0,R0                                                           ;
 3944                            1191             TST_BIT_ON KMT_STATUS_RDEXT                                             ;ｺﾏﾝﾄﾞ処理
                                          中
 3945 00000742 8B0E                   M           BF      KMT_STATUS_RDEXT
 3946                            1192     
 3947                            1193     
 3948                            1194     
 3949 00000744 9410              1195             MOV.W   #__SITM_OUTCNT/2,R4                                             ;32Byte=16
                                          WORD
 3950 00000746 D50A              1196             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R5          ;
 3951 00000748 D60A              1197             MOV.L   #_KMT_STS1_AREA,R6                                              ;50word
 3952                            1198     
 3953 0000074A                   1199     KMT_STATUS_RD400LOP:
 3954 0000074A 6255              1200             MOV.W   @R5+,R2                         ;確定ﾃﾞｰﾀのCOPY
 3955 0000074C 2621              1201             MOV.W   R2,@R6                          ;
 3956 0000074E 7602              1202             ADD     #2,R6                           ;
 3957 00000750 74FF              1203             ADD     #-1,R4                          ;
 3958 00000752 2448              1204             TST     R4,R4                           ;
 3959                            1205             TST_BIT_ON KMT_STATUS_RD400LOP          ;
 3960 00000754 8BF9                   M           BF      KMT_STATUS_RD400LOP
 3961                            1206     
 3962 00000756 200A              1207             XOR     R0,R0
 3963 00000758 D107              1208             MOV.L   #_KMT_STS1RD_FLG,R1             ;
 3964 0000075A 2101              1209             MOV.W   R0,@R1                          ;
 3965                            1210     
 3966 0000075C D107              1211             MOV.L   #_KMT_STS1_SET,R1               ;
 3967 0000075E 9004              1212             MOV.W   #H'00FF,R0                      ;MAIN-->他のｿﾌﾄ用
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    36
PROGRAM NAME =

 3968 00000760 2101              1213             MOV.W   R0,@R1                          ;
 3969                            1214     
 3970                            1215     
 3971 00000762                   1216     KMT_STATUS_RDEXT
 3972                            1217     
 3973                            1218             SUB_END
 3974                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3975 00000762 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3976                            1219             M_RTS
 3977 00000764 000B                   M           RTS                             ;RTSの後ろの
 3978 00000766 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3979                            1220     
 3980                            1221     ;       *******************************************
 3981                            1222     ;       ***                                     ***
 3982                            1223     ;       ***             SEQ作成                 ***
 3983                            1224     ;       ***                                     ***
 3984                            1225     ;       *******************************************
 3985                                     ***** BEGIN-POOL *****
 3986 00000768 0010                       DATA FOR SOURCE-LINE 1195
 3987 0000076A 00FF                       DATA FOR SOURCE-LINE 1212
 3988 0000076C 00000000                   DATA FOR SOURCE-LINE 1188
 3989 00000770 00000000                   DATA FOR SOURCE-LINE 1196
 3990 00000774 00000000                   DATA FOR SOURCE-LINE 1197
 3991 00000778 00000000                   DATA FOR SOURCE-LINE 1208
 3992 0000077C 00000000                   DATA FOR SOURCE-LINE 1211
 3993                                     ***** END-POOL *****
 3994 00000780                   1226     _KOMTRAX_STAUS_MAKE
 3995                            1227             SUB_START
 3996 00000780 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3997                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3998                            1228     
 3999 00000782 D126              1229             MOV.L   #_KMT_STS1_SET,R1               ;
 4000 00000784 6011              1230             MOV.W   @R1,R0                          ;
 4001 00000786 943F              1231             MOV.W   #BIT1,R4
 4002 00000788 2048              1232             TST     R4,R0                           ;
 4003                            1233             TST_BIT_OF KMT_STAUSMAKE_EXT            ;確定ﾃﾞｰﾀなし
 4004 0000078A 8932                   M           BT      KMT_STAUSMAKE_EXT
 4005 0000078C 6447              1234             NOT     R4,R4
 4006 0000078E 2049              1235             AND     R4,R0                           ;
 4007 00000790 2101              1236             MOV.W   R0,@R1                          ;CLR
 4008                            1237     
 4009                            1238     
 4010 00000792 233A              1239             XOR     R3,R3
 4011                            1240     
 4012 00000794 D122              1241             MOV.L   #(__SITM_TRSSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4013 00000796 6011              1242             MOV.W   @R1,R0                                                          ;
 4014                            1243     
 4015 00000798 244A              1244             XOR     R4,R4
 4016 0000079A C810              1245             TST     #BIT4,R0                                                        ;ｱﾝﾃﾅﾏｰｸ圏
                                          内?1:圏内
 4017                            1246             TST_BIT_OF KMT_STAUSMAK_100     ;
 4018 0000079C 8901                   M           BT      KMT_STAUSMAK_100
 4019 0000079E 9434              1247             MOV.W   #BIT14,R4               ;
 4020 000007A0 234B              1248             OR      R4,R3                   ;
 4021 000007A2                   1249     KMT_STAUSMAK_100                        ;
 4022                            1250     
 4023 000007A2 244A              1251             XOR     R4,R4                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    37
PROGRAM NAME =

 4024 000007A4 C80C              1252             TST     #(BIT3+BIT2),R0         ;BIT3=ｱﾝﾃﾅ3 BIT2=ｱﾝﾃﾅ2
 4025                            1253             TST_BIT_OF KMT_STAUSMAK_120     ;ｱﾝﾃﾅﾏｰｸ2?  3>2>1>圏外
 4026 000007A6 8901                   M           BT      KMT_STAUSMAK_120
 4027 000007A8 9430              1254             MOV.W   #BIT13,R4               ;
 4028 000007AA 234B              1255             OR      R4,R3                   ;
 4029 000007AC                   1256     KMT_STAUSMAK_120                        ;
 4030                            1257     
 4031                            1258     
 4032                            1259     
 4033 000007AC D11D              1260             MOV.L   #(__SITM_ERRSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4034 000007AE 6011              1261             MOV.W   @R1,R0                                                          ;
 4035                            1262     
 4036 000007B0 244A              1263             XOR     R4,R4
 4037 000007B2 C820              1264             TST     #BIT5,R0                ;ﾊﾞｯﾃﾘ異常
 4038                            1265             TST_BIT_OF KMT_STAUSMAK_200     ;
 4039 000007B4 8901                   M           BT      KMT_STAUSMAK_200
 4040 000007B6 942A              1266             MOV.W   #BIT9,R4                ;
 4041 000007B8 234B              1267             OR      R4,R3                   ;
 4042 000007BA                   1268     KMT_STAUSMAK_200                        ;
 4043                            1269     
 4044 000007BA 244A              1270             XOR     R4,R4                   ;
 4045 000007BC 9128              1271             MOV.W   #LWORD ~BIT5,R1         ;ﾊﾞｯﾃﾘ異常以外
 4046 000007BE 2018              1272             TST     R1,R0                   ;
 4047                            1273             TST_BIT_OF KMT_STAUSMAK_220     ;
 4048 000007C0 8901                   M           BT      KMT_STAUSMAK_220
 4049 000007C2 9426              1274             MOV.W   #BIT8,R4                ;
 4050 000007C4 234B              1275             OR      R4,R3                   ;
 4051 000007C6                   1276     KMT_STAUSMAK_220                        ;
 4052                            1277     
 4053                            1278     
 4054 000007C6 D118              1279             MOV.L   #(__SITM_WARSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4055 000007C8 6011              1280             MOV.W   @R1,R0                                                          ;
 4056 000007CA 244A              1281             XOR     R4,R4
 4057 000007CC 2008              1282             TST     R0,R0                   ;
 4058                            1283             TST_BIT_OF KMT_STAUSMAK_300     ;
 4059 000007CE 8901                   M           BT      KMT_STAUSMAK_300
 4060 000007D0 9420              1284             MOV.W   #BIT10,R4               ;
 4061 000007D2 234B              1285             OR      R4,R3                   ;
 4062 000007D4                   1286     KMT_STAUSMAK_300                        ;
 4063                            1287     
 4064 000007D4 D115              1288             MOV.L   #(__SITM_TRSSTS2-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4065 000007D6 6011              1289             MOV.W   @R1,R0                                                          ;
 4066 000007D8 244A              1290             XOR     R4,R4
 4067 000007DA C804              1291             TST     #BIT2,R0                ;
 4068                            1292             TST_BIT_OF KMT_STAUSMAK_400     ;
 4069 000007DC 8901                   M           BT      KMT_STAUSMAK_400
 4070 000007DE 941A              1293             MOV.W   #BIT15,R4               ;初期設定ﾓｰﾄﾞ
 4071 000007E0 234B              1294             OR      R4,R3                   ;
 4072 000007E2                   1295     KMT_STAUSMAK_400                        ;
 4073                            1296     
 4074                            1297     
 4075 000007E2 D113              1298             MOV.L   #_KMT_STS1MN_SQ87,R1    ;
 4076 000007E4 6011              1299             MOV.W   @R1,R0
 4077 000007E6 9417              1300             MOV.W   #BIT15+BIT14+BIT13+BIT10+BIT9+BIT8,R4
 4078 000007E8 2349              1301             AND     R4,R3                                   ;
 4079 000007EA 6447              1302             NOT     R4,R4                                   ;
 4080 000007EC 2049              1303             AND     R4,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    38
PROGRAM NAME =

 4081 000007EE 203B              1304             OR      R3,R0                                           ;
 4082 000007F0 2101              1305             MOV.W   R0,@R1                                          ;
 4083                            1306     
 4084 000007F2                   1307     KMT_STAUSMAKE_EXT
 4085                            1308     
 4086                            1309     ;       ============ ﾌﾞﾛｯｸ転送(MONITOR)============
 4087 000007F2 D510              1310             MOV.L   #_KMT_STS1_AREA,R5
 4088 000007F4 D610              1311             MOV.L   #_FRAM_CB_ICHAR,R6
 4089 000007F6 9410              1312             MOV.W   #D'50,R4
 4090                            1313             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R2,CNT_REG=R4
 4091 000007F8                        M   JMP000005:                                      ;
 4092 000007F8 2448                   M           TST     R4,R4   ;
 4093                                 M           TST_BIT_OF JMP100005            ;
 4094 000007FA 891F                   M           BT      JMP100005
 4095 000007FC 6255                   M           MOV.W   @R5+,R2 ;
 4096 000007FE 2621                   M           MOV.W   R2,@R6  ;
 4097 00000800 7602                   M           ADD     #2,R6   ;
 4098 00000802 74FF                   M           ADD     #H'FF,R4                ;
 4099                                 M           M_BRA   JMP000005                       ;
 4100 00000804 AFF8                   M           BRA     JMP000005
 4101 00000806 0009                   M           NOP
 4102                                 M   ***** BEGIN-POOL *****
 4103 00000808 0002                   M   DATA FOR SOURCE-LINE 1231
 4104 0000080A 4000                   M   DATA FOR SOURCE-LINE 1247
 4105 0000080C 2000                   M   DATA FOR SOURCE-LINE 1254
 4106 0000080E 0200                   M   DATA FOR SOURCE-LINE 1266
 4107 00000810 FFDF                   M   DATA FOR SOURCE-LINE 1271
 4108 00000812 0100                   M   DATA FOR SOURCE-LINE 1274
 4109 00000814 0400                   M   DATA FOR SOURCE-LINE 1284
 4110 00000816 8000                   M   DATA FOR SOURCE-LINE 1293
 4111 00000818 E700                   M   DATA FOR SOURCE-LINE 1300
 4112 0000081A 0032                   M   DATA FOR SOURCE-LINE 1312
 4113 0000081C 00000000               M   DATA FOR SOURCE-LINE 1229
 4114 00000820 00000000               M   DATA FOR SOURCE-LINE 1241
 4115 00000824 00000000               M   DATA FOR SOURCE-LINE 1260
 4116 00000828 00000000               M   DATA FOR SOURCE-LINE 1279
 4117 0000082C 00000000               M   DATA FOR SOURCE-LINE 1288
 4118 00000830 00000000               M   DATA FOR SOURCE-LINE 1298
 4119 00000834 00000000               M   DATA FOR SOURCE-LINE 1310
 4120 00000838 00000000               M   DATA FOR SOURCE-LINE 1311
 4121                                 M   ***** END-POOL *****
 4122 0000083C                        M   JMP100005:                                      ;
 4123                            1314     
 4124                            1315             SUB_END
 4125                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4126 0000083C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4127                            1316             M_RTS
 4128 0000083E 000B                   M           RTS                             ;RTSの後ろの
 4129 00000840 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4130                            1317     
 4131                            1318     ;       *******************************************
 4132                            1319     ;       ***                                     ***
 4133                            1320     ;       ***             実測作成                ***
 4134                            1321     ;       ***                                     ***
 4135                            1322     ;       *******************************************
 4136                            1323             .IMPORT _PVP_POWER_MONI ;
 4137                            1324             .IMPORT _PVP_MENTE_CNT  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    39
PROGRAM NAME =

 4138                            1325     
 4139 00000842                   1326     _KOMTRAX_PVDAT_MAKE
 4140                            1327             SUB_START
 4141 00000842 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4142                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4143                            1328     
 4144 00000844 D106              1329             MOV.L   #_PVP_POWER_MONI,R1
 4145 00000846 6011              1330             MOV.W   @R1,R0
 4146 00000848 D106              1331             MOV.L   #_KMT_COM1_AREA+__SITM_AIDAT1,R1        ;
 4147 0000084A 2101              1332             MOV.W   R0,@R1
 4148                            1333     
 4149 0000084C D106              1334             MOV.L   #_PVP_MENTE_CNT,R1                      ;
 4150 0000084E 6012              1335             MOV.L   @R1,R0
 4151                            1336     
 4152 00000850 D106              1337             MOV.L   #_KMT_COM1_AREA+__SITM_MENTCNT+2,R1     ;
 4153 00000852 2101              1338             MOV.W   R0,@R1                                  ;
 4154 00000854 D106              1339             MOV.L   #_KMT_COM1_AREA+__SITM_MENTCNT+0,R1     ;
 4155 00000856 6009              1340             SWAP.W  R0,R0
 4156 00000858 2101              1341             MOV.W   R0,@R1                                  ;
 4157                            1342     
 4158                            1343     
 4159                            1344             SUB_END
 4160                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4161 0000085A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4162                            1345             M_RTS
 4163 0000085C 000B                   M           RTS                             ;RTSの後ろの
 4164 0000085E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4165                            1346     
 4166                            1347     
 4167                            1348     ;       *******************************************
 4168                            1349     ;       ***                                     ***
 4169                            1350     ;       ***             実測転送                ***
 4170                            1351     ;       ***                                     ***
 4171                            1352     ;       *******************************************
 4172                                     ***** BEGIN-POOL *****
 4173 00000860 00000000                   DATA FOR SOURCE-LINE 1329
 4174 00000864 00000000                   DATA FOR SOURCE-LINE 1331
 4175 00000868 00000000                   DATA FOR SOURCE-LINE 1334
 4176 0000086C 00000000                   DATA FOR SOURCE-LINE 1337
 4177 00000870 00000000                   DATA FOR SOURCE-LINE 1339
 4178                                     ***** END-POOL *****
 4179 00000874                   1353     _KOMTRAX_PVDAT_WRITE:
 4180                            1354             SUB_START
 4181 00000874 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4182                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4183                            1355     
 4184                            1356     
 4185 00000876 D10F              1357             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;
 4186 00000878 6011              1358             MOV.W   @R1,R0                                                          ;
 4187 0000087A 2008              1359             TST     R0,R0                                                           ;
 4188                            1360             TST_BIT_ON KMT_PVDTWR_EXT                                               ;ｺﾏﾝﾄﾞ処理
                                          中
 4189 0000087C 8B14                   M           BF      KMT_PVDTWR_EXT
 4190                            1361     
 4191 0000087E 200A              1362             XOR     R0,R0
 4192 00000880 D10D              1363             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1               ;0
                                          :固定 (SIT_MEMを対象)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    40
PROGRAM NAME =

 4193 00000882 2101              1364             MOV.W   R0,@R1                                                          ;
 4194                            1365     
 4195 00000884 9013              1366             MOV.W   #__SITM_AIDAT1/2,R0                                             ;byte adr/
                                          2
 4196 00000886 D10D              1367             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1               ;
 4197 00000888 2101              1368             MOV.W   R0,@R1                                                          ;
 4198                            1369     
 4199 0000088A 9010              1370             MOV.W   #(__SITM_AIDTCNT+__SITM_MCNTCNT)/2,R0                           ;
 4200 0000088C D10C              1371             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;MAX 1~256
                                           word
 4201 0000088E 2101              1372             MOV.W   R0,@R1
 4202                            1373     
 4203 00000890 940D              1374             MOV.W   #(__SITM_AIDTCNT+__SITM_MCNTCNT)/2,R4                           ;AI+MENTE
 4204 00000892 D50C              1375             MOV.L   #_KMT_COM1_AREA+__SITM_AIDAT1,R5                                ;
 4205 00000894 D60C              1376             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R6          ;
 4206 00000896                   1377     KMT_PVDATWR100LOP
 4207 00000896 6055              1378             MOV.W   @R5+,R0
 4208 00000898 2601              1379             MOV.W   R0,@R6
 4209 0000089A 7602              1380             ADD     #2,R6                                           ;
 4210 0000089C 74FF              1381             ADD     #-1,R4                                          ;
 4211 0000089E 2448              1382             TST     R4,R4                                           ;
 4212                            1383             TST_BIT_ON KMT_PVDATWR100LOP                            ;
 4213 000008A0 8BF9                   M           BF      KMT_PVDATWR100LOP
 4214                            1384     
 4215                            1385     
 4216 000008A2 9005              1386             MOV.W   #__KMTCMD_WR,R0                                                         ;W
                                          RITE
 4217 000008A4 D103              1387             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;
 4218 000008A6 2101              1388             MOV.W   R0,@R1                                                          ;
 4219                            1389     
 4220                            1390     
 4221 000008A8                   1391     KMT_PVDTWR_EXT
 4222                            1392     
 4223                            1393             SUB_END
 4224                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4225 000008A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4226                            1394             M_RTS
 4227 000008AA 000B                   M           RTS                             ;RTSの後ろの
 4228 000008AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4229                            1395     
 4230                            1396     
 4231                            1397     
 4232                            1398     
 4233                            1399     ;       *******************************************
 4234                            1400     ;       ***                                     ***
 4235                            1401     ;       ***             転送処理                ***
 4236                            1402     ;       ***             1word * N 転送処理      ***
 4237                            1403     ;       ***             (read/write)            ***
 4238                            1404     ;       ***                                     ***
 4239                            1405     ;       *******************************************
 4240                            1406     ;
 4241                            1407     ;
 4242                            1408     ;       相手ﾀｽｸ WR 2ﾀｽｸ ｲﾍﾞﾝﾄWR
 4243                            1409     ;                                       ﾊﾝﾄﾞｼｪｲｸWR
 4244                            1410     ;
 4245                            1411     ;                   RD 1ﾀｽｸ 0番地から16word
 4246                            1412     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    41
PROGRAM NAME =

 4247                            1413     ;
 4248                                     ***** BEGIN-POOL *****
 4249 000008AE 0006                       DATA FOR SOURCE-LINE 1366,1370,1374
 4250 000008B0 0001                       DATA FOR SOURCE-LINE 1386
 4251 000008B2 0000                       ALIGNMENT CODE
 4252 000008B4 00000000                   DATA FOR SOURCE-LINE 1357,1387
 4253 000008B8 00000000                   DATA FOR SOURCE-LINE 1363
 4254 000008BC 00000000                   DATA FOR SOURCE-LINE 1367
 4255 000008C0 00000000                   DATA FOR SOURCE-LINE 1371
 4256 000008C4 00000000                   DATA FOR SOURCE-LINE 1375
 4257 000008C8 00000000                   DATA FOR SOURCE-LINE 1376
 4258                                     ***** END-POOL *****
 4259 000008CC                   1414             .ALIGN  4                                       ;
 4260 000008CC                   1415     _KMT_CMD_TRS:
 4261                            1416             SUB_START
 4262 000008CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4263                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4264                            1417     
 4265 000008CE D10E              1418             MOV.L   #_KMT_TRS_CMD,R1                ;0:ILDE 1:WRITE 2:READ
 4266 000008D0 6011              1419             MOV.W   @R1,R0                          ;
 4267 000008D2 8801              1420             CMP/EQ  #__KMTCMD_WR,R0                 ;
 4268 000008D4 8964              1421             BT      KMT_CMDTRS_200                  ;WRITE中
 4269                            1422     
 4270 000008D6 8802              1423             CMP/EQ  #__KMTCMD_RD,R0                 ;
 4271 000008D8 896A              1424             BT      KMT_CMDTRS_300                  ;READ中
 4272                            1425     
 4273                            1426     
 4274                            1427     ;       ----- IDLE (CMD CHECK)複数ﾀｽｸの場合ｽｷｬﾝ毎にﾀｽｸｻｰﾁ------
 4275 000008DA D10C              1428             MOV.L   #_KMT_TRS_SCAN,R1               ;
 4276 000008DC 6011              1429             MOV.W   @R1,R0                          ;
 4277 000008DE 7001              1430             ADD     #1,R0                                   ;
 4278 000008E0 C907              1431             AND     #H'07,R0                                ;0,1,2,3,4,5,6,7
 4279 000008E2 2101              1432             MOV.W   R0,@R1                          ;4SCAN<ｺﾏﾝﾄﾞを4個まで受け付ける>
 4280                            1433     
 4281 000008E4 8800              1434             CMP/EQ  #0,R0                           ;
 4282 000008E6 8913              1435             BT      KMT_CMD_EVET_000                ;
 4283 000008E8 8804              1436             CMP/EQ  #4,R0                           ;
 4284 000008EA 8911              1437             BT      KMT_CMD_EVET_000                ;
 4285                            1438     
 4286 000008EC 8801              1439             CMP/EQ  #1,R0                           ;
 4287 000008EE 8919              1440             BT      KMT_CMD_HAND_000                ;
 4288                            1441     
 4289                            1442     ;       ------2011-01-14--移動---
 4290 000008F0 8805              1443             CMP/EQ  #5,R0                           ;
 4291 000008F2 892B              1444             BT      KMT_CMD_PVWR_000                ;3SCANと7ｽｷｬﾝ目での実行を5ｽｷｬﾝ目のみにする
 4292                            1445     
 4293 000008F4 8802              1446             CMP/EQ  #2,R0                           ;
 4294 000008F6 891F              1447             BT      KMT_CMD_STSR_000                ;
 4295 000008F8 8806              1448             CMP/EQ  #6,R0                           ;
 4296 000008FA 891D              1449             BT      KMT_CMD_STSR_000                ;
 4297                            1450     
 4298                            1451     ;---------- 2011-01-14 ---------
 4299                            1452     ;;;     CMP/EQ  #3,R0                           ;
 4300                            1453     ;;;     BT      KMT_CMD_PVWR_000                ;
 4301                            1454     ;;;     CMP/EQ  #7,R0                           ;
 4302                            1455     ;;;     BT      KMT_CMD_PVWR_000                ;
 4303                            1456     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    42
PROGRAM NAME =

 4304                            1457     
 4305 000008FC 8803              1458             CMP/EQ  #3,R0                           ;
 4306 000008FE 893F              1459             BT      KMT_CMD_SYOUMO_000              ;消耗品
 4307 00000900 8807              1460             CMP/EQ  #7,R0                           ;
 4308 00000902 892D              1461             BT      KMT_CMD_HINBAN_000              ;品番
 4309                            1462             M_BRA   KMT_CMDTRS_END                  ;
 4310 00000904 A058                   M           BRA     KMT_CMDTRS_END
 4311 00000906 0009                   M           NOP
 4312                            1463     
 4313                            1464     
 4314                            1465     ;       =============ｲﾍﾞﾝﾄｺｰﾄﾞ送信==================
 4315                                     ***** BEGIN-POOL *****
 4316 00000908 00000000                   DATA FOR SOURCE-LINE 1418
 4317 0000090C 00000000                   DATA FOR SOURCE-LINE 1428
 4318                                     ***** END-POOL *****
 4319 00000910                   1466     KMT_CMD_EVET_000
 4320                            1467     ;       ------ 送信ﾀｽｸ 8byte----
 4321 00000910 D802              1468             MOV.L   #_KMT_TRSSV1_TOP,R8             ;
 4322                            1469             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4323 00000912 D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4324 00000914 400B                   M           JSR     @R0                     ;
 4325 00000916 0009                   M           NOP                                     ;
 4326                            1470             M_BRA   KMT_CMDTRS_END                  ;
 4327 00000918 A04E                   M           BRA     KMT_CMDTRS_END
 4328 0000091A 0009                   M           NOP
 4329                            1471     
 4330                            1472     ;       =============ﾊﾝﾄﾞｼｪｲｸ送信===================
 4331                                     ***** BEGIN-POOL *****
 4332 0000091C 00000000                   DATA FOR SOURCE-LINE 1468
 4333 00000920 00000000                   DATA FOR SOURCE-LINE 1469
 4334                                     ***** END-POOL *****
 4335 00000924                   1473     KMT_CMD_HAND_000
 4336                            1474     ;       ------ 送信ﾀｽｸ 2BYTE----
 4337 00000924 D802              1475             MOV.L   #_KMT_TRSSV2_TOP,R8             ;
 4338                            1476             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4339 00000926 D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4340 00000928 400B                   M           JSR     @R0                     ;
 4341 0000092A 0009                   M           NOP                                     ;
 4342                            1477             M_BRA   KMT_CMDTRS_END                  ;
 4343 0000092C A044                   M           BRA     KMT_CMDTRS_END
 4344 0000092E 0009                   M           NOP
 4345                            1478     
 4346                            1479     ;       =============ｽﾃｰﾀｽREAD  ===================
 4347                                     ***** BEGIN-POOL *****
 4348 00000930 00000000                   DATA FOR SOURCE-LINE 1475
 4349 00000934 00000000                   DATA FOR SOURCE-LINE 1476
 4350                                     ***** END-POOL *****
 4351 00000938                   1480     KMT_CMD_STSR_000
 4352                            1481     ;       ------ 受信ﾀｽｸ 16BYTE----
 4353 00000938 D802              1482             MOV.L   #_KMT_TRSSV3_TOP,R8             ;
 4354                            1483             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4355 0000093A D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4356 0000093C 400B                   M           JSR     @R0                     ;
 4357 0000093E 0009                   M           NOP                                     ;
 4358                            1484             M_BRA   KMT_CMDTRS_END                  ;
 4359 00000940 A03A                   M           BRA     KMT_CMDTRS_END
 4360 00000942 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    43
PROGRAM NAME =

 4361                            1485     
 4362                            1486     
 4363                            1487     ;       =============実測値送信===================
 4364                                     ***** BEGIN-POOL *****
 4365 00000944 00000000                   DATA FOR SOURCE-LINE 1482
 4366 00000948 00000000                   DATA FOR SOURCE-LINE 1483
 4367                                     ***** END-POOL *****
 4368 0000094C                   1488     KMT_CMD_PVWR_000
 4369                            1489     ;       ------ 送信ﾀｽｸ 16BYTE----
 4370 0000094C D802              1490             MOV.L   #_KMT_TRSSV4_TOP,R8             ;
 4371                            1491             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4372 0000094E D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4373 00000950 400B                   M           JSR     @R0                     ;
 4374 00000952 0009                   M           NOP                                     ;
 4375                            1492             M_BRA   KMT_CMDTRS_END                  ;
 4376 00000954 A030                   M           BRA     KMT_CMDTRS_END
 4377 00000956 0009                   M           NOP
 4378                            1493     
 4379                            1494     
 4380                            1495     ;       ===== 追加2011-01-14 品番 =====
 4381                                     ***** BEGIN-POOL *****
 4382 00000958 00000000                   DATA FOR SOURCE-LINE 1490
 4383 0000095C 00000000                   DATA FOR SOURCE-LINE 1491
 4384                                     ***** END-POOL *****
 4385 00000960                   1496     KMT_CMD_HINBAN_000
 4386 00000960 D104              1497             MOV.L   #_KMT_TYP_011,R1                ;
 4387 00000962 6011              1498             MOV.W   @R1,R0                          ;
 4388 00000964 2008              1499             TST     R0,R0                           ;
 4389                            1500             TST_BIT_OF KMT_CMDTRS_END               ;
 4390 00000966 8927                   M           BT      KMT_CMDTRS_END
 4391                            1501     
 4392                            1502     ;       ------ 送信ﾀｽｸ 80BYTE----
 4393 00000968 D803              1503             MOV.L   #_KMT_TRSSV5_TOP,R8             ;
 4394                            1504             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4395 0000096A D004                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4396 0000096C 400B                   M           JSR     @R0                     ;
 4397 0000096E 0009                   M           NOP                                     ;
 4398                            1505             M_BRA   KMT_CMDTRS_END                  ;
 4399 00000970 A022                   M           BRA     KMT_CMDTRS_END
 4400 00000972 0009                   M           NOP
 4401                            1506     
 4402                            1507     
 4403                            1508     ;       ===== 追加2011-01-14 消耗品 ====
 4404                                     ***** BEGIN-POOL *****
 4405 00000974 00000000                   DATA FOR SOURCE-LINE 1497
 4406 00000978 00000000                   DATA FOR SOURCE-LINE 1503
 4407 0000097C 00000000                   DATA FOR SOURCE-LINE 1504
 4408                                     ***** END-POOL *****
 4409 00000980                   1509     KMT_CMD_SYOUMO_000
 4410 00000980 D104              1510             MOV.L   #_KMT_TYP_011,R1                ;
 4411 00000982 6011              1511             MOV.W   @R1,R0                          ;
 4412 00000984 2008              1512             TST     R0,R0                           ;
 4413                            1513             TST_BIT_OF KMT_CMDTRS_END               ;
 4414 00000986 8917                   M           BT      KMT_CMDTRS_END
 4415                            1514     
 4416                            1515     ;       ------ 送信ﾀｽｸ 64BYTE----
 4417 00000988 D803              1516             MOV.L   #_KMT_TRSSV6_TOP,R8             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    44
PROGRAM NAME =

 4418                            1517             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4419 0000098A D004                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4420 0000098C 400B                   M           JSR     @R0                     ;
 4421 0000098E 0009                   M           NOP                                     ;
 4422                            1518             M_BRA   KMT_CMDTRS_END                  ;
 4423 00000990 A012                   M           BRA     KMT_CMDTRS_END
 4424 00000992 0009                   M           NOP
 4425                            1519     
 4426                            1520     
 4427                            1521     
 4428                            1522     ;       -----------------------------------
 4429                            1523     ;       ---     WR/RD共通処理           ---
 4430                            1524     ;       -----------------------------------
 4431                            1525     ;       --------WR処理中-----
 4432                                     ***** BEGIN-POOL *****
 4433 00000994 00000000                   DATA FOR SOURCE-LINE 1510
 4434 00000998 00000000                   DATA FOR SOURCE-LINE 1516
 4435 0000099C 00000000                   DATA FOR SOURCE-LINE 1517
 4436                                     ***** END-POOL *****
 4437 000009A0                   1526     KMT_CMDTRS_200
 4438                            1527             FAR_JSR #_KMT_TRS_STP_WR,R0             ;CMD CLR
 4439 000009A0 D002                   M           MOV.L   #_KMT_TRS_STP_WR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4440 000009A2 400B                   M           JSR     @R0                     ;
 4441 000009A4 0009                   M           NOP                                     ;
 4442                            1528             M_BRA   KMT_CMDTRS_400                  ;
 4443 000009A6 A006                   M           BRA     KMT_CMDTRS_400
 4444 000009A8 0009                   M           NOP
 4445                            1529     
 4446                            1530     ;       --------RD処理中-----
 4447                                     ***** BEGIN-POOL *****
 4448 000009AA 0000                       ALIGNMENT CODE
 4449 000009AC 00000000                   DATA FOR SOURCE-LINE 1527
 4450                                     ***** END-POOL *****
 4451 000009B0                   1531     KMT_CMDTRS_300
 4452                            1532             FAR_JSR #_KMT_TRS_STP_RD,R0             ;
 4453 000009B0 D003                   M           MOV.L   #_KMT_TRS_STP_RD,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4454 000009B2 400B                   M           JSR     @R0                     ;
 4455 000009B4 0009                   M           NOP                                     ;
 4456                            1533     
 4457 000009B6                   1534     KMT_CMDTRS_400:
 4458 000009B6 0009              1535             NOP
 4459                            1536     
 4460 000009B8                   1537     KMT_CMDTRS_END
 4461                            1538             SUB_END
 4462                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4463 000009B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4464                            1539             M_RTS
 4465 000009BA 000B                   M           RTS                             ;RTSの後ろの
 4466 000009BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4467                            1540     
 4468                            1541     
 4469                            1542     
 4470                            1543     ;       ***********************************
 4471                            1544     ;       ***                             ***
 4472                            1545     ;       ***     CMD START CHECK         ***
 4473                            1546     ;       ***                             ***
 4474                            1547     ;       ***     Input R8(STRUCT)        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    45
PROGRAM NAME =

 4475                            1548     ;       ***                             ***
 4476                            1549     ;       ***********************************
 4477                            1550     ;       MOV.L   #_KMT_TRSSV1_TOP,R8             ;
 4478                            1551     ;       -------- 2009-07-27(API1)-------
 4479                            1552     ;_KMT_TRSSV1_FORM:                                      ;配列
 4480                            1553     ;_KMT_TRSSV1_TOP:                                       ;配列
 4481                            1554     ;_KMT_TRSSV1_CMD                .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 4482                            1555     ;_KMT_TRSSV1_MEMKND     .SRES   2                       ;0:固定 (SIT_MEMを対象)
 4483                            1556     ;_KMT_TRSSV1_OBJADR     .SRES   2                       ;TOP_ADR()
 4484                            1557     ;_KMT_TRSSV1_CNT                .SRES   2                       ;MAX 1~256 word
 4485                            1558     ;_KMT_TRSSV1_DAT                .SRES   2*256                   ;MAX 256word
 4486                            1559     
 4487                            1560     ;_KMT_TRSLT_TOPADR      .SRES   4                       ;ｽﾄﾗｸﾁｬ
 4488                            1561     ;_KMT_TRSLT_CMD         .SRES   2                       ;=ADR(_KMT_TRSSV1_CMD)
 4489                            1562     ;_KMT_TRSLT_MEMKND      .SRES   2                       ;0:固定 (SIT_MEMを対象)
 4490                            1563     ;_KMT_TRSLT_OBJADR      .SRES   2                       ;TOP_ADR
 4491                            1564     ;_KMT_TRSLT_CNT         .SRES   2                       ;MAX 1~256 word
 4492                            1565     ;_KMT_TRSLT_DAT         .SRES   2*256                   ;MAX 256word
 4493                            1566     
 4494                                     ***** BEGIN-POOL *****
 4495 000009BE 0000                       ALIGNMENT CODE
 4496 000009C0 00000000                   DATA FOR SOURCE-LINE 1532
 4497                                     ***** END-POOL *****
 4498 000009C4                   1567     _KMT_CMDTRS_CHK:
 4499                            1568             SUB_START
 4500 000009C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4501                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4502 000009C6 8580              1569             MOV.W   @(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM,R8),R0       ;
 4503 000009C8 2008              1570             TST     R0,R0                                           ;
 4504                            1571             TST_BIT_OF KMT_CMDTRSCHK_EXT                            ;No cmd:EXIT
 4505 000009CA 8911                   M           BT      KMT_CMDTRSCHK_EXT
 4506                            1572     
 4507                            1573     ;       ========== DATA 転送==========
 4508 000009CC C903              1574             AND     #(__KMTCMD_WR+__KMTCMD_RD),R0                   ;1or2
 4509 000009CE D10A              1575             MOV.L   #_KMT_TRS_CMD,R1                                ;
 4510 000009D0 2101              1576             MOV.W   R0,@R1                                          ;CMD SAVE
 4511                            1577     
 4512 000009D2 D10A              1578             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
 4513 000009D4 2182              1579             MOV.L   R8,@R1                                          ;save
 4514                            1580     
 4515 000009D6 8581              1581             MOV.W   @(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM,R8),R0    ;R0=0:CONST
 4516 000009D8 D109              1582             MOV.L   #_KMT_TRSLT_MEMKND,R1                           ;ﾒﾓﾘ種別
 4517 000009DA 2101              1583             MOV.W   R0,@R1                                          ;
 4518                            1584     
 4519 000009DC 8582              1585             MOV.W   @(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM,R8),R0    ;
 4520 000009DE D109              1586             MOV.L   #_KMT_TRSLT_OBJADR,R1                           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽ
                                          word.adr
 4521 000009E0 2101              1587             MOV.W   R0,@R1                                          ;
 4522                            1588     
 4523 000009E2 8583              1589             MOV.W   @(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM,R8),R0       ;
 4524 000009E4 600C              1590             EXTU.B  R0,R0                                           ;1~255word
 4525 000009E6 D108              1591             MOV.L   #_KMT_TRSLT_CNT,R1                              ;
 4526 000009E8 2101              1592             MOV.W   R0,@R1                                          ;(word 個数)
 4527                            1593     
 4528                            1594     
 4529                            1595             FAR_JSR #_KMT_CMD_INIT,R0                               ;DPRAM SIG=OFF
 4530 000009EA D008                   M           MOV.L   #_KMT_CMD_INIT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    46
PROGRAM NAME =

 4531 000009EC 400B                   M           JSR     @R0                     ;
 4532 000009EE 0009                   M           NOP                                     ;
 4533                            1596     
 4534                            1597     
 4535                            1598     
 4536 000009F0                   1599     KMT_CMDTRSCHK_EXT:
 4537                            1600             SUB_END
 4538                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4539 000009F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4540                            1601             M_RTS
 4541 000009F2 000B                   M           RTS                             ;RTSの後ろの
 4542 000009F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4543                            1602     
 4544                            1603     ;       ***************************
 4545                            1604     ;       ***                     ***
 4546                            1605     ;       ***     START INITAL    ***
 4547                            1606     ;       ***                     ***
 4548                            1607     ;       ***************************
 4549                                     ***** BEGIN-POOL *****
 4550 000009F6 0000                       ALIGNMENT CODE
 4551 000009F8 00000000                   DATA FOR SOURCE-LINE 1575
 4552 000009FC 00000000                   DATA FOR SOURCE-LINE 1578
 4553 00000A00 00000000                   DATA FOR SOURCE-LINE 1582
 4554 00000A04 00000000                   DATA FOR SOURCE-LINE 1586
 4555 00000A08 00000000                   DATA FOR SOURCE-LINE 1591
 4556 00000A0C 00000000                   DATA FOR SOURCE-LINE 1595
 4557                                     ***** END-POOL *****
 4558 00000A10                   1608     _KMT_CMD_INIT:
 4559                            1609             SUB_START
 4560 00000A10 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4561                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4562                            1610     
 4563                            1611     
 4564                            1612     ;       ========== ﾒﾓﾘ転送===============
 4565 00000A12 D107              1613             MOV.L   #_KMT_TRSLT_CNT,R1                              ;
 4566 00000A14 6011              1614             MOV.W   @R1,R0                                          ;(word 個数)
 4567                            1615     ;       ===============書込/読み出しの場合は意味無し（どっちでも共通で行う）=======
 4568 00000A16 D107              1616             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
 4569 00000A18 6212              1617             MOV.L   @R1,R2                                          ;save
 4570 00000A1A D507              1618             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM,R5            ;
 4571 00000A1C 352C              1619             ADD     R2,R5                                           ;data top
 4572 00000A1E D607              1620             MOV.L   #_KMT_TRSLT_DAT,R6                              ;MAX 255word
 4573                            1621     
 4574 00000A20                   1622     KMT_CMDINIT_100_LOP:
 4575 00000A20 2008              1623             TST     R0,R0
 4576                            1624             TST_BIT_OF KMT_CMDINIT_200                              ;
 4577 00000A22 890D                   M           BT      KMT_CMDINIT_200
 4578 00000A24 6155              1625             MOV.W   @R5+,R1                                         ;
 4579 00000A26 2611              1626             MOV.W   R1,@R6                                          ;
 4580 00000A28 7602              1627             ADD     #2,R6                                           ;
 4581 00000A2A 70FF              1628             ADD     #-1,R0                                          ;
 4582                            1629             M_BRA   KMT_CMDINIT_100_LOP                             ;
 4583 00000A2C AFF8                   M           BRA     KMT_CMDINIT_100_LOP
 4584 00000A2E 0009                   M           NOP
 4585                            1630     
 4586                                     ***** BEGIN-POOL *****
 4587 00000A30 00000000                   DATA FOR SOURCE-LINE 1613
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    47
PROGRAM NAME =

 4588 00000A34 00000000                   DATA FOR SOURCE-LINE 1616
 4589 00000A38 00000008                   DATA FOR SOURCE-LINE 1618
 4590 00000A3C 00000000                   DATA FOR SOURCE-LINE 1620
 4591                                     ***** END-POOL *****
 4592 00000A40                   1631     KMT_CMDINIT_200:
 4593                            1632     
 4594                            1633     
 4595 00000A40 200A              1634             XOR     R0,R0                           ;
 4596 00000A42 D10B              1635             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4597 00000A44 2101              1636             MOV.W   R0,@R1                          ;
 4598                            1637     
 4599 00000A46 D10B              1638             MOV.L   #_KMT_TRS_CMD,R1                ;
 4600 00000A48 6011              1639             MOV.W   @R1,R0                          ;CMD
 4601                            1640     
 4602 00000A4A 930F              1641             MOV.W   #BIT6,R3                        ;R3=BIT6 WR
 4603 00000A4C 8801              1642             CMP/EQ  #1,R0                           ;WRITE
 4604 00000A4E 8900              1643             BT      KMT_CMDINI_300                  ;
 4605 00000A50 233A              1644             XOR     R3,R3                           ;R3=0 READ
 4606 00000A52                   1645     KMT_CMDINI_300:
 4607                            1646     
 4608 00000A52 D109              1647             MOV.L   #_KMT_TRSLT_MEMKND,R1           ;MEM-KIND=**00,0000
 4609 00000A54 6011              1648             MOV.W   @R1,R0                          ;
 4610 00000A56 940A              1649             MOV.W   #LWORD ~(BIT7+BIT6),R4                  ;
 4611 00000A58 2049              1650             AND     R4,R0                           ;BIT6/BIT7=0
 4612 00000A5A 203B              1651             OR      R3,R0                           ;
 4613 00000A5C D107              1652             MOV.L   #_KMT_REQ_SIG,R1                ;BIT6=0(rd) =1:WR
 4614 00000A5E 2101              1653             MOV.W   R0,@R1                          ;
 4615                            1654     
 4616                            1655             FAR_JSR #_KMT_REQSIG_OUT,R0             ;00=>REQ SIGNAL
 4617 00000A60 D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4618 00000A62 400B                   M           JSR     @R0                     ;
 4619 00000A64 0009                   M           NOP                                     ;
 4620                            1656                                                     ;0100,0000
 4621                            1657             SUB_END
 4622                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4623 00000A66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4624                            1658             M_RTS
 4625 00000A68 000B                   M           RTS                             ;RTSの後ろの
 4626 00000A6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4627                            1659     
 4628                            1660     ;       --------- WORK==> DPRAM REQ SIG=====
 4629                            1661             .IMPORT _ET2_WORD_SITM_REQ              ;CPUD/B間はﾜｰﾄﾞで行う ET2_SITM_REQ
 4630                            1662             .IMPORT _ET2_WORD_SITM_ACK              ;CPUD/B間はﾜｰﾄﾞで行う ET2_SITM_ACK
 4631                            1663     
 4632                                     ***** BEGIN-POOL *****
 4633 00000A6C 0040                       DATA FOR SOURCE-LINE 1641
 4634 00000A6E FF3F                       DATA FOR SOURCE-LINE 1649
 4635 00000A70 00000000                   DATA FOR SOURCE-LINE 1635
 4636 00000A74 00000000                   DATA FOR SOURCE-LINE 1638
 4637 00000A78 00000000                   DATA FOR SOURCE-LINE 1647
 4638 00000A7C 00000000                   DATA FOR SOURCE-LINE 1652
 4639 00000A80 00000000                   DATA FOR SOURCE-LINE 1655
 4640                                     ***** END-POOL *****
 4641 00000A84                   1664     _KMT_REQSIG_OUT:
 4642                            1665             SUB_START
 4643 00000A84 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4644                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    48
PROGRAM NAME =

 4645                            1666     
 4646                            1667     
 4647 00000A86 D104              1668             MOV.L   #_KMT_REQ_SIG,R1                ;
 4648 00000A88 6011              1669             MOV.W   @R1,R0                          ;
 4649 00000A8A 600C              1670             EXTU.B  R0,R0                           ;
 4650 00000A8C D103              1671             MOV.L   #_ET2_WORD_SITM_REQ,R1          ;CPUD/B間はﾜｰﾄﾞで行う ET2_SITM_REQ
 4651 00000A8E 2101              1672             MOV.W   R0,@R1                          ;
 4652                            1673     
 4653                            1674     ;;;[MC2014-09-30]       MOV.L   #_ET2_SITM_REQ,R1               ;
 4654                            1675     ;;;[MC2014-09-30]       MOV.B   R0,@R1                          ;byte
 4655                            1676     
 4656                            1677             SUB_END
 4657                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4658 00000A90 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4659                            1678             M_RTS
 4660 00000A92 000B                   M           RTS                             ;RTSの後ろの
 4661 00000A94 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4662                            1679     
 4663                            1680     ;       ----------- DPRAM ACK -----
 4664                                     ***** BEGIN-POOL *****
 4665 00000A96 0000                       ALIGNMENT CODE
 4666 00000A98 00000000                   DATA FOR SOURCE-LINE 1668
 4667 00000A9C 00000000                   DATA FOR SOURCE-LINE 1671
 4668                                     ***** END-POOL *****
 4669 00000AA0                   1681     _KMT_ACKSIG_IN
 4670                            1682             SUB_START
 4671 00000AA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4672                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4673                            1683     ;;;;[MC2014-09-29]      MOV.L   #_ET2_SITM_ACK,R1               ;
 4674                            1684     ;;;;[MC2014-09-29]      MOV.B   @R1,R0                          ;
 4675                            1685     ;;;;[MC2014-09-29]      EXTU.B  R0,R0                           ;
 4676                            1686     
 4677                            1687     
 4678 00000AA2 D103              1688             MOV.L   #_ET2_WORD_SITM_ACK,R1          ;ACKだけでもﾜｰﾄﾞｱｸｾｽしかでいない
 4679 00000AA4 6011              1689             MOV.W   @R1,R0                          ;WORD
 4680 00000AA6 600C              1690             EXTU.B  R0,R0                           ;
 4681                            1691     
 4682                            1692             .AIF    0       EQ 1    ;@
 4683                            1693             MOV.L   #_KMT_REQ_SIG,R1                ;
 4684                            1694             MOV.W   @R1,R0                          ;
 4685                            1695             .AENDI
 4686                            1696     
 4687                            1697             SUB_END
 4688                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4689 00000AA8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4690                            1698             M_RTS
 4691 00000AAA 000B                   M           RTS                             ;RTSの後ろの
 4692 00000AAC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4693                            1699     
 4694                            1700     
 4695                            1701     
 4696                            1702     
 4697                            1703     ;       *******************************************
 4698                            1704     ;       ***                                     ***
 4699                            1705     ;       ***     WR STEP                         ***
 4700                            1706     ;       ***     data SET+ HAND-ON/OFF           ***
 4701                            1707     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    49
PROGRAM NAME =

 4702                            1708     ;       *******************************************
 4703                                     ***** BEGIN-POOL *****
 4704 00000AAE 0000                       ALIGNMENT CODE
 4705 00000AB0 00000000                   DATA FOR SOURCE-LINE 1688
 4706                                     ***** END-POOL *****
 4707 00000AB4                   1709     _KMT_TRS_STP_WR:
 4708                            1710             SUB_START
 4709 00000AB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4710                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4711                            1711     
 4712                            1712             FAR_JSR #_KMT_ACKSIG_IN,R0              ;ANS R0
 4713 00000AB6 D009                   M           MOV.L   #_KMT_ACKSIG_IN,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4714 00000AB8 400B                   M           JSR     @R0                     ;
 4715 00000ABA 0009                   M           NOP                                     ;
 4716 00000ABC D108              1713             MOV.L   #_KMT_REQ_SIG,R1                ;
 4717 00000ABE 6211              1714             MOV.W   @R1,R2                          ;
 4718 00000AC0 3020              1715             CMP/EQ  R2,R0                           ;REQ=ACK?
 4719 00000AC2 8B42              1716             BF      KMT_TRS_STPWR_EXT               ;
 4720                            1717     
 4721 00000AC4 C880              1718             TST     #BIT7,R0                        ;
 4722                            1719             TST_BIT_OF KMT_TRS_STPWR_100            ;SIG=0 YES JUMP
 4723 00000AC6 890F                   M           BT      KMT_TRS_STPWR_100
 4724                            1720     
 4725                            1721             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_KMT_REQ_SIG,LG=W,BIT=~BIT7,WKREG=R1 ;//
 4726 00000AC8 D105                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4727 00000ACA 6011                   M           MOV.W   @R1,R0          ;
 4728 00000ACC C97F                   M           AND     #LOW ~BIT7,R0           ;
 4729 00000ACE 2101                   M           MOV.W   R0,@R1          ;
 4730                            1722             FAR_JSR #_KMT_REQSIG_OUT,R0             ;
 4731 00000AD0 D004                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4732 00000AD2 400B                   M           JSR     @R0                     ;
 4733 00000AD4 0009                   M           NOP                                     ;
 4734                            1723             M_BRA   KMT_TRS_STPWR_EXT               ;
 4735 00000AD6 A038                   M           BRA     KMT_TRS_STPWR_EXT
 4736 00000AD8 0009                   M           NOP
 4737                            1724     
 4738                                     ***** BEGIN-POOL *****
 4739 00000ADA 0000                       ALIGNMENT CODE
 4740 00000ADC 00000000                   DATA FOR SOURCE-LINE 1712
 4741 00000AE0 00000000                   DATA FOR SOURCE-LINE 1713,1721
 4742 00000AE4 00000000                   DATA FOR SOURCE-LINE 1722
 4743                                     ***** END-POOL *****
 4744 00000AE8                   1725     KMT_TRS_STPWR_100:
 4745 00000AE8 D10E              1726             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4746 00000AEA 6011              1727             MOV.W   @R1,R0                          ;
 4747 00000AEC D10E              1728             MOV.L   #_KMT_TRSLT_CNT,R1              ;(SV)
 4748 00000AEE 6211              1729             MOV.W   @R1,R2                          ;
 4749 00000AF0 3206              1730             CMP/HI  R0,R2                           ;R0 < R2
 4750 00000AF2 8B27              1731             BF      KMT_TRS_STPWR_200               ;NO R2 =< R0 (ｶｳﾝﾀ終了　JUMP) 0=0をOK
 4751                            1732     
 4752 00000AF4 4000              1733             SHLL    R0
 4753 00000AF6 D10D              1734             MOV.L   #_KMT_TRSLT_DAT,R1              ;
 4754 00000AF8 310C              1735             ADD     R0,R1                           ;DAT+CNT*2
 4755 00000AFA 6411              1736             MOV.W   @R1,R4                          ;data load
 4756 00000AFC D10C              1737             MOV.L   #_ET2_SITM_WRDT,R1              ;
 4757 00000AFE 2141              1738             MOV.W   R4,@R1                          ;dpram data set
 4758                            1739     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    50
PROGRAM NAME =

 4759                            1740     
 4760 00000B00 D108              1741             MOV.L   #_KMT_TRSPV_CNT,R1              ;
 4761 00000B02 6311              1742             MOV.W   @R1,R3                          ;
 4762 00000B04 D40B              1743             MOV.L   #_KMT_TRSLT_OBJADR,R4           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽword.adr
 4763 00000B06 6241              1744             MOV.W   @R4,R2                          ;
 4764 00000B08 323C              1745             ADD     R3,R2                           ;
 4765 00000B0A D40B              1746             MOV.L   #_ET2_SITM_ADR,R4               ;WORD ADR
 4766 00000B0C 2421              1747             MOV.W   R2,@R4                          ;
 4767 00000B0E 7301              1748             ADD     #1,R3                           ;CNT+1
 4768 00000B10 2131              1749             MOV.W   R3,@R1                          ;
 4769                            1750     
 4770                            1751     ;       --------- HAND SYEIKU ON -------
 4771                            1752             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_REQ_SIG,LG=W,BIT=BIT7,WKREG=R1 ;bit-set
 4772 00000B12 D10A                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4773 00000B14 6011                   M           MOV.W   @R1,R0          ;
 4774 00000B16 CB80                   M           OR      #BIT7,R0                ;
 4775 00000B18 2101                   M           MOV.W   R0,@R1          ;
 4776                            1753             FAR_JSR #_KMT_REQSIG_OUT,R0                                     ;
 4777 00000B1A D009                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4778 00000B1C 400B                   M           JSR     @R0                     ;
 4779 00000B1E 0009                   M           NOP                                     ;
 4780                            1754     
 4781                            1755             M_BRA   KMT_TRS_STPWR_EXT               ;
 4782 00000B20 A013                   M           BRA     KMT_TRS_STPWR_EXT
 4783 00000B22 0009                   M           NOP
 4784                            1756     
 4785                                     ***** BEGIN-POOL *****
 4786 00000B24 00000000                   DATA FOR SOURCE-LINE 1726,1741
 4787 00000B28 00000000                   DATA FOR SOURCE-LINE 1728
 4788 00000B2C 00000000                   DATA FOR SOURCE-LINE 1734
 4789 00000B30 00000000                   DATA FOR SOURCE-LINE 1737
 4790 00000B34 00000000                   DATA FOR SOURCE-LINE 1743
 4791 00000B38 00000000                   DATA FOR SOURCE-LINE 1746
 4792 00000B3C 00000000                   DATA FOR SOURCE-LINE 1752
 4793 00000B40 00000000                   DATA FOR SOURCE-LINE 1753
 4794                                     ***** END-POOL *****
 4795 00000B44                   1757     KMT_TRS_STPWR_200:
 4796                            1758             FAR_JSR #_KMT_TRSCMD_ENDCLR,R0
 4797 00000B44 D002                   M           MOV.L   #_KMT_TRSCMD_ENDCLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4798 00000B46 400B                   M           JSR     @R0                     ;
 4799 00000B48 0009                   M           NOP                                     ;
 4800                            1759     
 4801                            1760     
 4802 00000B4A                   1761     KMT_TRS_STPWR_EXT:
 4803                            1762             SUB_END
 4804                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4805 00000B4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4806                            1763             M_RTS
 4807 00000B4C 000B                   M           RTS                             ;RTSの後ろの
 4808 00000B4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4809                            1764     
 4810                            1765     
 4811                            1766     
 4812                            1767     ;       ***************************
 4813                            1768     ;       ***                     ***
 4814                            1769     ;       ***     RD STEP         ***
 4815                            1770     ;       ***                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    51
PROGRAM NAME =

 4816                            1771     ;       ***************************
 4817                            1772     ;       OFFｴｯｼﾞで取込
 4818                            1773     ;       ACK     ON      OFF
 4819                            1774     ;       REQ ON      OFF
 4820                            1775     ;            data取込
 4821                            1776     ;
 4822                            1777     
 4823                                     ***** BEGIN-POOL *****
 4824 00000B50 00000000                   DATA FOR SOURCE-LINE 1758
 4825                                     ***** END-POOL *****
 4826 00000B54                   1778     _KMT_TRS_STP_RD:
 4827                            1779             SUB_START
 4828 00000B54 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4829                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4830                            1780     
 4831                            1781             FAR_JSR #_KMT_ACKSIG_IN,R0                      ;ANS R0
 4832 00000B56 D00F                   M           MOV.L   #_KMT_ACKSIG_IN,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4833 00000B58 400B                   M           JSR     @R0                     ;
 4834 00000B5A 0009                   M           NOP                                     ;
 4835 00000B5C D10E              1782             MOV.L   #_KMT_REQ_SIG,R1                        ;
 4836 00000B5E 6211              1783             MOV.W   @R1,R2                                  ;
 4837 00000B60 3020              1784             CMP/EQ  R2,R0                                   ;REQ=ACK?
 4838 00000B62 8B60              1785             BF      KMT_TRS_STPRD_EXT                       ;
 4839                            1786     
 4840 00000B64 C880              1787             TST     #BIT7,R0                                ;
 4841                            1788             TST_BIT_OF KMT_TRS_STPRD_100                    ;SIG=0 YES JUMP
 4842 00000B66 8921                   M           BT      KMT_TRS_STPRD_100
 4843                            1789     
 4844 00000B68 D10C              1790             MOV.L   #_ET2_SITM_RDDT,R1                      ;
 4845 00000B6A 6411              1791             MOV.W   @R1,R4                                  ;dpram data load
 4846                            1792     
 4847 00000B6C D10C              1793             MOV.L   #_KMT_TRSPV_CNT,R1                      ;CNT*2
 4848 00000B6E 6011              1794             MOV.W   @R1,R0                                  ;
 4849 00000B70 4000              1795             SHLL    R0
 4850 00000B72 D10C              1796             MOV.L   #_KMT_TRSLT_DAT,R1                      ;
 4851 00000B74 310C              1797             ADD     R0,R1                                   ;DAT+CNT*2
 4852 00000B76 2141              1798             MOV.W   R4,@R1                                  ;data save
 4853                            1799     
 4854 00000B78 D109              1800             MOV.L   #_KMT_TRSPV_CNT,R1                      ;
 4855 00000B7A 6211              1801             MOV.W   @R1,R2                                  ;
 4856 00000B7C 7201              1802             ADD     #1,R2                                   ;CNT+1
 4857 00000B7E 2121              1803             MOV.W   R2,@R1                                  ;
 4858                            1804     
 4859                            1805             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_KMT_REQ_SIG,LG=W,BIT=~BIT7,WKREG=R1       ;//
 4860 00000B80 D105                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4861 00000B82 6011                   M           MOV.W   @R1,R0          ;
 4862 00000B84 C97F                   M           AND     #LOW ~BIT7,R0           ;
 4863 00000B86 2101                   M           MOV.W   R0,@R1          ;
 4864                            1806             FAR_JSR #_KMT_REQSIG_OUT,R0                                             ;
 4865 00000B88 D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4866 00000B8A 400B                   M           JSR     @R0                     ;
 4867 00000B8C 0009                   M           NOP                                     ;
 4868                            1807             M_BRA   KMT_TRS_STPRD_EXT                                               ;
 4869 00000B8E A04A                   M           BRA     KMT_TRS_STPRD_EXT
 4870 00000B90 0009                   M           NOP
 4871                            1808     
 4872                            1809     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    52
PROGRAM NAME =

 4873                                     ***** BEGIN-POOL *****
 4874 00000B92 0000                       ALIGNMENT CODE
 4875 00000B94 00000000                   DATA FOR SOURCE-LINE 1781
 4876 00000B98 00000000                   DATA FOR SOURCE-LINE 1782,1805
 4877 00000B9C 00000000                   DATA FOR SOURCE-LINE 1790
 4878 00000BA0 00000000                   DATA FOR SOURCE-LINE 1793,1800
 4879 00000BA4 00000000                   DATA FOR SOURCE-LINE 1796
 4880 00000BA8 00000000                   DATA FOR SOURCE-LINE 1806
 4881                                     ***** END-POOL *****
 4882 00000BAC                   1810     KMT_TRS_STPRD_100:
 4883 00000BAC D10A              1811             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4884 00000BAE 6011              1812             MOV.W   @R1,R0                          ;
 4885 00000BB0 D10A              1813             MOV.L   #_KMT_TRSLT_CNT,R1              ;(SV)
 4886 00000BB2 6211              1814             MOV.W   @R1,R2                          ;
 4887 00000BB4 3206              1815             CMP/HI  R0,R2                           ;R0 < R2
 4888 00000BB6 8B1B              1816             BF      KMT_TRS_STPRD_200               ;NO R2 =< R0 (ｶｳﾝﾀ終了　JUMP) 0=0をOK
 4889                            1817     ;R0 < R2
 4890 00000BB8 D107              1818             MOV.L   #_KMT_TRSPV_CNT,R1              ;
 4891 00000BBA 6311              1819             MOV.W   @R1,R3                          ;
 4892 00000BBC D408              1820             MOV.L   #_KMT_TRSLT_OBJADR,R4           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽword.adr
 4893 00000BBE 6241              1821             MOV.W   @R4,R2                          ;
 4894 00000BC0 323C              1822             ADD     R3,R2                           ;
 4895 00000BC2 D408              1823             MOV.L   #_ET2_SITM_ADR,R4               ;WORD ADR
 4896 00000BC4 2421              1824             MOV.W   R2,@R4                          ;
 4897                            1825     
 4898                            1826     
 4899                            1827     ;       --------- HAND SYEIKU ON -------
 4900                            1828             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_REQ_SIG,LG=W,BIT=BIT7,WKREG=R1 ;bit-set
 4901 00000BC6 D108                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4902 00000BC8 6011                   M           MOV.W   @R1,R0          ;
 4903 00000BCA CB80                   M           OR      #BIT7,R0                ;
 4904 00000BCC 2101                   M           MOV.W   R0,@R1          ;
 4905                            1829             FAR_JSR #_KMT_REQSIG_OUT,R0                                     ;
 4906 00000BCE D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4907 00000BD0 400B                   M           JSR     @R0                     ;
 4908 00000BD2 0009                   M           NOP                                     ;
 4909                            1830             M_BRA   KMT_TRS_STPRD_EXT               ;
 4910 00000BD4 A027                   M           BRA     KMT_TRS_STPRD_EXT
 4911 00000BD6 0009                   M           NOP
 4912                            1831     
 4913                                     ***** BEGIN-POOL *****
 4914 00000BD8 00000000                   DATA FOR SOURCE-LINE 1811,1818
 4915 00000BDC 00000000                   DATA FOR SOURCE-LINE 1813
 4916 00000BE0 00000000                   DATA FOR SOURCE-LINE 1820
 4917 00000BE4 00000000                   DATA FOR SOURCE-LINE 1823
 4918 00000BE8 00000000                   DATA FOR SOURCE-LINE 1828
 4919 00000BEC 00000000                   DATA FOR SOURCE-LINE 1829
 4920                                     ***** END-POOL *****
 4921 00000BF0                   1832     KMT_TRS_STPRD_200:
 4922                            1833     
 4923 00000BF0 D507              1834             MOV.L   #_KMT_TRSLT_DAT,R5                      ;SRC
 4924                            1835     
 4925 00000BF2 D108              1836             MOV.L   #_KMT_TRSLT_TOPADR,R1                   ;STRCUT
 4926 00000BF4 6812              1837             MOV.L   @R1,R8                                  ;save
 4927 00000BF6 D608              1838             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM,R6    ;DST
 4928 00000BF8 368C              1839             ADD     R8,R6                                   ;data top
 4929                            1840     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    53
PROGRAM NAME =

 4930 00000BFA D108              1841             MOV.L   #_KMT_TRSLT_CNT,R1                      ;MAX 1~256 word
 4931 00000BFC 6411              1842             MOV.W   @R1,R4                                  ;
 4932                            1843     
 4933 00000BFE                   1844     KMT_TRS_STPRD_250LOP:
 4934 00000BFE 2448              1845             TST     R4,R4                                   ;
 4935                            1846             TST_BIT_OF KMT_TRS_STPRD_300                    ;
 4936 00000C00 890E                   M           BT      KMT_TRS_STPRD_300
 4937 00000C02 6055              1847             MOV.W   @R5+,R0
 4938 00000C04 2601              1848             MOV.W   R0,@R6
 4939 00000C06 7602              1849             ADD     #2,R6
 4940 00000C08 74FF              1850             ADD     #-1,R4
 4941                            1851             M_BRA   KMT_TRS_STPRD_250LOP
 4942 00000C0A AFF8                   M           BRA     KMT_TRS_STPRD_250LOP
 4943 00000C0C 0009                   M           NOP
 4944                            1852     
 4945                                     ***** BEGIN-POOL *****
 4946 00000C0E 0000                       ALIGNMENT CODE
 4947 00000C10 00000000                   DATA FOR SOURCE-LINE 1834
 4948 00000C14 00000000                   DATA FOR SOURCE-LINE 1836
 4949 00000C18 00000008                   DATA FOR SOURCE-LINE 1838
 4950 00000C1C 00000000                   DATA FOR SOURCE-LINE 1841
 4951                                     ***** END-POOL *****
 4952 00000C20                   1853     KMT_TRS_STPRD_300:
 4953                            1854     
 4954                            1855     
 4955                            1856             FAR_JSR #_KMT_TRSCMD_ENDCLR,R0
 4956 00000C20 D002                   M           MOV.L   #_KMT_TRSCMD_ENDCLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4957 00000C22 400B                   M           JSR     @R0                     ;
 4958 00000C24 0009                   M           NOP                                     ;
 4959                            1857     
 4960                            1858     
 4961 00000C26                   1859     KMT_TRS_STPRD_EXT:
 4962                            1860             SUB_END
 4963                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4964 00000C26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4965                            1861             M_RTS
 4966 00000C28 000B                   M           RTS                             ;RTSの後ろの
 4967 00000C2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4968                            1862     
 4969                            1863     
 4970                            1864     ;       ***********************************
 4971                            1865     ;       ***                             ***
 4972                            1866     ;       ***      STEP/END CLR           ***
 4973                            1867     ;       ***      CMD CLR                ***
 4974                            1868     ;       ***********************************
 4975                                     ***** BEGIN-POOL *****
 4976 00000C2C 00000000                   DATA FOR SOURCE-LINE 1856
 4977                                     ***** END-POOL *****
 4978 00000C30                   1869     _KMT_TRSCMD_ENDCLR
 4979                            1870             SUB_START
 4980 00000C30 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4981                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4982 00000C32 200A              1871             XOR     R0,R0                           ;
 4983 00000C34 D103              1872             MOV.L   #_KMT_TRS_CMD,R1                ;0:ILDE 1:WRITE 2:READ
 4984 00000C36 2101              1873             MOV.W   R0,@R1                          ;CMD CLR
 4985                            1874     
 4986 00000C38 D103              1875             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    54
PROGRAM NAME =

 4987 00000C3A 6812              1876             MOV.L   @R1,R8                                          ;save
 4988 00000C3C 8180              1877             MOV.W   R0,@(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM,R8)       ;
 4989                            1878     
 4990                            1879     
 4991                            1880             SUB_END
 4992                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4993 00000C3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4994                            1881             M_RTS
 4995 00000C40 000B                   M           RTS                             ;RTSの後ろの
 4996 00000C42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4997                            1882     
 4998                            1883     
 4999                            1884     
 5000                            1885     ;       ***********************************
 5001                            1886     ;       ***                             ***
 5002                            1887     ;       ***                             ***
 5003                            1888     ;       ***     TYPE011型判定           ***
 5004                            1889     ;       ***     2011-01-14              ***
 5005                            1890     ;       ***********************************
 5006                            1891     ;
 5007                                     ***** BEGIN-POOL *****
 5008 00000C44 00000000                   DATA FOR SOURCE-LINE 1872
 5009 00000C48 00000000                   DATA FOR SOURCE-LINE 1875
 5010                                     ***** END-POOL *****
 5011 00000C4C                   1892             .ALIGN  4                                       ;
 5012 00000C4C                   1893     _KMT_TYPE_011_CHK:
 5013                            1894             SUB_START
 5014 00000C4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5015                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5016                            1895     
 5017 00000C4E D109              1896             MOV.L   #(__SITM_KMTTYPE-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1      ;
 5018 00000C50 6011              1897             MOV.W   @R1,R0                                                  ;
 5019                            1898     
 5020                            1899             .AIF    0       EQ 1                            ;@
 5021                            1900             MOV.W   #__SIT_VER_TYP2_COD,R0                                  ;@TYP011に見える
 5022                            1901             .AENDI                                                          ;@
 5023                            1902     
 5024 00000C52 940C              1903             MOV.W   #__SIT_VER_TYP2_COD,R4                                  ;
 5025 00000C54 3040              1904             CMP/EQ  R4,R0                                                   ;
 5026 00000C56 8B07              1905             BF      KMT_TYPE011CHK_END                                      ;
 5027                            1906     
 5028 00000C58 D107              1907             MOV.L   #_SEQ_DP_TOP+_SQ113,R1                                  ;
 5029 00000C5A 6011              1908             MOV.W   @R1,R0                                                  ;
 5030 00000C5C 9408              1909             MOV.W   #BIT9,R4                                                ;113.9=1
 5031 00000C5E 2048              1910             TST     R4,R0                                                   ;
 5032                            1911             TST_BIT_OF KMT_TYPE011CHK_END                                   ;011型機能有効
 5033 00000C60 8902                   M           BT      KMT_TYPE011CHK_END
 5034                            1912     
 5035 00000C62 9006              1913             MOV.W   #1,R0                                           ;
 5036 00000C64 D105              1914             MOV.L   #_KMT_TYP_011,R1                                ;TYPE011型機能有効
 5037 00000C66 2101              1915             MOV.W   R0,@R1                                          ;
 5038                            1916     
 5039 00000C68                   1917     KMT_TYPE011CHK_END:
 5040                            1918     
 5041                            1919             SUB_END
 5042                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5043 00000C68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    55
PROGRAM NAME =

 5044                            1920             M_RTS
 5045 00000C6A 000B                   M           RTS                             ;RTSの後ろの
 5046 00000C6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5047                            1921     
 5048                            1922     
 5049                            1923     
 5050                            1924     ;       ***************************************************
 5051                            1925     ;       ***                                             ***
 5052                            1926     ;       ***             品番データ作成、転送            ***
 5053                            1927     ;       ***             (write)                         ***
 5054                            1928     ;       ***************************************************
 5055                                     ***** BEGIN-POOL *****
 5056 00000C6E 5A01                       DATA FOR SOURCE-LINE 1903
 5057 00000C70 0200                       DATA FOR SOURCE-LINE 1909
 5058 00000C72 0001                       DATA FOR SOURCE-LINE 1913
 5059 00000C74 00000000                   DATA FOR SOURCE-LINE 1896
 5060 00000C78 00000000                   DATA FOR SOURCE-LINE 1907
 5061 00000C7C 00000000                   DATA FOR SOURCE-LINE 1914
 5062                                     ***** END-POOL *****
 5063 00000C80                   1929             .ALIGN  4                                       ;
 5064 00000C80                   1930     _KOMTRAX_HINBAN_MAIN
 5065                            1931             SUB_START
 5066 00000C80 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5067                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5068                            1932     
 5069                            1933             FAR_JSR #_KMT_HINBAN_MAKE,R0            ;
 5070 00000C82 D004                   M           MOV.L   #_KMT_HINBAN_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5071 00000C84 400B                   M           JSR     @R0                     ;
 5072 00000C86 0009                   M           NOP                                     ;
 5073                            1934     
 5074                            1935             FAR_JSR #_KMT_HINBAN_STEP,R0            ;
 5075 00000C88 D003                   M           MOV.L   #_KMT_HINBAN_STEP,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5076 00000C8A 400B                   M           JSR     @R0                     ;
 5077 00000C8C 0009                   M           NOP                                     ;
 5078                            1936     
 5079                            1937             SUB_END
 5080                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5081 00000C8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5082                            1938             M_RTS
 5083 00000C90 000B                   M           RTS                             ;RTSの後ろの
 5084 00000C92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5085                            1939     
 5086                            1940     
 5087                            1941     ;       *******************************************
 5088                            1942     ;       ***                                     ***
 5089                            1943     ;       ***             品番データ作成          ***
 5090                            1944     ;       ***             (write)                 ***
 5091                            1945     ;       *******************************************
 5092                            1946     ;_KMT_HINBAN_TRG_FLG    .SRES   2*5                     ;保留が発生した場合の処理
 5093                            1947     ;+0:現在
 5094                            1948     ;+1:次回
 5095                            1949     ;+2:次々回
 5096                            1950     ;+3:次次々回
 5097                            1951     ;+4:次次次々回
 5098                            1952     ;_KMT_HINBAN_BUFNUM     .SRES   2                       ;BUF使用数　0,1,2,3,4
 5099                            1953     
 5100                            1954             .GLOBAL         _SV0_WORK_STP_FLG       ;2byte作業終了 　0/0以外
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    56
PROGRAM NAME =

 5101                            1955             .GLOBAL         _SV0SP_WORKER_COD       ;2byte作業者ｺｰﾄﾞBIN
 5102                            1956             .GLOBAL         _SV0SP_ORDER_COD        ;4byte注文ｺｰﾄﾞBIN->ASC
 5103                            1957             .GLOBAL         _SV0SP_PLAN_CNT         ;4byte計画数BIN
 5104                            1958             .GLOBAL         _SV0SP_BAD_CNT          ;4byte不良数BIN
 5105                            1959             .GLOBAL         _SV0SP_KATA_NO          ;2byte型番号未使用予定
 5106                            1960             .GLOBAL         _SV0SP_KATA_NAME        ;2byte*7=14byte
 5107                            1961             .GLOBAL         _SV0SP_KATA_MEMO        ;2byte*7=14byte
 5108                            1962     
 5109                            1963             .GLOBAL         _SV0_WORK_STR_FLG       ;2byte作業開始 　0/0以外
 5110                            1964             .GLOBAL         _SV0SR_WORKER_COD       ;2byte作業者ｺｰﾄﾞBIN
 5111                            1965             .GLOBAL         _SV0SR_ORDER_COD        ;4byte注文ｺｰﾄﾞBIN->ASC
 5112                            1966             .GLOBAL         _SV0SR_PLAN_CNT         ;4byte計画数BIN
 5113                            1967             .GLOBAL         _SV0SR_BAD_CNT          ;4byte不良数BIN
 5114                            1968             .GLOBAL         _SV0SR_KATA_NO          ;2byte型番号未使用予定
 5115                            1969             .GLOBAL         _SV0SR_KATA_NAME        ;2byte*7=14byte
 5116                            1970             .GLOBAL         _SV0SR_KATA_MEMO        ;2byte*7=14byte
 5117                            1971     
 5118                                     ***** BEGIN-POOL *****
 5119 00000C94 00000000                   DATA FOR SOURCE-LINE 1933
 5120 00000C98 00000000                   DATA FOR SOURCE-LINE 1935
 5121                                     ***** END-POOL *****
 5122          00000000          1972     _EQ_ORDER_COD   .EQU    0       ;4byte注文ｺｰﾄﾞBIN->ASC
 5123          00000008          1973     _EQ_KATA_NAME   .EQU    4*2     ;2byte*7=14byte
 5124          0000001C          1974     _EQ_KATA_MEMO   .EQU    14*2    ;2byte*7=14byte
 5125          00000030          1975     _EQ_WORKER_COD  .EQU    24*2    ;2byte作業者ｺｰﾄﾞBIN
 5126          00000032          1976     _EQ_PLAN_CNT    .EQU    25*2    ;4byte計画数BIN
 5127          0000003A          1977     _EQ_BAD_CNT     .EQU    29*2    ;4byte不良数BIN
 5128                            1978     
 5129                            1979     
 5130 00000C9C                   1980             .ALIGN  4                                       ;
 5131 00000C9C                   1981     _KMT_HINBAN_MAKE:
 5132                            1982             SUB_START
 5133 00000C9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5134                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5135                            1983     
 5136                            1984     ;       ---------------------------------------------------
 5137                            1985     ;       ---             保留データの作成                ---
 5138                            1986     ;       ---             "KMT_HINBAN_REQ_MAKE"           ---
 5139                            1987     ;       ---------------------------------------------------
 5140                            1988     
 5141 00000C9E D405              1989             MOV.L   #_SV0_WORK_STR_FLG,R4           ;
 5142 00000CA0 6141              1990             MOV.W   @R4,R1
 5143 00000CA2 D405              1991             MOV.L   #_SV0_WORK_STP_FLG,R4           ;
 5144 00000CA4 6241              1992             MOV.W   @R4,R2
 5145 00000CA6 2228              1993             TST     R2,R2                           ;終了あり
 5146                            1994             TST_BIT_ON KMT_HINBAN_RQMK_050
 5147 00000CA8 8B08                   M           BF      KMT_HINBAN_RQMK_050
 5148 00000CAA 2118              1995             TST     R1,R1                           ;
 5149                            1996             TST_BIT_ON KMT_HINBAN_RQMK_100          ;
 5150 00000CAC 8B1E                   M           BF      KMT_HINBAN_RQMK_100
 5151                            1997     ;       ------- 新たなｲﾍﾞﾝﾄはない----
 5152                            1998             M_BRA   KMT_HINBAN_RQMK_900
 5153 00000CAE A057                   M           BRA     KMT_HINBAN_RQMK_900
 5154 00000CB0 0009                   M           NOP
 5155                            1999     
 5156                            2000     ;       ------- 終了ｲﾍﾞﾝﾄあり
 5157                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    57
PROGRAM NAME =

 5158 00000CB2 0000                       ALIGNMENT CODE
 5159 00000CB4 00000000                   DATA FOR SOURCE-LINE 1989
 5160 00000CB8 00000000                   DATA FOR SOURCE-LINE 1991
 5161                                     ***** END-POOL *****
 5162 00000CBC                   2001     KMT_HINBAN_RQMK_050
 5163 00000CBC 2118              2002             TST     R1,R1                           ;
 5164                            2003             TST_BIT_ON KMT_HINBAN_RQMK_200          ;開始ｲﾍﾞﾝﾄもあり
 5165 00000CBE 8B2B                   M           BF      KMT_HINBAN_RQMK_200
 5166                            2004     ;       ----- 終了ｲﾍﾞﾝﾄのみ発生----
 5167                            2005             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5168 00000CC0 D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5169 00000CC2 400B                   M           JSR     @R0                     ;
 5170 00000CC4 0009                   M           NOP                                     ;
 5171 00000CC6 9009              2006             MOV.W   #BIT1,R0                        ;
 5172 00000CC8 2701              2007             MOV.W   R0,@R7                          ;
 5173                            2008             FAR_JSR #_HINBAN_STOP_DATA_MOV,R0       ;input R6
 5174 00000CCA D006                   M           MOV.L   #_HINBAN_STOP_DATA_MOV,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5175 00000CCC 400B                   M           JSR     @R0                     ;
 5176 00000CCE 0009                   M           NOP                                     ;
 5177 00000CD0 D405              2009             MOV.L   #_KMT_HINBAN_TRG_NUM,R4         ;0個[保留なし],1個,2個,3個,4個,5個,6個full
 5178 00000CD2 6041              2010             MOV.W   @R4,R0                          ;
 5179 00000CD4 7001              2011             ADD     #1,R0                           ;
 5180 00000CD6 2401              2012             MOV.W   R0,@R4                          ;
 5181                            2013             M_BRA   KMT_HINBAN_RQMK_900
 5182 00000CD8 A042                   M           BRA     KMT_HINBAN_RQMK_900
 5183 00000CDA 0009                   M           NOP
 5184                            2014     
 5185                                     ***** BEGIN-POOL *****
 5186 00000CDC 0002                       DATA FOR SOURCE-LINE 2006
 5187 00000CDE 0000                       ALIGNMENT CODE
 5188 00000CE0 00000000                   DATA FOR SOURCE-LINE 2005
 5189 00000CE4 00000000                   DATA FOR SOURCE-LINE 2008
 5190 00000CE8 00000000                   DATA FOR SOURCE-LINE 2009
 5191                                     ***** END-POOL *****
 5192 00000CEC                   2015     KMT_HINBAN_RQMK_100:
 5193                            2016     ;       ----- 開始ｲﾍﾞﾝﾄのみ発生----
 5194                            2017             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0                ;output R6,R7
 5195 00000CEC D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5196 00000CEE 400B                   M           JSR     @R0                     ;
 5197 00000CF0 0009                   M           NOP                                     ;
 5198 00000CF2 9009              2018             MOV.W   #BIT0,R0                                ;
 5199 00000CF4 2701              2019             MOV.W   R0,@R7                                  ;
 5200                            2020             FAR_JSR #_HINBAN_START_DATA_MOV,R0              ;input R6
 5201 00000CF6 D006                   M           MOV.L   #_HINBAN_START_DATA_MOV,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5202 00000CF8 400B                   M           JSR     @R0                     ;
 5203 00000CFA 0009                   M           NOP                                     ;
 5204 00000CFC D405              2021             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5205 00000CFE 6041              2022             MOV.W   @R4,R0                                  ;
 5206 00000D00 7001              2023             ADD     #1,R0                                   ;
 5207 00000D02 2401              2024             MOV.W   R0,@R4                                  ;
 5208                            2025             M_BRA   KMT_HINBAN_RQMK_900                     ;
 5209 00000D04 A02C                   M           BRA     KMT_HINBAN_RQMK_900
 5210 00000D06 0009                   M           NOP
 5211                            2026     
 5212                            2027     
 5213                            2028     ;       ----- 終了ｲﾍﾞﾝﾄと開始ｲﾍﾞﾝﾄが同時に発生----
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    58
PROGRAM NAME =

 5214                                     ***** BEGIN-POOL *****
 5215 00000D08 0001                       DATA FOR SOURCE-LINE 2018
 5216 00000D0A 0000                       ALIGNMENT CODE
 5217 00000D0C 00000000                   DATA FOR SOURCE-LINE 2017
 5218 00000D10 00000000                   DATA FOR SOURCE-LINE 2020
 5219 00000D14 00000000                   DATA FOR SOURCE-LINE 2021
 5220                                     ***** END-POOL *****
 5221 00000D18                   2029     KMT_HINBAN_RQMK_200:
 5222                            2030             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5223 00000D18 D00D                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5224 00000D1A 400B                   M           JSR     @R0                     ;
 5225 00000D1C 0009                   M           NOP                                     ;
 5226 00000D1E 9015              2031             MOV.W   #BIT1,R0                        ;
 5227 00000D20 2701              2032             MOV.W   R0,@R7                          ;
 5228                            2033             FAR_JSR #_HINBAN_STOP_DATA_MOV,R0       ;input R6
 5229 00000D22 D00C                   M           MOV.L   #_HINBAN_STOP_DATA_MOV,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5230 00000D24 400B                   M           JSR     @R0                     ;
 5231 00000D26 0009                   M           NOP                                     ;
 5232 00000D28 D40B              2034             MOV.L   #_KMT_HINBAN_TRG_NUM,R4         ;0個[保留なし],1個,2個,3個,4個,5個full
 5233 00000D2A 6041              2035             MOV.W   @R4,R0                          ;
 5234 00000D2C 7001              2036             ADD     #1,R0                           ;
 5235 00000D2E 2401              2037             MOV.W   R0,@R4                          ;
 5236                            2038     
 5237                            2039             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5238 00000D30 D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5239 00000D32 400B                   M           JSR     @R0                     ;
 5240 00000D34 0009                   M           NOP                                     ;
 5241 00000D36 900A              2040             MOV.W   #BIT0,R0                        ;
 5242 00000D38 2701              2041             MOV.W   R0,@R7                          ;
 5243                            2042             FAR_JSR #_HINBAN_START_DATA_MOV,R0              ;input R6
 5244 00000D3A D008                   M           MOV.L   #_HINBAN_START_DATA_MOV,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5245 00000D3C 400B                   M           JSR     @R0                     ;
 5246 00000D3E 0009                   M           NOP                                     ;
 5247 00000D40 D405              2043             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5248 00000D42 6041              2044             MOV.W   @R4,R0                                  ;
 5249 00000D44 7001              2045             ADD     #1,R0                                   ;
 5250 00000D46 2401              2046             MOV.W   R0,@R4                                  ;
 5251                            2047             M_BRA   KMT_HINBAN_RQMK_900
 5252 00000D48 A00A                   M           BRA     KMT_HINBAN_RQMK_900
 5253 00000D4A 0009                   M           NOP
 5254                            2048     
 5255                            2049     
 5256                                     ***** BEGIN-POOL *****
 5257 00000D4C 0002                       DATA FOR SOURCE-LINE 2031
 5258 00000D4E 0001                       DATA FOR SOURCE-LINE 2040
 5259 00000D50 00000000                   DATA FOR SOURCE-LINE 2030,2039
 5260 00000D54 00000000                   DATA FOR SOURCE-LINE 2033
 5261 00000D58 00000000                   DATA FOR SOURCE-LINE 2034,2043
 5262 00000D5C 00000000                   DATA FOR SOURCE-LINE 2042
 5263                                     ***** END-POOL *****
 5264 00000D60                   2050     KMT_HINBAN_RQMK_900
 5265                            2051             M_BRA   KMT_HINBAN_RQMK_999     ;
 5266 00000D60 A000                   M           BRA     KMT_HINBAN_RQMK_999
 5267 00000D62 0009                   M           NOP
 5268                            2052     
 5269 00000D64                   2053     KMT_HINBAN_RQMK_999
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    59
PROGRAM NAME =

 5270                            2054     
 5271                            2055     ;       ---------------------------------------------------
 5272                            2056     ;       ---             送信データの作成                ---
 5273                            2057     ;       ---             "KMT_HINBAN_DAT_MAKE"           ---
 5274                            2058     ;       ---------------------------------------------------
 5275 00000D64 D507              2059             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5276 00000D66 6051              2060             MOV.W   @R5,R0                                  ;BIT0orBIT1-->送信部 送信部でｸﾘｱさ
                                          れる
 5277 00000D68 2008              2061             TST     R0,R0                                   ;
 5278                            2062             TST_BIT_ON KMT_HINBAN_DTMK_900                  ;送信部処理中　EXIT
 5279 00000D6A 8B07                   M           BF      KMT_HINBAN_DTMK_900
 5280                            2063     
 5281 00000D6C D406              2064             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[ﾃﾞｰﾀなし],1個,2個,3個,4個,5個
                                          ,6個full
 5282 00000D6E 6041              2065             MOV.W   @R4,R0                                  ;
 5283 00000D70 2008              2066             TST     R0,R0
 5284                            2067             TST_BIT_OF KMT_HINBAN_DTMK_900                  ;送信ﾃﾞｰﾀない
 5285 00000D72 8903                   M           BT      KMT_HINBAN_DTMK_900
 5286                            2068     
 5287                            2069     ;;      ADD     #-1,R0                                  ;
 5288                            2070     ;;      MOV.W   R0,@R4                                  ;
 5289                            2071     ;;      MOV     R0,R7                                   ;LOOP
 5290                            2072     ;;
 5291                            2073     ;;      MOV.L   #_KMT_HMI_HINBAN_BUF+__SITM_HINBAN_CNT,R5       ;
 5292                            2074     ;;      MOV.L   #_KMT_HMI_HINBAN_BUF,R6                         ;
 5293                            2075     ;;
 5294                            2076     ;;      MOV.L   #_KMT_HINBAN_TRG_FLG+1*2,R10                    ;
 5295                            2077     ;;      MOV.L   #_KMT_HINBAN_TRG_FLG,R11                        ;
 5296                            2078     ;;
 5297                            2079     ;;
 5298                            2080     ;;KMT_HINBAN_DTMK_100_LOP
 5299                            2081     ;;      TST     R7,R7                                           ;
 5300                            2082     ;;      TST_BIT_OF KMT_HINBAN_DTMK_200                          ;転送終わり[BUFF1が送信対
                                          象だから]
 5301                            2083     ;;
 5302                            2084     ;;      MOV.W   @R10+,R0                                        ;FLG
 5303                            2085     ;;      MOV.W   R0,@R11                                         ;
 5304                            2086     ;;      ADD     #2,R11                                          ;
 5305                            2087     ;;
 5306                            2088     ;;      MOV.W   #__SITM_HINBAN_CNT/2,R3                         ;80word
 5307                            2089     ;;KMT_HINBAN_DTMK_120_LOP
 5308                            2090     ;;      MOV.W   @R5+,R0                                         ;
 5309                            2091     ;;      MOV.W   R0,@R6                                          ;
 5310                            2092     ;;      ADD     #2,R6                                           ;
 5311                            2093     ;;      ADD     #-1,R3                                          ;
 5312                            2094     ;;      TST     R3,R3                                           ;
 5313                            2095     ;;      TST_BIT_ON KMT_HINBAN_DTMK_120_LOP                      ;
 5314                            2096     ;;      ADD     #-1,R7                                          ;
 5315                            2097     ;;      M_BRA   KMT_HINBAN_DTMK_100_LOP                         ;
 5316                            2098     
 5317                            2099     ;;KMT_HINBAN_DTMK_200
 5318                            2100     
 5319 00000D74 D105              2101             MOV.L   #_KMT_HINBAN_TRG_FLG,R1                 ;保留が発生した場合の処理
 5320 00000D76 6011              2102             MOV.W   @R1,R0                                  ;
 5321 00000D78 D502              2103             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5322 00000D7A 2501              2104             MOV.W   R0,@R5                                  ;BIT0orBIT1-->送信部 送信部でｸﾘｱさ
                                          れる
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    60
PROGRAM NAME =

 5323                            2105     
 5324                            2106     
 5325 00000D7C                   2107     KMT_HINBAN_DTMK_900
 5326                            2108     
 5327                            2109             SUB_END
 5328                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5329 00000D7C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5330                            2110             M_RTS
 5331 00000D7E 000B                   M           RTS                             ;RTSの後ろの
 5332 00000D80 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5333                            2111     
 5334                            2112     
 5335                            2113     ;       ***************************
 5336                            2114     ;       ***     buff_TOP_MAKE   ***
 5337                            2115     ;       ***************************
 5338                            2116     ;       OUTPUT R6
 5339                            2117     ;       Output R7
 5340                                     ***** BEGIN-POOL *****
 5341 00000D82 0000                       ALIGNMENT CODE
 5342 00000D84 00000000                   DATA FOR SOURCE-LINE 2059,2103
 5343 00000D88 00000000                   DATA FOR SOURCE-LINE 2064
 5344 00000D8C 00000000                   DATA FOR SOURCE-LINE 2101
 5345                                     ***** END-POOL *****
 5346 00000D90                   2118     _KMT_HINBAN_BUF_MAK1:
 5347                            2119             SUB_START
 5348 00000D90 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5349                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5350                            2120     
 5351 00000D92 D509              2121             MOV.L   #_KMT_HINBAN_TRG_NUM,R5                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5352 00000D94 6051              2122             MOV.W   @R5,R0                                  ;
 5353 00000D96 8806              2123             CMP/EQ  #_HINBAN_BUF_MAX,R0                     ;
 5354 00000D98 8B01              2124             BF      KMT_HINBAN_BUFMK1_100                   ;
 5355 00000D9A 70FE              2125             ADD     #-2,R0                                  ;2つ前に戻す[ﾊﾞﾌｧも]
 5356 00000D9C 2501              2126             MOV.W   R0,@R5                                  ;開始→終了→.....ならば２つ前と一
                                          致するはず
 5357                            2127                                                             ;ﾊﾞﾌｧ6-->4
 5358                            2128                                                             ;ﾊﾞﾌｧ5-->3
 5359                            2129                                                             ;保留しておく
 5360 00000D9E                   2130     KMT_HINBAN_BUFMK1_100:
 5361 00000D9E 9409              2131             MOV.W   #__SITM_HINBAN_CNT,R4                   ;160byte
 5362 00000DA0 340D              2132             DMULS.L R0,R4                                   ;
 5363 00000DA2 021A              2133             STS.L   MACL,R2                                 ;
 5364                            2134     
 5365 00000DA4 D605              2135             MOV.L   #_KMT_HMI_HINBAN_BUF,R6                 ;
 5366 00000DA6 362C              2136             ADD     R2,R6                                   ;
 5367                            2137     
 5368 00000DA8 D705              2138             MOV.L   #_KMT_HINBAN_TRG_FLG,R7                 ;
 5369 00000DAA 4000              2139             SHLL    R0
 5370 00000DAC 370C              2140             ADD     R0,R7                                   ;
 5371                            2141     
 5372                            2142     
 5373                            2143             SUB_END
 5374                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5375 00000DAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5376                            2144             M_RTS
 5377 00000DB0 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    61
PROGRAM NAME =

 5378 00000DB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5379                            2145     ;
 5380                            2146     ;
 5381                            2147     ;       input R6:DST MEM
 5382                            2148     ;
 5383                                     ***** BEGIN-POOL *****
 5384 00000DB4 00A0                       DATA FOR SOURCE-LINE 2131
 5385 00000DB6 0000                       ALIGNMENT CODE
 5386 00000DB8 00000000                   DATA FOR SOURCE-LINE 2121
 5387 00000DBC 00000000                   DATA FOR SOURCE-LINE 2135
 5388 00000DC0 00000000                   DATA FOR SOURCE-LINE 2138
 5389                                     ***** END-POOL *****
 5390 00000DC4                   2149     _HINBAN_START_DATA_MOV:
 5391                            2150             SUB_START
 5392 00000DC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5393                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5394 00000DC6 D704              2151             MOV.L   #_SV0_WORK_STR_FLG,R7   ;2byte作業終了 　0/0以外
 5395 00000DC8 D804              2152             MOV.L   #_SV0SR_WORKER_COD,R8   ;2byte作業者ｺｰﾄﾞBIN
 5396 00000DCA D905              2153             MOV.L   #_SV0SR_ORDER_COD,R9    ;4byte注文ｺｰﾄﾞBIN->ASC
 5397 00000DCC DA05              2154             MOV.L   #_SV0SR_PLAN_CNT,R10    ;4byte計画数BIN
 5398 00000DCE DB06              2155             MOV.L   #_SV0SR_BAD_CNT,R11     ;4byte不良数BIN
 5399 00000DD0 DC06              2156             MOV.L   #_SV0SR_KATA_NAME,R12   ;2byte*7=14byte
 5400 00000DD2 DD07              2157             MOV.L   #_SV0SR_KATA_MEMO,R13   ;2byte*7=14byte
 5401                            2158             M_BRA   HINBAN_COM_DATMOV
 5402 00000DD4 A026                   M           BRA     HINBAN_COM_DATMOV
 5403 00000DD6 0009                   M           NOP
 5404                            2159     
 5405                            2160     
 5406                                     ***** BEGIN-POOL *****
 5407 00000DD8 00000000                   DATA FOR SOURCE-LINE 2151
 5408 00000DDC 00000000                   DATA FOR SOURCE-LINE 2152
 5409 00000DE0 00000000                   DATA FOR SOURCE-LINE 2153
 5410 00000DE4 00000000                   DATA FOR SOURCE-LINE 2154
 5411 00000DE8 00000000                   DATA FOR SOURCE-LINE 2155
 5412 00000DEC 00000000                   DATA FOR SOURCE-LINE 2156
 5413 00000DF0 00000000                   DATA FOR SOURCE-LINE 2157
 5414                                     ***** END-POOL *****
 5415 00000DF4                   2161     _HINBAN_STOP_DATA_MOV:
 5416                            2162             SUB_START
 5417 00000DF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5418                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5419 00000DF6 D704              2163             MOV.L   #_SV0_WORK_STP_FLG,R7   ;2byte作業終了 　0/0以外
 5420 00000DF8 D804              2164             MOV.L   #_SV0SP_WORKER_COD,R8   ;2byte作業者ｺｰﾄﾞBIN
 5421 00000DFA D905              2165             MOV.L   #_SV0SP_ORDER_COD,R9    ;4byte注文ｺｰﾄﾞBIN->ASC
 5422 00000DFC DA05              2166             MOV.L   #_SV0SP_PLAN_CNT,R10    ;4byte計画数BIN
 5423 00000DFE DB06              2167             MOV.L   #_SV0SP_BAD_CNT,R11     ;4byte不良数BIN
 5424 00000E00 DC06              2168             MOV.L   #_SV0SP_KATA_NAME,R12   ;2byte*7=14byte
 5425 00000E02 DD07              2169             MOV.L   #_SV0SP_KATA_MEMO,R13   ;2byte*7=14byte
 5426                            2170             M_BRA   HINBAN_COM_DATMOV
 5427 00000E04 A00E                   M           BRA     HINBAN_COM_DATMOV
 5428 00000E06 0009                   M           NOP
 5429                            2171     
 5430                                     ***** BEGIN-POOL *****
 5431 00000E08 00000000                   DATA FOR SOURCE-LINE 2163
 5432 00000E0C 00000000                   DATA FOR SOURCE-LINE 2164
 5433 00000E10 00000000                   DATA FOR SOURCE-LINE 2165
 5434 00000E14 00000000                   DATA FOR SOURCE-LINE 2166
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    62
PROGRAM NAME =

 5435 00000E18 00000000                   DATA FOR SOURCE-LINE 2167
 5436 00000E1C 00000000                   DATA FOR SOURCE-LINE 2168
 5437 00000E20 00000000                   DATA FOR SOURCE-LINE 2169
 5438                                     ***** END-POOL *****
 5439 00000E24                   2172     HINBAN_COM_DATMOV:
 5440                            2173     
 5441 00000E24 461E              2174             LDC     R6,GBR                                  ;
 5442                            2175     
 5443                            2176     ;       -------- 作業ｺｰﾄﾞ 2byte------------
 5444 00000E26 6085              2177             MOV.W   @R8+,R0                         ;
 5445 00000E28 C118              2178             MOV.W   R0,@(_EQ_WORKER_COD,GBR)        ;
 5446                            2179     
 5447                            2180     ;       --------注文ｺｰﾄﾞ 4byte------------
 5448 00000E2A 6296              2181             MOV.L   @R9+,R2                                 ;
 5449                            2182             FAR_JSR #_BCD4B_ASCII,R0                        ;
 5450 00000E2C D01D                   M           MOV.L   #_BCD4B_ASCII,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5451 00000E2E 400B                   M           JSR     @R0                     ;
 5452 00000E30 0009                   M           NOP                                     ;
 5453                            2183                                                             ;R1,R2,R3,R4 8byte
 5454 00000E32 6013              2184             MOV     R1,R0                                   ;
 5455 00000E34 C100              2185             MOV.W   R0,@(_EQ_ORDER_COD+0*2,GBR)             ;
 5456 00000E36 6023              2186             MOV     R2,R0                                   ;
 5457 00000E38 C101              2187             MOV.W   R0,@(_EQ_ORDER_COD+1*2,GBR)             ;
 5458 00000E3A 6033              2188             MOV     R3,R0                                   ;
 5459 00000E3C C102              2189             MOV.W   R0,@(_EQ_ORDER_COD+2*2,GBR)             ;
 5460 00000E3E 6043              2190             MOV     R4,R0                                   ;
 5461 00000E40 C103              2191             MOV.W   R0,@(_EQ_ORDER_COD+3*2,GBR)             ;
 5462                            2192     
 5463                            2193     ;       --------計画数 4byte------------
 5464 00000E42 60A5              2194             MOV.W   @R10+,R0                                ;
 5465 00000E44 C119              2195             MOV.W   R0,@(_EQ_PLAN_CNT+0*2,GBR)              ;
 5466 00000E46 60A5              2196             MOV.W   @R10+,R0                                ;
 5467 00000E48 C11A              2197             MOV.W   R0,@(_EQ_PLAN_CNT+1*2,GBR)              ;
 5468                            2198     
 5469                            2199     
 5470                            2200     ;       --------不良数 4byte------------
 5471 00000E4A 60B5              2201             MOV.W   @R11+,R0                                ;
 5472 00000E4C C11D              2202             MOV.W   R0,@(_EQ_BAD_CNT+0*2,GBR)               ;
 5473 00000E4E 60B5              2203             MOV.W   @R11+,R0                                ;
 5474 00000E50 C11E              2204             MOV.W   R0,@(_EQ_BAD_CNT+1*2,GBR)               ;
 5475                            2205     
 5476                            2206     ;       --------型名称 14/20byte------------
 5477 00000E52 60C5              2207             MOV.W   @R12+,R0                                ;
 5478 00000E54 C104              2208             MOV.W   R0,@(_EQ_KATA_NAME+0*2,GBR)             ;01
 5479 00000E56 60C5              2209             MOV.W   @R12+,R0                                ;
 5480 00000E58 C105              2210             MOV.W   R0,@(_EQ_KATA_NAME+1*2,GBR)             ;23
 5481 00000E5A 60C5              2211             MOV.W   @R12+,R0                                ;
 5482 00000E5C C106              2212             MOV.W   R0,@(_EQ_KATA_NAME+2*2,GBR)             ;4
 5483 00000E5E 60C5              2213             MOV.W   @R12+,R0                                ;
 5484 00000E60 C107              2214             MOV.W   R0,@(_EQ_KATA_NAME+3*2,GBR)             ;6
 5485 00000E62 60C5              2215             MOV.W   @R12+,R0                                ;
 5486 00000E64 C108              2216             MOV.W   R0,@(_EQ_KATA_NAME+4*2,GBR)             ;8
 5487 00000E66 60C5              2217             MOV.W   @R12+,R0                                ;
 5488 00000E68 C109              2218             MOV.W   R0,@(_EQ_KATA_NAME+5*2,GBR)             ;10
 5489 00000E6A 60C5              2219             MOV.W   @R12+,R0                                ;
 5490 00000E6C C10A              2220             MOV.W   R0,@(_EQ_KATA_NAME+6*2,GBR)             ;12
 5491                            2221     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    63
PROGRAM NAME =

 5492 00000E6E 200A              2222             XOR     R0,R0
 5493 00000E70 C10B              2223             MOV.W   R0,@(_EQ_KATA_NAME+7*2,GBR)             ;
 5494 00000E72 C10C              2224             MOV.W   R0,@(_EQ_KATA_NAME+8*2,GBR)             ;
 5495 00000E74 C10D              2225             MOV.W   R0,@(_EQ_KATA_NAME+9*2,GBR)             ;
 5496                            2226     
 5497                            2227     ;       --------メモ 14/20byte------------
 5498 00000E76 60D5              2228             MOV.W   @R13+,R0                                ;
 5499 00000E78 C10E              2229             MOV.W   R0,@(_EQ_KATA_MEMO+0*2,GBR)             ;0
 5500 00000E7A 60D5              2230             MOV.W   @R13+,R0                                ;
 5501 00000E7C C10F              2231             MOV.W   R0,@(_EQ_KATA_MEMO+1*2,GBR)             ;2
 5502 00000E7E 60D5              2232             MOV.W   @R13+,R0                                ;
 5503 00000E80 C110              2233             MOV.W   R0,@(_EQ_KATA_MEMO+2*2,GBR)             ;4
 5504 00000E82 60D5              2234             MOV.W   @R13+,R0                                ;
 5505 00000E84 C111              2235             MOV.W   R0,@(_EQ_KATA_MEMO+3*2,GBR)             ;6
 5506 00000E86 60D5              2236             MOV.W   @R13+,R0                                ;
 5507 00000E88 C112              2237             MOV.W   R0,@(_EQ_KATA_MEMO+4*2,GBR)             ;8
 5508 00000E8A 60D5              2238             MOV.W   @R13+,R0                                ;
 5509 00000E8C C113              2239             MOV.W   R0,@(_EQ_KATA_MEMO+5*2,GBR)             ;10
 5510 00000E8E 60D5              2240             MOV.W   @R13+,R0                                ;
 5511 00000E90 C114              2241             MOV.W   R0,@(_EQ_KATA_MEMO+6*2,GBR)             ;12,13
 5512                            2242     
 5513 00000E92 200A              2243             XOR     R0,R0
 5514 00000E94 C115              2244             MOV.W   R0,@(_EQ_KATA_MEMO+7*2,GBR)             ;14,15
 5515 00000E96 C116              2245             MOV.W   R0,@(_EQ_KATA_MEMO+8*2,GBR)             ;16
 5516 00000E98 C117              2246             MOV.W   R0,@(_EQ_KATA_MEMO+9*2,GBR)             ;18,19
 5517                            2247     
 5518                            2248     
 5519                            2249     ;       ----MAIN CPUB INTERFACE FLG----------
 5520 00000E9A 200A              2250             XOR     R0,R0
 5521 00000E9C 2701              2251             MOV.W   R0,@R7                  ;FLG=0-CLR
 5522                            2252     
 5523                            2253             SUB_END
 5524                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5525 00000E9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5526                            2254             M_RTS
 5527 00000EA0 000B                   M           RTS                             ;RTSの後ろの
 5528 00000EA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5529                            2255     
 5530                            2256     ;       *******************************************
 5531                            2257     ;       ***                                     ***
 5532                            2258     ;       ***     input R2                        ***
 5533                            2259     ;       ***     output R1,R2,R3,R4              ***
 5534                            2260     ;       ***                                     ***
 5535                            2261     ;       *******************************************
 5536                            2262     ;       +data =>ascii
 5537                            2263     ;       0~9の数値だけ
 5538                            2264     ;
 5539                            2265     ;
 5540                                     ***** BEGIN-POOL *****
 5541 00000EA4 00000000                   DATA FOR SOURCE-LINE 2182
 5542                                     ***** END-POOL *****
 5543          00000030          2266     __ASCII_0       .EQU    H'30            ;
 5544                            2267     ;
 5545 00000EA8                   2268     _BCD4B_ASCII:
 5546                            2269             SUB_START
 5547 00000EA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5548                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    64
PROGRAM NAME =

 5549                            2270             PUSH_REG1 R5
 5550 00000EAA 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
 5551                                 M                                           ;REG=>[SP]
 5552                                 M                                           ;"-4" FF,FF,FF,FC
 5553                            2271     
 5554                            2272     ;HHH,HHL,HLH,HLL,LHH,LHL,LLH,LLL
 5555                            2273     ;
 5556                            2274     ;
 5557                            2275     ;
 5558 00000EAC 6523              2276             MOV     R2,R5                   ;
 5559                            2277     
 5560                            2278     ;       ------------------------
 5561 00000EAE 6053              2279             MOV     R5,R0                   ;
 5562 00000EB0 C90F              2280             AND     #H'0F,R0                ;BIT3~BIT0
 5563 00000EB2 7030              2281             ADD     #__ASCII_0,R0           ;
 5564 00000EB4 6403              2282             MOV     R0,R4                   ;1byte
 5565 00000EB6 6053              2283             MOV     R5,R0                   ;
 5566 00000EB8 4009              2284             SHLR2   R0                      ;
 5567 00000EBA 4009              2285             SHLR2   R0                      ;
 5568 00000EBC C90F              2286             AND     #H'0F,R0                ;BIT7~BIT4
 5569 00000EBE 7030              2287             ADD     #__ASCII_0,R0           ;
 5570 00000EC0 4018              2288             SHLL8   R0                      ;
 5571 00000EC2 240B              2289             OR      R0,R4                   ;2byte
 5572                            2290     
 5573                            2291     ;       ------------------------
 5574 00000EC4 4519              2292             SHLR8   R5                      ;
 5575 00000EC6 6053              2293             MOV     R5,R0                   ;
 5576 00000EC8 C90F              2294             AND     #H'0F,R0                ;BIT11~BIT8
 5577 00000ECA 7030              2295             ADD     #__ASCII_0,R0           ;
 5578 00000ECC 6303              2296             MOV     R0,R3                   ;3byte
 5579 00000ECE 6053              2297             MOV     R5,R0                   ;
 5580 00000ED0 4009              2298             SHLR2   R0                      ;
 5581 00000ED2 4009              2299             SHLR2   R0                      ;
 5582 00000ED4 C90F              2300             AND     #H'0F,R0                ;BIT15~BIT12
 5583 00000ED6 7030              2301             ADD     #__ASCII_0,R0           ;
 5584 00000ED8 4018              2302             SHLL8   R0                      ;
 5585 00000EDA 230B              2303             OR      R0,R3                   ;4byte
 5586                            2304     
 5587                            2305     ;       ------------------------
 5588 00000EDC 4519              2306             SHLR8   R5                      ;
 5589 00000EDE 6053              2307             MOV     R5,R0                   ;
 5590 00000EE0 C90F              2308             AND     #H'0F,R0                ;BIT19~BIT16
 5591 00000EE2 7030              2309             ADD     #__ASCII_0,R0           ;
 5592 00000EE4 6203              2310             MOV     R0,R2                   ;5byte
 5593 00000EE6 6053              2311             MOV     R5,R0                   ;
 5594 00000EE8 4009              2312             SHLR2   R0                      ;
 5595 00000EEA 4009              2313             SHLR2   R0                      ;
 5596 00000EEC C90F              2314             AND     #H'0F,R0                ;BIT23~BIT20
 5597 00000EEE 7030              2315             ADD     #__ASCII_0,R0           ;
 5598 00000EF0 4018              2316             SHLL8   R0                      ;
 5599 00000EF2 220B              2317             OR      R0,R2                   ;6byte
 5600                            2318     
 5601                            2319     ;       ------------------------
 5602 00000EF4 4519              2320             SHLR8   R5                      ;
 5603 00000EF6 6053              2321             MOV     R5,R0                   ;
 5604 00000EF8 C90F              2322             AND     #H'0F,R0                ;BIT27~BIT24
 5605 00000EFA 7030              2323             ADD     #__ASCII_0,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    65
PROGRAM NAME =

 5606 00000EFC 6103              2324             MOV     R0,R1                   ;7byte
 5607 00000EFE 6053              2325             MOV     R5,R0                   ;
 5608 00000F00 4009              2326             SHLR2   R0                      ;
 5609 00000F02 4009              2327             SHLR2   R0                      ;
 5610 00000F04 C90F              2328             AND     #H'0F,R0                ;BIT30~BIT28
 5611 00000F06 7030              2329             ADD     #__ASCII_0,R0           ;
 5612 00000F08 4018              2330             SHLL8   R0                      ;
 5613 00000F0A 210B              2331             OR      R0,R1                   ;8byte
 5614                            2332     
 5615                            2333             POP_REG1 R5
 5616                                 M                                   ; RE"+4" 00,00,00,04
 5617 00000F0C 65F6                   M           MOV.L   @R15+,R5        ;
 5618                            2334             SUB_END
 5619                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5620 00000F0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5621                            2335             M_RTS
 5622 00000F10 000B                   M           RTS                             ;RTSの後ろの
 5623 00000F12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5624                            2336     
 5625                            2337     ;       *******************************************
 5626                            2338     ;       ***                                     ***
 5627                            2339     ;       ***             品番転送処理            ***
 5628                            2340     ;       ***             (write)                 ***
 5629                            2341     ;       *******************************************
 5630                            2342     ;       input   _KMT_HINBAN_CHGF=bit0,bit1
 5631                            2343     ;       output  _KMT_HINBAN_CHGF=0
 5632 00000F14                   2344             .ALIGN  4                                       ;
 5633                            2345     
 5634 00000F14                   2346     _KMT_HINBAN_STEP
 5635                            2347             SUB_START
 5636 00000F14 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5637                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5638                            2348     
 5639                            2349     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5640                            2350     ;;      MOV.L   #_KMT_HINBAN_SIGTIM,R1                  ;
 5641                            2351     ;;      MOV.W   @R1,R0                                  ;
 5642                            2352     ;;      TST     R0,R0                                   ;
 5643                            2353     ;;      TST_BIT_OF KMT_HINBAN_STP050                    ;
 5644                            2354     ;;      ADD     #-1,R0                                  ;
 5645                            2355     ;;      MOV.W   R0,@R1                                  ;
 5646                            2356     ;;KMT_HINBAN_STP050:
 5647                            2357     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5648                            2358     
 5649 00000F16 D105              2359             MOV.L   #_KMT_HINBAN_FLG,R1                     ;
 5650 00000F18 6011              2360             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 5651 00000F1A C80E              2361             TST     #(BIT3+BIT2+BIT1),R0                    ;BIT2=1 ｼｰｹﾝｽへ出力
 5652                            2362             TST_BIT_ON KMT_HINBAN_STP300                    ;
 5653 00000F1C 8B44                   M           BF      KMT_HINBAN_STP300
 5654                            2363     
 5655 00000F1E D504              2364             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5656 00000F20 6051              2365             MOV.W   @R5,R0                                  ;MAIN==>INT
 5657 00000F22 2008              2366             TST     R0,R0                                   ;
 5658                            2367             TST_BIT_ON KMT_HINBAN_STP020                    ;
 5659 00000F24 8B06                   M           BF      KMT_HINBAN_STP020
 5660                            2368             M_BRA   KMT_HINBAN_STPEXT                       ;
 5661 00000F26 A092                   M           BRA     KMT_HINBAN_STPEXT
 5662 00000F28 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    66
PROGRAM NAME =

 5663                            2369     
 5664                                     ***** BEGIN-POOL *****
 5665 00000F2A 0000                       ALIGNMENT CODE
 5666 00000F2C 00000000                   DATA FOR SOURCE-LINE 2359
 5667 00000F30 00000000                   DATA FOR SOURCE-LINE 2364
 5668                                     ***** END-POOL *****
 5669 00000F34                   2370     KMT_HINBAN_STP020:
 5670                            2371     
 5671 00000F34 D10C              2372             MOV.L   #_KMT_HINBAN_SEL,R1                     ;BIT0=1開始・BIT1=1終了
 5672 00000F36 2101              2373             MOV.W   R0,@R1                                  ;
 5673                            2374     
 5674 00000F38 200A              2375             XOR     R0,R0                                   ;
 5675 00000F3A 2501              2376             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 5676                            2377     
 5677 00000F3C 200A              2378             XOR     R0,R0
 5678 00000F3E D10B              2379             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1
                                          ;0:固定 (SIT_MEMを対象)
 5679 00000F40 2101              2380             MOV.W   R0,@R1                                  ;
 5680                            2381     
 5681 00000F42 900F              2382             MOV.W   #__SITM_HINBAN_TOP/2,R0                                         ;ADR+132*2
                                          byte adr/2=132
 5682 00000F44 D10A              2383             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1       ;
 5683 00000F46 2101              2384             MOV.W   R0,@R1                                  ;
 5684                            2385     
 5685 00000F48 900D              2386             MOV.W   #__SITM_HINBAN_CNT/2,R0                 ;160byte/2=80word
 5686 00000F4A D10A              2387             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1                  ;M
                                          AX 1~256 word
 5687 00000F4C 2101              2388             MOV.W   R0,@R1
 5688                            2389     
 5689 00000F4E D50A              2390             MOV.L   #_KMT_HMI_HINBAN_BUF,R5                                                 ;8
                                          0word
 5690 00000F50 D60A              2391             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R6                  ;
 5691 00000F52 9308              2392             MOV.W   #__SITM_HINBAN_CNT/2,R3                                                 ;
 5692                            2393             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R0,CNT_REG=R3            ;
 5693 00000F54                        M   JMP000006:                                      ;
 5694 00000F54 2338                   M           TST     R3,R3   ;
 5695                                 M           TST_BIT_OF JMP100006            ;
 5696 00000F56 8913                   M           BT      JMP100006
 5697 00000F58 6055                   M           MOV.W   @R5+,R0 ;
 5698 00000F5A 2601                   M           MOV.W   R0,@R6  ;
 5699 00000F5C 7602                   M           ADD     #2,R6   ;
 5700 00000F5E 73FF                   M           ADD     #H'FF,R3                ;
 5701                                 M           M_BRA   JMP000006                       ;
 5702 00000F60 AFF8                   M           BRA     JMP000006
 5703 00000F62 0009                   M           NOP
 5704                                 M   ***** BEGIN-POOL *****
 5705 00000F64 0084                   M   DATA FOR SOURCE-LINE 2382
 5706 00000F66 0050                   M   DATA FOR SOURCE-LINE 2386,2392
 5707 00000F68 00000000               M   DATA FOR SOURCE-LINE 2372
 5708 00000F6C 00000000               M   DATA FOR SOURCE-LINE 2379
 5709 00000F70 00000000               M   DATA FOR SOURCE-LINE 2383
 5710 00000F74 00000000               M   DATA FOR SOURCE-LINE 2387
 5711 00000F78 00000000               M   DATA FOR SOURCE-LINE 2390
 5712 00000F7C 00000000               M   DATA FOR SOURCE-LINE 2391
 5713                                 M   ***** END-POOL *****
 5714 00000F80                        M   JMP100006:                                      ;
 5715                            2394     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    67
PROGRAM NAME =

 5716                            2395     
 5717 00000F80 900A              2396             MOV.W   #__KMTCMD_WR,R0
 5718 00000F82 D106              2397             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1                  ;
 5719 00000F84 2101              2398             MOV.W   R0,@R1                                                                  ;W
                                          RITE
 5720                            2399     
 5721                            2400             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 5722 00000F86 D106                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5723 00000F88 6011                   M           MOV.W   @R1,R0          ;
 5724 00000F8A CB02                   M           OR      #BIT1,R0                ;
 5725 00000F8C 2101                   M           MOV.W   R0,@R1          ;
 5726                            2401     
 5727                            2402     
 5728                            2403     ;-----------------------------aaaa----------------------------------------
 5729                            2404             FAR_JSR #_HINBAN_DATA_SFT,R0
 5730 00000F8E D005                   M           MOV.L   #_HINBAN_DATA_SFT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5731 00000F90 400B                   M           JSR     @R0                     ;
 5732 00000F92 0009                   M           NOP                                     ;
 5733                            2405             M_BRA   KMT_HINBAN_STPEXT
 5734 00000F94 A05B                   M           BRA     KMT_HINBAN_STPEXT
 5735 00000F96 0009                   M           NOP
 5736                            2406     
 5737                                     ***** BEGIN-POOL *****
 5738 00000F98 0001                       DATA FOR SOURCE-LINE 2396
 5739 00000F9A 0000                       ALIGNMENT CODE
 5740 00000F9C 00000000                   DATA FOR SOURCE-LINE 2397
 5741 00000FA0 00000000                   DATA FOR SOURCE-LINE 2400
 5742 00000FA4 00000000                   DATA FOR SOURCE-LINE 2404
 5743                                     ***** END-POOL *****
 5744 00000FA8                   2407     KMT_HINBAN_STP300
 5745 00000FA8 D10C              2408             MOV.L   #_KMT_HINBAN_FLG,R1                                             ;
 5746 00000FAA 6011              2409             MOV.W   @R1,R0                                                          ;BIT1=1 EV
                                          ENT終了待ち
 5747 00000FAC C808              2410             TST     #BIT3,R0                                                        ;OFF保証
 5748                            2411             TST_BIT_ON KMT_HINBAN_STP500                                            ;
 5749 00000FAE 8B47                   M           BF      KMT_HINBAN_STP500
 5750                            2412     
 5751 00000FB0 C804              2413             TST     #BIT2,R0
 5752                            2414             TST_BIT_ON KMT_HINBAN_STP400                                            ;ON保証
 5753 00000FB2 8B2B                   M           BF      KMT_HINBAN_STP400
 5754                            2415     
 5755 00000FB4 D10A              2416             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1          ;
 5756 00000FB6 6011              2417             MOV.W   @R1,R0                                                          ;
 5757 00000FB8 2008              2418             TST     R0,R0                                                           ;
 5758                            2419             TST_BIT_ON KMT_HINBAN_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 5759 00000FBA 8B48                   M           BF      KMT_HINBAN_STPEXT
 5760                            2420     
 5761                            2421             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT2,WKREG=R1      ;bit-set
 5762 00000FBC D107                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5763 00000FBE 6011                   M           MOV.W   @R1,R0          ;
 5764 00000FC0 CB04                   M           OR      #BIT2,R0                ;
 5765 00000FC2 2101                   M           MOV.W   R0,@R1          ;
 5766                            2422     
 5767 00000FC4 D107              2423             MOV.L   #_KMT_HINBAN_SEL,R1                     ;BIT0=1開始・BIT1=1終了
 5768 00000FC6 6011              2424             MOV.W   @R1,R0                                  ;
 5769 00000FC8 C801              2425             TST     #BIT0,R0                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    68
PROGRAM NAME =

 5770                            2426             TST_BIT_OF KMT_HINBAN_STP320
 5771 00000FCA 890F                   M           BT      KMT_HINBAN_STP320
 5772                            2427     ;       ------ 開始イベント---
 5773                            2428             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R2        ;
                                          開始イベント
 5774 00000FCC D106                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5775 00000FCE 6011                   M           MOV.W   @R1,R0          ;
 5776 00000FD0 9203                   M           MOV.W   #(BIT4),R2              ;
 5777 00000FD2 202B                   M           OR      R2,R0           ;
 5778 00000FD4 2101                   M           MOV.W   R0,@R1          ;
 5779                            2429             M_BRA   KMT_HINBAN_STP340                                               ;
 5780 00000FD6 A00E                   M           BRA     KMT_HINBAN_STP340
 5781 00000FD8 0009                   M           NOP
 5782                                     ***** BEGIN-POOL *****
 5783 00000FDA 0010                       DATA FOR SOURCE-LINE 2428
 5784 00000FDC 00000000                   DATA FOR SOURCE-LINE 2408,2421
 5785 00000FE0 00000000                   DATA FOR SOURCE-LINE 2416
 5786 00000FE4 00000000                   DATA FOR SOURCE-LINE 2423
 5787 00000FE8 00000000                   DATA FOR SOURCE-LINE 2428
 5788                                     ***** END-POOL *****
 5789 00000FEC                   2430     KMT_HINBAN_STP320
 5790                            2431             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT5),WKRG1=R1,WKRG2=R2        ;
                                          終了イベント
 5791 00000FEC D105                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5792 00000FEE 6011                   M           MOV.W   @R1,R0          ;
 5793 00000FF0 9206                   M           MOV.W   #(BIT5),R2              ;
 5794 00000FF2 202B                   M           OR      R2,R0           ;
 5795 00000FF4 2101                   M           MOV.W   R0,@R1          ;
 5796 00000FF6                   2432     KMT_HINBAN_STP340
 5797                            2433     
 5798 00000FF6 9004              2434             MOV.W   #__HINBAN_SIG_ONTIMSV,R0                        ;
 5799 00000FF8 D103              2435             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5800 00000FFA 2101              2436             MOV.W   R0,@R1                                          ;
 5801                            2437             M_BRA   KMT_HINBAN_STPEXT                               ;ON保証ﾀｲﾏ
 5802 00000FFC A027                   M           BRA     KMT_HINBAN_STPEXT
 5803 00000FFE 0009                   M           NOP
 5804                            2438     
 5805                                     ***** BEGIN-POOL *****
 5806 00001000 0020                       DATA FOR SOURCE-LINE 2431
 5807 00001002 0064                       DATA FOR SOURCE-LINE 2434
 5808 00001004 00000000                   DATA FOR SOURCE-LINE 2431
 5809 00001008 00000000                   DATA FOR SOURCE-LINE 2435
 5810                                     ***** END-POOL *****
 5811 0000100C                   2439     KMT_HINBAN_STP400
 5812                            2440     
 5813 0000100C D109              2441             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5814 0000100E 6011              2442             MOV.W   @R1,R0                                          ;
 5815 00001010 2008              2443             TST     R0,R0                                                   ;
 5816                            2444             TST_BIT_ON KMT_HINBAN_STPEXT                                    ;
 5817 00001012 8B1C                   M           BF      KMT_HINBAN_STPEXT
 5818                            2445     
 5819                            2446             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT5+BIT4),WKRG1=R1,WKRG2=R4  ;
                                          開始または終了
 5820 00001014 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5821 00001016 6011                   M           MOV.W   @R1,R0          ;
 5822 00001018 940A                   M           MOV.W   #LWORD ~(BIT5+BIT4),R4  ;
 5823 0000101A 2049                   M           AND     R4,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    69
PROGRAM NAME =

 5824 0000101C 2101                   M           MOV.W   R0,@R1          ;
 5825                            2447             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT3,WKREG=R1      ;bit-set
 5826 0000101E D107                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5827 00001020 6011                   M           MOV.W   @R1,R0          ;
 5828 00001022 CB08                   M           OR      #BIT3,R0                ;
 5829 00001024 2101                   M           MOV.W   R0,@R1          ;
 5830                            2448     
 5831                            2449     
 5832 00001026 9004              2450             MOV.W   #__HINBAN_SIG_OFTIMSV,R0                        ;
 5833 00001028 D102              2451             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5834 0000102A 2101              2452             MOV.W   R0,@R1
 5835                            2453             M_BRA   KMT_HINBAN_STPEXT                               ;OFF保証ﾀｲﾏ
 5836 0000102C A00F                   M           BRA     KMT_HINBAN_STPEXT
 5837 0000102E 0009                   M           NOP
 5838                            2454     
 5839                                     ***** BEGIN-POOL *****
 5840 00001030 FFCF                       DATA FOR SOURCE-LINE 2446
 5841 00001032 0064                       DATA FOR SOURCE-LINE 2450
 5842 00001034 00000000                   DATA FOR SOURCE-LINE 2441,2451
 5843 00001038 00000000                   DATA FOR SOURCE-LINE 2446
 5844 0000103C 00000000                   DATA FOR SOURCE-LINE 2447
 5845                                     ***** END-POOL *****
 5846 00001040                   2455     KMT_HINBAN_STP500:
 5847                            2456     
 5848 00001040 D104              2457             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5849 00001042 6011              2458             MOV.W   @R1,R0                                          ;
 5850 00001044 2008              2459             TST     R0,R0                                           ;
 5851                            2460             TST_BIT_ON KMT_HINBAN_STPEXT                            ;
 5852 00001046 8B02                   M           BF      KMT_HINBAN_STPEXT
 5853                            2461     
 5854 00001048 200A              2462             XOR     R0,R0
 5855 0000104A D103              2463             MOV.L   #_KMT_HINBAN_FLG,R1                             ;
 5856 0000104C 2101              2464             MOV.W   R0,@R1                                          ;
 5857                            2465     
 5858                            2466     
 5859 0000104E                   2467     KMT_HINBAN_STPEXT
 5860                            2468             SUB_END
 5861                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5862 0000104E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5863                            2469             M_RTS
 5864 00001050 000B                   M           RTS                             ;RTSの後ろの
 5865 00001052 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5866                            2470     
 5867                            2471     
 5868                            2472     ;       *******************************************
 5869                            2473     ;       ***                                     ***
 5870                            2474     ;       ***                                     ***
 5871                            2475     ;       ***                                     ***
 5872                            2476     ;       *******************************************
 5873                                     ***** BEGIN-POOL *****
 5874 00001054 00000000                   DATA FOR SOURCE-LINE 2457
 5875 00001058 00000000                   DATA FOR SOURCE-LINE 2463
 5876                                     ***** END-POOL *****
 5877 0000105C                   2477     _HINBAN_DATA_SFT:
 5878                            2478             SUB_START
 5879 0000105C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5880                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    70
PROGRAM NAME =

 5881 0000105E D40D              2479             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[ﾃﾞｰﾀなし],1個,2個,3個,4個,5個
                                          ,6個full
 5882 00001060 6041              2480             MOV.W   @R4,R0                                  ;
 5883 00001062 2008              2481             TST     R0,R0
 5884                            2482             TST_BIT_OF KMT_HINBAN_DTSFT_900                 ;送信ﾃﾞｰﾀない
 5885 00001064 8921                   M           BT      KMT_HINBAN_DTSFT_900
 5886                            2483     
 5887 00001066 70FF              2484             ADD     #-1,R0                                  ;
 5888 00001068 2401              2485             MOV.W   R0,@R4                                  ;
 5889 0000106A 6703              2486             MOV     R0,R7                                   ;LOOP
 5890                            2487     
 5891 0000106C D50A              2488             MOV.L   #_KMT_HMI_HINBAN_BUF+__SITM_HINBAN_CNT,R5       ;
 5892 0000106E D60B              2489             MOV.L   #_KMT_HMI_HINBAN_BUF,R6                         ;
 5893                            2490     
 5894 00001070 DA0B              2491             MOV.L   #_KMT_HINBAN_TRG_FLG+1*2,R10                    ;
 5895 00001072 DB0C              2492             MOV.L   #_KMT_HINBAN_TRG_FLG,R11                        ;
 5896                            2493     
 5897 00001074                   2494     KMT_HINBAN_DTSFT_100_LOP
 5898 00001074 2778              2495             TST     R7,R7                                           ;
 5899                            2496             TST_BIT_OF KMT_HINBAN_DTSFT_200                         ;転送終わり[BUFF1が送信対
                                          象だから]
 5900 00001076 8917                   M           BT      KMT_HINBAN_DTSFT_200
 5901                            2497     
 5902 00001078 60A5              2498             MOV.W   @R10+,R0                                        ;FLG
 5903 0000107A 2B01              2499             MOV.W   R0,@R11                                         ;
 5904 0000107C 7B02              2500             ADD     #2,R11                                          ;
 5905                            2501     
 5906 0000107E 9308              2502             MOV.W   #__SITM_HINBAN_CNT/2,R3                         ;80word
 5907 00001080                   2503     KMT_HINBAN_DTSFT_120_LOP
 5908 00001080 6055              2504             MOV.W   @R5+,R0                                         ;
 5909 00001082 2601              2505             MOV.W   R0,@R6                                          ;
 5910 00001084 7602              2506             ADD     #2,R6                                           ;
 5911 00001086 73FF              2507             ADD     #-1,R3                                          ;
 5912 00001088 2338              2508             TST     R3,R3                                           ;
 5913                            2509             TST_BIT_ON KMT_HINBAN_DTSFT_120_LOP                     ;
 5914 0000108A 8BF9                   M           BF      KMT_HINBAN_DTSFT_120_LOP
 5915 0000108C 77FF              2510             ADD     #-1,R7                                          ;
 5916                            2511             M_BRA   KMT_HINBAN_DTSFT_100_LOP                        ;
 5917 0000108E AFF1                   M           BRA     KMT_HINBAN_DTSFT_100_LOP
 5918 00001090 0009                   M           NOP
 5919                            2512     
 5920                                     ***** BEGIN-POOL *****
 5921 00001092 0050                       DATA FOR SOURCE-LINE 2502
 5922 00001094 00000000                   DATA FOR SOURCE-LINE 2479
 5923 00001098 00000000                   DATA FOR SOURCE-LINE 2488
 5924 0000109C 00000000                   DATA FOR SOURCE-LINE 2489
 5925 000010A0 00000000                   DATA FOR SOURCE-LINE 2491
 5926 000010A4 00000000                   DATA FOR SOURCE-LINE 2492
 5927                                     ***** END-POOL *****
 5928 000010A8                   2513     KMT_HINBAN_DTSFT_200
 5929 000010A8 0009              2514             NOP
 5930 000010AA                   2515     KMT_HINBAN_DTSFT_900:
 5931                            2516     
 5932                            2517     
 5933                            2518             SUB_END
 5934                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5935 000010AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    71
PROGRAM NAME =

 5936                            2519             M_RTS
 5937 000010AC 000B                   M           RTS                             ;RTSの後ろの
 5938 000010AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5939                            2520     
 5940                            2521     
 5941                            2522     ;       ***************************************************
 5942                            2523     ;       ***                                             ***
 5943                            2524     ;       ***             消耗品データ作成、転送          ***
 5944                            2525     ;       ***             (write)                         ***
 5945                            2526     ;       ***************************************************
 5946 000010B0                   2527     _KOMTRAX_SYOUMO_MAIN
 5947                            2528             SUB_START
 5948 000010B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5949                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5950                            2529     
 5951                            2530             FAR_JSR #_KMT_SYOUMO_MAKE,R0            ;
 5952 000010B2 D004                   M           MOV.L   #_KMT_SYOUMO_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5953 000010B4 400B                   M           JSR     @R0                     ;
 5954 000010B6 0009                   M           NOP                                     ;
 5955                            2531     
 5956                            2532             FAR_JSR #_KMT_SYOUMO_STEP,R0            ;
 5957 000010B8 D003                   M           MOV.L   #_KMT_SYOUMO_STEP,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5958 000010BA 400B                   M           JSR     @R0                     ;
 5959 000010BC 0009                   M           NOP                                     ;
 5960                            2533     
 5961                            2534             SUB_END
 5962                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5963 000010BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5964                            2535             M_RTS
 5965 000010C0 000B                   M           RTS                             ;RTSの後ろの
 5966 000010C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5967                            2536     
 5968                            2537     
 5969                            2538     ;       *******************************************
 5970                            2539     ;       ***                                     ***
 5971                            2540     ;       ***             消耗品データ作成        ***
 5972                            2541     ;       ***             (write)                 ***
 5973                            2542     ;       *******************************************
 5974                                     ***** BEGIN-POOL *****
 5975 000010C4 00000000                   DATA FOR SOURCE-LINE 2530
 5976 000010C8 00000000                   DATA FOR SOURCE-LINE 2532
 5977                                     ***** END-POOL *****
 5978 000010CC                   2543     _KMT_SYOUMO_MAKE:
 5979                            2544             SUB_START
 5980 000010CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5981                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5982                            2545     
 5983 000010CE 200A              2546             XOR     R0,R0
 5984 000010D0 D502              2547             MOV.L   #_KMT_SYOUMO_CHGF,R5            ;
 5985 000010D2 2501              2548             MOV.W   R0,@R5                          ;MAIN==>INT
 5986                            2549     
 5987                            2550     
 5988                            2551             SUB_END
 5989                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5990 000010D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5991                            2552             M_RTS
 5992 000010D6 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    72
PROGRAM NAME =

 5993 000010D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5994                            2553     
 5995                            2554     
 5996                            2555     ;       *******************************************
 5997                            2556     ;       ***                                     ***
 5998                            2557     ;       ***             消耗転送処理            ***
 5999                            2558     ;       ***             (write)                 ***
 6000                            2559     ;       *******************************************
 6001                                     ***** BEGIN-POOL *****
 6002 000010DA 0000                       ALIGNMENT CODE
 6003 000010DC 00000000                   DATA FOR SOURCE-LINE 2547
 6004                                     ***** END-POOL *****
 6005 000010E0                   2560             .ALIGN  4                                       ;
 6006                            2561     
 6007 000010E0                   2562     _KMT_SYOUMO_STEP
 6008                            2563             SUB_START
 6009 000010E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6010                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6011                            2564     
 6012                            2565     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 6013                            2566     ;;      MOV.L   #_KMT_SYOUMO_SIGTIM,R1                  ;
 6014                            2567     ;;      MOV.W   @R1,R0                                  ;
 6015                            2568     ;;      TST     R0,R0                                   ;
 6016                            2569     ;;      TST_BIT_OF KMT_SYOUMO_STP050                    ;
 6017                            2570     ;;      ADD     #-1,R0                                  ;
 6018                            2571     ;;      MOV.W   R0,@R1                                  ;
 6019                            2572     ;;KMT_SYOUMO_STP050:
 6020                            2573     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 6021                            2574     
 6022 000010E2 D110              2575             MOV.L   #_KMT_SYOUMO_FLG,R1                     ;
 6023 000010E4 6011              2576             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 6024 000010E6 C80E              2577             TST     #(BIT3+BIT2+BIT1),R0                    ;BIT2=1 ｼｰｹﾝｽへ出力
 6025                            2578             TST_BIT_ON KMT_SYOUMO_STP300                    ;
 6026 000010E8 8B38                   M           BF      KMT_SYOUMO_STP300
 6027                            2579     
 6028 000010EA D50F              2580             MOV.L   #_KMT_SYOUMO_CHGF,R5                    ;
 6029 000010EC 6051              2581             MOV.W   @R5,R0                                  ;MAIN==>INT
 6030 000010EE 2008              2582             TST     R0,R0                                   ;
 6031                            2583             TST_BIT_OF KMT_SYOUMO_STPEXT                    ;
 6032 000010F0 8977                   M           BT      KMT_SYOUMO_STPEXT
 6033                            2584     
 6034 000010F2 200A              2585             XOR     R0,R0                                   ;
 6035 000010F4 2501              2586             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 6036                            2587     
 6037 000010F6 200A              2588             XOR     R0,R0
 6038 000010F8 D10C              2589             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1
                                          ;0:固定 (SIT_MEMを対象)
 6039 000010FA 2101              2590             MOV.W   R0,@R1                                  ;
 6040                            2591     
 6041 000010FC 900F              2592             MOV.W   #__SITM_SYOUMO_TOP/2,R0                                         ;ADR+132*2
                                          byte adr/2=132
 6042 000010FE D10C              2593             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1       ;
 6043 00001100 2101              2594             MOV.W   R0,@R1                                  ;
 6044                            2595     
 6045 00001102 900D              2596             MOV.W   #__SITM_SYOUMO_CNT/2,R0                 ;160byte/2=80word
 6046 00001104 D10B              2597             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1                  ;M
                                          AX 1~256 word
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    73
PROGRAM NAME =

 6047 00001106 2101              2598             MOV.W   R0,@R1
 6048                            2599     
 6049 00001108 D50B              2600             MOV.L   #_KMT_HMI_SYOUMO_DAT,R5                                                 ;8
                                          0word
 6050 0000110A D60C              2601             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R6                  ;
 6051 0000110C 9308              2602             MOV.W   #__SITM_SYOUMO_CNT/2,R3                                                 ;
 6052                            2603             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R0,CNT_REG=R3            ;
 6053 0000110E                        M   JMP000007:                                      ;
 6054 0000110E 2338                   M           TST     R3,R3   ;
 6055                                 M           TST_BIT_OF JMP100007            ;
 6056 00001110 8916                   M           BT      JMP100007
 6057 00001112 6055                   M           MOV.W   @R5+,R0 ;
 6058 00001114 2601                   M           MOV.W   R0,@R6  ;
 6059 00001116 7602                   M           ADD     #2,R6   ;
 6060 00001118 73FF                   M           ADD     #H'FF,R3                ;
 6061                                 M           M_BRA   JMP000007                       ;
 6062 0000111A AFF8                   M           BRA     JMP000007
 6063 0000111C 0009                   M           NOP
 6064                                 M   ***** BEGIN-POOL *****
 6065 0000111E 0064                   M   DATA FOR SOURCE-LINE 2592
 6066 00001120 0020                   M   DATA FOR SOURCE-LINE 2596,2602
 6067 00001122 0000                   M   ALIGNMENT CODE
 6068 00001124 00000000               M   DATA FOR SOURCE-LINE 2575
 6069 00001128 00000000               M   DATA FOR SOURCE-LINE 2580
 6070 0000112C 00000000               M   DATA FOR SOURCE-LINE 2589
 6071 00001130 00000000               M   DATA FOR SOURCE-LINE 2593
 6072 00001134 00000000               M   DATA FOR SOURCE-LINE 2597
 6073 00001138 00000000               M   DATA FOR SOURCE-LINE 2600
 6074 0000113C 00000000               M   DATA FOR SOURCE-LINE 2601
 6075                                 M   ***** END-POOL *****
 6076 00001140                        M   JMP100007:                                      ;
 6077                            2604     
 6078                            2605     
 6079 00001140 9007              2606             MOV.W   #__KMTCMD_WR,R0
 6080 00001142 D104              2607             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1                  ;
 6081 00001144 2101              2608             MOV.W   R0,@R1                                                                  ;W
                                          RITE
 6082                            2609     
 6083                            2610             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 6084 00001146 D104                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
 6085 00001148 6011                   M           MOV.W   @R1,R0          ;
 6086 0000114A CB02                   M           OR      #BIT1,R0                ;
 6087 0000114C 2101                   M           MOV.W   R0,@R1          ;
 6088                            2611             M_BRA   KMT_SYOUMO_STPEXT
 6089 0000114E A048                   M           BRA     KMT_SYOUMO_STPEXT
 6090 00001150 0009                   M           NOP
 6091                            2612     
 6092                                     ***** BEGIN-POOL *****
 6093 00001152 0001                       DATA FOR SOURCE-LINE 2606
 6094 00001154 00000000                   DATA FOR SOURCE-LINE 2607
 6095 00001158 00000000                   DATA FOR SOURCE-LINE 2610
 6096                                     ***** END-POOL *****
 6097 0000115C                   2613     KMT_SYOUMO_STP300
 6098 0000115C D10C              2614             MOV.L   #_KMT_SYOUMO_FLG,R1                                             ;
 6099 0000115E 6011              2615             MOV.W   @R1,R0                                                          ;BIT1=1 EV
                                          ENT終了待ち
 6100 00001160 C808              2616             TST     #BIT3,R0                                                        ;OFF保証
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    74
PROGRAM NAME =

 6101                            2617             TST_BIT_ON KMT_SYOUMO_STP500                                            ;
 6102 00001162 8B37                   M           BF      KMT_SYOUMO_STP500
 6103                            2618     
 6104 00001164 C804              2619             TST     #BIT2,R0
 6105                            2620             TST_BIT_ON KMT_SYOUMO_STP400                                            ;ON保証
 6106 00001166 8B1B                   M           BF      KMT_SYOUMO_STP400
 6107                            2621     
 6108 00001168 D10A              2622             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1          ;
 6109 0000116A 6011              2623             MOV.W   @R1,R0                                                          ;
 6110 0000116C 2008              2624             TST     R0,R0                                                           ;
 6111                            2625             TST_BIT_ON KMT_SYOUMO_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 6112 0000116E 8B38                   M           BF      KMT_SYOUMO_STPEXT
 6113                            2626     
 6114                            2627             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT2,WKREG=R1      ;bit-set
 6115 00001170 D107                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
 6116 00001172 6011                   M           MOV.W   @R1,R0          ;
 6117 00001174 CB04                   M           OR      #BIT2,R0                ;
 6118 00001176 2101                   M           MOV.W   R0,@R1          ;
 6119                            2628     
 6120                            2629             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R2        ;
 6121 00001178 D107                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 6122 0000117A 6011                   M           MOV.W   @R1,R0          ;
 6123 0000117C 9206                   M           MOV.W   #(BIT6),R2              ;
 6124 0000117E 202B                   M           OR      R2,R0           ;
 6125 00001180 2101                   M           MOV.W   R0,@R1          ;
 6126                            2630     
 6127 00001182 9004              2631             MOV.W   #__SYOUMO_SIG_ONTIMSV,R0                        ;
 6128 00001184 D105              2632             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6129 00001186 2101              2633             MOV.W   R0,@R1                                          ;
 6130                            2634             M_BRA   KMT_SYOUMO_STPEXT                               ;ON保証ﾀｲﾏ
 6131 00001188 A02B                   M           BRA     KMT_SYOUMO_STPEXT
 6132 0000118A 0009                   M           NOP
 6133                            2635     
 6134                                     ***** BEGIN-POOL *****
 6135 0000118C 0040                       DATA FOR SOURCE-LINE 2629
 6136 0000118E 0014                       DATA FOR SOURCE-LINE 2631
 6137 00001190 00000000                   DATA FOR SOURCE-LINE 2614,2627
 6138 00001194 00000000                   DATA FOR SOURCE-LINE 2622
 6139 00001198 00000000                   DATA FOR SOURCE-LINE 2629
 6140 0000119C 00000000                   DATA FOR SOURCE-LINE 2632
 6141                                     ***** END-POOL *****
 6142 000011A0                   2636     KMT_SYOUMO_STP400
 6143                            2637     
 6144 000011A0 D109              2638             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6145 000011A2 6011              2639             MOV.W   @R1,R0                                          ;
 6146 000011A4 2008              2640             TST     R0,R0                                                   ;
 6147                            2641             TST_BIT_ON KMT_SYOUMO_STPEXT                                    ;
 6148 000011A6 8B1C                   M           BF      KMT_SYOUMO_STPEXT
 6149                            2642     
 6150                            2643             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT6),WKRG1=R1,WKRG2=R4       ;
 6151 000011A8 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 6152 000011AA 6011                   M           MOV.W   @R1,R0          ;
 6153 000011AC 940A                   M           MOV.W   #LWORD ~(BIT6),R4       ;
 6154 000011AE 2049                   M           AND     R4,R0           ;
 6155 000011B0 2101                   M           MOV.W   R0,@R1          ;
 6156                            2644             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT3,WKREG=R1      ;bit-set
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    75
PROGRAM NAME =

 6157 000011B2 D107                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
 6158 000011B4 6011                   M           MOV.W   @R1,R0          ;
 6159 000011B6 CB08                   M           OR      #BIT3,R0                ;
 6160 000011B8 2101                   M           MOV.W   R0,@R1          ;
 6161                            2645     
 6162                            2646     
 6163 000011BA 9004              2647             MOV.W   #__SYOUMO_SIG_OFTIMSV,R0                        ;
 6164 000011BC D102              2648             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6165 000011BE 2101              2649             MOV.W   R0,@R1
 6166                            2650             M_BRA   KMT_SYOUMO_STPEXT                               ;OFF保証ﾀｲﾏ
 6167 000011C0 A00F                   M           BRA     KMT_SYOUMO_STPEXT
 6168 000011C2 0009                   M           NOP
 6169                            2651     
 6170                                     ***** BEGIN-POOL *****
 6171 000011C4 FFBF                       DATA FOR SOURCE-LINE 2643
 6172 000011C6 0014                       DATA FOR SOURCE-LINE 2647
 6173 000011C8 00000000                   DATA FOR SOURCE-LINE 2638,2648
 6174 000011CC 00000000                   DATA FOR SOURCE-LINE 2643
 6175 000011D0 00000000                   DATA FOR SOURCE-LINE 2644
 6176                                     ***** END-POOL *****
 6177 000011D4                   2652     KMT_SYOUMO_STP500:
 6178                            2653     
 6179 000011D4 D104              2654             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6180 000011D6 6011              2655             MOV.W   @R1,R0                                          ;
 6181 000011D8 2008              2656             TST     R0,R0                                           ;
 6182                            2657             TST_BIT_ON KMT_SYOUMO_STPEXT                            ;
 6183 000011DA 8B02                   M           BF      KMT_SYOUMO_STPEXT
 6184                            2658     
 6185 000011DC 200A              2659             XOR     R0,R0
 6186 000011DE D103              2660             MOV.L   #_KMT_SYOUMO_FLG,R1                             ;
 6187 000011E0 2101              2661             MOV.W   R0,@R1                                          ;
 6188                            2662     
 6189                            2663     
 6190 000011E2                   2664     KMT_SYOUMO_STPEXT
 6191                            2665             SUB_END
 6192                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6193 000011E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6194                            2666             M_RTS
 6195 000011E4 000B                   M           RTS                             ;RTSの後ろの
 6196 000011E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6197                            2667     
 6198                            2668     
 6199                            2669     ;       *******************************************
 6200                            2670     ;       ***                                     ***
 6201                            2671     ;       ***             BIN->BCD                ***
 6202                            2672     ;       ***                                     ***
 6203                            2673     ;       *******************************************
 6204                                     ***** BEGIN-POOL *****
 6205 000011E8 00000000                   DATA FOR SOURCE-LINE 2654
 6206 000011EC 00000000                   DATA FOR SOURCE-LINE 2660
 6207                                     ***** END-POOL *****
 6208 000011F0                   2674             .ALIGN  4                                       ;
 6209                            2675     
 6210                            2676     
 6211                            2677     
 6212                            2678     
 6213                            2679     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    76
PROGRAM NAME =

 6214 000011F0                   2680             .ALIGN  4                                       ;
 6215 000011F0                   2681     _HEX4B_BCD8B:
 6216                            2682             SUB_START
 6217 000011F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6218                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6219                            2683             SUB_END
 6220                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6221 000011F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6222                            2684             M_RTS
 6223 000011F4 000B                   M           RTS                             ;RTSの後ろの
 6224 000011F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6225                            2685     
 6226                            2686     
 6227                            2687     ;       ***************************************************
 6228                            2688     ;       ***                                             ***
 6229                            2689     ;       ***                                             ***
 6230                            2690     ;       ***             wkram定義                       ***
 6231                            2691     ;       ***                                             ***
 6232                            2692     ;       ***                                             ***
 6233                            2693     ;       ***************************************************
 6234 00000000                   2694             .SECTION        Bwkram1,DATA                    ;
 6235                            2695     
 6236                            2696             .EXPORT         _ET1_INITAL_FLG                 ; SHIMA
 6237                            2697     
 6238 00000000                   2698             .ALIGN  4                                       ;
 6239 00000000 00000004          2699     _CPU_REQ_DAT_CNT        .SRES   4                       ;
 6240 00000004 00000002          2700     _ET1_INITAL_FLG         .SRES   2                       ;
 6241 00000006 00000002          2701     _ET1_BANK_SEL           .SRES   2                       ;現在選択バック
 6242 00000008 00000002          2702     _ET1_BANK_ACS           .SRES   2                       ;ﾊﾞﾝｸｱｸｾｽ中
 6243 0000000A 00000002          2703     _CPU_REQ_DAT_FLG        .SRES   2                       ;
 6244                            2704     
 6245 0000000C                   2705             .ALIGN  4                                       ;
 6246 0000000C 00000004          2706     _CPUA_REQ_OLD           .SRES   4                       ;
 6247                            2707     
 6248                            2708     ;       -------------------------------------------
 6249                            2709     ;       ---                                     ---
 6250                            2710     ;       ---     2009-07-27 KOMTRAX              ---
 6251                            2711     ;       ---                                     ---
 6252                            2712     ;       ---                                     ---
 6253                            2713     ;       -------------------------------------------
 6254                            2714     ;       -------- 2009-07-27(PROCESS)---------------
 6255 00000010                   2715             .ALIGN  4                                       ;
 6256 00000010 00000002          2716     _KMT_TRS_CMD            .SRES   2                       ;=ADR(_KMT_TRSSV1_CMD)
 6257 00000012 00000002          2717     _KMT_TRSPV_CNT          .SRES   2                       ;書込/読出ﾃﾞｰﾀ数
 6258 00000014 00000002          2718     _KMT_TRS_SCAN           .SRES   2                       ;16ﾌﾟﾛｾｽまで起動可能なように監視
 6259 00000016 00000002          2719     _KMT_REQ_SIG            .SRES   2                       ;
 6260                            2720     
 6261                            2721     ;       -------- ﾌﾟﾛｾｽのﾗｯﾁﾃﾞｰﾀ -------
 6262 00000018                   2722             .ALIGN  4                                       ;
 6263 00000018 00000004          2723     _KMT_TRSLT_TOPADR       .SRES   4                       ;ｽﾄﾗｸﾁｬ
 6264 0000001C 00000002          2724     _KMT_TRSLT_MEMKND       .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6265 0000001E 00000002          2725     _KMT_TRSLT_OBJADR       .SRES   2                       ;TOP_ADR
 6266 00000020 00000002          2726     _KMT_TRSLT_CNT          .SRES   2                       ;MAX 1~256 word
 6267 00000022 00000200          2727     _KMT_TRSLT_DAT          .SRES   2*256                   ;MAX 256word
 6268                            2728     
 6269                            2729     ;       --------------------------------
 6270                            2730     ;       ----    EVENT SOFT->TRANS SOFT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    77
PROGRAM NAME =

 6271                            2731     ;       -------- 2009-07-27(API1)-------
 6272 00000224                   2732             .ALIGN  4                                                       ;
 6273 00000224                   2733     _KMT_TRSSV1_FORM:                                       ;配列
 6274 00000224                   2734     _KMT_TRSSV1_TOP:                                        ;配列
 6275 00000224 00000002          2735     _KMT_TRSSV1_CMD         .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6276 00000226 00000002          2736     _KMT_TRSSV1_MEMKND      .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6277 00000228 00000002          2737     _KMT_TRSSV1_OBJADR      .SRES   2                       ;TOP_ADR()
 6278 0000022A 00000002          2738     _KMT_TRSSV1_CNT         .SRES   2                       ;MAX 1~256 word
 6279 0000022C 00000010          2739     _KMT_TRSSV1_DAT         .SRES   2*8                     ;MAX 256word "8CHAR MAX16CHAR"
 6280                            2740     
 6281                            2741     
 6282                            2742     ;       ============= HAND WRITE ==========
 6283 0000023C 0000000C          2743     _KMT_TRSSV2_TOP:        .SRES   2*4+2*2                 ;配列(1word MAX 2word)
 6284                            2744     ;_KMT_TRSSV2_CMD        .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6285                            2745     ;_KMT_TRSSV2_MEMKND     .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6286                            2746     ;_KMT_TRSSV2_OBJADR     .SRES   2                       ;TOP_ADR()
 6287                            2747     ;_KMT_TRSSV2_CNT        .SRES   2                       ;MAX 1~256 word
 6288                            2748     ;_KMT_TRSSV2_DAT        .SRES   2                       ;MAX 256word
 6289                            2749     
 6290                            2750     ;       ============== STATUS READ
 6291 00000248 0000006C          2751     _KMT_TRSSV3_TOP:        .SRES   2*4+2*50                ;配列32word(MAX64word)
 6292                            2752     ;;_KMT_TRSSV3_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6293                            2753     ;;_KMT_TRSSV3_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6294                            2754     ;;_KMT_TRSSV3_OBJADR    .SRES   2                       ;TOP_ADR()
 6295                            2755     ;;_KMT_TRSSV3_CNT       .SRES   2                       ;MAX 1~256 word
 6296                            2756     ;;_KMT_TRSSV3_DAT       .SRES   2*256           ;MAX 256word
 6297                            2757     
 6298                            2758     ;       ============== 実測WR======
 6299 000002B4 00000088          2759     _KMT_TRSSV4_TOP:        .SRES   2*4+2*64                ;配列32word(MAX50word)
 6300                            2760     ;;_KMT_TRSSV3_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6301                            2761     ;;_KMT_TRSSV3_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6302                            2762     ;;_KMT_TRSSV3_OBJADR    .SRES   2                       ;TOP_ADR()
 6303                            2763     ;;_KMT_TRSSV3_CNT       .SRES   2                       ;MAX 1~256 word
 6304                            2764     ;;_KMT_TRSSV3_DAT       .SRES   2*256           ;MAX 256word
 6305                            2765     
 6306                            2766     
 6307                            2767     ;       ============== K011品番======
 6308 0000033C 000000A8          2768     _KMT_TRSSV5_TOP:        .SRES   2*4+2*80                ;80WORD
 6309                            2769     ;;_KMT_TRSSV5_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6310                            2770     ;;_KMT_TRSSV5_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6311                            2771     ;;_KMT_TRSSV5_OBJADR    .SRES   2                       ;TOP_ADR()
 6312                            2772     ;;_KMT_TRSSV5_CNT       .SRES   2                       ;MAX 1~256 word
 6313                            2773     ;;_KMT_TRSSV5_DAT       .SRES   2*256                   ;MAX 256word
 6314                            2774     
 6315                            2775     ;       ============== K011消耗品======
 6316 000003E4 00000088          2776     _KMT_TRSSV6_TOP:        .SRES   2*4+2*64                ;32WORD
 6317                            2777     ;;_KMT_TRSSV6_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6318                            2778     ;;_KMT_TRSSV6_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6319                            2779     ;;_KMT_TRSSV6_OBJADR    .SRES   2                       ;TOP_ADR()
 6320                            2780     ;;_KMT_TRSSV6_CNT       .SRES   2                       ;MAX 1~256 word
 6321                            2781     ;;_KMT_TRSSV6_DAT       .SRES   2*256                   ;MAX 256word
 6322                            2782     
 6323                            2783     
 6324                            2784     ;       -------- 異常ｲﾍﾞﾝﾄ側ｿﾌﾄ[1msec]-------
 6325 0000046C 00000002          2785     _KMT_EVENT_FLG          .SRES   2                       ;ｲﾍﾞﾝﾄのｽﾃｯﾌﾟ管理BIT1,2,3 ??なぜBI
                                          T0使わなかった?
 6326 0000046E 00000008          2786     _KMT_EVENT_CHAR         .SRES   8                       ;8文字*8:64文字
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    78
PROGRAM NAME =

 6327 00000476 00000002          2787     _KMT_EVENT_SIGTIM       .SRES   2                       ;
 6328                            2788     
 6329                            2789     ;       -------- 異常ｲﾍﾞﾝﾄ側ｿﾌﾄ[MAINsec]-------
 6330 00000478 00000002          2790     _KMT_EVENT_CHGF         .SRES   2                       ;ｷｬﾗｸﾀﾃﾞｰﾀ
 6331 0000047A 00000002          2791     _KMT_DLYSCAN_TIM        .SRES   2                       ;
 6332 0000047C 00000010          2792     _KMT_OLD_CHRNO          .SRES   2*8                     ;FFFF->dataの時のみ
 6333 0000048C 00000010          2793     _KMT_USE_CHRNO          .SRES   2*8                     ;
 6334 0000049C 00000010          2794     _KMT_CHK_CHRNO          .SRES   2*8                     ;
 6335                            2795     
 6336                            2796     ;       -------- [1msec]-------
 6337 000004AC 00000002          2797     _KMT_STS_SQ087          .SRES   2                       ;
 6338 000004AE 00000002          2798     _KMT_1CYCL_SIGTIM       .SRES   2                       ;
 6339                            2799     
 6340                            2800     
 6341                            2801     ;       -------- MAIN ﾊﾝﾄﾞｼｪｲｸ-------------
 6342 000004B0 00000002          2802     _KMT_HANDWR_FLG         .SRES   2                       ;HANDｼｪｲｸWR
 6343 000004B2 00000002          2803     _KMT_HANDWDT_CNT        .SRES   2                       ;
 6344 000004B4 00000002          2804     _KMT_HANDWDT_TIM        .SRES   2                       ;
 6345                            2805     
 6346                            2806     ;       -------- MAIN ｽﾃｰﾀｽ-------------
 6347 000004B6 00000002          2807     _KMT_STS1RD_FLG         .SRES   2                       ;ｽﾃｰﾀｽREAD　50WMAX
 6348                            2808     
 6349 000004B8 00000002          2809     _KMT_STS1_SET           .SRES   2                       ;BIT0~BIT7(確定ﾃﾞｰﾀあり)
 6350 000004BA 00000064          2810     _KMT_STS1_AREA          .SRES   2*50                    ;MAX50word(16WORD)
 6351 0000051E 00000002          2811     _KMT_STS1MN_SQ87        .SRES   2                       ;
 6352                            2812     
 6353 00000520 00000064          2813     _KMT_COM1_AREA          .SRES   2*50                    ;
 6354                            2814     
 6355                            2815     ;       --------------------------------------------
 6356                            2816     ;       -----------2011-01-14-----------------------
 6357                            2817     ;       --------------------------------------------
 6358 00000584 00000002          2818     _KMT_TYP_011            .SRES   2                       ;0:010型/:011型機能
 6359 00000586 00000002          2819     _KMT_PROC_10MS          .SRES   2                       ;10msecﾀｲﾏ作成
 6360                            2820     
 6361                            2821     ;       -------- 品番処理-------------
 6362 00000588 00000002          2822     _KMT_HINBAN_SIGTIM      .SRES   2       ;150msec信号作成用
 6363 0000058A 00000002          2823     _KMT_HINBAN_FLG         .SRES   2       ;150msec信号作成用
 6364 0000058C 00000002          2824     _KMT_HINBAN_SEL         .SRES   2       ;BIT0=1:開始(87.4)　BIT1=1:終了(87.4)
 6365                            2825     
 6366                            2826     ;       --
 6367 0000058E 00000002          2827     _KMT_HINBAN_CHGF        .SRES   2       ;BIT0=1開始ｲﾍﾞﾝﾄ BIT1:終了ｲﾍﾞﾝﾄ
 6368                            2828     
 6369                            2829     ;       ----ﾄﾘｶﾞの順番は開始→終了→開始・・・・または終了→開始→終了の順番にする
 6370                            2830     ;       異なる場合は最後のイベントが発生するようにデータを並び替える
 6371                            2831     ;       バッファ０のみ前回の状態を見ない
 6372                            2832     ;
 6373 00000590 00000002          2833     _KMT_HINBAN_TRG_NUM     .SRES   2                       ;0個[保留なし],1個,2個,3個,4個
 6374 00000592 0000000C          2834     _KMT_HINBAN_TRG_FLG     .SRES   2*_HINBAN_BUF_MAX               ;保留が発生した場合の処理
 6375                            2835                                                             ;0:ﾃﾞｰﾀ存在なし BIT0=1[開始],BIT1=
                                          1[終了]
 6376                            2836                                                             ;+0:現在
 6377                            2837                                                             ;+1:次回
 6378                            2838                                                             ;+2:次々回
 6379                            2839                                                             ;+3:次次々回
 6380                            2840                                                             ;+4:次次次々回
 6381                            2841                                                             ;
 6382                            2842     ;       -------- 4byteﾃﾞｰﾀでも2byteｱｸｾｽしかしない------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    79
PROGRAM NAME =

 6383                            2843     
 6384                            2844     
 6385                            2845     ;       -------- 消耗処理-------------
 6386 0000059E 00000002          2846     _KMT_SYOUMO_SIGTIM      .SRES   2       ;150msec信号作成用
 6387 000005A0 00000002          2847     _KMT_SYOUMO_FLG         .SRES   2       ;150msec信号作成用
 6388 000005A2 00000002          2848     _KMT_SYOUMO_CHGF        .SRES   2       ;BIT0=1開始ｲﾍﾞﾝﾄ BIT1:終了ｲﾍﾞﾝﾄ
 6389                            2849     
 6390                            2850     ;       -------------------------------------------
 6391                            2851     ;       ---     確定して送るだけの状態のデータ  ---
 6392                            2852     ;       ---     2011-01-14                      ---
 6393                            2853     ;       -------------------------------------------
 6394                            2854     ;       -------- 4byteﾃﾞｰﾀでも2byteｱｸｾｽしかしない------------
 6395 000005A4 00000040          2855     _KMT_HMI_SYOUMO_DAT     .SRES   __SITM_SYOUMO_CNT       ;64byte
 6396 000005E4 000003C0          2856     _KMT_HMI_HINBAN_BUF     .SRES   __SITM_HINBAN_CNT*_HINBAN_BUF_MAX       ;6BUFF
 6397                            2857     
 6398                            2858     ;
 6399                            2859     ;;;;    .SECTION        P,CODE                  ;
 6400                            2860     ;;;;    .ALIGN  4                                       ;
 6401                            2861     
 6402                            2862             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    80

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT0                                      EQU  00000001     15* 2757  3017  3363  5198  5241  5769 
BIT1                                      EQU  00000002     16* 2758  3490  3537  3675  3714  3899  3923  4001  5171  5226  5651 
                                                          5724  6024  6086 
BIT10                                     EQU  00000400     25* 4060  4077 
BIT11                                     EQU  00000800     26*
BIT12                                     EQU  00001000     27*
BIT13                                     EQU  00002000     28* 4027  4077 
BIT14                                     EQU  00004000     29* 4019  4077 
BIT15                                     EQU  00008000     30* 4070  4077 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2992  3034  3059  3490  3563  3576  4024  4067  5651  5751  5764 
                                                          6024  6104  6117 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 3490  3559  3582  3612  3618  4024  5651  5747  5828  6024  6100 
                                                          6159 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 4016  5776  5822 
BIT5                                      EQU  00000020     20* 4037  4045  5793  5822 
BIT6                                      EQU  00000040     21* 2207  2219  2270  2293  2415  2451  4602  4610  6123  6153 
BIT7                                      EQU  00000080     22* 3839  3859  4610  4721  4728  4774  4840  4862  4903 
BIT8                                      EQU  00000100     23* 4049  4077 
BIT9                                      EQU  00000200     24* 4040  4077  5030 
Bfram                            Bfram    SCT  00000000   2198*
Bwkram1                          Bwkram1  SCT  00000000   6234*
CHAR_BUF8SER_200                 P             000004C4   3406  3410  3414  3418  3422  3426  3430  3434  3445*
CHAR_BUF8SER_END                 P             000004C6   3438  3447*
ET1_CPUA_DT_MV100                P             000001C8   2550  2614*
ET1_CPU_HIGHMV_END               P             00000024   2209  2221  2240*
ET1_CPU_MNMV_100                 P             0000005C   2272  2285*
ET1_CPU_MNMV_200                 P             0000008C   2301  2315*
ET1_CPU_MNMV_500                 P             000000E4   2351  2372*
ET1_CPU_MNMV_END                 P             000000F0   2279  2295  2305  2358  2386*
ET1_INIT_CHK_END                 P             00000126   2417  2435  2446  2454*
HINBAN_COM_DATMOV                P             00000E24   5402  5427  5439*
H_BYTE                                    EQU  00000000     82*
ICHAR_DATCHK_020                 P             00000390   3203  3212*
ICHAR_DATCHK_050                 P             000003C0   3234  3242*
ICHAR_DATCHK_070LOP              P             000003CA   3256* 3286 
ICHAR_DATCHK_100                 P             000003E6   3262  3265  3275  3279*
ICHAR_DATCHK_200                 P             000003F8   3292* 3299 
ICHAR_DATCHK_300                 P             00000404   3236  3303*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    81

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ICHAR_DATCHK_300LOP              P             00000408   3306* 3314 
ICHAR_DATCHK_400                 P             00000434   3310  3330*
ICHAR_DATCHK_500                 P             0000046C   3316  3344  3347  3366*
ICHAR_DATCHK_999                 P             0000046E   3205  3368*
JMP000000                        P             0000018C   2557* 2566 
JMP000005                        P             000007F8   4091* 4100 
JMP000006                        P             00000F54   5693* 5702 
JMP000007                        P             0000110E   6053* 6062 
JMP100000                        P             000001B0   2560  2576*
JMP100005                        P             0000083C   4094  4122*
JMP100006                        P             00000F80   5696  5714*
JMP100007                        P             00001140   6056  6076*
JMP_0100001                      P             0000025E   2930  2933*
JMP_0100002                      P             0000026A   2938  2941*
JMP_0100003                      P             00000276   2947  2950*
JMP_0100004                      P             00000282   2955  2958*
KMT_1CYCLSIGCHK_050              P             000002D0   3019  3028*
KMT_1CYCLSIGCHK_100              P             000002F8   3042  3055*
KMT_1CYCLSIGCHK_END              P             00000302   3036  3046  3063*
KMT_CMDINIT_100_LOP              P             00000A20   4574* 4583 
KMT_CMDINIT_200                  P             00000A40   4577  4592*
KMT_CMDINI_300                   P             00000A52   4604  4606*
KMT_CMDTRSCHK_EXT                P             000009F0   4505  4536*
KMT_CMDTRS_200                   P             000009A0   4268  4437*
KMT_CMDTRS_300                   P             000009B0   4271  4451*
KMT_CMDTRS_400                   P             000009B6   4443  4457*
KMT_CMDTRS_END                   P             000009B8   4310  4327  4343  4359  4376  4390  4399  4414  4423  4460*
KMT_CMD_EVET_000                 P             00000910   4282  4284  4319*
KMT_CMD_HAND_000                 P             00000924   4287  4335*
KMT_CMD_HINBAN_000               P             00000960   4308  4385*
KMT_CMD_PVWR_000                 P             0000094C   4291  4368*
KMT_CMD_STSR_000                 P             00000938   4294  4296  4351*
KMT_CMD_SYOUMO_000               P             00000980   4306  4409*
KMT_EVET_STP300                  P             0000054C   3492  3556*
KMT_EVET_STP400                  P             00000590   3565  3601*
KMT_EVET_STP500                  P             000005C4   3561  3636*
KMT_EVET_STPEXT                  P             000005D2   3498  3540  3571  3590  3607  3626  3642  3649*
KMT_HANDWDTCHK_030               P             00000680   3793  3802*
KMT_HANDWDTCHK_050               P             00000684   3806*
KMT_HANDWDTCHK_100               P             000006B4   3820  3835*
KMT_HANDWDTCHK_200               P             000006C8   3813  3850*
KMT_HANDWDTCHK_END               P             000006EE   3865  3878*
KMT_HANDWDTCHK_WAIT              P             000006EC   3795  3824  3843  3876*
KMT_HANDWR_STP300                P             00000644   3677  3732*
KMT_HANDWR_STPEXT                P             00000658   3686  3717  3744  3751*
KMT_HINBAN_BUFMK1_100            P             00000D9E   5354  5360*
KMT_HINBAN_DTMK_900              P             00000D7C   5279  5285  5325*
KMT_HINBAN_DTSFT_100_LOP         P             00001074   5897* 5917 
KMT_HINBAN_DTSFT_120_LOP         P             00001080   5907* 5914 
KMT_HINBAN_DTSFT_200             P             000010A8   5900  5928*
KMT_HINBAN_DTSFT_900             P             000010AA   5885  5930*
KMT_HINBAN_RQMK_050              P             00000CBC   5147  5162*
KMT_HINBAN_RQMK_100              P             00000CEC   5150  5192*
KMT_HINBAN_RQMK_200              P             00000D18   5165  5221*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    82

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

KMT_HINBAN_RQMK_900              P             00000D60   5153  5182  5209  5252  5264*
KMT_HINBAN_RQMK_999              P             00000D64   5266  5269*
KMT_HINBAN_STP020                P             00000F34   5659  5669*
KMT_HINBAN_STP300                P             00000FA8   5653  5744*
KMT_HINBAN_STP320                P             00000FEC   5771  5789*
KMT_HINBAN_STP340                P             00000FF6   5780  5796*
KMT_HINBAN_STP400                P             0000100C   5753  5811*
KMT_HINBAN_STP500                P             00001040   5749  5846*
KMT_HINBAN_STPEXT                P             0000104E   5661  5734  5759  5802  5817  5836  5852  5859*
KMT_PVDATWR100LOP                P             00000896   4206* 4213 
KMT_PVDTWR_EXT                   P             000008A8   4189  4221*
KMT_STATUS_RD300                 P             0000073C   3901  3939*
KMT_STATUS_RD400LOP              P             0000074A   3953* 3960 
KMT_STATUS_RDEXT                 P             00000762   3926  3945  3971*
KMT_STAUSMAKE_EXT                P             000007F2   4004  4084*
KMT_STAUSMAK_100                 P             000007A2   4018  4021*
KMT_STAUSMAK_120                 P             000007AC   4026  4029*
KMT_STAUSMAK_200                 P             000007BA   4039  4042*
KMT_STAUSMAK_220                 P             000007C6   4048  4051*
KMT_STAUSMAK_300                 P             000007D4   4059  4062*
KMT_STAUSMAK_400                 P             000007E2   4069  4072*
KMT_SYOUMO_STP300                P             0000115C   6026  6097*
KMT_SYOUMO_STP400                P             000011A0   6106  6142*
KMT_SYOUMO_STP500                P             000011D4   6102  6177*
KMT_SYOUMO_STPEXT                P             000011E2   6032  6089  6112  6131  6148  6167  6183  6190*
KMT_TRS_STPRD_100                P             00000BAC   4842  4882*
KMT_TRS_STPRD_200                P             00000BF0   4888  4921*
KMT_TRS_STPRD_250LOP             P             00000BFE   4933* 4942 
KMT_TRS_STPRD_300                P             00000C20   4936  4952*
KMT_TRS_STPRD_EXT                P             00000C26   4838  4869  4910  4961*
KMT_TRS_STPWR_100                P             00000AE8   4723  4744*
KMT_TRS_STPWR_200                P             00000B44   4750  4795*
KMT_TRS_STPWR_EXT                P             00000B4A   4719  4735  4782  4802*
KMT_TYPE011CHK_END               P             00000C68   5026  5033  5039*
KOMTRAX_TIMCT10_100              P             00000238   2882  2892*
KOMTRAX_TIMCT10_200              P             00000242   2886  2901*
L_BYTE                                    EQU  00000001     81*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
P                                P        SCT  00000000   2199*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    83

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_BCD4B_ASCII                     P             00000EA8   5450  5545*
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_ERR_INFO_MEM                          EQU  00000080    138*
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CHAR_BUF8_SERCH                 P             00000484   3270  3393*
_CPUATOD_1CYCL_SIG                        IMPT 00000000   2974  3015 
_CPUA_RCV_ACK_ET1                         IMPT 00000000   2172  2620 
_CPUA_RCV_INI_ET1                         IMPT 00000000   2170  2493 
_CPUA_REQ_OLD                    Bwkram1       0000000C   2544  2605  6246*
_CPUA_SND_DAT                             IMPT 00000000   2175  2553 
_CPUA_SND_END                             IMPT 00000000   2176 
_CPUA_SND_INI_ET1                         IMPT 00000000   2169  2486 
_CPUA_SND_REQ_ADR                         IMPT 00000000   2173  2597 
_CPUA_SND_REQ_CNT                         IMPT 00000000   2174  2578 
_CPUA_SND_REQ_ET1                         IMPT 00000000   2171  2542 
_CPU_REQ_DAT_CNT                 Bwkram1       00000000   6239*
_CPU_REQ_DAT_FLG                 Bwkram1       0000000A   6243*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_EQ_BAD_CNT                               EQU  0000003A   5127* 5472  5474 
_EQ_KATA_MEMO                             EQU  0000001C   5124* 5499  5501  5503  5505  5507  5509  5511  5514  5515  5516 
_EQ_KATA_NAME                             EQU  00000008   5123* 5478  5480  5482  5484  5486  5488  5490  5493  5494  5495 
_EQ_ORDER_COD                             EQU  00000000   5122* 5455  5457  5459  5461 
_EQ_PLAN_CNT                              EQU  00000032   5126* 5465  5467 
_EQ_WORKER_COD                            EQU  00000030   5125* 5445 
_ET1_BANK_ACS                    Bwkram1       00000008   6242*
_ET1_BANK_SEL                    Bwkram1       00000006   6241*
_ET1_CPUAB_BUF_MAX                        EQU  00000100   2023* 2555 
_ET1_CPUA_ADR_MAX                         EQU  00060000   2026*
_ET1_CPUA_DT_MOVE                P             00000174   2213  2537*
_ET1_CPUB_ADR_MAX                         EQU  00008000   2024*
_ET1_CPU_HIGH_MOV                P        EXPT 00000000   2180  2201*
_ET1_CPU_MAIN_MOV                P        EXPT 00000040   2179  2263*
_ET1_DATA_COD                             EQU  5A3CC3A5   2030*
_ET1_DEF_GAT0                             IMPT 00000000   2104 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    84

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ET1_DEF_GAT1                             IMPT 00000000   2105 
_ET1_DEF_GAT2                             IMPT 00000000   2106 
_ET1_DEF_GAT3                             IMPT 00000000   2107 
_ET1_INIEND_MOVE                 P             0000013C   2287  2473*
_ET1_INITAL_CHK                  P             00000100   2274  2409*
_ET1_INITAL_FLG                  Bwkram1  EXPT 00000004   2205  2268  2413  2449  6236  6240*
_ET1_INIT_ACK                             EQU  56789ABC   2029* 2433  2444 
_ET1_INIT_REQ                             EQU  12345678   2028* 2479 
_ET1_IPM_ADR0                             IMPT 00000000   2108 
_ET1_IPM_ADR1                             IMPT 00000000   2109 
_ET1_IPM_ADR2                             IMPT 00000000   2110 
_ET1_IPM_ADR3                             IMPT 00000000   2111 
_ET1_IPS_ADR0                             IMPT 00000000   2096 
_ET1_IPS_ADR1                             IMPT 00000000   2097 
_ET1_IPS_ADR2                             IMPT 00000000   2098 
_ET1_IPS_ADR3                             IMPT 00000000   2099 
_ET1_IPS_ENT                              IMPT 00000000   2095 
_ET1_RDWR2_BUFMAX                         EQU  00000020   2034*
_ET1_SUB_NET0                             IMPT 00000000   2100 
_ET1_SUB_NET1                             IMPT 00000000   2101 
_ET1_SUB_NET2                             IMPT 00000000   2102 
_ET1_SUB_NET3                             IMPT 00000000   2103 
_ET1_VER                                  IMPT 00000000   2092 
_ET1_WD_HAND_COD                          EQU  00001234   2035*
_ET2_SEQ_IDT01                            IMPT 00000000   2150  3094 
_ET2_SEQ_QDT01                            IMPT 00000000   2151  3099 
_ET2_SITM_ACK                             IMPT 00000000   2147 
_ET2_SITM_ADR                             IMPT 00000000   2145  4765  4895 
_ET2_SITM_RDDT                            IMPT 00000000   2149  4844 
_ET2_SITM_REQ                             IMPT 00000000   2146 
_ET2_SITM_WRDT                            IMPT 00000000   2148  4756 
_ET2_WORD_SITM_ACK                        IMPT 00000000   4630  4678 
_ET2_WORD_SITM_REQ                        IMPT 00000000   4629  4650 
_ET_CPUA_RCV_ACK_ET1                      IMPT 00000000   2077  2618 
_ET_CPUA_RCV_INI_ET1                      IMPT 00000000   2075  2437  2491 
_ET_CPUA_RD_ACK                           IMPT 00000000   2118 
_ET_CPUA_RD_ADR                           IMPT 00000000   2120 
_ET_CPUA_RD_BUF                           IMPT 00000000   2121 
_ET_CPUA_RD_CNT                           IMPT 00000000   2119 
_ET_CPUA_RD_REQ                           IMPT 00000000   2117 
_ET_CPUA_SND_DAT                          IMPT 00000000   2081  2554 
_ET_CPUA_SND_END                          IMPT 00000000   2082 
_ET_CPUA_SND_INI_ET1                      IMPT 00000000   2074  2488 
_ET_CPUA_SND_REQ_ADR                      IMPT 00000000   2079  2599 
_ET_CPUA_SND_REQ_CNT                      IMPT 00000000   2080  2580 
_ET_CPUA_SND_REQ_ET1                      IMPT 00000000   2076  2607 
_ET_CPUA_WR2_ACK                          IMPT 00000000   2129 
_ET_CPUA_WR2_ADR                          IMPT 00000000   2126 
_ET_CPUA_WR2_BUF                          IMPT 00000000   2127 
_ET_CPUA_WR2_CNT                          IMPT 00000000   2130 
_ET_CPUA_WR2_REQ                          IMPT 00000000   2128 
_ET_CPUB_RCV_INI_ET1                      IMPT 00000000   2061  2431 
_ET_CPUB_SND_INI_ET1                      IMPT 00000000   2060  2481 
_ET_LDCMND_AREA                           IMPT 00000000   2089 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    85

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ET_LDCMND_REQ                            IMPT 00000000   2090 
_ET_LDCMND_RES                            IMPT 00000000   2091 
_FRAM_CB_ICHAR                            IMPT 00000000   2734  4088 
_HEX4B_BCD8B                     P             000011F0   6215*
_HINBAN_BUF_MAX                           EQU  00000006   2815* 5353  6374  6396 
_HINBAN_DATA_SFT                 P             0000105C   5730  5877*
_HINBAN_START_DATA_MOV           P             00000DC4   5201  5244  5390*
_HINBAN_STOP_DATA_MOV            P             00000DF4   5174  5229  5415*
_ICHAR_DATA_CHK                  P             0000037C   3154  3194*
_IROCK_CHAR                               IMPT 00000000   2732  3334 
_IROCK_OUT_NO                             IMPT 00000000   2731  3250 
_KMT_10MSEC_TIM                  P             00000250   2897  2921*
_KMT_1CYCLE_SET                  P             00000298   2982* 3024 
_KMT_1CYCLE_SIGCHK               P             000002BC   2831  3009*
_KMT_1CYCL_SIGTIM                Bwkram1       000004AE   2987  3038  6338*
_KMT_ACKSIG_IN                   P             00000AA0   4669* 4713  4832 
_KMT_CHK_CHRNO                   Bwkram1       0000049C   3215  3252  3305  6334*
_KMT_CMDTRS_CHK                  P             000009C4   4323  4339  4355  4372  4395  4419  4498*
_KMT_CMD_INIT                    P             00000A10   4530  4558*
_KMT_CMD_TRS                     P             000008CC   2848  4260*
_KMT_COM1_AREA                   Bwkram1       00000520   4146  4152  4154  4204  6353*
_KMT_DLYSCAN_TIM                 Bwkram1       0000047A   2297  6331*
_KMT_EVENT_CHAR                  Bwkram1       0000046E   3339  3515  6326*
_KMT_EVENT_CHGF                  Bwkram1       00000478   3199  3361  3494  6330*
_KMT_EVENT_FLG                   Bwkram1       0000046C   3488  3535  3557  3574  3616  3645  6325*
_KMT_EVENT_INT_STEP              P             000004D0   3161  3471*
_KMT_EVENT_SIGTIM                Bwkram1       00000476   2952  3587  3603  3623  3638  6327*
_KMT_HANDWDT_CNT                 Bwkram1       000004B2   3815  3853  6343*
_KMT_HANDWDT_TIM                 Bwkram1       000004B4   2944  3789  6344*
_KMT_HANDWR_FLG                  Bwkram1       000004B0   3673  3712  3747  6342*
_KMT_HAND_WDTCHK                 P             0000066C   3681  3736  3775*
_KMT_HINBAN_BUF_MAK1             P             00000D90   5168  5195  5223  5238  5346*
_KMT_HINBAN_CHGF                 Bwkram1       0000058E   5275  5321  5655  6367*
_KMT_HINBAN_FLG                  Bwkram1       0000058A   5649  5722  5745  5762  5826  5855  6363*
_KMT_HINBAN_MAKE                 P             00000C9C   5070  5131*
_KMT_HINBAN_SEL                  Bwkram1       0000058C   5671  5767  6364*
_KMT_HINBAN_SIGTIM               Bwkram1       00000588   2927  5799  5813  5833  5848  6362*
_KMT_HINBAN_STEP                 P             00000F14   5075  5634*
_KMT_HINBAN_TRG_FLG              Bwkram1       00000592   5319  5368  5894  5895  6374*
_KMT_HINBAN_TRG_NUM              Bwkram1       00000590   5177  5204  5232  5247  5281  5351  5881  6373*
_KMT_HMI_HINBAN_BUF              Bwkram1       000005E4   5365  5689  5891  5892  6396*
_KMT_HMI_SYOUMO_DAT              Bwkram1       000005A4   6049  6395*
_KMT_OLD_CHRNO                   Bwkram1       0000047C   3251  3290  6332*
_KMT_PROC_10MS                   Bwkram1       00000586   2878  6359*
_KMT_REQSIG_OUT                  P             00000A84   4617  4641* 4731  4777  4865  4906 
_KMT_REQ_SIG                     Bwkram1       00000016   4613  4647  4716  4726  4772  4835  4860  4901  6259*
_KMT_SEQ_REF1                    P             00000310   2837  3084*
_KMT_STS1MN_SQ87                 Bwkram1       0000051E   3105  3580  3610  3837  3857  4075  5774  5791  5820  6121  6151  6351*
_KMT_STS1RD_FLG                  Bwkram1       000004B6   3897  3921  3963  6347*
_KMT_STS1_AREA                   Bwkram1       000004BA   3808  3951  4012  4033  4054  4064  4087  5017  6350*
_KMT_STS1_SET                    Bwkram1       000004B8   3966  3999  6349*
_KMT_STS_SQ087                   Bwkram1       000004AC   2990  3032  3057  3107  6337*
_KMT_SYOUMO_CHGF                 Bwkram1       000005A2   5984  6028  6388*
_KMT_SYOUMO_FLG                  Bwkram1       000005A0   6022  6084  6098  6115  6157  6186  6387*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    86

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_KMT_SYOUMO_MAKE                 P             000010CC   5952  5978*
_KMT_SYOUMO_SIGTIM               Bwkram1       0000059E   2935  6128  6144  6164  6179  6386*
_KMT_SYOUMO_STEP                 P             000010E0   5957  6007*
_KMT_TRSCMD_ENDCLR               P             00000C30   4797  4956  4978*
_KMT_TRSLT_CNT                   Bwkram1       00000020   4525  4565  4747  4885  4930  6266*
_KMT_TRSLT_DAT                   Bwkram1       00000022   4572  4753  4850  4923  6267*
_KMT_TRSLT_MEMKND                Bwkram1       0000001C   4516  4608  6264*
_KMT_TRSLT_OBJADR                Bwkram1       0000001E   4520  4762  4892  6265*
_KMT_TRSLT_TOPADR                Bwkram1       00000018   4512  4568  4925  4986  6263*
_KMT_TRSPV_CNT                   Bwkram1       00000012   4596  4745  4760  4847  4854  4883  4890  6257*
_KMT_TRSSV1_CMD                  Bwkram1       00000224   3531  3567  3708  3740  3917  3941  4185  4217  4502  4988  5718  5755 
                                                          6080  6108  6275*
_KMT_TRSSV1_CNT                  Bwkram1       0000022A   3512  3698  3912  4200  4523  5686  6046  6278*
_KMT_TRSSV1_DAT                  Bwkram1       0000022C   3516  3701  3704  3810  3950  4205  4570  4927  5690  6050  6279*
_KMT_TRSSV1_FORM                 Bwkram1       00000224   3504  3508  3512  3516  3531  3567  3690  3694  3698  3701  3704  3708 
                                                          3740  3810  3904  3908  3912  3917  3941  3950  4185  4192  4196  4200 
                                                          4205  4217  4502  4515  4519  4523  4570  4927  4988  5678  5682  5686 
                                                          5690  5718  5755  6038  6042  6046  6050  6080  6108  6273*
_KMT_TRSSV1_MEMKND               Bwkram1       00000226   3504  3690  3904  4192  4515  5678  6038  6276*
_KMT_TRSSV1_OBJADR               Bwkram1       00000228   3508  3694  3908  4196  4519  5682  6042  6277*
_KMT_TRSSV1_TOP                  Bwkram1       00000224   3504  3508  3512  3516  3531  3567  4321  6274*
_KMT_TRSSV2_TOP                  Bwkram1       0000023C   3690  3694  3698  3701  3704  3708  3740  3810  4337  6283*
_KMT_TRSSV3_TOP                  Bwkram1       00000248   3904  3908  3912  3917  3941  3950  4353  6291*
_KMT_TRSSV4_TOP                  Bwkram1       000002B4   4185  4192  4196  4200  4205  4217  4370  6299*
_KMT_TRSSV5_TOP                  Bwkram1       0000033C   4393  5678  5682  5686  5690  5718  5755  6308*
_KMT_TRSSV6_TOP                  Bwkram1       000003E4   4417  6038  6042  6046  6050  6080  6108  6316*
_KMT_TRS_CMD                     Bwkram1       00000010   4265  4509  4599  4983  6256*
_KMT_TRS_SCAN                    Bwkram1       00000014   4275  6258*
_KMT_TRS_STP_RD                  P             00000B54   4453  4826*
_KMT_TRS_STP_WR                  P             00000AB4   4439  4707*
_KMT_TYPE_011_CHK                P             00000C4C   2354  5012*
_KMT_TYP_011                     Bwkram1       00000584   2348  4386  4410  5036  6358*
_KMT_USE_CHRNO                   Bwkram1       0000048C   3291  3402  6333*
_KOMTRAX_DATA_CTRL               P             000001F8   2230  2825*
_KOMTRAX_EVENT_MAIN              P             00000360   2317  3148*
_KOMTRAX_HAND_WRITE              P             000005E0   2322  3667*
_KOMTRAX_HINBAN_MAIN             P             00000C80   2376  5064*
_KOMTRAX_PVDAT_MAKE              P             00000842   2337  4139*
_KOMTRAX_PVDAT_WRITE             P             00000874   2342  4179*
_KOMTRAX_STATUS_READ             P             000006F4   2327  3892*
_KOMTRAX_STAUS_MAKE              P             00000780   2332  3994*
_KOMTRAX_SYOUMO_MAIN             P             000010B0   2381  5946*
_KOMTRAX_TIMCNT                  P             00000220   2236  2869*
_MEM_ARI                                  IMPT 00000000   2155 
_MEM_BNK_ADR1                             IMPT 00000000   2156 
_PVP_MENTE_CNT                            IMPT 00000000   4137  4149 
_PVP_POWER_MONI                           IMPT 00000000   4136  4144 
_SEQ_024_SV                               IMPT 00000000   2183  2217  2291 
_SEQ_DP_TOP                               IMPT 00000000   2184  3092  3101  3115  5028 
_SQ086                                    EQU  000000AC   2755* 3101 
_SQ087                                    EQU  000000AE   2756* 3115 
_SQ113                                    EQU  000000E2   2753* 5028 
_SQ149                                    EQU  0000012A   2754* 3092 
_START_ACK_COD                            EQU  00004321    213*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    87

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_START_REQ_COD                            EQU  00009876    212*
_SV0SP_BAD_CNT                            IMPT 00000000   5104  5423 
_SV0SP_KATA_MEMO                          IMPT 00000000   5107  5425 
_SV0SP_KATA_NAME                          IMPT 00000000   5106  5424 
_SV0SP_KATA_NO                            IMPT 00000000   5105 
_SV0SP_ORDER_COD                          IMPT 00000000   5102  5421 
_SV0SP_PLAN_CNT                           IMPT 00000000   5103  5422 
_SV0SP_WORKER_COD                         IMPT 00000000   5101  5420 
_SV0SR_BAD_CNT                            IMPT 00000000   5113  5398 
_SV0SR_KATA_MEMO                          IMPT 00000000   5116  5400 
_SV0SR_KATA_NAME                          IMPT 00000000   5115  5399 
_SV0SR_KATA_NO                            IMPT 00000000   5114 
_SV0SR_ORDER_COD                          IMPT 00000000   5111  5396 
_SV0SR_PLAN_CNT                           IMPT 00000000   5112  5397 
_SV0SR_WORKER_COD                         IMPT 00000000   5110  5395 
_SV0_WORK_STP_FLG                         IMPT 00000000   5100  5143  5419 
_SV0_WORK_STR_FLG                         IMPT 00000000   5109  5141  5394 
_VUPCHECK_EQU                             EQU  11AB3739     98*
__ASCII_0                                 EQU  00000030   5543* 5563  5569  5577  5583  5591  5597  5605  5611 
__CYCLE_SIG_TIMSV                         EQU  00000014   2796* 2986 
__EVENT_SIG_OFTIMSV                       EQU  00000032   2793* 3622 
__EVENT_SIG_ONTIMSV                       EQU  00000032   2792* 3586 
__HINBAN_SIG_OFTIMSV                      EQU  00000064   2809* 5832 
__HINBAN_SIG_ONTIMSV                      EQU  00000064   2808* 5798 
__KMTCMD_RD                               EQU  00000002   2758* 3916  4270  4508 
__KMTCMD_WR                               EQU  00000001   2757* 3530  3707  4216  4267  4508  5717  6079 
__SITM_AIDAT1                             EQU  0000000C   2769* 4146  4195  4204 
__SITM_AIDTCNT                            EQU  00000008   2770* 4199  4203 
__SITM_CHRCNT                             EQU  00000008   2767* 3511 
__SITM_CHRTOP1                            EQU  00000004   2766* 3507 
__SITM_ERRSTS1                            EQU  0000006A   2782* 4033 
__SITM_HANDCNT                            EQU  00000002   2764* 3697 
__SITM_HANDRD                             EQU  00000064   2779* 3808 
__SITM_HANDWR                             EQU  00000000   2763* 3693 
__SITM_HINBAN_CNT                         EQU  000000A0   2805* 5361  5685  5691  5891  5906  6396 
__SITM_HINBAN_TOP                         EQU  00000108   2804* 5681 
__SITM_KMTTYPE                            EQU  00000070   2785* 5017 
__SITM_MCNTCNT                            EQU  00000004   2773* 4199  4203 
__SITM_MENTCNT                            EQU  00000014   2772* 4152  4154 
__SITM_OUTCNT                             EQU  00000020   2777* 3911  3949 
__SITM_OUT_TOP                            EQU  00000064   2776* 2779  2781  2782  2783  2784  2785  3808  3907  4012  4033  4054 
                                                          4064  5017 
__SITM_SYOUMO_CNT                         EQU  00000040   2802* 6045  6051  6395 
__SITM_SYOUMO_TOP                         EQU  000000C8   2801* 6041 
__SITM_TRSSTS1                            EQU  00000068   2781* 4012 
__SITM_TRSSTS2                            EQU  0000006E   2784* 4064 
__SITM_WARSTS1                            EQU  0000006C   2783* 4054 
__SIT_VER_TYP2_COD                        EQU  00005A01   2789* 5024 
__SYOUMO_SIG_OFTIMSV                      EQU  00000014   2812* 6163 
__SYOUMO_SIG_ONTIMSV                      EQU  00000014   2811* 6127 
__TM_LATE01MS                             EQU  00000001   2187*
__TM_LATE10MS                             EQU  0000000A   2188* 2792  2793  2808  2809  2811  2812  3772 
__WDT_TIM_SET_DAT                         EQU  0000000B   3772* 3804 
__WDT_UP_ERR_CNT                          EQU  00000064   3773* 3818 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 19:29:19                                                  PAGE    88

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

Bfram                            REL-DATA    000000000        
P                                REL-CODE    0000011F8        
Bwkram1                          REL-DATA    0000009A4        
