*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     位置決め                                ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 6045                              38     
 6046 00000000                     39             .SECTION        P,CODE                  ;
 6047                              40     
 6048                              41     
 6049          00000014            42     _SGL_CMPERR_CNTMAX      .EQU    20      ;2;(600回確認済み) 2005-04-14(4/18)
 6050          000007D0            43     _PLS_ERR_HABPLS1        .EQU    2000    ;2000pls
 6051                              44     
 6052                              45     
 6053          00001770            46     _SYNC_ERR_HABPLS1       .EQU    6000    ;2000pls(連続の異常範囲)
 6054          000007D0            47     _SYNC_ERR_HOSHAB        .EQU    2000    ;500pls(この範囲にある時補正はしない) 1msec=MAX500
                                          pls
 6055          00000064            48     _SYNC_ERR_HOSHAB_M      .EQU    100     ;100pls(この範囲にある時補正はしない)
 6056                              49     
 6057          00000064            50     _SYNC_GEN_HOS_ERR       .EQU    100     ;<==1000
 6058          00000001            51     _SYNC_GEN_HOS_HAB       .EQU    1       ;<==10
 6059          00000001            52     _SYNC_GEN_HOS_ADD       .EQU    1       ;
 6060                              53     
 6061          00000003            54     _LSI_RETRY_ERR_MAX      .EQU    3       ;
 6062          0000000A            55     _LSI_CMP_ERR_MAX        .EQU    10      ;
 6063                              56     
 6064                              57     
 6065          0000000F            58     _LSI_G_HOS_SPD          .EQU    15      ;500K=65535 250K=32767 1%=327 0.1%=32 (15代わった
                                          ら)
 6066          00080000            59     _DBG_XOR_SIG            .EQU    BIT3*H'10000    ;
 6067                              60     
 6068                              61     ;;2015-07-07 移動 _OVRLIDE_LATE_MAX     .EQU    100             ;1~100% 2006-09-19
 6069          00E4E1C0            62     _GENSOK_LNGTH_MAX       .EQU    30*500000       ;30秒×500,000HZ=E4,E1C0 2006-09-19
 6070          000003E8            63     _ACC_UNIT               .EQU    1000            ;1msec
 6071                              64     
 6072                              65     _CMP_ERR_SPEC_ENB       .DEFINE "0"     ;//noなら新ｱｸｾｽ部のLSI異常を見ない
 6073                              66     _OBJ_PLS_CTL_TYP        .DEFINE "1"     ;//
 6074                              67     
 6075                              68     
 6076                              69     ;       ***********************************
 6077                              70     ;       ***     2010-10-05              ***
 6078                              71     ;       ***********************************
 6079                              72     _X_SET_PV_ABS_TO_OBJ                    .DEFINE "_dum_SET_PV_ABS_TO_OBJ"        ;
 6080                              73     _X_LINK_PV_ABSPLS                       .DEFINE "_LINK_RL_OBJ_ABSPLS"           ;
 6081                              74     
 6082                              75             .IMPORT _PV_POWER_ON_CNT                        ;
 6083                              76             .IMPORT _CPU_CTRL_CLK                           ;
 6084                              77     
 6085                              78             .IMPORT _SVP_MACINE_SEL1
 6086                              79             .IMPORT _CHK_DNM_SPEC_MOD1
 6087                              80     
 6088                              81     
 6089                              82     ;       //      ***********************************
 6090                              83     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 6091                              84     ;       //      ***********************************
 6092                              85     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE     2
PROGRAM NAME =

 6093                              86     
 6094                              87             .IMPORT         _CPOS_INI1_DTMOV1;ssa_dtmk.src
 6095                              88             .IMPORT         _CPOS_INI1_DTMOV2;ssa_dtmk.src
 6096                              89             .IMPORT         _CPOS_ROT_NUM_SET;ssa_dtmk.src
 6097                              90             .IMPORT         _CPOS_ABS_POS_SET;ssa_dtmk.src
 6098                              91             .IMPORT         _CPOS_SPD_DTMOV
 6099                              92             .IMPORT         _CPOS_TIM_DTMOV
 6100                              93     
 6101                              94             .IMPORT         _HLDCAM_ABS_POS_SET             ;ssa_dtmk.src 2014-08-30
 6102                              95             .IMPORT         _HLDCAM_BANK2_ABS_POS_SET       ;ssa_dtmk.src 2014-08-30
 6103                              96     
 6104                              97     
 6105                              98             .IMPORT         _DIG_LNGTH_CALC1;ssa_sca1.src
 6106                              99     ;;;;    .IMPORT         _POS_INC_TO_OUT_CHG_MOD 使用されない
 6107                             100     ;;;;    .IMPORT         _POS_OUT_TO_INC_CHG　使用されない
 6108                             101     
 6109                             102             .IMPORT         _ORGIN_MODE_INI         ;ssa_else.src
 6110                             103             .IMPORT         _ORGIN_MODE_SMP         ;
 6111                             104             .IMPORT         _ORGIN_MODE_END         ;
 6112                             105     ;;;;;   .IMPORT         _ORGIN2_MODE_END        ;
 6113                             106     
 6114                             107             .IMPORT         _LOT_SIG_SET            ;
 6115                             108     
 6116                             109             .IMPORT         _CYCLE_TIME_REFLASH_START
 6117                             110             .IMPORT         _CYCLE_TIME_REFLASH_END
 6118                             111             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6119                             112     
 6120                             113             .IMPORT         _NOW_INC_DIG_MAK        ;DTMK
 6121                             114     
 6122                             115             .IMPORT _DAT_MOSTPOS_SIG_CLR
 6123                             116             .IMPORT _DAI_MOSTPOS_SMPINI
 6124                             117             .IMPORT _DAI_MOSTPOS_SMPLE
 6125                             118             .IMPORT _DAI_MOSTPOS_CMPARE
 6126                             119     
 6127                             120             .IMPORT _DAI_FULL_SCALE_SMP_INI ;
 6128                             121             .IMPORT _DAI_FULL_SCALE_SMPLE   ;
 6129                             122             .IMPORT _DAI_FULL_SCALE_SMP_END ;
 6130                             123     
 6131                             124             .IMPORT _ORG_END_SIG_CLR;
 6132                             125     
 6133                             126             .IMPORT _CMPAB_NEAR_END_PROC    ;
 6134                             127             .IMPORT _CMPAB_STEP_END_PROC    ;
 6135                             128     
 6136                             129             .IMPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
 6137                             130             .IMPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
 6138                             131             .IMPORT _CMPSTP_POS_START_CLR;//起動したい
 6139                             132             .IMPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6140                             133             .IMPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
 6141                             134             .IMPORT _CMPSTP_CNT_STOP_CLR;//連続停止
 6142                             135             .IMPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
 6143                             136             .IMPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6144                             137             .IMPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6145                             138     
 6146                             139             .IMPORT _CMPEMG_EXQ_FLG_CLR;
 6147                             140             .IMPORT _POS_CMP_1STEP_START_INI
 6148                             141     
 6149                             142             .IMPORT _STOP_LTH_OUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE     3
PROGRAM NAME =

 6150                             143             .IMPORT _LOT_SIG_FLG_CLR                        ;通常の連続
 6151                             144             .IMPORT _STOPPING_TIM_STOP_INI
 6152                             145     
 6153                             146             .IMPORT _POS_OVER_RUN_CHK1      ;[S01m 2003-04-03]
 6154                             147     
 6155                             148             .IMPORT         _BRK_ERR_WORK_CLR1              ;ERR1.SRC
 6156                             149     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6157                             150     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6158                             151     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6159                             152             .IMPORT         _BRK_ERR_CHK_START4             ;
 6160                             153     
 6161                             154             .IMPORT         _SET_NZ_TIM_DAT
 6162                             155             .IMPORT         _NZ_TIM_CHK1
 6163                             156     
 6164                             157     ;       ======= 2004-12-20 ==
 6165                             158             .IMPORT         _BANK2_CPOS_ABS_POS_SET ;2004-12-20 ssa_dtmk
 6166                             159             .IMPORT         _BANK2_TO_BANK1_MOV     ;
 6167                             160     
 6168                             161     ;       ======= 2006-07-28 ==
 6169                             162             .IMPORT _DND_POS_START_DAT_INI
 6170                             163     
 6171                             164             .AIF    0 EQ    0
 6172                             165 C   
 6173                             166 C           .IMPORT _VIB_PLS_OUT_ON         ;2010-08-23加振動制御 ssa_kjyu.inc
 6174                             167 C           .IMPORT _VIB_PLS_OUT_OF         ;2010-08-23加振動制御 ssa_kjyu.inc
 6175                             168 C   
 6176                             169 C           .IMPORT _API_IVW_CYC_START                      ;2010-09-21
 6177                             170 C           .IMPORT _API_IVW_CYC_END                        ;2010-09-21
 6178                             171 C   
 6179                             172 C   ;;;;;2012-10-19 .IMPORT _OVERH_CYC_START                        ;2012-09-25
 6180                             173 C           .IMPORT _OVERH_CYC_END                          ;2012-09-25
 6181                             174 C   
 6182                             175             .AENDI
 6183                             176     
 6184                             177             .IMPORT _API_BREAK_VALV_FLG_ON
 6185                             178             .IMPORT _API_BREAK_VALV_FLG_OF
 6186                             179     
 6187                             180     ;       //      ***********************************
 6188                             181     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6189                             182     ;       //      ***********************************
 6190                             183             .IMPORT         _LONG_BIT_TBL0
 6191                             184             .IMPORT         _SQ_CBWK_TOP
 6192                             185     ;       ====================================
 6193                             186             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6194                             187             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6195                             188             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6196                             189             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6197                             190             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6198                             191             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6199                             192             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6200                             193             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6201                             194             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6202                             195             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6203                             196             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6204                             197             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6205                             198             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6206                             199             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE     4
PROGRAM NAME =

 6207                             200     
 6208                             201     ;       ==== 2003-07-09 ===
 6209                             202             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更
 6210                             203             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6211                             204     
 6212                             205             .GLOBAL         _PAR_INSERT_SMPTM       ;2012-09-25
 6213                             206             .GLOBAL         _CB_SYS_PARAM000        ;2012-09-25
 6214                             207             .GLOBAL         _PAR_INCSPD_UPLMT       ;
 6215                             208             .GLOBAL         _PAR_STOPTIM_SEL        ;
 6216                             209     
 6217                             210     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT1         ;
 6218                             211     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT1         ;
 6219                             212     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT2         ;
 6220                             213     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT2         ;
 6221                             214     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT3         ;
 6222                             215     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT3         ;
 6223                             216     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT4         ;
 6224                             217     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT4         ;
 6225                             218     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT5         ;
 6226                             219     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT5         ;
 6227                             220     
 6228                             221             .IMPORT         _PVP_CB_A_VER           ;
 6229                             222             .IMPORT         _SH4_GPOINT_LNG         ;
 6230                             223             .IMPORT         _SH2_GPOINT_LNG         ;
 6231                             224     
 6232                             225             .IMPORT         _KJPHOS_SMPINI          ;2004-07-05
 6233                             226             .IMPORT         _KJPHOS_SMPLING_END1    ;2004-07-05
 6234                             227     
 6235                             228             .IMPORT         _ORIGIN_POS_CHK_INI2    ;2011-03-23 待機点移動完了
 6236                             229     
 6237                             230             .IMPORT         _UP_ACCERR_START_INI    ;2011-08-29
 6238                             231     
 6239                             232             .IMPORT         _PVPAB_KAJLIV_TTL               ;//荷重生（TON）(1word)
 6240                             233     
 6241                             234     
 6242                             235             .IMPORT         _POS_HOLD_FLG_STR2CLR           ;2014-09-12
 6243                             236     
 6244                             237     ;       //      ***********************************
 6245                             238     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6246                             239     ;       //      ***********************************
 6247                             240             .EXPORT         _INT_POS_CTRL           ;-->ssa_k.src
 6248                             241             .EXPORT         _INT_POS_DATA_REF       ;-->ssa_k.src
 6249                             242     
 6250                             243             .EXPORT         _EMG_POS_FLG_PROC
 6251                             244             .EXPORT         _EXQ_POS_FLG_PROC
 6252                             245     
 6253                             246             .EXPORT         _MN_POS_CTRL_START              ;===>ssa_ctrl
 6254                             247             .EXPORT         _MN_POS_CTRL_ACT                ;===>ssa_ctrl
 6255                             248     
 6256                             249             .EXPORT         _FWD_REV_STSIG_OFF      ;SSA_CTRL1 2004-01-26
 6257                             250             .EXPORT         _POS_LSI_SLOW_STOP      ;SSA_CTRL1 2004-01-26
 6258                             251     
 6259                             252             .EXPORT _POS_LSI_START_INITAL           ;SPEED,LATE
 6260                             253             .EXPORT _POS_LSI_TOP_SPEED_SET  ;SPEED
 6261                             254             .EXPORT _LENGH_ADD_CALC         ;
 6262                             255             .EXPORT _LENGH_ADD_CALC_SV_TYPE ;
 6263                             256     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE     5
PROGRAM NAME =

 6264                             257             .EXPORT _POS_LENGTH_ADD_DATA    ;
 6265                             258             .EXPORT _POS_PLS_OUTPUT_DATA    ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
 6266                             259             .EXPORT _FWD_REV_START          ;起動
 6267                             260             .EXPORT _LOD_POS_STS_REG        ;
 6268                             261             .EXPORT _LOD_POS_STS_REG_POR    ;
 6269                             262             .EXPORT _FWD_REV_STSIG_OFF_SPEC ;
 6270                             263     
 6271                             264             .EXPORT _SET_PV_ABS_TO_OBJ      ;20060919
 6272                             265             .EXPORT _CHG_LSI_LATE_TO_PLS    ;20060919
 6273                             266             .EXPORT _OVERLID_DEF_SET        ;20060919
 6274                             267     
 6275                             268             .IMPORT _DIG01_CHG_DN_DATA_MAKE ;[20091007下振子]
 6276                             269     
 6277                             270             .IMPORT         _DIG36000_CHG_RENEA1            ;360.00度-->0.001mm
 6278                             271             .IMPORT _SVP_OBJECT_SPD_TOP     ;01段目移動速度
 6279                             272             .IMPORT _SVP_UPAREA_SPD0        ;0.1%　戻り速度
 6280                             273     
 6281                             274     ;       ------
 6282                             275             .IMPORT _CYCLE_SPD1             ;
 6283                             276     
 6284                             277             .IMPORT _INC_RST_WORK_CLR       ;
 6285                             278     
 6286                             279     ;;;     _BRK_SADOU_CHG EQ 1
 6287                             280     ;       ------ 2015-09-06(H2W 2015-03-15,H1F 2015-07-14)-------
 6288                             281     ;       -------- 2015-07-14------
 6289                             282             .IMPORT _PAR_MYUBRK_TIM1        ;[H1F=未作or無][H2W=2015-03-16 行程終了時　ﾐｭｰﾃﾝｸﾞ
                                          切替時間]
 6290                             283             .IMPORT _PAR_MYUBRK_TIM2        ;[H1F=未作or無][H2W=2015-03-16 終了時　ﾐｭｰﾃﾝｸﾞ切替
                                          時間]
 6291                             284             .IMPORT _PAR_MYU_BRK_SEL        ;[H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK
                                          :LOCK]
 6292                             285             .IMPORT _PAR_SELF_WAIT_TM       ;P22ｾﾙﾌﾁｪｯｸまたは位置決めからﾛｯｸ開始遅延時間(停止
                                          確認用)
 6293                             286     
 6294                             287     ;       ***************************************************
 6295                             288     ;       ***                                             ***
 6296                             289     ;       ***                                             ***
 6297                             290     ;       ***                                             ***
 6298                             291     ;       ***             位置決めＬＳＩアクセス          ***
 6299                             292     ;       ***                                             ***
 6300                             293     ;       ***                                             ***
 6301                             294     ;       ***                                             ***
 6302                             295     ;       ***************************************************
 6303                             296     ;       ?加減速時間の演算と指令周波数の演算
 6304                             297     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
 6305                             298     ;       "_poslsi1_top"
 6306                             299     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
 6307                             300     ;       *速度周波数の演算
 6308                             301     ;       *ベース周波数=1?
 6309                             302     ;       *加速時間
 6310                             303     ;       *急停止の時間
 6311                             304     ;       ***********************************
 6312                             305     ;       ***                             ***
 6313                             306     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
 6314                             307     ;       ***                             ***
 6315                             308     ;       ***********************************
 6316                             309     ;       25MHZ*1/N*1/LATE=65535
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE     6
PROGRAM NAME =

 6317                             310             .IMPORT _poslsi1_top
 6318                             311     ;;;;_PLS_OUTPUT_MAX             .EQU    H'7FFF  ;
 6319          00FFFFFF           312     _PLS_OUTPUT_MAX         .EQU    H'00FFFFFF;128倍までは余裕あり
 6320          00000000           313     _PLSI_CH1               .equ    0
 6321          00000030           314     _PLSI_CH2               .equ    h'30
 6322                             315     
 6323          00000000           316     _PLS_BitComdL           .equ    h'0     ;R/W
 6324                             317     ;;_PLS_BitComdH         .equ    h'2     ;R/W
 6325          00000004           318     _PLS_BitInfoL           .equ    h'4     ;R
 6326                             319     ;;_PLS_BitInfoH         .equ    h'6     ;R
 6327          00000008           320     _PLS_TopFreqL           .EQU    H'8     ;R/W ﾄｯﾌﾟ周波数
 6328                             321     ;;_PLS_TopFreqH         .EQU    H'A     ;R/W
 6329          0000000C           322     _PLS_BasFreqL           .EQU    H'C     ;R/W ﾍﾞｰｽ周波数
 6330                             323     ;;_PLS_BasFreqH         .EQU    H'E     ;R/W
 6331          00000010           324     _PLS_NowFreqL           .EQU    H'10    ;R/W 現在周波数
 6332                             325     ;;_PLS_NowFreqH         .EQU    H'12    ;R/W
 6333          00000014           326     _PLS_OutPposL           .EQU    H'14    ;R/W 指令ﾊﾟﾙｽ数(これに払い出したいﾃﾞｰﾀを入れる:残
                                          量ｶｳﾝﾀでもある)
 6334                             327     ;;_PLS_OutPposH         .EQU    H'16    ;R/W
 6335          00000018           328     _PLS_GNpointL           .EQU    H'18    ;R/W 減速点
 6336                             329     ;;_PLS_GNpointH         .EQU    H'1A    ;R/W
 6337          0000001C           330     _PLS_AccLate1           .EQU    H'1C    ;R/W 通常運転加減速(減速指令時)
 6338          0000001E           331     _PLS_AccLate2           .EQU    H'1E    ;R/W 急停止加減速(急停止指令時)
 6339          00000020           332     _PLS_SpedLate           .EQU    H'20    ;R/W 周波数のLATE
 6340          00000022           333     _PLS_OutcntPS           .EQU    H'22    ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(1回の起動での払出ﾊﾟﾙｽ数up-cnt)
 6341          00000024           334     _PLS_NowPos1L           .equ    h'24
 6342                             335     ;;_PLS_NowPos1H         .equ    h'26
 6343          00000028           336     _PLS_NowPos2            .equ    h'28
 6344          0000002A           337     _PLS_CtrlReg            .equ    h'2A
 6345                             338     
 6346                             339     
 6347          00000000           340     _PLSI_CH_COM            .EQU    0
 6348          0000007E           341     _PLS_LTCHReg            .EQU    H'7E    ;LATCH
 6349                             342     
 6350                             343     ;       *******************************************
 6351                             344     ;       ***                                     ***
 6352                             345     ;       ***     DE LATCH                        ***
 6353                             346     ;       ***     32BIT ﾃﾞｰﾀを読み込む時のラッチ  ***
 6354                             347     ;       ***                                     ***
 6355                             348     ;       *******************************************
 6356                             349             .MACRO  PLS_READ_LATCH          ;ﾚｼﾞｽﾀ破壊せず
 6357                             350             PUSH_REG1 R0                                            ;
 6358                             351             MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
 6359                             352             MOV.W   @R0,R0                                          ;
 6360                             353             POP_REG1 R0                                             ;
 6361                             354             .ENDM
 6362                             355     
 6363                             356     ;       ***************************************************
 6364                             357     ;       ***     *CSを一旦上げてWAITを作成する為         ***
 6365                             358     ;       ***************************************************
 6366                             359             .MACRO  POS_LSI_WORD_DUM_LOD    ;ﾚｼﾞｽﾀ破壊せず
 6367                             360             PUSH_REG1 R0
 6368                             361             MOV.L   #_PVP_CB_A_VER,R0       ;
 6369                             362             MOV.W   @R0,R0
 6370                             363             POP_REG1 R0
 6371                             364             .ENDM
 6372                             365     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE     7
PROGRAM NAME =

 6373                             366             .MACRO  POSLSI_RD_WR_WAIT_NOP
 6374                             367             NOP
 6375                             368             NOP
 6376                             369             NOP
 6377                             370             NOP
 6378                             371             NOP
 6379                             372             NOP
 6380                             373             NOP
 6381                             374             NOP
 6382                             375             NOP
 6383                             376             NOP
 6384                             377             .ENDM
 6385                             378     
 6386                             379             .MACRO  TIM_CNT_ADD MEM,LG,ADR_REG,DAT_REG,LATE
 6387                             380             MOV.L   #\MEM,\ADR_REG          ;
 6388                             381             MOV.\LG @\ADR_REG,\DAT_REG      ;
 6389                             382             ADD     #\LATE,\DAT_REG         ;
 6390                             383             MOV.\LG \DAT_REG,@\ADR_REG      ;
 6391                             384             .ENDM
 6392                             385     
 6393                             386             .MACRO  eSHi_SET_MEM_MOV SRC,L1,DST,L2
 6394                             387             PUSH_REG1 R0
 6395                             388             PUSH_REG1 R1
 6396                             389             MOV.L   #\SRC,R1        ;
 6397                             390             MOV.\L1 @R1,R0          ;
 6398                             391             MOV.L   #\DST,R1        ;
 6399                             392             MOV.\L2 R0,@R1          ;
 6400                             393             POP_REG1 R1
 6401                             394             POP_REG1 R0
 6402                             395             .ENDM
 6403                             396     
 6404                             397             .MACRO  eSHi_SET_REG_MOV DST,L1,SETREG,WKREG1
 6405                             398             PUSH_REG1 \WKREG1               ;
 6406                             399             MOV.L   #\DST,\WKREG1           ;
 6407                             400             MOV.\L1 \SETREG,@\WKREG1        ;
 6408                             401             POP_REG1 \WKREG1                ;
 6409                             402             .ENDM
 6410                             403     
 6411                             404             .MACRO  eSHi_SET_IM_MOV DST,L1,WKREG1,WKREG2,IMD
 6412                             405             PUSH_REG1 \WKREG1               ;
 6413                             406             PUSH_REG1 \WKREG2               ;
 6414                             407             MOV.W   #\IMD,\WKREG2           ;
 6415                             408             MOV.L   #\DST,\WKREG1           ;
 6416                             409             MOV.\L1 \WKREG2,@\WKREG1        ;
 6417                             410             POP_REG1 \WKREG2                ;
 6418                             411             POP_REG1 \WKREG1                ;
 6419                             412             .ENDM
 6420                             413     
 6421                             414     
 6422                             415     
 6423                             416     ;       *******************************************
 6424                             417     ;       ***     WRITEｱｸｾｽ開始時にON(H)          ***
 6425                             418     ;       *******************************************
 6426                             419     
 6427                             420             .AIF    0 EQ    0
 6428                             421 C           .IMPORT _PDTRA
 6429                             422             .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE     8
PROGRAM NAME =

 6430                             423     
 6431                             424             .MACRO  DEBUG_LSI_ACS_ON2_BIT BITDT
 6432                             425     
 6433                             426             .AIF    0 EQ    0
 6434                             427     ;;      (波形測定時)
 6435                             428             PUSH_REG1 R0
 6436                             429             PUSH_REG1 R1
 6437                             430             PUSH_REG1 R2
 6438                             431             MOV.L   #_PDTRA,R1                      ;
 6439                             432             MOV.W   @R1,R0                          ;
 6440                             433             MOV.W   #\BITDT,R2                      ;
 6441                             434             OR      R2,R0                           ;
 6442                             435             MOV.W   R0,@R1                          ;
 6443                             436     
 6444                             437             POP_REG1 R2
 6445                             438             POP_REG1 R1
 6446                             439             POP_REG1 R0
 6447                             440             .AENDI
 6448                             441     
 6449                             442             .ENDM
 6450                             443     
 6451                             444             .MACRO  DEBUG_LSI_ACS_OF2_BIT BITDT
 6452                             445     
 6453                             446             .AIF    0 EQ    0
 6454                             447     ;;      (波形測定時)
 6455                             448             PUSH_REG1 R0
 6456                             449             PUSH_REG1 R1
 6457                             450             PUSH_REG1 R2
 6458                             451             MOV.L   #_PDTRA,R1                      ;
 6459                             452             MOV.W   @R1,R0                          ;
 6460                             453             MOV.W   #LWORD ~\BITDT,R2               ;
 6461                             454             AND     R2,R0                           ;
 6462                             455             MOV.W   R0,@R1                          ;
 6463                             456             POP_REG1 R2
 6464                             457             POP_REG1 R1
 6465                             458             POP_REG1 R0
 6466                             459             .AENDI
 6467                             460     
 6468                             461             .ENDM
 6469                             462     
 6470                             463     
 6471                             464     
 6472                             465     ;       ***********************************
 6473                             466     ;       ***                             ***
 6474                             467     ;       ***     起動時呼ばれる          ***
 6475                             468     ;       ***                             ***
 6476                             469     ;       ***********************************
 6477                             470     ;
 6478                             471     ;       ・データのラッチ
 6479                             472             .IMPORT _CPUB_HENSA_FLG_CLR             ;2012-02-08
 6480                             473     ;
 6481 00000000                    474             .ALIGN  4                               ;
 6482 00000000                    475     _MN_POS_CTRL_START:             ;ssa_pos1.src
 6483                             476             SUB_START
 6484 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6485                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6486                             477     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE     9
PROGRAM NAME =

 6487                             478     
 6488                             479     ;       ----------2014-11-10------------
 6489 00000002 222A               480             XOR     R2,R2
 6490 00000004 D12C               481             MOV.L   #_CPOS_CTL_MATH,R1                      ;
 6491 00000006 6011               482             MOV.W   @R1,R0                                  ;
 6492 00000008 C804               483             TST     #_DMATH_DNDRIV,R0                       ;往復?
 6493                             484             TST_BIT_OF MN_POSCTL_ST050                      ;違う
 6494 0000000A 8904                   M           BT      MN_POSCTL_ST050
 6495                             485     
 6496 0000000C D12B               486             MOV.L   #_MODE_SEL,R1                           ;
 6497 0000000E 6011               487             MOV.W   @R1,R0                                  ;
 6498 00000010 C81E               488             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0       ;
 6499                             489             TST_BIT_OF MN_POSCTL_ST050                      ;
 6500 00000012 8900                   M           BT      MN_POSCTL_ST050
 6501                             490     
 6502 00000014 E201               491             MOV.B   #BIT0,R2                                ;対象運転開始
 6503                             492     
 6504 00000016                    493     MN_POSCTL_ST050                                         ;
 6505 00000016 D12A               494             MOV.L   #_MOVE_MODE_MATH_LATCH,R1               ;//0:(ふりこ以外 または 段取・原点
                                          モード)1:(ふりこでﾓｰｼｮﾝしていた)
 6506 00000018 2121               495             MOV.W   R2,@R1                                  ;
 6507                             496     ;       --------------------------------------------------
 6508                             497     
 6509                             498     ;       -------- 2013-02-08-------
 6510                             499     ;;;;;   MOV.L   #_CPOS_CTL_MATH,R1              ;
 6511                             500     ;;;;;   MOV.W   @R1,R0                          ;
 6512                             501     ;;;;;   TST     #_DMATH_DNDRIV,R0               ; 往復?
 6513                             502     ;;;;;   TST_BIT_OF MN_POSCTL_ST200              ;
 6514                             503     
 6515                             504             FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
 6516 0000001A D02A                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6517 0000001C 400B                   M           JSR     @R0                     ;
 6518 0000001E 0009                   M           NOP                                     ;
 6519                             505     
 6520                             506     ;;;;;MN_POSCTL_ST200:                           ;
 6521                             507     
 6522                             508     ;       --------------- 2014-09-12 [HLD後の起動なので再演算しない]-------
 6523                             509     ;;;;収集が付かないのでSET_PV_ABS_TO_OBJの中で抜ける     MOV.L   #_POS_HOLD_RDY_EXITF,R1
                                          ;
 6524                             510     ;;;;収集が付かないので  MOV.W   @R1,R0                          ;
 6525                             511     ;;;;収集が付かないので  TST     #BIT0,R0                        ;
 6526                             512     ;;;;収集が付かないので  TST_BIT_ON MN_POSCTL_START_050          ;
 6527                             513     
 6528                             514     ;       ======== 20060919 ======================
 6529                             515     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
 6530                             516     ;;;;;;  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
 6531                             517     ;       =======================================
 6532                             518     
 6533                             519     ;;;;収集が付かないので  M_BRA   MN_POSCTL_START_060             ;
 6534                             520     ;;;;収集が付かないので
 6535                             521     ;;;;収集が付かないのでMN_POSCTL_START_050:
 6536                             522     ;;;;収集が付かないので  NOP
 6537                             523     ;;;;収集が付かないのでMN_POSCTL_START_060:
 6538                             524     
 6539                             525             FAR_JSR #_PRESET_PV_ABS_TO_OBJ,R0       ;
 6540 00000020 D029                   M           MOV.L   #_PRESET_PV_ABS_TO_OBJ,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    10
PROGRAM NAME =

 6541 00000022 400B                   M           JSR     @R0                     ;
 6542 00000024 0009                   M           NOP                                     ;
 6543                             526     
 6544                             527     
 6545                             528     
 6546                             529     
 6547                             530     
 6548                             531     ;       --------------2013-02-15 寸動制限------------
 6549                             532             FAR_JSR #_INC_UPLIMT_CALC,R0    ;
 6550 00000026 D029                   M           MOV.L   #_INC_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6551 00000028 400B                   M           JSR     @R0                     ;
 6552 0000002A 0009                   M           NOP                                     ;
 6553                             533     
 6554                             534     
 6555                             535     ;       === 2005-04-14-E(4/18) ====
 6556                             536             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
 6557 0000002C D028                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6558 0000002E 400B                   M           JSR     @R0                     ;
 6559 00000030 0009                   M           NOP                                     ;
 6560                             537     
 6561                             538     ;       ----- [2009-10-07下振子]-----
 6562                             539             FAR_JSR #_DNM_CYCLE_START,R0    ;
 6563 00000032 D028                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6564 00000034 400B                   M           JSR     @R0                     ;
 6565 00000036 0009                   M           NOP                                     ;
 6566                             540     
 6567                             541             FAR_JSR #_CPOS_INI1_DTMOV1,R0           ;//運転ﾃﾞｰﾀﾗｯﾁ
 6568 00000038 D027                   M           MOV.L   #_CPOS_INI1_DTMOV1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6569 0000003A 400B                   M           JSR     @R0                     ;
 6570 0000003C 0009                   M           NOP                                     ;
 6571                             542             FAR_JSR #_DND_POS_START_DAT_INI,R0      ;2006-07-28
 6572 0000003E D027                   M           MOV.L   #_DND_POS_START_DAT_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6573 00000040 400B                   M           JSR     @R0                     ;
 6574 00000042 0009                   M           NOP                                     ;
 6575                             543     
 6576                             544             FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
 6577 00000044 D026                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6578 00000046 400B                   M           JSR     @R0                     ;
 6579 00000048 0009                   M           NOP                                     ;
 6580                             545             FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
 6581 0000004A D026                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6582 0000004C 400B                   M           JSR     @R0                     ;
 6583 0000004E 0009                   M           NOP                                     ;
 6584                             546     
 6585 00000050 222A               547             XOR     R2,R2
 6586 00000052 D125               548             MOV.L   #_INT_DND_CTL_STEP,R1;
 6587 00000054 2121               549             MOV.W   R2,@R1
 6588 00000056 D125               550             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
 6589 00000058 2121               551             MOV.W   R2,@R1
 6590                             552     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 6591 0000005A 200A               553             XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
 6592 0000005C D124               554             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 6593 0000005E 2101               555             MOV.W   R0,@R1                          ;
 6594                             556     
 6595                             557     ;       === 2004-12-20 ===
 6596 00000060 D124               558             MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    11
PROGRAM NAME =

 6597 00000062 2101               559             MOV.W   R0,@R1                          ;
 6598                             560     
 6599                             561             FAR_JSR #_CNTREST_HOS_RESET,R1  ;
 6600 00000064 D124                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6601 00000066 410B                   M           JSR     @R1                     ;
 6602 00000068 0009                   M           NOP                                     ;
 6603                             562     
 6604                             563     ;       === 2004-01-26 CCS===
 6605 0000006A 200A               564             XOR     R0,R0
 6606 0000006C D123               565             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
 6607 0000006E 2101               566             MOV.W   R0,@R1                          ;
 6608                             567     
 6609                             568     
 6610                             569     ;       ====== 一旦停止信号OFF=====
 6611                             570             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
 6612 00000070 D123                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 6613 00000072 6011                   M           MOV.W   @R1,R0          ;
 6614 00000074 941F                   M           MOV.W   #LWORD (~BIT9),R4       ;
 6615 00000076 2049                   M           AND     R4,R0           ;
 6616 00000078 2101                   M           MOV.W   R0,@R1          ;
 6617                             571     
 6618                             572             FAR_JSR #_CMPCYC_START_CLR,R0           ;
 6619 0000007A D022                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6620 0000007C 400B                   M           JSR     @R0                     ;
 6621 0000007E 0009                   M           NOP                                     ;
 6622                             573             FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
 6623 00000080 D021                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6624 00000082 400B                   M           JSR     @R0                     ;
 6625 00000084 0009                   M           NOP                                     ;
 6626                             574             FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
 6627 00000086 D021                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6628 00000088 400B                   M           JSR     @R0                     ;
 6629 0000008A 0009                   M           NOP                                     ;
 6630                             575     
 6631                             576             FAR_JSR #_MOTION_CYCLE_START,R0         ;
 6632 0000008C D020                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6633 0000008E 400B                   M           JSR     @R0                     ;
 6634 00000090 0009                   M           NOP                                     ;
 6635                             577     
 6636                             578             FAR_JSR #_POS_LSI_WORK_STOP2,R0
 6637 00000092 D020                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6638 00000094 400B                   M           JSR     @R0                     ;
 6639 00000096 0009                   M           NOP                                     ;
 6640                             579     
 6641 00000098 200A               580             XOR     R0,R0                   ;
 6642 0000009A D11F               581             MOV.L   #_INT_CYC_DRV_STS,R1    ;
 6643 0000009C 2101               582             MOV.W   R0,@R1                  ;
 6644 0000009E D11F               583             MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
 6645 000000A0 2101               584             MOV.W   R0,@R1                  ;
 6646 000000A2 D11F               585             MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
 6647 000000A4 2101               586             MOV.W   R0,@R1                  ;
 6648 000000A6 D11F               587             MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
 6649 000000A8 2101               588             MOV.W   R0,@R1                  ;
 6650                             589     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
 6651                             590     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    12
PROGRAM NAME =

 6652                             591     
 6653                             592     ;;      FAR_JSR #_CPOS_INI1_DTMOV1,R0   ;//運転ﾃﾞｰﾀﾗｯﾁ
 6654                             593     
 6655 000000AA D104               594             MOV.L   #_MODE_SEL,R1                                           ;
 6656 000000AC 6011               595             MOV.W   @R1,R0                                                  ;
 6657 000000AE C81E               596             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0                       ;
 6658                             597             TST_BIT_OF MN_POSCTL_START_110                                  ;
 6659 000000B0 893A                   M           BT      MN_POSCTL_START_110
 6660                             598             M_BRA   MN_POSCTL_START_500                                     ;寸動,安一,連続
 6661 000000B2 A07B                   M           BRA     MN_POSCTL_START_500
 6662 000000B4 0009                   M           NOP
 6663                                     ***** BEGIN-POOL *****
 6664 000000B6 FDFF                       DATA FOR SOURCE-LINE 570
 6665 000000B8 00000000                   DATA FOR SOURCE-LINE 481
 6666 000000BC 00000000                   DATA FOR SOURCE-LINE 486,594
 6667 000000C0 00000000                   DATA FOR SOURCE-LINE 494
 6668 000000C4 00000000                   DATA FOR SOURCE-LINE 504
 6669 000000C8 00000000                   DATA FOR SOURCE-LINE 525
 6670 000000CC 00000000                   DATA FOR SOURCE-LINE 532
 6671 000000D0 00000000                   DATA FOR SOURCE-LINE 536
 6672 000000D4 00000000                   DATA FOR SOURCE-LINE 539
 6673 000000D8 00000000                   DATA FOR SOURCE-LINE 541
 6674 000000DC 00000000                   DATA FOR SOURCE-LINE 542
 6675 000000E0 00000000                   DATA FOR SOURCE-LINE 544
 6676 000000E4 00000000                   DATA FOR SOURCE-LINE 545
 6677 000000E8 00000000                   DATA FOR SOURCE-LINE 548
 6678 000000EC 00000000                   DATA FOR SOURCE-LINE 550
 6679 000000F0 00000000                   DATA FOR SOURCE-LINE 554
 6680 000000F4 00000000                   DATA FOR SOURCE-LINE 558
 6681 000000F8 00000000                   DATA FOR SOURCE-LINE 561
 6682 000000FC 00000000                   DATA FOR SOURCE-LINE 565
 6683 00000100 00000000                   DATA FOR SOURCE-LINE 570
 6684 00000104 00000000                   DATA FOR SOURCE-LINE 572
 6685 00000108 00000000                   DATA FOR SOURCE-LINE 573
 6686 0000010C 00000000                   DATA FOR SOURCE-LINE 574
 6687 00000110 00000000                   DATA FOR SOURCE-LINE 576
 6688 00000114 00000000                   DATA FOR SOURCE-LINE 578
 6689 00000118 00000000                   DATA FOR SOURCE-LINE 581
 6690 0000011C 00000000                   DATA FOR SOURCE-LINE 583
 6691 00000120 00000000                   DATA FOR SOURCE-LINE 585
 6692 00000124 00000000                   DATA FOR SOURCE-LINE 587
 6693                                     ***** END-POOL *****
 6694 00000128                    599     MN_POSCTL_START_110:
 6695                             600     
 6696                             601     ;       === 待機点作成(最寄)  :上死点復帰の場合は360ｴﾝｺｰﾀﾞから算出する  ;
 6697 00000128 C840               602             TST     #(_W1DUP),R0                                            ;
 6698                             603             TST_BIT_ON MN_POSCTL_START_200                                  ;強制上昇
 6699 0000012A 8B07                   M           BF      MN_POSCTL_START_200
 6700                             604     
 6701                             605     ;       === 段取モード========
 6702                             606             FAR_JSR #_MN_DNDINC_START,R0            ;2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化
 6703 0000012C D002                   M           MOV.L   #_MN_DNDINC_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6704 0000012E 400B                   M           JSR     @R0                     ;
 6705 00000130 0009                   M           NOP                                     ;
 6706                             607             M_BRA   MN_POSCTL_START_800             ;
 6707 00000132 A064                   M           BRA     MN_POSCTL_START_800
 6708 00000134 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    13
PROGRAM NAME =

 6709                             608     
 6710                             609     ;;      -- 2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化--
 6711                             610     ;;      MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 6712                             611     ;;      MOV.W   @R1,R0                          ;
 6713                             612     ;;      CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 6714                             613     ;;      BF      MN_POSCTL_START_150             ;
 6715                             614     ;;
 6716                             615     ;;      ====== 反転/段取寸動===
 6717                             616     ;;      FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 6718                             617     ;;      FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 6719                             618     ;;      M_BRA   MN_POSCTL_START_180             ;
 6720                             619     ;;
 6721                             620     ;;MN_POSCTL_START_150:
 6722                             621     ;;      ====== 回転/段取寸動===
 6723                             622     ;;      +/-MAX位置を目標とする                                  ;
 6724                             623     ;;      === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 6725                             624     ;;      FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 6726                             625     ;;      MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 6727                             626     ;;      MOV.W   @R1,R0
 6728                             627     ;;      FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 6729                             628     ;;MN_POSCTL_START_180:
 6730                             629     ;;      FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 6731                             630     ;;      M_BRA   MN_POSCTL_START_800                             ;
 6732                             631     
 6733                             632     
 6734                             633     ;       ===================================
 6735                             634     ;       ===     (原点復帰開始処理)      ===
 6736                             635     ;       ===================================
 6737                             636     ;2008-09-16(論理変更　ﾚﾍﾞﾙ動作も活かす)
 6738                                     ***** BEGIN-POOL *****
 6739 00000136 0000                       ALIGNMENT CODE
 6740 00000138 00000000                   DATA FOR SOURCE-LINE 606
 6741                                     ***** END-POOL *****
 6742 0000013C                    637     MN_POSCTL_START_200:                                                    ;
 6743 0000013C D10B               638             MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6744 0000013E 6011               639             MOV.W   @R1,R0                          ;
 6745 00000140 C801               640             TST     #BIT0,R0                        ;
 6746                             641             TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6747 00000142 891D                   M           BT      MN_POSCTL_START_220
 6748                             642     
 6749                             643     ;       --------[2014-09-18]-----------
 6750 00000144 D10A               644             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R1
 6751 00000146 6011               645             MOV.W   @R1,R0                          ;
 6752 00000148 C801               646             TST     #BIT0,R0                        ;
 6753                             647             TST_BIT_OF MN_POSCTL_START_220          ;1:ﾓｰｼｮﾝ運転可能=待機動作もｻｰﾁ無し可能
 6754 0000014A 8919                   M           BT      MN_POSCTL_START_220
 6755                             648     
 6756                             649     ;       --------------------------------
 6757                             650     
 6758 0000014C D109               651             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6759 0000014E 6011               652             MOV.W   @R1,R0                          ;
 6760 00000150 2008               653             TST     R0,R0                           ;
 6761                             654             TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6762 00000152 8915                   M           BT      MN_POSCTL_START_220
 6763                             655     
 6764 00000154 D108               656             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    14
PROGRAM NAME =

 6765 00000156 6011               657             MOV.W   @R1,R0                          ;
 6766 00000158 9406               658             MOV.W   #BIT15,R4                       ;
 6767 0000015A 2048               659             TST     R4,R0                           ;
 6768                             660             TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6769 0000015C 8910                   M           BT      MN_POSCTL_START_220
 6770                             661     
 6771                             662             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6772 0000015E D007                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6773 00000160 400B                   M           JSR     @R0                     ;
 6774 00000162 0009                   M           NOP                                     ;
 6775                             663                                                     ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6776                             664                                                     ;
 6777                             665             M_BRA   MN_POSCTL_START_800             ;
 6778 00000164 A04B                   M           BRA     MN_POSCTL_START_800
 6779 00000166 0009                   M           NOP
 6780                             666     
 6781                             667     ;;;;----------- 2008-09-16 論理変更
 6782                             668     ;;;;2006-11-21
 6783                             669     ;;;;MN_POSCTL_START_200:                                                        ;
 6784                             670     ;;;;    MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 6785                             671     ;;;;    MOV.W   @R1,R0                          ;
 6786                             672     ;;;;    MOV.W   #BIT15,R4                       ;
 6787                             673     ;;;;    TST     R4,R0                           ;
 6788                             674     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6789                             675     ;;;;
 6790                             676     ;;;;    ============ 2006-07-28=========
 6791                             677     ;;;;    MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6792                             678     ;;;;    MOV.W   @R1,R0                          ;
 6793                             679     ;;;;    TST     R0,R0                           ;
 6794                             680     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6795                             681     ;;;;
 6796                             682     ;;;;    MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6797                             683     ;;;;    MOV.W   @R1,R0                          ;
 6798                             684     ;;;;    TST     #BIT0,R0                        ;
 6799                             685     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6800                             686     ;;;;
 6801                             687     ;;;;    FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6802                             688     ;;;;                                            ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6803                             689     ;;;;                                            ;
 6804                             690     ;;;;    M_BRA   MN_POSCTL_START_800             ;
 6805                             691     
 6806                             692     
 6807                             693     
 6808                             694     ;----------- 2006-11-21 論理変更
 6809                             695     ;;;MN_POSCTL_START_200:                                                 ;
 6810                             696     ;;;     ============ 2006-07-28=========
 6811                             697     ;;;     MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6812                             698     ;;;     MOV.W   @R1,R0                          ;
 6813                             699     ;;;     TST     R0,R0                           ;
 6814                             700     ;;;     TST_BIT_ON MN_POSCTL_START_210          ;
 6815                             701     ;;;
 6816                             702     ;;;     ============2004-05-24=========================
 6817                             703     ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    15
PROGRAM NAME =

 6818                             704     ;;;     MOV.W   @R1,R0                          ;
 6819                             705     ;;;     MOV.W   #BIT15,R4                       ;
 6820                             706     ;;;     TST     R4,R0                           ;
 6821                             707     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6822                             708     ;;;MN_POSCTL_START_210:                                                 ;
 6823                             709     ;;;     MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6824                             710     ;;;     MOV.W   @R1,R0                          ;
 6825                             711     ;;;     TST     #BIT0,R0                        ;
 6826                             712     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6827                             713     ;;;
 6828                             714     ;;;     FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6829                             715     ;;;                                             ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6830                             716     ;;;                                             ;
 6831                             717     ;;;     M_BRA   MN_POSCTL_START_800             ;
 6832                             718     
 6833                             719     ;       ----------------- ｻｰﾁﾀｲﾌﾟ-----------------------
 6834                                     ***** BEGIN-POOL *****
 6835 00000168 8000                       DATA FOR SOURCE-LINE 658
 6836 0000016A 0000                       ALIGNMENT CODE
 6837 0000016C 00000000                   DATA FOR SOURCE-LINE 638
 6838 00000170 00000000                   DATA FOR SOURCE-LINE 644
 6839 00000174 00000000                   DATA FOR SOURCE-LINE 651
 6840 00000178 00000000                   DATA FOR SOURCE-LINE 656
 6841 0000017C 00000000                   DATA FOR SOURCE-LINE 662
 6842                                     ***** END-POOL *****
 6843 00000180                    720     MN_POSCTL_START_220:
 6844 00000180 D106               721             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
 6845 00000182 200A               722             XOR     R0,R0                           ;
 6846 00000184 2101               723             MOV.W   R0,@R1                          ;
 6847                             724     
 6848                             725     ;       ===============================================
 6849                             726     ;       ==== 上死点復帰・待機点復帰====
 6850                             727     ;       今の位置から上死点＋３度を目指す
 6851                             728     ;       今の位置から上死点−３度を目指す
 6852                             729             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R1       ;
 6853 00000186 D106                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6854 00000188 410B                   M           JSR     @R1                     ;
 6855 0000018A 0009                   M           NOP                                     ;
 6856                             730             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
 6857 0000018C D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6858 0000018E 440B                   M           JSR     @R4                     ;
 6859 00000190 0009                   M           NOP                                     ;
 6860                             731             FAR_JSR #_ORG_END_SIG_CLR,R0            ;
 6861 00000192 D005                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6862 00000194 400B                   M           JSR     @R0                     ;
 6863 00000196 0009                   M           NOP                                     ;
 6864                             732             M_BRA   MN_POSCTL_START_800             ;
 6865 00000198 A031                   M           BRA     MN_POSCTL_START_800
 6866 0000019A 0009                   M           NOP
 6867                             733     
 6868                                     ***** BEGIN-POOL *****
 6869 0000019C 00000000                   DATA FOR SOURCE-LINE 721
 6870 000001A0 00000000                   DATA FOR SOURCE-LINE 729
 6871 000001A4 00000000                   DATA FOR SOURCE-LINE 730
 6872 000001A8 00000000                   DATA FOR SOURCE-LINE 731
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    16
PROGRAM NAME =

 6873                                     ***** END-POOL *****
 6874 000001AC                    734     MN_POSCTL_START_500:                            ;
 6875                             735             FAR_JSR #_CPOS_INI1_DTMOV2,R0           ;
 6876 000001AC D009                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6877 000001AE 400B                   M           JSR     @R0                     ;
 6878 000001B0 0009                   M           NOP                                     ;
 6879                             736     
 6880                             737     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 6881                             738     ;;      XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
 6882                             739     ;;      MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 6883                             740     ;;      MOV.W   R0,@R1                          ;
 6884                             741     
 6885                             742     ;(急停止の場合はSV_POS_CTL_SEPは0ではない ok!)
 6886                             743     ;(ｻｲｸﾙ停止では、回転数を演算する必要はない)
 6887                             744     
 6888                             745     ;
 6889                             746     ;       === 待機点作成(方向あり)====
 6890 000001B2 D109               747             MOV.L   #_SV_POS_CTL_STEP,R1            ;
 6891 000001B4 6011               748             MOV.W   @R1,R0                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
 6892                             749     
 6893 000001B6 2008               750             TST     R0,R0                           ;
 6894                             751             TST_BIT_ON MN_POSCTL_START_600          ;(ﾘｾｯﾄ時に待機点を決定する)
 6895 000001B8 8B1E                   M           BF      MN_POSCTL_START_600
 6896                             752     ;;;;;;;;;;STEP=0:非常停止後の起動
 6897                             753     ;;;;;;;;;;2014-09-19    ----------- [2009-10-07下振子]
 6898                             754     ;;;;;;;;;;2014-09-19    MOV.L   #_CPOS_CTL_MATH,R1              ;
 6899                             755     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 6900                             756     ;;;;;;;;;;2014-09-19    TST     #_DMATH_DNDRIV,R0               ; 往復?
 6901                             757     ;;;;;;;;;;2014-09-19    TST_BIT_OF MN_POSCTL_START_520          ;
 6902                             758     ;;;;;;;;;;2014-09-19    MOV.L   #_DNM_DIR_SET_FLG,R1            ;(この論理はよくない)
 6903                             759     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 6904                             760     ;;;;;;;;;;2014-09-19    TST     R0,R0                           ;
 6905                             761     ;;;;;;;;;;2014-09-19    TST_BIT_ON MN_POSCTL_START_540          ;DNM_DIR_NOW_FLG
 6906                             762     ;;;;;;;;;;2014-09-19MN_POSCTL_START_520:                                ;
 6907                             763     ;;;;;;;;;;2014-09-19 目標位置から演算するから不要に思える.待機点を跨ぐなら別
 6908                             764     
 6909                             765     ;       ------------ これがいまのところインターロックではたらいていなそう(20091007コメント
                                          )----------
 6910 000001BA D108               766             MOV.L   #_INT_CYC_DRV_STS,R1            ;SV=0非常停止またはｻｲｸﾙ停止(BIT0=1:ｻｲｸﾙ停
                                          止)
 6911 000001BC 6011               767             MOV.W   @R1,R0                          ;
 6912 000001BE C801               768             TST     #BIT0,R0                        ;
 6913                             769             TST_BIT_ON MN_POSCTL_START_540          ;(これがうまくとれていない ｻｲｸﾙ停止時は演
                                          算しない)
 6914 000001C0 8B12                   M           BF      MN_POSCTL_START_540
 6915                             770     
 6916                             771     ;       ---------- 非常停止後の起動-----------
 6917                             772             FAR_JSR #_NEXT_CYCL_START2,R0                   ;(((((何の起動??)))))
 6918 000001C2 D007                   M           MOV.L   #_NEXT_CYCL_START2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6919 000001C4 400B                   M           JSR     @R0                     ;
 6920 000001C6 0009                   M           NOP                                     ;
 6921                             773             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 6922 000001C8 D006                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6923 000001CA 400B                   M           JSR     @R0                     ;
 6924 000001CC 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    17
PROGRAM NAME =

 6925                             774     
 6926                             775     
 6927                             776     ;
 6928                             777     
 6929                             778     
 6930                             779             M_BRA   MN_POSCTL_START_600                     ;
 6931 000001CE A013                   M           BRA     MN_POSCTL_START_600
 6932 000001D0 0009                   M           NOP
 6933                             780     
 6934                             781     ;       -------遮光停止でこれをやった場合で　待機点を越えていたら以外にだめ？(コメント2009
                                          1007)--------
 6935                             782     ;       遮光による停止、またはサイクルＥＮＤ後の自動起動
 6936                             783     
 6937                                     ***** BEGIN-POOL *****
 6938 000001D2 0000                       ALIGNMENT CODE
 6939 000001D4 00000000                   DATA FOR SOURCE-LINE 735
 6940 000001D8 00000000                   DATA FOR SOURCE-LINE 747
 6941 000001DC 00000000                   DATA FOR SOURCE-LINE 766
 6942 000001E0 00000000                   DATA FOR SOURCE-LINE 772
 6943 000001E4 00000000                   DATA FOR SOURCE-LINE 773
 6944                                     ***** END-POOL *****
 6945 000001E8                    784     MN_POSCTL_START_540:                                    ;
 6946 000001E8 D114               785             MOV.L   #_LINK_OBJROT_NUM_ZR,R1                 ;//NOW ROTATION 番号
 6947 000001EA 6212               786             MOV.L   @R1,R2                                  ;+0
 6948                             787             FAR_JSR #_NEXT_CYCL_START1,R0                   ;(連続時は転送でも良いがとりあえず
                                          このまま残す)
 6949 000001EC D014                   M           MOV.L   #_NEXT_CYCL_START1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6950 000001EE 400B                   M           JSR     @R0                     ;
 6951 000001F0 0009                   M           NOP                                     ;
 6952                             788             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 6953 000001F2 D014                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6954 000001F4 400B                   M           JSR     @R0                     ;
 6955 000001F6 0009                   M           NOP                                     ;
 6956 000001F8                    789     MN_POSCTL_START_600:                            ;
 6957 000001F8 0009               790             NOP                                     ;何もしないくて良いはず
 6958 000001FA 0009               791             NOP                                     ;
 6959 000001FC 0009               792             NOP                                     ;
 6960 000001FE                    793     MN_POSCTL_START_800:                            ;
 6961                             794     
 6962                             795     
 6963 000001FE 901A               796             MOV.W   #BIT0,R0                        ;起動
 6964 00000200 D111               797             MOV.L   #_MNWR_POS_CMD,R1               ;
 6965 00000202 2101               798             MOV.W   R0,@R1                          ;
 6966                             799     
 6967                             800     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
 6968                             801             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
 6969 00000204 D411                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
 6970 00000206 6041                   M           MOV.W   @R4,R0          ;
 6971 00000208 9116                   M           MOV.W   #LWORD (~BIT5),R1       ;
 6972 0000020A 2019                   M           AND     R1,R0           ;
 6973 0000020C 2401                   M           MOV.W   R0,@R4          ;
 6974                             802             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
 6975 0000020E D410                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
 6976 00000210 6041                   M           MOV.W   @R4,R0          ;
 6977 00000212 9111                   M           MOV.W   #LWORD (~BIT5),R1       ;
 6978 00000214 2019                   M           AND     R1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    18
PROGRAM NAME =

 6979 00000216 2401                   M           MOV.W   R0,@R4          ;
 6980                             803     
 6981                             804     
 6982                             805     ;       --------2011-05-11　起動時　本当は.160度手前.....----
 6983                             806             FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
 6984 00000218 D00E                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6985 0000021A 400B                   M           JSR     @R0                     ;
 6986 0000021C 0009                   M           NOP                                     ;
 6987                             807     
 6988                             808     
 6989                             809     ;       -2012-05-30 反転
 6990                             810             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
 6991 0000021E D00E                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6992 00000220 400B                   M           JSR     @R0                     ;
 6993 00000222 0009                   M           NOP                                     ;
 6994                             811     
 6995                             812     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
 6996                             813             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
 6997                             814 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
 6998 00000224 D00D                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6999 00000226 400B                   M           JSR     @R0                     ;
 7000 00000228 0009                   M           NOP                                     ;
 7001                             815 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
 7002 0000022A D00D                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7003 0000022C 400B                   M           JSR     @R0                     ;
 7004 0000022E 0009                   M           NOP                                     ;
 7005                             816             .AENDI
 7006                             817     
 7007                             818             SUB_END
 7008                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7009 00000230 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7010                             819             M_RTS
 7011 00000232 000B                   M           RTS                             ;RTSの後ろの
 7012 00000234 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7013                             820     
 7014                             821     
 7015                             822     ;       ***********************************
 7016                             823     ;       ***     運転中に呼ばれる        ***
 7017                             824     ;       ***********************************
 7018                             825     ;       FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 7019                             826     ;                                               ;<寸動等の停止 -->準備未完了へ "FF">
 7020                             827     ;                                               ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 7021                             828     ;
 7022                             829     ;       ・１回転分のデータを作成するだけ
 7023                             830     ;       ・位置決め完了を見るだけ
 7024                             831     ;
 7025                                     ***** BEGIN-POOL *****
 7026 00000236 0001                       DATA FOR SOURCE-LINE 796
 7027 00000238 FFDF                       DATA FOR SOURCE-LINE 801,802
 7028 0000023A 0000                       ALIGNMENT CODE
 7029 0000023C 00000000                   DATA FOR SOURCE-LINE 785
 7030 00000240 00000000                   DATA FOR SOURCE-LINE 787
 7031 00000244 00000000                   DATA FOR SOURCE-LINE 788
 7032 00000248 00000000                   DATA FOR SOURCE-LINE 797
 7033 0000024C 00000000                   DATA FOR SOURCE-LINE 801
 7034 00000250 00000000                   DATA FOR SOURCE-LINE 802
 7035 00000254 00000000                   DATA FOR SOURCE-LINE 806
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    19
PROGRAM NAME =

 7036 00000258 00000000                   DATA FOR SOURCE-LINE 810
 7037 0000025C 00000000                   DATA FOR SOURCE-LINE 814
 7038 00000260 00000000                   DATA FOR SOURCE-LINE 815
 7039                                     ***** END-POOL *****
 7040 00000264                    832             .ALIGN  4                               ;
 7041 00000264                    833     _MN_POS_CTRL_ACT:                               ;ssa_pos1.src
 7042                             834             SUB_START
 7043 00000264 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7044                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7045                             835     
 7046 00000266 D103               836             MOV.L   #_INT_CYC_DRV_STS,R1            ;
 7047 00000268 6011               837             MOV.W   @R1,R0                          ;
 7048 0000026A C840               838             TST     #BIT6,R0                        ;工程終了
 7049                             839             TST_BIT_OF MN_POS_CTLACT_100            ;(位置決め完了 NO!)
 7050 0000026C 8904                   M           BT      MN_POS_CTLACT_100
 7051                             840             M_BRA   MN_POS_CTLACT_800               ;
 7052 0000026E A029                   M           BRA     MN_POS_CTLACT_800
 7053 00000270 0009                   M           NOP
 7054                             841     
 7055                                     ***** BEGIN-POOL *****
 7056 00000272 0000                       ALIGNMENT CODE
 7057 00000274 00000000                   DATA FOR SOURCE-LINE 836
 7058                                     ***** END-POOL *****
 7059 00000278                    842     MN_POS_CTLACT_100:                              ;
 7060                             843     
 7061                             844     
 7062                             845     ;;;     _BRK_SADOU_CHG EQ 1
 7063                             846     ;       ------------2015-09-06 ﾌﾞﾚｰｷ作動(H2W 2015-03-16,H1F 2015-07-14)-----------------
 7064 00000278 D104               847             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1                    ;[
                                          H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK:LOCK]
 7065 0000027A 6011               848             MOV.W   @R1,R0                                  ;
 7066 0000027C 8801               849             CMP/EQ  #1,R0
 7067 0000027E 8B09               850             BF      MN_POS_CTLACT_130                       ;
 7068                             851     
 7069                             852     ;       -------------2015-09-06 (2015-07-14)-------------------------
 7070                             853     ;       ｲﾝﾎﾟｼﾞｼｮﾝから位置決め完了(ﾌﾞﾚｰｷまでの遅延)
 7071                             854             FAR_JSR #_POS_ENDWAIT_TIM_SET,R0                ;[安一,連続のAUTO それ以外でとるか
                                          ]
 7072 00000280 D003                   M           MOV.L   #_POS_ENDWAIT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7073 00000282 400B                   M           JSR     @R0                     ;
 7074 00000284 0009                   M           NOP                                     ;
 7075                             855             M_BRA   MN_POS_CTLACT_150                                       ;
 7076 00000286 A008                   M           BRA     MN_POS_CTLACT_150
 7077 00000288 0009                   M           NOP
 7078                             856     
 7079                                     ***** BEGIN-POOL *****
 7080 0000028A 0000                       ALIGNMENT CODE
 7081 0000028C 00000000                   DATA FOR SOURCE-LINE 847
 7082 00000290 00000000                   DATA FOR SOURCE-LINE 854
 7083                                     ***** END-POOL *****
 7084 00000294                    857     MN_POS_CTLACT_130:                                      ;
 7085                             858     ;       --------------2015-09-06(2015-07-14)------------------------
 7086                             859             FAR_JSR #_POS_ENDMYUT_TIM_SET,R0                ;終了から動力遮断するorﾐｭｰﾃﾝｸﾞにす
                                          る時間
 7087 00000294 D007                   M           MOV.L   #_POS_ENDMYUT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7088 00000296 400B                   M           JSR     @R0                     ;
 7089 00000298 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    20
PROGRAM NAME =

 7090                             860     ;       -------------------------------------------------
 7091 0000029A                    861     MN_POS_CTLACT_150:                                      ;
 7092                             862     
 7093                             863     
 7094                             864     
 7095                             865     
 7096                             866     
 7097                             867     
 7098 0000029A D107               868             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7099 0000029C 6011               869             MOV.W   @R1,R0                          ;
 7100 0000029E C805               870             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;[20091007下振子]
 7101                             871             TST_BIT_OF DAI_CHK01_200                ;
 7102 000002A0 8902                   M           BT      DAI_CHK01_200
 7103                             872             FAR_JSR #_DAI_FULL_SCALE_SMPLE,R0       ;2003-02-03
 7104 000002A2 D006                   M           MOV.L   #_DAI_FULL_SCALE_SMPLE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7105 000002A4 400B                   M           JSR     @R0                     ;
 7106 000002A6 0009                   M           NOP                                     ;
 7107 000002A8                    873     DAI_CHK01_200:
 7108                             874     
 7109                             875             FAR_JSR #_MOST_DISP_DAT_SMP,R0          ;
 7110 000002A8 D005                   M           MOV.L   #_MOST_DISP_DAT_SMP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7111 000002AA 400B                   M           JSR     @R0                     ;
 7112 000002AC 0009                   M           NOP                                     ;
 7113                             876             M_BRA   MN_POS_CTLACT_CONTINUE          ;
 7114 000002AE A01D                   M           BRA     MN_POS_CTLACT_CONTINUE
 7115 000002B0 0009                   M           NOP
 7116                             877     
 7117                                     ***** BEGIN-POOL *****
 7118 000002B2 0000                       ALIGNMENT CODE
 7119 000002B4 00000000                   DATA FOR SOURCE-LINE 859
 7120 000002B8 00000000                   DATA FOR SOURCE-LINE 868
 7121 000002BC 00000000                   DATA FOR SOURCE-LINE 872
 7122 000002C0 00000000                   DATA FOR SOURCE-LINE 875
 7123                                     ***** END-POOL *****
 7124 000002C4                    878     MN_POS_CTLACT_800:
 7125 000002C4 200A               879             XOR     R0,R0                           ;ｻｲｸﾙ停止
 7126 000002C6 D106               880             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
 7127 000002C8 2101               881             MOV.W   R0,@R1                          ;
 7128                             882     
 7129                             883     ;;;     _BRK_SADOU_CHG EQ 1
 7130                             884     ;       --------2015-09-06(2015-07-14)----------------
 7131 000002CA D106               885             MOV.L   #_POS_END_WAIT_TIM,R1           ;
 7132 000002CC 6011               886             MOV.W   @R1,R0                          ;
 7133 000002CE 2008               887             TST     R0,R0                           ;
 7134                             888             TST_BIT_ON MN_POS_CTLACT_CONTINUE       ;(位置決め完了を待つ---遮光時は動力遮断状
                                          態だから大丈夫)
 7135 000002D0 8B0C                   M           BF      MN_POS_CTLACT_CONTINUE
 7136                             889     ;       -----------------------------------------
 7137                             890     
 7138                             891     
 7139 000002D2 D105               892             MOV.L   #_INT_CYC_DRV_STS,R1    ;//BIT0:CYCLE　END()
 7140 000002D4 6011               893             MOV.W   @R1,R0
 7141 000002D6 C801               894             TST     #BIT0,R0                        ;(わざとｻｲｸﾙ停止にしない)
 7142                             895             TST_BIT_ON MN_POS_CTLACT_CYCLE_END      ;
 7143 000002D8 8B0E                   M           BF      MN_POS_CTLACT_CYCLE_END
 7144                             896             M_BRA   MN_POS_CTLACT_STOP_END          ;
 7145 000002DA A00A                   M           BRA     MN_POS_CTLACT_STOP_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    21
PROGRAM NAME =

 7146 000002DC 0009                   M           NOP
 7147                             897     
 7148                             898     
 7149                                     ***** BEGIN-POOL *****
 7150 000002DE 0000                       ALIGNMENT CODE
 7151 000002E0 00000000                   DATA FOR SOURCE-LINE 880
 7152 000002E4 00000000                   DATA FOR SOURCE-LINE 885
 7153 000002E8 00000000                   DATA FOR SOURCE-LINE 892
 7154                                     ***** END-POOL *****
 7155 000002EC                    899     MN_POS_CTLACT_CONTINUE:
 7156 000002EC 200A               900             XOR     R0,R0
 7157                             901             M_BRA   MN_POS_CTLACT_EXIT
 7158 000002EE A004                   M           BRA     MN_POS_CTLACT_EXIT
 7159 000002F0 0009                   M           NOP
 7160                             902     
 7161 000002F2                    903     MN_POS_CTLACT_STOP_END:
 7162 000002F2 E0FF               904             MOV     #-1,R0
 7163                             905             M_BRA   MN_POS_CTLACT_EXIT
 7164 000002F4 A001                   M           BRA     MN_POS_CTLACT_EXIT
 7165 000002F6 0009                   M           NOP
 7166 000002F8                    906     MN_POS_CTLACT_CYCLE_END:
 7167 000002F8 E055               907             MOV     #H'55,R0        ;CYCLE END
 7168 000002FA                    908     MN_POS_CTLACT_EXIT:
 7169                             909             SUB_END
 7170                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7171 000002FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7172                             910             M_RTS
 7173 000002FC 000B                   M           RTS                             ;RTSの後ろの
 7174 000002FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7175                             911     
 7176                             912     
 7177                             913     
 7178                             914     
 7179                             915     ;       ***********************************
 7180                             916     ;       ***                             ***
 7181                             917     ;       ***     2015-09-06              ***
 7182                             918     ;       ***     2015-07-14              ***
 7183                             919     ;       ***                             ***
 7184                             920     ;       ***********************************
 7185                             921     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動
 7186                             922     ;;;     _BRK_SADOU_CHG EQ 1
 7187 00000300                    923     _POS_ENDWAIT_TIM_SET
 7188                             924             SUB_START
 7189 00000300 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7190                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7191                             925     
 7192                             926     
 7193                             927     ;       --------------------------------------------
 7194 00000302 D109               928             MOV.L   #(_PAR_MYUBRK_TIM2-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[PNO.95][H2W=2015
                                          -03-16 寸動終了時ﾀｲﾏ]
 7195 00000304 6211               929             MOV.W   @R1,R2                          ;
 7196                             930     
 7197 00000306 D109               931             MOV.L   #_MODE_SEL,R1                   ;
 7198 00000308 6011               932             MOV.W   @R1,R0                          ;
 7199 0000030A C81C               933             TST     #(_W1OPT+_W1CNT+_W1SGL),R0      ;
 7200                             934             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;
 7201 0000030C 8906                   M           BT      POS_ENDWAIT_TIMSET_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    22
PROGRAM NAME =

 7202                             935     
 7203 0000030E D108               936             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 7204 00000310 6011               937             MOV.W   @R1,R0                          ;
 7205 00000312 9408               938             MOV.W   #_WOATO,R4                      ;AUTO
 7206 00000314 2048               939             TST     R4,R0                           ;
 7207                             940             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;[AUTOじゃない]
 7208 00000316 8901                   M           BT      POS_ENDWAIT_TIMSET_END
 7209                             941     
 7210                             942     ;       ----------- 1ｻｲｸﾙ停止時用 2015-07-14--------
 7211 00000318 D106               943             MOV.L   #(_PAR_MYUBRK_TIM1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[H2W=2015-03-14
                                          行程終了時　ﾐｭｰﾃﾝｸﾞ切替時間]
 7212 0000031A 6211               944             MOV.W   @R1,R2                          ;[PNO.94]
 7213                             945                                                     ;
 7214                             946     
 7215 0000031C                    947     POS_ENDWAIT_TIMSET_END
 7216 0000031C D106               948             MOV.L   #_POS_END_WAIT_TIM,R1           ;[位置決め完了遅延時間==動力遮断を伸ばす時
                                          間]
 7217 0000031E 2121               949             MOV.W   R2,@R1
 7218                             950     
 7219                             951     
 7220                             952     
 7221                             953             SUB_END
 7222                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7223 00000320 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7224                             954             M_RTS
 7225 00000322 000B                   M           RTS                             ;RTSの後ろの
 7226 00000324 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7227                             955     
 7228                             956     
 7229                             957     
 7230                             958     ;       ***********************************
 7231                             959     ;       ***                             ***
 7232                             960     ;       ***     2015-07-14              ***
 7233                             961     ;       ***                             ***
 7234                             962     ;       ***********************************
 7235                             963     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動しない
 7236                             964     ;       P22　ﾊﾟﾙｽ出力完了~ﾌﾞﾚｰｷをかけても良い時間
 7237                             965     ;       ﾐｭｰﾃﾝｸﾞ中はﾐｭｰﾃﾝｸﾞ継続時間
 7238                             966     ;       ﾐｭｰﾃﾝｸﾞしない状態では動力遮断時間
 7239                             967     ;
 7240                             968     ;       今までは遮光を検知しない時間=ﾐｭｰﾃﾝｸﾞ継続時間相当
 7241                             969     ;
 7242                             970     
 7243                                     ***** BEGIN-POOL *****
 7244 00000326 0040                       DATA FOR SOURCE-LINE 938
 7245 00000328 00000000                   DATA FOR SOURCE-LINE 928
 7246 0000032C 00000000                   DATA FOR SOURCE-LINE 931
 7247 00000330 00000000                   DATA FOR SOURCE-LINE 936
 7248 00000334 00000000                   DATA FOR SOURCE-LINE 943
 7249 00000338 00000000                   DATA FOR SOURCE-LINE 948
 7250                                     ***** END-POOL *****
 7251 0000033C                    971     _POS_ENDMYUT_TIM_SET:
 7252                             972             SUB_START
 7253 0000033C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7254                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7255                             973     
 7256 0000033E D10C               974             MOV.L   #(_PAR_SELF_WAIT_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;P22ｾﾙﾌﾁｪｯｸまたは
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    23
PROGRAM NAME =

                                          位置決めからﾛｯｸ開始遅延時間(停止確認用)
 7257 00000340 6211               975             MOV.W   @R1,R2                  ;
 7258 00000342 233A               976             XOR     R3,R3
 7259                             977     
 7260                             978     
 7261 00000344 D10B               979             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 7262 00000346 6011               980             MOV.W   @R1,R0                  ;
 7263 00000348 C804               981             TST     #_W1SGL,R0              ;
 7264                             982             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7265 0000034A 890A                   M           BT      POS_ENDMYUTTIM_STOP
 7266                             983     
 7267 0000034C D10A               984             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
 7268 0000034E 6011               985             MOV.W   @R1,R0                  ;
 7269 00000350 C802               986             TST     #BIT1,R0                ;
 7270                             987             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7271 00000352 8906                   M           BT      POS_ENDMYUTTIM_STOP
 7272                             988     
 7273 00000354 D109               989             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
 7274 00000356 6011               990             MOV.W   @R1,R0                  ;
 7275 00000358 C803               991             TST     #(BIT1+BIT0),R0         ;
 7276                             992             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;
 7277 0000035A 8902                   M           BT      POS_ENDMYUTTIM_STOP
 7278                             993     
 7279                             994     
 7280                             995     ;       ---     ﾐｭｰﾃﾝｸﾞする     ---
 7281 0000035C                    996     POS_ENDMYUTTIM_KEEP:
 7282 0000035C 6023               997             MOV     R2,R0                   ;
 7283 0000035E 6233               998             MOV     R3,R2                   ;
 7284 00000360 6303               999             MOV     R0,R3                   ;
 7285                            1000     
 7286                            1001     ;       ---     ﾐｭｰﾃﾝｸﾞじゃない ---
 7287 00000362                   1002     POS_ENDMYUTTIM_STOP
 7288 00000362 D107              1003             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1     ;//終了後この時間であれば動力遮断する時間
 7289 00000364 2121              1004             MOV.W   R2,@R1                          ;
 7290 00000366 D107              1005             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1     ;//終了後上昇無効を継続する時間
 7291 00000368 2131              1006             MOV.W   R3,@R1                          ;
 7292                            1007     
 7293                            1008     
 7294                            1009     
 7295                            1010             SUB_END
 7296                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7297 0000036A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7298                            1011             M_RTS
 7299 0000036C 000B                   M           RTS                             ;RTSの後ろの
 7300 0000036E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7301                            1012     
 7302                            1013     ;       ***********************************
 7303                            1014     ;       ***                             ***
 7304                            1015     ;       ***     2015-07-14              ***
 7305                            1016     ;       ***                             ***
 7306                            1017     ;       ***     一応ｸﾘｱしておく         ***
 7307                            1018     ;       ***********************************
 7308                                     ***** BEGIN-POOL *****
 7309 00000370 00000000                   DATA FOR SOURCE-LINE 974
 7310 00000374 00000000                   DATA FOR SOURCE-LINE 979
 7311 00000378 00000000                   DATA FOR SOURCE-LINE 984
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    24
PROGRAM NAME =

 7312 0000037C 00000000                   DATA FOR SOURCE-LINE 989
 7313 00000380 00000000                   DATA FOR SOURCE-LINE 1003
 7314 00000384 00000000                   DATA FOR SOURCE-LINE 1005
 7315                                     ***** END-POOL *****
 7316 00000388                   1019     _POS_END_MYUTIG_TIMER_CLR
 7317                            1020             SUB_START
 7318 00000388 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7319                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7320 0000038A 200A              1021             XOR     R0,R0
 7321 0000038C D104              1022             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1;    //終了後この時間であれば動力遮断する時間
 7322 0000038E 2101              1023             MOV.W   R0,@R1
 7323                            1024     
 7324 00000390 D104              1025             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1;    //終了後上昇無効を継続する時間
 7325 00000392 2101              1026             MOV.W   R0,@R1
 7326                            1027     
 7327 00000394 D104              1028             MOV.L   #_POS_END_WAIT_TIM,R1;          //[位置決め完了遅延時間==動力遮断を伸ばす
                                          時間]
 7328 00000396 2101              1029             MOV.W   R0,@R1
 7329                            1030             SUB_END
 7330                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7331 00000398 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7332                            1031             M_RTS
 7333 0000039A 000B                   M           RTS                             ;RTSの後ろの
 7334 0000039C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7335                            1032     
 7336                            1033     
 7337                            1034     ;;;LENGTH_ADD[2]=LINK_SV_OBJ_ABSPLS[2]-LINK_RL_OBJ_ABSPLS[2];//abs停止目標位置-ﾘｱﾙﾀｲﾑ目標
                                          絶対位置
 7338                            1035     ;       ***********************************
 7339                            1036     ;       ***                             ***
 7340                            1037     ;       ***     ﾓｰﾄﾞに関わるｻﾌﾞﾙｰﾁﾝ     ***
 7341                            1038     ;       ***                             ***
 7342                            1039     ;       ***********************************
 7343                            1040     
 7344                            1041     
 7345                            1042     
 7346                            1043     ;;;;;;@@@@@@@@@@
 7347                            1044     
 7348                            1045     ;       ***********************************
 7349                            1046     ;       ***                             ***
 7350                            1047     ;       ***     上死点復帰              ***
 7351                            1048     ;       ***     速度設定                ***
 7352                            1049     ;       ***                             ***
 7353                            1050     ;       ***********************************
 7354                                     ***** BEGIN-POOL *****
 7355 0000039E 0000                       ALIGNMENT CODE
 7356 000003A0 00000000                   DATA FOR SOURCE-LINE 1022
 7357 000003A4 00000000                   DATA FOR SOURCE-LINE 1025
 7358 000003A8 00000000                   DATA FOR SOURCE-LINE 1028
 7359                                     ***** END-POOL *****
 7360 000003AC                   1051             .ALIGN  4                               ;
 7361 000003AC                   1052     _DNDUPS_SPD_SET:
 7362                            1053             SUB_START
 7363 000003AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7364                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7365 000003AE D103              1054             MOV.L   #_SET1_UPAREA_SPD1,R1   ;
 7366 000003B0 6212              1055             MOV.L   @R1,R2                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    25
PROGRAM NAME =

 7367 000003B2 D103              1056             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7368 000003B4 2122              1057             MOV.L   R2,@R1                  ;
 7369                            1058             SUB_END
 7370                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7371 000003B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7372                            1059             M_RTS
 7373 000003B8 000B                   M           RTS                             ;RTSの後ろの
 7374 000003BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7375                            1060     
 7376                                     ***** BEGIN-POOL *****
 7377 000003BC 00000000                   DATA FOR SOURCE-LINE 1054
 7378 000003C0 00000000                   DATA FOR SOURCE-LINE 1056
 7379                                     ***** END-POOL *****
 7380 000003C4                   1061             .ALIGN  4                               ;
 7381 000003C4                   1062     _DNDUPS_CLEEP_SPD_SET:
 7382                            1063             SUB_START
 7383 000003C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7384                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7385 000003C6 D103              1064             MOV.L   #_SET1_UPCLEEP_SPD,R1   ;
 7386 000003C8 6212              1065             MOV.L   @R1,R2                  ;
 7387 000003CA D103              1066             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7388 000003CC 2122              1067             MOV.L   R2,@R1                  ;
 7389                            1068             SUB_END
 7390                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7391 000003CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7392                            1069             M_RTS
 7393 000003D0 000B                   M           RTS                             ;RTSの後ろの
 7394 000003D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7395                            1070     
 7396                            1071     
 7397                            1072     
 7398                            1073     ;       ***********************************
 7399                            1074     ;       ***                             ***
 7400                            1075     ;       ***     2006-07-28              ***
 7401                            1076     ;       ***                             ***
 7402                            1077     ;       ***********************************
 7403                                     ***** BEGIN-POOL *****
 7404 000003D4 00000000                   DATA FOR SOURCE-LINE 1064
 7405 000003D8 00000000                   DATA FOR SOURCE-LINE 1066
 7406                                     ***** END-POOL *****
 7407 000003DC                   1078             .ALIGN  4                               ;
 7408 000003DC                   1079     _MN_DNDINC_START:
 7409                            1080             SUB_START
 7410 000003DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7411                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7412 000003DE D104              1081             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
 7413 000003E0 6011              1082             MOV.W   @R1,R0                          ;
 7414 000003E2 2008              1083             TST     R0,R0                           ;
 7415                            1084             TST_BIT_OF DNDINC_ST_100                ;
 7416 000003E4 8908                   M           BT      DNDINC_ST_100
 7417                            1085     
 7418                            1086             FAR_JSR #_MN_TEP_START,R0
 7419 000003E6 D003                   M           MOV.L   #_MN_TEP_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7420 000003E8 400B                   M           JSR     @R0                     ;
 7421 000003EA 0009                   M           NOP                                     ;
 7422                            1087             M_BRA   DNDINC_ST_END                           ;
 7423 000003EC A071                   M           BRA     DNDINC_ST_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    26
PROGRAM NAME =

 7424 000003EE 0009                   M           NOP
 7425                            1088     
 7426                                     ***** BEGIN-POOL *****
 7427 000003F0 00000000                   DATA FOR SOURCE-LINE 1081
 7428 000003F4 00000000                   DATA FOR SOURCE-LINE 1086
 7429                                     ***** END-POOL *****
 7430 000003F8                   1089     DNDINC_ST_100:
 7431 000003F8 D10B              1090             MOV.L   #_CPOS_DND_STOP_SW,R1           ;
 7432 000003FA 6011              1091             MOV.W   @R1,R0                          ;
 7433 000003FC C803              1092             TST     #(BIT1+BIT0),R0                 ;停止有り?
 7434                            1093             TST_BIT_OF DNDINC_ST_520                ;
 7435 000003FE 8941                   M           BT      DNDINC_ST_520
 7436                            1094     
 7437 00000400 D10A              1095             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 7438 00000402 6011              1096             MOV.W   @R1,R0                                  ;
 7439 00000404 8802              1097             CMP/EQ  #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
 7440 00000406 8B27              1098             BF      DNDINC_ST_350                           ;
 7441                            1099     
 7442                            1100     ;;;[2021-11-15];        ====== 反転/段取寸動===
 7443                            1101     ;;;[2021-11-15] FAR_JSR #_DND_LNK_STEP_CHECK1,R0                ;//<どの工程から開始するか
                                          > CHEAK
 7444                            1102     ;;;[2021-11-15] FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                 ;ｽﾃｯﾌﾟに応じて待機点1/目標
                                          位置/待機点2 _POS_DRV_DIRECT
 7445                            1103     ;;;[2021-11-15] M_BRA   DNDINC_ST_380                           ;
 7446                            1104     ;       ====== [2021-11-15]停止付き===
 7447                            1105     ;       ====== 反転/段取寸動===
 7448                            1106             FAR_JSR #_DND_NEG_STOP_SVCHK,R0                 ;
 7449 00000408 D009                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7450 0000040A 400B                   M           JSR     @R0                     ;
 7451 0000040C 0009                   M           NOP                                     ;
 7452                            1107             FAR_JSR #_DND_NEG_START_FLG_CLR,R0              ;
 7453 0000040E D009                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7454 00000410 400B                   M           JSR     @R0                     ;
 7455 00000412 0009                   M           NOP                                     ;
 7456                            1108     
 7457                            1109     ;       ------- 2021-11-15ADD[[]]]
 7458 00000414 D108              1110             MOV.L   #_NEG_DND_STOP_USE_F,R1                 ;       //上死点(0)<停止<170の時 O
                                          n
 7459 00000416 6010              1111             MOV.B   @R1,R0                                                  ;
 7460 00000418 2008              1112             TST             R0,R0                                                   ;
 7461                            1113             TST_BIT_ON DNDINC_ST_250                                ;
 7462 0000041A 8B11                   M           BF      DNDINC_ST_250
 7463                            1114             FAR_JSR #_DND_LNK_STEP_CHECK0,R0                ;
 7464 0000041C D007                   M           MOV.L   #_DND_LNK_STEP_CHECK0,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7465 0000041E 400B                   M           JSR     @R0                     ;
 7466 00000420 0009                   M           NOP                                     ;
 7467                            1115             M_BRA   DNDINC_ST_290                                   ;
 7468 00000422 A010                   M           BRA     DNDINC_ST_290
 7469 00000424 0009                   M           NOP
 7470                                     ***** BEGIN-POOL *****
 7471 00000426 0000                       ALIGNMENT CODE
 7472 00000428 00000000                   DATA FOR SOURCE-LINE 1090
 7473 0000042C 00000000                   DATA FOR SOURCE-LINE 1095
 7474 00000430 00000000                   DATA FOR SOURCE-LINE 1106
 7475 00000434 00000000                   DATA FOR SOURCE-LINE 1107
 7476 00000438 00000000                   DATA FOR SOURCE-LINE 1110
 7477 0000043C 00000000                   DATA FOR SOURCE-LINE 1114
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    27
PROGRAM NAME =

 7478                                     ***** END-POOL *****
 7479 00000440                   1116     DNDINC_ST_250:
 7480                            1117             FAR_JSR #_DND_LNK_STEP_CHECK2,R0                ;//<どの工程から開始するか> CHEAK
 7481 00000440 D003                   M           MOV.L   #_DND_LNK_STEP_CHECK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7482 00000442 400B                   M           JSR     @R0                     ;
 7483 00000444 0009                   M           NOP                                     ;
 7484 00000446                   1118     DNDINC_ST_290:
 7485                            1119             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                 ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
 7486 00000446 D103                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7487 00000448 410B                   M           JSR     @R1                     ;
 7488 0000044A 0009                   M           NOP                                     ;
 7489                            1120             M_BRA   DNDINC_ST_380                           ;
 7490 0000044C A00D                   M           BRA     DNDINC_ST_380
 7491 0000044E 0009                   M           NOP
 7492                            1121     
 7493                            1122     
 7494                                     ***** BEGIN-POOL *****
 7495 00000450 00000000                   DATA FOR SOURCE-LINE 1117
 7496 00000454 00000000                   DATA FOR SOURCE-LINE 1119
 7497                                     ***** END-POOL *****
 7498 00000458                   1123     DNDINC_ST_350:
 7499                            1124     ;       ====== 回転/段取寸動===
 7500                            1125     ;       +/-MAX位置を目標とする                                  ;
 7501                            1126     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 7502                            1127             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7503 00000458 D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7504 0000045A 410B                   M           JSR     @R1                     ;
 7505 0000045C 0009                   M           NOP                                     ;
 7506                            1128             FAR_JSR #_DNDINC_STEP_MAKE,R1                           ;
 7507 0000045E D106                   M           MOV.L   #_DNDINC_STEP_MAKE,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7508 00000460 410B                   M           JSR     @R1                     ;
 7509 00000462 0009                   M           NOP                                     ;
 7510                            1129             FAR_JSR #_DNDINC_MAKE_OBJPOS,R1                         ;
 7511 00000464 D105                   M           MOV.L   #_DNDINC_MAKE_OBJPOS,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7512 00000466 410B                   M           JSR     @R1                     ;
 7513 00000468 0009                   M           NOP                                     ;
 7514                            1130     
 7515 0000046A                   1131     DNDINC_ST_380:
 7516                            1132             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 7517 0000046A D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7518 0000046C 440B                   M           JSR     @R4                     ;
 7519 0000046E 0009                   M           NOP                                     ;
 7520                            1133             M_BRA   DNDINC_ST_END                                   ;
 7521 00000470 A02F                   M           BRA     DNDINC_ST_END
 7522 00000472 0009                   M           NOP
 7523                            1134     
 7524                            1135     
 7525                            1136     ;       -------- 今までのソフトをそのまま流す-------------
 7526                                     ***** BEGIN-POOL *****
 7527 00000474 00000000                   DATA FOR SOURCE-LINE 1127
 7528 00000478 00000000                   DATA FOR SOURCE-LINE 1128
 7529 0000047C 00000000                   DATA FOR SOURCE-LINE 1129
 7530 00000480 00000000                   DATA FOR SOURCE-LINE 1132
 7531                                     ***** END-POOL *****
 7532 00000484                   1137     DNDINC_ST_520:
 7533 00000484 D108              1138             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    28
PROGRAM NAME =

 7534 00000486 6011              1139             MOV.W   @R1,R0                          ;
 7535 00000488 8802              1140             CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 7536 0000048A 8B17              1141             BF      DNDINC_ST_550           ;
 7537                            1142     
 7538                            1143     ;       ====== 反転/段取寸動===
 7539                            1144     ;;;[2021-11-15] FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 7540                            1145     ;;;[2021-11-15] FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
 7541                            1146             FAR_JSR #_DND_NEG_STOP_SVCHK,R0                 ;
 7542 0000048C D007                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7543 0000048E 400B                   M           JSR     @R0                     ;
 7544 00000490 0009                   M           NOP                                     ;
 7545                            1147             FAR_JSR #_DND_NEG_START_FLG_CLR,R0
 7546 00000492 D007                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7547 00000494 400B                   M           JSR     @R0                     ;
 7548 00000496 0009                   M           NOP                                     ;
 7549                            1148             FAR_JSR #_DND_LNK_STEP_CHECK0,R0        ;//<どの工程から開始するか> CHEAK
 7550 00000498 D006                   M           MOV.L   #_DND_LNK_STEP_CHECK0,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7551 0000049A 400B                   M           JSR     @R0                     ;
 7552 0000049C 0009                   M           NOP                                     ;
 7553                            1149             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 7554 0000049E D106                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7555 000004A0 410B                   M           JSR     @R1                     ;
 7556 000004A2 0009                   M           NOP                                     ;
 7557                            1150             M_BRA   DNDINC_ST_580           ;
 7558 000004A4 A012                   M           BRA     DNDINC_ST_580
 7559 000004A6 0009                   M           NOP
 7560                            1151     
 7561                                     ***** BEGIN-POOL *****
 7562 000004A8 00000000                   DATA FOR SOURCE-LINE 1138
 7563 000004AC 00000000                   DATA FOR SOURCE-LINE 1146
 7564 000004B0 00000000                   DATA FOR SOURCE-LINE 1147
 7565 000004B4 00000000                   DATA FOR SOURCE-LINE 1148
 7566 000004B8 00000000                   DATA FOR SOURCE-LINE 1149
 7567                                     ***** END-POOL *****
 7568 000004BC                   1152     DNDINC_ST_550:
 7569                            1153     ;       ====== 回転/段取寸動===
 7570                            1154     ;       +/-MAX位置を目標とする                                  ;
 7571                            1155     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 7572                            1156             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7573 000004BC D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7574 000004BE 410B                   M           JSR     @R1                     ;
 7575 000004C0 0009                   M           NOP                                     ;
 7576 000004C2 D106              1157             MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 7577 000004C4 6011              1158             MOV.W   @R1,R0
 7578                            1159             FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 7579 000004C6 D406                   M           MOV.L   #_LINK_P_M_MAX,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7580 000004C8 440B                   M           JSR     @R4                     ;
 7581 000004CA 0009                   M           NOP                                     ;
 7582 000004CC                   1160     DNDINC_ST_580:
 7583                            1161             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 7584 000004CC D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7585 000004CE 440B                   M           JSR     @R4                     ;
 7586 000004D0 0009                   M           NOP                                     ;
 7587 000004D2                   1162     DNDINC_ST_END:
 7588                            1163             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    29
PROGRAM NAME =

 7589                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7590 000004D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7591                            1164             M_RTS
 7592 000004D4 000B                   M           RTS                             ;RTSの後ろの
 7593 000004D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7594                            1165     
 7595                            1166     
 7596                            1167     
 7597                            1168     ;       ***********************************
 7598                            1169     ;       ***                             ***
 7599                            1170     ;       ***     段取寸動(回転仕様)      ***
 7600                            1171     ;       ***     方向                    ***
 7601                            1172     ;       ***     目標位置abs             ***
 7602                            1173     ;       ***                             ***
 7603                            1174     ;       ***********************************
 7604                            1175     ;       ANS R0          BIT0
 7605                            1176     ;                       BIT1=1:EQU ｲｺｰﾙ時は逆転から始める
 7606                            1177     ;       ｼｰｹﾝｽﾋﾞｯﾄから決定
 7607                            1178     ;       (増加方向ならMAX)
 7608                            1179     ;       (減少方向ならMIN)
 7609                            1180     ;
 7610                                     ***** BEGIN-POOL *****
 7611 000004D8 00000000                   DATA FOR SOURCE-LINE 1156
 7612 000004DC 00000000                   DATA FOR SOURCE-LINE 1157
 7613 000004E0 00000000                   DATA FOR SOURCE-LINE 1159
 7614 000004E4 00000000                   DATA FOR SOURCE-LINE 1161
 7615                                     ***** END-POOL *****
 7616 000004E8                   1181             .ALIGN  4                               ;
 7617 000004E8                   1182     _DNDINC_DIRECT_MAKE1:
 7618                            1183             SUB_START
 7619 000004E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7620                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7621 000004EA D006              1184             MOV.L   #_CTL_ENC360,R0                 ;//360.0度(いまのところ不要)
 7622 000004EC 6101              1185             MOV.W   @R0,R1                          ;
 7623 000004EE D406              1186             MOV.L   #_STR_ENC3600_DIG,R4            ;//運転開始時の360.0角度
 7624 000004F0 2411              1187             MOV.W   R1,@R4                          ;
 7625                            1188     
 7626 000004F2 D106              1189             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 7627 000004F4 6011              1190             MOV.W   @R1,R0                          ;
 7628 000004F6 C901              1191             AND     #BIT0,R0                        ;(BIT0=0正転　BIT0=1逆転)
 7629                            1192     
 7630 000004F8 D105              1193             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 7631 000004FA 2101              1194             MOV.W   R0,@R1
 7632                            1195             SUB_END
 7633                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7634 000004FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7635                            1196             M_RTS
 7636 000004FE 000B                   M           RTS                             ;RTSの後ろの
 7637 00000500 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7638                            1197     
 7639                            1198     ;       ***********************************
 7640                            1199     ;       ***                             ***
 7641                            1200     ;       ***     段取寸動(反転仕様)      ***
 7642                            1201     ;       ***     方向                    ***
 7643                            1202     ;       ***     目標位置abs             ***
 7644                            1203     ;       ***                             ***
 7645                            1204     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    30
PROGRAM NAME =

 7646                            1205     ;       <1>EXQ,EMG後の運転なら180を通らない方向待機点に向かう方向で,
 7647                            1206     ;          待機点を目指して運転開始
 7648                            1207     ;          待機点まで辿りついたら、一旦停止する。<FLG=0-->1>
 7649                            1208     ;
 7650                            1209     ;       <2>FLG=1
 7651                            1210     ;          下降から開始する.下限位置を目指す
 7652                            1211     ;          下限位置まで辿りついたら、一旦停止する。<FLG=1-->2>
 7653                            1212     ;
 7654                            1213     ;       <3>FLG=2
 7655                            1214     ;          上昇から開始する.待機位置を目指す
 7656                            1215     ;          待機位置まで辿りついたら、一旦停止する。<FLG=2-->1>
 7657                            1216     ;
 7658                            1217     ;
 7659                            1218     ;
 7660                            1219     ;       *******************************************
 7661                            1220     ;       ***                                     ***
 7662                            1221     ;       ***     運転釦による起動                ***
 7663                            1222     ;       ***     INT_DND_NEG_STEPを作成          ***
 7664                            1223     ;       ***                                     ***
 7665                            1224     ;       *******************************************
 7666                                     ***** BEGIN-POOL *****
 7667 00000502 0000                       ALIGNMENT CODE
 7668 00000504 00000000                   DATA FOR SOURCE-LINE 1184
 7669 00000508 00000000                   DATA FOR SOURCE-LINE 1186
 7670 0000050C 00000000                   DATA FOR SOURCE-LINE 1189
 7671 00000510 00000000                   DATA FOR SOURCE-LINE 1193
 7672                                     ***** END-POOL *****
 7673 00000514                   1225             .ALIGN  4                               ;
 7674                            1226     ;;2021-11-15_DND_LNK_STEP_CHECK1:
 7675                            1227     ;;2021-11-15    SUB_START
 7676                            1228     ;;2021-11-15;   ------- 2007-01-23-----
 7677                            1229     ;;2021-11-15    MOV.L   #_CB_SEQ_CB_SEL342,R1                           ;342
 7678                            1230     ;;2021-11-15    MOV.W   @R1,R0                                          ;
 7679                            1231     ;;2021-11-15    TST     #BIT3,R0                                        ;342.3
 7680                            1232     ;;2021-11-15    TST_BIT_OF DND_LNK_STEP_CK1_100                         ;OFF(往復運転　今
                                          までの)
 7681                            1233     ;;2021-11-15
 7682                            1234     ;;2021-11-15    MOV     #1,R2                                           ;
 7683                            1235     ;;2021-11-15    MOV.L   #_CB_SEQ_CB_SEL341,R1                           ;341.0=0 上昇
 7684                            1236     ;;2021-11-15    MOV.W   @R1,R0                                          ;
 7685                            1237     ;;2021-11-15    TST     #BIT0,R0                                        ;
 7686                            1238     ;;2021-11-15    TST_BIT_OF DND_LNK_STEP_CK1_050                         ;
 7687                            1239     ;;2021-11-15    MOV     #2,R2                                           ;
 7688                            1240     ;;2021-11-15DND_LNK_STEP_CK1_050:                                               ;
 7689                            1241     ;;2021-11-15    MOV.L   #_INT_DND_NEG_STEP,R1                           ;
 7690                            1242     ;;2021-11-15    MOV.W   R2,@R1                                          ;
 7691                            1243     ;;2021-11-15
 7692                            1244     ;;2021-11-15DND_LNK_STEP_CK1_100:
 7693                            1245     ;;2021-11-15;   ---------------------------
 7694                            1246     ;;2021-11-15
 7695                            1247     ;;2021-11-15    SUB_END
 7696                            1248     ;;2021-11-15    M_RTS
 7697                            1249     ;       ----------2021-11-15 ------------
 7698                            1250     ;       --------------------------------------
 7699                            1251     ;       ----------- 停止なし 起動       ----------
 7700                            1252     ;       --------------------------------------
 7701 00000514                   1253     _DND_LNK_STEP_CHECK0:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    31
PROGRAM NAME =

 7702                            1254             SUB_START
 7703 00000514 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7704                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7705                            1255     
 7706                            1256     ;       ---------------- 2007-01-23----------------------------------
 7707 00000516 D106              1257             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 7708 00000518 6011              1258             MOV.W   @R1,R0                                                                  ;
 7709 0000051A C808              1259             TST             #BIT3,R0
                                          ;342.3
 7710                            1260             TST_BIT_OF DND_LNK_STEP_CHK0_200                                ;OFF(往復)
 7711 0000051C 890C                   M           BT      DND_LNK_STEP_CHK0_200
 7712                            1261     
 7713                            1262     ;       ---------------- 下降運転／上昇-----------------------
 7714 0000051E E204              1263             MOV.B   #4,R2                                                                   ;
 7715 00000520 D104              1264             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 7716 00000522 6011              1265             MOV.W   @R1,R0                                                                  ;
 7717 00000524 C801              1266             TST             #BIT0,R0
                                          ;
 7718                            1267             TST_BIT_ON DND_LNK_STEP_CHK0_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 7719 00000526 8B00                   M           BF      DND_LNK_STEP_CHK0_100
 7720 00000528 E202              1268             MOV.B   #2,R2                                                                   ;2
                                          :下降
 7721 0000052A                   1269     DND_LNK_STEP_CHK0_100:                                                          ;
 7722 0000052A 6023              1270             MOV             R2,R0
                                          ;
 7723                            1271             M_BRA   DND_LNK_STEP_CHK0_450                                   ;
 7724 0000052C A00D                   M           BRA     DND_LNK_STEP_CHK0_450
 7725 0000052E 0009                   M           NOP
 7726                            1272     
 7727                            1273     
 7728                            1274     ;       ---------------- 往復運転-----------------------
 7729                                     ***** BEGIN-POOL *****
 7730 00000530 00000000                   DATA FOR SOURCE-LINE 1257
 7731 00000534 00000000                   DATA FOR SOURCE-LINE 1264
 7732                                     ***** END-POOL *****
 7733 00000538                   1275     DND_LNK_STEP_CHK0_200:                                                          ;
 7734 00000538 D502              1276             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 7735 0000053A 6051              1277             MOV.W   @R5,R0                                                                  ;
 7736 0000053C 2008              1278             TST             R0,R0
                                          ;
 7737                            1279             TST_BIT_OF DND_LNK_STEP_CHK0_400                                ;
 7738 0000053E 8903                   M           BT      DND_LNK_STEP_CHK0_400
 7739                            1280             M_BRA   DND_LNK_STEP_CHK0_END                                   ;
 7740 00000540 A005                   M           BRA     DND_LNK_STEP_CHK0_END
 7741 00000542 0009                   M           NOP
 7742                            1281     
 7743                                     ***** BEGIN-POOL *****
 7744 00000544 00000000                   DATA FOR SOURCE-LINE 1276
 7745                                     ***** END-POOL *****
 7746 00000548                   1282     DND_LNK_STEP_CHK0_400:                                                          ;
 7747 00000548 E004              1283             MOV.B   #4,R0                                                                   ;
                                          上昇
 7748                            1284     
 7749 0000054A                   1285     DND_LNK_STEP_CHK0_450:                                                          ;
 7750 0000054A D502              1286             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    32
PROGRAM NAME =

 7751 0000054C 2501              1287             MOV.W   R0,@R5                                                                  ;
 7752                            1288     
 7753 0000054E                   1289     DND_LNK_STEP_CHK0_END:                                                          ;
 7754                            1290     
 7755                            1291             SUB_END
 7756                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7757 0000054E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7758                            1292             M_RTS
 7759 00000550 000B                   M           RTS                             ;RTSの後ろの
 7760 00000552 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7761                            1293     
 7762                            1294     ;       ---------------------------------------
 7763                            1295     ;       ----                                                            ---
 7764                            1296     ;       ---                     停止なし工程変更                ---
 7765                            1297     ;       ----                                                            ---
 7766                            1298     ;       ---------------------------------------
 7767                                     ***** BEGIN-POOL *****
 7768 00000554 00000000                   DATA FOR SOURCE-LINE 1286
 7769                                     ***** END-POOL *****
 7770 00000558                   1299     _DND_NEG_LNK_STEP_CHANGE0:
 7771                            1300             SUB_START
 7772 00000558 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7773                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7774                            1301     
 7775                            1302     
 7776                            1303     ;       ---------------- 2007-01-23----------------------------------
 7777 0000055A D106              1304             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 7778 0000055C 6011              1305             MOV.W   @R1,R0                                                                  ;
 7779 0000055E C808              1306             TST             #BIT3,R0
                                          ;342.3
 7780                            1307             TST_BIT_OF DND_LNK_STEP_CHG0_400                                ;
 7781 00000560 890C                   M           BT      DND_LNK_STEP_CHG0_400
 7782                            1308     
 7783                            1309     
 7784 00000562 E204              1310             MOV.B   #4,R2                                                                   ;
 7785 00000564 D104              1311             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 7786 00000566 6011              1312             MOV.W   @R1,R0                                                                  ;
 7787 00000568 C801              1313             TST             #BIT0,R0
                                          ;
 7788                            1314             TST_BIT_ON DND_LNK_STEP_CHG0_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 7789 0000056A 8B00                   M           BF      DND_LNK_STEP_CHG0_100
 7790 0000056C E202              1315             MOV.B   #2,R2                                                                   ;2
                                          :下降
 7791 0000056E                   1316     DND_LNK_STEP_CHG0_100:                                                          ;
 7792 0000056E 6023              1317             MOV             R2,R0
                                          ;
 7793                            1318             M_BRA   DND_LNK_STEP_CHG0_425                                   ;固定
 7794 00000570 A00F                   M           BRA     DND_LNK_STEP_CHG0_425
 7795 00000572 0009                   M           NOP
 7796                            1319     
 7797                            1320     
 7798                                     ***** BEGIN-POOL *****
 7799 00000574 00000000                   DATA FOR SOURCE-LINE 1304
 7800 00000578 00000000                   DATA FOR SOURCE-LINE 1311
 7801                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    33
PROGRAM NAME =

 7802 0000057C                   1321     DND_LNK_STEP_CHG0_400:                                                  ;
 7803                            1322     
 7804 0000057C D503              1323             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 7805 0000057E 6051              1324             MOV.W   @R5,R0                                                          ;
 7806 00000580 8804              1325             CMP/EQ  #4,R0                                                           ;4:上昇
 7807 00000582 8B05              1326             BF              DND_LNK_STEP_CHG0_423                           ;
 7808 00000584 E002              1327             MOV.B   #2,R0                                                           ;2:下降
 7809                            1328             M_BRA   DND_LNK_STEP_CHG0_425                           ;
 7810 00000586 A004                   M           BRA     DND_LNK_STEP_CHG0_425
 7811 00000588 0009                   M           NOP
 7812                                     ***** BEGIN-POOL *****
 7813 0000058A 0000                       ALIGNMENT CODE
 7814 0000058C 00000000                   DATA FOR SOURCE-LINE 1323
 7815                                     ***** END-POOL *****
 7816 00000590                   1329     DND_LNK_STEP_CHG0_423:                                                  ;
 7817 00000590 E004              1330             MOV.B   #4,R0                                                           ;上昇
 7818                            1331     
 7819 00000592                   1332     DND_LNK_STEP_CHG0_425:                                                  ;
 7820                            1333     
 7821 00000592 D502              1334             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 7822 00000594 2501              1335             MOV.W   R0,@R5                                                          ;
 7823                            1336     
 7824                            1337     
 7825 00000596                   1338     DND_LNK_STEP_CHG0_END:                                                  ;
 7826                            1339             SUB_END
 7827                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7828 00000596 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7829                            1340             M_RTS
 7830 00000598 000B                   M           RTS                             ;RTSの後ろの
 7831 0000059A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7832                            1341     
 7833                            1342     
 7834                            1343     
 7835                            1344     ;       ---------------------------------------
 7836                            1345     ;       ---                                                                     ---
 7837                            1346     ;       ---                     停止有起動                              ---
 7838                            1347     ;       ---                                                                     ---
 7839                            1348     ;       ---------------------------------------
 7840                            1349     ;       AREA
 7841                            1350     ;               停止角度(100):101~270度　停止角度100
 7842                            1351     ;
 7843                            1352     
 7844                                     ***** BEGIN-POOL *****
 7845 0000059C 00000000                   DATA FOR SOURCE-LINE 1334
 7846                                     ***** END-POOL *****
 7847 000005A0                   1353     _DND_LNK_STEP_CHECK2:
 7848                            1354             SUB_START
 7849 000005A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7850                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7851                            1355     
 7852                            1356     
 7853                            1357     
 7854                            1358     
 7855                            1359     
 7856                            1360     
 7857                            1361     ;       ---------------- 2007-01-23----------------------------------
 7858 000005A2 D108              1362             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    34
PROGRAM NAME =

 7859 000005A4 6011              1363             MOV.W   @R1,R0                                                                  ;
 7860 000005A6 C808              1364             TST             #BIT3,R0
                                          ;342.3
 7861                            1365             TST_BIT_OF DND_LNK_STEP_CHK2_300                                ;OFF(往復)
 7862 000005A8 891E                   M           BT      DND_LNK_STEP_CHK2_300
 7863                            1366     
 7864                            1367     ;       ---------------- 下降運転／上昇-----------------------
 7865 000005AA D107              1368             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 7866 000005AC 6011              1369             MOV.W   @R1,R0                                                                  ;
 7867 000005AE C801              1370             TST             #BIT0,R0
                                          ;
 7868                            1371             TST_BIT_ON DND_LNK_STEP_CHK2_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 7869 000005B0 8B0E                   M           BF      DND_LNK_STEP_CHK2_100
 7870                            1372     
 7871                            1373     ;       --------- 下降から開始----------
 7872                            1374             FAR_JSR #_DND_NEG_AREA_JUDE1,R0                                 ;
 7873 000005B2 D006                   M           MOV.L   #_DND_NEG_AREA_JUDE1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7874 000005B4 400B                   M           JSR     @R0                     ;
 7875 000005B6 0009                   M           NOP                                     ;
 7876 000005B8 E202              1375             MOV.B   #2,R2                                                                   ;
                                          下限
 7877 000005BA 2008              1376             TST             R0,R0
                                          ;
 7878                            1377             TST_BIT_ON DND_LNK_STEP_CHK2_199                                ;ON:
 7879 000005BC 8B0F                   M           BF      DND_LNK_STEP_CHK2_199
 7880 000005BE E201              1378             MOV.B   #1,R2
 7881                            1379             M_BRA   DND_LNK_STEP_CHK2_199                                           ;ON:
 7882 000005C0 A00D                   M           BRA     DND_LNK_STEP_CHK2_199
 7883 000005C2 0009                   M           NOP
 7884                            1380     
 7885                            1381     ;       --------- 上昇から開始----------
 7886                                     ***** BEGIN-POOL *****
 7887 000005C4 00000000                   DATA FOR SOURCE-LINE 1362
 7888 000005C8 00000000                   DATA FOR SOURCE-LINE 1368
 7889 000005CC 00000000                   DATA FOR SOURCE-LINE 1374
 7890                                     ***** END-POOL *****
 7891 000005D0                   1382     DND_LNK_STEP_CHK2_100:                                                          ;
 7892                            1383             FAR_JSR #_DND_NEG_AREA_JUDE2,R0                                 ;
 7893 000005D0 D004                   M           MOV.L   #_DND_NEG_AREA_JUDE2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7894 000005D2 400B                   M           JSR     @R0                     ;
 7895 000005D4 0009                   M           NOP                                     ;
 7896                            1384     
 7897 000005D6 E204              1385             MOV.B   #4,R2                                                                   ;0
                                          度
 7898 000005D8 2008              1386             TST             R0,R0
                                          ;
 7899                            1387             TST_BIT_OF DND_LNK_STEP_CHK2_199                                ;OFF
 7900 000005DA 8900                   M           BT      DND_LNK_STEP_CHK2_199
 7901 000005DC E203              1388             MOV.B   #3,R2                                                                   ;
 7902 000005DE                   1389     DND_LNK_STEP_CHK2_199:                                                          ;
 7903 000005DE 6023              1390             MOV             R2,R0
                                          ;
 7904                            1391             M_BRA   DND_LNK_STEP_CHK2_450
 7905 000005E0 A00B                   M           BRA     DND_LNK_STEP_CHK2_450
 7906 000005E2 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    35
PROGRAM NAME =

 7907                            1392     
 7908                            1393     
 7909                            1394     ;       ---------------- 往復運転-----------------------
 7910                                     ***** BEGIN-POOL *****
 7911 000005E4 00000000                   DATA FOR SOURCE-LINE 1383
 7912                                     ***** END-POOL *****
 7913 000005E8                   1395     DND_LNK_STEP_CHK2_300:                                                          ;
 7914 000005E8 D502              1396             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 7915 000005EA 6051              1397             MOV.W   @R5,R0                                                                  ;
 7916 000005EC 2008              1398             TST             R0,R0
                                          ;
 7917                            1399             TST_BIT_OF DND_LNK_STEP_CHK2_400                                ;
 7918 000005EE 8903                   M           BT      DND_LNK_STEP_CHK2_400
 7919                            1400             M_BRA   DND_LNK_STEP_CHK2_END                                   ;
 7920 000005F0 A005                   M           BRA     DND_LNK_STEP_CHK2_END
 7921 000005F2 0009                   M           NOP
 7922                            1401     
 7923                                     ***** BEGIN-POOL *****
 7924 000005F4 00000000                   DATA FOR SOURCE-LINE 1396
 7925                                     ***** END-POOL *****
 7926 000005F8                   1402     DND_LNK_STEP_CHK2_400:                                                          ;
 7927 000005F8 E004              1403             MOV.B   #4,R0                                                                   ;
                                          上昇
 7928                            1404     
 7929 000005FA                   1405     DND_LNK_STEP_CHK2_450:                                                          ;
 7930 000005FA D502              1406             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 7931 000005FC 2501              1407             MOV.W   R0,@R5                                                                  ;
 7932                            1408     
 7933 000005FE                   1409     DND_LNK_STEP_CHK2_END:                                                          ;
 7934                            1410     
 7935                            1411             SUB_END
 7936                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7937 000005FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7938                            1412             M_RTS
 7939 00000600 000B                   M           RTS                             ;RTSの後ろの
 7940 00000602 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7941                            1413     
 7942                            1414     
 7943                            1415     
 7944                            1416     
 7945                            1417     ;       ---------------------------------------
 7946                            1418     ;       ----                                                            ---
 7947                            1419     ;       ---                     停止工程変更                    ---
 7948                            1420     ;       ----                                                            ---
 7949                            1421     ;       ---------------------------------------
 7950                            1422     ;       1->2
 7951                            1423     ;       3->4
 7952                                     ***** BEGIN-POOL *****
 7953 00000604 00000000                   DATA FOR SOURCE-LINE 1406
 7954                                     ***** END-POOL *****
 7955 00000608                   1424     _DND_NEG_LNK_STEP_CHANGE2:
 7956                            1425             SUB_START
 7957 00000608 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7958                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7959                            1426     
 7960                            1427     ;       ---------------- 2007-01-23----------------------------------
 7961 0000060A D103              1428             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    36
PROGRAM NAME =

 7962 0000060C 6011              1429             MOV.W   @R1,R0                                                                  ;
 7963 0000060E C808              1430             TST             #BIT3,R0
                                          ;342.3
 7964                            1431             TST_BIT_OF DND_LNK_STEP_CHG2_300                                ;OFF(往復)
 7965 00000610 8904                   M           BT      DND_LNK_STEP_CHG2_300
 7966                            1432             M_BRA   DND_LNK_STEP_CHG2_END                                   ;
 7967 00000612 A014                   M           BRA     DND_LNK_STEP_CHG2_END
 7968 00000614 0009                   M           NOP
 7969                            1433     
 7970                            1434     ;       -----------------------------------------
 7971                                     ***** BEGIN-POOL *****
 7972 00000616 0000                       ALIGNMENT CODE
 7973 00000618 00000000                   DATA FOR SOURCE-LINE 1428
 7974                                     ***** END-POOL *****
 7975 0000061C                   1435     DND_LNK_STEP_CHG2_300:                                                  ;
 7976                            1436     
 7977 0000061C D505              1437             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 7978 0000061E 6051              1438             MOV.W   @R5,R0                                                          ;
 7979 00000620 2008              1439             TST             R0,R0                                                           ;
 7980                            1440             TST_BIT_OF DND_LNK_STEP_CHG2_END                        ;EXIT
 7981 00000622 890C                   M           BT      DND_LNK_STEP_CHG2_END
 7982                            1441     
 7983 00000624 9404              1442             MOV.W   #4,R4
 7984 00000626 3042              1443             CMP/HS  R4,R0                                                           ;4:上昇最
                                          終
 7985 00000628 8906              1444             BT              DND_LNK_STEP_CHG2_320                           ;
 7986                            1445     
 7987 0000062A 7001              1446             ADD             #1,R0                                                           ;
 7988                            1447             M_BRA   DND_LNK_STEP_CHG2_400                           ;
 7989 0000062C A005                   M           BRA     DND_LNK_STEP_CHG2_400
 7990 0000062E 0009                   M           NOP
 7991                            1448     
 7992                                     ***** BEGIN-POOL *****
 7993 00000630 0004                       DATA FOR SOURCE-LINE 1442
 7994 00000632 0000                       ALIGNMENT CODE
 7995 00000634 00000000                   DATA FOR SOURCE-LINE 1437
 7996                                     ***** END-POOL *****
 7997 00000638                   1449     DND_LNK_STEP_CHG2_320:                                                  ;
 7998 00000638 E001              1450             MOV.B   #1,R0                                                           ;
 7999                            1451     
 8000 0000063A                   1452     DND_LNK_STEP_CHG2_400:                                                  ;
 8001 0000063A D502              1453             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 8002 0000063C 2501              1454             MOV.W   R0,@R5                                                          ;
 8003                            1455     
 8004                            1456     
 8005 0000063E                   1457     DND_LNK_STEP_CHG2_END:                                                  ;
 8006                            1458     
 8007                            1459             SUB_END
 8008                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8009 0000063E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8010                            1460             M_RTS
 8011 00000640 000B                   M           RTS                             ;RTSの後ろの
 8012 00000642 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8013                            1461     
 8014                            1462     
 8015                            1463     ;
 8016                            1464     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    37
PROGRAM NAME =

 8017                            1465     ;
 8018                            1466     ;
 8019                                     ***** BEGIN-POOL *****
 8020 00000644 00000000                   DATA FOR SOURCE-LINE 1453
 8021                                     ***** END-POOL *****
 8022 00000648                   1467     _DND_NEG_START_FLG_CLR
 8023                            1468             SUB_START
 8024 00000648 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8025                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8026                            1469     
 8027 0000064A 200A              1470             XOR             R0,R0
 8028 0000064C D102              1471             MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
 8029 0000064E 2100              1472             MOV.B   R0,@R1                                                          ;
 8030                            1473     
 8031                            1474             SUB_END
 8032                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8033 00000650 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8034                            1475             M_RTS
 8035 00000652 000B                   M           RTS                             ;RTSの後ろの
 8036 00000654 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8037                            1476     
 8038                            1477     
 8039                            1478     ;//     ***********************************************
 8040                            1479     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8041                            1480     ;//     ***********************************************
 8042                            1481     ;段取停止STOP-SW-ON
 8043                            1482     ;0<段取停止位置<170[下限]
 8044                            1483     ;_SVP_DND_STOPDIG1      .SRES   2               ;段取停止角度 0~358.0
 8045                            1484     ;_SET1_DND_STOPDIG_UP(0):設定
 8046                            1485     ;       MOV.L   #_SET1_DND_STOP_SW,R1           ;0,BIT0,BIT1
 8047                            1486     ;       MOV.W   R0,@R1                          ;
 8048                            1487     ;
 8049                            1488             .IMPORT _SVP_DND_STOPDIG1                       ;
 8050                            1489             .IMPORT _SVP_DNAREA_JUDG                        ;
 8051                            1490     
 8052                                     ***** BEGIN-POOL *****
 8053 00000656 0000                       ALIGNMENT CODE
 8054 00000658 00000000                   DATA FOR SOURCE-LINE 1471
 8055                                     ***** END-POOL *****
 8056 0000065C                   1491     _DND_NEG_STOP_SVCHK:
 8057                            1492             SUB_START
 8058 0000065C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8059                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8060                            1493     
 8061 0000065E 277A              1494             XOR             R7,R7                                           ;
 8062                            1495     
 8063                            1496     
 8064 00000660 D109              1497             MOV.L   #_SET1_DND_STOP_SW,R1           ;0,BIT0,BIT1
 8065 00000662 6011              1498             MOV.W   @R1,R0                                          ;
 8066 00000664 C802              1499             TST             #BIT1,R0                                        ;
 8067                            1500             TST_BIT_OF      DND_NEG_STOP_SVCK_OFF   ;
 8068 00000666 890A                   M           BT      DND_NEG_STOP_SVCK_OFF
 8069                            1501     
 8070 00000668 D108              1502             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;[2021-11-15a] 342
 8071 0000066A 6011              1503             MOV.W   @R1,R0                                                                  ;[
                                          2021-11-15a]
 8072 0000066C C808              1504             TST             #BIT3,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    38
PROGRAM NAME =

                                          ;[2021-11-15a]342.3
 8073                            1505             TST_BIT_OF DND_NEG_STOP_SVCK_OFF                                ;[2021-11-15a][停
                                          止させない]
 8074 0000066E 8906                   M           BT      DND_NEG_STOP_SVCK_OFF
 8075                            1506     
 8076 00000670 D107              1507             MOV.L   #_SVP_DND_STOPDIG1,R1           ;
 8077 00000672 6211              1508             MOV.W   @R1,R2                                          ;停止角度
 8078                            1509     
 8079 00000674 D107              1510             MOV.L   #_SVP_DNAREA_JUDG,R1            ;
 8080 00000676 6312              1511             MOV.L   @R1,R3                                          ;
 8081                            1512     
 8082 00000678 3322              1513             CMP/HS  R2,R3                                           ;R2() < R3(170)
 8083 0000067A 8B00              1514             BF              DND_NEG_STOP_SVCK_OFF           ;170より大きい
 8084                            1515     
 8085 0000067C                   1516     DND_NEG_STOP_SVCK_ON:
 8086 0000067C E701              1517             MOV.B   #BIT0,R7                                        ;
 8087 0000067E                   1518     DND_NEG_STOP_SVCK_OFF:
 8088 0000067E                   1519     DND_NEG_STOP_SVCK_SET:
 8089 0000067E D106              1520             MOV.L   #_NEG_DND_STOP_USE_F,R1         ;       //上死点(0)<停止<170の時 On
 8090 00000680 2170              1521             MOV.B   R7,@R1                                          ;
 8091                            1522     
 8092 00000682                   1523     DND_NEG_STOP_SVCK_EXT:
 8093                            1524             SUB_END
 8094                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8095 00000682 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8096                            1525             M_RTS
 8097 00000684 000B                   M           RTS                             ;RTSの後ろの
 8098 00000686 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8099                            1526     
 8100                            1527     ;//     ***********************************************
 8101                            1528     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8102                            1529     ;//     ***********************************************
 8103                            1530     ;R2=3,4(停止位置より上)
 8104                            1531     ;
 8105                            1532     ;
 8106                            1533     ;
 8107                            1534     ;;;_DND_NEG_UP_AREA_JUDE_STEP_MAKE:
 8108                            1535     ;;;     SUB_START
 8109                            1536     ;;;
 8110                            1537     ;;;     MOV.B   #4,R2                                                                   ;
 8111                            1538     
 8112                            1539     ;       --------- 上昇する-------------
 8113                            1540     ;;;     MOV.L   #_NEG_DND_STOP_USE_F,R1                                         ;
 8114                            1541     ;;;     MOV.B   @R1,R0
                                          ;
 8115                            1542     ;;;     TST             R0,R0
                                                  ;
 8116                            1543     ;;;     TST_BIT_OF DND_NEG_UP_AREAJUDE_STEP_MKEND                       ;
 8117                            1544     ;;;
 8118                            1545     ;;;     FAR_JSR #_DND_NEG_AREA_JUDE,R0                                          ;
 8119                            1546     ;;;     TST             R0,R0
                                                  ;
 8120                            1547     ;;;     TST_BIT_OF      DND_NEG_UP_AREAJUDE_STEP_MKEND                  ;0~停止角度内 0度
                                          をめざす[R2=4]
 8121                            1548     ;;;
 8122                            1549     ;;;
 8123                            1550     ;;;     MOV.B   #3,R2                                                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    39
PROGRAM NAME =

 8124                            1551     ;;;
 8125                            1552     ;;;
 8126                            1553     ;;;DND_NEG_UP_AREAJUDE_STEP_MKEND:
 8127                            1554     ;;;
 8128                            1555     ;;;     SUB_END
 8129                            1556     ;;;     M_RTS
 8130                            1557     
 8131                            1558     
 8132                            1559     
 8133                            1560     ;//     ***********************************************
 8134                            1561     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8135                            1562     ;//     ***********************************************
 8136                            1563     ;;;_DND_NEG_DN_AREA_JUDE_STEP_MAKE:
 8137                            1564     ;;;     SUB_START
 8138                            1565     ;;;
 8139                            1566     ;;;     MOV.B   #2,R2                                                                   ;
 8140                            1567     ;;;
 8141                            1568     ;       --------- 下降する-------------
 8142                            1569     ;;;     MOV.L   #_NEG_DND_STOP_USE_F,R1                                         ;
 8143                            1570     ;;;     MOV.B   @R1,R0
                                          ;
 8144                            1571     ;;;     TST             R0,R0
                                                  ;
 8145                            1572     ;;;     TST_BIT_OF DND_NEG_DN_AREAJUDE_STEP_MKEND                       ;
 8146                            1573     ;;;
 8147                            1574     ;;;     FAR_JSR #_DND_NEG_AREA_JUDE,R0                                          ;
 8148                            1575     ;;;     TST             R0,R0
                                                  ;
 8149                            1576     ;;;     TST_BIT_ON      DND_NEG_DN_AREAJUDE_STEP_MKEND                  ;停止角度内~170度
                                          170度をめざす[R2=2]
 8150                            1577     ;;;
 8151                            1578     ;;;
 8152                            1579     ;;;     MOV.B   #1,R2                                                                   ;
 8153                            1580     ;;;
 8154                            1581     ;;;
 8155                            1582     ;;;DND_NEG_DN_AREAJUDE_STEP_MKEND:
 8156                            1583     ;;;
 8157                            1584     ;;;     SUB_END
 8158                            1585     ;;;     M_RTS
 8159                            1586     
 8160                            1587     
 8161                            1588     
 8162                            1589     
 8163                            1590     
 8164                            1591     ;//     ***********************************************
 8165                            1592     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8166                            1593     ;//     ***********************************************
 8167                            1594     ;       停止角度100度
 8168                            1595     ;       101度~270:      上昇時は100度を目標とする
 8169                            1596     ;                               下降時は170度を目標とする
 8170                            1597     ;       R0=0 上昇時は待機点を目標にする
 8171                            1598     ;       R0=0 下降時時は停止角度を目標にする
 8172                            1599     ;
 8173                            1600     ;[下降のため]
 8174                                     ***** BEGIN-POOL *****
 8175 00000688 00000000                   DATA FOR SOURCE-LINE 1497
 8176 0000068C 00000000                   DATA FOR SOURCE-LINE 1502
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    40
PROGRAM NAME =

 8177 00000690 00000000                   DATA FOR SOURCE-LINE 1507
 8178 00000694 00000000                   DATA FOR SOURCE-LINE 1510
 8179 00000698 00000000                   DATA FOR SOURCE-LINE 1520
 8180                                     ***** END-POOL *****
 8181 0000069C                   1601     _DND_NEG_AREA_JUDE1
 8182                            1602             SUB_START
 8183 0000069C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8184                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8185                            1603     
 8186 0000069E 200A              1604             XOR             R0,R0
 8187                            1605     
 8188 000006A0 9410              1606             MOV.W   #D'10,R4
 8189 000006A2 D109              1607             MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8190 000006A4 6311              1608             MOV.W   @R1,R3                                                  ;停止角度(100.0)
 8191 000006A6 3348              1609             SUB             R4,R3                                                   ;
 8192 000006A8 4311              1610             CMP/PZ  R3                                                              ;
 8193 000006AA 8900              1611             BT      DND_NEG_AREA_JD1_050                            ;
 8194 000006AC 233A              1612             XOR             R3,R3                                                   ;
 8195 000006AE                   1613     DND_NEG_AREA_JD1_050                                            ;
 8196                            1614     
 8197 000006AE D107              1615             MOV.L   #_LINK_CLANK_PV,R1                              ;表示角度
 8198 000006B0 6211              1616             MOV.W   @R1,R2                                                  ;
 8199 000006B2 9108              1617             MOV.W   #D'2700,R1                                              ;270.0
 8200                            1618     
 8201 000006B4 3232              1619             CMP/HS  R3,R2                                                   ;R3(停止角度)<= R2
                                          (NOW)
 8202 000006B6 8B02              1620             BF              DND_NEG_AREA_JD1_100                            ;NO! R2<ANS R0=0
 8203                            1621     
 8204 000006B8 3212              1622             CMP/HS  R1,R2                                                   ;R1(2700)< R2(NOW)
 8205 000006BA 8900              1623             BT              DND_NEG_AREA_JD1_100                    ;YES:0:0停止角度
 8206                            1624     
 8207 000006BC E001              1625             MOV.B   #1,R0                                                   ;
 8208                            1626     
 8209 000006BE                   1627     DND_NEG_AREA_JD1_100
 8210                            1628     
 8211                            1629     
 8212                            1630     
 8213                            1631             SUB_END
 8214                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8215 000006BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8216                            1632             M_RTS
 8217 000006C0 000B                   M           RTS                             ;RTSの後ろの
 8218 000006C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8219                            1633     
 8220                            1634     
 8221                                     ***** BEGIN-POOL *****
 8222 000006C4 000A                       DATA FOR SOURCE-LINE 1606
 8223 000006C6 0A8C                       DATA FOR SOURCE-LINE 1617
 8224 000006C8 00000000                   DATA FOR SOURCE-LINE 1607
 8225 000006CC 00000000                   DATA FOR SOURCE-LINE 1615
 8226                                     ***** END-POOL *****
 8227 000006D0                   1635     _DND_NEG_AREA_JUDE2
 8228                            1636             SUB_START
 8229 000006D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8230                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8231                            1637     
 8232 000006D2 200A              1638             XOR             R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    41
PROGRAM NAME =

 8233                            1639     
 8234 000006D4 940D              1640             MOV.W   #D'10,R4
 8235 000006D6 D108              1641             MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8236 000006D8 6311              1642             MOV.W   @R1,R3                                                  ;停止角度(100.0)
 8237 000006DA 334C              1643             ADD             R4,R3                                                   ;101.0~
 8238 000006DC D107              1644             MOV.L   #_LINK_CLANK_PV,R1                              ;表示角度
 8239 000006DE 6211              1645             MOV.W   @R1,R2                                                  ;
 8240 000006E0 9108              1646             MOV.W   #D'2700,R1                                              ;270.0
 8241                            1647     
 8242 000006E2 3232              1648             CMP/HS  R3,R2                                                   ;R3(停止角度)<= R2
                                          (NOW)
 8243 000006E4 8B02              1649             BF              DND_NEG_AREA_JD2_100                            ;NO! R2<ANS R0=0
 8244                            1650     
 8245 000006E6 3212              1651             CMP/HS  R1,R2                                                   ;R1(2700)< R2(NOW)
 8246 000006E8 8900              1652             BT              DND_NEG_AREA_JD2_100                            ;YES:0:0停止角度
 8247                            1653     
 8248 000006EA E001              1654             MOV.B   #1,R0                                                   ;
 8249                            1655     
 8250 000006EC                   1656     DND_NEG_AREA_JD2_100
 8251                            1657     
 8252                            1658     
 8253                            1659     
 8254                            1660             SUB_END
 8255                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8256 000006EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8257                            1661             M_RTS
 8258 000006EE 000B                   M           RTS                             ;RTSの後ろの
 8259 000006F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8260                            1662     
 8261                            1663     
 8262                            1664     
 8263                            1665     
 8264                            1666     ;               -------------- 反転専用-------------
 8265                            1667     ;               ------------- 往復自動運転---------------
 8266                            1668     ;               ------------- 上昇のみ運転---------------
 8267                            1669     ;               ------------- 下降のみ運転---------------
 8268                                     ***** BEGIN-POOL *****
 8269 000006F2 000A                       DATA FOR SOURCE-LINE 1640
 8270 000006F4 0A8C                       DATA FOR SOURCE-LINE 1646
 8271 000006F6 0000                       ALIGNMENT CODE
 8272 000006F8 00000000                   DATA FOR SOURCE-LINE 1641
 8273 000006FC 00000000                   DATA FOR SOURCE-LINE 1644
 8274                                     ***** END-POOL *****
 8275 00000700                   1670             .ALIGN  4                               ;
 8276 00000700                   1671     _DND_LNKPLS_OBJMAK1:
 8277                            1672             SUB_START
 8278 00000700 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8279                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8280                            1673     
 8281                            1674     
 8282 00000702 D10C              1675             MOV.L   #_INT_DND_NEG_STEP,R1           ;
 8283 00000704 6011              1676             MOV.W   @R1,R0                                          ;
 8284 00000706 2008              1677             TST             R0,R0                                           ;
 8285                            1678             TST_BIT_OF DND_LNKPLS_OBJ_UPPOS1        ;0:上へ(自動運転のみ)
 8286 00000708 8907                   M           BT      DND_LNKPLS_OBJ_UPPOS1
 8287                            1679     
 8288 0000070A 8802              1680             CMP/EQ  #2,R0                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    42
PROGRAM NAME =

 8289 0000070C 891C              1681             BT      DND_LNKPLS_OBJ_DNPOS1                   ;反転STEP=2:170度:下死点を目標に動
                                          作
 8290 0000070E 8804              1682             CMP/EQ  #4,R0                                           ;
 8291 00000710 8903              1683             BT      DND_LNKPLS_OBJ_UPPOS1                   ;反転STEP=4:0度:待機点を目標に動作
 8292                            1684     
 8293 00000712 8801              1685             CMP/EQ  #1,R0                                           ;
 8294 00000714 8924              1686             BT      DND_LNKPLS_OBJ_STOPPOS1                 ;
 8295 00000716 8803              1687             CMP/EQ  #3,R0                                           ;
 8296 00000718 8922              1688             BT      DND_LNKPLS_OBJ_STOPPOS1                 ;
 8297                            1689     
 8298                            1690     ;       ------[0][基本無しとする]-----
 8299                            1691     
 8300                            1692     ;       === 方向を判別して待機点を目指す ===
 8301                            1693     ;       ------------ 上死点位置---------------
 8302 0000071A                   1694     DND_LNKPLS_OBJ_UPPOS1:
 8303 0000071A                   1695     DND_LNKPLS_OBJ_UPPOS0:
 8304 0000071A D007              1696             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点0度固定(上死点)
 8305 0000071C 6202              1697             MOV.L   @R0,R2                                                  ;
 8306                            1698     
 8307                            1699     
 8308                            1700     ;       ==== 2004-05-23====
 8309 0000071E D007              1701             MOV.L   #_PAR_WTSEL_USE,R0                              ;
 8310 00000720 6001              1702             MOV.W   @R0,R0                                                  ;
 8311 00000722 8801              1703             CMP/EQ  #1,R0                                                   ;待機点選択使用時
                                          は上死点ではない
 8312 00000724 8B01              1704             BF      DND_LNKPLS_OBJ_CHG050                           ;
 8313                            1705     
 8314 00000726 D006              1706             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;上死点固定(上死点)
 8315 00000728 6202              1707             MOV.L   @R0,R2                                                  ;
 8316 0000072A                   1708     DND_LNKPLS_OBJ_CHG050:
 8317                            1709             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8318 0000072A D006                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8319 0000072C 400B                   M           JSR     @R0                     ;
 8320 0000072E 0009                   M           NOP                                     ;
 8321                            1710             M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8322 00000730 A01B                   M           BRA     DND_LNKPLS_OBJMK1_END
 8323 00000732 0009                   M           NOP
 8324                            1711     
 8325                            1712     
 8326                            1713     ;       ------------ 下限位置---------------
 8327                                     ***** BEGIN-POOL *****
 8328 00000734 00000000                   DATA FOR SOURCE-LINE 1675
 8329 00000738 00000000                   DATA FOR SOURCE-LINE 1696
 8330 0000073C 00000000                   DATA FOR SOURCE-LINE 1701
 8331 00000740 00000000                   DATA FOR SOURCE-LINE 1706
 8332 00000744 00000000                   DATA FOR SOURCE-LINE 1709
 8333                                     ***** END-POOL *****
 8334 00000748                   1714     DND_LNKPLS_OBJ_DNPOS1:
 8335 00000748 D003              1715             MOV.L   #_SETX_DNAREA_JG_PLS,R0                 ;
 8336 0000074A 6202              1716             MOV.L   @R0,R2                                                  ;
 8337                            1717             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8338 0000074C D003                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8339 0000074E 400B                   M           JSR     @R0                     ;
 8340 00000750 0009                   M           NOP                                     ;
 8341                            1718             M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8342 00000752 A00A                   M           BRA     DND_LNKPLS_OBJMK1_END
 8343 00000754 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    43
PROGRAM NAME =

 8344                            1719     
 8345                            1720     
 8346                            1721     
 8347                            1722     ;[2021-11-11]
 8348                            1723     ;       ------------ 停止位置---------------
 8349                            1724     ;       MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8350                            1725     
 8351                                     ***** BEGIN-POOL *****
 8352 00000756 0000                       ALIGNMENT CODE
 8353 00000758 00000000                   DATA FOR SOURCE-LINE 1715
 8354 0000075C 00000000                   DATA FOR SOURCE-LINE 1717
 8355                                     ***** END-POOL *****
 8356 00000760                   1726     DND_LNKPLS_OBJ_STOPPOS1
 8357 00000760 D003              1727             MOV.L   #_SET1_DND_PLSTOP+1*4,R0                ;
 8358 00000762 6202              1728             MOV.L   @R0,R2                                                  ;
 8359                            1729             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8360 00000764 D003                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8361 00000766 400B                   M           JSR     @R0                     ;
 8362 00000768 0009                   M           NOP                                     ;
 8363 0000076A                   1730     DND_LNKPLS_OBJMK1_END:
 8364                            1731     
 8365                            1732     
 8366                            1733             SUB_END
 8367                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8368 0000076A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8369                            1734             M_RTS
 8370 0000076C 000B                   M           RTS                             ;RTSの後ろの
 8371 0000076E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8372                            1735     
 8373                            1736     
 8374                            1737     ;;[2021-11-15]  .ALIGN  4                               ;
 8375                            1738     ;;[2021-11-15]_DND_LNKPLS_OBJMAK1:
 8376                            1739     ;;[2021-11-15]  SUB_START
 8377                            1740     ;;[2021-11-15]  MOV.L   #_INT_DND_NEG_STEP,R1           ;
 8378                            1741     ;;[2021-11-15]  MOV.W   @R1,R0                          ;
 8379                            1742     ;;[2021-11-15]  CMP/EQ  #1,R0                           ;
 8380                            1743     ;;[2021-11-15]  BT      DND_LNKPLS_OBJ_DNPOS1           ;下死点を目標に動作
 8381                            1744     ;;[2021-11-15]  CMP/EQ  #2,R0                           ;
 8382                            1745     ;;[2021-11-15]  BT      DND_LNKPLS_OBJ_UPPOS1           ;待機点を目標に動作
 8383                            1746     ;;[2021-11-15]
 8384                            1747     ;;[2021-11-15]; === 方向を判別して待機点を目指す ===
 8385                            1748     ;;[2021-11-15]DND_LNKPLS_OBJ_UPPOS1:
 8386                            1749     ;;[2021-11-15]DND_LNKPLS_OBJ_UPPOS0:
 8387                            1750     ;;[2021-11-15];;;ｵﾘｷﾞﾅﾙｿﾌﾄ      MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機
                                          点
 8388                            1751     ;;[2021-11-15]  MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(上死点)
 8389                            1752     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
 8390                            1753     ;;[2021-11-15]; ==== 2004-05-23====
 8391                            1754     ;;[2021-11-15]  MOV.L   #_PAR_WTSEL_USE,R0
 8392                            1755     ;;[2021-11-15]  MOV.W   @R0,R0                                  ;
 8393                            1756     ;;[2021-11-15]  CMP/EQ  #1,R0                                   ;待機点選択使用時は上死点
                                          ではない
 8394                            1757     ;;[2021-11-15]  BF      DND_LNKPLS_OBJ_CHG050                   ;
 8395                            1758     ;;[2021-11-15]  MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;上死点固定(上死点)
 8396                            1759     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
 8397                            1760     ;;[2021-11-15]DND_LNKPLS_OBJ_CHG050:
 8398                            1761     ;;[2021-11-15]; ===================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    44
PROGRAM NAME =

 8399                            1762     ;;[2021-11-15]
 8400                            1763     ;;[2021-11-15]  FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8401                            1764     ;;[2021-11-15]  M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8402                            1765     ;;[2021-11-15]
 8403                            1766     ;;[2021-11-15]DND_LNKPLS_OBJ_DNPOS1:
 8404                            1767     ;;[2021-11-15]  MOV.L   #_SETX_DNAREA_JG_PLS,R0                 ;
 8405                            1768     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
 8406                            1769     ;;[2021-11-15]  FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8407                            1770     ;;[2021-11-15]DND_LNKPLS_OBJMK1_END:
 8408                            1771     ;;[2021-11-15]  SUB_END
 8409                            1772     ;;[2021-11-15]  M_RTS
 8410                            1773     
 8411                            1774     
 8412                            1775     ;       *******************************************
 8413                            1776     ;       ***                                     ***
 8414                            1777     ;       ***             Input R2                ***
 8415                            1778     ;       ***             ﾘﾝｸ(内部制御)ﾊﾟﾙｽ       ***
 8416                            1779     ;       ***                                     ***
 8417                            1780     ;       *******************************************
 8418                            1781     ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
 8419                            1782     ;       MOV.L   @R4,R2                                  ;
 8420                            1783     ;
 8421                                     ***** BEGIN-POOL *****
 8422 00000770 00000000                   DATA FOR SOURCE-LINE 1727
 8423 00000774 00000000                   DATA FOR SOURCE-LINE 1729
 8424                                     ***** END-POOL *****
 8425 00000778                   1784             .ALIGN  4                               ;
 8426 00000778                   1785     _LNKPLS_OBJ_DAT_MAK1:
 8427                            1786             SUB_START
 8428 00000778 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8429                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8430                            1787             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;
 8431 0000077A D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8432 0000077C 400B                   M           JSR     @R0                     ;
 8433 0000077E 0009                   M           NOP                                     ;
 8434                            1788     
 8435                            1789             PUSH_REG1 R2
 8436 00000780 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8437                                 M                                           ;REG=>[SP]
 8438                                 M                                           ;"-4" FF,FF,FF,FC
 8439                            1790     
 8440                            1791     
 8441                            1792             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8442 00000782 D00A                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8443 00000784 400B                   M           JSR     @R0                     ;
 8444 00000786 0009                   M           NOP                                     ;
 8445                            1793     
 8446                            1794             POP_REG1 R2
 8447                                 M                                   ; RE"+4" 00,00,00,04
 8448 00000788 62F6                   M           MOV.L   @R15+,R2        ;
 8449                            1795     ;       === 目標角度(R2) ====
 8450                            1796     
 8451                            1797     ;;      MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 8452                            1798     ;;      MOV.L   @R0,R2                                  ;
 8453                            1799     
 8454 0000078A D409              1800             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8455 0000078C 6142              1801             MOV.L   @R4,R1                                  ;現在 ***.* pls
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    45
PROGRAM NAME =

 8456                            1802                                                             ;目標 ***.* pls
 8457 0000078E D409              1803             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8458 00000790 6342              1804             MOV.L   @R4,R3                                  ;
 8459                            1805     ;
 8460                            1806     ;       ===== R3~R2の範囲にR1がいれば正転===
 8461                            1807             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 8462 00000792 3233                   M           CMP/GE  R3,R2
 8463 00000794 8B10                   M           BF      JMP0100000
 8464                                 M   ;       === 0度をはさなまい===
 8465 00000796 200A                   M           XOR     R0,R0
 8466 00000798 3133                   M           CMP/GE  R3,R1           ;
 8467 0000079A 8B13                   M           BF      JMP0200000                      ; PV<SV1
 8468 0000079C 3213                   M           CMP/GE  R1,R2           ;
 8469 0000079E 8B11                   M           BF      JMP0200000                      ; SV2<PV2 (1)
 8470 000007A0 E001                   M           MOV     #1,R0           ;
 8471                                 M           M_BRA   JMP0200000                      ;
 8472 000007A2 A00F                   M           BRA     JMP0200000
 8473 000007A4 0009                   M           NOP
 8474                                 M   
 8475                                 M   ;       ==== ０度をはさむ====
 8476                                 M   ***** BEGIN-POOL *****
 8477 000007A6 0000                   M   ALIGNMENT CODE
 8478 000007A8 00000000               M   DATA FOR SOURCE-LINE 1787
 8479 000007AC 00000000               M   DATA FOR SOURCE-LINE 1792
 8480 000007B0 00000000               M   DATA FOR SOURCE-LINE 1800
 8481 000007B4 00000000               M   DATA FOR SOURCE-LINE 1803
 8482                                 M   ***** END-POOL *****
 8483 000007B8                        M   JMP0100000:
 8484 000007B8 E001                   M           MOV     #1,R0
 8485 000007BA 3133                   M           CMP/GE  R3,R1
 8486 000007BC 8902                   M           BT      JMP0200000                      ;SV1=<PV=<360
 8487 000007BE 3213                   M           CMP/GE  R1,R2           ;
 8488 000007C0 8900                   M           BT      JMP0200000                      ;
 8489 000007C2 200A                   M           XOR     R0,R0           ;
 8490 000007C4                        M   JMP0200000:
 8491 000007C4 233A              1808             XOR     R3,R3
 8492 000007C6 2008              1809             TST     R0,R0
 8493                            1810             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_150               ;
 8494 000007C8 8B00                   M           BF      LNKPLS_OBJ_DAT_MK1_150
 8495 000007CA E3FF              1811             MOV     #-1,R3
 8496 000007CC                   1812     LNKPLS_OBJ_DAT_MK1_150:                                 ;R2
 8497                            1813     
 8498 000007CC 2338              1814             TST     R3,R3                                   ;正転
 8499                            1815             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_300               ;逆転 JUMP
 8500 000007CE 8B0D                   M           BF      LNKPLS_OBJ_DAT_MK1_300
 8501                            1816     ;       ==== 正転方向でいく ====
 8502 000007D0 3218              1817             SUB     R1,R2                                   ;
 8503 000007D2 4211              1818             CMP/PZ  R2
 8504 000007D4 8915              1819             BT      LNKPLS_OBJ_DAT_MK1_500                  ;R2 >= 0(R2は符号付距離)
 8505 000007D6 D504              1820             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8506 000007D8 6452              1821             MOV.L   @R5,R4                                  ;
 8507 000007DA 324C              1822             ADD     R4,R2                                   ;
 8508 000007DC 4211              1823             CMP/PZ  R2
 8509 000007DE 8910              1824             BT      LNKPLS_OBJ_DAT_MK1_500          ;
 8510 000007E0 222A              1825             XOR     R2,R2                                   ;
 8511                            1826             M_BRA   LNKPLS_OBJ_DAT_MK1_500                  ;
 8512 000007E2 A00E                   M           BRA     LNKPLS_OBJ_DAT_MK1_500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    46
PROGRAM NAME =

 8513 000007E4 0009                   M           NOP
 8514                            1827     
 8515                                     ***** BEGIN-POOL *****
 8516 000007E6 0000                       ALIGNMENT CODE
 8517 000007E8 00000000                   DATA FOR SOURCE-LINE 1820
 8518                                     ***** END-POOL *****
 8519 000007EC                   1828     LNKPLS_OBJ_DAT_MK1_300:                         ;R2
 8520 000007EC 3218              1829             SUB     R1,R2                                   ;300-270
 8521 000007EE 622B              1830             NEG     R2,R2                                   ;
 8522 000007F0 4211              1831             CMP/PZ  R2
 8523 000007F2 8905              1832             BT      LNKPLS_OBJ_DAT_MK1_400                  ;R2 >= 0(R2は符号付距離)
 8524 000007F4 D514              1833             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8525 000007F6 6452              1834             MOV.L   @R5,R4                                  ;
 8526 000007F8 324C              1835             ADD     R4,R2                                   ;
 8527 000007FA 4211              1836             CMP/PZ  R2
 8528 000007FC 8900              1837             BT      LNKPLS_OBJ_DAT_MK1_400                  ;
 8529 000007FE 222A              1838             XOR     R2,R2                                   ;
 8530 00000800                   1839     LNKPLS_OBJ_DAT_MK1_400:                         ;
 8531 00000800 622B              1840             NEG     R2,R2                                   ;
 8532 00000802                   1841     LNKPLS_OBJ_DAT_MK1_500:                         ;
 8533 00000802 255A              1842             XOR     R5,R5                                   ;
 8534 00000804 6623              1843             MOV     R2,R6                                   ;
 8535 00000806 4211              1844             CMP/PZ  R2                                      ;
 8536 00000808 8900              1845             BT      LNKPLS_OBJ_DAT_MK1_600                  ;
 8537 0000080A E5FF              1846             MOV     #-1,R5                                  ;
 8538 0000080C                   1847     LNKPLS_OBJ_DAT_MK1_600:                                 ;
 8539                            1848     
 8540 0000080C D40F              1849             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
 8541 0000080E 6146              1850             MOV.L   @R4+,R1                                 ;
 8542 00000810 6242              1851             MOV.L   @R4,R2                                  ;
 8543                            1852             PUSH_REG1 R1
 8544 00000812 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8545                                 M                                           ;REG=>[SP]
 8546                                 M                                           ;"-4" FF,FF,FF,FC
 8547                            1853             PUSH_REG1 R2
 8548 00000814 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8549                                 M                                           ;REG=>[SP]
 8550                                 M                                           ;"-4" FF,FF,FF,FC
 8551                            1854             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8552 00000816 0008                   M           CLRT
 8553 00000818 326E                   M           ADDC    R6,R2
 8554 0000081A 315E                   M           ADDC    R5,R1
 8555                            1855     
 8556 0000081C D40C              1856             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8557 0000081E 2412              1857             MOV.L   R1,@R4                                          ;
 8558 00000820 1421              1858             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8559                            1859             POP_REG1 R6
 8560                                 M                                   ; RE"+4" 00,00,00,04
 8561 00000822 66F6                   M           MOV.L   @R15+,R6        ;
 8562                            1860             POP_REG1 R5
 8563                                 M                                   ; RE"+4" 00,00,00,04
 8564 00000824 65F6                   M           MOV.L   @R15+,R5        ;
 8565                            1861     
 8566                            1862             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8567 00000826 0008                   M           CLRT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    47
PROGRAM NAME =

 8568 00000828 326A                   M           SUBC    R6,R2
 8569 0000082A 315A                   M           SUBC    R5,R1
 8570 0000082C 233A              1863             XOR     R3,R3
 8571 0000082E 4111              1864             CMP/PZ  R1                              ;
 8572 00000830 8900              1865             BT      LNKPLS_OBJ_DAT_MK1_750          ;
 8573 00000832 E301              1866             MOV     #BIT0,R3                        ;
 8574 00000834                   1867     LNKPLS_OBJ_DAT_MK1_750:                         ;
 8575 00000834 D107              1868             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8576 00000836 2131              1869             MOV.W   R3,@R1                          ;
 8577                            1870     
 8578 00000838 D107              1871             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8579 0000083A 6011              1872             MOV.W   @R1,R0                  ;
 8580 0000083C C9FE              1873             AND     #LOW ~BIT0,R0           ;
 8581 0000083E 203B              1874             OR      R3,R0                   ;
 8582 00000840 2101              1875             MOV.W   R0,@R1                  ;
 8583                            1876     
 8584                            1877             SUB_END
 8585                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8586 00000842 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8587                            1878             M_RTS
 8588 00000844 000B                   M           RTS                             ;RTSの後ろの
 8589 00000846 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8590                            1879     
 8591                            1880     
 8592                            1881     
 8593                            1882     
 8594                            1883     
 8595                            1884     
 8596                            1885     
 8597                            1886     
 8598                            1887     
 8599                            1888     
 8600                            1889     
 8601                            1890     
 8602                            1891     
 8603                            1892     
 8604                            1893     
 8605                            1894     
 8606                            1895     ;       ***********************************
 8607                            1896     ;       ***                             ***
 8608                            1897     ;       ***     段取寸動                ***
 8609                            1898     ;       ***     速度設定                ***
 8610                            1899     ;       ***                             ***
 8611                            1900     ;       ***********************************
 8612                                     ***** BEGIN-POOL *****
 8613 00000848 00000000                   DATA FOR SOURCE-LINE 1833
 8614 0000084C 00000000                   DATA FOR SOURCE-LINE 1849
 8615 00000850 00000000                   DATA FOR SOURCE-LINE 1856
 8616 00000854 00000000                   DATA FOR SOURCE-LINE 1868
 8617 00000858 00000000                   DATA FOR SOURCE-LINE 1871
 8618                                     ***** END-POOL *****
 8619 0000085C                   1901             .ALIGN  4                               ;
 8620 0000085C                   1902     _DNDINC_SPD_SET:
 8621                            1903             SUB_START
 8622 0000085C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8623                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8624                            1904     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    48
PROGRAM NAME =

 8625                            1905     ;       --------2011-09-20-
 8626                            1906             PUSH_REG1 R0    ;2011-09-20
 8627 0000085E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 8628                                 M                                           ;REG=>[SP]
 8629                                 M                                           ;"-4" FF,FF,FF,FC
 8630                            1907     
 8631                            1908     
 8632                            1909     ;;;;2016-04-16  MOV.L   #_SET1_DNDINC_SPD1,R1   ;
 8633                            1910     ;;;;2016-04-16  MOV.L   @R1,R2                  ;
 8634                            1911     
 8635                            1912             FAR_JSR #_DND_SPD_SEQ_SET,R0            ;2016-04-16
 8636 00000860 D008                   M           MOV.L   #_DND_SPD_SEQ_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8637 00000862 400B                   M           JSR     @R0                     ;
 8638 00000864 0009                   M           NOP                                     ;
 8639                            1913     
 8640                            1914     ;       ---------------------------
 8641 00000866 D108              1915             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 8642 00000868 6011              1916             MOV.W   @R1,R0                          ;
 8643 0000086A C840              1917             TST     #BIT6,R0                        ;
 8644                            1918             TST_BIT_OF DNDINC_SPDSET_100            ;
 8645 0000086C 8904                   M           BT      DNDINC_SPDSET_100
 8646                            1919     
 8647 0000086E D107              1920             MOV.L   #_WPARX_BRKTST_DNDLMT,R1        ;
 8648 00000870 6012              1921             MOV.L   @R1,R0                          ;
 8649                            1922     
 8650 00000872 3202              1923             CMP/HS  R0,R2                           ;R0<R2
 8651 00000874 8B00              1924             BF      DNDINC_SPDSET_100               ;NO JUMP(R2=<R0)
 8652 00000876 6203              1925             MOV     R0,R2                           ;最大値での制限
 8653 00000878                   1926     DNDINC_SPDSET_100:
 8654                            1927     ;       ---------------------------
 8655                            1928     
 8656 00000878 D105              1929             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
 8657 0000087A 2122              1930             MOV.L   R2,@R1                          ;
 8658                            1931     
 8659                            1932             POP_REG1 R0     ;2011-09-20
 8660                                 M                                   ; RE"+4" 00,00,00,04
 8661 0000087C 60F6                   M           MOV.L   @R15+,R0        ;
 8662                            1933     
 8663                            1934             SUB_END
 8664                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8665 0000087E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8666                            1935             M_RTS
 8667 00000880 000B                   M           RTS                             ;RTSの後ろの
 8668 00000882 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8669                            1936     
 8670                            1937     
 8671                            1938     ;       *******************************************
 8672                            1939     ;       ***                                     ***
 8673                            1940     ;       ***     2016-04-16 段取速度SEQ変更      ***
 8674                            1941     ;       ***                                     ***
 8675                            1942     ;       *******************************************
 8676                                     ***** BEGIN-POOL *****
 8677 00000884 00000000                   DATA FOR SOURCE-LINE 1912
 8678 00000888 00000000                   DATA FOR SOURCE-LINE 1915
 8679 0000088C 00000000                   DATA FOR SOURCE-LINE 1920
 8680 00000890 00000000                   DATA FOR SOURCE-LINE 1929
 8681                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    49
PROGRAM NAME =

 8682 00000894                   1943     _DND_SPD_SEQ_SET:
 8683                            1944             SUB_START
 8684 00000894 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8685                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8686                            1945     
 8687 00000896 D10C              1946             MOV.L   #_SET1_DNDINC_SPD1,R1           ;
 8688 00000898 6212              1947             MOV.L   @R1,R2                          ;
 8689                            1948     
 8690 0000089A D10C              1949             MOV.L   #_CB_SEQ_CB_COM356,R1           ;
 8691 0000089C 6011              1950             MOV.W   @R1,R0                          ;
 8692 0000089E C880              1951             TST     #BIT7,R0                        ;356.7
 8693                            1952             TST_BIT_OF DND_SPD_SEQSET_END           ;
 8694 000008A0 890D                   M           BT      DND_SPD_SEQSET_END
 8695                            1953     
 8696 000008A2 C97F              1954             AND     #H'7F,R0                        ;
 8697 000008A4 2008              1955             TST     R0,R0                           ;
 8698                            1956             TST_BIT_OF DND_SPD_SEQSET_END           ;指定速度=0
 8699 000008A6 890A                   M           BT      DND_SPD_SEQSET_END
 8700                            1957     
 8701 000008A8 940C              1958             MOV.W   #D'100,R4                       ;100%単位
 8702 000008AA 3046              1959             CMP/HI  R4,R0                           ;R4 < R0
 8703 000008AC 8B00              1960             BF      DND_SPD_SEQSET_100              ;NO!
 8704 000008AE 6043              1961             MOV     R4,R0                           ;
 8705 000008B0                   1962     DND_SPD_SEQSET_100:                             ;
 8706 000008B0 6203              1963             MOV     R0,R2                           ;
 8707 000008B2 D007              1964             MOV.L   #_LINK_MAX_SPD_PLS,R0           ;
 8708 000008B4 6102              1965             MOV.L   @R0,R1                          ;data(R2) *R1/R4
 8709 000008B6 9405              1966             MOV.W   #D'100,R4                       ;100%単位
 8710                            1967             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
 8711 000008B8 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8712 000008BA 400B                   M           JSR     @R0                     ;
 8713 000008BC 0009                   M           NOP                                     ;
 8714                            1968     
 8715 000008BE                   1969     DND_SPD_SEQSET_END:
 8716                            1970     
 8717                            1971             SUB_END
 8718                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8719 000008BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8720                            1972             M_RTS
 8721 000008C0 000B                   M           RTS                             ;RTSの後ろの
 8722 000008C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8723                            1973     
 8724                            1974     
 8725                            1975     
 8726                            1976     
 8727                            1977     
 8728                            1978     
 8729                            1979     ;       *******************************************
 8730                            1980     ;       ***                                     ***
 8731                            1981     ;       ***     今の回転上の上死点+3．0を目指す ***
 8732                            1982     ;       ***     本当は最寄の上死点の+3を目指す  ***
 8733                            1983     ;       *******************************************
 8734                            1984     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
 8735                            1985     ;                                           -180度以下相当のパルスなら +1回転
 8736                            1986             .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 8737                            1987             .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    50
PROGRAM NAME =

 8738                            1988     
 8739                            1989     
 8740                            1990     
 8741                            1991     
 8742                            1992     ;       *******************************************
 8743                            1993     ;       ***                                     ***
 8744                            1994     ;       ***     今の回転上の上死点-3．0を目指す ***
 8745                            1995     ;       ***     本当は最寄の上死点の+3を目指す  ***
 8746                            1996     ;       *******************************************
 8747                            1997     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
 8748                            1998     ;                                           -180度以下相当のパルスなら +1回転
 8749                            1999     ;;      .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 8750                            2000     ;;      .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
 8751                                     ***** BEGIN-POOL *****
 8752 000008C4 0064                       DATA FOR SOURCE-LINE 1958,1966
 8753 000008C6 0000                       ALIGNMENT CODE
 8754 000008C8 00000000                   DATA FOR SOURCE-LINE 1946
 8755 000008CC 00000000                   DATA FOR SOURCE-LINE 1949
 8756 000008D0 00000000                   DATA FOR SOURCE-LINE 1964
 8757 000008D4 00000000                   DATA FOR SOURCE-LINE 1967
 8758                                     ***** END-POOL *****
 8759 000008D8                   2001             .ALIGN  4                               ;
 8760 000008D8                   2002     _LINK_UPPLS_A_OBJMAK1:
 8761                            2003             SUB_START
 8762 000008D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8763                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8764                            2004     
 8765                            2005     
 8766                            2006             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8767 000008DA D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8768 000008DC 400B                   M           JSR     @R0                     ;
 8769 000008DE 0009                   M           NOP                                     ;
 8770                            2007     
 8771                            2008     ;       === 目標角度 ====
 8772 000008E0 D010              2009             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(1回目は上死点)
 8773 000008E2 6202              2010             MOV.L   @R0,R2                                  ;これは反転でも回転で待機点選択有
                                          りでも同じ
 8774 000008E4 D010              2011             MOV.L   #_ORG_FIRST_OBJPLS,R0                   ;[-ﾏｲﾅｽﾃﾞｰﾀ]
 8775 000008E6 6102              2012             MOV.L   @R0,R1                                  ;
 8776 000008E8 321C              2013             ADD     R1,R2                                   ;
 8777 000008EA D510              2014             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8778 000008EC 6452              2015             MOV.L   @R5,R4                                  ;
 8779                            2016     
 8780                            2017     ;;;2011-03-22[0度不具合]        CMP/HI  R2,R4                                   ;R2 < R4
 8781 000008EE 3423              2018             CMP/GE  R2,R4                                   ;R2 < R4
 8782 000008F0 8900              2019             BT      LINK_UPPLS_A_OBJMK1_100                 ;
 8783 000008F2 3248              2020             SUB     R4,R2                                   ;
 8784 000008F4                   2021     LINK_UPPLS_A_OBJMK1_100:                                ;R2
 8785                            2022     
 8786                            2023     ;       ------ 2011-03-22--------
 8787 000008F4 4211              2024             CMP/PZ  R2
 8788 000008F6 8900              2025             BT      LINK_UPPLS_A_OBJMK1_110                 ;
 8789 000008F8 324C              2026             ADD     R4,R2                                   ;
 8790 000008FA                   2027     LINK_UPPLS_A_OBJMK1_110:                                ;
 8791                            2028     
 8792                            2029     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    51
PROGRAM NAME =

 8793                            2030     
 8794                            2031     
 8795                            2032     
 8796 000008FA D40D              2033             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8797 000008FC 6142              2034             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8798                            2035                                                             ;目標 ***.* pls
 8799 000008FE D40D              2036             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8800 00000900 6342              2037             MOV.L   @R4,R3                                  ;
 8801                            2038     
 8802                            2039     ;       ===========2008-04-28 =======
 8803                            2040     ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R0             ;
 8804                            2041     
 8805 00000902 D00D              2042             MOV.L   #_ORIGN_180ARA_FLG,R0   ;
 8806 00000904 6001              2043             MOV.W   @R0,R0                                  ;
 8807 00000906 C820              2044             TST     #BIT5,R0                                ;
 8808                            2045             TST_BIT_ON LINK_UPPLS_A_OBJMK1_145              ;逆転固定
 8809 00000908 8B21                   M           BF      LINK_UPPLS_A_OBJMK1_145
 8810                            2046     ;       ================================
 8811                            2047     
 8812                            2048     
 8813                            2049     ;       ===== R3~R2の範囲にR1がいれば正転===
 8814                            2050             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 8815 0000090A 3233                   M           CMP/GE  R3,R2
 8816 0000090C 8B16                   M           BF      JMP0100001
 8817                                 M   ;       === 0度をはさなまい===
 8818 0000090E 200A                   M           XOR     R0,R0
 8819 00000910 3133                   M           CMP/GE  R3,R1           ;
 8820 00000912 8B19                   M           BF      JMP0200001                      ; PV<SV1
 8821 00000914 3213                   M           CMP/GE  R1,R2           ;
 8822 00000916 8B17                   M           BF      JMP0200001                      ; SV2<PV2 (1)
 8823 00000918 E001                   M           MOV     #1,R0           ;
 8824                                 M           M_BRA   JMP0200001                      ;
 8825 0000091A A015                   M           BRA     JMP0200001
 8826 0000091C 0009                   M           NOP
 8827                                 M   
 8828                                 M   ;       ==== ０度をはさむ====
 8829                                 M   ***** BEGIN-POOL *****
 8830 0000091E 0000                   M   ALIGNMENT CODE
 8831 00000920 00000000               M   DATA FOR SOURCE-LINE 2006
 8832 00000924 00000000               M   DATA FOR SOURCE-LINE 2009
 8833 00000928 00000000               M   DATA FOR SOURCE-LINE 2011
 8834 0000092C 00000000               M   DATA FOR SOURCE-LINE 2014
 8835 00000930 00000000               M   DATA FOR SOURCE-LINE 2033
 8836 00000934 00000000               M   DATA FOR SOURCE-LINE 2036
 8837 00000938 00000000               M   DATA FOR SOURCE-LINE 2042
 8838                                 M   ***** END-POOL *****
 8839 0000093C                        M   JMP0100001:
 8840 0000093C E001                   M           MOV     #1,R0
 8841 0000093E 3133                   M           CMP/GE  R3,R1
 8842 00000940 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
 8843 00000942 3213                   M           CMP/GE  R1,R2           ;
 8844 00000944 8900                   M           BT      JMP0200001                      ;
 8845 00000946 200A                   M           XOR     R0,R0           ;
 8846 00000948                        M   JMP0200001:
 8847 00000948 233A              2051             XOR     R3,R3
 8848 0000094A 2008              2052             TST     R0,R0
 8849                            2053             TST_BIT_ON LINK_UPPLS_A_OBJMK1_150              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    52
PROGRAM NAME =

 8850 0000094C 8B00                   M           BF      LINK_UPPLS_A_OBJMK1_150
 8851 0000094E                   2054     LINK_UPPLS_A_OBJMK1_145:                                ;R2
 8852 0000094E E3FF              2055             MOV     #-1,R3
 8853 00000950                   2056     LINK_UPPLS_A_OBJMK1_150:                                ;R2
 8854                            2057     
 8855 00000950 2338              2058             TST     R3,R3                                   ;正転
 8856                            2059             TST_BIT_ON LINK_UPPLS_A_OBJMK1_300              ;逆転 JUMP
 8857 00000952 8B0D                   M           BF      LINK_UPPLS_A_OBJMK1_300
 8858                            2060     ;       ==== 正転方向でいく ====
 8859 00000954 3218              2061             SUB     R1,R2                                   ;
 8860 00000956 4211              2062             CMP/PZ  R2
 8861 00000958 8915              2063             BT      LINK_UPPLS_A_OBJMK1_500                 ;R2 >= 0(R2は符号付距離)
 8862 0000095A D504              2064             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8863 0000095C 6452              2065             MOV.L   @R5,R4                                  ;
 8864 0000095E 324C              2066             ADD     R4,R2                                   ;
 8865 00000960 4211              2067             CMP/PZ  R2
 8866 00000962 8910              2068             BT      LINK_UPPLS_A_OBJMK1_500         ;
 8867 00000964 222A              2069             XOR     R2,R2                                   ;
 8868                            2070             M_BRA   LINK_UPPLS_A_OBJMK1_500                 ;
 8869 00000966 A00E                   M           BRA     LINK_UPPLS_A_OBJMK1_500
 8870 00000968 0009                   M           NOP
 8871                            2071     
 8872                                     ***** BEGIN-POOL *****
 8873 0000096A 0000                       ALIGNMENT CODE
 8874 0000096C 00000000                   DATA FOR SOURCE-LINE 2064
 8875                                     ***** END-POOL *****
 8876 00000970                   2072     LINK_UPPLS_A_OBJMK1_300:                                ;R2
 8877 00000970 3218              2073             SUB     R1,R2                                   ;300-270
 8878 00000972 622B              2074             NEG     R2,R2                                   ;
 8879 00000974 4211              2075             CMP/PZ  R2
 8880 00000976 8905              2076             BT      LINK_UPPLS_A_OBJMK1_400                 ;R2 >= 0(R2は符号付距離)
 8881 00000978 D514              2077             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8882 0000097A 6452              2078             MOV.L   @R5,R4                                  ;
 8883 0000097C 324C              2079             ADD     R4,R2                                   ;
 8884 0000097E 4211              2080             CMP/PZ  R2
 8885 00000980 8900              2081             BT      LINK_UPPLS_A_OBJMK1_400         ;
 8886 00000982 222A              2082             XOR     R2,R2                                   ;
 8887 00000984                   2083     LINK_UPPLS_A_OBJMK1_400:                                ;
 8888 00000984 622B              2084             NEG     R2,R2                                   ;
 8889 00000986                   2085     LINK_UPPLS_A_OBJMK1_500:                                ;
 8890 00000986 255A              2086             XOR     R5,R5
 8891 00000988 6623              2087             MOV     R2,R6                                   ;
 8892 0000098A 4211              2088             CMP/PZ  R2                                      ;
 8893 0000098C 8900              2089             BT      LINK_UPPLS_A_OBJMK1_600                 ;
 8894 0000098E E5FF              2090             MOV     #-1,R5                                  ;
 8895 00000990                   2091     LINK_UPPLS_A_OBJMK1_600:                                ;
 8896                            2092     
 8897                            2093     
 8898 00000990 D40F              2094             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 8899 00000992 6146              2095             MOV.L   @R4+,R1                                                 ;
 8900 00000994 6242              2096             MOV.L   @R4,R2                                                  ;
 8901                            2097             PUSH_REG1 R1
 8902 00000996 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8903                                 M                                           ;REG=>[SP]
 8904                                 M                                           ;"-4" FF,FF,FF,FC
 8905                            2098             PUSH_REG1 R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    53
PROGRAM NAME =

 8906 00000998 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8907                                 M                                           ;REG=>[SP]
 8908                                 M                                           ;"-4" FF,FF,FF,FC
 8909                            2099             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8910 0000099A 0008                   M           CLRT
 8911 0000099C 326E                   M           ADDC    R6,R2
 8912 0000099E 315E                   M           ADDC    R5,R1
 8913                            2100     
 8914 000009A0 D40C              2101             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8915 000009A2 2412              2102             MOV.L   R1,@R4                                          ;
 8916 000009A4 1421              2103             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8917                            2104             POP_REG1 R6
 8918                                 M                                   ; RE"+4" 00,00,00,04
 8919 000009A6 66F6                   M           MOV.L   @R15+,R6        ;
 8920                            2105             POP_REG1 R5
 8921                                 M                                   ; RE"+4" 00,00,00,04
 8922 000009A8 65F6                   M           MOV.L   @R15+,R5        ;
 8923                            2106             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8924 000009AA 0008                   M           CLRT
 8925 000009AC 326A                   M           SUBC    R6,R2
 8926 000009AE 315A                   M           SUBC    R5,R1
 8927 000009B0 233A              2107             XOR     R3,R3
 8928 000009B2 4111              2108             CMP/PZ  R1                              ;+
 8929 000009B4 8900              2109             BT      LINK_UPPLS_A_OBJMK1_700         ;
 8930 000009B6 E301              2110             MOV     #BIT0,R3
 8931 000009B8                   2111     LINK_UPPLS_A_OBJMK1_700:                                ;
 8932 000009B8 D107              2112             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8933 000009BA 2131              2113             MOV.W   R3,@R1                          ;
 8934                            2114     
 8935 000009BC D107              2115             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8936 000009BE 6011              2116             MOV.W   @R1,R0                  ;
 8937 000009C0 C9FE              2117             AND     #LOW ~BIT0,R0           ;
 8938 000009C2 203B              2118             OR      R3,R0                   ;
 8939 000009C4 2101              2119             MOV.W   R0,@R1                  ;
 8940                            2120     
 8941                            2121             SUB_END
 8942                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8943 000009C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8944                            2122             M_RTS
 8945 000009C8 000B                   M           RTS                             ;RTSの後ろの
 8946 000009CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8947                            2123     
 8948                            2124     
 8949                            2125     ;       ***************************************************
 8950                            2126     ;       ***                                             ***
 8951                            2127     ;       ***     １回目の目標位置+6.0を目指す            ***
 8952                            2128     ;       ***                                             ***
 8953                            2129     ;       ***************************************************
 8954                                     ***** BEGIN-POOL *****
 8955 000009CC 00000000                   DATA FOR SOURCE-LINE 2077
 8956 000009D0 00000000                   DATA FOR SOURCE-LINE 2094
 8957 000009D4 00000000                   DATA FOR SOURCE-LINE 2101
 8958 000009D8 00000000                   DATA FOR SOURCE-LINE 2112
 8959 000009DC 00000000                   DATA FOR SOURCE-LINE 2115
 8960                                     ***** END-POOL *****
 8961 000009E0                   2130             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    54
PROGRAM NAME =

 8962 000009E0                   2131     _LINK_UPPLS_A_OBJMAK2:
 8963                            2132             SUB_START
 8964 000009E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8965                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8966                            2133             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 8967 000009E2 D013                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8968 000009E4 400B                   M           JSR     @R0                     ;
 8969 000009E6 0009                   M           NOP                                     ;
 8970                            2134     
 8971 000009E8 D412              2135             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8972 000009EA 6142              2136             MOV.L   @R4,R1                                          ;
 8973 000009EC 5241              2137             MOV.L   @(1*4,R4),R2                                    ;目標位置ｾｯﾄ
 8974 000009EE D412              2138             MOV.L   #_ORG_SECOND_OBJPLS,R4                          ;
 8975 000009F0 6642              2139             MOV.L   @R4,R6                                          ;
 8976 000009F2 255A              2140             XOR     R5,R5                                           ;
 8977 000009F4 4611              2141             CMP/PZ  R6
 8978 000009F6 8900              2142             BT      LINK_UPPLS_A_OBJMK2_030                         ;あり得ない
 8979 000009F8 75FF              2143             ADD     #-1,R5                                          ;
 8980 000009FA                   2144     LINK_UPPLS_A_OBJMK2_030:                                                ;
 8981                            2145             FAR_JSR #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;
 8982 000009FA D010                   M           MOV.L   #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8983 000009FC 400B                   M           JSR     @R0                     ;
 8984 000009FE 0009                   M           NOP                                     ;
 8985                            2146     
 8986 00000A00 D40C              2147             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8987 00000A02 2412              2148             MOV.L   R1,@R4                                          ;
 8988 00000A04 1421              2149             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8989                            2150     
 8990 00000A06 D40E              2151             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)       ;
 8991 00000A08 6546              2152             MOV.L   @R4+,R5                                                         ;
 8992 00000A0A 6642              2153             MOV.L   @R4,R6                                                          ;
 8993                            2154             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8994 00000A0C 0008                   M           CLRT
 8995 00000A0E 326A                   M           SUBC    R6,R2
 8996 00000A10 315A                   M           SUBC    R5,R1
 8997 00000A12 233A              2155             XOR     R3,R3
 8998 00000A14 4111              2156             CMP/PZ  R1                              ;
 8999 00000A16 8900              2157             BT      LINK_UPPLS_A_OBJMK2_050         ;
 9000 00000A18 E301              2158             MOV     #BIT0,R3                        ;
 9001 00000A1A                   2159     LINK_UPPLS_A_OBJMK2_050:                                ;
 9002 00000A1A D10A              2160             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9003 00000A1C 2131              2161             MOV.W   R3,@R1                          ;
 9004                            2162     
 9005 00000A1E D10A              2163             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9006 00000A20 6011              2164             MOV.W   @R1,R0                  ;
 9007 00000A22 C9FE              2165             AND     #LOW ~BIT0,R0           ;
 9008 00000A24 203B              2166             OR      R3,R0                   ;
 9009 00000A26 2101              2167             MOV.W   R0,@R1                  ;
 9010                            2168     
 9011                            2169             SUB_END
 9012                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9013 00000A28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9014                            2170             M_RTS
 9015 00000A2A 000B                   M           RTS                             ;RTSの後ろの
 9016 00000A2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    55
PROGRAM NAME =

 9017                            2171     
 9018                            2172     ;       ***************************************************
 9019                            2173     ;       ***                                             ***
 9020                            2174     ;       ***     今の回転上の待機点を目指す              ***
 9021                            2175     ;       ***     本当は正転する待機点を目指す            ***
 9022                            2176     ;       ***************************************************
 9023                            2177     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 9024                            2178     ;
 9025                                     ***** BEGIN-POOL *****
 9026 00000A2E 0000                       ALIGNMENT CODE
 9027 00000A30 00000000                   DATA FOR SOURCE-LINE 2133
 9028 00000A34 00000000                   DATA FOR SOURCE-LINE 2135,2147
 9029 00000A38 00000000                   DATA FOR SOURCE-LINE 2138
 9030 00000A3C 00000000                   DATA FOR SOURCE-LINE 2145
 9031 00000A40 00000000                   DATA FOR SOURCE-LINE 2151
 9032 00000A44 00000000                   DATA FOR SOURCE-LINE 2160
 9033 00000A48 00000000                   DATA FOR SOURCE-LINE 2163
 9034                                     ***** END-POOL *****
 9035 00000A4C                   2179             .ALIGN  4                               ;
 9036 00000A4C                   2180     _LINK_UPPLS_A_OBJMAK3:
 9037                            2181             SUB_START
 9038 00000A4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9039                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9040                            2182     
 9041                            2183     
 9042                            2184             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
 9043 00000A4E D009                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9044 00000A50 400B                   M           JSR     @R0                     ;
 9045 00000A52 0009                   M           NOP                                     ;
 9046                            2185     
 9047                            2186     
 9048                            2187             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9049 00000A54 D008                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9050 00000A56 400B                   M           JSR     @R0                     ;
 9051 00000A58 0009                   M           NOP                                     ;
 9052                            2188     
 9053                            2189     ;       ----------- 2014-09-18 -----------------
 9054                            2190             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 9055 00000A5A D008                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9056 00000A5C 400B                   M           JSR     @R0                     ;
 9057 00000A5E 0009                   M           NOP                                     ;
 9058                            2191     
 9059                            2192     
 9060                            2193     ;;2014-09-18　SELECT1へ移動;    -------2012-10-19 別目的　ふりこ退避
 9061                            2194     ;;2014-09-18　SELECT1へ移動     MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 9062                            2195     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 9063                            2196     ;;2014-09-18　SELECT1へ移動     TST     #BIT5,R0                        ;
 9064                            2197     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_050      ;R2
 9065                            2198     ;;2014-09-18　SELECT1へ移動
 9066                            2199     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好き
                                          なとこ
 9067                            2200     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9068                            2201     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
 9069                            2202     ;;2014-09-18　SELECT1へ移動
 9070                            2203     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_050:
 9071                            2204     ;;2014-09-18　SELECT1へ移動;    -----------------------------
 9072                            2205     ;;2014-09-18　SELECT1へ移動
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    56
PROGRAM NAME =

 9073                            2206     ;;2014-09-18　SELECT1へ移動     MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 9074                            2207     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 9075                            2208     ;;2014-09-18　SELECT1へ移動     TST     #BIT0,R0                        ;
 9076                            2209     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_100A     ;R2
 9077                            2210     ;;2014-09-18　SELECT1へ移動
 9078                            2211     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機
                                          点X
 9079                            2212     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9080                            2213     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
 9081                            2214     ;;2014-09-18　SELECT1へ移動
 9082                            2215     ;;2014-09-18　SELECT1へ移動
 9083                            2216     ;;2014-09-18　SELECT1へ移動;    === 目標角度 ====
 9084                            2217     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_100A:                            ;R2
 9085                            2218     ;;2014-09-18　SELECT1へ移動     MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機
                                          点
 9086                            2219     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9087                            2220     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_110B:                            ;R2
 9088                            2221     ;;;2011-05-11   MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9089                            2222     ;;;2011-05-11   MOV.L   @R0,R2                                  ;
 9090                            2223     
 9091                            2224     
 9092                            2225     ;       ===========2008-04-28 =======
 9093 00000A60 D007              2226             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 9094 00000A62 6001              2227             MOV.W   @R0,R0                                  ;
 9095 00000A64 C920              2228             AND     #BIT5,R0                                ;
 9096                            2229     
 9097                            2230             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4               ;input R2(目標),R0=0(自動判別) R0!
                                          =0(BIT5=1)逆転固定
 9098 00000A66 D407                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9099 00000A68 440B                   M           JSR     @R4                     ;
 9100 00000A6A 0009                   M           NOP                                     ;
 9101                            2231     
 9102                            2232             SUB_END
 9103                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9104 00000A6C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9105                            2233             M_RTS
 9106 00000A6E 000B                   M           RTS                             ;RTSの後ろの
 9107 00000A70 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9108                            2234     
 9109                            2235     
 9110                            2236     
 9111                            2237     ;       *******************************************
 9112                            2238     ;       ***                                     ***
 9113                            2239     ;       ***     待機点位置決めの目標位置選択    ***
 9114                            2240     ;       ***                                     ***
 9115                            2241     ;       *******************************************
 9116                            2242     ;       2014-09-18 ｻﾌﾞﾙｰﾁﾝ化しただけ
 9117                            2243     ;
 9118                            2244     ;       ANS R0=0:強制書き換え無し R2=待機点
 9119                            2245     ;       ANS R0=1:強制書き換え有り R2=変更目標
 9120                            2246     ;
 9121                            2247     ;
 9122                                     ***** BEGIN-POOL *****
 9123 00000A72 0000                       ALIGNMENT CODE
 9124 00000A74 00000000                   DATA FOR SOURCE-LINE 2184
 9125 00000A78 00000000                   DATA FOR SOURCE-LINE 2187
 9126 00000A7C 00000000                   DATA FOR SOURCE-LINE 2190
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    57
PROGRAM NAME =

 9127 00000A80 00000000                   DATA FOR SOURCE-LINE 2226
 9128 00000A84 00000000                   DATA FOR SOURCE-LINE 2230
 9129                                     ***** END-POOL *****
 9130 00000A88                   2248     _LINK_UPPLS_OBJ_SELECT1
 9131                            2249             SUB_START
 9132 00000A88 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9133                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9134                            2250     
 9135                            2251     ;       -------2012-10-19 別目的　ふりこ退避
 9136 00000A8A D104              2252             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 9137 00000A8C 6011              2253             MOV.W   @R1,R0                          ;
 9138 00000A8E C820              2254             TST     #BIT5,R0                        ;
 9139                            2255             TST_BIT_OF LINK_UPPLS_OBJ_SEL_050       ;R2
 9140 00000A90 8908                   M           BT      LINK_UPPLS_OBJ_SEL_050
 9141                            2256     
 9142 00000A92 D003              2257             MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好きなとこ
 9143 00000A94 6202              2258             MOV.L   @R0,R2                                  ;
 9144                            2259             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 9145 00000A96 A019                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 9146 00000A98 0009                   M           NOP
 9147                            2260     
 9148                                     ***** BEGIN-POOL *****
 9149 00000A9A 0000                       ALIGNMENT CODE
 9150 00000A9C 00000000                   DATA FOR SOURCE-LINE 2252
 9151 00000AA0 00000000                   DATA FOR SOURCE-LINE 2257
 9152                                     ***** END-POOL *****
 9153 00000AA4                   2261     LINK_UPPLS_OBJ_SEL_050:
 9154                            2262     ;       -----------------------------
 9155                            2263     
 9156 00000AA4 D103              2264             MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 9157 00000AA6 6011              2265             MOV.W   @R1,R0                          ;
 9158 00000AA8 C801              2266             TST     #BIT0,R0                        ;
 9159                            2267             TST_BIT_OF LINK_UPPLS_OBJ_SEL_100A      ;R2
 9160 00000AAA 8907                   M           BT      LINK_UPPLS_OBJ_SEL_100A
 9161                            2268     
 9162 00000AAC D002              2269             MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機点X
 9163 00000AAE 6202              2270             MOV.L   @R0,R2                                  ;
 9164                            2271             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 9165 00000AB0 A00C                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 9166 00000AB2 0009                   M           NOP
 9167                            2272     
 9168                            2273     
 9169                            2274     ;       === 目標角度(通常の待機点) ====
 9170                                     ***** BEGIN-POOL *****
 9171 00000AB4 00000000                   DATA FOR SOURCE-LINE 2264
 9172 00000AB8 00000000                   DATA FOR SOURCE-LINE 2269
 9173                                     ***** END-POOL *****
 9174 00000ABC                   2275     LINK_UPPLS_OBJ_SEL_100A:                                ;R2
 9175 00000ABC D002              2276             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9176 00000ABE 6202              2277             MOV.L   @R0,R2                                  ;
 9177 00000AC0 200A              2278             XOR     R0,R0                                   ;強制書換無し
 9178                            2279             M_BRA   LINK_UPPLS_OBJ_SEL_END                  ;
 9179 00000AC2 A004                   M           BRA     LINK_UPPLS_OBJ_SEL_END
 9180 00000AC4 0009                   M           NOP
 9181                            2280     
 9182                                     ***** BEGIN-POOL *****
 9183 00000AC6 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    58
PROGRAM NAME =

 9184 00000AC8 00000000                   DATA FOR SOURCE-LINE 2276
 9185                                     ***** END-POOL *****
 9186 00000ACC                   2281     LINK_UPPLS_OBJ_SEL_110B:                                ;
 9187 00000ACC E0FF              2282             MOV.B   #-1,R0                                  ;強制書換有り
 9188                            2283     
 9189 00000ACE                   2284     LINK_UPPLS_OBJ_SEL_END:                         ;R2
 9190                            2285     
 9191                            2286             SUB_END
 9192                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9193 00000ACE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9194                            2287             M_RTS
 9195 00000AD0 000B                   M           RTS                             ;RTSの後ろの
 9196 00000AD2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9197                            2288     
 9198                            2289     
 9199                            2290     
 9200                            2291     
 9201                            2292     ;       ***************************************************
 9202                            2293     ;       ***                                             ***
 9203                            2294     ;       ***     待機位置決めの方向判別＋目標＋方向      ***
 9204                            2295     ;       ***     R2:目標位置ｵﾌｾｯﾄﾊﾟﾙｽ相当の角度          ***
 9205                            2296     ;       ***     R0=0自動判別　R0=BIT5逆転固定           ***
 9206                            2297     ;       ***                                             ***
 9207                            2298     ;       ***************************************************
 9208                            2299     ;
 9209                            2300     ;input R2(目標),R0=0(自動判別) R0!=0(BIT5=1)逆転固定
 9210                            2301     
 9211                            2302     
 9212 00000AD4                   2303     _UPPLS1_OBJMAK_COMMON:
 9213                            2304             SUB_START
 9214 00000AD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9215                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9216                            2305     
 9217 00000AD6 D408              2306             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 9218 00000AD8 6142              2307             MOV.L   @R4,R1                                  ;現在 ***.* pls
 9219                            2308                                                             ;目標 ***.* pls
 9220 00000ADA D408              2309             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 9221 00000ADC 6342              2310             MOV.L   @R4,R3                                  ;
 9222                            2311     
 9223                            2312     
 9224                            2313     ;;;;    TST     #BIT5,R0                        ;
 9225 00000ADE 2008              2314             TST     R0,R0                           ;
 9226                            2315             TST_BIT_ON UPPLS1_OBJMAK_COM_145        ;逆転固定(1回起動した場合は0になるのでｻｰﾁ
                                          完了時は0)
 9227 00000AE0 8B17                   M           BF      UPPLS1_OBJMAK_COM_145
 9228                            2316     
 9229                            2317     ;       ===== R3[下死点]~R2[待機点]の範囲にR1がいれば正転===
 9230                            2318             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 9231 00000AE2 3233                   M           CMP/GE  R3,R2
 9232 00000AE4 8B0C                   M           BF      JMP0100002
 9233                                 M   ;       === 0度をはさなまい===
 9234 00000AE6 200A                   M           XOR     R0,R0
 9235 00000AE8 3133                   M           CMP/GE  R3,R1           ;
 9236 00000AEA 8B0F                   M           BF      JMP0200002                      ; PV<SV1
 9237 00000AEC 3213                   M           CMP/GE  R1,R2           ;
 9238 00000AEE 8B0D                   M           BF      JMP0200002                      ; SV2<PV2 (1)
 9239 00000AF0 E001                   M           MOV     #1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    59
PROGRAM NAME =

 9240                                 M           M_BRA   JMP0200002                      ;
 9241 00000AF2 A00B                   M           BRA     JMP0200002
 9242 00000AF4 0009                   M           NOP
 9243                                 M   
 9244                                 M   ;       ==== ０度をはさむ====
 9245                                 M   ***** BEGIN-POOL *****
 9246 00000AF6 0000                   M   ALIGNMENT CODE
 9247 00000AF8 00000000               M   DATA FOR SOURCE-LINE 2306
 9248 00000AFC 00000000               M   DATA FOR SOURCE-LINE 2309
 9249                                 M   ***** END-POOL *****
 9250 00000B00                        M   JMP0100002:
 9251 00000B00 E001                   M           MOV     #1,R0
 9252 00000B02 3133                   M           CMP/GE  R3,R1
 9253 00000B04 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
 9254 00000B06 3213                   M           CMP/GE  R1,R2           ;
 9255 00000B08 8900                   M           BT      JMP0200002                      ;
 9256 00000B0A 200A                   M           XOR     R0,R0           ;
 9257 00000B0C                        M   JMP0200002:
 9258 00000B0C 233A              2319             XOR     R3,R3
 9259 00000B0E 2008              2320             TST     R0,R0
 9260                            2321             TST_BIT_ON UPPLS1_OBJMAK_COM_150                ;
 9261 00000B10 8B00                   M           BF      UPPLS1_OBJMAK_COM_150
 9262 00000B12                   2322     UPPLS1_OBJMAK_COM_145:                          ;R2
 9263 00000B12 E3FF              2323             MOV     #-1,R3
 9264 00000B14                   2324     UPPLS1_OBJMAK_COM_150:                          ;R2
 9265                            2325     
 9266 00000B14 2338              2326             TST     R3,R3                                   ;正転
 9267                            2327             TST_BIT_ON UPPLS1_OBJMAK_COM_300                ;逆転 JUMP
 9268 00000B16 8B0D                   M           BF      UPPLS1_OBJMAK_COM_300
 9269                            2328     ;       ==== 正転方向でいく ====
 9270 00000B18 3218              2329             SUB     R1,R2                                   ;
 9271 00000B1A 4211              2330             CMP/PZ  R2
 9272 00000B1C 8915              2331             BT      UPPLS1_OBJMAK_COM_500                   ;R2 >= 0(R2は符号付距離)
 9273 00000B1E D504              2332             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9274 00000B20 6452              2333             MOV.L   @R5,R4                                  ;
 9275 00000B22 324C              2334             ADD     R4,R2                                   ;
 9276 00000B24 4211              2335             CMP/PZ  R2
 9277 00000B26 8910              2336             BT      UPPLS1_OBJMAK_COM_500           ;
 9278 00000B28 222A              2337             XOR     R2,R2                                   ;
 9279                            2338             M_BRA   UPPLS1_OBJMAK_COM_500                   ;
 9280 00000B2A A00E                   M           BRA     UPPLS1_OBJMAK_COM_500
 9281 00000B2C 0009                   M           NOP
 9282                            2339     
 9283                                     ***** BEGIN-POOL *****
 9284 00000B2E 0000                       ALIGNMENT CODE
 9285 00000B30 00000000                   DATA FOR SOURCE-LINE 2332
 9286                                     ***** END-POOL *****
 9287 00000B34                   2340     UPPLS1_OBJMAK_COM_300:                          ;R2
 9288 00000B34 3218              2341             SUB     R1,R2                                   ;300-270
 9289 00000B36 622B              2342             NEG     R2,R2                                   ;
 9290 00000B38 4211              2343             CMP/PZ  R2
 9291 00000B3A 8905              2344             BT      UPPLS1_OBJMAK_COM_400                   ;R2 >= 0(R2は符号付距離)
 9292 00000B3C D514              2345             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9293 00000B3E 6452              2346             MOV.L   @R5,R4                                  ;
 9294 00000B40 324C              2347             ADD     R4,R2                                   ;
 9295 00000B42 4211              2348             CMP/PZ  R2
 9296 00000B44 8900              2349             BT      UPPLS1_OBJMAK_COM_400                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    60
PROGRAM NAME =

 9297 00000B46 222A              2350             XOR     R2,R2                                   ;
 9298 00000B48                   2351     UPPLS1_OBJMAK_COM_400:                          ;
 9299 00000B48 622B              2352             NEG     R2,R2                                   ;
 9300 00000B4A                   2353     UPPLS1_OBJMAK_COM_500:                          ;
 9301 00000B4A 255A              2354             XOR     R5,R5                                   ;
 9302 00000B4C 6623              2355             MOV     R2,R6                                   ;
 9303 00000B4E 4211              2356             CMP/PZ  R2                                      ;
 9304 00000B50 8900              2357             BT      UPPLS1_OBJMAK_COM_600                   ;
 9305 00000B52 E5FF              2358             MOV     #-1,R5                                  ;
 9306 00000B54                   2359     UPPLS1_OBJMAK_COM_600:                          ;
 9307                            2360     
 9308                            2361     
 9309 00000B54 D40F              2362             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9310 00000B56 6146              2363             MOV.L   @R4+,R1                                                 ;
 9311 00000B58 6242              2364             MOV.L   @R4,R2                                                  ;
 9312                            2365             PUSH_REG1 R1
 9313 00000B5A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 9314                                 M                                           ;REG=>[SP]
 9315                                 M                                           ;"-4" FF,FF,FF,FC
 9316                            2366             PUSH_REG1 R2
 9317 00000B5C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9318                                 M                                           ;REG=>[SP]
 9319                                 M                                           ;"-4" FF,FF,FF,FC
 9320                            2367             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 9321 00000B5E 0008                   M           CLRT
 9322 00000B60 326E                   M           ADDC    R6,R2
 9323 00000B62 315E                   M           ADDC    R5,R1
 9324                            2368     
 9325 00000B64 D40C              2369             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9326 00000B66 2412              2370             MOV.L   R1,@R4                                          ;
 9327 00000B68 1421              2371             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9328                            2372             POP_REG1 R6
 9329                                 M                                   ; RE"+4" 00,00,00,04
 9330 00000B6A 66F6                   M           MOV.L   @R15+,R6        ;
 9331                            2373             POP_REG1 R5
 9332                                 M                                   ; RE"+4" 00,00,00,04
 9333 00000B6C 65F6                   M           MOV.L   @R15+,R5        ;
 9334                            2374     
 9335                            2375             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9336 00000B6E 0008                   M           CLRT
 9337 00000B70 326A                   M           SUBC    R6,R2
 9338 00000B72 315A                   M           SUBC    R5,R1
 9339 00000B74 233A              2376             XOR     R3,R3
 9340 00000B76 4111              2377             CMP/PZ  R1                              ;
 9341 00000B78 8900              2378             BT      UPPLS1_OBJMAK_COM_750           ;
 9342 00000B7A E301              2379             MOV     #BIT0,R3                        ;
 9343 00000B7C                   2380     UPPLS1_OBJMAK_COM_750:                          ;
 9344 00000B7C D107              2381             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9345 00000B7E 2131              2382             MOV.W   R3,@R1                          ;
 9346                            2383     
 9347 00000B80 D107              2384             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9348 00000B82 6011              2385             MOV.W   @R1,R0                  ;
 9349 00000B84 C9FE              2386             AND     #LOW ~BIT0,R0           ;
 9350 00000B86 203B              2387             OR      R3,R0                   ;
 9351 00000B88 2101              2388             MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    61
PROGRAM NAME =

 9352                            2389     
 9353                            2390             SUB_END
 9354                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9355 00000B8A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9356                            2391             M_RTS
 9357 00000B8C 000B                   M           RTS                             ;RTSの後ろの
 9358 00000B8E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9359                            2392     
 9360                            2393     
 9361                            2394     
 9362                            2395     
 9363                            2396     ;       ***************************************************
 9364                            2397     ;       ***                                             ***
 9365                            2398     ;       ***     シーケンスによる運転方向の決定          ***
 9366                            2399     ;       ***                                             ***
 9367                            2400     ;       ***************************************************
 9368                            2401     ;       Input   R0 ==0 正転
 9369                            2402     ;               R0 !=0(BIT13)逆転
 9370                            2403     ;       2004-07-01
 9371                            2404     ;
 9372                                     ***** BEGIN-POOL *****
 9373 00000B90 00000000                   DATA FOR SOURCE-LINE 2345
 9374 00000B94 00000000                   DATA FOR SOURCE-LINE 2362
 9375 00000B98 00000000                   DATA FOR SOURCE-LINE 2369
 9376 00000B9C 00000000                   DATA FOR SOURCE-LINE 2381
 9377 00000BA0 00000000                   DATA FOR SOURCE-LINE 2384
 9378                                     ***** END-POOL *****
 9379 00000BA4                   2405             .ALIGN  4                               ;
 9380 00000BA4                   2406     _LINK_DIR_OBJMAK3:
 9381                            2407             SUB_START
 9382 00000BA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9383                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9384                            2408     
 9385                            2409             PUSH_REG1 R0
 9386 00000BA6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 9387                                 M                                           ;REG=>[SP]
 9388                                 M                                           ;"-4" FF,FF,FF,FC
 9389                            2410     
 9390                            2411     
 9391                            2412             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 9392 00000BA8 D00E                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9393 00000BAA 400B                   M           JSR     @R0                     ;
 9394 00000BAC 0009                   M           NOP                                     ;
 9395                            2413     
 9396                            2414             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9397 00000BAE D00E                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9398 00000BB0 400B                   M           JSR     @R0                     ;
 9399 00000BB2 0009                   M           NOP                                     ;
 9400                            2415     
 9401                            2416     ;       === 目標角度() ====
 9402 00000BB4 D00D              2417             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9403 00000BB6 6202              2418             MOV.L   @R0,R2                                  ;
 9404 00000BB8 D40D              2419             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 9405 00000BBA 6142              2420             MOV.L   @R4,R1                                  ;現在 ***.* pls
 9406                            2421                                                             ;目標 ***.* pls
 9407                            2422     
 9408                            2423             POP_REG1 R0                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    62
PROGRAM NAME =

 9409                                 M                                   ; RE"+4" 00,00,00,04
 9410 00000BBC 60F6                   M           MOV.L   @R15+,R0        ;
 9411                            2424     
 9412 00000BBE 2008              2425             TST     R0,R0                                   ;
 9413                            2426             TST_BIT_ON LINK_DIR_OBJMK3_300                  ;
 9414 00000BC0 8B1C                   M           BF      LINK_DIR_OBJMK3_300
 9415                            2427     ;       ==== 正転方向でいく ====
 9416 00000BC2 3218              2428             SUB     R1,R2                                   ;
 9417 00000BC4 4211              2429             CMP/PZ  R2
 9418 00000BC6 8905              2430             BT      LINK_DIR_OBJMK3_250                             ;R2 >= 0(R2は符号付距離)
 9419 00000BC8 D50A              2431             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9420 00000BCA 6452              2432             MOV.L   @R5,R4                                  ;
 9421 00000BCC 324C              2433             ADD     R4,R2                                   ;
 9422 00000BCE 4211              2434             CMP/PZ  R2
 9423 00000BD0 8900              2435             BT      LINK_DIR_OBJMK3_250                     ;
 9424 00000BD2 222A              2436             XOR     R2,R2                                   ;
 9425 00000BD4                   2437     LINK_DIR_OBJMK3_250:                                    ;
 9426                            2438             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0!=0 NEAR ZERO
 9427 00000BD4 D008                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9428 00000BD6 400B                   M           JSR     @R0                     ;
 9429 00000BD8 0009                   M           NOP                                     ;
 9430 00000BDA 2008              2439             TST     R0,R0                                   ;
 9431                            2440             TST_BIT_OF LINK_DIR_OBJMK3_280                  ;NOT NEAR ZERO JUMP
 9432 00000BDC 8900                   M           BT      LINK_DIR_OBJMK3_280
 9433 00000BDE 222A              2441             XOR     R2,R2                                   ;
 9434 00000BE0                   2442     LINK_DIR_OBJMK3_280:
 9435                            2443             M_BRA   LINK_DIR_OBJMK3_500                             ;
 9436 00000BE0 A01D                   M           BRA     LINK_DIR_OBJMK3_500
 9437 00000BE2 0009                   M           NOP
 9438                            2444     
 9439                            2445     ;       ====逆転方向でいく=====
 9440                                     ***** BEGIN-POOL *****
 9441 00000BE4 00000000                   DATA FOR SOURCE-LINE 2412
 9442 00000BE8 00000000                   DATA FOR SOURCE-LINE 2414
 9443 00000BEC 00000000                   DATA FOR SOURCE-LINE 2417
 9444 00000BF0 00000000                   DATA FOR SOURCE-LINE 2419
 9445 00000BF4 00000000                   DATA FOR SOURCE-LINE 2431
 9446 00000BF8 00000000                   DATA FOR SOURCE-LINE 2438
 9447                                     ***** END-POOL *****
 9448 00000BFC                   2446     LINK_DIR_OBJMK3_300:                                    ;R2
 9449 00000BFC 3218              2447             SUB     R1,R2                                   ;
 9450 00000BFE 622B              2448             NEG     R2,R2                                   ;
 9451 00000C00 4211              2449             CMP/PZ  R2                                      ;
 9452 00000C02 8905              2450             BT      LINK_DIR_OBJMK3_400                             ;R2 >= 0(R2は符号付距離)
 9453 00000C04 D517              2451             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9454 00000C06 6452              2452             MOV.L   @R5,R4                                  ;
 9455 00000C08 324C              2453             ADD     R4,R2                                   ;
 9456 00000C0A 4211              2454             CMP/PZ  R2
 9457 00000C0C 8900              2455             BT      LINK_DIR_OBJMK3_400                     ;
 9458 00000C0E 222A              2456             XOR     R2,R2                                   ;
 9459 00000C10                   2457     LINK_DIR_OBJMK3_400:                                    ;R2 ≦NERA-ZERO or  1REV-NEAR≦R2
                                          なら R2=0とする
 9460                            2458     
 9461                            2459             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0=0 NOT NEAR ZERO
 9462 00000C10 D015                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9463 00000C12 400B                   M           JSR     @R0                     ;
 9464 00000C14 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    63
PROGRAM NAME =

 9465 00000C16 2008              2460             TST     R0,R0                                   ;
 9466                            2461             TST_BIT_OF LINK_DIR_OBJMK3_450                  ;
 9467 00000C18 8900                   M           BT      LINK_DIR_OBJMK3_450
 9468 00000C1A 222A              2462             XOR     R2,R2                                   ;
 9469 00000C1C                   2463     LINK_DIR_OBJMK3_450:                                    ;
 9470                            2464     
 9471 00000C1C 622B              2465             NEG     R2,R2                                   ;
 9472 00000C1E                   2466     LINK_DIR_OBJMK3_500:                                    ;R2:+/-
 9473 00000C1E 255A              2467             XOR     R5,R5                                   ;
 9474 00000C20 6623              2468             MOV     R2,R6                                   ;
 9475 00000C22 4211              2469             CMP/PZ  R2                                      ;
 9476 00000C24 8900              2470             BT      LINK_DIR_OBJMK3_600                     ;
 9477 00000C26 E5FF              2471             MOV     #-1,R5                                  ;
 9478 00000C28                   2472     LINK_DIR_OBJMK3_600:                                    ;
 9479                            2473     
 9480                            2474     
 9481 00000C28 D410              2475             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9482 00000C2A 6146              2476             MOV.L   @R4+,R1                                                 ;
 9483 00000C2C 6242              2477             MOV.L   @R4,R2                                                  ;
 9484                            2478             PUSH_REG1 R1
 9485 00000C2E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 9486                                 M                                           ;REG=>[SP]
 9487                                 M                                           ;"-4" FF,FF,FF,FC
 9488                            2479             PUSH_REG1 R2
 9489 00000C30 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9490                                 M                                           ;REG=>[SP]
 9491                                 M                                           ;"-4" FF,FF,FF,FC
 9492                            2480             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 9493 00000C32 0008                   M           CLRT
 9494 00000C34 326E                   M           ADDC    R6,R2
 9495 00000C36 315E                   M           ADDC    R5,R1
 9496 00000C38 D40D              2481             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9497 00000C3A 2412              2482             MOV.L   R1,@R4                                          ;
 9498 00000C3C 1421              2483             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9499                            2484             POP_REG1 R6
 9500                                 M                                   ; RE"+4" 00,00,00,04
 9501 00000C3E 66F6                   M           MOV.L   @R15+,R6        ;
 9502                            2485             POP_REG1 R5
 9503                                 M                                   ; RE"+4" 00,00,00,04
 9504 00000C40 65F6                   M           MOV.L   @R15+,R5        ;
 9505                            2486     
 9506                            2487             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9507 00000C42 0008                   M           CLRT
 9508 00000C44 326A                   M           SUBC    R6,R2
 9509 00000C46 315A                   M           SUBC    R5,R1
 9510 00000C48 233A              2488             XOR     R3,R3
 9511 00000C4A 4111              2489             CMP/PZ  R1                              ;
 9512 00000C4C 8900              2490             BT      LINK_DIR_OBJMK3_750             ;
 9513 00000C4E E301              2491             MOV     #BIT0,R3                        ;
 9514 00000C50                   2492     LINK_DIR_OBJMK3_750:                            ;
 9515 00000C50 D108              2493             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9516 00000C52 2131              2494             MOV.W   R3,@R1                          ;
 9517                            2495     
 9518 00000C54 D108              2496             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9519 00000C56 6011              2497             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    64
PROGRAM NAME =

 9520 00000C58 C9FE              2498             AND     #LOW ~BIT0,R0           ;
 9521 00000C5A 203B              2499             OR      R3,R0                   ;
 9522 00000C5C 2101              2500             MOV.W   R0,@R1                  ;
 9523                            2501     
 9524                            2502             SUB_END
 9525                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9526 00000C5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9527                            2503             M_RTS
 9528 00000C60 000B                   M           RTS                             ;RTSの後ろの
 9529 00000C62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9530                            2504     
 9531                            2505     ;       ***************************************************
 9532                            2506     ;       ***                                             ***
 9533                            2507     ;       ***     今の回転上の待機点を目指す              ***
 9534                            2508     ;       ***     本当は正転する待機点を目指す            ***
 9535                            2509     ;       ***************************************************
 9536                            2510     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 9537                            2511     ;
 9538                                     ***** BEGIN-POOL *****
 9539 00000C64 00000000                   DATA FOR SOURCE-LINE 2451
 9540 00000C68 00000000                   DATA FOR SOURCE-LINE 2459
 9541 00000C6C 00000000                   DATA FOR SOURCE-LINE 2475
 9542 00000C70 00000000                   DATA FOR SOURCE-LINE 2481
 9543 00000C74 00000000                   DATA FOR SOURCE-LINE 2493
 9544 00000C78 00000000                   DATA FOR SOURCE-LINE 2496
 9545                                     ***** END-POOL *****
 9546 00000C7C                   2512             .ALIGN  4                               ;
 9547 00000C7C                   2513     _LINK_UPPLS_DNDRIV:
 9548                            2514             SUB_START
 9549 00000C7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9550                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9551                            2515     
 9552                            2516             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9553 00000C7E D005                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9554 00000C80 400B                   M           JSR     @R0                     ;
 9555 00000C82 0009                   M           NOP                                     ;
 9556                            2517     
 9557                            2518     ;       ----------- 2014-09-18 -----------------
 9558                            2519             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 9559 00000C84 D004                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9560 00000C86 400B                   M           JSR     @R0                     ;
 9561 00000C88 0009                   M           NOP                                     ;
 9562 00000C8A 2008              2520             TST     R0,R0                                   ;
 9563                            2521             TST_BIT_OF LINK_UPPLSDN_DRV050                  ;強制書き換えなし
 9564 00000C8C 8906                   M           BT      LINK_UPPLSDN_DRV050
 9565                            2522             M_BRA   LINK_UPPLSDN_DRV130                     ;
 9566 00000C8E A01B                   M           BRA     LINK_UPPLSDN_DRV130
 9567 00000C90 0009                   M           NOP
 9568                            2523     
 9569                            2524     
 9570                                     ***** BEGIN-POOL *****
 9571 00000C92 0000                       ALIGNMENT CODE
 9572 00000C94 00000000                   DATA FOR SOURCE-LINE 2516
 9573 00000C98 00000000                   DATA FOR SOURCE-LINE 2519
 9574                                     ***** END-POOL *****
 9575 00000C9C                   2525     LINK_UPPLSDN_DRV050:
 9576                            2526             PUSH_REG1 R2                                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    65
PROGRAM NAME =

 9577 00000C9C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9578                                 M                                           ;REG=>[SP]
 9579                                 M                                           ;"-4" FF,FF,FF,FC
 9580                            2527             FAR_JSR #_AREACHK_0DIG_TO_180,R0                ;ANS:R0
 9581 00000C9E D007                   M           MOV.L   #_AREACHK_0DIG_TO_180,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9582 00000CA0 400B                   M           JSR     @R0                     ;
 9583 00000CA2 0009                   M           NOP                                     ;
 9584                            2528             POP_REG1 R2                                     ;R2;右側待機点
 9585                                 M                                   ; RE"+4" 00,00,00,04
 9586 00000CA4 62F6                   M           MOV.L   @R15+,R2        ;
 9587                            2529     
 9588 00000CA6 2008              2530             TST     R0,R0                                   ;
 9589                            2531             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;0~180度：右半球
 9590 00000CA8 8B0E                   M           BF      LINK_UPPLSDN_DRV130
 9591                            2532     
 9592 00000CAA D005              2533             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 9593 00000CAC 6001              2534             MOV.W   @R0,R0                                  ;
 9594 00000CAE C820              2535             TST     #BIT5,R0                                ;
 9595                            2536             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;181~182度：右半球
 9596 00000CB0 8B0A                   M           BF      LINK_UPPLSDN_DRV130
 9597                            2537     
 9598                            2538     
 9599 00000CB2 D004              2539             MOV.L   #_DNM_SETX_UPAREA_PLS,R0                ;//4;左半球待機点
 9600 00000CB4 6202              2540             MOV.L   @R0,R2                                  ;
 9601                            2541             M_BRA   LINK_UPPLSDN_DRV130                     ;
 9602 00000CB6 A007                   M           BRA     LINK_UPPLSDN_DRV130
 9603 00000CB8 0009                   M           NOP
 9604                            2542     
 9605                            2543     
 9606                            2544     ;       --------------- INPUT:R2----------
 9607                                     ***** BEGIN-POOL *****
 9608 00000CBA 0000                       ALIGNMENT CODE
 9609 00000CBC 00000000                   DATA FOR SOURCE-LINE 2527
 9610 00000CC0 00000000                   DATA FOR SOURCE-LINE 2533
 9611 00000CC4 00000000                   DATA FOR SOURCE-LINE 2539
 9612                                     ***** END-POOL *****
 9613 00000CC8                   2545     LINK_UPPLSDN_DRV130:
 9614 00000CC8 200A              2546             XOR     R0,R0                                   ;
 9615                            2547             M_BRA   LINK_UPPLSDN_DRV140
 9616 00000CCA A001                   M           BRA     LINK_UPPLSDN_DRV140
 9617 00000CCC 0009                   M           NOP
 9618 00000CCE                   2548     LINK_UPPLSDN_DRV135:
 9619 00000CCE E020              2549             MOV.B   #BIT5,R0                                ;
 9620                            2550     
 9621 00000CD0                   2551     LINK_UPPLSDN_DRV140:
 9622                            2552     
 9623                            2553             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4
 9624 00000CD0 D402                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9625 00000CD2 440B                   M           JSR     @R4                     ;
 9626 00000CD4 0009                   M           NOP                                     ;
 9627                            2554     
 9628                            2555     
 9629                            2556             SUB_END
 9630                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9631 00000CD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9632                            2557             M_RTS
 9633 00000CD8 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    66
PROGRAM NAME =

 9634 00000CDA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9635                            2558     
 9636                            2559     
 9637                                     ***** BEGIN-POOL *****
 9638 00000CDC 00000000                   DATA FOR SOURCE-LINE 2553
 9639                                     ***** END-POOL *****
 9640 00000CE0                   2560     _AREACHK_0DIG_TO_180:
 9641                            2561             SUB_START
 9642 00000CE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9643                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9644                            2562     
 9645 00000CE2 D006              2563             MOV.L   #_SET1_UPAREA_DIG1,R0
 9646 00000CE4 6101              2564             MOV.W   @R0,R1                  ;0度相当
 9647                            2565     
 9648 00000CE6 D006              2566             MOV.L   #_INC_ENC360,R0         ;ｸﾗﾝｸ変換前角度
 9649 00000CE8 6201              2567             MOV.W   @R0,R2                  ;
 9650                            2568     
 9651 00000CEA 9305              2569             MOV.W   #_UPDN_DIRJG_DIG,R3     ;
 9652                            2570     
 9653                            2571             FAR_JSR #_DIG_AREA_CHK0,R0      ;R1<= R2 <= R3 THEN R0=1
 9654 00000CEC D005                   M           MOV.L   #_DIG_AREA_CHK0,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9655 00000CEE 400B                   M           JSR     @R0                     ;
 9656 00000CF0 0009                   M           NOP                                     ;
 9657                            2572     
 9658                            2573     
 9659                            2574             SUB_END
 9660                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9661 00000CF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9662                            2575             M_RTS
 9663 00000CF4 000B                   M           RTS                             ;RTSの後ろの
 9664 00000CF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9665                            2576     
 9666                            2577     
 9667                            2578     ;       ***********************************
 9668                            2579     ;       ***                             ***
 9669                            2580     ;       ***     R2：移動距離            ***
 9670                            2581     ;       ***                             ***
 9671                            2582     ;       ***********************************
 9672                            2583     ;       ANS R0
 9673                            2584     ;       MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9674                            2585     ;       MOV.L   @R5,R4                                  ;
 9675                            2586     ;LINK_DIR_OBJMK3_400:                                   ;
 9676                            2587     ;       R2 ≦NEAR(1)  or  1REV-NEAR≦R2(-1)
 9677                            2588     ;       NEAR<R2<1REV-NEAR THEN R0=0
 9678                            2589     
 9679                                     ***** BEGIN-POOL *****
 9680 00000CF8 0708                       DATA FOR SOURCE-LINE 2569
 9681 00000CFA 0000                       ALIGNMENT CODE
 9682 00000CFC 00000000                   DATA FOR SOURCE-LINE 2563
 9683 00000D00 00000000                   DATA FOR SOURCE-LINE 2566
 9684 00000D04 00000000                   DATA FOR SOURCE-LINE 2571
 9685                                     ***** END-POOL *****
 9686 00000D08                   2590             .ALIGN  4                               ;
 9687 00000D08                   2591     _OBJ_NEAR_CHK1:
 9688                            2592             SUB_START
 9689 00000D08 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9690                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    67
PROGRAM NAME =

 9691 00000D0A 200A              2593             XOR     R0,R0
 9692 00000D0C D505              2594             MOV.L   #_SET1_OBJARA_INPXPLS,R5                ;
 9693 00000D0E 6451              2595             MOV.W   @R5,R4                                  ;
 9694 00000D10 9507              2596             MOV.W   #D'100,R5                               ;min 100pls
 9695 00000D12 3453              2597             CMP/GE  R5,R4                                   ;
 9696 00000D14 8900              2598             BT      OBJ_NEAR_CK_030                         ;
 9697 00000D16 6453              2599             MOV     R5,R4                                   ;
 9698 00000D18                   2600     OBJ_NEAR_CK_030:                                        ;
 9699                            2601     
 9700 00000D18 3247              2602             CMP/GT  R4,R2                                   ;
 9701 00000D1A 8905              2603             BT      OBJ_NEAR_CK_050                         ;R4 < R2 JUMP
 9702 00000D1C E001              2604             MOV     #1,R0                                   ;R2≦R4
 9703                            2605             M_BRA   OBJ_NEAR_CK_EXT                         ;ﾆｱｾﾞﾛ幅
 9704 00000D1E A009                   M           BRA     OBJ_NEAR_CK_EXT
 9705 00000D20 0009                   M           NOP
 9706                            2606     
 9707                                     ***** BEGIN-POOL *****
 9708 00000D22 0064                       DATA FOR SOURCE-LINE 2596
 9709 00000D24 00000000                   DATA FOR SOURCE-LINE 2594
 9710                                     ***** END-POOL *****
 9711 00000D28                   2607     OBJ_NEAR_CK_050:
 9712 00000D28 D504              2608             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9713 00000D2A 6552              2609             MOV.L   @R5,R5                                  ;
 9714 00000D2C 3548              2610             SUB     R4,R5                                   ;
 9715 00000D2E 3527              2611             CMP/GT  R2,R5                                   ;R2<R5(1ROT-)
 9716 00000D30 8900              2612             BT      OBJ_NEAR_CK_EXT                         ;
 9717 00000D32 E0FF              2613             MOV     #-1,R0                                  ;
 9718 00000D34                   2614     OBJ_NEAR_CK_EXT:
 9719                            2615             SUB_END
 9720                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9721 00000D34 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9722                            2616             M_RTS
 9723 00000D36 000B                   M           RTS                             ;RTSの後ろの
 9724 00000D38 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9725                            2617     
 9726                            2618     
 9727                            2619     
 9728                            2620     
 9729                            2621     ;       *******************************************
 9730                            2622     ;       ***     回転ﾊﾟﾙｽR1,R2+ｵﾌｾｯﾄR5,R6        ***
 9731                            2623     ;       ***     LIMIT MAX/MIN                   ***
 9732                            2624     ;       *******************************************
 9733                            2625     ;       Input R1,R2,R5,R6
 9734                            2626     ;       Output R1,R2
 9735                            2627     ;       Keep R5,R6
 9736                                     ***** BEGIN-POOL *****
 9737 00000D3A 0000                       ALIGNMENT CODE
 9738 00000D3C 00000000                   DATA FOR SOURCE-LINE 2608
 9739                                     ***** END-POOL *****
 9740 00000D40                   2628             .ALIGN  4                               ;
 9741 00000D40                   2629     _ADDR56_R12_ANS_R12_LIMIT_MAX_MIN:
 9742                            2630             SUB_START
 9743 00000D40 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9744                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9745                            2631             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2               ;
 9746 00000D42 0008                   M           CLRT
 9747 00000D44 326E                   M           ADDC    R6,R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    68
PROGRAM NAME =

 9748 00000D46 315E                   M           ADDC    R5,R1
 9749                            2632             MAX_MIN8B       DT_REGH=R1,DT_REGL=R2,WKRG1=R0,WKRG2=R4,                ;
 9750                            2633     +                       MAX_H=_CALC_PLS_PMAX_H32,MAX_L=_CALC_PLS_PMAX_L32,      ;
 9751                            2634     +                       MIN_H=_CALC_PLS_MMIN_H32,MIN_L=_CALC_PLS_MMIN_L32       ;
 9752 00000D48 0008                   M           CLRT
 9753 00000D4A D00B                   M           MOV.L   #_CALC_PLS_PMAX_L32,R0
 9754 00000D4C 302A                   M           SUBC    R2,R0           ;
 9755 00000D4E D00B                   M           MOV.L   #_CALC_PLS_PMAX_H32,R0
 9756 00000D50 301A                   M           SUBC    R1,R0           ;
 9757 00000D52 4011                   M           CMP/PZ  R0                      ;
 9758 00000D54 8901                   M           BT      JMP0100003                      ;DATA=<MAX
 9759 00000D56 D208                   M           MOV.L   #_CALC_PLS_PMAX_L32,R2  ;data >= max
 9760 00000D58 D108                   M           MOV.L   #_CALC_PLS_PMAX_H32,R1  ;LIMIT
 9761 00000D5A                        M   JMP0100003                                      ;
 9762 00000D5A 0008                   M           CLRT
 9763 00000D5C D008                   M           MOV.L   #_CALC_PLS_MMIN_L32,R0          ;
 9764 00000D5E 302A                   M           SUBC    R2,R0           ;
 9765 00000D60 D408                   M           MOV.L   #_CALC_PLS_MMIN_H32,R4          ;
 9766 00000D62 341A                   M           SUBC    R1,R4           ;
 9767 00000D64 4415                   M           CMP/PL  R4                      ;
 9768 00000D66 8B04                   M           BF      JMP0200003                      ;"-" R3 < 0 THEN OK!
 9769 00000D68 240B                   M           OR      R0,R4           ;
 9770 00000D6A 2448                   M           TST     R4,R4           ;
 9771                                 M           TST_BIT_OF JMP0200003           ;
 9772 00000D6C 8901                   M           BT      JMP0200003
 9773 00000D6E D204                   M           MOV.L   #_CALC_PLS_MMIN_L32,R2  ;data < min
 9774 00000D70 D104                   M           MOV.L   #_CALC_PLS_MMIN_H32,R1  ;LIMIT
 9775 00000D72                        M   JMP0200003:
 9776                            2635             SUB_END
 9777                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9778 00000D72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9779                            2636             M_RTS
 9780 00000D74 000B                   M           RTS                             ;RTSの後ろの
 9781 00000D76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9782                            2637     
 9783                            2638     
 9784                            2639     ;       ***********************************
 9785                            2640     ;       ***                             ***
 9786                            2641     ;       ***     最大正転値・最小値      ***
 9787                            2642     ;       ***                             ***
 9788                            2643     ;       ***********************************
 9789                            2644     ;       Input R0 BIT0=0正転 BIT0=1逆転
 9790                                     ***** BEGIN-POOL *****
 9791 00000D78 FFFFFFFF                   DATA FOR SOURCE-LINE 2632,2632
 9792 00000D7C 3FFFFFFF                   DATA FOR SOURCE-LINE 2632,2632
 9793 00000D80 00000001                   DATA FOR SOURCE-LINE 2632,2632
 9794 00000D84 C0000000                   DATA FOR SOURCE-LINE 2632,2632
 9795                                     ***** END-POOL *****
 9796 00000D88                   2645             .ALIGN  4                               ;
 9797 00000D88                   2646     _LINK_P_M_MAX:
 9798                            2647             SUB_START
 9799 00000D88 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9800                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9801                            2648     
 9802 00000D8A D106              2649             MOV.L   #_CALC_PLS_PMAX_H32,R1  ;
 9803 00000D8C D206              2650             MOV.L   #_CALC_PLS_PMAX_L32,R2  ;
 9804                            2651     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    69
PROGRAM NAME =

 9805 00000D8E C801              2652             TST     #BIT0,R0                ;
 9806                            2653             TST_BIT_OF LINK_PM_MX50
 9807 00000D90 8901                   M           BT      LINK_PM_MX50
 9808 00000D92 D106              2654             MOV.L   #_CALC_PLS_MMIN_H32,R1  ;
 9809 00000D94 D206              2655             MOV.L   #_CALC_PLS_MMIN_L32,R2  ;
 9810                            2656     
 9811 00000D96                   2657     LINK_PM_MX50:                   ;
 9812 00000D96 D407              2658             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
 9813 00000D98 2412              2659             MOV.L   R1,@R4                          ;
 9814 00000D9A 1421              2660             MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
 9815                            2661             SUB_END
 9816                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9817 00000D9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9818                            2662             M_RTS
 9819 00000D9E 000B                   M           RTS                             ;RTSの後ろの
 9820 00000DA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9821                            2663     
 9822                            2664     ;       ***************************************************
 9823                            2665     ;       ***                                             ***
 9824                            2666     ;       ***     はじめから待機点目標位置への位置決め    ***
 9825                            2667     ;       ***     2004-05-24(ﾒｲﾝ側での目標位置作成)       ***
 9826                            2668     ;       ***                                             ***
 9827                            2669     ;       ***************************************************
 9828                                     ***** BEGIN-POOL *****
 9829 00000DA2 0000                       ALIGNMENT CODE
 9830 00000DA4 3FFFFFFF                   DATA FOR SOURCE-LINE 2649
 9831 00000DA8 FFFFFFFF                   DATA FOR SOURCE-LINE 2650
 9832 00000DAC C0000000                   DATA FOR SOURCE-LINE 2654
 9833 00000DB0 00000001                   DATA FOR SOURCE-LINE 2655
 9834 00000DB4 00000000                   DATA FOR SOURCE-LINE 2658
 9835                                     ***** END-POOL *****
 9836 00000DB8                   2670             .ALIGN  4                               ;
 9837 00000DB8                   2671     _ORGIN_OBJ_POS_CTRL_ST1:                        ;
 9838                            2672             SUB_START
 9839 00000DB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9840                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9841 00000DBA D109              2673             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
 9842 00000DBC 900C              2674             MOV.W   #BIT0,R0                        ;
 9843 00000DBE 2101              2675             MOV.W   R0,@R1                          ;
 9844                            2676     
 9845 00000DC0 D108              2677             MOV.L   #_CB_SEQ_CB_COM346,R1           ;2004-07-01
 9846 00000DC2 6011              2678             MOV.W   @R1,R0                          ;
 9847 00000DC4 9109              2679             MOV.W   #BIT14,R1                       ;
 9848 00000DC6 2018              2680             TST     R1,R0                           ;
 9849                            2681             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_100     ;BIT14=0 自動判別
 9850 00000DC8 8910                   M           BT      ORGIN_OBJ_POS_CTLST1_100
 9851                            2682     
 9852 00000DCA 9107              2683             MOV.W   #BIT13,R1                       ;
 9853 00000DCC 2019              2684             AND     R1,R0
 9854                            2685             FAR_JSR #_LINK_DIR_OBJMAK3,R1           ;Input R0 R0==0/R0!=0(BIT13)
 9855 00000DCE D106                   M           MOV.L   #_LINK_DIR_OBJMAK3,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9856 00000DD0 410B                   M           JSR     @R1                     ;
 9857 00000DD2 0009                   M           NOP                                     ;
 9858                            2686             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
 9859 00000DD4 A01B                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
 9860 00000DD6 0009                   M           NOP
 9861                            2687     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    70
PROGRAM NAME =

 9862                            2688     
 9863                                     ***** BEGIN-POOL *****
 9864 00000DD8 0001                       DATA FOR SOURCE-LINE 2674
 9865 00000DDA 4000                       DATA FOR SOURCE-LINE 2679
 9866 00000DDC 2000                       DATA FOR SOURCE-LINE 2683
 9867 00000DDE 0000                       ALIGNMENT CODE
 9868 00000DE0 00000000                   DATA FOR SOURCE-LINE 2673
 9869 00000DE4 00000000                   DATA FOR SOURCE-LINE 2677
 9870 00000DE8 00000000                   DATA FOR SOURCE-LINE 2685
 9871                                     ***** END-POOL *****
 9872 00000DEC                   2689     ORGIN_OBJ_POS_CTLST1_100:
 9873                            2690     ;       --------- 2014-09-18-------------
 9874 00000DEC D104              2691             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 9875 00000DEE 6011              2692             MOV.W   @R1,R0                          ;
 9876 00000DF0 C804              2693             TST     #(_DMATH_DNDRIV),R0             ;
 9877                            2694             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_150     ;ふりこ以外
 9878 00000DF2 8909                   M           BT      ORGIN_OBJ_POS_CTLST1_150
 9879                            2695     
 9880                            2696     ;       -------- ふりこ範囲確認--------------
 9881                            2697     ;       待機点+0~181までは右半球
 9882                            2698             FAR_JSR #_LINK_UPPLS_DNDRIV,R0          ;
 9883 00000DF4 D003                   M           MOV.L   #_LINK_UPPLS_DNDRIV,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9884 00000DF6 400B                   M           JSR     @R0                     ;
 9885 00000DF8 0009                   M           NOP                                     ;
 9886                            2699             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
 9887 00000DFA A008                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
 9888 00000DFC 0009                   M           NOP
 9889                            2700     
 9890                            2701     
 9891                            2702     
 9892                            2703     
 9893                                     ***** BEGIN-POOL *****
 9894 00000DFE 0000                       ALIGNMENT CODE
 9895 00000E00 00000000                   DATA FOR SOURCE-LINE 2691
 9896 00000E04 00000000                   DATA FOR SOURCE-LINE 2698
 9897                                     ***** END-POOL *****
 9898 00000E08                   2704     ORGIN_OBJ_POS_CTLST1_150:
 9899                            2705             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;自動で方向判別(2004-05-24)
 9900 00000E08 D005                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9901 00000E0A 400B                   M           JSR     @R0                     ;
 9902 00000E0C 0009                   M           NOP                                     ;
 9903 00000E0E                   2706     ORGIN_OBJ_POS_CTLST1_200:                       ;
 9904                            2707     
 9905                            2708     
 9906                            2709             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
 9907 00000E0E D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9908 00000E10 440B                   M           JSR     @R4                     ;
 9909 00000E12 0009                   M           NOP                                     ;
 9910                            2710             FAR_JSR #_ORG_END_SIG_CLR,R0            ;206.4 OFF
 9911 00000E14 D004                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9912 00000E16 400B                   M           JSR     @R0                     ;
 9913 00000E18 0009                   M           NOP                                     ;
 9914                            2711     
 9915                            2712             SUB_END
 9916                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9917 00000E1A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9918                            2713             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    71
PROGRAM NAME =

 9919 00000E1C 000B                   M           RTS                             ;RTSの後ろの
 9920 00000E1E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9921                            2714     
 9922                                     ***** BEGIN-POOL *****
 9923 00000E20 00000000                   DATA FOR SOURCE-LINE 2705
 9924 00000E24 00000000                   DATA FOR SOURCE-LINE 2709
 9925 00000E28 00000000                   DATA FOR SOURCE-LINE 2710
 9926                                     ***** END-POOL *****
 9927 00000E2C                   2715             .ALIGN  4                               ;
 9928 00000E2C                   2716     _ORGIN_OBJ_POS_CTRL_ST2:                                ;
 9929                            2717             SUB_START
 9930 00000E2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9931                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9932 00000E2E D105              2718             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
 9933 00000E30 6011              2719             MOV.W   @R1,R0                          ;
 9934 00000E32 C801              2720             TST     #BIT0,R0                        ;
 9935                            2721             TST_BIT_OF ORGIN_OBJ_POSCTLST2_EXT      ;(待機点位置決め中 NO! JUMP)
 9936 00000E34 8903                   M           BT      ORGIN_OBJ_POSCTLST2_EXT
 9937                            2722     
 9938 00000E36 D104              2723             MOV.L   #_INT_DND_CTL_STEP,R1           ;
 9939 00000E38 6011              2724             MOV.W   @R1,R0                          ;
 9940 00000E3A CB02              2725             OR      #BIT1,R0                        ;
 9941 00000E3C 2101              2726             MOV.W   R0,@R1                          ;
 9942                            2727     
 9943 00000E3E                   2728     ORGIN_OBJ_POSCTLST2_EXT                         ;
 9944                            2729     
 9945                            2730             SUB_END
 9946                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9947 00000E3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9948                            2731             M_RTS
 9949 00000E40 000B                   M           RTS                             ;RTSの後ろの
 9950 00000E42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9951                            2732     
 9952                            2733     
 9953                            2734     
 9954                            2735     ;       ***************************************************
 9955                            2736     ;       ***                                             ***
 9956                            2737     ;       ***                                             ***
 9957                            2738     ;       ***                                             ***
 9958                            2739     ;       ***                                             ***
 9959                            2740     ;       ***             位置決め200usec割込             ***
 9960                            2741     ;       ***             1msecでも可能                   ***
 9961                            2742     ;       ***                                             ***
 9962                            2743     ;       ***                                             ***
 9963                            2744     ;       ***                                             ***
 9964                            2745     ;       ***                                             ***
 9965                            2746     ;       ***************************************************
 9966                            2747     ;       停止ﾀｲﾏの処理・多段全てを行う
 9967                            2748     ;       即停止状態
 9968                            2749     ;       ここではﾊﾟﾙｽの払出しﾊﾟﾙｽの積算は行う
 9969                            2750     ;       _INT_POS_CTL_FLAG
 9970                            2751     ;               0000,0000:IDEL()
 9971                            2752     ;                       BIT0:(INITAL完了)
 9972                            2753     ;                             BIT0=1で払いﾃﾞｰﾀ作成,起動中
 9973                            2754     ;                       BIT2:減速停止ﾗｯﾁ(払出停止待ち)
 9974                            2755     ;                       BIT3:急停止ﾗｯﾁ(払出停止待ち)
 9975                            2756     ;                       BIT4:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    72
PROGRAM NAME =

 9976                            2757     ;                       BIT6:位置決め完了(ﾆｱｾﾞﾛ)--->IDELへ
 9977                            2758     ;
 9978                            2759     ;       S2b     INT_POS_STEP_FLG(ｽﾃｯﾌﾟ,段取共通);
 9979                            2760     ;                               BIT0:1ｽﾃｯﾌﾟﾃﾞｰﾀ作成完了 :
 9980                            2761     ;                               BIT1:払い出し開始       :
 9981                            2762     ;                               BIT2:
 9982                            2763     ;                               BIT3:ﾀｲﾏ測定中
 9983                            2764     ;                               BIT4:完了
 9984                                     ***** BEGIN-POOL *****
 9985 00000E44 00000000                   DATA FOR SOURCE-LINE 2718
 9986 00000E48 00000000                   DATA FOR SOURCE-LINE 2723
 9987                                     ***** END-POOL *****
 9988 00000E4C                   2765             .ALIGN  4                               ;
 9989 00000E4C                   2766     _INT_POS_CTRL:
 9990                            2767             SUB_START
 9991 00000E4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9992                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9993                            2768     
 9994                            2769             FAR_JSR #_ERR_INFO_DT_IN0,R0    ;
 9995 00000E4E D006                   M           MOV.L   #_ERR_INFO_DT_IN0,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9996 00000E50 400B                   M           JSR     @R0                     ;
 9997 00000E52 0009                   M           NOP                                     ;
 9998                            2770     
 9999                            2771     ;------------------　[2015-04-08]---------------
10000                            2772             FAR_JSR #_ENDHAND_WAIT_TIMCNT,R0        ;
10001 00000E54 D005                   M           MOV.L   #_ENDHAND_WAIT_TIMCNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10002 00000E56 400B                   M           JSR     @R0                     ;
10003 00000E58 0009                   M           NOP                                     ;
10004                            2773     
10005 00000E5A D105              2774             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
10006 00000E5C 6011              2775             MOV.W   @R1,R0                  ;
10007 00000E5E 2008              2776             TST     R0,R0                   ;
10008                            2777             TST_BIT_OF INT_POSCTL_CHK00     ;
10009 00000E60 8908                   M           BT      INT_POSCTL_CHK00
10010                            2778             M_BRA   INT_POSCTL_0910         ;
10011 00000E62 A224                   M           BRA     INT_POSCTL_0910
10012 00000E64 0009                   M           NOP
10013                            2779     
10014                            2780     
10015                                     ***** BEGIN-POOL *****
10016 00000E66 0000                       ALIGNMENT CODE
10017 00000E68 00000000                   DATA FOR SOURCE-LINE 2769
10018 00000E6C 00000000                   DATA FOR SOURCE-LINE 2772
10019 00000E70 00000000                   DATA FOR SOURCE-LINE 2774
10020                                     ***** END-POOL *****
10021 00000E74                   2781     INT_POSCTL_CHK00:
10022                            2782     
10023                            2783     ;       ------- 2010-08-20[制動モード]
10024 00000E74 D104              2784             MOV.L   #_BRKTST_MOD_FLG,R1     ;
10025 00000E76 6011              2785             MOV.W   @R1,R0                  ;
10026 00000E78 C801              2786             TST     #BIT0,R0                ;
10027                            2787             TST_BIT_OF INT_POSCTL_CHK10     ;
10028 00000E7A 8909                   M           BT      INT_POSCTL_CHK10
10029                            2788     
10030                            2789             FAR_JSR #_BRKTST_POS_CTL,R0     ;
10031 00000E7C D003                   M           MOV.L   #_BRKTST_POS_CTL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10032 00000E7E 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    73
PROGRAM NAME =

10033 00000E80 0009                   M           NOP                                     ;
10034                            2790     
10035                            2791             M_BRA   INT_POSCTL_0910         ;
10036 00000E82 A214                   M           BRA     INT_POSCTL_0910
10037 00000E84 0009                   M           NOP
10038                            2792     
10039                                     ***** BEGIN-POOL *****
10040 00000E86 0000                       ALIGNMENT CODE
10041 00000E88 00000000                   DATA FOR SOURCE-LINE 2784
10042 00000E8C 00000000                   DATA FOR SOURCE-LINE 2789
10043                                     ***** END-POOL *****
10044 00000E90                   2793     INT_POSCTL_CHK10:
10045                            2794     
10046                            2795     
10047                            2796     
10048                            2797     
10049                            2798     
10050                            2799             FAR_JSR #_GAMEN_OVER_RIDE,R0            ;MAIN LOOP DATA 1 CHECK
10051 00000E90 D00D                   M           MOV.L   #_GAMEN_OVER_RIDE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10052 00000E92 400B                   M           JSR     @R0                     ;
10053 00000E94 0009                   M           NOP                                     ;
10054                            2800             FAR_JSR #_OVER_LIDE_SEQREF,R0           ;SEQ       DATA 1 CHKEAK
10055 00000E96 D00D                   M           MOV.L   #_OVER_LIDE_SEQREF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10056 00000E98 400B                   M           JSR     @R0                     ;
10057 00000E9A 0009                   M           NOP                                     ;
10058                            2801             FAR_JSR #_SET_OVER_RIDE,R0              ;
10059 00000E9C D00C                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10060 00000E9E 400B                   M           JSR     @R0                     ;
10061 00000EA0 0009                   M           NOP                                     ;
10062                            2802     
10063                            2803     ;;      --------- 2006-10-16---
10064                            2804     ;;      MOV.L   #_OVER_RIDE_USEFUL,R1
10065                            2805     ;;      MOV.W   @R1,R0
10066                            2806     ;;      TST     #BIT0,R0
10067                            2807     ;;      TST_BIT_OF OVERRIDE_CHG050
10068                            2808     ;;      FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;速度ﾘｱﾙﾀｲﾑ
10069                            2809     ;;OVERRIDE_CHG050
10070                            2810     
10071                            2811     
10072                            2812     
10073                            2813     
10074                            2814     ;       ------------------------------------------
10075                            2815     ;       ------ 2010-10-07 ------------------------
10076                            2816     ;       ------------------------------------------
10077                            2817     ;       -----ふりこの場合待機点でのみ速度反映 ----
10078                            2818             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
10079 00000EA2 D00C                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10080 00000EA4 400B                   M           JSR     @R0                     ;
10081 00000EA6 0009                   M           NOP                                     ;
10082 00000EA8 2008              2819             TST     R0,R0                           ;
10083                            2820             TST_BIT_ON OVERRIDE_CHG050              ;ふりこだ!
10084 00000EAA 8B06                   M           BF      OVERRIDE_CHG050
10085                            2821     ;       ---------------------------------------
10086                            2822     
10087                            2823     
10088 00000EAC D10A              2824             MOV.L   #_OVER_RIDE_USEFUL,R1
10089 00000EAE 6011              2825             MOV.W   @R1,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    74
PROGRAM NAME =

10090 00000EB0 C803              2826             TST     #(BIT1+BIT0),R0                 ;SEQ
10091                            2827             TST_BIT_OF OVERRIDE_CHG050
10092 00000EB2 8902                   M           BT      OVERRIDE_CHG050
10093                            2828     
10094                            2829             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
10095 00000EB4 D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10096 00000EB6 400B                   M           JSR     @R0                     ;
10097 00000EB8 0009                   M           NOP                                     ;
10098                            2830     
10099 00000EBA                   2831     OVERRIDE_CHG050
10100                            2832     
10101                            2833     ;;;;;;;;;;;;;   2015-11-15 ちゃんとした場所で対応
10102                            2834     ;;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
10103                            2835     ;;;;;;;;;;;;;   MOV.L   #_MODE_SEL,R1                           ;
10104                            2836     ;;;;;;;;;;;;;   MOV.W   @R1,R0                                  ;
10105                            2837     ;;;;;;;;;;;;;   TST     #_W1INC+_W1SGL,R0                       ;
10106                            2838     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;（段取でもある)
10107                            2839     ;;;;;;;;;;;;;
10108                            2840     ;;;;;;;;;;;;;   FAR_JSR #_API_ENDHAND_SIGCHK,R0                 ;
10109                            2841     ;;;;;;;;;;;;;   TST     R0,R0
10110                            2842     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;
10111                            2843     ;;;;;;;;;;;;;   M_BRA   FORCE_STEPEND_HAND100                   ;
10112                            2844     ;;;;;;;;;;;;;FORCE_STEPEND_HAND100EXT
10113                            2845     
10114                            2846     
10115                            2847     
10116 00000EBA D509              2848             MOV.L   #_INT_CYC_DRV_STS,R5            ;//BIT0:CYCLE　END()
10117 00000EBC 6051              2849             MOV.W   @R5,R0                          ;
10118 00000EBE C840              2850             TST     #BIT6,R0                        ;位置決め完了?
10119                            2851             TST_BIT_OF INT_POSCTL_0020              ;
10120 00000EC0 8910                   M           BT      INT_POSCTL_0020
10121                            2852             M_BRA   INT_POSCTL_0700
10122 00000EC2 A1DB                   M           BRA     INT_POSCTL_0700
10123 00000EC4 0009                   M           NOP
10124                            2853     
10125                                     ***** BEGIN-POOL *****
10126 00000EC6 0000                       ALIGNMENT CODE
10127 00000EC8 00000000                   DATA FOR SOURCE-LINE 2799
10128 00000ECC 00000000                   DATA FOR SOURCE-LINE 2800
10129 00000ED0 00000000                   DATA FOR SOURCE-LINE 2801
10130 00000ED4 00000000                   DATA FOR SOURCE-LINE 2818
10131 00000ED8 00000000                   DATA FOR SOURCE-LINE 2824
10132 00000EDC 00000000                   DATA FOR SOURCE-LINE 2829
10133 00000EE0 00000000                   DATA FOR SOURCE-LINE 2848
10134                                     ***** END-POOL *****
10135 00000EE4                   2854     INT_POSCTL_0020:
10136 00000EE4 D502              2855             MOV.L   #_INT_POS_CTL_FLAG,R5           ;
10137 00000EE6 6051              2856             MOV.W   @R5,R0                          ;
10138 00000EE8 C85C              2857             TST     #(BIT6+BIT4+BIT3+BIT2),R0       ;
10139                            2858             TST_BIT_OF INT_POSCTL_0040              ;
10140 00000EEA 8903                   M           BT      INT_POSCTL_0040
10141                            2859             M_BRA   INT_POSCTL_0300                 ;
10142 00000EEC A196                   M           BRA     INT_POSCTL_0300
10143 00000EEE 0009                   M           NOP
10144                            2860     
10145                                     ***** BEGIN-POOL *****
10146 00000EF0 00000000                   DATA FOR SOURCE-LINE 2855
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    75
PROGRAM NAME =

10147                                     ***** END-POOL *****
10148 00000EF4                   2861     INT_POSCTL_0040:
10149 00000EF4 C801              2862             TST     #BIT0,R0                ;
10150                            2863             TST_BIT_OF INT_POSCTL_0045      ;
10151 00000EF6 8901                   M           BT      INT_POSCTL_0045
10152                            2864             M_BRA   INT_POSCTL_0200 ;起動処理 BIT0
10153 00000EF8 A10A                   M           BRA     INT_POSCTL_0200
10154 00000EFA 0009                   M           NOP
10155 00000EFC                   2865     INT_POSCTL_0045:
10156                            2866     
10157                            2867     ;       ===================
10158 00000EFC D603              2868             MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
10159 00000EFE 6061              2869             MOV.W   @R6,R0                  ;
10160 00000F00 C907              2870             AND     #(BIT2+BIT1+BIT0),R0    ;
10161 00000F02 8801              2871             CMP/EQ  #BIT0,R0                ;
10162 00000F04 8904              2872             BT      INT_POSCTL_0048         ;001
10163                            2873             M_BRA   INT_POSCTL_0190         ;EXIT
10164 00000F06 A0E4                   M           BRA     INT_POSCTL_0190
10165 00000F08 0009                   M           NOP
10166                            2874     ;       ==== 通常の位置決め起動コマンド状態
10167                                     ***** BEGIN-POOL *****
10168 00000F0A 0000                       ALIGNMENT CODE
10169 00000F0C 00000000                   DATA FOR SOURCE-LINE 2868
10170                                     ***** END-POOL *****
10171 00000F10                   2875     INT_POSCTL_0048:
10172                            2876     
10173 00000F10 222A              2877             XOR     R2,R2
10174 00000F12 D111              2878             MOV.L   #_INT_POS_STEP_FLG,R1   ;
10175 00000F14 2121              2879             MOV.W   R2,@R1                  ;
10176 00000F16 D111              2880             MOV.L   #_INT_DND_CTL_STEP,R1;
10177 00000F18 2121              2881             MOV.W   R2,@R1
10178 00000F1A D111              2882             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
10179 00000F1C 2121              2883             MOV.W   R2,@R1                  ;
10180                            2884     
10181                            2885     ;       ===========================
10182 00000F1E D111              2886             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
10183 00000F20 2121              2887             MOV.W   R2,@R1                          ;
10184                            2888     ;       ===========================
10185                            2889     
10186                            2890     
10187                            2891     ;       -------- 2014-09-26 寸動--------------
10188 00000F22 D111              2892             MOV.L   #_INC_RESET_USE_F,R1    ;//STEPを参照して!
10189 00000F24 6011              2893             MOV.W   @R1,R0                  ;
10190 00000F26 2008              2894             TST     R0,R0                   ;
10191                            2895             TST_BIT_OF INT_POSCTL_0080      ;
10192 00000F28 8906                   M           BT      INT_POSCTL_0080
10193                            2896     
10194 00000F2A D110              2897             MOV.L   #_INC_RESET_STEP,R1     ;
10195 00000F2C 6411              2898             MOV.W   @R1,R4
10196 00000F2E D110              2899             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
10197 00000F30 2141              2900             MOV.W   R4,@R1                  ;
10198                            2901     
10199                            2902             FAR_JSR #_INC_RST_WORK_CLR,R0
10200 00000F32 D010                   M           MOV.L   #_INC_RST_WORK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10201 00000F34 400B                   M           JSR     @R0                     ;
10202 00000F36 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    76
PROGRAM NAME =

10203                            2903     
10204 00000F38                   2904     INT_POSCTL_0080
10205                            2905     ;       ------ ﾓｰｼｮﾝ運転 --------
10206 00000F38 D10D              2906             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
10207 00000F3A 6411              2907             MOV.W   @R1,R4                  ;
10208 00000F3C D20E              2908             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
10209 00000F3E 2241              2909             MOV.W   R4,@R2                  ;
10210                            2910     
10211                            2911     
10212                            2912     
10213                            2913     
10214                            2914     
10215                            2915     
10216                            2916     
10217 00000F40                   2917     INT_POSCTL_0100:
10218                            2918     ;       ===========================================
10219                            2919     ;       ===             起動処理                ===
10220                            2920     ;       ===========================================
10221                            2921     ;;2002-09-05    FAR_JSR #_POS_LSI_START_INITAL,R0       ;
10222                            2922     
10223                            2923     ;       ----------- 2012-05-17 反転のタイマ継続処理CHK---------
10224                            2924             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0                                     ;
10225 00000F40 D00E                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10226 00000F42 400B                   M           JSR     @R0                     ;
10227 00000F44 0009                   M           NOP                                     ;
10228 00000F46 2008              2925             TST     R0,R0                                                           ;
10229                            2926             TST_BIT_OF INT_POSCTL_0102                                              ;
10230 00000F48 891C                   M           BT      INT_POSCTL_0102
10231                            2927             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;必要があ
                                          ればここでつじつまあわせ
10232 00000F4A D10D                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10233 00000F4C 6011                   M           MOV.W   @R1,R0          ;
10234 00000F4E CB01                   M           OR      #BIT0,R0                ;
10235 00000F50 2101                   M           MOV.W   R0,@R1          ;
10236                            2928             M_BRA   INT_POSCTL_0190                                                 ;
10237 00000F52 A0BE                   M           BRA     INT_POSCTL_0190
10238 00000F54 0009                   M           NOP
10239                                     ***** BEGIN-POOL *****
10240 00000F56 0000                       ALIGNMENT CODE
10241 00000F58 00000000                   DATA FOR SOURCE-LINE 2878
10242 00000F5C 00000000                   DATA FOR SOURCE-LINE 2880
10243 00000F60 00000000                   DATA FOR SOURCE-LINE 2882
10244 00000F64 00000000                   DATA FOR SOURCE-LINE 2886
10245 00000F68 00000000                   DATA FOR SOURCE-LINE 2892
10246 00000F6C 00000000                   DATA FOR SOURCE-LINE 2897
10247 00000F70 00000000                   DATA FOR SOURCE-LINE 2899,2906
10248 00000F74 00000000                   DATA FOR SOURCE-LINE 2902
10249 00000F78 00000000                   DATA FOR SOURCE-LINE 2908
10250 00000F7C 00000000                   DATA FOR SOURCE-LINE 2924
10251 00000F80 00000000                   DATA FOR SOURCE-LINE 2927
10252                                     ***** END-POOL *****
10253 00000F84                   2929     INT_POSCTL_0102:
10254                            2930     
10255                            2931     
10256                            2932     
10257                            2933     
10258 00000F84 D108              2934             MOV.L   #_MODE_SEL,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    77
PROGRAM NAME =

10259 00000F86 6011              2935             MOV.W   @R1,R0                          ;
10260 00000F88 C860              2936             TST     #(_W1DUP+_W1DIC),R0             ;
10261                            2937             TST_BIT_ON INT_POSCTL_0120              ;
10262 00000F8A 8B5B                   M           BF      INT_POSCTL_0120
10263                            2938     
10264                            2939     
10265                            2940             .AIF    1 EQ 1
10266 00000F8C D107              2941 C           MOV.L   #_START_FLG_AFTER_EMG,R1        ;???
10267 00000F8E 9009              2942 C           MOV.W   #1,R0                           ;
10268 00000F90 2101              2943 C           MOV.W   R0,@R1                          ;
10269                            2944             .AENDI
10270                            2945     
10271                            2946     
10272                            2947     ;       -------------繰り返し 2014-09-22 ---------------
10273 00000F92 D107              2948             MOV.L   #_MOT_REP_F,R1                          ;
10274 00000F94 6011              2949             MOV.W   @R1,R0                                  ;
10275 00000F96 C801              2950             TST     #BIT0,R0                                ;
10276                            2951             TST_BIT_OF INT_POSCTL_0102A                     ;
10277 00000F98 890E                   M           BT      INT_POSCTL_0102A
10278                            2952     
10279                            2953     ;       -------- 繰り返しの待機点戻り工程--------------
10280                            2954             FAR_JSR #_MOT_REPSTART_CALC,R0                  ;
10281 00000F9A D006                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10282 00000F9C 400B                   M           JSR     @R0                     ;
10283 00000F9E 0009                   M           NOP                                     ;
10284                            2955             M_BRA   INT_POSCTL_0115
10285 00000FA0 A044                   M           BRA     INT_POSCTL_0115
10286 00000FA2 0009                   M           NOP
10287                            2956     
10288                            2957     
10289                                     ***** BEGIN-POOL *****
10290 00000FA4 0001                       DATA FOR SOURCE-LINE 2942
10291 00000FA6 0000                       ALIGNMENT CODE
10292 00000FA8 00000000                   DATA FOR SOURCE-LINE 2934
10293 00000FAC 00000000                   DATA FOR SOURCE-LINE 2941
10294 00000FB0 00000000                   DATA FOR SOURCE-LINE 2948
10295 00000FB4 00000000                   DATA FOR SOURCE-LINE 2954
10296                                     ***** END-POOL *****
10297 00000FB8                   2958     INT_POSCTL_0102A:
10298                            2959     
10299 00000FB8 D00C              2960             MOV.L   #_CPOS_CTL_MATH,R0                      ;
10300 00000FBA 6001              2961             MOV.W   @R0,R0                                  ;
10301 00000FBC C805              2962             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復[2011-03-23]
10302                            2963             TST_BIT_OF INT_POSCTL_0110
10303 00000FBE 892F                   M           BT      INT_POSCTL_0110
10304                            2964     ;       ===== 回転時の起動===
10305                            2965             FAR_JSR #_HIST_INFO_DT_IN1,R0           ;起動前の目標停止位置
10306 00000FC0 D00B                   M           MOV.L   #_HIST_INFO_DT_IN1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10307 00000FC2 400B                   M           JSR     @R0                     ;
10308 00000FC4 0009                   M           NOP                                     ;
10309                            2966     
10310                            2967             FAR_JSR #_POS_LSI_START_INITAL,R0       ;[本当にふりこはここを通していいのかな2011
                                          -03-23]
10311 00000FC6 D00B                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10312 00000FC8 400B                   M           JSR     @R0                     ;
10313 00000FCA 0009                   M           NOP                                     ;
10314                            2968     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    78
PROGRAM NAME =

10315                            2969             FAR_JSR #_ERR_INFO_DT_CHK1,R0           ;POS_LSI_START_INITALでｸﾘｱされるﾃﾞｰﾀが0か
                                          ？
10316 00000FCC D00A                   M           MOV.L   #_ERR_INFO_DT_CHK1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10317 00000FCE 400B                   M           JSR     @R0                     ;
10318 00000FD0 0009                   M           NOP                                     ;
10319                            2970             FAR_JSR #_ERR_INFO_DT_IN1,R0            ;2004-01-28(今一)
10320 00000FD2 D00A                   M           MOV.L   #_ERR_INFO_DT_IN1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10321 00000FD4 400B                   M           JSR     @R0                     ;
10322 00000FD6 0009                   M           NOP                                     ;
10323                            2971     
10324 00000FD8 D109              2972             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
10325 00000FDA 6011              2973             MOV.W   @R1,R0                          ;
10326 00000FDC C801              2974             TST     #BIT0,R0                        ;
10327                            2975             TST_BIT_ON INT_POSCTL_0103              ;上死停止有り
10328 00000FDE 8B13                   M           BF      INT_POSCTL_0103
10329                            2976     
10330                            2977             FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<停止からの起動か実ﾊﾟﾙｽ
                                          から>
10331 00000FE0 D008                   M           MOV.L   #_POS_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10332 00000FE2 400B                   M           JSR     @R0                     ;
10333 00000FE4 0009                   M           NOP                                     ;
10334                            2978     
10335                            2979             M_BRA   INT_POSCTL_0105
10336 00000FE6 A012                   M           BRA     INT_POSCTL_0105
10337 00000FE8 0009                   M           NOP
10338                                     ***** BEGIN-POOL *****
10339 00000FEA 0000                       ALIGNMENT CODE
10340 00000FEC 00000000                   DATA FOR SOURCE-LINE 2960
10341 00000FF0 00000000                   DATA FOR SOURCE-LINE 2965
10342 00000FF4 00000000                   DATA FOR SOURCE-LINE 2967
10343 00000FF8 00000000                   DATA FOR SOURCE-LINE 2969
10344 00000FFC 00000000                   DATA FOR SOURCE-LINE 2970
10345 00001000 00000000                   DATA FOR SOURCE-LINE 2972
10346 00001004 00000000                   DATA FOR SOURCE-LINE 2977
10347                                     ***** END-POOL *****
10348 00001008                   2980     INT_POSCTL_0103:                                ;上死停止なし
10349                            2981             FAR_JSR #_POS_CNT_BANK_DTMAK1,R0        ;これは必ずSVから演算(2004-12-20)もう１回
                                          転先になる
10350 00001008 D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10351 0000100A 400B                   M           JSR     @R0                     ;
10352 0000100C 0009                   M           NOP                                     ;
10353                            2982     
10354 0000100E                   2983     INT_POSCTL_0105:
10355                            2984     
10356                            2985             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-28(data-smp-only)
10357 0000100E D003                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10358 00001010 400B                   M           JSR     @R0                     ;
10359 00001012 0009                   M           NOP                                     ;
10360                            2986             M_BRA   INT_POSCTL_0115                 ;
10361 00001014 A00A                   M           BRA     INT_POSCTL_0115
10362 00001016 0009                   M           NOP
10363                            2987     
10364                                     ***** BEGIN-POOL *****
10365 00001018 00000000                   DATA FOR SOURCE-LINE 2981
10366 0000101C 00000000                   DATA FOR SOURCE-LINE 2985
10367                                     ***** END-POOL *****
10368 00001020                   2988     INT_POSCTL_0110:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    79
PROGRAM NAME =

10369                            2989     ;       ===== 反転時の起動===
10370                            2990             FAR_JSR #_POS_LSI_START_INITL2,R0       ;
10371 00001020 D005                   M           MOV.L   #_POS_LSI_START_INITL2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10372 00001022 400B                   M           JSR     @R0                     ;
10373 00001024 0009                   M           NOP                                     ;
10374                            2991             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0      ;目標位置に対して少しパルスを減らす 2011-0
                                          2-19
10375 00001026 D005                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10376 00001028 400B                   M           JSR     @R0                     ;
10377 0000102A 0009                   M           NOP                                     ;
10378                            2992     
10379                            2993     
10380 0000102C                   2994     INT_POSCTL_0115:
10381                            2995             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12
10382 0000102C D004                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10383 0000102E 400B                   M           JSR     @R0                     ;
10384 00001030 0009                   M           NOP                                     ;
10385                            2996             M_BRA   INT_POSCTL_0140                 ;
10386 00001032 A029                   M           BRA     INT_POSCTL_0140
10387 00001034 0009                   M           NOP
10388                            2997     
10389                            2998     
10390                            2999     ;       ------------段取、原点復帰、手動パルサ
10391                                     ***** BEGIN-POOL *****
10392 00001036 0000                       ALIGNMENT CODE
10393 00001038 00000000                   DATA FOR SOURCE-LINE 2990
10394 0000103C 00000000                   DATA FOR SOURCE-LINE 2991
10395 00001040 00000000                   DATA FOR SOURCE-LINE 2995
10396                                     ***** END-POOL *****
10397 00001044                   3000     INT_POSCTL_0120:                                ;
10398                            3001     ;       ---------- 2006-07-28------
10399 00001044 D108              3002             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
10400 00001046 6011              3003             MOV.W   @R1,R0                          ;
10401 00001048 2008              3004             TST     R0,R0                           ;
10402                            3005             TST_BIT_OF INT_POSCTL_0130              ;
10403 0000104A 8917                   M           BT      INT_POSCTL_0130
10404                            3006     ;;;;;   FAR_JSR #_POS_LSI_START_INITAL,R0       ;手動パルサ
10405                            3007             FAR_JSR #_POS_LSI_START_INITAL_TEP,R0   ;2013-06-13
10406 0000104C D007                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10407 0000104E 400B                   M           JSR     @R0                     ;
10408 00001050 0009                   M           NOP                                     ;
10409 00001052 D107              3008             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10410 00001054 6212              3009             MOV.L   @R1,R2                          ;
10411                            3010             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10412 00001056 D107                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10413 00001058 410B                   M           JSR     @R1                     ;
10414 0000105A 0009                   M           NOP                                     ;
10415                            3011             FAR_JSR #_TEP_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
10416 0000105C D006                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10417 0000105E 400B                   M           JSR     @R0                     ;
10418 00001060 0009                   M           NOP                                     ;
10419                            3012             M_BRA   INT_POSCTL_0140                 ;
10420 00001062 A011                   M           BRA     INT_POSCTL_0140
10421 00001064 0009                   M           NOP
10422                            3013     
10423                                     ***** BEGIN-POOL *****
10424 00001066 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    80
PROGRAM NAME =

10425 00001068 00000000                   DATA FOR SOURCE-LINE 3002
10426 0000106C 00000000                   DATA FOR SOURCE-LINE 3007
10427 00001070 00000000                   DATA FOR SOURCE-LINE 3008
10428 00001074 00000000                   DATA FOR SOURCE-LINE 3010
10429 00001078 00000000                   DATA FOR SOURCE-LINE 3011
10430                                     ***** END-POOL *****
10431 0000107C                   3014     INT_POSCTL_0130:                                ;
10432                            3015             FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
10433 0000107C D016                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10434 0000107E 400B                   M           JSR     @R0                     ;
10435 00001080 0009                   M           NOP                                     ;
10436                            3016             FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
10437 00001082 D016                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10438 00001084 400B                   M           JSR     @R0                     ;
10439 00001086 0009                   M           NOP                                     ;
10440                            3017     
10441                            3018     
10442 00001088                   3019     INT_POSCTL_0140:                                ;
10443                            3020             FAR_JSR #_POS_LENGTH_ADD_DATA,R0
10444 00001088 D015                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10445 0000108A 400B                   M           JSR     @R0                     ;
10446 0000108C 0009                   M           NOP                                     ;
10447                            3021             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
10448 0000108E D015                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10449 00001090 400B                   M           JSR     @R0                     ;
10450 00001092 0009                   M           NOP                                     ;
10451                            3022     
10452                            3023     ;;;;;   FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
10453                            3024             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
10454 00001094 D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10455 00001096 400B                   M           JSR     @R0                     ;
10456 00001098 0009                   M           NOP                                     ;
10457                            3025     
10458                            3026     ;       == 2004-03 ===
10459                            3027             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
10460 0000109A D014                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10461 0000109C 400B                   M           JSR     @R0                     ;
10462 0000109E 0009                   M           NOP                                     ;
10463 000010A0 9019              3028             MOV.W   #D'2,R0                 ;
10464 000010A2 D113              3029             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
10465 000010A4 2101              3030             MOV.W   R0,@R1                          ;
10466                            3031     
10467                            3032             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
10468 000010A6 D013                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10469 000010A8 400B                   M           JSR     @R0                     ;
10470 000010AA 0009                   M           NOP                                     ;
10471                            3033             FAR_JSR #_FWD_REV_START,R1              ;起動
10472 000010AC D112                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10473 000010AE 410B                   M           JSR     @R1                     ;
10474 000010B0 0009                   M           NOP                                     ;
10475                            3034     
10476                            3035     ;       -------- 2010-09-27 ふりこ情報--------
10477                            3036             FAR_JSR #_DNM_START_ACC_CALC,R0
10478 000010B2 D012                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10479 000010B4 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    81
PROGRAM NAME =

10480 000010B6 0009                   M           NOP                                     ;
10481                            3037     
10482                            3038             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
10483 000010B8 D111                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10484 000010BA 6011                   M           MOV.W   @R1,R0          ;
10485 000010BC CB01                   M           OR      #BIT0,R0                ;
10486 000010BE 2101                   M           MOV.W   R0,@R1          ;
10487                            3039     
10488                            3040             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
10489 000010C0 D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10490 000010C2 400B                   M           JSR     @R0                     ;
10491 000010C4 0009                   M           NOP                                     ;
10492                            3041     
10493                            3042             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
10494 000010C6 D010                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10495 000010C8 400B                   M           JSR     @R0                     ;
10496 000010CA 0009                   M           NOP                                     ;
10497                            3043     
10498                            3044     ;       ---------------- 起動 2011-09-01 -------------------
10499                            3045             FAR_JSR #_UP_ACCERR_START_INI,R0
10500 000010CC D00F                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10501 000010CE 400B                   M           JSR     @R0                     ;
10502 000010D0 0009                   M           NOP                                     ;
10503                            3046     
10504 000010D2                   3047     INT_POSCTL_0190:
10505                            3048             M_BRA   INT_POSCTL_0800                 ;
10506 000010D2 A0DC                   M           BRA     INT_POSCTL_0800
10507 000010D4 0009                   M           NOP
10508                            3049     
10509                                     ***** BEGIN-POOL *****
10510 000010D6 0002                       DATA FOR SOURCE-LINE 3028
10511 000010D8 00000000                   DATA FOR SOURCE-LINE 3015
10512 000010DC 00000000                   DATA FOR SOURCE-LINE 3016
10513 000010E0 00000000                   DATA FOR SOURCE-LINE 3020
10514 000010E4 00000000                   DATA FOR SOURCE-LINE 3021
10515 000010E8 00000000                   DATA FOR SOURCE-LINE 3024
10516 000010EC 00000000                   DATA FOR SOURCE-LINE 3027
10517 000010F0 00000000                   DATA FOR SOURCE-LINE 3029
10518 000010F4 00000000                   DATA FOR SOURCE-LINE 3032
10519 000010F8 00000000                   DATA FOR SOURCE-LINE 3033
10520 000010FC 00000000                   DATA FOR SOURCE-LINE 3036
10521 00001100 00000000                   DATA FOR SOURCE-LINE 3038
10522 00001104 00000000                   DATA FOR SOURCE-LINE 3040
10523 00001108 00000000                   DATA FOR SOURCE-LINE 3042
10524 0000110C 00000000                   DATA FOR SOURCE-LINE 3045
10525                                     ***** END-POOL *****
10526 00001110                   3050     INT_POSCTL_0200:
10527                            3051     ;       ===========================================
10528                            3052     ;       ===                                     ===
10529                            3053     ;       ===             起動中                  ===
10530                            3054     ;       ===                                     ===
10531                            3055     ;       ===========================================
10532 00001110 D609              3056             MOV.L   #_MNWR_POS_CMD,R6                                               ;
10533 00001112 6061              3057             MOV.W   @R6,R0                                                          ;
10534 00001114 2008              3058             TST     R0,R0                                                           ;ﾊﾟﾙｽ払出
                                          即停止
10535                            3059             TST_BIT_ON INT_POSCTL_0220                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    82
PROGRAM NAME =

10536 00001116 8B19                   M           BF      INT_POSCTL_0220
10537                            3060             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
10538 00001118 D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10539 0000111A 6011                   M           MOV.W   @R1,R0          ;
10540 0000111C CB08                   M           OR      #BIT3,R0                ;
10541 0000111E 2101                   M           MOV.W   R0,@R1          ;
10542                            3061             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
10543 00001120 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10544 00001122 400B                   M           JSR     @R0                     ;
10545 00001124 0009                   M           NOP                                     ;
10546                            3062             FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
10547 00001126 D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10548 00001128 400B                   M           JSR     @R0                     ;
10549 0000112A 0009                   M           NOP                                     ;
10550                            3063             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
10551 0000112C D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10552 0000112E 400B                   M           JSR     @R0                     ;
10553 00001130 0009                   M           NOP                                     ;
10554                            3064             M_BRA   INT_POSCTL_0800                                                 ;
10555 00001132 A0AC                   M           BRA     INT_POSCTL_0800
10556 00001134 0009                   M           NOP
10557                            3065     
10558                                     ***** BEGIN-POOL *****
10559 00001136 0000                       ALIGNMENT CODE
10560 00001138 00000000                   DATA FOR SOURCE-LINE 3056
10561 0000113C 00000000                   DATA FOR SOURCE-LINE 3060
10562 00001140 00000000                   DATA FOR SOURCE-LINE 3061
10563 00001144 00000000                   DATA FOR SOURCE-LINE 3062
10564 00001148 00000000                   DATA FOR SOURCE-LINE 3063
10565                                     ***** END-POOL *****
10566 0000114C                   3066     INT_POSCTL_0220:                                                                ;
10567 0000114C C802              3067             TST     #BIT1,R0                                                        ;減速停止ｺ
                                          ﾏﾝﾄﾞ
10568                            3068             TST_BIT_OF INT_POSCTL_0240                                              ;
10569 0000114E 8917                   M           BT      INT_POSCTL_0240
10570                            3069             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT2,WKREG=R1    ;
10571 00001150 D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10572 00001152 6011                   M           MOV.W   @R1,R0          ;
10573 00001154 CB04                   M           OR      #BIT2,R0                ;
10574 00001156 2101                   M           MOV.W   R0,@R1          ;
10575                            3070             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
10576 00001158 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10577 0000115A 400B                   M           JSR     @R0                     ;
10578 0000115C 0009                   M           NOP                                     ;
10579                            3071             FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
10580 0000115E D006                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10581 00001160 400B                   M           JSR     @R0                     ;
10582 00001162 0009                   M           NOP                                     ;
10583                            3072             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
10584 00001164 D005                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10585 00001166 400B                   M           JSR     @R0                     ;
10586 00001168 0009                   M           NOP                                     ;
10587                            3073             M_BRA   INT_POSCTL_0800                                                 ;
10588 0000116A A090                   M           BRA     INT_POSCTL_0800
10589 0000116C 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    83
PROGRAM NAME =

10590                            3074     
10591                                     ***** BEGIN-POOL *****
10592 0000116E 0000                       ALIGNMENT CODE
10593 00001170 00000000                   DATA FOR SOURCE-LINE 3069
10594 00001174 00000000                   DATA FOR SOURCE-LINE 3070
10595 00001178 00000000                   DATA FOR SOURCE-LINE 3071
10596 0000117C 00000000                   DATA FOR SOURCE-LINE 3072
10597                                     ***** END-POOL *****
10598 00001180                   3075     INT_POSCTL_0240:
10599                            3076     ;       ==========(位置決め完了・継続) ==========
10600 00001180 D109              3077             MOV.L   #_INT_POS_STEP_FLG,R1                                           ;//ｽﾃｯﾌﾟ,
                                          段取り共通
10601 00001182 6011              3078             MOV.W   @R1,R0                                                          ;
10602 00001184 C840              3079             TST     #BIT6,R0                                                        ;工程終了
10603                            3080             TST_BIT_OF INT_POSCTL_0250                                              ;
10604 00001186 8919                   M           BT      INT_POSCTL_0250
10605                            3081             FAR_JSR #_CYC_END_POS_FLG_SET,R0                                        ;
10606 00001188 D008                   M           MOV.L   #_CYC_END_POS_FLG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10607 0000118A 400B                   M           JSR     @R0                     ;
10608 0000118C 0009                   M           NOP                                     ;
10609                            3082             FAR_JSR #_CYC_END_POS_FLG_CLR,R0                                        ;
10610 0000118E D008                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10611 00001190 400B                   M           JSR     @R0                     ;
10612 00001192 0009                   M           NOP                                     ;
10613                            3083     
10614                            3084              .AIF   1 EQ 1  ;
10615                            3085 C   ;       -------- 2016-10-31 ADD 二重回路対策
10616                            3086              .AENDI
10617                            3087     ;       ---------2016-06-13[3]
10618                            3088             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
10619 00001194 D007                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10620 00001196 400B                   M           JSR     @R0                     ;
10621 00001198 0009                   M           NOP                                     ;
10622                            3089     
10623                            3090             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
10624 0000119A D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10625 0000119C 6011                   M           MOV.W   @R1,R0          ;
10626 0000119E CB40                   M           OR      #BIT6,R0                ;
10627 000011A0 2101                   M           MOV.W   R0,@R1          ;
10628                            3091             M_BRA   INT_POSCTL_0800                                                 ;
10629 000011A2 A074                   M           BRA     INT_POSCTL_0800
10630 000011A4 0009                   M           NOP
10631                            3092     
10632                            3093     
10633                                     ***** BEGIN-POOL *****
10634 000011A6 0000                       ALIGNMENT CODE
10635 000011A8 00000000                   DATA FOR SOURCE-LINE 3077
10636 000011AC 00000000                   DATA FOR SOURCE-LINE 3081
10637 000011B0 00000000                   DATA FOR SOURCE-LINE 3082
10638 000011B4 00000000                   DATA FOR SOURCE-LINE 3088
10639 000011B8 00000000                   DATA FOR SOURCE-LINE 3090
10640                                     ***** END-POOL *****
10641 000011BC                   3094     INT_POSCTL_0250:
10642 000011BC D105              3095             MOV.L   #_MODE_SEL,R1                   ;
10643 000011BE 6011              3096             MOV.W   @R1,R0                          ;
10644 000011C0 C820              3097             TST     #_W1DIC,R0                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    84
PROGRAM NAME =

10645                            3098             TST_BIT_ON INT_POSCTL_0260              ;段取
10646 000011C2 8B0B                   M           BF      INT_POSCTL_0260
10647                            3099     
10648 000011C4 C840              3100             TST     #_W1DUP,R0                      ;
10649                            3101             TST_BIT_ON INT_POSCTL_0260              ;待機点復帰
10650 000011C6 8B09                   M           BF      INT_POSCTL_0260
10651                            3102     
10652                            3103     
10653                            3104             FAR_JSR #_POS_ALL_STEP_CTRL,R0          ;ﾓｰｼｮﾝ
10654 000011C8 D003                   M           MOV.L   #_POS_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10655 000011CA 400B                   M           JSR     @R0                     ;
10656 000011CC 0009                   M           NOP                                     ;
10657                            3105     
10658                            3106             M_BRA   INT_POSCTL_0280                 ;
10659 000011CE A008                   M           BRA     INT_POSCTL_0280
10660 000011D0 0009                   M           NOP
10661                            3107     
10662                                     ***** BEGIN-POOL *****
10663 000011D2 0000                       ALIGNMENT CODE
10664 000011D4 00000000                   DATA FOR SOURCE-LINE 3095
10665 000011D8 00000000                   DATA FOR SOURCE-LINE 3104
10666                                     ***** END-POOL *****
10667 000011DC                   3108     INT_POSCTL_0260:                                ;
10668                            3109             FAR_JSR #_DND_ALL_STEP_CTRL,R0          ;(((((((((((段取毎スキャン)))))))))))))))
10669 000011DC D00A                   M           MOV.L   #_DND_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10670 000011DE 400B                   M           JSR     @R0                     ;
10671 000011E0 0009                   M           NOP                                     ;
10672 000011E2                   3110     INT_POSCTL_0280:
10673                            3111             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
10674 000011E2 D00A                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10675 000011E4 400B                   M           JSR     @R0                     ;
10676 000011E6 0009                   M           NOP                                     ;
10677                            3112     
10678                            3113     ;       === FLAG SET(REST-PLS REFLASH-END)====
10679                            3114             eSHi_SET_IM_MOV DST=_SH4_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
10680                                 M           PUSH_REG1 R1            ;
10681 000011E8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
10682                                 M                                           ;REG=>[SP]
10683                                 M                                           ;"-4" FF,FF,FF,FC
10684                                 M           PUSH_REG1 R0            ;
10685 000011EA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10686                                 M                                           ;REG=>[SP]
10687                                 M                                           ;"-4" FF,FF,FF,FC
10688 000011EC 900B                   M           MOV.W   #1,R0           ;
10689 000011EE D108                   M           MOV.L   #_SH4_REST_RL_HF,R1             ;
10690 000011F0 2101                   M           MOV.W   R0,@R1  ;
10691                                 M           POP_REG1 R0             ;
10692                                 M                                   ; RE"+4" 00,00,00,04
10693 000011F2 60F6                   M           MOV.L   @R15+,R0        ;
10694                                 M           POP_REG1 R1             ;
10695                                 M                                   ; RE"+4" 00,00,00,04
10696 000011F4 61F6                   M           MOV.L   @R15+,R1        ;
10697                            3115     
10698                            3116     
10699                            3117     ;       === 2004-01-28===
10700                            3118             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
10701 000011F6 D007                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    85
PROGRAM NAME =

10702 000011F8 400B                   M           JSR     @R0                     ;
10703 000011FA 0009                   M           NOP                                     ;
10704                            3119             FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
10705 000011FC D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10706 000011FE 400B                   M           JSR     @R0                     ;
10707 00001200 0009                   M           NOP                                     ;
10708                            3120     
10709                            3121             .AIF 0  EQ 1    ;2006-09-19
10710                            3122             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
10711                            3123             .AENDI
10712                            3124     
10713                            3125             M_BRA   INT_POSCTL_0800
10714 00001202 A044                   M           BRA     INT_POSCTL_0800
10715 00001204 0009                   M           NOP
10716                            3126     
10717                            3127     
10718                            3128     ;       ***************************************************
10719                            3129     ;       ***             終わりへ向かう状態              ***
10720                            3130     ;       ***************************************************
10721                                     ***** BEGIN-POOL *****
10722 00001206 0001                       DATA FOR SOURCE-LINE 3114
10723 00001208 00000000                   DATA FOR SOURCE-LINE 3109
10724 0000120C 00000000                   DATA FOR SOURCE-LINE 3111
10725 00001210 00000000                   DATA FOR SOURCE-LINE 3114
10726 00001214 00000000                   DATA FOR SOURCE-LINE 3118
10727 00001218 00000000                   DATA FOR SOURCE-LINE 3119
10728                                     ***** END-POOL *****
10729 0000121C                   3131     INT_POSCTL_0300:
10730 0000121C C840              3132             TST     #BIT6,R0                        ;
10731                            3133             TST_BIT_ON INT_POSCTL_0700              ;(位置決め完了状態)起動指令OFF待ち
10732 0000121E 8B2D                   M           BF      INT_POSCTL_0700
10733 00001220 C808              3134             TST     #BIT3,R0                        ;
10734                            3135             TST_BIT_ON INT_POSCTL_0500              ;急停止の払出待ち
10735 00001222 8B1B                   M           BF      INT_POSCTL_0500
10736 00001224 C804              3136             TST     #BIT2,R0                        ;
10737                            3137             TST_BIT_ON INT_POSCTL_0320              ;減速停止の払出待ち
10738 00001226 8B01                   M           BF      INT_POSCTL_0320
10739                            3138             M_BRA   INT_POSCTL_0900                 ;ｱｲﾄﾞﾙ
10740 00001228 A032                   M           BRA     INT_POSCTL_0900
10741 0000122A 0009                   M           NOP
10742                            3139     
10743 0000122C                   3140     INT_POSCTL_0320:
10744                            3141     ;       ===========================================
10745                            3142     ;       ===             減速停止中              ===
10746                            3143     ;       ===========================================
10747 0000122C D607              3144             MOV.L   #_MNWR_POS_CMD,R6               ;
10748 0000122E 6061              3145             MOV.W   @R6,R0                          ;
10749 00001230 2008              3146             TST     R0,R0                           ;ﾊﾟﾙｽ払出即停止
10750                            3147             TST_BIT_ON INT_POSCTL_0500              ;
10751 00001232 8B13                   M           BF      INT_POSCTL_0500
10752                            3148             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;起動信号一定時間ONしたらOFF:但し払い出し
                                          中が立つ
10753 00001234 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10754 00001236 400B                   M           JSR     @R0                     ;
10755 00001238 0009                   M           NOP                                     ;
10756                            3149             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
10757 0000123A D006                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    86
PROGRAM NAME =

10758 0000123C 400B                   M           JSR     @R0                     ;
10759 0000123E 0009                   M           NOP                                     ;
10760                            3150             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;急停止へ
10761 00001240 D105                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10762 00001242 6011                   M           MOV.W   @R1,R0          ;
10763 00001244 CB08                   M           OR      #BIT3,R0                ;
10764 00001246 2101                   M           MOV.W   R0,@R1          ;
10765                            3151             M_BRA   INT_POSCTL_0800                 ;
10766 00001248 A021                   M           BRA     INT_POSCTL_0800
10767 0000124A 0009                   M           NOP
10768                            3152     
10769                            3153     ;       ===========================================
10770                            3154     ;       ===             急停止中                ===
10771                            3155     ;       ===========================================
10772                                     ***** BEGIN-POOL *****
10773 0000124C 00000000                   DATA FOR SOURCE-LINE 3144
10774 00001250 00000000                   DATA FOR SOURCE-LINE 3148
10775 00001254 00000000                   DATA FOR SOURCE-LINE 3149
10776 00001258 00000000                   DATA FOR SOURCE-LINE 3150
10777                                     ***** END-POOL *****
10778 0000125C                   3156     INT_POSCTL_0500:
10779                            3157             FAR_JSR #_LOD_POS_STS_REG_SLOW,R1       ;
10780 0000125C D105                   M           MOV.L   #_LOD_POS_STS_REG_SLOW,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10781 0000125E 410B                   M           JSR     @R1                     ;
10782 00001260 0009                   M           NOP                                     ;
10783 00001262 C804              3158             TST     #BIT2,R0                        ;停止?
10784                            3159             TST_BIT_OF INT_POSCTL_0800              ;
10785 00001264 8913                   M           BT      INT_POSCTL_0800
10786                            3160             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
10787 00001266 D104                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10788 00001268 6011                   M           MOV.W   @R1,R0          ;
10789 0000126A CB40                   M           OR      #BIT6,R0                ;
10790 0000126C 2101                   M           MOV.W   R0,@R1          ;
10791                            3161             M_BRA   INT_POSCTL_0800         ;
10792 0000126E A00E                   M           BRA     INT_POSCTL_0800
10793 00001270 0009                   M           NOP
10794                            3162     
10795                            3163     
10796                            3164     
10797                            3165     ;       ===========================================
10798                            3166     ;       ===             位置決め完了待ち        ===
10799                            3167     ;       ===========================================
10800                                     ***** BEGIN-POOL *****
10801 00001272 0000                       ALIGNMENT CODE
10802 00001274 00000000                   DATA FOR SOURCE-LINE 3157
10803 00001278 00000000                   DATA FOR SOURCE-LINE 3160
10804                                     ***** END-POOL *****
10805 0000127C                   3168     INT_POSCTL_0700:                                        ;
10806 0000127C D512              3169             MOV.L   #_INT_CYC_DRV_STS,R5    ;//BIT0:CYCLE　END()
10807 0000127E 6051              3170             MOV.W   @R5,R0                  ;
10808 00001280 C840              3171             TST     #BIT6,R0                ;
10809                            3172             TST_BIT_ON INT_POSCTL_0900      ;
10810 00001282 8B05                   M           BF      INT_POSCTL_0900
10811 00001284 CB40              3173             OR      #BIT6,R0                ;
10812 00001286 2501              3174             MOV.W   R0,@R5                  ;位置決め完了SET
10813                            3175     ;       ===========================     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    87
PROGRAM NAME =

10814                            3176     ;       ===     運転終了        ===     ;
10815                            3177     ;       ===========================     ;
10816                            3178             FAR_JSR #_INT_POS_CTL_END,R0    ;
10817 00001288 D010                   M           MOV.L   #_INT_POS_CTL_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10818 0000128A 400B                   M           JSR     @R0                     ;
10819 0000128C 0009                   M           NOP                                     ;
10820 0000128E                   3179     INT_POSCTL_0800:
10821 0000128E 0009              3180             NOP
10822 00001290                   3181     INT_POSCTL_0900:
10823                            3182             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG1,W    ,_POS_CALC_ERR_INF1,W,R1,R2,R3
                                          ;
10824 00001290 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1
10825 00001292 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10826 00001294 D30F                   M           MOV.L   #_POS_CALC_ERR_INF1,R3  ;DST_ADR
10827 00001296 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10828                            3183             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG2,W    ,_POS_CALC_ERR_INF2,W,R1,R2,R3
                                          ;
10829 00001298 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1
10830 0000129A 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10831 0000129C D30F                   M           MOV.L   #_POS_CALC_ERR_INF2,R3  ;DST_ADR
10832 0000129E 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10833                            3184             MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_FLG1,W ,_POS_LSI_ACS_ERR_INF1,W,R1,R2,R3
                                          ;
10834 000012A0 D10F                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1
10835 000012A2 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10836 000012A4 D30F                   M           MOV.L   #_POS_LSI_ACS_ERR_INF1,R3       ;DST_ADR
10837 000012A6 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10838                            3185     
10839                            3186     
10840                            3187     
10841                            3188             FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[S01m 2003-04-03]
10842 000012A8 D00F                   M           MOV.L   #_POS_OVER_RUN_CHK1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10843 000012AA 400B                   M           JSR     @R0                     ;
10844 000012AC 0009                   M           NOP                                     ;
10845                            3189     
10846 000012AE                   3190     INT_POSCTL_0910:
10847                            3191     
10848                            3192     
10849                            3193     ;;;2011-09-14移動[ﾌﾞﾚｰｷﾃｽﾄ中はｵｰﾊﾞﾗﾝを見ない]   FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[
                                          S01m 2003-04-03]
10850                            3194     
10851                            3195     
10852                            3196     
10853                            3197     
10854                            3198             FAR_JSR #_ERR_STOP_MOV_CHK,R0           ;FLG=R0
10855 000012AE D00F                   M           MOV.L   #_ERR_STOP_MOV_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10856 000012B0 400B                   M           JSR     @R0                     ;
10857 000012B2 0009                   M           NOP                                     ;
10858 000012B4 2008              3199             TST     R0,R0                           ;
10859                            3200             TST_BIT_ON INT_POSCTL_0920              ;
10860 000012B6 8B1D                   M           BF      INT_POSCTL_0920
10861                            3201             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT1),WKRG1=R1,WKRG2=R4
10862 000012B8 D10D                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
10863 000012BA 6011                   M           MOV.W   @R1,R0          ;
10864 000012BC 9403                   M           MOV.W   #LWORD (~BIT1),R4       ;
10865 000012BE 2049                   M           AND     R4,R0           ;
10866 000012C0 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    88
PROGRAM NAME =

10867                            3202             M_BRA   INT_POSCTL_0950                 ;
10868 000012C2 A01C                   M           BRA     INT_POSCTL_0950
10869 000012C4 0009                   M           NOP
10870                                     ***** BEGIN-POOL *****
10871 000012C6 FFFD                       DATA FOR SOURCE-LINE 3201
10872 000012C8 00000000                   DATA FOR SOURCE-LINE 3169
10873 000012CC 00000000                   DATA FOR SOURCE-LINE 3178
10874 000012D0 00000000                   DATA FOR SOURCE-LINE 3182
10875 000012D4 00000000                   DATA FOR SOURCE-LINE 3182
10876 000012D8 00000000                   DATA FOR SOURCE-LINE 3183
10877 000012DC 00000000                   DATA FOR SOURCE-LINE 3183
10878 000012E0 00000000                   DATA FOR SOURCE-LINE 3184
10879 000012E4 00000000                   DATA FOR SOURCE-LINE 3184
10880 000012E8 00000000                   DATA FOR SOURCE-LINE 3188
10881 000012EC 00000000                   DATA FOR SOURCE-LINE 3198
10882 000012F0 00000000                   DATA FOR SOURCE-LINE 3201
10883                                     ***** END-POOL *****
10884 000012F4                   3203     INT_POSCTL_0920:
10885                            3204             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4
10886 000012F4 D119                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
10887 000012F6 6011                   M           MOV.W   @R1,R0          ;
10888 000012F8 942F                   M           MOV.W   #(BIT1),R4              ;
10889 000012FA 204B                   M           OR      R4,R0           ;
10890 000012FC 2101                   M           MOV.W   R0,@R1          ;
10891 000012FE                   3205     INT_POSCTL_0950:
10892                            3206     
10893                            3207     ;       ------ 2006-09-19 -------
10894                            3208             FAR_JSR #_MONI_SEINOU_CMP_OUTPUT,R0                     ;制御(_SH_POSCTL_RL_ABSPLS
                                          )を使用している注意
10895 000012FE D018                   M           MOV.L   #_MONI_SEINOU_CMP_OUTPUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10896 00001300 400B                   M           JSR     @R0                     ;
10897 00001302 0009                   M           NOP                                     ;
10898                            3209             FAR_JSR #_RL_POS_DATA_CHK,R0                            ;
10899 00001304 D017                   M           MOV.L   #_RL_POS_DATA_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10900 00001306 400B                   M           JSR     @R0                     ;
10901 00001308 0009                   M           NOP                                     ;
10902                            3210     
10903                            3211             FAR_JSR #_CNT_HOSEI_CHK_CALC,R0                         ;
10904 0000130A D017                   M           MOV.L   #_CNT_HOSEI_CHK_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10905 0000130C 400B                   M           JSR     @R0                     ;
10906 0000130E 0009                   M           NOP                                     ;
10907                            3212     
10908                            3213     ;       ----------------------------------------------
10909                            3214             FAR_JSR #_PLS_LSI_CTRL,R0                       ;
10910 00001310 D016                   M           MOV.L   #_PLS_LSI_CTRL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10911 00001312 400B                   M           JSR     @R0                     ;
10912 00001314 0009                   M           NOP                                     ;
10913                            3215     
10914                            3216     
10915                            3217     ;       ------2012-05-15---------------
10916 00001316 D116              3218             MOV.L   #_DURING_TIM_FX,R1              ;ﾓﾆﾀ
10917 00001318 6211              3219             MOV.W   @R1,R2                          ;
10918 0000131A 622C              3220             EXTU.B  R2,R2                           ;
10919                            3221     
10920 0000131C D115              3222             MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
10921 0000131E 6011              3223             MOV.W   @R1,R0                          ;
10922 00001320 4018              3224             SHLL8   R0                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    89
PROGRAM NAME =

10923 00001322 220B              3225             OR      R0,R2                           ;
10924                            3226     
10925 00001324 D114              3227             MOV.L   #_SQ_CBWK_TOP+_WKSQCB231,R1     ;
10926 00001326 2121              3228             MOV.W   R2,@R1                          ;
10927                            3229     
10928                            3230     ;       ------2012-10-01---------------
10929 00001328 D114              3231             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
10930 0000132A 6211              3232             MOV.W   @R1,R2                          ;
10931 0000132C 622C              3233             EXTU.B  R2,R2                           ;
10932                            3234     
10933                            3235     ;       -------- 2019-04-10-------------
10934 0000132E 233A              3236             XOR             R3,R3
10935 00001330 D113              3237             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向(今回動
                                          きべき方向) 非常停止の影響ない
10936 00001332 6011              3238             MOV.W   @R1,R0                                          ;
10937 00001334 2008              3239             TST             R0,R0
10938                            3240             TST_BIT_OF      DEBUG_SIGINC_100
10939 00001336 8900                   M           BT      DEBUG_SIGINC_100
10940 00001338 E302              3241             MOV.B   #BIT1,R3
10941 0000133A                   3242     DEBUG_SIGINC_100:
10942                            3243     
10943 0000133A 244A              3244             XOR             R4,R4
10944                            3245     ;;;     MOV.L   #_HANTEN_LAST_STEP_F,R1         ;
10945                            3246     ;;;     MOV.W   @R1,R0                                          ;
10946                            3247     ;;;     TST             R0,R0
10947                            3248     ;;;     TST_BIT_OF      DEBUG_SIGNEG_100                ;
10948                            3249     ;;;     MOV.B   #BIT2,R4
10949                            3250     ;;;DEBUG_SIGNEG_100:                                            ;
10950                            3251     
10951 0000133C D111              3252             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
10952 0000133E 6011              3253             MOV.W   @R1,R0                          ;
10953 00001340 203B              3254             OR              R3,R0                                           ;BIT1->232.9
10954 00001342 204B              3255             OR              R4,R0                                           ;BIT2->232.10
10955 00001344 4018              3256             SHLL8   R0                              ;
10956 00001346 220B              3257             OR      R0,R2                           ;
10957                            3258     
10958 00001348 D10F              3259             MOV.L   #_SQ_CBWK_TOP+_WKSQCB232,R1     ;
10959 0000134A 2121              3260             MOV.W   R2,@R1                          ;
10960                            3261     
10961                            3262     
10962                            3263     ;----------2013-08-20
10963 0000134C D10F              3264             MOV.L   #_POSCTL_STEP_FLG,R1            ;
10964 0000134E 6211              3265             MOV.W   @R1,R2                          ;
10965 00001350 D10F              3266             MOV.L   #_SQ_CBWK_TOP+_WKSQCB233,R1     ;
10966 00001352 2121              3267             MOV.W   R2,@R1                          ;
10967                            3268     
10968                            3269     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+0,R1
10969                            3270     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
10970                            3271     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB234,R1     ;
10971                            3272     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
10972                            3273     ;;;;;;;;;;;;;;;;;;;2015-07-07
10973                            3274     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+2,R1
10974                            3275     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
10975                            3276     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB235,R1     ;
10976                            3277     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
10977                            3278     
10978                            3279     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    90
PROGRAM NAME =

10979                            3280     
10980                            3281             SUB_END
10981                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10982 00001354 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10983                            3282             M_RTS
10984 00001356 000B                   M           RTS                             ;RTSの後ろの
10985 00001358 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10986                            3283     
10987                            3284     ;       ***********************************
10988                            3285     ;       ***                             ***
10989                            3286     ;       ***     INT                     ***
10990                            3287     ;       ***                             ***
10991                            3288     ;       ***********************************
10992                                     ***** BEGIN-POOL *****
10993 0000135A 0002                       DATA FOR SOURCE-LINE 3204
10994 0000135C 00000000                   DATA FOR SOURCE-LINE 3204
10995 00001360 00000000                   DATA FOR SOURCE-LINE 3208
10996 00001364 00000000                   DATA FOR SOURCE-LINE 3209
10997 00001368 00000000                   DATA FOR SOURCE-LINE 3211
10998 0000136C 00000000                   DATA FOR SOURCE-LINE 3214
10999 00001370 00000000                   DATA FOR SOURCE-LINE 3218
11000 00001374 00000000                   DATA FOR SOURCE-LINE 3222
11001 00001378 00000000                   DATA FOR SOURCE-LINE 3227
11002 0000137C 00000000                   DATA FOR SOURCE-LINE 3231
11003 00001380 00000000                   DATA FOR SOURCE-LINE 3237
11004 00001384 00000000                   DATA FOR SOURCE-LINE 3252
11005 00001388 00000000                   DATA FOR SOURCE-LINE 3259
11006 0000138C 00000000                   DATA FOR SOURCE-LINE 3264
11007 00001390 00000000                   DATA FOR SOURCE-LINE 3266
11008                                     ***** END-POOL *****
11009 00001394                   3289             .ALIGN  4                               ;
11010 00001394                   3290     _INT_POS_CTL_END:
11011                            3291             SUB_START
11012 00001394 4F22                   M           STS.L   PR,@-R15                ;[必要]
11013                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11014 00001396 200A              3292             XOR     R0,R0
11015 00001398 D10D              3293             MOV.L   #_INT_POS_CTL_FLAG,R1;
11016 0000139A 2101              3294             MOV.W   R0,@R1
11017 0000139C D10D              3295             MOV.L   #_INT_POS_STEP_FLG,R1;
11018 0000139E 2101              3296             MOV.W   R0,@R1
11019 000013A0 D10D              3297             MOV.L   #_INT_POS_CTL_STEP,R1;
11020 000013A2 2101              3298             MOV.W   R0,@R1
11021                            3299     ;       ===========================
11022 000013A4 D10D              3300             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
11023 000013A6 2101              3301             MOV.W   R0,@R1                          ;
11024                            3302     ;       ===========================
11025                            3303     
11026 000013A8 D10D              3304             MOV.L   #_INT_DND_CTL_STEP,R1;
11027 000013AA 2101              3305             MOV.W   R0,@R1
11028 000013AC D10D              3306             MOV.L   #_INT_DND_STEP_FLG,R1;
11029 000013AE 2101              3307             MOV.W   R0,@R1
11030                            3308     
11031 000013B0 D10D              3309             MOV.L   #_LNGTH_ADD_DATA,R1;[2];//符号付き
11032 000013B2 2102              3310             MOV.L   R0,@R1
11033 000013B4 1101              3311             MOV.L   R0,@(4,R1)
11034                            3312     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    91
PROGRAM NAME =

11035 000013B6 D10D              3313             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1;[2];//符号つき TOTAL=TOTAL+ADD ADD_DATA<=0
11036 000013B8 2102              3314             MOV.L   R0,@R1
11037 000013BA 1101              3315             MOV.L   R0,@(4,R1)
11038                            3316     
11039 000013BC D10C              3317             MOV.L   #_POSLSI_CMP_DATA,R1;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
11040 000013BE 2102              3318             MOV.L   R0,@R1
11041                            3319     
11042 000013C0 D10C              3320             MOV.L   #_POSLSI_DELT_POS,R1;//変化分
11043 000013C2 2102              3321             MOV.L   R0,@R1
11044                            3322     
11045 000013C4 D10C              3323             MOV.L   #_OUTPLS_MOD,R1         ;
11046 000013C6 2102              3324             MOV.L   R0,@R1                  ;
11047                            3325             SUB_END
11048                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11049 000013C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11050                            3326             M_RTS
11051 000013CA 000B                   M           RTS                             ;RTSの後ろの
11052 000013CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11053                            3327     
11054                            3328     
11055                            3329     
11056                            3330     
11057                            3331     ;       ***********************************
11058                            3332     ;       ***                             ***
11059                            3333     ;       ***     移動距離と速度          ***
11060                            3334     ;       ***                             ***
11061                            3335     ;       ***********************************
11062                                     ***** BEGIN-POOL *****
11063 000013CE 0000                       ALIGNMENT CODE
11064 000013D0 00000000                   DATA FOR SOURCE-LINE 3293
11065 000013D4 00000000                   DATA FOR SOURCE-LINE 3295
11066 000013D8 00000000                   DATA FOR SOURCE-LINE 3297
11067 000013DC 00000000                   DATA FOR SOURCE-LINE 3300
11068 000013E0 00000000                   DATA FOR SOURCE-LINE 3304
11069 000013E4 00000000                   DATA FOR SOURCE-LINE 3306
11070 000013E8 00000000                   DATA FOR SOURCE-LINE 3309
11071 000013EC 00000000                   DATA FOR SOURCE-LINE 3313
11072 000013F0 00000000                   DATA FOR SOURCE-LINE 3317
11073 000013F4 00000000                   DATA FOR SOURCE-LINE 3320
11074 000013F8 00000000                   DATA FOR SOURCE-LINE 3323
11075                                     ***** END-POOL *****
11076 000013FC                   3336             .ALIGN  4
11077 000013FC                   3337     _POS_1STEP_DATA_MAK1:
11078                            3338             SUB_START
11079 000013FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11080                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11081                            3339             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;DUMMY CALL
11082 000013FE D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11083 00001400 400B                   M           JSR     @R0                     ;
11084 00001402 0009                   M           NOP                                     ;
11085                            3340     
11086 00001404 D211              3341             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11087 00001406 6021              3342             MOV.W   @R2,R0                          ;
11088 00001408 70FF              3343             ADD     #-1,R0                          ;
11089 0000140A 4008              3344             SHLL2   R0                              ;
11090 0000140C D410              3345             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
11091 0000140E 024E              3346             MOV.L   @(R0,R4),R2                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    92
PROGRAM NAME =

11092 00001410 D110              3347             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11093 00001412 2122              3348             MOV.L   R2,@R1                          ;
11094                            3349     
11095                            3350     
11096                            3351             PUSH_REG1       R0
11097 00001414 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11098                                 M                                           ;REG=>[SP]
11099                                 M                                           ;"-4" FF,FF,FF,FC
11100                            3352             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11101 00001416 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11102 00001418 410B                   M           JSR     @R1                     ;
11103 0000141A 0009                   M           NOP                                     ;
11104                            3353             POP_REG1        R0                      ;R0=*4
11105                                 M                                   ; RE"+4" 00,00,00,04
11106 0000141C 60F6                   M           MOV.L   @R15+,R0        ;
11107 0000141E 4000              3354             SHLL    R0                              ;*2
11108 00001420 D40E              3355             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11109 00001422 340C              3356             ADD     R0,R4                   ;
11110 00001424 6146              3357             MOV.L   @R4+,R1                 ;
11111 00001426 6242              3358             MOV.L   @R4,R2                  ;(目標位置)
11112                            3359             FAR_JSR #_LENGH_ADD_CALC,R0     ;
11113 00001428 D00D                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11114 0000142A 400B                   M           JSR     @R0                     ;
11115 0000142C 0009                   M           NOP                                     ;
11116                            3360     
11117 0000142E 233A              3361             XOR     R3,R3                   ;
11118 00001430 4111              3362             CMP/PZ  R1                      ;+正転?
11119 00001432 8900              3363             BT      POS_1STEP_DATMK1_050    ;
11120 00001434 E301              3364             MOV     #BIT0,R3                ;
11121 00001436                   3365     POS_1STEP_DATMK1_050:
11122 00001436 D10B              3366             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11123 00001438 6011              3367             MOV.W   @R1,R0                  ;
11124 0000143A C9FE              3368             AND     #LOW ~BIT0,R0           ;
11125 0000143C 203B              3369             OR      R3,R0                   ;
11126 0000143E 2101              3370             MOV.W   R0,@R1                  ;
11127                            3371             SUB_END
11128                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11129 00001440 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11130                            3372             M_RTS
11131 00001442 000B                   M           RTS                             ;RTSの後ろの
11132 00001444 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11133                            3373     
11134                            3374     
11135                            3375     ;       ***********************************
11136                            3376     ;       ***                             ***
11137                            3377     ;       ***     移動距離と速度          ***
11138                            3378     ;       ***     反転用                  ***
11139                            3379     ;       ***     2011-02-19              ***
11140                            3380     ;       ***                             ***
11141                            3381     ;       ***********************************
11142                            3382     ;
11143                            3383     ;       ・上昇のときはBEFOREしない
11144                            3384     ;       ・
11145                            3385     
11146                                     ***** BEGIN-POOL *****
11147 00001446 0000                       ALIGNMENT CODE
11148 00001448 00000000                   DATA FOR SOURCE-LINE 3339
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    93
PROGRAM NAME =

11149 0000144C 00000000                   DATA FOR SOURCE-LINE 3341
11150 00001450 00000000                   DATA FOR SOURCE-LINE 3345
11151 00001454 00000000                   DATA FOR SOURCE-LINE 3347
11152 00001458 00000000                   DATA FOR SOURCE-LINE 3352
11153 0000145C 00000000                   DATA FOR SOURCE-LINE 3355
11154 00001460 00000000                   DATA FOR SOURCE-LINE 3359
11155 00001464 00000000                   DATA FOR SOURCE-LINE 3366
11156                                     ***** END-POOL *****
11157 00001468                   3386             .ALIGN  4
11158 00001468                   3387     _POS_1STEP_DATA_MAK1CL:
11159                            3388             SUB_START
11160 00001468 4F22                   M           STS.L   PR,@-R15                ;[必要]
11161                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11162                            3389     ;----------------------------------------
11163                            3390             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;
11164 0000146A D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11165 0000146C 400B                   M           JSR     @R0                     ;
11166 0000146E 0009                   M           NOP                                     ;
11167                            3391     
11168 00001470 D20F              3392             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11169 00001472 6021              3393             MOV.W   @R2,R0                          ;
11170 00001474 70FF              3394             ADD     #-1,R0                          ;
11171 00001476 4008              3395             SHLL2   R0                              ;
11172 00001478 D40E              3396             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
11173 0000147A 024E              3397             MOV.L   @(R0,R4),R2                     ;
11174 0000147C D10E              3398             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11175 0000147E 2122              3399             MOV.L   R2,@R1                          ;
11176                            3400     
11177                            3401     
11178                            3402             PUSH_REG1       R0
11179 00001480 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11180                                 M                                           ;REG=>[SP]
11181                                 M                                           ;"-4" FF,FF,FF,FC
11182                            3403             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11183 00001482 D10E                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11184 00001484 410B                   M           JSR     @R1                     ;
11185 00001486 0009                   M           NOP                                     ;
11186                            3404             POP_REG1        R0                      ;R0=*4
11187                                 M                                   ; RE"+4" 00,00,00,04
11188 00001488 60F6                   M           MOV.L   @R15+,R0        ;
11189                            3405     
11190                            3406             PUSH_REG1 R0                            ;2012-10-05
11191 0000148A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11192                                 M                                           ;REG=>[SP]
11193                                 M                                           ;"-4" FF,FF,FF,FC
11194                            3407     
11195 0000148C 4000              3408             SHLL    R0                              ;*2
11196 0000148E D40C              3409             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11197 00001490 340C              3410             ADD     R0,R4                           ;
11198 00001492 6146              3411             MOV.L   @R4+,R1                         ;
11199 00001494 6242              3412             MOV.L   @R4,R2                          ;(目標位置)
11200                            3413     
11201                            3414             POP_REG1 R0                             ;2012-10-05
11202                                 M                                   ; RE"+4" 00,00,00,04
11203 00001496 60F6                   M           MOV.L   @R15+,R0        ;
11204                            3415     
11205                            3416     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    94
PROGRAM NAME =

11206                            3417     ;       --------------------
11207 00001498 D40A              3418             MOV.L   #_CPOS_SDAT1_INF1,R4            ;
11208 0000149A 340C              3419             ADD     R0,R4                           ;
11209 0000149C 6042              3420             MOV.L   @R4,R0                          ;
11210 0000149E C802              3421             TST     #BIT1,R0                        ;
11211                            3422             TST_BIT_OF POS_1STEP_DATMK1CL_020       ;正
11212 000014A0 8914                   M           BT      POS_1STEP_DATMK1CL_020
11213                            3423     
11214                            3424     ;       ------------逆転[手前減速位置演算をしない]-------------
11215 000014A2 D409              3425             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
11216 000014A4 2412              3426             MOV.L   R1,@R4                          ;
11217 000014A6 1421              3427             MOV.L   R2,@(4,R4)                      ;save
11218                            3428             M_BRA   POS_1STEP_DATMK1CL_040          ;
11219 000014A8 A013                   M           BRA     POS_1STEP_DATMK1CL_040
11220 000014AA 0009                   M           NOP
11221                            3429     
11222                                     ***** BEGIN-POOL *****
11223 000014AC 00000000                   DATA FOR SOURCE-LINE 3390
11224 000014B0 00000000                   DATA FOR SOURCE-LINE 3392
11225 000014B4 00000000                   DATA FOR SOURCE-LINE 3396
11226 000014B8 00000000                   DATA FOR SOURCE-LINE 3398
11227 000014BC 00000000                   DATA FOR SOURCE-LINE 3403
11228 000014C0 00000000                   DATA FOR SOURCE-LINE 3409
11229 000014C4 00000000                   DATA FOR SOURCE-LINE 3418
11230 000014C8 00000000                   DATA FOR SOURCE-LINE 3425
11231                                     ***** END-POOL *****
11232 000014CC                   3430     POS_1STEP_DATMK1CL_020:
11233                            3431     ;       ============== input R1,R2 ===============
11234                            3432             FAR_JSR #_FUL_BEFOR_CALC,R0             ;[引いた結果が前段や待機点より小さくなる場
                                          合はそれより引かない]
11235 000014CC D008                   M           MOV.L   #_FUL_BEFOR_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11236 000014CE 400B                   M           JSR     @R0                     ;
11237 000014D0 0009                   M           NOP                                     ;
11238                            3433     ;       ============== output R1,R2  =============
11239 000014D2                   3434     POS_1STEP_DATMK1CL_040:
11240                            3435     
11241                            3436     
11242                            3437     
11243                            3438             FAR_JSR #_LENGH_ADD_CALC,R0             ;
11244 000014D2 D008                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11245 000014D4 400B                   M           JSR     @R0                     ;
11246 000014D6 0009                   M           NOP                                     ;
11247                            3439     
11248 000014D8 233A              3440             XOR     R3,R3                           ;
11249 000014DA 4111              3441             CMP/PZ  R1                              ;+正転?
11250 000014DC 8900              3442             BT      POS_1STEP_DATMK1CL_050          ;
11251 000014DE E301              3443             MOV     #BIT0,R3                        ;
11252 000014E0                   3444     POS_1STEP_DATMK1CL_050:
11253 000014E0 D105              3445             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
11254 000014E2 6011              3446             MOV.W   @R1,R0                          ;
11255 000014E4 C9FE              3447             AND     #LOW ~BIT0,R0                   ;
11256 000014E6 203B              3448             OR      R3,R0                           ;
11257 000014E8 2101              3449             MOV.W   R0,@R1                          ;
11258                            3450     ;       ----------------------------------------
11259                            3451             SUB_END
11260                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11261 000014EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    95
PROGRAM NAME =

11262                            3452             M_RTS
11263 000014EC 000B                   M           RTS                             ;RTSの後ろの
11264 000014EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11265                            3453     
11266                            3454     ;       *******************************************
11267                            3455     ;       ***     input R1,R2 /Output R1,R2       ***
11268                            3456     ;       *******************************************
11269                                     ***** BEGIN-POOL *****
11270 000014F0 00000000                   DATA FOR SOURCE-LINE 3432
11271 000014F4 00000000                   DATA FOR SOURCE-LINE 3438
11272 000014F8 00000000                   DATA FOR SOURCE-LINE 3445
11273                                     ***** END-POOL *****
11274 000014FC                   3457             .ALIGN  4                               ;
11275 000014FC                   3458     _FUL_BEFOR_CALC:
11276                            3459             SUB_START
11277 000014FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11278                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11279                            3460             PUSH_REG1 R0
11280 000014FE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11281                                 M                                           ;REG=>[SP]
11282                                 M                                           ;"-4" FF,FF,FF,FC
11283                            3461             PUSH_REG1 R3
11284 00001500 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
11285                                 M                                           ;REG=>[SP]
11286                                 M                                           ;"-4" FF,FF,FF,FC
11287                            3462             PUSH_REG1 R4
11288 00001502 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
11289                                 M                                           ;REG=>[SP]
11290                                 M                                           ;"-4" FF,FF,FF,FC
11291                            3463             PUSH_REG1 R5
11292 00001504 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
11293                                 M                                           ;REG=>[SP]
11294                                 M                                           ;"-4" FF,FF,FF,FC
11295                            3464             PUSH_REG1 R6
11296 00001506 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
11297                                 M                                           ;REG=>[SP]
11298                                 M                                           ;"-4" FF,FF,FF,FC
11299                            3465     
11300 00001508 D508              3466             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
11301 0000150A 2512              3467             MOV.L   R1,@R5                                  ;
11302 0000150C 1521              3468             MOV.L   R2,@(4,R5)                              ;save
11303                            3469     
11304 0000150E D408              3470             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
11305 00001510 6642              3471             MOV.L   @R4,R6                          ;
11306 00001512 255A              3472             XOR     R5,R5                           ;
11307 00001514 2668              3473             TST     R6,R6                           ;
11308                            3474             TST_BIT_OF FUL_BEFOR_CAL500             ;
11309 00001516 8914                   M           BT      FUL_BEFOR_CAL500
11310                            3475     
11311 00001518 D306              3476             MOV.L   #_INT_POS_CTL_STEP,R3           ;//内部制御工程1~11
11312 0000151A 6031              3477             MOV.W   @R3,R0                          ;
11313 0000151C D306              3478             MOV.L   #_CPOS_STEP_MAX,R3              ;
11314 0000151E 6431              3479             MOV.W   @R3,R4                          ;
11315 00001520 7401              3480             ADD     #1,R4                           ;
11316 00001522 3040              3481             CMP/EQ  R4,R0                           ;
11317 00001524 8B0A              3482             BF      FUL_BEFOR_CAL100                ;（この論理では戻り工程は１つだけになる）
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    96
PROGRAM NAME =

11318                            3483             M_BRA   FUL_BEFOR_CAL500                ;戻り工程は演算しない
11319 00001526 A00C                   M           BRA     FUL_BEFOR_CAL500
11320 00001528 0009                   M           NOP
11321                            3484     
11322                                     ***** BEGIN-POOL *****
11323 0000152A 0000                       ALIGNMENT CODE
11324 0000152C 00000000                   DATA FOR SOURCE-LINE 3466
11325 00001530 00000000                   DATA FOR SOURCE-LINE 3470
11326 00001534 00000000                   DATA FOR SOURCE-LINE 3476
11327 00001538 00000000                   DATA FOR SOURCE-LINE 3478
11328                                     ***** END-POOL *****
11329 0000153C                   3485     FUL_BEFOR_CAL100:
11330                            3486     
11331                            3487             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
11332 0000153C 0008                   M           CLRT
11333 0000153E 326A                   M           SUBC    R6,R2
11334 00001540 315A                   M           SUBC    R5,R1
11335                            3488     
11336 00001542                   3489     FUL_BEFOR_CAL500:
11337                            3490             POP_REG1 R6
11338                                 M                                   ; RE"+4" 00,00,00,04
11339 00001542 66F6                   M           MOV.L   @R15+,R6        ;
11340                            3491             POP_REG1 R5
11341                                 M                                   ; RE"+4" 00,00,00,04
11342 00001544 65F6                   M           MOV.L   @R15+,R5        ;
11343                            3492             POP_REG1 R4
11344                                 M                                   ; RE"+4" 00,00,00,04
11345 00001546 64F6                   M           MOV.L   @R15+,R4        ;
11346                            3493             POP_REG1 R3
11347                                 M                                   ; RE"+4" 00,00,00,04
11348 00001548 63F6                   M           MOV.L   @R15+,R3        ;
11349                            3494             POP_REG1 R0
11350                                 M                                   ; RE"+4" 00,00,00,04
11351 0000154A 60F6                   M           MOV.L   @R15+,R0        ;
11352                            3495     
11353                            3496             SUB_END
11354                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11355 0000154C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11356                            3497             M_RTS
11357 0000154E 000B                   M           RTS                             ;RTSの後ろの
11358 00001550 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11359                            3498     
11360                            3499     
11361 00001554                   3500             .ALIGN  4                               ;
11362 00001554                   3501     _FUL_START_FUL_OBJ_SET
11363                            3502             SUB_START
11364 00001554 4F22                   M           STS.L   PR,@-R15                ;[必要]
11365                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11366                            3503     
11367 00001556 D509              3504             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
11368 00001558 6152              3505             MOV.L   @R5,R1                                  ;
11369 0000155A 5251              3506             MOV.L   @(4,R5),R2                              ;save
11370                            3507     
11371 0000155C D408              3508             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
11372 0000155E 1410              3509             MOV.L   R1,@(0,R4)
11373 00001560 1421              3510             MOV.L   R2,@(4,R4)                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    97
PROGRAM NAME =

11374                            3511     
11375 00001562 D408              3512             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
11376 00001564 1410              3513             MOV.L   R1,@(0,R4)
11377 00001566 1421              3514             MOV.L   R2,@(4,R4)                              ;
11378                            3515     
11379                            3516     ;       ---------------リアルタイム目標位置-----------
11380 00001568 D407              3517             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
11381 0000156A 1410              3518             MOV.L   R1,@(0,R4)
11382 0000156C 1421              3519             MOV.L   R2,@(4,R4)                              ;
11383                            3520     
11384 0000156E D407              3521             MOV.L   #_POSCTL_RL_PLS,R4                      ;
11385 00001570 1410              3522             MOV.L   R1,@(0,R4)
11386 00001572 1421              3523             MOV.L   R2,@(4,R4)                              ;
11387                            3524             SUB_END
11388                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11389 00001574 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11390                            3525             M_RTS
11391 00001576 000B                   M           RTS                             ;RTSの後ろの
11392 00001578 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11393                            3526     
11394                            3527     
11395                            3528     ;       ***********************************
11396                            3529     ;       ***                             ***
11397                            3530     ;       ***     移動距離と速度          ***
11398                            3531     ;       ***     ふりこ・回転の通常      ***
11399                            3532     ;       ***                             ***
11400                            3533     ;       ***********************************
11401                            3534     ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
11402                            3535     ;       が
11403                            3536     ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
11404                            3537     ;       になっているだけ
11405                            3538     ;
11406                            3539     
11407                                     ***** BEGIN-POOL *****
11408 0000157A 0000                       ALIGNMENT CODE
11409 0000157C 00000000                   DATA FOR SOURCE-LINE 3504
11410 00001580 00000000                   DATA FOR SOURCE-LINE 3508
11411 00001584 00000000                   DATA FOR SOURCE-LINE 3512
11412 00001588 00000000                   DATA FOR SOURCE-LINE 3517
11413 0000158C 00000000                   DATA FOR SOURCE-LINE 3521
11414                                     ***** END-POOL *****
11415 00001590                   3540             .ALIGN  4                               ;
11416 00001590                   3541     _POS_1STEP_DATA_MAK2:
11417                            3542             SUB_START
11418 00001590 4F22                   M           STS.L   PR,@-R15                ;[必要]
11419                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11420                            3543     
11421                            3544             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測を取り込まない
11422 00001592 D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11423 00001594 400B                   M           JSR     @R0                     ;
11424 00001596 0009                   M           NOP                                     ;
11425                            3545     
11426 00001598 D211              3546             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11427 0000159A 6021              3547             MOV.W   @R2,R0                          ;
11428 0000159C 70FF              3548             ADD     #-1,R0                          ;
11429 0000159E 4008              3549             SHLL2   R0                              ;
11430 000015A0 D410              3550             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    98
PROGRAM NAME =

11431 000015A2 024E              3551             MOV.L   @(R0,R4),R2                     ;
11432 000015A4 D110              3552             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11433 000015A6 2122              3553             MOV.L   R2,@R1                          ;
11434                            3554     
11435                            3555             PUSH_REG1       R0
11436 000015A8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11437                                 M                                           ;REG=>[SP]
11438                                 M                                           ;"-4" FF,FF,FF,FC
11439                            3556             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11440 000015AA D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11441 000015AC 410B                   M           JSR     @R1                     ;
11442 000015AE 0009                   M           NOP                                     ;
11443                            3557             POP_REG1        R0                      ;R0=*4
11444                                 M                                   ; RE"+4" 00,00,00,04
11445 000015B0 60F6                   M           MOV.L   @R15+,R0        ;
11446 000015B2 4000              3558             SHLL    R0                              ;*2
11447 000015B4 D40E              3559             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11448 000015B6 340C              3560             ADD     R0,R4                   ;
11449 000015B8 6146              3561             MOV.L   @R4+,R1                 ;
11450 000015BA 6242              3562             MOV.L   @R4,R2                  ;(目標位置)
11451                            3563             FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
11452 000015BC D00D                   M           MOV.L   #_LENGH_ADD_CALC_SV_TYPE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11453 000015BE 400B                   M           JSR     @R0                     ;
11454 000015C0 0009                   M           NOP                                     ;
11455                            3564     
11456 000015C2 233A              3565             XOR     R3,R3                   ;
11457 000015C4 4111              3566             CMP/PZ  R1                      ;+正転?
11458 000015C6 8900              3567             BT      POS_1STEP_DATMK2_050    ;
11459 000015C8 E301              3568             MOV     #BIT0,R3                ;
11460 000015CA                   3569     POS_1STEP_DATMK2_050:
11461 000015CA D10B              3570             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11462 000015CC 6011              3571             MOV.W   @R1,R0                  ;
11463 000015CE C9FE              3572             AND     #LOW ~BIT0,R0           ;
11464 000015D0 203B              3573             OR      R3,R0                   ;
11465 000015D2 2101              3574             MOV.W   R0,@R1                  ;
11466                            3575             SUB_END
11467                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11468 000015D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11469                            3576             M_RTS
11470 000015D6 000B                   M           RTS                             ;RTSの後ろの
11471 000015D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11472                            3577     
11473                            3578     ;       ***********************************
11474                            3579     ;       ***                             ***
11475                            3580     ;       ***     移動距離と速度          ***
11476                            3581     ;       ***                             ***
11477                            3582     ;       ***********************************
11478                            3583     ;;;;;未使用みたい       .ALIGN  4                               ;
11479                            3584     ;;;;;未使用みたい_POS_1STEP_DATA_MAK3:
11480                            3585     ;;;;;未使用みたい       SUB_START
11481                            3586     ;;;;;未使用みたい       FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
11482                            3587     ;;;;;未使用みたい
11483                            3588     ;;;;;未使用みたい       MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11484                            3589     ;;;;;未使用みたい       MOV.W   @R2,R0                          ;
11485                            3590     ;;;;;未使用みたい       ADD     #-1,R0                          ;
11486                            3591     ;;;;;未使用みたい       SHLL2   R0                              ;
11487                            3592     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE    99
PROGRAM NAME =

                                          Y
11488                            3593     ;;;;;未使用みたい       MOV.L   @(R0,R4),R2                     ;
11489                            3594     ;;;;;未使用みたい       MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11490                            3595     ;;;;;未使用みたい       MOV.L   R2,@R1                          ;
11491                            3596     ;;;;;未使用みたい
11492                            3597     ;;;;;未使用みたい       PUSH_REG1       R0
11493                            3598     ;;;;;未使用みたい       FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11494                            3599     ;;;;;未使用みたい       POP_REG1        R0                      ;R0=*4
11495                            3600     ;;;;;未使用みたい       SHLL    R0                              ;*2
11496                            3601     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11497                            3602     ;;;;;未使用みたい       ADD     R0,R4                   ;
11498                            3603     ;;;;;未使用みたい       MOV.L   @R4+,R1                 ;
11499                            3604     ;;;;;未使用みたい       MOV.L   @R4,R2                  ;(目標位置)
11500                            3605     ;;;;;未使用みたい
11501                            3606     ;;;;;未使用みたい       FAR_JSR #_FUL_CLS_LENGH_ADD_CALC,R0
11502                            3607     ;;;;;未使用みたい
11503                            3608     ;;;;;未使用みたい       XOR     R3,R3                   ;
11504                            3609     ;;;;;未使用みたい       CMP/PZ  R1                      ;+正転?
11505                            3610     ;;;;;未使用みたい       BT      POS_1STEP_DATMK3_050    ;
11506                            3611     ;;;;;未使用みたい       MOV     #BIT0,R3                ;
11507                            3612     ;;;;;未使用みたいPOS_1STEP_DATMK3_050:
11508                            3613     ;;;;;未使用みたい       MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11509                            3614     ;;;;;未使用みたい       MOV.W   @R1,R0                  ;
11510                            3615     ;;;;;未使用みたい       AND     #LOW ~BIT0,R0           ;
11511                            3616     ;;;;;未使用みたい       OR      R3,R0                   ;
11512                            3617     ;;;;;未使用みたい       MOV.W   R0,@R1                  ;
11513                            3618     ;;;;;未使用みたい       SUB_END
11514                            3619     ;;;;;未使用みたい       M_RTS
11515                            3620     
11516                            3621     ;       ***********************************
11517                            3622     ;       ***                             ***
11518                            3623     ;       ***     初回起動                ***
11519                            3624     ;       ***                             ***
11520                            3625     ;       ***********************************
11521                            3626     ;
11522                                     ***** BEGIN-POOL *****
11523 000015DA 0000                       ALIGNMENT CODE
11524 000015DC 00000000                   DATA FOR SOURCE-LINE 3544
11525 000015E0 00000000                   DATA FOR SOURCE-LINE 3546
11526 000015E4 00000000                   DATA FOR SOURCE-LINE 3550
11527 000015E8 00000000                   DATA FOR SOURCE-LINE 3552
11528 000015EC 00000000                   DATA FOR SOURCE-LINE 3556
11529 000015F0 00000000                   DATA FOR SOURCE-LINE 3559
11530 000015F4 00000000                   DATA FOR SOURCE-LINE 3563
11531 000015F8 00000000                   DATA FOR SOURCE-LINE 3570
11532                                     ***** END-POOL *****
11533 000015FC                   3627             .ALIGN  4                               ;
11534 000015FC                   3628     _DND_1STEP_DATA_MAK1:
11535                            3629             SUB_START
11536 000015FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11537                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11538 000015FE D10B              3630             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11539 00001600 6212              3631             MOV.L   @R1,R2                          ;
11540                            3632     
11541                            3633             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11542 00001602 D10B                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11543 00001604 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   100
PROGRAM NAME =

11544 00001606 0009                   M           NOP                                     ;
11545                            3634     
11546 00001608 D50A              3635             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;(はじめの起動分はﾒｲﾝで作られている)
11547 0000160A 6152              3636             MOV.L   @R5,R1                          ;
11548 0000160C 5251              3637             MOV.L   @(4,R5),R2                      ;
11549                            3638             FAR_JSR #_LENGH_ADD_CALC,R0             ;ANS R1,R2
11550 0000160E D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11551 00001610 400B                   M           JSR     @R0                     ;
11552 00001612 0009                   M           NOP                                     ;
11553 00001614 233A              3639             XOR     R3,R3                           ;
11554 00001616 4111              3640             CMP/PZ  R1                              ;+正転?
11555 00001618 8900              3641             BT      DND_1STEP_DATMK1_050            ;
11556 0000161A E301              3642             MOV     #BIT0,R3                        ;
11557 0000161C                   3643     DND_1STEP_DATMK1_050:
11558 0000161C D107              3644             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11559 0000161E 6011              3645             MOV.W   @R1,R0                  ;
11560 00001620 C9FE              3646             AND     #LOW ~BIT0,R0           ;
11561 00001622 203B              3647             OR      R3,R0                   ;
11562 00001624 2101              3648             MOV.W   R0,@R1                  ;
11563                            3649             SUB_END
11564                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11565 00001626 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11566                            3650             M_RTS
11567 00001628 000B                   M           RTS                             ;RTSの後ろの
11568 0000162A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11569                            3651     
11570                            3652     
11571                            3653     
11572                            3654     ;       ***********************************
11573                            3655     ;       ***                             ***
11574                            3656     ;       ***     ﾓｰｼｮﾝ全工程             ***
11575                            3657     ;       ***                             ***
11576                            3658     ;       ***********************************
11577                            3659     ;       ======== 停止待ち(速度変更)     0000,0000       ====
11578                            3660     ;       ======== ﾀｲﾏ計測                BIT0            ====
11579                            3661     ;       ======== 再起動/終了            BIT1            ====
11580                            3662     ;       ======== BIT6;終了
11581                                     ***** BEGIN-POOL *****
11582 0000162C 00000000                   DATA FOR SOURCE-LINE 3630
11583 00001630 00000000                   DATA FOR SOURCE-LINE 3633
11584 00001634 00000000                   DATA FOR SOURCE-LINE 3635
11585 00001638 00000000                   DATA FOR SOURCE-LINE 3638
11586 0000163C 00000000                   DATA FOR SOURCE-LINE 3644
11587                                     ***** END-POOL *****
11588 00001640                   3663             .ALIGN  4                               ;
11589 00001640                   3664     _POS_ALL_STEP_CTRL:
11590                            3665             SUB_START
11591 00001640 4F22                   M           STS.L   PR,@-R15                ;[必要]
11592                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11593                            3666     
11594                            3667     ;;;;;;;;;;;;;   2015-11-15 ちゃんとした場所で対応
11595                            3668     ;;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
11596                            3669     ;;;;;;;;;;;;;   MOV.L   #_MODE_SEL,R1                           ;
11597                            3670     ;;;;;;;;;;;;;   MOV.W   @R1,R0                                  ;
11598                            3671     ;;;;;;;;;;;;;   TST     #_W1INC+_W1SGL,R0                       ;
11599                            3672     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND200EXT             ;（段取でもある)
11600                            3673     ;;;;;;;;;;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   101
PROGRAM NAME =

11601                            3674     ;;;;;;;;;;;;;   FAR_JSR #_API_ENDHAND_SIGCHK,R0         ;
11602                            3675     ;;;;;;;;;;;;;   TST     R0,R0                           ;
11603                            3676     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND200EXT     ;
11604                            3677     ;;;;;;;;;;;;;   M_BRA   FORCE_STEPEND_HAND200           ;
11605                            3678     ;;;;;;;;;;;;;FORCE_STEPEND_HAND200EXT
11606                            3679     
11607                            3680     
11608                            3681     ;       ==== 停止した場合、次の工程の起動、工程がなくなれば終わり====
11609                            3682     ;       停止はﾊﾟﾙｽ払出
11610 00001642 D103              3683             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
11611 00001644 6011              3684             MOV.W   @R1,R0                          ;BIT
11612 00001646 C840              3685             TST     #BIT6,R0                        ;
11613                            3686             TST_BIT_OF POS_ALLSTEPCTL_020           ;
11614 00001648 8904                   M           BT      POS_ALLSTEPCTL_020
11615                            3687             M_BRA   POS_ALLSTEPCTL_900              ;位置決め完了
11616 0000164A A2F4                   M           BRA     POS_ALLSTEPCTL_900
11617 0000164C 0009                   M           NOP
11618                            3688     
11619                                     ***** BEGIN-POOL *****
11620 0000164E 0000                       ALIGNMENT CODE
11621 00001650 00000000                   DATA FOR SOURCE-LINE 3683
11622                                     ***** END-POOL *****
11623 00001654                   3689     POS_ALLSTEPCTL_020:
11624 00001654 C803              3690             TST     #(BIT1+BIT0),R0         ;
11625                            3691             TST_BIT_OF POS_ALLSTEPCTL_100   ;BIT0:ﾀｲﾏ制御開始
11626 00001656 8901                   M           BT      POS_ALLSTEPCTL_100
11627                            3692             M_BRA   POS_ALLSTEPCTL_300      ;BIT1:次の回転起動
11628 00001658 A136                   M           BRA     POS_ALLSTEPCTL_300
11629 0000165A 0009                   M           NOP
11630                            3693     
11631 0000165C                   3694     POS_ALLSTEPCTL_100:
11632                            3695     
11633                            3696     
11634                            3697     ;       ----------- 2012-05-17 全モード,(反転)タイマ継続処理CHK---------
11635                            3698             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0             ;
11636 0000165C D003                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11637 0000165E 400B                   M           JSR     @R0                     ;
11638 00001660 0009                   M           NOP                                     ;
11639 00001662 2008              3699             TST     R0,R0                                   ;
11640                            3700             TST_BIT_OF POS_ALLSTEPCTL_101                   ;
11641 00001664 8904                   M           BT      POS_ALLSTEPCTL_101
11642                            3701             M_BRA   POS_ALLSTEPCTL_230                      ;
11643 00001666 A0CB                   M           BRA     POS_ALLSTEPCTL_230
11644 00001668 0009                   M           NOP
11645                            3702     
11646                                     ***** BEGIN-POOL *****
11647 0000166A 0000                       ALIGNMENT CODE
11648 0000166C 00000000                   DATA FOR SOURCE-LINE 3698
11649                                     ***** END-POOL *****
11650 00001670                   3703     POS_ALLSTEPCTL_101:
11651                            3704     
11652                            3705     
11653 00001670 D105              3706             MOV.L   #_CPOS_CTL_MATH,R1                      ;
11654 00001672 6011              3707             MOV.W   @R1,R0                                  ;
11655 00001674 C805              3708             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
11656                            3709             TST_BIT_ON POS_ALLSTEPCTL_120                   ;YES
11657 00001676 8B0D                   M           BF      POS_ALLSTEPCTL_120
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   102
PROGRAM NAME =

11658                            3710     
11659                            3711     
11660                            3712             FAR_JSR #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾌﾙｸﾛｰｽﾞ,ﾌﾙｸﾛｰｽﾞのｵｰﾌﾟﾝ時は中でﾁｪｯ
                                          ｸする
11661 00001678 D004                   M           MOV.L   #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11662 0000167A 400B                   M           JSR     @R0                     ;
11663 0000167C 0009                   M           NOP                                     ;
11664 0000167E 2008              3713             TST     R0,R0                                   ;
11665                            3714             TST_BIT_OF POS_ALLSTEPCTL_105                   ;
11666 00001680 8906                   M           BT      POS_ALLSTEPCTL_105
11667                            3715             M_BRA   POS_ALLSTEPCTL_230                      ;(BIT2=1)
11668 00001682 A0BD                   M           BRA     POS_ALLSTEPCTL_230
11669 00001684 0009                   M           NOP
11670                            3716     
11671                                     ***** BEGIN-POOL *****
11672 00001686 0000                       ALIGNMENT CODE
11673 00001688 00000000                   DATA FOR SOURCE-LINE 3706
11674 0000168C 00000000                   DATA FOR SOURCE-LINE 3712
11675                                     ***** END-POOL *****
11676 00001690                   3717     POS_ALLSTEPCTL_105:
11677                            3718             M_BRA   POS_ALLSTEPCTL_900                      ;
11678 00001690 A2D1                   M           BRA     POS_ALLSTEPCTL_900
11679 00001692 0009                   M           NOP
11680                            3719     
11681 00001694                   3720     POS_ALLSTEPCTL_120:
11682                            3721     ;       ======== 2003-07-01 ======
11683                            3722             FAR_JSR #_BRK_ERR_CHK_START4,R0         ;
11684 00001694 D018                   M           MOV.L   #_BRK_ERR_CHK_START4,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11685 00001696 400B                   M           JSR     @R0                     ;
11686 00001698 0009                   M           NOP                                     ;
11687                            3723     
11688                            3724     
11689                            3725     
11690                            3726     
11691                            3727     ;       ===========================================
11692                            3728     ;       === 回転はニアゼロをチェックする        ===
11693                            3729     ;       ===========================================
11694                            3730             FAR_JSR #_OPEN_ROT_NEAR1_ZERO_CHK,R0    ;
11695 0000169A D018                   M           MOV.L   #_OPEN_ROT_NEAR1_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11696 0000169C 400B                   M           JSR     @R0                     ;
11697 0000169E 0009                   M           NOP                                     ;
11698                            3731     
11699                            3732     
11700                            3733             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
11701 000016A0 D117                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11702 000016A2 410B                   M           JSR     @R1                     ;
11703 000016A4 0009                   M           NOP                                     ;
11704 000016A6 C804              3734             TST     #BIT2,R0                        ;停止?
11705                            3735             TST_BIT_ON POS_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
11706 000016A8 8B5A                   M           BF      POS_ALLSTEPCTL_200
11707                            3736     
11708                            3737     ;       ===========================================
11709                            3738     ;       ===     払出中                          ===
11710                            3739     ;       ===========================================
11711                            3740     
11712                            3741     ;       ===================================================
11713                            3742     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   103
PROGRAM NAME =

11714                            3743     ;       ===================================================
11715                            3744             .AIF    1 EQ 1  ;YES:曲線ﾃｰﾌﾞﾙ(CPUAと同じ) NO:直線タイプ 2013-03-06
11716                            3745 C   ;"CPUBがふりこカーブが有効な場合 遅延時間を生かしSPMを変更できるようにする"
11717                            3746 C   ;;2013-02-08    CPUB_CURVSEL[6]
11718                            3747 C   ;;2013-02-08    CPUA=CPUB=ﾃｰﾌﾞﾙｶｰﾌﾞ時に生かし、遅延時間を有効にする
11719                            3748 C   
11720                            3749 C           FAR_JSR #_DNMODE_ENDWAIT_TIM_SET,R0     ;[[[2013-03-24復活]]]
11721 000016AA D016                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11722 000016AC 400B                   M           JSR     @R0                     ;
11723 000016AE 0009                   M           NOP                                     ;
11724                            3750 C   
11725                            3751             .AENDI
11726                            3752     
11727                            3753     
11728                            3754             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT4),WKREG=R1  ;2012-12-1
                                          0 DEBUG
11729 000016B0 D115                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11730 000016B2 6011                   M           MOV.W   @R1,R0          ;
11731 000016B4 C9EF                   M           AND     #LOW ~(BIT4),R0         ;
11732 000016B6 2101                   M           MOV.W   R0,@R1          ;
11733                            3755     
11734                            3756     ;       ===== 払出中のBUSYﾁｪｯｸ ======
11735                            3757             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
11736 000016B8 D014                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11737 000016BA 400B                   M           JSR     @R0                     ;
11738 000016BC 0009                   M           NOP                                     ;
11739                            3758     ;       ===== 払出中 ======
11740                            3759     ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
11741                            3760             FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
11742 000016BE D014                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11743 000016C0 400B                   M           JSR     @R0                     ;
11744 000016C2 0009                   M           NOP                                     ;
11745                            3761     
11746                            3762     
11747                            3763     ;       ======== 回転の連続・ﾀｲﾏ=0処理====
11748 000016C4 D113              3764             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11749 000016C6 6011              3765             MOV.W   @R1,R0                          ;
11750 000016C8 C801              3766             TST     #BIT0,R0                        ;
11751                            3767             TST_BIT_ON POS_ALLSTEPCTL_190           ;
11752 000016CA 8B3C                   M           BF      POS_ALLSTEPCTL_190
11753                            3768     
11754                            3769     ;       ========== 2004-01-26 連続寸動一工程/連続一工程 ======
11755 000016CC D112              3770             MOV.L   #_WFSYS_OPT_CNT_SEL,R1          ;SEL=1 連寸一、連続一行程有効
11756 000016CE 6011              3771             MOV.W   @R1,R0                          ;
11757 000016D0 8801              3772             CMP/EQ  #1,R0                           ;
11758 000016D2 8B29              3773             BF      POS_ALLSTEPCTL_189              ;
11759                            3774     
11760 000016D4 D111              3775             MOV.L   #_MODE_SEL,R1                   ;
11761 000016D6 6011              3776             MOV.W   @R1,R0                          ;
11762 000016D8 C808              3777             TST     #_W1CNT,R0                      ;
11763                            3778             TST_BIT_OF POS_ALLSTEPCTL_189           ;
11764 000016DA 8925                   M           BT      POS_ALLSTEPCTL_189
11765 000016DC 910A              3779             MOV.W   #(BIT12+BIT11),R1               ;
11766 000016DE 2018              3780             TST     R1,R0                           ;
11767                            3781             TST_BIT_OF POS_ALLSTEPCTL_189           ;(通常連続)
11768 000016E0 8922                   M           BT      POS_ALLSTEPCTL_189
11769                            3782     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   104
PROGRAM NAME =

11770                            3783     
11771                            3784     ;       ==============20071106======================
11772 000016E2 D10F              3785             MOV.L   #_CPOS_BANK_USELFUL,R1          ;大バグ
11773 000016E4 6011              3786             MOV.W   @R1,R0                          ;
11774 000016E6 C801              3787             TST     #BIT0,R0                        ;
11775                            3788             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
11776 000016E8 892C                   M           BT      POS_ALLSTEPCTL_189A
11777                            3789     
11778                            3790     ;;      FAR_JSR #_CCS_STEP_NEXT_CHK,R0          ;
11779                            3791             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;
11780 000016EA D00E                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11781 000016EC 400B                   M           JSR     @R0                     ;
11782 000016EE 0009                   M           NOP                                     ;
11783                            3792             M_BRA   POS_ALLSTEPCTL_190              ;
11784 000016F0 A029                   M           BRA     POS_ALLSTEPCTL_190
11785 000016F2 0009                   M           NOP
11786                            3793     ;       ===========================================
11787                            3794     
11788                            3795     
11789                                     ***** BEGIN-POOL *****
11790 000016F4 1800                       DATA FOR SOURCE-LINE 3779
11791 000016F6 0000                       ALIGNMENT CODE
11792 000016F8 00000000                   DATA FOR SOURCE-LINE 3722
11793 000016FC 00000000                   DATA FOR SOURCE-LINE 3730
11794 00001700 00000000                   DATA FOR SOURCE-LINE 3733
11795 00001704 00000000                   DATA FOR SOURCE-LINE 3749
11796 00001708 00000000                   DATA FOR SOURCE-LINE 3754
11797 0000170C 00000000                   DATA FOR SOURCE-LINE 3757
11798 00001710 00000000                   DATA FOR SOURCE-LINE 3760
11799 00001714 00000000                   DATA FOR SOURCE-LINE 3764
11800 00001718 00000000                   DATA FOR SOURCE-LINE 3770
11801 0000171C 00000000                   DATA FOR SOURCE-LINE 3775
11802 00001720 00000000                   DATA FOR SOURCE-LINE 3785
11803 00001724 00000000                   DATA FOR SOURCE-LINE 3791
11804                                     ***** END-POOL *****
11805 00001728                   3796     POS_ALLSTEPCTL_189:                             ;
11806                            3797     
11807 00001728 D104              3798             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
11808 0000172A 6011              3799             MOV.W   @R1,R0                          ;
11809 0000172C C801              3800             TST     #BIT0,R0                        ;
11810                            3801             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
11811 0000172E 8909                   M           BT      POS_ALLSTEPCTL_189A
11812                            3802             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;(連続の上死点停止なし)
11813 00001730 D003                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11814 00001732 400B                   M           JSR     @R0                     ;
11815 00001734 0009                   M           NOP                                     ;
11816                            3803             M_BRA   POS_ALLSTEPCTL_190              ;
11817 00001736 A006                   M           BRA     POS_ALLSTEPCTL_190
11818 00001738 0009                   M           NOP
11819                            3804     
11820                                     ***** BEGIN-POOL *****
11821 0000173A 0000                       ALIGNMENT CODE
11822 0000173C 00000000                   DATA FOR SOURCE-LINE 3798
11823 00001740 00000000                   DATA FOR SOURCE-LINE 3802
11824                                     ***** END-POOL *****
11825 00001744                   3805     POS_ALLSTEPCTL_189A:                                    ;
11826                            3806     ;;;;未使用      FAR_JSR #_CNT_STEP_NEXT_CHK,R0          ;<ここはくせもの>
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   105
PROGRAM NAME =

11827 00001744 0009              3807             NOP                                             ;安一、寸動、上死点停止付連続、一
                                          工程
11828 00001746                   3808     POS_ALLSTEPCTL_190:                                     ;
11829                            3809     
11830                            3810     ;       ==== 2003-06-13===
11831                            3811             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
11832 00001746 D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11833 00001748 6011                   M           MOV.W   @R1,R0          ;
11834 0000174A C9FE                   M           AND     #LOW ~BIT0,R0           ;
11835 0000174C 2101                   M           MOV.W   R0,@R1          ;
11836                            3812             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
11837 0000174E D003                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11838 00001750 400B                   M           JSR     @R0                     ;
11839 00001752 0009                   M           NOP                                     ;
11840                            3813     
11841                            3814             M_BRA   POS_ALLSTEPCTL_900              ;
11842 00001754 A26F                   M           BRA     POS_ALLSTEPCTL_900
11843 00001756 0009                   M           NOP
11844                            3815     
11845                            3816     ;       ===========================
11846                            3817     ;       ===     払出停止        ===
11847                            3818     ;       ===     回転時          ===
11848                            3819     ;       ===========================
11849                                     ***** BEGIN-POOL *****
11850 00001758 00000000                   DATA FOR SOURCE-LINE 3811
11851 0000175C 00000000                   DATA FOR SOURCE-LINE 3812
11852                                     ***** END-POOL *****
11853 00001760                   3820     POS_ALLSTEPCTL_200:
11854                            3821             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT1,WKREG=R1 ;2012-12-10 DEB
                                          UG
11855 00001760 D112                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11856 00001762 6011                   M           MOV.W   @R1,R0          ;
11857 00001764 CB02                   M           OR      #BIT1,R0                ;
11858 00001766 2101                   M           MOV.W   R0,@R1          ;
11859                            3822     
11860                            3823     
11861 00001768 D111              3824             MOV.L   #_CNT_PLSOUT_STOP_CNT,R1
11862 0000176A 6011              3825             MOV.W   @R1,R0
11863 0000176C 7001              3826             ADD     #1,R0                           ;
11864 0000176E 2101              3827             MOV.W   R0,@R1                          ;
11865                            3828             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0  ;2004-03-03
11866 00001770 D010                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11867 00001772 400B                   M           JSR     @R0                     ;
11868 00001774 0009                   M           NOP                                     ;
11869                            3829     
11870                            3830     
11871 00001776 D110              3831             MOV.L   #_NEAR_IN_FLG,R1                ;
11872 00001778 6011              3832             MOV.W   @R1,R0                          ;
11873 0000177A 2008              3833             TST     R0,R0                           ;
11874                            3834             TST_BIT_ON POS_ALLSTEPCTL_220           ;ﾆｱｾﾞﾛOK
11875 0000177C 8B26                   M           BF      POS_ALLSTEPCTL_220
11876                            3835     
11877                            3836     
11878                            3837             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;ﾆｱｾﾞﾛ代わり
11879 0000177E D00F                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11880 00001780 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   106
PROGRAM NAME =

11881 00001782 0009                   M           NOP                                     ;
11882 00001784 2008              3838             TST     R0,R0
11883                            3839             TST_BIT_OF POS_ALLSTEPCTL_210           ;
11884 00001786 8903                   M           BT      POS_ALLSTEPCTL_210
11885 00001788 D10B              3840             MOV.L   #_NEAR_IN_FLG,R1                ;ﾆｱｾﾞﾛ扱い
11886 0000178A 6011              3841             MOV.W   @R1,R0                          ;
11887 0000178C CB01              3842             OR      #BIT0,R0                        ;
11888 0000178E 2101              3843             MOV.W   R0,@R1                          ;
11889 00001790                   3844     POS_ALLSTEPCTL_210:                             ;
11890                            3845     
11891                            3846             FAR_JSR #_NZ_TIM_CHK1,R0                ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏｶｳﾝﾄﾀﾞｳﾝ
11892 00001790 D00B                   M           MOV.L   #_NZ_TIM_CHK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11893 00001792 400B                   M           JSR     @R0                     ;
11894 00001794 0009                   M           NOP                                     ;
11895                            3847     
11896                            3848     
11897                            3849     ;       -----------2012-03-06ｲﾝﾎﾟｼﾞ異常ﾁｪｯｸ------------------------------
11898 00001796 D10B              3850             MOV.L   #_NZ_TIM_OUT_PV2,R1                                     ;
11899 00001798 6011              3851             MOV.W   @R1,R0                                                  ;
11900 0000179A 2008              3852             TST     R0,R0                                                   ;
11901                            3853             TST_BIT_ON POS_ALLSTEPCTL_211                                   ;
11902 0000179C 8B03                   M           BF      POS_ALLSTEPCTL_211
11903                            3854             MEM1_BIT0_TO_BIT7_ORSET MEM=_INP_ERR_FLG,LG=W,BIT=BIT0,WKREG=R1 ;
11904 0000179E D10A                   M           MOV.L   #_INP_ERR_FLG,R1                ;
11905 000017A0 6011                   M           MOV.W   @R1,R0          ;
11906 000017A2 CB01                   M           OR      #BIT0,R0                ;
11907 000017A4 2101                   M           MOV.W   R0,@R1          ;
11908 000017A6                   3855     POS_ALLSTEPCTL_211:                                                     ;
11909                            3856     
11910                            3857             M_BRA   POS_ALLSTEPCTL_900              ;
11911 000017A6 A246                   M           BRA     POS_ALLSTEPCTL_900
11912 000017A8 0009                   M           NOP
11913                            3858     
11914                                     ***** BEGIN-POOL *****
11915 000017AA 0000                       ALIGNMENT CODE
11916 000017AC 00000000                   DATA FOR SOURCE-LINE 3821
11917 000017B0 00000000                   DATA FOR SOURCE-LINE 3824
11918 000017B4 00000000                   DATA FOR SOURCE-LINE 3828
11919 000017B8 00000000                   DATA FOR SOURCE-LINE 3831,3840
11920 000017BC 00000000                   DATA FOR SOURCE-LINE 3837
11921 000017C0 00000000                   DATA FOR SOURCE-LINE 3846
11922 000017C4 00000000                   DATA FOR SOURCE-LINE 3850
11923 000017C8 00000000                   DATA FOR SOURCE-LINE 3854
11924                                     ***** END-POOL *****
11925 000017CC                   3859     POS_ALLSTEPCTL_220:
11926                            3860     
11927                            3861     ;       ===================================================
11928                            3862     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
11929                            3863     ;       ===================================================
11930                            3864     
11931                            3865     ;;;;    ===========================================
11932                            3866     ;;;;    ===     ふりこの終了遅延ﾀｲﾏ2013-02-08   ===
11933                            3867     ;;;;    ===     CPUB_CURVSEL[5]                 ===
11934                            3868     ;;;;    ===========================================
11935                            3869             FAR_JSR #_DNMODE_ENDWAIT_TIM_CHK,R0     ;[[[2013-03-24復活]]]
11936 000017CC D003                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11937 000017CE 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   107
PROGRAM NAME =

11938 000017D0 0009                   M           NOP                                     ;
11939 000017D2 2008              3870             TST     R0,R0                           ;[[[2013-03-24復活]]]
11940                            3871             TST_BIT_OF POS_ALLSTEPCTL_225           ;[[[2013-03-24復活]]]
11941 000017D4 8904                   M           BT      POS_ALLSTEPCTL_225
11942                            3872             M_BRA   POS_ALLSTEPCTL_900              ;[[[2013-03-24復活]]]
11943 000017D6 A22E                   M           BRA     POS_ALLSTEPCTL_900
11944 000017D8 0009                   M           NOP
11945                            3873     
11946                                     ***** BEGIN-POOL *****
11947 000017DA 0000                       ALIGNMENT CODE
11948 000017DC 00000000                   DATA FOR SOURCE-LINE 3869
11949                                     ***** END-POOL *****
11950 000017E0                   3874     POS_ALLSTEPCTL_225:
11951                            3875     
11952                            3876     ;       =====================================================
11953                            3877     
11954                            3878     
11955                            3879             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT2,WKREG=R1 ;2012-12-10 DEB
                                          UG
11956 000017E0 D105                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11957 000017E2 6011                   M           MOV.W   @R1,R0          ;
11958 000017E4 CB04                   M           OR      #BIT2,R0                ;
11959 000017E6 2101                   M           MOV.W   R0,@R1          ;
11960                            3880     
11961                            3881             FAR_JSR #_CMPAB_NEAR_END_PROC,R0        ;ｵｰﾌﾟﾝ時ﾆｱｾﾞﾛの終わり
11962 000017E8 D004                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11963 000017EA 400B                   M           JSR     @R0                     ;
11964 000017EC 0009                   M           NOP                                     ;
11965 000017EE 2008              3882             TST     R0,R0                           ;
11966                            3883             TST_BIT_ON POS_ALLSTEPCTL_230           ;
11967 000017F0 8B06                   M           BF      POS_ALLSTEPCTL_230
11968                            3884             M_BRA   POS_ALLSTEPCTL_900              ;
11969 000017F2 A220                   M           BRA     POS_ALLSTEPCTL_900
11970 000017F4 0009                   M           NOP
11971                            3885     
11972                                     ***** BEGIN-POOL *****
11973 000017F6 0000                       ALIGNMENT CODE
11974 000017F8 00000000                   DATA FOR SOURCE-LINE 3879
11975 000017FC 00000000                   DATA FOR SOURCE-LINE 3881
11976                                     ***** END-POOL *****
11977 00001800                   3886     POS_ALLSTEPCTL_230:
11978                            3887     
11979                            3888     ;       ===============================================
11980                            3889             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT3,WKREG=R1 ;2012-12-10 DEB
                                          UG
11981 00001800 D121                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11982 00001802 6011                   M           MOV.W   @R1,R0          ;
11983 00001804 CB08                   M           OR      #BIT3,R0                ;
11984 00001806 2101                   M           MOV.W   R0,@R1          ;
11985                            3890             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
11986 00001808 D120                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11987 0000180A 6011                   M           MOV.W   @R1,R0          ;
11988 0000180C C9FE                   M           AND     #LOW ~BIT0,R0           ;
11989 0000180E 2101                   M           MOV.W   R0,@R1          ;
11990                            3891     
11991                            3892     ;       =====================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   108
PROGRAM NAME =

11992                            3893     ;       ===== 状態遷移時=====
11993                            3894     ;       =====================
11994                            3895     ;       ==========================
11995                            3896     ;       ===== ﾌﾙｸﾛｰｽﾞ信号ｸﾘｱ======
11996                            3897     ;       ==========================
11997                            3898             FAR_JSR #_FUL_DATA_INIT,R0      ;R0,R1 USED
11998 00001810 D01F                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11999 00001812 400B                   M           JSR     @R0                     ;
12000 00001814 0009                   M           NOP                                     ;
12001                            3899     ;       ===============================================
12002                            3900             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
12003 00001816 D11F                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
12004 00001818 6011                   M           MOV.W   @R1,R0          ;
12005 0000181A C9FE                   M           AND     #LOW ~BIT0,R0           ;
12006 0000181C 2101                   M           MOV.W   R0,@R1          ;
12007                            3901     ;       ===============================================
12008                            3902             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾌﾗｸﾞｸﾘｱしたい
12009 0000181E D01E                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12010 00001820 400B                   M           JSR     @R0                     ;
12011 00001822 0009                   M           NOP                                     ;
12012                            3903     ;       ===============================================
12013                            3904             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
12014 00001824 D01D                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12015 00001826 400B                   M           JSR     @R0                     ;
12016 00001828 0009                   M           NOP                                     ;
12017                            3905     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
12018                            3906             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
12019 0000182A D118                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
12020 0000182C 6011                   M           MOV.W   @R1,R0          ;
12021 0000182E C9FE                   M           AND     #LOW ~BIT0,R0           ;
12022 00001830 2101                   M           MOV.W   R0,@R1          ;
12023                            3907     
12024                            3908     
12025 00001832 D21B              3909             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
12026 00001834 6021              3910             MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
12027 00001836 70FF              3911             ADD     #-1,R0                  ;
12028 00001838 D41A              3912             MOV.L   #_CPOS_SDAT1_TIM,R4     ;
12029 0000183A 4008              3913             SHLL2   R0                      ;
12030 0000183C 014E              3914             MOV.L   @(R0,R4),R1             ;
12031                            3915     
12032                            3916     ;       ----------------------------
12033 0000183E D41A              3917             MOV.L   #_MOT_REP_F,R4                  ;//BIT0(ﾘﾋﾟｰﾄ動作
12034 00001840 6041              3918             MOV.W   @R4,R0                          ;
12035 00001842 C801              3919             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ動作直後の停止
12036                            3920             TST_BIT_OF POS_ALLSTEPCTL_REP231        ;
12037 00001844 8900                   M           BT      POS_ALLSTEPCTL_REP231
12038 00001846 211A              3921             XOR     R1,R1                           ;
12039 00001848                   3922     POS_ALLSTEPCTL_REP231:                          ;
12040                            3923     
12041                            3924     
12042                            3925     
12043                            3926     
12044                            3927     
12045                            3928     
12046                            3929     
12047                            3930     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   109
PROGRAM NAME =

12048                            3931     
12049 00001848 D418              3932             MOV.L   #_MODE_SEL,R4           ;
12050 0000184A 6041              3933             MOV.W   @R4,R0                  ;
12051 0000184C C808              3934             TST     #_W1CNT,R0              ;
12052                            3935             TST_BIT_ON POS_ALLSTEPCTL_280   ;
12053 0000184E 8B07                   M           BF      POS_ALLSTEPCTL_280
12054                            3936     
12055                            3937     ;       == 連続以外は最終工程は0固定 ==
12056                            3938     
12057 00001850 D213              3939             MOV.L   #_INT_POS_CTL_STEP,R2   ;1~5,6
12058 00001852 6021              3940             MOV.W   @R2,R0                  ;
12059 00001854 D216              3941             MOV.L   #_CPOS_STEP_MAX,R2      ;
12060 00001856 6421              3942             MOV.W   @R2,R4                  ;
12061 00001858 7401              3943             ADD     #1,R4                   ;
12062 0000185A 3400              3944             CMP/EQ  R0,R4                   ;R0 =< R4(MAX)
12063 0000185C 8B00              3945             BF      POS_ALLSTEPCTL_280      ;最終工程ではない
12064 0000185E 211A              3946             XOR     R1,R1                   ;最終工程
12065 00001860                   3947     POS_ALLSTEPCTL_280:                     ;
12066                            3948     
12067                            3949             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
12068                            3950 C   ;2015-03-15
12069 00001860 D014              3951 C           MOV.L   #_FULCLS_TIM_SETFLG,R0          ;
12070 00001862 6001              3952 C           MOV.W   @R0,R0                          ;
12071 00001864 C802              3953 C           TST     #BIT1,R0                        ;
12072                            3954 C           TST_BIT_OF POS_ALLSTEPCTL_285           ;
12073 00001866 8900                   M           BT      POS_ALLSTEPCTL_285
12074 00001868 211A              3955 C           XOR     R1,R1                           ;ﾀｲﾏ=0にする
12075 0000186A                   3956 C   POS_ALLSTEPCTL_285:                             ;
12076                            3957             .AENDI
12077                            3958     
12078                            3959     ;       input R1
12079                            3960             FAR_JSR #_DURING_TIM_PRESET_CALC,R0     ;2014-05-30 ﾀｲﾏ継続
12080 0000186A D013                   M           MOV.L   #_DURING_TIM_PRESET_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12081 0000186C 400B                   M           JSR     @R0                     ;
12082 0000186E 0009                   M           NOP                                     ;
12083                            3961     ;;;2014-05-30   MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
12084                            3962     ;;;2014-05-30   MOV.L   R1,@R4                                                          ;
12085                            3963     
12086                            3964             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
12087 00001870 D112                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12088 00001872 6011                   M           MOV.W   @R1,R0          ;
12089 00001874 CB01                   M           OR      #BIT0,R0                ;
12090 00001876 2101                   M           MOV.W   R0,@R1          ;
12091                            3965     
12092                            3966     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
12093                            3967             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
12094                            3968 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
12095 00001878 D011                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12096 0000187A 400B                   M           JSR     @R0                     ;
12097 0000187C 0009                   M           NOP                                     ;
12098                            3969             .AENDI
12099                            3970     
12100                            3971     ;       ===================
12101                            3972     ;       ===     CAM1    ===
12102                            3973     ;       ===================
12103                            3974             FAR_JSR #_CAM_1STEP_END_SIG1,R0 ;
12104 0000187E D011                   M           MOV.L   #_CAM_1STEP_END_SIG1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   110
PROGRAM NAME =

12105 00001880 400B                   M           JSR     @R0                     ;
12106 00001882 0009                   M           NOP                                     ;
12107                            3975             M_BRA   POS_ALLSTEPCTL_900      ;
12108 00001884 A1D7                   M           BRA     POS_ALLSTEPCTL_900
12109 00001886 0009                   M           NOP
12110                            3976     
12111                            3977     
12112                            3978     ;       ====<<<<2段目以降の起動処理>>>====
12113                                     ***** BEGIN-POOL *****
12114 00001888 00000000                   DATA FOR SOURCE-LINE 3889
12115 0000188C 00000000                   DATA FOR SOURCE-LINE 3890,3906
12116 00001890 00000000                   DATA FOR SOURCE-LINE 3898
12117 00001894 00000000                   DATA FOR SOURCE-LINE 3900
12118 00001898 00000000                   DATA FOR SOURCE-LINE 3902
12119 0000189C 00000000                   DATA FOR SOURCE-LINE 3904
12120 000018A0 00000000                   DATA FOR SOURCE-LINE 3909,3939
12121 000018A4 00000000                   DATA FOR SOURCE-LINE 3912
12122 000018A8 00000000                   DATA FOR SOURCE-LINE 3917
12123 000018AC 00000000                   DATA FOR SOURCE-LINE 3932
12124 000018B0 00000000                   DATA FOR SOURCE-LINE 3941
12125 000018B4 00000000                   DATA FOR SOURCE-LINE 3951
12126 000018B8 00000000                   DATA FOR SOURCE-LINE 3960
12127 000018BC 00000000                   DATA FOR SOURCE-LINE 3964
12128 000018C0 00000000                   DATA FOR SOURCE-LINE 3968
12129 000018C4 00000000                   DATA FOR SOURCE-LINE 3974
12130                                     ***** END-POOL *****
12131 000018C8                   3979     POS_ALLSTEPCTL_300:
12132 000018C8 C802              3980             TST     #BIT1,R0                ;
12133                            3981             TST_BIT_ON POS_ALLSTEPCTL_400   ;
12134 000018CA 8B3B                   M           BF      POS_ALLSTEPCTL_400
12135                            3982     
12136                            3983     ;       ==== 各段一旦停止機能====
12137 000018CC D106              3984             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
12138 000018CE 6011              3985             MOV.W   @R1,R0                          ;
12139 000018D0 9408              3986             MOV.W   #BIT13,R4                       ;
12140 000018D2 2048              3987             TST     R4,R0                           ;
12141                            3988             TST_BIT_OF POS_ALLSTEPCTL_310           ;
12142 000018D4 890C                   M           BT      POS_ALLSTEPCTL_310
12143                            3989             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4
12144 000018D6 D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
12145 000018D8 6011                   M           MOV.W   @R1,R0          ;
12146 000018DA 9404                   M           MOV.W   #(BIT9),R4              ;
12147 000018DC 204B                   M           OR      R4,R0           ;
12148 000018DE 2101                   M           MOV.W   R0,@R1          ;
12149                            3990             M_BRA   POS_ALLSTEPCTL_900              ;
12150 000018E0 A1A9                   M           BRA     POS_ALLSTEPCTL_900
12151 000018E2 0009                   M           NOP
12152                            3991     
12153                                     ***** BEGIN-POOL *****
12154 000018E4 2000                       DATA FOR SOURCE-LINE 3986
12155 000018E6 0200                       DATA FOR SOURCE-LINE 3989
12156 000018E8 00000000                   DATA FOR SOURCE-LINE 3984
12157 000018EC 00000000                   DATA FOR SOURCE-LINE 3989
12158                                     ***** END-POOL *****
12159 000018F0                   3992     POS_ALLSTEPCTL_310:
12160                            3993             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
12161 000018F0 D10A                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   111
PROGRAM NAME =

12162 000018F2 6011                   M           MOV.W   @R1,R0          ;
12163 000018F4 9411                   M           MOV.W   #LWORD (~BIT9),R4       ;
12164 000018F6 2049                   M           AND     R4,R0           ;
12165 000018F8 2101                   M           MOV.W   R0,@R1          ;
12166                            3994     
12167                            3995     
12168                            3996     ;       --------反転及び全動作 タイマ計測から再開
12169                            3997             MEM1_BIT0_TO_BIT7_ORSET MEM=_DURING_TIM_FX,LG=W,BIT=BIT0,WKREG=R1       ;する
12170 000018FA D109                   M           MOV.L   #_DURING_TIM_FX,R1              ;
12171 000018FC 6011                   M           MOV.W   @R1,R0          ;
12172 000018FE CB01                   M           OR      #BIT0,R0                ;
12173 00001900 2101                   M           MOV.W   R0,@R1          ;
12174                            3998     
12175                            3999             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
12176 00001902 D108                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
12177 00001904 6412                   M           MOV.L   @R1,R4          ;
12178 00001906 2448                   M           TST     R4,R4                   ;
12179 00001908 8901                   M           BT      JMP_0100004                     ;ZERO THEN JUMP
12180 0000190A 4410                   M           DT      R4                              ;
12181 0000190C 2142                   M           MOV.L   R4,@R1          ;STORE
12182 0000190E                        M   JMP_0100004:
12183                            4000     
12184 0000190E D405              4001             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
12185 00001910 6142              4002             MOV.L   @R4,R1                  ;
12186 00001912 2118              4003             TST     R1,R1                   ;
12187                            4004             TST_BIT_OF POS_ALLSTEPCTL_320   ;
12188 00001914 8908                   M           BT      POS_ALLSTEPCTL_320
12189                            4005             M_BRA   POS_ALLSTEPCTL_900      ;
12190 00001916 A18E                   M           BRA     POS_ALLSTEPCTL_900
12191 00001918 0009                   M           NOP
12192                            4006     
12193                                     ***** BEGIN-POOL *****
12194 0000191A FDFF                       DATA FOR SOURCE-LINE 3993
12195 0000191C 00000000                   DATA FOR SOURCE-LINE 3993
12196 00001920 00000000                   DATA FOR SOURCE-LINE 3997
12197 00001924 00000000                   DATA FOR SOURCE-LINE 3999,4001
12198                                     ***** END-POOL *****
12199 00001928                   4007     POS_ALLSTEPCTL_320:
12200                            4008     ;;;     ===================
12201                            4009     ;;;     ===     CAM2    ===
12202                            4010     ;;;     ===================
12203                            4011     ;;;     FAR_JSR #_CAM_1STEP_END_SIG2,R0 ;
12204                            4012     
12205                            4013             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
12206 00001928 D104                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12207 0000192A 6011                   M           MOV.W   @R1,R0          ;
12208 0000192C CB02                   M           OR      #BIT1,R0                ;
12209 0000192E 2101                   M           MOV.W   R0,@R1          ;
12210                            4014     
12211                            4015     ;       --------反転及び全モードタイマ時はタイマ処理から再開をクリア[2/]------
12212                            4016             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
12213 00001930 200A                   M           XOR     R0,R0           ;
12214 00001932 D103                   M           MOV.L   #_DURING_TIM_FX,R1      ;
12215 00001934 2101                   M           MOV.W   R0,@R1          ;
12216                            4017             M_BRA   POS_ALLSTEPCTL_900                      ;
12217 00001936 A17E                   M           BRA     POS_ALLSTEPCTL_900
12218 00001938 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   112
PROGRAM NAME =

12219                            4018     
12220                            4019     
12221                            4020     ;       ======= 次の起動の演算または終了の判断=====
12222                                     ***** BEGIN-POOL *****
12223 0000193A 0000                       ALIGNMENT CODE
12224 0000193C 00000000                   DATA FOR SOURCE-LINE 4013
12225 00001940 00000000                   DATA FOR SOURCE-LINE 4016
12226                                     ***** END-POOL *****
12227 00001944                   4021     POS_ALLSTEPCTL_400:
12228                            4022              .AIF   1 EQ 1  ;
12229                            4023 C   ;       -------- 2016-10-31 ADD 二重回路対策
12230                            4024              .AENDI
12231                            4025     
12232                            4026     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
12233 00001944 D110              4027             MOV.L   #_CMPSTEP_STEP_END,R1           ;
12234 00001946 6011              4028             MOV.W   @R1,R0                          ;
12235 00001948 2008              4029             TST     R0,R0                           ;
12236                            4030             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
12237 0000194A 8B12                   M           BF      POS_ALLSTEPCTL_415
12238                            4031     
12239                            4032     ;       --2016-10-31(2016-08-12)(CMPERR対策)---------
12240 0000194C D10F              4033             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
12241 0000194E 6011              4034             MOV.W   @R1,R0                          ;
12242 00001950 2008              4035             TST     R0,R0                           ;
12243                            4036             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
12244 00001952 8B0E                   M           BF      POS_ALLSTEPCTL_415
12245                            4037     
12246                            4038     
12247                            4039     
12248                            4040     ;       === ﾌﾙｸﾛｰｽﾞ・回転共にこれで止める　連続・回転・停止なしのみここ以外
12249 00001954 D10E              4041             MOV.L   #_MODE_SEL,R1                   ;
12250 00001956 6011              4042             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
12251 00001958 C808              4043             TST     #_W1CNT,R0                      ;
12252                            4044             TST_BIT_OF POS_ALLSTEPCTL_415           ;
12253 0000195A 890A                   M           BT      POS_ALLSTEPCTL_415
12254                            4045     
12255                            4046     ;       ===== 2004-12-20 ===
12256 0000195C D10D              4047             MOV.L   #_CPOS_MOD_FLG1,R1              ;
12257 0000195E 6011              4048             MOV.W   @R1,R0                          ;
12258 00001960 C804              4049             TST     #BIT2,R0                        ;
12259                            4050             TST_BIT_ON POS_ALLSTEPCTL_415           ;
12260 00001962 8B06                   M           BF      POS_ALLSTEPCTL_415
12261                            4051     
12262 00001964 D10C              4052             MOV.L   #_STOP_LATCH_B,R1               ;
12263 00001966 6011              4053             MOV.W   @R1,R0                          ;
12264 00001968 2008              4054             TST     R0,R0                           ;
12265                            4055             TST_BIT_OF POS_ALLSTEPCTL_415           ;
12266 0000196A 8902                   M           BT      POS_ALLSTEPCTL_415
12267                            4056             FAR_JSR #_STOP_LTH_OUT,R0               ;自分を止めるのが目的
12268 0000196C D00B                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12269 0000196E 400B                   M           JSR     @R0                     ;
12270 00001970 0009                   M           NOP                                     ;
12271                            4057     
12272 00001972                   4058     POS_ALLSTEPCTL_415:                             ;
12273                            4059     
12274                            4060     ;       ===================================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   113
PROGRAM NAME =

12275                            4061     ;       ===     二重回路対策            ===
12276                            4062     ;       ===     工程完了                ===
12277                            4063     ;       ===================================
12278                            4064     ;;;;;;;;;;;;;FORCE_STEPEND_HAND200:                             ;[2015-04-08]
12279                            4065     
12280                            4066              .AIF   1 EQ 1  ;
12281                            4067 C   ;       -------- 2016-10-31 ADD 二重回路対策
12282                            4068              .AENDI
12283 00001972 9008              4069             MOV.W   #D'5,R0                         ;CPUAがCPUBの開始に反応しないかどうかの確
                                          認(2016-08-26)
12284 00001974 D105              4070             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
12285 00001976 2101              4071             MOV.W   R0,@R1                          ;ﾊﾝﾄﾞｼｪｲｸ終了後2msecだけ停止釦を検知しない
12286                            4072     
12287                            4073             FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
12288 00001978 D009                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12289 0000197A 400B                   M           JSR     @R0                     ;
12290 0000197C 0009                   M           NOP                                     ;
12291 0000197E 2008              4074             TST     R0,R0                           ;
12292                            4075             TST_BIT_ON POS_ALLSTEPCTL_420           ;
12293 00001980 8B10                   M           BF      POS_ALLSTEPCTL_420
12294                            4076             M_BRA   POS_ALLSTEPCTL_900              ;
12295 00001982 A158                   M           BRA     POS_ALLSTEPCTL_900
12296 00001984 0009                   M           NOP
12297                                     ***** BEGIN-POOL *****
12298 00001986 0005                       DATA FOR SOURCE-LINE 4069
12299 00001988 00000000                   DATA FOR SOURCE-LINE 4027
12300 0000198C 00000000                   DATA FOR SOURCE-LINE 4033,4070
12301 00001990 00000000                   DATA FOR SOURCE-LINE 4041
12302 00001994 00000000                   DATA FOR SOURCE-LINE 4047
12303 00001998 00000000                   DATA FOR SOURCE-LINE 4052
12304 0000199C 00000000                   DATA FOR SOURCE-LINE 4056
12305 000019A0 00000000                   DATA FOR SOURCE-LINE 4073
12306                                     ***** END-POOL *****
12307 000019A4                   4077     POS_ALLSTEPCTL_420:                             ;
12308                            4078             FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
12309 000019A4 D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12310 000019A6 400B                   M           JSR     @R0                     ;
12311 000019A8 0009                   M           NOP                                     ;
12312                            4079     
12313                            4080     ;       ===================
12314                            4081     ;       ===     CAM2    ===
12315                            4082     ;       ===================
12316                            4083             FAR_JSR #_CAM_1STEP_END_SIG2,R0         ;
12317 000019AA D00B                   M           MOV.L   #_CAM_1STEP_END_SIG2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12318 000019AC 400B                   M           JSR     @R0                     ;
12319 000019AE 0009                   M           NOP                                     ;
12320                            4084     
12321                            4085     
12322                            4086     ;       ====== 次の工程演算[繰り返しCHK] ======
12323                            4087             FAR_JSR #_MOT_REP_STEPCHK,R0            ;ﾘﾋﾟｰﾄ開始(通常工程->ﾘﾋﾟｰﾄ戻工程,ﾘﾋﾟｰﾄ戻->
                                          ﾘﾋﾟｰﾄ開始工程)
12324 000019B0 D00A                   M           MOV.L   #_MOT_REP_STEPCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12325 000019B2 400B                   M           JSR     @R0                     ;
12326 000019B4 0009                   M           NOP                                     ;
12327                            4088     
12328 000019B6 D50A              4089             MOV.L   #_MOT_REP_F,R5                  ;//BIT1(ﾚﾋﾟｰﾄ演算しろ),BIT2(ﾘﾋﾟｰﾄ戻実行中)
12329 000019B8 6051              4090             MOV.W   @R5,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   114
PROGRAM NAME =

12330 000019BA C804              4091             TST     #BIT2,R0                        ;
12331                            4092             TST_BIT_OF POS_ALLSTEPCTL_428           ;ﾘﾋﾟｰﾄから通常の開始工程に切り替えろ?
12332 000019BC 8918                   M           BT      POS_ALLSTEPCTL_428
12333 000019BE C901              4093             AND     #(BIT0),R0                      ;BIT3,BIT2:CLR
12334 000019C0 2501              4094             MOV.W   R0,@R5                          ;
12335 000019C2 D408              4095             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
12336 000019C4 6141              4096             MOV.W   @R4,R1                          ;
12337 000019C6 D508              4097             MOV.L   #_INT_POS_CTL_STEP,R5           ;//内部制御工程1~11
12338 000019C8 2511              4098             MOV.W   R1,@R5                          ;
12339 000019CA D008              4099             MOV.L   #_SV_POS_CTL_STEP,R0            ;//1msec 制御上の見かけ
12340 000019CC 2011              4100             MOV.W   R1,@R0                          ;
12341                            4101             M_BRA   POS_ALLSTEPCTL_580              ;工程番号から位置演算
12342 000019CE A090                   M           BRA     POS_ALLSTEPCTL_580
12343 000019D0 0009                   M           NOP
12344                            4102     
12345                            4103     
12346                                     ***** BEGIN-POOL *****
12347 000019D2 0000                       ALIGNMENT CODE
12348 000019D4 00000000                   DATA FOR SOURCE-LINE 4078
12349 000019D8 00000000                   DATA FOR SOURCE-LINE 4083
12350 000019DC 00000000                   DATA FOR SOURCE-LINE 4087
12351 000019E0 00000000                   DATA FOR SOURCE-LINE 4089
12352 000019E4 00000000                   DATA FOR SOURCE-LINE 4095
12353 000019E8 00000000                   DATA FOR SOURCE-LINE 4097
12354 000019EC 00000000                   DATA FOR SOURCE-LINE 4099
12355                                     ***** END-POOL *****
12356 000019F0                   4104     POS_ALLSTEPCTL_428
12357 000019F0 C802              4105             TST     #BIT1,R0                        ;
12358                            4106             TST_BIT_OF POS_ALLSTEPCTL_430           ;
12359 000019F2 890D                   M           BT      POS_ALLSTEPCTL_430
12360 000019F4 C901              4107             AND     #(BIT0),R0                      ;BIT1:CLR BIT3:ふりこ時に使用される
12361 000019F6 2501              4108             MOV.W   R0,@R5                          ;
12362                            4109     
12363                            4110             FAR_JSR #_DEBUG_BRK_POINT2,R0           ;
12364 000019F8 D003                   M           MOV.L   #_DEBUG_BRK_POINT2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12365 000019FA 400B                   M           JSR     @R0                     ;
12366 000019FC 0009                   M           NOP                                     ;
12367                            4111     
12368                            4112             FAR_JSR #_MOT_REPSTART_CALC,R0          ;
12369 000019FE D003                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12370 00001A00 400B                   M           JSR     @R0                     ;
12371 00001A02 0009                   M           NOP                                     ;
12372                            4113             M_BRA   POS_ALLSTEPCTL_590              ;位置演算後の処理
12373 00001A04 A0BB                   M           BRA     POS_ALLSTEPCTL_590
12374 00001A06 0009                   M           NOP
12375                            4114     
12376                            4115     
12377                                     ***** BEGIN-POOL *****
12378 00001A08 00000000                   DATA FOR SOURCE-LINE 4110
12379 00001A0C 00000000                   DATA FOR SOURCE-LINE 4112
12380                                     ***** END-POOL *****
12381 00001A10                   4116     POS_ALLSTEPCTL_430:                             ;
12382                            4117     ;       ====== 次の工程演算 ======
12383 00001A10 D509              4118             MOV.L   #_INT_POS_CTL_STEP,R5   ;//内部制御工程1~11
12384 00001A12 6051              4119             MOV.W   @R5,R0                  ;
12385 00001A14 70FF              4120             ADD     #-1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   115
PROGRAM NAME =

12386 00001A16 4008              4121             SHLL2   R0                      ;
12387 00001A18 D708              4122             MOV.L   #_CPOS_SDAT1_CNTSTEP,R7 ;
12388 00001A1A 017E              4123             MOV.L   @(R0,R7),R1             ;この工程の最後のｽﾃｯﾌﾟ
12389 00001A1C D608              4124             MOV.L   #_CPOS_STEP_MAX,R6      ;//設定
12390 00001A1E 6461              4125             MOV.W   @R6,R4                  ;
12391 00001A20 7401              4126             ADD     #1,R4                   ;
12392 00001A22 3142              4127             CMP/HS  R4,R1                   ;R4=(<)R1:NOW 最終工程?
12393 00001A24 8912              4128             BT      POS_ALLSTEPCTL_450      ;YES 最終工程だった JUMP
12394 00001A26 7101              4129             ADD     #1,R1                   ;
12395 00001A28 2511              4130             MOV.W   R1,@R5                  ;NEXT ｾｯﾄ
12396                            4131     
12397                            4132     ;       =======================================
12398 00001A2A D406              4133             MOV.L   #_CAM_CNT_CHG_FLG,R4            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
12399 00001A2C 200A              4134             XOR     R0,R0                           ;
12400 00001A2E 2401              4135             MOV.W   R0,@R4                          ;
12401                            4136     ;       =========================================
12402                            4137     
12403                            4138     ;       =================================================
12404 00001A30 D005              4139             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
12405 00001A32 2011              4140             MOV.W   R1,@R0                  ;
12406                            4141     ;       ================================================
12407                            4142     ;       === 次の工程への処理===         ;
12408                            4143             M_BRA   POS_ALLSTEPCTL_580      ;
12409 00001A34 A05D                   M           BRA     POS_ALLSTEPCTL_580
12410 00001A36 0009                   M           NOP
12411                            4144     
12412                            4145     ;====通常の安一等の最終工程,連続停止の最終行程もここ 2004-03-03
12413                                     ***** BEGIN-POOL *****
12414 00001A38 00000000                   DATA FOR SOURCE-LINE 4118
12415 00001A3C 00000000                   DATA FOR SOURCE-LINE 4122
12416 00001A40 00000000                   DATA FOR SOURCE-LINE 4124
12417 00001A44 00000000                   DATA FOR SOURCE-LINE 4133
12418 00001A48 00000000                   DATA FOR SOURCE-LINE 4139
12419                                     ***** END-POOL *****
12420 00001A4C                   4146     POS_ALLSTEPCTL_450:
12421                            4147             FAR_JSR #_MOTION_CYCLE_END,R0           ;
12422 00001A4C D00D                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12423 00001A4E 400B                   M           JSR     @R0                     ;
12424 00001A50 0009                   M           NOP                                     ;
12425                            4148     
12426                            4149             .AIF    0 EQ    0
12427                            4150 C           FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
12428 00001A52 D00D                   M           MOV.L   #_API_IVW_CYC_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12429 00001A54 400B                   M           JSR     @R0                     ;
12430 00001A56 0009                   M           NOP                                     ;
12431                            4151 C   
12432                            4152             .AENDI
12433                            4153     
12434                            4154             FAR_JSR #_MOTION_CYCLE_ED2,R0           ;連続のVﾓｰﾄﾞがここを通過している
12435 00001A58 D00C                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12436 00001A5A 400B                   M           JSR     @R0                     ;
12437 00001A5C 0009                   M           NOP                                     ;
12438                            4155             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
12439 00001A5E D00C                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12440 00001A60 400B                   M           JSR     @R0                     ;
12441 00001A62 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   116
PROGRAM NAME =

12442                            4156     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT1,R0
12443                            4157     
12444                            4158     
12445                            4159     ;       == 非常停止解除(ｻｲｸﾙ運転),1CYCLEND ==
12446 00001A64 D10B              4160             MOV.L   #_MODE_SEL,R1                   ;
12447 00001A66 6011              4161             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
12448 00001A68 C80A              4162             TST     #(_W1CNT+_W1INC),R0             ;
12449                            4163             TST_BIT_OF POS_ALLSTEPCTL_600X          ;終了
12450 00001A6A 8909                   M           BT      POS_ALLSTEPCTL_600X
12451                            4164     
12452 00001A6C C802              4165             TST     #(_W1INC),R0                    ;
12453                            4166             TST_BIT_ON POS_ALLSTEPCTL_530           ;開始
12454 00001A6E 8B17                   M           BF      POS_ALLSTEPCTL_530
12455                            4167     
12456                            4168     ;       === 連続 ===
12457 00001A70 D109              4169             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
12458 00001A72 6011              4170             MOV.W   @R1,R0                          ;
12459 00001A74 C801              4171             TST     #BIT0,R0                        ;
12460                            4172             TST_BIT_ON POS_ALLSTEPCTL_600X          ;終了
12461 00001A76 8B03                   M           BF      POS_ALLSTEPCTL_600X
12462                            4173     
12463                            4174              .AIF   1 EQ 1  ;
12464                            4175 C   ;       -------- 2016-10-31 ADD 二重回路対策
12465                            4176              .AENDI
12466                            4177     ;;;2016-10-31   M_BRA   POS_ALLSTEPCTL_550              ;(連続のＶﾓｰﾄﾞでの最終工程から最初
                                          の行程) 停止付の処理
12467                            4178     
12468                            4179     ;       ----------- 2016-10-31(2016-07-31)(CMPERR対策)--------
12469                            4180             .AIF    0 EQ    0
12470 00001A78 D108              4181 C           MOV.L   #_SH2_HD_CNT_STOP,R1            ;
12471                            4182             .AELSE
12472                            4183             MOV.L   #_SH4_HD_CNT_STOP,R1            ;
12473                            4184             .AENDI
12474 00001A7A 6011              4185             MOV.W   @R1,R0                          ;
12475 00001A7C 2008              4186             TST     R0,R0                           ;
12476                            4187             TST_BIT_OF POS_ALLSTEPCTL_550           ;(連続のＶﾓｰﾄﾞでの最終工程から最初の行程)
                                          停止付の処理
12477 00001A7E 8919                   M           BT      POS_ALLSTEPCTL_550
12478                            4188     ;;;;2016-08-24  XOR     R0,R0                           ;相手の信号を受け付けた場合,相手の
                                          信号をOFFしておく
12479                            4189     ;;;;2016-08-24  MOV.W   R0,@R1                          ;不要
12480                            4190     
12481 00001A80                   4191     POS_ALLSTEPCTL_600X             ;終了
12482                            4192             M_BRA   POS_ALLSTEPCTL_600              ;終了
12483 00001A80 A0C4                   M           BRA     POS_ALLSTEPCTL_600
12484 00001A82 0009                   M           NOP
12485                            4193     
12486                            4194     
12487                                     ***** BEGIN-POOL *****
12488 00001A84 00000000                   DATA FOR SOURCE-LINE 4147
12489 00001A88 00000000                   DATA FOR SOURCE-LINE 4150
12490 00001A8C 00000000                   DATA FOR SOURCE-LINE 4154
12491 00001A90 00000000                   DATA FOR SOURCE-LINE 4155
12492 00001A94 00000000                   DATA FOR SOURCE-LINE 4160
12493 00001A98 00000000                   DATA FOR SOURCE-LINE 4169
12494 00001A9C 00000000                   DATA FOR SOURCE-LINE 4181
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   117
PROGRAM NAME =

12495                                     ***** END-POOL *****
12496 00001AA0                   4195     POS_ALLSTEPCTL_530:                             ;
12497 00001AA0 D103              4196             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
12498 00001AA2 6111              4197             MOV.W   @R1,R1                          ;.3
12499 00001AA4 9203              4198             MOV.W   #BIT3,R2                        ;
12500 00001AA6 2128              4199             TST     R2,R1
12501                            4200             TST_BIT_OF POS_ALLSTEPCTL_550           ;
12502 00001AA8 8904                   M           BT      POS_ALLSTEPCTL_550
12503                            4201             M_BRA   POS_ALLSTEPCTL_600              ;終了 寸動一工程
12504 00001AAA A0AF                   M           BRA     POS_ALLSTEPCTL_600
12505 00001AAC 0009                   M           NOP
12506                            4202     
12507                            4203     ;       === 継続運転<> ==
12508                                     ***** BEGIN-POOL *****
12509 00001AAE 0008                       DATA FOR SOURCE-LINE 4198
12510 00001AB0 00000000                   DATA FOR SOURCE-LINE 4196
12511                                     ***** END-POOL *****
12512 00001AB4                   4204     POS_ALLSTEPCTL_550:                             ;
12513                            4205             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT4,WKREG=R1 ;2012-12-10 DEB
                                          UG
12514 00001AB4 D11A                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12515 00001AB6 6011                   M           MOV.W   @R1,R0          ;
12516 00001AB8 CB10                   M           OR      #BIT4,R0                ;
12517 00001ABA 2101                   M           MOV.W   R0,@R1          ;
12518                            4206             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT3+BIT2+BIT1+BIT0),WKREG
                                          =R1     ;2012-12-10 DEBUG
12519 00001ABC D118                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12520 00001ABE 6011                   M           MOV.W   @R1,R0          ;
12521 00001AC0 C9F0                   M           AND     #LOW ~(BIT3+BIT2+BIT1+BIT0),R0          ;
12522 00001AC2 2101                   M           MOV.W   R0,@R1          ;
12523                            4207     
12524                            4208              .AIF   1 EQ 1  ;
12525                            4209 C   ;       -------- 2016-10-31 ADD 二重回路対策
12526                            4210              .AENDI
12527                            4211     ;       ---------連続及び寸動の継続時の１サイクル終了はここ
12528                            4212             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
12529 00001AC4 D017                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12530 00001AC6 400B                   M           JSR     @R0                     ;
12531 00001AC8 0009                   M           NOP                                     ;
12532                            4213     
12533                            4214     ;       ----- [2009-10-07下振子]-----
12534                            4215             FAR_JSR #_DNM_CYCLE_START,R0            ;連続の次のｻｲｸﾙ開始はここ
12535 00001ACA D017                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12536 00001ACC 400B                   M           JSR     @R0                     ;
12537 00001ACE 0009                   M           NOP                                     ;
12538                            4216     
12539 00001AD0 200A              4217             XOR     R0,R0                           ;
12540                            4218     ;       =======================================
12541 00001AD2 D116              4219             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
12542 00001AD4 2101              4220             MOV.W   R0,@R1                          ;
12543                            4221     ;       =========================================
12544 00001AD6 D116              4222             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
12545 00001AD8 2101              4223             MOV.W   R0,@R1                          ;
12546 00001ADA D116              4224             MOV.L   #_LINK_OBJROT_NUM_ZR,R1         ;//NOW ROTATION 番号
12547 00001ADC 6212              4225             MOV.L   @R1,R2                          ;+0
12548                            4226     ;;;;    FAR_JSR #_NEXT_CYCL_START1,R0           ;回転なら+1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   118
PROGRAM NAME =

12549                            4227             FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0    ;2004-12-20::::連続/寸動の上死点停止付処理
12550 00001ADE D016                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12551 00001AE0 400B                   M           JSR     @R0                     ;
12552 00001AE2 0009                   M           NOP                                     ;
12553                            4228     
12554 00001AE4 D115              4229             MOV.L   #_SV_POS_CTL_STEP,R1            ;//1msec 制御上の見かけ
12555 00001AE6 6411              4230             MOV.W   @R1,R4                          ;
12556 00001AE8 D215              4231             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
12557 00001AEA 2241              4232             MOV.W   R4,@R2                          ;
12558                            4233     
12559                            4234     
12560                            4235             FAR_JSR #_MOTION_CYCLE_START,R0         ;1回転
12561 00001AEC D015                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12562 00001AEE 400B                   M           JSR     @R0                     ;
12563 00001AF0 0009                   M           NOP                                     ;
12564                            4236     
12565                            4237     
12566                            4238     
12567                            4239     ;       ==== 通常の行程切替,連続の停止付１回転====
12568                            4240     ;       (((((連続Vﾓｰﾄﾞではここは通らない))))))))
12569 00001AF2                   4241     POS_ALLSTEPCTL_580:                             ;<====
12570                            4242     ;       ====== 2007-09-15未出荷　(SIT3:2007-09-15)(COP2:2007-07-07) =============
12571                            4243             FAR_JSR #_POS_LSI_START_INITAL,R0
12572 00001AF2 D015                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12573 00001AF4 400B                   M           JSR     @R0                     ;
12574 00001AF6 0009                   M           NOP                                     ;
12575                            4244     
12576                            4245             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測から設定に取り込まない
12577 00001AF8 D014                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12578 00001AFA 400B                   M           JSR     @R0                     ;
12579 00001AFC 0009                   M           NOP                                     ;
12580                            4246     
12581                            4247             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;20060919:
12582 00001AFE D014                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12583 00001B00 400B                   M           JSR     @R0                     ;
12584 00001B02 0009                   M           NOP                                     ;
12585                            4248     
12586 00001B04 D113              4249             MOV.L   #_CPOS_CTL_MATH,R1              ;
12587 00001B06 6011              4250             MOV.W   @R1,R0                          ;
12588 00001B08 C801              4251             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
12589                            4252             TST_BIT_OF POS_ALLSTEPCTL_585           ;
12590 00001B0A 8935                   M           BT      POS_ALLSTEPCTL_585
12591                            4253     ;       ====== 回転時はこれ==========
12592 00001B0C D112              4254             MOV.L   #_CPOS_BANK_USELFUL,R1          ;2004-12-20
12593 00001B0E 6011              4255             MOV.W   @R1,R0                          ;
12594 00001B10 C801              4256             TST     #BIT0,R0                        ;
12595                            4257             TST_BIT_ON POS_ALLSTEPCTL_583           ;<====
12596 00001B12 8B25                   M           BF      POS_ALLSTEPCTL_583
12597                            4258             FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;_LNGTH,SHIN,SPEED<設定から求める>
12598 00001B14 D011                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12599 00001B16 400B                   M           JSR     @R0                     ;
12600 00001B18 0009                   M           NOP                                     ;
12601                            4259             M_BRA   POS_ALLSTEPCTL_590              ;[]
12602 00001B1A A030                   M           BRA     POS_ALLSTEPCTL_590
12603 00001B1C 0009                   M           NOP
12604                            4260     
12605                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   119
PROGRAM NAME =

12606 00001B1E 0000                       ALIGNMENT CODE
12607 00001B20 00000000                   DATA FOR SOURCE-LINE 4205,4206
12608 00001B24 00000000                   DATA FOR SOURCE-LINE 4212
12609 00001B28 00000000                   DATA FOR SOURCE-LINE 4215
12610 00001B2C 00000000                   DATA FOR SOURCE-LINE 4219
12611 00001B30 00000000                   DATA FOR SOURCE-LINE 4222
12612 00001B34 00000000                   DATA FOR SOURCE-LINE 4224
12613 00001B38 00000000                   DATA FOR SOURCE-LINE 4227
12614 00001B3C 00000000                   DATA FOR SOURCE-LINE 4229
12615 00001B40 00000000                   DATA FOR SOURCE-LINE 4231
12616 00001B44 00000000                   DATA FOR SOURCE-LINE 4235
12617 00001B48 00000000                   DATA FOR SOURCE-LINE 4243
12618 00001B4C 00000000                   DATA FOR SOURCE-LINE 4245
12619 00001B50 00000000                   DATA FOR SOURCE-LINE 4247
12620 00001B54 00000000                   DATA FOR SOURCE-LINE 4249
12621 00001B58 00000000                   DATA FOR SOURCE-LINE 4254
12622 00001B5C 00000000                   DATA FOR SOURCE-LINE 4258
12623                                     ***** END-POOL *****
12624 00001B60                   4261     POS_ALLSTEPCTL_583                              ;
12625                            4262     ;       === 連続の上死点ﾀｲﾏなし===
12626                            4263             FAR_JSR #_POS_CNT_BANK_DTMAK3,R0        ;ﾀｲﾏ停止後の起動
12627 00001B60 D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK3,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12628 00001B62 400B                   M           JSR     @R0                     ;
12629 00001B64 0009                   M           NOP                                     ;
12630                            4264             FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0     ;
12631 00001B66 D003                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12632 00001B68 400B                   M           JSR     @R0                     ;
12633 00001B6A 0009                   M           NOP                                     ;
12634                            4265             M_BRA   POS_ALLSTEPCTL_590              ;
12635 00001B6C A007                   M           BRA     POS_ALLSTEPCTL_590
12636 00001B6E 0009                   M           NOP
12637                            4266     
12638                                     ***** BEGIN-POOL *****
12639 00001B70 00000000                   DATA FOR SOURCE-LINE 4263
12640 00001B74 00000000                   DATA FOR SOURCE-LINE 4264
12641                                     ***** END-POOL *****
12642 00001B78                   4267     POS_ALLSTEPCTL_585:                             ;<<<<<<<<<<<<<<<<<<
12643                            4268     
12644                            4269             FAR_JSR #_POS_1STEP_DATA_MAK_SEL,R0     ;2011-11-18 _POS_1STEP_DATA_MAK1CL/POS_1ST
                                          EP_DATA_MAK2の切り替え
12645 00001B78 D016                   M           MOV.L   #_POS_1STEP_DATA_MAK_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12646 00001B7A 400B                   M           JSR     @R0                     ;
12647 00001B7C 0009                   M           NOP                                     ;
12648                            4270     
12649                            4271                                                     ;基本的には一致した状態(本当は最終工程だけ
                                          )
12650                            4272     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
12651                            4273     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
12652                            4274     
12653 00001B7E                   4275     POS_ALLSTEPCTL_590:                             ;
12654                            4276     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ==== 2003-07-14 回転の停止時間変更 ===
12655                            4277     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 2014-08-30
12656                            4278     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   #_SV_CHG_FLG2,R1                ;
12657                            4279     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   @R1,R0                          ;
12658                            4280     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST     R0,R0                           ;
12659                            4281     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST_BIT_ON POS_ALLSTEPCTL_900           ;次の起動をかけな
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   120
PROGRAM NAME =

                                          い
12660                            4282     
12661                            4283     ;       ===(次ｽﾃｯﾌﾟ起動)===
12662                            4284             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-27(data-smp only)
12663 00001B7E D016                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12664 00001B80 400B                   M           JSR     @R0                     ;
12665 00001B82 0009                   M           NOP                                     ;
12666                            4285     
12667                            4286             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
12668 00001B84 D015                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12669 00001B86 400B                   M           JSR     @R0                     ;
12670 00001B88 0009                   M           NOP                                     ;
12671                            4287             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(data-smp only)
12672 00001B8A D015                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12673 00001B8C 400B                   M           JSR     @R0                     ;
12674 00001B8E 0009                   M           NOP                                     ;
12675                            4288     
12676                            4289     
12677                            4290     ;;;;;;  FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
12678                            4291     ;;;;;(連続のＶﾓｰﾄﾞもここを通過してきているので安全一行程だけ)
12679                            4292             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
12680 00001B90 D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12681 00001B92 400B                   M           JSR     @R0                     ;
12682 00001B94 0009                   M           NOP                                     ;
12683                            4293     
12684                            4294     ;       == 2004-03 ===
12685                            4295             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;"SGL"
12686 00001B96 D014                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12687 00001B98 400B                   M           JSR     @R0                     ;
12688 00001B9A 0009                   M           NOP                                     ;
12689 00001B9C 9018              4296             MOV.W   #D'2,R0                 ;
12690 00001B9E D113              4297             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
12691 00001BA0 2101              4298             MOV.W   R0,@R1                          ;
12692                            4299     
12693                            4300             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;"SGL"
12694 00001BA2 D013                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12695 00001BA4 400B                   M           JSR     @R0                     ;
12696 00001BA6 0009                   M           NOP                                     ;
12697                            4301             FAR_JSR #_FWD_REV_START,R1              ;起動
12698 00001BA8 D112                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12699 00001BAA 410B                   M           JSR     @R1                     ;
12700 00001BAC 0009                   M           NOP                                     ;
12701                            4302     
12702                            4303     ;       -------- 2010-09-27 ふりこ情報--------
12703                            4304             FAR_JSR #_DNM_START_ACC_CALC,R0
12704 00001BAE D012                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12705 00001BB0 400B                   M           JSR     @R0                     ;
12706 00001BB2 0009                   M           NOP                                     ;
12707                            4305     
12708                            4306             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
12709 00001BB4 D011                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12710 00001BB6 400B                   M           JSR     @R0                     ;
12711 00001BB8 0009                   M           NOP                                     ;
12712                            4307     
12713 00001BBA 200A              4308             XOR     R0,R0                           ;
12714 00001BBC D110              4309             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   121
PROGRAM NAME =

12715 00001BBE 2101              4310             MOV.W   R0,@R1                          ;Q
12716                            4311     
12717                            4312     ;       ==== ﾆｱｾﾞﾛ,ﾊﾝﾄﾞｼｪｲｸ終了,ｸﾛｰｽﾞﾌﾗｸﾞCLR ===
12718                            4313             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
12719 00001BC0 D010                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12720 00001BC2 400B                   M           JSR     @R0                     ;
12721 00001BC4 0009                   M           NOP                                     ;
12722                            4314     
12723                            4315     ;       ---------------- 起動 2011-09-01 -------------------
12724                            4316             FAR_JSR #_UP_ACCERR_START_INI,R0
12725 00001BC6 D010                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12726 00001BC8 400B                   M           JSR     @R0                     ;
12727 00001BCA 0009                   M           NOP                                     ;
12728                            4317     
12729                            4318             M_BRA   POS_ALLSTEPCTL_900              ;
12730 00001BCC A033                   M           BRA     POS_ALLSTEPCTL_900
12731 00001BCE 0009                   M           NOP
12732                            4319     
12733                                     ***** BEGIN-POOL *****
12734 00001BD0 0002                       DATA FOR SOURCE-LINE 4296
12735 00001BD2 0000                       ALIGNMENT CODE
12736 00001BD4 00000000                   DATA FOR SOURCE-LINE 4269
12737 00001BD8 00000000                   DATA FOR SOURCE-LINE 4284
12738 00001BDC 00000000                   DATA FOR SOURCE-LINE 4286
12739 00001BE0 00000000                   DATA FOR SOURCE-LINE 4287
12740 00001BE4 00000000                   DATA FOR SOURCE-LINE 4292
12741 00001BE8 00000000                   DATA FOR SOURCE-LINE 4295
12742 00001BEC 00000000                   DATA FOR SOURCE-LINE 4297
12743 00001BF0 00000000                   DATA FOR SOURCE-LINE 4300
12744 00001BF4 00000000                   DATA FOR SOURCE-LINE 4301
12745 00001BF8 00000000                   DATA FOR SOURCE-LINE 4304
12746 00001BFC 00000000                   DATA FOR SOURCE-LINE 4306
12747 00001C00 00000000                   DATA FOR SOURCE-LINE 4309
12748 00001C04 00000000                   DATA FOR SOURCE-LINE 4313
12749 00001C08 00000000                   DATA FOR SOURCE-LINE 4316
12750                                     ***** END-POOL *****
12751 00001C0C                   4320     POS_ALLSTEPCTL_600:
12752                            4321             FAR_JSR #_MOTION_CYCLE_END,R0                   ;2回目通る
12753 00001C0C D00C                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12754 00001C0E 400B                   M           JSR     @R0                     ;
12755 00001C10 0009                   M           NOP                                     ;
12756                            4322             FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
12757 00001C12 D00C                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12758 00001C14 400B                   M           JSR     @R0                     ;
12759 00001C16 0009                   M           NOP                                     ;
12760                            4323             FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
12761 00001C18 D00B                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12762 00001C1A 400B                   M           JSR     @R0                     ;
12763 00001C1C 0009                   M           NOP                                     ;
12764                            4324     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT2,R0
12765                            4325     
12766                            4326             .AIF    0 EQ    0
12767                            4327 C           FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
12768 00001C1E D00B                   M           MOV.L   #_API_IVW_CYC_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12769 00001C20 400B                   M           JSR     @R0                     ;
12770 00001C22 0009                   M           NOP                                     ;
12771                            4328             .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   122
PROGRAM NAME =

12772                            4329     
12773                            4330             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
12774 00001C24 D10A                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12775 00001C26 6011                   M           MOV.W   @R1,R0          ;
12776 00001C28 CB40                   M           OR      #BIT6,R0                ;
12777 00001C2A 2101                   M           MOV.W   R0,@R1          ;
12778                            4331     
12779                            4332     ;       ======ｻｲｸﾙ停止状態ON==========================
12780 00001C2C D109              4333             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
12781 00001C2E 6011              4334             MOV.W   @R1,R0                                  ;
12782 00001C30 9404              4335             MOV.W   #BIT7,R4                                ;
12783 00001C32 204B              4336             OR      R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
                                          る
12784 00001C34 2101              4337             MOV.W   R0,@R1                                  ;
12785                            4338     ;       ===============================================
12786 00001C36                   4339     POS_ALLSTEPCTL_900:
12787                            4340     
12788                            4341     
12789                            4342     
12790                            4343     
12791                            4344     
12792                            4345     ;       ------- 2012-12-10 DEBUG-----------
12793                            4346     ;;;2014-09-14   MOV.L   #_DNM_DEBUG_STS1,R1
12794                            4347     ;;;2014-09-14   MOV.W   @R1,R2
12795                            4348     ;;;2014-09-14   MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
12796                            4349     ;;;2014-09-14   MOV.W   R2,@R1                          ;ﾃﾞﾊﾞｯｸ専用
12797                            4350     
12798                            4351     
12799                            4352             SUB_END
12800                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12801 00001C36 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12802                            4353             M_RTS
12803 00001C38 000B                   M           RTS                             ;RTSの後ろの
12804 00001C3A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12805                            4354     
12806                            4355     
12807                            4356     
12808                            4357     
12809                            4358     
12810                            4359     
12811                                     ***** BEGIN-POOL *****
12812 00001C3C 0080                       DATA FOR SOURCE-LINE 4335
12813 00001C3E 0000                       ALIGNMENT CODE
12814 00001C40 00000000                   DATA FOR SOURCE-LINE 4321
12815 00001C44 00000000                   DATA FOR SOURCE-LINE 4322
12816 00001C48 00000000                   DATA FOR SOURCE-LINE 4323
12817 00001C4C 00000000                   DATA FOR SOURCE-LINE 4327
12818 00001C50 00000000                   DATA FOR SOURCE-LINE 4330
12819 00001C54 00000000                   DATA FOR SOURCE-LINE 4333
12820                                     ***** END-POOL *****
12821 00001C58                   4360     _DEBUG_BRK_POINT1
12822                            4361             SUB_START
12823 00001C58 4F22                   M           STS.L   PR,@-R15                ;[必要]
12824                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12825                            4362     ;       -------debug break-point set----------
12826                            4363             PUSH_REG1 R0
12827 00001C5A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   123
PROGRAM NAME =

12828                                 M                                           ;REG=>[SP]
12829                                 M                                           ;"-4" FF,FF,FF,FC
12830                            4364             PUSH_REG1 R1
12831 00001C5C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12832                                 M                                           ;REG=>[SP]
12833                                 M                                           ;"-4" FF,FF,FF,FC
12834 00001C5E D107              4365             MOV.L   #_di2_cb_ctl2,R1        ;
12835 00001C60 6011              4366             MOV.W   @R1,R0                  ;
12836 00001C62 C880              4367             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12837                            4368             TST_BIT_OF DEBUG_BRK_PNT1_100
12838 00001C64 8904                   M           BT      DEBUG_BRK_PNT1_100
12839                            4369     
12840 00001C66 0009              4370             NOP
12841 00001C68 0009              4371             NOP
12842 00001C6A 0009              4372             NOP
12843 00001C6C 0009              4373             NOP
12844 00001C6E 0009              4374             NOP
12845                            4375     
12846                            4376     
12847 00001C70                   4377     DEBUG_BRK_PNT1_100
12848                            4378     
12849                            4379     
12850                            4380             POP_REG1 R1
12851                                 M                                   ; RE"+4" 00,00,00,04
12852 00001C70 61F6                   M           MOV.L   @R15+,R1        ;
12853                            4381             POP_REG1 R0
12854                                 M                                   ; RE"+4" 00,00,00,04
12855 00001C72 60F6                   M           MOV.L   @R15+,R0        ;
12856                            4382             SUB_END
12857                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12858 00001C74 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12859                            4383             M_RTS
12860 00001C76 000B                   M           RTS                             ;RTSの後ろの
12861 00001C78 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12862                            4384     
12863                                     ***** BEGIN-POOL *****
12864 00001C7A 0000                       ALIGNMENT CODE
12865 00001C7C 00000000                   DATA FOR SOURCE-LINE 4365
12866                                     ***** END-POOL *****
12867 00001C80                   4385     _DEBUG_BRK_POINT2
12868                            4386             SUB_START
12869 00001C80 4F22                   M           STS.L   PR,@-R15                ;[必要]
12870                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12871                            4387     ;       -------debug break-point set----------
12872                            4388             PUSH_REG1 R0
12873 00001C82 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
12874                                 M                                           ;REG=>[SP]
12875                                 M                                           ;"-4" FF,FF,FF,FC
12876                            4389             PUSH_REG1 R1
12877 00001C84 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12878                                 M                                           ;REG=>[SP]
12879                                 M                                           ;"-4" FF,FF,FF,FC
12880 00001C86 D107              4390             MOV.L   #_di2_cb_ctl2,R1        ;
12881 00001C88 6011              4391             MOV.W   @R1,R0                  ;
12882 00001C8A C880              4392             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12883                            4393             TST_BIT_OF DEBUG_BRK_PNT2_100
12884 00001C8C 8904                   M           BT      DEBUG_BRK_PNT2_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   124
PROGRAM NAME =

12885                            4394     
12886 00001C8E 0009              4395             NOP
12887 00001C90 0009              4396             NOP
12888 00001C92 0009              4397             NOP
12889 00001C94 0009              4398             NOP
12890 00001C96 0009              4399             NOP
12891                            4400     
12892                            4401     
12893 00001C98                   4402     DEBUG_BRK_PNT2_100
12894                            4403     
12895                            4404     
12896                            4405             POP_REG1 R1
12897                                 M                                   ; RE"+4" 00,00,00,04
12898 00001C98 61F6                   M           MOV.L   @R15+,R1        ;
12899                            4406             POP_REG1 R0
12900                                 M                                   ; RE"+4" 00,00,00,04
12901 00001C9A 60F6                   M           MOV.L   @R15+,R0        ;
12902                            4407             SUB_END
12903                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12904 00001C9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12905                            4408             M_RTS
12906 00001C9E 000B                   M           RTS                             ;RTSの後ろの
12907 00001CA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12908                            4409     
12909                                     ***** BEGIN-POOL *****
12910 00001CA2 0000                       ALIGNMENT CODE
12911 00001CA4 00000000                   DATA FOR SOURCE-LINE 4390
12912                                     ***** END-POOL *****
12913 00001CA8                   4410     _DEBUG_BRK_POINT3
12914                            4411             SUB_START
12915 00001CA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
12916                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12917                            4412     ;       -------debug break-point set----------
12918                            4413             PUSH_REG1 R0
12919 00001CAA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
12920                                 M                                           ;REG=>[SP]
12921                                 M                                           ;"-4" FF,FF,FF,FC
12922                            4414             PUSH_REG1 R1
12923 00001CAC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12924                                 M                                           ;REG=>[SP]
12925                                 M                                           ;"-4" FF,FF,FF,FC
12926 00001CAE D107              4415             MOV.L   #_di2_cb_ctl2,R1        ;
12927 00001CB0 6011              4416             MOV.W   @R1,R0                  ;
12928 00001CB2 C880              4417             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12929                            4418             TST_BIT_OF DEBUG_BRK_PNT3_100
12930 00001CB4 8904                   M           BT      DEBUG_BRK_PNT3_100
12931                            4419     
12932 00001CB6 0009              4420             NOP
12933 00001CB8 0009              4421             NOP
12934 00001CBA 0009              4422             NOP
12935 00001CBC 0009              4423             NOP
12936 00001CBE 0009              4424             NOP
12937                            4425     
12938                            4426     
12939 00001CC0                   4427     DEBUG_BRK_PNT3_100
12940                            4428     
12941                            4429     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   125
PROGRAM NAME =

12942                            4430             POP_REG1 R1
12943                                 M                                   ; RE"+4" 00,00,00,04
12944 00001CC0 61F6                   M           MOV.L   @R15+,R1        ;
12945                            4431             POP_REG1 R0
12946                                 M                                   ; RE"+4" 00,00,00,04
12947 00001CC2 60F6                   M           MOV.L   @R15+,R0        ;
12948                            4432             SUB_END
12949                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12950 00001CC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12951                            4433             M_RTS
12952 00001CC6 000B                   M           RTS                             ;RTSの後ろの
12953 00001CC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12954                            4434     
12955                            4435     
12956                            4436     ;       *******************************************************************
12957                            4437     ;       ***                                                             ***
12958                            4438     ;       ***     反転時のフルクローズ後の工程（戻り）は目標位置ではだめ  ***
12959                            4439     ;       ***                                                             ***
12960                            4440     ;       *******************************************************************
12961                            4441     ;       2011-02-18 (2010-10-05 はMCのよるソフト)
12962                            4442     ;
12963                                     ***** BEGIN-POOL *****
12964 00001CCA 0000                       ALIGNMENT CODE
12965 00001CCC 00000000                   DATA FOR SOURCE-LINE 4415
12966                                     ***** END-POOL *****
12967 00001CD0                   4443             .ALIGN  4                               ;
12968 00001CD0                   4444     _POS_1STEP_DATA_MAK_SEL:
12969                            4445             SUB_START
12970 00001CD0 4F22                   M           STS.L   PR,@-R15                ;[必要]
12971                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12972                            4446     
12973 00001CD2 D104              4447             MOV.L   #_CPOS_CTL_MATH,R1                      ;
12974 00001CD4 6011              4448             MOV.W   @R1,R0                                  ;
12975 00001CD6 C805              4449             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
12976                            4450             TST_BIT_ON POS_1STEP_DATA_MKSL100               ;YES
12977 00001CD8 8B08                   M           BF      POS_1STEP_DATA_MKSL100
12978                            4451     
12979                            4452     ;;;     FAR_JSR #_POS_1STEP_DATA_MAK1,R0                ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
12980                            4453             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0              ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
12981 00001CDA D003                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12982 00001CDC 400B                   M           JSR     @R0                     ;
12983 00001CDE 0009                   M           NOP                                     ;
12984                            4454             M_BRA   POS_1STEP_DATA_MKSL200                  ;
12985 00001CE0 A007                   M           BRA     POS_1STEP_DATA_MKSL200
12986 00001CE2 0009                   M           NOP
12987                            4455     
12988                            4456     
12989                                     ***** BEGIN-POOL *****
12990 00001CE4 00000000                   DATA FOR SOURCE-LINE 4447
12991 00001CE8 00000000                   DATA FOR SOURCE-LINE 4453
12992                                     ***** END-POOL *****
12993 00001CEC                   4457     POS_1STEP_DATA_MKSL100:
12994                            4458             FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;目標位置タイプ　2010-10-05
12995 00001CEC D002                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12996 00001CEE 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   126
PROGRAM NAME =

12997 00001CF0 0009                   M           NOP                                     ;
12998 00001CF2                   4459     POS_1STEP_DATA_MKSL200:
12999                            4460                                                             ;基本的には一致した状態(本当は最終
                                          工程だけ)
13000                            4461     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
13001                            4462     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
13002                            4463     
13003                            4464     
13004                            4465             SUB_END
13005                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13006 00001CF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13007                            4466             M_RTS
13008 00001CF4 000B                   M           RTS                             ;RTSの後ろの
13009 00001CF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13010                            4467     
13011                            4468     
13012                            4469     
13013                            4470     
13014                            4471     
13015                            4472     ;       *******************************************
13016                            4473     ;       ***                                     ***
13017                            4474     ;       ***                                     ***
13018                            4475     ;       ***                                     ***
13019                            4476     ;       ***     JUMP処理短縮のｻﾌﾞﾙｰﾁﾝ化         ***
13020                            4477     ;       ***     2009-10-07                      ***
13021                            4478     ;       ***                                     ***
13022                            4479     ;       ***                                     ***
13023                            4480     ;       *******************************************
13024                                     ***** BEGIN-POOL *****
13025 00001CF8 00000000                   DATA FOR SOURCE-LINE 4458
13026                                     ***** END-POOL *****
13027 00001CFC                   4481     _CNT_NEAR_TIM_CHK:
13028                            4482             SUB_START
13029 00001CFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13030                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13031                            4483             SUB_END
13032                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13033 00001CFE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13034                            4484             M_RTS
13035 00001D00 000B                   M           RTS                             ;RTSの後ろの
13036 00001D02 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13037                            4485     
13038 00001D04                   4486     _POS_ALLSTEP_STOP_SPD_CHK:
13039                            4487             SUB_START
13040 00001D04 4F22                   M           STS.L   PR,@-R15                ;[必要]
13041                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13042                            4488             SUB_END
13043                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13044 00001D06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13045                            4489             M_RTS
13046 00001D08 000B                   M           RTS                             ;RTSの後ろの
13047 00001D0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13048                            4490     
13049 00001D0C                   4491     _NEAR_ZERO_IN_CHK:
13050                            4492             SUB_START
13051 00001D0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   127
PROGRAM NAME =

13052                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13053                            4493             SUB_END
13054                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13055 00001D0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13056                            4494             M_RTS
13057 00001D10 000B                   M           RTS                             ;RTSの後ろの
13058 00001D12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13059                            4495     
13060 00001D14                   4496     _PLSOUT_STEP_END_TIMSET
13061                            4497             SUB_START
13062 00001D14 4F22                   M           STS.L   PR,@-R15                ;[必要]
13063                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13064                            4498             SUB_END
13065                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13066 00001D16 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13067                            4499             M_RTS
13068 00001D18 000B                   M           RTS                             ;RTSの後ろの
13069 00001D1A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13070                            4500     
13071 00001D1C                   4501     _WAIT_TIM_CNT:
13072                            4502             SUB_START
13073 00001D1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13074                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13075                            4503             SUB_END
13076                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13077 00001D1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13078                            4504             M_RTS
13079 00001D20 000B                   M           RTS                             ;RTSの後ろの
13080 00001D22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13081                            4505     
13082                            4506     
13083                            4507     ;       ***********************************
13084                            4508     ;       ***                             ***
13085                            4509     ;       ***     次のｻｲｸﾙ演算            ***
13086                            4510     ;       ***                             ***
13087                            4511     ;       ***********************************
13088                            4512     
13089                            4513     ;       ***************************
13090                            4514     ;       ***     Input R2 回転   ***
13091                            4515     ;       ***************************
13092                            4516     ;       ==かならず正転方向から運転を始める
13093                            4517     ;       ==(今の目標位置＝現在位置）は待機点と正転方向の第一目標位置の間にあるか？(正転動作
                                          から始める)０を
13094                            4518     ;       (1)待機点が第一目標位置より小さい場合（普通の設定 目標位置は１回転足されていない）
                                          ０をはさまない
13095                            4519     ;          @待機点と目標位置の範囲内なら足さない
13096                            4520     ;          A　@以外で１８０度(上昇ホールドだけど)〜０度（３６００）の範囲なら＋１する
13097                            4521     ;          Bそれ以外は戻すからそのまま
13098                            4522     ;       (2)待機点が第一目標位置より大きい場合（普通の設定 目標位置は１回転足されている）：
                                          ０をはさむ
13099                            4523     ;          @待機点〜０の間はそのまま
13100                            4524     ;          A０を含む ０〜第一目標位置の間は−１する
13101                            4525     ;          Bそのままにしておく
13102                            4526     
13103                            4527     ;       パルスで考える
13104                            4528     ;
13105                            4529     ;       0ﾊﾟﾙｽから待機点ﾊﾟﾙｽ間はそのまま
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   128
PROGRAM NAME =

13106                            4530     ;       待機ﾊﾟﾙｽ~SV間
13107                            4531     ;
13108                            4532     ;       第一目標位置が360度を越えない場合(またがない場合)
13109                            4533     ;       第一目標位置が360度を越える場合(またぐ場合)
13110                            4534     ;
13111                            4535     ;
13112                            4536     ;       0_______ORG_____SV________359.9
13113                            4537     ;         PV1       PV2     PV3
13114                            4538     ;         *PV1:そのままの回転 PV2:そのまま　PV3 回転+1
13115                            4539     ;
13116                            4540     ;       0_______ORG_______________360.0_______SV______719.9
13117                            4541     ;          PV2          PV1              PV3-2   PV3-1
13118                            4542     ;          PV+360.0
13119                            4543     ;         PV1:そのまま (PV2はない)
13120                            4544     ;         PV3-1:そのまま
13121                            4545     ;         PV3-2: "-1"
13122                            4546     ;       "Input R2"
13123 00001D24                   4547             .ALIGN  4                               ;
13124 00001D24                   4548     _NEXT_CYCL_START2:                              ;[正方向から開始する運転の１回目の起動]
13125                            4549             SUB_START                               ;
13126 00001D24 4F22                   M           STS.L   PR,@-R15                ;[必要]
13127                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13128                            4550     
13129                            4551             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
13130 00001D26 D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13131 00001D28 400B                   M           JSR     @R0                     ;
13132 00001D2A 0009                   M           NOP                                     ;
13133 00001D2C D410              4552             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13134 00001D2E 6242              4553             MOV.L   @R4,R2                                  ;
13135                            4554     
13136 00001D30 D410              4555             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;"(目標)"
13137 00001D32 6942              4556             MOV.L   @R4,R9                                  ;
13138 00001D34 D110              4557             MOV.L   #_CPOS_UPAREA_PLS,R1                    ;//4;待機点
13139 00001D36 6812              4558             MOV.L   @R1,R8                                  ;
13140 00001D38 D110              4559             MOV.L   #_LINK_1ROT_PLS,R1                      ;待機点より小さかったら+１回転
13141 00001D3A 6712              4560             MOV.L   @R1,R7                                  ;反転時もこの論理でＯＫ
13142                            4561     
13143                            4562     ;;;;2014-09-19 振子の逆待機点からの開始
13144                            4563     ;;;;2014-09-19  MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10             ;
13145 00001D3C DA10              4564             MOV.L   #_CPOS_SDAT1_OFSPOS,R10         ;
13146 00001D3E 63A2              4565             MOV.L   @R10,R3                                 ;1ｽﾃｯﾌﾟ目
13147                            4566     
13148                            4567     
13149                            4568     ;       ------INC_RESET_USE_F;//STEPを参照して　2014-09-26----------
13150                            4569     ;;;;2018-11-13
13151                            4570     ;;;;2018-11-13  MOV.L   #_INC_RESET_USE_F,R1            ;
13152                            4571     ;;;;2018-11-13  MOV.W   @R1,R0                                          ;
13153                            4572     ;;;;2018-11-13  TST     R0,R0                                                   ;
13154                            4573     ;;;;2018-11-13  TST_BIT_ON POS_START_ROT_CAL_900        ;
13155                            4574     ;;;;2018-11-13
13156                            4575     ;       ------------ 2018-11-13--------
13157 00001D40 D110              4576             MOV.L   #_INC_RESET_USE_F,R1                            ;ﾛｯﾄ数を算出するｿﾌﾄ
13158 00001D42 6011              4577             MOV.W   @R1,R0                                                          ;
13159 00001D44 2008              4578             TST     R0,R0                                                                   ;
13160                            4579             TST_BIT_OF POS_START_ROT_CAL_050                        ;
13161 00001D46 8927                   M           BT      POS_START_ROT_CAL_050
13162                            4580     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   129
PROGRAM NAME =

13163 00001D48 D10F              4581             MOV.L   #_CPOS_CTL_MATH,R1                                      ;
13164 00001D4A 6011              4582             MOV.W   @R1,R0                                                          ;
13165 00001D4C C801              4583             TST     #(_DMATH_CNTROT),R0                                             ;
13166                            4584             TST_BIT_OF POS_START_ROT_CAL_040                        ;回転ではない 今のﾛｯﾄはそ
                                          のまま
13167 00001D4E 8921                   M           BT      POS_START_ROT_CAL_040
13168                            4585     
13169 00001D50 2888              4586             TST             R8,R8                                                           ;
13170                            4587             TST_BIT_OF POS_START_ROT_CAL_040                        ;待機点が0なら関係ない
13171 00001D52 891F                   M           BT      POS_START_ROT_CAL_040
13172                            4588     
13173 00001D54 D10D              4589             MOV.L   #_PAR_WTSEL_USE,R1                                      ;
13174 00001D56 6011              4590             MOV.W   @R1,R0                                                          ;
13175 00001D58 8801              4591             CMP/EQ  #1,R0                                                           ;
13176 00001D5A 8B1B              4592             BF              POS_START_ROT_CAL_040                           ;待機点選択無効
13177                            4593     
13178 00001D5C D10C              4594             MOV.L   #_INC_RESET_STEP,R1                                     ;
13179 00001D5E 6011              4595             MOV.W   @R1,R0                                                          ;
13180 00001D60 70FF              4596             ADD             #-1,R0                                                          ;
13181 00001D62 4008              4597             SHLL2   R0                                                                      ;4
                                          BYTE
13182 00001D64 30AC              4598             ADD             R10,R0                                                          ;
13183 00001D66 6302              4599             MOV.L   @R0,R3                                                          ;R4 目標
13184                            4600             M_BRA   POS_START_ROT_CAL_100                           ;この目標位置で計算
13185 00001D68 A026                   M           BRA     POS_START_ROT_CAL_100
13186 00001D6A 0009                   M           NOP
13187                            4601     
13188                            4602     
13189                                     ***** BEGIN-POOL *****
13190 00001D6C 00000000                   DATA FOR SOURCE-LINE 4551
13191 00001D70 00000000                   DATA FOR SOURCE-LINE 4552
13192 00001D74 00000000                   DATA FOR SOURCE-LINE 4555
13193 00001D78 00000000                   DATA FOR SOURCE-LINE 4557
13194 00001D7C 00000000                   DATA FOR SOURCE-LINE 4559
13195 00001D80 00000000                   DATA FOR SOURCE-LINE 4564
13196 00001D84 00000000                   DATA FOR SOURCE-LINE 4576
13197 00001D88 00000000                   DATA FOR SOURCE-LINE 4581
13198 00001D8C 00000000                   DATA FOR SOURCE-LINE 4589
13199 00001D90 00000000                   DATA FOR SOURCE-LINE 4594
13200                                     ***** END-POOL *****
13201 00001D94                   4603     POS_START_ROT_CAL_040:
13202                            4604             M_BRA   POS_START_ROT_CAL_900                   ;
13203 00001D94 A01E                   M           BRA     POS_START_ROT_CAL_900
13204 00001D96 0009                   M           NOP
13205                            4605     
13206                            4606     
13207                            4607     
13208 00001D98                   4608     POS_START_ROT_CAL_050:
13209                            4609     
13210                            4610     
13211                            4611     
13212                            4612     
13213                            4613     
13214                            4614     
13215                            4615     
13216                            4616     
13217                            4617     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   130
PROGRAM NAME =

13218                            4618     ;       ----- 2014-09-19　ふりこ反対側待機点からの初起動-----------
13219 00001D98 D105              4619             MOV.L   #_CPOS_CTL_MATH,R1                      ;
13220 00001D9A 6011              4620             MOV.W   @R1,R0                                  ;
13221 00001D9C C804              4621             TST     #(_DMATH_DNDRIV),R0                     ;往復
13222                            4622             TST_BIT_OF POS_START_ROT_CAL_100                ;
13223 00001D9E 890B                   M           BT      POS_START_ROT_CAL_100
13224                            4623     
13225 00001DA0 D104              4624             MOV.L   #_DNM_DIR_NOW_FLG,R1                    ;//このフラグでいいのかな？
13226 00001DA2 6011              4625             MOV.W   @R1,R0                                  ;
13227 00001DA4 2008              4626             TST     R0,R0                                   ;
13228                            4627             TST_BIT_OF POS_START_ROT_CAL_100                ;ふりこの通常側からの起動
13229 00001DA6 8907                   M           BT      POS_START_ROT_CAL_100
13230                            4628     
13231                            4629     ;-------いいのかな?
13232 00001DA8 3833              4630             CMP/GE  R3,R8                                   ;目標=<待機点
13233 00001DAA 8913              4631             BT      POS_START_ROT_CAL_900                   ;逆転から始まる
13234                            4632             M_BRA   POS_START_ROT_CAL_999                   ;-1回転
13235 00001DAC A020                   M           BRA     POS_START_ROT_CAL_999
13236 00001DAE 0009                   M           NOP
13237                            4633     
13238                            4634     
13239                            4635     
13240                            4636     ;---------------- 今までの回転、反転、ふりこ右側待機・・正転から始まる-----------
13241                                     ***** BEGIN-POOL *****
13242 00001DB0 00000000                   DATA FOR SOURCE-LINE 4619
13243 00001DB4 00000000                   DATA FOR SOURCE-LINE 4624
13244                                     ***** END-POOL *****
13245 00001DB8                   4637     POS_START_ROT_CAL_100:
13246 00001DB8 3373              4638             CMP/GE  R7,R3                                   ;1REV =< SV
13247 00001DBA 8903              4639             BT      POS_START_ROT_CAL_200                   ;
13248                            4640     ;       ======= 0度をはさまない ====
13249 00001DBC 3937              4641             CMP/GT  R3,R9                                   ;
13250 00001DBE 890F              4642             BT      POS_START_ROT_CAL_950                   ;待機(R8)<SV(R3)<NOW
13251                            4643             M_BRA   POS_START_ROT_CAL_900                   ;
13252 00001DC0 A008                   M           BRA     POS_START_ROT_CAL_900
13253 00001DC2 0009                   M           NOP
13254                            4644     
13255                            4645     ;       ====== ０度を挟む===
13256 00001DC4                   4646     POS_START_ROT_CAL_200:
13257 00001DC4 3897              4647             CMP/GT  R9,R8                                   ;待機点以下?
13258 00001DC6 8B05              4648             BF      POS_START_ROT_CAL_900                   ;NO! 待機点~360度
13259 00001DC8 6593              4649             MOV     R9,R5
13260 00001DCA 357C              4650             ADD     R7,R5                                   ;1REV+NOW
13261 00001DCC 3537              4651             CMP/GT  R3,R5                                   ;SV < NOW
13262 00001DCE 8901              4652             BT      POS_START_ROT_CAL_900                   ;YES
13263                            4653             M_BRA   POS_START_ROT_CAL_999                   ;
13264 00001DD0 A00E                   M           BRA     POS_START_ROT_CAL_999
13265 00001DD2 0009                   M           NOP
13266                            4654     
13267                            4655     
13268                            4656     
13269                            4657     ;       ===== そのまま =====
13270 00001DD4                   4658     POS_START_ROT_CAL_900
13271 00001DD4 D401              4659             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13272 00001DD6 6242              4660             MOV.L   @R4,R2                                  ;
13273                            4661             M_BRA   NEXT_CYCL_STR1_050                      ;
13274 00001DD8 A018                   M           BRA     NEXT_CYCL_STR1_050
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   131
PROGRAM NAME =

13275 00001DDA 0009                   M           NOP
13276                            4662     
13277                            4663     ;       ===== +1 =====
13278                                     ***** BEGIN-POOL *****
13279 00001DDC 00000000                   DATA FOR SOURCE-LINE 4659
13280                                     ***** END-POOL *****
13281 00001DE0                   4664     POS_START_ROT_CAL_950
13282 00001DE0 D402              4665             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13283 00001DE2 6242              4666             MOV.L   @R4,R2                                  ;
13284 00001DE4 7201              4667             ADD     #1,R2                                   ;
13285                            4668             M_BRA   NEXT_CYCL_STR1_050                      ;
13286 00001DE6 A011                   M           BRA     NEXT_CYCL_STR1_050
13287 00001DE8 0009                   M           NOP
13288                            4669     
13289                            4670     ;       ===== -1 =====
13290                                     ***** BEGIN-POOL *****
13291 00001DEA 0000                       ALIGNMENT CODE
13292 00001DEC 00000000                   DATA FOR SOURCE-LINE 4665
13293                                     ***** END-POOL *****
13294 00001DF0                   4671     POS_START_ROT_CAL_999
13295 00001DF0 D402              4672             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13296 00001DF2 6242              4673             MOV.L   @R4,R2                                  ;
13297 00001DF4 72FF              4674             ADD     #-1,R2                                  ;
13298                            4675             M_BRA   NEXT_CYCL_STR1_050                      ;
13299 00001DF6 A009                   M           BRA     NEXT_CYCL_STR1_050
13300 00001DF8 0009                   M           NOP
13301                            4676     
13302                                     ***** BEGIN-POOL *****
13303 00001DFA 0000                       ALIGNMENT CODE
13304 00001DFC 00000000                   DATA FOR SOURCE-LINE 4672
13305                                     ***** END-POOL *****
13306 00001E00                   4677             .ALIGN  4                               ;
13307 00001E00                   4678     _NEXT_CYCL_START1:
13308                            4679             SUB_START
13309 00001E00 4F22                   M           STS.L   PR,@-R15                ;[必要]
13310                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13311 00001E02 D111              4680             MOV.L   #_CPOS_CTL_MATH,R1              ;
13312 00001E04 6011              4681             MOV.W   @R1,R0                          ;
13313 00001E06 C801              4682             TST     #_DMATH_CNTROT,R0               ;回転?
13314                            4683             TST_BIT_OF NEXT_CYCL_STR1_050
13315 00001E08 8900                   M           BT      NEXT_CYCL_STR1_050
13316 00001E0A 7201              4684             ADD     #1,R2                           ;回転数+1<反転>
13317 00001E0C                   4685     NEXT_CYCL_STR1_050:
13318                            4686     
13319                            4687     ;       === 2004-12-20====
13320 00001E0C D40F              4688             MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R4
13321 00001E0E 2422              4689             MOV.L   R2,@R4
13322                            4690     
13323 00001E10 9418              4691             MOV.W   #1,R4
13324 00001E12 D10F              4692             MOV.L   #_SV_POS_CTL_STEP,R1            ;
13325 00001E14 2141              4693             MOV.W   R4,@R1                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
13326                            4694             PUSH_REG1 R2
13327 00001E16 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
13328                                 M                                           ;REG=>[SP]
13329                                 M                                           ;"-4" FF,FF,FF,FC
13330                            4695             FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   132
PROGRAM NAME =

13331 00001E18 D10E                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13332 00001E1A 410B                   M           JSR     @R1                     ;
13333 00001E1C 0009                   M           NOP                                     ;
13334                            4696             POP_REG1 R2
13335                                 M                                   ; RE"+4" 00,00,00,04
13336 00001E1E 62F6                   M           MOV.L   @R15+,R2        ;
13337                            4697             FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
13338 00001E20 D10D                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13339 00001E22 410B                   M           JSR     @R1                     ;
13340 00001E24 0009                   M           NOP                                     ;
13341                            4698     
13342                            4699     ;       =====2003-07-09 速度============
13343                            4700             FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
13344 00001E26 D00D                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13345 00001E28 400B                   M           JSR     @R0                     ;
13346 00001E2A 0009                   M           NOP                                     ;
13347                            4701     ;       ===== 2003-07-14 TIME ======
13348                            4702             FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
13349 00001E2C D00C                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13350 00001E2E 400B                   M           JSR     @R0                     ;
13351 00001E30 0009                   M           NOP                                     ;
13352                            4703     
13353                            4704     
13354                            4705     ;       --------2012-05-15 反転、全モードのタイマ時はタイマ処理から再開をクリア[3/]　次ｻｲｸ
                                          ﾙ開始----
13355                            4706     ;       基本的にはなくてすむはずかな?
13356                            4707             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
13357 00001E32 200A                   M           XOR     R0,R0           ;
13358 00001E34 D10B                   M           MOV.L   #_DURING_TIM_FX,R1      ;
13359 00001E36 2101                   M           MOV.W   R0,@R1          ;
13360                            4708     
13361                            4709     
13362                            4710     ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
13363                            4711             FAR_JSR #_HLDCAM_ABS_POS_SET,R1         ;
13364 00001E38 D10B                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13365 00001E3A 410B                   M           JSR     @R1                     ;
13366 00001E3C 0009                   M           NOP                                     ;
13367                            4712     
13368                            4713     
13369                            4714     
13370                            4715             SUB_END
13371                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13372 00001E3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13373                            4716             M_RTS
13374 00001E40 000B                   M           RTS                             ;RTSの後ろの
13375 00001E42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13376                            4717     
13377                            4718     
13378                            4719     
13379                            4720     
13380                            4721     
13381                            4722     
13382                            4723     
13383                            4724     
13384                            4725     
13385                            4726     
13386                            4727     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   133
PROGRAM NAME =

13387                            4728     
13388                            4729     
13389                            4730     
13390                            4731     
13391                            4732     
13392                            4733     
13393                            4734     
13394                            4735     
13395                            4736     ;       ***********************************************************
13396                            4737     ;       ***                                                     ***
13397                            4738     ;       ***     連続速度中の速度と連続内のｽﾃｯﾌﾟ切り替え         ***
13398                            4739     ;       ***                                                     ***
13399                            4740     ;       ***********************************************************
13400                            4741     ;       連続だ。自分の切り替え位置を超えたら＋１する。もし、ＭＡＸステップを超えたら１にす
                                          る
13401                            4742     ;
13402                            4743     ;
13403                                     ***** BEGIN-POOL *****
13404 00001E44 0001                       DATA FOR SOURCE-LINE 4691
13405 00001E46 0000                       ALIGNMENT CODE
13406 00001E48 00000000                   DATA FOR SOURCE-LINE 4680
13407 00001E4C 00000000                   DATA FOR SOURCE-LINE 4688
13408 00001E50 00000000                   DATA FOR SOURCE-LINE 4692
13409 00001E54 00000000                   DATA FOR SOURCE-LINE 4695
13410 00001E58 00000000                   DATA FOR SOURCE-LINE 4697
13411 00001E5C 00000000                   DATA FOR SOURCE-LINE 4700
13412 00001E60 00000000                   DATA FOR SOURCE-LINE 4702
13413 00001E64 00000000                   DATA FOR SOURCE-LINE 4707
13414 00001E68 00000000                   DATA FOR SOURCE-LINE 4711
13415                                     ***** END-POOL *****
13416 00001E6C                   4744             .ALIGN  4                               ;
13417 00001E6C                   4745     _SPD_STEP_CHG_FWD:
13418                            4746             SUB_START
13419 00001E6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13420                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13421 00001E6E DB12              4747             MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
13422 00001E70 69B1              4748             MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
13423 00001E72 6793              4749             MOV     R9,R7                                                   ;
13424 00001E74 77FF              4750             ADD     #-1,R7                                                  ;
13425 00001E76 4708              4751             SHLL2   R7                                                      ;
13426 00001E78 6273              4752             MOV     R7,R2
13427 00001E7A 4200              4753             SHLL    R2
13428 00001E7C D00F              4754             MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
13429 00001E7E 302C              4755             ADD     R2,R0
13430 00001E80 6106              4756             MOV.L   @R0+,R1                                                 ;位置
13431 00001E82 6202              4757             MOV.L   @R0,R2                                                  ;
13432                            4758     
13433 00001E84 D40E              4759             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
13434 00001E86 6546              4760             MOV.L   @R4+,R5                                                 ;
13435 00001E88 6642              4761             MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
13436                            4762     
13437 00001E8A D00E              4763             MOV.L   #_CPOS_SDAT1_INF1,R0            ;[12];          //SETX-->起動時COPY
13438 00001E8C 007E              4764             MOV.L   @(R0,R7),R0                     ;BIT0=1連続
13439 00001E8E C801              4765             TST     #BIT0,R0                        ;
13440                            4766             TST_BIT_OF SPD_STEP_CHGFWD_EXT          ;連続? NO EXIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   134
PROGRAM NAME =

13441 00001E90 894B                   M           BT      SPD_STEP_CHGFWD_EXT
13442 00001E92 C802              4767             TST     #BIT1,R0                        ;
13443                            4768             TST_BIT_ON SPD_STEP_CHGFWD_100          ;逆転方向 THEN JUMP
13444 00001E94 8B1E                   M           BF      SPD_STEP_CHGFWD_100
13445                            4769     ;       ===== 正転方向 =======
13446                            4770             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;(ｲｺｰﾙでは切り替え
                                          ない)
13447 00001E96 0008                   M           CLRT
13448 00001E98 326A                   M           SUBC    R6,R2
13449 00001E9A 315A                   M           SUBC    R5,R1
13450 00001E9C 4111              4771             CMP/PZ  R1                              ;
13451 00001E9E 8B1E              4772             BF      SPD_STEP_CHGFWD_200             ;"-":超えた
13452                            4773     
13453                            4774     ;       ====== 2013-04-14 反転手前処理[反転手前で止めるため、その区間に停止がある場合の処
                                          理]======
13454 00001EA0 D109              4775             MOV.L   #_CPOS_CTL_MATH,R1                      ;
13455 00001EA2 6011              4776             MOV.W   @R1,R0                                  ;
13456 00001EA4 C805              4777             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
13457                            4778             TST_BIT_ON SPD_STEP_CHGFWD_090                  ;
13458 00001EA6 8B13                   M           BF      SPD_STEP_CHGFWD_090
13459                            4779     
13460                            4780             FAR_JSR #_REV_BEFORE_CHGKOUTEICHK,R0            ;反転
13461 00001EA8 D008                   M           MOV.L   #_REV_BEFORE_CHGKOUTEICHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13462 00001EAA 400B                   M           JSR     @R0                     ;
13463 00001EAC 0009                   M           NOP                                     ;
13464 00001EAE 2008              4781             TST     R0,R0                                   ;
13465                            4782             TST_BIT_OF SPD_STEP_CHGFWD_090                  ;
13466 00001EB0 890E                   M           BT      SPD_STEP_CHGFWD_090
13467 00001EB2 6923              4783             MOV     R2,R9                                   ;行程
13468                            4784             M_BRA   SPD_STEP_CHGFWD_202                     ;2013-04-14追加
13469 00001EB4 A014                   M           BRA     SPD_STEP_CHGFWD_202
13470 00001EB6 0009                   M           NOP
13471                            4785     
13472                                     ***** BEGIN-POOL *****
13473 00001EB8 00000000                   DATA FOR SOURCE-LINE 4747
13474 00001EBC 00000000                   DATA FOR SOURCE-LINE 4754
13475 00001EC0 00000000                   DATA FOR SOURCE-LINE 4759
13476 00001EC4 00000000                   DATA FOR SOURCE-LINE 4763
13477 00001EC8 00000000                   DATA FOR SOURCE-LINE 4775
13478 00001ECC 00000000                   DATA FOR SOURCE-LINE 4780
13479                                     ***** END-POOL *****
13480 00001ED0                   4786     SPD_STEP_CHGFWD_090:
13481                            4787             M_BRA   SPD_STEP_CHGFWD_EXT             ;SV-PV >=0 EXIT (SV >= PV)
13482 00001ED0 A02B                   M           BRA     SPD_STEP_CHGFWD_EXT
13483 00001ED2 0009                   M           NOP
13484                            4788     
13485                            4789     
13486 00001ED4                   4790     SPD_STEP_CHGFWD_100:
13487                            4791     ;       ===== 逆転方向 =======
13488                            4792             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;(ｲｺｰﾙでは切り替え
                                          ない)
13489 00001ED4 0008                   M           CLRT
13490 00001ED6 362A                   M           SUBC    R2,R6
13491 00001ED8 351A                   M           SUBC    R1,R5
13492 00001EDA 4511              4793             CMP/PZ  R5                              ;
13493 00001EDC 8925              4794             BT      SPD_STEP_CHGFWD_EXT             ;PV-SV >=0 EXIT (PV >= SV)
13494 00001EDE                   4795     SPD_STEP_CHGFWD_200:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   135
PROGRAM NAME =

13495 00001EDE 7901              4796             ADD     #1,R9                           ;NEXT STEP SET
13496                            4797     
13497 00001EE0                   4798     SPD_STEP_CHGFWD_202:                            ;2013-04-14追加
13498 00001EE0 D105              4799             MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
13499 00001EE2 6211              4800             MOV.W   @R1,R2                          ;
13500 00001EE4 7201              4801             ADD     #1,R2                           ;
13501 00001EE6 3292              4802             CMP/HS  R9,R2                           ;STEP+1=<MAX
13502 00001EE8 890A              4803             BT      SPD_STEP_CHGFWD_250             ;
13503                            4804     
13504                            4805     ;       === 何の意味のチェックだろう？最大工程＋１＜管理ステップの意味？
13505                            4806             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT3,WKREG=R3      ;
13506 00001EEA D304                   M           MOV.L   #_POSLSI_CHK_STS,R3             ;
13507 00001EEC 6031                   M           MOV.W   @R3,R0          ;
13508 00001EEE CB08                   M           OR      #BIT3,R0                ;
13509 00001EF0 2301                   M           MOV.W   R0,@R3          ;
13510                            4807             M_BRA   SPD_STEP_CHGFWD_EXT                                             ;
13511 00001EF2 A01A                   M           BRA     SPD_STEP_CHGFWD_EXT
13512 00001EF4 0009                   M           NOP
13513                            4808     
13514                                     ***** BEGIN-POOL *****
13515 00001EF6 0000                       ALIGNMENT CODE
13516 00001EF8 00000000                   DATA FOR SOURCE-LINE 4799
13517 00001EFC 00000000                   DATA FOR SOURCE-LINE 4806
13518                                     ***** END-POOL *****
13519 00001F00                   4809     SPD_STEP_CHGFWD_250:                            ;
13520 00001F00 2B91              4810             MOV.W   R9,@R11                         ;ﾀｲﾏLOAD
13521                            4811     ;       ==========================================
13522                            4812     ;       =================================================
13523 00001F02 D00B              4813             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
13524 00001F04 2091              4814             MOV.W   R9,@R0                  ;
13525                            4815     ;       ================================================
13526 00001F06 79FF              4816             ADD     #-1,R9                          ;
13527 00001F08 4908              4817             SHLL2   R9                              ;
13528 00001F0A D00A              4818             MOV.L   #_CPOS_SDAT1_SPD,R0             ;
13529 00001F0C 029E              4819             MOV.L   @(R0,R9),R2                     ;
13530 00001F0E D10A              4820             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
13531 00001F10 2122              4821             MOV.L   R2,@R1                          ;
13532                            4822             FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1     ;
13533 00001F12 D10A                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13534 00001F14 410B                   M           JSR     @R1                     ;
13535 00001F16 0009                   M           NOP                                     ;
13536                            4823     
13537                            4824     
13538                            4825     ;       =======================================
13539 00001F18 D109              4826             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
13540 00001F1A 200A              4827             XOR     R0,R0                           ;
13541 00001F1C 2101              4828             MOV.W   R0,@R1                          ;
13542                            4829     ;       =========================================
13543                            4830             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_END,R0
13544 00001F1E D009                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_END,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13545 00001F20 400B                   M           JSR     @R0                     ;
13546 00001F22 0009                   M           NOP                                     ;
13547                            4831             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0
13548 00001F24 D008                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13549 00001F26 400B                   M           JSR     @R0                     ;
13550 00001F28 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   136
PROGRAM NAME =

13551                            4832     
13552                            4833             .AIF    0 EQ    0
13553                            4834             .AELSE
13554                            4835             FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
13555                            4836             .AENDI
13556                            4837     
13557                            4838     
13558 00001F2A                   4839     SPD_STEP_CHGFWD_EXT:
13559                            4840             SUB_END
13560                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13561 00001F2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13562                            4841             M_RTS
13563 00001F2C 000B                   M           RTS                             ;RTSの後ろの
13564 00001F2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13565                            4842     
13566                            4843     
13567                            4844     
13568                            4845     
13569                            4846     ;       === 2004-01-26 連続寸動一工程　===
13570                            4847     ;       == _CCS_STEP_NEXT_CHK ===
13571                            4848     ;;;;;;;;;;;;;;不要ですね20060930        .INCLUDE        "ssa_ccss.inc"          ; //
13572                            4849     
13573                            4850     
13574                            4851     ;       *******************************************
13575                            4852     ;       ***                                     ***
13576                            4853     ;       ***             段取/待機点復帰         ***
13577                            4854     ;       ***                                     ***
13578                            4855     ;       *******************************************
13579                                     ***** BEGIN-POOL *****
13580 00001F30 00000000                   DATA FOR SOURCE-LINE 4813
13581 00001F34 00000000                   DATA FOR SOURCE-LINE 4818
13582 00001F38 00000000                   DATA FOR SOURCE-LINE 4820
13583 00001F3C 00000000                   DATA FOR SOURCE-LINE 4822
13584 00001F40 00000000                   DATA FOR SOURCE-LINE 4826
13585 00001F44 00000000                   DATA FOR SOURCE-LINE 4830
13586 00001F48 00000000                   DATA FOR SOURCE-LINE 4831
13587                                     ***** END-POOL *****
13588          000001F4          4856     _EQ_STOP_START_WAIT_ORG         .EQU    D'500   ;100mec(3000sec)
13589          00000064          4857     _EQ_STOP_START_WAIT_DND         .EQU    D'100   ;
13590                            4858     ;
13591                            4859     ;       ==============
13592 00001F4C                   4860             .ALIGN  4                               ;
13593 00001F4C                   4861     _DND_ALL_STEP_CTRL:
13594                            4862             SUB_START
13595 00001F4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13596                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13597 00001F4E D106              4863             MOV.L   #_MODE_SEL,R1                   ;
13598 00001F50 6011              4864             MOV.W   @R1,R0                          ;
13599 00001F52 C840              4865             TST     #_W1DUP,R0              ;
13600                            4866             TST_BIT_ON DND_ALLSTEPCTL_020   ;原点復帰
13601 00001F54 8B24                   M           BF      DND_ALLSTEPCTL_020
13602                            4867     
13603                            4868     ;       ------ 2006-07-28 -----
13604 00001F56 D105              4869             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
13605 00001F58 6011              4870             MOV.W   @R1,R0                          ;
13606 00001F5A 2008              4871             TST     R0,R0                           ;
13607                            4872             TST_BIT_OF DND_ALLSTEPCTL_005           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   137
PROGRAM NAME =

13608 00001F5C 890A                   M           BT      DND_ALLSTEPCTL_005
13609                            4873             FAR_JSR #_DND_TEP_STEP_CTRL,R0          ;
13610 00001F5E D004                   M           MOV.L   #_DND_TEP_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13611 00001F60 400B                   M           JSR     @R0                     ;
13612 00001F62 0009                   M           NOP                                     ;
13613                            4874             M_BRA   DND_ALLSTEPCTL_900              ;
13614 00001F64 A17D                   M           BRA     DND_ALLSTEPCTL_900
13615 00001F66 0009                   M           NOP
13616                            4875     
13617                                     ***** BEGIN-POOL *****
13618 00001F68 00000000                   DATA FOR SOURCE-LINE 4863
13619 00001F6C 00000000                   DATA FOR SOURCE-LINE 4869
13620 00001F70 00000000                   DATA FOR SOURCE-LINE 4873
13621                                     ***** END-POOL *****
13622 00001F74                   4876     DND_ALLSTEPCTL_005:
13623                            4877     
13624 00001F74 D104              4878             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
13625 00001F76 6011              4879             MOV.W   @R1,R0                          ;
13626 00001F78 C802              4880             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
13627                            4881             TST_BIT_OF DND_ALLSTEPCTL_010           ;
13628 00001F7A 8909                   M           BT      DND_ALLSTEPCTL_010
13629                            4882     
13630                            4883     ;       ==== 反転段取寸動========
13631                            4884             FAR_JSR #_DND_NEG_STEP_CTRL,R0          ;
13632 00001F7C D003                   M           MOV.L   #_DND_NEG_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13633 00001F7E 400B                   M           JSR     @R0                     ;
13634 00001F80 0009                   M           NOP                                     ;
13635                            4885             M_BRA   DND_ALLSTEPCTL_900
13636 00001F82 A16E                   M           BRA     DND_ALLSTEPCTL_900
13637 00001F84 0009                   M           NOP
13638                            4886     
13639                                     ***** BEGIN-POOL *****
13640 00001F86 0000                       ALIGNMENT CODE
13641 00001F88 00000000                   DATA FOR SOURCE-LINE 4878
13642 00001F8C 00000000                   DATA FOR SOURCE-LINE 4884
13643                                     ***** END-POOL *****
13644 00001F90                   4887     DND_ALLSTEPCTL_010:
13645                            4888             FAR_JSR #_DND_ROT_STEP_CTRL,R0          ;[]
13646 00001F90 D002                   M           MOV.L   #_DND_ROT_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13647 00001F92 400B                   M           JSR     @R0                     ;
13648 00001F94 0009                   M           NOP                                     ;
13649                            4889             M_BRA   DND_ALLSTEPCTL_900
13650 00001F96 A164                   M           BRA     DND_ALLSTEPCTL_900
13651 00001F98 0009                   M           NOP
13652                            4890     
13653                            4891     ;       ================================
13654                            4892     ;       ======== 待機点復帰 ============
13655                            4893     ;       ================================
13656                                     ***** BEGIN-POOL *****
13657 00001F9A 0000                       ALIGNMENT CODE
13658 00001F9C 00000000                   DATA FOR SOURCE-LINE 4888
13659                                     ***** END-POOL *****
13660 00001FA0                   4894     DND_ALLSTEPCTL_020:
13661 00001FA0 D102              4895             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
13662 00001FA2 6011              4896             MOV.W   @R1,R0                          ;BIT
13663 00001FA4 C840              4897             TST     #BIT6,R0                        ;
13664                            4898             TST_BIT_OF DND_ALLSTEPCTL_050           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   138
PROGRAM NAME =

13665 00001FA6 8903                   M           BT      DND_ALLSTEPCTL_050
13666                            4899             M_BRA   DND_ALLSTEPCTL_900              ;位置決め完了
13667 00001FA8 A15B                   M           BRA     DND_ALLSTEPCTL_900
13668 00001FAA 0009                   M           NOP
13669                            4900     
13670                                     ***** BEGIN-POOL *****
13671 00001FAC 00000000                   DATA FOR SOURCE-LINE 4895
13672                                     ***** END-POOL *****
13673 00001FB0                   4901     DND_ALLSTEPCTL_050:
13674                            4902     ;       ===== 2004-05-23 =======
13675                            4903             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST2,R0     ;.BIT1
13676 00001FB0 D008                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13677 00001FB2 400B                   M           JSR     @R0                     ;
13678 00001FB4 0009                   M           NOP                                     ;
13679                            4904     ;       ========================
13680                            4905     
13681                            4906     
13682 00001FB6 D108              4907             MOV.L   #_INT_DND_CTL_STEP,R1           ;
13683 00001FB8 6011              4908             MOV.W   @R1,R0                          ;
13684 00001FBA C802              4909             TST     #BIT1,R0
13685                            4910             TST_BIT_ON DND_ALLSTEPCTL_060           ;第３工程中　EXIT
13686 00001FBC 8B04                   M           BF      DND_ALLSTEPCTL_060
13687 00001FBE C801              4911             TST     #BIT0,R0                        ;
13688                            4912             TST_BIT_OF DND_ALLSTEPCTL_060           ;第２工程前
13689 00001FC0 8902                   M           BT      DND_ALLSTEPCTL_060
13690                            4913             FAR_JSR #_ORGIN_MODE_SMP,R0             ;SMPLING
13691 00001FC2 D006                   M           MOV.L   #_ORGIN_MODE_SMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13692 00001FC4 400B                   M           JSR     @R0                     ;
13693 00001FC6 0009                   M           NOP                                     ;
13694 00001FC8                   4914     DND_ALLSTEPCTL_060:                             ;
13695                            4915     
13696 00001FC8 D105              4916             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
13697 00001FCA 6011              4917             MOV.W   @R1,R0                          ;BIT
13698 00001FCC C803              4918             TST     #(BIT1+BIT0),R0                 ;
13699                            4919             TST_BIT_OF DND_ALLSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
13700 00001FCE 8909                   M           BT      DND_ALLSTEPCTL_100
13701                            4920             M_BRA   DND_ALLSTEPCTL_300              ;BIT1:次の回転起動
13702 00001FD0 A024                   M           BRA     DND_ALLSTEPCTL_300
13703 00001FD2 0009                   M           NOP
13704                            4921     
13705                                     ***** BEGIN-POOL *****
13706 00001FD4 00000000                   DATA FOR SOURCE-LINE 4903
13707 00001FD8 00000000                   DATA FOR SOURCE-LINE 4907
13708 00001FDC 00000000                   DATA FOR SOURCE-LINE 4913
13709 00001FE0 00000000                   DATA FOR SOURCE-LINE 4916
13710                                     ***** END-POOL *****
13711 00001FE4                   4922     DND_ALLSTEPCTL_100:
13712                            4923             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
13713 00001FE4 D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13714 00001FE6 410B                   M           JSR     @R1                     ;
13715 00001FE8 0009                   M           NOP                                     ;
13716 00001FEA C804              4924             TST     #BIT2,R0                        ;停止?
13717                            4925             TST_BIT_ON DND_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
13718 00001FEC 8B08                   M           BF      DND_ALLSTEPCTL_200
13719                            4926             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
13720 00001FEE D003                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13721 00001FF0 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   139
PROGRAM NAME =

13722 00001FF2 0009                   M           NOP                                     ;
13723                            4927             M_BRA   DND_ALLSTEPCTL_900              ;
13724 00001FF4 A135                   M           BRA     DND_ALLSTEPCTL_900
13725 00001FF6 0009                   M           NOP
13726                            4928     
13727                            4929     
13728                            4930     ;       ====== 停止 =====
13729                            4931             .IMPORT _PAR_START_WAIT_DND                     ;段取時切替WAIT時間
13730                                     ***** BEGIN-POOL *****
13731 00001FF8 00000000                   DATA FOR SOURCE-LINE 4923
13732 00001FFC 00000000                   DATA FOR SOURCE-LINE 4926
13733                                     ***** END-POOL *****
13734 00002000                   4932     DND_ALLSTEPCTL_200:
13735 00002000 9107              4933             MOV.W   #_EQ_STOP_START_WAIT_ORG,R1             ;段取時切替WAIT時間
13736 00002002 D404              4934             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
13737 00002004 2412              4935             MOV.L   R1,@R4                  ;
13738                            4936     
13739                            4937             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1
13740 00002006 D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13741 00002008 6011                   M           MOV.W   @R1,R0          ;
13742 0000200A CB01                   M           OR      #BIT0,R0                ;
13743 0000200C 2101                   M           MOV.W   R0,@R1          ;
13744                            4938             M_BRA   DND_ALLSTEPCTL_900      ;
13745 0000200E A128                   M           BRA     DND_ALLSTEPCTL_900
13746 00002010 0009                   M           NOP
13747                            4939     
13748                                     ***** BEGIN-POOL *****
13749 00002012 01F4                       DATA FOR SOURCE-LINE 4933
13750 00002014 00000000                   DATA FOR SOURCE-LINE 4934
13751 00002018 00000000                   DATA FOR SOURCE-LINE 4937
13752                                     ***** END-POOL *****
13753 0000201C                   4940     DND_ALLSTEPCTL_300:
13754 0000201C C802              4941             TST     #BIT1,R0                ;
13755                            4942             TST_BIT_ON DND_ALLSTEPCTL_400   ;
13756 0000201E 8B13                   M           BF      DND_ALLSTEPCTL_400
13757                            4943     
13758                            4944             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
13759 00002020 D107                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
13760 00002022 6412                   M           MOV.L   @R1,R4          ;
13761 00002024 2448                   M           TST     R4,R4                   ;
13762 00002026 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
13763 00002028 4410                   M           DT      R4                              ;
13764 0000202A 2142                   M           MOV.L   R4,@R1          ;STORE
13765 0000202C                        M   JMP_0100005:
13766 0000202C D404              4945             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
13767 0000202E 6142              4946             MOV.L   @R4,R1                  ;
13768 00002030 2118              4947             TST     R1,R1                   ;
13769                            4948             TST_BIT_ON DND_ALLSTEPCTL_320   ;DND_ALLSTEPCTL_900     ;
13770 00002032 8B03                   M           BF      DND_ALLSTEPCTL_320
13771                            4949             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
13772 00002034 D103                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13773 00002036 6011                   M           MOV.W   @R1,R0          ;
13774 00002038 CB02                   M           OR      #BIT1,R0                ;
13775 0000203A 2101                   M           MOV.W   R0,@R1          ;
13776 0000203C                   4950     DND_ALLSTEPCTL_320:
13777                            4951             M_BRA   DND_ALLSTEPCTL_900      ;
13778 0000203C A111                   M           BRA     DND_ALLSTEPCTL_900
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   140
PROGRAM NAME =

13779 0000203E 0009                   M           NOP
13780                            4952     
13781                            4953     
13782                            4954     ;       ======= 次の起動の演算または終了の判断=====
13783                                     ***** BEGIN-POOL *****
13784 00002040 00000000                   DATA FOR SOURCE-LINE 4944,4945
13785 00002044 00000000                   DATA FOR SOURCE-LINE 4949
13786                                     ***** END-POOL *****
13787 00002048                   4955     DND_ALLSTEPCTL_400:
13788 00002048 D502              4956             MOV.L   #_INT_DND_CTL_STEP,R5   ;
13789 0000204A 6051              4957             MOV.W   @R5,R0                  ;
13790 0000204C C802              4958             TST     #BIT1,R0                ;BIT0=1 FIRST END BIT1=1 SECOND END
13791                            4959             TST_BIT_OF DND_ALLSTEPCTL_420   ;
13792 0000204E 8903                   M           BT      DND_ALLSTEPCTL_420
13793                            4960             M_BRA   DND_ALLSTEPCTL_600      ;YES 最終工程だった JUMP
13794 00002050 A0F6                   M           BRA     DND_ALLSTEPCTL_600
13795 00002052 0009                   M           NOP
13796                                     ***** BEGIN-POOL *****
13797 00002054 00000000                   DATA FOR SOURCE-LINE 4956
13798                                     ***** END-POOL *****
13799 00002058                   4961     DND_ALLSTEPCTL_420:
13800                            4962     
13801                            4963     
13802 00002058 C801              4964             TST     #BIT0,R0                        ;
13803                            4965             TST_BIT_OF DND_ALLSTEPCTL_425           ;
13804 0000205A 8901                   M           BT      DND_ALLSTEPCTL_425
13805                            4966             M_BRA   DND_ALLSTEPCTL_500              ;
13806 0000205C A0A0                   M           BRA     DND_ALLSTEPCTL_500
13807 0000205E 0009                   M           NOP
13808 00002060                   4967     DND_ALLSTEPCTL_425:
13809                            4968     
13810                            4969     ;       ===========================
13811                            4970     ;       ===     2003-07-09      ===
13812                            4971     ;       ===========================
13813                            4972     ;       BIT0=0のままでn往復動作を行う
13814 00002060 D113              4973             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13815 00002062 6011              4974             MOV.W   @R1,R0                          ;
13816 00002064 2008              4975             TST     R0,R0                           ;
13817                            4976             TST_BIT_OF DND_ALLSTEPCTL_450           ;(今までのｿﾌﾄを流す)
13818 00002066 8975                   M           BT      DND_ALLSTEPCTL_450
13819                            4977     ;
13820                            4978     ;       == _ORG_RDY_CTL_FLG BIT0 を使用する ===
13821 00002068 D512              4979             MOV.L   #_ORG_RDY_CTL_FLG,R5            ;[2工程/3工程の切り替えﾌﾗｸﾞ]
13822 0000206A 6051              4980             MOV.W   @R5,R0                          ;
13823 0000206C C801              4981             TST     #BIT0,R0                        ;
13824                            4982             TST_BIT_ON DND_ORGIN_STEP_050           ;
13825 0000206E 8B35                   M           BF      DND_ORGIN_STEP_050
13826 00002070 CB01              4983             OR      #BIT0,R0                        ;
13827 00002072 2501              4984             MOV.W   R0,@R5                          ;
13828                            4985     
13829                            4986     ;       ===== 第２工程開始(補正なし "+") ======
13830                            4987     ;       ======== 20060919 ======================
13831                            4988     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
13832                            4989             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
13833 00002074 D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13834 00002076 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   141
PROGRAM NAME =

13835 00002078 0009                   M           NOP                                     ;
13836                            4990     ;       =======================================
13837                            4991             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
13838 0000207A D010                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13839 0000207C 400B                   M           JSR     @R0                     ;
13840 0000207E 0009                   M           NOP                                     ;
13841                            4992             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;ANS R2
13842 00002080 D00F                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13843 00002082 400B                   M           JSR     @R0                     ;
13844 00002084 0009                   M           NOP                                     ;
13845                            4993             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13846 00002086 D10F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13847 00002088 410B                   M           JSR     @R1                     ;
13848 0000208A 0009                   M           NOP                                     ;
13849                            4994     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
13850 0000208C D50E              4995             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
13851 0000208E 6152              4996             MOV.L   @R5,R1                          ;
13852 00002090 5251              4997             MOV.L   @(4,R5),R2                      ;
13853                            4998             FAR_JSR #_LENGH_ADD_CALC,R0             ;
13854 00002092 D00E                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13855 00002094 400B                   M           JSR     @R0                     ;
13856 00002096 0009                   M           NOP                                     ;
13857                            4999             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13858 00002098 D00D                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13859 0000209A 400B                   M           JSR     @R0                     ;
13860 0000209C 0009                   M           NOP                                     ;
13861                            5000             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13862 0000209E D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13863 000020A0 400B                   M           JSR     @R0                     ;
13864 000020A2 0009                   M           NOP                                     ;
13865                            5001             FAR_JSR #_FWD_REV_START,R1              ;起動
13866 000020A4 D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13867 000020A6 410B                   M           JSR     @R1                     ;
13868 000020A8 0009                   M           NOP                                     ;
13869                            5002             M_BRA   DND_ORGIN_STEP_100              ;
13870 000020AA A038                   M           BRA     DND_ORGIN_STEP_100
13871 000020AC 0009                   M           NOP
13872                            5003     
13873                                     ***** BEGIN-POOL *****
13874 000020AE 0000                       ALIGNMENT CODE
13875 000020B0 00000000                   DATA FOR SOURCE-LINE 4973
13876 000020B4 00000000                   DATA FOR SOURCE-LINE 4979
13877 000020B8 00000000                   DATA FOR SOURCE-LINE 4989
13878 000020BC 00000000                   DATA FOR SOURCE-LINE 4991
13879 000020C0 00000000                   DATA FOR SOURCE-LINE 4992
13880 000020C4 00000000                   DATA FOR SOURCE-LINE 4993
13881 000020C8 00000000                   DATA FOR SOURCE-LINE 4995
13882 000020CC 00000000                   DATA FOR SOURCE-LINE 4998
13883 000020D0 00000000                   DATA FOR SOURCE-LINE 4999
13884 000020D4 00000000                   DATA FOR SOURCE-LINE 5000
13885 000020D8 00000000                   DATA FOR SOURCE-LINE 5001
13886                                     ***** END-POOL *****
13887 000020DC                   5004     DND_ORGIN_STEP_050:
13888 000020DC C9FE              5005             AND     #LOW ~BIT0,R0                   ;
13889 000020DE 2501              5006             MOV.W   R0,@R5                          ;BIT0 CLR
13890                            5007     ;       ===== 第3工程開始(補正なし "-") ======
13891                            5008     ;       ======== 20060919 ======================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   142
PROGRAM NAME =

13892                            5009     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
13893                            5010             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
13894 000020E0 D011                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13895 000020E2 400B                   M           JSR     @R0                     ;
13896 000020E4 0009                   M           NOP                                     ;
13897                            5011     ;       =======================================
13898                            5012             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R0       ;
13899 000020E6 D011                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13900 000020E8 400B                   M           JSR     @R0                     ;
13901 000020EA 0009                   M           NOP                                     ;
13902                            5013             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
13903 000020EC D010                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13904 000020EE 400B                   M           JSR     @R0                     ;
13905 000020F0 0009                   M           NOP                                     ;
13906                            5014             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13907 000020F2 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13908 000020F4 410B                   M           JSR     @R1                     ;
13909 000020F6 0009                   M           NOP                                     ;
13910                            5015     
13911                            5016     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
13912 000020F8 D50F              5017             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
13913 000020FA 6152              5018             MOV.L   @R5,R1                          ;
13914 000020FC 5251              5019             MOV.L   @(4,R5),R2                      ;
13915                            5020             FAR_JSR #_LENGH_ADD_CALC,R0             ;
13916 000020FE D00F                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13917 00002100 400B                   M           JSR     @R0                     ;
13918 00002102 0009                   M           NOP                                     ;
13919                            5021             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13920 00002104 D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13921 00002106 400B                   M           JSR     @R0                     ;
13922 00002108 0009                   M           NOP                                     ;
13923                            5022             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13924 0000210A D00E                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13925 0000210C 400B                   M           JSR     @R0                     ;
13926 0000210E 0009                   M           NOP                                     ;
13927                            5023             FAR_JSR #_FWD_REV_START,R1              ;起動
13928 00002110 D10D                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13929 00002112 410B                   M           JSR     @R1                     ;
13930 00002114 0009                   M           NOP                                     ;
13931                            5024     
13932 00002116 D10D              5025             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13933 00002118 6011              5026             MOV.W   @R1,R0                          ;
13934 0000211A 70FF              5027             ADD     #-1,R0                          ;
13935 0000211C 2101              5028             MOV.W   R0,@R1                          ;
13936 0000211E                   5029     DND_ORGIN_STEP_100:
13937 0000211E 200A              5030             XOR     R0,R0                           ;
13938 00002120 D10B              5031             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
13939 00002122 2101              5032             MOV.W   R0,@R1                          ;Q
13940                            5033     
13941                            5034             M_BRA   DND_ALLSTEPCTL_900              ;
13942 00002124 A09D                   M           BRA     DND_ALLSTEPCTL_900
13943 00002126 0009                   M           NOP
13944                            5035     
13945                            5036     
13946                            5037     ;       ===== 通常の最後の原点復帰（最終回数目）====
13947                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   143
PROGRAM NAME =

13948 00002128 00000000                   DATA FOR SOURCE-LINE 5010
13949 0000212C 00000000                   DATA FOR SOURCE-LINE 5012
13950 00002130 00000000                   DATA FOR SOURCE-LINE 5013
13951 00002134 00000000                   DATA FOR SOURCE-LINE 5014
13952 00002138 00000000                   DATA FOR SOURCE-LINE 5017
13953 0000213C 00000000                   DATA FOR SOURCE-LINE 5020
13954 00002140 00000000                   DATA FOR SOURCE-LINE 5021
13955 00002144 00000000                   DATA FOR SOURCE-LINE 5022
13956 00002148 00000000                   DATA FOR SOURCE-LINE 5023
13957 0000214C 00000000                   DATA FOR SOURCE-LINE 5025
13958 00002150 00000000                   DATA FOR SOURCE-LINE 5031
13959                                     ***** END-POOL *****
13960 00002154                   5038     DND_ALLSTEPCTL_450:
13961                            5039     ;       ===== 第２工程開始(補正開始) ======
13962                            5040             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
13963 00002154 D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13964 00002156 400B                   M           JSR     @R0                     ;
13965 00002158 0009                   M           NOP                                     ;
13966                            5041             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
13967 0000215A D00B                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13968 0000215C 400B                   M           JSR     @R0                     ;
13969 0000215E 0009                   M           NOP                                     ;
13970                            5042             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;
13971 00002160 D00A                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13972 00002162 400B                   M           JSR     @R0                     ;
13973 00002164 0009                   M           NOP                                     ;
13974                            5043             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13975 00002166 D10A                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13976 00002168 410B                   M           JSR     @R1                     ;
13977 0000216A 0009                   M           NOP                                     ;
13978                            5044     
13979                            5045             FAR_JSR #_ORGIN_MODE_INI,R0     ;
13980 0000216C D009                   M           MOV.L   #_ORGIN_MODE_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13981 0000216E 400B                   M           JSR     @R0                     ;
13982 00002170 0009                   M           NOP                                     ;
13983 00002172 D509              5046             MOV.L   #_INT_DND_CTL_STEP,R5   ;
13984 00002174 6051              5047             MOV.W   @R5,R0                  ;
13985 00002176 CB01              5048             OR      #BIT0,R0                ;
13986 00002178 2501              5049             MOV.W   R0,@R5                  ;
13987                            5050     
13988                            5051     ;       ======= 原点出し時のｲﾝﾀｰﾛｯｸ =======
13989 0000217A 200A              5052             XOR     R0,R0                           ;
13990 0000217C D107              5053             MOV.L   #_RST_ERR_CHK_FLG,R1            ;[ｲﾆｼｬﾙを異常側で再演算する]
13991 0000217E 2101              5054             MOV.W   R0,@R1                          ;
13992                            5055             M_BRA   DND_ALLSTEPCTL_580              ;
13993 00002180 A024                   M           BRA     DND_ALLSTEPCTL_580
13994 00002182 0009                   M           NOP
13995                            5056     
13996                                     ***** BEGIN-POOL *****
13997 00002184 00000000                   DATA FOR SOURCE-LINE 5040
13998 00002188 00000000                   DATA FOR SOURCE-LINE 5041
13999 0000218C 00000000                   DATA FOR SOURCE-LINE 5042
14000 00002190 00000000                   DATA FOR SOURCE-LINE 5043
14001 00002194 00000000                   DATA FOR SOURCE-LINE 5045
14002 00002198 00000000                   DATA FOR SOURCE-LINE 5046
14003 0000219C 00000000                   DATA FOR SOURCE-LINE 5053
14004                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   144
PROGRAM NAME =

14005 000021A0                   5057     DND_ALLSTEPCTL_500:
14006                            5058     ;       ===== 第2工程終了（サーチ作業完了） ======
14007                            5059             FAR_JSR #_ORGIN_MODE_END,R0             ;
14008 000021A0 D018                   M           MOV.L   #_ORGIN_MODE_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14009 000021A2 400B                   M           JSR     @R0                     ;
14010 000021A4 0009                   M           NOP                                     ;
14011                            5060             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
14012 000021A6 D018                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14013 000021A8 400B                   M           JSR     @R0                     ;
14014 000021AA 0009                   M           NOP                                     ;
14015                            5061             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;(待機点への移動)
14016 000021AC D017                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14017 000021AE 400B                   M           JSR     @R0                     ;
14018 000021B0 0009                   M           NOP                                     ;
14019                            5062     
14020                            5063             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
14021 000021B2 D017                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14022 000021B4 400B                   M           JSR     @R0                     ;
14023 000021B6 0009                   M           NOP                                     ;
14024                            5064             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
14025 000021B8 D116                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14026 000021BA 410B                   M           JSR     @R1                     ;
14027 000021BC 0009                   M           NOP                                     ;
14028                            5065     
14029                            5066     ;;;2003-07-14   FAR_JSR #_DNDUPS_SPD_SET,R0     ;
14030                            5067     ;       ===== 第３工程開始 ======
14031 000021BE D516              5068             MOV.L   #_INT_DND_CTL_STEP,R5           ;
14032 000021C0 6051              5069             MOV.W   @R5,R0                          ;
14033 000021C2 CB02              5070             OR      #BIT1,R0                        ;
14034 000021C4 2501              5071             MOV.W   R0,@R5                          ;
14035                            5072     
14036                            5073     
14037                            5074             FAR_JSR #_DNDUPS_SPD_SET,R0             ;2011-03-22[最後の目標位置へは上昇復帰速度
                                          ]
14038 000021C6 D015                   M           MOV.L   #_DNDUPS_SPD_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14039 000021C8 400B                   M           JSR     @R0                     ;
14040 000021CA 0009                   M           NOP                                     ;
14041                            5075     
14042                            5076     
14043 000021CC                   5077     DND_ALLSTEPCTL_580:
14044 000021CC D114              5078             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
14045 000021CE 6212              5079             MOV.L   @R1,R2                          ;
14046                            5080             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
14047 000021D0 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14048 000021D2 410B                   M           JSR     @R1                     ;
14049 000021D4 0009                   M           NOP                                     ;
14050                            5081     
14051 000021D6 D513              5082             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
14052 000021D8 6152              5083             MOV.L   @R5,R1                          ;
14053 000021DA 5251              5084             MOV.L   @(4,R5),R2                      ;
14054                            5085             FAR_JSR #_LENGH_ADD_CALC,R0             ;Input R1,R2
14055 000021DC D012                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14056 000021DE 400B                   M           JSR     @R0                     ;
14057 000021E0 0009                   M           NOP                                     ;
14058                            5086             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
14059 000021E2 D012                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14060 000021E4 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   145
PROGRAM NAME =

14061 000021E6 0009                   M           NOP                                     ;
14062                            5087             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14063 000021E8 D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14064 000021EA 400B                   M           JSR     @R0                     ;
14065 000021EC 0009                   M           NOP                                     ;
14066                            5088             FAR_JSR #_FWD_REV_START,R1              ;起動
14067 000021EE D111                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14068 000021F0 410B                   M           JSR     @R1                     ;
14069 000021F2 0009                   M           NOP                                     ;
14070                            5089     
14071                            5090             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
14072 000021F4 D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14073 000021F6 400B                   M           JSR     @R0                     ;
14074 000021F8 0009                   M           NOP                                     ;
14075                            5091     
14076 000021FA 200A              5092             XOR     R0,R0                           ;
14077 000021FC D10F              5093             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
14078 000021FE 2101              5094             MOV.W   R0,@R1                          ;Q
14079                            5095             M_BRA   DND_ALLSTEPCTL_900              ;
14080 00002200 A02F                   M           BRA     DND_ALLSTEPCTL_900
14081 00002202 0009                   M           NOP
14082                            5096     
14083                                     ***** BEGIN-POOL *****
14084 00002204 00000000                   DATA FOR SOURCE-LINE 5059
14085 00002208 00000000                   DATA FOR SOURCE-LINE 5060
14086 0000220C 00000000                   DATA FOR SOURCE-LINE 5061
14087 00002210 00000000                   DATA FOR SOURCE-LINE 5063
14088 00002214 00000000                   DATA FOR SOURCE-LINE 5064,5080
14089 00002218 00000000                   DATA FOR SOURCE-LINE 5068
14090 0000221C 00000000                   DATA FOR SOURCE-LINE 5074
14091 00002220 00000000                   DATA FOR SOURCE-LINE 5078
14092 00002224 00000000                   DATA FOR SOURCE-LINE 5082
14093 00002228 00000000                   DATA FOR SOURCE-LINE 5085
14094 0000222C 00000000                   DATA FOR SOURCE-LINE 5086
14095 00002230 00000000                   DATA FOR SOURCE-LINE 5087
14096 00002234 00000000                   DATA FOR SOURCE-LINE 5088
14097 00002238 00000000                   DATA FOR SOURCE-LINE 5090
14098 0000223C 00000000                   DATA FOR SOURCE-LINE 5093
14099                                     ***** END-POOL *****
14100 00002240                   5097     DND_ALLSTEPCTL_600:
14101                            5098             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
14102 00002240 D109                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14103 00002242 6011                   M           MOV.W   @R1,R0          ;
14104 00002244 CB40                   M           OR      #BIT6,R0                ;
14105 00002246 2101                   M           MOV.W   R0,@R1          ;
14106                            5099     
14107                            5100     ;       == 2003-07-09 ==(_INT_DND_STEP_FLG.BIT6でも代替OK) ===
14108                            5101             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORG_RDY_CTL_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
14109 00002248 D108                   M           MOV.L   #_ORG_RDY_CTL_FLG,R1            ;
14110 0000224A 6011                   M           MOV.W   @R1,R0          ;
14111 0000224C CB08                   M           OR      #BIT3,R0                ;
14112 0000224E 2101                   M           MOV.W   R0,@R1          ;
14113                            5102     
14114                            5103     
14115                            5104     
14116                            5105     ;       ====2004-09-27(中型ではこれは206.4=1)====
14117                            5106             FAR_JSR #_DND_ORGIN_SIG_FORCE_ON,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   146
PROGRAM NAME =

14118 00002250 D007                   M           MOV.L   #_DND_ORGIN_SIG_FORCE_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14119 00002252 400B                   M           JSR     @R0                     ;
14120 00002254 0009                   M           NOP                                     ;
14121                            5107     
14122                            5108     ;       ------------2011-03-22-------
14123                            5109     ;;;;;;  FAR_JSR #_ORGIN2_MODE_END,R0
14124                            5110             FAR_JSR #_ORIGIN_POS_CHK_INI2,R0        ;待機点移動完了
14125 00002256 D007                   M           MOV.L   #_ORIGIN_POS_CHK_INI2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14126 00002258 400B                   M           JSR     @R0                     ;
14127 0000225A 0009                   M           NOP                                     ;
14128                            5111     
14129                            5112     ;       --------- 2014-08-05----------
14130                            5113             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
14131 0000225C D006                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14132 0000225E 400B                   M           JSR     @R0                     ;
14133 00002260 0009                   M           NOP                                     ;
14134                            5114     
14135                            5115     
14136                            5116     
14137                            5117     
14138                            5118     
14139 00002262                   5119     DND_ALLSTEPCTL_900:
14140                            5120             SUB_END
14141                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14142 00002262 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14143                            5121             M_RTS
14144 00002264 000B                   M           RTS                             ;RTSの後ろの
14145 00002266 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14146                            5122     
14147                            5123     ;       ***************************************************
14148                            5124     ;       ***                                             ***
14149                            5125     ;       ***     中型の目標位置決め原点でも206.4=1にする ***
14150                            5126     ;       ***                                             ***
14151                            5127     ;       ***************************************************
14152                            5128     ;       ====2004-09-27(中型ではこれは206.4=1)====
14153                                     ***** BEGIN-POOL *****
14154 00002268 00000000                   DATA FOR SOURCE-LINE 5098
14155 0000226C 00000000                   DATA FOR SOURCE-LINE 5101
14156 00002270 00000000                   DATA FOR SOURCE-LINE 5106
14157 00002274 00000000                   DATA FOR SOURCE-LINE 5110
14158 00002278 00000000                   DATA FOR SOURCE-LINE 5113
14159                                     ***** END-POOL *****
14160 0000227C                   5129             .ALIGN  4                               ;
14161 0000227C                   5130     _DND_ORGIN_SIG_FORCE_ON:
14162                            5131             SUB_START
14163 0000227C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14164                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14165 0000227E D00A              5132             MOV.L   #_PAR_WTSEL_USE,R0                      ;
14166 00002280 6001              5133             MOV.W   @R0,R0                                  ;
14167 00002282 8801              5134             CMP/EQ  #1,R0                                   ;待機点選択を中型で認識
14168 00002284 8B0C              5135             BF      DND_ORGIN_SIG_FORON_EXT                 ;中型? NO
14169                            5136     
14170 00002286 D109              5137             MOV.L   #_MODE_SEL,R1                           ;
14171 00002288 6011              5138             MOV.W   @R1,R0                                  ;
14172 0000228A C840              5139             TST     #_W1DUP,R0                              ;
14173                            5140             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;原点? NO
14174 0000228C 8908                   M           BT      DND_ORGIN_SIG_FORON_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   147
PROGRAM NAME =

14175                            5141     
14176 0000228E D108              5142             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1                  ;
14177 00002290 6011              5143             MOV.W   @R1,R0                                  ;
14178 00002292 C801              5144             TST     #BIT0,R0                                ;
14179                            5145             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;目標位置決め? NO
14180 00002294 8904                   M           BT      DND_ORGIN_SIG_FORON_EXT
14181                            5146     
14182                            5147             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
14183 00002296 D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
14184 00002298 6011                   M           MOV.W   @R1,R0          ;
14185 0000229A 9404                   M           MOV.W   #(BIT4),R4              ;
14186 0000229C 204B                   M           OR      R4,R0           ;
14187 0000229E 2101                   M           MOV.W   R0,@R1          ;
14188 000022A0                   5148     DND_ORGIN_SIG_FORON_EXT:
14189                            5149             SUB_END
14190                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14191 000022A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14192                            5150             M_RTS
14193 000022A2 000B                   M           RTS                             ;RTSの後ろの
14194 000022A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14195                            5151     
14196                            5152     ;       ***********************************
14197                            5153     ;       ***                             ***
14198                            5154     ;       ***     段取寸動反転仕様        ***
14199                            5155     ;       ***                             ***
14200                            5156     ;       ***********************************
14201                            5157     ;
14202                            5158             .INCLUDE        "ssa_dnd1.inc"          ; //
14203                               1 I1  ;       ***********************************
14204                               2 I1  ;       ***                             ***
14205                               3 I1  ;       ***     段取寸動コントロール    ***
14206                               4 I1  ;       ***                             ***
14207                               5 I1  ;       ***********************************
14208                               6 I1  ;       ***********************************
14209                               7 I1  ;       ***                             ***
14210                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
14211                               9 I1  ;       ***                             ***
14212                              10 I1  ;       ***********************************
14213                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
14214                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
14215                              13 I1  ;       ======== 再起動/終了            BIT1            ====
14216                              14 I1  ;       ======== BIT6;終了
14217                                 I1  ***** BEGIN-POOL *****
14218 000022A6 0010                   I1  DATA FOR SOURCE-LINE 5147
14219 000022A8 00000000               I1  DATA FOR SOURCE-LINE 5132
14220 000022AC 00000000               I1  DATA FOR SOURCE-LINE 5137
14221 000022B0 00000000               I1  DATA FOR SOURCE-LINE 5142
14222 000022B4 00000000               I1  DATA FOR SOURCE-LINE 5147
14223                                 I1  ***** END-POOL *****
14224 000022B8                     15 I1  _DND_NEG_STEP_CTRL:
14225                              16 I1          SUB_START
14226 000022B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14227                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14228                              17 I1  
14229 000022BA D103                18 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;段取り共通
14230 000022BC 6011                19 I1          MOV.W   @R1,R0                          ;
14231 000022BE C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   148
PROGRAM NAME =

14232                              21 I1          TST_BIT_OF DND_NEGSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
14233 000022C0 8904                   M           BT      DND_NEGSTEPCTL_100
14234                              22 I1          M_BRA   DND_NEGSTEPCTL_300              ;BIT1:次の回転起動
14235 000022C2 A03D                   M           BRA     DND_NEGSTEPCTL_300
14236 000022C4 0009                   M           NOP
14237                              23 I1  
14238                                 I1  ***** BEGIN-POOL *****
14239 000022C6 0000                   I1  ALIGNMENT CODE
14240 000022C8 00000000               I1  DATA FOR SOURCE-LINE 18
14241                                 I1  ***** END-POOL *****
14242 000022CC                     24 I1  DND_NEGSTEPCTL_100:
14243                              25 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
14244 000022CC D004                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14245 000022CE 400B                   M           JSR     @R0                     ;
14246 000022D0 0009                   M           NOP                                     ;
14247                              26 I1  
14248                              27 I1          FAR_JSR #_LOD_POS_STS_REG,R1    ;
14249 000022D2 D104                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14250 000022D4 410B                   M           JSR     @R1                     ;
14251 000022D6 0009                   M           NOP                                     ;
14252 000022D8 C804                28 I1          TST     #BIT2,R0                ;停止?
14253                              29 I1          TST_BIT_ON DND_NEGSTEPCTL_200   ;YES 停止中 1:停止 0:払出中
14254 000022DA 8B05                   M           BF      DND_NEGSTEPCTL_200
14255                              30 I1          M_BRA   DND_NEGSTEPCTL_900      ;
14256 000022DC A06D                   M           BRA     DND_NEGSTEPCTL_900
14257 000022DE 0009                   M           NOP
14258                              31 I1  
14259                              32 I1  ;       ===========================
14260                              33 I1  ;       ===     払出停止        ===
14261                              34 I1  ;       ===     回転時          ===
14262                              35 I1  ;       ===========================
14263                                 I1  ***** BEGIN-POOL *****
14264 000022E0 00000000               I1  DATA FOR SOURCE-LINE 25
14265 000022E4 00000000               I1  DATA FOR SOURCE-LINE 27
14266                                 I1  ***** END-POOL *****
14267 000022E8                     36 I1  DND_NEGSTEPCTL_200:
14268                              37 I1  ;       --------払い出し完了----------
14269                              38 I1  
14270                              39 I1  ;       ------------ 2021-11-11-------------
14271 000022E8 D109                40 I1          MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
14272 000022EA 6010                41 I1          MOV.B   @R1,R0                                                          ;
14273 000022EC 2008                42 I1          TST             R0,R0                                                           ;
14274                              43 I1          TST_BIT_ON DND_NEGSTEPCTL_900                           ;
14275 000022EE 8B64                   M           BF      DND_NEGSTEPCTL_900
14276                              44 I1  
14277                              45 I1  ;       ------------ 2021-11-11-------------
14278                              46 I1          FAR_JSR #_DND_NEG_STOP_SVCHK,R0                         ;
14279 000022F0 D008                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14280 000022F2 400B                   M           JSR     @R0                     ;
14281 000022F4 0009                   M           NOP                                     ;
14282                              47 I1  
14283 000022F6 D108                48 I1          MOV.L   #_NEG_DND_STOP_USE_F,R1                         ;       //上死点(0)<停止<1
                                          70の時 On
14284 000022F8 6010                49 I1          MOV.B   @R1,R0                                                          ;
14285 000022FA 2008                50 I1          TST             R0,R0                                                           ;
14286                              51 I1          TST_BIT_OF DND_NEGSTEPCTL_250                           ;
14287 000022FC 8910                   M           BT      DND_NEGSTEPCTL_250
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   149
PROGRAM NAME =

14288                              52 I1  
14289                              53 I1          FAR_JSR #_DND_NEG_LNK_STEP_CHANGE2,R0           ;
14290 000022FE D007                   M           MOV.L   #_DND_NEG_LNK_STEP_CHANGE2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14291 00002300 400B                   M           JSR     @R0                     ;
14292 00002302 0009                   M           NOP                                     ;
14293                              54 I1  
14294 00002304 E001                55 I1          MOV.B   #BIT0,R0
14295 00002306 D102                56 I1          MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
14296 00002308 2100                57 I1          MOV.B   R0,@R1                                                          ;
14297                              58 I1  
14298                              59 I1          M_BRA   DND_NEGSTEPCTL_900                                      ;
14299 0000230A A056                   M           BRA     DND_NEGSTEPCTL_900
14300 0000230C 0009                   M           NOP
14301                              60 I1  
14302                              61 I1  
14303                                 I1  ***** BEGIN-POOL *****
14304 0000230E 0000                   I1  ALIGNMENT CODE
14305 00002310 00000000               I1  DATA FOR SOURCE-LINE 40,56
14306 00002314 00000000               I1  DATA FOR SOURCE-LINE 46
14307 00002318 00000000               I1  DATA FOR SOURCE-LINE 48
14308 0000231C 00000000               I1  DATA FOR SOURCE-LINE 53
14309                                 I1  ***** END-POOL *****
14310 00002320                     62 I1  DND_NEGSTEPCTL_250:
14311                              63 I1  ;       -----------------------------------
14312                              64 I1  
14313                              65 I1  ;       >>>> 切替ﾀｲﾏｾｯﾄ <<<<
14314                              66 I1  ;       ===============================================
14315                              67 I1  ;;;2014-05-30   MOV.L   #_PAR_START_WAIT_DND,R1                                 ;段取時切
                                          替WAIT時間
14316 00002320 D104                68 I1          MOV.L   #(_PAR_START_WAIT_DND-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;段取時切替WAIT時
                                          間
14317 00002322 6111                69 I1          MOV.W   @R1,R1                                  ;
14318 00002324 D404                70 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
14319 00002326 2412                71 I1          MOV.L   R1,@R4                                                          ;
14320                              72 I1  ;       FLG=(BIT0):ｾｯﾄ                                                          ;
14321                              73 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;ﾀｲﾏ起動
14322 00002328 D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14323 0000232A 6011                   M           MOV.W   @R1,R0          ;
14324 0000232C CB01                   M           OR      #BIT0,R0                ;
14325 0000232E 2101                   M           MOV.W   R0,@R1          ;
14326                              74 I1          M_BRA   DND_NEGSTEPCTL_900                                              ;
14327 00002330 A043                   M           BRA     DND_NEGSTEPCTL_900
14328 00002332 0009                   M           NOP
14329                              75 I1  
14330                                 I1  ***** BEGIN-POOL *****
14331 00002334 00000000               I1  DATA FOR SOURCE-LINE 68
14332 00002338 00000000               I1  DATA FOR SOURCE-LINE 70
14333 0000233C 00000000               I1  DATA FOR SOURCE-LINE 73
14334                                 I1  ***** END-POOL *****
14335 00002340                     76 I1  DND_NEGSTEPCTL_300:
14336 00002340 C802                77 I1          TST     #BIT1,R0                ;
14337                              78 I1          TST_BIT_ON DND_NEGSTEPCTL_400   ;
14338 00002342 8B15                   M           BF      DND_NEGSTEPCTL_400
14339                              79 I1  
14340                              80 I1  ;       ===== 切替ﾀｲﾏ待ち ====
14341                              81 I1  
14342                              82 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   150
PROGRAM NAME =

14343 00002344 D105                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
14344 00002346 6412                   M           MOV.L   @R1,R4          ;
14345 00002348 2448                   M           TST     R4,R4                   ;
14346 0000234A 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
14347 0000234C 4410                   M           DT      R4                              ;
14348 0000234E 2142                   M           MOV.L   R4,@R1          ;STORE
14349 00002350                        M   JMP_0100006:
14350                              83 I1  
14351                              84 I1  
14352 00002350 D402                85 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
14353 00002352 6142                86 I1          MOV.L   @R4,R1                  ;
14354 00002354 2118                87 I1          TST     R1,R1                   ;
14355                              88 I1          TST_BIT_OF DND_NEGSTEPCTL_320   ;
14356 00002356 8903                   M           BT      DND_NEGSTEPCTL_320
14357                              89 I1          M_BRA   DND_NEGSTEPCTL_900      ;
14358 00002358 A02F                   M           BRA     DND_NEGSTEPCTL_900
14359 0000235A 0009                   M           NOP
14360                              90 I1  
14361                                 I1  ***** BEGIN-POOL *****
14362 0000235C 00000000               I1  DATA FOR SOURCE-LINE 82,85
14363                                 I1  ***** END-POOL *****
14364 00002360                     91 I1  DND_NEGSTEPCTL_320:
14365                              92 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
14366 00002360 D102                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14367 00002362 6011                   M           MOV.W   @R1,R0          ;
14368 00002364 CB02                   M           OR      #BIT1,R0                ;
14369 00002366 2101                   M           MOV.W   R0,@R1          ;
14370                              93 I1          M_BRA   DND_NEGSTEPCTL_900              ;
14371 00002368 A027                   M           BRA     DND_NEGSTEPCTL_900
14372 0000236A 0009                   M           NOP
14373                              94 I1  
14374                              95 I1  
14375                              96 I1  ;       ======= 次の起動 =====
14376                                 I1  ***** BEGIN-POOL *****
14377 0000236C 00000000               I1  DATA FOR SOURCE-LINE 92
14378                                 I1  ***** END-POOL *****
14379 00002370                     97 I1  DND_NEGSTEPCTL_400:
14380                              98 I1  ;       ===================================
14381                              99 I1  ;       ===     二重回路対策            ===
14382                             100 I1  ;       ===     工程完了                ===
14383                             101 I1  ;       ===================================
14384                             102 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
14385 00002370 D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14386 00002372 400B                   M           JSR     @R0                     ;
14387 00002374 0009                   M           NOP                                     ;
14388 00002376 2008               103 I1          TST     R0,R0                           ;
14389                             104 I1          TST_BIT_ON DND_NEGSTEPCTL_420           ;
14390 00002378 8B04                   M           BF      DND_NEGSTEPCTL_420
14391                             105 I1          M_BRA   DND_NEGSTEPCTL_900              ;
14392 0000237A A01E                   M           BRA     DND_NEGSTEPCTL_900
14393 0000237C 0009                   M           NOP
14394                             106 I1  
14395                                 I1  ***** BEGIN-POOL *****
14396 0000237E 0000                   I1  ALIGNMENT CODE
14397 00002380 00000000               I1  DATA FOR SOURCE-LINE 102
14398                                 I1  ***** END-POOL *****
14399 00002384                    107 I1  DND_NEGSTEPCTL_420:                             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   151
PROGRAM NAME =

14400                             108 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
14401 00002384 D00E                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14402 00002386 400B                   M           JSR     @R0                     ;
14403 00002388 0009                   M           NOP                                     ;
14404                             109 I1  
14405                             110 I1  ;;2021-11-11;   ====  次の動作の演算 =====
14406                             111 I1  ;;2021-11-11    MOV.L   #_INT_DND_NEG_STEP,R5           ;
14407                             112 I1  ;;2021-11-11    MOV.W   @R5,R0                          ;
14408                             113 I1  ;;2021-11-11    CMP/EQ  #1,R0                           ;
14409                             114 I1  ;;2021-11-11    BF      DND_NEGSTEPCTL_440              ;もし0or2なら待機点なので1へ遷移
14410                             115 I1  ;;2021-11-11    MOV     #2,R0                           ;もし1(目標位置への動作)なら2へ（
                                          待機点）
14411                             116 I1  ;;2021-11-11    M_BRA   DND_NEGSTEPCTL_460              ;
14412                             117 I1  ;;2021-11-11DND_NEGSTEPCTL_440:                         ;
14413                             118 I1  ;;2021-11-11    MOV     #1,R0                           ;もし0or2(待機点への動作)なら1
14414                             119 I1  ;;2021-11-11DND_NEGSTEPCTL_460:                         ;
14415                             120 I1  ;;2021-11-11    MOV.W   R0,@R5                          ;
14416                             121 I1  ;;2021-11-11    FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;<<>>
14417                             122 I1  ;;2021-11-11    FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
14418                             123 I1  ;;2021-11-11
14419                             124 I1  
14420                             125 I1          FAR_JSR #_DND_NEG_LNK_STEP_CHANGE0,R0                           ;
14421 0000238A D00E                   M           MOV.L   #_DND_NEG_LNK_STEP_CHANGE0,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14422 0000238C 400B                   M           JSR     @R0                     ;
14423 0000238E 0009                   M           NOP                                     ;
14424                             126 I1          FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                                 ;ｽﾃｯﾌﾟに応じて待機
                                          点1/目標位置/待機点2 _POS_DRV_DIRECT
14425 00002390 D10D                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14426 00002392 410B                   M           JSR     @R1                     ;
14427 00002394 0009                   M           NOP                                     ;
14428                             127 I1  
14429                             128 I1  ;       ===================
14430                             129 I1  ;       ===     起動    ===
14431                             130 I1  ;       ===================
14432 00002396                    131 I1  DND_NEGSTEPCTL_580:
14433                             132 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
14434 00002396 D00D                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14435 00002398 400B                   M           JSR     @R0                     ;
14436 0000239A 0009                   M           NOP                                     ;
14437                             133 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
14438 0000239C D00C                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14439 0000239E 400B                   M           JSR     @R0                     ;
14440 000023A0 0009                   M           NOP                                     ;
14441                             134 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14442 000023A2 D00C                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14443 000023A4 400B                   M           JSR     @R0                     ;
14444 000023A6 0009                   M           NOP                                     ;
14445                             135 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
14446 000023A8 D10B                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14447 000023AA 410B                   M           JSR     @R1                     ;
14448 000023AC 0009                   M           NOP                                     ;
14449 000023AE 200A               136 I1          XOR     R0,R0                           ;
14450 000023B0 D10A               137 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
14451 000023B2 2101               138 I1          MOV.W   R0,@R1                          ;Q
14452                             139 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
14453 000023B4 D00A                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   152
PROGRAM NAME =

14454 000023B6 400B                   M           JSR     @R0                     ;
14455 000023B8 0009                   M           NOP                                     ;
14456                             140 I1  
14457 000023BA                    141 I1  DND_NEGSTEPCTL_900:
14458                             142 I1          SUB_END
14459                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14460 000023BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14461                             143 I1          M_RTS
14462 000023BC 000B                   M           RTS                             ;RTSの後ろの
14463 000023BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14464                             144 I1  
14465                             145 I1  
14466                             146 I1  
14467                            5159     
14468                            5160     ;       *******************************************
14469                            5161     ;       ***                                     ***
14470                            5162     ;       ***     段取寸動正転・逆転停止仕様      ***
14471                            5163     ;       ***                                     ***
14472                            5164     ;       *******************************************
14473                            5165     ;
14474                            5166             .INCLUDE        "ssa_dnd2.inc"          ; //
14475                               1 I1  ;       ***********************************
14476                               2 I1  ;       ***                             ***
14477                               3 I1  ;       ***     段取寸動コントロール    ***
14478                               4 I1  ;       ***                             ***
14479                               5 I1  ;       ***********************************
14480                               6 I1  ;       ***********************************
14481                               7 I1  ;       ***                             ***
14482                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
14483                               9 I1  ;       ***                             ***
14484                              10 I1  ;       ***********************************
14485                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
14486                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
14487                              13 I1  ;       ======== 再起動/終了            BIT1            ====
14488                              14 I1  ;       ======== BIT6;終了
14489                                 I1  ***** BEGIN-POOL *****
14490 000023C0 00000000               I1  DATA FOR SOURCE-LINE 108
14491 000023C4 00000000               I1  DATA FOR SOURCE-LINE 125
14492 000023C8 00000000               I1  DATA FOR SOURCE-LINE 126
14493 000023CC 00000000               I1  DATA FOR SOURCE-LINE 132
14494 000023D0 00000000               I1  DATA FOR SOURCE-LINE 133
14495 000023D4 00000000               I1  DATA FOR SOURCE-LINE 134
14496 000023D8 00000000               I1  DATA FOR SOURCE-LINE 135
14497 000023DC 00000000               I1  DATA FOR SOURCE-LINE 137
14498 000023E0 00000000               I1  DATA FOR SOURCE-LINE 139
14499                                 I1  ***** END-POOL *****
14500 000023E4                     15 I1  _DND_ROT_STEP_CTRL:
14501                              16 I1          SUB_START
14502 000023E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14503                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14504                              17 I1  
14505 000023E6 D103                18 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14506 000023E8 6011                19 I1          MOV.W   @R1,R0                          ;
14507 000023EA C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
14508                              21 I1          TST_BIT_ON DND_ROTSTEPCTL_050           ;
14509 000023EC 8B04                   M           BF      DND_ROTSTEPCTL_050
14510                              22 I1          M_BRA   DND_ROTSTEPCTL_EXT              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   153
PROGRAM NAME =

14511 000023EE A043                   M           BRA     DND_ROTSTEPCTL_EXT
14512 000023F0 0009                   M           NOP
14513                              23 I1  
14514                                 I1  ***** BEGIN-POOL *****
14515 000023F2 0000                   I1  ALIGNMENT CODE
14516 000023F4 00000000               I1  DATA FOR SOURCE-LINE 18
14517                                 I1  ***** END-POOL *****
14518 000023F8                     24 I1  DND_ROTSTEPCTL_050:
14519 000023F8 D106                25 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;
14520 000023FA 6011                26 I1          MOV.W   @R1,R0                          ;
14521 000023FC C820                27 I1          TST     #BIT5,R0                        ;
14522                              28 I1          TST_BIT_ON DND_ROTSTEPCTL_080           ;終了
14523 000023FE 8B07                   M           BF      DND_ROTSTEPCTL_080
14524                              29 I1  
14525                              30 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
14526 00002400 D005                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14527 00002402 400B                   M           JSR     @R0                     ;
14528 00002404 0009                   M           NOP                                     ;
14529                              31 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
14530 00002406 D105                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14531 00002408 410B                   M           JSR     @R1                     ;
14532 0000240A 0009                   M           NOP                                     ;
14533 0000240C C804                32 I1          TST     #BIT2,R0                        ;停止?
14534                              33 I1          TST_BIT_ON DND_ROTSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
14535 0000240E 8B07                   M           BF      DND_ROTSTEPCTL_200
14536 00002410                     34 I1  DND_ROTSTEPCTL_080:
14537                              35 I1          M_BRA   DND_ROTSTEPCTL_900              ;
14538 00002410 A031                   M           BRA     DND_ROTSTEPCTL_900
14539 00002412 0009                   M           NOP
14540                              36 I1  
14541                              37 I1  ;       ===========================
14542                              38 I1  ;       ===     払出停止        ===
14543                              39 I1  ;       ===     回転時          ===
14544                              40 I1  ;       ===========================
14545                                 I1  ***** BEGIN-POOL *****
14546 00002414 00000000               I1  DATA FOR SOURCE-LINE 25
14547 00002418 00000000               I1  DATA FOR SOURCE-LINE 30
14548 0000241C 00000000               I1  DATA FOR SOURCE-LINE 31
14549                                 I1  ***** END-POOL *****
14550 00002420                     41 I1  DND_ROTSTEPCTL_200:
14551 00002420                     42 I1  DND_ROTSTEPCTL_400:
14552                              43 I1  ;       ===================================
14553                              44 I1  ;       ===     二重回路対策            ===
14554                              45 I1  ;       ===     工程完了                ===
14555                              46 I1  ;       ===================================
14556                              47 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
14557 00002420 D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14558 00002422 400B                   M           JSR     @R0                     ;
14559 00002424 0009                   M           NOP                                     ;
14560 00002426 2008                48 I1          TST     R0,R0                           ;
14561                              49 I1          TST_BIT_ON DND_ROTSTEPCTL_420           ;
14562 00002428 8B04                   M           BF      DND_ROTSTEPCTL_420
14563                              50 I1          M_BRA   DND_ROTSTEPCTL_900              ;
14564 0000242A A024                   M           BRA     DND_ROTSTEPCTL_900
14565 0000242C 0009                   M           NOP
14566                              51 I1  
14567                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   154
PROGRAM NAME =

14568 0000242E 0000                   I1  ALIGNMENT CODE
14569 00002430 00000000               I1  DATA FOR SOURCE-LINE 47
14570                                 I1  ***** END-POOL *****
14571 00002434                     52 I1  DND_ROTSTEPCTL_420:                             ;
14572                              53 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
14573 00002434 D006                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14574 00002436 400B                   M           JSR     @R0                     ;
14575 00002438 0009                   M           NOP                                     ;
14576                              54 I1  
14577                              55 I1  ;       ====  工程を進めて終了する =====
14578 0000243A D506                56 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14579 0000243C 6351                57 I1          MOV.W   @R5,R3                          ;
14580 0000243E D106                58 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14581 00002440 6011                59 I1          MOV.W   @R1,R0                          ;
14582 00002442 C903                60 I1          AND     #(BIT1+BIT0),R0                 ;
14583 00002444 8803                61 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14584 00002446 8909                62 I1          BT      DND_ROTSTEPCTL_440              ;
14585 00002448 E301                63 I1          MOV     #1,R3                           ;
14586                              64 I1          M_BRA   DND_ROTSTEPCTL_500              ;
14587 0000244A A00C                   M           BRA     DND_ROTSTEPCTL_500
14588 0000244C 0009                   M           NOP
14589                                 I1  ***** BEGIN-POOL *****
14590 0000244E 0000                   I1  ALIGNMENT CODE
14591 00002450 00000000               I1  DATA FOR SOURCE-LINE 53
14592 00002454 00000000               I1  DATA FOR SOURCE-LINE 56
14593 00002458 00000000               I1  DATA FOR SOURCE-LINE 58
14594                                 I1  ***** END-POOL *****
14595 0000245C                     65 I1  DND_ROTSTEPCTL_440:                             ;
14596 0000245C 7301                66 I1          ADD     #1,R3                           ;
14597 0000245E 920E                67 I1          MOV.W   #2,R2                           ;
14598 00002460 3326                68 I1          CMP/HI  R2,R3                           ;
14599 00002462 8B00                69 I1          BF      DND_ROTSTEPCTL_500              ;
14600 00002464 930C                70 I1          MOV.W   #1,R3                           ;
14601 00002466                     71 I1  DND_ROTSTEPCTL_500:                             ;
14602 00002466 2531                72 I1          MOV.W   R3,@R5                          ;
14603                              73 I1  
14604                              74 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1    ;BIT5=1 EN
                                          D
14605 00002468 D106                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14606 0000246A 6011                   M           MOV.W   @R1,R0          ;
14607 0000246C CB20                   M           OR      #BIT5,R0                ;
14608 0000246E 2101                   M           MOV.W   R0,@R1          ;
14609                              75 I1  
14610                              76 I1  ;       --------- 2014-08-05----------
14611                              77 I1          FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
14612 00002470 D005                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14613 00002472 400B                   M           JSR     @R0                     ;
14614 00002474 0009                   M           NOP                                     ;
14615                              78 I1  
14616 00002476                     79 I1  DND_ROTSTEPCTL_900:
14617 00002476 0009                80 I1          NOP
14618 00002478                     81 I1  DND_ROTSTEPCTL_EXT:
14619                              82 I1          SUB_END
14620                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14621 00002478 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14622                              83 I1          M_RTS
14623 0000247A 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   155
PROGRAM NAME =

14624 0000247C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14625                              84 I1  
14626                              85 I1  ;       ***********************************
14627                              86 I1  ;       ***                             ***
14628                              87 I1  ;       ***     初起動時のエリア作成    ***
14629                              88 I1  ;       ***                             ***
14630                              89 I1  ;       ***********************************
14631                                 I1  ***** BEGIN-POOL *****
14632 0000247E 0002                   I1  DATA FOR SOURCE-LINE 67
14633 00002480 0001                   I1  DATA FOR SOURCE-LINE 70
14634 00002482 0000                   I1  ALIGNMENT CODE
14635 00002484 00000000               I1  DATA FOR SOURCE-LINE 74
14636 00002488 00000000               I1  DATA FOR SOURCE-LINE 77
14637                                 I1  ***** END-POOL *****
14638          00000014            90 I1  _DND_AREA_HIS           .EQU    20              ;2.0DIG
14639 0000248C                     91 I1  _DNDINC_STEP_MAKE:
14640                              92 I1          SUB_START
14641 0000248C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14642                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14643 0000248E D50B                93 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14644 00002490 6351                94 I1          MOV.W   @R5,R3                          ;
14645 00002492 2338                95 I1          TST     R3,R3                           ;
14646                              96 I1          TST_BIT_OF DNDINC_STEP_MK100            ;再計算
14647 00002494 891C                   M           BT      DNDINC_STEP_MK100
14648                              97 I1  
14649 00002496 D10A                98 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14650 00002498 6011                99 I1          MOV.W   @R1,R0                          ;
14651 0000249A D10A               100 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
14652 0000249C 6211               101 I1          MOV.W   @R1,R2
14653 0000249E 2101               102 I1          MOV.W   R0,@R1                          ;
14654 000024A0 220A               103 I1          XOR     R0,R2                           ;
14655 000024A2 2228               104 I1          TST     R2,R2                           ;
14656                             105 I1          TST_BIT_ON DNDINC_STEP_MK100            ;SW変更有り　再計算
14657 000024A4 8B14                   M           BF      DNDINC_STEP_MK100
14658                             106 I1  
14659 000024A6 D108               107 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14660 000024A8 6011               108 I1          MOV.W   @R1,R0                          ;
14661 000024AA D108               109 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
14662 000024AC 6211               110 I1          MOV.W   @R1,R2                          ;
14663 000024AE 2101               111 I1          MOV.W   R0,@R1                          ;
14664 000024B0 220A               112 I1          XOR     R0,R2                           ;
14665 000024B2 2228               113 I1          TST     R2,R2                           ;
14666                             114 I1          TST_BIT_ON DNDINC_STEP_MK100            ;DIRD変更有り　再計算
14667 000024B4 8B0C                   M           BF      DNDINC_STEP_MK100
14668                             115 I1          M_BRA   DNDINC_STEP_MK150
14669 000024B6 A027                   M           BRA     DNDINC_STEP_MK150
14670 000024B8 0009                   M           NOP
14671                             116 I1  
14672                             117 I1  ;;20060919      M_BRA   DNDINC_STEP_MK300               ;
14673                             118 I1  
14674                             119 I1  
14675                             120 I1  ;       -------- 開始計算--------
14676                                 I1  ***** BEGIN-POOL *****
14677 000024BA 0000                   I1  ALIGNMENT CODE
14678 000024BC 00000000               I1  DATA FOR SOURCE-LINE 93
14679 000024C0 00000000               I1  DATA FOR SOURCE-LINE 98
14680 000024C4 00000000               I1  DATA FOR SOURCE-LINE 100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   156
PROGRAM NAME =

14681 000024C8 00000000               I1  DATA FOR SOURCE-LINE 107
14682 000024CC 00000000               I1  DATA FOR SOURCE-LINE 109
14683                                 I1  ***** END-POOL *****
14684 000024D0                    121 I1  DNDINC_STEP_MK100:
14685 000024D0 D108               122 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14686 000024D2 6011               123 I1          MOV.W   @R1,R0                          ;
14687 000024D4 D108               124 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
14688 000024D6 2101               125 I1          MOV.W   R0,@R1                          ;
14689                             126 I1  
14690 000024D8 D108               127 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14691 000024DA 6211               128 I1          MOV.W   @R1,R2                          ;
14692 000024DC D108               129 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
14693 000024DE 2121               130 I1          MOV.W   R2,@R1                          ;
14694                             131 I1  
14695 000024E0 C903               132 I1          AND     #(BIT1+BIT0),R0                 ;
14696 000024E2 8803               133 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14697 000024E4 8910               134 I1          BT      DNDINC_STEP_MK150               ;
14698                             135 I1  
14699 000024E6 D507               136 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14700 000024E8 9302               137 I1          MOV.W   #1,R3                           ;STEP=1
14701 000024EA 2531               138 I1          MOV.W   R3,@R5                          ;
14702                             139 I1          M_BRA   DNDINC_STEP_MK300               ;
14703 000024EC A061                   M           BRA     DNDINC_STEP_MK300
14704 000024EE 0009                   M           NOP
14705                             140 I1  
14706                                 I1  ***** BEGIN-POOL *****
14707 000024F0 0001                   I1  DATA FOR SOURCE-LINE 137
14708 000024F2 0000                   I1  ALIGNMENT CODE
14709 000024F4 00000000               I1  DATA FOR SOURCE-LINE 122
14710 000024F8 00000000               I1  DATA FOR SOURCE-LINE 124
14711 000024FC 00000000               I1  DATA FOR SOURCE-LINE 127
14712 00002500 00000000               I1  DATA FOR SOURCE-LINE 129
14713 00002504 00000000               I1  DATA FOR SOURCE-LINE 136
14714                                 I1  ***** END-POOL *****
14715 00002508                    141 I1  DNDINC_STEP_MK150:
14716 00002508 D10B               142 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14717 0000250A 6011               143 I1          MOV.W   @R1,R0
14718 0000250C 2008               144 I1          TST     R0,R0                           ;
14719                             145 I1          TST_BIT_ON DNDINC_STEP_MK180            ;
14720 0000250E 8B19                   M           BF      DNDINC_STEP_MK180
14721                             146 I1  
14722 00002510 940F               147 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
14723 00002512 D10A               148 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
14724 00002514 6211               149 I1          MOV.W   @R1,R2                                                  ;
14725                             150 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;dig-2.0
14726 00002516 3248                   M           SUB     R4,R2
14727 00002518 4211                   M           CMP/PZ  R2
14728 0000251A 8901                   M           BT      JMP0100007                      ;
14729 0000251C 910A                   M           MOV.W   #3600,R1
14730 0000251E 321C                   M           ADD     R1,R2           ;
14731 00002520                        M   JMP0100007                                      ;
14732                             151 I1  
14733 00002520 D107               152 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1        ;
14734 00002522 6311               153 I1          MOV.W   @R1,R3                          ;
14735                             154 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;dig-2.0
14736 00002524 3348                   M           SUB     R4,R3
14737 00002526 4311                   M           CMP/PZ  R3
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   157
PROGRAM NAME =

14738 00002528 8901                   M           BT      JMP0100008                      ;
14739 0000252A 9103                   M           MOV.W   #3600,R1
14740 0000252C 331C                   M           ADD     R1,R3           ;
14741 0000252E                        M   JMP0100008                                      ;
14742                             155 I1          M_BRA   DNDINC_STEP_MK200
14743 0000252E A018                   M           BRA     DNDINC_STEP_MK200
14744 00002530 0009                   M           NOP
14745                             156 I1  
14746                                 I1  ***** BEGIN-POOL *****
14747 00002532 0014                   I1  DATA FOR SOURCE-LINE 147
14748 00002534 0E10                   I1  DATA FOR SOURCE-LINE 150,154
14749 00002536 0000                   I1  ALIGNMENT CODE
14750 00002538 00000000               I1  DATA FOR SOURCE-LINE 142
14751 0000253C 00000000               I1  DATA FOR SOURCE-LINE 148
14752 00002540 00000000               I1  DATA FOR SOURCE-LINE 152
14753                                 I1  ***** END-POOL *****
14754 00002544                    157 I1  DNDINC_STEP_MK180:                                                      ;
14755                             158 I1  
14756 00002544 9419               159 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
14757 00002546 D10E               160 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
14758 00002548 6311               161 I1          MOV.W   @R1,R3                                                  ;
14759                             162 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;
14760 0000254A 334C                   M           ADD     R4,R3
14761 0000254C 9116                   M           MOV.W   #3600,R1
14762 0000254E 3137                   M           CMP/GT  R3,R1           ;359.9<3600
14763 00002550 8900                   M           BT      JMP0100009                      ;
14764 00002552 3318                   M           SUB     R1,R3           ;
14765 00002554                        M   JMP0100009                                      ;
14766                             163 I1  
14767 00002554 D10B               164 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1                                ;
14768 00002556 6211               165 I1          MOV.W   @R1,R2                                                  ;
14769                             166 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;
14770 00002558 324C                   M           ADD     R4,R2
14771 0000255A 910F                   M           MOV.W   #3600,R1
14772 0000255C 3127                   M           CMP/GT  R2,R1           ;359.9<3600
14773 0000255E 8900                   M           BT      JMP0100010                      ;
14774 00002560 3218                   M           SUB     R1,R2           ;
14775 00002562                        M   JMP0100010                                      ;
14776                             167 I1  
14777 00002562                    168 I1  DNDINC_STEP_MK200:                                              ;
14778 00002562 D109               169 I1          MOV.L   #_INC_ENC360,R1                                 ;
14779 00002564 6411               170 I1          MOV.W   @R1,R4                                          ;
14780                             171 I1  
14781                             172 I1          DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R4,ANSREG=R0       ;R0 !=0 範囲内
14782 00002566 3233                   M           CMP/GE  R3,R2
14783 00002568 8B10                   M           BF      JMP0100011
14784                                 M   ;       === 0度をはさなまい===
14785 0000256A 200A                   M           XOR     R0,R0
14786 0000256C 3433                   M           CMP/GE  R3,R4           ;
14787 0000256E 8B13                   M           BF      JMP0200011                      ; PV<SV1
14788 00002570 3243                   M           CMP/GE  R4,R2           ;
14789 00002572 8B11                   M           BF      JMP0200011                      ; SV2<PV2 (1)
14790 00002574 E001                   M           MOV     #1,R0           ;
14791                                 M           M_BRA   JMP0200011                      ;
14792 00002576 A00F                   M           BRA     JMP0200011
14793 00002578 0009                   M           NOP
14794                                 M   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   158
PROGRAM NAME =

14795                                 M   ;       ==== ０度をはさむ====
14796                                 M   ***** BEGIN-POOL *****
14797 0000257A 0014                   M   DATA FOR SOURCE-LINE 159
14798 0000257C 0E10                   M   DATA FOR SOURCE-LINE 162,166
14799 0000257E 0000                   M   ALIGNMENT CODE
14800 00002580 00000000               M   DATA FOR SOURCE-LINE 160
14801 00002584 00000000               M   DATA FOR SOURCE-LINE 164
14802 00002588 00000000               M   DATA FOR SOURCE-LINE 169
14803                                 M   ***** END-POOL *****
14804 0000258C                        M   JMP0100011:
14805 0000258C E001                   M           MOV     #1,R0
14806 0000258E 3433                   M           CMP/GE  R3,R4
14807 00002590 8902                   M           BT      JMP0200011                      ;SV1=<PV=<360
14808 00002592 3243                   M           CMP/GE  R4,R2           ;
14809 00002594 8900                   M           BT      JMP0200011                      ;
14810 00002596 200A                   M           XOR     R0,R0           ;
14811 00002598                        M   JMP0200011:
14812 00002598 2008               173 I1          TST     R0,R0                                           ;
14813                             174 I1          TST_BIT_OF DNDINC_STEP_MK220                            ;
14814 0000259A 8907                   M           BT      DNDINC_STEP_MK220
14815 0000259C D502               175 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
14816 0000259E 9302               176 I1          MOV.W   #2,R3                                           ;STEP=2 待機点に戻ってきて
                                          いる
14817 000025A0 2531               177 I1          MOV.W   R3,@R5                                          ;
14818                             178 I1          M_BRA   DNDINC_STEP_MK300                               ;
14819 000025A2 A006                   M           BRA     DNDINC_STEP_MK300
14820 000025A4 0009                   M           NOP
14821                                 I1  ***** BEGIN-POOL *****
14822 000025A6 0002                   I1  DATA FOR SOURCE-LINE 176
14823 000025A8 00000000               I1  DATA FOR SOURCE-LINE 175
14824                                 I1  ***** END-POOL *****
14825 000025AC                    179 I1  DNDINC_STEP_MK220:                                              ;
14826 000025AC D503               180 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
14827 000025AE 9303               181 I1          MOV.W   #1,R3                                           ;STEP=1 待機点を越えている
14828 000025B0 2531               182 I1          MOV.W   R3,@R5                                          ;
14829 000025B2                    183 I1  DNDINC_STEP_MK300:
14830                             184 I1          SUB_END
14831                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14832 000025B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14833                             185 I1          M_RTS
14834 000025B4 000B                   M           RTS                             ;RTSの後ろの
14835 000025B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14836                             186 I1  
14837                             187 I1  ;       ***********************************
14838                             188 I1  ;       ***                             ***
14839                             189 I1  ;       ***     工程からの目標位置作成  ***
14840                             190 I1  ;       ***                             ***
14841                             191 I1  ;       ***********************************
14842                                 I1  ***** BEGIN-POOL *****
14843 000025B8 0001                   I1  DATA FOR SOURCE-LINE 181
14844 000025BA 0000                   I1  ALIGNMENT CODE
14845 000025BC 00000000               I1  DATA FOR SOURCE-LINE 180
14846                                 I1  ***** END-POOL *****
14847 000025C0                    192 I1  _DNDINC_MAKE_OBJPOS:
14848                             193 I1          SUB_START
14849 000025C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14850                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   159
PROGRAM NAME =

14851                             194 I1  
14852 000025C2 D104               195 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14853 000025C4 6011               196 I1          MOV.W   @R1,R0                          ;
14854 000025C6 C903               197 I1          AND     #(BIT1+BIT0),R0                 ;
14855 000025C8 8803               198 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14856 000025CA 8905               199 I1          BT      DNDINC_MAKOBJPOS_100            ;
14857                             200 I1  
14858 000025CC C801               201 I1          TST     #BIT0,R0                        ;待機点のみ
14859                             202 I1          TST_BIT_ON DNDINC_MAKOBJPOS_120         ;YES
14860 000025CE 8B08                   M           BF      DNDINC_MAKOBJPOS_120
14861                             203 I1          M_BRA   DNDINC_MAKOBJPOS_150            ;途中位置
14862 000025D0 A010                   M           BRA     DNDINC_MAKOBJPOS_150
14863 000025D2 0009                   M           NOP
14864                             204 I1  
14865                                 I1  ***** BEGIN-POOL *****
14866 000025D4 00000000               I1  DATA FOR SOURCE-LINE 195
14867                                 I1  ***** END-POOL *****
14868 000025D8                    205 I1  DNDINC_MAKOBJPOS_100:
14869 000025D8 D104               206 I1          MOV.L   #_DNDINC_CTRL_STEP,R1           ;
14870 000025DA 6311               207 I1          MOV.W   @R1,R3                          ;
14871 000025DC 9205               208 I1          MOV.W   #2,R2                           ;
14872 000025DE 3230               209 I1          CMP/EQ  R3,R2
14873 000025E0 8B08               210 I1          BF      DNDINC_MAKOBJPOS_150            ;
14874 000025E2                    211 I1  DNDINC_MAKOBJPOS_120:
14875 000025E2 D103               212 I1          MOV.L   #_CPOS_DND_PLSTOP+0*4,R1        ;
14876 000025E4 6212               213 I1          MOV.L   @R1,R2                          ;STEP2=待機点に戻る
14877                             214 I1          M_BRA   DNDINC_MAKOBJPOS_200            ;
14878 000025E6 A007                   M           BRA     DNDINC_MAKOBJPOS_200
14879 000025E8 0009                   M           NOP
14880                             215 I1  
14881                                 I1  ***** BEGIN-POOL *****
14882 000025EA 0002                   I1  DATA FOR SOURCE-LINE 208
14883 000025EC 00000000               I1  DATA FOR SOURCE-LINE 206
14884 000025F0 00000000               I1  DATA FOR SOURCE-LINE 212
14885                                 I1  ***** END-POOL *****
14886 000025F4                    216 I1  DNDINC_MAKOBJPOS_150:
14887 000025F4 D104               217 I1          MOV.L   #_CPOS_DND_PLSTOP+1*4,R1        ;
14888 000025F6 6212               218 I1          MOV.L   @R1,R2                          ;STEP1=待機点から次へ出発
14889                             219 I1  
14890 000025F8                    220 I1  DNDINC_MAKOBJPOS_200:
14891 000025F8 D104               221 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14892 000025FA 6011               222 I1          MOV.W   @R1,R0
14893                             223 I1          FAR_JSR #_LNKPLS_OBJ_DAT_MAK2,R1        ;
14894 000025FC D104                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK2,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14895 000025FE 410B                   M           JSR     @R1                     ;
14896 00002600 0009                   M           NOP                                     ;
14897                             224 I1  
14898                             225 I1  
14899                             226 I1          SUB_END
14900                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14901 00002602 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14902                             227 I1          M_RTS
14903 00002604 000B                   M           RTS                             ;RTSの後ろの
14904 00002606 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14905                             228 I1  
14906                             229 I1  ;       *******************************************
14907                             230 I1  ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   160
PROGRAM NAME =

14908                             231 I1  ;       ***     Input R2                        ***
14909                             232 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
14910                             233 I1  ;       ***     Input R0 DIRECT                 ***
14911                             234 I1  ;       ***     方向固定                        ***
14912                             235 I1  ;       ***                                     ***
14913                             236 I1  ;       *******************************************
14914                             237 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
14915                             238 I1  ;       MOV.L   @R4,R2                                  ;
14916                             239 I1  
14917                                 I1  ***** BEGIN-POOL *****
14918 00002608 00000000               I1  DATA FOR SOURCE-LINE 217
14919 0000260C 00000000               I1  DATA FOR SOURCE-LINE 221
14920 00002610 00000000               I1  DATA FOR SOURCE-LINE 223
14921                                 I1  ***** END-POOL *****
14922 00002614                    240 I1  _LNKPLS_OBJ_DAT_MAK2:
14923                             241 I1          SUB_START
14924 00002614 4F22                   M           STS.L   PR,@-R15                ;[必要]
14925                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14926                             242 I1          PUSH_REG1 R0                                    ;SHIN
14927 00002616 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
14928                                 M                                           ;REG=>[SP]
14929                                 M                                           ;"-4" FF,FF,FF,FC
14930                             243 I1          PUSH_REG1 R2                                    ;1ROT DATA
14931 00002618 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
14932                                 M                                           ;REG=>[SP]
14933                                 M                                           ;"-4" FF,FF,FF,FC
14934                             244 I1  
14935                             245 I1  ;;      MOV.L   #_LINK_PV_ABSPLS,R4             ;
14936                             246 I1  ;;      MOV.L   @R4+,R1                                 ;
14937                             247 I1  ;;      MOV.L   @R4,R2                                  ;
14938                             248 I1  ;;      MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
14939                             249 I1  ;;      MOV.L   R1,@(0,R4)                              ;
14940                             250 I1  ;;      MOV.L   R2,@(4,R4)                              ;
14941                             251 I1  
14942                             252 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
14943 0000261A D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14944 0000261C 400B                   M           JSR     @R0                     ;
14945 0000261E 0009                   M           NOP                                     ;
14946                             253 I1  
14947                             254 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
14948 00002620 D00F                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14949 00002622 400B                   M           JSR     @R0                     ;
14950 00002624 0009                   M           NOP                                     ;
14951                             255 I1  
14952                             256 I1  
14953                             257 I1  ;       === 目標角度() ====
14954 00002626 D40F               258 I1          MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;[目標側の位置]
14955 00002628 6142               259 I1          MOV.L   @R4,R1                                  ;現在 ***.* pls "+"data
14956                             260 I1                                                          ;目標 ***.* pls
14957                             261 I1          POP_REG1 R2                                     ;
14958                                 M                                   ; RE"+4" 00,00,00,04
14959 0000262A 62F6                   M           MOV.L   @R15+,R2        ;
14960                             262 I1          POP_REG1 R0                                     ;
14961                                 M                                   ; RE"+4" 00,00,00,04
14962 0000262C 60F6                   M           MOV.L   @R15+,R0        ;
14963 0000262E 2008               263 I1          TST     R0,R0                                   ;
14964                             264 I1          TST_BIT_ON LNKPLS_OBJ_DAT_MK2_100               ;DIRECT MINAS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   161
PROGRAM NAME =

14965 00002630 8B20                   M           BF      LNKPLS_OBJ_DAT_MK2_100
14966                             265 I1  ;--------FWD-----------
14967 00002632 3218               266 I1          SUB     R1,R2                                   ;R1(PV) < R2(SV);
14968 00002634 4215               267 I1          CMP/PL  R2                                      ;
14969 00002636 8908               268 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;YES
14970 00002638 D50B               269 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
14971 0000263A 6452               270 I1          MOV.L   @R5,R4                                  ;
14972 0000263C 324C               271 I1          ADD     R4,R2                                   ;
14973 0000263E 4211               272 I1          CMP/PZ  R2
14974 00002640 8903               273 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;0,+
14975                             274 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
14976 00002642 D10A                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14977 00002644 410B                   M           JSR     @R1                     ;
14978 00002646 0009                   M           NOP                                     ;
14979 00002648 222A               275 I1          XOR     R2,R2                                   ;
14980 0000264A                    276 I1  LNKPLS_OBJ_DAT_MK2_050                                  ;+1REV
14981                             277 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
14982 0000264A D109               278 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
14983 0000264C 6311               279 I1          MOV.W   @R1,R3                                  ;
14984 0000264E 3233               280 I1          CMP/GE  R3,R2                                   ;
14985 00002650 8902               281 I1          BT      LNKPLS_OBJ_DAT_MK2_080                  ;
14986 00002652 D505               282 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
14987 00002654 6452               283 I1          MOV.L   @R5,R4                                  ;
14988 00002656 324C               284 I1          ADD     R4,R2                                   ;
14989 00002658                    285 I1  LNKPLS_OBJ_DAT_MK2_080                                  ;
14990                             286 I1          M_BRA   LNKPLS_OBJ_DAT_MK2_300                  ;
14991 00002658 A020                   M           BRA     LNKPLS_OBJ_DAT_MK2_300
14992 0000265A 0009                   M           NOP
14993                             287 I1  
14994                             288 I1  
14995                             289 I1  ;--------REV-----------
14996                                 I1  ***** BEGIN-POOL *****
14997 0000265C 00000000               I1  DATA FOR SOURCE-LINE 252
14998 00002660 00000000               I1  DATA FOR SOURCE-LINE 254
14999 00002664 00000000               I1  DATA FOR SOURCE-LINE 258
15000 00002668 00000000               I1  DATA FOR SOURCE-LINE 269,282
15001 0000266C 00000000               I1  DATA FOR SOURCE-LINE 274
15002 00002670 00000000               I1  DATA FOR SOURCE-LINE 278
15003                                 I1  ***** END-POOL *****
15004 00002674                    290 I1  LNKPLS_OBJ_DAT_MK2_100:                                 ;R2
15005 00002674 3218               291 I1          SUB     R1,R2                                   ;R1(PV) > R2(SV)
15006 00002676 4211               292 I1          CMP/PZ  R2                                      ;
15007 00002678 8B02               293 I1          BF      LNKPLS_OBJ_DAT_MK2_150                  ;YES
15008 0000267A D51D               294 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;"0,+"
15009 0000267C 6452               295 I1          MOV.L   @R5,R4                                  ;
15010 0000267E 3248               296 I1          SUB     R4,R2                                   ;
15011 00002680                    297 I1  LNKPLS_OBJ_DAT_MK2_150                                  ;-1REV
15012 00002680 4215               298 I1          CMP/PL  R2                                      ;
15013 00002682 8B03               299 I1          BF      LNKPLS_OBJ_DAT_MK2_200                  ;0,"-"
15014                             300 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
15015 00002684 D11B                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15016 00002686 410B                   M           JSR     @R1                     ;
15017 00002688 0009                   M           NOP                                     ;
15018 0000268A 222A               301 I1          XOR     R2,R2                                   ;
15019 0000268C                    302 I1  LNKPLS_OBJ_DAT_MK2_200                                  ;
15020                             303 I1  
15021                             304 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   162
PROGRAM NAME =

15022 0000268C D11A               305 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
15023 0000268E 6311               306 I1          MOV.W   @R1,R3                                  ;
15024 00002690 633B               307 I1          NEG     R3,R3                                   ;
15025 00002692 3233               308 I1          CMP/GE  R3,R2                                   ;-2000
15026 00002694 8B02               309 I1          BF      LNKPLS_OBJ_DAT_MK2_280                  ;
15027 00002696 D516               310 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
15028 00002698 6452               311 I1          MOV.L   @R5,R4                                  ;
15029 0000269A 3248               312 I1          SUB     R4,R2                                   ;
15030 0000269C                    313 I1  LNKPLS_OBJ_DAT_MK2_280                                  ;
15031                             314 I1  ;       ---------------------------------------------------
15032                             315 I1  
15033                             316 I1  
15034 0000269C                    317 I1  LNKPLS_OBJ_DAT_MK2_300                                  ;
15035 0000269C 255A               318 I1          XOR     R5,R5                                   ;
15036 0000269E 6623               319 I1          MOV     R2,R6                                   ;R5,R6
15037 000026A0 4211               320 I1          CMP/PZ  R2                                      ;
15038 000026A2 8900               321 I1          BT      LNKPLS_OBJ_DAT_MK2_600                  ;
15039 000026A4 E5FF               322 I1          MOV     #-1,R5                                  ;
15040 000026A6                    323 I1  LNKPLS_OBJ_DAT_MK2_600:                                 ;
15041                             324 I1  
15042                             325 I1  
15043 000026A6 D415               326 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
15044 000026A8 6146               327 I1          MOV.L   @R4+,R1                                 ;
15045 000026AA 6242               328 I1          MOV.L   @R4,R2                                  ;
15046                             329 I1          PUSH_REG1 R1
15047 000026AC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
15048                                 M                                           ;REG=>[SP]
15049                                 M                                           ;"-4" FF,FF,FF,FC
15050                             330 I1          PUSH_REG1 R2
15051 000026AE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
15052                                 M                                           ;REG=>[SP]
15053                                 M                                           ;"-4" FF,FF,FF,FC
15054                             331 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
15055 000026B0 0008                   M           CLRT
15056 000026B2 326E                   M           ADDC    R6,R2
15057 000026B4 315E                   M           ADDC    R5,R1
15058                             332 I1  
15059 000026B6 D412               333 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
15060 000026B8 2412               334 I1          MOV.L   R1,@R4                                          ;
15061 000026BA 1421               335 I1          MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
15062                             336 I1          POP_REG1 R6
15063                                 M                                   ; RE"+4" 00,00,00,04
15064 000026BC 66F6                   M           MOV.L   @R15+,R6        ;
15065                             337 I1          POP_REG1 R5
15066                                 M                                   ; RE"+4" 00,00,00,04
15067 000026BE 65F6                   M           MOV.L   @R15+,R5        ;
15068                             338 I1  
15069                             339 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
15070 000026C0 0008                   M           CLRT
15071 000026C2 326A                   M           SUBC    R6,R2
15072 000026C4 315A                   M           SUBC    R5,R1
15073 000026C6 233A               340 I1          XOR     R3,R3
15074 000026C8 4111               341 I1          CMP/PZ  R1                              ;
15075 000026CA 8900               342 I1          BT      LNKPLS_OBJ_DAT_MK2_750          ;
15076 000026CC E301               343 I1          MOV     #BIT0,R3                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   163
PROGRAM NAME =

15077 000026CE                    344 I1  LNKPLS_OBJ_DAT_MK2_750:                         ;
15078 000026CE D10D               345 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
15079 000026D0 6211               346 I1          MOV.W   @R1,R2                          ;
15080 000026D2 2131               347 I1          MOV.W   R3,@R1                          ;
15081 000026D4 223A               348 I1          XOR     R3,R2                           ;
15082 000026D6 2228               349 I1          TST     R2,R2                           ;
15083                             350 I1          TST_BIT_OF LNKPLS_OBJ_DAT_MK2_800       ;
15084 000026D8 8902                   M           BT      LNKPLS_OBJ_DAT_MK2_800
15085                             351 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
15086 000026DA D106                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15087 000026DC 410B                   M           JSR     @R1                     ;
15088 000026DE 0009                   M           NOP                                     ;
15089 000026E0                    352 I1  LNKPLS_OBJ_DAT_MK2_800:                         ;
15090                             353 I1  
15091 000026E0 D109               354 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
15092 000026E2 6011               355 I1          MOV.W   @R1,R0                          ;
15093 000026E4 C9FE               356 I1          AND     #LOW ~BIT0,R0                   ;
15094 000026E6 203B               357 I1          OR      R3,R0                           ;
15095 000026E8 2101               358 I1          MOV.W   R0,@R1                          ;
15096                             359 I1  
15097                             360 I1          SUB_END
15098                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15099 000026EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15100                             361 I1          M_RTS
15101 000026EC 000B                   M           RTS                             ;RTSの後ろの
15102 000026EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15103                             362 I1  
15104                             363 I1  
15105                            5167     
15106                            5168     
15107                            5169     ;       *******************************************
15108                            5170     ;       ***                                     ***
15109                            5171     ;       ***     手動パルサ仕様                  ***
15110                            5172     ;       ***                                     ***
15111                            5173     ;       *******************************************
15112                            5174     ;       0.5秒以内に2ﾊﾟﾙｽ以上増えたら起動
15113                            5175     ;
15114                            5176     ;
15115                            5177             .INCLUDE        "ssa_tep1.inc"          ; //
15116                               1 I1  ;       ***********************************
15117                               2 I1  ;       ***                             ***
15118                               3 I1  ;       ***     手動パルサコントロール  ***
15119                               4 I1  ;       ***                             ***
15120                               5 I1  ;       ***********************************
15121                               6 I1  ;       両手offで終了
15122                               7 I1  ;       符号チェンジ
15123                               8 I1  ;       符号チェンジによる停止指令
15124                               9 I1  ;       停止待ち
15125                              10 I1  ;
15126                              11 I1  ;       +方向動作中にｶｳﾝﾀが"-1以下"になったら+動作完了後"-"に戻す：ｶｳﾝﾀの更新,0CLRは行なわ
                                          ない
15127                              12 I1  ;       -方向動作中にｶｳﾝﾀが"+1以上"になったら-動作完了後"+"に進める:
15128                              13 I1  ;
15129                              14 I1  ;       (1)DIRECTIONﾌﾗｸﾞとｶｳﾝﾀを比較する
15130                              15 I1  ;       (2-1)同じ方向にﾊﾟﾙｽが増えたらｶｳﾝﾀ→位置決めLSIに足しこむ.ｶｳﾝﾀ=0とする
15131                              16 I1  ;       (2-2)逆方向に増えたらﾊﾟﾙｽ払い出しを待つ
15132                              17 I1  ;BIT1   (>3-1)残りﾊﾟﾙｽ=0になったら指令をOFFする。：：：ｽﾃｯﾌﾟｼｰｹﾝｽ開始
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   164
PROGRAM NAME =

15133                              18 I1  ;BIT2   (>3-2)位置決め完了したら10msecWAITする
15134                              19 I1  ;BIT6   (>3-3)起動演算を行なう
15135                              20 I1  ;
15136                              21 I1  ;       TEP_STEP_FLG
15137                              22 I1  ;               .BIT0 払出完了
15138                              23 I1  ;               .BIT1 5msecWAIT
15139                              24 I1  ;
15140                              25 I1  ;
15141                              26 I1  ;       plsData-->start-on
15142                              27 I1          .EXPORT _TEP_FLG_CLR
15143                              28 I1          .EXPORT _TEPA_START_CHK                 ;
15144                              29 I1          .EXPORT _TEPA_PLSCNT_CLR                ;
15145                              30 I1          .EXPORT _TEPA_PLSCNT_CHK                ;
15146                              31 I1  
15147                              32 I1          .IMPORT _PAR_TEP_WATTIM         ;3 1~50msec
15148                              33 I1          .IMPORT _PAR_TEP_BEFPLS         ;4 10pls
15149                              34 I1          .IMPORT _PAR_TEP_MINSPD         ;
15150                              35 I1  
15151                              36 I1  ;;;;まだ組み込まない    .IMPORT _SH4toSH2_TEPSIG        ;
15152                              37 I1  ;;;;まだ組み込まない    .IMPORT _SH2toSH4_TEPSIG        ;
15153                              38 I1  
15154                              39 I1  
15155                                 I1  ***** BEGIN-POOL *****
15156 000026F0 00000000               I1  DATA FOR SOURCE-LINE 294,310
15157 000026F4 00000000               I1  DATA FOR SOURCE-LINE 300,351
15158 000026F8 00000000               I1  DATA FOR SOURCE-LINE 305
15159 000026FC 00000000               I1  DATA FOR SOURCE-LINE 326
15160 00002700 00000000               I1  DATA FOR SOURCE-LINE 333
15161 00002704 00000000               I1  DATA FOR SOURCE-LINE 345
15162 00002708 00000000               I1  DATA FOR SOURCE-LINE 354
15163                                 I1  ***** END-POOL *****
15164 0000270C                     40 I1  _DND_TEP_STEP_CTRL:
15165                              41 I1          SUB_START
15166 0000270C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15167                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15168                              42 I1  
15169                              43 I1  ;       -------- 2013-06-05 -----------------------------
15170                              44 I1          DN_TIME LG=W,MEM_ADR=_TEP_CNTSMP_TIM,WKREG1=R1,WKREG2=R2        ;定周期
15171 0000270E D107                   M           MOV.L   #_TEP_CNTSMP_TIM,R1             ;SORCE ADRESS SET
15172 00002710 6211                   M           MOV.W   @R1,R2          ;
15173 00002712 2228                   M           TST     R2,R2                   ;
15174 00002714 8901                   M           BT      JMP_0100012                     ;ZERO THEN JUMP
15175 00002716 4210                   M           DT      R2                              ;
15176 00002718 2121                   M           MOV.W   R2,@R1          ;STORE
15177 0000271A                        M   JMP_0100012:
15178                              45 I1  
15179                              46 I1  
15180                              47 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0            ;
15181 0000271A D005                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15182 0000271C 400B                   M           JSR     @R0                     ;
15183 0000271E 0009                   M           NOP                                     ;
15184                              48 I1  
15185 00002720 D104                49 I1          MOV.L   #_TEP_STEP_FLG,R1               ;
15186 00002722 6011                50 I1          MOV.W   @R1,R0                          ;
15187 00002724 C802                51 I1          TST     #BIT1,R0                        ;
15188                              52 I1          TST_BIT_OF DND_TEPSTEPCTL_020           ;
15189 00002726 8907                   M           BT      DND_TEPSTEPCTL_020
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   165
PROGRAM NAME =

15190                              53 I1          M_BRA   DND_TEPSTEPCTL_400              ;
15191 00002728 A056                   M           BRA     DND_TEPSTEPCTL_400
15192 0000272A 0009                   M           NOP
15193                                 I1  ***** BEGIN-POOL *****
15194 0000272C 00000000               I1  DATA FOR SOURCE-LINE 44
15195 00002730 00000000               I1  DATA FOR SOURCE-LINE 47
15196 00002734 00000000               I1  DATA FOR SOURCE-LINE 49
15197                                 I1  ***** END-POOL *****
15198 00002738                     54 I1  DND_TEPSTEPCTL_020:
15199                              55 I1  
15200 00002738 C801                56 I1          TST     #BIT0,R0                        ;
15201                              57 I1          TST_BIT_ON DND_TEPSTEPCTL_200           ;
15202 0000273A 8B23                   M           BF      DND_TEPSTEPCTL_200
15203                              58 I1  
15204                              59 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
15205 0000273C D00B                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15206 0000273E 400B                   M           JSR     @R0                     ;
15207 00002740 0009                   M           NOP                                     ;
15208                              60 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
15209 00002742 D10B                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15210 00002744 410B                   M           JSR     @R1                     ;
15211 00002746 0009                   M           NOP                                     ;
15212 00002748 C804                61 I1          TST     #BIT2,R0                        ;停止?
15213                              62 I1          TST_BIT_OF DND_TEPSTEPCTL_180           ;NO 停止中? 0:払出中 1:停止
15214 0000274A 890D                   M           BT      DND_TEPSTEPCTL_180
15215                              63 I1  
15216                              64 I1  
15217                              65 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
15218 0000274C D009                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15219 0000274E 400B                   M           JSR     @R0                     ;
15220 00002750 0009                   M           NOP                                     ;
15221                              66 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
15222                              67 I1  
15223                              68 I1  ;       ------ ILDE[0,0] 1回だけではないよ！！--------
15224 00002752 D109                69 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
15225 00002754 6212                70 I1          MOV.L   @R1,R2                                                          ;
15226 00002756 2228                71 I1          TST     R2,R2                                                           ;
15227                              72 I1          TST_BIT_OF DND_TEPSTEPCTL_180                                           ;
15228 00002758 8906                   M           BT      DND_TEPSTEPCTL_180
15229                              73 I1                                                                                  ;ﾊﾟﾙｽ有り
                                          遷移1
15230                              74 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;2013-05-2
                                          6
15231 0000275A D008                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15232 0000275C 400B                   M           JSR     @R0                     ;
15233 0000275E 0009                   M           NOP                                     ;
15234                              75 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;[この時点
                                          でﾊﾟﾙｽ設定していない]
15235 00002760 D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15236 00002762 6011                   M           MOV.W   @R1,R0          ;
15237 00002764 CB01                   M           OR      #BIT0,R0                ;
15238 00002766 2101                   M           MOV.W   R0,@R1          ;
15239                              76 I1  
15240 00002768                     77 I1  DND_TEPSTEPCTL_180:
15241                              78 I1          M_BRA   DND_TEPSTEPCTL_900              ;
15242 00002768 A057                   M           BRA     DND_TEPSTEPCTL_900
15243 0000276A 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   166
PROGRAM NAME =

15244                              79 I1  
15245                              80 I1  ;       -------------- 払い出し待ち------------
15246                                 I1  ***** BEGIN-POOL *****
15247 0000276C 00000000               I1  DATA FOR SOURCE-LINE 59
15248 00002770 00000000               I1  DATA FOR SOURCE-LINE 60
15249 00002774 00000000               I1  DATA FOR SOURCE-LINE 65
15250 00002778 00000000               I1  DATA FOR SOURCE-LINE 69
15251 0000277C 00000000               I1  DATA FOR SOURCE-LINE 74
15252 00002780 00000000               I1  DATA FOR SOURCE-LINE 75
15253                                 I1  ***** END-POOL *****
15254 00002784                     81 I1  DND_TEPSTEPCTL_200:
15255                              82 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0                                     ;
15256 00002784 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15257 00002786 400B                   M           JSR     @R0                     ;
15258 00002788 0009                   M           NOP                                     ;
15259                              83 I1          FAR_JSR #_LOD_POS_STS_REG,R1                                            ;
15260 0000278A D10A                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15261 0000278C 410B                   M           JSR     @R1                     ;
15262 0000278E 0009                   M           NOP                                     ;
15263 00002790 C804                84 I1          TST     #BIT2,R0                                                        ;停止?
15264                              85 I1          TST_BIT_OF DND_TEPSTEPCTL_220                                           ;NO 停止中
                                          ? 0:払出中 1:停止
15265 00002792 8919                   M           BT      DND_TEPSTEPCTL_220
15266                              86 I1  
15267                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1        ;[払い出し
                                          完了 遷移2]
15268 00002794 D108                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15269 00002796 6011                   M           MOV.W   @R1,R0          ;
15270 00002798 CB02                   M           OR      #BIT1,R0                ;
15271 0000279A 2101                   M           MOV.W   R0,@R1          ;
15272                              88 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0                                          ;
15273 0000279C D007                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15274 0000279E 400B                   M           JSR     @R0                     ;
15275 000027A0 0009                   M           NOP                                     ;
15276                              89 I1  
15277                              90 I1  
15278                              91 I1  ;       ------- 2013-06-05 払出完了開始遅延100ms--------
15279 000027A2 D107                92 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1                                           ;//2013-06
                                          -05
15280 000027A4 6211                93 I1          MOV.W   @R1,R2                                                          ;
15281 000027A6 D107                94 I1          MOV.L   #_TEP_STEP_WTTM,R1                                              ;
15282 000027A8 2121                95 I1          MOV.W   R2,@R1                                                          ;
15283                              96 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
15284 000027AA A036                   M           BRA     DND_TEPSTEPCTL_900
15285 000027AC 0009                   M           NOP
15286                              97 I1  
15287                                 I1  ***** BEGIN-POOL *****
15288 000027AE 0000                   I1  ALIGNMENT CODE
15289 000027B0 00000000               I1  DATA FOR SOURCE-LINE 82
15290 000027B4 00000000               I1  DATA FOR SOURCE-LINE 83
15291 000027B8 00000000               I1  DATA FOR SOURCE-LINE 87
15292 000027BC 00000000               I1  DATA FOR SOURCE-LINE 88
15293 000027C0 00000000               I1  DATA FOR SOURCE-LINE 92
15294 000027C4 00000000               I1  DATA FOR SOURCE-LINE 94
15295                                 I1  ***** END-POOL *****
15296 000027C8                     98 I1  DND_TEPSTEPCTL_220:                                                             ;
15297                              99 I1  ;       2013-05-20 動作中の加算                                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   167
PROGRAM NAME =

15298                             100 I1  
15299                             101 I1          FAR_JSR #_TEPA_ADD_LSI,R0                                       ;
15300 000027C8 D002                   M           MOV.L   #_TEPA_ADD_LSI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15301 000027CA 400B                   M           JSR     @R0                     ;
15302 000027CC 0009                   M           NOP                                     ;
15303                             102 I1  
15304 000027CE                    103 I1  DND_TEPSTEPCTL_290:                                                     ;
15305                             104 I1          M_BRA   DND_TEPSTEPCTL_900                                      ;
15306 000027CE A024                   M           BRA     DND_TEPSTEPCTL_900
15307 000027D0 0009                   M           NOP
15308                             105 I1  
15309                             106 I1  
15310                             107 I1  ;       -------- 遅延待ち--------
15311                                 I1  ***** BEGIN-POOL *****
15312 000027D2 0000                   I1  ALIGNMENT CODE
15313 000027D4 00000000               I1  DATA FOR SOURCE-LINE 101
15314                                 I1  ***** END-POOL *****
15315 000027D8                    108 I1  DND_TEPSTEPCTL_400:
15316 000027D8 D103               109 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
15317 000027DA 6011               110 I1          MOV.W   @R1,R0                                          ;
15318 000027DC 2008               111 I1          TST     R0,R0                                           ;
15319                             112 I1          TST_BIT_OF DND_TEPSTEPCTL_420                           ;
15320 000027DE 8905                   M           BT      DND_TEPSTEPCTL_420
15321 000027E0 70FF               113 I1          ADD     #-1,R0                                          ;
15322 000027E2 2101               114 I1          MOV.W   R0,@R1                                          ;
15323                             115 I1  
15324                             116 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0                         ;
15325                             117 I1          M_BRA   DND_TEPSTEPCTL_900                              ;
15326 000027E4 A019                   M           BRA     DND_TEPSTEPCTL_900
15327 000027E6 0009                   M           NOP
15328                             118 I1  
15329                             119 I1  
15330                                 I1  ***** BEGIN-POOL *****
15331 000027E8 00000000               I1  DATA FOR SOURCE-LINE 109
15332                                 I1  ***** END-POOL *****
15333 000027EC                    120 I1  DND_TEPSTEPCTL_420:                                             ;
15334                             121 I1  
15335                             122 I1  ;       ---- ﾀｲﾏ中にﾊﾟﾙｽがあった。再起動[BIT1->BIT0]--------
15336 000027EC D106               123 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
15337 000027EE 6012               124 I1          MOV.L   @R1,R0                                                          ;
15338 000027F0 2008               125 I1          TST     R0,R0                                                           ;
15339                             126 I1          TST_BIT_OF DND_TEPSTEPCTL_800                                           ;
15340 000027F2 890F                   M           BT      DND_TEPSTEPCTL_800
15341                             127 I1  
15342                             128 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;
15343 000027F4 D005                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15344 000027F6 400B                   M           JSR     @R0                     ;
15345 000027F8 0009                   M           NOP                                     ;
15346                             129 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
15347 000027FA D105                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15348 000027FC 6011                   M           MOV.W   @R1,R0          ;
15349 000027FE CB01                   M           OR      #BIT0,R0                ;
15350 00002800 2101                   M           MOV.W   R0,@R1          ;
15351                             130 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
15352 00002802 A00A                   M           BRA     DND_TEPSTEPCTL_900
15353 00002804 0009                   M           NOP
15354                             131 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   168
PROGRAM NAME =

15355                             132 I1  
15356                             133 I1  ;       --------- 完全なﾀｲﾑｱｯﾌﾟ-------
15357                                 I1  ***** BEGIN-POOL *****
15358 00002806 0000                   I1  ALIGNMENT CODE
15359 00002808 00000000               I1  DATA FOR SOURCE-LINE 123
15360 0000280C 00000000               I1  DATA FOR SOURCE-LINE 128
15361 00002810 00000000               I1  DATA FOR SOURCE-LINE 129
15362                                 I1  ***** END-POOL *****
15363 00002814                    134 I1  DND_TEPSTEPCTL_800:
15364                             135 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;[遷移0]
15365 00002814 D003                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15366 00002816 400B                   M           JSR     @R0                     ;
15367 00002818 0009                   M           NOP                                     ;
15368                             136 I1  
15369                             137 I1  
15370 0000281A                    138 I1  DND_TEPSTEPCTL_900:
15371 0000281A 0009               139 I1          NOP
15372 0000281C                    140 I1  DND_TEPSTEPCTL_EXT:
15373                             141 I1          SUB_END
15374                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15375 0000281C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15376                             142 I1          M_RTS
15377 0000281E 000B                   M           RTS                             ;RTSの後ろの
15378 00002820 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15379                             143 I1  
15380                             144 I1  
15381                             145 I1  ;       ***********************************
15382                             146 I1  ;       ***                             ***
15383                             147 I1  ;       ***     起動処理                ***
15384                             148 I1  ;       ***                             ***
15385                             149 I1  ;       ***********************************
15386                                 I1  ***** BEGIN-POOL *****
15387 00002822 0000                   I1  ALIGNMENT CODE
15388 00002824 00000000               I1  DATA FOR SOURCE-LINE 135
15389                                 I1  ***** END-POOL *****
15390 00002828                    150 I1  _MN_TEP_START
15391                             151 I1          SUB_START
15392 00002828 4F22                   M           STS.L   PR,@-R15                ;[必要]
15393                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15394                             152 I1          FAR_JSR #_TEP_START_INIT1,R0                    ;
15395 0000282A D00D                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15396 0000282C 400B                   M           JSR     @R0                     ;
15397 0000282E 0009                   M           NOP                                     ;
15398                             153 I1  
15399                             154 I1  ;;;;;;2014-09-14        MOV.L   #_LINK_PV_ABSPLS,R4             ;
15400                             155 I1  ;;;;;;2014-09-14        MOV.L   @R4+,R1                                 ;
15401                             156 I1  ;;;;;;2014-09-14        MOV.L   @R4,R2                                  ;
15402                             157 I1  
15403 00002830 D40C               158 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
15404 00002832 5140               159 I1          MOV.L   @(0,R4),R1                              ;
15405 00002834 5241               160 I1          MOV.L   @(4,R4),R2                              ;
15406 00002836 D40C               161 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
15407 00002838 2412               162 I1          MOV.L   R1,@R4                                  ;
15408 0000283A 1421               163 I1          MOV.L   R2,@(1*4,R4)                            ;目標位置ｾｯﾄ
15409                             164 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
15410 0000283C D00B                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   169
PROGRAM NAME =

15411 0000283E 400B                   M           JSR     @R0                     ;
15412 00002840 0009                   M           NOP                                     ;
15413                             165 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0                    ;
15414 00002842 D00B                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15415 00002844 400B                   M           JSR     @R0                     ;
15416 00002846 0009                   M           NOP                                     ;
15417                             166 I1  ;       --- 位置データを作らない---- FAR_JSR #_TEP_SV_OBJ_MAK,R0
15418                             167 I1  
15419                             168 I1  
15420                             169 I1          FAR_JSR #_DNDINC_SPD_SET,R4                             ;とりあえずこれは触らない[
                                          ]
15421 00002848 D40A                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15422 0000284A 440B                   M           JSR     @R4                     ;
15423 0000284C 0009                   M           NOP                                     ;
15424                             170 I1  
15425                             171 I1  ;       ---------- 2013-06-05
15426 0000284E 200A               172 I1          XOR     R0,R0                                           ;
15427 00002850 D109               173 I1          MOV.L   #_TEP_CNTSMP_TIM,R1                             ;
15428 00002852 2101               174 I1          MOV.W   R0,@R1                                          ;
15429 00002854 D109               175 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
15430 00002856 2101               176 I1          MOV.W   R0,@R1                                          ;
15431                             177 I1  
15432                             178 I1  
15433                             179 I1  
15434                             180 I1  
15435                             181 I1          SUB_END
15436                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15437 00002858 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15438                             182 I1          M_RTS
15439 0000285A 000B                   M           RTS                             ;RTSの後ろの
15440 0000285C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15441                             183 I1  
15442                             184 I1  ;       ***********************************
15443                             185 I1  ;       ***                             ***
15444                             186 I1  ;       ***     再起動処理              ***
15445                             187 I1  ;       ***                             ***
15446                             188 I1  ;       ***********************************
15447                             189 I1  ;       <<<<<<<<<<<100msecの速度で動作させる>>>>>>>>>>
15448                             190 I1  ;
15449                                 I1  ***** BEGIN-POOL *****
15450 0000285E 0000                   I1  ALIGNMENT CODE
15451 00002860 00000000               I1  DATA FOR SOURCE-LINE 152
15452 00002864 00000000               I1  DATA FOR SOURCE-LINE 158
15453 00002868 00000000               I1  DATA FOR SOURCE-LINE 161
15454 0000286C 00000000               I1  DATA FOR SOURCE-LINE 164
15455 00002870 00000000               I1  DATA FOR SOURCE-LINE 165
15456 00002874 00000000               I1  DATA FOR SOURCE-LINE 169
15457 00002878 00000000               I1  DATA FOR SOURCE-LINE 173
15458 0000287C 00000000               I1  DATA FOR SOURCE-LINE 175
15459                                 I1  ***** END-POOL *****
15460 00002880                    191 I1  _INT_TEP_RESTART
15461                             192 I1          SUB_START
15462 00002880 4F22                   M           STS.L   PR,@-R15                ;[必要]
15463                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15464                             193 I1  
15465                             194 I1  
15466 00002882 222A               195 I1          XOR     R2,R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   170
PROGRAM NAME =

15467 00002884 D117               196 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15468 00002886 2121               197 I1          MOV.W   R2,@R1                          ;
15469                             198 I1  
15470                             199 I1  ;       --------- 2013-06-19 -----------------
15471                             200 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
15472 00002888 D017                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15473 0000288A 400B                   M           JSR     @R0                     ;
15474 0000288C 0009                   M           NOP                                     ;
15475                             201 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
15476                             202 I1  
15477                             203 I1  ;       --------- 2013-06-05 -----------------
15478                             204 I1          FAR_JSR #_TEP_SPD_CALC1,R0                      ;
15479 0000288E D017                   M           MOV.L   #_TEP_SPD_CALC1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15480 00002890 400B                   M           JSR     @R0                     ;
15481 00002892 0009                   M           NOP                                     ;
15482                             205 I1          FAR_JSR #_TEP_SPD_SET,R0                        ;
15483 00002894 D016                   M           MOV.L   #_TEP_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15484 00002896 400B                   M           JSR     @R0                     ;
15485 00002898 0009                   M           NOP                                     ;
15486                             206 I1  
15487                             207 I1  ;;;2013-06-05   FAR_JSR #_DNDINC_SPD_SET,R4             ;
15488                             208 I1  
15489                             209 I1  ;;;;;;  FAR_JSR #_POS_LSI_START_INITAL,R0                                       ;
15490                             210 I1          FAR_JSR #_POS_LSI_START_INITAL_TEP,R0                                   ;2013-06-1
                                          3
15491 0000289A D016                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15492 0000289C 400B                   M           JSR     @R0                     ;
15493 0000289E 0009                   M           NOP                                     ;
15494                             211 I1  
15495 000028A0 D115               212 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                                         ;目標速度
15496 000028A2 6212               213 I1          MOV.L   @R1,R2                                                          ;
15497                             214 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1                                      ;
15498 000028A4 D115                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15499 000028A6 410B                   M           JSR     @R1                     ;
15500 000028A8 0009                   M           NOP                                     ;
15501                             215 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                                        ;
15502 000028AA D015                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15503 000028AC 400B                   M           JSR     @R0                     ;
15504 000028AE 0009                   M           NOP                                     ;
15505                             216 I1  
15506                             217 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                                        ;
15507 000028B0 D014                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15508 000028B2 400B                   M           JSR     @R0                     ;
15509 000028B4 0009                   M           NOP                                     ;
15510                             218 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0                                       ;(停止時か
                                          らの起動の場合のみ有効・安一のみ)
15511 000028B6 D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15512 000028B8 400B                   M           JSR     @R0                     ;
15513 000028BA 0009                   M           NOP                                     ;
15514                             219 I1          FAR_JSR #_FWD_REV_START,R1                                              ;起動
15515 000028BC D113                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15516 000028BE 410B                   M           JSR     @R1                     ;
15517 000028C0 0009                   M           NOP                                     ;
15518                             220 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
15519 000028C2 D113                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
15520 000028C4 6011                   M           MOV.W   @R1,R0          ;
15521 000028C6 CB01                   M           OR      #BIT0,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   171
PROGRAM NAME =

15522 000028C8 2101                   M           MOV.W   R0,@R1          ;
15523                             221 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                          ;
15524 000028CA D012                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15525 000028CC 400B                   M           JSR     @R0                     ;
15526 000028CE 0009                   M           NOP                                     ;
15527                             222 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0                                    ;
15528 000028D0 D011                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15529 000028D2 400B                   M           JSR     @R0                     ;
15530 000028D4 0009                   M           NOP                                     ;
15531                             223 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;
15532 000028D6 D011                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15533 000028D8 400B                   M           JSR     @R0                     ;
15534 000028DA 0009                   M           NOP                                     ;
15535                             224 I1          SUB_END
15536                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15537 000028DC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15538                             225 I1          M_RTS
15539 000028DE 000B                   M           RTS                             ;RTSの後ろの
15540 000028E0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15541                             226 I1  
15542                             227 I1  
15543                             228 I1  ;;;;;;;;2013-06-05元元未使用    ***********************************
15544                             229 I1  ;;;;;;;;        ***                             ***
15545                             230 I1  ;;;;;;;;        ***     再ADD                   ***
15546                             231 I1  ;;;;;;;;        ***                             ***
15547                             232 I1  ;;;;;;;;;       ***********************************
15548                             233 I1  ;;;;;;;;_TEP_ADD_OBJMAK:
15549                             234 I1  ;;;;;;;;        SUB_START
15550                             235 I1  ;;;;;;;;        FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;
15551                             236 I1  ;;;;;;;;        FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
15552                             237 I1  ;;;;;;;;        FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
15553                             238 I1  ;;;;;;;;        FAR_JSR #_TEP_START_INIT1,R0                    ;
15554                             239 I1  ;;;;;;;;        SUB_END
15555                             240 I1  ;;;;;;;;        M_RTS
15556                             241 I1  
15557                             242 I1  
15558                                 I1  ***** BEGIN-POOL *****
15559 000028E2 0000                   I1  ALIGNMENT CODE
15560 000028E4 00000000               I1  DATA FOR SOURCE-LINE 196
15561 000028E8 00000000               I1  DATA FOR SOURCE-LINE 200
15562 000028EC 00000000               I1  DATA FOR SOURCE-LINE 204
15563 000028F0 00000000               I1  DATA FOR SOURCE-LINE 205
15564 000028F4 00000000               I1  DATA FOR SOURCE-LINE 210
15565 000028F8 00000000               I1  DATA FOR SOURCE-LINE 212
15566 000028FC 00000000               I1  DATA FOR SOURCE-LINE 214
15567 00002900 00000000               I1  DATA FOR SOURCE-LINE 215
15568 00002904 00000000               I1  DATA FOR SOURCE-LINE 217
15569 00002908 00000000               I1  DATA FOR SOURCE-LINE 218
15570 0000290C 00000000               I1  DATA FOR SOURCE-LINE 219
15571 00002910 00000000               I1  DATA FOR SOURCE-LINE 220
15572 00002914 00000000               I1  DATA FOR SOURCE-LINE 221
15573 00002918 00000000               I1  DATA FOR SOURCE-LINE 222
15574 0000291C 00000000               I1  DATA FOR SOURCE-LINE 223
15575                                 I1  ***** END-POOL *****
15576 00002920                    243 I1  _TEP_START_INIT1
15577                             244 I1          SUB_START
15578 00002920 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   172
PROGRAM NAME =

15579                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15580                             245 I1  
15581                             246 I1          MEM1_0CLR MEM=_TEP_STEP_FLG,LG=W,WKREG1=R1,CLRREG=R0            ;
15582 00002922 D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15583 00002924 200A                   M           XOR     R0,R0           ;
15584 00002926 2101                   M           MOV.W   R0,@R1  ;
15585                             247 I1          MEM1_0CLR MEM=_TEP_POS_ADD_CNT,LG=L,WKREG1=R1,CLRREG=R0         ;
15586 00002928 D106                   M           MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15587 0000292A 200A                   M           XOR     R0,R0           ;
15588 0000292C 2102                   M           MOV.L   R0,@R1  ;
15589                             248 I1  ;       2013-06-20
15590                             249 I1          MEM1_0CLR MEM=_TEP_INPLS_FLG,LG=W,WKREG1=R1,CLRREG=R0           ;
15591 0000292E D106                   M           MOV.L   #_TEP_INPLS_FLG,R1              ;
15592 00002930 200A                   M           XOR     R0,R0           ;
15593 00002932 2101                   M           MOV.W   R0,@R1  ;
15594                             250 I1  
15595                             251 I1  ;;;;;;;;2013-06-05      MEM1_0CLR MEM=_TEP_POS_ADD_CNTOLD,LG=L,WKREG1=R1,CLRREG=R0      ;
15596                             252 I1  
15597                             253 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0  ;2013-07-19
15598 00002934 D005                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15599 00002936 400B                   M           JSR     @R0                     ;
15600 00002938 0009                   M           NOP                                     ;
15601                             254 I1  
15602                             255 I1          SUB_END
15603                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15604 0000293A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15605                             256 I1          M_RTS
15606 0000293C 000B                   M           RTS                             ;RTSの後ろの
15607 0000293E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15608                             257 I1  
15609                             258 I1  
15610                             259 I1  ;       *******************************************
15611                             260 I1  ;       ***                                     ***
15612                             261 I1  ;       ***             倍率                    ***
15613                             262 I1  ;       ***                                     ***
15614                             263 I1  ;       *******************************************
15615                             264 I1  ;       Output R2:NEW CUNTER
15616                             265 I1  ;       Output R3:OLD CUNTER
15617                             266 I1  ;       起動時はR2,R3は使用しない
15618                                 I1  ***** BEGIN-POOL *****
15619 00002940 00000000               I1  DATA FOR SOURCE-LINE 246
15620 00002944 00000000               I1  DATA FOR SOURCE-LINE 247
15621 00002948 00000000               I1  DATA FOR SOURCE-LINE 249
15622 0000294C 00000000               I1  DATA FOR SOURCE-LINE 253
15623                                 I1  ***** END-POOL *****
15624 00002950                    267 I1  _TEP_ADD_PLS_MAK:
15625                             268 I1          SUB_START
15626 00002950 4F22                   M           STS.L   PR,@-R15                ;[必要]
15627                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15628                             269 I1  
15629                             270 I1  ;       ----------- DIRECT作成 2013-06-20--------
15630 00002952 D415               271 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
15631 00002954 6241               272 I1          MOV.W   @R4,R2                          ;
15632 00002956 2228               273 I1          TST     R2,R2                           ;
15633                             274 I1          TST_BIT_OF TEP_ADD_PLSMK_030            ;
15634 00002958 8907                   M           BT      TEP_ADD_PLSMK_030
15635                             275 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   173
PROGRAM NAME =

15636 0000295A 9021               276 I1          MOV.W   #BIT4,R0                        ;
15637 0000295C 4211               277 I1          CMP/PZ  R2
15638 0000295E 8900               278 I1          BT      TEP_ADD_PLSMK_020               ;FWD
15639 00002960 901F               279 I1          MOV.W   #BIT5,R0                        ;REV
15640 00002962                    280 I1  TEP_ADD_PLSMK_020:
15641 00002962 D112               281 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15642 00002964 6211               282 I1          MOV.W   @R1,R2                          ;
15643 00002966 220B               283 I1          OR      R0,R2                           ;
15644 00002968 2121               284 I1          MOV.W   R2,@R1                          ;
15645 0000296A                    285 I1  TEP_ADD_PLSMK_030:
15646                             286 I1  ;       -----------------------------------------
15647                             287 I1  
15648                             288 I1  
15649 0000296A D311               289 I1          MOV.L   #_SET1_PLSALO_PLS,R3            ;//パルサ倍率低
15650 0000296C D111               290 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15651 0000296E 6011               291 I1          MOV.W   @R1,R0                          ;
15652 00002970 C804               292 I1          TST     #BIT2,R0                        ;0:LOW 1:HIGH
15653                             293 I1          TST_BIT_OF TEP_ADD_PLSMK_050            ;
15654 00002972 8900                   M           BT      TEP_ADD_PLSMK_050
15655 00002974 D310               294 I1          MOV.L   #_SET1_PLSAHI_PLS,R3            ;パルサ倍率高
15656 00002976                    295 I1  TEP_ADD_PLSMK_050:
15657 00002976 6131               296 I1          MOV.W   @R3,R1                          ;
15658 00002978 9414               297 I1          MOV.W   #D'1000,R4                      ;
15659 0000297A 3412               298 I1          CMP/HS  R1,R4                           ;
15660 0000297C 8900               299 I1          BT      TEP_ADD_PLSMK_100               ;
15661 0000297E 6143               300 I1          MOV     R4,R1                           ;
15662 00002980                    301 I1  TEP_ADD_PLSMK_100:                              ;
15663 00002980 2118               302 I1          TST     R1,R1                           ;
15664                             303 I1          TST_BIT_ON TEP_ADD_PLSMK_150            ;
15665 00002982 8B00                   M           BF      TEP_ADD_PLSMK_150
15666 00002984 E101               304 I1          MOV     #1,R1                           ;
15667 00002986                    305 I1  TEP_ADD_PLSMK_150:                              ;
15668                             306 I1  
15669 00002986 200A               307 I1          XOR     R0,R0
15670 00002988 D407               308 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
15671 0000298A 6241               309 I1          MOV.W   @R4,R2                          ;
15672 0000298C 2401               310 I1          MOV.W   R0,@R4                          ;0CLR
15673                             311 I1                                                  ;R2
15674                             312 I1  
15675 0000298E 212F               313 I1          MULS.W  R2,R1                           ;
15676 00002990 021A               314 I1          STS     MACL,R2                         ;
15677 00002992 D10A               315 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15678 00002994 6312               316 I1          MOV.L   @R1,R3                          ;
15679 00002996 323C               317 I1          ADD     R3,R2                           ;
15680 00002998 2122               318 I1          MOV.L   R2,@R1                          ;R3:OLD R2:NEW
15681                             319 I1  ;;;;;;;2013-06-05       MOV.L   #_TEP_POS_ADD_CNTOLD,R1         ;[[[[[[[[使用していない]]]
                                          ]]]]]]]]]]]]]
15682                             320 I1  ;;;;;;;2013-06-05       MOV.L   R3,@R1                          ;
15683                             321 I1  
15684                             322 I1          SUB_END
15685                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15686 0000299A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15687                             323 I1          M_RTS
15688 0000299C 000B                   M           RTS                             ;RTSの後ろの
15689 0000299E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15690                             324 I1  
15691                             325 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   174
PROGRAM NAME =

15692                             326 I1  ;       ***                                     ***
15693                             327 I1  ;       ***     位置決め側                      ***
15694                             328 I1  ;       ***     起動時の位置作成                ***
15695                             329 I1  ;       ***     再起動時の位置作成              ***
15696                             330 I1  ;       ***                                     ***
15697                             331 I1  ;       *******************************************
15698                                 I1  ***** BEGIN-POOL *****
15699 000029A0 0010                   I1  DATA FOR SOURCE-LINE 276
15700 000029A2 0020                   I1  DATA FOR SOURCE-LINE 279
15701 000029A4 03E8                   I1  DATA FOR SOURCE-LINE 297
15702 000029A6 0000                   I1  ALIGNMENT CODE
15703 000029A8 00000000               I1  DATA FOR SOURCE-LINE 271,308
15704 000029AC 00000000               I1  DATA FOR SOURCE-LINE 281
15705 000029B0 00000000               I1  DATA FOR SOURCE-LINE 289
15706 000029B4 00000000               I1  DATA FOR SOURCE-LINE 290
15707 000029B8 00000000               I1  DATA FOR SOURCE-LINE 294
15708 000029BC 00000000               I1  DATA FOR SOURCE-LINE 315
15709                                 I1  ***** END-POOL *****
15710 000029C0                    332 I1  _TEP_1STEP_DATA_MAK1:
15711                             333 I1          SUB_START
15712 000029C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
15713                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15714                             334 I1  
15715 000029C2 D008               335 I1          MOV.L   #_CPOS_CTL_MATH,R0              ;
15716 000029C4 6001               336 I1          MOV.W   @R0,R0                          ;
15717                             337 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
15718 000029C6 C805               338 I1          TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;[2009-10-07下振子]
15719                             339 I1          TST_BIT_ON TEP_1STEP_DATMK1_080         ;
15720 000029C8 8B17                   M           BF      TEP_1STEP_DATMK1_080
15721                             340 I1  
15722                             341 I1          FAR_JSR #_NEG_TEPA_AREA_CHK,R0          ;反転モードのエリア
15723 000029CA D007                   M           MOV.L   #_NEG_TEPA_AREA_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15724 000029CC 400B                   M           JSR     @R0                     ;
15725 000029CE 0009                   M           NOP                                     ;
15726 000029D0 2008               342 I1          TST     R0,R0                           ;
15727                             343 I1          TST_BIT_OF TEP_1STEP_DATMK1_080         ;+/- OK
15728 000029D2 8912                   M           BT      TEP_1STEP_DATMK1_080
15729                             344 I1  
15730 000029D4 D105               345 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15731 000029D6 6212               346 I1          MOV.L   @R1,R2                          ;
15732 000029D8 4211               347 I1          CMP/PZ  R2                              ;
15733 000029DA 8909               348 I1          BT      TEP_1STEP_DATMK1_050            ;
15734                             349 I1  ;       ------ "-" PLS入ってきた----
15735 000029DC 4011               350 I1          CMP/PZ  R0                              ;
15736 000029DE 8909               351 I1          BT      TEP_1STEP_DATMK1_070            ;+のみ許可
15737                             352 I1          M_BRA   TEP_1STEP_DATMK1_080            ;-:OK
15738 000029E0 A00B                   M           BRA     TEP_1STEP_DATMK1_080
15739 000029E2 0009                   M           NOP
15740                             353 I1  
15741                             354 I1  ;       ------ + PLS----
15742                                 I1  ***** BEGIN-POOL *****
15743 000029E4 00000000               I1  DATA FOR SOURCE-LINE 335
15744 000029E8 00000000               I1  DATA FOR SOURCE-LINE 341
15745 000029EC 00000000               I1  DATA FOR SOURCE-LINE 345
15746                                 I1  ***** END-POOL *****
15747 000029F0                    355 I1  TEP_1STEP_DATMK1_050:
15748 000029F0 4015               356 I1          CMP/PL  R0                              ;"+"OK?
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   175
PROGRAM NAME =

15749 000029F2 8902               357 I1          BT      TEP_1STEP_DATMK1_080            ;YES OK
15750 000029F4                    358 I1  TEP_1STEP_DATMK1_070:
15751 000029F4 D116               359 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15752 000029F6 200A               360 I1          XOR     R0,R0                           ;
15753 000029F8 2102               361 I1          MOV.L   R0,@R1                          ;
15754                             362 I1  
15755                             363 I1  ;       -----------ふりこ・回転の通常　及び反転の位置カット後の処理------------
15756 000029FA                    364 I1  TEP_1STEP_DATMK1_080:
15757 000029FA D416               365 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
15758 000029FC 6142               366 I1          MOV.L   @R4,R1                                                  ;
15759 000029FE 5241               367 I1          MOV.L   @(1*4,R4),R2                                            ;
15760                             368 I1  
15761 00002A00 D013               369 I1          MOV.L   #_TEP_POS_ADD_CNT,R0                                    ;位置決め側使用デ
                                          ータ
15762 00002A02 6602               370 I1          MOV.L   @R0,R6                                                  ;
15763                             371 I1          EXTS_4B_TO_8B REG8B_H=R5,REG4B=R6                               ;
15764 00002A04 255A                   M           XOR     R5,R5
15765 00002A06 4611                   M           CMP/PZ  R6
15766 00002A08 8900                   M           BT      JMP0100013              ;
15767 00002A0A 75FF                   M           ADD     #-1,R5  ;
15768 00002A0C                        M   JMP0100013:
15769                                 M   
15770                             372 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2
15771 00002A0C 0008                   M           CLRT
15772 00002A0E 326E                   M           ADDC    R6,R2
15773 00002A10 315E                   M           ADDC    R5,R1
15774                             373 I1  
15775                             374 I1  ;;      ------2007-01-23 LIMIT R1,R2(OBJ) R5,R6(DELT):反転の時---------------
15776                             375 I1  ;;      MOV.L   #_CPOS_CTL_MATH,R0              ;
15777                             376 I1  ;;      MOV.W   @R0,R0                          ;
15778                             377 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
15779                             378 I1  ;;      TST_BIT_ON TEP_1STEP_DATMK1_200         ;
15780                             379 I1  ;;
15781                             380 I1  ;;      --(反転)--
15782                             381 I1  ;;      MOV.L   #_TEP_POS_ADD_CNT,R0            ;位置決め側使用データ
15783                             382 I1  ;;      MOV.L   @R0,R0                          ;
15784                             383 I1  ;;      CMP/PZ  R0                              ;
15785                             384 I1  ;;      BT      TEP_1STEP_DATMK1_100            ;
15786                             385 I1  ;;      ----- MINAS LIMIT -------
15787                             386 I1  ;;
15788                             387 I1  ;;
15789                             388 I1  ;;TEP_1STEP_DATMK1_100:
15790                             389 I1  ;;      ----- PLAS LIMIT -------
15791                             390 I1  ;;
15792                             391 I1  ;;
15793                             392 I1  ;;
15794                             393 I1  ;;
15795                             394 I1  ;;TEP_1STEP_DATMK1_200:
15796 00002A12 D410               395 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
15797 00002A14 2412               396 I1          MOV.L   R1,@R4                                  ;
15798 00002A16 1421               397 I1          MOV.L   R2,@(1*4,R4)                            ;
15799 00002A18 D40F               398 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
15800 00002A1A 2412               399 I1          MOV.L   R1,@R4                                  ;
15801 00002A1C 1421               400 I1          MOV.L   R2,@(4,R4)                              ;
15802                             401 I1  
15803 00002A1E D40F               402 I1          MOV.L   #_LNGTH_ADD_DATA,R4                     ;//符号付き
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   176
PROGRAM NAME =

15804 00002A20 2452               403 I1          MOV.L   R5,@R4                                  ;
15805 00002A22 1461               404 I1          MOV.L   R6,@(4,R4)                              ;
15806                             405 I1  
15807 00002A24 D40E               406 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                  ;//符号付き
15808 00002A26 2452               407 I1          MOV.L   R5,@R4                                  ;
15809 00002A28 1461               408 I1          MOV.L   R6,@(4,R4)                              ;
15810                             409 I1  
15811 00002A2A 233A               410 I1          XOR     R3,R3                                   ;
15812 00002A2C 4511               411 I1          CMP/PZ  R5                                      ;
15813 00002A2E 8900               412 I1          BT      TEP_1STEP_DATMK1_100                    ;
15814 00002A30 930C               413 I1          MOV.W   #BIT0,R3                                ;
15815 00002A32                    414 I1  TEP_1STEP_DATMK1_100:
15816 00002A32 D10C               415 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
15817 00002A34 2131               416 I1          MOV.W   R3,@R1                                  ;
15818                             417 I1  
15819 00002A36 D10C               418 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1                   ;
15820 00002A38 6011               419 I1          MOV.W   @R1,R0                                  ;
15821 00002A3A C9FE               420 I1          AND     #LOW ~BIT0,R0                           ;
15822 00002A3C 203B               421 I1          OR      R3,R0                                   ;
15823 00002A3E 2101               422 I1          MOV.W   R0,@R1                                  ;
15824                             423 I1  
15825                             424 I1  ;       ---------- 2013-06-20 ------------
15826 00002A40 200A               425 I1          XOR     R0,R0                           ;
15827 00002A42 D10A               426 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15828 00002A44 2101               427 I1          MOV.W   R0,@R1                          ;
15829                             428 I1  
15830                             429 I1          SUB_END
15831                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15832 00002A46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15833                             430 I1          M_RTS
15834 00002A48 000B                   M           RTS                             ;RTSの後ろの
15835 00002A4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15836                             431 I1  
15837                             432 I1  
15838                             433 I1  
15839                             434 I1  ;       *******************************************
15840                             435 I1  ;       ***                                     ***
15841                             436 I1  ;       ***     手動パルサの反転のリミット      ***
15842                             437 I1  ;       ***     2007-01-23                      ***
15843                             438 I1  ;       *******************************************
15844                             439 I1  ;       0~165が動作範囲とする
15845                             440 I1  ;       180~0~165までは+側を受け付ける(=165~180まではﾌﾟﾗｽを受付けない)
15846                             441 I1  ;       0~165~180までは-側を受け付ける(=180~0まではﾏｲﾅｽを受付けない)
15847                             442 I1  ;       実測で0~165の範囲は+/-受け付ける
15848                             443 I1  ;
15849                             444 I1  ;
15850                             445 I1  ;       180
15851                             446 I1  ;
15852                             447 I1  ;
15853                             448 I1  ;
15854                             449 I1  ;
15855                             450 I1  ;       MOV.L   #_INC_LINK_NOWROT_OFSPLS_P,R4                   ;これを使用するか
15856                             451 I1  ;       MOV.L   @R4,R2                                          ;
15857                             452 I1  ;
15858                             453 I1  ;       0(+/-)ok
15859                             454 I1  ;       1(+)ok
15860                             455 I1  ;       -1(-)ok
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   177
PROGRAM NAME =

15861                             456 I1  ;
15862                                 I1  ***** BEGIN-POOL *****
15863 00002A4C 0001                   I1  DATA FOR SOURCE-LINE 413
15864 00002A4E 0000                   I1  ALIGNMENT CODE
15865 00002A50 00000000               I1  DATA FOR SOURCE-LINE 359,369
15866 00002A54 00000000               I1  DATA FOR SOURCE-LINE 365,395
15867 00002A58 00000000               I1  DATA FOR SOURCE-LINE 398
15868 00002A5C 00000000               I1  DATA FOR SOURCE-LINE 402
15869 00002A60 00000000               I1  DATA FOR SOURCE-LINE 406
15870 00002A64 00000000               I1  DATA FOR SOURCE-LINE 415
15871 00002A68 00000000               I1  DATA FOR SOURCE-LINE 418
15872 00002A6C 00000000               I1  DATA FOR SOURCE-LINE 426
15873                                 I1  ***** END-POOL *****
15874          00000064           457 I1  _TEP_DNPOS_HIS  .EQU    100     ;10.0度
15875                             458 I1  
15876 00002A70                    459 I1  _NEG_TEPA_AREA_CHK:
15877                             460 I1          SUB_START
15878 00002A70 4F22                   M           STS.L   PR,@-R15                ;[必要]
15879                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15880                             461 I1  
15881                             462 I1  
15882 00002A72 D40D               463 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
15883 00002A74 6142               464 I1          MOV.L   @R4,R1                          ;
15884                             465 I1  ;;;;    MOV.L   #_SETX_LINK_UP_POS_DN,R4        ;ﾘﾝｸ(範囲比較)
15885                             466 I1  ;;;;    MOV.W   @R4,R3                          ;待機点-α
15886                             467 I1  
15887 00002A76 D40D               468 I1          MOV.L   #_SET1_UPAREA_DIG1,R4           ;ﾘﾝｸ(範囲比較)
15888 00002A78 6341               469 I1          MOV.W   @R4,R3                          ;待機点
15889 00002A7A D40D               470 I1          MOV.L   #_INC_ENC360,R4                 ;
15890 00002A7C 6241               471 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
15891                             472 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(ﾏｲﾅｽを受け付けない)
15892 00002A7E D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15893 00002A80 400B                   M           JSR     @R0                     ;
15894 00002A82 0009                   M           NOP                                     ;
15895 00002A84 4511               473 I1          CMP/PZ  R5                              ;
15896 00002A86 891C               474 I1          BT      NEG_TEPA_ARACHK200              ;+のみ可能
15897                             475 I1  
15898                             476 I1  
15899 00002A88 D40B               477 I1          MOV.L   #_SETX_DNAREA_JG_LNK,R4         ;反転設定不可範囲LINK 度
15900 00002A8A 6142               478 I1          MOV.L   @R4,R1                          ;
15901 00002A8C D406               479 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
15902 00002A8E 6342               480 I1          MOV.L   @R4,R3                          ;
15903 00002A90 9009               481 I1          MOV.W   #_TEP_DNPOS_HIS,R0              ;10.0
15904 00002A92 330C               482 I1          ADD     R0,R3                           ;10.0は..
15905 00002A94 D406               483 I1          MOV.L   #_INC_ENC360,R4                 ;
15906 00002A96 6241               484 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
15907                             485 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(+受け付けない)
15908 00002A98 D006                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15909 00002A9A 400B                   M           JSR     @R0                     ;
15910 00002A9C 0009                   M           NOP                                     ;
15911 00002A9E 890D               486 I1          BT      NEG_TEPA_ARACHK100              ;
15912                             487 I1  
15913 00002AA0 200A               488 I1          XOR     R0,R0                           ;
15914                             489 I1          M_BRA   NEG_TEPA_ARACHK300              ;+/- OK
15915 00002AA2 A00F                   M           BRA     NEG_TEPA_ARACHK300
15916 00002AA4 0009                   M           NOP
15917                             490 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   178
PROGRAM NAME =

15918                             491 I1  ;       -------- -を受け付ける=====
15919                                 I1  ***** BEGIN-POOL *****
15920 00002AA6 0064                   I1  DATA FOR SOURCE-LINE 481
15921 00002AA8 00000000               I1  DATA FOR SOURCE-LINE 463,479
15922 00002AAC 00000000               I1  DATA FOR SOURCE-LINE 468
15923 00002AB0 00000000               I1  DATA FOR SOURCE-LINE 470,483
15924 00002AB4 00000000               I1  DATA FOR SOURCE-LINE 472,485
15925 00002AB8 00000000               I1  DATA FOR SOURCE-LINE 477
15926                                 I1  ***** END-POOL *****
15927 00002ABC                    492 I1  NEG_TEPA_ARACHK100:
15928 00002ABC E0FF               493 I1          MOV     #-1,R0                          ;
15929                             494 I1          M_BRA   NEG_TEPA_ARACHK300              ;
15930 00002ABE A001                   M           BRA     NEG_TEPA_ARACHK300
15931 00002AC0 0009                   M           NOP
15932                             495 I1  
15933                             496 I1  ;       -------- +を受け付ける=====
15934 00002AC2                    497 I1  NEG_TEPA_ARACHK200:
15935 00002AC2 E001               498 I1          MOV     #1,R0                           ;
15936 00002AC4                    499 I1  NEG_TEPA_ARACHK300:
15937                             500 I1  
15938                             501 I1  
15939                             502 I1          SUB_END
15940                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15941 00002AC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15942                             503 I1          M_RTS
15943 00002AC6 000B                   M           RTS                             ;RTSの後ろの
15944 00002AC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15945                             504 I1  
15946                             505 I1  
15947                             506 I1  
15948                             507 I1  ;       ***********************************
15949                             508 I1  ;       ***                             ***
15950                             509 I1  ;       ***     手動パルサフラグ        ***
15951                             510 I1  ;       ***                             ***
15952                             511 I1  ;       ***********************************
15953 00002ACA                    512 I1  _TEP_FLG_CLR
15954                             513 I1          SUB_START
15955 00002ACA 4F22                   M           STS.L   PR,@-R15                ;[必要]
15956                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15957 00002ACC 200A               514 I1          XOR     R0,R0
15958 00002ACE D102               515 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
15959 00002AD0 2101               516 I1          MOV.W   R0,@R1                  ;
15960                             517 I1          SUB_END
15961                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15962 00002AD2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15963                             518 I1          M_RTS
15964 00002AD4 000B                   M           RTS                             ;RTSの後ろの
15965 00002AD6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15966                             519 I1  
15967                                 I1  ***** BEGIN-POOL *****
15968 00002AD8 00000000               I1  DATA FOR SOURCE-LINE 515
15969                                 I1  ***** END-POOL *****
15970 00002ADC                    520 I1  _TEP_FLG_START
15971                             521 I1          SUB_START
15972 00002ADC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15973                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15974 00002ADE 9004               522 I1          MOV.W   #BIT0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   179
PROGRAM NAME =

15975 00002AE0 D102               523 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
15976 00002AE2 2101               524 I1          MOV.W   R0,@R1                  ;
15977                             525 I1          SUB_END
15978                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15979 00002AE4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15980                             526 I1          M_RTS
15981 00002AE6 000B                   M           RTS                             ;RTSの後ろの
15982 00002AE8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15983                             527 I1  
15984                             528 I1  ;       ***********************************
15985                             529 I1  ;       ***                             ***
15986                             530 I1  ;       ***     手動パルサ起動条件      ***
15987                             531 I1  ;       ***     起動=1                  ***
15988                             532 I1  ;       ***                             ***
15989                             533 I1  ;       ***********************************
15990                             534 I1  ;------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
15991                             535 I1  ;
15992                                 I1  ***** BEGIN-POOL *****
15993 00002AEA 0001                   I1  DATA FOR SOURCE-LINE 522
15994 00002AEC 00000000               I1  DATA FOR SOURCE-LINE 523
15995                                 I1  ***** END-POOL *****
15996 00002AF0                    536 I1  _TEPA_START_CHK:
15997                             537 I1          SUB_START
15998 00002AF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
15999                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16000                             538 I1  
16001 00002AF2 D10A               539 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
16002 00002AF4 6011               540 I1          MOV.W   @R1,R0                          ;
16003 00002AF6 2008               541 I1          TST     R0,R0                           ;
16004                             542 I1          TST_BIT_ON TEPA_STARTCHK_NG             ;手パが先になった
16005 00002AF8 8B0B                   M           BF      TEPA_STARTCHK_NG
16006                             543 I1  
16007 00002AFA D109               544 I1          MOV.L   #_BTTN_FLG,R1                   ;
16008 00002AFC 6011               545 I1          MOV.W   @R1,R0                          ;
16009 00002AFE C802               546 I1          TST     #BIT1,R0                        ;
16010                             547 I1          TST_BIT_OF TEPA_STARTCHK_NG             ;
16011 00002B00 8907                   M           BT      TEPA_STARTCHK_NG
16012                             548 I1  
16013 00002B02 D108               549 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16014 00002B04 6211               550 I1          MOV.W   @R1,R2                          ;
16015 00002B06 4211               551 I1          CMP/PZ  R2                              ;
16016 00002B08 8900               552 I1          BT      TEPA_STARTCHK_050               ;
16017 00002B0A 622B               553 I1          NEG     R2,R2                           ;
16018 00002B0C                    554 I1  TEPA_STARTCHK_050:
16019 00002B0C 9104               555 I1          MOV.W   #D'1,R1                         ;1で良いか
16020 00002B0E 3213               556 I1          CMP/GE  R1,R2                           ;
16021 00002B10 890A               557 I1          BT      TEPA_STARTCHK_OK                ;
16022 00002B12                    558 I1  TEPA_STARTCHK_NG:
16023 00002B12 200A               559 I1          XOR     R0,R0                           ;
16024                             560 I1          M_BRA   TEPA_STARTCHK_END               ;
16025 00002B14 A00C                   M           BRA     TEPA_STARTCHK_END
16026 00002B16 0009                   M           NOP
16027                             561 I1  
16028                                 I1  ***** BEGIN-POOL *****
16029 00002B18 0001                   I1  DATA FOR SOURCE-LINE 555
16030 00002B1A 0000                   I1  ALIGNMENT CODE
16031 00002B1C 00000000               I1  DATA FOR SOURCE-LINE 539
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   180
PROGRAM NAME =

16032 00002B20 00000000               I1  DATA FOR SOURCE-LINE 544
16033 00002B24 00000000               I1  DATA FOR SOURCE-LINE 549
16034                                 I1  ***** END-POOL *****
16035 00002B28                    562 I1  TEPA_STARTCHK_OK:
16036                             563 I1          FAR_JSR #_TEP_FLG_START,R0              ;
16037 00002B28 D003                   M           MOV.L   #_TEP_FLG_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16038 00002B2A 400B                   M           JSR     @R0                     ;
16039 00002B2C 0009                   M           NOP                                     ;
16040 00002B2E E001               564 I1          MOV     #1,R0                           ;
16041 00002B30                    565 I1  TEPA_STARTCHK_END:
16042                             566 I1  
16043                             567 I1          SUB_END
16044                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16045 00002B30 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16046                             568 I1          M_RTS
16047 00002B32 000B                   M           RTS                             ;RTSの後ろの
16048 00002B34 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16049                             569 I1  
16050                             570 I1  ;;;     ------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
16051                             571 I1  ;;;_TEPA_START_CHK:
16052                             572 I1  ;;;     SUB_START
16053                             573 I1  ;;;
16054                             574 I1  ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
16055                             575 I1  ;;;     MOV.W   @R1,R0                          ;
16056                             576 I1  ;;;     TST     #BIT1,R0                        ;
16057                             577 I1  ;;;     TST_BIT_OF TEPA_STARTCHK_NG             ;無効
16058                             578 I1  ;;;
16059                             579 I1  ;;;     MOV.L   #_TEP_IN_ADD,R1                 ;
16060                             580 I1  ;;;     MOV.W   @R1,R2                          ;
16061                             581 I1  ;;;     CMP/PZ  R2                              ;
16062                             582 I1  ;;;     BT      TEPA_STARTCHK_050               ;
16063                             583 I1  ;;;     NEG     R2,R2                           ;
16064                             584 I1  ;;;TEPA_STARTCHK_050:
16065                             585 I1  ;;;     MOV.W   #D'1,R1                         ;1で良いか
16066                             586 I1  ;;;     CMP/GE  R1,R2                           ;
16067                             587 I1  ;;;     BT      TEPA_STARTCHK_OK                ;
16068                             588 I1  ;;;TEPA_STARTCHK_NG:
16069                             589 I1  ;;;     XOR     R0,R0                           ;
16070                             590 I1  ;;;     M_BRA   TEPA_STARTCHK_END               ;
16071                             591 I1  ;;;
16072                             592 I1  ;;;TEPA_STARTCHK_OK:
16073                             593 I1  ;;;     FAR_JSR #_TEP_FLG_START,R0              ;
16074                             594 I1  ;;;     MOV     #1,R0                           ;
16075                             595 I1  ;;;TEPA_STARTCHK_END:
16076                             596 I1  ;;;
16077                             597 I1  ;;;     SUB_END
16078                             598 I1  ;;;     M_RTS
16079                             599 I1  
16080                             600 I1  ;       ***********************************
16081                             601 I1  ;       ***                             ***
16082                             602 I1  ;       ***     手動パルサ遷移時の      ***
16083                             603 I1  ;       ***     パルスクリア            ***
16084                             604 I1  ;       ***                             ***
16085                             605 I1  ;       ***********************************
16086                             606 I1          .IMPORT         _PVP_CPUA_TEPPLS
16087                             607 I1          .IMPORT         _PVP_CPUB_TEPPLS
16088                             608 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   181
PROGRAM NAME =

16089                                 I1  ***** BEGIN-POOL *****
16090 00002B36 0000                   I1  ALIGNMENT CODE
16091 00002B38 00000000               I1  DATA FOR SOURCE-LINE 563
16092                                 I1  ***** END-POOL *****
16093 00002B3C                    609 I1  _TEPA_PLSCNT_CLR
16094                             610 I1          SUB_START
16095 00002B3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16096                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16097                             611 I1  
16098                             612 I1          .AIF    0 EQ    0       ;
16099 00002B3E D106               613 C           MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
16100 00002B40 6211               614 C           MOV.W   @R1,R2                          ;
16101                             615             .AELSE
16102                             616             MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
16103                             617             MOV.W   @R1,R2                          ;
16104                             618             .AENDI
16105                             619 I1  
16106 00002B42 D106               620 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
16107 00002B44 2121               621 I1          MOV.W   R2,@R1                          ;
16108                             622 I1  
16109 00002B46 222A               623 I1          XOR     R2,R2
16110 00002B48 D105               624 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16111 00002B4A 2121               625 I1          MOV.W   R2,@R1                          ;
16112                             626 I1  
16113 00002B4C D105               627 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;位置決め側使用データ
16114 00002B4E 2122               628 I1          MOV.L   R2,@R1                          ;
16115                             629 I1  
16116                             630 I1          SUB_END
16117                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16118 00002B50 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16119                             631 I1          M_RTS
16120 00002B52 000B                   M           RTS                             ;RTSの後ろの
16121 00002B54 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16122                             632 I1  
16123                             633 I1  ;       ***********************************
16124                             634 I1  ;       ***                             ***
16125                             635 I1  ;       ***     手動ﾊﾟﾙｻの増分ﾁｪｯｸ      ***
16126                             636 I1  ;       ***                             ***
16127                             637 I1  ;       ***                             ***
16128                             638 I1  ;       ***********************************
16129                                 I1  ***** BEGIN-POOL *****
16130 00002B56 0000                   I1  ALIGNMENT CODE
16131 00002B58 00000000               I1  DATA FOR SOURCE-LINE 613
16132 00002B5C 00000000               I1  DATA FOR SOURCE-LINE 620
16133 00002B60 00000000               I1  DATA FOR SOURCE-LINE 624
16134 00002B64 00000000               I1  DATA FOR SOURCE-LINE 627
16135                                 I1  ***** END-POOL *****
16136 00002B68                    639 I1  _TEPA_PLSCNT_CHK:
16137                             640 I1          SUB_START
16138 00002B68 4F22                   M           STS.L   PR,@-R15                ;[必要]
16139                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16140                             641 I1  
16141                             642 I1          .AIF    0 EQ    0       ;
16142 00002B6A D10C               643 C           MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
16143 00002B6C 6211               644 C           MOV.W   @R1,R2                          ;
16144                             645             .AELSE
16145                             646             MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   182
PROGRAM NAME =

16146                             647             MOV.W   @R1,R2                          ;
16147                             648             .AENDI
16148                             649 I1  
16149 00002B6E D10C               650 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
16150 00002B70 6311               651 I1          MOV.W   @R1,R3                          ;
16151 00002B72 2121               652 I1          MOV.W   R2,@R1                          ;
16152 00002B74 3238               653 I1          SUB     R3,R2                           ;
16153 00002B76 D10B               654 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16154 00002B78 2121               655 I1          MOV.W   R2,@R1                          ;
16155                             656 I1  
16156                             657 I1  ;       ------ 2011-07-04 追加　運転釦が先--
16157 00002B7A 2228               658 I1          TST     R2,R2                           ;変化あり?
16158                             659 I1          TST_BIT_OF TEPA_PLSCNTCHK_100           ;
16159 00002B7C 890A                   M           BT      TEPA_PLSCNTCHK_100
16160                             660 I1  
16161 00002B7E D10A               661 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
16162 00002B80 6011               662 I1          MOV.W   @R1,R0                          ;
16163 00002B82 2008               663 I1          TST     R0,R0
16164                             664 I1          TST_BIT_ON TEPA_PLSCNTCHK_050           ;
16165 00002B84 8B03                   M           BF      TEPA_PLSCNTCHK_050
16166                             665 I1  
16167 00002B86 D109               666 I1          MOV.L   #_BTTN_FLG,R1                   ;
16168 00002B88 6011               667 I1          MOV.W   @R1,R0                          ;
16169 00002B8A C802               668 I1          TST     #BIT1,R0                        ;
16170                             669 I1          TST_BIT_ON TEPA_PLSCNTCHK_100           ;
16171 00002B8C 8B02                   M           BF      TEPA_PLSCNTCHK_100
16172                             670 I1  
16173 00002B8E                    671 I1  TEPA_PLSCNTCHK_050:
16174                             672 I1  
16175 00002B8E 9004               673 I1          MOV.W   #D'51,R0                        ;50*10=0.5秒
16176 00002B90 D105               674 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
16177 00002B92 2101               675 I1          MOV.W   R0,@R1                          ;
16178                             676 I1  
16179 00002B94                    677 I1  TEPA_PLSCNTCHK_100:
16180                             678 I1  
16181                             679 I1  
16182                             680 I1          SUB_END
16183                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16184 00002B94 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16185                             681 I1          M_RTS
16186 00002B96 000B                   M           RTS                             ;RTSの後ろの
16187 00002B98 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16188                             682 I1  
16189                             683 I1  
16190                             684 I1  ;       *******************************************
16191                             685 I1  ;       ***                                     ***
16192                             686 I1  ;       ***     2013-05-26                      ***
16193                             687 I1  ;       ***                                     ***
16194                             688 I1  ;       *******************************************
16195                             689 I1  ;       10ﾊﾟﾙｽ,方向無視----→修正必要
16196                                 I1  ***** BEGIN-POOL *****
16197 00002B9A 0033                   I1  DATA FOR SOURCE-LINE 673
16198 00002B9C 00000000               I1  DATA FOR SOURCE-LINE 643
16199 00002BA0 00000000               I1  DATA FOR SOURCE-LINE 650
16200 00002BA4 00000000               I1  DATA FOR SOURCE-LINE 654
16201 00002BA8 00000000               I1  DATA FOR SOURCE-LINE 661,674
16202 00002BAC 00000000               I1  DATA FOR SOURCE-LINE 666
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   183
PROGRAM NAME =

16203                                 I1  ***** END-POOL *****
16204 00002BB0                    690 I1  _TEPA_ADD_LSI:
16205                             691 I1          SUB_START
16206 00002BB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16207                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16208                             692 I1  
16209                             693 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
16210                             694 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;[自分のインターロック]
16211                             695 I1  ;;まだ組み込まない .AELSE
16212                             696 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16213                             697 I1  ;;まだ組み込まない .AENDI
16214                             698 I1  
16215 00002BB2 D509               699 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R5  ;
16216 00002BB4 6051               700 I1          MOV.W   @R5,R0                          ;
16217 00002BB6 2008               701 I1          TST     R0,R0                           ;
16218                             702 I1          TST_BIT_ON TEPA_ADDLSI_025              ;停止
16219 00002BB8 8B22                   M           BF      TEPA_ADDLSI_025
16220                             703 I1  
16221                             704 I1  ;       ---------- 2013-06-20 ------------
16222 00002BBA 222A               705 I1          XOR     R2,R2
16223 00002BBC D107               706 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
16224 00002BBE 6011               707 I1          MOV.W   @R1,R0                          ;
16225 00002BC0 2121               708 I1          MOV.W   R2,@R1                          ;
16226                             709 I1  
16227 00002BC2 2008               710 I1          TST     R0,R0                                   ;
16228                             711 I1          TST_BIT_OF TEPA_ADDLSI_030                      ;
16229 00002BC4 8924                   M           BT      TEPA_ADDLSI_030
16230                             712 I1  
16231 00002BC6 D106               713 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
16232 00002BC8 6211               714 I1          MOV.W   @R1,R2                                  ;
16233 00002BCA E401               715 I1          MOV.B   #BIT0,R4                                ;
16234 00002BCC 2248               716 I1          TST     R4,R2                                   ;DIRCT +
16235                             717 I1          TST_BIT_ON TEPA_ADDLSI_010                      ;
16236 00002BCE 8B09                   M           BF      TEPA_ADDLSI_010
16237                             718 I1  
16238 00002BD0 C820               719 I1          TST     #BIT5,R0                                ;逆転有り?
16239                             720 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
16240 00002BD2 8B0B                   M           BF      TEPA_ADDLSI_020
16241                             721 I1          M_BRA   TEPA_ADDLSI_030                         ;
16242 00002BD4 A01C                   M           BRA     TEPA_ADDLSI_030
16243 00002BD6 0009                   M           NOP
16244                             722 I1  
16245                             723 I1  
16246                                 I1  ***** BEGIN-POOL *****
16247 00002BD8 00000000               I1  DATA FOR SOURCE-LINE 699
16248 00002BDC 00000000               I1  DATA FOR SOURCE-LINE 706
16249 00002BE0 00000000               I1  DATA FOR SOURCE-LINE 713
16250                                 I1  ***** END-POOL *****
16251 00002BE4                    724 I1  TEPA_ADDLSI_010:
16252 00002BE4 C810               725 I1          TST     #BIT4,R0                                ;正転有り?
16253                             726 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
16254 00002BE6 8B01                   M           BF      TEPA_ADDLSI_020
16255                             727 I1          M_BRA   TEPA_ADDLSI_030                         ;
16256 00002BE8 A012                   M           BRA     TEPA_ADDLSI_030
16257 00002BEA 0009                   M           NOP
16258                             728 I1  
16259 00002BEC                    729 I1  TEPA_ADDLSI_020:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   184
PROGRAM NAME =

16260                             730 I1          FAR_JSR #_TEP_SPD_CALC3,R0                      ;
16261 00002BEC D005                   M           MOV.L   #_TEP_SPD_CALC3,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16262 00002BEE 400B                   M           JSR     @R0                     ;
16263 00002BF0 0009                   M           NOP                                     ;
16264                             731 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
16265 00002BF2 D005                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16266 00002BF4 400B                   M           JSR     @R0                     ;
16267 00002BF6 0009                   M           NOP                                     ;
16268                             732 I1  ;;まだ組み込まないFAR_JSR       #_TEP_CPUAB_HAND_STOP,R0                ;2013-06-19
16269                             733 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_REVPLS_LT_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
16270 00002BF8 D104                   M           MOV.L   #_TEP_REVPLS_LT_FLG,R1          ;
16271 00002BFA 6011                   M           MOV.W   @R1,R0          ;
16272 00002BFC CB01                   M           OR      #BIT0,R0                ;
16273 00002BFE 2101                   M           MOV.W   R0,@R1          ;
16274                             734 I1  
16275 00002C00                    735 I1  TEPA_ADDLSI_025:
16276                             736 I1          M_BRA   TEPA_ADDLSI_EXT                         ;
16277 00002C00 A02A                   M           BRA     TEPA_ADDLSI_EXT
16278 00002C02 0009                   M           NOP
16279                             737 I1  
16280                             738 I1  ;       ---------------------------------------------------
16281                                 I1  ***** BEGIN-POOL *****
16282 00002C04 00000000               I1  DATA FOR SOURCE-LINE 730
16283 00002C08 00000000               I1  DATA FOR SOURCE-LINE 731
16284 00002C0C 00000000               I1  DATA FOR SOURCE-LINE 733
16285                                 I1  ***** END-POOL *****
16286 00002C10                    739 I1  TEPA_ADDLSI_030
16287                             740 I1  ;       ----------- 復活 2013-06-05--------
16288 00002C10 D113               741 I1          MOV.L   #_TEP_CNTSMP_TIM,R1             ;
16289 00002C12 6011               742 I1          MOV.W   @R1,R0                          ;
16290 00002C14 2008               743 I1          TST     R0,R0                           ;
16291                             744 I1          TST_BIT_ON TEPA_ADDLSI_EXT              ;
16292 00002C16 8B1F                   M           BF      TEPA_ADDLSI_EXT
16293                             745 I1  
16294                             746 I1  ;       -----------------------------------
16295 00002C18 D012               747 I1          MOV.L   #_TEP_STEP_SVSMPTM,R0           ;
16296 00002C1A 6201               748 I1          MOV.W   @R0,R2                          ;
16297 00002C1C 2121               749 I1          MOV.W   R2,@R1                          ;
16298                             750 I1  ;       -----------------------------------
16299 00002C1E D112               751 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                    ;
16300 00002C20 6012               752 I1          MOV.L   @R1,R0                                  ;
16301 00002C22 2008               753 I1          TST     R0,R0                                   ;
16302                             754 I1          TST_BIT_OF TEPA_ADDLSI_EXT                      ;
16303 00002C24 8918                   M           BT      TEPA_ADDLSI_EXT
16304                             755 I1  
16305                             756 I1  
16306                             757 I1          FAR_JSR #_LOAD_REST_PLS,R0                                      ;LOAD PLS
16307 00002C26 D011                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16308 00002C28 400B                   M           JSR     @R0                     ;
16309 00002C2A 0009                   M           NOP                                     ;
16310                             758 I1  
16311 00002C2C D110               759 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1                                   ;SYS_PARA 10PLS
16312 00002C2E 6411               760 I1          MOV.W   @R1,R4
16313                             761 I1  
16314 00002C30 3406               762 I1          CMP/HI  R0,R4                                                   ;10pls以下 R0<10
16315 00002C32 8911               763 I1          BT      TEPA_ADDLSI_EXT                                         ;"二重回路HAND対象
                                          "
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   185
PROGRAM NAME =

16316                             764 I1                                                                          ;難しい
16317                             765 I1  
16318                             766 I1  ;       ---------パルス加算処理 2013-06-05 --------------
16319                             767 I1          FAR_JSR #_TEP_SPD_CALC2,R0                      ;
16320 00002C34 D00F                   M           MOV.L   #_TEP_SPD_CALC2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16321 00002C36 400B                   M           JSR     @R0                     ;
16322 00002C38 0009                   M           NOP                                     ;
16323                             768 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
16324 00002C3A D00F                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16325 00002C3C 400B                   M           JSR     @R0                     ;
16326 00002C3E 0009                   M           NOP                                     ;
16327                             769 I1  
16328                             770 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;CNT=0 CLR,目標変更
16329 00002C40 D00E                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16330 00002C42 400B                   M           JSR     @R0                     ;
16331 00002C44 0009                   M           NOP                                     ;
16332                             771 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
16333 00002C46 D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16334 00002C48 400B                   M           JSR     @R0                     ;
16335 00002C4A 0009                   M           NOP                                     ;
16336                             772 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
16337 00002C4C D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16338 00002C4E 400B                   M           JSR     @R0                     ;
16339 00002C50 0009                   M           NOP                                     ;
16340                             773 I1  
16341 00002C52 200A               774 I1          XOR     R0,R0
16342 00002C54 D104               775 I1          MOV.L   #_TEP_POS_ADD_CNT,R1
16343 00002C56 2102               776 I1          MOV.L   R0,@R1
16344                             777 I1  
16345                             778 I1  
16346 00002C58                    779 I1  TEPA_ADDLSI_EXT:
16347                             780 I1  
16348                             781 I1          SUB_END
16349                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16350 00002C58 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16351                             782 I1          M_RTS
16352 00002C5A 000B                   M           RTS                             ;RTSの後ろの
16353 00002C5C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16354                             783 I1  
16355                             784 I1  ;       ***********************************
16356                             785 I1  ;       ***                             ***
16357                             786 I1  ;       ***     初起動時のエリア作成    ***
16358                             787 I1  ;       ***                             ***
16359                             788 I1  ;       ***********************************
16360                             789 I1  ;;2013-05-26 _DNDTEP_STEP_MAKE:
16361                             790 I1  ;;2013-05-26    SUB_START
16362                             791 I1  ;;2013-05-26    SUB_END
16363                             792 I1  ;;2013-05-26    M_RTS
16364                             793 I1  
16365                             794 I1  ;       ***********************************
16366                             795 I1  ;       ***                             ***
16367                             796 I1  ;       ***     工程からの目標位置作成  ***
16368                             797 I1  ;       ***                             ***
16369                             798 I1  ;       ***********************************
16370                             799 I1  ;;2013-05-26_DNDTEP_MAKE_OBJPOS:
16371                             800 I1  ;;2013-05-26    SUB_START
16372                             801 I1  ;;2013-05-26
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   186
PROGRAM NAME =

16373                             802 I1  ;;2013-05-26
16374                             803 I1  ;;2013-05-26    SUB_END
16375                             804 I1  ;;2013-05-26    M_RTS
16376                             805 I1  
16377                                 I1  ***** BEGIN-POOL *****
16378 00002C5E 0000                   I1  ALIGNMENT CODE
16379 00002C60 00000000               I1  DATA FOR SOURCE-LINE 741
16380 00002C64 00000000               I1  DATA FOR SOURCE-LINE 747
16381 00002C68 00000000               I1  DATA FOR SOURCE-LINE 751,775
16382 00002C6C 00000000               I1  DATA FOR SOURCE-LINE 757
16383 00002C70 00000000               I1  DATA FOR SOURCE-LINE 759
16384 00002C74 00000000               I1  DATA FOR SOURCE-LINE 767
16385 00002C78 00000000               I1  DATA FOR SOURCE-LINE 768
16386 00002C7C 00000000               I1  DATA FOR SOURCE-LINE 770
16387 00002C80 00000000               I1  DATA FOR SOURCE-LINE 771
16388 00002C84 00000000               I1  DATA FOR SOURCE-LINE 772
16389                                 I1  ***** END-POOL *****
16390 00002C88                    806 I1  _TEP_SPD_CALC1:
16391                             807 I1          SUB_START
16392 00002C88 4F22                   M           STS.L   PR,@-R15                ;[必要]
16393                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16394 00002C8A D306               808 I1          MOV.L   #_TEP_STEP_SVWTTM1,R3   ;//2013-06-05
16395 00002C8C 6431               809 I1          MOV.W   @R3,R4                  ;
16396                             810 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;ANS=TEP1
16397 00002C8E D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16398 00002C90 400B                   M           JSR     @R0                     ;
16399 00002C92 0009                   M           NOP                                     ;
16400                             811 I1  
16401 00002C94 D105               812 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
16402 00002C96 6212               813 I1          MOV.L   @R1,R2                  ;
16403 00002C98 D105               814 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16404 00002C9A 2122               815 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
16405                             816 I1  
16406                             817 I1          SUB_END
16407                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16408 00002C9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16409                             818 I1          M_RTS
16410 00002C9E 000B                   M           RTS                             ;RTSの後ろの
16411 00002CA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16412                             819 I1  
16413                                 I1  ***** BEGIN-POOL *****
16414 00002CA2 0000                   I1  ALIGNMENT CODE
16415 00002CA4 00000000               I1  DATA FOR SOURCE-LINE 808
16416 00002CA8 00000000               I1  DATA FOR SOURCE-LINE 810
16417 00002CAC 00000000               I1  DATA FOR SOURCE-LINE 812
16418 00002CB0 00000000               I1  DATA FOR SOURCE-LINE 814
16419                                 I1  ***** END-POOL *****
16420 00002CB4                    820 I1  _TEP_SPD_CALC2:
16421                             821 I1          SUB_START
16422 00002CB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16423                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16424                             822 I1  
16425 00002CB6 D106               823 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
16426 00002CB8 6212               824 I1          MOV.L   @R1,R2                  ;
16427 00002CBA D106               825 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16428 00002CBC 2122               826 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
16429                             827 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   187
PROGRAM NAME =

16430 00002CBE D306               828 I1          MOV.L   #_TEP_STEP_SVSMPTM,R3
16431 00002CC0 6431               829 I1          MOV.W   @R3,R4                  ;
16432                             830 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;
16433 00002CC2 D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16434 00002CC4 400B                   M           JSR     @R0                     ;
16435 00002CC6 0009                   M           NOP                                     ;
16436                             831 I1          SUB_END
16437                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16438 00002CC8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16439                             832 I1          M_RTS
16440 00002CCA 000B                   M           RTS                             ;RTSの後ろの
16441 00002CCC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16442                             833 I1  
16443                             834 I1  
16444                                 I1  ***** BEGIN-POOL *****
16445 00002CCE 0000                   I1  ALIGNMENT CODE
16446 00002CD0 00000000               I1  DATA FOR SOURCE-LINE 823
16447 00002CD4 00000000               I1  DATA FOR SOURCE-LINE 825
16448 00002CD8 00000000               I1  DATA FOR SOURCE-LINE 828
16449 00002CDC 00000000               I1  DATA FOR SOURCE-LINE 830
16450                                 I1  ***** END-POOL *****
16451 00002CE0                    835 I1  _TEP_SPD_CALC_COM
16452                             836 I1          SUB_START
16453 00002CE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16454                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16455                             837 I1  
16456 00002CE2 D30E               838 I1          MOV.L   #_TEP_POS_ADD_CNT,R3            ;
16457 00002CE4 6232               839 I1          MOV.L   @R3,R2                          ;
16458 00002CE6 4211               840 I1          CMP/PZ  R2
16459 00002CE8 8900               841 I1          BT      TEP_SPD_CALCCOM_100                     ;
16460 00002CEA 622B               842 I1          NEG     R2,R2                                   ;
16461 00002CEC                    843 I1  TEP_SPD_CALCCOM_100
16462                             844 I1  
16463 00002CEC 9114               845 I1          MOV.W   #D'1000,R1                              ;
16464                             846 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;10PLS:100msec
16465 00002CEE D00C                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16466 00002CF0 400B                   M           JSR     @R0                     ;
16467 00002CF2 0009                   M           NOP                                     ;
16468                             847 I1  
16469 00002CF4 2228               848 I1          TST     R2,R2                                   ;
16470                             849 I1          TST_BIT_ON TEP_SPD_CALCCOM_200                  ;
16471 00002CF6 8B00                   M           BF      TEP_SPD_CALCCOM_200
16472 00002CF8 920F               850 I1          MOV.W   #1,R2                                   ;
16473 00002CFA                    851 I1  TEP_SPD_CALCCOM_200
16474                             852 I1  
16475                             853 I1  
16476 00002CFA D10A               854 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
16477 00002CFC 6312               855 I1          MOV.L   @R1,R3                  ;
16478                             856 I1  
16479                             857 I1  ;       -----------MAX LIMIT----------
16480 00002CFE 3322               858 I1          CMP/HS  R2,R3
16481 00002D00 8900               859 I1          BT      TEP_SPD_CALCCOM_300
16482 00002D02 6233               860 I1          MOV     R3,R2                   ;
16483 00002D04                    861 I1  TEP_SPD_CALCCOM_300
16484                             862 I1  
16485                             863 I1  
16486                             864 I1  ;       ---------- MIN LIMIT -------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   188
PROGRAM NAME =

16487 00002D04 D108               865 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1    ;
16488 00002D06 6312               866 I1          MOV.L   @R1,R3                  ;PLS/S
16489                             867 I1  
16490 00002D08 3232               868 I1          CMP/HS  R3,R2
16491 00002D0A 8900               869 I1          BT      TEP_SPD_CALCCOM_400
16492 00002D0C 6233               870 I1          MOV     R3,R2                   ;
16493 00002D0E                    871 I1  TEP_SPD_CALCCOM_400
16494                             872 I1  
16495 00002D0E D107               873 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
16496 00002D10 2122               874 I1          MOV.L   R2,@R1                  ;
16497                             875 I1  
16498                             876 I1          SUB_END
16499                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16500 00002D12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16501                             877 I1          M_RTS
16502 00002D14 000B                   M           RTS                             ;RTSの後ろの
16503 00002D16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16504                             878 I1  
16505                             879 I1  ;       -----------------------------------
16506                                 I1  ***** BEGIN-POOL *****
16507 00002D18 03E8                   I1  DATA FOR SOURCE-LINE 845
16508 00002D1A 0001                   I1  DATA FOR SOURCE-LINE 850
16509 00002D1C 00000000               I1  DATA FOR SOURCE-LINE 838
16510 00002D20 00000000               I1  DATA FOR SOURCE-LINE 846
16511 00002D24 00000000               I1  DATA FOR SOURCE-LINE 854
16512 00002D28 00000000               I1  DATA FOR SOURCE-LINE 865
16513 00002D2C 00000000               I1  DATA FOR SOURCE-LINE 873
16514                                 I1  ***** END-POOL *****
16515 00002D30                    880 I1  _TEP_SPD_CALC3:
16516                             881 I1          SUB_START
16517 00002D30 4F22                   M           STS.L   PR,@-R15                ;[必要]
16518                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16519 00002D32 D104               882 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
16520 00002D34 6212               883 I1          MOV.L   @R1,R2                  ;
16521 00002D36 D104               884 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
16522 00002D38 2122               885 I1          MOV.L   R2,@R1                  ;
16523 00002D3A D104               886 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16524 00002D3C 2122               887 I1          MOV.L   R2,@R1                  ;
16525                             888 I1          SUB_END
16526                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16527 00002D3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16528                             889 I1          M_RTS
16529 00002D40 000B                   M           RTS                             ;RTSの後ろの
16530 00002D42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16531                             890 I1  
16532                             891 I1  
16533                             892 I1  
16534                                 I1  ***** BEGIN-POOL *****
16535 00002D44 00000000               I1  DATA FOR SOURCE-LINE 882
16536 00002D48 00000000               I1  DATA FOR SOURCE-LINE 884
16537 00002D4C 00000000               I1  DATA FOR SOURCE-LINE 886
16538                                 I1  ***** END-POOL *****
16539 00002D50                    893 I1  _TEP_SPD_SET:
16540                             894 I1          SUB_START
16541 00002D50 4F22                   M           STS.L   PR,@-R15                ;[必要]
16542                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16543                             895 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   189
PROGRAM NAME =

16544 00002D52 D103               896 I1          MOV.L   #_TEP_CHG_SPD1,R1                       ;
16545 00002D54 6212               897 I1          MOV.L   @R1,R2                                  ;
16546                             898 I1  
16547 00002D56 D103               899 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
16548 00002D58 2122               900 I1          MOV.L   R2,@R1                                  ;
16549                             901 I1  
16550                             902 I1          SUB_END
16551                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16552 00002D5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16553                             903 I1          M_RTS
16554 00002D5C 000B                   M           RTS                             ;RTSの後ろの
16555 00002D5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16556                             904 I1  
16557                                 I1  ***** BEGIN-POOL *****
16558 00002D60 00000000               I1  DATA FOR SOURCE-LINE 896
16559 00002D64 00000000               I1  DATA FOR SOURCE-LINE 899
16560                                 I1  ***** END-POOL *****
16561 00002D68                    905 I1  _TEP_SPD_SET_CHG:
16562                             906 I1          SUB_START
16563 00002D68 4F22                   M           STS.L   PR,@-R15                ;[必要]
16564                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16565                             907 I1  
16566                             908 I1  ;;;;    MOV.L   #_TEP_CHG_SPD1,R1                       ;
16567                             909 I1  ;;;;    MOV.L   @R1,R2                                  ;
16568                             910 I1  
16569 00002D6A D105               911 I1          MOV.L   #_TEP_CHG_SPD2,R1                       ;
16570 00002D6C 6212               912 I1          MOV.L   @R1,R2                                  ;
16571                             913 I1  
16572 00002D6E D105               914 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
16573 00002D70 2122               915 I1          MOV.L   R2,@R1                                  ;
16574                             916 I1  
16575                             917 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;input R2
16576 00002D72 D105                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16577 00002D74 410B                   M           JSR     @R1                     ;
16578 00002D76 0009                   M           NOP                                     ;
16579                             918 I1  
16580                             919 I1          SUB_END
16581                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16582 00002D78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16583                             920 I1          M_RTS
16584 00002D7A 000B                   M           RTS                             ;RTSの後ろの
16585 00002D7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16586                             921 I1  
16587                             922 I1  
16588                             923 I1  
16589                             924 I1  
16590                             925 I1  ;       ***************************************************
16591                             926 I1  ;       ***                                             ***
16592                             927 I1  ;       ***                                             ***
16593                             928 I1  ;       ***                                             ***
16594                             929 I1  ;       ***                                             ***
16595                             930 I1  ;       ***************************************************
16596                             931 I1          .EXPORT _TEP_DTMAK
16597                                 I1  ***** BEGIN-POOL *****
16598 00002D7E 0000                   I1  ALIGNMENT CODE
16599 00002D80 00000000               I1  DATA FOR SOURCE-LINE 911
16600 00002D84 00000000               I1  DATA FOR SOURCE-LINE 914
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   190
PROGRAM NAME =

16601 00002D88 00000000               I1  DATA FOR SOURCE-LINE 917
16602                                 I1  ***** END-POOL *****
16603 00002D8C                    932 I1  _TEP_DTMAK:
16604                             933 I1          SUB_START
16605 00002D8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16606                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16607                             934 I1  
16608                             935 I1  ;       ------------------------------------
16609 00002D8E D117               936 I1          MOV.L   #(_PAR_TEP_BEFPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16610 00002D90 6411               937 I1          MOV.W   @R1,R4                                                  ;
16611 00002D92 9027               938 I1          MOV.W   #D'10,R0                                                ;MIN PLS
16612 00002D94 3402               939 I1          CMP/HS  R0,R4                                                   ;R4(10PLS)=< R0
16613 00002D96 8900               940 I1          BT      TEP_SYS_SET080                                          ;
16614 00002D98 6403               941 I1          MOV     R0,R4                                                   ;
16615 00002D9A                    942 I1  TEP_SYS_SET080:
16616 00002D9A D115               943 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1
16617 00002D9C 2141               944 I1          MOV.W   R4,@R1
16618                             945 I1  
16619                             946 I1  ;       --------------2013-06-05 -----------
16620 00002D9E 9222               947 I1          MOV.W   #D'100,R2                                               ;DEF 100msec
16621 00002DA0 D114               948 I1          MOV.L   #(_PAR_TEP_WATTIM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16622 00002DA2 6011               949 I1          MOV.W   @R1,R0                                                  ;
16623 00002DA4 2008               950 I1          TST     R0,R0                                                   ;
16624                             951 I1          TST_BIT_OF TEP_SYS_SET100                                       ;
16625 00002DA6 8900                   M           BT      TEP_SYS_SET100
16626 00002DA8 6203               952 I1          MOV     R0,R2                                                   ;
16627 00002DAA                    953 I1  TEP_SYS_SET100:
16628 00002DAA D113               954 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
16629 00002DAC 2121               955 I1          MOV.W   R2,@R1                  ;
16630                             956 I1  
16631 00002DAE D112               957 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
16632 00002DB0 6211               958 I1          MOV.W   @R1,R2                  ;
16633 00002DB2 4201               959 I1          SHLR    R2                      ;
16634 00002DB4 D111               960 I1          MOV.L   #_TEP_STEP_SVSMPTM,R1   ;
16635 00002DB6 2121               961 I1          MOV.W   R2,@R1                  ;1/2時間
16636                             962 I1  
16637                             963 I1  ;       ---------- 最小速度兼自起動速度
16638 00002DB8 D111               964 I1          MOV.L   #(_PAR_TEP_MINSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16639 00002DBA 6211               965 I1          MOV.W   @R1,R2                                                  ;
16640 00002DBC 2228               966 I1          TST     R2,R2                                                   ;
16641                             967 I1          TST_BIT_ON TEP_SYS_SET200                                       ;
16642 00002DBE 8B00                   M           BF      TEP_SYS_SET200
16643 00002DC0 9212               968 I1          MOV.W   #1,R2                                                   ;0.01%
16644 00002DC2                    969 I1  TEP_SYS_SET200:                                                         ;
16645                             970 I1          FAR_JSR #_CYCLE_SPD1,R0                                         ;
16646 00002DC2 D010                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16647 00002DC4 400B                   M           JSR     @R0                     ;
16648 00002DC6 0009                   M           NOP                                     ;
16649 00002DC8 D10F               971 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1                                    ;
16650 00002DCA 2122               972 I1          MOV.L   R2,@R1                                                  ;PLS/S
16651                             973 I1  
16652 00002DCC D00F               974 I1          MOV.L   #_POS_LSI_SPDMAX,R0                             ;
16653 00002DCE 6102               975 I1          MOV.L   @R0,R1                                          ;
16654 00002DD0 D00F               976 I1          MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
16655 00002DD2 6402               977 I1          MOV.L   @R0,R4                                          ;
16656                             978 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
16657 00002DD4 D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   191
PROGRAM NAME =

16658 00002DD6 400B                   M           JSR     @R0                     ;
16659 00002DD8 0009                   M           NOP                                     ;
16660 00002DDA D10F               979 I1          MOV.L   #_TEP_MIN_SPD_FRQ,R1                            ;//自起動速度
16661 00002DDC 2122               980 I1          MOV.L   R2,@R1                                          ;
16662                             981 I1  
16663                             982 I1  
16664                             983 I1          SUB_END
16665                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16666 00002DDE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16667                             984 I1          M_RTS
16668 00002DE0 000B                   M           RTS                             ;RTSの後ろの
16669 00002DE2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16670                             985 I1  
16671                             986 I1  ;
16672                             987 I1  ;;まだ組み込まない_TEP_CPUAB_HAND
16673                             988 I1  ;;まだ組み込まない      SUB_START
16674                             989 I1  ;;まだ組み込まない      XOR     R0,R0
16675                             990 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16676                             991 I1  ;;まだ組み込まない      MOV.W   @R5,R1                  ;
16677                             992 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R6    ;
16678                             993 I1  ;;まだ組み込まない      MOV.W   @R6,R2                  ;
16679                             994 I1  ;;まだ組み込まない      CMP/EQ  R1,R2                   ;
16680                             995 I1  ;;まだ組み込まない      BF      TEP_CPUAB_HDEXT         ;
16681                             996 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                        ;
16682                             997 I1  ;;まだ組み込まないTEP_CPUAB_HDEXT
16683                             998 I1  ;;まだ組み込まない
16684                             999 I1  ;;まだ組み込まない      SUB_END
16685                            1000 I1  ;;まだ組み込まない      M_RTS
16686                            1001 I1  
16687                            1002 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_CLR
16688                            1003 I1  ;;まだ組み込まない      SUB_START
16689                            1004 I1  ;;まだ組み込まない      XOR     R0,R0
16690                            1005 I1  ;;まだ組み込まない
16691                            1006 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
16692                            1007 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16693                            1008 I1  ;;まだ組み込まない .AELSE
16694                            1009 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16695                            1010 I1  ;;まだ組み込まない .AENDI
16696                            1011 I1  ;;まだ組み込まない      MOV.W   R0,@R5
16697                            1012 I1  ;;まだ組み込まない
16698                            1013 I1  ;;まだ組み込まない      SUB_END
16699                            1014 I1  ;;まだ組み込まない      M_RTS
16700                            1015 I1  
16701                            1016 I1  
16702                            1017 I1  ;*******************************************
16703                            1018 I1  
16704                            1019 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_STOP
16705                            1020 I1  ;;まだ組み込まない      SUB_START
16706                            1021 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                ;
16707                            1022 I1  ;;まだ組み込まない
16708                            1023 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
16709                            1024 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16710                            1025 I1  ;;まだ組み込まない .AELSE
16711                            1026 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16712                            1027 I1  ;;まだ組み込まない .AENDI
16713                            1028 I1  ;;まだ組み込まない      MOV.W   R0,@R5
16714                            1029 I1  ;;まだ組み込まない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   192
PROGRAM NAME =

16715                            1030 I1  ;;まだ組み込まない      SUB_END
16716                            1031 I1  ;;まだ組み込まない      M_RTS
16717                            1032 I1  
16718                            1033 I1  
16719                            1034 I1  ;       *******************************************
16720                            1035 I1  ;       ***                                     ***
16721                            1036 I1  ;       ***     停止させる信号のクリア          ***
16722                            1037 I1  ;       ***                                     ***
16723                            1038 I1  ;       *******************************************
16724                            1039 I1  ;
16725                                 I1  ***** BEGIN-POOL *****
16726 00002DE4 000A                   I1  DATA FOR SOURCE-LINE 938
16727 00002DE6 0064                   I1  DATA FOR SOURCE-LINE 947
16728 00002DE8 0001                   I1  DATA FOR SOURCE-LINE 968
16729 00002DEA 0000                   I1  ALIGNMENT CODE
16730 00002DEC 00000000               I1  DATA FOR SOURCE-LINE 936
16731 00002DF0 00000000               I1  DATA FOR SOURCE-LINE 943
16732 00002DF4 00000000               I1  DATA FOR SOURCE-LINE 948
16733 00002DF8 00000000               I1  DATA FOR SOURCE-LINE 954,957
16734 00002DFC 00000000               I1  DATA FOR SOURCE-LINE 960
16735 00002E00 00000000               I1  DATA FOR SOURCE-LINE 964
16736 00002E04 00000000               I1  DATA FOR SOURCE-LINE 970
16737 00002E08 00000000               I1  DATA FOR SOURCE-LINE 971
16738 00002E0C 00000000               I1  DATA FOR SOURCE-LINE 974
16739 00002E10 00000000               I1  DATA FOR SOURCE-LINE 976
16740 00002E14 00000000               I1  DATA FOR SOURCE-LINE 978
16741 00002E18 00000000               I1  DATA FOR SOURCE-LINE 979
16742                                 I1  ***** END-POOL *****
16743 00002E1C                   1040 I1  _TEP_REVPLS_LT_CLR
16744                            1041 I1          SUB_START
16745 00002E1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16746                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16747 00002E1E 200A              1042 I1          XOR     R0,R0                   ;
16748 00002E20 D102              1043 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R1  ;
16749 00002E22 2101              1044 I1          MOV.W   R0,@R1                  ;
16750                            1045 I1          SUB_END
16751                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16752 00002E24 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16753                            1046 I1          M_RTS
16754 00002E26 000B                   M           RTS                             ;RTSの後ろの
16755 00002E28 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16756                            1047 I1  
16757                            1048 I1  ;       *******************************************
16758                            1049 I1  ;       ***                                     ***
16759                            1050 I1  ;       ***     Input R2                        ***
16760                            1051 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
16761                            1052 I1  ;       ***     Input R0 DIRECT                 ***
16762                            1053 I1  ;       ***     方向固定                        ***
16763                            1054 I1  ;       ***                                     ***
16764                            1055 I1  ;       *******************************************
16765                            1056 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
16766                            1057 I1  ;       MOV.L   @R4,R2                                  ;
16767                            1058 I1  ;
16768                            1059 I1  
16769                            5178     
16770                            5179     
16771                            5180     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   193
PROGRAM NAME =

16772                            5181     
16773                            5182     
16774                            5183     ;       ***********************************
16775                            5184     ;       ***                             ***
16776                            5185     ;       ***     目標位置→LENGTH        ***
16777                            5186     ;       ***                             ***
16778                            5187     ;       ***********************************
16779                            5188     ;       Input R1,R2(目標位置)
16780                            5189     ;       Output R1,R2
16781                                     ***** BEGIN-POOL *****
16782 00002E2A 0000                       ALIGNMENT CODE
16783 00002E2C 00000000                   DATA FOR SOURCE-LINE 1043
16784                                     ***** END-POOL *****
16785 00002E30                   5190             .ALIGN  4                               ;
16786 00002E30                   5191     _LENGH_ADD_CALC:
16787                            5192             SUB_START
16788 00002E30 4F22                   M           STS.L   PR,@-R15                ;[必要]
16789                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16790 00002E32 D50B              5193             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16791 00002E34 2512              5194             MOV.L   R1,@R5                          ;
16792 00002E36 1521              5195             MOV.L   R2,@(4,R5)                      ;
16793                            5196     
16794                            5197     ;       ===2004-12-20 ===================
16795                            5198             PUSH_REG1 R5
16796 00002E38 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
16797                                 M                                           ;REG=>[SP]
16798                                 M                                           ;"-4" FF,FF,FF,FC
16799 00002E3A D50A              5199             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16800 00002E3C 2512              5200             MOV.L   R1,@R5                          ;
16801 00002E3E 1521              5201             MOV.L   R2,@(4,R5)                      ;
16802                            5202             POP_REG1 R5
16803                                 M                                   ; RE"+4" 00,00,00,04
16804 00002E40 65F6                   M           MOV.L   @R15+,R5        ;
16805                            5203     ;       =================================
16806                            5204     
16807                            5205     ;;;;2014-09-12ﾃﾞﾝｼﾞｬﾗｽか?       MOV.L   #_LINK_PV_ABSPLS,R4             ;(ﾌﾙｸﾛｰｽﾞ時は対象
                                          を変える)
16808 00002E42 D409              5206             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;2014-09-14
16809 00002E44 6546              5207             MOV.L   @R4+,R5                         ;
16810 00002E46 6642              5208             MOV.L   @R4,R6                          ;
16811                            5209             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
16812 00002E48 0008                   M           CLRT
16813 00002E4A 326A                   M           SUBC    R6,R2
16814 00002E4C 315A                   M           SUBC    R5,R1
16815 00002E4E D407              5210             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
16816 00002E50 2412              5211             MOV.L   R1,@R4                          ;
16817 00002E52 1421              5212             MOV.L   R2,@(4,R4)                      ;
16818                            5213     
16819                            5214     ;       ==== MONITOR 2004-01-28 ====
16820 00002E54 D406              5215             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
16821 00002E56 2412              5216             MOV.L   R1,@R4                          ;
16822 00002E58 1421              5217             MOV.L   R2,@(4,R4)                      ;
16823                            5218     
16824                            5219     
16825                            5220     
16826                            5221             SUB_END
16827                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   194
PROGRAM NAME =

16828 00002E5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16829                            5222             M_RTS
16830 00002E5C 000B                   M           RTS                             ;RTSの後ろの
16831 00002E5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16832                            5223     
16833                                     ***** BEGIN-POOL *****
16834 00002E60 00000000                   DATA FOR SOURCE-LINE 5193
16835 00002E64 00000000                   DATA FOR SOURCE-LINE 5199
16836 00002E68 00000000                   DATA FOR SOURCE-LINE 5206
16837 00002E6C 00000000                   DATA FOR SOURCE-LINE 5210
16838 00002E70 00000000                   DATA FOR SOURCE-LINE 5215
16839                                     ***** END-POOL *****
16840 00002E74                   5224             .ALIGN  4                               ;
16841 00002E74                   5225     _LENGH_ADD_CALC_SV_TYPE:
16842                            5226             SUB_START
16843 00002E74 4F22                   M           STS.L   PR,@-R15                ;[必要]
16844                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16845 00002E76 D40B              5227             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16846 00002E78 6542              5228             MOV.L   @R4,R5                          ;OLD_LOAD
16847 00002E7A 5641              5229             MOV.L   @(4,R4),R6                      ;
16848 00002E7C 2412              5230             MOV.L   R1,@R4                          ;
16849 00002E7E 1421              5231             MOV.L   R2,@(4,R4)                      ;NEW SAVE
16850                            5232     ;       ===2004-12-20 ===================
16851                            5233             PUSH_REG1 R4
16852 00002E80 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
16853                                 M                                           ;REG=>[SP]
16854                                 M                                           ;"-4" FF,FF,FF,FC
16855 00002E82 D409              5234             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16856 00002E84 2412              5235             MOV.L   R1,@R4                          ;
16857 00002E86 1421              5236             MOV.L   R2,@(4,R4)                      ;
16858                            5237             POP_REG1 R4
16859                                 M                                   ; RE"+4" 00,00,00,04
16860 00002E88 64F6                   M           MOV.L   @R15+,R4        ;
16861                            5238     ;       =================================
16862                            5239     
16863                            5240             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
16864 00002E8A 0008                   M           CLRT
16865 00002E8C 326A                   M           SUBC    R6,R2
16866 00002E8E 315A                   M           SUBC    R5,R1
16867 00002E90 D406              5241             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
16868 00002E92 2412              5242             MOV.L   R1,@R4                          ;
16869 00002E94 1421              5243             MOV.L   R2,@(4,R4)                      ;
16870                            5244     ;       ==== MONITOR 2004-01-28 ====
16871 00002E96 D406              5245             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
16872 00002E98 2412              5246             MOV.L   R1,@R4                          ;
16873 00002E9A 1421              5247             MOV.L   R2,@(4,R4)                      ;
16874                            5248     
16875                            5249             SUB_END
16876                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16877 00002E9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16878                            5250             M_RTS
16879 00002E9E 000B                   M           RTS                             ;RTSの後ろの
16880 00002EA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16881                            5251     
16882                            5252     ;       ===== BANK LENGTH ADD ====
16883                                     ***** BEGIN-POOL *****
16884 00002EA2 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   195
PROGRAM NAME =

16885 00002EA4 00000000                   DATA FOR SOURCE-LINE 5227
16886 00002EA8 00000000                   DATA FOR SOURCE-LINE 5234
16887 00002EAC 00000000                   DATA FOR SOURCE-LINE 5241
16888 00002EB0 00000000                   DATA FOR SOURCE-LINE 5245
16889                                     ***** END-POOL *****
16890 00002EB4                   5253             .ALIGN  4                               ;
16891 00002EB4                   5254     _BANK_LENGH_ADD_CALC_SV_TYPE:
16892                            5255             SUB_START
16893 00002EB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16894                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16895 00002EB6 D40B              5256             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16896 00002EB8 6542              5257             MOV.L   @R4,R5                          ;OLD_LOAD
16897 00002EBA 5641              5258             MOV.L   @(4,R4),R6                      ;
16898 00002EBC 2412              5259             MOV.L   R1,@R4                          ;
16899 00002EBE 1421              5260             MOV.L   R2,@(4,R4)                      ;NEW SAVE
16900                            5261             PUSH_REG1 R4
16901 00002EC0 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
16902                                 M                                           ;REG=>[SP]
16903                                 M                                           ;"-4" FF,FF,FF,FC
16904 00002EC2 D409              5262             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16905 00002EC4 2412              5263             MOV.L   R1,@R4                          ;
16906 00002EC6 1421              5264             MOV.L   R2,@(4,R4)                      ;
16907                            5265             POP_REG1 R4
16908                                 M                                   ; RE"+4" 00,00,00,04
16909 00002EC8 64F6                   M           MOV.L   @R15+,R4        ;
16910                            5266     
16911                            5267     
16912                            5268     
16913                            5269             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
16914 00002ECA 0008                   M           CLRT
16915 00002ECC 326A                   M           SUBC    R6,R2
16916 00002ECE 315A                   M           SUBC    R5,R1
16917 00002ED0 D406              5270             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
16918 00002ED2 2412              5271             MOV.L   R1,@R4                          ;
16919 00002ED4 1421              5272             MOV.L   R2,@(4,R4)                      ;
16920                            5273     ;       ==== MONITOR 2004-01-28 ====
16921 00002ED6 D406              5274             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
16922 00002ED8 2412              5275             MOV.L   R1,@R4                          ;
16923 00002EDA 1421              5276             MOV.L   R2,@(4,R4)                      ;
16924                            5277     
16925                            5278             SUB_END
16926                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16927 00002EDC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16928                            5279             M_RTS
16929 00002EDE 000B                   M           RTS                             ;RTSの後ろの
16930 00002EE0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16931                            5280     
16932                            5281     
16933                            5282     ;       ***********************************
16934                            5283     ;       ***     STOP MEM CLR            ***
16935                            5284     ;       ***********************************
16936                                     ***** BEGIN-POOL *****
16937 00002EE2 0000                       ALIGNMENT CODE
16938 00002EE4 00000000                   DATA FOR SOURCE-LINE 5256
16939 00002EE8 00000000                   DATA FOR SOURCE-LINE 5262
16940 00002EEC 00000000                   DATA FOR SOURCE-LINE 5270
16941 00002EF0 00000000                   DATA FOR SOURCE-LINE 5274
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   196
PROGRAM NAME =

16942                                     ***** END-POOL *****
16943 00002EF4                   5285             .ALIGN  4                               ;
16944 00002EF4                   5286     _POS_LSI_WORK_STOP_CLR:
16945                            5287             SUB_START
16946 00002EF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16947                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16948                            5288     
16949 00002EF6 200A              5289             XOR     R0,R0
16950 00002EF8 D105              5290             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1                         ;//符号つき TOTAL=TOTAL+AD
                                          D ADD_DATA<=0
16951 00002EFA 2102              5291             MOV.L   R0,@R1                                          ;
16952 00002EFC 1101              5292             MOV.L   R0,@(4,R1)                                      ;
16953 00002EFE D105              5293             MOV.L   #_LNGTH_ADD_DATA,R1                             ;//符号付き
16954 00002F00 2102              5294             MOV.L   R0,@R1                                          ;
16955 00002F02 1101              5295             MOV.L   R0,@(4,R1)                                      ;
16956 00002F04 D104              5296             MOV.L   #_OUTPLS_MOD,R1                                 ;
16957 00002F06 2102              5297             MOV.L   R0,@R1                                          ;
16958                            5298     
16959                            5299             SUB_END
16960                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16961 00002F08 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16962                            5300             M_RTS
16963 00002F0A 000B                   M           RTS                             ;RTSの後ろの
16964 00002F0C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16965                            5301     
16966                            5302     ;       *******************************************
16967                            5303     ;       ***                                     ***
16968                            5304     ;       *******************************************
16969                                     ***** BEGIN-POOL *****
16970 00002F0E 0000                       ALIGNMENT CODE
16971 00002F10 00000000                   DATA FOR SOURCE-LINE 5290
16972 00002F14 00000000                   DATA FOR SOURCE-LINE 5293
16973 00002F18 00000000                   DATA FOR SOURCE-LINE 5296
16974                                     ***** END-POOL *****
16975 00002F1C                   5305             .ALIGN  4                               ;
16976 00002F1C                   5306     _POS_LSI_WORK_STOP2;
16977                            5307             SUB_START
16978 00002F1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16979                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16980                            5308             FAR_JSR #_OutputPLS_REG_CLR,R0          ;
16981 00002F1E D004                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16982 00002F20 400B                   M           JSR     @R0                     ;
16983 00002F22 0009                   M           NOP                                     ;
16984 00002F24 200A              5309             XOR     R0,R0                           ;
16985 00002F26 D103              5310             MOV.L   #_POSLSI_CMP_DATA,R1            ;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
16986 00002F28 2102              5311             MOV.L   R0,@R1                          ;
16987                            5312             SUB_END
16988                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16989 00002F2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16990                            5313             M_RTS
16991 00002F2C 000B                   M           RTS                             ;RTSの後ろの
16992 00002F2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16993                            5314     ;       ***********************************
16994                            5315     ;       ***                             ***
16995                            5316     ;       ***                             ***
16996                            5317     ;       ***                             ***
16997                            5318     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   197
PROGRAM NAME =

16998                                     ***** BEGIN-POOL *****
16999 00002F30 00000000                   DATA FOR SOURCE-LINE 5308
17000 00002F34 00000000                   DATA FOR SOURCE-LINE 5310
17001                                     ***** END-POOL *****
17002 00002F38                   5319             .ALIGN  4
17003 00002F38                   5320     _EMG_POS_FLG_PROC:
17004                            5321             SUB_START
17005 00002F38 4F22                   M           STS.L   PR,@-R15                ;[必要]
17006                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17007                            5322             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
17008 00002F3A D015                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17009 00002F3C 400B                   M           JSR     @R0                     ;
17010 00002F3E 0009                   M           NOP                                     ;
17011                            5323     
17012 00002F40 9024              5324             MOV.W   #BIT6,R0                        ;位置決め完了
17013 00002F42 D114              5325             MOV.L   #_INT_CYC_DRV_STS,R1            ;//BIT0=1(終了:ﾃﾞｰﾀ保証あり)
17014 00002F44 2101              5326             MOV.W   R0,@R1                          ;
17015                            5327     
17016 00002F46 D114              5328             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
17017 00002F48 200A              5329             XOR     R0,R0                           ;
17018 00002F4A 2101              5330             MOV.W   R0,@R1                          ;
17019                            5331     
17020                            5332     ;;      .AIF    1 EQ 1  ;
17021                            5333     ;;      .AENDI
17022 00002F4C 200A              5334             XOR     R0,R0
17023 00002F4E D113              5335             MOV.L   #_INT_DND_NEG_STEP,R1           ;//2003-01-27 1 EQ 1    ;
17024 00002F50 2101              5336             MOV.W   R0,@R1                          ;
17025 00002F52 D113              5337             MOV.L   #_DNDINC_CTRL_STEP,R1           ;2006-07-28
17026 00002F54 2101              5338             MOV.W   R0,@R1                          ;
17027                            5339     
17028                            5340             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
17029 00002F56 D013                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17030 00002F58 400B                   M           JSR     @R0                     ;
17031 00002F5A 0009                   M           NOP                                     ;
17032                            5341             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
17033 00002F5C D012                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17034 00002F5E 400B                   M           JSR     @R0                     ;
17035 00002F60 0009                   M           NOP                                     ;
17036                            5342     
17037                            5343     ;       ---     [2009-10-07下振子]      ---
17038                            5344             FAR_JSR #_DNM_DATA_CLR,R0                       ;
17039 00002F62 D012                   M           MOV.L   #_DNM_DATA_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17040 00002F64 400B                   M           JSR     @R0                     ;
17041 00002F66 0009                   M           NOP                                     ;
17042                            5345     
17043                            5346     ;       ------------寸動からの上限指令 2013-02-15--
17044 00002F68 200A              5347             XOR     R0,R0                   ;
17045 00002F6A D111              5348             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
17046 00002F6C 2101              5349             MOV.W   R0,@R1                  ;
17047                            5350     
17048                            5351     ;       ------------ 2013-07-13
17049                            5352             FAR_JSR #_EXQ_POS_FLG_PROC,R0
17050 00002F6E D011                   M           MOV.L   #_EXQ_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17051 00002F70 400B                   M           JSR     @R0                     ;
17052 00002F72 0009                   M           NOP                                     ;
17053                            5353     
17054                            5354     ;       --------- 2013-07-18
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   198
PROGRAM NAME =

17055 00002F74 200A              5355             XOR     R0,R0
17056 00002F76 D110              5356             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
17057 00002F78 2101              5357             MOV.W   R0,@R1                                  ;
17058                            5358     
17059                            5359     ;       --------- 2014-09-22 繰返---------------
17060                            5360             FAR_JSR #_MOT_REP_CLR,R0
17061 00002F7A D010                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17062 00002F7C 400B                   M           JSR     @R0                     ;
17063 00002F7E 0009                   M           NOP                                     ;
17064                            5361     
17065                            5362     ;       -------2021-11-11[]-------
17066                            5363             FAR_JSR #_DND_NEG_START_FLG_CLR,R0
17067 00002F80 D00F                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17068 00002F82 400B                   M           JSR     @R0                     ;
17069 00002F84 0009                   M           NOP                                     ;
17070                            5364     
17071                            5365             SUB_END
17072                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17073 00002F86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17074                            5366             M_RTS
17075 00002F88 000B                   M           RTS                             ;RTSの後ろの
17076 00002F8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17077                            5367     
17078                            5368     
17079                                     ***** BEGIN-POOL *****
17080 00002F8C 0040                       DATA FOR SOURCE-LINE 5324
17081 00002F8E 0000                       ALIGNMENT CODE
17082 00002F90 00000000                   DATA FOR SOURCE-LINE 5322
17083 00002F94 00000000                   DATA FOR SOURCE-LINE 5325
17084 00002F98 00000000                   DATA FOR SOURCE-LINE 5328
17085 00002F9C 00000000                   DATA FOR SOURCE-LINE 5335
17086 00002FA0 00000000                   DATA FOR SOURCE-LINE 5337
17087 00002FA4 00000000                   DATA FOR SOURCE-LINE 5340
17088 00002FA8 00000000                   DATA FOR SOURCE-LINE 5341
17089 00002FAC 00000000                   DATA FOR SOURCE-LINE 5344
17090 00002FB0 00000000                   DATA FOR SOURCE-LINE 5348
17091 00002FB4 00000000                   DATA FOR SOURCE-LINE 5352
17092 00002FB8 00000000                   DATA FOR SOURCE-LINE 5356
17093 00002FBC 00000000                   DATA FOR SOURCE-LINE 5360
17094 00002FC0 00000000                   DATA FOR SOURCE-LINE 5363
17095                                     ***** END-POOL *****
17096 00002FC4                   5369             .ALIGN  4
17097 00002FC4                   5370     _EXQ_POS_FLG_PROC:
17098                            5371             SUB_START
17099 00002FC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
17100                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17101                            5372     
17102 00002FC6 D118              5373             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
17103 00002FC8 200A              5374             XOR     R0,R0                   ;
17104 00002FCA 2101              5375             MOV.W   R0,@R1                  ;
17105                            5376             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
17106 00002FCC D017                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17107 00002FCE 400B                   M           JSR     @R0                     ;
17108 00002FD0 0009                   M           NOP                                     ;
17109                            5377             FAR_JSR #_POS_LSI_EMG_STOP,R0                   ;急停止
17110 00002FD2 D017                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17111 00002FD4 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   199
PROGRAM NAME =

17112 00002FD6 0009                   M           NOP                                     ;
17113                            5378     
17114                            5379     ;       ==========================
17115 00002FD8 200A              5380             XOR     R0,R0                           ;
17116 00002FDA D116              5381             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
17117 00002FDC 2101              5382             MOV.W   R0,@R1                          ;
17118                            5383     
17119 00002FDE 200A              5384             XOR     R0,R0                           ;
17120                            5385             REG_MOV_TO_MEM  DST_ADR=_POS_LSI_ACS_ERR_FLG1   ,L1=W,DT_REG=R0,WKREG1=R1       ;L
                                          SI異常
17121 00002FE0 D115                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1       ;DST_ADR
17122 00002FE2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17123                            5386             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
17124 00002FE4 D115                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1  ;DST_ADR
17125 00002FE6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17126                            5387             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
17127 00002FE8 D115                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1  ;DST_ADR
17128 00002FEA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17129                            5388     
17130                            5389             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0
17131 00002FEC D015                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17132 00002FEE 400B                   M           JSR     @R0                     ;
17133 00002FF0 0009                   M           NOP                                     ;
17134                            5390     
17135                            5391             .AIF    0 EQ    0
17136                            5392 C   
17137                            5393 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
17138 00002FF2 D015                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17139 00002FF4 400B                   M           JSR     @R0                     ;
17140 00002FF6 0009                   M           NOP                                     ;
17141                            5394             .AENDI
17142                            5395     
17143                            5396     
17144                            5397             .AIF    0 EQ    0
17145                            5398 C           FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
17146 00002FF8 D014                   M           MOV.L   #_API_IVW_CYC_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17147 00002FFA 400B                   M           JSR     @R0                     ;
17148 00002FFC 0009                   M           NOP                                     ;
17149                            5399             .AENDI
17150                            5400     
17151                            5401     ;       -2012-05-30 反転
17152                            5402             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
17153 00002FFE D014                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17154 00003000 400B                   M           JSR     @R0                     ;
17155 00003002 0009                   M           NOP                                     ;
17156                            5403     
17157                            5404     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
17158                            5405             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
17159                            5406 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
17160 00003004 D013                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17161 00003006 400B                   M           JSR     @R0                     ;
17162 00003008 0009                   M           NOP                                     ;
17163                            5407 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
17164 0000300A D013                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17165 0000300C 400B                   M           JSR     @R0                     ;
17166 0000300E 0009                   M           NOP                                     ;
17167                            5408             .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   200
PROGRAM NAME =

17168                            5409     
17169                            5410     ;       --------- 2013-07-18
17170 00003010 200A              5411             XOR     R0,R0
17171 00003012 D112              5412             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
17172 00003014 2101              5413             MOV.W   R0,@R1                                  ;
17173                            5414     
17174                            5415             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
17175 00003016 D012                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17176 00003018 400B                   M           JSR     @R0                     ;
17177 0000301A 0009                   M           NOP                                     ;
17178                            5416     
17179                            5417     ;       -------- 2015-09-06(2015-07-14)-----------
17180                            5418     ;;;     _BRK_SADOU_CHG EQ 1
17181                            5419             FAR_JSR #_POS_END_MYUTIG_TIMER_CLR,R0
17182 0000301C D011                   M           MOV.L   #_POS_END_MYUTIG_TIMER_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17183 0000301E 400B                   M           JSR     @R0                     ;
17184 00003020 0009                   M           NOP                                     ;
17185                            5420     
17186                            5421             SUB_END
17187                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17188 00003022 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17189                            5422             M_RTS
17190 00003024 000B                   M           RTS                             ;RTSの後ろの
17191 00003026 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17192                            5423     
17193                            5424     ;       ***********************************
17194                            5425     ;       ***                             ***
17195                            5426     ;       ***     ﾜｰｸﾌﾗｸﾞ関係ｸﾘｱ          ***
17196                            5427     ;       ***                             ***
17197                            5428     ;       ***********************************
17198                            5429     ;       1ｻｲｸﾙ終了時
17199                                     ***** BEGIN-POOL *****
17200 00003028 00000000                   DATA FOR SOURCE-LINE 5373
17201 0000302C 00000000                   DATA FOR SOURCE-LINE 5376
17202 00003030 00000000                   DATA FOR SOURCE-LINE 5377
17203 00003034 00000000                   DATA FOR SOURCE-LINE 5381
17204 00003038 00000000                   DATA FOR SOURCE-LINE 5385
17205 0000303C 00000000                   DATA FOR SOURCE-LINE 5386
17206 00003040 00000000                   DATA FOR SOURCE-LINE 5387
17207 00003044 00000000                   DATA FOR SOURCE-LINE 5389
17208 00003048 00000000                   DATA FOR SOURCE-LINE 5393
17209 0000304C 00000000                   DATA FOR SOURCE-LINE 5398
17210 00003050 00000000                   DATA FOR SOURCE-LINE 5402
17211 00003054 00000000                   DATA FOR SOURCE-LINE 5406
17212 00003058 00000000                   DATA FOR SOURCE-LINE 5407
17213 0000305C 00000000                   DATA FOR SOURCE-LINE 5412
17214 00003060 00000000                   DATA FOR SOURCE-LINE 5415
17215 00003064 00000000                   DATA FOR SOURCE-LINE 5419
17216                                     ***** END-POOL *****
17217 00003068                   5430             .ALIGN  4
17218                            5431             .EXPORT _CYC_END_POS_FLG_CLR            ;2016-04-18
17219 00003068                   5432     _CYC_END_POS_FLG_CLR:
17220                            5433             SUB_START
17221 00003068 4F22                   M           STS.L   PR,@-R15                ;[必要]
17222                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17223 0000306A 200A              5434             XOR     R0,R0                           ;
17224 0000306C D102              5435             MOV.L   #_SV_POS_CTL_STEP,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   201
PROGRAM NAME =

17225 0000306E 2101              5436             MOV.W   R0,@R1                          ;
17226                            5437     
17227                            5438     
17228                            5439             SUB_END
17229                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17230 00003070 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17231                            5440             M_RTS
17232 00003072 000B                   M           RTS                             ;RTSの後ろの
17233 00003074 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17234                            5441     ;       ***********************************
17235                            5442     ;       ***                             ***
17236                            5443     ;       ***     ﾜｰｸﾌﾗｸﾞ関係SET          ***
17237                            5444     ;       ***                             ***
17238                            5445     ;       ***********************************
17239                            5446     ;       1ｻｲｸﾙ終了時     CYCL=BIT0,SV_STEP=0
17240                            5447     ;       非常停止復帰時  CYCL=0  ,SV_STEP=0
17241                                     ***** BEGIN-POOL *****
17242 00003076 0000                       ALIGNMENT CODE
17243 00003078 00000000                   DATA FOR SOURCE-LINE 5435
17244                                     ***** END-POOL *****
17245 0000307C                   5448             .ALIGN  4                               ;
17246 0000307C                   5449     _CYC_END_POS_FLG_SET:
17247                            5450             SUB_START
17248 0000307C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17249                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17250                            5451             MEM1_DATA_SET MEM=_INT_CYC_DRV_STS,LG=W,DATA=(BIT6+BIT0),WKREG1=R1,WKREG2=R2    ;ｻ
                                          ｲｸﾙｴﾝﾄﾞ(次回運転まで有効)
17251 0000307E D103                   M           MOV.L   #_INT_CYC_DRV_STS,R1            ;
17252 00003080 9203                   M           MOV.W   #(BIT6+BIT0),R2         ;
17253 00003082 2121                   M           MOV.W   R2,@R1  ;
17254                            5452             SUB_END
17255                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17256 00003084 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17257                            5453             M_RTS
17258 00003086 000B                   M           RTS                             ;RTSの後ろの
17259 00003088 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17260                            5454     
17261                            5455     ;       ***************************************************
17262                            5456     ;       ***                                             ***
17263                            5457     ;       ***                                             ***
17264                            5458     ;       ***                                             ***
17265                            5459     ;       ***             位置決めＬＳＩアクセス          ***
17266                            5460     ;       ***                                             ***
17267                            5461     ;       ***                                             ***
17268                            5462     ;       ***                                             ***
17269                            5463     ;       ***************************************************
17270                            5464     ;       ?加減速時間の演算と指令周波数の演算
17271                            5465     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
17272                            5466     ;       "_poslsi1_top"
17273                            5467     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
17274                            5468     ;       *速度周波数の演算
17275                            5469     ;       *ベース周波数=1?
17276                            5470     ;       *加速時間
17277                            5471     ;       *急停止の時間
17278                            5472     ;       ***********************************
17279                            5473     ;       ***                             ***
17280                            5474     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   202
PROGRAM NAME =

17281                            5475     ;       ***                             ***
17282                            5476     ;       ***********************************
17283                            5477     ;       25MHZ*1/N*1/LATE=65535
17284                            5478     
17285                            5479             .EXPORT _POS_LSI_HARD_INITAL
17286                            5480             .EXPORT _POS_LSI_DATA_INITAL
17287                            5481     
17288                            5482             .MACRO  POS_LSI_CMD_WR ADR_REG,DAT_REG
17289                            5483             SWAP.W  \DAT_REG,\DAT_REG                               ;
17290                            5484     
17291                            5485             MOV.W   \DAT_REG,@\ADR_REG
17292                            5486             ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17293                            5487             SWAP.W  \DAT_REG,\DAT_REG                               ;
17294                            5488             POS_LSI_WORD_DUM_LOD                                    ;
17295                            5489             MOV.W   \DAT_REG,@\ADR_REG                              ;HIGH WORD SAVE
17296                            5490             POS_LSI_WORD_DUM_LOD                                    ;
17297                            5491             .ENDM
17298                            5492     
17299                            5493             .MACRO  POS_LSI_BIT_SET_LG ADR,MEM
17300                            5494             MOV.L   #\MEM,R6                                        ;
17301                            5495             MOV.L   @R6,R5                                          ;
17302                            5496             OR      R4,R5                                           ;
17303                            5497             MOV.L   R5,@R6                                          ;SAVE
17304                            5498     
17305                            5499             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17306                            5500             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17307                            5501             .ENDM
17308                            5502     
17309                            5503     
17310                            5504             .MACRO  POS_LSI_BIT_CLR_LG ADR,MEM
17311                            5505             MOV.L   #\MEM,R6                                        ;
17312                            5506             MOV.L   @R6,R5                                          ;
17313                            5507             AND     R4,R5                                           ;
17314                            5508             MOV.L   R5,@R6                                          ;SAVE
17315                            5509     
17316                            5510             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17317                            5511             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17318                            5512             .ENDM
17319                            5513     
17320                            5514     ;AND R3 対象BIT
17321                            5515     ;OR  R4 転送BIT
17322                            5516             .MACRO  POS_LSI_BIT_MOV_LG ADR,MEM
17323                            5517             MOV.L   #\MEM,R6                                        ;
17324                            5518             MOV.L   @R6,R5                                          ;
17325                            5519             NOT     R3,R3                                           ;
17326                            5520             AND     R3,R5                                           ;
17327                            5521             OR      R4,R5                                           ;
17328                            5522             MOV.L   R5,@R6                                          ;SAVE
17329                            5523     
17330                            5524             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17331                            5525             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17332                            5526             .ENDM
17333                            5527     
17334                            5528     
17335                            5529     
17336                            5530     ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   203
PROGRAM NAME =

17337                            5531     ;       ***     位置決めＬＳＩ 32BIT DATA WRITE         ***
17338                            5532     ;       ***     払出ﾊﾟﾙｽ設定
17339                            5533     ;       ********************************************
17340                            5534     
17341                            5535             .MACRO  POS_LSI_32BIT_DAT_SET ADR,ADR_REG,DAT_REG
17342                            5536             PUSH_REG1 \ADR_REG
17343                            5537             PUSH_REG1 \DAT_REG
17344                            5538             POS_LSI_WORD_DUM_LOD                                    ;
17345                            5539             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,\ADR_REG           ;
17346                            5540             MOV.W   \DAT_REG,@\ADR_REG                              ;(LOW)
17347                            5541             ADD     #2,\ADR_REG                                     ;
17348                            5542             SWAP.W  \DAT_REG,\DAT_REG                               ;
17349                            5543             POS_LSI_WORD_DUM_LOD                                    ;
17350                            5544             MOV.W   \DAT_REG,@\ADR_REG                              ;(HIGH)
17351                            5545             POS_LSI_WORD_DUM_LOD                                    ;
17352                            5546             POP_REG1 \DAT_REG
17353                            5547             POP_REG1 \ADR_REG
17354                            5548             .ENDM
17355                            5549     
17356                            5550     
17357                            5551     ;       *******************************************
17358                            5552     ;       ***                                     ***
17359                            5553     ;       ***                                     ***
17360                            5554     ;       ***                                     ***
17361                            5555     ;       *******************************************
17362                                     ***** BEGIN-POOL *****
17363 0000308A 0041                       DATA FOR SOURCE-LINE 5451
17364 0000308C 00000000                   DATA FOR SOURCE-LINE 5451
17365                                     ***** END-POOL *****
17366 00003090                   5556             .ALIGN  4                               ;
17367 00003090                   5557     _POS_LSI_HARD_INITAL:
17368                            5558             SUB_START
17369 00003090 4F22                   M           STS.L   PR,@-R15                ;[必要]
17370                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17371                            5559     ;       ==========================================
17372 00003092 D60E              5560             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R6         ;
17373                            5561             .AIF    1 EQ 1          ;2006-09-19
17374 00003094 9519              5562 C           MOV.W   #H'100*(B'01000011)+(B'11000100),R5
17375                            5563 C                                                                   ;B相進み
17376                            5564 C                                                                   ;BIT7,BIT6=1,1 +OT,-OT無効
17377                            5565 C                                                                   ;BIT9,BIT8=1,1 自動加減速
                                          無効
17378                            5566 C                                                                   ;BIT14         外部ｹﾞｰﾄ無
                                          効
17379                            5567             .AELSE
17380                            5568             MOV.W   #H'100*(B'01000000)+(B'11000100),R5
17381                            5569                                                                     ;B相進み
17382                            5570                                                                     ;BIT7,BIT6=1   +OT,-OT無効
17383                            5571                                                                     ;BIT9,BIT8=0,0 自動加減速
                                          有効
17384                            5572                                                                     ;BIT14         外部ｹﾞｰﾄ無
                                          効
17385                            5573             .AENDI
17386 00003096 2651              5574             MOV.W   R5,@R6                                          ;
17387                            5575     ;BIT0=0(正転PLS/逆転PLS 2PLS MODE)
17388                            5576     ;BIT1=0 帰還有効
17389                            5577     ;BIT2=1 A相進み
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   204
PROGRAM NAME =

17390                            5578     ;BIT4,3=0 90位相;
17391                            5579     ;BIT13=0速度16ﾋﾞｯﾄ　=1:20ﾋﾞｯﾄ
17392                            5580     ;
17393                            5581     ;       ======= ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽｶｳﾝﾄ開始    ============
17394 00003098 D50D              5582             MOV.L   #BIT2,R5                                        ;
17395 0000309A D60E              5583             MOV.L   #_LSI_BUF_PLS_BitComdL,R6                       ;
17396 0000309C 2652              5584             MOV.L   R5,@R6                                          ;MOTROLA 32BIT DATA
17397                            5585     
17398 0000309E D40C              5586             MOV.L   #BIT2,R4                                                ;
17399                            5587             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;BIT2(BIT18)
17400 000030A0 D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17401 000030A2 6562                   M           MOV.L   @R6,R5                                          ;
17402 000030A4 254B                   M           OR      R4,R5                                           ;
17403 000030A6 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17404                                 M   
17405 000030A8 D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17406                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17407 000030AA 6559                   M           SWAP.W  R5,R5                           ;
17408                                 M   
17409 000030AC 2651                   M           MOV.W   R5,@R6
17410 000030AE 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17411 000030B0 6559                   M           SWAP.W  R5,R5                           ;
17412                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17413                                 M           PUSH_REG1 R0
17414 000030B2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17415                                 M                                           ;REG=>[SP]
17416                                 M                                           ;"-4" FF,FF,FF,FC
17417 000030B4 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17418 000030B6 6001                   M           MOV.W   @R0,R0
17419                                 M           POP_REG1 R0
17420                                 M                                   ; RE"+4" 00,00,00,04
17421 000030B8 60F6                   M           MOV.L   @R15+,R0        ;
17422 000030BA 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17423                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17424                                 M           PUSH_REG1 R0
17425 000030BC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17426                                 M                                           ;REG=>[SP]
17427                                 M                                           ;"-4" FF,FF,FF,FC
17428 000030BE D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17429 000030C0 6001                   M           MOV.W   @R0,R0
17430                                 M           POP_REG1 R0
17431                                 M                                   ; RE"+4" 00,00,00,04
17432 000030C2 60F6                   M           MOV.L   @R15+,R0        ;
17433                            5588     
17434                            5589             SUB_END
17435                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17436 000030C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17437                            5590             M_RTS
17438 000030C6 000B                   M           RTS                             ;RTSの後ろの
17439 000030C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17440                            5591     
17441                            5592     ;       ***********************************
17442                            5593     ;       ***                             ***
17443                            5594     ;       ***     ﾒｲﾝﾃﾞｰﾀ受信後           ***
17444                            5595     ;       ***                             ***
17445                            5596     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   205
PROGRAM NAME =

17446                                     ***** BEGIN-POOL *****
17447 000030CA 43C4                       DATA FOR SOURCE-LINE 5562
17448 000030CC 00000000                   DATA FOR SOURCE-LINE 5560
17449 000030D0 00000004                   DATA FOR SOURCE-LINE 5582,5586
17450 000030D4 00000000                   DATA FOR SOURCE-LINE 5583,5587
17451 000030D8 00000000                   DATA FOR SOURCE-LINE 5587
17452 000030DC 00000000                   DATA FOR SOURCE-LINE 5587,5587
17453                                     ***** END-POOL *****
17454 000030E0                   5597             .ALIGN  4                               ;
17455 000030E0                   5598     _POS_LSI_DATA_INITAL:
17456                            5599             SUB_START
17457 000030E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17458                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17459                            5600             FAR_JSR #_POS_LSI_SPDLATE_SET,R0        ;(本当は1回だけ)
17460 000030E2 D006                   M           MOV.L   #_POS_LSI_SPDLATE_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17461 000030E4 400B                   M           JSR     @R0                     ;
17462 000030E6 0009                   M           NOP                                     ;
17463                            5601             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;(本当は1回だけ)
17464 000030E8 D005                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17465 000030EA 400B                   M           JSR     @R0                     ;
17466 000030EC 0009                   M           NOP                                     ;
17467                            5602             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17468 000030EE D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17469 000030F0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17470 000030F2 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17471 000030F4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17472                            5603     
17473                            5604     
17474                            5605     
17475                            5606     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速(意味無し)
17476                            5607     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17477                            5608     
17478                            5609             SUB_END
17479                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17480 000030F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17481                            5610             M_RTS
17482 000030F8 000B                   M           RTS                             ;RTSの後ろの
17483 000030FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17484                            5611     
17485                            5612     
17486                            5613     ;       ***********************************
17487                            5614     ;       ***                             ***
17488                            5615     ;       ***     起動前ｲﾆｼｬﾙ             ***
17489                            5616     ;       ***                             ***
17490                            5617     ;       ***********************************
17491                                     ***** BEGIN-POOL *****
17492 000030FC 00000000                   DATA FOR SOURCE-LINE 5600
17493 00003100 00000000                   DATA FOR SOURCE-LINE 5601
17494 00003104 00000000                   DATA FOR SOURCE-LINE 5602
17495 00003108 00000000                   DATA FOR SOURCE-LINE 5602
17496                                     ***** END-POOL *****
17497 0000310C                   5618             .ALIGN  4                               ;
17498 0000310C                   5619     _POS_LSI_START_INITAL:
17499                            5620             SUB_START
17500 0000310C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17501                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17502                            5621     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   206
PROGRAM NAME =

17503                            5622     ;       ===== 本当は不要だけど、ﾃﾞﾊﾞｯｸ完了までは======
17504                            5623     
17505                            5624     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
17506                            5625             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;
17507 0000310E D006                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17508 00003110 400B                   M           JSR     @R0                     ;
17509 00003112 0009                   M           NOP                                     ;
17510                            5626             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17511 00003114 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17512 00003116 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17513 00003118 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17514 0000311A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17515                            5627     
17516                            5628     
17517                            5629     
17518                            5630     
17519                            5631     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17520                            5632     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
17521                            5633             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17522 0000311C D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17523 0000311E 400B                   M           JSR     @R0                     ;
17524 00003120 0009                   M           NOP                                     ;
17525                            5634     
17526                            5635             SUB_END
17527                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17528 00003122 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17529                            5636             M_RTS
17530 00003124 000B                   M           RTS                             ;RTSの後ろの
17531 00003126 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17532                            5637     ;       ***********************************
17533                            5638     ;       ***                             ***
17534                            5639     ;       ***     起動前ｲﾆｼｬﾙ             ***
17535                            5640     ;       ***                             ***
17536                            5641     ;       ***********************************
17537                                     ***** BEGIN-POOL *****
17538 00003128 00000000                   DATA FOR SOURCE-LINE 5625
17539 0000312C 00000000                   DATA FOR SOURCE-LINE 5626
17540 00003130 00000000                   DATA FOR SOURCE-LINE 5626
17541 00003134 00000000                   DATA FOR SOURCE-LINE 5633
17542                                     ***** END-POOL *****
17543 00003138                   5642             .ALIGN  4                               ;
17544 00003138                   5643     _POS_LSI_START_INITL2:
17545                            5644             SUB_START
17546 00003138 4F22                   M           STS.L   PR,@-R15                ;[必要]
17547                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17548                            5645     
17549                            5646     
17550                            5647     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
17551                            5648             FAR_JSR #_POS_LSI_CLS_BAS_SPD_SET,R0    ;
17552 0000313A D006                   M           MOV.L   #_POS_LSI_CLS_BAS_SPD_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17553 0000313C 400B                   M           JSR     @R0                     ;
17554 0000313E 0009                   M           NOP                                     ;
17555                            5649             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17556 00003140 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17557 00003142 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17558 00003144 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17559 00003146 2322                   M           MOV.L   R2,@R3  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   207
PROGRAM NAME =

17560                            5650     
17561                            5651     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17562                            5652     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
17563                            5653             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17564 00003148 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17565 0000314A 400B                   M           JSR     @R0                     ;
17566 0000314C 0009                   M           NOP                                     ;
17567                            5654     
17568                            5655             SUB_END
17569                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17570 0000314E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17571                            5656             M_RTS
17572 00003150 000B                   M           RTS                             ;RTSの後ろの
17573 00003152 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17574                            5657     
17575                            5658     ;       ***********************************
17576                            5659     ;       ***                             ***
17577                            5660     ;       ***     起動前ｲﾆｼｬﾙ             ***
17578                            5661     ;       ***     2013-06-13              ***
17579                            5662     ;       ***********************************
17580                                     ***** BEGIN-POOL *****
17581 00003154 00000000                   DATA FOR SOURCE-LINE 5648
17582 00003158 00000000                   DATA FOR SOURCE-LINE 5649
17583 0000315C 00000000                   DATA FOR SOURCE-LINE 5649
17584 00003160 00000000                   DATA FOR SOURCE-LINE 5653
17585                                     ***** END-POOL *****
17586 00003164                   5663             .ALIGN  4                               ;
17587 00003164                   5664     _POS_LSI_START_INITAL_TEP:
17588                            5665             SUB_START
17589 00003164 4F22                   M           STS.L   PR,@-R15                ;[必要]
17590                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17591                            5666     
17592                            5667             FAR_JSR #_POS_LSI_TEP_BAS_SPEED_SET,R0
17593 00003166 D006                   M           MOV.L   #_POS_LSI_TEP_BAS_SPEED_SET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17594 00003168 400B                   M           JSR     @R0                     ;
17595 0000316A 0009                   M           NOP                                     ;
17596                            5668             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17597 0000316C D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17598 0000316E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17599 00003170 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17600 00003172 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17601                            5669             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17602 00003174 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17603 00003176 400B                   M           JSR     @R0                     ;
17604 00003178 0009                   M           NOP                                     ;
17605                            5670     
17606                            5671             SUB_END
17607                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17608 0000317A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17609                            5672             M_RTS
17610 0000317C 000B                   M           RTS                             ;RTSの後ろの
17611 0000317E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17612                            5673     
17613                            5674     ;       ***********************************
17614                            5675     ;       ***                             ***
17615                            5676     ;       ***     指令ﾊﾟﾙｽﾚｼﾞｽﾀｸﾘｱ        ***
17616                            5677     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   208
PROGRAM NAME =

17617                            5678     ;       ***********************************
17618                            5679     ;       2004-02-19
17619                                     ***** BEGIN-POOL *****
17620 00003180 00000000                   DATA FOR SOURCE-LINE 5667
17621 00003184 00000000                   DATA FOR SOURCE-LINE 5668
17622 00003188 00000000                   DATA FOR SOURCE-LINE 5668
17623 0000318C 00000000                   DATA FOR SOURCE-LINE 5669
17624                                     ***** END-POOL *****
17625 00003190                   5680             .ALIGN  4                               ;
17626 00003190                   5681     _OutputPLS_REG_CLR:
17627                            5682             SUB_START
17628 00003190 4F22                   M           STS.L   PR,@-R15                ;[必要]
17629                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17630                            5683             PUSH_ALL
17631                                 M           PUSH_REG1       R0      ;
17632 00003192 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17633                                 M                                           ;REG=>[SP]
17634                                 M                                           ;"-4" FF,FF,FF,FC
17635                                 M           PUSH_REG1       R1      ;
17636 00003194 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
17637                                 M                                           ;REG=>[SP]
17638                                 M                                           ;"-4" FF,FF,FF,FC
17639                                 M           PUSH_REG1       R2      ;
17640 00003196 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
17641                                 M                                           ;REG=>[SP]
17642                                 M                                           ;"-4" FF,FF,FF,FC
17643                                 M           PUSH_REG1       R3      ;
17644 00003198 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
17645                                 M                                           ;REG=>[SP]
17646                                 M                                           ;"-4" FF,FF,FF,FC
17647                                 M           PUSH_REG1       R4      ;
17648 0000319A 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17649                                 M                                           ;REG=>[SP]
17650                                 M                                           ;"-4" FF,FF,FF,FC
17651                                 M           PUSH_REG1       R5      ;
17652 0000319C 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17653                                 M                                           ;REG=>[SP]
17654                                 M                                           ;"-4" FF,FF,FF,FC
17655                                 M           PUSH_REG1       R6      ;
17656 0000319E 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
17657                                 M                                           ;REG=>[SP]
17658                                 M                                           ;"-4" FF,FF,FF,FC
17659                                 M           PUSH_REG1       R7      ;
17660 000031A0 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
17661                                 M                                           ;REG=>[SP]
17662                                 M                                           ;"-4" FF,FF,FF,FC
17663                                 M           PUSH_REG1       R8      ;
17664 000031A2 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
17665                                 M                                           ;REG=>[SP]
17666                                 M                                           ;"-4" FF,FF,FF,FC
17667                                 M           PUSH_REG1       R9      ;
17668 000031A4 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
17669                                 M                                           ;REG=>[SP]
17670                                 M                                           ;"-4" FF,FF,FF,FC
17671                                 M           PUSH_REG1       R10     ;
17672 000031A6 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
17673                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   209
PROGRAM NAME =

17674                                 M                                           ;"-4" FF,FF,FF,FC
17675                                 M           PUSH_REG1       R11     ;
17676 000031A8 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
17677                                 M                                           ;REG=>[SP]
17678                                 M                                           ;"-4" FF,FF,FF,FC
17679                                 M           PUSH_REG1       R12     ;
17680 000031AA 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
17681                                 M                                           ;REG=>[SP]
17682                                 M                                           ;"-4" FF,FF,FF,FC
17683                                 M           PUSH_REG1       R13     ;
17684 000031AC 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
17685                                 M                                           ;REG=>[SP]
17686                                 M                                           ;"-4" FF,FF,FF,FC
17687                                 M           PUSH_REG1       R14     ;
17688 000031AE 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
17689                                 M                                           ;REG=>[SP]
17690                                 M                                           ;"-4" FF,FF,FF,FC
17691                                 M           PUSH_MACHL              ;
17692 000031B0 4F02                   M           STS.L   MACH,@-R15
17693 000031B2 4F12                   M           STS.L   MACL,@-R15
17694                                 M           PUSH_SYS_REG    GBR     ;
17695 000031B4 4F13                   M           STC.L   GBR,@-R15
17696                                 M           .AIF    2 EQ 3
17697                                             .AELSE
17698                                 C           PUSH_FPU_ALL            ;2001-07-08
17699                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
17700 000031B6 4F52                   M           STS.L   FPUL,@-R15
17701 000031B8 4F62                   M           STS.L   FPSCR,@-R15
17702                                 M                   PUSH_FPU_REG1 FR0       ;
17703 000031BA FF0B                   M           FMOV.S  FR0,@-R15
17704                                 M                   PUSH_FPU_REG1 FR1       ;
17705 000031BC FF1B                   M           FMOV.S  FR1,@-R15
17706                                 M                   PUSH_FPU_REG1 FR2       ;
17707 000031BE FF2B                   M           FMOV.S  FR2,@-R15
17708                                 M                   PUSH_FPU_REG1 FR3       ;
17709 000031C0 FF3B                   M           FMOV.S  FR3,@-R15
17710                                 M                   PUSH_FPU_REG1 FR4       ;
17711 000031C2 FF4B                   M           FMOV.S  FR4,@-R15
17712                                 M           .AENDI
17713 000031C4 200A              5684             XOR     R0,R0                                   ;
17714 000031C6 D127              5685             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;//CLR処理そのもの
17715 000031C8 2101              5686             MOV.W   R0,@R1                                  ;
17716                            5687     
17717                            5688             TIM_CNT_ADD MEM=_LSI_PLSCLR_AC_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
17718 000031CA D127                   M           MOV.L   #_LSI_PLSCLR_AC_CNT1,R1         ;
17719 000031CC 6012                   M           MOV.L   @R1,R0  ;
17720 000031CE 7001                   M           ADD     #1,R0           ;
17721 000031D0 2102                   M           MOV.L   R0,@R1  ;
17722                            5689     
17723                            5690     
17724 000031D2                   5691     OutputPLS_REGCLR_LOP:
17725                            5692             FAR_JSR #_LOAD_REST_PLS,R0
17726 000031D2 D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17727 000031D4 400B                   M           JSR     @R0                     ;
17728 000031D6 0009                   M           NOP                                     ;
17729 000031D8 D425              5693             MOV.L   #(BIT12*H'10000),R4                                             ;
17730                            5694             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   210
PROGRAM NAME =

17731 000031DA D626                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17732 000031DC 6562                   M           MOV.L   @R6,R5                                          ;
17733 000031DE 254B                   M           OR      R4,R5                                           ;
17734 000031E0 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17735                                 M   
17736 000031E2 D625                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17737                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17738 000031E4 6559                   M           SWAP.W  R5,R5                           ;
17739                                 M   
17740 000031E6 2651                   M           MOV.W   R5,@R6
17741 000031E8 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17742 000031EA 6559                   M           SWAP.W  R5,R5                           ;
17743                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17744                                 M           PUSH_REG1 R0
17745 000031EC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17746                                 M                                           ;REG=>[SP]
17747                                 M                                           ;"-4" FF,FF,FF,FC
17748 000031EE D023                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17749 000031F0 6001                   M           MOV.W   @R0,R0
17750                                 M           POP_REG1 R0
17751                                 M                                   ; RE"+4" 00,00,00,04
17752 000031F2 60F6                   M           MOV.L   @R15+,R0        ;
17753 000031F4 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17754                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17755                                 M           PUSH_REG1 R0
17756 000031F6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17757                                 M                                           ;REG=>[SP]
17758                                 M                                           ;"-4" FF,FF,FF,FC
17759 000031F8 D020                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17760 000031FA 6001                   M           MOV.W   @R0,R0
17761                                 M           POP_REG1 R0
17762                                 M                                   ; RE"+4" 00,00,00,04
17763 000031FC 60F6                   M           MOV.L   @R15+,R0        ;
17764                            5695     
17765                            5696     ;(DE LATCHしない)       FAR_JSR #_LOAD_REST_PLS,R0                              ;
17766                            5697             POS_LSI_WORD_DUM_LOD                                                    ;
17767                                 M           PUSH_REG1 R0
17768 000031FE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17769                                 M                                           ;REG=>[SP]
17770                                 M                                           ;"-4" FF,FF,FF,FC
17771 00003200 D01E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17772 00003202 6001                   M           MOV.W   @R0,R0
17773                                 M           POP_REG1 R0
17774                                 M                                   ; RE"+4" 00,00,00,04
17775 00003204 60F6                   M           MOV.L   @R15+,R0        ;
17776                            5698             POSLSI_RD_WR_WAIT_NOP                                                   ;
17777 00003206 0009                   M           NOP
17778 00003208 0009                   M           NOP
17779 0000320A 0009                   M           NOP
17780 0000320C 0009                   M           NOP
17781 0000320E 0009                   M           NOP
17782 00003210 0009                   M           NOP
17783 00003212 0009                   M           NOP
17784 00003214 0009                   M           NOP
17785 00003216 0009                   M           NOP
17786 00003218 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   211
PROGRAM NAME =

17787                            5699     
17788 0000321A D119              5700             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                        ;R/W 指令ﾊ
                                          ﾟﾙｽ数
17789 0000321C 6015              5701             MOV.W   @R1+,R0                                                         ;
17790                            5702             POS_LSI_WORD_DUM_LOD                                                    ;
17791                                 M           PUSH_REG1 R0
17792 0000321E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17793                                 M                                           ;REG=>[SP]
17794                                 M                                           ;"-4" FF,FF,FF,FC
17795 00003220 D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17796 00003222 6001                   M           MOV.W   @R0,R0
17797                                 M           POP_REG1 R0
17798                                 M                                   ; RE"+4" 00,00,00,04
17799 00003224 60F6                   M           MOV.L   @R15+,R0        ;
17800 00003226 6011              5703             MOV.W   @R1,R0                                                          ;
17801                            5704             POS_LSI_WORD_DUM_LOD                                                    ;
17802                                 M           PUSH_REG1 R0
17803 00003228 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17804                                 M                                           ;REG=>[SP]
17805                                 M                                           ;"-4" FF,FF,FF,FC
17806 0000322A D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17807 0000322C 6001                   M           MOV.W   @R0,R0
17808                                 M           POP_REG1 R0
17809                                 M                                   ; RE"+4" 00,00,00,04
17810 0000322E 60F6                   M           MOV.L   @R15+,R0        ;
17811                            5705     
17812 00003230 D414              5706             MOV.L   #~(BIT12*H'10000),R4                                            ;
17813                            5707             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
17814 00003232 D610                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17815 00003234 6562                   M           MOV.L   @R6,R5                                          ;
17816 00003236 2549                   M           AND     R4,R5                                           ;
17817 00003238 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17818                                 M   
17819 0000323A D60F                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17820                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17821 0000323C 6559                   M           SWAP.W  R5,R5                           ;
17822                                 M   
17823 0000323E 2651                   M           MOV.W   R5,@R6
17824 00003240 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17825 00003242 6559                   M           SWAP.W  R5,R5                           ;
17826                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17827                                 M           PUSH_REG1 R0
17828 00003244 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17829                                 M                                           ;REG=>[SP]
17830                                 M                                           ;"-4" FF,FF,FF,FC
17831 00003246 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17832 00003248 6001                   M           MOV.W   @R0,R0
17833                                 M           POP_REG1 R0
17834                                 M                                   ; RE"+4" 00,00,00,04
17835 0000324A 60F6                   M           MOV.L   @R15+,R0        ;
17836 0000324C 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17837                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17838                                 M           PUSH_REG1 R0
17839 0000324E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17840                                 M                                           ;REG=>[SP]
17841                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   212
PROGRAM NAME =

17842 00003250 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17843 00003252 6001                   M           MOV.W   @R0,R0
17844                                 M           POP_REG1 R0
17845                                 M                                   ; RE"+4" 00,00,00,04
17846 00003254 60F6                   M           MOV.L   @R15+,R0        ;
17847                            5708             FAR_JSR #_LOAD_REST_PLS,R0
17848 00003256 D005                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17849 00003258 400B                   M           JSR     @R0                     ;
17850 0000325A 0009                   M           NOP                                     ;
17851                            5709     
17852 0000325C 2008              5710             TST     R0,R0                                   ;払出ﾊﾟﾙｽｸﾘｱ完了
17853                            5711             TST_BIT_ON OutputPLS_REGCLR_100                 ;
17854 0000325E 8B13                   M           BF      OutputPLS_REGCLR_100
17855                            5712             M_BRA   OutputPLS_REGCLR_END                    ;
17856 00003260 A056                   M           BRA     OutputPLS_REGCLR_END
17857 00003262 0009                   M           NOP
17858                                     ***** BEGIN-POOL *****
17859 00003264 00000000                   DATA FOR SOURCE-LINE 5685
17860 00003268 00000000                   DATA FOR SOURCE-LINE 5688
17861 0000326C 00000000                   DATA FOR SOURCE-LINE 5692,5708
17862 00003270 10000000                   DATA FOR SOURCE-LINE 5693
17863 00003274 00000000                   DATA FOR SOURCE-LINE 5694,5707
17864 00003278 00000000                   DATA FOR SOURCE-LINE 5694,5707
17865 0000327C 00000000                   DATA FOR SOURCE-LINE 5694,5694,5697,5702,5704,5707,5707
17866 00003280 00000000                   DATA FOR SOURCE-LINE 5700
17867 00003284 EFFFFFFF                   DATA FOR SOURCE-LINE 5706
17868                                     ***** END-POOL *****
17869 00003288                   5713     OutputPLS_REGCLR_100:
17870                            5714     
17871                            5715     ;       ==== ﾘｾｯﾄｺﾏﾝﾄﾞによるﾘｾｯﾄ失敗=====
17872                            5716             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
17873 00003288 D111                   M           MOV.L   #_LSI_PLSCLR_NG_CNT1,R1         ;
17874 0000328A 6012                   M           MOV.L   @R1,R0  ;
17875 0000328C 7001                   M           ADD     #1,R0           ;
17876 0000328E 2102                   M           MOV.L   R0,@R1  ;
17877                            5717     
17878                            5718             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
17879 00003290 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17880 00003292 400B                   M           JSR     @R0                     ;
17881 00003294 0009                   M           NOP                                     ;
17882 00003296 600B              5719             NEG     R0,R0                                                   ;
17883                            5720             POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R0   ;
17884                                 M           PUSH_REG1 R1
17885 00003298 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
17886                                 M                                           ;REG=>[SP]
17887                                 M                                           ;"-4" FF,FF,FF,FC
17888                                 M           PUSH_REG1 R0
17889 0000329A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17890                                 M                                           ;REG=>[SP]
17891                                 M                                           ;"-4" FF,FF,FF,FC
17892                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17893                                 M           PUSH_REG1 R0
17894 0000329C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17895                                 M                                           ;REG=>[SP]
17896                                 M                                           ;"-4" FF,FF,FF,FC
17897 0000329E D00E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17898 000032A0 6001                   M           MOV.W   @R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   213
PROGRAM NAME =

17899                                 M           POP_REG1 R0
17900                                 M                                   ; RE"+4" 00,00,00,04
17901 000032A2 60F6                   M           MOV.L   @R15+,R0        ;
17902 000032A4 D10D                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
17903 000032A6 2101                   M           MOV.W   R0,@R1                          ;(LOW)
17904 000032A8 7102                   M           ADD     #2,R1                                   ;
17905 000032AA 6009                   M           SWAP.W  R0,R0                           ;
17906                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17907                                 M           PUSH_REG1 R0
17908 000032AC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17909                                 M                                           ;REG=>[SP]
17910                                 M                                           ;"-4" FF,FF,FF,FC
17911 000032AE D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17912 000032B0 6001                   M           MOV.W   @R0,R0
17913                                 M           POP_REG1 R0
17914                                 M                                   ; RE"+4" 00,00,00,04
17915 000032B2 60F6                   M           MOV.L   @R15+,R0        ;
17916 000032B4 2101                   M           MOV.W   R0,@R1                          ;(HIGH)
17917                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17918                                 M           PUSH_REG1 R0
17919 000032B6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17920                                 M                                           ;REG=>[SP]
17921                                 M                                           ;"-4" FF,FF,FF,FC
17922 000032B8 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17923 000032BA 6001                   M           MOV.W   @R0,R0
17924                                 M           POP_REG1 R0
17925                                 M                                   ; RE"+4" 00,00,00,04
17926 000032BC 60F6                   M           MOV.L   @R15+,R0        ;
17927                                 M           POP_REG1 R0
17928                                 M                                   ; RE"+4" 00,00,00,04
17929 000032BE 60F6                   M           MOV.L   @R15+,R0        ;
17930                                 M           POP_REG1 R1
17931                                 M                                   ; RE"+4" 00,00,00,04
17932 000032C0 61F6                   M           MOV.L   @R15+,R1        ;
17933                            5721     
17934                            5722             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
17935 000032C2 D004                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17936 000032C4 400B                   M           JSR     @R0                     ;
17937 000032C6 0009                   M           NOP                                     ;
17938 000032C8 2008              5723             TST     R0,R0                                                   ;
17939                            5724             TST_BIT_ON OutputPLS_REGCLR_150                                 ;
17940 000032CA 8B09                   M           BF      OutputPLS_REGCLR_150
17941                            5725             M_BRA   OutputPLS_REGCLR_END                                    ;
17942 000032CC A020                   M           BRA     OutputPLS_REGCLR_END
17943 000032CE 0009                   M           NOP
17944                            5726     
17945                                     ***** BEGIN-POOL *****
17946 000032D0 00000000                   DATA FOR SOURCE-LINE 5716
17947 000032D4 00000000                   DATA FOR SOURCE-LINE 5718,5722
17948 000032D8 00000000                   DATA FOR SOURCE-LINE 5720,5720,5720
17949 000032DC 00000000                   DATA FOR SOURCE-LINE 5720
17950                                     ***** END-POOL *****
17951 000032E0                   5727     OutputPLS_REGCLR_150:
17952                            5728             TIM_CNT_ADD MEM=_LSI_PLSCLR_RETRY_CNT1,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
17953 000032E0 D107                   M           MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;
17954 000032E2 6011                   M           MOV.W   @R1,R0  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   214
PROGRAM NAME =

17955 000032E4 7001                   M           ADD     #1,R0           ;
17956 000032E6 2101                   M           MOV.W   R0,@R1  ;
17957 000032E8 D105              5729             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1
                                          ;
17958 000032EA 6011              5730             MOV.W   @R1,R0
                                          ;
17959 000032EC 9107              5731             MOV.W   #_LSI_RETRY_ERR_MAX,R1
                                          ;
17960 000032EE 3016              5732             CMP/HI  R1,R0
                                          ;10=< R0
17961 000032F0 890A              5733             BT      OutputPLS_REGCLR_ERR
                                          ;
17962                            5734             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
17963 000032F2 D104                   M           MOV.L   #_LSI_PLSCLR_NG_CNT2,R1         ;
17964 000032F4 6012                   M           MOV.L   @R1,R0  ;
17965 000032F6 7001                   M           ADD     #1,R0           ;
17966 000032F8 2102                   M           MOV.L   R0,@R1  ;
17967                            5735             M_BRA   OutputPLS_REGCLR_LOP
                                          ;
17968 000032FA AF6A                   M           BRA     OutputPLS_REGCLR_LOP
17969 000032FC 0009                   M           NOP
17970                            5736     
17971                                     ***** BEGIN-POOL *****
17972 000032FE 0003                       DATA FOR SOURCE-LINE 5731
17973 00003300 00000000                   DATA FOR SOURCE-LINE 5728,5729
17974 00003304 00000000                   DATA FOR SOURCE-LINE 5734
17975                                     ***** END-POOL *****
17976 00003308                   5737     OutputPLS_REGCLR_ERR:
17977                            5738     ;       == 異常ﾌﾗｸﾞ==
17978                            5739             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT1+BIT0),WKREG=R1
                                          ;
17979 00003308 D10F                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
17980 0000330A 6011                   M           MOV.W   @R1,R0          ;
17981 0000330C CB03                   M           OR      #(BIT1+BIT0),R0         ;
17982 0000330E 2101                   M           MOV.W   R0,@R1          ;
17983                            5740     
17984 00003310                   5741     OutputPLS_REGCLR_END:
17985                            5742             POP_ALL
17986                                 M           .AIF    2 EQ 3
17987                                             .AELSE
17988                                 C           POP_FPU_ALL             ;2001-07-08
17989                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
17990 00003310 F4F9                   M           FMOV.S  @R15+,FR4
17991                                 M                   POP_FPU_REG1 FR3        ;
17992 00003312 F3F9                   M           FMOV.S  @R15+,FR3
17993                                 M                   POP_FPU_REG1 FR2        ;
17994 00003314 F2F9                   M           FMOV.S  @R15+,FR2
17995                                 M                   POP_FPU_REG1 FR1        ;
17996 00003316 F1F9                   M           FMOV.S  @R15+,FR1
17997                                 M                   POP_FPU_REG1 FR0        ;
17998 00003318 F0F9                   M           FMOV.S  @R15+,FR0
17999                                 M                   POP_SYS_FPU             ;
18000 0000331A 4F66                   M           LDS.L   @R15+,FPSCR
18001 0000331C 4F56                   M           LDS.L   @R15+,FPUL
18002                                 M           .AENDI
18003                                 M           POP_SYS_REG     GBR     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   215
PROGRAM NAME =

18004 0000331E 4F17                   M           LDC.L   @R15+,GBR
18005                                 M           POP_MACHL               ;
18006 00003320 4F16                   M           LDS.L   @R15+,MACL
18007 00003322 4F06                   M           LDS.L   @R15+,MACH
18008                                 M           POP_REG1        R14     ;
18009                                 M                                   ; RE"+4" 00,00,00,04
18010 00003324 6EF6                   M           MOV.L   @R15+,R14        ;
18011                                 M           POP_REG1        R13     ;
18012                                 M                                   ; RE"+4" 00,00,00,04
18013 00003326 6DF6                   M           MOV.L   @R15+,R13        ;
18014                                 M           POP_REG1        R12     ;
18015                                 M                                   ; RE"+4" 00,00,00,04
18016 00003328 6CF6                   M           MOV.L   @R15+,R12        ;
18017                                 M           POP_REG1        R11     ;
18018                                 M                                   ; RE"+4" 00,00,00,04
18019 0000332A 6BF6                   M           MOV.L   @R15+,R11        ;
18020                                 M           POP_REG1        R10     ;
18021                                 M                                   ; RE"+4" 00,00,00,04
18022 0000332C 6AF6                   M           MOV.L   @R15+,R10        ;
18023                                 M           POP_REG1        R9      ;
18024                                 M                                   ; RE"+4" 00,00,00,04
18025 0000332E 69F6                   M           MOV.L   @R15+,R9        ;
18026                                 M           POP_REG1        R8      ;
18027                                 M                                   ; RE"+4" 00,00,00,04
18028 00003330 68F6                   M           MOV.L   @R15+,R8        ;
18029                                 M           POP_REG1        R7      ;
18030                                 M                                   ; RE"+4" 00,00,00,04
18031 00003332 67F6                   M           MOV.L   @R15+,R7        ;
18032                                 M           POP_REG1        R6      ;
18033                                 M                                   ; RE"+4" 00,00,00,04
18034 00003334 66F6                   M           MOV.L   @R15+,R6        ;
18035                                 M           POP_REG1        R5      ;
18036                                 M                                   ; RE"+4" 00,00,00,04
18037 00003336 65F6                   M           MOV.L   @R15+,R5        ;
18038                                 M           POP_REG1        R4      ;
18039                                 M                                   ; RE"+4" 00,00,00,04
18040 00003338 64F6                   M           MOV.L   @R15+,R4        ;
18041                                 M           POP_REG1        R3      ;
18042                                 M                                   ; RE"+4" 00,00,00,04
18043 0000333A 63F6                   M           MOV.L   @R15+,R3        ;
18044                                 M           POP_REG1        R2      ;
18045                                 M                                   ; RE"+4" 00,00,00,04
18046 0000333C 62F6                   M           MOV.L   @R15+,R2        ;
18047                                 M           POP_REG1        R1      ;
18048                                 M                                   ; RE"+4" 00,00,00,04
18049 0000333E 61F6                   M           MOV.L   @R15+,R1        ;
18050                                 M           POP_REG1        R0      ;
18051                                 M                                   ; RE"+4" 00,00,00,04
18052 00003340 60F6                   M           MOV.L   @R15+,R0        ;
18053                            5743             SUB_END
18054                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18055 00003342 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18056                            5744             M_RTS
18057 00003344 000B                   M           RTS                             ;RTSの後ろの
18058 00003346 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18059                            5745     
18060                            5746     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   216
PROGRAM NAME =

18061                            5747     ;       ***                             ***
18062                            5748     ;       ***     急停止                  ***
18063                            5749     ;       ***                             ***
18064                            5750     ;       ***********************************
18065                                     ***** BEGIN-POOL *****
18066 00003348 00000000                   DATA FOR SOURCE-LINE 5739
18067                                     ***** END-POOL *****
18068 0000334C                   5751             .ALIGN  4                               ;
18069 0000334C                   5752     _POS_LSI_EMG_STOP                       ;急停止
18070                            5753             SUB_START
18071 0000334C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18072                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18073                            5754     
18074                            5755             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
18075 0000334E D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18076 00003350 400B                   M           JSR     @R0                     ;
18077 00003352 0009                   M           NOP                                     ;
18078                            5756     
18079                            5757             FAR_JSR #_LOD_POS_STS_REG,R0
18080 00003354 D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18081 00003356 400B                   M           JSR     @R0                     ;
18082 00003358 0009                   M           NOP                                     ;
18083 0000335A C804              5758             TST     #BIT2,R0                ;
18084                            5759             TST_BIT_ON POS_LSI_EMGSTOP_END
18085 0000335C 8B05                   M           BF      POS_LSI_EMGSTOP_END
18086                            5760     
18087                            5761             .AIF    1 EQ 1          ;2006-09-19
18088                            5762 C           FAR_JSR #_SPD_CTL_EMG_STOP,R0                           ;
18089 0000335E D006                   M           MOV.L   #_SPD_CTL_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18090 00003360 400B                   M           JSR     @R0                     ;
18091 00003362 0009                   M           NOP                                     ;
18092                            5763 C           FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
18093 00003364 D005                   M           MOV.L   #_POS_LSI_EMG_STOP_CMD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18094 00003366 400B                   M           JSR     @R0                     ;
18095 00003368 0009                   M           NOP                                     ;
18096                            5764 C   
18097                            5765             .AELSE
18098                            5766             FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
18099                            5767             .AENDI
18100                            5768     
18101 0000336A                   5769     POS_LSI_EMGSTOP_END:
18102                            5770     
18103                            5771             SUB_END
18104                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18105 0000336A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18106                            5772             M_RTS
18107 0000336C 000B                   M           RTS                             ;RTSの後ろの
18108 0000336E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18109                            5773     ;       ***********************************
18110                            5774     ;       ***                             ***
18111                            5775     ;       ***     減速停止                ***
18112                            5776     ;       ***                             ***
18113                            5777     ;       ***********************************
18114                                     ***** BEGIN-POOL *****
18115 00003370 00000000                   DATA FOR SOURCE-LINE 5755
18116 00003374 00000000                   DATA FOR SOURCE-LINE 5757
18117 00003378 00000000                   DATA FOR SOURCE-LINE 5762
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   217
PROGRAM NAME =

18118 0000337C 00000000                   DATA FOR SOURCE-LINE 5763
18119                                     ***** END-POOL *****
18120 00003380                   5778             .ALIGN  4                               ;
18121 00003380                   5779     _POS_LSI_SLOW_STOP                      ;急停止
18122                            5780             SUB_START
18123 00003380 4F22                   M           STS.L   PR,@-R15                ;[必要]
18124                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18125                            5781     
18126                            5782             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
18127 00003382 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18128 00003384 400B                   M           JSR     @R0                     ;
18129 00003386 0009                   M           NOP                                     ;
18130                            5783     
18131                            5784             FAR_JSR #_LOD_POS_STS_REG,R0
18132 00003388 D006                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18133 0000338A 400B                   M           JSR     @R0                     ;
18134 0000338C 0009                   M           NOP                                     ;
18135 0000338E C804              5785             TST     #BIT2,R0                        ;
18136                            5786             TST_BIT_ON POS_LSI_SLWSTOP_END
18137 00003390 8B02                   M           BF      POS_LSI_SLWSTOP_END
18138                            5787     
18139                            5788             .AIF    1 EQ 1          ;2006-09-19
18140                            5789 C           FAR_JSR #_SPD_CTL_SLOW_STOP,R0          ;
18141 00003392 D005                   M           MOV.L   #_SPD_CTL_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18142 00003394 400B                   M           JSR     @R0                     ;
18143 00003396 0009                   M           NOP                                     ;
18144                            5790             .AELSE
18145                            5791             FAR_JSR #_POS_LSI_SLOW_STOP_CMD,R0      ;
18146                            5792             .AENDI
18147                            5793     
18148                            5794     
18149 00003398                   5795     POS_LSI_SLWSTOP_END:
18150                            5796     
18151                            5797             SUB_END
18152                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18153 00003398 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18154                            5798             M_RTS
18155 0000339A 000B                   M           RTS                             ;RTSの後ろの
18156 0000339C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18157                            5799     
18158                            5800     ;       ---------------------------------------------------
18159                            5801     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
18160                            5802     ;       ---     EMG                                     ---
18161                            5803     ;       ---------------------------------------------------
18162                                     ***** BEGIN-POOL *****
18163 0000339E 0000                       ALIGNMENT CODE
18164 000033A0 00000000                   DATA FOR SOURCE-LINE 5782
18165 000033A4 00000000                   DATA FOR SOURCE-LINE 5784
18166 000033A8 00000000                   DATA FOR SOURCE-LINE 5789
18167                                     ***** END-POOL *****
18168 000033AC                   5804             .ALIGN  4                               ;
18169 000033AC                   5805     _POS_LSI_EMG_STOP_CMD:
18170                            5806             SUB_START
18171 000033AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
18172                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18173 000033AE D417              5807             MOV.L   #(BIT11*H'10000),R4                                     ;
18174                            5808             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   218
PROGRAM NAME =

18175 000033B0 D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18176 000033B2 6562                   M           MOV.L   @R6,R5                                          ;
18177 000033B4 254B                   M           OR      R4,R5                                           ;
18178 000033B6 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18179                                 M   
18180 000033B8 D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18181                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18182 000033BA 6559                   M           SWAP.W  R5,R5                           ;
18183                                 M   
18184 000033BC 2651                   M           MOV.W   R5,@R6
18185 000033BE 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18186 000033C0 6559                   M           SWAP.W  R5,R5                           ;
18187                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18188                                 M           PUSH_REG1 R0
18189 000033C2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18190                                 M                                           ;REG=>[SP]
18191                                 M                                           ;"-4" FF,FF,FF,FC
18192 000033C4 D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18193 000033C6 6001                   M           MOV.W   @R0,R0
18194                                 M           POP_REG1 R0
18195                                 M                                   ; RE"+4" 00,00,00,04
18196 000033C8 60F6                   M           MOV.L   @R15+,R0        ;
18197 000033CA 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18198                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18199                                 M           PUSH_REG1 R0
18200 000033CC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18201                                 M                                           ;REG=>[SP]
18202                                 M                                           ;"-4" FF,FF,FF,FC
18203 000033CE D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18204 000033D0 6001                   M           MOV.W   @R0,R0
18205                                 M           POP_REG1 R0
18206                                 M                                   ; RE"+4" 00,00,00,04
18207 000033D2 60F6                   M           MOV.L   @R15+,R0        ;
18208 000033D4 0009              5809             NOP
18209                            5810             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
18210 000033D6 D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18211 000033D8 400B                   M           JSR     @R0                     ;
18212 000033DA 0009                   M           NOP                                     ;
18213 000033DC 0009              5811             NOP
18214 000033DE D410              5812             MOV.L   #~(BIT11*H'10000),R4            ;
18215                            5813             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18216 000033E0 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18217 000033E2 6562                   M           MOV.L   @R6,R5                                          ;
18218 000033E4 2549                   M           AND     R4,R5                                           ;
18219 000033E6 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18220                                 M   
18221 000033E8 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18222                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18223 000033EA 6559                   M           SWAP.W  R5,R5                           ;
18224                                 M   
18225 000033EC 2651                   M           MOV.W   R5,@R6
18226 000033EE 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18227 000033F0 6559                   M           SWAP.W  R5,R5                           ;
18228                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18229                                 M           PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   219
PROGRAM NAME =

18230 000033F2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18231                                 M                                           ;REG=>[SP]
18232                                 M                                           ;"-4" FF,FF,FF,FC
18233 000033F4 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18234 000033F6 6001                   M           MOV.W   @R0,R0
18235                                 M           POP_REG1 R0
18236                                 M                                   ; RE"+4" 00,00,00,04
18237 000033F8 60F6                   M           MOV.L   @R15+,R0        ;
18238 000033FA 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18239                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18240                                 M           PUSH_REG1 R0
18241 000033FC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18242                                 M                                           ;REG=>[SP]
18243                                 M                                           ;"-4" FF,FF,FF,FC
18244 000033FE D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18245 00003400 6001                   M           MOV.W   @R0,R0
18246                                 M           POP_REG1 R0
18247                                 M                                   ; RE"+4" 00,00,00,04
18248 00003402 60F6                   M           MOV.L   @R15+,R0        ;
18249                            5814             SUB_END
18250                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18251 00003404 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18252                            5815             M_RTS
18253 00003406 000B                   M           RTS                             ;RTSの後ろの
18254 00003408 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18255                            5816     
18256                            5817     ;       ---------------------------------------------------
18257                            5818     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
18258                            5819     ;       ---     SLOW                                    ---
18259                            5820     ;       ---------------------------------------------------
18260                                     ***** BEGIN-POOL *****
18261 0000340A 0000                       ALIGNMENT CODE
18262 0000340C 08000000                   DATA FOR SOURCE-LINE 5807
18263 00003410 00000000                   DATA FOR SOURCE-LINE 5808,5813
18264 00003414 00000000                   DATA FOR SOURCE-LINE 5808,5813
18265 00003418 00000000                   DATA FOR SOURCE-LINE 5808,5808,5813,5813
18266 0000341C 00000000                   DATA FOR SOURCE-LINE 5810
18267 00003420 F7FFFFFF                   DATA FOR SOURCE-LINE 5812
18268                                     ***** END-POOL *****
18269 00003424                   5821             .ALIGN  4                               ;
18270 00003424                   5822     _POS_LSI_SLOW_STOP_CMD
18271                            5823             SUB_START
18272 00003424 4F22                   M           STS.L   PR,@-R15                ;[必要]
18273                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18274 00003426 D417              5824             MOV.L   #(BIT10*H'10000),R4             ;
18275                            5825             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18276 00003428 D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18277 0000342A 6562                   M           MOV.L   @R6,R5                                          ;
18278 0000342C 254B                   M           OR      R4,R5                                           ;
18279 0000342E 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18280                                 M   
18281 00003430 D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18282                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18283 00003432 6559                   M           SWAP.W  R5,R5                           ;
18284                                 M   
18285 00003434 2651                   M           MOV.W   R5,@R6
18286 00003436 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   220
PROGRAM NAME =

                                          SAVE
18287 00003438 6559                   M           SWAP.W  R5,R5                           ;
18288                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18289                                 M           PUSH_REG1 R0
18290 0000343A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18291                                 M                                           ;REG=>[SP]
18292                                 M                                           ;"-4" FF,FF,FF,FC
18293 0000343C D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18294 0000343E 6001                   M           MOV.W   @R0,R0
18295                                 M           POP_REG1 R0
18296                                 M                                   ; RE"+4" 00,00,00,04
18297 00003440 60F6                   M           MOV.L   @R15+,R0        ;
18298 00003442 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18299                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18300                                 M           PUSH_REG1 R0
18301 00003444 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18302                                 M                                           ;REG=>[SP]
18303                                 M                                           ;"-4" FF,FF,FF,FC
18304 00003446 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18305 00003448 6001                   M           MOV.W   @R0,R0
18306                                 M           POP_REG1 R0
18307                                 M                                   ; RE"+4" 00,00,00,04
18308 0000344A 60F6                   M           MOV.L   @R15+,R0        ;
18309 0000344C 0009              5826             NOP
18310                            5827             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
18311 0000344E D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18312 00003450 400B                   M           JSR     @R0                     ;
18313 00003452 0009                   M           NOP                                     ;
18314 00003454 0009              5828             NOP
18315 00003456 D410              5829             MOV.L   #~(BIT10*H'10000),R4            ;
18316                            5830             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18317 00003458 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18318 0000345A 6562                   M           MOV.L   @R6,R5                                          ;
18319 0000345C 2549                   M           AND     R4,R5                                           ;
18320 0000345E 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18321                                 M   
18322 00003460 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18323                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18324 00003462 6559                   M           SWAP.W  R5,R5                           ;
18325                                 M   
18326 00003464 2651                   M           MOV.W   R5,@R6
18327 00003466 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18328 00003468 6559                   M           SWAP.W  R5,R5                           ;
18329                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18330                                 M           PUSH_REG1 R0
18331 0000346A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18332                                 M                                           ;REG=>[SP]
18333                                 M                                           ;"-4" FF,FF,FF,FC
18334 0000346C D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18335 0000346E 6001                   M           MOV.W   @R0,R0
18336                                 M           POP_REG1 R0
18337                                 M                                   ; RE"+4" 00,00,00,04
18338 00003470 60F6                   M           MOV.L   @R15+,R0        ;
18339 00003472 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18340                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18341                                 M           PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   221
PROGRAM NAME =

18342 00003474 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18343                                 M                                           ;REG=>[SP]
18344                                 M                                           ;"-4" FF,FF,FF,FC
18345 00003476 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18346 00003478 6001                   M           MOV.W   @R0,R0
18347                                 M           POP_REG1 R0
18348                                 M                                   ; RE"+4" 00,00,00,04
18349 0000347A 60F6                   M           MOV.L   @R15+,R0        ;
18350                            5831     
18351                            5832             SUB_END
18352                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18353 0000347C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18354                            5833             M_RTS
18355 0000347E 000B                   M           RTS                             ;RTSの後ろの
18356 00003480 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18357                            5834     
18358                            5835     ;       ***********************************
18359                            5836     ;       ***                             ***
18360                            5837     ;       ***     速度変更有効            ***
18361                            5838     ;       ***                             ***
18362                            5839     ;       ***********************************
18363                            5840     
18364                            5841     
18365                            5842     ;       ***********************************
18366                            5843     ;       ***                             ***
18367                            5844     ;       ***     起動                    ***
18368                            5845     ;       ***                             ***
18369                            5846     ;       ***********************************
18370                            5847     
18371                                     ***** BEGIN-POOL *****
18372 00003482 0000                       ALIGNMENT CODE
18373 00003484 04000000                   DATA FOR SOURCE-LINE 5824
18374 00003488 00000000                   DATA FOR SOURCE-LINE 5825,5830
18375 0000348C 00000000                   DATA FOR SOURCE-LINE 5825,5830
18376 00003490 00000000                   DATA FOR SOURCE-LINE 5825,5825,5830,5830
18377 00003494 00000000                   DATA FOR SOURCE-LINE 5827
18378 00003498 FBFFFFFF                   DATA FOR SOURCE-LINE 5829
18379                                     ***** END-POOL *****
18380 0000349C                   5848             .ALIGN  4                               ;
18381 0000349C                   5849     _FWD_REV_START:
18382                            5850             SUB_START
18383 0000349C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18384                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18385                            5851             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
18386 0000349E D025                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18387 000034A0 400B                   M           JSR     @R0                     ;
18388 000034A2 0009                   M           NOP                                     ;
18389                            5852     
18390 000034A4 D124              5853             MOV.L   #_POSLSI_DRIV_SHIN,R1
18391 000034A6 6011              5854             MOV.W   @R1,R0                                          ;
18392 000034A8 D324              5855             MOV.L   #(BIT3*H'10000),R3                              ;
18393 000034AA 244A              5856             XOR     R4,R4                                           ;
18394 000034AC C801              5857             TST     #BIT0,R0                                        ;
18395                            5858             TST_BIT_OF FWD_REV_STR_050                              ;
18396 000034AE 8900                   M           BT      FWD_REV_STR_050
18397 000034B0 6433              5859             MOV     R3,R4                                           ;
18398 000034B2                   5860     FWD_REV_STR_050:                                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   222
PROGRAM NAME =

18399                            5861     ;       =============================
18400 000034B2 D123              5862             MOV.L   #_SVP_MACINE_SEL1,R1                            ;
18401 000034B4 6011              5863             MOV.W   @R1,R0                                          ;
18402 000034B6 913B              5864             MOV.W   #D'8765,R1                                      ;
18403 000034B8 3010              5865             CMP/EQ  R1,R0                                           ;
18404 000034BA 8B01              5866             BF      FWD_REV_STR_055                                 ;
18405 000034BC D01F              5867             MOV.L   #_DBG_XOR_SIG,R0                                ;
18406 000034BE 240A              5868             XOR     R0,R4                                           ;
18407 000034C0                   5869     FWD_REV_STR_055:                                                ;
18408                            5870     
18409                            5871     ;       ==方向選択==
18410                            5872             POS_LSI_BIT_MOV_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
18411 000034C0 D620                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18412 000034C2 6562                   M           MOV.L   @R6,R5                                          ;
18413 000034C4 6337                   M           NOT     R3,R3                                           ;
18414 000034C6 2539                   M           AND     R3,R5                                           ;
18415 000034C8 254B                   M           OR      R4,R5                                           ;
18416 000034CA 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18417                                 M   
18418 000034CC D61E                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18419                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18420 000034CE 6559                   M           SWAP.W  R5,R5                           ;
18421                                 M   
18422 000034D0 2651                   M           MOV.W   R5,@R6
18423 000034D2 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18424 000034D4 6559                   M           SWAP.W  R5,R5                           ;
18425                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18426                                 M           PUSH_REG1 R0
18427 000034D6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18428                                 M                                           ;REG=>[SP]
18429                                 M                                           ;"-4" FF,FF,FF,FC
18430 000034D8 D01C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18431 000034DA 6001                   M           MOV.W   @R0,R0
18432                                 M           POP_REG1 R0
18433                                 M                                   ; RE"+4" 00,00,00,04
18434 000034DC 60F6                   M           MOV.L   @R15+,R0        ;
18435 000034DE 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18436                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18437                                 M           PUSH_REG1 R0
18438 000034E0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18439                                 M                                           ;REG=>[SP]
18440                                 M                                           ;"-4" FF,FF,FF,FC
18441 000034E2 D01A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18442 000034E4 6001                   M           MOV.W   @R0,R0
18443                                 M           POP_REG1 R0
18444                                 M                                   ; RE"+4" 00,00,00,04
18445 000034E6 60F6                   M           MOV.L   @R15+,R0        ;
18446                            5873             POS_LSI_WORD_DUM_LOD                                                    ;
18447                                 M           PUSH_REG1 R0
18448 000034E8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18449                                 M                                           ;REG=>[SP]
18450                                 M                                           ;"-4" FF,FF,FF,FC
18451 000034EA D018                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18452 000034EC 6001                   M           MOV.W   @R0,R0
18453                                 M           POP_REG1 R0
18454                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   223
PROGRAM NAME =

18455 000034EE 60F6                   M           MOV.L   @R15+,R0        ;
18456                            5874     
18457                            5875     ;       == 起動 ===                                                             ;
18458 000034F0 D417              5876             MOV.L   #(BIT2*H'10000),R4                                              ;
18459                            5877             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;;起動 ONｴ
                                          ｯｼﾞ
18460 000034F2 D614                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18461 000034F4 6562                   M           MOV.L   @R6,R5                                          ;
18462 000034F6 254B                   M           OR      R4,R5                                           ;
18463 000034F8 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18464                                 M   
18465 000034FA D613                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18466                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18467 000034FC 6559                   M           SWAP.W  R5,R5                           ;
18468                                 M   
18469 000034FE 2651                   M           MOV.W   R5,@R6
18470 00003500 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18471 00003502 6559                   M           SWAP.W  R5,R5                           ;
18472                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18473                                 M           PUSH_REG1 R0
18474 00003504 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18475                                 M                                           ;REG=>[SP]
18476                                 M                                           ;"-4" FF,FF,FF,FC
18477 00003506 D011                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18478 00003508 6001                   M           MOV.W   @R0,R0
18479                                 M           POP_REG1 R0
18480                                 M                                   ; RE"+4" 00,00,00,04
18481 0000350A 60F6                   M           MOV.L   @R15+,R0        ;
18482 0000350C 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18483                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18484                                 M           PUSH_REG1 R0
18485 0000350E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18486                                 M                                           ;REG=>[SP]
18487                                 M                                           ;"-4" FF,FF,FF,FC
18488 00003510 D00E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18489 00003512 6001                   M           MOV.W   @R0,R0
18490                                 M           POP_REG1 R0
18491                                 M                                   ; RE"+4" 00,00,00,04
18492 00003514 60F6                   M           MOV.L   @R15+,R0        ;
18493                            5878             POS_LSI_WORD_DUM_LOD                                                    ;
18494                                 M           PUSH_REG1 R0
18495 00003516 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18496                                 M                                           ;REG=>[SP]
18497                                 M                                           ;"-4" FF,FF,FF,FC
18498 00003518 D00C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18499 0000351A 6001                   M           MOV.W   @R0,R0
18500                                 M           POP_REG1 R0
18501                                 M                                   ; RE"+4" 00,00,00,04
18502 0000351C 60F6                   M           MOV.L   @R15+,R0        ;
18503                            5879     
18504                            5880             FAR_JSR #_SPD_CTL_START,R0
18505 0000351E D00D                   M           MOV.L   #_SPD_CTL_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18506 00003520 400B                   M           JSR     @R0                     ;
18507 00003522 0009                   M           NOP                                     ;
18508                            5881     
18509                            5882     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   224
PROGRAM NAME =

18510                            5883             .AIF    0 EQ    0
18511                            5884 C   
18512                            5885 C           FAR_JSR #_VIB_PLS_OUT_ON,R0     ;2010-08-23加振動制御
18513 00003524 D00C                   M           MOV.L   #_VIB_PLS_OUT_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18514 00003526 400B                   M           JSR     @R0                     ;
18515 00003528 0009                   M           NOP                                     ;
18516                            5886             .AENDI
18517                            5887     
18518                            5888     
18519                            5889     
18520                            5890     
18521                            5891             SUB_END
18522                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18523 0000352A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18524                            5892             M_RTS
18525 0000352C 000B                   M           RTS                             ;RTSの後ろの
18526 0000352E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18527                            5893     
18528                            5894     ;       ==== 起動信号OFF ====
18529                                     ***** BEGIN-POOL *****
18530 00003530 223D                       DATA FOR SOURCE-LINE 5864
18531 00003532 0000                       ALIGNMENT CODE
18532 00003534 00000000                   DATA FOR SOURCE-LINE 5851
18533 00003538 00000000                   DATA FOR SOURCE-LINE 5853
18534 0000353C 00080000                   DATA FOR SOURCE-LINE 5855,5867
18535 00003540 00000000                   DATA FOR SOURCE-LINE 5862
18536 00003544 00000000                   DATA FOR SOURCE-LINE 5872,5877
18537 00003548 00000000                   DATA FOR SOURCE-LINE 5872,5877
18538 0000354C 00000000                   DATA FOR SOURCE-LINE 5872,5872,5873,5877,5877,5878
18539 00003550 00040000                   DATA FOR SOURCE-LINE 5876
18540 00003554 00000000                   DATA FOR SOURCE-LINE 5880
18541 00003558 00000000                   DATA FOR SOURCE-LINE 5885
18542                                     ***** END-POOL *****
18543 0000355C                   5895             .ALIGN  4                               ;
18544 0000355C                   5896     _FWD_REV_STSIG_OFF:
18545                            5897             SUB_START
18546 0000355C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18547                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18548 0000355E D40B              5898             MOV.L   #~(BIT2*H'10000),R4             ;
18549                            5899             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18550 00003560 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18551 00003562 6562                   M           MOV.L   @R6,R5                                          ;
18552 00003564 2549                   M           AND     R4,R5                                           ;
18553 00003566 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18554                                 M   
18555 00003568 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18556                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18557 0000356A 6559                   M           SWAP.W  R5,R5                           ;
18558                                 M   
18559 0000356C 2651                   M           MOV.W   R5,@R6
18560 0000356E 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18561 00003570 6559                   M           SWAP.W  R5,R5                           ;
18562                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18563                                 M           PUSH_REG1 R0
18564 00003572 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18565                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   225
PROGRAM NAME =

18566                                 M                                           ;"-4" FF,FF,FF,FC
18567 00003574 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18568 00003576 6001                   M           MOV.W   @R0,R0
18569                                 M           POP_REG1 R0
18570                                 M                                   ; RE"+4" 00,00,00,04
18571 00003578 60F6                   M           MOV.L   @R15+,R0        ;
18572 0000357A 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18573                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18574                                 M           PUSH_REG1 R0
18575 0000357C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18576                                 M                                           ;REG=>[SP]
18577                                 M                                           ;"-4" FF,FF,FF,FC
18578 0000357E D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18579 00003580 6001                   M           MOV.W   @R0,R0
18580                                 M           POP_REG1 R0
18581                                 M                                   ; RE"+4" 00,00,00,04
18582 00003582 60F6                   M           MOV.L   @R15+,R0        ;
18583                            5900             SUB_END
18584                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18585 00003584 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18586                            5901             M_RTS
18587 00003586 000B                   M           RTS                             ;RTSの後ろの
18588 00003588 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18589                            5902     
18590                            5903     ;       =====================
18591                            5904     ;       ==== 起動信号OFF ====
18592                            5905     ;       =====================
18593                            5906     ;       残ﾊﾟﾙｽがなくなってから指令OFF
18594                                     ***** BEGIN-POOL *****
18595 0000358A 0000                       ALIGNMENT CODE
18596 0000358C FFFBFFFF                   DATA FOR SOURCE-LINE 5898
18597 00003590 00000000                   DATA FOR SOURCE-LINE 5899
18598 00003594 00000000                   DATA FOR SOURCE-LINE 5899
18599 00003598 00000000                   DATA FOR SOURCE-LINE 5899,5899
18600                                     ***** END-POOL *****
18601 0000359C                   5907             .ALIGN  4                               ;
18602 0000359C                   5908     _FWD_REV_STSIG_OFF_SPEC:
18603                            5909             SUB_START
18604 0000359C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18605                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18606                            5910             PUSH_REG1 R0
18607 0000359E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18608                                 M                                           ;REG=>[SP]
18609                                 M                                           ;"-4" FF,FF,FF,FC
18610                            5911             FAR_JSR #_LOAD_REST_PLS,R0
18611 000035A0 D00E                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18612 000035A2 400B                   M           JSR     @R0                     ;
18613 000035A4 0009                   M           NOP                                     ;
18614 000035A6 6103              5912             MOV     R0,R1                                           ;
18615                            5913             POP_REG1 R0
18616                                 M                                   ; RE"+4" 00,00,00,04
18617 000035A8 60F6                   M           MOV.L   @R15+,R0        ;
18618                            5914     
18619 000035AA 2118              5915             TST     R1,R1                           ;
18620                            5916             TST_BIT_ON FWD_REV_STSIG_OFSPEC_050     ;
18621 000035AC 8B12                   M           BF      FWD_REV_STSIG_OFSPEC_050
18622 000035AE D40C              5917             MOV.L   #~(BIT2*H'10000),R4             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   226
PROGRAM NAME =

18623                            5918             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18624 000035B0 D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18625 000035B2 6562                   M           MOV.L   @R6,R5                                          ;
18626 000035B4 2549                   M           AND     R4,R5                                           ;
18627 000035B6 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18628                                 M   
18629 000035B8 D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18630                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18631 000035BA 6559                   M           SWAP.W  R5,R5                           ;
18632                                 M   
18633 000035BC 2651                   M           MOV.W   R5,@R6
18634 000035BE 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18635 000035C0 6559                   M           SWAP.W  R5,R5                           ;
18636                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18637                                 M           PUSH_REG1 R0
18638 000035C2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18639                                 M                                           ;REG=>[SP]
18640                                 M                                           ;"-4" FF,FF,FF,FC
18641 000035C4 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18642 000035C6 6001                   M           MOV.W   @R0,R0
18643                                 M           POP_REG1 R0
18644                                 M                                   ; RE"+4" 00,00,00,04
18645 000035C8 60F6                   M           MOV.L   @R15+,R0        ;
18646 000035CA 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18647                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18648                                 M           PUSH_REG1 R0
18649 000035CC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18650                                 M                                           ;REG=>[SP]
18651                                 M                                           ;"-4" FF,FF,FF,FC
18652 000035CE D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18653 000035D0 6001                   M           MOV.W   @R0,R0
18654                                 M           POP_REG1 R0
18655                                 M                                   ; RE"+4" 00,00,00,04
18656 000035D2 60F6                   M           MOV.L   @R15+,R0        ;
18657 000035D4                   5919     FWD_REV_STSIG_OFSPEC_050:
18658                            5920             SUB_END
18659                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18660 000035D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18661                            5921             M_RTS
18662 000035D6 000B                   M           RTS                             ;RTSの後ろの
18663 000035D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18664                            5922     
18665                            5923     ;       ***********************************
18666                            5924     ;       ***     ｽﾃｰﾀｽLOAD               ***
18667                            5925     ;       ***********************************
18668                            5926     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
18669                                     ***** BEGIN-POOL *****
18670 000035DA 0000                       ALIGNMENT CODE
18671 000035DC 00000000                   DATA FOR SOURCE-LINE 5911
18672 000035E0 FFFBFFFF                   DATA FOR SOURCE-LINE 5917
18673 000035E4 00000000                   DATA FOR SOURCE-LINE 5918
18674 000035E8 00000000                   DATA FOR SOURCE-LINE 5918
18675 000035EC 00000000                   DATA FOR SOURCE-LINE 5918,5918
18676                                     ***** END-POOL *****
18677 000035F0                   5927             .ALIGN  4                               ;
18678 000035F0                   5928     _LOD_POS_STS_REG:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   227
PROGRAM NAME =

18679                            5929             SUB_START
18680 000035F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18681                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18682                            5930             PUSH_REG1 R2
18683 000035F2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18684                                 M                                           ;REG=>[SP]
18685                                 M                                           ;"-4" FF,FF,FF,FC
18686                            5931     
18687                            5932             FAR_JSR #_LOD_POS_STS_REG_IN,R0 ;ANS R0
18688 000035F4 D003                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18689 000035F6 400B                   M           JSR     @R0                     ;
18690 000035F8 0009                   M           NOP                                     ;
18691                            5933     
18692                            5934             POP_REG1 R2
18693                                 M                                   ; RE"+4" 00,00,00,04
18694 000035FA 62F6                   M           MOV.L   @R15+,R2        ;
18695                            5935             SUB_END
18696                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18697 000035FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18698                            5936             M_RTS
18699 000035FE 000B                   M           RTS                             ;RTSの後ろの
18700 00003600 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18701                            5937     
18702                            5938     
18703                            5939     ;       ***********************************
18704                            5940     ;       ***     ｽﾃｰﾀｽLOAD               ***
18705                            5941     ;       ***********************************
18706                            5942     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
18707                                     ***** BEGIN-POOL *****
18708 00003602 0000                       ALIGNMENT CODE
18709 00003604 00000000                   DATA FOR SOURCE-LINE 5932
18710                                     ***** END-POOL *****
18711 00003608                   5943             .ALIGN  4                               ;
18712 00003608                   5944     _LOD_POS_STS_REG_POR:
18713 00003608                   5945     _LOD_POS_STS_REG_SLOW:
18714                            5946             SUB_START
18715 00003608 4F22                   M           STS.L   PR,@-R15                ;[必要]
18716                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18717                            5947             PUSH_REG1 R2
18718 0000360A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18719                                 M                                           ;REG=>[SP]
18720                                 M                                           ;"-4" FF,FF,FF,FC
18721                            5948     
18722                            5949             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;ANS R0
18723 0000360C D007                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18724 0000360E 400B                   M           JSR     @R0                     ;
18725 00003610 0009                   M           NOP                                     ;
18726 00003612 C804              5950             TST     #BIT2,R0                        ;
18727                            5951             TST_BIT_ON LOD_POS_STS_REGSLOW_END      ;
18728 00003614 8B05                   M           BF      LOD_POS_STS_REGSLOW_END
18729 00003616 D206              5952             MOV.L   #_POSCTL_STEP_FLG,R2            ;
18730 00003618 6421              5953             MOV.W   @R2,R4                          ;
18731 0000361A 9206              5954             MOV.W   #BIT6,R2                        ;
18732 0000361C 2428              5955             TST     R2,R4                           ;
18733                            5956             TST_BIT_OF LOD_POS_STS_REGSLOW_END      ;
18734 0000361E 8900                   M           BT      LOD_POS_STS_REGSLOW_END
18735 00003620 CB04              5957             OR      #BIT2,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   228
PROGRAM NAME =

18736                            5958     
18737 00003622                   5959     LOD_POS_STS_REGSLOW_END:
18738                            5960             POP_REG1 R2
18739                                 M                                   ; RE"+4" 00,00,00,04
18740 00003622 62F6                   M           MOV.L   @R15+,R2        ;
18741                            5961             SUB_END
18742                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18743 00003624 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18744                            5962             M_RTS
18745 00003626 000B                   M           RTS                             ;RTSの後ろの
18746 00003628 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18747                            5963     
18748                            5964     
18749                            5965     
18750                            5966     ;       ***********************************
18751                            5967     ;       ***     ｽﾃｰﾀｽLOAD               ***
18752                            5968     ;       ***********************************
18753                            5969     ;       R0 BIT2=1 STOP
18754                                     ***** BEGIN-POOL *****
18755 0000362A 0040                       DATA FOR SOURCE-LINE 5954
18756 0000362C 00000000                   DATA FOR SOURCE-LINE 5949
18757 00003630 00000000                   DATA FOR SOURCE-LINE 5952
18758                                     ***** END-POOL *****
18759 00003634                   5970             .ALIGN  4                               ;
18760 00003634                   5971     _LOD_POS_STS_REG_IN:
18761                            5972             SUB_START
18762 00003634 4F22                   M           STS.L   PR,@-R15                ;[必要]
18763                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18764                            5973             PUSH_REG1 R2
18765 00003636 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18766                                 M                                           ;REG=>[SP]
18767                                 M                                           ;"-4" FF,FF,FF,FC
18768                            5974     
18769 00003638 D413              5975             MOV.L   #(BIT2*H'10000),R4
18770 0000363A                   5976     LOD_POS_STSRG00:
18771                            5977             POS_LSI_WORD_DUM_LOD                                    ;
18772                                 M           PUSH_REG1 R0
18773 0000363A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18774                                 M                                           ;REG=>[SP]
18775                                 M                                           ;"-4" FF,FF,FF,FC
18776 0000363C D013                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18777 0000363E 6001                   M           MOV.W   @R0,R0
18778                                 M           POP_REG1 R0
18779                                 M                                   ; RE"+4" 00,00,00,04
18780 00003640 60F6                   M           MOV.L   @R15+,R0        ;
18781 00003642 D613              5978             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
18782 00003644 6065              5979             MOV.W   @R6+,R0                                         ;BIT1:指令ﾊﾟﾙｽ BIT2:ﾊﾟﾙｽ払
                                          出停止中
18783                            5980                                                                     ;BIT2で判断する
18784                            5981             POS_LSI_WORD_DUM_LOD                                    ;
18785                                 M           PUSH_REG1 R0
18786 00003646 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18787                                 M                                           ;REG=>[SP]
18788                                 M                                           ;"-4" FF,FF,FF,FC
18789 00003648 D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18790 0000364A 6001                   M           MOV.W   @R0,R0
18791                                 M           POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   229
PROGRAM NAME =

18792                                 M                                   ; RE"+4" 00,00,00,04
18793 0000364C 60F6                   M           MOV.L   @R15+,R0        ;
18794 0000364E 6261              5982             MOV.W   @R6,R2                                          ;
18795 00003650 600D              5983             EXTU.W  R0,R0                                           ;LOW
18796 00003652 622D              5984             EXTU.W  R2,R2                                           ;HIGH
18797 00003654 4228              5985             SHLL16  R2
18798 00003656 202B              5986             OR      R2,R0                                           ;
18799 00003658 0009              5987             NOP
18800                            5988             POS_LSI_WORD_DUM_LOD                                    ;
18801                                 M           PUSH_REG1 R0
18802 0000365A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18803                                 M                                           ;REG=>[SP]
18804                                 M                                           ;"-4" FF,FF,FF,FC
18805 0000365C D00B                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18806 0000365E 6001                   M           MOV.W   @R0,R0
18807                                 M           POP_REG1 R0
18808                                 M                                   ; RE"+4" 00,00,00,04
18809 00003660 60F6                   M           MOV.L   @R15+,R0        ;
18810 00003662 D60B              5989             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
18811 00003664 6165              5990             MOV.W   @R6+,R1                                         ;
18812                            5991             POS_LSI_WORD_DUM_LOD                                    ;
18813                                 M           PUSH_REG1 R0
18814 00003666 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18815                                 M                                           ;REG=>[SP]
18816                                 M                                           ;"-4" FF,FF,FF,FC
18817 00003668 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18818 0000366A 6001                   M           MOV.W   @R0,R0
18819                                 M           POP_REG1 R0
18820                                 M                                   ; RE"+4" 00,00,00,04
18821 0000366C 60F6                   M           MOV.L   @R15+,R0        ;
18822 0000366E 6261              5992             MOV.W   @R6,R2                                          ;
18823 00003670 611D              5993             EXTU.W  R1,R1                                           ;LOW
18824 00003672 622D              5994             EXTU.W  R2,R2                                           ;HIGH
18825 00003674 4228              5995             SHLL16  R2                                              ;
18826 00003676 212B              5996             OR      R2,R1                                           ;
18827                            5997     
18828 00003678 201A              5998             XOR     R1,R0                                           ;
18829 0000367A 2048              5999             TST     R4,R0                                           ;
18830                            6000             TST_BIT_ON LOD_POS_STSRG00                              ;R0=R1
18831 0000367C 8BDD                   M           BF      LOD_POS_STSRG00
18832 0000367E 6013              6001             MOV     R1,R0                                           ;BIT2
18833                            6002     
18834                            6003             POP_REG1 R2
18835                                 M                                   ; RE"+4" 00,00,00,04
18836 00003680 62F6                   M           MOV.L   @R15+,R2        ;
18837                            6004             SUB_END
18838                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18839 00003682 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18840                            6005             M_RTS
18841 00003684 000B                   M           RTS                             ;RTSの後ろの
18842 00003686 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18843                            6006     
18844                            6007     
18845                            6008     
18846                            6009     
18847                            6010     
18848                            6011     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   230
PROGRAM NAME =

18849                            6012     ;       ***     現在位置ｶｳﾝﾀLOAD        ***
18850                            6013     ;       ***********************************
18851                            6014             .EXPORT _POS_LSI_CNT_LOAD_R1reg
18852                                     ***** BEGIN-POOL *****
18853 00003688 00040000                   DATA FOR SOURCE-LINE 5975
18854 0000368C 00000000                   DATA FOR SOURCE-LINE 5977,5981,5988,5991
18855 00003690 00000000                   DATA FOR SOURCE-LINE 5978,5989
18856                                     ***** END-POOL *****
18857 00003694                   6015             .ALIGN  4                               ;
18858 00003694                   6016     _POS_LSI_CNT_LOAD_R1reg:
18859                            6017             SUB_START
18860 00003694 4F22                   M           STS.L   PR,@-R15                ;[必要]
18861                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18862 00003696 D603              6018             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowPos1L,R6        ;
18863 00003698 6162              6019             MOV.L   @R6,R1                                          ;(とりあえずこのままにして
                                          おく)
18864 0000369A 6119              6020             SWAP.W  R1,R1                                           ;
18865                            6021             SUB_END
18866                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18867 0000369C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18868                            6022             M_RTS
18869 0000369E 000B                   M           RTS                             ;RTSの後ろの
18870 000036A0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18871                            6023     
18872                            6024     
18873                            6025     
18874                            6026     ;       ***********************************
18875                            6027     ;       ***                             ***
18876                            6028     ;       ***     払出ﾊﾟﾙｽ                ***
18877                            6029     ;       ***                             ***
18878                            6030     ;       ***********************************
18879                            6031     ;       I/F LNGTH_ADD_DATA[2];//符号付き
18880                            6032     ;
18881                            6033     ;       ﾊﾞｯｸﾗｯｼの処理はここで行う
18882                            6034     ;
18883                            6035     ;
18884                                     ***** BEGIN-POOL *****
18885 000036A2 0000                       ALIGNMENT CODE
18886 000036A4 00000000                   DATA FOR SOURCE-LINE 6018
18887                                     ***** END-POOL *****
18888 000036A8                   6036             .ALIGN  4                               ;
18889 000036A8                   6037     _POS_LENGTH_ADD_DATA
18890                            6038             SUB_START
18891 000036A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
18892                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18893 000036AA D40A              6039             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
18894 000036AC 6142              6040             MOV.L   @R4,R1                          ;
18895 000036AE 5241              6041             MOV.L   @(4,R4),R2                      ;
18896 000036B0 233A              6042             XOR     R3,R3                           ;
18897 000036B2 2432              6043             MOV.L   R3,@R4                                                  ;
18898 000036B4 1431              6044             MOV.L   R3,@(4,R4)                                              ;(ここでﾊﾞｯｸﾗｯｼ補
                                          正を足しこむ)
18899                            6045     
18900 000036B6 D708              6046             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
18901 000036B8 6572              6047             MOV.L   @R7,R5                                                  ;
18902 000036BA 5671              6048             MOV.L   @(4,R7),R6                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   231
PROGRAM NAME =

18903                            6049             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
18904 000036BC 0008                   M           CLRT
18905 000036BE 326E                   M           ADDC    R6,R2
18906 000036C0 315E                   M           ADDC    R5,R1
18907 000036C2 2712              6050             MOV.L   R1,@R7                                                  ;
18908 000036C4 1721              6051             MOV.L   R2,@(4,R7)                                              ;
18909                            6052     
18910                            6053     ;       ===2004-01-28 MONITOR ==
18911 000036C6 D705              6054             MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R7;//符号つき
18912 000036C8 2712              6055             MOV.L   R1,@R7                                                  ;
18913 000036CA 1721              6056             MOV.L   R2,@(4,R7)                                              ;
18914                            6057     
18915                            6058             SUB_END
18916                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18917 000036CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18918                            6059             M_RTS
18919 000036CE 000B                   M           RTS                             ;RTSの後ろの
18920 000036D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18921                            6060     
18922                            6061     ;       *******************************************
18923                            6062     ;       ***                                     ***
18924                            6063     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
18925                            6064     ;       ***                                     ***
18926                            6065     ;       *******************************************
18927                            6066     ;       ***********************************************************
18928                            6067     ;       ***     (停止時からの起動の場合のみ有効・安一のみ)      ***
18929                            6068     ;       ***********************************************************
18930                                     ***** BEGIN-POOL *****
18931 000036D2 0000                       ALIGNMENT CODE
18932 000036D4 00000000                   DATA FOR SOURCE-LINE 6039
18933 000036D8 00000000                   DATA FOR SOURCE-LINE 6046
18934 000036DC 00000000                   DATA FOR SOURCE-LINE 6054
18935                                     ***** END-POOL *****
18936 000036E0                   6069             .ALIGN  4                               ;
18937 000036E0                   6070     _POS_PLSOUT_SET_RETRY:
18938                            6071             SUB_START
18939 000036E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18940                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18941 000036E2 D105              6072             MOV.L   #_MODE_SEL,R1                   ;
18942 000036E4 6011              6073             MOV.W   @R1,R0                          ;
18943 000036E6 9406              6074             MOV.W   #_W1SGL,R4                      ;
18944 000036E8 2048              6075             TST     R4,R0                           ;
18945                            6076             TST_BIT_ON POS_PLSOUT_SETRY100          ;
18946 000036EA 8B09                   M           BF      POS_PLSOUT_SETRY100
18947                            6077     
18948                            6078             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;
18949 000036EC D003                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18950 000036EE 400B                   M           JSR     @R0                     ;
18951 000036F0 0009                   M           NOP                                     ;
18952                            6079             M_BRA   POS_PLSOUT_SETRYEXT
18953 000036F2 A09E                   M           BRA     POS_PLSOUT_SETRYEXT
18954 000036F4 0009                   M           NOP
18955                            6080     
18956                            6081     ;       ===     安全一行程      ===
18957                                     ***** BEGIN-POOL *****
18958 000036F6 0004                       DATA FOR SOURCE-LINE 6074
18959 000036F8 00000000                   DATA FOR SOURCE-LINE 6072
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   232
PROGRAM NAME =

18960 000036FC 00000000                   DATA FOR SOURCE-LINE 6078
18961                                     ***** END-POOL *****
18962 00003700                   6082     POS_PLSOUT_SETRY100:
18963 00003700 200A              6083             XOR     R0,R0
18964 00003702 D116              6084             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
18965 00003704 2101              6085             MOV.W   R0,@R1                                  ;
18966                            6086     
18967                            6087             eSHi_SET_MEM_MOV SRC=_LNGTH_TOTAL_OUTPLS+4,L1=L,DST=_SH4_LNGH_ADD_SR,L2=L       ;
18968                                 M           PUSH_REG1 R0
18969 00003706 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18970                                 M                                           ;REG=>[SP]
18971                                 M                                           ;"-4" FF,FF,FF,FC
18972                                 M           PUSH_REG1 R1
18973 00003708 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18974                                 M                                           ;REG=>[SP]
18975                                 M                                           ;"-4" FF,FF,FF,FC
18976 0000370A D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1       ;
18977 0000370C 6012                   M           MOV.L   @R1,R0          ;
18978 0000370E D115                   M           MOV.L   #_SH4_LNGH_ADD_SR,R1    ;
18979 00003710 2102                   M           MOV.L   R0,@R1          ;
18980                                 M           POP_REG1 R1
18981                                 M                                   ; RE"+4" 00,00,00,04
18982 00003712 61F6                   M           MOV.L   @R15+,R1        ;
18983                                 M           POP_REG1 R0
18984                                 M                                   ; RE"+4" 00,00,00,04
18985 00003714 60F6                   M           MOV.L   @R15+,R0        ;
18986                            6088             TIM_CNT_ADD MEM=_SH4_LOT_CNT_A,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1                ;+
                                          1
18987 00003716 D114                   M           MOV.L   #_SH4_LOT_CNT_A,R1              ;
18988 00003718 6011                   M           MOV.W   @R1,R0  ;
18989 0000371A 7001                   M           ADD     #1,R0           ;
18990 0000371C 2101                   M           MOV.W   R0,@R1  ;
18991                            6089     
18992                            6090     
18993                            6091     
18994 0000371E                   6092     POS_PLSOUT_SETRYLOP:
18995                            6093     
18996 0000371E D713              6094             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
18997 00003720 6172              6095             MOV.L   @R7,R1                                                  ;
18998 00003722 5271              6096             MOV.L   @(4,R7),R2                                              ;払いだしたい量
18999                            6097             PUSH_REG1 R1                                                    ;
19000 00003724 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19001                                 M                                           ;REG=>[SP]
19002                                 M                                           ;"-4" FF,FF,FF,FC
19003                            6098             PUSH_REG1 R2                                                    ;
19004 00003726 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19005                                 M                                           ;REG=>[SP]
19006                                 M                                           ;"-4" FF,FF,FF,FC
19007                            6099             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                                ;
19008 00003728 D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19009 0000372A 400B                   M           JSR     @R0                     ;
19010 0000372C 0009                   M           NOP                                     ;
19011                            6100             POP_REG1 R2                                                     ;
19012                                 M                                   ; RE"+4" 00,00,00,04
19013 0000372E 62F6                   M           MOV.L   @R15+,R2        ;
19014                            6101             POP_REG1 R1                                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   233
PROGRAM NAME =

19015                                 M                                   ; RE"+4" 00,00,00,04
19016 00003730 61F6                   M           MOV.L   @R15+,R1        ;
19017 00003732 6313              6102             MOV     R1,R3                                                   ;
19018 00003734 6423              6103             MOV     R2,R4                                                   ;
19019 00003736 4311              6104             CMP/PZ  R3                                                      ;"+"
19020 00003738 8905              6105             BT      POS_PLSOUT_SETRY120                                     ;
19021                            6106             NEG1_64 H_REG=R3,L_REG=R4,WKREG=R0                              ;|R3,R4|
19022 0000373A 6447                   M           NOT     R4,R4                           ;
19023 0000373C 6337                   M           NOT     R3,R3                           ;
19024 0000373E 200A                   M           XOR     R0,R0                           ;
19025 00003740 0018                   M           SETT
19026 00003742 340E                   M           ADDC    R0,R4                           ;0+1+R2
19027 00003744 330E                   M           ADDC    R0,R3                           ;
19028 00003746                   6107     POS_PLSOUT_SETRY120:
19029 00003746 2338              6108             TST     R3,R3                                                   ;
19030                            6109             TST_BIT_OF POS_PLSOUT_SETRY130                                  ;
19031 00003748 8918                   M           BT      POS_PLSOUT_SETRY130
19032                            6110     ;       ====上位LWORDが存在する. 1回転の中にそれがあることはない
19033                            6111     ;       ==== data err ===
                                          ;
19034                            6112             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CALC_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
19035 0000374A D10A                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1          ;
19036 0000374C 6011                   M           MOV.W   @R1,R0          ;
19037 0000374E CB05                   M           OR      #(BIT2+BIT0),R0         ;
19038 00003750 2101                   M           MOV.W   R0,@R1          ;
19039                            6113             FAR_JSR #_OutputPLS_REG_CLR,R0
                                          ;
19040 00003752 D009                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19041 00003754 400B                   M           JSR     @R0                     ;
19042 00003756 0009                   M           NOP                                     ;
19043                            6114             M_BRA   POS_PLSOUT_SETRY900
                                          ;
19044 00003758 A064                   M           BRA     POS_PLSOUT_SETRY900
19045 0000375A 0009                   M           NOP
19046                            6115     
19047                                     ***** BEGIN-POOL *****
19048 0000375C 00000000                   DATA FOR SOURCE-LINE 6084
19049 00003760 00000000                   DATA FOR SOURCE-LINE 6087
19050 00003764 00000000                   DATA FOR SOURCE-LINE 6087
19051 00003768 00000000                   DATA FOR SOURCE-LINE 6088
19052 0000376C 00000000                   DATA FOR SOURCE-LINE 6094
19053 00003770 00000000                   DATA FOR SOURCE-LINE 6099
19054 00003774 00000000                   DATA FOR SOURCE-LINE 6112
19055 00003778 00000000                   DATA FOR SOURCE-LINE 6113
19056                                     ***** END-POOL *****
19057 0000377C                   6116     POS_PLSOUT_SETRY130:
19058                            6117     
19059                            6118             FAR_JSR #_LOAD_REST_PLS,R0                      ;
19060 0000377C D017                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19061 0000377E 400B                   M           JSR     @R0                     ;
19062 00003780 0009                   M           NOP                                     ;
19063                            6119             eSHi_SET_REG_MOV DST=_SH4_REST_PLS_SR,L1=L,SETREG=R0,WKREG1=R5
19064                                 M           PUSH_REG1 R5            ;
19065 00003782 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
19066                                 M                                           ;REG=>[SP]
19067                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   234
PROGRAM NAME =

19068 00003784 D516                   M           MOV.L   #_SH4_REST_PLS_SR,R5            ;
19069 00003786 2502                   M           MOV.L   R0,@R5  ;
19070                                 M           POP_REG1 R5             ;
19071                                 M                                   ; RE"+4" 00,00,00,04
19072 00003788 65F6                   M           MOV.L   @R15+,R5        ;
19073                            6120     
19074 0000378A 3400              6121             CMP/EQ  R0,R4                                   ;
19075 0000378C 894A              6122             BT      POS_PLSOUT_SETRY900                     ;"EQU"
19076 0000378E 7001              6123             ADD     #1,R0                                   ;
19077 00003790 3400              6124             CMP/EQ  R0,R4                                   ;
19078 00003792 8947              6125             BT      POS_PLSOUT_SETRY900                     ;
19079 00003794 70FE              6126             ADD     #-2,R0                                  ;
19080 00003796 3400              6127             CMP/EQ  R0,R4                                   ;
19081 00003798 8944              6128             BT      POS_PLSOUT_SETRY900                     ;
19082                            6129     
19083                            6130     ;       ==== ﾍﾞﾘﾌｧｲ異常====
19084                            6131             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT2                ;VERIFAY ERR
19085                                 M   
19086                                 M           .AIF    0 EQ    0
19087                                 C   ;;      (波形測定時)
19088                                 C           PUSH_REG1 R0
19089 0000379A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19090                                 M                                           ;REG=>[SP]
19091                                 M                                           ;"-4" FF,FF,FF,FC
19092                                 C           PUSH_REG1 R1
19093 0000379C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19094                                 M                                           ;REG=>[SP]
19095                                 M                                           ;"-4" FF,FF,FF,FC
19096                                 C           PUSH_REG1 R2
19097 0000379E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19098                                 M                                           ;REG=>[SP]
19099                                 M                                           ;"-4" FF,FF,FF,FC
19100 000037A0 D110                   C           MOV.L   #_PDTRA,R1                      ;
19101 000037A2 6011                   C           MOV.W   @R1,R0                          ;
19102 000037A4 9217                   C           MOV.W   #BIT2,R2                        ;
19103 000037A6 202B                   C           OR      R2,R0                           ;
19104 000037A8 2101                   C           MOV.W   R0,@R1                          ;
19105                                 C   
19106                                 C           POP_REG1 R2
19107                                 M                                   ; RE"+4" 00,00,00,04
19108 000037AA 62F6                   M           MOV.L   @R15+,R2        ;
19109                                 C           POP_REG1 R1
19110                                 M                                   ; RE"+4" 00,00,00,04
19111 000037AC 61F6                   M           MOV.L   @R15+,R1        ;
19112                                 C           POP_REG1 R0
19113                                 M                                   ; RE"+4" 00,00,00,04
19114 000037AE 60F6                   M           MOV.L   @R15+,R0        ;
19115                                 M           .AENDI
19116                                 M   
19117                            6132     
19118                            6133             FAR_JSR #_OutputPLS_REG_CLR,R0                  ;
19119 000037B0 D00D                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19120 000037B2 400B                   M           JSR     @R0                     ;
19121 000037B4 0009                   M           NOP                                     ;
19122 000037B6 D70D              6134             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                 ;+/-(0へ向かっていく)
19123 000037B8 2712              6135             MOV.L   R1,@R7                                  ;
19124 000037BA 1721              6136             MOV.L   R2,@(4,R7)                              ;払いだしたい量
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   235
PROGRAM NAME =

19125                            6137     
19126 000037BC D10C              6138             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
19127 000037BE 6011              6139             MOV.W   @R1,R0                                  ;
19128 000037C0 940A              6140             MOV.W   #_LSI_RETRY_ERR_MAX,R4
                                          ;
19129 000037C2 7001              6141             ADD     #1,R0
                                          ;
19130 000037C4 2101              6142             MOV.W   R0,@R1
                                          ;
19131 000037C6 3046              6143             CMP/HI  R4,R0
                                          ;3<
19132 000037C8 8916              6144             BT      POS_PLSOUT_SETRYERR
                                          ;
19133                            6145             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
19134 000037CA D10A                   M           MOV.L   #_LSI_PLSSET_NG_CNT1,R1         ;
19135 000037CC 6012                   M           MOV.L   @R1,R0  ;
19136 000037CE 7001                   M           ADD     #1,R0           ;
19137 000037D0 2102                   M           MOV.L   R0,@R1  ;
19138                            6146             M_BRA   POS_PLSOUT_SETRYLOP                     ;
19139 000037D2 AFA4                   M           BRA     POS_PLSOUT_SETRYLOP
19140 000037D4 0009                   M           NOP
19141                            6147     
19142                                     ***** BEGIN-POOL *****
19143 000037D6 0004                       DATA FOR SOURCE-LINE 6131
19144 000037D8 0003                       DATA FOR SOURCE-LINE 6140
19145 000037DA 0000                       ALIGNMENT CODE
19146 000037DC 00000000                   DATA FOR SOURCE-LINE 6118
19147 000037E0 00000000                   DATA FOR SOURCE-LINE 6119
19148 000037E4 00000000                   DATA FOR SOURCE-LINE 6131
19149 000037E8 00000000                   DATA FOR SOURCE-LINE 6133
19150 000037EC 00000000                   DATA FOR SOURCE-LINE 6134
19151 000037F0 00000000                   DATA FOR SOURCE-LINE 6138
19152 000037F4 00000000                   DATA FOR SOURCE-LINE 6145
19153                                     ***** END-POOL *****
19154 000037F8                   6148     POS_PLSOUT_SETRYERR:
19155                            6149             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
19156 000037F8 D108                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
19157 000037FA 6011                   M           MOV.W   @R1,R0          ;
19158 000037FC CB05                   M           OR      #(BIT2+BIT0),R0         ;
19159 000037FE 2101                   M           MOV.W   R0,@R1          ;
19160                            6150             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT6                ;RETRY ERR
19161                                 M   
19162                                 M           .AIF    0 EQ    0
19163                                 C   ;;      (波形測定時)
19164                                 C           PUSH_REG1 R0
19165 00003800 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19166                                 M                                           ;REG=>[SP]
19167                                 M                                           ;"-4" FF,FF,FF,FC
19168                                 C           PUSH_REG1 R1
19169 00003802 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19170                                 M                                           ;REG=>[SP]
19171                                 M                                           ;"-4" FF,FF,FF,FC
19172                                 C           PUSH_REG1 R2
19173 00003804 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19174                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   236
PROGRAM NAME =

19175                                 M                                           ;"-4" FF,FF,FF,FC
19176 00003806 D106                   C           MOV.L   #_PDTRA,R1                      ;
19177 00003808 6011                   C           MOV.W   @R1,R0                          ;
19178 0000380A 9206                   C           MOV.W   #BIT6,R2                        ;
19179 0000380C 202B                   C           OR      R2,R0                           ;
19180 0000380E 2101                   C           MOV.W   R0,@R1                          ;
19181                                 C   
19182                                 C           POP_REG1 R2
19183                                 M                                   ; RE"+4" 00,00,00,04
19184 00003810 62F6                   M           MOV.L   @R15+,R2        ;
19185                                 C           POP_REG1 R1
19186                                 M                                   ; RE"+4" 00,00,00,04
19187 00003812 61F6                   M           MOV.L   @R15+,R1        ;
19188                                 C           POP_REG1 R0
19189                                 M                                   ; RE"+4" 00,00,00,04
19190 00003814 60F6                   M           MOV.L   @R15+,R0        ;
19191                                 M           .AENDI
19192                                 M   
19193                            6151             M_BRA   POS_PLSOUT_SETRYEXT
19194 00003816 A00C                   M           BRA     POS_PLSOUT_SETRYEXT
19195 00003818 0009                   M           NOP
19196                            6152     
19197                                     ***** BEGIN-POOL *****
19198 0000381A 0040                       DATA FOR SOURCE-LINE 6150
19199 0000381C 00000000                   DATA FOR SOURCE-LINE 6149
19200 00003820 00000000                   DATA FOR SOURCE-LINE 6150
19201                                     ***** END-POOL *****
19202 00003824                   6153     POS_PLSOUT_SETRY900:
19203                            6154     ;       === FLAG SET====
19204                            6155             eSHi_SET_IM_MOV DST=_SH4_REST_SR_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
19205                                 M           PUSH_REG1 R1            ;
19206 00003824 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19207                                 M                                           ;REG=>[SP]
19208                                 M                                           ;"-4" FF,FF,FF,FC
19209                                 M           PUSH_REG1 R0            ;
19210 00003826 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19211                                 M                                           ;REG=>[SP]
19212                                 M                                           ;"-4" FF,FF,FF,FC
19213 00003828 9011                   M           MOV.W   #1,R0           ;
19214 0000382A D10A                   M           MOV.L   #_SH4_REST_SR_HF,R1             ;
19215 0000382C 2101                   M           MOV.W   R0,@R1  ;
19216                                 M           POP_REG1 R0             ;
19217                                 M                                   ; RE"+4" 00,00,00,04
19218 0000382E 60F6                   M           MOV.L   @R15+,R0        ;
19219                                 M           POP_REG1 R1             ;
19220                                 M                                   ; RE"+4" 00,00,00,04
19221 00003830 61F6                   M           MOV.L   @R15+,R1        ;
19222                            6156     
19223 00003832                   6157     POS_PLSOUT_SETRYEXT:
19224                            6158             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT4                ;VERYFAI ERR OFF付
19225                                 M   
19226                                 M           .AIF    0 EQ    0
19227                                 C   ;;      (波形測定時)
19228                                 C           PUSH_REG1 R0
19229 00003832 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19230                                 M                                           ;REG=>[SP]
19231                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   237
PROGRAM NAME =

19232                                 C           PUSH_REG1 R1
19233 00003834 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19234                                 M                                           ;REG=>[SP]
19235                                 M                                           ;"-4" FF,FF,FF,FC
19236                                 C           PUSH_REG1 R2
19237 00003836 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19238                                 M                                           ;REG=>[SP]
19239                                 M                                           ;"-4" FF,FF,FF,FC
19240 00003838 D107                   C           MOV.L   #_PDTRA,R1                      ;
19241 0000383A 6011                   C           MOV.W   @R1,R0                          ;
19242 0000383C 9208                   C           MOV.W   #LWORD ~BIT4,R2         ;
19243 0000383E 2029                   C           AND     R2,R0                           ;
19244 00003840 2101                   C           MOV.W   R0,@R1                          ;
19245                                 C           POP_REG1 R2
19246                                 M                                   ; RE"+4" 00,00,00,04
19247 00003842 62F6                   M           MOV.L   @R15+,R2        ;
19248                                 C           POP_REG1 R1
19249                                 M                                   ; RE"+4" 00,00,00,04
19250 00003844 61F6                   M           MOV.L   @R15+,R1        ;
19251                                 C           POP_REG1 R0
19252                                 M                                   ; RE"+4" 00,00,00,04
19253 00003846 60F6                   M           MOV.L   @R15+,R0        ;
19254                                 M           .AENDI
19255                                 M   
19256                            6159     
19257                            6160             SUB_END
19258                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19259 00003848 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19260                            6161             M_RTS
19261 0000384A 000B                   M           RTS                             ;RTSの後ろの
19262 0000384C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19263                            6162     
19264                            6163     ;       *******************************************
19265                            6164     ;       ***                                     ***
19266                            6165     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
19267                            6166     ;       ***                                     ***
19268                            6167     ;       *******************************************
19269                                     ***** BEGIN-POOL *****
19270 0000384E 0001                       DATA FOR SOURCE-LINE 6155
19271 00003850 FFEF                       DATA FOR SOURCE-LINE 6158
19272 00003852 0000                       ALIGNMENT CODE
19273 00003854 00000000                   DATA FOR SOURCE-LINE 6155
19274 00003858 00000000                   DATA FOR SOURCE-LINE 6158
19275                                     ***** END-POOL *****
19276 0000385C                   6168             .ALIGN  4                               ;
19277 0000385C                   6169     _POS_PLS_OUTPUT_DATA:
19278                            6170             SUB_START
19279 0000385C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19280                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19281                            6171     
19282                            6172     
19283                            6173             FAR_JSR #_LOAD_REST_PLS,R0                                              ;
19284 0000385E D00D                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19285 00003860 400B                   M           JSR     @R0                     ;
19286 00003862 0009                   M           NOP                                     ;
19287 00003864 6B03              6174             MOV     R0,R11                                                          ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   238
PROGRAM NAME =

19288 00003866 D10C              6175             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                         ;
19289 00003868 21B2              6176             MOV.L   R11,@R1                                                         ;
19290                            6177     
19291 0000386A DC0C              6178             MOV.L   #_PLS_OUTPUT_MAX,R12                                            ;
19292 0000386C 3CB8              6179             SUB     R11,R12                                                         ;
19293 0000386E 4C11              6180             CMP/PZ  R12                                                             ;残り設定
                                          できる距離出力側で
19294 00003870 8904              6181             BT      POS_PLS_OUTDAT_050                                              ;
19295                            6182             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT0,WKREG=R1       ;
19296 00003872 D10B                   M           MOV.L   #_POSLSI_CHK_STS,R1             ;
19297 00003874 6011                   M           MOV.W   @R1,R0          ;
19298 00003876 CB01                   M           OR      #BIT0,R0                ;
19299 00003878 2101                   M           MOV.W   R0,@R1          ;
19300 0000387A 2CCA              6183             XOR     R12,R12                                                         ;
19301 0000387C                   6184     POS_PLS_OUTDAT_050:                                                             ;R12は出力
                                          ﾊﾟﾙｽﾚﾍﾞﾙ
19302                            6185     ;       ============= 出力ﾊﾟﾙｽ補正============
19303 0000387C 62C3              6186             MOV     R12,R2                                                  ;ﾊﾟﾙｽ列-->ｲﾝｸﾘﾒﾝﾀﾙ
                                          ﾊﾟﾙｽ量
19304                            6187     ;;;;;   FAR_JSR #_POS_OUT_TO_INC_CHG,R0                                 ;
19305 0000387E 6C23              6188             MOV     R2,R12                                                  ;
19306                            6189     
19307                            6190     ;       ==== R12が設定可能量====
19308 00003880 D708              6191             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
19309 00003882 6172              6192             MOV.L   @R7,R1                                                  ;
19310 00003884 5271              6193             MOV.L   @(4,R7),R2                                              ;払いだしたい量
19311 00003886 6013              6194             MOV     R1,R0                                                   ;
19312 00003888 202B              6195             OR      R2,R0                                                   ;
19313 0000388A 2008              6196             TST     R0,R0                                                   ;
19314                            6197             TST_BIT_ON POS_PLS_OUTDAT_080                                   ;
19315 0000388C 8B0C                   M           BF      POS_PLS_OUTDAT_080
19316 0000388E 2CCA              6198             XOR     R12,R12                                                 ;位置決めLSIには設
                                          定済み
19317                            6199             M_BRA   POS_PLS_OUTDAT_300                                      ;
19318 00003890 A027                   M           BRA     POS_PLS_OUTDAT_300
19319 00003892 0009                   M           NOP
19320                            6200     
19321                                     ***** BEGIN-POOL *****
19322 00003894 00000000                   DATA FOR SOURCE-LINE 6173
19323 00003898 00000000                   DATA FOR SOURCE-LINE 6175
19324 0000389C 00FFFFFF                   DATA FOR SOURCE-LINE 6178
19325 000038A0 00000000                   DATA FOR SOURCE-LINE 6182
19326 000038A4 00000000                   DATA FOR SOURCE-LINE 6191
19327                                     ***** END-POOL *****
19328 000038A8                   6201     POS_PLS_OUTDAT_080:                                                     ;
19329                            6202             PUSH_REG1       R1
19330 000038A8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19331                                 M                                           ;REG=>[SP]
19332                                 M                                           ;"-4" FF,FF,FF,FC
19333 000038AA 4111              6203             CMP/PZ  R1                                                      ;
19334 000038AC 8905              6204             BT      POS_PLS_OUTDAT_100                                      ;
19335                            6205             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;|R1,R2|
19336 000038AE 6227                   M           NOT     R2,R2                           ;
19337 000038B0 6117                   M           NOT     R1,R1                           ;
19338 000038B2 233A                   M           XOR     R3,R3                           ;
19339 000038B4 0018                   M           SETT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   239
PROGRAM NAME =

19340 000038B6 323E                   M           ADDC    R3,R2                           ;0+1+R2
19341 000038B8 313E                   M           ADDC    R3,R1                           ;
19342 000038BA                   6206     POS_PLS_OUTDAT_100:                                                     ;
19343 000038BA 2118              6207             TST     R1,R1                                                   ;
19344                            6208             TST_BIT_ON POS_PLS_OUTDAT_200                                   ;引いてOK
19345 000038BC 8B02                   M           BF      POS_PLS_OUTDAT_200
19346 000038BE 32C7              6209             CMP/GT  R12,R2                                                  ;引いてOK
19347 000038C0 8900              6210             BT      POS_PLS_OUTDAT_200                                      ;
19348 000038C2 6C23              6211             MOV     R2,R12                                                  ;R12(R2)だけ引いて
                                          OK
19349 000038C4                   6212     POS_PLS_OUTDAT_200:                                                     ;(引く量の決定)
19350 000038C4 200A              6213             XOR     R0,R0                                                   ;
19351                            6214             SUB8B DT_REGH=R0,DT_REGL=R12,DT_ANS_REGH=R1,DT_ANS_REGL=R2      ;
19352 000038C6 0008                   M           CLRT
19353 000038C8 32CA                   M           SUBC    R12,R2
19354 000038CA 310A                   M           SUBC    R0,R1
19355                            6215             POP_REG1 R0
19356                                 M                                   ; RE"+4" 00,00,00,04
19357 000038CC 60F6                   M           MOV.L   @R15+,R0        ;
19358 000038CE 4011              6216             CMP/PZ  R0
19359 000038D0 8905              6217             BT      POS_PLS_OUTDAT_250                                      ;
19360                            6218             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;
19361 000038D2 6227                   M           NOT     R2,R2                           ;
19362 000038D4 6117                   M           NOT     R1,R1                           ;
19363 000038D6 233A                   M           XOR     R3,R3                           ;
19364 000038D8 0018                   M           SETT
19365 000038DA 323E                   M           ADDC    R3,R2                           ;0+1+R2
19366 000038DC 313E                   M           ADDC    R3,R1                           ;
19367 000038DE                   6219     POS_PLS_OUTDAT_250:                                                     ;
19368 000038DE 2712              6220             MOV.L   R1,@R7                                                  ;
19369 000038E0 1721              6221             MOV.L   R2,@(4,R7)                                              ;
19370                            6222     
19371                            6223     ;"R12ADD"
19372 000038E2                   6224     POS_PLS_OUTDAT_300:                                                             ;
19373                            6225             FAR_JSR #_LOAD_REST_PLS,R0                                              ;OLD残りﾊﾟ
                                          ﾙｽ
19374 000038E2 D028                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19375 000038E4 400B                   M           JSR     @R0                     ;
19376 000038E6 0009                   M           NOP                                     ;
19377 000038E8 6403              6226             MOV     R0,R4                                                           ;
19378 000038EA 62C3              6227             MOV     R12,R2                                                          ;
19379                            6228     
19380                            6229             DEBUG_LSI_ACS_ON2_BIT BITDT=(BIT4+BIT0)                                 ;
19381                                 M   
19382                                 M           .AIF    0 EQ    0
19383                                 C   ;;      (波形測定時)
19384                                 C           PUSH_REG1 R0
19385 000038EC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19386                                 M                                           ;REG=>[SP]
19387                                 M                                           ;"-4" FF,FF,FF,FC
19388                                 C           PUSH_REG1 R1
19389 000038EE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19390                                 M                                           ;REG=>[SP]
19391                                 M                                           ;"-4" FF,FF,FF,FC
19392                                 C           PUSH_REG1 R2
19393 000038F0 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19394                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   240
PROGRAM NAME =

19395                                 M                                           ;"-4" FF,FF,FF,FC
19396 000038F2 D125                   C           MOV.L   #_PDTRA,R1                      ;
19397 000038F4 6011                   C           MOV.W   @R1,R0                          ;
19398 000038F6 9241                   C           MOV.W   #(BIT4+BIT0),R2                 ;
19399 000038F8 202B                   C           OR      R2,R0                           ;
19400 000038FA 2101                   C           MOV.W   R0,@R1                          ;
19401                                 C   
19402                                 C           POP_REG1 R2
19403                                 M                                   ; RE"+4" 00,00,00,04
19404 000038FC 62F6                   M           MOV.L   @R15+,R2        ;
19405                                 C           POP_REG1 R1
19406                                 M                                   ; RE"+4" 00,00,00,04
19407 000038FE 61F6                   M           MOV.L   @R15+,R1        ;
19408                                 C           POP_REG1 R0
19409                                 M                                   ; RE"+4" 00,00,00,04
19410 00003900 60F6                   M           MOV.L   @R15+,R0        ;
19411                                 M           .AENDI
19412                                 M   
19413                            6230             .AIF    1               EQ      1       ;YES:WR WAIT 4CLK(NO 3CLK) 2004-02-19
19414                            6231 C           POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R6,DAT_REG=R2           ;製品
19415                                 M           PUSH_REG1 R6
19416 00003902 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
19417                                 M                                           ;REG=>[SP]
19418                                 M                                           ;"-4" FF,FF,FF,FC
19419                                 M           PUSH_REG1 R2
19420 00003904 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19421                                 M                                           ;REG=>[SP]
19422                                 M                                           ;"-4" FF,FF,FF,FC
19423                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19424                                 M           PUSH_REG1 R0
19425 00003906 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19426                                 M                                           ;REG=>[SP]
19427                                 M                                           ;"-4" FF,FF,FF,FC
19428 00003908 D020                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19429 0000390A 6001                   M           MOV.W   @R0,R0
19430                                 M           POP_REG1 R0
19431                                 M                                   ; RE"+4" 00,00,00,04
19432 0000390C 60F6                   M           MOV.L   @R15+,R0        ;
19433 0000390E D620                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;
19434 00003910 2621                   M           MOV.W   R2,@R6                          ;(LOW)
19435 00003912 7602                   M           ADD     #2,R6                                   ;
19436 00003914 6229                   M           SWAP.W  R2,R2                           ;
19437                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19438                                 M           PUSH_REG1 R0
19439 00003916 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19440                                 M                                           ;REG=>[SP]
19441                                 M                                           ;"-4" FF,FF,FF,FC
19442 00003918 D01C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19443 0000391A 6001                   M           MOV.W   @R0,R0
19444                                 M           POP_REG1 R0
19445                                 M                                   ; RE"+4" 00,00,00,04
19446 0000391C 60F6                   M           MOV.L   @R15+,R0        ;
19447 0000391E 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
19448                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19449                                 M           PUSH_REG1 R0
19450 00003920 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19451                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   241
PROGRAM NAME =

19452                                 M                                           ;"-4" FF,FF,FF,FC
19453 00003922 D01A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19454 00003924 6001                   M           MOV.W   @R0,R0
19455                                 M           POP_REG1 R0
19456                                 M                                   ; RE"+4" 00,00,00,04
19457 00003926 60F6                   M           MOV.L   @R15+,R0        ;
19458                                 M           POP_REG1 R2
19459                                 M                                   ; RE"+4" 00,00,00,04
19460 00003928 62F6                   M           MOV.L   @R15+,R2        ;
19461                                 M           POP_REG1 R6
19462                                 M                                   ; RE"+4" 00,00,00,04
19463 0000392A 66F6                   M           MOV.L   @R15+,R6        ;
19464                            6232             .AELSE
19465                            6233     
19466                            6234     ;       ===== 異常を発生させるよう ======
19467                            6235             PUSH_REG1 R0                                                    ;
19468                            6236             PUSH_REG1 R12                                                   ;
19469                            6237             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R0                ;R/W
19470                            6238             SWAP.W  R12,R12                                                 ;
19471                            6239             MOV.L   R12,@R0                                                 ;
19472                            6240             POP_REG1 R12                                                    ;
19473                            6241             POP_REG1 R0                                                     ;
19474                            6242             .AENDI
19475                            6243     
19476                            6244             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT0
19477                                 M   
19478                                 M           .AIF    0 EQ    0
19479                                 C   ;;      (波形測定時)
19480                                 C           PUSH_REG1 R0
19481 0000392C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19482                                 M                                           ;REG=>[SP]
19483                                 M                                           ;"-4" FF,FF,FF,FC
19484                                 C           PUSH_REG1 R1
19485 0000392E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19486                                 M                                           ;REG=>[SP]
19487                                 M                                           ;"-4" FF,FF,FF,FC
19488                                 C           PUSH_REG1 R2
19489 00003930 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19490                                 M                                           ;REG=>[SP]
19491                                 M                                           ;"-4" FF,FF,FF,FC
19492 00003932 D115                   C           MOV.L   #_PDTRA,R1                      ;
19493 00003934 6011                   C           MOV.W   @R1,R0                          ;
19494 00003936 9222                   C           MOV.W   #LWORD ~BIT0,R2         ;
19495 00003938 2029                   C           AND     R2,R0                           ;
19496 0000393A 2101                   C           MOV.W   R0,@R1                          ;
19497                                 C           POP_REG1 R2
19498                                 M                                   ; RE"+4" 00,00,00,04
19499 0000393C 62F6                   M           MOV.L   @R15+,R2        ;
19500                                 C           POP_REG1 R1
19501                                 M                                   ; RE"+4" 00,00,00,04
19502 0000393E 61F6                   M           MOV.L   @R15+,R1        ;
19503                                 C           POP_REG1 R0
19504                                 M                                   ; RE"+4" 00,00,00,04
19505 00003940 60F6                   M           MOV.L   @R15+,R0        ;
19506                                 M           .AENDI
19507                                 M   
19508                            6245     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   242
PROGRAM NAME =

19509                            6246             FAR_JSR #_LOAD_REST_PLS,R0                                              ;NEW残りﾊﾟ
                                          ﾙｽ
19510 00003942 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19511 00003944 400B                   M           JSR     @R0                     ;
19512 00003946 0009                   M           NOP                                     ;
19513 00003948 D112              6247             MOV.L   #_NEW_POSLSI_RESTPLS,R1                                         ;
19514 0000394A 2102              6248             MOV.L   R0,@R1                                                          ;
19515                            6249     
19516                            6250             eSHi_SET_REG_MOV DST=_SH4_REST_PLS_RL,L1=L,SETREG=R0,WKREG1=R1          ;
19517                                 M           PUSH_REG1 R1            ;
19518 0000394C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19519                                 M                                           ;REG=>[SP]
19520                                 M                                           ;"-4" FF,FF,FF,FC
19521 0000394E D112                   M           MOV.L   #_SH4_REST_PLS_RL,R1            ;
19522 00003950 2102                   M           MOV.L   R0,@R1  ;
19523                                 M           POP_REG1 R1             ;
19524                                 M                                   ; RE"+4" 00,00,00,04
19525 00003952 61F6                   M           MOV.L   @R15+,R1        ;
19526                            6251     
19527                            6252     
19528                            6253     ;       基本的には
19529                            6254     ;       OLD+SV=NEW
19530                            6255     
19531 00003954 34CC              6256             ADD     R12,R4                                                  ;
19532 00003956 6343              6257             MOV     R4,R3                                                   ;
19533 00003958 9112              6258             MOV.W   #D'500,R1                                               ;200usec(100pls)　
                                          受信割込有り
19534 0000395A 341C              6259             ADD     R1,R4                                                   ;OLD+SV+500<NEW
19535 0000395C 3046              6260             CMP/HI  R4,R0                                                   ;OLD+SV+500<NEW
19536 0000395E 891F              6261             BT      POS_PLS_OUTDAT_320_ERR1                                 ;
19537                            6262     
19538 00003960 6433              6263             MOV     R3,R4                                                   ;
19539 00003962 910D              6264             MOV.W   #D'500,R1                                               ;200usec(100pls)
19540 00003964 3418              6265             SUB     R1,R4                                                   ;
19541 00003966 4411              6266             CMP/PZ  R4                                                      ;
19542 00003968 8900              6267             BT      POS_PLS_OUTDAT_320_ECK10                                ;
19543 0000396A 244A              6268             XOR     R4,R4                                                   ;
19544 0000396C                   6269     POS_PLS_OUTDAT_320_ECK10:                                               ;
19545 0000396C 3042              6270             CMP/HS  R4,R0
19546 0000396E 891F              6271             BT      POS_PLS_OUTDAT_320_END                                  ;R4 =< R0 OK
19547                            6272     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ-200 ≧残ﾊﾟﾙｽなら異常(2)      ===
19548                            6273             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
19549 00003970 D10A                   M           MOV.L   #_LSI_PLSSET_NG_CNT2,R1         ;
19550 00003972 6012                   M           MOV.L   @R1,R0  ;
19551 00003974 7001                   M           ADD     #1,R0           ;
19552 00003976 2102                   M           MOV.L   R0,@R1  ;
19553                            6274     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT3+BIT0),WKREG=R1
                                          ;
19554                            6275             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
19555 00003978 A01E                   M           BRA     POS_PLS_OUTDAT_320_EXT
19556 0000397A 0009                   M           NOP
19557                            6276     
19558                                     ***** BEGIN-POOL *****
19559 0000397C 0011                       DATA FOR SOURCE-LINE 6229
19560 0000397E FFFE                       DATA FOR SOURCE-LINE 6244
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   243
PROGRAM NAME =

19561 00003980 01F4                       DATA FOR SOURCE-LINE 6258,6264
19562 00003982 0000                       ALIGNMENT CODE
19563 00003984 00000000                   DATA FOR SOURCE-LINE 6225,6246
19564 00003988 00000000                   DATA FOR SOURCE-LINE 6229,6244
19565 0000398C 00000000                   DATA FOR SOURCE-LINE 6231,6231,6231
19566 00003990 00000000                   DATA FOR SOURCE-LINE 6231
19567 00003994 00000000                   DATA FOR SOURCE-LINE 6247
19568 00003998 00000000                   DATA FOR SOURCE-LINE 6250
19569 0000399C 00000000                   DATA FOR SOURCE-LINE 6273
19570                                     ***** END-POOL *****
19571 000039A0                   6277     POS_PLS_OUTDAT_320_ERR1:
                                          ;
19572                            6278     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ≦残ﾊﾟﾙｽなら異常(1)   === 500KHZ 200usec=100pls
                                          ;
19573                            6279             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT3,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;ここだとﾘﾄﾗｲできない
19574 000039A0 D102                   M           MOV.L   #_LSI_PLSSET_NG_CNT3,R1         ;
19575 000039A2 6012                   M           MOV.L   @R1,R0  ;
19576 000039A4 7001                   M           ADD     #1,R0           ;
19577 000039A6 2102                   M           MOV.L   R0,@R1  ;
19578                            6280     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT4+BIT0),WKREG=R1
                                          ;
19579                            6281             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
19580 000039A8 A006                   M           BRA     POS_PLS_OUTDAT_320_EXT
19581 000039AA 0009                   M           NOP
19582                            6282     
19583                                     ***** BEGIN-POOL *****
19584 000039AC 00000000                   DATA FOR SOURCE-LINE 6279
19585                                     ***** END-POOL *****
19586 000039B0                   6283     POS_PLS_OUTDAT_320_END:                                                                 ;
19587                            6284             TIM_CNT_ADD MEM=_LSI_PLSSET_AC_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1           ;
19588 000039B0 D10C                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1         ;
19589 000039B2 6012                   M           MOV.L   @R1,R0  ;
19590 000039B4 7001                   M           ADD     #1,R0           ;
19591 000039B6 2102                   M           MOV.L   R0,@R1  ;
19592 000039B8                   6285     POS_PLS_OUTDAT_320_EXT:                                                                 ;
19593                            6286     
19594                            6287     
19595                            6288     
19596                            6289             eSHi_SET_MEM_MOV SRC=_INT_POS_CTL_STEP,L1=W,DST=_SH4_LOT_STEP_A,L2=W
19597                                 M           PUSH_REG1 R0
19598 000039B8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19599                                 M                                           ;REG=>[SP]
19600                                 M                                           ;"-4" FF,FF,FF,FC
19601                                 M           PUSH_REG1 R1
19602 000039BA 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19603                                 M                                           ;REG=>[SP]
19604                                 M                                           ;"-4" FF,FF,FF,FC
19605 000039BC D10A                   M           MOV.L   #_INT_POS_CTL_STEP,R1   ;
19606 000039BE 6011                   M           MOV.W   @R1,R0          ;
19607 000039C0 D10A                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;
19608 000039C2 2101                   M           MOV.W   R0,@R1          ;
19609                                 M           POP_REG1 R1
19610                                 M                                   ; RE"+4" 00,00,00,04
19611 000039C4 61F6                   M           MOV.L   @R15+,R1        ;
19612                                 M           POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   244
PROGRAM NAME =

19613                                 M                                   ; RE"+4" 00,00,00,04
19614 000039C6 60F6                   M           MOV.L   @R15+,R0        ;
19615                            6290     
19616                            6291     
19617                            6292     ;       ======== ものは試し====
19618 000039C8 255A              6293             XOR     R5,R5
19619 000039CA D109              6294             MOV.L   #_POSLSI_DRIV_SHIN,R1
19620 000039CC 6011              6295             MOV.W   @R1,R0                                                  ;
19621 000039CE C801              6296             TST     #BIT0,R0
19622                            6297             TST_BIT_OF POS_PLS_OUTDAT_400                                   ;
19623 000039D0 8905                   M           BT      POS_PLS_OUTDAT_400
19624                            6298             NEG1_64 H_REG=R5,L_REG=R13,WKREG=R3                             ;
19625 000039D2 6DD7                   M           NOT     R13,R13                         ;
19626 000039D4 6557                   M           NOT     R5,R5                           ;
19627 000039D6 233A                   M           XOR     R3,R3                           ;
19628 000039D8 0018                   M           SETT
19629 000039DA 3D3E                   M           ADDC    R3,R13                          ;0+1+R2
19630 000039DC 353E                   M           ADDC    R3,R5                           ;
19631 000039DE                   6299     POS_PLS_OUTDAT_400:                                                     ;
19632                            6300     
19633                            6301     
19634                            6302             SUB_END
19635                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19636 000039DE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19637                            6303             M_RTS
19638 000039E0 000B                   M           RTS                             ;RTSの後ろの
19639 000039E2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19640                            6304     
19641                            6305     
19642                            6306     ;       ***********************************
19643                            6307     ;       ***                             ***
19644                            6308     ;       ***     連続開始                ***
19645                            6309     ;       ***                             ***
19646                            6310     ;       ***********************************
19647                            6311     ;       安全一工程、連続、オプション
19648                            6312     ;       寸動と
19649                            6313     
19650                                     ***** BEGIN-POOL *****
19651 000039E4 00000000                   DATA FOR SOURCE-LINE 6284
19652 000039E8 00000000                   DATA FOR SOURCE-LINE 6289
19653 000039EC 00000000                   DATA FOR SOURCE-LINE 6289
19654 000039F0 00000000                   DATA FOR SOURCE-LINE 6294
19655                                     ***** END-POOL *****
19656 000039F4                   6314             .ALIGN  4                               ;
19657 000039F4                   6315     _MOTION_CYCLE_START:
19658                            6316             SUB_START
19659 000039F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
19660                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19661                            6317     ;;      MOV.L   #_MODE_SEL,R1                   ;
19662                            6318     ;;      MOV.W   @R1,R0                          ;
19663                            6319     ;;      TST     #_W1CNT,R0                      ;
19664                            6320     ;;      TST_BIT_OF MOTION_CYC_ST100             ;
19665                            6321     ;;      FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
19666                            6322     ;;MOTION_CYC_ST100:                             ;
19667                            6323     
19668                            6324     
19669                            6325             FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   245
PROGRAM NAME =

19670 000039F6 D00E                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19671 000039F8 400B                   M           JSR     @R0                     ;
19672 000039FA 0009                   M           NOP                                     ;
19673                            6326             FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
19674 000039FC D00D                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19675 000039FE 400B                   M           JSR     @R0                     ;
19676 00003A00 0009                   M           NOP                                     ;
19677                            6327     
19678 00003A02 D10D              6328             MOV.L   #_MODE_SEL,R1                   ;
19679 00003A04 6011              6329             MOV.W   @R1,R0                          ;
19680 00003A06 C81E              6330             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0 ;
19681                            6331             TST_BIT_OF MOTION_CYC_ST200             ;
19682 00003A08 8909                   M           BT      MOTION_CYC_ST200
19683                            6332     
19684 00003A0A D10C              6333             MOV.L   #_CPOS_CTL_MATH,R1              ;
19685 00003A0C 6011              6334             MOV.W   @R1,R0                          ;
19686                            6335     ;;2009-10-07    TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
19687 00003A0E C805              6336             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-07_DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
19688                            6337             TST_BIT_OF DAI_CHK01_100
19689 00003A10 8902                   M           BT      DAI_CHK01_100
19690                            6338     
19691                            6339     ;;;2003-02-03   FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;
19692                            6340             FAR_JSR #_DAI_FULL_SCALE_SMP_INI,R0     ;2003-02-03
19693 00003A12 D00B                   M           MOV.L   #_DAI_FULL_SCALE_SMP_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19694 00003A14 400B                   M           JSR     @R0                     ;
19695 00003A16 0009                   M           NOP                                     ;
19696                            6341     
19697 00003A18                   6342     DAI_CHK01_100
19698                            6343     
19699                            6344             FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
19700 00003A18 D00A                   M           MOV.L   #_CYCLE_TIME_REFLASH_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19701 00003A1A 400B                   M           JSR     @R0                     ;
19702 00003A1C 0009                   M           NOP                                     ;
19703                            6345     
19704 00003A1E                   6346     MOTION_CYC_ST200:                               ;
19705                            6347     
19706                            6348             FAR_JSR #_MOST_DISP_DAT_INI,R0
19707 00003A1E D00A                   M           MOV.L   #_MOST_DISP_DAT_INI,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19708 00003A20 400B                   M           JSR     @R0                     ;
19709 00003A22 0009                   M           NOP                                     ;
19710                            6349     
19711                            6350     ;       ----------------------------------------
19712                            6351             .AIF    0 EQ    0
19713                            6352 C           FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
19714 00003A24 D009                   M           MOV.L   #_API_IVW_CYC_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19715 00003A26 400B                   M           JSR     @R0                     ;
19716 00003A28 0009                   M           NOP                                     ;
19717                            6353 C   ;;;;;2012-10-19 削除    FAR_JSR #_OVERH_CYC_START,R0                    ;2012-09-25
19718                            6354             .AENDI
19719                            6355     
19720                            6356             SUB_END
19721                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19722 00003A2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19723                            6357             M_RTS
19724 00003A2C 000B                   M           RTS                             ;RTSの後ろの
19725 00003A2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   246
PROGRAM NAME =

19726                            6358     
19727                            6359     ;
19728                            6360     ;       止まる時に１回通る/止まらないときも
19729                            6361     
19730                                     ***** BEGIN-POOL *****
19731 00003A30 00000000                   DATA FOR SOURCE-LINE 6325
19732 00003A34 00000000                   DATA FOR SOURCE-LINE 6326
19733 00003A38 00000000                   DATA FOR SOURCE-LINE 6328
19734 00003A3C 00000000                   DATA FOR SOURCE-LINE 6333
19735 00003A40 00000000                   DATA FOR SOURCE-LINE 6340
19736 00003A44 00000000                   DATA FOR SOURCE-LINE 6344
19737 00003A48 00000000                   DATA FOR SOURCE-LINE 6348
19738 00003A4C 00000000                   DATA FOR SOURCE-LINE 6352
19739                                     ***** END-POOL *****
19740 00003A50                   6362             .ALIGN  4                               ;
19741 00003A50                   6363     _MOTION_CYCLE_END:
19742                            6364             SUB_START
19743 00003A50 4F22                   M           STS.L   PR,@-R15                ;[必要]
19744                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19745                            6365     ;       ======= 描画用 ====
19746                            6366             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
19747 00003A52 D111                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
19748 00003A54 6011                   M           MOV.W   @R1,R0          ;
19749 00003A56 CB01                   M           OR      #BIT0,R0                ;
19750 00003A58 2101                   M           MOV.W   R0,@R1          ;
19751                            6367     ;;;;    FAR_JSR #_LOT_SIG_SET,R0                                                ;
19752                            6368     ;;;;    FAR_JSR #_LOT_SIG_FLG_CLR,R0                                            ;
19753                            6369             FAR_JSR #_CYCLE_TIME_REFLASH_END,R0                                     ;
19754 00003A5A D010                   M           MOV.L   #_CYCLE_TIME_REFLASH_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19755 00003A5C 400B                   M           JSR     @R0                     ;
19756 00003A5E 0009                   M           NOP                                     ;
19757                            6370     
19758                            6371     ;       ============================================
19759 00003A60 D10F              6372             MOV.L   #_CPOS_CTL_MATH,R1              ;
19760 00003A62 6011              6373             MOV.W   @R1,R0                          ;
19761                            6374     ;;[20091007下振子]      TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
19762 00003A64 C805              6375             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-0_7DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
19763                            6376             TST_BIT_OF DAI_CHK03_300
19764 00003A66 8908                   M           BT      DAI_CHK03_300
19765                            6377     
19766                            6378             FAR_JSR #_DAI_FULL_SCALE_SMP_END,R0     ;2003-02-03
19767 00003A68 D00E                   M           MOV.L   #_DAI_FULL_SCALE_SMP_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19768 00003A6A 400B                   M           JSR     @R0                     ;
19769 00003A6C 0009                   M           NOP                                     ;
19770                            6379             FAR_JSR #_DAI_MOSTPOS_CMPARE,R0         ;
19771 00003A6E D00E                   M           MOV.L   #_DAI_MOSTPOS_CMPARE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19772 00003A70 400B                   M           JSR     @R0                     ;
19773 00003A72 0009                   M           NOP                                     ;
19774                            6380     
19775                            6381             FAR_JSR #_KJPHOS_SMPLING_END1,R0        ;2004-07-05
19776 00003A74 D00D                   M           MOV.L   #_KJPHOS_SMPLING_END1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19777 00003A76 400B                   M           JSR     @R0                     ;
19778 00003A78 0009                   M           NOP                                     ;
19779                            6382     
19780 00003A7A                   6383     DAI_CHK03_300:
19781                            6384     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT4,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   247
PROGRAM NAME =

19782                            6385     
19783                            6386             .AIF    0 EQ    0
19784                            6387 C           .IMPORT _TRD_SIG_SET
19785                            6388 C           FAR_JSR #_TRD_SIG_SET,R0                        ;2006-11-20
19786 00003A7A D00D                   M           MOV.L   #_TRD_SIG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19787 00003A7C 400B                   M           JSR     @R0                     ;
19788 00003A7E 0009                   M           NOP                                     ;
19789                            6389             .AENDI
19790                            6390     
19791                            6391              .AIF   1 EQ 1  ;
19792                            6392 C   ;       -------- 2016-10-31 ADD 二重回路対策
19793                            6393              .AENDI
19794                            6394     ;;;;2016-10-31  FAR_JSR #_DNM_CYCLE_END,R0      ;
19795                            6395     
19796                            6396     ;       ------------- 2007-12-12 ---------------
19797                            6397             FAR_JSR #_CYCL_DOWN_POS_REF,R0          ;
19798 00003A80 D00C                   M           MOV.L   #_CYCL_DOWN_POS_REF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19799 00003A82 400B                   M           JSR     @R0                     ;
19800 00003A84 0009                   M           NOP                                     ;
19801                            6398     
19802                            6399     
19803                            6400             .AIF    0 EQ    0
19804                            6401 C           FAR_JSR #_OVERH_CYC_END,R0                      ;2012-09-25
19805 00003A86 D00C                   M           MOV.L   #_OVERH_CYC_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19806 00003A88 400B                   M           JSR     @R0                     ;
19807 00003A8A 0009                   M           NOP                                     ;
19808                            6402             .AENDI
19809                            6403     
19810                            6404     ;       ----------- 2014-09-20-----------
19811                            6405             FAR_JSR #_MOT_REP_CLR,R0
19812 00003A8C D00B                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19813 00003A8E 400B                   M           JSR     @R0                     ;
19814 00003A90 0009                   M           NOP                                     ;
19815                            6406     
19816                            6407             SUB_END
19817                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19818 00003A92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19819                            6408             M_RTS
19820 00003A94 000B                   M           RTS                             ;RTSの後ろの
19821 00003A96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19822                            6409     
19823                            6410     
19824                            6411     ;       *******************************************
19825                            6412     ;       ***             2007-12-12              ***
19826                            6413     ;       *******************************************
19827                                     ***** BEGIN-POOL *****
19828 00003A98 00000000                   DATA FOR SOURCE-LINE 6366
19829 00003A9C 00000000                   DATA FOR SOURCE-LINE 6369
19830 00003AA0 00000000                   DATA FOR SOURCE-LINE 6372
19831 00003AA4 00000000                   DATA FOR SOURCE-LINE 6378
19832 00003AA8 00000000                   DATA FOR SOURCE-LINE 6379
19833 00003AAC 00000000                   DATA FOR SOURCE-LINE 6381
19834 00003AB0 00000000                   DATA FOR SOURCE-LINE 6388
19835 00003AB4 00000000                   DATA FOR SOURCE-LINE 6397
19836 00003AB8 00000000                   DATA FOR SOURCE-LINE 6401
19837 00003ABC 00000000                   DATA FOR SOURCE-LINE 6405
19838                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   248
PROGRAM NAME =

19839 00003AC0                   6414             .ALIGN  4                               ;
19840 00003AC0                   6415     _CYCL_DOWN_POS_REF:
19841                            6416             SUB_START
19842 00003AC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
19843                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19844                            6417     ;;      MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19845                            6418     ;;      MOV.L   @R1,R0                          ;
19846 00003AC2 D103              6419             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
19847 00003AC4 6012              6420             MOV.L   @R1,R0                          ;
19848 00003AC6 D103              6421             MOV.L   #_SHOT_MOST_DOWN_POS,R1
19849 00003AC8 2102              6422             MOV.L   R0,@R1                          ;
19850                            6423             SUB_END
19851                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19852 00003ACA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19853                            6424             M_RTS
19854 00003ACC 000B                   M           RTS                             ;RTSの後ろの
19855 00003ACE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19856                            6425     
19857                            6426     ;       *******************************************
19858                            6427     ;       ***     どのﾓｰﾄﾞでも1回しかこない       ***
19859                            6428     ;       *******************************************
19860                            6429     ;       止まるとき（安全一、連続停止時２回通る）
19861                            6430     ;
19862                                     ***** BEGIN-POOL *****
19863 00003AD0 00000000                   DATA FOR SOURCE-LINE 6419
19864 00003AD4 00000000                   DATA FOR SOURCE-LINE 6421
19865                                     ***** END-POOL *****
19866 00003AD8                   6431             .ALIGN  4                               ;
19867 00003AD8                   6432     _MOTION_CYCLE_ED2:
19868                            6433             SUB_START
19869 00003AD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
19870                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19871                            6434     
19872                            6435     ;       ==========================
19873 00003ADA D104              6436             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;//非表示ｶｳﾝﾀ 2->1->0(表示)
19874 00003ADC 6011              6437             MOV.W   @R1,R0                  ;
19875 00003ADE 2008              6438             TST     R0,R0                   ;
19876                            6439             TST_BIT_OF MOTCYC_ED2_050       ;
19877 00003AE0 8901                   M           BT      MOTCYC_ED2_050
19878 00003AE2 70FF              6440             ADD     #-1,R0                  ;
19879 00003AE4 2101              6441             MOV.W   R0,@R1                  ;
19880 00003AE6                   6442     MOTCYC_ED2_050:
19881                            6443     
19882                            6444     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT5,R0
19883                            6445     
19884                            6446             SUB_END
19885                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19886 00003AE6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19887                            6447             M_RTS
19888 00003AE8 000B                   M           RTS                             ;RTSの後ろの
19889 00003AEA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19890                            6448     
19891                                     ***** BEGIN-POOL *****
19892 00003AEC 00000000                   DATA FOR SOURCE-LINE 6436
19893                                     ***** END-POOL *****
19894 00003AF0                   6449             .ALIGN  4                               ;
19895                            6450     ;;;2016-10-31
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   249
PROGRAM NAME =

19896                            6451     ;;;;_DBG_END_CNT1:
19897                            6452     ;;;;    SUB_START
19898                            6453     ;;;;    .AIF    0 EQ    0
19899                            6454     ;;;;    MOV.L   #_PVP_A_LOT_CNT1,R1
19900                            6455     ;;;;    .AELSE
19901                            6456     ;;;;    MOV.L   #_PVP_B_LOT_CNT1,R1
19902                            6457     ;;;;    .AENDI
19903                            6458     ;;;;    MOV.W   @R1,R0
19904                            6459     ;;;;    ADD     #1,R0
19905                            6460     ;;;;    MOV.W   R0,@R1  ;
19906                            6461     ;;;;    SUB_END
19907                            6462     ;;;;    M_RTS
19908                            6463     ;;;;
19909                            6464     ;;;;    .ALIGN  4                               ;
19910                            6465     ;;;;_DBG_END_CNT2:
19911                            6466     ;;;;    SUB_START
19912                            6467     ;;;;    .AIF    0 EQ    0
19913                            6468     ;;;;    MOV.L   #_PVP_A_LOT_CNT2,R1
19914                            6469     ;;;;    .AELSE
19915                            6470     ;;;;    MOV.L   #_PVP_B_LOT_CNT2,R1
19916                            6471     ;;;;    .AENDI
19917                            6472     ;;;;    MOV.W   @R1,R0
19918                            6473     ;;;;    ADD     #1,R0
19919                            6474     ;;;;    MOV.W   R0,@R1  ;
19920                            6475     ;;;;    SUB_END
19921                            6476     ;;;;    M_RTS
19922                            6477     ;;;;
19923                            6478     ;;;;_DBG_END_CNT3:
19924                            6479     ;;;;    SUB_START
19925                            6480     ;;;;    .AIF    0 EQ    0
19926                            6481     ;;;;    MOV.L   #_PVP_A_LOT_CNT3,R1
19927                            6482     ;;;;    .AELSE
19928                            6483     ;;;;    MOV.L   #_PVP_B_LOT_CNT3,R1
19929                            6484     ;;;;    .AENDI
19930                            6485     ;;;;    MOV.W   @R1,R0
19931                            6486     ;;;;    ADD     #1,R0
19932                            6487     ;;;;    MOV.W   R0,@R1  ;
19933                            6488     ;;;;    SUB_END
19934                            6489     ;;;;    M_RTS
19935                            6490     ;;;;
19936                            6491     ;;;;_DBG_END_CNT4:
19937                            6492     ;;;;    SUB_START
19938                            6493     ;;;;    .AIF    0 EQ    0
19939                            6494     ;;;;    MOV.L   #_PVP_A_LOT_CNT4,R1
19940                            6495     ;;;;    .AELSE
19941                            6496     ;;;;    MOV.L   #_PVP_B_LOT_CNT4,R1
19942                            6497     ;;;;    .AENDI
19943                            6498     ;;;;    MOV.W   @R1,R0
19944                            6499     ;;;;    ADD     #1,R0
19945                            6500     ;;;;    MOV.W   R0,@R1  ;
19946                            6501     ;;;;    SUB_END
19947                            6502     ;;;;    M_RTS
19948                            6503     ;;;;
19949                            6504     ;;;;_DBG_END_CNT5:
19950                            6505     ;;;;    SUB_START
19951                            6506     ;;;;    .AIF    0 EQ    0
19952                            6507     ;;;;    MOV.L   #_PVP_A_LOT_CNT5,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   250
PROGRAM NAME =

19953                            6508     ;;;;    .AELSE
19954                            6509     ;;;;    MOV.L   #_PVP_B_LOT_CNT5,R1
19955                            6510     ;;;;    MOV.W   @R1,R0
19956                            6511     ;;;;    ADD     #1,R0
19957                            6512     ;;;;    MOV.W   R0,@R1  ;
19958                            6513     ;;;;    .AENDI
19959                            6514     ;;;;    SUB_END
19960                            6515     ;;;;    M_RTS
19961                            6516     ;;;;
19962                            6517     
19963                            6518     
19964                            6519     
19965                            6520     
19966                            6521     ;       ***********************************
19967                            6522     ;       ***     200usec --> 2msec       ***
19968                            6523     ;       ***********************************
19969                            6524     
19970                            6525     ;       ***********************************
19971                            6526     ;       ***     200usec --> 2msec       ***
19972                            6527     ;       ***********************************
19973 00003AF0                   6528             .ALIGN  4                               ;
19974 00003AF0                   6529     _INT_POS_DATA_REF:
19975                            6530             SUB_START
19976 00003AF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
19977                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19978                            6531             SUB_END
19979                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19980 00003AF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19981                            6532             M_RTS
19982 00003AF4 000B                   M           RTS                             ;RTSの後ろの
19983 00003AF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19984                            6533     
19985                            6534     
19986                            6535     ;       ***********************************
19987                            6536     ;       ***     払い出しカウント        ***
19988                            6537     ;       ***********************************
19989                            6538             .EXPORT _OUT_UP_DN_TOTAL_CNT
19990 00003AF8                   6539             .ALIGN  4                               ;
19991 00003AF8                   6540     _OUT_UP_DN_TOTAL_CNT:
19992                            6541             SUB_START
19993 00003AF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
19994                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19995                            6542     
19996                            6543     ;;;;;   いらない
19997                            6544     ;;;;;   -2013-04-14 [１段目停止位置＝２段目停止位置などでﾘｱﾙと払出完了のﾀｲﾐﾝｸﾞ用]---------
19998                            6545     ;;;;;   FAR_JSR #_LOD_POS_STS_REG_POR,R0        ;
19999                            6546     ;;;;;   MOV.L   #_PLS_OUT_END_STS,R1            ;
20000                            6547     ;;;;;;  MOV.W   R0,@R1                          ;BIT2=1 ﾊﾟﾙｽ出力完了
20001                            6548     ;       ----------------------------------------------------
20002                            6549     
20003                            6550     
20004                            6551     
20005                            6552     
20006                            6553     
20007                            6554     
20008                            6555     
20009                            6556     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   251
PROGRAM NAME =

20010                            6557     
20011 00003AFA D621              6558             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(
                                          残ﾊﾟﾙｽではない)
20012 00003AFC 6061              6559             MOV.W   @R6,R0                                                  ;+/-に関わらず+す
                                          るｶｳﾝﾀ
20013                            6560     
20014                            6561     ;       -----------------2007-11-26 前回と同じならもう一度読み込みを行う----------------
20015 00003AFE D421              6562             MOV.L   #_CHK_LSI_LOAD_OUT_CNT,R4                               ;
20016 00003B00 6141              6563             MOV.W   @R4,R1
20017 00003B02 2401              6564             MOV.W   R0,@R4
20018 00003B04 3100              6565             CMP/EQ  R0,R1
20019 00003B06 8B01              6566             BF      OUTPLS_CNT_CHK010                                       ;
20020 00003B08 D61D              6567             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;
20021 00003B0A 6061              6568             MOV.W   @R6,R0                                                  ;
20022 00003B0C                   6569     OUTPLS_CNT_CHK010:                                                      ;
20023                            6570     
20024                            6571     
20025                            6572     
20026 00003B0C 9436              6573             MOV.W   #H'FF00,R4
20027 00003B0E 6203              6574             MOV     R0,R2
20028 00003B10 2249              6575             AND     R4,R2
20029                            6576     
20030 00003B12 6161              6577             MOV.W   @R6,R1                                                  ;
20031 00003B14 2149              6578             AND     R4,R1
20032 00003B16 3210              6579             CMP/EQ  R1,R2                                                   ;桁　FFFF=>0　上位
                                          8BITが一致している
20033 00003B18 8900              6580             BT      OUTPLS_CNT_CHK020                                       ;
20034 00003B1A 6061              6581             MOV.W   @R6,R0                                                  ;
20035 00003B1C                   6582     OUTPLS_CNT_CHK020:                                                      ;
20036                            6583     
20037                            6584     
20038 00003B1C D11A              6585             MOV.L   #_POSLSI_CHK_CNT,R1                                     ;
20039 00003B1E 6211              6586             MOV.W   @R1,R2                                                  ;
20040 00003B20 2101              6587             MOV.W   R0,@R1                                                  ;
20041 00003B22 622D              6588             EXTU.W  R2,R2                                                   ;
20042 00003B24 600D              6589             EXTU.W  R0,R0                                                   ;
20043 00003B26 3028              6590             SUB     R2,R0                                                   ;
20044 00003B28 600F              6591             EXTS.W  R0,R0                                                   ;
20045 00003B2A 4011              6592             CMP/PZ  R0                                                      ;
20046 00003B2C 8900              6593             BT      OUTPLS_CNT_CHK050                                       ;
20047 00003B2E 600B              6594             NEG     R0,R0                                                   ;
20048 00003B30                   6595     OUTPLS_CNT_CHK050:                                                      ;
20049 00003B30 D116              6596             MOV.L   #_POSLSI_CHK_DLT,R1                                     ;変化量 +のみ
20050 00003B32 2101              6597             MOV.W   R0,@R1                                                  ;
20051 00003B34 D416              6598             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
20052 00003B36 6141              6599             MOV.W   @R4,R1
20053 00003B38 9321              6600             MOV.W   #BIT0,R3                                                ;
20054                            6601     
20055                            6602     
20056 00003B3A 255A              6603             XOR     R5,R5                                                   ;
20057 00003B3C 6603              6604             MOV     R0,R6                                                   ;
20058                            6605     
20059 00003B3E 2138              6606             TST     R3,R1                                                   ;
20060                            6607             TST_BIT_OF OUTPLS_CNT_CHK100                                    ;BIT3=0 "+"
20061 00003B40 8903                   M           BT      OUTPLS_CNT_CHK100
20062 00003B42 666B              6608             NEG     R6,R6                                                   ;
20063 00003B44 4611              6609             CMP/PZ  R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   252
PROGRAM NAME =

20064 00003B46 8900              6610             BT      OUTPLS_CNT_CHK100                                       ;
20065 00003B48 75FF              6611             ADD     #-1,R5                                                  ;
20066 00003B4A                   6612     OUTPLS_CNT_CHK100:                                                      ;
20067                            6613     
20068                            6614     ;       === 2003-07-01 1msec差分速度算出用 ==
20069 00003B4A D312              6615             MOV.L   #_OUTPLS_DELT,R3                        ;符号付
20070 00003B4C 2361              6616             MOV.W   R6,@R3                                  ;
20071                            6617     
20072                            6618     ;       =====================================
20073                            6619             PUSH_REG1 R5                                                    ;異常測定用
20074 00003B4E 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
20075                                 M                                           ;REG=>[SP]
20076                                 M                                           ;"-4" FF,FF,FF,FC
20077                            6620             PUSH_REG1 R6                                                    ;
20078 00003B50 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
20079                                 M                                           ;REG=>[SP]
20080                                 M                                           ;"-4" FF,FF,FF,FC
20081 00003B52 D311              6621             MOV.L   #_POSLSI_OUTPUT_TOTAL_PLS,R3                            ;
20082 00003B54 6132              6622             MOV.L   @R3,R1                                                  ;
20083 00003B56 5231              6623             MOV.L   @(4,R3),R2                                              ;
20084                            6624             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
20085 00003B58 0008                   M           CLRT
20086 00003B5A 326E                   M           ADDC    R6,R2
20087 00003B5C 315E                   M           ADDC    R5,R1
20088 00003B5E 2312              6625             MOV.L   R1,@R3                                                  ;
20089 00003B60 1321              6626             MOV.L   R2,@(4,R3)                                              ;
20090                            6627             POP_REG1 R6                                                     ;
20091                                 M                                   ; RE"+4" 00,00,00,04
20092 00003B62 66F6                   M           MOV.L   @R15+,R6        ;
20093                            6628             POP_REG1 R5                                                     ;
20094                                 M                                   ; RE"+4" 00,00,00,04
20095 00003B64 65F6                   M           MOV.L   @R15+,R5        ;
20096                            6629     
20097                            6630     ;       =========       20060919 現在位置管理用 =============
20098 00003B66 D30D              6631             MOV.L   #_LINK_RL_OBJ_ABSPLS,R3                         ;
20099 00003B68 6132              6632             MOV.L   @R3,R1                                                  ;
20100 00003B6A 5231              6633             MOV.L   @(4,R3),R2                                              ;
20101                            6634             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
20102 00003B6C 0008                   M           CLRT
20103 00003B6E 326E                   M           ADDC    R6,R2
20104 00003B70 315E                   M           ADDC    R5,R1
20105 00003B72 2312              6635             MOV.L   R1,@R3                                                  ;
20106 00003B74 1321              6636             MOV.L   R2,@(4,R3)                                              ;
20107                            6637     
20108                            6638     
20109                            6639     
20110                            6640             SUB_END
20111                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20112 00003B76 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20113                            6641             M_RTS
20114 00003B78 000B                   M           RTS                             ;RTSの後ろの
20115 00003B7A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20116                            6642     
20117                            6643     ;       *******************************************
20118                            6644     ;       ***                                     ***
20119                            6645     ;       ***                                     ***
20120                            6646     ;       ***             ニアゼロチェック        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   253
PROGRAM NAME =

20121                            6647     ;       ***                                     ***
20122                            6648     ;       *******************************************
20123                            6649     ;       R0= -1:完了
20124                            6650     ;
20125                                     ***** BEGIN-POOL *****
20126 00003B7C FF00                       DATA FOR SOURCE-LINE 6573
20127 00003B7E 0001                       DATA FOR SOURCE-LINE 6600
20128 00003B80 00000000                   DATA FOR SOURCE-LINE 6558,6567
20129 00003B84 00000000                   DATA FOR SOURCE-LINE 6562
20130 00003B88 00000000                   DATA FOR SOURCE-LINE 6585
20131 00003B8C 00000000                   DATA FOR SOURCE-LINE 6596
20132 00003B90 00000000                   DATA FOR SOURCE-LINE 6598
20133 00003B94 00000000                   DATA FOR SOURCE-LINE 6615
20134 00003B98 00000000                   DATA FOR SOURCE-LINE 6621
20135 00003B9C 00000000                   DATA FOR SOURCE-LINE 6631
20136                                     ***** END-POOL *****
20137 00003BA0                   6651             .ALIGN  4                               ;
20138 00003BA0                   6652     _OPEN_ROT_NEAR1_ZERO_CHK:
20139                            6653             SUB_START
20140 00003BA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
20141                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20142                            6654             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
20143 00003BA2 D008                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20144 00003BA4 400B                   M           JSR     @R0                     ;
20145 00003BA6 0009                   M           NOP                                     ;
20146                            6655     
20147                            6656     ;       =====2009-10-07　連続のふりこ専用ｲﾝﾎﾟｼﾞｼｮﾝ(h2wはふりこ＋反転)
20148 00003BA8 D107              6657             MOV.L   #_MODE_SEL,R1                   ;
20149 00003BAA 6011              6658             MOV.W   @R1,R0                          ;
20150 00003BAC C808              6659             TST     #_W1CNT,R0                      ;
20151                            6660             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20       ;
20152 00003BAE 8911                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20153                            6661     
20154                            6662     ;       -----2009-10-07 ADD(ふりこの場合の連続ﾓｰﾄﾞのみニアゼロ幅を変える) h2wは反転も-----
                                          -
20155 00003BB0 D306              6663             MOV.L   #_SET1_OBJARA_INPXPSX,R3                ;ふりこ用2007-11-13
20156 00003BB2 6431              6664             MOV.W   @R3,R4                                  ;
20157 00003BB4 2448              6665             TST     R4,R4                                   ;
20158                            6666             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;"0以外"
20159 00003BB6 890D                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20160                            6667     
20161 00003BB8 D105              6668             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20162 00003BBA 6011              6669             MOV.W   @R1,R0                                  ;
20163                            6670     ;;;h2w  TST     #(_DMATH_REVRSE+_DMATH_DNDRIV),R0       ;DRIVE MATH 反転,ふりこ
20164 00003BBC C804              6671             TST     #(_DMATH_DNDRIV),R0                     ;DRIVE MATH ふりこ
20165                            6672             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;
20166 00003BBE 8909                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20167                            6673             M_BRA   OPEN_ROT_NEAR1_ZR_CK40
20168 00003BC0 A00A                   M           BRA     OPEN_ROT_NEAR1_ZR_CK40
20169 00003BC2 0009                   M           NOP
20170                            6674     
20171                            6675     
20172                                     ***** BEGIN-POOL *****
20173 00003BC4 00000000                   DATA FOR SOURCE-LINE 6654
20174 00003BC8 00000000                   DATA FOR SOURCE-LINE 6657
20175 00003BCC 00000000                   DATA FOR SOURCE-LINE 6663
20176 00003BD0 00000000                   DATA FOR SOURCE-LINE 6668
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   254
PROGRAM NAME =

20177                                     ***** END-POOL *****
20178 00003BD4                   6676     OPEN_ROT_NEAR1_ZR_CK20:
20179 00003BD4 D307              6677             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
20180 00003BD6 6431              6678             MOV.W   @R3,R4                          ;
20181 00003BD8                   6679     OPEN_ROT_NEAR1_ZR_CK40:                         ;
20182 00003BD8 3423              6680             CMP/GE  R2,R4                           ;R2 =< MAX
20183 00003BDA 890F              6681             BT      OPEN_ROT_NEAR1_ZR_CK50          ;
20184                            6682     ;       ==== ﾆｱｾﾞﾛ待ち======
20185                            6683             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20186 00003BDC D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20187 00003BDE 6011                   M           MOV.W   @R1,R0          ;
20188 00003BE0 CB01                   M           OR      #BIT0,R0                ;
20189 00003BE2 2101                   M           MOV.W   R0,@R1          ;
20190                            6684             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20191 00003BE4 D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20192 00003BE6 6011                   M           MOV.W   @R1,R0          ;
20193 00003BE8 C9FD                   M           AND     #LOW ~BIT1,R0           ;
20194 00003BEA 2101                   M           MOV.W   R0,@R1          ;
20195                            6685     ;       ===============================================
20196 00003BEC 200A              6686             XOR     R0,R0                           ;
20197                            6687             M_BRA   OPEN_ROT_NEAR1_ZR_CK100
20198 00003BEE A016                   M           BRA     OPEN_ROT_NEAR1_ZR_CK100
20199 00003BF0 0009                   M           NOP
20200                            6688     
20201                                     ***** BEGIN-POOL *****
20202 00003BF2 0000                       ALIGNMENT CODE
20203 00003BF4 00000000                   DATA FOR SOURCE-LINE 6677
20204 00003BF8 00000000                   DATA FOR SOURCE-LINE 6683,6684
20205                                     ***** END-POOL *****
20206 00003BFC                   6689     OPEN_ROT_NEAR1_ZR_CK50:
20207                            6690     ;       =========[ﾆｱｾﾞﾛ]======================================
20208                            6691             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
20209 00003BFC D109                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
20210 00003BFE 6011                   M           MOV.W   @R1,R0          ;
20211 00003C00 CB01                   M           OR      #BIT0,R0                ;
20212 00003C02 2101                   M           MOV.W   R0,@R1          ;
20213                            6692             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT0,WKREG=R1 ;2012-12-10 DEB
                                          UG
20214 00003C04 D108                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
20215 00003C06 6011                   M           MOV.W   @R1,R0          ;
20216 00003C08 CB01                   M           OR      #BIT0,R0                ;
20217 00003C0A 2101                   M           MOV.W   R0,@R1          ;
20218                            6693     
20219                            6694     
20220                            6695     
20221                            6696             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20222 00003C0C D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20223 00003C0E 6011                   M           MOV.W   @R1,R0          ;
20224 00003C10 C9FE                   M           AND     #LOW ~BIT0,R0           ;
20225 00003C12 2101                   M           MOV.W   R0,@R1          ;
20226                            6697             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20227 00003C14 D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20228 00003C16 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   255
PROGRAM NAME =

20229 00003C18 CB02                   M           OR      #BIT1,R0                ;
20230 00003C1A 2101                   M           MOV.W   R0,@R1          ;
20231                            6698     
20232                            6699     ;       ===============================================
20233 00003C1C E0FF              6700             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
20234 00003C1E                   6701     OPEN_ROT_NEAR1_ZR_CK100:                                ;
20235                            6702             SUB_END
20236                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20237 00003C1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20238                            6703             M_RTS
20239 00003C20 000B                   M           RTS                             ;RTSの後ろの
20240 00003C22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20241                            6704     
20242                            6705     ;       *******************************************
20243                            6706     ;       ***                                     ***
20244                            6707     ;       ***     反転の戻り工程だけの            ***
20245                            6708     ;       ***             ニアゼロチェック        ***
20246                            6709     ;       ***                                     ***
20247                            6710     ;       *******************************************
20248                            6711     ;       R0= -1:完了
20249                            6712     ;
20250                                     ***** BEGIN-POOL *****
20251 00003C24 00000000                   DATA FOR SOURCE-LINE 6691
20252 00003C28 00000000                   DATA FOR SOURCE-LINE 6692
20253 00003C2C 00000000                   DATA FOR SOURCE-LINE 6696,6697
20254                                     ***** END-POOL *****
20255 00003C30                   6713             .ALIGN  4                               ;
20256 00003C30                   6714     _OPEN_ROT_NEAR2_ZERO_CHK:
20257                            6715             SUB_START
20258 00003C30 4F22                   M           STS.L   PR,@-R15                ;[必要]
20259                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20260                            6716             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
20261 00003C32 D00A                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20262 00003C34 400B                   M           JSR     @R0                     ;
20263 00003C36 0009                   M           NOP                                     ;
20264 00003C38 D309              6717             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
20265 00003C3A 6431              6718             MOV.W   @R3,R4                          ;
20266 00003C3C 900D              6719             MOV.W   #D'1000,R0                      ;
20267 00003C3E 340C              6720             ADD     R0,R4                           ;目標位置+ｲﾝﾎﾟｼﾞｼｮﾝ+1000~-ｲﾝﾎﾟｼﾞｼｮﾝ-1000
20268                            6721     
20269 00003C40 3423              6722             CMP/GE  R2,R4                           ;R2 =< MAX
20270 00003C42 8911              6723             BT      OPEN_ROT_NEAR2_ZR_CK50          ;
20271                            6724     ;       ==== ﾆｱｾﾞﾛ待ち======
20272                            6725             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20273 00003C44 D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20274 00003C46 6011                   M           MOV.W   @R1,R0          ;
20275 00003C48 CB01                   M           OR      #BIT0,R0                ;
20276 00003C4A 2101                   M           MOV.W   R0,@R1          ;
20277                            6726             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20278 00003C4C D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20279 00003C4E 6011                   M           MOV.W   @R1,R0          ;
20280 00003C50 C9FD                   M           AND     #LOW ~BIT1,R0           ;
20281 00003C52 2101                   M           MOV.W   R0,@R1          ;
20282                            6727     ;       ===============================================
20283 00003C54 200A              6728             XOR     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   256
PROGRAM NAME =

20284                            6729             M_BRA   OPEN_ROT_NEAR2_ZR_CK100
20285 00003C56 A014                   M           BRA     OPEN_ROT_NEAR2_ZR_CK100
20286 00003C58 0009                   M           NOP
20287                            6730     
20288                                     ***** BEGIN-POOL *****
20289 00003C5A 03E8                       DATA FOR SOURCE-LINE 6719
20290 00003C5C 00000000                   DATA FOR SOURCE-LINE 6716
20291 00003C60 00000000                   DATA FOR SOURCE-LINE 6717
20292 00003C64 00000000                   DATA FOR SOURCE-LINE 6725,6726
20293                                     ***** END-POOL *****
20294 00003C68                   6731     OPEN_ROT_NEAR2_ZR_CK50:
20295                            6732     ;       =========[ﾆｱｾﾞﾛ]======================================
20296                            6733             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
20297 00003C68 D107                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
20298 00003C6A 6011                   M           MOV.W   @R1,R0          ;
20299 00003C6C CB01                   M           OR      #BIT0,R0                ;
20300 00003C6E 2101                   M           MOV.W   R0,@R1          ;
20301                            6734     
20302                            6735             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20303 00003C70 D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20304 00003C72 6011                   M           MOV.W   @R1,R0          ;
20305 00003C74 C9FE                   M           AND     #LOW ~BIT0,R0           ;
20306 00003C76 2101                   M           MOV.W   R0,@R1          ;
20307                            6736             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20308 00003C78 D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20309 00003C7A 6011                   M           MOV.W   @R1,R0          ;
20310 00003C7C CB02                   M           OR      #BIT1,R0                ;
20311 00003C7E 2101                   M           MOV.W   R0,@R1          ;
20312                            6737     
20313                            6738     ;       ===============================================
20314 00003C80 E0FF              6739             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
20315 00003C82                   6740     OPEN_ROT_NEAR2_ZR_CK100:                                ;
20316                            6741             SUB_END
20317                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20318 00003C82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20319                            6742             M_RTS
20320 00003C84 000B                   M           RTS                             ;RTSの後ろの
20321 00003C86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20322                            6743     
20323                            6744     
20324                            6745     ;       *******************************************
20325                            6746     ;       ***                                     ***
20326                            6747     ;       ***     カムへステップ完了を教える      ***
20327                            6748     ;       ***                                     ***
20328                            6749     ;       *******************************************
20329                            6750     ;       ﾀｲﾏ前
20330                                     ***** BEGIN-POOL *****
20331 00003C88 00000000                   DATA FOR SOURCE-LINE 6733
20332 00003C8C 00000000                   DATA FOR SOURCE-LINE 6735,6736
20333                                     ***** END-POOL *****
20334 00003C90                   6751             .ALIGN  4                               ;
20335 00003C90                   6752     _CAM_1STEP_END_SIG1:
20336                            6753             SUB_START
20337 00003C90 4F22                   M           STS.L   PR,@-R15                ;[必要]
20338                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   257
PROGRAM NAME =

20339 00003C92 D105              6754             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
20340 00003C94 6011              6755             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
20341 00003C96 4008              6756             SHLL2   R0                              ;
20342 00003C98 D204              6757             MOV.L   #_LONG_BIT_TBL0,R2              ;
20343 00003C9A 320C              6758             ADD     R0,R2                           ;
20344 00003C9C 6022              6759             MOV.L   @R2,R0                          ;
20345 00003C9E D104              6760             MOV.L   #_CAM_POS_STEP_END_FLG1,R1      ;//各工程の位置決め完了
20346 00003CA0 2101              6761             MOV.W   R0,@R1                          ;
20347                            6762             SUB_END
20348                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20349 00003CA2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20350                            6763             M_RTS
20351 00003CA4 000B                   M           RTS                             ;RTSの後ろの
20352 00003CA6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20353                            6764     
20354                            6765     ;       ﾀｲﾏ後
20355                                     ***** BEGIN-POOL *****
20356 00003CA8 00000000                   DATA FOR SOURCE-LINE 6754
20357 00003CAC 00000000                   DATA FOR SOURCE-LINE 6757
20358 00003CB0 00000000                   DATA FOR SOURCE-LINE 6760
20359                                     ***** END-POOL *****
20360 00003CB4                   6766             .ALIGN  4                               ;
20361 00003CB4                   6767     _CAM_1STEP_END_SIG2:
20362                            6768             SUB_START
20363 00003CB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20364                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20365 00003CB6 D105              6769             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
20366 00003CB8 6011              6770             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
20367 00003CBA 4008              6771             SHLL2   R0                              ;
20368 00003CBC D204              6772             MOV.L   #_LONG_BIT_TBL0,R2              ;
20369 00003CBE 320C              6773             ADD     R0,R2                           ;
20370 00003CC0 6022              6774             MOV.L   @R2,R0                          ;
20371 00003CC2 D104              6775             MOV.L   #_CAM_POS_STEP_END_FLG2,R1      ;//各工程の位置決め完了
20372 00003CC4 2101              6776             MOV.W   R0,@R1                          ;
20373                            6777             SUB_END
20374                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20375 00003CC6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20376                            6778             M_RTS
20377 00003CC8 000B                   M           RTS                             ;RTSの後ろの
20378 00003CCA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20379                            6779     
20380                            6780     ;       *******************************************
20381                            6781     ;       ***     ANS R1,R2 |目標-現在|=R2        ***
20382                            6782     ;       ***     ANS R0=0 目標>=現在             ***
20383                            6783     ;       *******************************************
20384                            6784     ;       4BYTE MAX +/ 7FFF,FFFF
20385                            6785             .EXPORT _INCENC_SV_HENSA_MAKE
20386                                     ***** BEGIN-POOL *****
20387 00003CCC 00000000                   DATA FOR SOURCE-LINE 6769
20388 00003CD0 00000000                   DATA FOR SOURCE-LINE 6772
20389 00003CD4 00000000                   DATA FOR SOURCE-LINE 6775
20390                                     ***** END-POOL *****
20391 00003CD8                   6786             .ALIGN  4                               ;
20392 00003CD8                   6787     _INCENC_SV_HENSA_MAKE:
20393                            6788             SUB_START
20394 00003CD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20395                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   258
PROGRAM NAME =

20396 00003CDA D40C              6789             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;//abs停止目標位置
                                          (設定ﾊﾞｯｸﾗｯｼなし)
20397 00003CDC 6142              6790             MOV.L   @R4,R1                                                  ;
20398 00003CDE 5241              6791             MOV.L   @(1*4,R4),R2                                            ;目標位置
20399 00003CE0 D40B              6792             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;20060919
20400 00003CE2 6542              6793             MOV.L   @R4,R5                                                  ;
20401 00003CE4 5641              6794             MOV.L   @(1*4,R4),R6                                            ;現在位置
20402                            6795             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
20403 00003CE6 0008                   M           CLRT
20404 00003CE8 326A                   M           SUBC    R6,R2
20405 00003CEA 315A                   M           SUBC    R5,R1
20406 00003CEC 6013              6796             MOV     R1,R0                           ;
20407 00003CEE 4111              6797             CMP/PZ  R1                              ;
20408 00003CF0 8905              6798             BT      INCENC_SV_HENSA_MK050           ;
20409                            6799             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3      ;
20410 00003CF2 6227                   M           NOT     R2,R2                           ;
20411 00003CF4 6117                   M           NOT     R1,R1                           ;
20412 00003CF6 233A                   M           XOR     R3,R3                           ;
20413 00003CF8 0018                   M           SETT
20414 00003CFA 323E                   M           ADDC    R3,R2                           ;0+1+R2
20415 00003CFC 313E                   M           ADDC    R3,R1                           ;
20416 00003CFE                   6800     INCENC_SV_HENSA_MK050:                          ;
20417 00003CFE 2118              6801             TST     R1,R1                           ;
20418                            6802             TST_BIT_OF INCENC_SV_HENSA_MK100        ;8byte
20419 00003D00 8900                   M           BT      INCENC_SV_HENSA_MK100
20420 00003D02 D204              6803             MOV.L   #H'7FFFFFFF,R2                  ;
20421 00003D04                   6804     INCENC_SV_HENSA_MK100:                          ;
20422                            6805     
20423                            6806             SUB_END
20424                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20425 00003D04 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20426                            6807             M_RTS
20427 00003D06 000B                   M           RTS                             ;RTSの後ろの
20428 00003D08 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20429                            6808     
20430                            6809     ;       ***********************************
20431                            6810     ;       ***     最下死点INITAL          ***
20432                            6811     ;       ***********************************
20433                                     ***** BEGIN-POOL *****
20434 00003D0A 0000                       ALIGNMENT CODE
20435 00003D0C 00000000                   DATA FOR SOURCE-LINE 6789
20436 00003D10 00000000                   DATA FOR SOURCE-LINE 6792
20437 00003D14 7FFFFFFF                   DATA FOR SOURCE-LINE 6803
20438                                     ***** END-POOL *****
20439 00003D18                   6812             .ALIGN  4                               ;
20440 00003D18                   6813     _MOST_DISP_DAT_INI:
20441                            6814             SUB_START
20442 00003D18 4F22                   M           STS.L   PR,@-R15                ;[必要]
20443                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20444 00003D1A D109              6815             MOV.L   #_CYCL_START_CNT,R1             ;
20445 00003D1C 6011              6816             MOV.W   @R1,R0                          ;
20446 00003D1E 7001              6817             ADD     #1,R0                           ;
20447 00003D20 2101              6818             MOV.W   R0,@R1                          ;起動回数
20448                            6819     
20449                            6820     ;       ======== 2007-12-12 ====================
20450 00003D22 D108              6821             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
20451 00003D24 6212              6822             MOV.L   @R1,R2                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   259
PROGRAM NAME =

20452 00003D26 D108              6823             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
20453 00003D28 2122              6824             MOV.L   R2,@R1                          ;
20454                            6825     ;       =========================================
20455                            6826     
20456                            6827     ;       ====== 最下死点処理======
20457 00003D2A D108              6828             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
20458 00003D2C 6012              6829             MOV.L   @R1,R0                          ;
20459 00003D2E D108              6830             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20460 00003D30 2102              6831             MOV.L   R0,@R1                          ;
20461                            6832     
20462 00003D32 D108              6833             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
20463 00003D34 6012              6834             MOV.L   @R1,R0                          ;
20464 00003D36 D108              6835             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20465 00003D38 2102              6836             MOV.L   R0,@R1                          ;
20466                            6837     ;       =========================
20467                            6838             SUB_END
20468                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20469 00003D3A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20470                            6839             M_RTS
20471 00003D3C 000B                   M           RTS                             ;RTSの後ろの
20472 00003D3E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20473                            6840     
20474                            6841     ;       ***********************************
20475                            6842     ;       ***     最下死点ｻﾝﾌﾟﾘﾝｸﾞ        ***
20476                            6843     ;       ***********************************
20477                                     ***** BEGIN-POOL *****
20478 00003D40 00000000                   DATA FOR SOURCE-LINE 6815
20479 00003D44 00000000                   DATA FOR SOURCE-LINE 6821
20480 00003D48 00000000                   DATA FOR SOURCE-LINE 6823
20481 00003D4C 00000000                   DATA FOR SOURCE-LINE 6828
20482 00003D50 00000000                   DATA FOR SOURCE-LINE 6830
20483 00003D54 00000000                   DATA FOR SOURCE-LINE 6833
20484 00003D58 00000000                   DATA FOR SOURCE-LINE 6835
20485                                     ***** END-POOL *****
20486 00003D5C                   6844             .ALIGN  4                               ;
20487 00003D5C                   6845     _MOST_DISP_DAT_SMP:
20488                            6846             SUB_START
20489 00003D5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20490                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20491                            6847     ;       ====== 最下死点処理======
20492 00003D5E D10D              6848             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
20493 00003D60 6012              6849             MOV.L   @R1,R0                          ;
20494 00003D62 D10D              6850             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20495 00003D64 6212              6851             MOV.L   @R1,R2                          ;
20496 00003D66 3023              6852             CMP/GE  R2,R0                           ; OLD < NEW(R0)
20497 00003D68 8900              6853             BT      MOST_DISP_DATSMP_050            ;
20498 00003D6A 6203              6854             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
20499 00003D6C                   6855     MOST_DISP_DATSMP_050:                           ;
20500 00003D6C 2122              6856             MOV.L   R2,@R1                          ;
20501                            6857     
20502 00003D6E D10B              6858             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
20503 00003D70 6012              6859             MOV.L   @R1,R0                          ;
20504 00003D72 D10B              6860             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20505 00003D74 6212              6861             MOV.L   @R1,R2                          ;
20506 00003D76 3203              6862             CMP/GE  R0,R2                           ;NEW(R0) < OLD
20507 00003D78 8900              6863             BT      MOST_DISP_DATSMP_100            ;
20508 00003D7A 6203              6864             MOV     R0,R2                           ;最大値ｻﾝﾌﾟﾘﾝｸﾞ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   260
PROGRAM NAME =

20509 00003D7C                   6865     MOST_DISP_DATSMP_100:                           ;
20510 00003D7C 2122              6866             MOV.L   R2,@R1                          ;
20511                            6867     ;       =========================
20512                            6868     
20513                            6869     ;       ======== 2007-12-12(RNA_ABS_POSの最小値) ======
20514                            6870     ;       ====== 最下死点処理======
20515 00003D7E D109              6871             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
20516 00003D80 6012              6872             MOV.L   @R1,R0                          ;
20517 00003D82 D109              6873             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;//
20518 00003D84 6212              6874             MOV.L   @R1,R2                          ;
20519 00003D86 3023              6875             CMP/GE  R2,R0                           ; OLD < NEW(R0)
20520 00003D88 8900              6876             BT      MOST_DISP_DATSMP_150            ;
20521 00003D8A 6203              6877             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
20522 00003D8C                   6878     MOST_DISP_DATSMP_150:                           ;
20523 00003D8C 2122              6879             MOV.L   R2,@R1                          ;
20524                            6880     ;       =========================================
20525                            6881     
20526                            6882             SUB_END
20527                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20528 00003D8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20529                            6883             M_RTS
20530 00003D90 000B                   M           RTS                             ;RTSの後ろの
20531 00003D92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20532                            6884     
20533                            6885     ;       ***********************************
20534                            6886     ;       ***                             ***
20535                            6887     ;       ***                             ***
20536                            6888     ;       ***                             ***
20537                            6889     ;       ***********************************
20538                                     ***** BEGIN-POOL *****
20539 00003D94 00000000                   DATA FOR SOURCE-LINE 6848
20540 00003D98 00000000                   DATA FOR SOURCE-LINE 6850
20541 00003D9C 00000000                   DATA FOR SOURCE-LINE 6858
20542 00003DA0 00000000                   DATA FOR SOURCE-LINE 6860
20543 00003DA4 00000000                   DATA FOR SOURCE-LINE 6871
20544 00003DA8 00000000                   DATA FOR SOURCE-LINE 6873
20545                                     ***** END-POOL *****
20546 00003DAC                   6890             .ALIGN  4                               ;
20547 00003DAC                   6891     _CMP_ERR_STS_REF:
20548                            6892             SUB_START
20549 00003DAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20550                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20551                            6893             SUB_END
20552                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20553 00003DAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20554                            6894             M_RTS
20555 00003DB0 000B                   M           RTS                             ;RTSの後ろの
20556 00003DB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20557                            6895     
20558                            6896     
20559                            6897     ;       ***********************************
20560                            6898     ;       ***     R0=0:停止 ELSE 動作     ***
20561                            6899     ;       ***********************************
20562                            6900     ;       == R0=0 停止 R0=FF 動作
20563                            6901     ;       USED R4,R1,R0
20564                            6902             .IMPORT _CPUA_PLS_OUTF  ;
20565                            6903             .IMPORT _CPUB_PLS_OUTF  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   261
PROGRAM NAME =

20566                            6904     
20567 00003DB4                   6905             .ALIGN  4                               ;
20568 00003DB4                   6906     _ERR_STOP_MOV_CHK:
20569                            6907             SUB_START
20570 00003DB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20571                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20572                            6908             FAR_JSR #_LOD_POS_STS_REG,R0            ;停止の判断をこれにする
20573 00003DB6 D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20574 00003DB8 400B                   M           JSR     @R0                     ;
20575 00003DBA 0009                   M           NOP                                     ;
20576 00003DBC 211A              6909             XOR     R1,R1                           ;
20577 00003DBE C804              6910             TST     #BIT2,R0                        ;
20578                            6911             TST_BIT_ON ERR_STOP_MOVCK050            ;
20579 00003DC0 8B00                   M           BF      ERR_STOP_MOVCK050
20580 00003DC2 71FF              6912             ADD     #-1,R1
20581 00003DC4                   6913     ERR_STOP_MOVCK050:
20582 00003DC4 6013              6914             MOV     R1,R0                           ;
20583 00003DC6 D104              6915             MOV.L   #_PLS_OUTPUT_FLG,R1             ;//0払い出し停止 1払出中
20584 00003DC8 2101              6916             MOV.W   R0,@R1                          ;
20585                            6917     
20586                            6918     ;       ----- 2015-07-14--------
20587                            6919      .AIF   0 EQ    0       ;
20588 00003DCA D104              6920 C           MOV.L   #_CPUA_PLS_OUTF,R1      ;
20589                            6921      .AELSE
20590                            6922             MOV.L   #_CPUB_PLS_OUTF,R1      ;
20591                            6923      .AENDI
20592 00003DCC 2101              6924             MOV.W   R0,@R1                          ;
20593                            6925             SUB_END
20594                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20595 00003DCE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20596                            6926             M_RTS
20597 00003DD0 000B                   M           RTS                             ;RTSの後ろの
20598 00003DD2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20599                            6927     
20600                            6928     ;       ***************************************************
20601                            6929     ;       ***                                             ***
20602                            6930     ;       ***                                             ***
20603                            6931     ;       ***                                             ***
20604                            6932     ;       ***                                             ***
20605                            6933     ;       ***             位置決めLSIｱｸｾｽｿﾌﾄ              ***
20606                            6934     ;       ***                                             ***
20607                            6935     ;       ***                                             ***
20608                            6936     ;       ***                                             ***
20609                            6937     ;       ***************************************************
20610                            6938     
20611                            6939     ;       === (2003-07-01 履歴用ﾃﾞｰﾀ作成) ======
20612                            6940             .EXPORT _LOAD_REST_PLS          ;残りﾊﾟﾙｽ
20613                            6941             .EXPORT _LOAD_FREQ_PLS          ;設定ﾊﾟﾙｽ
20614                            6942             .EXPORT _LOAD_NOW_FREQ_PLS      ;現在
20615                            6943             .EXPORT _LOAD_GPOINT_PLS        ;
20616                            6944     
20617                            6945             .EXPORT _LOAD_SPD_LATE          ;
20618                            6946             .EXPORT _LOAD_ACCS1_LATE        ;
20619                            6947             .EXPORT _LOAD_BASE_FREQ_PLS     ;
20620                            6948     
20621                            6949     ;       ***************************************************
20622                            6950     ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   262
PROGRAM NAME =

20623                            6951     ;       ***             残りﾊﾟﾙｽREAD                    ***
20624                            6952     ;       ***             ANS:R0                          ***
20625                            6953     ;       ***************************************************
20626                            6954     ;       R0以外破壊しない
20627                            6955     ;       "残りﾊﾟﾙｽ"
20628                            6956     ;       減る方向で化けるｹｰｽもある.従って２度読みの古い方側を使用した方が良いか？
20629                            6957     ;       ３度読みでその真ん中は正しい=  >２度読みの古いほうが正しい ==>だめ
20630                            6958     ;       １回目が化けて大きくなって２回目が正常なら発生する
20631                            6959     ;       時間などチェックが必要だ
20632                                     ***** BEGIN-POOL *****
20633 00003DD4 00000000                   DATA FOR SOURCE-LINE 6908
20634 00003DD8 00000000                   DATA FOR SOURCE-LINE 6915
20635 00003DDC 00000000                   DATA FOR SOURCE-LINE 6920
20636                                     ***** END-POOL *****
20637 00003DE0                   6960             .ALIGN  4                               ;
20638 00003DE0                   6961     _LOAD_REST_PLS:
20639                            6962             SUB_START
20640 00003DE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
20641                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20642                            6963             PUSH_REG1 R1
20643 00003DE2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20644                                 M                                           ;REG=>[SP]
20645                                 M                                           ;"-4" FF,FF,FF,FC
20646                            6964             PUSH_REG1 R2
20647 00003DE4 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20648                                 M                                           ;REG=>[SP]
20649                                 M                                           ;"-4" FF,FF,FF,FC
20650                            6965             PUSH_REG1 R3
20651 00003DE6 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
20652                                 M                                           ;REG=>[SP]
20653                                 M                                           ;"-4" FF,FF,FF,FC
20654                            6966             PUSH_REG1 R4
20655 00003DE8 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
20656                                 M                                           ;REG=>[SP]
20657                                 M                                           ;"-4" FF,FF,FF,FC
20658 00003DEA E30A              6967             MOV     #D'10,R3                                        ;
20659                            6968     
20660 00003DEC                   6969     LOAD_RESTPLS_LOP:
20661                            6970     
20662 00003DEC D109              6971             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20663                            6972             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20664 00003DEE D00A                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20665 00003DF0 400B                   M           JSR     @R0                     ;
20666 00003DF2 0009                   M           NOP                                     ;
20667 00003DF4 6403              6973             MOV     R0,R4                                           ;FIRST R0
20668                            6974     
20669 00003DF6 D107              6975             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20670                            6976             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20671 00003DF8 D007                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20672 00003DFA 400B                   M           JSR     @R0                     ;
20673 00003DFC 0009                   M           NOP                                     ;
20674 00003DFE 6203              6977             MOV     R0,R2                                           ;FIRST R0
20675                            6978     
20676 00003E00 D104              6979             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20677                            6980             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20678 00003E02 D005                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20679 00003E04 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   263
PROGRAM NAME =

20680 00003E06 0009                   M           NOP                                     ;
20681                            6981     
20682                            6982     ;       R0=<R2=<R4
20683 00003E08 3422              6983             CMP/HS  R2,R4                                           ;R2 =< R4
20684 00003E0A 8B07              6984             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R2>R4)
20685 00003E0C 3202              6985             CMP/HS  R0,R2                                           ;R0 =< R2
20686 00003E0E 8B05              6986             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R0>R2)
20687                            6987             M_BRA   LOAD_RESTPLS_END                                ;R0(NEW)=<R2(MID)=<R4(OLD)
                                           R2を信用する
20688 00003E10 A00F                   M           BRA     LOAD_RESTPLS_END
20689 00003E12 0009                   M           NOP
20690                            6988     
20691                                     ***** BEGIN-POOL *****
20692 00003E14 00000000                   DATA FOR SOURCE-LINE 6971,6975,6979
20693 00003E18 00000000                   DATA FOR SOURCE-LINE 6972,6976,6980
20694                                     ***** END-POOL *****
20695 00003E1C                   6989     LOAD_RESTPLS_050:                                               ;
20696 00003E1C D109              6990             MOV.L   #_LSI_PLSRD_NG_CNT1,R1                          ;
20697 00003E1E 6011              6991             MOV.W   @R1,R0                                          ;
20698 00003E20 7001              6992             ADD     #1,R0                                           ;
20699 00003E22 2101              6993             MOV.W   R0,@R1                                          ;
20700                            6994     
20701 00003E24 73FF              6995             ADD     #-1,R3                                          ;
20702 00003E26 4315              6996             CMP/PL  R3                                              ;
20703 00003E28 89E0              6997             BT      LOAD_RESTPLS_LOP                                ;
20704                            6998     ;       ==== HARD ERR ===
20705                            6999             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT5+BIT0),WKREG=R1
                                          ;R1,R0
20706 00003E2A D107                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
20707 00003E2C 6011                   M           MOV.W   @R1,R0          ;
20708 00003E2E CB21                   M           OR      #(BIT5+BIT0),R0         ;
20709 00003E30 2101                   M           MOV.W   R0,@R1          ;
20710                            7000     
20711                            7001     ;;      MOV     R2,R0                                           ;
20712                            7002     ;       ANS.R2
20713 00003E32                   7003     LOAD_RESTPLS_END:
20714 00003E32 6023              7004             MOV     R2,R0                                           ;(3度読みの真ん中をデータ
                                          として使用する)
20715                            7005             POP_REG1 R4
20716                                 M                                   ; RE"+4" 00,00,00,04
20717 00003E34 64F6                   M           MOV.L   @R15+,R4        ;
20718                            7006             POP_REG1 R3
20719                                 M                                   ; RE"+4" 00,00,00,04
20720 00003E36 63F6                   M           MOV.L   @R15+,R3        ;
20721                            7007             POP_REG1 R2
20722                                 M                                   ; RE"+4" 00,00,00,04
20723 00003E38 62F6                   M           MOV.L   @R15+,R2        ;
20724                            7008             POP_REG1 R1
20725                                 M                                   ; RE"+4" 00,00,00,04
20726 00003E3A 61F6                   M           MOV.L   @R15+,R1        ;
20727                            7009     
20728                            7010             SUB_END
20729                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20730 00003E3C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20731                            7011             M_RTS
20732 00003E3E 000B                   M           RTS                             ;RTSの後ろの
20733 00003E40 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   264
PROGRAM NAME =

20734                            7012     
20735                            7013     ;       ***************************************************
20736                            7014     ;       ***                                             ***
20737                            7015     ;       ***             設定周波数ﾚｼﾞｽﾀREAD             ***
20738                            7016     ;       ***                                             ***
20739                            7017     ;       ***************************************************
20740                            7018     ;       R0以外破壊しない
20741                                     ***** BEGIN-POOL *****
20742 00003E42 0000                       ALIGNMENT CODE
20743 00003E44 00000000                   DATA FOR SOURCE-LINE 6990
20744 00003E48 00000000                   DATA FOR SOURCE-LINE 6999
20745                                     ***** END-POOL *****
20746 00003E4C                   7019             .ALIGN  4                               ;
20747 00003E4C                   7020     _LOAD_FREQ_PLS
20748                            7021             SUB_START
20749 00003E4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20750                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20751                            7022     
20752                            7023             PUSH_REG1 R1
20753 00003E4E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20754                                 M                                           ;REG=>[SP]
20755                                 M                                           ;"-4" FF,FF,FF,FC
20756                            7024     
20757 00003E50 D103              7025             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R1        ;TOP(設定)周波数
20758                            7026             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20759 00003E52 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20760 00003E54 400B                   M           JSR     @R0                     ;
20761 00003E56 0009                   M           NOP                                     ;
20762                            7027     
20763                            7028             POP_REG1 R1
20764                                 M                                   ; RE"+4" 00,00,00,04
20765 00003E58 61F6                   M           MOV.L   @R15+,R1        ;
20766                            7029     
20767                            7030             SUB_END
20768                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20769 00003E5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20770                            7031             M_RTS
20771 00003E5C 000B                   M           RTS                             ;RTSの後ろの
20772 00003E5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20773                            7032     
20774                            7033     ;       ***********************************
20775                            7034     ;       ***     ベース周波数()          ***
20776                            7035     ;       ***********************************
20777                                     ***** BEGIN-POOL *****
20778 00003E60 00000000                   DATA FOR SOURCE-LINE 7025
20779 00003E64 00000000                   DATA FOR SOURCE-LINE 7026
20780                                     ***** END-POOL *****
20781 00003E68                   7036             .ALIGN  4                               ;
20782 00003E68                   7037     _LOAD_BASE_FREQ_PLS:
20783                            7038             SUB_START
20784 00003E68 4F22                   M           STS.L   PR,@-R15                ;[必要]
20785                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20786                            7039             PUSH_REG1 R1
20787 00003E6A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20788                                 M                                           ;REG=>[SP]
20789                                 M                                           ;"-4" FF,FF,FF,FC
20790                            7040     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   265
PROGRAM NAME =

20791 00003E6C D103              7041             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R1        ;BASE(設定)周波数
20792                            7042             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20793 00003E6E D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20794 00003E70 400B                   M           JSR     @R0                     ;
20795 00003E72 0009                   M           NOP                                     ;
20796                            7043     
20797                            7044     
20798                            7045             POP_REG1 R1
20799                                 M                                   ; RE"+4" 00,00,00,04
20800 00003E74 61F6                   M           MOV.L   @R15+,R1        ;
20801                            7046             SUB_END
20802                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20803 00003E76 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20804                            7047             M_RTS
20805 00003E78 000B                   M           RTS                             ;RTSの後ろの
20806 00003E7A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20807                            7048     ;       ***********************************
20808                            7049     ;       ***     加速時間()              ***
20809                            7050     ;       ***********************************
20810                                     ***** BEGIN-POOL *****
20811 00003E7C 00000000                   DATA FOR SOURCE-LINE 7041
20812 00003E80 00000000                   DATA FOR SOURCE-LINE 7042
20813                                     ***** END-POOL *****
20814 00003E84                   7051             .ALIGN  4                               ;
20815 00003E84                   7052     _LOAD_ACCS1_LATE:
20816                            7053             SUB_START
20817 00003E84 4F22                   M           STS.L   PR,@-R15                ;[必要]
20818                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20819                            7054             PUSH_REG1 R1
20820 00003E86 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20821                                 M                                           ;REG=>[SP]
20822                                 M                                           ;"-4" FF,FF,FF,FC
20823                            7055     
20824                            7056     
20825 00003E88 D102              7057             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R1        ;
20826 00003E8A 6011              7058             MOV.W   @R1,R0                                          ;
20827                            7059     
20828                            7060             POP_REG1 R1
20829                                 M                                   ; RE"+4" 00,00,00,04
20830 00003E8C 61F6                   M           MOV.L   @R15+,R1        ;
20831                            7061             SUB_END
20832                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20833 00003E8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20834                            7062             M_RTS
20835 00003E90 000B                   M           RTS                             ;RTSの後ろの
20836 00003E92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20837                            7063     
20838                            7064     ;       ***************************
20839                            7065     ;       ***     LATE()          ***
20840                            7066     ;       ***************************
20841                                     ***** BEGIN-POOL *****
20842 00003E94 00000000                   DATA FOR SOURCE-LINE 7057
20843                                     ***** END-POOL *****
20844 00003E98                   7067             .ALIGN  4                               ;
20845 00003E98                   7068     _LOAD_SPD_LATE:
20846                            7069             SUB_START
20847 00003E98 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   266
PROGRAM NAME =

20848                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20849                            7070             PUSH_REG1 R1
20850 00003E9A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20851                                 M                                           ;REG=>[SP]
20852                                 M                                           ;"-4" FF,FF,FF,FC
20853                            7071     
20854 00003E9C D102              7072             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R1        ;
20855 00003E9E 6011              7073             MOV.W   @R1,R0                                          ;
20856                            7074     
20857                            7075             POP_REG1 R1
20858                                 M                                   ; RE"+4" 00,00,00,04
20859 00003EA0 61F6                   M           MOV.L   @R15+,R1        ;
20860                            7076             SUB_END
20861                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20862 00003EA2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20863                            7077             M_RTS
20864 00003EA4 000B                   M           RTS                             ;RTSの後ろの
20865 00003EA6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20866                            7078     
20867                            7079     
20868                            7080     
20869                            7081     ;       ***************************************************
20870                            7082     ;       ***                                             ***
20871                            7083     ;       ***             現在周波数ﾚｼﾞｽﾀREAD             ***
20872                            7084     ;       ***                                             ***
20873                            7085     ;       ***************************************************
20874                            7086     ;       R0以外破壊しない
20875                                     ***** BEGIN-POOL *****
20876 00003EA8 00000000                   DATA FOR SOURCE-LINE 7072
20877                                     ***** END-POOL *****
20878 00003EAC                   7087             .ALIGN  4                               ;
20879 00003EAC                   7088     _LOAD_NOW_FREQ_PLS
20880                            7089             SUB_START
20881 00003EAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20882                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20883                            7090     
20884                            7091             PUSH_REG1 R1
20885 00003EAE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20886                                 M                                           ;REG=>[SP]
20887                                 M                                           ;"-4" FF,FF,FF,FC
20888                            7092     
20889 00003EB0 D103              7093             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowFreqL,R1        ;R/W 現在周波数
20890                            7094             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20891 00003EB2 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20892 00003EB4 400B                   M           JSR     @R0                     ;
20893 00003EB6 0009                   M           NOP                                     ;
20894                            7095     
20895                            7096             POP_REG1 R1
20896                                 M                                   ; RE"+4" 00,00,00,04
20897 00003EB8 61F6                   M           MOV.L   @R15+,R1        ;
20898                            7097             SUB_END
20899                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20900 00003EBA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20901                            7098             M_RTS
20902 00003EBC 000B                   M           RTS                             ;RTSの後ろの
20903 00003EBE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20904                            7099     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   267
PROGRAM NAME =

20905                            7100     ;       ***************************************************
20906                            7101     ;       ***                                             ***
20907                            7102     ;       ***             減速距離READ                    ***
20908                            7103     ;       ***                                             ***
20909                            7104     ;       ***************************************************
20910                            7105     ;       R0以外破壊しない
20911                                     ***** BEGIN-POOL *****
20912 00003EC0 00000000                   DATA FOR SOURCE-LINE 7093
20913 00003EC4 00000000                   DATA FOR SOURCE-LINE 7094
20914                                     ***** END-POOL *****
20915 00003EC8                   7106             .ALIGN  4                               ;
20916 00003EC8                   7107     _LOAD_GPOINT_PLS
20917                            7108             SUB_START
20918 00003EC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20919                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20920                            7109             PUSH_REG1 R1
20921 00003ECA 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20922                                 M                                           ;REG=>[SP]
20923                                 M                                           ;"-4" FF,FF,FF,FC
20924                            7110     
20925 00003ECC D103              7111             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_GNpointL,R1        ;R/W 減速点
20926                            7112             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20927 00003ECE D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20928 00003ED0 400B                   M           JSR     @R0                     ;
20929 00003ED2 0009                   M           NOP                                     ;
20930                            7113     
20931                            7114             POP_REG1 R1
20932                                 M                                   ; RE"+4" 00,00,00,04
20933 00003ED4 61F6                   M           MOV.L   @R15+,R1        ;
20934                            7115             SUB_END
20935                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20936 00003ED6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20937                            7116             M_RTS
20938 00003ED8 000B                   M           RTS                             ;RTSの後ろの
20939 00003EDA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20940                            7117     
20941                            7118     ;       ***************************************************
20942                            7119     ;       ***                                             ***
20943                            7120     ;       ***             32BITﾚｼﾞｽﾀREAD                  ***
20944                            7121     ;       ***             Input  R1:ADRESS(DESTROY)       ***
20945                            7122     ;       ***             Output R0:data(ﾓﾄﾛｰﾗHEX)        ***
20946                            7123     ;       ***************************************************
20947                                     ***** BEGIN-POOL *****
20948 00003EDC 00000000                   DATA FOR SOURCE-LINE 7111
20949 00003EE0 00000000                   DATA FOR SOURCE-LINE 7112
20950                                     ***** END-POOL *****
20951 00003EE4                   7124             .ALIGN  4                               ;
20952 00003EE4                   7125     _LSI_LOAD_32BIT_DATA:
20953                            7126             SUB_START
20954 00003EE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20955                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20956                            7127     ;;      PLS_READ_LATCH                                          ;2004-02-12
20957                            7128     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
20958                            7129     ;;      MOV.W   @R1+,R0                                         ;LOW WORD
20959                            7130     ;;      EXTU.W  R0,R0                                           ;
20960                            7131     ;;
20961                            7132     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   268
PROGRAM NAME =

20962                            7133     ;;      MOV.W   @R1,R1                                          ;HIGH WORD
20963                            7134     ;;      EXTU.W  R1,R1                                           ;
20964                            7135     ;;      SHLL16  R1
20965                            7136     ;;      OR      R1,R0                                           ;
20966                            7137     ;;      MOV.L   #_ACCESS_ERR1+4*4,R1                            ;4 5/5
20967                            7138     
20968                            7139             POS_LSI_WORD_DUM_LOD                                    ;CS(A)
20969                                 M           PUSH_REG1 R0
20970 00003EE6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20971                                 M                                           ;REG=>[SP]
20972                                 M                                           ;"-4" FF,FF,FF,FC
20973 00003EE8 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
20974 00003EEA 6001                   M           MOV.W   @R0,R0
20975                                 M           POP_REG1 R0
20976                                 M                                   ; RE"+4" 00,00,00,04
20977 00003EEC 60F6                   M           MOV.L   @R15+,R0        ;
20978                            7140             PLS_READ_LATCH                                          ;2004-02-12
20979                                 M           PUSH_REG1 R0                                            ;
20980 00003EEE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20981                                 M                                           ;REG=>[SP]
20982                                 M                                           ;"-4" FF,FF,FF,FC
20983 00003EF0 D006                   M           MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
20984 00003EF2 6001                   M           MOV.W   @R0,R0                                          ;
20985                                 M           POP_REG1 R0                                             ;
20986                                 M                                   ; RE"+4" 00,00,00,04
20987 00003EF4 60F6                   M           MOV.L   @R15+,R0        ;
20988                            7141             POS_LSI_WORD_DUM_LOD                                    ;CS(B)
20989                                 M           PUSH_REG1 R0
20990 00003EF6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20991                                 M                                           ;REG=>[SP]
20992                                 M                                           ;"-4" FF,FF,FF,FC
20993 00003EF8 D003                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
20994 00003EFA 6001                   M           MOV.W   @R0,R0
20995                                 M           POP_REG1 R0
20996                                 M                                   ; RE"+4" 00,00,00,04
20997 00003EFC 60F6                   M           MOV.L   @R15+,R0        ;
20998 00003EFE 6012              7142             MOV.L   @R1,R0                                          ;LONG
20999 00003F00 6009              7143             SWAP.W  R0,R0                                           ;
21000                            7144     
21001                            7145             SUB_END
21002                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21003 00003F02 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21004                            7146             M_RTS
21005 00003F04 000B                   M           RTS                             ;RTSの後ろの
21006 00003F06 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21007                            7147     
21008                            7148     
21009                            7149     ;       *******************************************
21010                            7150     ;       ***     2003-07-01 指令ﾊﾟﾙｽの速度演算   ***
21011                            7151     ;       *******************************************
21012                            7152             .EXPORT _OUT_PLS_SPD_CALC
21013                            7153             .EXPORT _ENC_PLS_SPD_CALC
21014                                     ***** BEGIN-POOL *****
21015 00003F08 00000000                   DATA FOR SOURCE-LINE 7139,7141
21016 00003F0C 00000000                   DATA FOR SOURCE-LINE 7140
21017                                     ***** END-POOL *****
21018 00003F10                   7154             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   269
PROGRAM NAME =

21019 00003F10                   7155     _OUT_PLS_SPD_CALC:
21020                            7156             SUB_START
21021 00003F10 4F22                   M           STS.L   PR,@-R15                ;[必要]
21022                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21023 00003F12 D109              7157             MOV.L   #_OUTPLS_DELT,R1                        ;符号付
21024 00003F14 6211              7158             MOV.W   @R1,R2                                  ;
21025                            7159     ;;      SHLL    R2
21026                            7160     ;;      SHLL    R2
21027                            7161     ;;      SHLL    R2
21028                            7162     ;;      SHLL    R2                              ;*16
21029                            7163     
21030                            7164     ;       =====================================
21031 00003F16 D509              7165             MOV.L   #_OUTPLS_SPD_TOTAL,R5           ;= R5(ad4)
21032 00003F18 D609              7166             MOV.L   #_OUTPLS_SPD_AVL_TOP,R6         ;= R6(ad2)
21033 00003F1A D10A              7167             MOV.L   #_OUTPLS_POINT_SEL,R1           ;= R7(dt2)=10
21034 00003F1C 6711              7168             MOV.W   @R1,R7                          ;
21035                            7169     
21036 00003F1E D80A              7170             MOV.L   #_OUTPLS_SPD_POINT,R8           ;= R8(ad2)
21037 00003F20 D90A              7171             MOV.L   #_OUT_PLS_SPD_DIR,R9            ;= R9(ad2) 0pls/s でも -と+がある
21038 00003F22 DA0B              7172             MOV.L   #_OUTPLS_1000MSEC_LAT,R10       ;= R10(ad2)
21039 00003F24 DB0B              7173             MOV.L   #_OUT_PLS_SPD,R11               ;= R11(ad4)
21040 00003F26 DC0C              7174             MOV.L   #_ABS_OUT_PLS_SPD,R12           ;= R12(ad4)
21041 00003F28 DD0C              7175             MOV.L   #_PV_OUT_SPD_PER,R13            ;= R13(ad2)
21042 00003F2A DE0D              7176             MOV.L   #_PVC_BRK_OUT_SPD,R14           ;= R14(ad2)
21043                            7177     
21044                            7178             FAR_JSR #_DELT_POS_SPD_CHG1,R0          ;ANS R2 ABS_PLS
21045 00003F2C D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21046 00003F2E 400B                   M           JSR     @R0                     ;
21047 00003F30 0009                   M           NOP                                     ;
21048                            7179     
21049                            7180             SUB_END
21050                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21051 00003F32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21052                            7181             M_RTS
21053 00003F34 000B                   M           RTS                             ;RTSの後ろの
21054 00003F36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21055                            7182     ;       *******************************************
21056                            7183     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
21057                            7184     ;       *******************************************
21058                                     ***** BEGIN-POOL *****
21059 00003F38 00000000                   DATA FOR SOURCE-LINE 7157
21060 00003F3C 00000000                   DATA FOR SOURCE-LINE 7165
21061 00003F40 00000000                   DATA FOR SOURCE-LINE 7166
21062 00003F44 00000000                   DATA FOR SOURCE-LINE 7167
21063 00003F48 00000000                   DATA FOR SOURCE-LINE 7170
21064 00003F4C 00000000                   DATA FOR SOURCE-LINE 7171
21065 00003F50 00000000                   DATA FOR SOURCE-LINE 7172
21066 00003F54 00000000                   DATA FOR SOURCE-LINE 7173
21067 00003F58 00000000                   DATA FOR SOURCE-LINE 7174
21068 00003F5C 00000000                   DATA FOR SOURCE-LINE 7175
21069 00003F60 00000000                   DATA FOR SOURCE-LINE 7176
21070 00003F64 00000000                   DATA FOR SOURCE-LINE 7178
21071                                     ***** END-POOL *****
21072 00003F68                   7185             .ALIGN  4                               ;
21073 00003F68                   7186     _ENC_PLS_SPD_CALC:
21074                            7187             SUB_START
21075 00003F68 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   270
PROGRAM NAME =

21076                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21077                            7188     
21078                            7189     ;       === 2003-07-01 1msec差分速度算出用 ==
21079 00003F6A D109              7190             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
21080 00003F6C 6211              7191             MOV.W   @R1,R2                                  ;R2(dt2)
21081                            7192     ;       =====================================
21082 00003F6E D509              7193             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
21083 00003F70 D609              7194             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
21084 00003F72 D10A              7195             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
21085 00003F74 6711              7196             MOV.W   @R1,R7                                  ;
21086                            7197     
21087 00003F76 D80A              7198             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
21088 00003F78 D90A              7199             MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
21089 00003F7A DA0B              7200             MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
21090 00003F7C DB0B              7201             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
21091 00003F7E DC0C              7202             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
21092 00003F80 DD0C              7203             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
21093 00003F82 DE0D              7204             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2) per
21094                            7205             FAR_JSR #_DELT_POS_SPD_CHG1,R0                  ;ANS R2 ABS_PLS
21095 00003F84 D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21096 00003F86 400B                   M           JSR     @R0                     ;
21097 00003F88 0009                   M           NOP                                     ;
21098                            7206     
21099                            7207             SUB_END
21100                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21101 00003F8A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21102                            7208             M_RTS
21103 00003F8C 000B                   M           RTS                             ;RTSの後ろの
21104 00003F8E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21105                            7209     
21106                            7210     
21107                            7211     ;       *******************************************
21108                            7212     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
21109                            7213     ;       *******************************************
21110                                     ***** BEGIN-POOL *****
21111 00003F90 00000000                   DATA FOR SOURCE-LINE 7190
21112 00003F94 00000000                   DATA FOR SOURCE-LINE 7193
21113 00003F98 00000000                   DATA FOR SOURCE-LINE 7194
21114 00003F9C 00000000                   DATA FOR SOURCE-LINE 7195
21115 00003FA0 00000000                   DATA FOR SOURCE-LINE 7198
21116 00003FA4 00000000                   DATA FOR SOURCE-LINE 7199
21117 00003FA8 00000000                   DATA FOR SOURCE-LINE 7200
21118 00003FAC 00000000                   DATA FOR SOURCE-LINE 7201
21119 00003FB0 00000000                   DATA FOR SOURCE-LINE 7202
21120 00003FB4 00000000                   DATA FOR SOURCE-LINE 7203
21121 00003FB8 00000000                   DATA FOR SOURCE-LINE 7204
21122 00003FBC 00000000                   DATA FOR SOURCE-LINE 7205
21123                                     ***** END-POOL *****
21124 00003FC0                   7214             .ALIGN  4                               ;
21125 00003FC0                   7215     _ENC_PLS_SPD_CLR:
21126                            7216             SUB_START
21127 00003FC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
21128                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21129                            7217     
21130 00003FC2 222A              7218             XOR     R2,R2
21131 00003FC4 D10A              7219             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
21132 00003FC6 2121              7220             MOV.W   R2,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   271
PROGRAM NAME =

21133                            7221     
21134 00003FC8 D50A              7222             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
21135 00003FCA D60B              7223             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
21136 00003FCC D10B              7224             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
21137 00003FCE 6711              7225             MOV.W   @R1,R7                                  ;
21138 00003FD0 D80B              7226             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
21139                            7227             FAR_JSR #_DELT_POS_SPD_CLR,R0                   ;
21140 00003FD2 D00C                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21141 00003FD4 400B                   M           JSR     @R0                     ;
21142 00003FD6 0009                   M           NOP                                     ;
21143                            7228     
21144                            7229     ;;;     MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
21145                            7230     ;;;     MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
21146 00003FD8 200A              7231             XOR     R0,R0
21147 00003FDA DB0B              7232             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
21148 00003FDC 2B02              7233             MOV.L   R0,@R11
21149 00003FDE DC0B              7234             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
21150 00003FE0 2C02              7235             MOV.L   R0,@R12
21151 00003FE2 DD0B              7236             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
21152 00003FE4 2D01              7237             MOV.W   R0,@R13
21153 00003FE6 DE0B              7238             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2)
21154 00003FE8 2E01              7239             MOV.W   R0,@R14
21155                            7240     
21156                            7241     
21157                            7242             SUB_END
21158                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21159 00003FEA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21160                            7243             M_RTS
21161 00003FEC 000B                   M           RTS                             ;RTSの後ろの
21162 00003FEE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21163                            7244     
21164                            7245     ;       .GLOBAL _PV_ENC_SPD_PER;//0~100.00%
21165                            7246     ;       .GLOBAL _PV_OUT_SPD_PER;//0~100.00%
21166                            7247     
21167                            7248     ;_ENCPLS_SPD_TOTAL      = R5(ad4)
21168                            7249     ;_ENC_PLS_SPD_DIR       = R9(ad2) 0pls/s でも -と+がある
21169                            7250     ;_ENCPLS_POINT_SEL      = R7(dt2)=10
21170                            7251     ;_ENCPLS_DELT           = R2(dt2)
21171                            7252     ;_ENCPLS_SPD_AVL_TOP    = R6(ad2)
21172                            7253     ;_ENCPLS_SPD_POINT      = R8(ad2)
21173                            7254     ;_ENCPLS_1000MSEC_LAT   =R10(ad2)
21174                            7255     ;_ENC_PLS_SPD           = R11(ad4)
21175                            7256     ;_ABS_ENC_PLS_SPD       = R12(ad4)
21176                            7257     ;_PV_ENC_SPD_PER        =R13(ad2)
21177                            7258     ;_PVC_ENC_SPD_PER       =R14(ad2)MINLIMIT
21178                            7259     ;R0,R1,R2,R3,R4 WORK
21179                            7260     
21180                            7261     ;       ***********************************************************
21181                            7262     ;       ***                                                     ***
21182                            7263     ;       ***     1msecのﾃﾞｰﾀの移動平均を行う                     ***
21183                            7264     ;       ***     不感帯がないと停止時はｸﾘｱ処理ばかりはしる       ***
21184                            7265     ;       ***     処理の重さだけの話になる                        ***
21185                            7266     ;       ***     (+/-10pls溜まるまで待つか=>やらない)            ***
21186                            7267     ;       ***                                                     ***
21187                            7268     ;       ***********************************************************
21188                                     ***** BEGIN-POOL *****
21189 00003FF0 00000000                   DATA FOR SOURCE-LINE 7219
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   272
PROGRAM NAME =

21190 00003FF4 00000000                   DATA FOR SOURCE-LINE 7222
21191 00003FF8 00000000                   DATA FOR SOURCE-LINE 7223
21192 00003FFC 00000000                   DATA FOR SOURCE-LINE 7224
21193 00004000 00000000                   DATA FOR SOURCE-LINE 7226
21194 00004004 00000000                   DATA FOR SOURCE-LINE 7227
21195 00004008 00000000                   DATA FOR SOURCE-LINE 7232
21196 0000400C 00000000                   DATA FOR SOURCE-LINE 7234
21197 00004010 00000000                   DATA FOR SOURCE-LINE 7236
21198 00004014 00000000                   DATA FOR SOURCE-LINE 7238
21199                                     ***** END-POOL *****
21200 00004018                   7269             .ALIGN  4                               ;
21201 00004018                   7270     _DELT_POS_SPD_CHG1:
21202                            7271             SUB_START
21203 00004018 4F22                   M           STS.L   PR,@-R15                ;[必要]
21204                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21205                            7272     
21206 0000401A 2778              7273             TST     R7,R7                   ;
21207                            7274             TST_BIT_ON DELT_POS_SPDCG1_020  ;
21208 0000401C 8B00                   M           BF      DELT_POS_SPDCG1_020
21209 0000401E 7701              7275             ADD     #1,R7                   ;
21210 00004020                   7276     DELT_POS_SPDCG1_020:                    ;
21211                            7277     
21212 00004020 2228              7278             TST     R2,R2                   ;R2=0
21213                            7279             TST_BIT_OF DELT_POS_SPDCG1_200  ;
21214 00004022 890C                   M           BT      DELT_POS_SPDCG1_200
21215 00004024 6091              7280             MOV.W   @R9,R0                  ;符号LOAD
21216 00004026 4211              7281             CMP/PZ  R2                      ;
21217 00004028 8903              7282             BT      DELT_POS_SPDCG1_050     ;"+"
21218 0000402A 2008              7283             TST     R0,R0                   ;
21219                            7284             TST_BIT_ON DELT_POS_SPDCG1_200  ;"-" CLR処理不要
21220 0000402C 8B07                   M           BF      DELT_POS_SPDCG1_200
21221                            7285             M_BRA   DELT_POS_SPDCG1_100     ;前回-で今回+ ｸﾘｱ必要
21222 0000402E A002                   M           BRA     DELT_POS_SPDCG1_100
21223 00004030 0009                   M           NOP
21224                            7286     
21225 00004032                   7287     DELT_POS_SPDCG1_050:
21226 00004032 2008              7288             TST     R0,R0                   ;
21227                            7289             TST_BIT_OF DELT_POS_SPDCG1_200  ;今回も前回も+
21228 00004034 8903                   M           BT      DELT_POS_SPDCG1_200
21229                            7290     
21230                            7291     ;       ====== CLR =======
21231 00004036                   7292     DELT_POS_SPDCG1_100:
21232                            7293             FAR_JSR #_DELT_POS_SPD_CLR,R0
21233 00004036 D020                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21234 00004038 400B                   M           JSR     @R0                     ;
21235 0000403A 0009                   M           NOP                                     ;
21236                            7294     
21237                            7295     
21238 0000403C 0009              7296             NOP                             ;ﾊﾞﾌｧはｸﾘｱするけど計算は行う
21239                            7297     
21240                            7298     ;       ====================================
21241 0000403E                   7299     DELT_POS_SPDCG1_200:
21242 0000403E 6081              7300             MOV.W   @R8,R0                  ;POINTER
21243 00004040 4000              7301             SHLL    R0                      ;2Byte
21244 00004042 360C              7302             ADD     R0,R6                   ;TOP+POINTER
21245 00004044 6161              7303             MOV.W   @R6,R1                  ;OLD LOAD
21246 00004046 2621              7304             MOV.W   R2,@R6                  ;NEW SAVE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   273
PROGRAM NAME =

21247 00004048 6352              7305             MOV.L   @R5,R3                  ;TOTAL
21248 0000404A 332C              7306             ADD     R2,R3                   ;
21249 0000404C 3318              7307             SUB     R1,R3                   ;
21250 0000404E 2532              7308             MOV.L   R3,@R5                  ;TOTAL REFLASH
21251 00004050 4001              7309             SHLR    R0                      ;
21252 00004052 7001              7310             ADD     #1,R0                   ;
21253 00004054 3072              7311             CMP/HS  R7,R0                   ;R7(10) =<R0(0~9)
21254 00004056 8B00              7312             BF      DELT_POS_SPDCG1_250     ;
21255 00004058 200A              7313             XOR     R0,R0                   ;
21256 0000405A                   7314     DELT_POS_SPDCG1_250:                    ;
21257 0000405A 2801              7315             MOV.W   R0,@R8                  ;POINTER +1 REFLASH
21258                            7316     ;       ==================================
21259 0000405C 61A1              7317             MOV.W   @R10,R1                 ;TOTAL(10msec)*100=PLS/S
21260 0000405E 331D              7318             DMULS.L R1,R3                   ;total*100=pps
21261 00004060 021A              7319             STS     MACL,R2                 ;
21262                            7320     
21263 00004062 2B22              7321             MOV.L   R2,@R11                 ;_ENC_PLS_SPD 符号付 0.1pps??1PPSでしょう。
21264 00004064 2228              7322             TST     R2,R2                   ;
21265                            7323             TST_BIT_OF DELT_POS_SPDCG1_350  ;速度が0なら符号は変えない
21266 00004066 8905                   M           BT      DELT_POS_SPDCG1_350
21267                            7324     
21268 00004068 200A              7325             XOR     R0,R0                   ;
21269 0000406A 4211              7326             CMP/PZ  R2                      ;+?
21270 0000406C 8901              7327             BT      DELT_POS_SPDCG1_300     ;
21271 0000406E 622B              7328             NEG     R2,R2                   ;
21272 00004070 E0FF              7329             MOV     #-1,R0                  ;
21273 00004072                   7330     DELT_POS_SPDCG1_300:                    ;
21274 00004072 2901              7331             MOV.W   R0,@R9                  ;SHIN _ENC_PLS_SPD_DIR
21275 00004074                   7332     DELT_POS_SPDCG1_350:                    ;
21276                            7333     
21277                            7334     ;       =========================================
21278 00004074 D111              7335             MOV.L   #_WPAR_ZERO_SPD,R1                      ;
21279 00004076 6011              7336             MOV.W   @R1,R0                                  ;
21280 00004078 3202              7337             CMP/HS  R0,R2                                   ;MIN
21281 0000407A 8900              7338             BT      DELT_POS_SPDCG1_380                     ;
21282 0000407C 222A              7339             XOR     R2,R2                                   ;
21283 0000407E                   7340     DELT_POS_SPDCG1_380:                                    ;
21284 0000407E 2C22              7341             MOV.L   R2,@R12                 ;_ABS_ENC_PLS_SPD       = R12(ad4)
21285                            7342     
21286                            7343     ;       ==== 速度換算 ======
21287                            7344     ;;;2010-10-22   MOV.L   #_LINK_MAX_SPD_PLS,R0                   ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
21288 00004080 D00F              7345             MOV.L   #_SETD_LINK_MAX_SPD_PLS,R0                      ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s[SETD_LINK_MAX_SPD_PLS　ｻｰﾎﾞﾊﾟﾗ]
21289 00004082 6402              7346             MOV.L   @R0,R4                                          ;
21290 00004084 9115              7347             MOV.W   #_SPD_PER_MAX,R1                                ;100.00per
21291                            7348             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
21292 00004086 D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21293 00004088 400B                   M           JSR     @R0                     ;
21294 0000408A 0009                   M           NOP                                     ;
21295 0000408C 9112              7349             MOV.W   #_SPD_PER_MAX*110/100,R1                        ;110.00per
21296                            7350             REG_PMAX_MMIN   DATA_REG=R2,MAX_MIN_REG=R1              ;R1=10000
21297 0000408E 3123                   M           CMP/GE  R2,R1           ;
21298 00004090 8900                   M           BT      JMP0100014                              ;DATA =< MAX
21299 00004092 6213                   M           MOV     R1,R2           ;MAX LIMIT
21300 00004094                        M   JMP0100014:                                     ;
21301 00004094 611B                   M           NEG     R1,R1   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   274
PROGRAM NAME =

21302 00004096 3213                   M           CMP/GE  R1,R2           ;
21303 00004098 8900                   M           BT      JMP0200014                              ;MIN =< DATA
21304 0000409A 6213                   M           MOV     R1,R2           ;MIN LIMIT
21305 0000409C                        M   JMP0200014:                                     ;
21306 0000409C 611B                   M           NEG     R1,R1   ;
21307 0000409E 2D21              7351             MOV.W   R2,@R13                                         ;_PV_ENC_SPD_PER
21308                            7352     
21309                            7353     ;       =========================================
21310 000040A0 D109              7354             MOV.L   #_WPAR_BRK_SEL_SPD,R1                   ;%
21311 000040A2 6011              7355             MOV.W   @R1,R0                                  ;
21312 000040A4 3202              7356             CMP/HS  R0,R2                                   ;MIN
21313 000040A6 8900              7357             BT      DELT_POS_SPDCG1_430                     ;
21314 000040A8 222A              7358             XOR     R2,R2                                   ;
21315 000040AA                   7359     DELT_POS_SPDCG1_430:                                    ;
21316 000040AA 2E21              7360             MOV.W   R2,@R14                                 ;_PVC_BRK_ENC_SPD
21317                            7361     
21318                            7362             SUB_END
21319                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21320 000040AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21321                            7363             M_RTS
21322 000040AE 000B                   M           RTS                             ;RTSの後ろの
21323 000040B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21324                            7364     
21325                            7365     ;       ===== INPUT R5 TOTAL
21326                            7366     ;       ===== INPUT R6 AVL_TOP
21327                            7367     ;       ===== INPUT R7 POINTER MAX
21328                            7368     ;       ===== INPUT R8 POINTER
21329                            7369     ;       DESTROY R0,R1,R4
21330                            7370     ;
21331                                     ***** BEGIN-POOL *****
21332 000040B2 2710                       DATA FOR SOURCE-LINE 7347
21333 000040B4 2AF8                       DATA FOR SOURCE-LINE 7349
21334 000040B6 0000                       ALIGNMENT CODE
21335 000040B8 00000000                   DATA FOR SOURCE-LINE 7293
21336 000040BC 00000000                   DATA FOR SOURCE-LINE 7335
21337 000040C0 00000000                   DATA FOR SOURCE-LINE 7345
21338 000040C4 00000000                   DATA FOR SOURCE-LINE 7348
21339 000040C8 00000000                   DATA FOR SOURCE-LINE 7354
21340                                     ***** END-POOL *****
21341 000040CC                   7371             .ALIGN  4                               ;
21342 000040CC                   7372     _DELT_POS_SPD_CLR:
21343                            7373             SUB_START
21344 000040CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
21345                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21346 000040CE 244A              7374             XOR     R4,R4                   ;
21347 000040D0 2841              7375             MOV.W   R4,@R8                  ;POINTER-CLR
21348 000040D2 2542              7376             MOV.L   R4,@R5                  ;TOTAL-CLR
21349                            7377     
21350 000040D4 6073              7378             MOV     R7,R0                   ;POINTER MAX
21351 000040D6 6173              7379             MOV     R7,R1                   ;
21352 000040D8 71FF              7380             ADD     #-1,R1                  ;
21353 000040DA 4100              7381             SHLL    R1                      ;
21354 000040DC 316C              7382             ADD     R6,R1                   ;TOP+MAX
21355                            7383     
21356 000040DE                   7384     DELT_POS_SPDCG1_150:                    ;
21357 000040DE 2141              7385             MOV.W   R4,@R1                  ;
21358 000040E0 71FE              7386             ADD     #-2,R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   275
PROGRAM NAME =

21359 000040E2 70FF              7387             ADD     #-1,R0                  ;
21360 000040E4 2008              7388             TST     R0,R0                   ;
21361                            7389             TST_BIT_ON DELT_POS_SPDCG1_150  ;
21362 000040E6 8BFA                   M           BF      DELT_POS_SPDCG1_150
21363                            7390             SUB_END
21364                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21365 000040E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21366                            7391             M_RTS
21367 000040EA 000B                   M           RTS                             ;RTSの後ろの
21368 000040EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21369                            7392     
21370                            7393     ;       ***************************
21371                            7394     ;       ***     減速中信号      ***
21372                            7395     ;       ***************************
21373                            7396     ;       TOP周波数ﾚｼﾞｽﾀ >現在周波数ﾚｼﾞｽﾀにて減速中
21374                            7397     ;       ・最終減速かどうかは,最終工程にて判断を行う
21375                            7398     ;       ・停止工程かどうか
21376                            7399     ;       R0,R1,R2,R3,R4,R6
21377                            7400     ;       R0=0
21378                            7401             .EXPORT _GENSOK_SIG_MAK         ;
21379 000040F0                   7402             .ALIGN  4                               ;
21380 000040F0                   7403     _GENSOK_SIG_MAK:
21381                            7404             SUB_START
21382 000040F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
21383                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21384                            7405     
21385                            7406             FAR_JSR #_LOD_POS_STS_REG,R0    ;
21386 000040F2 D003                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21387 000040F4 400B                   M           JSR     @R0                     ;
21388 000040F6 0009                   M           NOP                                     ;
21389 000040F8 C804              7407             TST     #BIT2,R0                ;停止中
21390                            7408             TST_BIT_OF GENSOK_SIGMK_050     ;
21391 000040FA 8903                   M           BT      GENSOK_SIGMK_050
21392                            7409             M_BRA   GENSOK_SIGMK_OF         ;YES:STOP NOT 減速中
21393 000040FC A00D                   M           BRA     GENSOK_SIGMK_OF
21394 000040FE 0009                   M           NOP
21395                            7410     
21396                                     ***** BEGIN-POOL *****
21397 00004100 00000000                   DATA FOR SOURCE-LINE 7406
21398                                     ***** END-POOL *****
21399 00004104                   7411     GENSOK_SIGMK_050:                       ;
21400 00004104 D102              7412             MOV.L   #_POSCTL_STEP_FLG,R1    ;
21401 00004106 6011              7413             MOV.W   @R1,R0                  ;
21402 00004108 C806              7414             TST     #(BIT2+BIT1),R0         ;
21403                            7415             TST_BIT_ON GENSOK_SIGMK_ON      ;
21404 0000410A 8B03                   M           BF      GENSOK_SIGMK_ON
21405                            7416             M_BRA   GENSOK_SIGMK_OF         ;
21406 0000410C A005                   M           BRA     GENSOK_SIGMK_OF
21407 0000410E 0009                   M           NOP
21408                            7417     
21409                            7418     
21410                                     ***** BEGIN-POOL *****
21411 00004110 00000000                   DATA FOR SOURCE-LINE 7412
21412                                     ***** END-POOL *****
21413 00004114                   7419     GENSOK_SIGMK_ON:                        ;
21414 00004114 E001              7420             MOV     #BIT0,R0
21415                            7421             M_BRA   GENSOK_SIGMK_END        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   276
PROGRAM NAME =

21416 00004116 A001                   M           BRA     GENSOK_SIGMK_END
21417 00004118 0009                   M           NOP
21418 0000411A                   7422     GENSOK_SIGMK_OF:                        ;
21419 0000411A 200A              7423             XOR     R0,R0                   ;
21420 0000411C                   7424     GENSOK_SIGMK_END:                       ;
21421                            7425             SUB_END
21422                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21423 0000411C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21424                            7426             M_RTS
21425 0000411E 000B                   M           RTS                             ;RTSの後ろの
21426 00004120 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21427                            7427     
21428                            7428     
21429                            7429             .INCLUDE        "ssa_fulc.inc"          ;//ﾌﾙｸﾛｰｽﾞ処理
21430                               1 I1  ;       ***********************************
21431                               2 I1  ;       ***                             ***
21432                               3 I1  ;       ***     フルクローズ関連        ***
21433                               4 I1  ;       ***                             ***
21434                               5 I1  ;       ***********************************
21435          000003E8             6 I1  _POS_LATE1              .EQU    D'1000  ;100.0%
21436          000003E8             7 I1  _POS_GEN_BEFORE_LNG     .EQU    D'1000  ;1000ﾊﾟﾙｽ
21437          000003E8             8 I1  _POS_LATE_CALC_MAX      .EQU    D'1000  ;1000ﾊﾟﾙｽ
21438                               9 I1  
21439                              10 I1          .IMPORT _PAR_NEGERR_ENB         ;2012-05-30
21440                              11 I1          .IMPORT _PAR_NEG_EXITTIM        ;2012-10-05
21441                              12 I1  
21442                              13 I1          .IMPORT _PAR_KAJYU_HLDSPD       ;1　一旦停止中の荷重制御速度
21443                              14 I1          .IMPORT _PAR_KAJYU_ARASPD       ;2[荷重制御]一旦停止中のromﾊﾟﾗ範囲外 荷重制御速度
                                          pls7/s
21444                              15 I1          .IMPORT _PAR_KAJYU_CHGARA       ;3[荷重制御] 20KNを設定の荷重完了範囲から引くARA->
                                          HLD
21445                              16 I1  
21446                              17 I1          .IMPORT _PAR_NEGCTL_SPDS1       ;
21447                              18 I1  
21448                              19 I1          .IMPORT _PAR_KAJYU_CTIM1        ;2015-06-22周期１
21449                              20 I1          .IMPORT _PAR_KAJYU_CTIM2        ;2015-06-22周期２
21450                              21 I1          .IMPORT _PAR_KAJYU_STPARA       ;2015-06-22出力停止幅
21451                              22 I1          .IMPORT _PAR_KAJYU_FIRST        ;2015-06-22荷重制御開始幅 2015-06-11(H2W/H1F)
21452                              23 I1  
21453                              24 I1          .EXPORT _REVRSE_BASINC_SPDCALC  ;2015-03-15
21454                              25 I1  
21455                              26 I1  ;       ***********************************
21456                              27 I1  ;       ***                             ***
21457                              28 I1  ;       ***     払出中処理              ***
21458                              29 I1  ;       ***     (起動時の)              ***
21459                              30 I1  ;       ***                             ***
21460                              31 I1  ;       ***********************************
21461                              32 I1  ;       ANS     R0=0     (制御状態)
21462                              33 I1  ;               R0.BIT2=1(BUSY完了)
21463                              34 I1  ;
21464                              35 I1  ;_INT_CLS_CTL_FLG,R1    ;
21465                              36 I1  ;BIT0:INIT START
21466                              37 I1  ;BIT1:(反転必要)==>停止待ち<再計算>
21467                              38 I1  ;BIT2:ﾆｱｾﾞﾛに入った<1回目>==>停止待ち<払出=0 待ち>
21468                              39 I1  ;BIT3:ﾆｱｾﾞﾛに入ったまたは停止後の処理(KPに関係なく残ﾊﾟﾙｽ=0なら1ﾊﾟﾙｽずつ足していく)
21469                              40 I1  ;BIT4:
21470                              41 I1  ;BIT5:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   277
PROGRAM NAME =

21471                              42 I1  ;BIT6:完了
21472                              43 I1  ;残りﾊﾟﾙｽ+AのAの上限は1000ﾊﾟﾙｽとする<>
21473                              44 I1  ;
21474                              45 I1  ;
21475                              46 I1  ;(本当はこの中で多段の動きを考慮して、”Ｖ”指定の処理も必要)
21476                              47 I1  ;
21477                              48 I1  ;;;;    .IMPORT _CPUB_HENSA_FLG_CLR                     ;
21478                              49 I1  
21479 00004122                     50 I1  _POS_CLS_TYP1_POS_CTL1:
21480                              51 I1          SUB_START
21481 00004122 4F22                   M           STS.L   PR,@-R15                ;[必要]
21482                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21483                              52 I1  
21484                              53 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
21485                              54 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   @R6,R11                                                 ;(data lat
                                          ch)
21486                              55 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_ACCESS_ERR1+9*4,R6                                    ;**
21487                              56 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    SWAP.W  R11,R11                                                 ;
21488                              57 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
21489                              58 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   R11,@R1                                                 ;
21490                              59 I1  
21491                              60 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21492                              61 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21493 00004124 D01B                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21494 00004126 400B                   M           JSR     @R0                     ;
21495 00004128 0009                   M           NOP                                     ;
21496                              62 C           PUSH_REG1 R5                                    ;
21497 0000412A 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
21498                                 M                                           ;REG=>[SP]
21499                                 M                                           ;"-4" FF,FF,FF,FC
21500                              63 C           PUSH_REG1 R0                                    ;
21501 0000412C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21502                                 M                                           ;REG=>[SP]
21503                                 M                                           ;"-4" FF,FF,FF,FC
21504                              64 C           FAR_JSR #_KJYU_DATA_INFO_SEL,R0                 ;227.13
21505 0000412E D01A                   M           MOV.L   #_KJYU_DATA_INFO_SEL,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21506 00004130 400B                   M           JSR     @R0                     ;
21507 00004132 0009                   M           NOP                                     ;
21508                              65 C           POP_REG1 R0                                     ;
21509                                 M                                   ; RE"+4" 00,00,00,04
21510 00004134 60F6                   M           MOV.L   @R15+,R0        ;
21511                              66 C           POP_REG1 R5                                     ;
21512                                 M                                   ; RE"+4" 00,00,00,04
21513 00004136 65F6                   M           MOV.L   @R15+,R5        ;
21514                              67 C   
21515                              68 C   ;;;;    FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
21516                              69 C   
21517                              70             .AELSE
21518                              71             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0              ;(目標位置､実測位置作成,R0=R5=ｸﾛｰｽ
                                          ﾞするかどうか？)
21519                              72             .AENDI
21520                              73 I1  
21521                              74 I1  
21522                              75 I1  
21523 00004138 2008                76 I1          TST     R0,R0                                   ;
21524                              77 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_NOT             ;R5=工程 R0=0停止工程ではない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   278
PROGRAM NAME =

21525 0000413A 8908                   M           BT      POS_CLS_TYP1_POSCTL1_NOT
21526                              78 I1  
21527                              79 I1  ;       ---------------2014-09-22 REPEAT-----------
21528 0000413C D117                80 I1          MOV.L   #_MOT_REP_F,R1                          ;//BIT0(ﾘﾋﾟｰﾄ動作
21529 0000413E 6011                81 I1          MOV.W   @R1,R0                                  ;
21530 00004140 C801                82 I1          TST     #BIT0,R0                                ;
21531                              83 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_NOT20           ;
21532 00004142 8B07                   M           BF      POS_CLS_TYP1_POSCTL1_NOT20
21533                              84 I1  
21534                              85 I1  
21535 00004144 D116                86 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;//設定
21536 00004146 6211                87 I1          MOV.W   @R1,R2                                  ;
21537 00004148 7201                88 I1          ADD     #1,R2                                   ;
21538 0000414A 3250                89 I1          CMP/EQ  R5,R2                                   ;
21539 0000414C 8B3B                90 I1          BF      POS_CLS_TYP1_POSCTL1_000                ;最終工程(戻り)ではない
21540                              91 I1  
21541                              92 I1  
21542 0000414E                     93 I1  POS_CLS_TYP1_POSCTL1_NOT:                               ;
21543                              94 I1  
21544                              95 I1  ;       ===== ｻｲｸﾙﾁｪﾝｼﾞ====
21545                              96 I1  ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
21546                              97 I1          FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
21547 0000414E D015                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21548 00004150 400B                   M           JSR     @R0                     ;
21549 00004152 0009                   M           NOP                                     ;
21550                              98 I1  
21551 00004154                     99 I1  POS_CLS_TYP1_POSCTL1_NOT20:                             ;
21552                             100 I1  
21553                             101 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21554 00004154 D014                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21555 00004156 400B                   M           JSR     @R0                     ;
21556 00004158 0009                   M           NOP                                     ;
21557                             102 I1  ;       ===========================================
21558                             103 I1  ;       ===             最終工程                ===
21559                             104 I1  ;       ===========================================
21560                             105 I1  ;       ﾊﾝﾄﾞｼｪｲｸのみ行う
21561                             106 I1  ;;      FAR_JSR #_OPEN_ROT_NEAR_ZERO_CHK,R0             ;
21562                             107 I1  
21563                             108 I1          FAR_JSR #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;(ｵｰﾌﾟﾝでﾆｱｾﾞﾛにいるかどうか)
21564 0000415A D014                   M           MOV.L   #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21565 0000415C 400B                   M           JSR     @R0                     ;
21566 0000415E 0009                   M           NOP                                     ;
21567                             109 I1  
21568                             110 I1  
21569                             111 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21570 00004160 D113                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21571 00004162 410B                   M           JSR     @R1                     ;
21572 00004164 0009                   M           NOP                                     ;
21573 00004166 C804               112 I1          TST     #BIT2,R0                                ;
21574                             113 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;払出完了?
21575 00004168 892A                   M           BT      TYP1_OPEN_PRC_200
21576                             114 I1  
21577                             115 I1          FAR_JSR #_CPU_BA_NZR_ON_JG,R0                   ;
21578 0000416A D012                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21579 0000416C 400B                   M           JSR     @R0                     ;
21580 0000416E 0009                   M           NOP                                     ;
21581 00004170 2008               116 I1          TST     R0,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   279
PROGRAM NAME =

21582                             117 I1          TST_BIT_OF TYP1_OPEN_PRC_050                    ;相手側は終わった
21583 00004172 8903                   M           BT      TYP1_OPEN_PRC_050
21584 00004174 D110               118 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;ﾆｱｾﾞﾛ扱い
21585 00004176 6011               119 I1          MOV.W   @R1,R0                                  ;
21586 00004178 CB01               120 I1          OR      #BIT0,R0                                ;
21587 0000417A 2101               121 I1          MOV.W   R0,@R1                                  ;
21588 0000417C                    122 I1  TYP1_OPEN_PRC_050:
21589                             123 I1  
21590 0000417C D10E               124 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;
21591 0000417E 6011               125 I1          MOV.W   @R1,R0                                  ;
21592 00004180 2008               126 I1          TST     R0,R0                                   ;
21593                             127 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
21594 00004182 891D                   M           BT      TYP1_OPEN_PRC_200
21595                             128 I1  
21596                             129 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
21597 00004184 D00D                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21598 00004186 400B                   M           JSR     @R0                     ;
21599 00004188 0009                   M           NOP                                     ;
21600 0000418A 2008               130 I1          TST     R0,R0                                   ;
21601                             131 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
21602 0000418C 8918                   M           BT      TYP1_OPEN_PRC_200
21603                             132 I1  
21604 0000418E E004               133 I1          MOV     #BIT2,R0                                ;
21605                             134 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;ﾆｱｾﾞﾛ+払い出し完了
21606 00004190 A1AE                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21607 00004192 0009                   M           NOP
21608                             135 I1  
21609                                 I1  ***** BEGIN-POOL *****
21610 00004194 00000000               I1  DATA FOR SOURCE-LINE 61
21611 00004198 00000000               I1  DATA FOR SOURCE-LINE 64
21612 0000419C 00000000               I1  DATA FOR SOURCE-LINE 80
21613 000041A0 00000000               I1  DATA FOR SOURCE-LINE 86
21614 000041A4 00000000               I1  DATA FOR SOURCE-LINE 97
21615 000041A8 00000000               I1  DATA FOR SOURCE-LINE 101
21616 000041AC 00000000               I1  DATA FOR SOURCE-LINE 108
21617 000041B0 00000000               I1  DATA FOR SOURCE-LINE 111
21618 000041B4 00000000               I1  DATA FOR SOURCE-LINE 115
21619 000041B8 00000000               I1  DATA FOR SOURCE-LINE 118,124
21620 000041BC 00000000               I1  DATA FOR SOURCE-LINE 129
21621                                 I1  ***** END-POOL *****
21622 000041C0                    136 I1  TYP1_OPEN_PRC_200
21623 000041C0 200A               137 I1          XOR     R0,R0
21624                             138 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
21625 000041C2 A195                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21626 000041C4 0009                   M           NOP
21627                             139 I1  
21628                             140 I1  
21629                             141 I1  
21630                             142 I1  
21631                             143 I1  ;       ===========================
21632                             144 I1  ;       ===     ﾌﾙｸﾛｰｽﾞ         ===
21633                             145 I1  ;       ===========================
21634 000041C6                    146 I1  POS_CLS_TYP1_POSCTL1_000:
21635 000041C6 D108               147 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21636 000041C8 6011               148 I1          MOV.W   @R1,R0                          ;
21637 000041CA C801               149 I1          TST     #BIT0,R0                        ;ｸﾛｰｽﾞ処理開始?
21638                             150 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_100     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   280
PROGRAM NAME =

21639 000041CC 8B48                   M           BF      POS_CLS_TYP1_POSCTL1_100
21640                             151 I1  
21641                             152 I1  
21642                             153 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21643                             154 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   @R1,R0                          ;
21644                             155 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX
                                          量
21645                             156 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   R0,@R1                          ;
21646                             157 I1  
21647                             158 I1  ;;;     ==============2012-10-05[本来の形 2012-05-30では不具合]=============
21648                             159 I1  ;;;     MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21649                             160 I1  ;;;     MOV.W   @R1,R0                          ;
21650                             161 I1  ;;;     MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R1     ;//目標−手前
21651                             162 I1  ;;;     MOV.L   @R1,R2                          ;
21652                             163 I1  ;;;     ADD     R2,R0                           ;
21653                             164 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
21654                             165 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
21655                             166 I1  ;;;
21656                             167 I1  ;       ====== 2012-10-05 仕様変更 180度を最大追い込みとする====
21657                             168 I1          FAR_JSR #_FULCLS_MAXPLS_CALC,R0
21658 000041CE D007                   M           MOV.L   #_FULCLS_MAXPLS_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21659 000041D0 400B                   M           JSR     @R0                     ;
21660 000041D2 0009                   M           NOP                                     ;
21661                             169 I1  
21662                             170 I1  
21663                             171 I1  
21664                             172 I1  
21665                             173 I1  ;       ===== SIG-OFF[1] =====
21666                             174 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21667 000041D4 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21668 000041D6 400B                   M           JSR     @R0                     ;
21669 000041D8 0009                   M           NOP                                     ;
21670                             175 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;20060930POR
21671 000041DA D106                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21672 000041DC 410B                   M           JSR     @R1                     ;
21673 000041DE 0009                   M           NOP                                     ;
21674 000041E0 C804               176 I1          TST     #BIT2,R0                                ;
21675                             177 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_050             ;[払い出しパルス終了]
21676 000041E2 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_050
21677                             178 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21678 000041E4 A183                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21679 000041E6 0009                   M           NOP
21680                             179 I1  
21681                             180 I1  ;       =========================
21682                             181 I1  ;       =====(開始条件成立)======
21683                             182 I1  ;       =========================
21684                                 I1  ***** BEGIN-POOL *****
21685 000041E8 00000000               I1  DATA FOR SOURCE-LINE 147
21686 000041EC 00000000               I1  DATA FOR SOURCE-LINE 168
21687 000041F0 00000000               I1  DATA FOR SOURCE-LINE 174
21688 000041F4 00000000               I1  DATA FOR SOURCE-LINE 175
21689                                 I1  ***** END-POOL *****
21690 000041F8                    183 I1  POS_CLS_TYP1_POSCTL1_050:
21691 000041F8 E001               184 I1          MOV     #BIT0,R0                                ;
21692 000041FA D10E               185 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;[step1:ｵｰﾌﾟﾝ後の起動:180度を目指
                                          す]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   281
PROGRAM NAME =

21693 000041FC 2101               186 I1          MOV.W   R0,@R1                                  ;
21694                             187 I1  
21695                             188 I1  ;       --------- 2012-05-30----------
21696                             189 I1  ;[[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
21697                             190 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0
21698 000041FE D00E                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21699 00004200 400B                   M           JSR     @R0                     ;
21700 00004202 0009                   M           NOP                                     ;
21701                             191 I1  
21702 00004204 D10D               192 I1          MOV.L   #_PAR_NEG_EXITTIM-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;2 2012-10-5追い込
                                          み失敗の待ち時間
21703 00004206 6011               193 I1          MOV.W   @R1,R0                                                  ;
21704 00004208 D10D               194 I1          MOV.L   #_NEG_EXITTIM,R1                                        ;//超変な針の穴を
                                          通すタイマ  2012-10-05
21705 0000420A 2101               195 I1          MOV.W   R0,@R1                                                  ;
21706                             196 I1  
21707                             197 I1  
21708                             198 I1  ;       ===ｵｰﾌﾟﾝ出力完了〜ｲﾝﾁﾝｸﾞに切り替わる時のﾓ-ﾀ遅延分のﾀｲﾏ===
21709                             199 I1  ;;;2012-05-30   MOV.W   #D'50,R0                        ;50msec
21710 0000420C D10D               200 I1          MOV.L   #_FUL_CLS_DLYTM_SV,R1                   ;2012-05-30
21711 0000420E 6011               201 I1          MOV.W   @R1,R0                                  ;2012-05-30
21712 00004210 D10D               202 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
21713 00004212 2101               203 I1          MOV.W   R0,@R1                                  ;遅延時間=0
21714                             204 I1  
21715                             205 I1  ;       =====2011-05-11[必要か???]======
21716                             206 I1  ;;;;;;;;;;;;;;;;;;;;;;;;;;2014-09-16悪さをしている      FAR_JSR #_FUL_START_FUL_OBJ_SET,R0
21717                             207 I1  
21718                             208 I1  
21719                             209 I1  ;       ========================
21720                             210 I1  ;       ===== 初期起動==========
21721                             211 I1  ;       ========================
21722                             212 I1  ;       自起動周波数=TOP-SPEED
21723                             213 I1  ;;;;2006-09-30  FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET1,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
21724                             214 I1  ;       -----------------------------
21725                             215 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
21726 00004214 D00D                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21727 00004216 400B                   M           JSR     @R0                     ;
21728 00004218 0009                   M           NOP                                     ;
21729                             216 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;2007-07-07
21730 0000421A D00D                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21731 0000421C 400B                   M           JSR     @R0                     ;
21732 0000421E 0009                   M           NOP                                     ;
21733                             217 I1  ;       -----------------------------
21734                             218 I1  ;;;;;;;;;;;;    FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
21735                             219 I1  ;
21736 00004220 D10C               220 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
21737 00004222 6312               221 I1          MOV.L   @R1,R3                                  ;30000ﾊﾟﾙｽでしょう2012-05-30ｺﾒﾝﾄ
21738                             222 I1                                                          ;2012-10-05 2BYTE->4BYTE 型U2B->U4
                                          Bに変更
21739                             223 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
21740 00004224 D00C                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21741 00004226 400B                   M           JSR     @R0                     ;
21742 00004228 0009                   M           NOP                                     ;
21743                             224 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   282
PROGRAM NAME =

21744                             225 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21745                             226 C   ;       -------2015-03-15[R01:2014-08-20]--------
21746                             227 C           FAR_JSR #_KAJYU_START_UPCHK,R0
21747 0000422A D00C                   M           MOV.L   #_KAJYU_START_UPCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21748 0000422C 400B                   M           JSR     @R0                     ;
21749 0000422E 0009                   M           NOP                                     ;
21750                             228 I1          .AENDI
21751                             229 I1  
21752                             230 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT   ;
21753 00004230 A15D                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21754 00004232 0009                   M           NOP
21755                             231 I1  
21756                                 I1  ***** BEGIN-POOL *****
21757 00004234 00000000               I1  DATA FOR SOURCE-LINE 185
21758 00004238 00000000               I1  DATA FOR SOURCE-LINE 190
21759 0000423C 00000000               I1  DATA FOR SOURCE-LINE 192
21760 00004240 00000000               I1  DATA FOR SOURCE-LINE 194
21761 00004244 00000000               I1  DATA FOR SOURCE-LINE 200
21762 00004248 00000000               I1  DATA FOR SOURCE-LINE 202
21763 0000424C 00000000               I1  DATA FOR SOURCE-LINE 215
21764 00004250 00000000               I1  DATA FOR SOURCE-LINE 216
21765 00004254 00000000               I1  DATA FOR SOURCE-LINE 220
21766 00004258 00000000               I1  DATA FOR SOURCE-LINE 223
21767 0000425C 00000000               I1  DATA FOR SOURCE-LINE 227
21768                                 I1  ***** END-POOL *****
21769 00004260                    232 I1  POS_CLS_TYP1_POSCTL1_100:
21770 00004260                    233 I1  POS_CLS_TYP1_POSCTL1_105:                       ;
21771                             234 I1  ;-----------------------とりあえずここ-----------------
21772                             235 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;[2015-07-22]
21773 00004260 D10A                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
21774 00004262 6412                   M           MOV.L   @R1,R4          ;
21775 00004264 2448                   M           TST     R4,R4                   ;
21776 00004266 8901                   M           BT      JMP_0100015                     ;ZERO THEN JUMP
21777 00004268 4410                   M           DT      R4                              ;
21778 0000426A 2142                   M           MOV.L   R4,@R1          ;STORE
21779 0000426C                        M   JMP_0100015:
21780                             236 I1  
21781                             237 I1  
21782                             238 I1  ;       ===========================
21783                             239 I1  ;       ===     最終遷移        ===
21784                             240 I1  ;       ===========================
21785 0000426C D108               241 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21786 0000426E 6011               242 I1          MOV.W   @R1,R0                                  ;
21787 00004270 C840               243 I1          TST     #BIT6,R0                                ;
21788                             244 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_110
21789 00004272 8915                   M           BT      POS_CLS_TYP1_POSCTL1_110
21790                             245 I1  
21791                             246 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                        ;
21792 00004274 D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21793 00004276 410B                   M           JSR     @R1                     ;
21794 00004278 0009                   M           NOP                                     ;
21795 0000427A C804               247 I1          TST     #BIT2,R0                                ;
21796                             248 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_107             ;
21797 0000427C 8904                   M           BT      POS_CLS_TYP1_POSCTL1_107
21798                             249 I1  
21799                             250 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
21800 0000427E D006                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   283
PROGRAM NAME =

21801 00004280 400B                   M           JSR     @R0                     ;
21802 00004282 0009                   M           NOP                                     ;
21803 00004284 2008               251 I1          TST     R0,R0                                   ;
21804                             252 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_108             ;
21805 00004286 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_108
21806 00004288                    253 I1  POS_CLS_TYP1_POSCTL1_107:                               ;
21807                             254 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21808 00004288 A131                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21809 0000428A 0009                   M           NOP
21810                             255 I1  
21811                                 I1  ***** BEGIN-POOL *****
21812 0000428C 00000000               I1  DATA FOR SOURCE-LINE 235
21813 00004290 00000000               I1  DATA FOR SOURCE-LINE 241
21814 00004294 00000000               I1  DATA FOR SOURCE-LINE 246
21815 00004298 00000000               I1  DATA FOR SOURCE-LINE 250
21816                                 I1  ***** END-POOL *****
21817 0000429C                    256 I1  POS_CLS_TYP1_POSCTL1_108:                               ;
21818                             257 I1          M_BRA   POS_CLS_TYP1_POSCTL1_PC_END             ;終了
21819 0000429C A124                   M           BRA     POS_CLS_TYP1_POSCTL1_PC_END
21820 0000429E 0009                   M           NOP
21821                             258 I1  
21822                             259 I1  ;       ====================================
21823                             260 I1  ;       ===     通常運転or特殊な状態    ====
21824                             261 I1  ;       ====================================
21825 000042A0                    262 I1  POS_CLS_TYP1_POSCTL1_110:
21826                             263 I1  
21827                             264 I1  ;       ---------------- 2012-05-30　[[neg]][[払い出して達しなければSQへ出力するが次へ進む
                                          ]]-----------
21828 000042A0 D106               265 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
21829 000042A2 6011               266 I1          MOV.W   @R1,R0                          ;
21830 000042A4 C801               267 I1          TST     #BIT0,R0                        ;
21831                             268 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_112     ;
21832 000042A6 890F                   M           BT      POS_CLS_TYP1_POSCTL1_112
21833 000042A8 9006               269 I1          MOV.W   #(BIT2+BIT0),R0                 ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
21834 000042AA D105               270 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21835 000042AC 2101               271 I1          MOV.W   R0,@R1                          ;
21836                             272 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0    ;
21837 000042AE D005                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21838 000042B0 400B                   M           JSR     @R0                     ;
21839 000042B2 0009                   M           NOP                                     ;
21840                             273 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OVER98     ;
21841 000042B4 A042                   M           BRA     POS_CLS_TYP1_POSCTL1_OVER98
21842 000042B6 0009                   M           NOP
21843                                 I1  ***** BEGIN-POOL *****
21844 000042B8 0005                   I1  DATA FOR SOURCE-LINE 269
21845 000042BA 0000                   I1  ALIGNMENT CODE
21846 000042BC 00000000               I1  DATA FOR SOURCE-LINE 265
21847 000042C0 00000000               I1  DATA FOR SOURCE-LINE 270
21848 000042C4 00000000               I1  DATA FOR SOURCE-LINE 272
21849                                 I1  ***** END-POOL *****
21850 000042C8                    274 I1  POS_CLS_TYP1_POSCTL1_112:
21851                             275 I1  ;       -----------------------------------------
21852 000042C8 D102               276 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21853 000042CA 6011               277 I1          MOV.W   @R1,R0                                  ;
21854 000042CC C806               278 I1          TST     #(BIT2+BIT1),R0                         ;
21855                             279 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_113             ;
21856 000042CE 8B03                   M           BF      POS_CLS_TYP1_POSCTL1_113
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   284
PROGRAM NAME =

21857                             280 I1          M_BRA   POS_CLS_TYP1_POSCTL1_200                ;(通常制御)
21858 000042D0 A094                   M           BRA     POS_CLS_TYP1_POSCTL1_200
21859 000042D2 0009                   M           NOP
21860                             281 I1  
21861                                 I1  ***** BEGIN-POOL *****
21862 000042D4 00000000               I1  DATA FOR SOURCE-LINE 276
21863                                 I1  ***** END-POOL *****
21864 000042D8                    282 I1  POS_CLS_TYP1_POSCTL1_113:
21865                             283 I1  
21866                             284 I1  ;       ====== 1回ﾆｱｾﾞﾛに入ってからの処理======
21867                             285 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21868 000042D8 D004                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21869 000042DA 400B                   M           JSR     @R0                     ;
21870 000042DC 0009                   M           NOP                                     ;
21871                             286 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21872 000042DE D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21873 000042E0 410B                   M           JSR     @R1                     ;
21874 000042E2 0009                   M           NOP                                     ;
21875 000042E4 C804               287 I1          TST     #BIT2,R0                                ;
21876                             288 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_115             ;
21877 000042E6 8B05                   M           BF      POS_CLS_TYP1_POSCTL1_115
21878                             289 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
21879 000042E8 A101                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21880 000042EA 0009                   M           NOP
21881                             290 I1  
21882                                 I1  ***** BEGIN-POOL *****
21883 000042EC 00000000               I1  DATA FOR SOURCE-LINE 285
21884 000042F0 00000000               I1  DATA FOR SOURCE-LINE 286
21885                                 I1  ***** END-POOL *****
21886 000042F4                    291 I1  POS_CLS_TYP1_POSCTL1_115:                               ;
21887 000042F4 D103               292 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
21888 000042F6 6011               293 I1          MOV.W   @R1,R0                                  ;遅延時間=0
21889 000042F8 2008               294 I1          TST     R0,R0                                   ;
21890                             295 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_117             ;
21891 000042FA 8905                   M           BT      POS_CLS_TYP1_POSCTL1_117
21892 000042FC 70FF               296 I1          ADD     #-1,R0                                  ;
21893 000042FE 2101               297 I1          MOV.W   R0,@R1                                  ;
21894                             298 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
21895 00004300 A0F5                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21896 00004302 0009                   M           NOP
21897                                 I1  ***** BEGIN-POOL *****
21898 00004304 00000000               I1  DATA FOR SOURCE-LINE 292
21899                                 I1  ***** END-POOL *****
21900 00004308                    299 I1  POS_CLS_TYP1_POSCTL1_117:                               ;
21901                             300 I1  
21902                             301 I1  ;       ==== 停止した ====
21903                             302 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21904                             303 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21905 00004308 D008                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21906 0000430A 400B                   M           JSR     @R0                     ;
21907 0000430C 0009                   M           NOP                                     ;
21908                             304 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
21909 0000430E D008                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21910 00004310 400B                   M           JSR     @R0                     ;
21911 00004312 0009                   M           NOP                                     ;
21912                             305 C           FAR_JSR #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;[1度ﾆｱｾﾞﾛに入ってからの処理]
21913 00004314 D007                   M           MOV.L   #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   285
PROGRAM NAME =

21914 00004316 400B                   M           JSR     @R0                     ;
21915 00004318 0009                   M           NOP                                     ;
21916                             306 I1          .AENDI
21917                             307 I1  
21918                             308 I1  
21919 0000431A 8800               309 I1          CMP/EQ  #0,R0                                   ;
21920 0000431C 8913               310 I1          BT      POS_CLS_TYP1_POSCTL1_ED050              ;[step3]今もﾆｱｾﾞﾛ内なら完了
21921                             311 I1  
21922                             312 I1          FAR_JSR #_OVER_DIG_CHK,R0                       ;
21923 0000431E D006                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21924 00004320 400B                   M           JSR     @R0                     ;
21925 00004322 0009                   M           NOP                                     ;
21926 00004324 2008               313 I1          TST     R0,R0                                   ;
21927                             314 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_OVER99          ;
21928 00004326 8B0B                   M           BF      POS_CLS_TYP1_POSCTL1_OVER99
21929                             315 I1          M_BRA   POS_CLS_TYP1_POSCTL1_118                ;
21930 00004328 A02C                   M           BRA     POS_CLS_TYP1_POSCTL1_118
21931 0000432A 0009                   M           NOP
21932                             316 I1  
21933                             317 I1  
21934                             318 I1  
21935                             319 I1  
21936                             320 I1  ;       ===================================
21937                             321 I1  ;       ==== ﾆｱｾﾞﾛ範囲内 終了決定       ===
21938                             322 I1  ;       ===================================
21939                                 I1  ***** BEGIN-POOL *****
21940 0000432C 00000000               I1  DATA FOR SOURCE-LINE 303
21941 00004330 00000000               I1  DATA FOR SOURCE-LINE 304
21942 00004334 00000000               I1  DATA FOR SOURCE-LINE 305
21943 00004338 00000000               I1  DATA FOR SOURCE-LINE 312
21944                                 I1  ***** END-POOL *****
21945 0000433C                    323 I1  POS_CLS_TYP1_POSCTL1_OVER98:                            ;
21946 0000433C 0009               324 I1          nop
21947 0000433E 0009               325 I1          nop
21948 00004340                    326 I1  POS_CLS_TYP1_POSCTL1_OVER99:                            ;
21949 00004340 0009               327 I1          nop
21950 00004342 0009               328 I1          nop
21951 00004344 0009               329 I1          nop
21952                             330 I1  
21953 00004346                    331 I1  POS_CLS_TYP1_POSCTL1_ED050:
21954 00004346 0009               332 I1          nop
21955 00004348 0009               333 I1          nop
21956                             334 I1  
21957                             335 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
21958 0000434A D009                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21959 0000434C 400B                   M           JSR     @R0                     ;
21960 0000434E 0009                   M           NOP                                     ;
21961                             336 I1  ;       ====== 二重回路対策<CPUA>===========
21962 00004350 D108               337 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;やめる事を決定
21963 00004352 6011               338 I1          MOV.W   @R1,R0                                  ;
21964 00004354 CB40               339 I1          OR      #BIT6,R0                                ;
21965 00004356 2101               340 I1          MOV.W   R0,@R1                                  ;
21966                             341 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21967 00004358 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21968 0000435A 400B                   M           JSR     @R0                     ;
21969 0000435C 0009                   M           NOP                                     ;
21970                             342 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   286
PROGRAM NAME =

21971                             343 I1  ;       ==================================
21972                             344 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
21973 0000435E D007                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21974 00004360 400B                   M           JSR     @R0                     ;
21975 00004362 0009                   M           NOP                                     ;
21976                             345 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
21977 00004364 D006                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21978 00004366 400B                   M           JSR     @R0                     ;
21979 00004368 0009                   M           NOP                                     ;
21980                             346 I1  ;       ==================================
21981                             347 I1  
21982                             348 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21983 0000436A A0C0                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21984 0000436C 0009                   M           NOP
21985                             349 I1  
21986                             350 I1  ;       ===========================
21987                             351 I1  ;       ====== ｲﾝﾁﾝｸﾞ処理==========
21988                             352 I1  ;       ===========================
21989                                 I1  ***** BEGIN-POOL *****
21990 0000436E 0000                   I1  ALIGNMENT CODE
21991 00004370 00000000               I1  DATA FOR SOURCE-LINE 335
21992 00004374 00000000               I1  DATA FOR SOURCE-LINE 337
21993 00004378 00000000               I1  DATA FOR SOURCE-LINE 341
21994 0000437C 00000000               I1  DATA FOR SOURCE-LINE 344
21995 00004380 00000000               I1  DATA FOR SOURCE-LINE 345
21996                                 I1  ***** END-POOL *****
21997 00004384                    353 I1  POS_CLS_TYP1_POSCTL1_118:                               ;[step3 ﾊﾟﾙｽ出力停止し50msec後毎で
                                          ここにくる]
21998                             354 I1  ;       === 再起動処理(再起動時はKP=1) ====
21999                             355 I1  ;       (方向作成)
22000                             356 I1  ;       (ﾃﾞｰﾀ作成)
22001                             357 I1  
22002                             358 I1  ;       ----------- 2015-06-22[荷重・位置共通]--------------
22003 00004384 D108               359 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;
22004 00004386 6011               360 I1          MOV.W   @R1,R0                          ;
22005 00004388 D108               361 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
22006 0000438A 2101               362 I1          MOV.W   R0,@R1                          ;
22007                             363 I1  
22008                             364 I1  
22009                             365 I1  ;       ------- 2015-03-15[R01:2014-07-15] ----------
22010                             366 I1          .AIF    1 EQ    1               ;
22011 0000438C D108               367 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
22012 0000438E 6011               368 C           MOV.W   @R1,R0                                  ;
22013 00004390 2008               369 C           TST     R0,R0
22014                             370 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119A            ;位置の速度JUMP
22015 00004392 8913                   M           BT      POS_CLS_TYP1_POSCTL1_119A
22016                             371 C   
22017                             372 C   ;       -----------2015-06-22--------
22018                             373 C   ;       [未出力[ﾆｱｾﾞﾛ]/再起動ﾊﾟﾙｽ,遅延周期選択追加]
22019                             374 C           FAR_JSR #_RESTART_WAIT_PLS_DATA_SELECT,R0       ;
22020 00004394 D007                   M           MOV.L   #_RESTART_WAIT_PLS_DATA_SELECT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22021 00004396 400B                   M           JSR     @R0                     ;
22022 00004398 0009                   M           NOP                                     ;
22023 0000439A 2008               375 C           TST     R0,R0                                   ;
22024                             376 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119E_EX         ;
22025 0000439C 891F                   M           BT      POS_CLS_TYP1_POSCTL1_119E_EX
22026                             377 C   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   287
PROGRAM NAME =

22027                             378 C           FAR_JSR #_REVRSE_KAJYU_AREACHK_BASSET,R0        ;荷重:_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟ
                                          ﾗから
22028 0000439E D006                   M           MOV.L   #_REVRSE_KAJYU_AREACHK_BASSET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22029 000043A0 400B                   M           JSR     @R0                     ;
22030 000043A2 0009                   M           NOP                                     ;
22031                             379 C           M_BRA   POS_CLS_TYP1_POSCTL1_119E               ;
22032 000043A4 A00D                   M           BRA     POS_CLS_TYP1_POSCTL1_119E
22033 000043A6 0009                   M           NOP
22034                             380 C   
22035                             381 C   
22036                                 C   ***** BEGIN-POOL *****
22037 000043A8 00000000               C   DATA FOR SOURCE-LINE 359
22038 000043AC 00000000               C   DATA FOR SOURCE-LINE 361
22039 000043B0 00000000               C   DATA FOR SOURCE-LINE 367
22040 000043B4 00000000               C   DATA FOR SOURCE-LINE 374
22041 000043B8 00000000               C   DATA FOR SOURCE-LINE 378
22042                                 C   ***** END-POOL *****
22043 000043BC                    382 C   POS_CLS_TYP1_POSCTL1_119A:                              ;
22044                             383 C           FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
22045 000043BC D009                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22046 000043BE 400B                   M           JSR     @R0                     ;
22047 000043C0 0009                   M           NOP                                     ;
22048 000043C2                    384 C   POS_CLS_TYP1_POSCTL1_119E:                              ;
22049                             385 I1          .AENDI
22050                             386 I1  
22051                             387 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;R6破壊
22052 000043C2 D009                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22053 000043C4 400B                   M           JSR     @R0                     ;
22054 000043C6 0009                   M           NOP                                     ;
22055                             388 I1  
22056                             389 I1  ;       ------ 2015-06-22 ---------
22057                             390 I1  ;;;;    MOV.L   #_SET1_INCPOS_KP01,R1                   ;
22058                             391 I1  ;;;;    MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
22059 000043C8 D108               392 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1              ;
22060 000043CA 6311               393 I1          MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
22061                             394 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
22062 000043CC D008                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22063 000043CE 400B                   M           JSR     @R0                     ;
22064 000043D0 0009                   M           NOP                                     ;
22065 000043D2 E005               395 I1          MOV     #(BIT2+BIT0),R0                         ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
22066 000043D4 D107               396 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22067 000043D6 2101               397 I1          MOV.W   R0,@R1                                  ;
22068                             398 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
22069 000043D8 D007                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22070 000043DA 400B                   M           JSR     @R0                     ;
22071 000043DC 0009                   M           NOP                                     ;
22072 000043DE                    399 I1  POS_CLS_TYP1_POSCTL1_119E_EX:                           ;
22073                             400 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
22074 000043DE A086                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22075 000043E0 0009                   M           NOP
22076                             401 I1  
22077                             402 I1  
22078                             403 I1  ;       =========通常運転(ﾆｱｾﾞﾛ待ち) =====
22079                                 I1  ***** BEGIN-POOL *****
22080 000043E2 0000                   I1  ALIGNMENT CODE
22081 000043E4 00000000               I1  DATA FOR SOURCE-LINE 383
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   288
PROGRAM NAME =

22082 000043E8 00000000               I1  DATA FOR SOURCE-LINE 387
22083 000043EC 00000000               I1  DATA FOR SOURCE-LINE 392
22084 000043F0 00000000               I1  DATA FOR SOURCE-LINE 394
22085 000043F4 00000000               I1  DATA FOR SOURCE-LINE 396
22086 000043F8 00000000               I1  DATA FOR SOURCE-LINE 398
22087                                 I1  ***** END-POOL *****
22088 000043FC                    404 I1  POS_CLS_TYP1_POSCTL1_200:
22089                             405 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22090                             406 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
22091 000043FC D00C                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22092 000043FE 400B                   M           JSR     @R0                     ;
22093 00004400 0009                   M           NOP                                     ;
22094                             407 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
22095 00004402 D00C                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22096 00004404 400B                   M           JSR     @R0                     ;
22097 00004406 0009                   M           NOP                                     ;
22098                             408 C           FAR_JSR #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0    ;
22099 00004408 D00B                   M           MOV.L   #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22100 0000440A 400B                   M           JSR     @R0                     ;
22101 0000440C 0009                   M           NOP                                     ;
22102                             409 C   
22103                             410 I1          .AENDI
22104                             411 I1  
22105                             412 I1  
22106 0000440E 8800               413 I1          CMP/EQ  #0,R0                                                   ;
22107 00004410 8B1C               414 I1          BF      POS_CLS_TYP1_POSCTL1_220                                        ;
22108                             415 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;[step2:停
                                          止]
22109 00004412 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22110 00004414 400B                   M           JSR     @R0                     ;
22111 00004416 0009                   M           NOP                                     ;
22112                             416 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
22113 00004418 D009                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22114 0000441A 400B                   M           JSR     @R0                     ;
22115 0000441C 0009                   M           NOP                                     ;
22116                             417 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
22117 0000441E D109                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
22118 00004420 6011                   M           MOV.W   @R1,R0          ;
22119 00004422 CB02                   M           OR      #BIT1,R0                ;
22120 00004424 2101                   M           MOV.W   R0,@R1          ;
22121                             418 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
22122 00004426 D008                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22123 00004428 400B                   M           JSR     @R0                     ;
22124 0000442A 0009                   M           NOP                                     ;
22125                             419 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;ﾆｱｾﾞﾛにはいった
22126 0000442C A05F                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22127 0000442E 0009                   M           NOP
22128                             420 I1  
22129                                 I1  ***** BEGIN-POOL *****
22130 00004430 00000000               I1  DATA FOR SOURCE-LINE 406
22131 00004434 00000000               I1  DATA FOR SOURCE-LINE 407
22132 00004438 00000000               I1  DATA FOR SOURCE-LINE 408
22133 0000443C 00000000               I1  DATA FOR SOURCE-LINE 415
22134 00004440 00000000               I1  DATA FOR SOURCE-LINE 416
22135 00004444 00000000               I1  DATA FOR SOURCE-LINE 417
22136 00004448 00000000               I1  DATA FOR SOURCE-LINE 418
22137                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   289
PROGRAM NAME =

22138 0000444C                    421 I1  POS_CLS_TYP1_POSCTL1_220:
22139                             422 I1  
22140                             423 I1  ;       input R0
22141                             424 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22142                             425 C   ;       -----------2015-03-15 荷重の場合ニアゼロにならないからここでオーバを見る--------
22143                             426 C           PUSH_REG1 R0
22144 0000444C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
22145                                 M                                           ;REG=>[SP]
22146                                 M                                           ;"-4" FF,FF,FF,FC
22147                             427 C           FAR_JSR #_OVER_DIG_CHK,R0
22148 0000444E D004                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22149 00004450 400B                   M           JSR     @R0                     ;
22150 00004452 0009                   M           NOP                                     ;
22151 00004454 6103               428 C           MOV     R0,R1                                                           ;
22152                             429 C           POP_REG1 R0
22153                                 M                                   ; RE"+4" 00,00,00,04
22154 00004456 60F6                   M           MOV.L   @R15+,R0        ;
22155                             430 C   
22156 00004458 2118               431 C           TST     R1,R1
22157                             432 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_222                     ;
22158 0000445A 8903                   M           BT      POS_CLS_TYP1_POSCTL1_222
22159                             433 C           M_BRA   POS_CLS_TYP1_POSCTL1_250                        ;
22160 0000445C A010                   M           BRA     POS_CLS_TYP1_POSCTL1_250
22161 0000445E 0009                   M           NOP
22162                             434 I1          .AENDI
22163                             435 I1  
22164                                 I1  ***** BEGIN-POOL *****
22165 00004460 00000000               I1  DATA FOR SOURCE-LINE 427
22166                                 I1  ***** END-POOL *****
22167 00004464                    436 I1  POS_CLS_TYP1_POSCTL1_222:
22168                             437 I1  ;       -----------------------------------------------------------------------
22169                             438 I1  
22170                             439 I1  
22171                             440 I1  
22172                             441 I1  
22173 00004464 4011               442 I1          CMP/PZ  R0                                      ;+?
22174 00004466 8B07               443 I1          BF      POS_CLS_TYP1_POSCTL1_240                ;NO ﾏｲﾅｽ
22175                             444 I1  ;       === ＋方向へ行き過ぎている　ﾏｲﾅｽへ向かうべきだ  ;
22176 00004468 D402               445 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
22177 0000446A 6041               446 I1          MOV.W   @R4,R0                                  ;
22178 0000446C C801               447 I1          TST     #BIT0,R0                                ;
22179                             448 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_260             ;OK
22180 0000446E 8B21                   M           BF      POS_CLS_TYP1_POSCTL1_260
22181                             449 I1          M_BRA   POS_CLS_TYP1_POSCTL1_250                ;
22182 00004470 A006                   M           BRA     POS_CLS_TYP1_POSCTL1_250
22183 00004472 0009                   M           NOP
22184                             450 I1  
22185                                 I1  ***** BEGIN-POOL *****
22186 00004474 00000000               I1  DATA FOR SOURCE-LINE 445
22187                                 I1  ***** END-POOL *****
22188 00004478                    451 I1  POS_CLS_TYP1_POSCTL1_240:
22189 00004478 D409               452 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
22190 0000447A 6041               453 I1          MOV.W   @R4,R0                                  ;
22191 0000447C C801               454 I1          TST     #BIT0,R0                                ;
22192                             455 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_260             ;OK
22193 0000447E 8919                   M           BT      POS_CLS_TYP1_POSCTL1_260
22194                             456 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   290
PROGRAM NAME =

22195                             457 I1  ;       ======== 行き過ぎた ====
22196 00004480                    458 I1  POS_CLS_TYP1_POSCTL1_250:
22197                             459 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;
22198 00004480 D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22199 00004482 400B                   M           JSR     @R0                     ;
22200 00004484 0009                   M           NOP                                     ;
22201                             460 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
22202 00004486 D008                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22203 00004488 400B                   M           JSR     @R0                     ;
22204 0000448A 0009                   M           NOP                                     ;
22205                             461 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
22206 0000448C D107                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
22207 0000448E 6011                   M           MOV.W   @R1,R0          ;
22208 00004490 CB02                   M           OR      #BIT1,R0                ;
22209 00004492 2101                   M           MOV.W   R0,@R1          ;
22210                             462 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
22211 00004494 D006                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22212 00004496 400B                   M           JSR     @R0                     ;
22213 00004498 0009                   M           NOP                                     ;
22214                             463 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT                                   ;
22215 0000449A A028                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22216 0000449C 0009                   M           NOP
22217                             464 I1  
22218                                 I1  ***** BEGIN-POOL *****
22219 0000449E 0000                   I1  ALIGNMENT CODE
22220 000044A0 00000000               I1  DATA FOR SOURCE-LINE 452
22221 000044A4 00000000               I1  DATA FOR SOURCE-LINE 459
22222 000044A8 00000000               I1  DATA FOR SOURCE-LINE 460
22223 000044AC 00000000               I1  DATA FOR SOURCE-LINE 461
22224 000044B0 00000000               I1  DATA FOR SOURCE-LINE 462
22225                                 I1  ***** END-POOL *****
22226 000044B4                    465 I1  POS_CLS_TYP1_POSCTL1_260:
22227                             466 I1  
22228                             467 I1  ;-------------------------2012-05-30 CHECK ----------------
22229                             468 I1  ;;[[neg]]
22230                             469 I1  ;;[[neg]]       MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
22231                             470 I1  ;;[[neg]]       MOV.W   @R1,R0                                                  ;
22232                             471 I1  ;;[[neg]]       CMP/EQ  #1,R0                                                   ;
22233                             472 I1  ;;[[neg]]       BF      POS_CLS_TYP1_POSCTL1_280                                ;
22234                             473 I1  ;;[[neg]]
22235 000044B4 D108               474 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22236 000044B6 6011               475 I1          MOV.W   @R1,R0                                  ;
22237 000044B8 C806               476 I1          TST     #(BIT2+BIT1),R0                         ;
22238                             477 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_280             ;(通常制御)
22239 000044BA 8B0A                   M           BF      POS_CLS_TYP1_POSCTL1_280
22240                             478 I1  
22241                             479 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
22242 000044BC D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22243 000044BE 400B                   M           JSR     @R0                     ;
22244 000044C0 0009                   M           NOP                                     ;
22245                             480 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
22246 000044C2 D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22247 000044C4 410B                   M           JSR     @R1                     ;
22248 000044C6 0009                   M           NOP                                     ;
22249 000044C8 C804               481 I1          TST     #BIT2,R0                                ;
22250                             482 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_280             ;まだﾊﾟﾙｽがある
22251 000044CA 8902                   M           BT      POS_CLS_TYP1_POSCTL1_280
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   291
PROGRAM NAME =

22252                             483 I1  
22253                             484 I1  ;       ---ﾊﾟﾙｽがなくなった---
22254                             485 I1          FAR_JSR #_FULCLS_MAXOVER_ERR_WT,R0              ;2012-05-30/2012-10-05
22255 000044CC D005                   M           MOV.L   #_FULCLS_MAXOVER_ERR_WT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22256 000044CE 400B                   M           JSR     @R0                     ;
22257 000044D0 0009                   M           NOP                                     ;
22258                             486 I1  
22259                             487 I1  ;       ----------------------------------------------------------
22260 000044D2                    488 I1  POS_CLS_TYP1_POSCTL1_280:
22261                             489 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
22262 000044D2 A00C                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22263 000044D4 0009                   M           NOP
22264                             490 I1  
22265                             491 I1  
22266                             492 I1  
22267                                 I1  ***** BEGIN-POOL *****
22268 000044D6 0000                   I1  ALIGNMENT CODE
22269 000044D8 00000000               I1  DATA FOR SOURCE-LINE 474
22270 000044DC 00000000               I1  DATA FOR SOURCE-LINE 479
22271 000044E0 00000000               I1  DATA FOR SOURCE-LINE 480
22272 000044E4 00000000               I1  DATA FOR SOURCE-LINE 485
22273                                 I1  ***** END-POOL *****
22274 000044E8                    493 I1  POS_CLS_TYP1_POSCTL1_PC_END:
22275 000044E8 E004               494 I1          MOV     #BIT2,R0                                ;
22276                             495 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
22277 000044EA A001                   M           BRA     POS_CLS_TYP1_POSCTL1_END
22278 000044EC 0009                   M           NOP
22279                             496 I1  
22280 000044EE                    497 I1  POS_CLS_TYP1_POSCTL1_OUT_WAIT:                          ;
22281 000044EE 200A               498 I1          XOR     R0,R0                                   ;まだよ
22282 000044F0                    499 I1  POS_CLS_TYP1_POSCTL1_END:
22283                             500 I1          PUSH_REG1 R0
22284 000044F0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
22285                                 M                                           ;REG=>[SP]
22286                                 M                                           ;"-4" FF,FF,FF,FC
22287                             501 I1          PUSH_REG1 R1
22288 000044F2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
22289                                 M                                           ;REG=>[SP]
22290                                 M                                           ;"-4" FF,FF,FF,FC
22291 000044F4 D104               502 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
22292 000044F6 6011               503 I1          MOV.W   @R1,R0                          ;
22293 000044F8 D104               504 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;247.0/247.1
22294 000044FA 2101               505 I1          MOV.W   R0,@R1                          ;
22295                             506 I1          POP_REG1 R1
22296                                 M                                   ; RE"+4" 00,00,00,04
22297 000044FC 61F6                   M           MOV.L   @R15+,R1        ;
22298                             507 I1          POP_REG1 R0
22299                                 M                                   ; RE"+4" 00,00,00,04
22300 000044FE 60F6                   M           MOV.L   @R15+,R0        ;
22301                             508 I1  
22302                             509 I1          SUB_END
22303                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22304 00004500 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22305                             510 I1          M_RTS
22306 00004502 000B                   M           RTS                             ;RTSの後ろの
22307 00004504 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22308                             511 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   292
PROGRAM NAME =

22309                             512 I1  
22310                             513 I1  ;       ***************************
22311                             514 I1  ;       ***                     ***
22312                             515 I1  ;       ***     2015-06-22      ***
22313                             516 I1  ;;      ***                     ***
22314                             517 I1  ;       ***************************
22315                             518 I1  ;       出力しない,ﾊﾟﾙｽ,遅延周期を設定
22316                             519 I1  ;       ANS:R0=0:出力しない
22317                             520 I1  ;
22318                                 I1  ***** BEGIN-POOL *****
22319 00004506 0000                   I1  ALIGNMENT CODE
22320 00004508 00000000               I1  DATA FOR SOURCE-LINE 502
22321 0000450C 00000000               I1  DATA FOR SOURCE-LINE 504
22322                                 I1  ***** END-POOL *****
22323 00004510                    521 I1  _RESTART_WAIT_PLS_DATA_SELECT:
22324                             522 I1          SUB_START
22325 00004510 4F22                   M           STS.L   PR,@-R15                ;[必要]
22326                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22327                             523 I1  
22328                             524 I1  
22329                             525 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0                 ;0,1,-1,-2
22330 00004512 D008                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22331 00004514 400B                   M           JSR     @R0                     ;
22332 00004516 0009                   M           NOP                                     ;
22333 00004518 2008               526 I1          TST     R0,R0                                   ;
22334                             527 I1          TST_BIT_OF RESTART_WAIT_PLS_DATASEL_END         ;[ﾘｽﾀｰﾄしない]
22335 0000451A 891E                   M           BT      RESTART_WAIT_PLS_DATASEL_END
22336                             528 I1  
22337 0000451C 4011               529 I1          CMP/PZ  R0                                      ;+()
22338 0000451E 8913               530 I1          BT      RESTART_WAIT_PLS_DATASEL_100            ;
22339                             531 I1  
22340                             532 I1  ;       ---------範囲外---------
22341                             533 I1  ;;;;H2W MOV.L   #_SVP_OUTPLS_HOSA,R1            ;44
22342                             534 I1  
22343 00004520 D105               535 I1          MOV.L   #_PAR_KAJYU_CTIM1-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;368:範囲外
22344 00004522 6011               536 I1          MOV.W   @R1,R0                          ;
22345 00004524 D105               537 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
22346 00004526 2101               538 I1          MOV.W   R0,@R1                          ;遅延時間=0
22347                             539 I1  
22348 00004528 D105               540 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;31
22349 0000452A 6011               541 I1          MOV.W   @R1,R0                          ;
22350 0000452C D105               542 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
22351 0000452E 2101               543 I1          MOV.W   R0,@R1                          ;
22352                             544 I1  
22353                             545 I1          M_BRA   RESTART_WAIT_PLS_DATASEL_OUT            ;
22354 00004530 A012                   M           BRA     RESTART_WAIT_PLS_DATASEL_OUT
22355 00004532 0009                   M           NOP
22356                             546 I1  
22357                             547 I1  ;       ------------ニアゼロ範囲内-------------
22358                                 I1  ***** BEGIN-POOL *****
22359 00004534 00000000               I1  DATA FOR SOURCE-LINE 525
22360 00004538 00000000               I1  DATA FOR SOURCE-LINE 535
22361 0000453C 00000000               I1  DATA FOR SOURCE-LINE 537
22362 00004540 00000000               I1  DATA FOR SOURCE-LINE 540
22363 00004544 00000000               I1  DATA FOR SOURCE-LINE 542
22364                                 I1  ***** END-POOL *****
22365 00004548                    548 I1  RESTART_WAIT_PLS_DATASEL_100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   293
PROGRAM NAME =

22366                             549 I1  
22367                             550 I1  ;;;H2W  MOV.L   #_SVP_OUTPLS_HOSB,R1            ;45
22368 00004548 D105               551 I1          MOV.L   #_PAR_KAJYU_CTIM2-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;369:範囲内
22369 0000454A 6011               552 I1          MOV.W   @R1,R0                          ;
22370 0000454C D105               553 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
22371 0000454E 2101               554 I1          MOV.W   R0,@R1                          ;遅延時間=0
22372                             555 I1  
22373 00004550 D105               556 I1          MOV.L   #_SET1_RNAPOS_KP01,R1           ;
22374 00004552 6011               557 I1          MOV.W   @R1,R0                          ;
22375 00004554 D105               558 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
22376 00004556 2101               559 I1          MOV.W   R0,@R1                          ;
22377                             560 I1  
22378 00004558                    561 I1  RESTART_WAIT_PLS_DATASEL_OUT:
22379 00004558 E001               562 I1          MOV.B   #1,R0                                   ;START
22380 0000455A                    563 I1  RESTART_WAIT_PLS_DATASEL_END:
22381                             564 I1  
22382                             565 I1          SUB_END
22383                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22384 0000455A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22385                             566 I1          M_RTS
22386 0000455C 000B                   M           RTS                             ;RTSの後ろの
22387 0000455E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22388                             567 I1  
22389                             568 I1  
22390                             569 I1  
22391                             570 I1  ;       *******************************************
22392                             571 I1  ;       ***                                     ***
22393                             572 I1  ;       ***                                     ***
22394                             573 I1  ;       ***                                     ***
22395                             574 I1  ;       ***                                     ***
22396                             575 I1  ;       *******************************************
22397                             576 I1          .IMPORT _POSCHG_LINK_DIG_TO_LINK_PLS            ;
22398                             577 I1          .IMPORT _OBJ_POS_DIG_MAK                        ;2015-03-15[R01:2014-08-20]
22399                             578 I1  
22400                                 I1  ***** BEGIN-POOL *****
22401 00004560 00000000               I1  DATA FOR SOURCE-LINE 551
22402 00004564 00000000               I1  DATA FOR SOURCE-LINE 553
22403 00004568 00000000               I1  DATA FOR SOURCE-LINE 556
22404 0000456C 00000000               I1  DATA FOR SOURCE-LINE 558
22405                                 I1  ***** END-POOL *****
22406 00004570                    579 I1          .ALIGN  4                                               ;
22407 00004570                    580 I1  _FULCLS_MAXPLS_CALC:
22408                             581 I1          SUB_START
22409 00004570 4F22                   M           STS.L   PR,@-R15                ;[必要]
22410                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22411                             582 I1  
22412                             583 I1  ;;;;DEBUG       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
22413                             584 I1  ;;;;DEBUG       MOV.W   @R1,R2                          ;
22414                             585 I1  ;;;;DEBUG       M_BRA   FULCLS_MAXPLSCAL_200            ;
22415                             586 I1  
22416                             587 I1  ;       -------- 2015-03-15 -----------
22417                             588 I1          FAR_JSR #_OBJ_POS_DIG_MAK,R0                    ;これがない 2015-03-15[R012014-08-
                                          20]
22418 00004572 D00A                   M           MOV.L   #_OBJ_POS_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22419 00004574 400B                   M           JSR     @R0                     ;
22420 00004576 0009                   M           NOP                                     ;
22421                             589 I1  ;       --------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   294
PROGRAM NAME =

22422                             590 I1  
22423 00004578 D109               591 I1          MOV.L   #_SV_OBJ360,R1                          ;停止目標位置角度
22424 0000457A 6311               592 I1          MOV.W   @R1,R3                                  ;
22425 0000457C 940D               593 I1          MOV.W   #D'1800,R4                              ;
22426 0000457E 6243               594 I1          MOV     R4,R2                                   ;
22427 00004580 3238               595 I1          SUB     R3,R2                                   ;
22428 00004582 4211               596 I1          CMP/PZ  R2                                      ;
22429 00004584 8900               597 I1          BT      FULCLS_MAXPLSCAL_100                    ;
22430 00004586 324C               598 I1          ADD     R4,R2                                   ;角度0.1度
22431 00004588                    599 I1  FULCLS_MAXPLSCAL_100:                                   ;
22432 00004588 7201               600 I1          ADD     #1,R2                                   ;+0.1度
22433                             601 I1          FAR_JSR #_POSCHG_LINK_DIG_TO_LINK_PLS,R0        ;
22434 0000458A D006                   M           MOV.L   #_POSCHG_LINK_DIG_TO_LINK_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22435 0000458C 400B                   M           JSR     @R0                     ;
22436 0000458E 0009                   M           NOP                                     ;
22437                             602 I1  
22438                             603 I1  
22439                             604 I1  
22440 00004590                    605 I1  FULCLS_MAXPLSCAL_200:                                   ;
22441 00004590 D105               606 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
22442 00004592 2122               607 I1          MOV.L   R2,@R1                                  ;
22443                             608 I1  
22444                             609 I1  ;;;     MOV.L   #_LINK_NOWROT_OFSPLS_P,R4       ;[[[目標]]]
22445                             610 I1  ;;;     MOV.L   @R4,R2                          ;
22446                             611 I1  ;;;
22447                             612 I1  ;;;     MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
22448                             613 I1  ;;;     MOV.L   R1,@R5                          ;
22449                             614 I1  ;;;     MOV.L   R2,@(4,R5)                      ;
22450                             615 I1  ;;;
22451                             616 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
22452                             617 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
22453                             618 I1  
22454                             619 I1  
22455                             620 I1          SUB_END
22456                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22457 00004594 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22458                             621 I1          M_RTS
22459 00004596 000B                   M           RTS                             ;RTSの後ろの
22460 00004598 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22461                             622 I1  
22462                             623 I1  
22463                             624 I1  ;       *******************************************
22464                             625 I1  ;       ***             2012-10-05              ***
22465                             626 I1  ;       ***                                     ***
22466                             627 I1  ;       ***     180.0度に達したらEXIT           ***
22467                             628 I1  ;       *******************************************
22468                                 I1  ***** BEGIN-POOL *****
22469 0000459A 0708                   I1  DATA FOR SOURCE-LINE 593
22470 0000459C 00000000               I1  DATA FOR SOURCE-LINE 588
22471 000045A0 00000000               I1  DATA FOR SOURCE-LINE 591
22472 000045A4 00000000               I1  DATA FOR SOURCE-LINE 601
22473 000045A8 00000000               I1  DATA FOR SOURCE-LINE 606
22474                                 I1  ***** END-POOL *****
22475 000045AC                    629 I1  _OVER_DIG_CHK:
22476                             630 I1          SUB_START
22477 000045AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   295
PROGRAM NAME =

22478                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22479 000045AE D108               631 I1          MOV.L   #_INC_ENC360,R1                 ;
22480 000045B0 6211               632 I1          MOV.W   @R1,R2                          ;
22481 000045B2 900C               633 I1          MOV.W   #D'1798,R0                      ;179.8
22482 000045B4 3202               634 I1          CMP/HS  R0,R2                           ;
22483 000045B6 8B11               635 I1          BF      OVER_DIGCHK_NOMAL               ;ｵｰﾊﾞはしていない
22484                             636 I1  
22485 000045B8                    637 I1  OVER_DIGCHK_ERR:
22486                             638 I1          FAR_JSR #_FULCLS_MAXOVER_ERR,R0         ;ﾀｲﾏなし
22487 000045B8 D006                   M           MOV.L   #_FULCLS_MAXOVER_ERR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22488 000045BA 400B                   M           JSR     @R0                     ;
22489 000045BC 0009                   M           NOP                                     ;
22490 000045BE D106               639 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22491 000045C0 6011               640 I1          MOV.W   @R1,R0                          ;
22492 000045C2 C940               641 I1          AND     #BIT6,R0
22493 000045C4 2008               642 I1          TST     R0,R0                           ;
22494                             643 I1          TST_BIT_OF OVER_DIGCHK_NOMAL            ;R0=0SET
22495 000045C6 8909                   M           BT      OVER_DIGCHK_NOMAL
22496 000045C8 E001               644 I1          MOV.B   #1,R0                           ;R0=1
22497                             645 I1          M_BRA   OVER_DIGCHK_END
22498 000045CA A008                   M           BRA     OVER_DIGCHK_END
22499 000045CC 0009                   M           NOP
22500                                 I1  ***** BEGIN-POOL *****
22501 000045CE 0706                   I1  DATA FOR SOURCE-LINE 633
22502 000045D0 00000000               I1  DATA FOR SOURCE-LINE 631
22503 000045D4 00000000               I1  DATA FOR SOURCE-LINE 638
22504 000045D8 00000000               I1  DATA FOR SOURCE-LINE 639
22505                                 I1  ***** END-POOL *****
22506 000045DC                    646 I1  OVER_DIGCHK_NOMAL
22507 000045DC 200A               647 I1          XOR     R0,R0
22508 000045DE                    648 I1  OVER_DIGCHK_END
22509                             649 I1  
22510                             650 I1          SUB_END
22511                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22512 000045DE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22513                             651 I1          M_RTS
22514 000045E0 000B                   M           RTS                             ;RTSの後ろの
22515 000045E2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22516                             652 I1  
22517                             653 I1  
22518                             654 I1  ;       ***************************
22519                             655 I1  ;       ***     2012-05-30      ***
22520                             656 I1  ;       ***     反転オーバ      ***
22521                             657 I1  ;       ***************************
22522                             658 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22523 000045E4                    659 I1          .ALIGN  4                                               ;
22524 000045E4                    660 I1  _FULCLS_MAXOVER_ERR:
22525                             661 I1          SUB_START
22526 000045E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
22527                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22528                             662 I1          M_BRA   FULCLS_MAXOVER_ERRSET           ;
22529 000045E6 A00B                   M           BRA     FULCLS_MAXOVER_ERRSET
22530 000045E8 0009                   M           NOP
22531                             663 I1  
22532 000045EA                    664 I1  _FULCLS_MAXOVER_ERR_WT:
22533                             665 I1          SUB_START
22534 000045EA 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   296
PROGRAM NAME =

22535                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22536                             666 I1  
22537 000045EC D103               667 I1          MOV.L   #_NEG_EXITTIM,R1                ;
22538 000045EE 6011               668 I1          MOV.W   @R1,R0                          ;
22539 000045F0 2008               669 I1          TST     R0,R0                           ;
22540                             670 I1          TST_BIT_OF FULCLS_MAXOVER_ERRSET        ;
22541 000045F2 8905                   M           BT      FULCLS_MAXOVER_ERRSET
22542 000045F4 70FF               671 I1          ADD     #-1,R0                          ;
22543 000045F6 2101               672 I1          MOV.W   R0,@R1                          ;
22544                             673 I1          M_BRA   FULCLS_MAXOVER_ERRWAT           ;
22545 000045F8 A012                   M           BRA     FULCLS_MAXOVER_ERRWAT
22546 000045FA 0009                   M           NOP
22547                             674 I1  
22548                                 I1  ***** BEGIN-POOL *****
22549 000045FC 00000000               I1  DATA FOR SOURCE-LINE 667
22550                                 I1  ***** END-POOL *****
22551 00004600                    675 I1  FULCLS_MAXOVER_ERRSET:
22552 00004600 D109               676 I1          MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
22553 00004602 6011               677 I1          MOV.W   @R1,R0                                                  ;
22554 00004604 8801               678 I1          CMP/EQ  #1,R0                                                   ;
22555 00004606 8B0B               679 I1          BF      FULCLS_MAXOVER_ERRWAT                                   ;
22556                             680 I1  
22557                             681 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT6+BIT0),WKREG=R1    ;B
                                          IT6:ERR BIT0:制御
22558 00004608 D108                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22559 0000460A 6011                   M           MOV.W   @R1,R0          ;
22560 0000460C CB41                   M           OR      #(BIT6+BIT0),R0         ;
22561 0000460E 2101                   M           MOV.W   R0,@R1          ;
22562                             682 I1  
22563                             683 I1  
22564                             684 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22565                             685 C   ;       ------2015-03-15[R01:2014-08-20] 荷重制御情報追加-------------
22566 00004610 D107               686 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
22567 00004612 6011               687 C           MOV.W   @R1,R0                                  ;
22568 00004614 8801               688 C           CMP/EQ  #1,R0                                   ;
22569 00004616 8B03               689 C           BF      FULCLS_MAXOVER_ERRS100                  ;
22570                             690 C   
22571                             691 C           MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT5),WKREG=R1 ;BIT5:荷重
22572 00004618 D104                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22573 0000461A 6011                   M           MOV.W   @R1,R0          ;
22574 0000461C CB20                   M           OR      #(BIT5),R0              ;
22575 0000461E 2101                   M           MOV.W   R0,@R1          ;
22576                             692 C   
22577 00004620                    693 C   FULCLS_MAXOVER_ERRS100:
22578                             694 C   ;       -----------------------------------------------
22579                             695 I1          .AENDI
22580                             696 I1  
22581                             697 I1  
22582 00004620                    698 I1  FULCLS_MAXOVER_ERRWAT:
22583                             699 I1          SUB_END
22584                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22585 00004620 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22586                             700 I1          M_RTS
22587 00004622 000B                   M           RTS                             ;RTSの後ろの
22588 00004624 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22589                             701 I1  
22590                             702 I1  ;       ***************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   297
PROGRAM NAME =

22591                             703 I1  ;       ***     2012-05-30      ***
22592                             704 I1  ;       ***     反転オーバCLR   ***
22593                             705 I1  ;       ***************************
22594                             706 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22595                                 I1  ***** BEGIN-POOL *****
22596 00004626 0000                   I1  ALIGNMENT CODE
22597 00004628 00000000               I1  DATA FOR SOURCE-LINE 676
22598 0000462C 00000000               I1  DATA FOR SOURCE-LINE 681,691
22599 00004630 00000000               I1  DATA FOR SOURCE-LINE 686
22600                                 I1  ***** END-POOL *****
22601 00004634                    707 I1          .ALIGN  4                                               ;
22602                             708 I1          .EXPORT _FULCLS_MAXOVER_CLR     ;
22603 00004634                    709 I1  _FULCLS_MAXOVER_CLR:
22604                             710 I1          SUB_START
22605 00004634 4F22                   M           STS.L   PR,@-R15                ;[必要]
22606                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22607 00004636 200A               711 I1          XOR     R0,R0                   ;
22608 00004638 D102               712 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1  ;
22609 0000463A 2101               713 I1          MOV.W   R0,@R1                  ;
22610                             714 I1          SUB_END
22611                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22612 0000463C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22613                             715 I1          M_RTS
22614 0000463E 000B                   M           RTS                             ;RTSの後ろの
22615 00004640 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22616                             716 I1  
22617                             717 I1  ;       ***************************
22618                             718 I1  ;       ***     2012-05-30      ***
22619                             719 I1  ;       ***     反転オーバINI   ***
22620                             720 I1  ;       ***************************
22621                             721 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22622                                 I1  ***** BEGIN-POOL *****
22623 00004642 0000                   I1  ALIGNMENT CODE
22624 00004644 00000000               I1  DATA FOR SOURCE-LINE 712
22625                                 I1  ***** END-POOL *****
22626 00004648                    722 I1          .ALIGN  4                                               ;
22627 00004648                    723 I1  _FULCLS_MAXOVER_STEP_INI:
22628                             724 I1          SUB_START
22629 00004648 4F22                   M           STS.L   PR,@-R15                ;[必要]
22630                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22631                             725 I1  
22632                             726 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=~BIT0,WKREG=R1 ;
22633 0000464A D103                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22634 0000464C 6011                   M           MOV.W   @R1,R0          ;
22635 0000464E C9FE                   M           AND     #LOW ~BIT0,R0           ;
22636 00004650 2101                   M           MOV.W   R0,@R1          ;
22637                             727 I1  
22638                             728 I1  
22639                             729 I1          SUB_END
22640                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22641 00004652 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22642                             730 I1          M_RTS
22643 00004654 000B                   M           RTS                             ;RTSの後ろの
22644 00004656 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22645                             731 I1  
22646                             732 I1  ;       ***********************************
22647                             733 I1  ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   298
PROGRAM NAME =

22648                             734 I1  ;       ***     追い込み達せず信号出力  ***
22649                             735 I1  ;       ***     224.9  各行程           ***
22650                             736 I1  ;       ***     224.10 1回でも          ***
22651                             737 I1  ;       ***                             ***
22652                             738 I1  ;       ***********************************
22653                             739 I1          .EXPORT _FULCLS_OVER_SIG
22654                             740 I1  
22655                                 I1  ***** BEGIN-POOL *****
22656 00004658 00000000               I1  DATA FOR SOURCE-LINE 726
22657                                 I1  ***** END-POOL *****
22658 0000465C                    741 I1          .ALIGN  4                       ;2012-05-30
22659 0000465C                    742 I1  _FULCLS_OVER_SIG
22660                             743 I1          SUB_START
22661 0000465C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22662                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22663                             744 I1  
22664 0000465E 233A               745 I1          XOR     R3,R3
22665 00004660 244A               746 I1          XOR     R4,R4
22666 00004662 D10B               747 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22667 00004664 6011               748 I1          MOV.W   @R1,R0                          ;
22668 00004666 C840               749 I1          TST     #BIT6,R0                        ;
22669                             750 I1          TST_BIT_OF FULCLS_OVERSG_100            ;異常記憶なし
22670 00004668 8903                   M           BT      FULCLS_OVERSG_100
22671 0000466A 930D               751 I1          MOV.W   #BIT9,R3                        ;異常有り・リセットまで保持
22672                             752 I1  
22673                             753 I1  
22674                             754 I1  
22675                             755 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22676                             756 C   ;       --2015-03-15[R01:2014-08-20追加]---
22677 0000466C C820               757 C           TST     #BIT5,R0                        ;荷重?
22678                             758 C           TST_BIT_OF FULCLS_OVERSG_100            ;NO
22679 0000466E 8900                   M           BT      FULCLS_OVERSG_100
22680 00004670 930B               759 C           MOV.W   #BIT10,R3                       ;
22681                             760 I1          .AENDI
22682                             761 I1  
22683 00004672                    762 I1  FULCLS_OVERSG_100
22684                             763 I1  
22685                             764 I1  ;;;;;   TST     #BIT0,R0                        ;
22686                             765 I1  ;;;;;   TST_BIT_OF FULCLS_OVERSG_200            ;制御中なし
22687                             766 I1  ;;;;;   MOV.W   #BIT10,R4                       ;異常有り・記憶はしない
22688                             767 I1  ;;;;;FULCLS_OVERSG_200
22689                             768 I1  
22690 00004672 D108               769 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R1     ;
22691 00004674 6011               770 I1          MOV.W   @R1,R0                          ;
22692 00004676 9209               771 I1          MOV.W   #(BIT10+BIT9),R2                ;
22693 00004678 6227               772 I1          NOT     R2,R2                           ;
22694 0000467A 2029               773 I1          AND     R2,R0                           ;
22695 0000467C 203B               774 I1          OR      R3,R0                           ;
22696 0000467E 204B               775 I1          OR      R4,R0                           ;
22697 00004680 2101               776 I1          MOV.W   R0,@R1                          ;
22698                             777 I1  
22699                             778 I1          SUB_END
22700                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22701 00004682 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22702                             779 I1          M_RTS
22703 00004684 000B                   M           RTS                             ;RTSの後ろの
22704 00004686 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   299
PROGRAM NAME =

22705                             780 I1  
22706                             781 I1  
22707                             782 I1  ;       ***********************************
22708                             783 I1  ;       ***                             ***
22709                             784 I1  ;       ***     ﾌﾙｸﾛｰｽﾞﾆｱｾﾞﾛ            ***
22710                             785 I1  ;       ***                             ***
22711                             786 I1  ;       ***********************************
22712                             787 I1  ;       ANS R0(ﾌﾙｸﾛｰｽﾞすべきかどうか R0=0しない R0 !=0(工程)ﾌﾙｸﾛｰｽﾞ)
22713                             788 I1  ;       ANS R6 1回転目標ﾊﾟﾙｽ
22714                             789 I1  ;       ANS R7 1回転ﾘﾆｱﾊﾟﾙｽ
22715                             790 I1  ;
22716                             791 I1  ;
22717                             792 I1  ;       設定=0度　==>312度を目標
22718                             793 I1  ;       180より大きい区間は　−扱いで考える(1)
22719                             794 I1  ;       もし1800より大きければ
22720                             795 I1  ;
22721                             796 I1  ;       -1*(3600-現在ﾊﾟﾙｽ)
22722                                 I1  ***** BEGIN-POOL *****
22723 00004688 0200                   I1  DATA FOR SOURCE-LINE 751
22724 0000468A 0400                   I1  DATA FOR SOURCE-LINE 759
22725 0000468C 0600                   I1  DATA FOR SOURCE-LINE 771
22726 0000468E 0000                   I1  ALIGNMENT CODE
22727 00004690 00000000               I1  DATA FOR SOURCE-LINE 747
22728 00004694 00000000               I1  DATA FOR SOURCE-LINE 769
22729                                 I1  ***** END-POOL *****
22730 00004698                    797 I1          .ALIGN  4                                               ;
22731                             798 I1  ;       Input 工程=R5
22732                             799 I1  ;       Input R7
22733                             800 I1  ;       ANS     R0:0,1,-1
22734                             801 I1  ;       R0      =0 :ﾆｱｾﾞﾛ範囲内
22735                             802 I1  ;               =1 :正(正転運転では行き過ぎている/逆転運転では生きたりない)
22736                             803 I1  ;               =-1:負(正運転では行きたりない    /逆転運転では行き過ぎている)
22737                             804 I1  ;       ANS     R6:ﾘﾆｱPLS現在位置
22738                             805 I1  
22739                             806 I1  ;
22740 00004698                    807 I1  _POS_CLS_TYP1_NEAR_ZERO_CHEAK:
22741                             808 I1          SUB_START
22742 00004698 4F22                   M           STS.L   PR,@-R15                ;[必要]
22743                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22744 0000469A D40D               809 I1          MOV.L   #_SDATCLS_TRG_STEP,R4           ;//速度連続の最後のｽﾃｯﾌﾟ
22745 0000469C 6041               810 I1          MOV.W   @R4,R0                          ;
22746 0000469E 70FF               811 I1          ADD     #-1,R0                          ;
22747 000046A0 4008               812 I1          SHLL2   R0                              ;
22748 000046A2 4000               813 I1          SHLL    R0                              ;8byte
22749 000046A4 D40B               814 I1          MOV.L   #_SDATCLS_OBJ_NEAR_UPDNPLS,R4   ;//+0*4:UP +1*4 DN
22750 000046A6 340C               815 I1          ADD     R0,R4                           ;
22751 000046A8 6346               816 I1          MOV.L   @R4+,R3                         ;目標位置+ALFA(結果"-")
22752 000046AA 6142               817 I1          MOV.L   @R4,R1                          ;目標位置-ALFA
22753 000046AC 3313               818 I1          CMP/GE  R1,R3                           ;
22754 000046AE 8902               819 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_100    ;
22755 000046B0 6013               820 I1          MOV     R1,R0                           ;
22756 000046B2 6133               821 I1          MOV     R3,R1                           ;
22757 000046B4 6303               822 I1          MOV     R0,R3                           ;
22758 000046B6                    823 I1  POS_CLS_TYP1_NEAR_ZR_CHK_100:                   ;
22759                             824 I1  
22760                             825 I1  ;       ==== 2003-02-21 ===================
22761 000046B6 D008               826 I1          MOV.L   #_DBG_REVMOD_UPPLS,R0   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   300
PROGRAM NAME =

22762 000046B8 2032               827 I1          MOV.L   R3,@R0                  ;
22763 000046BA D008               828 I1          MOV.L   #_DBG_REVMOD_DNPLS,R0   ;
22764 000046BC 2012               829 I1          MOV.L   R1,@R0                  ;
22765                             830 I1  
22766                             831 I1  ;       ===================================
22767                             832 I1  ;;;     MOV     #1,R0
22768                             833 I1  ;;;     CMP/GT  R3,R6                           ;
22769                             834 I1  ;;;     BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
22770                             835 I1  ;;;
22771                             836 I1  ;;;     MOV     #-1,R0                          ;
22772                             837 I1  ;;;     CMP/GE  R1,R6                           ;R1=< R6 NO
22773                             838 I1  ;;;     BF      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;(範囲内 NO)
22774                             839 I1  ;;;     XOR     R0,R0                           ;
22775                             840 I1  ;;;POS_CLS_TYP1_NEAR_ZR_CHK_200:                        ;
22776                             841 I1  
22777 000046BE E001               842 I1          MOV     #1,R0
22778 000046C0 3637               843 I1          CMP/GT  R3,R6                           ;
22779 000046C2 890D               844 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
22780                             845 I1  
22781 000046C4 E0FF               846 I1          MOV     #-1,R0                          ;
22782 000046C6 3613               847 I1          CMP/GE  R1,R6                           ;R1=< R6 NO
22783 000046C8 8B0D               848 I1          BF      POS_CLS_TYP1_NEAR_ZR_CHK_201    ;(範囲内 NO)
22784 000046CA 200A               849 I1          XOR     R0,R0                           ;
22785                             850 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
22786 000046CC A00C                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
22787 000046CE 0009                   M           NOP
22788                             851 I1  
22789                                 I1  ***** BEGIN-POOL *****
22790 000046D0 00000000               I1  DATA FOR SOURCE-LINE 809
22791 000046D4 00000000               I1  DATA FOR SOURCE-LINE 814
22792 000046D8 00000000               I1  DATA FOR SOURCE-LINE 826
22793 000046DC 00000000               I1  DATA FOR SOURCE-LINE 828
22794                                 I1  ***** END-POOL *****
22795 000046E0                    852 I1  POS_CLS_TYP1_NEAR_ZR_CHK_200:                   ;
22796 000046E0 0009               853 I1          NOP
22797                             854 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
22798 000046E2 A001                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
22799 000046E4 0009                   M           NOP
22800 000046E6                    855 I1  POS_CLS_TYP1_NEAR_ZR_CHK_201:                   ;
22801 000046E6 0009               856 I1          NOP
22802 000046E8                    857 I1  POS_CLS_TYP1_NEAR_ZR_CHK_202:                   ;
22803                             858 I1  
22804                             859 I1  ;       ===========================================
22805                             860 I1  ;       === <CPU-Aが終わりを告げたら終わり>     ===
22806                             861 I1  ;       === <CPU-Bが終わりを告げても終わり?>    ===
22807                             862 I1  ;       ===========================================
22808                             863 I1          PUSH_REG1 R2
22809 000046E8 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
22810                                 M                                           ;REG=>[SP]
22811                                 M                                           ;"-4" FF,FF,FF,FC
22812                             864 I1          PUSH_REG1 R3
22813 000046EA 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
22814                                 M                                           ;REG=>[SP]
22815                                 M                                           ;"-4" FF,FF,FF,FC
22816                             865 I1  
22817                             866 I1          PUSH_REG1 R0
22818 000046EC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   301
PROGRAM NAME =

22819                                 M                                           ;REG=>[SP]
22820                                 M                                           ;"-4" FF,FF,FF,FC
22821                             867 I1          .AIF    0 EQ    0
22822 000046EE 222A               868 C           XOR     R2,R2                           ;CPUAは自分から終わる
22823                             869             .AELSE
22824                             870             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;
22825                             871             MOV     R0,R2                           ;
22826                             872             .AENDI
22827                             873 I1          POP_REG1 R0                             ;
22828                                 M                                   ; RE"+4" 00,00,00,04
22829 000046F0 60F6                   M           MOV.L   @R15+,R0        ;
22830                             874 I1  
22831 000046F2 2228               875 I1          TST     R2,R2                           ;
22832                             876 I1          TST_BIT_OF POS_CLS_CPUB_TO_CPUA_100     ;
22833 000046F4 8900                   M           BT      POS_CLS_CPUB_TO_CPUA_100
22834 000046F6 200A               877 I1          XOR     R0,R0                           ;
22835 000046F8                    878 I1  POS_CLS_CPUB_TO_CPUA_100:                       ;
22836                             879 I1  
22837                             880 I1          POP_REG1 R3
22838                                 M                                   ; RE"+4" 00,00,00,04
22839 000046F8 63F6                   M           MOV.L   @R15+,R3        ;
22840                             881 I1          POP_REG1 R2
22841                                 M                                   ; RE"+4" 00,00,00,04
22842 000046FA 62F6                   M           MOV.L   @R15+,R2        ;
22843                             882 I1          SUB_END
22844                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22845 000046FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22846                             883 I1          M_RTS
22847 000046FE 000B                   M           RTS                             ;RTSの後ろの
22848 00004700 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22849                             884 I1  
22850                             885 I1  
22851                             886 I1  ;       ***********************************
22852                             887 I1  ;       ***     Input R1,R2             ***
22853                             888 I1  ;       ***********************************
22854                             889 I1  ;       R1,R2 絶対値
22855 00004702                    890 I1  _CLS_POS_LENGTH_ADD_DATA:
22856                             891 I1          SUB_START
22857 00004702 4F22                   M           STS.L   PR,@-R15                ;[必要]
22858                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22859 00004704 D40A               892 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
22860 00004706 6041               893 I1          MOV.W   @R4,R0                                                  ;
22861 00004708 C801               894 I1          TST     #BIT0,R0                                                ;
22862                             895 I1          TST_BIT_OF CLS_POS_LENGTH_ADDATA_050                            ;
22863 0000470A 8905                   M           BT      CLS_POS_LENGTH_ADDATA_050
22864                             896 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R4                              ;|R1,R2|
22865 0000470C 6227                   M           NOT     R2,R2                           ;
22866 0000470E 6117                   M           NOT     R1,R1                           ;
22867 00004710 244A                   M           XOR     R4,R4                           ;
22868 00004712 0018                   M           SETT
22869 00004714 324E                   M           ADDC    R4,R2                           ;0+1+R2
22870 00004716 314E                   M           ADDC    R4,R1                           ;
22871 00004718                    897 I1  CLS_POS_LENGTH_ADDATA_050:                                              ;
22872 00004718 D706               898 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
22873 0000471A 6572               899 I1          MOV.L   @R7,R5                                                  ;
22874 0000471C 5671               900 I1          MOV.L   @(4,R7),R6                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   302
PROGRAM NAME =

22875                             901 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
22876 0000471E 0008                   M           CLRT
22877 00004720 326E                   M           ADDC    R6,R2
22878 00004722 315E                   M           ADDC    R5,R1
22879 00004724 2712               902 I1          MOV.L   R1,@R7                                                  ;
22880 00004726 1721               903 I1          MOV.L   R2,@(4,R7)                                              ;
22881                             904 I1          SUB_END
22882                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22883 00004728 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22884                             905 I1          M_RTS
22885 0000472A 000B                   M           RTS                             ;RTSの後ろの
22886 0000472C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22887                             906 I1  
22888                             907 I1  
22889                             908 I1  ;       *******************************************
22890                             909 I1  ;       ***     260から0度の間は"-"になる       ***
22891                             910 I1  ;       *******************************************
22892                             911 I1  ;       R0~R2
22893                             912 I1          .EXPORT _FUL_CLS_OBJPLS_CHK
22894                                 I1  ***** BEGIN-POOL *****
22895 0000472E 0000                   I1  ALIGNMENT CODE
22896 00004730 00000000               I1  DATA FOR SOURCE-LINE 892
22897 00004734 00000000               I1  DATA FOR SOURCE-LINE 898
22898                                 I1  ***** END-POOL *****
22899 00004738                    913 I1  _FUL_CLS_OBJPLS_CHK:    ;Input R2 もし260~0の間なら"-"のﾊﾟﾙｽになる
22900                             914 I1          SUB_START
22901 00004738 4F22                   M           STS.L   PR,@-R15                ;[必要]
22902                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22903 0000473A D107               915 I1          MOV.L   #_SETX_FULCLS_AREA_PLS,R1       ;//260.0==>PLS
22904 0000473C 6012               916 I1          MOV.L   @R1,R0                          ;
22905 0000473E 3203               917 I1          CMP/GE  R0,R2                           ;R2 OK
22906 00004740 8B06               918 I1          BF      FUL_CLS_OBJPLSCK_050            ;
22907 00004742 D106               919 I1          MOV.L   #_LINK_1ROT_PLS,R1              ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
22908 00004744 6012               920 I1          MOV.L   @R1,R0                          ;
22909 00004746 3028               921 I1          SUB     R2,R0                           ;360-359=1
22910 00004748 620B               922 I1          NEG     R0,R2                           ;-1
22911 0000474A 4215               923 I1          CMP/PL  R2                              ;
22912 0000474C 8B00               924 I1          BF      FUL_CLS_OBJPLSCK_050            ;
22913 0000474E 222A               925 I1          XOR     R2,R2                           ;
22914 00004750                    926 I1  FUL_CLS_OBJPLSCK_050:                           ;
22915                             927 I1          SUB_END
22916                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22917 00004750 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22918                             928 I1          M_RTS
22919 00004752 000B                   M           RTS                             ;RTSの後ろの
22920 00004754 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22921                             929 I1  
22922                             930 I1  
22923                             931 I1  
22924                             932 I1  ;       ***********************************
22925                             933 I1  ;       ***                             ***
22926                             934 I1  ;       ***     目標位置→LENGTH        ***
22927                             935 I1  ;       ***                             ***
22928                             936 I1  ;       ***********************************
22929                             937 I1  ;       Input R1,R2(目標位置)
22930                             938 I1  ;       Output R1,R2
22931                             939 I1          .IMPORT _POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   303
PROGRAM NAME =

22932                                 I1  ***** BEGIN-POOL *****
22933 00004756 0000                   I1  ALIGNMENT CODE
22934 00004758 00000000               I1  DATA FOR SOURCE-LINE 915
22935 0000475C 00000000               I1  DATA FOR SOURCE-LINE 919
22936                                 I1  ***** END-POOL *****
22937 00004760                    940 I1  _FUL_CLS_LENGH_ADD_CALC:
22938                             941 I1          SUB_START
22939 00004760 4F22                   M           STS.L   PR,@-R15                ;[必要]
22940                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22941                             942 I1  
22942 00004762 D512               943 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
22943 00004764 2512               944 I1          MOV.L   R1,@R5                                          ;
22944 00004766 1521               945 I1          MOV.L   R2,@(4,R5)                                      ;絶対目標位置
22945                             946 I1  
22946                             947 I1  ;       == ﾛｯﾄﾃﾞｰﾀを取り除く==                                  ;
22947                             948 I1          FAR_JSR #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;R1,R2+/-回転数 余りパルス
                                          (符号つき)
22948 00004768 D011                   M           MOV.L   #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22949 0000476A 400B                   M           JSR     @R0                     ;
22950 0000476C 0009                   M           NOP                                     ;
22951 0000476E 6233               949 I1          MOV     R3,R2                                           ;ﾊﾟﾙｽ
22952 00004770 4211               950 I1          CMP/PZ  R2                                              ;
22953 00004772 8905               951 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
22954 00004774 D10F               952 I1          MOV.L   #_LINK_1ROT_PLS,R1                              ;<待機点340度   目標30度 3
                                          0-340+360>
22955 00004776 6412               953 I1          MOV.L   @R1,R4                                          ;               <30>
22956 00004778 324C               954 I1          ADD     R4,R2                                           ;
22957 0000477A 4211               955 I1          CMP/PZ  R2                                              ;
22958 0000477C 8900               956 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
22959 0000477E 222A               957 I1          XOR     R2,R2                                           ;"演算誤差0":ありえないは
                                          ず?BREAK CHEAK
22960 00004780                    958 I1  FULCLS_LNG_ADD_CAL200:                                          ;
22961                             959 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0
22962 00004780 D00D                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22963 00004782 400B                   M           JSR     @R0                     ;
22964 00004784 0009                   M           NOP                                     ;
22965                             960 I1          PUSH_REG1 R2
22966 00004786 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
22967                                 M                                           ;REG=>[SP]
22968                                 M                                           ;"-4" FF,FF,FF,FC
22969 00004788 D40C               961 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4                   ;//余り角度 +ﾃﾞｰﾀ
22970 0000478A 6242               962 I1          MOV.L   @R4,R2                                          ;
22971                             963 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;
22972 0000478C D00A                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22973 0000478E 400B                   M           JSR     @R0                     ;
22974 00004790 0009                   M           NOP                                     ;
22975 00004792 6323               964 I1          MOV     R2,R3                           ;
22976                             965 I1          POP_REG1 R2                             ;
22977                                 M                                   ; RE"+4" 00,00,00,04
22978 00004794 62F6                   M           MOV.L   @R15+,R2        ;
22979                             966 I1  ;       ==== 運転方向(CW/CCW)==
22980 00004796 D10A               967 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
22981 00004798 6411               968 I1          MOV.W   @R1,R4                          ;ﾀｲﾏLOAD
22982 0000479A 74FF               969 I1          ADD     #-1,R4                          ;
22983 0000479C 4408               970 I1          SHLL2   R4                              ;
22984 0000479E D009               971 I1          MOV.L   #_CPOS_SDAT1_INF1,R0            ;
22985 000047A0 004E               972 I1          MOV.L   @(R0,R4),R0                     ;BIT1=0 CW
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   304
PROGRAM NAME =

22986 000047A2 C802               973 I1          TST     #BIT1,R0                        ;
22987                             974 I1          TST_BIT_ON FULCLS_LNG_ADD_CAL300        ;
22988 000047A4 8B10                   M           BF      FULCLS_LNG_ADD_CAL300
22989                             975 I1  ;       ====== 正転運転 ===
22990 000047A6 3238               976 I1          SUB     R3,R2                           ;
22991                             977 I1  ;;      CMP/PZ  R2                              ;
22992                             978 I1  ;;      BT      FULCLS_LNG_ADD_CAL250           ;
22993                             979 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
22994                             980 I1  ;;      MOV.L   @R1,R4                          ;
22995                             981 I1  ;;      ADD     R4,R2                           ;
22996                             982 I1  ;;FULCLS_LNG_ADD_CAL250:                                ;
22997                             983 I1          M_BRA   FULCLS_LNG_ADD_CAL400           ;
22998 000047A8 A00F                   M           BRA     FULCLS_LNG_ADD_CAL400
22999 000047AA 0009                   M           NOP
23000                             984 I1  
23001                                 I1  ***** BEGIN-POOL *****
23002 000047AC 00000000               I1  DATA FOR SOURCE-LINE 943
23003 000047B0 00000000               I1  DATA FOR SOURCE-LINE 948
23004 000047B4 00000000               I1  DATA FOR SOURCE-LINE 952
23005 000047B8 00000000               I1  DATA FOR SOURCE-LINE 959,963
23006 000047BC 00000000               I1  DATA FOR SOURCE-LINE 961
23007 000047C0 00000000               I1  DATA FOR SOURCE-LINE 967
23008 000047C4 00000000               I1  DATA FOR SOURCE-LINE 971
23009                                 I1  ***** END-POOL *****
23010 000047C8                    985 I1  FULCLS_LNG_ADD_CAL300:
23011                             986 I1  ;       ====== 逆転運転 ===
23012 000047C8 3238               987 I1          SUB     R3,R2                           ;
23013                             988 I1  ;;      CMP/PL  R2                              ;
23014                             989 I1  ;;      BF      FULCLS_LNG_ADD_CAL350           ;
23015                             990 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
23016                             991 I1  ;;      MOV.L   @R1,R4                          ;
23017                             992 I1  ;;      SUB     R4,R2                           ;
23018                             993 I1  ;;FULCLS_LNG_ADD_CAL350:
23019                             994 I1  ;;      NOP
23020 000047CA                    995 I1  FULCLS_LNG_ADD_CAL400:
23021 000047CA 211A               996 I1          XOR     R1,R1                                           ;
23022 000047CC 4211               997 I1          CMP/PZ  R2                                              ;
23023 000047CE 8900               998 I1          BT      FULCLS_LNG_ADD_CAL450                           ;
23024 000047D0 71FF               999 I1          ADD     #-1,R1                                          ;
23025 000047D2                   1000 I1  FULCLS_LNG_ADD_CAL450:
23026                            1001 I1  
23027                            1002 I1  ;       ====== 差分======
23028 000047D2 D403              1003 I1          MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
23029 000047D4 2412              1004 I1          MOV.L   R1,@R4                          ;
23030 000047D6 1421              1005 I1          MOV.L   R2,@(4,R4)                      ;
23031                            1006 I1          SUB_END
23032                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23033 000047D8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23034                            1007 I1          M_RTS
23035 000047DA 000B                   M           RTS                             ;RTSの後ろの
23036 000047DC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23037                            1008 I1  
23038                            1009 I1  
23039                            1010 I1          .EXPORT _FUL_DATA_INIT  ;USED R1,R0
23040                                 I1  ***** BEGIN-POOL *****
23041 000047DE 0000                   I1  ALIGNMENT CODE
23042 000047E0 00000000               I1  DATA FOR SOURCE-LINE 1003
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   305
PROGRAM NAME =

23043                                 I1  ***** END-POOL *****
23044 000047E4                   1011 I1  _FUL_DATA_INIT:
23045                            1012 I1          SUB_START
23046 000047E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
23047                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23048 000047E6 D103              1013 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
23049 000047E8 200A              1014 I1          XOR     R0,R0                                   ;
23050 000047EA 2101              1015 I1          MOV.W   R0,@R1                                  ;
23051                            1016 I1          SUB_END
23052                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23053 000047EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23054                            1017 I1          M_RTS
23055 000047EE 000B                   M           RTS                             ;RTSの後ろの
23056 000047F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23057                            1018 I1  
23058                            1019 I1  
23059                            1020 I1  ;       ***********************************
23060                            1021 I1  ;       ***                             ***
23061                            1022 I1  ;       ***********************************
23062                            1023 I1  ;
23063                            1024 I1  ;       Input R6:PV
23064                            1025 I1  ;       Input R7:SV
23065                            1026 I1  ;
23066                            1027 I1  ;       Input R3:ｲﾝﾁﾝｸﾞ量
23067                            1028 I1  ;
23068                                 I1  ***** BEGIN-POOL *****
23069 000047F2 0000                   I1  ALIGNMENT CODE
23070 000047F4 00000000               I1  DATA FOR SOURCE-LINE 1013
23071                                 I1  ***** END-POOL *****
23072 000047F8                   1029 I1  _FUL_PLS_START:
23073                            1030 I1          SUB_START
23074 000047F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
23075                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23076                            1031 I1          PUSH_REG1 R3
23077 000047FA 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
23078                                 M                                           ;REG=>[SP]
23079                                 M                                           ;"-4" FF,FF,FF,FC
23080                            1032 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
23081 000047FC D014                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23082 000047FE 400B                   M           JSR     @R0                     ;
23083 00004800 0009                   M           NOP                                     ;
23084                            1033 I1  
23085                            1034 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
23086 00004802 D014                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23087 00004804 400B                   M           JSR     @R0                     ;
23088 00004806 0009                   M           NOP                                     ;
23089                            1035 I1  
23090                            1036 I1  ;       ------2015-03-15
23091                            1037 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
23092                            1038 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
23093 00004808 D013                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23094 0000480A 400B                   M           JSR     @R0                     ;
23095 0000480C 0009                   M           NOP                                     ;
23096                            1039 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;R7=100,R6=90 OBJ=100KN PV=90KN
23097 0000480E D013                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23098 00004810 400B                   M           JSR     @R0                     ;
23099 00004812 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   306
PROGRAM NAME =

23100                            1040             .AELSE
23101                            1041             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
23102                            1042             .AENDI
23103                            1043 I1  
23104                            1044 I1          POP_REG1 R3
23105                                 M                                   ; RE"+4" 00,00,00,04
23106 00004814 63F6                   M           MOV.L   @R15+,R3        ;
23107 00004816 D412              1045 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                           ;
23108 00004818 6041              1046 I1          MOV.W   @R4,R0
23109 0000481A C9FE              1047 I1          AND     #LOW ~BIT0,R0                           ;
23110 0000481C 6273              1048 I1          MOV     R7,R2                                   ;R7:SV R6:PV
23111 0000481E 3268              1049 I1          SUB     R6,R2                                   ;SV_-PV_RNA(偏差)
23112 00004820 4211              1050 I1          CMP/PZ  R2                                      ;
23113 00004822 8900              1051 I1          BT      FUL_PLS_ST120
23114 00004824 CB01              1052 I1          OR      #BIT0,R0                                ;
23115 00004826                   1053 I1  FUL_PLS_ST120:                                          ;
23116 00004826 2401              1054 I1          MOV.W   R0,@R4                                  ;方向作成
23117 00004828 211A              1055 I1          XOR     R1,R1                                   ;R1,R2(絶対ﾊﾟﾙｽ)
23118 0000482A 6233              1056 I1          MOV     R3,R2                                   ;
23119                            1057 I1          FAR_JSR #_CLS_POS_LENGTH_ADD_DATA,R0            ;
23120 0000482C D00D                   M           MOV.L   #_CLS_POS_LENGTH_ADD_DATA,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23121 0000482E 400B                   M           JSR     @R0                     ;
23122 00004830 0009                   M           NOP                                     ;
23123                            1058 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
23124 00004832 D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23125 00004834 400B                   M           JSR     @R0                     ;
23126 00004836 0009                   M           NOP                                     ;
23127                            1059 I1          FAR_JSR #_FWD_REV_START,R1                      ;起動
23128 00004838 D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23129 0000483A 410B                   M           JSR     @R1                     ;
23130 0000483C 0009                   M           NOP                                     ;
23131 0000483E 0009              1060 I1          NOP
23132 00004840 0009              1061 I1          NOP
23133 00004842 0009              1062 I1          NOP
23134                            1063 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
23135 00004844 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23136 00004846 400B                   M           JSR     @R0                     ;
23137 00004848 0009                   M           NOP                                     ;
23138                            1064 I1          SUB_END
23139                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23140 0000484A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23141                            1065 I1          M_RTS
23142 0000484C 000B                   M           RTS                             ;RTSの後ろの
23143 0000484E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23144                            1066 I1  
23145                            1067 I1  
23146                            1068 I1  ;       ***********************************
23147                            1069 I1  ;       ***                             ***
23148                            1070 I1  ;       ***     2013-04-14              ***
23149                            1071 I1  ;       ***     (速度継続中のみCALL)    ***
23150                            1072 I1  ;       ***                             ***
23151                            1073 I1  ;       ***********************************
23152                            1074 I1  ;       位置１　停止位置２　手前にした結果　手前位置＜位置１＜位置２の場合、位置１の手前で
                                          停止する
23153                            1075 I1  ;       ANS     R0=1:切替必要
23154                            1076 I1  ;       ANS     R2=X:切替行程
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   307
PROGRAM NAME =

23155                                 I1  ***** BEGIN-POOL *****
23156 00004850 00000000               I1  DATA FOR SOURCE-LINE 1032
23157 00004854 00000000               I1  DATA FOR SOURCE-LINE 1034
23158 00004858 00000000               I1  DATA FOR SOURCE-LINE 1038
23159 0000485C 00000000               I1  DATA FOR SOURCE-LINE 1039
23160 00004860 00000000               I1  DATA FOR SOURCE-LINE 1045
23161 00004864 00000000               I1  DATA FOR SOURCE-LINE 1057
23162 00004868 00000000               I1  DATA FOR SOURCE-LINE 1058
23163 0000486C 00000000               I1  DATA FOR SOURCE-LINE 1059
23164 00004870 00000000               I1  DATA FOR SOURCE-LINE 1063
23165                                 I1  ***** END-POOL *****
23166 00004874                   1077 I1  _REV_BEFORE_CHGKOUTEICHK:
23167                            1078 I1          SUB_START
23168 00004874 4F22                   M           STS.L   PR,@-R15                ;[必要]
23169                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23170                            1079 I1          PUSH_REG1 R5
23171 00004876 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
23172                                 M                                           ;REG=>[SP]
23173                                 M                                           ;"-4" FF,FF,FF,FC
23174                            1080 I1          PUSH_REG1 R9
23175 00004878 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
23176                                 M                                           ;REG=>[SP]
23177                                 M                                           ;"-4" FF,FF,FF,FC
23178                            1081 I1          PUSH_REG1 R11
23179 0000487A 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
23180                                 M                                           ;REG=>[SP]
23181                                 M                                           ;"-4" FF,FF,FF,FC
23182                            1082 I1  
23183 0000487C DB0F              1083 I1          MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
23184 0000487E 69B1              1084 I1          MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
23185 00004880 6593              1085 I1          MOV     R9,R5                                                   ;
23186 00004882 75FF              1086 I1          ADD     #-1,R5                                                  ;
23187 00004884 4508              1087 I1          SHLL2   R5                                                      ;
23188 00004886 6253              1088 I1          MOV     R5,R2
23189 00004888 4200              1089 I1          SHLL    R2
23190 0000488A D00D              1090 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
23191 0000488C 302C              1091 I1          ADD     R2,R0
23192 0000488E 6106              1092 I1          MOV.L   @R0+,R1                                                 ;位置
23193 00004890 6202              1093 I1          MOV.L   @R0,R2                                                  ;
23194                            1094 I1  
23195 00004892 255A              1095 I1          XOR     R5,R5                                                   ;
23196 00004894 D40B              1096 I1          MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4                             ;//目標−手前
23197 00004896 6642              1097 I1          MOV.L   @R4,R6                                                  ;
23198 00004898 7601              1098 I1          ADD     #D'1,R6                                         ;
23199                            1099 I1  
23200                            1100 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
23201 0000489A 0008                   M           CLRT
23202 0000489C 326A                   M           SUBC    R6,R2
23203 0000489E 315A                   M           SUBC    R5,R1
23204                            1101 I1  
23205 000048A0 D409              1102 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
23206 000048A2 6546              1103 I1          MOV.L   @R4+,R5                                                 ;
23207 000048A4 6642              1104 I1          MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
23208                            1105 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
23209 000048A6 0008                   M           CLRT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   308
PROGRAM NAME =

23210 000048A8 326A                   M           SUBC    R6,R2
23211 000048AA 315A                   M           SUBC    R5,R1
23212                            1106 I1  
23213 000048AC 4111              1107 I1          CMP/PZ  R1
23214 000048AE 8B0E              1108 I1          BF      REV_BEFORE_CHGKOUTEICK100                               ;"-" 過ぎた
23215                            1109 I1  
23216 000048B0 6013              1110 I1          MOV     R1,R0
23217 000048B2 202B              1111 I1          OR      R2,R0
23218 000048B4 2008              1112 I1          TST     R0,R0
23219                            1113 I1          TST_BIT_OF REV_BEFORE_CHGKOUTEICK090                            ;
23220 000048B6 8909                   M           BT      REV_BEFORE_CHGKOUTEICK090
23221                            1114 I1          M_BRA   REV_BEFORE_CHGKOUTEICK300                               ;
23222 000048B8 A016                   M           BRA     REV_BEFORE_CHGKOUTEICK300
23223 000048BA 0009                   M           NOP
23224                            1115 I1  
23225                                 I1  ***** BEGIN-POOL *****
23226 000048BC 00000000               I1  DATA FOR SOURCE-LINE 1083
23227 000048C0 00000000               I1  DATA FOR SOURCE-LINE 1090
23228 000048C4 00000000               I1  DATA FOR SOURCE-LINE 1096
23229 000048C8 00000000               I1  DATA FOR SOURCE-LINE 1102
23230                                 I1  ***** END-POOL *****
23231 000048CC                   1116 I1  REV_BEFORE_CHGKOUTEICK090:
23232 000048CC 0009              1117 I1          NOP
23233 000048CE                   1118 I1  REV_BEFORE_CHGKOUTEICK100:
23234 000048CE 6093              1119 I1          MOV     R9,R0                           ;
23235 000048D0 70FF              1120 I1          ADD     #-1,R0                          ;
23236 000048D2 4008              1121 I1          SHLL2   R0
23237 000048D4 D103              1122 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
23238 000048D6 021E              1123 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
23239 000048D8 3922              1124 I1          CMP/HS  R2,R9                           ;
23240 000048DA 8905              1125 I1          BT      REV_BEFORE_CHGKOUTEICK300       ;すでにこの行程
23241                            1126 I1  
23242 000048DC                   1127 I1  REV_BEFORE_CHGKOUTEICK200:
23243 000048DC E001              1128 I1          MOV.B   #1,R0                           ;ANS R2,R0
23244                            1129 I1          M_BRA   REV_BEFORE_CHGKOUTEICK400
23245 000048DE A004                   M           BRA     REV_BEFORE_CHGKOUTEICK400
23246 000048E0 0009                   M           NOP
23247                            1130 I1  
23248                                 I1  ***** BEGIN-POOL *****
23249 000048E2 0000                   I1  ALIGNMENT CODE
23250 000048E4 00000000               I1  DATA FOR SOURCE-LINE 1122
23251                                 I1  ***** END-POOL *****
23252 000048E8                   1131 I1  REV_BEFORE_CHGKOUTEICK300:
23253 000048E8 200A              1132 I1          XOR     R0,R0
23254 000048EA                   1133 I1  REV_BEFORE_CHGKOUTEICK400:
23255                            1134 I1  
23256                            1135 I1          POP_REG1 R11
23257                                 M                                   ; RE"+4" 00,00,00,04
23258 000048EA 6BF6                   M           MOV.L   @R15+,R11        ;
23259                            1136 I1          POP_REG1 R9
23260                                 M                                   ; RE"+4" 00,00,00,04
23261 000048EC 69F6                   M           MOV.L   @R15+,R9        ;
23262                            1137 I1          POP_REG1 R5
23263                                 M                                   ; RE"+4" 00,00,00,04
23264 000048EE 65F6                   M           MOV.L   @R15+,R5        ;
23265                            1138 I1  
23266                            1139 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   309
PROGRAM NAME =

23267                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23268 000048F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23269                            1140 I1          M_RTS
23270 000048F2 000B                   M           RTS                             ;RTSの後ろの
23271 000048F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23272                            1141 I1  
23273                            1142 I1  
23274                            1143 I1  ;       *******************************************
23275                            1144 I1  ;       ***                                     ***
23276                            1145 I1  ;       ***                                     ***
23277                            1146 I1  ;       ***                                     ***
23278                            1147 I1  ;       ***                                     ***
23279                            1148 I1  ;       ****            荷重−位置変換          ***
23280                            1149 I1  ;       ***                                     ***
23281                            1150 I1  ;       ***                                     ***
23282                            1151 I1  ;       ***                                     ***
23283                            1152 I1  ;       ***                                     ***
23284                            1153 I1  ;       *******************************************
23285                            1154 I1  ;       INPUT
23286                            1155 I1  ;       INPUT
23287                            1156 I1  ;       OUTPUT
23288                            1157 I1          .IMPORT _SVP_ORGRUP_DEG         ;原点右区間上[荷重ﾃﾞﾊﾞｯｸ]KN
23289                            1158 I1          .IMPORT _SVP_ORGRDN_DEG         ;原点右区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
23290                            1159 I1          .IMPORT _SVP_ORGLUP_DEG         ;原点左区間上[荷重ﾃﾞﾊﾞｯｸ]KN
23291                            1160 I1          .IMPORT _SVP_ORGLDN_DEG         ;原点左区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
23292                            1161 I1  
23293                            1162 I1  
23294                            1163 I1  
23295                            1164 I1  _SVPX_KTBL_MIN_KN       .DEFINE         "_SVP_ORGRUP_DEG"
23296                            1165 I1  _SVPX_KTBL_MIN_PLS      .DEFINE         "_SVP_ORGLUP_DEG"
23297                            1166 I1  
23298                            1167 I1  _SVPX_KTBL_MAX_KN       .DEFINE         "_SVP_ORGRDN_DEG"
23299                            1168 I1  _SVPX_KTBL_MAX_PLS      .DEFINE         "_SVP_ORGLDN_DEG"
23300                            1169 I1  
23301                            1170 I1  ;       R3:Yn_1         R5:Xn_1
23302                            1171 I1  ;       R2:Yn           R4:Xn
23303                            1172 I1  ;       ANS:R2=y        R1:x
23304                            1173 I1  ;       limit R6(Yn)
23305                            1174 I1  
23306 000048F6                   1175 I1  _CLS_KJYU_PLS_CHANGE
23307                            1176 I1          SUB_START
23308 000048F6 4F22                   M           STS.L   PR,@-R15                ;[必要]
23309                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23310                            1177 I1  
23311 000048F8 D105              1178 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;//その行程のターゲット
23312 000048FA 6212              1179 I1          MOV.L   @R1,R2                          ;
23313 000048FC D105              1180 I1          MOV.L   #_W4_PV_CTL_KJYU_TTL_P,R1       ;//制御値=ﾌｨﾙﾀ値予定
23314 000048FE 6012              1181 I1          MOV.L   @R1,R0                          ;荷重実測
23315 00004900 3208              1182 I1          SUB     R0,R2                           ;
23316 00004902 D105              1183 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1           ;//荷重の偏差
23317 00004904 2122              1184 I1          MOV.L   R2,@R1                          ;
23318                            1185 I1  
23319                            1186 I1  ;       ------KN->PLS換算は不要 KN=PLSにしてしますためコメントにする
23320 00004906 D105              1187 I1          MOV.L   #_KJYUCLS_KN_HENSA_PLS,R1       ;//荷重の偏差相当のパルス
23321 00004908 2122              1188 I1          MOV.L   R2,@R1                          ;PLS="+":もっと正転していい
23322                            1189 I1  
23323                            1190 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   310
PROGRAM NAME =

23324                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23325 0000490A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23326                            1191 I1          M_RTS
23327 0000490C 000B                   M           RTS                             ;RTSの後ろの
23328 0000490E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23329                            1192 I1  
23330                            1193 I1  
23331                            1194 I1  
23332                            1195 I1  
23333                            1196 I1  ;;      FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
23334                            1197 I1  ;;              @この段でフルクロを行うかどうか R0=0　しない R0 != フルクロする
23335                            1198 I1  ;;              AR6:目標停止位置[PLS],R7リニアの実測位置[PLS] 1回転上のオフセットパルス
23336                            1199 I1  ;;
23337                            1200 I1  ;;      FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0                       ;ANS R0,R6(ﾘﾆｱ実測
                                          ﾊﾟﾙｽ),R7(1回転内目標ﾊﾟﾙｽ)
23338                            1201 I1  ;;              @ニアゼロの範囲内 R0=0, ＋側へオーバR0=1,-側へオーバR0=-1
23339                            1202 I1  ;;               CPUBはCPUAがニアゼロならニアＺロと認識
23340                            1203 I1  
23341                            1204 I1  ;       *******************************************
23342                            1205 I1  ;       ***                                     ***
23343                            1206 I1  ;       ***     ﾌﾙｸﾛｰｽﾞを行う段数かチェック     ***
23344                            1207 I1  ;       ***     [ﾘﾆｱ・荷重切替]                 ***
23345                            1208 I1  ;       *******************************************
23346                            1209 I1  ;       最終段の場合はﾌﾙｸﾛｰｽﾞしない。このソフトの上で見ている
23347                            1210 I1  ;       input INT_POS_CTL_STEP,CPOS_SDAT1_CNTSTEP
23348                            1211 I1  ;       ANS R0:0 ﾌﾙｸﾛｰｽﾞしない
23349                            1212 I1  ;             :0以外 ﾌﾙｸﾛｰｽﾞする
23350                            1213 I1  ;       ANS R5:この行程の停止行程
23351                            1214 I1  ;[_POS_CLS_START_CONFは_POS_CLS_TYP1_PROC_CHKの一部]
23352                            1215 I1  ;
23353                                 I1  ***** BEGIN-POOL *****
23354 00004910 00000000               I1  DATA FOR SOURCE-LINE 1178
23355 00004914 00000000               I1  DATA FOR SOURCE-LINE 1180
23356 00004918 00000000               I1  DATA FOR SOURCE-LINE 1183
23357 0000491C 00000000               I1  DATA FOR SOURCE-LINE 1187
23358                                 I1  ***** END-POOL *****
23359 00004920                   1216 I1  _POS_CLS_START_CONF:
23360                            1217 I1          SUB_START
23361 00004920 4F22                   M           STS.L   PR,@-R15                ;[必要]
23362                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23363 00004922 D107              1218 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
23364 00004924 6011              1219 I1          MOV.W   @R1,R0                          ;
23365 00004926 6503              1220 I1          MOV     R0,R5                           ;工程PUSH
23366 00004928 70FF              1221 I1          ADD     #-1,R0                          ;
23367 0000492A 4008              1222 I1          SHLL2   R0
23368 0000492C D105              1223 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
23369 0000492E 001E              1224 I1          MOV.L   @(R0,R1),R0                     ;現状の工程の目標工程
23370 00004930 D105              1225 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
23371 00004932 2101              1226 I1          MOV.W   R0,@R1
23372                            1227 I1  
23373 00004934 3500              1228 I1          CMP/EQ  R0,R5                           ;停止させる工程でのみﾌﾙｸﾛｰｽﾞは行う
23374 00004936 8900              1229 I1          BT      POS_CLS_START_050               ;R0=R5 ANS R5=工程,R0
23375 00004938 200A              1230 I1          XOR     R0,R0                           ;ANS MAK
23376 0000493A                   1231 I1  POS_CLS_START_050:                              ;
23377                            1232 I1  
23378                            1233 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   311
PROGRAM NAME =

23379                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23380 0000493A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23381                            1234 I1          M_RTS
23382 0000493C 000B                   M           RTS                             ;RTSの後ろの
23383 0000493E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23384                            1235 I1  
23385                            1236 I1  ;       ***************************************************
23386                            1237 I1  ;       ***                                             ***
23387                            1238 I1  ;       ***     目標位置(ﾊﾟﾙｽ)と制御対象実測作成        ***
23388                            1239 I1  ;       ***     [ﾘﾆｱ・荷重切替]                         ***
23389                            1240 I1  ;       ***                                             ***
23390                            1241 I1  ;       ***************************************************
23391                            1242 I1  ;       input _SDATCLS_TRG_STEP ;//速度連続の最後のｽﾃｯﾌﾟ
23392                            1243 I1  ;       ANS
23393                            1244 I1  ;       R7:目標停止位置
23394                            1245 I1  ;       R6:ﾘﾆｱ位置　または　荷重からの位置
23395                            1246 I1  ;               荷重の場合は(目標荷重-実測荷重)*K+目標位置
23396                            1247 I1  ;                               (完了幅内では+1,0,-1ﾊﾟﾙｽにする)
23397                            1248 I1  ;
23398                            1249 I1  ;[_POS_CLS_OBJPLS_PVPLS_MAKEは_POS_CLS_TYP1_PROC_CHKの一部]
23399                            1250 I1  ;
23400                            1251 I1  ;
23401                            1252 I1  ;
23402                                 I1  ***** BEGIN-POOL *****
23403 00004940 00000000               I1  DATA FOR SOURCE-LINE 1218
23404 00004944 00000000               I1  DATA FOR SOURCE-LINE 1223
23405 00004948 00000000               I1  DATA FOR SOURCE-LINE 1225
23406                                 I1  ***** END-POOL *****
23407 0000494C                   1253 I1  _POS_CLS_OBJPLS_PVPLS_MAKE
23408                            1254 I1          SUB_START
23409 0000494C 4F22                   M           STS.L   PR,@-R15                ;[必要]
23410                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23411                            1255 I1  
23412 0000494E D111              1256 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
23413 00004950 6011              1257 I1          MOV.W   @R1,R0                          ;[R5]
23414                            1258 I1  
23415 00004952 D511              1259 I1          MOV.L   #_SDATCLS_UPOBJ_PLS,R5          ;[目標位置=待機点]
23416 00004954 D111              1260 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
23417 00004956 6211              1261 I1          MOV.W   @R1,R2                          ;
23418 00004958 7201              1262 I1          ADD     #1,R2                           ;
23419 0000495A 3023              1263 I1          CMP/GE  R2,R0                           ;MAX=NOW
23420 0000495C 8903              1264 I1          BT      POS_CLS_OBJPVPLSMAK100  ;
23421                            1265 I1  
23422 0000495E D510              1266 I1          MOV.L   #_SDATCLS_OBJPLS,R5             ;[目標位置=各段設定位置]
23423 00004960 70FF              1267 I1          ADD     #-1,R0                          ;
23424 00004962 4008              1268 I1          SHLL2   R0                              ;4BYTE
23425 00004964 350C              1269 I1          ADD     R0,R5                           ;
23426 00004966                   1270 I1  POS_CLS_OBJPVPLSMAK100  ;
23427                            1271 I1  
23428 00004966 6752              1272 I1          MOV.L   @R5,R7                          ;待機点または目標位置(停止)
23429 00004968 6273              1273 I1          MOV     R7,R2
23430                            1274 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(目標ﾊﾟﾙｽ+/-ﾊﾟﾙｽ変換)
23431 0000496A D00E                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23432 0000496C 400B                   M           JSR     @R0                     ;
23433 0000496E 0009                   M           NOP                                     ;
23434 00004970 6723              1275 I1          MOV     R2,R7                           ;R7:目標位置;ANS:目標位置(設定ﾚﾍﾞﾙ)
23435                            1276 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   312
PROGRAM NAME =

23436 00004972 D40D              1277 I1          MOV.L   #_DBG_REVMOD_OBJPLS,R4          ;
23437 00004974 2422              1278 I1          MOV.L   R2,@R4                          ;ﾃﾞﾊﾞｯｸ用内部ﾃﾞｰﾀﾓﾆﾀ
23438                            1279 I1  
23439                            1280 I1  ;       ==========R7:停止目標位置============
23440 00004976 D10D              1281 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23441 00004978 6011              1282 I1          MOV.W   @R1,R0                          ;
23442 0000497A 2008              1283 I1          TST     R0,R0                           ;
23443                            1284 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK300       ;荷重 JUMP
23444 0000497C 8B1C                   M           BF      POS_CLS_OBJPVPLSMAK300
23445                            1285 I1  
23446                            1286 I1  ;       =====   R6:リニア       ======
23447 0000497E D40C              1287 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4   ;//余り角度 +ﾃﾞｰﾀ
23448 00004980 6642              1288 I1          MOV.L   @R4,R6                          ;
23449 00004982 6263              1289 I1          MOV     R6,R2                           ;
23450                            1290 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(ﾘﾆｱｽｹｰﾙ==>+/-ﾊﾟﾙｽ変換)
23451 00004984 D007                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23452 00004986 400B                   M           JSR     @R0                     ;
23453 00004988 0009                   M           NOP                                     ;
23454 0000498A 6623              1291 I1          MOV     R2,R6                           ;
23455 0000498C D009              1292 I1          MOV.L   #_DBG_REVMOD_CTLPLS,R0          ;
23456 0000498E 2022              1293 I1          MOV.L   R2,@R0                          ;
23457                            1294 I1          M_BRA   POS_CLS_OBJPVPLSMAK500          ;
23458 00004990 A01C                   M           BRA     POS_CLS_OBJPVPLSMAK500
23459 00004992 0009                   M           NOP
23460                            1295 I1  
23461                            1296 I1  
23462                            1297 I1  ;       =====           荷重            ======
23463                                 I1  ***** BEGIN-POOL *****
23464 00004994 00000000               I1  DATA FOR SOURCE-LINE 1256
23465 00004998 00000000               I1  DATA FOR SOURCE-LINE 1259
23466 0000499C 00000000               I1  DATA FOR SOURCE-LINE 1260
23467 000049A0 00000000               I1  DATA FOR SOURCE-LINE 1266
23468 000049A4 00000000               I1  DATA FOR SOURCE-LINE 1274,1290
23469 000049A8 00000000               I1  DATA FOR SOURCE-LINE 1277
23470 000049AC 00000000               I1  DATA FOR SOURCE-LINE 1281
23471 000049B0 00000000               I1  DATA FOR SOURCE-LINE 1287
23472 000049B4 00000000               I1  DATA FOR SOURCE-LINE 1292
23473                                 I1  ***** END-POOL *****
23474 000049B8                   1298 I1  POS_CLS_OBJPVPLSMAK300:
23475                            1299 I1  ;;      S4b     KJYUCLS_OBJ_KN;         //各段の荷重目標
23476                            1300 I1  ;;      S4b     KJYUCLS_KN_HENSA;       //荷重の偏差
23477                            1301 I1  ;;      S4b     KJYUCLS_KN_HENSA_PLS;   //荷重の偏差相当のパルス
23478                            1302 I1  
23479                            1303 I1          PUSH_REG1 R7                            ;
23480 000049B8 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
23481                                 M                                           ;REG=>[SP]
23482                                 M                                           ;"-4" FF,FF,FF,FC
23483                            1304 I1          FAR_JSR #_CLS_KJYU_PLS_CHANGE,R0        ;OUTPUT R2:偏差ﾊﾟﾙｽ+/-
23484 000049BA D006                   M           MOV.L   #_CLS_KJYU_PLS_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23485 000049BC 400B                   M           JSR     @R0                     ;
23486 000049BE 0009                   M           NOP                                     ;
23487                            1305 I1          POP_REG1 R7                             ;
23488                                 M                                   ; RE"+4" 00,00,00,04
23489 000049C0 67F6                   M           MOV.L   @R15+,R7        ;
23490                            1306 I1  
23491                            1307 I1  
23492 000049C2 2228              1308 I1          TST     R2,R2                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   313
PROGRAM NAME =

23493                            1309 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK310       ;
23494 000049C4 8B00                   M           BF      POS_CLS_OBJPVPLSMAK310
23495                            1310 I1  
23496 000049C6 E201              1311 I1          MOV.B   #1,R2                           ;0なら1にする
23497                            1312 I1  
23498 000049C8                   1313 I1  POS_CLS_OBJPVPLSMAK310:                         ;
23499                            1314 I1                                                  ;"R2=2"
23500 000049C8 6673              1315 I1          MOV     R7,R6                           ;OBJ=100PLS
23501 000049CA 3628              1316 I1          SUB     R2,R6                           ;PV = 98PLS
23502                            1317 I1  
23503                            1318 I1  
23504                            1319 I1  
23505                            1320 I1  
23506 000049CC                   1321 I1  POS_CLS_OBJPVPLSMAK500:
23507                            1322 I1  
23508                            1323 I1          SUB_END
23509                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23510 000049CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23511                            1324 I1          M_RTS
23512 000049CE 000B                   M           RTS                             ;RTSの後ろの
23513 000049D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23514                            1325 I1  
23515                            1326 I1  ;       ***************************************************
23516                            1327 I1  ;       ***                                             ***
23517                            1328 I1  ;       ***     リニア　ニアゼロまたは荷重ニアゼロ      ***
23518                            1329 I1  ;       ***                                             ***
23519                            1330 I1  ;       ***************************************************
23520                            1331 I1  ;       input   R6:ﾘﾆｱ位置
23521                            1332 I1  ;       ANS     R0:-1,0,1
23522                            1333 I1          .IMPORT _SVP_KAJOBJ_HAB ;荷重完了範囲
23523                            1334 I1  
23524                                 I1  ***** BEGIN-POOL *****
23525 000049D2 0000                   I1  ALIGNMENT CODE
23526 000049D4 00000000               I1  DATA FOR SOURCE-LINE 1304
23527                                 I1  ***** END-POOL *****
23528 000049D8                   1335 I1  _POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK:
23529                            1336 I1          SUB_START
23530 000049D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
23531                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23532                            1337 I1  
23533 000049DA D104              1338 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23534 000049DC 6011              1339 I1          MOV.W   @R1,R0                          ;
23535 000049DE 2008              1340 I1          TST     R0,R0                           ;
23536                            1341 I1          TST_BIT_ON POS_CLS_RNA_KJYU_FIRST_NZ_CHK100     ;
23537 000049E0 8B08                   M           BF      POS_CLS_RNA_KJYU_FIRST_NZ_CHK100
23538                            1342 I1  
23539                            1343 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
23540 000049E2 D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23541 000049E4 400B                   M           JSR     @R0                     ;
23542 000049E6 0009                   M           NOP                                     ;
23543                            1344 I1          M_BRA   POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
23544 000049E8 A011                   M           BRA     POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
23545 000049EA 0009                   M           NOP
23546                            1345 I1  
23547                                 I1  ***** BEGIN-POOL *****
23548 000049EC 00000000               I1  DATA FOR SOURCE-LINE 1338
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   314
PROGRAM NAME =

23549 000049F0 00000000               I1  DATA FOR SOURCE-LINE 1343
23550                                 I1  ***** END-POOL *****
23551 000049F4                   1346 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK100:
23552                            1347 I1  
23553                            1348 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
23554 000049F4 D007                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23555 000049F6 400B                   M           JSR     @R0                     ;
23556 000049F8 0009                   M           NOP                                     ;
23557                            1349 I1  ;       -2015-06-22
23558 000049FA D107              1350 I1          MOV.L   #(_PAR_KAJYU_FIRST-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
23559 000049FC 6311              1351 I1          MOV.W   @R1,R3                                                  ;
23560 000049FE D107              1352 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
23561 00004A00 6212              1353 I1          MOV.L   @R1,R2                  ;"+/-"
23562 00004A02 4211              1354 I1          CMP/PZ  R2
23563 00004A04 8900              1355 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHK120
23564 00004A06 622B              1356 I1          NEG     R2,R2                                   ;
23565 00004A08                   1357 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK120                        ;
23566 00004A08 3236              1358 I1          CMP/HI  R3,R2                                   ;R3<R2
23567 00004A0A 8900              1359 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND        ;
23568 00004A0C 200A              1360 I1          XOR     R0,R0                                   ;
23569                            1361 I1  
23570 00004A0E                   1362 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND:
23571                            1363 I1  
23572                            1364 I1          SUB_END
23573                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23574 00004A0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23575                            1365 I1          M_RTS
23576 00004A10 000B                   M           RTS                             ;RTSの後ろの
23577 00004A12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23578                            1366 I1  
23579                            1367 I1  
23580                            1368 I1  
23581                            1369 I1  
23582                            1370 I1  
23583                                 I1  ***** BEGIN-POOL *****
23584 00004A14 00000000               I1  DATA FOR SOURCE-LINE 1348
23585 00004A18 00000000               I1  DATA FOR SOURCE-LINE 1350
23586 00004A1C 00000000               I1  DATA FOR SOURCE-LINE 1352
23587                                 I1  ***** END-POOL *****
23588 00004A20                   1371 I1  _POS_CLS_RNA_KJYU_NZ_CHEAK:
23589                            1372 I1          SUB_START
23590 00004A20 4F22                   M           STS.L   PR,@-R15                ;[必要]
23591                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23592                            1373 I1  
23593 00004A22 D104              1374 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23594 00004A24 6011              1375 I1          MOV.W   @R1,R0                          ;
23595 00004A26 2008              1376 I1          TST     R0,R0                           ;
23596                            1377 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK100   ;
23597 00004A28 8B08                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK100
23598                            1378 I1  
23599                            1379 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
23600 00004A2A D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23601 00004A2C 400B                   M           JSR     @R0                     ;
23602 00004A2E 0009                   M           NOP                                     ;
23603                            1380 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND
23604 00004A30 A03F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   315
PROGRAM NAME =

23605 00004A32 0009                   M           NOP
23606                            1381 I1  
23607                                 I1  ***** BEGIN-POOL *****
23608 00004A34 00000000               I1  DATA FOR SOURCE-LINE 1374
23609 00004A38 00000000               I1  DATA FOR SOURCE-LINE 1379
23610                                 I1  ***** END-POOL *****
23611 00004A3C                   1382 I1  POS_CLS_RNA_KJYU_NZ_CHK100:
23612                            1383 I1  
23613                            1384 I1  ;       ---------------------------------------------------
23614                            1385 I1          .IMPORT _SEQ_DP_TOP
23615                            1386 I1  
23616 00004A3C D10C              1387 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;[[[[[[[[[[[[
23617 00004A3E 6011              1388 I1          MOV.W   @R1,R0                          ;
23618 00004A40 9414              1389 I1          MOV.W   #BIT12,R4                       ;
23619                            1390 I1  
23620 00004A42 2048              1391 I1          TST     R4,R0                           ;
23621                            1392 I1          TST_BIT_OF POS_CLS_RNA_KJYU_NZ_CHK500   ;ﾀｲﾏ中は制御しない
23622 00004A44 8932                   M           BT      POS_CLS_RNA_KJYU_NZ_CHK500
23623                            1393 I1  
23624 00004A46 D10B              1394 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;//BIT0:SET BIT1:ﾀｲﾑｱｯﾌﾟ()
23625 00004A48 6011              1395 I1          MOV.W   @R1,R0                          ;
23626 00004A4A C802              1396 I1          TST     #BIT1,R0
23627                            1397 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK400   ;
23628 00004A4C 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK400
23629                            1398 I1  
23630 00004A4E C801              1399 I1          TST     #BIT0,R0                        ;
23631                            1400 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK200   ;ﾆｱｾﾞﾛに入ったか？
23632 00004A50 8B16                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK200
23633                            1401 I1  
23634                            1402 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
23635 00004A52 D009                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23636 00004A54 400B                   M           JSR     @R0                     ;
23637 00004A56 0009                   M           NOP                                     ;
23638 00004A58 2008              1403 I1          TST     R0,R0                           ;ﾆｱｾﾞﾛか?
23639                            1404 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾆｱｾﾞﾛではない
23640 00004A5A 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
23641                            1405 I1  
23642 00004A5C E001              1406 I1          MOV.B   #BIT0,R0                        ;
23643 00004A5E D105              1407 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
23644 00004A60 2101              1408 I1          MOV.W   R0,@R1                          ;
23645                            1409 I1  
23646                            1410 I1          FAR_JSR #_FCLS_NZ_TIM_SET,R0            ;ﾀｲﾏｾｯﾄ
23647 00004A62 D006                   M           MOV.L   #_FCLS_NZ_TIM_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23648 00004A64 400B                   M           JSR     @R0                     ;
23649 00004A66 0009                   M           NOP                                     ;
23650                            1411 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHK490      ;
23651 00004A68 A018                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHK490
23652 00004A6A 0009                   M           NOP
23653                            1412 I1  
23654                                 I1  ***** BEGIN-POOL *****
23655 00004A6C 1000                   I1  DATA FOR SOURCE-LINE 1389
23656 00004A6E 0000                   I1  ALIGNMENT CODE
23657 00004A70 00000000               I1  DATA FOR SOURCE-LINE 1387
23658 00004A74 00000000               I1  DATA FOR SOURCE-LINE 1394,1407
23659 00004A78 00000000               I1  DATA FOR SOURCE-LINE 1402
23660 00004A7C 00000000               I1  DATA FOR SOURCE-LINE 1410
23661                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   316
PROGRAM NAME =

23662 00004A80                   1413 I1  POS_CLS_RNA_KJYU_NZ_CHK200:
23663                            1414 I1  
23664                            1415 I1  
23665 00004A80 D404              1416 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4            ;
23666 00004A82 6142              1417 I1          MOV.L   @R4,R1                          ;
23667 00004A84 2118              1418 I1          TST     R1,R1                           ;
23668                            1419 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾀｲﾏ中
23669 00004A86 8B09                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
23670                            1420 I1  
23671                            1421 I1  ;       --------ﾀｲﾑｱｯﾌﾟ------------
23672 00004A88 E003              1422 I1          MOV.B   #BIT1+BIT0,R0                   ;
23673 00004A8A D103              1423 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
23674 00004A8C 2101              1424 I1          MOV.W   R0,@R1                          ;
23675                            1425 I1  
23676 00004A8E                   1426 I1  POS_CLS_RNA_KJYU_NZ_CHK400:
23677 00004A8E 200A              1427 I1          XOR     R0,R0                           ;完了
23678                            1428 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
23679 00004A90 A00F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23680 00004A92 0009                   M           NOP
23681                            1429 I1  
23682                            1430 I1  
23683                                 I1  ***** BEGIN-POOL *****
23684 00004A94 00000000               I1  DATA FOR SOURCE-LINE 1416
23685 00004A98 00000000               I1  DATA FOR SOURCE-LINE 1423
23686                                 I1  ***** END-POOL *****
23687 00004A9C                   1431 I1  POS_CLS_RNA_KJYU_NZ_CHK490:
23688                            1432 I1          FAR_JSR #_KJYU_OUT_DIRCT,R0             ;ANS R0=1(戻れ)/-1(進め)　終わらない
23689 00004A9C D002                   M           MOV.L   #_KJYU_OUT_DIRCT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23690 00004A9E 400B                   M           JSR     @R0                     ;
23691 00004AA0 0009                   M           NOP                                     ;
23692                            1433 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
23693 00004AA2 A006                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23694 00004AA4 0009                   M           NOP
23695                            1434 I1  
23696                            1435 I1  
23697                            1436 I1  ;       --------------------------------------------
23698                                 I1  ***** BEGIN-POOL *****
23699 00004AA6 0000                   I1  ALIGNMENT CODE
23700 00004AA8 00000000               I1  DATA FOR SOURCE-LINE 1432
23701                                 I1  ***** END-POOL *****
23702 00004AAC                   1437 I1  POS_CLS_RNA_KJYU_NZ_CHK500:
23703                            1438 I1  
23704                            1439 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;0(完了),1(戻れ),-1(進め)
23705 00004AAC D002                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23706 00004AAE 400B                   M           JSR     @R0                     ;
23707 00004AB0 0009                   M           NOP                                     ;
23708                            1440 I1  
23709 00004AB2                   1441 I1  POS_CLS_RNA_KJYU_NZ_CHKEND:
23710                            1442 I1  
23711                            1443 I1  
23712                            1444 I1          SUB_END
23713                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23714 00004AB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23715                            1445 I1          M_RTS
23716 00004AB4 000B                   M           RTS                             ;RTSの後ろの
23717 00004AB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23718                            1446 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   317
PROGRAM NAME =

23719                            1447 I1  
23720                            1448 I1  
23721                            1449 I1  ;       *******************************************
23722                            1450 I1  ;       ***                                     ***
23723                            1451 I1  ;       ***     ユーザ設定荷重完了範囲との比較  ***
23724                            1452 I1  ;       ***                                     ***
23725                            1453 I1  ;       *******************************************
23726                                 I1  ***** BEGIN-POOL *****
23727 00004AB8 00000000               I1  DATA FOR SOURCE-LINE 1439
23728                                 I1  ***** END-POOL *****
23729 00004ABC                   1454 I1  _KJYU_NEARZERO_CHK:
23730                            1455 I1          SUB_START
23731 00004ABC 4F22                   M           STS.L   PR,@-R15                ;[必要]
23732                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23733                            1456 I1  
23734 00004ABE D108              1457 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
23735 00004AC0 6212              1458 I1          MOV.L   @R1,R2                  ;"+/-"
23736                            1459 I1  
23737 00004AC2 D108              1460 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
23738 00004AC4 6311              1461 I1          MOV.W   @R1,R3                  ;
23739                            1462 I1  
23740 00004AC6 643B              1463 I1          NEG     R3,R4                   ;-R4~+R3
23741                            1464 I1  
23742 00004AC8 E0FF              1465 I1          MOV.B   #-1,R0                          ;手前だ
23743 00004ACA 3237              1466 I1          CMP/GT  R3,R2                           ;R3<R2
23744 00004ACC 8903              1467 I1          BT      KJYU_NEARZERO_CK200             ;まだ荷重が上がっていない
23745                            1468 I1  
23746 00004ACE 200A              1469 I1          XOR     R0,R0                           ;範囲内
23747 00004AD0 3243              1470 I1          CMP/GE  R4,R2                           ;
23748 00004AD2 8900              1471 I1          BT      KJYU_NEARZERO_CK200             ;
23749 00004AD4 E001              1472 I1          MOV.B   #1,R0                           ;
23750 00004AD6                   1473 I1  KJYU_NEARZERO_CK200:
23751                            1474 I1  
23752 00004AD6 D104              1475 I1          MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
23753 00004AD8 2101              1476 I1          MOV.W   R0,@R1                  ;
23754                            1477 I1  
23755                            1478 I1          SUB_END
23756                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23757 00004ADA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23758                            1479 I1          M_RTS
23759 00004ADC 000B                   M           RTS                             ;RTSの後ろの
23760 00004ADE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23761                            1480 I1  ;       ***************************************************
23762                            1481 I1  ;       ***                                             ***
23763                            1482 I1  ;       ***     ユーザ設定荷重完了範囲-シスパラとの比較 ***
23764                            1483 I1  ;       ***     [2015-03-15]                            ***
23765                            1484 I1  ;       ***************************************************
23766                            1485 I1  ;;;;;;;;;;_KJYU_NEARZERO2_CHK:
23767                            1486 I1  ;;;;;;;;;;      SUB_START
23768                            1487 I1  ;;;;;;;;;;
23769                            1488 I1  ;;;;;;;;;;      MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足
                                          している
23770                            1489 I1  ;;;;;;;;;;      MOV.L   @R1,R2                  ;"+/-"
23771                            1490 I1  ;;;;;;;;;;
23772                            1491 I1  ;;;;;;;;;;      MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
23773                            1492 I1  ;;;;;;;;;;      MOV.W   @R1,R3                  ;
23774                            1493 I1  ;;;;;;;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   318
PROGRAM NAME =

23775                            1494 I1  ;;;;;;;;;;      MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23776                            1495 I1  ;;;;;;;;;;      MOV.W   @R1,R0                                                  ;
23777                            1496 I1  ;;;;;;;;;;      SUB     R0,R3                                                   ;
23778                            1497 I1  ;;;;;;;;;;      CMP/PL  R0                                                      ;
23779                            1498 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK100                                    ;R0=
23780                            1499 I1  ;;;;;;;;;;
23781                            1500 I1  ;;;;;;;;;;      XOR     R0,R0                                                   ;荷重範囲
                                          内(設定が荷重いつでも荷重到達になる)
23782                            1501 I1  ;;;;;;;;;;      M_BRA   KJYU_NEARZERO2_CK200                                    ;
23783                            1502 I1  ;;;;;;;;;;
23784                            1503 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK100                                                  ;
23785                            1504 I1  ;;;;;;;;;;
23786                            1505 I1  ;;;;;;;;;;      NEG     R3,R4                   ;-R4~+R3
23787                            1506 I1  ;;;;;;;;;;
23788                            1507 I1  ;;;;;;;;;;      MOV.B   #-1,R0                          ;手前だ
23789                            1508 I1  ;;;;;;;;;;      CMP/GT  R3,R2                           ;R3<R2
23790                            1509 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;まだ荷重が上がっていない
23791                            1510 I1  ;;;;;;;;;;
23792                            1511 I1  ;;;;;;;;;;      XOR     R0,R0                           ;範囲内
23793                            1512 I1  ;;;;;;;;;;      CMP/GE  R4,R2                           ;
23794                            1513 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;
23795                            1514 I1  ;;;;;;;;;;      MOV.B   #1,R0                           ;
23796                            1515 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK200:
23797                            1516 I1  ;;;;;;;;;;
23798                            1517 I1  ;;;;;;;;;;
23799                            1518 I1  ;;;;;;;;;;      SUB_END
23800                            1519 I1  ;;;;;;;;;;      M_RTS
23801                            1520 I1  
23802                            1521 I1  
23803                            1522 I1  ;;;     R0=0 範囲内
23804                            1523 I1  ;;;     R0=1:荷重ｵｰﾊﾞ,R0=-1荷重不足
23805                            1524 I1  ;;;     MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
23806                            1525 I1  ;;;     MOV.W   R0,@R1                  ;
23807                            1526 I1  
23808                            1527 I1  
23809                            1528 I1  ;       ***************************************************
23810                            1529 I1  ;       ***                                             ***
23811                            1530 I1  ;       ***     各種荷重範囲比較                        ***
23812                            1531 I1  ;       ***     2015-06-11                              ***
23813                            1532 I1  ;       ***************************************************
23814                                 I1  ***** BEGIN-POOL *****
23815 00004AE0 00000000               I1  DATA FOR SOURCE-LINE 1457
23816 00004AE4 00000000               I1  DATA FOR SOURCE-LINE 1460
23817 00004AE8 00000000               I1  DATA FOR SOURCE-LINE 1475
23818                                 I1  ***** END-POOL *****
23819 00004AEC                   1533 I1  _KJYU_NEARZERO3_CHK:
23820                            1534 I1          SUB_START
23821 00004AEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
23822                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23823                            1535 I1  
23824 00004AEE D10C              1536 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1                                   ;//荷重の偏差　＋
                                          ：目標-実荷重:"+"まだ不足している
23825 00004AF0 6212              1537 I1          MOV.L   @R1,R2                                                  ;"+/-"
23826 00004AF2 4211              1538 I1          CMP/PZ  R2                                                      ;
23827 00004AF4 8900              1539 I1          BT      KJYU_NEARZERO3CHK_100                                   ;
23828 00004AF6 622B              1540 I1          NEG     R2,R2                                                   ;
23829 00004AF8                   1541 I1  KJYU_NEARZERO3CHK_100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   319
PROGRAM NAME =

23830                            1542 I1  
23831 00004AF8 D10A              1543 I1          MOV.L   #(_PAR_KAJYU_STPARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;[荷重停止範囲] 20
                                          15-06-22
23832 00004AFA 6311              1544 I1          MOV.W   @R1,R3                                                  ;
23833 00004AFC 3322              1545 I1          CMP/HS  R2,R3                                                   ;
23834 00004AFE 891C              1546 I1          BT      KJYU_NEARZERO3CHK_OUT_OFF                               ;R2<=R3
23835                            1547 I1  
23836 00004B00 D109              1548 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1                                     ;荷重完了範囲
23837 00004B02 6411              1549 I1          MOV.W   @R1,R4                                                  ;
23838 00004B04 6343              1550 I1          MOV     R4,R3                                                   ;
23839                            1551 I1  
23840 00004B06 D109              1552 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23841 00004B08 6011              1553 I1          MOV.W   @R1,R0                                                  ;
23842 00004B0A 3308              1554 I1          SUB     R0,R3                                                   ;
23843 00004B0C 4311              1555 I1          CMP/PZ  R3
23844 00004B0E 8900              1556 I1          BT      KJYU_NEARZERO3CHK_200                                   ;
23845 00004B10 6343              1557 I1          MOV     R4,R3                                                   ;
23846 00004B12                   1558 I1  KJYU_NEARZERO3CHK_200:                                                  ;
23847 00004B12 3322              1559 I1          CMP/HS  R2,R3                                                   ;R2<=R3 到達範囲?
23848 00004B14 8914              1560 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;
23849                            1561 I1  
23850 00004B16 3422              1562 I1          CMP/HS  R2,R4                                                   ;R2<=R4 荷重ニアゼ
                                          ロ範囲?
23851 00004B18 8915              1563 I1          BT      KJYU_NEARZERO3CHK_YES
23852 00004B1A E0FE              1564 I1          MOV.B   #-2,R0                                                  ;範囲外
23853                            1565 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23854 00004B1C A014                   M           BRA     KJYU_NEARZERO3CHK_END
23855 00004B1E 0009                   M           NOP
23856                            1566 I1  
23857                            1567 I1  
23858                                 I1  ***** BEGIN-POOL *****
23859 00004B20 00000000               I1  DATA FOR SOURCE-LINE 1536
23860 00004B24 00000000               I1  DATA FOR SOURCE-LINE 1543
23861 00004B28 00000000               I1  DATA FOR SOURCE-LINE 1548
23862 00004B2C 00000000               I1  DATA FOR SOURCE-LINE 1552
23863                                 I1  ***** END-POOL *****
23864 00004B30                   1568 I1  KJYU_NEARZERO3_CK100                                                    ;
23865 00004B30 3233              1569 I1          CMP/GE  R3,R2                                                   ;
23866 00004B32 8905              1570 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;R3<=R2
23867 00004B34 E0FF              1571 I1          MOV.B   #-1,R0                                                  ;
23868                            1572 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23869 00004B36 A007                   M           BRA     KJYU_NEARZERO3CHK_END
23870 00004B38 0009                   M           NOP
23871                            1573 I1  
23872                            1574 I1  
23873 00004B3A                   1575 I1  KJYU_NEARZERO3CHK_OUT_OFF:
23874 00004B3A 200A              1576 I1          XOR     R0,R0                                                   ;一番小さい
23875                            1577 I1          M_BRA   KJYU_NEARZERO3CHK_END
23876 00004B3C A004                   M           BRA     KJYU_NEARZERO3CHK_END
23877 00004B3E 0009                   M           NOP
23878                            1578 I1  
23879 00004B40                   1579 I1  KJYU_NEARZERO3CHK_TOUTATU:                                              ;
23880 00004B40 E001              1580 I1          MOV.B   #1,R0                                                   ;二番目小さい
23881                            1581 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23882 00004B42 A001                   M           BRA     KJYU_NEARZERO3CHK_END
23883 00004B44 0009                   M           NOP
23884                            1582 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   320
PROGRAM NAME =

23885 00004B46                   1583 I1  KJYU_NEARZERO3CHK_YES
23886 00004B46 E002              1584 I1          MOV.B   #2,R0                                                   ;三番目小さい
23887                            1585 I1  
23888 00004B48                   1586 I1  KJYU_NEARZERO3CHK_END
23889                            1587 I1          SUB_END
23890                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23891 00004B48 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23892                            1588 I1          M_RTS
23893 00004B4A 000B                   M           RTS                             ;RTSの後ろの
23894 00004B4C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23895                            1589 I1  
23896                            1590 I1  
23897                            1591 I1  
23898 00004B4E                   1592 I1  _KJYU_OUT_DIRCT:
23899                            1593 I1          SUB_START
23900 00004B4E 4F22                   M           STS.L   PR,@-R15                ;[必要]
23901                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23902                            1594 I1  
23903 00004B50 D103              1595 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
23904 00004B52 6012              1596 I1          MOV.L   @R1,R0                  ;"+/-"
23905                            1597 I1  
23906 00004B54 4011              1598 I1          CMP/PZ  R0
23907 00004B56 8905              1599 I1          BT      KJYU_OUTDIR100          ;
23908 00004B58 E001              1600 I1          MOV.B   #1,R0                   ;R0=1:"+"へ行き過ぎてる 戻れ
23909                            1601 I1          M_BRA   KJYU_OUTDIR200          ;
23910 00004B5A A004                   M           BRA     KJYU_OUTDIR200
23911 00004B5C 0009                   M           NOP
23912                            1602 I1  
23913                                 I1  ***** BEGIN-POOL *****
23914 00004B5E 0000                   I1  ALIGNMENT CODE
23915 00004B60 00000000               I1  DATA FOR SOURCE-LINE 1595
23916                                 I1  ***** END-POOL *****
23917 00004B64                   1603 I1  KJYU_OUTDIR100:
23918 00004B64 E0FF              1604 I1          MOV.B   #-1,R0                  ;R0=-1"-"進め
23919                            1605 I1  
23920 00004B66                   1606 I1  KJYU_OUTDIR200:
23921                            1607 I1  
23922                            1608 I1  
23923                            1609 I1          SUB_END
23924                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23925 00004B66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23926                            1610 I1          M_RTS
23927 00004B68 000B                   M           RTS                             ;RTSの後ろの
23928 00004B6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23929                            1611 I1  
23930                            1612 I1  ;       *******************************************
23931                            1613 I1  ;       ***                                     ***
23932                            1614 I1  ;       ***                                     ***
23933                            1615 I1  ;       ***                                     ***
23934                            1616 I1  ;       *******************************************
23935                            1617 I1  ;       荷重制御中　タイマ中も制御し続ける 349.12
23936                            1618 I1  ;       ニアゼロ
23937 00004B6C                   1619 I1  _FCLS_NZ_TIM_SET
23938                            1620 I1          SUB_START
23939 00004B6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
23940                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23941                            1621 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   321
PROGRAM NAME =

23942                            1622 I1  
23943 00004B6E D205              1623 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
23944 00004B70 6021              1624 I1          MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
23945 00004B72 70FF              1625 I1          ADD     #-1,R0                  ;
23946 00004B74 D404              1626 I1          MOV.L   #_CPOS_SDAT1_TIM,R4     ;
23947 00004B76 4008              1627 I1          SHLL2   R0                      ;
23948 00004B78 014E              1628 I1          MOV.L   @(R0,R4),R1             ;TIM
23949 00004B7A D404              1629 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
23950 00004B7C 2412              1630 I1          MOV.L   R1,@R4                  ;
23951                            1631 I1  
23952                            1632 I1          SUB_END
23953                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23954 00004B7E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23955                            1633 I1          M_RTS
23956 00004B80 000B                   M           RTS                             ;RTSの後ろの
23957 00004B82 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23958                            1634 I1  
23959                            1635 I1  
23960                                 I1  ***** BEGIN-POOL *****
23961 00004B84 00000000               I1  DATA FOR SOURCE-LINE 1623
23962 00004B88 00000000               I1  DATA FOR SOURCE-LINE 1626
23963 00004B8C 00000000               I1  DATA FOR SOURCE-LINE 1629
23964                                 I1  ***** END-POOL *****
23965 00004B90                   1636 I1  _FCLS_KJYU_STEPCHG_CLR
23966                            1637 I1          SUB_START
23967 00004B90 4F22                   M           STS.L   PR,@-R15                ;[必要]
23968                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23969 00004B92 200A              1638 I1          XOR     R0,R0
23970 00004B94 D103              1639 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1  ;
23971 00004B96 2101              1640 I1          MOV.W   R0,@R1                  ;
23972                            1641 I1  
23973 00004B98 D103              1642 I1          MOV.L   #_FULCLS_MATHED,R1
23974 00004B9A 2101              1643 I1          MOV.W   R0,@R1                  ;
23975                            1644 I1  
23976                            1645 I1          SUB_END
23977                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23978 00004B9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23979                            1646 I1          M_RTS
23980 00004B9E 000B                   M           RTS                             ;RTSの後ろの
23981 00004BA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23982                            1647 I1  
23983                            1648 I1  ;       ***************************************************
23984                            1649 I1  ;       ***                                             ***
23985                            1650 I1  ;       ***                                             ***
23986                            1651 I1  ;       ***                                             ***
23987                            1652 I1  ;       ***************************************************
23988                            1653 I1  ;       どこかで異常検出をする(仕様でないのに荷重ＳＷがＯＮだ)
23989                            1654 I1          .IMPORT _WORD_BIT_TBL1
23990                            1655 I1  
23991                                 I1  ***** BEGIN-POOL *****
23992 00004BA2 0000                   I1  ALIGNMENT CODE
23993 00004BA4 00000000               I1  DATA FOR SOURCE-LINE 1639
23994 00004BA8 00000000               I1  DATA FOR SOURCE-LINE 1642
23995                                 I1  ***** END-POOL *****
23996 00004BAC                   1656 I1  _KJYU_DATA_INFO_SEL
23997                            1657 I1          SUB_START
23998 00004BAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   322
PROGRAM NAME =

23999                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24000                            1658 I1  
24001 00004BAE D110              1659 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
24002 00004BB0 6011              1660 I1          MOV.W   @R1,R0                          ;1~10
24003 00004BB2 2008              1661 I1          TST     R0,R0                           ;
24004                            1662 I1          TST_BIT_OF KJYU_DATA_INFOSL100          ;
24005 00004BB4 892A                   M           BT      KJYU_DATA_INFOSL100
24006                            1663 I1  
24007 00004BB6 D10F              1664 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
24008 00004BB8 6211              1665 I1          MOV.W   @R1,R2                          ;
24009 00004BBA 7201              1666 I1          ADD     #1,R2                           ;
24010 00004BBC 3200              1667 I1          CMP/EQ  R0,R2                           ;戻り行程?
24011 00004BBE 8925              1668 I1          BT      KJYU_DATA_INFOSL100             ;
24012                            1669 I1  
24013                            1670 I1  
24014 00004BC0 70FF              1671 I1          ADD     #-1,R0                          ;
24015 00004BC2 4000              1672 I1          SHLL    R0                              ;
24016 00004BC4 D40C              1673 I1          MOV.L   #_WORD_BIT_TBL1,R4              ;R0=0のときにBIT0
24017 00004BC6 340C              1674 I1          ADD     R0,R4                           ;
24018 00004BC8 6241              1675 I1          MOV.W   @R4,R2                          ;ﾁｪｯｸﾋﾞｯﾄ
24019 00004BCA D10C              1676 I1          MOV.L   #_CPOS_FULCLS_MATEHD_SW,R1      ;
24020 00004BCC 6311              1677 I1          MOV.W   @R1,R3                          ;
24021 00004BCE 2328              1678 I1          TST     R2,R3                           ;
24022                            1679 I1          TST_BIT_OF KJYU_DATA_INFOSL100          ;位置
24023 00004BD0 891C                   M           BT      KJYU_DATA_INFOSL100
24024                            1680 I1  
24025 00004BD2 4000              1681 I1          SHLL    R0                              ;*2
24026 00004BD4 D10A              1682 I1          MOV.L   #_CPOS_KJYUCLS_OBJ,R1           ;
24027 00004BD6 310C              1683 I1          ADD     R0,R1                           ;
24028 00004BD8 6212              1684 I1          MOV.L   @R1,R2                          ;
24029 00004BDA D10A              1685 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;各段の荷重目標
24030 00004BDC 2122              1686 I1          MOV.L   R2,@R1                          ;
24031                            1687 I1  
24032                            1688 I1          MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=(BIT13),WKRG1=R1,WKRG2=R4
                                          ;
24033 00004BDE D10A                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
24034 00004BE0 6011                   M           MOV.W   @R1,R0          ;
24035 00004BE2 9404                   M           MOV.W   #(BIT13),R4             ;
24036 00004BE4 204B                   M           OR      R4,R0           ;
24037 00004BE6 2101                   M           MOV.W   R0,@R1          ;
24038                            1689 I1  
24039 00004BE8 E001              1690 I1          MOV.B   #BIT0,R0                        ;
24040                            1691 I1          M_BRA   KJYU_DATA_INFOSL300             ;
24041 00004BEA A015                   M           BRA     KJYU_DATA_INFOSL300
24042 00004BEC 0009                   M           NOP
24043                            1692 I1  
24044                                 I1  ***** BEGIN-POOL *****
24045 00004BEE 2000                   I1  DATA FOR SOURCE-LINE 1688
24046 00004BF0 00000000               I1  DATA FOR SOURCE-LINE 1659
24047 00004BF4 00000000               I1  DATA FOR SOURCE-LINE 1664
24048 00004BF8 00000000               I1  DATA FOR SOURCE-LINE 1673
24049 00004BFC 00000000               I1  DATA FOR SOURCE-LINE 1676
24050 00004C00 00000000               I1  DATA FOR SOURCE-LINE 1682
24051 00004C04 00000000               I1  DATA FOR SOURCE-LINE 1685
24052 00004C08 00000000               I1  DATA FOR SOURCE-LINE 1688
24053                                 I1  ***** END-POOL *****
24054 00004C0C                   1693 I1  KJYU_DATA_INFOSL100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   323
PROGRAM NAME =

24055                            1694 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=~(BIT13),WKRG1=R1,WKRG2=R4
24056 00004C0C D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
24057 00004C0E 6011                   M           MOV.W   @R1,R0          ;
24058 00004C10 9407                   M           MOV.W   #LWORD ~(BIT13),R4      ;
24059 00004C12 2049                   M           AND     R4,R0           ;
24060 00004C14 2101                   M           MOV.W   R0,@R1          ;
24061 00004C16 200A              1695 I1          XOR     R0,R0
24062 00004C18                   1696 I1  KJYU_DATA_INFOSL300
24063 00004C18 D103              1697 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
24064 00004C1A 2101              1698 I1          MOV.W   R0,@R1                  ;
24065                            1699 I1  
24066                            1700 I1          SUB_END
24067                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24068 00004C1C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24069                            1701 I1          M_RTS
24070 00004C1E 000B                   M           RTS                             ;RTSの後ろの
24071 00004C20 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24072                            1702 I1  
24073                            1703 I1  
24074                            1704 I1  
24075                            1705 I1  
24076                            1706 I1  
24077                            1707 I1  
24078                            1708 I1  ;       ***************************************************
24079                            1709 I1  ;       ***                                             ***
24080                            1710 I1  ;       ***     １回目の荷重制御開始時に荷重が高いか?   ***
24081                            1711 I1  ;       ***     [2015-03-15]                                    ***
24082                            1712 I1  ;       ***************************************************
24083                                 I1  ***** BEGIN-POOL *****
24084 00004C22 DFFF                   I1  DATA FOR SOURCE-LINE 1694
24085 00004C24 00000000               I1  DATA FOR SOURCE-LINE 1694
24086 00004C28 00000000               I1  DATA FOR SOURCE-LINE 1697
24087                                 I1  ***** END-POOL *****
24088 00004C2C                   1713 I1  _KAJYU_START_UPCHK:
24089                            1714 I1          SUB_START
24090 00004C2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24091                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24092 00004C2E D10B              1715 I1          MOV.L   #_FULCLS_MATHED,R1      ;//0:位置 1:荷重
24093 00004C30 6011              1716 I1          MOV.W   @R1,R0                  ;
24094 00004C32 8801              1717 I1          CMP/EQ  #1,R0                   ;
24095 00004C34 8B0E              1718 I1          BF      KAJYU_START_UPCK_EXT    ;荷重ではない
24096                            1719 I1  
24097 00004C36 D10A              1720 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
24098 00004C38 6011              1721 I1          MOV.W   @R1,R0                  ;
24099 00004C3A C801              1722 I1          TST     #BIT0,R0                ;
24100                            1723 I1          TST_BIT_ON KAJYU_START_UPCK_EXT ;既にチェック済み
24101 00004C3C 8B0A                   M           BF      KAJYU_START_UPCK_EXT
24102 00004C3E CB01              1724 I1          OR      #BIT0,R0                ;
24103 00004C40 2101              1725 I1          MOV.W   R0,@R1                  ;
24104                            1726 I1  
24105 00004C42 D108              1727 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
24106 00004C44 6012              1728 I1          MOV.L   @R1,R0                  ;
24107 00004C46 4011              1729 I1          CMP/PZ  R0                      ;
24108 00004C48 8904              1730 I1          BT      KAJYU_START_UPCK_EXT    ;目標>=実測
24109                            1731 I1  
24110                            1732 I1          MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R4
24111 00004C4A D107                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   324
PROGRAM NAME =

24112 00004C4C 6011                   M           MOV.W   @R1,R0          ;
24113 00004C4E 9404                   M           MOV.W   #(BIT12),R4             ;
24114 00004C50 204B                   M           OR      R4,R0           ;
24115 00004C52 2101                   M           MOV.W   R0,@R1          ;
24116                            1733 I1  
24117 00004C54                   1734 I1  KAJYU_START_UPCK_EXT:
24118                            1735 I1  
24119                            1736 I1          SUB_END
24120                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24121 00004C54 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24122                            1737 I1          M_RTS
24123 00004C56 000B                   M           RTS                             ;RTSの後ろの
24124 00004C58 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24125                            1738 I1  
24126                            1739 I1  ;       ---------起動、異常-------
24127                            1740 I1          .EXPORT _KAJYU_ELSE_STS_CLR
24128                                 I1  ***** BEGIN-POOL *****
24129 00004C5A 1000                   I1  DATA FOR SOURCE-LINE 1732
24130 00004C5C 00000000               I1  DATA FOR SOURCE-LINE 1715
24131 00004C60 00000000               I1  DATA FOR SOURCE-LINE 1720
24132 00004C64 00000000               I1  DATA FOR SOURCE-LINE 1727
24133 00004C68 00000000               I1  DATA FOR SOURCE-LINE 1732
24134                                 I1  ***** END-POOL *****
24135 00004C6C                   1741 I1  _KAJYU_ELSE_STS_CLR:
24136                            1742 I1          SUB_START
24137 00004C6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24138                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24139                            1743 I1  
24140                            1744 I1          FAR_JSR #_KAJYU_ELSE_STS_FLG_CLR,R0     ;
24141 00004C6E D006                   M           MOV.L   #_KAJYU_ELSE_STS_FLG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24142 00004C70 400B                   M           JSR     @R0                     ;
24143 00004C72 0009                   M           NOP                                     ;
24144                            1745 I1  
24145                            1746 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=~(BIT12),WKRG1=R1,WKRG2=R
                                          4
24146 00004C74 D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
24147 00004C76 6011                   M           MOV.W   @R1,R0          ;
24148 00004C78 9404                   M           MOV.W   #LWORD ~(BIT12),R4      ;
24149 00004C7A 2049                   M           AND     R4,R0           ;
24150 00004C7C 2101                   M           MOV.W   R0,@R1          ;
24151                            1747 I1  
24152                            1748 I1          SUB_END
24153                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24154 00004C7E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24155                            1749 I1          M_RTS
24156 00004C80 000B                   M           RTS                             ;RTSの後ろの
24157 00004C82 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24158                            1750 I1  
24159                                 I1  ***** BEGIN-POOL *****
24160 00004C84 EFFF                   I1  DATA FOR SOURCE-LINE 1746
24161 00004C86 0000                   I1  ALIGNMENT CODE
24162 00004C88 00000000               I1  DATA FOR SOURCE-LINE 1744
24163 00004C8C 00000000               I1  DATA FOR SOURCE-LINE 1746
24164                                 I1  ***** END-POOL *****
24165 00004C90                   1751 I1  _KAJYU_ELSE_STS_FLG_CLR:
24166                            1752 I1          SUB_START
24167 00004C90 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   325
PROGRAM NAME =

24168                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24169 00004C92 200A              1753 I1          XOR     R0,R0
24170 00004C94 D102              1754 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
24171 00004C96 2101              1755 I1          MOV.W   R0,@R1                  ;
24172                            1756 I1          SUB_END
24173                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24174 00004C98 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24175                            1757 I1          M_RTS
24176 00004C9A 000B                   M           RTS                             ;RTSの後ろの
24177 00004C9C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24178                            1758 I1  
24179                            1759 I1  
24180                            1760 I1  
24181                            1761 I1  
24182                            1762 I1  
24183                            1763 I1  
24184                            1764 I1  
24185                            1765 I1  
24186                            1766 I1  
24187                            1767 I1  
24188                            1768 I1  
24189                            1769 I1  
24190                            1770 I1  
24191                            1771 I1  
24192                            1772 I1  
24193                            1773 I1  
24194                            1774 I1  
24195                            1775 I1  
24196                            1776 I1  ;       H2WではDTMKだがＱ
24197                            1777 I1  ;       ***************************************************
24198                            1778 I1  ;       ***                                             ***
24199                            1779 I1  ;       ***             起動時荷重データ判断            ***
24200                            1780 I1  ;       ***                                             ***
24201                            1781 I1  ;       ***             範囲1                           ***
24202                            1782 I1  ;       ***             範囲2                           ***
24203                            1783 I1  ;       ***************************************************
24204                            1784 I1  ;       "既に荷重範囲に一度は入った前提"
24205                            1785 I1  ;
24206                            1786 I1  
24207                                 I1  ***** BEGIN-POOL *****
24208 00004C9E 0000                   I1  ALIGNMENT CODE
24209 00004CA0 00000000               I1  DATA FOR SOURCE-LINE 1754
24210                                 I1  ***** END-POOL *****
24211 00004CA4                   1787 I1  _REVRSE_KAJYU_AREACHK_BASSET:
24212                            1788 I1          SUB_START
24213 00004CA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24214                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24215 00004CA6 D108              1789 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
24216 00004CA8 6011              1790 I1          MOV.W   @R1,R0                                                  ;到達範囲
24217 00004CAA 2008              1791 I1          TST     R0,R0                                                   ;
24218                            1792 I1          TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD                          ;最終範囲を使用し
                                          ない
24219 00004CAC 8912                   M           BT      REVRSE_KAJYU_AREACK_LASTSPD
24220                            1793 I1  
24221                            1794 I1  ;;;;;2015-06-22
24222                            1795 I1  ;;;;;   FAR_JSR #_KJYU_NEARZERO2_CHK,R0
24223                            1796 I1  ;;;;;   TST     R0,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   326
PROGRAM NAME =

24224                            1797 I1  ;;;;;   TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD          ;到達範囲内
24225                            1798 I1  
24226                            1799 I1  ;       速度選択のニアゼロサブルーチン変更
24227                            1800 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0
24228 00004CAE D007                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24229 00004CB0 400B                   M           JSR     @R0                     ;
24230 00004CB2 0009                   M           NOP                                     ;
24231 00004CB4 8800              1801 I1          CMP/EQ  #0,R0
24232 00004CB6 890D              1802 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
24233 00004CB8 8801              1803 I1          CMP/EQ  #1,R0
24234 00004CBA 890B              1804 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
24235                            1805 I1  
24236                            1806 I1          FAR_JSR #_REVRSE_KAJYU1_BASINCSET,R0            ;
24237 00004CBC D004                   M           MOV.L   #_REVRSE_KAJYU1_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24238 00004CBE 400B                   M           JSR     @R0                     ;
24239 00004CC0 0009                   M           NOP                                     ;
24240                            1807 I1          M_BRA   REVRSE_KAJYU_AREACK_END                 ;
24241 00004CC2 A00A                   M           BRA     REVRSE_KAJYU_AREACK_END
24242 00004CC4 0009                   M           NOP
24243                            1808 I1  
24244                            1809 I1  ;       --------------最後の範囲内の運転--------------
24245                                 I1  ***** BEGIN-POOL *****
24246 00004CC6 0000                   I1  ALIGNMENT CODE
24247 00004CC8 00000000               I1  DATA FOR SOURCE-LINE 1789
24248 00004CCC 00000000               I1  DATA FOR SOURCE-LINE 1800
24249 00004CD0 00000000               I1  DATA FOR SOURCE-LINE 1806
24250                                 I1  ***** END-POOL *****
24251 00004CD4                   1810 I1  REVRSE_KAJYU_AREACK_LASTSPD:
24252                            1811 I1          FAR_JSR #_REVRSE_KAJYU2_BASINCSET,R0
24253 00004CD4 D002                   M           MOV.L   #_REVRSE_KAJYU2_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24254 00004CD6 400B                   M           JSR     @R0                     ;
24255 00004CD8 0009                   M           NOP                                     ;
24256                            1812 I1  
24257 00004CDA                   1813 I1  REVRSE_KAJYU_AREACK_END:
24258                            1814 I1  
24259                            1815 I1          SUB_END
24260                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24261 00004CDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24262                            1816 I1          M_RTS
24263 00004CDC 000B                   M           RTS                             ;RTSの後ろの
24264 00004CDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24265                            1817 I1  
24266                            1818 I1  
24267                            1819 I1  
24268                            1820 I1  
24269                            1821 I1  ;もしﾊﾟ-ｾﾝﾃﾞｰﾀなら
24270                            1822 I1  ;DATA(%)*MAX(freq)/10000=freq
24271                            1823 I1  ;freq*FFFF/500,000=LATE
24272                            1824 I1  ;
24273                            1825 I1  ;
24274                            1826 I1  ;もしﾚｰﾄ(7pls/s)なら
24275                            1827 I1  ;DATA()*500,000/FFFF=PLS/S
24276                            1828 I1  
24277                            1829 I1  ;       ------ 2014-08-20-------------------------------------------------------------
24278                            1830 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入っていない-----------
24279                                 I1  ***** BEGIN-POOL *****
24280 00004CE0 00000000               I1  DATA FOR SOURCE-LINE 1811
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   327
PROGRAM NAME =

24281                                 I1  ***** END-POOL *****
24282 00004CE4                   1831 I1  _REVRSE_KAJYU1_BASINCSET:
24283                            1832 I1          SUB_START
24284 00004CE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24285                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24286                            1833 I1  
24287 00004CE6 D104              1834 I1          MOV.L   #(_PAR_KAJYU_ARASPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.362
24288 00004CE8 6211              1835 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
24289 00004CEA 2228              1836 I1          TST     R2,R2                                                   ;
24290                            1837 I1          TST_BIT_ON CLSINC1_SEL_020                                      ;
24291 00004CEC 8B08                   M           BF      CLSINC1_SEL_020
24292                            1838 I1  
24293                            1839 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
24294 00004CEE D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24295 00004CF0 400B                   M           JSR     @R0                     ;
24296 00004CF2 0009                   M           NOP                                     ;
24297                            1840 I1          M_BRA   CLSINC1_SEL_END                                         ;
24298 00004CF4 A009                   M           BRA     CLSINC1_SEL_END
24299 00004CF6 0009                   M           NOP
24300                            1841 I1  
24301                                 I1  ***** BEGIN-POOL *****
24302 00004CF8 00000000               I1  DATA FOR SOURCE-LINE 1834
24303 00004CFC 00000000               I1  DATA FOR SOURCE-LINE 1839
24304                                 I1  ***** END-POOL *****
24305 00004D00                   1842 I1  CLSINC1_SEL_020
24306                            1843 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
24307 00004D00 D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24308 00004D02 400B                   M           JSR     @R0                     ;
24309 00004D04 0009                   M           NOP                                     ;
24310                            1844 I1  
24311 00004D06 D103              1845 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
24312 00004D08 2122              1846 I1          MOV.L   R2,@R1                                                  ;
24313 00004D0A                   1847 I1  CLSINC1_SEL_END
24314                            1848 I1  
24315                            1849 I1          SUB_END
24316                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24317 00004D0A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24318                            1850 I1          M_RTS
24319 00004D0C 000B                   M           RTS                             ;RTSの後ろの
24320 00004D0E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24321                            1851 I1  
24322                            1852 I1  
24323                            1853 I1  ;       -------2014-07-14-----------
24324                            1854 I1  ;       ------ 2014-08-20-----------
24325                            1855 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入った-----------
24326                                 I1  ***** BEGIN-POOL *****
24327 00004D10 00000000               I1  DATA FOR SOURCE-LINE 1843
24328 00004D14 00000000               I1  DATA FOR SOURCE-LINE 1845
24329                                 I1  ***** END-POOL *****
24330 00004D18                   1856 I1  _REVRSE_KAJYU2_BASINCSET:
24331                            1857 I1          SUB_START
24332 00004D18 4F22                   M           STS.L   PR,@-R15                ;[必要]
24333                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24334                            1858 I1  
24335 00004D1A D104              1859 I1          MOV.L   #(_PAR_KAJYU_HLDSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.361
24336 00004D1C 6211              1860 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   328
PROGRAM NAME =

24337 00004D1E 2228              1861 I1          TST     R2,R2                                                   ;
24338                            1862 I1          TST_BIT_ON CLSINC2_SEL_020                                      ;
24339 00004D20 8B08                   M           BF      CLSINC2_SEL_020
24340                            1863 I1  
24341                            1864 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
24342 00004D22 D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24343 00004D24 400B                   M           JSR     @R0                     ;
24344 00004D26 0009                   M           NOP                                     ;
24345                            1865 I1          M_BRA   CLSINC2_SEL_END                                         ;
24346 00004D28 A009                   M           BRA     CLSINC2_SEL_END
24347 00004D2A 0009                   M           NOP
24348                            1866 I1  
24349                                 I1  ***** BEGIN-POOL *****
24350 00004D2C 00000000               I1  DATA FOR SOURCE-LINE 1859
24351 00004D30 00000000               I1  DATA FOR SOURCE-LINE 1864
24352                                 I1  ***** END-POOL *****
24353 00004D34                   1867 I1  CLSINC2_SEL_020
24354                            1868 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
24355 00004D34 D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24356 00004D36 400B                   M           JSR     @R0                     ;
24357 00004D38 0009                   M           NOP                                     ;
24358                            1869 I1  
24359 00004D3A D103              1870 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
24360 00004D3C 2122              1871 I1          MOV.L   R2,@R1                                                  ;
24361 00004D3E                   1872 I1  CLSINC2_SEL_END
24362                            1873 I1  
24363                            1874 I1          SUB_END
24364                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24365 00004D3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24366                            1875 I1          M_RTS
24367 00004D40 000B                   M           RTS                             ;RTSの後ろの
24368 00004D42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24369                            1876 I1  
24370                            1877 I1  
24371                            1878 I1  ;       ***********************************
24372                            1879 I1  ;       ***     S01~S09処理             ***
24373                            1880 I1  ;       ***********************************
24374                                 I1  ***** BEGIN-POOL *****
24375 00004D44 00000000               I1  DATA FOR SOURCE-LINE 1868
24376 00004D48 00000000               I1  DATA FOR SOURCE-LINE 1870
24377                                 I1  ***** END-POOL *****
24378 00004D4C                   1881 I1  _REVRSE_BASINC_SPDCALC:
24379                            1882 I1          SUB_START
24380 00004D4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24381                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24382                            1883 I1  
24383                            1884 I1  ;       =======  2012-10-05 =========
24384 00004D4E D10B              1885 I1          MOV.L   #_CB_SEQ_CB_COM351,R1                                   ;ｲﾝﾁﾝｸﾞ速度選択
24385 00004D50 6011              1886 I1          MOV.W   @R1,R0                                                  ;
24386 00004D52 9411              1887 I1          MOV.W   #BIT9+BIT8+BIT7+BIT6+BIT5+BIT4+BIT3+BIT2+BIT1,R4        ;
24387 00004D54 2048              1888 I1          TST     R4,R0                                                   ;
24388                            1889 I1          TST_BIT_OF CLSINC_SEL_DEF                                       ;
24389 00004D56 8915                   M           BT      CLSINC_SEL_DEF
24390                            1890 I1  
24391 00004D58 E308              1891 I1          MOV.B   #D'9-1,R3                                                       ;
24392 00004D5A E402              1892 I1          MOV.B   #BIT1,R4                                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   329
PROGRAM NAME =

24393 00004D5C D108              1893 I1          MOV.L   #(_PAR_NEGCTL_SPDS1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
24394                            1894 I1  
24395 00004D5E                   1895 I1  CLSINC_SEL_050LOP:
24396 00004D5E 2048              1896 I1          TST     R4,R0
24397                            1897 I1          TST_BIT_ON CLSINC_SEL_100       ;
24398 00004D60 8B04                   M           BF      CLSINC_SEL_100
24399 00004D62 4400              1898 I1          SHLL    R4
24400 00004D64 7102              1899 I1          ADD     #2,R1                   ;
24401 00004D66 73FF              1900 I1          ADD     #-1,R3                  ;
24402 00004D68 2338              1901 I1          TST     R3,R3                   ;
24403                            1902 I1          TST_BIT_ON CLSINC_SEL_050LOP    ;BIT1~BIT8
24404 00004D6A 8BF8                   M           BF      CLSINC_SEL_050LOP
24405 00004D6C                   1903 I1  CLSINC_SEL_100:
24406 00004D6C 6211              1904 I1          MOV.W   @R1,R2                  ;
24407 00004D6E 2228              1905 I1          TST     R2,R2                   ;
24408                            1906 I1          TST_BIT_ON CLSINC_SEL_300       ;
24409 00004D70 8B0A                   M           BF      CLSINC_SEL_300
24410 00004D72 7201              1907 I1          ADD     #1,R2                   ;
24411                            1908 I1          M_BRA   CLSINC_SEL_300          ;
24412 00004D74 A008                   M           BRA     CLSINC_SEL_300
24413 00004D76 0009                   M           NOP
24414                            1909 I1  
24415                            1910 I1  
24416                                 I1  ***** BEGIN-POOL *****
24417 00004D78 03FE                   I1  DATA FOR SOURCE-LINE 1887
24418 00004D7A 0000                   I1  ALIGNMENT CODE
24419 00004D7C 00000000               I1  DATA FOR SOURCE-LINE 1885
24420 00004D80 00000000               I1  DATA FOR SOURCE-LINE 1893
24421                                 I1  ***** END-POOL *****
24422 00004D84                   1911 I1  CLSINC_SEL_DEF:
24423 00004D84 D104              1912 I1          MOV.L   #_POS_LSI_CLSINC_SPDBAS,R1              ;ｲﾝﾁﾝｸﾞ時
24424 00004D86 6212              1913 I1          MOV.L   @R1,R2
24425 00004D88                   1914 I1  CLSINC_SEL_300
24426                            1915 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                ;
24427 00004D88 D004                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24428 00004D8A 400B                   M           JSR     @R0                     ;
24429 00004D8C 0009                   M           NOP                                     ;
24430 00004D8E D104              1916 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1              ;//PLS/S
24431 00004D90 2122              1917 I1          MOV.L   R2,@R1                                  ;
24432                            1918 I1                                                          ;
24433                            1919 I1  
24434                            1920 I1          SUB_END
24435                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24436 00004D92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24437                            1921 I1          M_RTS
24438 00004D94 000B                   M           RTS                             ;RTSの後ろの
24439 00004D96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24440                            1922 I1  
24441                            1923 I1  
24442                                 I1  ***** BEGIN-POOL *****
24443 00004D98 00000000               I1  DATA FOR SOURCE-LINE 1912
24444 00004D9C 00000000               I1  DATA FOR SOURCE-LINE 1915
24445 00004DA0 00000000               I1  DATA FOR SOURCE-LINE 1916
24446                                 I1  ***** END-POOL *****
24447 00004DA4                   1924 I1  _HANTEN_LAST_SIG_CLR
24448                            7430     
24449                            7431     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   330
PROGRAM NAME =

24450                            7432     
24451                            7433     ;       ***************************
24452                            7434     ;       ***                     ***
24453                            7435     ;       ***     異常履歴ﾃﾞｰﾀ    ***
24454                            7436     ;       ***                     ***
24455                            7437     ;       ***************************
24456 00004DA4                   7438             .ALIGN  4                               ;
24457 00004DA4                   7439     _HIST_INFO_DT_IN1:
24458                            7440             SUB_START
24459 00004DA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24460                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24461                            7441             PUSH_REG1 R0
24462 00004DA6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24463                                 M                                           ;REG=>[SP]
24464                                 M                                           ;"-4" FF,FF,FF,FC
24465                            7442             PUSH_REG1 R1
24466 00004DA8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24467                                 M                                           ;REG=>[SP]
24468                                 M                                           ;"-4" FF,FF,FF,FC
24469                            7443             PUSH_REG1 R2
24470 00004DAA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24471                                 M                                           ;REG=>[SP]
24472                                 M                                           ;"-4" FF,FF,FF,FC
24473                            7444     
24474 00004DAC D109              7445             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
24475 00004DAE D20A              7446             MOV.L   #_LT_LINK_SV_OBJ_ABSPLS,R2              ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24476 00004DB0 6016              7447             MOV.L   @R1+,R0                                 ;
24477 00004DB2 2202              7448             MOV.L   R0,@R2                                  ;
24478 00004DB4 7204              7449             ADD     #4,R2                                   ;
24479 00004DB6 6016              7450             MOV.L   @R1+,R0                                 ;
24480 00004DB8 2202              7451             MOV.L   R0,@R2                                  ;
24481                            7452     
24482 00004DBA D108              7453             MOV.L   #_LINK_PV_ABSPLS,R1             ;
24483 00004DBC D208              7454             MOV.L   #_LT_INT_LINK_RL_OBJ_ABSPLS,R2          ;
24484 00004DBE 6016              7455             MOV.L   @R1+,R0                                 ;
24485 00004DC0 2202              7456             MOV.L   R0,@R2                                  ;
24486 00004DC2 7204              7457             ADD     #4,R2                                   ;
24487 00004DC4 6016              7458             MOV.L   @R1+,R0                                 ;
24488 00004DC6 2202              7459             MOV.L   R0,@R2                                  ;
24489                            7460     
24490                            7461             POP_REG1 R2
24491                                 M                                   ; RE"+4" 00,00,00,04
24492 00004DC8 62F6                   M           MOV.L   @R15+,R2        ;
24493                            7462             POP_REG1 R1
24494                                 M                                   ; RE"+4" 00,00,00,04
24495 00004DCA 61F6                   M           MOV.L   @R15+,R1        ;
24496                            7463             POP_REG1 R0
24497                                 M                                   ; RE"+4" 00,00,00,04
24498 00004DCC 60F6                   M           MOV.L   @R15+,R0        ;
24499                            7464             SUB_END
24500                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24501 00004DCE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24502                            7465             M_RTS
24503 00004DD0 000B                   M           RTS                             ;RTSの後ろの
24504 00004DD2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24505                            7466     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   331
PROGRAM NAME =

24506                            7467     ;       ***********************************
24507                            7468     ;       ***                             ***
24508                            7469     ;       ***     異常情報                ***
24509                            7470     ;       ***                             ***
24510                            7471     ;       ***********************************
24511                            7472             .MACRO  DATA_8B_0CHK MEM,ANSBIT
24512                            7473             MOV.L   #\MEM,R1        ;
24513                            7474             MOV.L   @R1+,R2                 ;HIGH
24514                            7475             MOV.L   @R1,R3                  ;LOW
24515                            7476             XOR     R1,R1                   ;
24516                            7477             OR      R3,R2                   ;
24517                            7478             TST     R2,R2                   ;
24518                            7479             TST_BIT_OF JMP01\@              ;ZERO
24519                            7480             MOV.W   #\ANSBIT,R1             ;
24520                            7481     JMP01\@                                 ;
24521                            7482             .ENDM
24522                            7483     
24523                            7484             .MACRO  DATA_4B_0CHK MEM,ANSBIT
24524                            7485             MOV.L   #\MEM,R1        ;
24525                            7486             MOV.L   @R1+,R2                 ;HIGH
24526                            7487             XOR     R1,R1                   ;
24527                            7488             TST     R2,R2                   ;
24528                            7489             TST_BIT_OF JMP01\@              ;ZERO
24529                            7490             MOV.W   #\ANSBIT,R1             ;
24530                            7491     JMP01\@                                 ;
24531                            7492             .ENDM
24532                            7493     
24533                            7494     
24534                            7495     ;       ***************************
24535                            7496     ;       ***     data 記憶       ***
24536                            7497     ;       ***************************
24537                                     ***** BEGIN-POOL *****
24538 00004DD4 00000000                   DATA FOR SOURCE-LINE 7445
24539 00004DD8 00000000                   DATA FOR SOURCE-LINE 7446
24540 00004DDC 00000000                   DATA FOR SOURCE-LINE 7453
24541 00004DE0 00000000                   DATA FOR SOURCE-LINE 7454
24542                                     ***** END-POOL *****
24543 00004DE4                   7498             .ALIGN  4                               ;
24544 00004DE4                   7499     _ERR_INFO_DT_IN0:
24545                            7500             SUB_START
24546 00004DE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24547                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24548 00004DE6 D105              7501             MOV.L   #_PV_POWER_ON_CNT,R1                    ;
24549 00004DE8 6011              7502             MOV.W   @R1,R0                                  ;
24550 00004DEA D105              7503             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B01,R1  ;POWER
24551 00004DEC 2101              7504             MOV.W   R0,@R1                                  ;
24552                            7505     
24553 00004DEE D105              7506             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B02,R1  ;TIM
24554 00004DF0 6011              7507             MOV.W   @R1,R0                                  ;
24555 00004DF2 7001              7508             ADD     #1,R0                                   ;
24556 00004DF4 2101              7509             MOV.W   R0,@R1                                  ;
24557                            7510             SUB_END
24558                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24559 00004DF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24560                            7511             M_RTS
24561 00004DF8 000B                   M           RTS                             ;RTSの後ろの
24562 00004DFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   332
PROGRAM NAME =

24563                            7512     
24564                                     ***** BEGIN-POOL *****
24565 00004DFC 00000000                   DATA FOR SOURCE-LINE 7501
24566 00004E00 00000000                   DATA FOR SOURCE-LINE 7503
24567 00004E04 00000000                   DATA FOR SOURCE-LINE 7506
24568                                     ***** END-POOL *****
24569 00004E08                   7513             .ALIGN  4                               ;
24570 00004E08                   7514     _ERR_INFO_DT_IN1:
24571                            7515             SUB_START
24572 00004E08 4F22                   M           STS.L   PR,@-R15                ;[必要]
24573                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24574                            7516             PUSH_REG1 R0
24575 00004E0A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24576                                 M                                           ;REG=>[SP]
24577                                 M                                           ;"-4" FF,FF,FF,FC
24578                            7517             PUSH_REG1 R1
24579 00004E0C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24580                                 M                                           ;REG=>[SP]
24581                                 M                                           ;"-4" FF,FF,FF,FC
24582                            7518     
24583                            7519     
24584 00004E0E D108              7520             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24585 00004E10 6011              7521             MOV.W   @R1,R0                          ;
24586 00004E12 2008              7522             TST     R0,R0                           ;
24587                            7523             TST_BIT_ON ERR_INFO_DTIN1_EXT           ;
24588 00004E14 8B07                   M           BF      ERR_INFO_DTIN1_EXT
24589                            7524     
24590 00004E16 D107              7525             MOV.L   #_MODE_SEL,R1   ;
24591 00004E18 6011              7526             MOV.W   @R1,R0          ;
24592 00004E1A C804              7527             TST     #_W1SGL,R0      ;
24593                            7528             TST_BIT_OF ERR_INFO_DTIN1_EXT
24594 00004E1C 8903                   M           BT      ERR_INFO_DTIN1_EXT
24595                            7529     
24596 00004E1E D106              7530             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24597 00004E20 6012              7531             MOV.L   @R1,R0                                  ;
24598 00004E22 D106              7532             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C01,R1  ;
24599 00004E24 2102              7533             MOV.L   R0,@R1                                  ;
24600                            7534     
24601 00004E26                   7535     ERR_INFO_DTIN1_EXT:
24602                            7536     
24603                            7537             POP_REG1 R1
24604                                 M                                   ; RE"+4" 00,00,00,04
24605 00004E26 61F6                   M           MOV.L   @R15+,R1        ;
24606                            7538             POP_REG1 R0
24607                                 M                                   ; RE"+4" 00,00,00,04
24608 00004E28 60F6                   M           MOV.L   @R15+,R0        ;
24609                            7539             SUB_END
24610                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24611 00004E2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24612                            7540             M_RTS
24613 00004E2C 000B                   M           RTS                             ;RTSの後ろの
24614 00004E2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24615                            7541     
24616                            7542     
24617                            7543     ;       ***************************
24618                            7544     ;       ***     data 記憶       ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   333
PROGRAM NAME =

24619                            7545     ;       ***************************
24620                            7546     ;       (data-smp only)
24621                                     ***** BEGIN-POOL *****
24622 00004E30 00000000                   DATA FOR SOURCE-LINE 7520
24623 00004E34 00000000                   DATA FOR SOURCE-LINE 7525
24624 00004E38 00000000                   DATA FOR SOURCE-LINE 7530
24625 00004E3C 00000000                   DATA FOR SOURCE-LINE 7532
24626                                     ***** END-POOL *****
24627 00004E40                   7547             .ALIGN  4                               ;
24628 00004E40                   7548     _ERR_INFO_DT_IN2:
24629                            7549             SUB_START
24630 00004E40 4F22                   M           STS.L   PR,@-R15                ;[必要]
24631                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24632                            7550             PUSH_REG1 R0
24633 00004E42 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24634                                 M                                           ;REG=>[SP]
24635                                 M                                           ;"-4" FF,FF,FF,FC
24636                            7551             PUSH_REG1 R1
24637 00004E44 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24638                                 M                                           ;REG=>[SP]
24639                                 M                                           ;"-4" FF,FF,FF,FC
24640 00004E46 D10E              7552             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24641 00004E48 6011              7553             MOV.W   @R1,R0                          ;
24642 00004E4A 2008              7554             TST     R0,R0                           ;
24643                            7555             TST_BIT_ON ERR_INFO_DTIN2_EXT           ;
24644 00004E4C 8B13                   M           BF      ERR_INFO_DTIN2_EXT
24645                            7556     
24646 00004E4E D10D              7557             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24647 00004E50 6012              7558             MOV.L   @R1,R0                                  ;
24648 00004E52 D10D              7559             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C02,R1  ;
24649 00004E54 2102              7560             MOV.L   R0,@R1                                  ;
24650                            7561     
24651 00004E56 D10D              7562             MOV.L   #_LINK_PV_ABSPLS+4,R1           ;
24652 00004E58 6012              7563             MOV.L   @R1,R0                                  ;
24653 00004E5A D10D              7564             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C03,R1  ;
24654 00004E5C 2102              7565             MOV.L   R0,@R1                                  ;
24655                            7566     
24656 00004E5E D10D              7567             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
24657 00004E60 6012              7568             MOV.L   @R1,R0                                  ;
24658 00004E62 D10D              7569             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;
24659 00004E64 2102              7570             MOV.L   R0,@R1                                  ;
24660                            7571     
24661                            7572     
24662                            7573     ;       ----- 2010-10-25 ---------------
24663 00004E66 D10D              7574             MOV.L   #_LNGTH_ADD_DATA,R1                     ;
24664 00004E68 6012              7575             MOV.L   @R1,R0                                  ;
24665 00004E6A D10D              7576             MOV.L   #_CHK_ADD_DATA_LATCH,R1                 ;
24666 00004E6C 2102              7577             MOV.L   R0,@R1                                  ;
24667                            7578     
24668 00004E6E D109              7579             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
24669 00004E70 6012              7580             MOV.L   @R1,R0                                  ;
24670 00004E72 D10C              7581             MOV.L   #_CHK_ADD_DATA_LATCH+4,R1               ;
24671 00004E74 2102              7582             MOV.L   R0,@R1                                  ;
24672                            7583     
24673                            7584     
24674                            7585     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   334
PROGRAM NAME =

24675                            7586     
24676                            7587     
24677                            7588     
24678 00004E76                   7589     ERR_INFO_DTIN2_EXT
24679                            7590     
24680                            7591             POP_REG1 R1
24681                                 M                                   ; RE"+4" 00,00,00,04
24682 00004E76 61F6                   M           MOV.L   @R15+,R1        ;
24683                            7592             POP_REG1 R0
24684                                 M                                   ; RE"+4" 00,00,00,04
24685 00004E78 60F6                   M           MOV.L   @R15+,R0        ;
24686                            7593             SUB_END
24687                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24688 00004E7A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24689                            7594             M_RTS
24690 00004E7C 000B                   M           RTS                             ;RTSの後ろの
24691 00004E7E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24692                            7595     
24693                            7596     ;       ***************************
24694                            7597     ;       ***     data 記憶       ***
24695                            7598     ;       ***************************
24696                                     ***** BEGIN-POOL *****
24697 00004E80 00000000                   DATA FOR SOURCE-LINE 7552
24698 00004E84 00000000                   DATA FOR SOURCE-LINE 7557
24699 00004E88 00000000                   DATA FOR SOURCE-LINE 7559
24700 00004E8C 00000000                   DATA FOR SOURCE-LINE 7562
24701 00004E90 00000000                   DATA FOR SOURCE-LINE 7564
24702 00004E94 00000000                   DATA FOR SOURCE-LINE 7567,7579
24703 00004E98 00000000                   DATA FOR SOURCE-LINE 7569
24704 00004E9C 00000000                   DATA FOR SOURCE-LINE 7574
24705 00004EA0 00000000                   DATA FOR SOURCE-LINE 7576
24706 00004EA4 00000000                   DATA FOR SOURCE-LINE 7581
24707                                     ***** END-POOL *****
24708 00004EA8                   7599             .ALIGN  4                               ;
24709 00004EA8                   7600     _ERR_INFO_DT_IN2A:
24710                            7601             SUB_START
24711 00004EA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
24712                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24713                            7602             SUB_END
24714                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24715 00004EAA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24716                            7603             M_RTS
24717 00004EAC 000B                   M           RTS                             ;RTSの後ろの
24718 00004EAE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24719                            7604     
24720                            7605     ;       ***************************
24721                            7606     ;       ***     data 記憶       ***
24722                            7607     ;       ***************************
24723 00004EB0                   7608             .ALIGN  4                               ;
24724 00004EB0                   7609     _ERR_INFO_DT_IN3:
24725                            7610             SUB_START
24726 00004EB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
24727                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24728                            7611             PUSH_REG1 R0
24729 00004EB2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24730                                 M                                           ;REG=>[SP]
24731                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   335
PROGRAM NAME =

24732                            7612             PUSH_REG1 R1
24733 00004EB4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24734                                 M                                           ;REG=>[SP]
24735                                 M                                           ;"-4" FF,FF,FF,FC
24736 00004EB6 D106              7613             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24737 00004EB8 6011              7614             MOV.W   @R1,R0                          ;
24738 00004EBA 2008              7615             TST     R0,R0                           ;
24739                            7616             TST_BIT_ON ERR_INFO_DTIN3_EXT           ;
24740 00004EBC 8B03                   M           BF      ERR_INFO_DTIN3_EXT
24741                            7617     
24742 00004EBE D105              7618             MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1               ;
24743 00004EC0 6012              7619             MOV.L   @R1,R0                                  ;
24744 00004EC2 D105              7620             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C05,R1  ;
24745 00004EC4 2102              7621             MOV.L   R0,@R1                                  ;
24746                            7622     
24747 00004EC6                   7623     ERR_INFO_DTIN3_EXT
24748                            7624     
24749                            7625             POP_REG1 R1
24750                                 M                                   ; RE"+4" 00,00,00,04
24751 00004EC6 61F6                   M           MOV.L   @R15+,R1        ;
24752                            7626             POP_REG1 R0
24753                                 M                                   ; RE"+4" 00,00,00,04
24754 00004EC8 60F6                   M           MOV.L   @R15+,R0        ;
24755                            7627             SUB_END
24756                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24757 00004ECA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24758                            7628             M_RTS
24759 00004ECC 000B                   M           RTS                             ;RTSの後ろの
24760 00004ECE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24761                            7629     
24762                            7630     ;       ***********************************
24763                            7631     ;       ***     起動時の残りﾊﾟﾙｽ        ***
24764                            7632     ;       ***********************************
24765                                     ***** BEGIN-POOL *****
24766 00004ED0 00000000                   DATA FOR SOURCE-LINE 7613
24767 00004ED4 00000000                   DATA FOR SOURCE-LINE 7618
24768 00004ED8 00000000                   DATA FOR SOURCE-LINE 7620
24769                                     ***** END-POOL *****
24770 00004EDC                   7633             .ALIGN  4                               ;
24771 00004EDC                   7634     _ERR_INFO_DT_IN4:
24772                            7635             SUB_START
24773 00004EDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
24774                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24775                            7636             PUSH_REG1 R0
24776 00004EDE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24777                                 M                                           ;REG=>[SP]
24778                                 M                                           ;"-4" FF,FF,FF,FC
24779                            7637             PUSH_REG1 R1
24780 00004EE0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24781                                 M                                           ;REG=>[SP]
24782                                 M                                           ;"-4" FF,FF,FF,FC
24783 00004EE2 D10A              7638             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24784 00004EE4 6011              7639             MOV.W   @R1,R0                          ;
24785 00004EE6 2008              7640             TST     R0,R0                           ;
24786                            7641             TST_BIT_ON ERR_INFO_DTIN4_EXT           ;
24787 00004EE8 8B0A                   M           BF      ERR_INFO_DTIN4_EXT
24788                            7642     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   336
PROGRAM NAME =

24789 00004EEA D109              7643             MOV.L   #_MODE_SEL,R1   ;
24790 00004EEC 6011              7644             MOV.W   @R1,R0          ;
24791 00004EEE C804              7645             TST     #_W1SGL,R0      ;
24792                            7646             TST_BIT_OF ERR_INFO_DTIN4_EXT
24793 00004EF0 8906                   M           BT      ERR_INFO_DTIN4_EXT
24794                            7647     
24795                            7648     ;       ==========
24796                            7649             FAR_JSR #_LOAD_REST_PLS,R0              ;残りﾊﾟﾙｽ
24797 00004EF2 D008                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24798 00004EF4 400B                   M           JSR     @R0                     ;
24799 00004EF6 0009                   M           NOP                                     ;
24800 00004EF8 D107              7650             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1  ;
24801 00004EFA 2102              7651             MOV.L   R0,@R1                                  ;
24802 00004EFC D107              7652             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1  ;
24803 00004EFE 2102              7653             MOV.L   R0,@R1                                  ;
24804                            7654     
24805 00004F00                   7655     ERR_INFO_DTIN4_EXT:
24806                            7656             POP_REG1 R1
24807                                 M                                   ; RE"+4" 00,00,00,04
24808 00004F00 61F6                   M           MOV.L   @R15+,R1        ;
24809                            7657             POP_REG1 R0
24810                                 M                                   ; RE"+4" 00,00,00,04
24811 00004F02 60F6                   M           MOV.L   @R15+,R0        ;
24812                            7658             SUB_END
24813                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24814 00004F04 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24815                            7659             M_RTS
24816 00004F06 000B                   M           RTS                             ;RTSの後ろの
24817 00004F08 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24818                            7660     
24819                            7661     ;       ***********************************************************
24820                            7662     ;       ***     TOTAL,ADDが0であること                          ***
24821                            7663     ;       ***********************************************************
24822                                     ***** BEGIN-POOL *****
24823 00004F0A 0000                       ALIGNMENT CODE
24824 00004F0C 00000000                   DATA FOR SOURCE-LINE 7638
24825 00004F10 00000000                   DATA FOR SOURCE-LINE 7643
24826 00004F14 00000000                   DATA FOR SOURCE-LINE 7649
24827 00004F18 00000000                   DATA FOR SOURCE-LINE 7650
24828 00004F1C 00000000                   DATA FOR SOURCE-LINE 7652
24829                                     ***** END-POOL *****
24830 00004F20                   7664             .ALIGN  4                               ;
24831 00004F20                   7665     _ERR_INFO_DT_CHK1:
24832                            7666             SUB_START
24833 00004F20 4F22                   M           STS.L   PR,@-R15                ;[必要]
24834                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24835                            7667             PUSH_REG1 R0
24836 00004F22 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24837                                 M                                           ;REG=>[SP]
24838                                 M                                           ;"-4" FF,FF,FF,FC
24839                            7668             PUSH_REG1 R1
24840 00004F24 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24841                                 M                                           ;REG=>[SP]
24842                                 M                                           ;"-4" FF,FF,FF,FC
24843                            7669             PUSH_REG1 R2
24844 00004F26 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24845                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   337
PROGRAM NAME =

24846                                 M                                           ;"-4" FF,FF,FF,FC
24847                            7670             PUSH_REG1 R3
24848 00004F28 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
24849                                 M                                           ;REG=>[SP]
24850                                 M                                           ;"-4" FF,FF,FF,FC
24851                            7671     
24852 00004F2A D11B              7672             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24853 00004F2C 6011              7673             MOV.W   @R1,R0                          ;
24854 00004F2E 2008              7674             TST     R0,R0                           ;
24855                            7675             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
24856 00004F30 8B27                   M           BF      ERR_INFO_DTCHK1_EXT
24857                            7676     
24858 00004F32 D11A              7677             MOV.L   #_MODE_SEL,R1   ;
24859 00004F34 6011              7678             MOV.W   @R1,R0          ;
24860 00004F36 C804              7679             TST     #_W1SGL,R0      ;
24861                            7680             TST_BIT_OF ERR_INFO_DTCHK1_EXT
24862 00004F38 8923                   M           BT      ERR_INFO_DTCHK1_EXT
24863                            7681     
24864 00004F3A D019              7682             MOV.L   #_CPOS_CTL_MATH,R0              ;
24865 00004F3C 6001              7683             MOV.W   @R0,R0                          ;
24866 00004F3E C801              7684             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
24867                            7685             TST_BIT_OF ERR_INFO_DTCHK1_EXT
24868 00004F40 891F                   M           BT      ERR_INFO_DTCHK1_EXT
24869                            7686     
24870                            7687     ;       -------------2011-09-14---------------
24871 00004F42 D118              7688             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
24872 00004F44 6011              7689             MOV.W   @R1,R0                          ;
24873 00004F46 C801              7690             TST     #BIT0,R0                        ;
24874                            7691             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
24875 00004F48 8B1B                   M           BF      ERR_INFO_DTCHK1_EXT
24876                            7692     
24877                            7693     
24878 00004F4A D117              7694             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
24879 00004F4C 6011              7695             MOV.W   @R1,R0                                          ;
24880                            7696     
24881                            7697             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
24882 00004F4E D117                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
24883 00004F50 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24884 00004F52 6312                   M           MOV.L   @R1,R3                  ;LOW
24885 00004F54 211A                   M           XOR     R1,R1                   ;
24886 00004F56 223B                   M           OR      R3,R2                   ;
24887 00004F58 2228                   M           TST     R2,R2                   ;
24888                                 M           TST_BIT_OF JMP0100016           ;ZERO
24889 00004F5A 8900                   M           BT      JMP0100016
24890 00004F5C 9118                   M           MOV.W   #BIT0,R1                ;
24891 00004F5E                        M   JMP0100016                                      ;
24892 00004F5E 201B              7698             OR      R1,R0                                           ;
24893                            7699     
24894                            7700             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
24895 00004F60 D113                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
24896 00004F62 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24897 00004F64 6312                   M           MOV.L   @R1,R3                  ;LOW
24898 00004F66 211A                   M           XOR     R1,R1                   ;
24899 00004F68 223B                   M           OR      R3,R2                   ;
24900 00004F6A 2228                   M           TST     R2,R2                   ;
24901                                 M           TST_BIT_OF JMP0100017           ;ZERO
24902 00004F6C 8900                   M           BT      JMP0100017
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   338
PROGRAM NAME =

24903 00004F6E 9110                   M           MOV.W   #BIT1,R1                ;
24904 00004F70                        M   JMP0100017                                      ;
24905 00004F70 201B              7701             OR      R1,R0                                           ;
24906                            7702     
24907                            7703             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
24908 00004F72 D110                   M           MOV.L   #_OUTPLS_MOD,R1 ;
24909 00004F74 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24910 00004F76 211A                   M           XOR     R1,R1                   ;
24911 00004F78 2228                   M           TST     R2,R2                   ;
24912                                 M           TST_BIT_OF JMP0100018           ;ZERO
24913 00004F7A 8900                   M           BT      JMP0100018
24914 00004F7C 910A                   M           MOV.W   #BIT2,R1                ;
24915 00004F7E                        M   JMP0100018                                      ;
24916                            7704     
24917 00004F7E D10A              7705             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
24918 00004F80 2101              7706             MOV.W   R0,@R1                                          ;
24919 00004F82                   7707     ERR_INFO_DTCHK1_EXT:
24920                            7708     
24921                            7709             POP_REG1 R3
24922                                 M                                   ; RE"+4" 00,00,00,04
24923 00004F82 63F6                   M           MOV.L   @R15+,R3        ;
24924                            7710             POP_REG1 R2
24925                                 M                                   ; RE"+4" 00,00,00,04
24926 00004F84 62F6                   M           MOV.L   @R15+,R2        ;
24927                            7711             POP_REG1 R1
24928                                 M                                   ; RE"+4" 00,00,00,04
24929 00004F86 61F6                   M           MOV.L   @R15+,R1        ;
24930                            7712             POP_REG1 R0
24931                                 M                                   ; RE"+4" 00,00,00,04
24932 00004F88 60F6                   M           MOV.L   @R15+,R0        ;
24933                            7713     
24934                            7714     
24935                            7715             SUB_END
24936                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24937 00004F8A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24938                            7716             M_RTS
24939 00004F8C 000B                   M           RTS                             ;RTSの後ろの
24940 00004F8E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24941                            7717     
24942                            7718     ;       ***********************************************************
24943                            7719     ;       ***     TOTAL,ADDが0であること                          ***
24944                            7720     ;       ***********************************************************
24945                            7721     ;       SGL
24946                                     ***** BEGIN-POOL *****
24947 00004F90 0001                       DATA FOR SOURCE-LINE 7697
24948 00004F92 0002                       DATA FOR SOURCE-LINE 7700
24949 00004F94 0004                       DATA FOR SOURCE-LINE 7703
24950 00004F96 0000                       ALIGNMENT CODE
24951 00004F98 00000000                   DATA FOR SOURCE-LINE 7672
24952 00004F9C 00000000                   DATA FOR SOURCE-LINE 7677
24953 00004FA0 00000000                   DATA FOR SOURCE-LINE 7682
24954 00004FA4 00000000                   DATA FOR SOURCE-LINE 7688
24955 00004FA8 00000000                   DATA FOR SOURCE-LINE 7694,7705
24956 00004FAC 00000000                   DATA FOR SOURCE-LINE 7697
24957 00004FB0 00000000                   DATA FOR SOURCE-LINE 7700
24958 00004FB4 00000000                   DATA FOR SOURCE-LINE 7703
24959                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   339
PROGRAM NAME =

24960 00004FB8                   7722             .ALIGN  4                               ;
24961 00004FB8                   7723     _ERR_INFO_DT_CHK2:
24962                            7724             SUB_START
24963 00004FB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
24964                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24965                            7725             PUSH_REG1 R0
24966 00004FBA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24967                                 M                                           ;REG=>[SP]
24968                                 M                                           ;"-4" FF,FF,FF,FC
24969                            7726             PUSH_REG1 R1
24970 00004FBC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24971                                 M                                           ;REG=>[SP]
24972                                 M                                           ;"-4" FF,FF,FF,FC
24973                            7727             PUSH_REG1 R2
24974 00004FBE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24975                                 M                                           ;REG=>[SP]
24976                                 M                                           ;"-4" FF,FF,FF,FC
24977                            7728             PUSH_REG1 R3
24978 00004FC0 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
24979                                 M                                           ;REG=>[SP]
24980                                 M                                           ;"-4" FF,FF,FF,FC
24981                            7729     
24982                            7730     
24983                            7731     
24984 00004FC2 D129              7732             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24985 00004FC4 6011              7733             MOV.W   @R1,R0                          ;
24986 00004FC6 2008              7734             TST     R0,R0                           ;
24987                            7735             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
24988 00004FC8 8B6F                   M           BF      ERR_INFO_DTCHK2_EXT
24989                            7736     
24990 00004FCA D128              7737             MOV.L   #_MODE_SEL,R1                   ;
24991 00004FCC 6011              7738             MOV.W   @R1,R0                          ;
24992 00004FCE C804              7739             TST     #_W1SGL,R0                      ;
24993                            7740             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
24994 00004FD0 896B                   M           BT      ERR_INFO_DTCHK2_EXT
24995                            7741     
24996 00004FD2 D027              7742             MOV.L   #_CPOS_CTL_MATH,R0              ;
24997 00004FD4 6001              7743             MOV.W   @R0,R0                          ;
24998                            7744     ;;;;2010-10-25  TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
24999 00004FD6 C805              7745             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2010-10-25 回転+ふりこ
25000                            7746             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
25001 00004FD8 8967                   M           BT      ERR_INFO_DTCHK2_EXT
25002                            7747     
25003                            7748     ;       -------------2011-09-14---------------
25004 00004FDA D126              7749             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
25005 00004FDC 6011              7750             MOV.W   @R1,R0                          ;
25006 00004FDE C801              7751             TST     #BIT0,R0                        ;
25007                            7752             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
25008 00004FE0 8B63                   M           BF      ERR_INFO_DTCHK2_EXT
25009                            7753     
25010                            7754     
25011 00004FE2 D125              7755             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25012 00004FE4 6011              7756             MOV.W   @R1,R0                                          ;
25013                            7757     
25014                            7758             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
25015 00004FE6 D125                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
25016 00004FE8 6216                   M           MOV.L   @R1+,R2                 ;HIGH
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   340
PROGRAM NAME =

25017 00004FEA 6312                   M           MOV.L   @R1,R3                  ;LOW
25018 00004FEC 211A                   M           XOR     R1,R1                   ;
25019 00004FEE 223B                   M           OR      R3,R2                   ;
25020 00004FF0 2228                   M           TST     R2,R2                   ;
25021                                 M           TST_BIT_OF JMP0100019           ;ZERO
25022 00004FF2 8900                   M           BT      JMP0100019
25023 00004FF4 9133                   M           MOV.W   #BIT0,R1                ;
25024 00004FF6                        M   JMP0100019                                      ;
25025 00004FF6 201B              7759             OR      R1,R0                                           ;
25026                            7760     
25027                            7761             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
25028 00004FF8 D121                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
25029 00004FFA 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25030 00004FFC 6312                   M           MOV.L   @R1,R3                  ;LOW
25031 00004FFE 211A                   M           XOR     R1,R1                   ;
25032 00005000 223B                   M           OR      R3,R2                   ;
25033 00005002 2228                   M           TST     R2,R2                   ;
25034                                 M           TST_BIT_OF JMP0100020           ;ZERO
25035 00005004 8900                   M           BT      JMP0100020
25036 00005006 912B                   M           MOV.W   #BIT1,R1                ;
25037 00005008                        M   JMP0100020                                      ;
25038 00005008 201B              7762             OR      R1,R0                                           ;
25039                            7763     
25040                            7764             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
25041 0000500A D11E                   M           MOV.L   #_OUTPLS_MOD,R1 ;
25042 0000500C 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25043 0000500E 211A                   M           XOR     R1,R1                   ;
25044 00005010 2228                   M           TST     R2,R2                   ;
25045                                 M           TST_BIT_OF JMP0100021           ;ZERO
25046 00005012 8900                   M           BT      JMP0100021
25047 00005014 9125                   M           MOV.W   #BIT2,R1                ;
25048 00005016                        M   JMP0100021                                      ;
25049                            7765     
25050 00005016 D118              7766             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25051 00005018 2101              7767             MOV.W   R0,@R1                                          ;
25052                            7768     
25053                            7769     ;       ==== ADD DATA CHK ===
25054 0000501A D11B              7770             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD_
25055 0000501C 6212              7771             MOV.L   @R1,R2                                  ;
25056 0000501E 4211              7772             CMP/PZ  R2                                      ;
25057 00005020 8900              7773             BT      ERR_INFO_DTCHK2_050                     ;
25058 00005022 622B              7774             NEG     R2,R2
25059 00005024                   7775     ERR_INFO_DTCHK2_050:
25060                            7776     
25061 00005024 D119              7777             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
25062 00005026 6012              7778             MOV.L   @R1,R0                                  ;
25063 00005028 911C              7779             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
25064 0000502A 301C              7780             ADD     R1,R0                                   ;1ROT-PLS+2000
25065 0000502C 3022              7781             CMP/HS  R2,R0                                   ;
25066 0000502E 8903              7782             BT      ERR_INFO_DTCHK2_100                     ;1ROT以下
25067                            7783             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
25068 00005030 D111                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25069 00005032 6011                   M           MOV.W   @R1,R0          ;
25070 00005034 CB10                   M           OR      #BIT4,R0                ;
25071 00005036 2101                   M           MOV.W   R0,@R1          ;
25072 00005038                   7784     ERR_INFO_DTCHK2_100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   341
PROGRAM NAME =

25073                            7785     
25074                            7786     ;       =====もう一個チェックが必要[2010-10-26] ふりこ時の対策 化け方が0000,0000,FFF,FFFF[
                                          +]====
25075 00005038 D315              7787             MOV.L   #_CHK_ADD_DATA_LATCH,R3         ;
25076 0000503A 6136              7788             MOV.L   @R3+,R1                         ;
25077 0000503C 6232              7789             MOV.L   @R3,R2                          ;
25078 0000503E 4111              7790             CMP/PZ  R1                              ;
25079 00005040 8905              7791             BT      ERR_INFO_DTCHK2_150             ;
25080                            7792             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;
25081 00005042 6227                   M           NOT     R2,R2                           ;
25082 00005044 6117                   M           NOT     R1,R1                           ;
25083 00005046 200A                   M           XOR     R0,R0                           ;
25084 00005048 0018                   M           SETT
25085 0000504A 320E                   M           ADDC    R0,R2                           ;0+1+R2
25086 0000504C 310E                   M           ADDC    R0,R1                           ;
25087 0000504E                   7793     ERR_INFO_DTCHK2_150:
25088 0000504E 2118              7794             TST     R1,R1                           ;
25089                            7795             TST_BIT_OF ERR_INFO_DTCHK2_200          ;
25090 00005050 8920                   M           BT      ERR_INFO_DTCHK2_200
25091                            7796             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
25092 00005052 D109                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25093 00005054 6011                   M           MOV.W   @R1,R0          ;
25094 00005056 CB10                   M           OR      #BIT4,R0                ;
25095 00005058 2101                   M           MOV.W   R0,@R1          ;
25096                            7797             M_BRA   ERR_INFO_DTCHK2_300             ;
25097 0000505A A025                   M           BRA     ERR_INFO_DTCHK2_300
25098 0000505C 0009                   M           NOP
25099                            7798     
25100                                     ***** BEGIN-POOL *****
25101 0000505E 0001                       DATA FOR SOURCE-LINE 7758
25102 00005060 0002                       DATA FOR SOURCE-LINE 7761
25103 00005062 0004                       DATA FOR SOURCE-LINE 7764
25104 00005064 07D0                       DATA FOR SOURCE-LINE 7779
25105 00005066 0000                       ALIGNMENT CODE
25106 00005068 00000000                   DATA FOR SOURCE-LINE 7732
25107 0000506C 00000000                   DATA FOR SOURCE-LINE 7737
25108 00005070 00000000                   DATA FOR SOURCE-LINE 7742
25109 00005074 00000000                   DATA FOR SOURCE-LINE 7749
25110 00005078 00000000                   DATA FOR SOURCE-LINE 7755,7766,7783,7796
25111 0000507C 00000000                   DATA FOR SOURCE-LINE 7758
25112 00005080 00000000                   DATA FOR SOURCE-LINE 7761
25113 00005084 00000000                   DATA FOR SOURCE-LINE 7764
25114 00005088 00000000                   DATA FOR SOURCE-LINE 7770
25115 0000508C 00000000                   DATA FOR SOURCE-LINE 7777
25116 00005090 00000000                   DATA FOR SOURCE-LINE 7787
25117                                     ***** END-POOL *****
25118 00005094                   7799     ERR_INFO_DTCHK2_200:
25119 00005094 D109              7800             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
25120 00005096 6012              7801             MOV.L   @R1,R0                                  ;
25121 00005098 910E              7802             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
25122 0000509A 301C              7803             ADD     R1,R0                                   ;1ROT-PLS+2000
25123 0000509C 3022              7804             CMP/HS  R2,R0                                   ;
25124 0000509E 8903              7805             BT      ERR_INFO_DTCHK2_300                     ;1ROT以下
25125                            7806             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
25126 000050A0 D107                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   342
PROGRAM NAME =

25127 000050A2 6011                   M           MOV.W   @R1,R0          ;
25128 000050A4 CB10                   M           OR      #BIT4,R0                ;
25129 000050A6 2101                   M           MOV.W   R0,@R1          ;
25130 000050A8                   7807     ERR_INFO_DTCHK2_300:
25131 000050A8 0009              7808             NOP
25132                            7809     
25133                            7810     
25134                            7811     
25135 000050AA                   7812     ERR_INFO_DTCHK2_EXT:
25136                            7813     
25137                            7814     
25138                            7815             POP_REG1 R3
25139                                 M                                   ; RE"+4" 00,00,00,04
25140 000050AA 63F6                   M           MOV.L   @R15+,R3        ;
25141                            7816             POP_REG1 R2
25142                                 M                                   ; RE"+4" 00,00,00,04
25143 000050AC 62F6                   M           MOV.L   @R15+,R2        ;
25144                            7817             POP_REG1 R1
25145                                 M                                   ; RE"+4" 00,00,00,04
25146 000050AE 61F6                   M           MOV.L   @R15+,R1        ;
25147                            7818             POP_REG1 R0
25148                                 M                                   ; RE"+4" 00,00,00,04
25149 000050B0 60F6                   M           MOV.L   @R15+,R0        ;
25150                            7819             SUB_END
25151                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25152 000050B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25153                            7820             M_RTS
25154 000050B4 000B                   M           RTS                             ;RTSの後ろの
25155 000050B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25156                            7821     
25157                            7822     ;       *******************************************
25158                            7823     ;       ***     CHEAK ﾚｽﾄﾊﾟﾙｽが減ること/        ***
25159                            7824     ;       *******************************************
25160                                     ***** BEGIN-POOL *****
25161 000050B8 07D0                       DATA FOR SOURCE-LINE 7802
25162 000050BA 0000                       ALIGNMENT CODE
25163 000050BC 00000000                   DATA FOR SOURCE-LINE 7800
25164 000050C0 00000000                   DATA FOR SOURCE-LINE 7806
25165                                     ***** END-POOL *****
25166 000050C4                   7825             .ALIGN  4                               ;
25167 000050C4                   7826     _ERR_INFO_DT_CHK3:
25168                            7827             SUB_START
25169 000050C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
25170                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25171                            7828     
25172 000050C6 D10C              7829             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25173 000050C8 6011              7830             MOV.W   @R1,R0                          ;
25174 000050CA 2008              7831             TST     R0,R0                           ;
25175                            7832             TST_BIT_ON ERR_INFO_DTCHK3_EXT                  ;
25176 000050CC 8B68                   M           BF      ERR_INFO_DTCHK3_EXT
25177                            7833     
25178 000050CE D10B              7834             MOV.L   #_MODE_SEL,R1                           ;
25179 000050D0 6011              7835             MOV.W   @R1,R0                                  ;
25180 000050D2 C804              7836             TST     #_W1SGL,R0                              ;
25181                            7837             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
25182 000050D4 8964                   M           BT      ERR_INFO_DTCHK3_EXT
25183                            7838     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   343
PROGRAM NAME =

25184 000050D6 D00A              7839             MOV.L   #_CPOS_CTL_MATH,R0              ;
25185 000050D8 6001              7840             MOV.W   @R0,R0                          ;
25186 000050DA C801              7841             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
25187                            7842             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
25188 000050DC 8960                   M           BT      ERR_INFO_DTCHK3_EXT
25189                            7843     
25190                            7844     ;       -------------2011-09-14---------------
25191 000050DE D109              7845             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
25192 000050E0 6011              7846             MOV.W   @R1,R0                          ;
25193 000050E2 C801              7847             TST     #BIT0,R0                        ;
25194                            7848             TST_BIT_ON ERR_INFO_DTCHK3_EXT          ;
25195 000050E4 8B5C                   M           BF      ERR_INFO_DTCHK3_EXT
25196                            7849     
25197                            7850     
25198 000050E6 D108              7851             MOV.L   #_ERR_INFO_DLY_TIM,R1                           ;
25199 000050E8 6011              7852             MOV.W   @R1,R0                                          ;
25200 000050EA 2008              7853             TST     R0,R0                                           ;
25201                            7854             TST_BIT_OF ERR_INFO_DTCHK3_050                          ;
25202 000050EC 890E                   M           BT      ERR_INFO_DTCHK3_050
25203 000050EE 70FF              7855             ADD     #-1,R0                                          ;
25204 000050F0 2101              7856             MOV.W   R0,@R1                                          ;
25205                            7857             M_BRA   ERR_INFO_DTCHK3_EXT                             ;(ﾚｽﾄﾊﾟﾙｽが安定しないので
                                          その判断はしない)
25206 000050F2 A055                   M           BRA     ERR_INFO_DTCHK3_EXT
25207 000050F4 0009                   M           NOP
25208                            7858     
25209                                     ***** BEGIN-POOL *****
25210 000050F6 0000                       ALIGNMENT CODE
25211 000050F8 00000000                   DATA FOR SOURCE-LINE 7829
25212 000050FC 00000000                   DATA FOR SOURCE-LINE 7834
25213 00005100 00000000                   DATA FOR SOURCE-LINE 7839
25214 00005104 00000000                   DATA FOR SOURCE-LINE 7845
25215 00005108 00000000                   DATA FOR SOURCE-LINE 7851
25216                                     ***** END-POOL *****
25217 0000510C                   7859     ERR_INFO_DTCHK3_050:                                            ;
25218                            7860     
25219                            7861             FAR_JSR #_LOAD_REST_PLS,R0                              ;残りﾊﾟﾙｽ
25220 0000510C D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25221 0000510E 400B                   M           JSR     @R0                     ;
25222 00005110 0009                   M           NOP                                     ;
25223 00005112 D126              7862             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
25224 00005114 6312              7863             MOV.L   @R1,R3                                          ;
25225 00005116 2102              7864             MOV.L   R0,@R1                                          ;NOW =< OLD
25226 00005118 D125              7865             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C08,R1          ;
25227 0000511A 2132              7866             MOV.L   R3,@R1                                          ;OLD SAVE
25228                            7867     
25229 0000511C 3302              7868             CMP/HS  R0,R3                                           ;
25230 0000511E 890F              7869             BT      ERR_INFO_DTCHK3_100                             ;
25231                            7870     
25232                            7871             PUSH_REG1 R0                                            ;
25233 00005120 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25234                                 M                                           ;REG=>[SP]
25235                                 M                                           ;"-4" FF,FF,FF,FC
25236 00005122 D124              7872             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B03,R1          ;
25237 00005124 6211              7873             MOV.W   @R1,R2                                          ;
25238 00005126 7201              7874             ADD     #1,R2                                           ;
25239 00005128 2121              7875             MOV.W   R2,@R1                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   344
PROGRAM NAME =

25240                            7876     
25241 0000512A 3038              7877             SUB     R3,R0                                           ;DELT
25242 0000512C D122              7878             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B04,R1          ;増分
25243 0000512E 6211              7879             MOV.W   @R1,R2                                          ;
25244 00005130 3022              7880             CMP/HS  R2,R0                                           ;R2<R0
25245 00005132 8B00              7881             BF      ERR_INFO_DTCHK3_060                             ;NO R2 > R0
25246 00005134 2101              7882             MOV.W   R0,@R1                                          ;MAX REFLASH
25247 00005136                   7883     ERR_INFO_DTCHK3_060:                                            ;
25248                            7884     
25249                            7885             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT0,WKREG
                                          =R1 ;//位置増加
25250 00005136 D121                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25251 00005138 6011                   M           MOV.W   @R1,R0          ;
25252 0000513A CB01                   M           OR      #BIT0,R0                ;
25253 0000513C 2101                   M           MOV.W   R0,@R1          ;
25254                            7886     
25255                            7887             POP_REG1 R0                                             ;
25256                                 M                                   ; RE"+4" 00,00,00,04
25257 0000513E 60F6                   M           MOV.L   @R15+,R0        ;
25258 00005140                   7888     ERR_INFO_DTCHK3_100:                                            ;
25259                            7889     
25260                            7890     ;       ==== 起動時のRESETより生のﾊﾟﾙｽは小さいか===
25261                            7891     ;       R0:読み出したパルス
25262                            7892     
25263 00005140 D11F              7893             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1          ;
25264 00005142 6212              7894             MOV.L   @R1,R2                                          ;
25265 00005144 7201              7895             ADD     #1,R2                                           ;
25266 00005146 3202              7896             CMP/HS  R0,R2                                           ;
25267 00005148 8907              7897             BT      ERR_INFO_DTCHK3_200                             ;起動時より増えていない
25268                            7898     
25269 0000514A D11E              7899             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B05,R1          ;
25270 0000514C 6011              7900             MOV.W   @R1,R0                                          ;
25271 0000514E 7001              7901             ADD     #1,R0                                           ;
25272 00005150 2101              7902             MOV.W   R0,@R1                                          ;
25273                            7903     
25274                            7904             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT1,WKREG
                                          =R1 ;//
25275 00005152 D11A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25276 00005154 6011                   M           MOV.W   @R1,R0          ;
25277 00005156 CB02                   M           OR      #BIT1,R0                ;
25278 00005158 2101                   M           MOV.W   R0,@R1          ;
25279                            7905     
25280 0000515A                   7906     ERR_INFO_DTCHK3_200:
25281                            7907     
25282                            7908     ;       ==== 起動時のADDより生ﾊﾟﾙｽは小さいか===
25283 0000515A D114              7909             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
25284 0000515C 6212              7910             MOV.L   @R1,R2                                          ;
25285                            7911     
25286 0000515E D11A              7912             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD-PLS
25287 00005160 6012              7913             MOV.L   @R1,R0                                  ;
25288 00005162 4011              7914             CMP/PZ  R0                                      ;
25289 00005164 8900              7915             BT      ERR_INFO_DTCHK3_220                     ;
25290 00005166 600B              7916             NEG     R0,R0                                   ;
25291 00005168                   7917     ERR_INFO_DTCHK3_220:                                    ;
25292 00005168 7001              7918             ADD     #1,R0                                   ;
25293 0000516A 3022              7919             CMP/HS  R2,R0                                   ;R2<R0
25294 0000516C 8907              7920             BT      ERR_INFO_DTCHK3_300                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   345
PROGRAM NAME =

25295                            7921     
25296                            7922             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT2,WKREG
                                          =R1 ;//
25297 0000516E D113                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25298 00005170 6011                   M           MOV.W   @R1,R0          ;
25299 00005172 CB04                   M           OR      #BIT2,R0                ;
25300 00005174 2101                   M           MOV.W   R0,@R1          ;
25301                            7923     
25302 00005176 D115              7924             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B06,R1          ;
25303 00005178 6011              7925             MOV.W   @R1,R0                                          ;
25304 0000517A 7001              7926             ADD     #1,R0                                           ;
25305 0000517C 2101              7927             MOV.W   R0,@R1                                          ;
25306                            7928     
25307                            7929     
25308 0000517E                   7930     ERR_INFO_DTCHK3_300:
25309                            7931     
25310                            7932     ;       ==== ｱｸｾｽ不正異常 =====
25311 0000517E 9312              7933             MOV.W   #D'10,R3                ;
25312 00005180 222A              7934             XOR     R2,R2                   ;
25313 00005182 D113              7935             MOV.L   #_ACCESS_ERR1,R1        ;
25314 00005184                   7936     ERR_INFO_DTCHK3_350:
25315 00005184 6016              7937             MOV.L   @R1+,R0                 ;
25316 00005186 220B              7938             OR      R0,R2                   ;
25317 00005188 73FF              7939             ADD     #-1,R3                  ;
25318 0000518A 2338              7940             TST     R3,R3                   ;
25319                            7941             TST_BIT_ON ERR_INFO_DTCHK3_350  ;
25320 0000518C 8BFA                   M           BF      ERR_INFO_DTCHK3_350
25321 0000518E 2228              7942             TST     R2,R2                   ;
25322                            7943             TST_BIT_OF ERR_INFO_DTCHK3_380  ;
25323 00005190 8903                   M           BT      ERR_INFO_DTCHK3_380
25324                            7944             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT3,WKREG
                                          =R1 ;//(不正ｱｸｾｽ有り)
25325 00005192 D10A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25326 00005194 6011                   M           MOV.W   @R1,R0          ;
25327 00005196 CB08                   M           OR      #BIT3,R0                ;
25328 00005198 2101                   M           MOV.W   R0,@R1          ;
25329 0000519A                   7945     ERR_INFO_DTCHK3_380:
25330                            7946     
25331                            7947     
25332                            7948     ;       ==== REST PLS ﾁｪｯｸ(別次元かな)====
25333                            7949             FAR_JSR #_ERR_INFO_DT_CHK3X,R0          ;OVER
25334 0000519A D00E                   M           MOV.L   #_ERR_INFO_DT_CHK3X,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25335 0000519C 400B                   M           JSR     @R0                     ;
25336 0000519E 0009                   M           NOP                                     ;
25337                            7950     
25338                            7951     
25339 000051A0                   7952     ERR_INFO_DTCHK3_EXT:
25340                            7953     
25341                            7954             SUB_END
25342                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25343 000051A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25344                            7955             M_RTS
25345 000051A2 000B                   M           RTS                             ;RTSの後ろの
25346 000051A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25347                            7956     
25348                            7957     ;       ***************************************************
25349                            7958     ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   346
PROGRAM NAME =

25350                            7959     ;       ***     目標位置+2000＜現在位置+RESETPULS       ***
25351                            7960     ;       ***     注意 REST-PLSは20msec後から読み出す     ***
25352                            7961     ;       ***                                             ***
25353                            7962     ;       ***************************************************
25354                                     ***** BEGIN-POOL *****
25355 000051A6 000A                       DATA FOR SOURCE-LINE 7933
25356 000051A8 00000000                   DATA FOR SOURCE-LINE 7861
25357 000051AC 00000000                   DATA FOR SOURCE-LINE 7862,7909
25358 000051B0 00000000                   DATA FOR SOURCE-LINE 7865
25359 000051B4 00000000                   DATA FOR SOURCE-LINE 7872
25360 000051B8 00000000                   DATA FOR SOURCE-LINE 7878
25361 000051BC 00000000                   DATA FOR SOURCE-LINE 7885,7904,7922,7944
25362 000051C0 00000000                   DATA FOR SOURCE-LINE 7893
25363 000051C4 00000000                   DATA FOR SOURCE-LINE 7899
25364 000051C8 00000000                   DATA FOR SOURCE-LINE 7912
25365 000051CC 00000000                   DATA FOR SOURCE-LINE 7924
25366 000051D0 00000000                   DATA FOR SOURCE-LINE 7935
25367 000051D4 00000000                   DATA FOR SOURCE-LINE 7949
25368                                     ***** END-POOL *****
25369 000051D8                   7963             .ALIGN  4                               ;
25370 000051D8                   7964     _ERR_INFO_DT_CHK3X:
25371                            7965             SUB_START
25372 000051D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
25373                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25374                            7966     
25375 000051DA D103              7967             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
25376 000051DC 6011              7968             MOV.W   @R1,R0                  ;
25377 000051DE C801              7969             TST     #BIT0,R0                ;
25378                            7970             TST_BIT_OF ERR_INFO_DTCHK3X_100 ;
25379 000051E0 8904                   M           BT      ERR_INFO_DTCHK3X_100
25380                            7971             M_BRA   ERR_INFO_DTCHK3X_200    ;
25381 000051E2 A02F                   M           BRA     ERR_INFO_DTCHK3X_200
25382 000051E4 0009                   M           NOP
25383                            7972     ;       ==== 正転運転 =====
25384                                     ***** BEGIN-POOL *****
25385 000051E6 0000                       ALIGNMENT CODE
25386 000051E8 00000000                   DATA FOR SOURCE-LINE 7967
25387                                     ***** END-POOL *****
25388 000051EC                   7973     ERR_INFO_DTCHK3X_100:
25389                            7974             FAR_JSR #_LOAD_REST_PLS,R0                      ;残りﾊﾟﾙｽ R0
25390 000051EC D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25391 000051EE 400B                   M           JSR     @R0                     ;
25392 000051F0 0009                   M           NOP                                     ;
25393                            7975     
25394 000051F2 D110              7976             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
25395 000051F4 6216              7977             MOV.L   @R1+,R2                                 ;
25396 000051F6 6312              7978             MOV.L   @R1,R3                                  ;
25397 000051F8 211A              7979             XOR     R1,R1
25398 000051FA 9418              7980             MOV.W   #_PLS_ERR_HABPLS1,R4                    ;2000
25399                            7981             ADD8B DT_REGH=R1,DT_REGL=R4,DT_ANS_REGH=R2,DT_ANS_REGL=R3       ;OBJ+2000=R2,R3
25400 000051FC 0008                   M           CLRT
25401 000051FE 334E                   M           ADDC    R4,R3
25402 00005200 321E                   M           ADDC    R1,R2
25403                            7982     
25404                            7983     ;;;     MOV.L   #_LINK_RL_OBJ_ABSPLS,R1                                 ;
25405 00005202 D10D              7984             MOV.L   #_LINK_PV_ABSPLS,R1                                     ;20060919
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   347
PROGRAM NAME =

25406 00005204 6416              7985             MOV.L   @R1+,R4                                                 ;
25407 00005206 6512              7986             MOV.L   @R1,R5                                                  ;
25408 00005208 211A              7987             XOR     R1,R1                                                   ;R1,R0(残りﾊﾟﾙｽ)
25409                            7988             ADD8B DT_REGH=R1,DT_REGL=R0,DT_ANS_REGH=R4,DT_ANS_REGL=R5       ;PV+REST=R4,R5
25410 0000520A 0008                   M           CLRT
25411 0000520C 350E                   M           ADDC    R0,R5
25412 0000520E 341E                   M           ADDC    R1,R4
25413                            7989     
25414                            7990             SUB8B DT_REGH=R4,DT_REGL=R5,DT_ANS_REGH=R2,DT_ANS_REGL=R3
25415 00005210 0008                   M           CLRT
25416 00005212 335A                   M           SUBC    R5,R3
25417 00005214 324A                   M           SUBC    R4,R2
25418                            7991     ;       R2,R3 - R4,R5= R2,R3 >=0 THEN NOMAL
25419 00005216 4211              7992             CMP/PZ  R2                      ;
25420 00005218 8914              7993             BT      ERR_INFO_DTCHK3X_300    ;
25421                            7994     ;       === "-" ===
25422                            7995             .AIF    0 EQ    0
25423                            7996 C           MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//OVER-RUN
25424 0000521A D108                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25425 0000521C 6011                   M           MOV.W   @R1,R0          ;
25426 0000521E CB10                   M           OR      #BIT4,R0                ;
25427 00005220 2101                   M           MOV.W   R0,@R1          ;
25428                            7997             .AELSE
25429                            7998             .AENDI
25430 00005222 D107              7999             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B07,R1          ;
25431 00005224 6011              8000             MOV.W   @R1,R0                                          ;
25432 00005226 7001              8001             ADD     #1,R0                                           ;
25433 00005228 2101              8002             MOV.W   R0,@R1                                          ;
25434                            8003     
25435                            8004             M_BRA   ERR_INFO_DTCHK3X_300    ;
25436 0000522A A00B                   M           BRA     ERR_INFO_DTCHK3X_300
25437 0000522C 0009                   M           NOP
25438                            8005     ;       ==== 逆転運転 =====
25439                                     ***** BEGIN-POOL *****
25440 0000522E 07D0                       DATA FOR SOURCE-LINE 7980
25441 00005230 00000000                   DATA FOR SOURCE-LINE 7974
25442 00005234 00000000                   DATA FOR SOURCE-LINE 7976
25443 00005238 00000000                   DATA FOR SOURCE-LINE 7984
25444 0000523C 00000000                   DATA FOR SOURCE-LINE 7996
25445 00005240 00000000                   DATA FOR SOURCE-LINE 7999
25446                                     ***** END-POOL *****
25447 00005244                   8006     ERR_INFO_DTCHK3X_200:
25448 00005244                   8007     ERR_INFO_DTCHK3X_300:
25449                            8008     
25450                            8009             SUB_END
25451                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25452 00005244 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25453                            8010             M_RTS
25454 00005246 000B                   M           RTS                             ;RTSの後ろの
25455 00005248 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25456                            8011     
25457                            8012     ;       ***********************************
25458                            8013     ;       ***                             ***
25459                            8014     ;       ***     残りﾊﾟﾙｽﾁｪｯｸ            ***
25460                            8015     ;       ***     二重回路                ***
25461                            8016     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   348
PROGRAM NAME =

25462                            8017     ;       ***********************************
25463                            8018             .MACRO REST_PLSCMP2_ERRCHK1 REG1,REG2,IMD,ERRBIT        ;
25464                            8019             XOR     R0,R0                                           ;
25465                            8020             SUB     \REG1,\REG2                                     ;
25466                            8021             CMP/PZ  \REG2                                           ;
25467                            8022             BT      JMP01\@                                         ;DATA=<MAX
25468                            8023             NEG     \REG2,\REG2                                     ;
25469                            8024     JMP01\@:                                                        ;
25470                            8025             MOV.L   #\IMD,\REG1                                     ;
25471                            8026             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
25472                            8027             BT      JMP02\@                                         ;DATA=<MAX
25473                            8028             MOV.W   #\ERRBIT,R0                                     ;
25474                            8029     JMP02\@:                                                        ;
25475                            8030     
25476                            8031             .ENDM
25477                            8032     
25478                            8033     ;       ---2005-04-14-E(4/18)
25479                            8034             .MACRO REST_PLSCMP2_ERRCHK2 REG1,REG2,IMD,ERRBIT,CNT_ADR,CNT_MAX;
25480                            8035             XOR     R0,R0                                           ;
25481                            8036             SUB     \REG1,\REG2                                     ;
25482                            8037             CMP/PZ  \REG2                                           ;
25483                            8038             BT      JMP01\@                                         ;DATA=<MAX
25484                            8039             NEG     \REG2,\REG2                                     ;
25485                            8040     JMP01\@:                                                        ;
25486                            8041             MOV.L   #\IMD,\REG1                                     ;
25487                            8042             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
25488                            8043             BT      JMP02\@                                         ;DATA=<MAX
25489                            8044             MOV.L   #\CNT_ADR,\REG1                                 ;
25490                            8045             MOV.W   @\REG1,R0                                       ;CNT+1
25491                            8046             ADD     #1,R0                                           ;
25492                            8047             MOV.W   R0,@\REG1                                       ;
25493                            8048             MOV.W   #\CNT_MAX,\REG1                                 ;
25494                            8049             CMP/HS  \REG1,R0                                        ;MAX =< R0
25495                            8050             BF      JMP03\@                                         ;
25496                            8051             MOV.W   #\ERRBIT,R0                                     ;
25497                            8052             M_BRA   JMP04\@                                         ;ERR
25498                            8053     JMP02\@:                                                        ;
25499                            8054             XOR     R0,R0                                           ;
25500                            8055             MOV.L   #\CNT_ADR,\REG1                                 ;
25501                            8056             MOV.W   R0,@\REG1                                       ;0CLR + ANS=0
25502                            8057     JMP03\@:                                                        ;
25503                            8058             XOR     R0,R0                                           ;
25504                            8059     JMP04\@:                                                        ;
25505                            8060             .ENDM
25506                            8061     
25507                            8062     
25508                            8063     
25509                            8064     
25510                            8065     
25511                            8066     
25512                            8067     
25513                            8068     
25514                            8069     
25515                            8070     
25516                            8071     
25517                            8072     ;       ***********************************
25518                            8073     ;       ***     ﾊﾞｯｸｱｯﾌﾟ条件ﾁｪｯｸ        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   349
PROGRAM NAME =

25519                            8074     ;       ***     非常停止の中で呼ばれる  ***
25520                            8075     ;       ***********************************
25521                            8076             .EXPORT _ERR_INFO_BAKUP_START
25522                            8077     
25523                            8078     
25524                            8079     
25525 0000524C                   8080             .ALIGN  4                               ;
25526 0000524C                   8081     _ERR_INFO_BAKUP_START
25527                            8082             SUB_START
25528 0000524C 4F22                   M           STS.L   PR,@-R15                ;[必要]
25529                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25530 0000524E D107              8083             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25531 00005250 6011              8084             MOV.W   @R1,R0                          ;
25532 00005252 2008              8085             TST     R0,R0                           ;
25533                            8086             TST_BIT_ON ERR_INFO_BAKUP_ST_END        ;
25534 00005254 8B07                   M           BF      ERR_INFO_BAKUP_ST_END
25535                            8087             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_LATCH,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-LA
                                          TCH
25536 00005256 D105                   M           MOV.L   #_ERR_INFO_SAVE_LATCH,R1                ;
25537 00005258 6011                   M           MOV.W   @R1,R0          ;
25538 0000525A CB01                   M           OR      #BIT0,R0                ;
25539 0000525C 2101                   M           MOV.W   R0,@R1          ;
25540                            8088             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-STAR
                                          T
25541 0000525E D104                   M           MOV.L   #_ERR_INFO_SAVE_FLG,R1          ;
25542 00005260 6011                   M           MOV.W   @R1,R0          ;
25543 00005262 CB01                   M           OR      #BIT0,R0                ;
25544 00005264 2101                   M           MOV.W   R0,@R1          ;
25545                            8089     
25546                            8090     
25547 00005266                   8091     ERR_INFO_BAKUP_ST_END
25548                            8092             SUB_END
25549                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25550 00005266 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25551                            8093             M_RTS
25552 00005268 000B                   M           RTS                             ;RTSの後ろの
25553 0000526A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25554                            8094     
25555                            8095             .EXPORT         _ERR_INFO_RST_CLR
25556                                     ***** BEGIN-POOL *****
25557 0000526C 00000000                   DATA FOR SOURCE-LINE 8083,8087
25558 00005270 00000000                   DATA FOR SOURCE-LINE 8088
25559                                     ***** END-POOL *****
25560 00005274                   8096             .ALIGN  4                               ;
25561 00005274                   8097     _ERR_INFO_RST_CLR:
25562                            8098             SUB_START
25563 00005274 4F22                   M           STS.L   PR,@-R15                ;[必要]
25564                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25565                            8099             FAR_JSR #_ERR_INFO_WK_CLR,R0
25566 00005276 D005                   M           MOV.L   #_ERR_INFO_WK_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25567 00005278 400B                   M           JSR     @R0                     ;
25568 0000527A 0009                   M           NOP                                     ;
25569                            8100     
25570 0000527C 200A              8101             XOR     R0,R0
25571 0000527E D104              8102             MOV.L   #_ERR_INFO_SAVE_FLG,R1
25572 00005280 2101              8103             MOV.W   R0,@R1                          ;
25573                            8104     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   350
PROGRAM NAME =

25574 00005282 D104              8105             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25575 00005284 2101              8106             MOV.W   R0,@R1                          ;
25576                            8107             SUB_END
25577                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25578 00005286 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25579                            8108             M_RTS
25580 00005288 000B                   M           RTS                             ;RTSの後ろの
25581 0000528A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25582                            8109     
25583                            8110     ;       ***************************
25584                            8111     ;       ***                     ***
25585                            8112     ;       ***                     ***
25586                            8113     ;       ***                     ***
25587                            8114     ;       ***************************
25588                                     ***** BEGIN-POOL *****
25589 0000528C 00000000                   DATA FOR SOURCE-LINE 8099
25590 00005290 00000000                   DATA FOR SOURCE-LINE 8102
25591 00005294 00000000                   DATA FOR SOURCE-LINE 8105
25592                                     ***** END-POOL *****
25593 00005298                   8115             .ALIGN  4                               ;
25594 00005298                   8116     _ERR_INFO_WK_CLR:
25595                            8117             SUB_START
25596 00005298 4F22                   M           STS.L   PR,@-R15                ;[必要]
25597                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25598 0000529A 200A              8118             XOR     R0,R0
25599 0000529C D107              8119             MOV.L   #_WK_ERR_INFO_CPU_TOP,R1
25600 0000529E 920B              8120             MOV.W   #_CB_ERR_INFO_MEM/4,R2          ;
25601                            8121     
25602 000052A0                   8122     ERR_INFO_WKCLR_LOP:
25603 000052A0 2102              8123             MOV.L   R0,@R1                          ;
25604 000052A2 7104              8124             ADD     #4,R1                           ;
25605 000052A4 72FF              8125             ADD     #-1,R2                          ;
25606 000052A6 2228              8126             TST     R2,R2                           ;
25607                            8127             TST_BIT_ON ERR_INFO_WKCLR_LOP           ;
25608 000052A8 8BFA                   M           BF      ERR_INFO_WKCLR_LOP
25609                            8128     
25610                            8129     ;       ------- 2010-10-25---
25611 000052AA D105              8130             MOV.L   #_CHK_ADD_DATA_LATCH,R1         ;
25612 000052AC 2102              8131             MOV.L   R0,@R1                          ;
25613 000052AE 7104              8132             ADD     #4,R1                           ;
25614 000052B0 2102              8133             MOV.L   R0,@R1                          ;
25615                            8134     
25616                            8135             SUB_END
25617                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25618 000052B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25619                            8136             M_RTS
25620 000052B4 000B                   M           RTS                             ;RTSの後ろの
25621 000052B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25622                            8137     
25623                            8138     ;       ***********************************
25624                            8139     ;       ***                             ***
25625                            8140     ;       ***     １つだけ                ***
25626                            8141     ;       ***     自分の情報を相手に送り  ***
25627                            8142     ;       ***     相手の情報を取り込む    ***
25628                            8143     ;       ***     ﾃﾞｰﾀｸﾞﾗﾌを作成          ***
25629                            8144     ;       ***                             ***
25630                            8145     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   351
PROGRAM NAME =

25631                                     ***** BEGIN-POOL *****
25632 000052B8 0020                       DATA FOR SOURCE-LINE 8120
25633 000052BA 0000                       ALIGNMENT CODE
25634 000052BC 00000000                   DATA FOR SOURCE-LINE 8119
25635 000052C0 00000000                   DATA FOR SOURCE-LINE 8130
25636                                     ***** END-POOL *****
25637 000052C4                   8146             .ALIGN  4                               ;
25638 000052C4                   8147     _CHG_STEP_INFO_MAKE_STEP_DAT:
25639                            8148             SUB_START
25640 000052C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
25641                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25642                            8149             PUSH_REG1 R0
25643 000052C6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25644                                 M                                           ;REG=>[SP]
25645                                 M                                           ;"-4" FF,FF,FF,FC
25646                            8150             PUSH_REG1 R1
25647 000052C8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25648                                 M                                           ;REG=>[SP]
25649                                 M                                           ;"-4" FF,FF,FF,FC
25650                            8151             PUSH_REG1 R2
25651 000052CA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25652                                 M                                           ;REG=>[SP]
25653                                 M                                           ;"-4" FF,FF,FF,FC
25654                            8152             PUSH_REG1 R3
25655 000052CC 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25656                                 M                                           ;REG=>[SP]
25657                                 M                                           ;"-4" FF,FF,FF,FC
25658                            8153             PUSH_REG1 R4
25659 000052CE 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
25660                                 M                                           ;REG=>[SP]
25661                                 M                                           ;"-4" FF,FF,FF,FC
25662                            8154             FAR_JSR #_LOAD_FREQ_PLS,R0
25663 000052D0 D015                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25664 000052D2 400B                   M           JSR     @R0                     ;
25665 000052D4 0009                   M           NOP                                     ;
25666 000052D6 D115              8155             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25667 000052D8 2101              8156             MOV.W   R0,@R1
                                          ;
25668                            8157             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP_SV_PLS       ,L
                                          ,R1,R2,R3       ;
25669 000052DA D115                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25670 000052DC 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25671 000052DE D315                   M           MOV.L   #_SH4_STEP_SV_PLS,R3    ;DST_ADR
25672 000052E0 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25673                            8158             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP_PV_PLS       ,L
                                          ,R1,R2,R3       ;
25674 000052E2 D115                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25675 000052E4 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25676 000052E6 D315                   M           MOV.L   #_SH4_STEP_PV_PLS,R3    ;DST_ADR
25677 000052E8 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25678                            8159             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP_REST_P       ,L
                                          ,R1,R2,R3       ;
25679 000052EA D115                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25680 000052EC 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25681 000052EE D315                   M           MOV.L   #_SH4_STEP_REST_P,R3    ;DST_ADR
25682 000052F0 2322                   M           MOV.L   R2,@R3  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   352
PROGRAM NAME =

25683                            8160             MEM_MOV_TO_MEM  _LNGTH_TOTAL_OUTPLS             ,L      ,_SH4_TOTAL_PLS ,L,R1,R2,R
                                          3       ;
25684 000052F2 D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1
25685 000052F4 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25686 000052F6 D315                   M           MOV.L   #_SH4_TOTAL_PLS,R3      ;DST_ADR
25687 000052F8 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25688                            8161     ;;      MEM_MOV_TO_MEM  _IN_POS_GPOINT_POS              ,L      ,_SH4_ADD_PLS           ,L
                                          ,R1,R2,R3       ;
25689                            8162     
25690                            8163             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP_FRQ          ,W
                                          ,R1,R2,R3       ;
25691 000052FA D10C                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25692 000052FC 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25693 000052FE D314                   M           MOV.L   #_SH4_STEP_FRQ,R3       ;DST_ADR
25694 00005300 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25695                            8164             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP_TIM          ,W
                                          ,R1,R2,R3       ;
25696 00005302 D114                   M           MOV.L   #_CPU_CTRL_CLK,R1
25697 00005304 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25698 00005306 D314                   M           MOV.L   #_SH4_STEP_TIM,R3       ;DST_ADR
25699 00005308 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25700                            8165             MEM_MOV_TO_MEM  _INT_POS_CTL_STEP               ,W      ,_SH4_NOW_STEP          ,W
                                          ,R1,R2,R3       ;
25701 0000530A D114                   M           MOV.L   #_INT_POS_CTL_STEP,R1
25702 0000530C 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25703 0000530E D314                   M           MOV.L   #_SH4_NOW_STEP,R3       ;DST_ADR
25704 00005310 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25705                            8166     
25706                            8167             FAR_JSR #_DATA_GRF_CNT_DATA_MAKE,R0
25707 00005312 D014                   M           MOV.L   #_DATA_GRF_CNT_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25708 00005314 400B                   M           JSR     @R0                     ;
25709 00005316 0009                   M           NOP                                     ;
25710                            8168             POP_REG1 R4
25711                                 M                                   ; RE"+4" 00,00,00,04
25712 00005318 64F6                   M           MOV.L   @R15+,R4        ;
25713                            8169             POP_REG1 R3
25714                                 M                                   ; RE"+4" 00,00,00,04
25715 0000531A 63F6                   M           MOV.L   @R15+,R3        ;
25716                            8170             POP_REG1 R2
25717                                 M                                   ; RE"+4" 00,00,00,04
25718 0000531C 62F6                   M           MOV.L   @R15+,R2        ;
25719                            8171             POP_REG1 R1
25720                                 M                                   ; RE"+4" 00,00,00,04
25721 0000531E 61F6                   M           MOV.L   @R15+,R1        ;
25722                            8172             POP_REG1 R0
25723                                 M                                   ; RE"+4" 00,00,00,04
25724 00005320 60F6                   M           MOV.L   @R15+,R0        ;
25725                            8173             SUB_END
25726                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25727 00005322 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25728                            8174             M_RTS
25729 00005324 000B                   M           RTS                             ;RTSの後ろの
25730 00005326 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25731                            8175     
25732                            8176     ;       ***********************************
25733                            8177     ;       ***     連続の行程切り替わり    ***
25734                            8178     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   353
PROGRAM NAME =

25735                            8179     ;       行程3->1のときの演算前のﾃﾞｰﾀ を4へ
25736                            8180     ;       ﾓﾆﾀ用
25737                                     ***** BEGIN-POOL *****
25738 00005328 00000000                   DATA FOR SOURCE-LINE 8154
25739 0000532C 00000000                   DATA FOR SOURCE-LINE 8155,8163
25740 00005330 00000000                   DATA FOR SOURCE-LINE 8157
25741 00005334 00000000                   DATA FOR SOURCE-LINE 8157
25742 00005338 00000000                   DATA FOR SOURCE-LINE 8158
25743 0000533C 00000000                   DATA FOR SOURCE-LINE 8158
25744 00005340 00000000                   DATA FOR SOURCE-LINE 8159
25745 00005344 00000000                   DATA FOR SOURCE-LINE 8159
25746 00005348 00000000                   DATA FOR SOURCE-LINE 8160
25747 0000534C 00000000                   DATA FOR SOURCE-LINE 8160
25748 00005350 00000000                   DATA FOR SOURCE-LINE 8163
25749 00005354 00000000                   DATA FOR SOURCE-LINE 8164
25750 00005358 00000000                   DATA FOR SOURCE-LINE 8164
25751 0000535C 00000000                   DATA FOR SOURCE-LINE 8165
25752 00005360 00000000                   DATA FOR SOURCE-LINE 8165
25753 00005364 00000000                   DATA FOR SOURCE-LINE 8167
25754                                     ***** END-POOL *****
25755 00005368                   8181             .ALIGN  4                               ;
25756 00005368                   8182     _CHG_STEP_INFO_MAKE_ESTEP_BEFOR
25757                            8183             SUB_START
25758 00005368 4F22                   M           STS.L   PR,@-R15                ;[必要]
25759                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25760                            8184             PUSH_REG1 R0
25761 0000536A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25762                                 M                                           ;REG=>[SP]
25763                                 M                                           ;"-4" FF,FF,FF,FC
25764                            8185             PUSH_REG1 R1
25765 0000536C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25766                                 M                                           ;REG=>[SP]
25767                                 M                                           ;"-4" FF,FF,FF,FC
25768                            8186             PUSH_REG1 R2
25769 0000536E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25770                                 M                                           ;REG=>[SP]
25771                                 M                                           ;"-4" FF,FF,FF,FC
25772                            8187             PUSH_REG1 R3
25773 00005370 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25774                                 M                                           ;REG=>[SP]
25775                                 M                                           ;"-4" FF,FF,FF,FC
25776                            8188             FAR_JSR #_LOAD_FREQ_PLS,R0
25777 00005372 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25778 00005374 400B                   M           JSR     @R0                     ;
25779 00005376 0009                   M           NOP                                     ;
25780 00005378 D10F              8189             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25781 0000537A 2101              8190             MOV.W   R0,@R1
                                          ;
25782                            8191             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP4_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25783 0000537C D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25784 0000537E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25785 00005380 D30F                   M           MOV.L   #_SH4_STEP4_SV_PLS,R3   ;DST_ADR
25786 00005382 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25787                            8192             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP4_PV_PLS      ,L
                                          ,R1,R2,R3;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   354
PROGRAM NAME =

25788 00005384 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25789 00005386 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25790 00005388 D30F                   M           MOV.L   #_SH4_STEP4_PV_PLS,R3   ;DST_ADR
25791 0000538A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25792                            8193             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP4_REST_P      ,L
                                          ,R1,R2,R3;
25793 0000538C D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25794 0000538E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25795 00005390 D30F                   M           MOV.L   #_SH4_STEP4_REST_P,R3   ;DST_ADR
25796 00005392 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25797                            8194             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP4_FRQ ,W,R1,R2,R
                                          3;
25798 00005394 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25799 00005396 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25800 00005398 D30E                   M           MOV.L   #_SH4_STEP4_FRQ,R3      ;DST_ADR
25801 0000539A 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25802                            8195             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP4_TIM ,W,R1,R2,R
                                          3;
25803 0000539C D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25804 0000539E 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25805 000053A0 D30E                   M           MOV.L   #_SH4_STEP4_TIM,R3      ;DST_ADR
25806 000053A2 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25807                            8196     
25808                            8197             POP_REG1 R3
25809                                 M                                   ; RE"+4" 00,00,00,04
25810 000053A4 63F6                   M           MOV.L   @R15+,R3        ;
25811                            8198             POP_REG1 R2
25812                                 M                                   ; RE"+4" 00,00,00,04
25813 000053A6 62F6                   M           MOV.L   @R15+,R2        ;
25814                            8199             POP_REG1 R1
25815                                 M                                   ; RE"+4" 00,00,00,04
25816 000053A8 61F6                   M           MOV.L   @R15+,R1        ;
25817                            8200             POP_REG1 R0
25818                                 M                                   ; RE"+4" 00,00,00,04
25819 000053AA 60F6                   M           MOV.L   @R15+,R0        ;
25820                            8201             SUB_END
25821                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25822 000053AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25823                            8202             M_RTS
25824 000053AE 000B                   M           RTS                             ;RTSの後ろの
25825 000053B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25826                            8203     
25827                            8204     ;       行程3->1のときの演算後のﾃﾞｰﾀ を1へ
25828                                     ***** BEGIN-POOL *****
25829 000053B2 0000                       ALIGNMENT CODE
25830 000053B4 00000000                   DATA FOR SOURCE-LINE 8188
25831 000053B8 00000000                   DATA FOR SOURCE-LINE 8189,8194
25832 000053BC 00000000                   DATA FOR SOURCE-LINE 8191
25833 000053C0 00000000                   DATA FOR SOURCE-LINE 8191
25834 000053C4 00000000                   DATA FOR SOURCE-LINE 8192
25835 000053C8 00000000                   DATA FOR SOURCE-LINE 8192
25836 000053CC 00000000                   DATA FOR SOURCE-LINE 8193
25837 000053D0 00000000                   DATA FOR SOURCE-LINE 8193
25838 000053D4 00000000                   DATA FOR SOURCE-LINE 8194
25839 000053D8 00000000                   DATA FOR SOURCE-LINE 8195
25840 000053DC 00000000                   DATA FOR SOURCE-LINE 8195
25841                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   355
PROGRAM NAME =

25842 000053E0                   8205             .ALIGN  4                               ;
25843 000053E0                   8206     _CHG_STEP_INFO_MAKE_ESTEP_AFTER
25844                            8207             SUB_START
25845 000053E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
25846                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25847                            8208             PUSH_REG1 R0
25848 000053E2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25849                                 M                                           ;REG=>[SP]
25850                                 M                                           ;"-4" FF,FF,FF,FC
25851                            8209             PUSH_REG1 R1
25852 000053E4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25853                                 M                                           ;REG=>[SP]
25854                                 M                                           ;"-4" FF,FF,FF,FC
25855                            8210             PUSH_REG1 R2
25856 000053E6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25857                                 M                                           ;REG=>[SP]
25858                                 M                                           ;"-4" FF,FF,FF,FC
25859                            8211             PUSH_REG1 R3
25860 000053E8 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25861                                 M                                           ;REG=>[SP]
25862                                 M                                           ;"-4" FF,FF,FF,FC
25863                            8212             FAR_JSR #_LOAD_FREQ_PLS,R0
25864 000053EA D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25865 000053EC 400B                   M           JSR     @R0                     ;
25866 000053EE 0009                   M           NOP                                     ;
25867 000053F0 D10F              8213             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25868 000053F2 2101              8214             MOV.W   R0,@R1
                                          ;
25869                            8215             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP1_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25870 000053F4 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25871 000053F6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25872 000053F8 D30F                   M           MOV.L   #_SH4_STEP1_SV_PLS,R3   ;DST_ADR
25873 000053FA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25874                            8216             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH4_STEP1_PV_PLS      ,L,R1,R2,R
                                          3;
25875 000053FC D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25876 000053FE 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25877 00005400 D30F                   M           MOV.L   #_SH4_STEP1_PV_PLS,R3   ;DST_ADR
25878 00005402 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25879                            8217             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP1_REST_P      ,L
                                          ,R1,R2,R3;
25880 00005404 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25881 00005406 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25882 00005408 D30F                   M           MOV.L   #_SH4_STEP1_REST_P,R3   ;DST_ADR
25883 0000540A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25884                            8218             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP1_FRQ ,W,R1,R2,R
                                          3;
25885 0000540C D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25886 0000540E 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25887 00005410 D30E                   M           MOV.L   #_SH4_STEP1_FRQ,R3      ;DST_ADR
25888 00005412 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25889                            8219             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP1_TIM ,W,R1,R2,R
                                          3;
25890 00005414 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25891 00005416 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   356
PROGRAM NAME =

25892 00005418 D30E                   M           MOV.L   #_SH4_STEP1_TIM,R3      ;DST_ADR
25893 0000541A 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25894                            8220     
25895                            8221             POP_REG1 R3
25896                                 M                                   ; RE"+4" 00,00,00,04
25897 0000541C 63F6                   M           MOV.L   @R15+,R3        ;
25898                            8222             POP_REG1 R2
25899                                 M                                   ; RE"+4" 00,00,00,04
25900 0000541E 62F6                   M           MOV.L   @R15+,R2        ;
25901                            8223             POP_REG1 R1
25902                                 M                                   ; RE"+4" 00,00,00,04
25903 00005420 61F6                   M           MOV.L   @R15+,R1        ;
25904                            8224             POP_REG1 R0
25905                                 M                                   ; RE"+4" 00,00,00,04
25906 00005422 60F6                   M           MOV.L   @R15+,R0        ;
25907                            8225             SUB_END
25908                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25909 00005424 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25910                            8226             M_RTS
25911 00005426 000B                   M           RTS                             ;RTSの後ろの
25912 00005428 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25913                            8227     
25914                            8228     
25915                            8229     ;       ***********************************
25916                            8230     ;       ***                             ***
25917                            8231     ;       ***********************************
25918                                     ***** BEGIN-POOL *****
25919 0000542A 0000                       ALIGNMENT CODE
25920 0000542C 00000000                   DATA FOR SOURCE-LINE 8212
25921 00005430 00000000                   DATA FOR SOURCE-LINE 8213,8218
25922 00005434 00000000                   DATA FOR SOURCE-LINE 8215
25923 00005438 00000000                   DATA FOR SOURCE-LINE 8215
25924 0000543C 00000000                   DATA FOR SOURCE-LINE 8216
25925 00005440 00000000                   DATA FOR SOURCE-LINE 8216
25926 00005444 00000000                   DATA FOR SOURCE-LINE 8217
25927 00005448 00000000                   DATA FOR SOURCE-LINE 8217
25928 0000544C 00000000                   DATA FOR SOURCE-LINE 8218
25929 00005450 00000000                   DATA FOR SOURCE-LINE 8219
25930 00005454 00000000                   DATA FOR SOURCE-LINE 8219
25931                                     ***** END-POOL *****
25932 00005458                   8232             .ALIGN  4                               ;
25933 00005458                   8233     _CHG_STEP_INFO_MAKE_STEP_END:
25934                            8234             SUB_START
25935 00005458 4F22                   M           STS.L   PR,@-R15                ;[必要]
25936                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25937                            8235             PUSH_REG1 R0
25938 0000545A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25939                                 M                                           ;REG=>[SP]
25940                                 M                                           ;"-4" FF,FF,FF,FC
25941                            8236             PUSH_REG1 R1
25942 0000545C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25943                                 M                                           ;REG=>[SP]
25944                                 M                                           ;"-4" FF,FF,FF,FC
25945 0000545E D104              8237             MOV.L   #_INT_POS_CTL_STEP,R1           ;
25946 00005460 6011              8238             MOV.W   @R1,R0                          ;
25947 00005462 8802              8239             CMP/EQ  #2,R0                           ;
25948 00005464 8B08              8240             BF      CHG_STEP_INFO_MAKSTP_END_010    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   357
PROGRAM NAME =

25949                            8241             FAR_JSR #_CHG_STEP_INFO_MAKE_1STEP_END,R0
25950 00005466 D003                   M           MOV.L   #_CHG_STEP_INFO_MAKE_1STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25951 00005468 400B                   M           JSR     @R0                     ;
25952 0000546A 0009                   M           NOP                                     ;
25953                            8242             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT
25954 0000546C A00E                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
25955 0000546E 0009                   M           NOP
25956                            8243     
25957                                     ***** BEGIN-POOL *****
25958 00005470 00000000                   DATA FOR SOURCE-LINE 8237
25959 00005474 00000000                   DATA FOR SOURCE-LINE 8241
25960                                     ***** END-POOL *****
25961 00005478                   8244     CHG_STEP_INFO_MAKSTP_END_010:
25962 00005478 8803              8245             CMP/EQ  #3,R0                                   ;
25963 0000547A 8B07              8246             BF      CHG_STEP_INFO_MAKSTP_END_020            ;
25964                            8247             FAR_JSR #_CHG_STEP_INFO_MAKE_2STEP_END,R0       ;
25965 0000547C D002                   M           MOV.L   #_CHG_STEP_INFO_MAKE_2STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25966 0000547E 400B                   M           JSR     @R0                     ;
25967 00005480 0009                   M           NOP                                     ;
25968                            8248             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT            ;
25969 00005482 A003                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
25970 00005484 0009                   M           NOP
25971                                     ***** BEGIN-POOL *****
25972 00005486 0000                       ALIGNMENT CODE
25973 00005488 00000000                   DATA FOR SOURCE-LINE 8247
25974                                     ***** END-POOL *****
25975 0000548C                   8249     CHG_STEP_INFO_MAKSTP_END_020:
25976                            8250     
25977 0000548C                   8251     CHG_STEP_INFO_MAKSTP_END_EXT:
25978                            8252             POP_REG1 R1
25979                                 M                                   ; RE"+4" 00,00,00,04
25980 0000548C 61F6                   M           MOV.L   @R15+,R1        ;
25981                            8253             POP_REG1 R0
25982                                 M                                   ; RE"+4" 00,00,00,04
25983 0000548E 60F6                   M           MOV.L   @R15+,R0        ;
25984                            8254             SUB_END
25985                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25986 00005490 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25987                            8255             M_RTS
25988 00005492 000B                   M           RTS                             ;RTSの後ろの
25989 00005494 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25990                            8256     
25991                            8257     
25992                            8258     ;       === 1->2 1の情報を2へ==
25993 00005498                   8259             .ALIGN  4                               ;
25994 00005498                   8260     _CHG_STEP_INFO_MAKE_1STEP_END
25995                            8261             SUB_START
25996 00005498 4F22                   M           STS.L   PR,@-R15                ;[必要]
25997                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25998                            8262             PUSH_REG1 R0
25999 0000549A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26000                                 M                                           ;REG=>[SP]
26001                                 M                                           ;"-4" FF,FF,FF,FC
26002                            8263             PUSH_REG1 R1
26003 0000549C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26004                                 M                                           ;REG=>[SP]
26005                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   358
PROGRAM NAME =

26006                            8264             PUSH_REG1 R2
26007 0000549E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26008                                 M                                           ;REG=>[SP]
26009                                 M                                           ;"-4" FF,FF,FF,FC
26010                            8265             PUSH_REG1 R3
26011 000054A0 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
26012                                 M                                           ;REG=>[SP]
26013                                 M                                           ;"-4" FF,FF,FF,FC
26014                            8266             FAR_JSR #_LOAD_FREQ_PLS,R0
26015 000054A2 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26016 000054A4 400B                   M           JSR     @R0                     ;
26017 000054A6 0009                   M           NOP                                     ;
26018 000054A8 D10F              8267             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
26019 000054AA 2101              8268             MOV.W   R0,@R1
                                          ;
26020                            8269             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP2_SV_PLS      ,L
                                          ,R1,R2,R3       ;
26021 000054AC D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
26022 000054AE 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26023 000054B0 D30F                   M           MOV.L   #_SH4_STEP2_SV_PLS,R3   ;DST_ADR
26024 000054B2 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26025                            8270             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP2_PV_PLS      ,L
                                          ,R1,R2,R3       ;
26026 000054B4 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
26027 000054B6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26028 000054B8 D30F                   M           MOV.L   #_SH4_STEP2_PV_PLS,R3   ;DST_ADR
26029 000054BA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26030                            8271             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP2_REST_P      ,L
                                          ,R1,R2,R3       ;
26031 000054BC D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
26032 000054BE 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26033 000054C0 D30F                   M           MOV.L   #_SH4_STEP2_REST_P,R3   ;DST_ADR
26034 000054C2 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26035                            8272             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP2_FRQ ,W,R1,R2,R
                                          3       ;
26036 000054C4 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
26037 000054C6 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26038 000054C8 D30E                   M           MOV.L   #_SH4_STEP2_FRQ,R3      ;DST_ADR
26039 000054CA 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26040                            8273             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP2_TIM ,W,R1,R2,R
                                          3       ;
26041 000054CC D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
26042 000054CE 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26043 000054D0 D30E                   M           MOV.L   #_SH4_STEP2_TIM,R3      ;DST_ADR
26044 000054D2 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26045                            8274             POP_REG1 R3
26046                                 M                                   ; RE"+4" 00,00,00,04
26047 000054D4 63F6                   M           MOV.L   @R15+,R3        ;
26048                            8275             POP_REG1 R2
26049                                 M                                   ; RE"+4" 00,00,00,04
26050 000054D6 62F6                   M           MOV.L   @R15+,R2        ;
26051                            8276             POP_REG1 R1
26052                                 M                                   ; RE"+4" 00,00,00,04
26053 000054D8 61F6                   M           MOV.L   @R15+,R1        ;
26054                            8277             POP_REG1 R0
26055                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   359
PROGRAM NAME =

26056 000054DA 60F6                   M           MOV.L   @R15+,R0        ;
26057                            8278             SUB_END
26058                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26059 000054DC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26060                            8279             M_RTS
26061 000054DE 000B                   M           RTS                             ;RTSの後ろの
26062 000054E0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26063                            8280     
26064                            8281     ;       === 2->3 3の情報 ==
26065                                     ***** BEGIN-POOL *****
26066 000054E2 0000                       ALIGNMENT CODE
26067 000054E4 00000000                   DATA FOR SOURCE-LINE 8266
26068 000054E8 00000000                   DATA FOR SOURCE-LINE 8267,8272
26069 000054EC 00000000                   DATA FOR SOURCE-LINE 8269
26070 000054F0 00000000                   DATA FOR SOURCE-LINE 8269
26071 000054F4 00000000                   DATA FOR SOURCE-LINE 8270
26072 000054F8 00000000                   DATA FOR SOURCE-LINE 8270
26073 000054FC 00000000                   DATA FOR SOURCE-LINE 8271
26074 00005500 00000000                   DATA FOR SOURCE-LINE 8271
26075 00005504 00000000                   DATA FOR SOURCE-LINE 8272
26076 00005508 00000000                   DATA FOR SOURCE-LINE 8273
26077 0000550C 00000000                   DATA FOR SOURCE-LINE 8273
26078                                     ***** END-POOL *****
26079 00005510                   8282             .ALIGN  4                               ;
26080 00005510                   8283     _CHG_STEP_INFO_MAKE_2STEP_END
26081                            8284             SUB_START
26082 00005510 4F22                   M           STS.L   PR,@-R15                ;[必要]
26083                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26084                            8285             PUSH_REG1 R0
26085 00005512 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26086                                 M                                           ;REG=>[SP]
26087                                 M                                           ;"-4" FF,FF,FF,FC
26088                            8286             PUSH_REG1 R1
26089 00005514 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26090                                 M                                           ;REG=>[SP]
26091                                 M                                           ;"-4" FF,FF,FF,FC
26092                            8287             PUSH_REG1 R2
26093 00005516 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26094                                 M                                           ;REG=>[SP]
26095                                 M                                           ;"-4" FF,FF,FF,FC
26096                            8288             PUSH_REG1 R3
26097 00005518 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
26098                                 M                                           ;REG=>[SP]
26099                                 M                                           ;"-4" FF,FF,FF,FC
26100                            8289             FAR_JSR #_LOAD_FREQ_PLS,R0
26101 0000551A D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26102 0000551C 400B                   M           JSR     @R0                     ;
26103 0000551E 0009                   M           NOP                                     ;
26104 00005520 D10F              8290             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
26105 00005522 2101              8291             MOV.W   R0,@R1
                                          ;
26106                            8292             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP3_SV_PLS      ,L
                                          ,R1,R2,R3       ;
26107 00005524 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
26108 00005526 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26109 00005528 D30F                   M           MOV.L   #_SH4_STEP3_SV_PLS,R3   ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   360
PROGRAM NAME =

26110 0000552A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26111                            8293             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH4_STEP3_PV_PLS      ,L,R1,R2,R
                                          3       ;
26112 0000552C D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
26113 0000552E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26114 00005530 D30F                   M           MOV.L   #_SH4_STEP3_PV_PLS,R3   ;DST_ADR
26115 00005532 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26116                            8294             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP3_REST_P      ,L
                                          ,R1,R2,R3       ;
26117 00005534 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
26118 00005536 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26119 00005538 D30F                   M           MOV.L   #_SH4_STEP3_REST_P,R3   ;DST_ADR
26120 0000553A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26121                            8295             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP3_FRQ ,W,R1,R2,R
                                          3       ;
26122 0000553C D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
26123 0000553E 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26124 00005540 D30E                   M           MOV.L   #_SH4_STEP3_FRQ,R3      ;DST_ADR
26125 00005542 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26126                            8296             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP3_TIM ,W,R1,R2,R
                                          3       ;
26127 00005544 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
26128 00005546 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26129 00005548 D30E                   M           MOV.L   #_SH4_STEP3_TIM,R3      ;DST_ADR
26130 0000554A 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26131                            8297     
26132                            8298             POP_REG1 R3
26133                                 M                                   ; RE"+4" 00,00,00,04
26134 0000554C 63F6                   M           MOV.L   @R15+,R3        ;
26135                            8299             POP_REG1 R2
26136                                 M                                   ; RE"+4" 00,00,00,04
26137 0000554E 62F6                   M           MOV.L   @R15+,R2        ;
26138                            8300             POP_REG1 R1
26139                                 M                                   ; RE"+4" 00,00,00,04
26140 00005550 61F6                   M           MOV.L   @R15+,R1        ;
26141                            8301             POP_REG1 R0
26142                                 M                                   ; RE"+4" 00,00,00,04
26143 00005552 60F6                   M           MOV.L   @R15+,R0        ;
26144                            8302             SUB_END
26145                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26146 00005554 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26147                            8303             M_RTS
26148 00005556 000B                   M           RTS                             ;RTSの後ろの
26149 00005558 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26150                            8304     
26151                            8305     
26152                            8306     
26153                            8307             .EXPORT _MONI_CHG_PROC1
26154                                     ***** BEGIN-POOL *****
26155 0000555A 0000                       ALIGNMENT CODE
26156 0000555C 00000000                   DATA FOR SOURCE-LINE 8289
26157 00005560 00000000                   DATA FOR SOURCE-LINE 8290,8295
26158 00005564 00000000                   DATA FOR SOURCE-LINE 8292
26159 00005568 00000000                   DATA FOR SOURCE-LINE 8292
26160 0000556C 00000000                   DATA FOR SOURCE-LINE 8293
26161 00005570 00000000                   DATA FOR SOURCE-LINE 8293
26162 00005574 00000000                   DATA FOR SOURCE-LINE 8294
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   361
PROGRAM NAME =

26163 00005578 00000000                   DATA FOR SOURCE-LINE 8294
26164 0000557C 00000000                   DATA FOR SOURCE-LINE 8295
26165 00005580 00000000                   DATA FOR SOURCE-LINE 8296
26166 00005584 00000000                   DATA FOR SOURCE-LINE 8296
26167                                     ***** END-POOL *****
26168 00005588                   8308             .ALIGN  4                               ;
26169 00005588                   8309     _MONI_CHG_PROC1:
26170                            8310             SUB_START
26171 00005588 4F22                   M           STS.L   PR,@-R15                ;[必要]
26172                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26173                            8311     ;;      MNP_MOV_TO_MEM  _SH4_STEP1_REST_P       ,L,_PVP_MONALM_C01,L,R1,R2,H'3FFFFFF
26174                            8312     ;;      MNP_MOV_TO_MEM  _SH4_STEP1_PV_PLS       ,L,_PVP_MONALM_C02,L,R1,R2,H'3FFFFFF
26175                            8313     ;;      MEM_MOV_TO_MEM  _SH4_STEP1_FRQ          ,W,_PVP_MONALM_A01,W,R1,R2,R3;
26176                            8314     ;;      MEM_MOV_TO_MEM  _SH4_STEP1_TIM          ,W,_PVP_MONALM_A02,W,R1,R2,R3;
26177                            8315     
26178                            8316             SUB_END
26179                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26180 0000558A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26181                            8317             M_RTS
26182 0000558C 000B                   M           RTS                             ;RTSの後ろの
26183 0000558E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26184                            8318     
26185                            8319     
26186                            8320     
26187                            8321     ;       ****************************
26188                            8322     ;       ***                     ****
26189                            8323     ;       ****************************
26190                            8324     
26191                            8325             .IMPORT _PVP_MONALM_C01
26192                            8326             .IMPORT _PVP_MONALM_C02
26193                            8327             .IMPORT _PVP_MONALM_C03
26194                            8328             .IMPORT _PVP_MONALM_C04
26195                            8329             .IMPORT _PVP_MONALM_C05
26196                            8330             .IMPORT _PVP_MONALM_C06
26197                            8331             .IMPORT _PVP_MONALM_C07
26198                            8332             .IMPORT _PVP_MONALM_C08
26199                            8333             .IMPORT _PVP_MONALM_A01
26200                            8334             .IMPORT _PVP_MONALM_A02
26201                            8335             .IMPORT _PVP_MONALM_A03
26202                            8336             .IMPORT _PVP_MONALM_A04
26203                            8337             .IMPORT _PVP_MONALM_A05
26204                            8338             .IMPORT _PVP_MONALM_A06
26205                            8339             .IMPORT _PVP_MONALM_A07
26206                            8340             .IMPORT _PVP_MONALM_A08
26207                            8341             .IMPORT _PVP_MONALM_B01
26208                            8342             .IMPORT _PVP_MONALM_B02
26209                            8343             .IMPORT _PVP_MONALM_B03
26210                            8344             .IMPORT _PVP_MONALM_B04
26211                            8345             .IMPORT _PVP_MONALM_B05
26212                            8346             .IMPORT _PVP_MONALM_B06
26213                            8347             .IMPORT _PVP_MONALM_B07
26214                            8348             .IMPORT _PVP_MONALM_B08
26215                            8349     
26216                            8350             .IMPORT _PVP_MONALM_P01
26217                            8351             .IMPORT _PVP_MONALM_P02
26218                            8352             .IMPORT _PVP_MONALM_P03
26219                            8353             .IMPORT _PVP_MONALM_P04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   362
PROGRAM NAME =

26220                            8354     
26221                            8355     ;       ***********************************
26222                            8356     ;       ***     NO.15 ERR情報           ***
26223                            8357     ;       ***********************************
26224                            8358     ;;;;;;;;;;;;;;;;;;;
26225                            8359     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI
26226                            8360     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI2
26227                            8361     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
26228                            8362     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI:
26229                            8363     ;;;;;;;;;;;;;;;;;;;     SUB_START
26230                            8364     ;;;;;;;;;;;;;;;;;;;
26231                            8365     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26232                            8366     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_INF1,W         ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
26233                            8367     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222
26234                            8368     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_RETRY_CNT1,W        ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗
26235                            8369     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_RETRY_CNT1,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ
26236                            8370     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_RETRY_CNT1,W        ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;二重回路のﾘﾄﾗｲ
26237                            8371     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT1,L           ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;ﾘｾｯﾄｺﾏﾝﾄﾞ MISS
26238                            8372     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT2,L           ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;-500ﾊﾟﾙｽ
26239                            8373     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT3,L           ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;+500ﾊﾟﾙｽ
26240                            8374     ;;;;;;;;;;;;;;;;;;;
26241                            8375     ;;;;;;;;;;;;;;;;;;;
26242                            8376     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
26243                            8377     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSRD_NG_CNT1,W            ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3       ;
26244                            8378     ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
26245                            8379     ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02         ,L1=W,DT_REG=R0,WK
                                          REG1=R1 ;
26246                            8380     ;;;;;;;;;;;;;;;;;;;
26247                            8381     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT2,L           ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗　TOTAL
26248                            8382     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT1,L           ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ失敗 TOTAL
26249                            8383     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_NG_CNT1,W           ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;二重回路 TOTAL
26250                            8384     ;;;;;;;;;;;;;;;;;;;
26251                            8385     ;;;;;;;;;;;;;;;;;;;
26252                            8386     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_AC_CNT1,L           ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;起動正常回数
26253                            8387     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT2,L           ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;残り演算正常回数
26254                            8388     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_AC_CNT1,W           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;回路正常回数
26255                            8389     ;;;;;;;;;;;;;;;;;;;;;   MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT1,L           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;(NO/USE)
26256                            8390     ;;;;;;;;;;;;;;;;;;;
26257                            8391     ;;;;;;;;;;;;;;;;;;;
26258                            8392     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
26259                            8393     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_LNGH_ADD_SR,L              ,_PVP_MONALM_C01,L
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   363
PROGRAM NAME =

                                          ,R1,R2,R3;
26260                            8394     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_LNGH_ADD_SR,L              ,_PVP_MONALM_C02,L
                                          ,R1,R2,R3;
26261                            8395     ;;;;;;;;;;;;;;;;;;;
26262                            8396     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_SR,L              ,_PVP_MONALM_C03,L
                                          ,R1,R2,R3;
26263                            8397     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_SR,L              ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
26264                            8398     ;;;;;;;;;;;;;;;;;;;
26265                            8399     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_RL,L              ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
26266                            8400     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_RL,L              ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
26267                            8401     ;;;;;;;;;;;;;;;;;;;
26268                            8402     ;;;;;;;;;;;;;;;;;;;
26269                            8403     ;;;;;;;;;;;;;;;;;;;;040304
26270                            8404     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POS_RL,L          ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,ABS
26271                            8405     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POSMAX,L          ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,+側だけ
26272                            8406     ;;;;;;;;;;;;;;;;;;;
26273                            8407     ;;;;;;;;;;;;;;;;;;;
26274                            8408     ;;;;;;;;;;;;;;;;;;;
26275                            8409     ;;;;;;;;;;;;;;;;;;;     SUB_END
26276                            8410     ;;;;;;;;;;;;;;;;;;;     M_RTS
26277                            8411     
26278                            8412     ;;;;;;;;;;;;;;;;;;;;    ***********************************
26279                            8413     ;;;;;;;;;;;;;;;;;;;;    ***     NO.16 ERR情報           ***
26280                            8414     ;;;;;;;;;;;;;;;;;;;;    ***********************************
26281                            8415     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
26282                            8416     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI2:
26283                            8417     ;;;;;;;;;;;;;;;;;;;     SUB_START
26284                            8418     ;;;;;;;;;;;;;;;;;;;
26285                            8419     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R1         ;
26286                            8420     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   @R1,R0                                          ;
26287                            8421     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_POS_CTRL_WORD_DAT,R1                          ;
26288                            8422     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   R0,@R1                                          ;
26289                            8423     ;;;;;;;;;;;;;;;;;;;
26290                            8424     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26291                            8425     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
26292                            8426     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF2,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222(詳細)
26293                            8427     ;;;;;;;;;;;;;;;;;;;
26294                            8428     ;;;;;;;;;;;;;;;;;;;;;;  MEM_MOV_TO_MEM  _POS_CTRL_WORD_DAT,W            ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26295                            8429     ;;;;;;;;;;;;;;;;;;;
26296                            8430     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_ACC_TOTAL_NG_CNT,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26297                            8431     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_BAS_TOTAL_NG_CNT,W        ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26298                            8432     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_TOP_TOTAL_NG_CNT,W        ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26299                            8433     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_NOW_TOTAL_NG_CNT,W        ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
26300                            8434     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_LAT_TOTAL_NG_CNT,W        ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   364
PROGRAM NAME =

26301                            8435     ;;;;;;;;;;;;;;;;;;;
26302                            8436     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
26303                            8437     ;;;;;;;;;;;;;;;;;;;
26304                            8438     ;;;;;;;;;;;;;;;;;;;
26305                            8439     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_ACCS,W                ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26306                            8440     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_ACCS,W                ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26307                            8441     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_LATE,W                ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26308                            8442     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_LATE,W                ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26309                            8443     ;;;;;;;;;;;;;;;;;;;
26310                            8444     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
26311                            8445     ;;;;;;;;;;;;;;;;;;;
26312                            8446     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_BAS_FRQ_SV,L               ,_PVP_MONALM_C01,L
                                          ,R1,R2,R3;
26313                            8447     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_BAS_FRQ_SV,L               ,_PVP_MONALM_C02,L
                                          ,R1,R2,R3;
26314                            8448     ;;;;;;;;;;;;;;;;;;;
26315                            8449     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_TOP_FRQ_SV,L               ,_PVP_MONALM_C03,L
                                          ,R1,R2,R3;
26316                            8450     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_TOP_FRQ_SV,L               ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
26317                            8451     ;;;;;;;;;;;;;;;;;;;
26318                            8452     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_FRQ_PV,L               ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
26319                            8453     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_FRQ_PV,L               ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
26320                            8454     ;;;;;;;;;;;;;;;;;;;
26321                            8455     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_SV_SPD,L                  ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3;設定周波数(MEM)
26322                            8456     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_PLSI_MAX_FRQ,L            ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3;最大周波数
26323                            8457     ;;;;;;;;;;;;;;;;;;;
26324                            8458     ;;;;;;;;;;;;;;;;;;;
26325                            8459     ;;;;;;;;;;;;;;;;;;;
26326                            8460     ;;;;;;;;;;;;;;;;;;;     SUB_END
26327                            8461     ;;;;;;;;;;;;;;;;;;;     M_RTS
26328                            8462     ;;;;;;;;;;;;;;;;;;;
26329                            8463     ;;;;;;;;;;;;;;;;;;;
26330                            8464     ;;;;;;;;;;;;;;;;;;;
26331                            8465     ;       ***********************************
26332                            8466     ;       ***                             ***
26333                            8467     ;       ***     調査機能                ***
26334                            8468     ;       ***                             ***
26335                            8469     ;       ***********************************
26336                            8470     ;
26337                            8471     ;       === 2004-03-04===
26338                            8472     ;       EMG,EXQ
26339 00005590                   8473             .ALIGN  4                               ;
26340 00005590                   8474     _LSI_REST_PLS_CHK_STOP_CLR:
26341                            8475             SUB_START
26342 00005590 4F22                   M           STS.L   PR,@-R15                ;[必要]
26343                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26344                            8476     
26345                            8477     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   365
PROGRAM NAME =

26346 00005592 200A              8478             XOR     R0,R0
26347                            8479             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
26348 00005594 D107                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
26349 00005596 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26350                            8480     
26351                            8481             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
26352 00005598 D107                   M           MOV.L   #_SH4_LOT_CNT_A,R1      ;DST_ADR
26353 0000559A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26354                            8482             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
26355 0000559C D107                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;DST_ADR
26356 0000559E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26357                            8483             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
26358 000055A0 D107                   M           MOV.L   #_SH4_REST_SR_HF,R1     ;DST_ADR
26359 000055A2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26360                            8484             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
26361 000055A4 D107                   M           MOV.L   #_SH4_REST_RL_HF,R1     ;DST_ADR
26362 000055A6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26363                            8485     
26364                            8486             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
26365 000055A8 D107                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
26366 000055AA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26367                            8487     
26368                            8488             SUB_END
26369                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26370 000055AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26371                            8489             M_RTS
26372 000055AE 000B                   M           RTS                             ;RTSの後ろの
26373 000055B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26374                            8490     
26375                            8491     ;       === 2004-03-04===
26376                                     ***** BEGIN-POOL *****
26377 000055B2 0000                       ALIGNMENT CODE
26378 000055B4 00000000                   DATA FOR SOURCE-LINE 8479
26379 000055B8 00000000                   DATA FOR SOURCE-LINE 8481
26380 000055BC 00000000                   DATA FOR SOURCE-LINE 8482
26381 000055C0 00000000                   DATA FOR SOURCE-LINE 8483
26382 000055C4 00000000                   DATA FOR SOURCE-LINE 8484
26383 000055C8 00000000                   DATA FOR SOURCE-LINE 8486
26384                                     ***** END-POOL *****
26385 000055CC                   8492             .ALIGN  4                               ;
26386 000055CC                   8493     _LSI_REST_PLS_CHK_START_CLR:
26387                            8494             SUB_START
26388 000055CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
26389                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26390                            8495     
26391 000055CE 200A              8496             XOR     R0,R0
26392                            8497             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_AC_CNT1     ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          回路正常回数
26393 000055D0 D12F                   M           MOV.L   #_LSI_PLSCMP_AC_CNT1,R1 ;DST_ADR
26394 000055D2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26395                            8498             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSSET_AC_CNT2     ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残り演算正常回数
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   366
PROGRAM NAME =

26396 000055D4 D12F                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1 ;DST_ADR
26397 000055D6 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26398                            8499     
26399                            8500             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POS_RL    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差,+/-
26400 000055D8 D12F                   M           MOV.L   #_LSI_CMPCPUAB_POS_RL,R1        ;DST_ADR
26401 000055DA 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26402                            8501             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POSMAX    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差 MAX
26403 000055DC D12F                   M           MOV.L   #_LSI_CMPCPUAB_POSMAX,R1        ;DST_ADR
26404 000055DE 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26405                            8502     
26406                            8503     ;       ==== 上は表示を見やすくするため１サイクルデータにする====
26407                            8504     
26408 000055E0 200A              8505             XOR     R0,R0
26409                            8506             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
26410 000055E2 D12F                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
26411 000055E4 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26412                            8507     
26413 000055E6 200A              8508             XOR     R0,R0
26414                            8509             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
26415 000055E8 D12E                   M           MOV.L   #_SH4_LOT_CNT_A,R1      ;DST_ADR
26416 000055EA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26417                            8510             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
26418 000055EC D12E                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;DST_ADR
26419 000055EE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26420                            8511             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
26421 000055F0 D12E                   M           MOV.L   #_SH4_REST_SR_HF,R1     ;DST_ADR
26422 000055F2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26423                            8512             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
26424 000055F4 D12E                   M           MOV.L   #_SH4_REST_RL_HF,R1     ;DST_ADR
26425 000055F6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26426                            8513     
26427                            8514             REG_MOV_TO_MEM  DST_ADR=_SH4_LNGH_ADD_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時移動量
26428 000055F8 D12E                   M           MOV.L   #_SH4_LNGH_ADD_SR,R1    ;DST_ADR
26429 000055FA 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26430                            8515             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_PLS_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時残ﾊﾟﾙｽ
26431 000055FC D12E                   M           MOV.L   #_SH4_REST_PLS_SR,R1    ;DST_ADR
26432 000055FE 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26433                            8516             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_PLS_RL        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 REAL-TIME残ﾊﾟﾙｽ
26434 00005600 D12E                   M           MOV.L   #_SH4_REST_PLS_RL,R1    ;DST_ADR
26435 00005602 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26436                            8517     
26437 00005604 200A              8518             XOR     R0,R0
26438                            8519             REG_MOV_TO_MEM  DST_ADR=_CMP2_BAS_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26439 00005606 D12E                   M           MOV.L   #_CMP2_BAS_NG_CNT,R1    ;DST_ADR
26440 00005608 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26441                            8520             REG_MOV_TO_MEM  DST_ADR=_CMP2_TOP_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26442 0000560A D12E                   M           MOV.L   #_CMP2_TOP_NG_CNT,R1    ;DST_ADR
26443 0000560C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   367
PROGRAM NAME =

26444                            8521             REG_MOV_TO_MEM  DST_ADR=_CMP2_LAT_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26445 0000560E D12E                   M           MOV.L   #_CMP2_LAT_NG_CNT,R1    ;DST_ADR
26446 00005610 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26447                            8522             REG_MOV_TO_MEM  DST_ADR=_CMP2_ACC_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26448 00005612 D12E                   M           MOV.L   #_CMP2_ACC_NG_CNT,R1    ;DST_ADR
26449 00005614 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26450                            8523             REG_MOV_TO_MEM  DST_ADR=_CMP2_NOW_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26451 00005616 D12E                   M           MOV.L   #_CMP2_NOW_NG_CNT,R1    ;DST_ADR
26452 00005618 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26453                            8524     
26454                            8525     
26455                            8526             FAR_JSR #_CNT_REST_CHK_CLR,R0           ;
26456 0000561A D02E                   M           MOV.L   #_CNT_REST_CHK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26457 0000561C 400B                   M           JSR     @R0                     ;
26458 0000561E 0009                   M           NOP                                     ;
26459                            8527     
26460                            8528     ;       ======= 連続のチェック ======
26461 00005620 200A              8529             XOR     R0,R0
26462                            8530             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26463 00005622 D12D                   M           MOV.L   #_SH4_STEP1_SV_PLS,R1   ;DST_ADR
26464 00005624 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26465                            8531             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26466 00005626 D12D                   M           MOV.L   #_SH4_STEP2_SV_PLS,R1   ;DST_ADR
26467 00005628 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26468                            8532             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26469 0000562A D12D                   M           MOV.L   #_SH4_STEP3_SV_PLS,R1   ;DST_ADR
26470 0000562C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26471                            8533             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26472 0000562E D12D                   M           MOV.L   #_SH4_STEP4_SV_PLS,R1   ;DST_ADR
26473 00005630 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26474                            8534             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26475 00005632 D12D                   M           MOV.L   #_SH4_STEP5_SV_PLS,R1   ;DST_ADR
26476 00005634 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26477                            8535             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          1->2の演算前の残り)
26478 00005636 D12D                   M           MOV.L   #_SH4_STEP1_REST_P,R1   ;DST_ADR
26479 00005638 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26480                            8536             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          2->3)
26481 0000563A D12D                   M           MOV.L   #_SH4_STEP2_REST_P,R1   ;DST_ADR
26482 0000563C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26483                            8537             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26484 0000563E D12D                   M           MOV.L   #_SH4_STEP3_REST_P,R1   ;DST_ADR
26485 00005640 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26486                            8538             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26487 00005642 D12D                   M           MOV.L   #_SH4_STEP4_REST_P,R1   ;DST_ADR
26488 00005644 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26489                            8539             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26490 00005646 D12D                   M           MOV.L   #_SH4_STEP5_REST_P,R1   ;DST_ADR
26491 00005648 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26492                            8540             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26493 0000564A D12D                   M           MOV.L   #_SH4_STEP1_PV_PLS,R1   ;DST_ADR
26494 0000564C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26495                            8541             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   368
PROGRAM NAME =

26496 0000564E D12D                   M           MOV.L   #_SH4_STEP2_PV_PLS,R1   ;DST_ADR
26497 00005650 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26498                            8542             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26499 00005652 D12D                   M           MOV.L   #_SH4_STEP3_PV_PLS,R1   ;DST_ADR
26500 00005654 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26501                            8543             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26502 00005656 D12D                   M           MOV.L   #_SH4_STEP4_PV_PLS,R1   ;DST_ADR
26503 00005658 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26504                            8544             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26505 0000565A D12D                   M           MOV.L   #_SH4_STEP5_PV_PLS,R1   ;DST_ADR
26506 0000565C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26507                            8545             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26508 0000565E D12D                   M           MOV.L   #_SH4_STEP1_FRQ,R1      ;DST_ADR
26509 00005660 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26510                            8546             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26511 00005662 D12D                   M           MOV.L   #_SH4_STEP2_FRQ,R1      ;DST_ADR
26512 00005664 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26513                            8547             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26514 00005666 D12D                   M           MOV.L   #_SH4_STEP3_FRQ,R1      ;DST_ADR
26515 00005668 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26516                            8548             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26517 0000566A D12D                   M           MOV.L   #_SH4_STEP4_FRQ,R1      ;DST_ADR
26518 0000566C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26519                            8549             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26520 0000566E D12D                   M           MOV.L   #_SH4_STEP5_FRQ,R1      ;DST_ADR
26521 00005670 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26522                            8550             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26523 00005672 D12D                   M           MOV.L   #_SH4_STEP1_TIM,R1      ;DST_ADR
26524 00005674 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26525                            8551             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26526 00005676 D12D                   M           MOV.L   #_SH4_STEP2_TIM,R1      ;DST_ADR
26527 00005678 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26528                            8552             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26529 0000567A D12D                   M           MOV.L   #_SH4_STEP3_TIM,R1      ;DST_ADR
26530 0000567C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26531                            8553             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26532 0000567E D12D                   M           MOV.L   #_SH4_STEP4_TIM,R1      ;DST_ADR
26533 00005680 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26534                            8554             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26535 00005682 D12D                   M           MOV.L   #_SH4_STEP5_TIM,R1      ;DST_ADR
26536 00005684 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26537                            8555     
26538                            8556             REG_MOV_TO_MEM  DST_ADR=_CNT_GRF_POINT          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26539 00005686 D12D                   M           MOV.L   #_CNT_GRF_POINT,R1      ;DST_ADR
26540 00005688 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26541                            8557     
26542                            8558             SUB_END
26543                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26544 0000568A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26545                            8559             M_RTS
26546 0000568C 000B                   M           RTS                             ;RTSの後ろの
26547 0000568E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26548                            8560     
26549                            8561     ;       ***************************************************
26550                            8562     ;       ***                                             ***
26551                            8563     ;       ***             連続残りﾊﾟﾙｽ修正                ***
26552                            8564     ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   369
PROGRAM NAME =

26553                            8565     ;       ***************************************************
26554                                     ***** BEGIN-POOL *****
26555 00005690 00000000                   DATA FOR SOURCE-LINE 8497
26556 00005694 00000000                   DATA FOR SOURCE-LINE 8498
26557 00005698 00000000                   DATA FOR SOURCE-LINE 8500
26558 0000569C 00000000                   DATA FOR SOURCE-LINE 8501
26559 000056A0 00000000                   DATA FOR SOURCE-LINE 8506
26560 000056A4 00000000                   DATA FOR SOURCE-LINE 8509
26561 000056A8 00000000                   DATA FOR SOURCE-LINE 8510
26562 000056AC 00000000                   DATA FOR SOURCE-LINE 8511
26563 000056B0 00000000                   DATA FOR SOURCE-LINE 8512
26564 000056B4 00000000                   DATA FOR SOURCE-LINE 8514
26565 000056B8 00000000                   DATA FOR SOURCE-LINE 8515
26566 000056BC 00000000                   DATA FOR SOURCE-LINE 8516
26567 000056C0 00000000                   DATA FOR SOURCE-LINE 8519
26568 000056C4 00000000                   DATA FOR SOURCE-LINE 8520
26569 000056C8 00000000                   DATA FOR SOURCE-LINE 8521
26570 000056CC 00000000                   DATA FOR SOURCE-LINE 8522
26571 000056D0 00000000                   DATA FOR SOURCE-LINE 8523
26572 000056D4 00000000                   DATA FOR SOURCE-LINE 8526
26573 000056D8 00000000                   DATA FOR SOURCE-LINE 8530
26574 000056DC 00000000                   DATA FOR SOURCE-LINE 8531
26575 000056E0 00000000                   DATA FOR SOURCE-LINE 8532
26576 000056E4 00000000                   DATA FOR SOURCE-LINE 8533
26577 000056E8 00000000                   DATA FOR SOURCE-LINE 8534
26578 000056EC 00000000                   DATA FOR SOURCE-LINE 8535
26579 000056F0 00000000                   DATA FOR SOURCE-LINE 8536
26580 000056F4 00000000                   DATA FOR SOURCE-LINE 8537
26581 000056F8 00000000                   DATA FOR SOURCE-LINE 8538
26582 000056FC 00000000                   DATA FOR SOURCE-LINE 8539
26583 00005700 00000000                   DATA FOR SOURCE-LINE 8540
26584 00005704 00000000                   DATA FOR SOURCE-LINE 8541
26585 00005708 00000000                   DATA FOR SOURCE-LINE 8542
26586 0000570C 00000000                   DATA FOR SOURCE-LINE 8543
26587 00005710 00000000                   DATA FOR SOURCE-LINE 8544
26588 00005714 00000000                   DATA FOR SOURCE-LINE 8545
26589 00005718 00000000                   DATA FOR SOURCE-LINE 8546
26590 0000571C 00000000                   DATA FOR SOURCE-LINE 8547
26591 00005720 00000000                   DATA FOR SOURCE-LINE 8548
26592 00005724 00000000                   DATA FOR SOURCE-LINE 8549
26593 00005728 00000000                   DATA FOR SOURCE-LINE 8550
26594 0000572C 00000000                   DATA FOR SOURCE-LINE 8551
26595 00005730 00000000                   DATA FOR SOURCE-LINE 8552
26596 00005734 00000000                   DATA FOR SOURCE-LINE 8553
26597 00005738 00000000                   DATA FOR SOURCE-LINE 8554
26598 0000573C 00000000                   DATA FOR SOURCE-LINE 8556
26599                                     ***** END-POOL *****
26600 00005740                   8566             .ALIGN  4                               ;
26601 00005740                   8567     _CNT_REST_CHK_CLR:
26602                            8568             SUB_START
26603 00005740 4F22                   M           STS.L   PR,@-R15                ;[必要]
26604                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26605 00005742 200A              8569             XOR     R0,R0
26606                            8570             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26607 00005744 D10C                   M           MOV.L   #_SH4_CNT_REST_PLS,R1   ;DST_ADR
26608 00005746 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26609                            8571             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   370
PROGRAM NAME =

26610 00005748 D10C                   M           MOV.L   #_SH4_CNT_REST_HF,R1    ;DST_ADR
26611 0000574A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26612                            8572     
26613                            8573             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT1      ,L1=L,DT_REG=R0,WKREG1=R1       ;
26614 0000574C D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT1,R1  ;DST_ADR
26615 0000574E 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26616                            8574             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT2      ,L1=L,DT_REG=R0,WKREG1=R1       ;
26617 00005750 D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT2,R1  ;DST_ADR
26618 00005752 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26619                            8575             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26620 00005754 D10C                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
26621 00005756 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26622                            8576             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_CHK_CNT2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26623 00005758 D10C                   M           MOV.L   #_CNT_SYNC_CHK_CNT2,R1  ;DST_ADR
26624 0000575A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26625                            8577     
26626                            8578             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_STS_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
26627 0000575C D10C                   M           MOV.L   #_CNT_SYNC_STS_FLG,R1   ;DST_ADR
26628 0000575E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26629                            8579             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_ERR_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
26630 00005760 D10C                   M           MOV.L   #_CNT_SYNC_ERR_FLG,R1   ;DST_ADR
26631 00005762 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26632                            8580             REG_MOV_TO_MEM  DST_ADR=_CNT_PLSOUT_STOP_CNT    ,L1=W,DT_REG=R0,WKREG1=R1       ;
26633 00005764 D10C                   M           MOV.L   #_CNT_PLSOUT_STOP_CNT,R1        ;DST_ADR
26634 00005766 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26635                            8581             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_CNT1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26636 00005768 D10C                   M           MOV.L   #_CNT_SYNC_HOS_CNT1,R1  ;DST_ADR
26637 0000576A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26638                            8582             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
26639 0000576C D10C                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
26640 0000576E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26641                            8583     
26642                            8584     
26643                            8585     
26644                            8586             SUB_END
26645                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26646 00005770 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26647                            8587             M_RTS
26648 00005772 000B                   M           RTS                             ;RTSの後ろの
26649 00005774 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26650                            8588     
26651                            8589     
26652                            8590     
26653                            8591     
26654                            8592             .EXPORT _EXQ_STOP_LEV_POS_CLR           ;
26655                                     ***** BEGIN-POOL *****
26656 00005776 0000                       ALIGNMENT CODE
26657 00005778 00000000                   DATA FOR SOURCE-LINE 8570
26658 0000577C 00000000                   DATA FOR SOURCE-LINE 8571
26659 00005780 00000000                   DATA FOR SOURCE-LINE 8573
26660 00005784 00000000                   DATA FOR SOURCE-LINE 8574
26661 00005788 00000000                   DATA FOR SOURCE-LINE 8575
26662 0000578C 00000000                   DATA FOR SOURCE-LINE 8576
26663 00005790 00000000                   DATA FOR SOURCE-LINE 8578
26664 00005794 00000000                   DATA FOR SOURCE-LINE 8579
26665 00005798 00000000                   DATA FOR SOURCE-LINE 8580
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   371
PROGRAM NAME =

26666 0000579C 00000000                   DATA FOR SOURCE-LINE 8581
26667 000057A0 00000000                   DATA FOR SOURCE-LINE 8582
26668                                     ***** END-POOL *****
26669 000057A4                   8593             .ALIGN  4                               ;
26670 000057A4                   8594     _EXQ_STOP_LEV_POS_CLR:
26671                            8595             SUB_START
26672 000057A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
26673                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26674 000057A6 200A              8596             XOR     R0,R0
26675                            8597             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26676 000057A8 D104                   M           MOV.L   #_SH4_CNT_REST_HF,R1    ;DST_ADR
26677 000057AA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26678                            8598             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26679 000057AC D104                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
26680 000057AE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26681                            8599     
26682                            8600     ;       ===== 2005-04-14-E(4/18) ===
26683                            8601             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
26684 000057B0 D004                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26685 000057B2 400B                   M           JSR     @R0                     ;
26686 000057B4 0009                   M           NOP                                     ;
26687                            8602     
26688                            8603             SUB_END
26689                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26690 000057B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26691                            8604             M_RTS
26692 000057B8 000B                   M           RTS                             ;RTSの後ろの
26693 000057BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26694                            8605     
26695                            8606     ;       ***********************************
26696                            8607     ;       ***                             ***
26697                            8608     ;       ***     連続時の補正ﾃﾞｰﾀ        ***
26698                            8609     ;       ***     (CPU-Bのみ)             ***
26699                            8610     ;       ***********************************
26700                                     ***** BEGIN-POOL *****
26701 000057BC 00000000                   DATA FOR SOURCE-LINE 8597
26702 000057C0 00000000                   DATA FOR SOURCE-LINE 8598
26703 000057C4 00000000                   DATA FOR SOURCE-LINE 8601
26704                                     ***** END-POOL *****
26705 000057C8                   8611             .ALIGN  4                               ;
26706 000057C8                   8612     _CNT_HOS_DT_MAK:
26707                            8613             SUB_START
26708 000057C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26709                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26710                            8614     ;       CCSのみCALL
26711                            8615             SUB_END
26712                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26713 000057CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26714                            8616             M_RTS
26715 000057CC 000B                   M           RTS                             ;RTSの後ろの
26716 000057CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26717                            8617     
26718                            8618     
26719                            8619     ;       ***************************
26720                            8620     ;       ***     修正機能        ***
26721                            8621     ;       ***************************
26722 000057D0                   8622             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   372
PROGRAM NAME =

26723 000057D0                   8623     _CNT_SYNC_HOS_CALC
26724                            8624             SUB_START
26725 000057D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26726                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26727                            8625     ;       CCSのみCALL
26728                            8626             SUB_END
26729                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26730 000057D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26731                            8627             M_RTS
26732 000057D4 000B                   M           RTS                             ;RTSの後ろの
26733 000057D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26734                            8628     
26735                            8629     
26736                            8630     
26737                            8631     
26738                            8632     ;       ***************************************************
26739                            8633     ;       ***                                             ***
26740                            8634     ;       ***     回転・連続・ALLVﾓｰﾄﾞ時の減速補正        ***
26741                            8635     ;       ***                                             ***
26742                            8636     ;       ***************************************************
26743                            8637     
26744                            8638     ;       ***************************************************
26745                            8639     ;       ***     急停止・異常時                          ***
26746                            8640     ;       ***************************************************
26747                            8641             .EXPORT _GPOSIN_HOS_RESET
26748 000057D8                   8642             .ALIGN  4                               ;
26749 000057D8                   8643     _GPOSIN_HOS_RESET:
26750                            8644             SUB_START
26751 000057D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26752                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26753                            8645             SUB_END
26754                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26755 000057DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26756                            8646             M_RTS
26757 000057DC 000B                   M           RTS                             ;RTSの後ろの
26758 000057DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26759                            8647     
26760                            8648     ;       ***************************************************
26761                            8649     ;       ***     運転開始時                              ***
26762                            8650     ;       ***************************************************
26763 000057E0                   8651             .ALIGN  4                               ;
26764 000057E0                   8652     _GPOSIN_HOS_DRV_INI:
26765                            8653             SUB_START
26766 000057E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26767                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26768                            8654             SUB_END
26769                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26770 000057E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26771                            8655             M_RTS
26772 000057E4 000B                   M           RTS                             ;RTSの後ろの
26773 000057E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26774                            8656     
26775                            8657     
26776                            8658     ;       ***********************************
26777                            8659     ;       ***     演算                    ***
26778                            8660     ;       ***********************************
26779                            8661     ;       (1)減速距離+5を基準値とする
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   373
PROGRAM NAME =

26780                            8662     ;       (2)+1/-1以内になるまで補正する
26781                            8663     ;       (3)記憶値から100ﾊﾟﾙｽ以上離れたら再度記憶しなおす
26782 000057E8                   8664             .ALIGN  4                               ;
26783 000057E8                   8665     _GPOINT_HOS_CALC:
26784                            8666             SUB_START
26785 000057E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26786                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26787                            8667             SUB_END
26788                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26789 000057EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26790                            8668             M_RTS
26791 000057EC 000B                   M           RTS                             ;RTSの後ろの
26792 000057EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26793                            8669     
26794                            8670     
26795                            8671     
26796                            8672     
26797                            8673     
26798                            8674     
26799                            8675             .EXPORT _DEBUG_SIGNAL_OFF
26800 000057F0                   8676             .ALIGN  4                               ;
26801 000057F0                   8677     _DEBUG_SIGNAL_OFF:
26802                            8678             SUB_START
26803 000057F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26804                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26805                            8679             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT2                ;VERIFAY ERR(OFFない)
26806                                 M   
26807                                 M           .AIF    0 EQ    0
26808                                 C   ;;      (波形測定時)
26809                                 C           PUSH_REG1 R0
26810 000057F2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26811                                 M                                           ;REG=>[SP]
26812                                 M                                           ;"-4" FF,FF,FF,FC
26813                                 C           PUSH_REG1 R1
26814 000057F4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26815                                 M                                           ;REG=>[SP]
26816                                 M                                           ;"-4" FF,FF,FF,FC
26817                                 C           PUSH_REG1 R2
26818 000057F6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26819                                 M                                           ;REG=>[SP]
26820                                 M                                           ;"-4" FF,FF,FF,FC
26821 000057F8 D10B                   C           MOV.L   #_PDTRA,R1                      ;
26822 000057FA 6011                   C           MOV.W   @R1,R0                          ;
26823 000057FC 9212                   C           MOV.W   #LWORD ~BIT2,R2         ;
26824 000057FE 2029                   C           AND     R2,R0                           ;
26825 00005800 2101                   C           MOV.W   R0,@R1                          ;
26826                                 C           POP_REG1 R2
26827                                 M                                   ; RE"+4" 00,00,00,04
26828 00005802 62F6                   M           MOV.L   @R15+,R2        ;
26829                                 C           POP_REG1 R1
26830                                 M                                   ; RE"+4" 00,00,00,04
26831 00005804 61F6                   M           MOV.L   @R15+,R1        ;
26832                                 C           POP_REG1 R0
26833                                 M                                   ; RE"+4" 00,00,00,04
26834 00005806 60F6                   M           MOV.L   @R15+,R0        ;
26835                                 M           .AENDI
26836                                 M   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   374
PROGRAM NAME =

26837                            8680             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT6                ;RETRY ERR
26838                                 M   
26839                                 M           .AIF    0 EQ    0
26840                                 C   ;;      (波形測定時)
26841                                 C           PUSH_REG1 R0
26842 00005808 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26843                                 M                                           ;REG=>[SP]
26844                                 M                                           ;"-4" FF,FF,FF,FC
26845                                 C           PUSH_REG1 R1
26846 0000580A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26847                                 M                                           ;REG=>[SP]
26848                                 M                                           ;"-4" FF,FF,FF,FC
26849                                 C           PUSH_REG1 R2
26850 0000580C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26851                                 M                                           ;REG=>[SP]
26852                                 M                                           ;"-4" FF,FF,FF,FC
26853 0000580E D106                   C           MOV.L   #_PDTRA,R1                      ;
26854 00005810 6011                   C           MOV.W   @R1,R0                          ;
26855 00005812 9208                   C           MOV.W   #LWORD ~BIT6,R2         ;
26856 00005814 2029                   C           AND     R2,R0                           ;
26857 00005816 2101                   C           MOV.W   R0,@R1                          ;
26858                                 C           POP_REG1 R2
26859                                 M                                   ; RE"+4" 00,00,00,04
26860 00005818 62F6                   M           MOV.L   @R15+,R2        ;
26861                                 C           POP_REG1 R1
26862                                 M                                   ; RE"+4" 00,00,00,04
26863 0000581A 61F6                   M           MOV.L   @R15+,R1        ;
26864                                 C           POP_REG1 R0
26865                                 M                                   ; RE"+4" 00,00,00,04
26866 0000581C 60F6                   M           MOV.L   @R15+,R0        ;
26867                                 M           .AENDI
26868                                 M   
26869                            8681             SUB_END
26870                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26871 0000581E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26872                            8682             M_RTS
26873 00005820 000B                   M           RTS                             ;RTSの後ろの
26874 00005822 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26875                            8683     
26876                            8684     ;       ***************************************************************************
26877                            8685     ;       ***                                                                     ***
26878                            8686     ;       ***     工程を自分が切り替えた時点の自分のデータと相手のデータを収集    ***
26879                            8687     ;       ***     モニタ専用                                                      ***
26880                            8688     ;       ***************************************************************************
26881                                     ***** BEGIN-POOL *****
26882 00005824 FFFB                       DATA FOR SOURCE-LINE 8679
26883 00005826 FFBF                       DATA FOR SOURCE-LINE 8680
26884 00005828 00000000                   DATA FOR SOURCE-LINE 8679,8680
26885                                     ***** END-POOL *****
26886          000000C8          8689     _CNT_GRF_MAX            .EQU    200     ;MAX 500
26887                            8690     
26888          00000040          8691     _CNT_GRF_1BLOCK         .EQU    64              ;64byte
26889          00000000          8692     _CGRF_iSTEP_SV_PLS              .EQU    0
26890          00000004          8693     _CGRF_iSTEP_PV_PLS              .EQU    4
26891          00000008          8694     _CGRF_iSTEP_REST                .EQU    8
26892          0000000C          8695     _CGRF_iTOTAL_PLS                .EQU    12
26893          00000010          8696     _CGRF_iADD_PLS                  .EQU    16
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   375
PROGRAM NAME =

26894          00000014          8697     _CGRF_GENSOK_LNG1               .EQU    20
26895          00000018          8698     _CGRF_iSTEP_FRQ                 .EQU    24
26896          0000001A          8699     _CGRF_iSTEP_TIM                 .EQU    26
26897          0000001C          8700     _CGRF_iNOW_STEP                 .EQU    28
26898          0000001E          8701     _CGRF_SYNC_STS                  .EQU    30
26899          00000020          8702     _CGRF_SYNC_ERR                  .EQU    32
26900                            8703     
26901          00000024          8704     _CGRF_ySTEP_SV_PLS              .EQU    36
26902          00000028          8705     _CGRF_ySTEP_PV_PLS              .EQU    40
26903          0000002C          8706     _CGRF_ySTEP_REST                .EQU    44
26904          00000030          8707     _CGRF_yTOTAL_PLS                .EQU    48
26905          00000034          8708     _CGRF_yADD_PLS                  .EQU    52
26906          00000038          8709     _CGRF_ySTEP_FRQ                 .EQU    56
26907          0000003C          8710     _CGRF_ySTEP_TIM                 .EQU    60
26908          0000003E          8711     _CGRF_yNOW_STEP                 .EQU    62
26909                            8712     
26910                            8713     
26911                            8714             .MACRO  MEM_MOV2B_GBR   MEM,GBROFS,WKREG1
26912                            8715             MOV.L   #\MEM,\WKREG1           ;
26913                            8716             MOV.W   @\WKREG1,R0             ;
26914                            8717             MOV.W   R0,@(\GBROFS,GBR)       ;
26915                            8718             .ENDM
26916                            8719     
26917                            8720             .MACRO  MEM_MOV4B_GBR   MEM,GBROFS,WKREG1
26918                            8721             MOV.L   #\MEM,\WKREG1           ;
26919                            8722             MOV.W   @\WKREG1+,R0            ;
26920                            8723             MOV.W   R0,@(\GBROFS,GBR)       ;
26921                            8724             MOV.W   @\WKREG1,R0             ;
26922                            8725             MOV.W   R0,@(\GBROFS+2,GBR)     ;
26923                            8726             .ENDM
26924                            8727     
26925                            8728             .MACRO  GBR_MOV2B_MEM   MEM,GBROFS,WKREG1
26926                            8729             MOV.W   @(\GBROFS,GBR),R0       ;
26927                            8730             MOV.L   #\MEM,\WKREG1           ;
26928                            8731             MOV.W   R0,@\WKREG1             ;
26929                            8732             .ENDM
26930                            8733     
26931                            8734             .MACRO  GBR_MOV4B_MEM   MEM,GBROFS,WKREG1
26932                            8735             MOV.W   @(\GBROFS,GBR),R0       ;
26933                            8736             MOV.L   #\MEM,\WKREG1           ;
26934                            8737             MOV.W   R0,@\WKREG1             ;
26935                            8738             MOV.W   @(\GBROFS+2,GBR),R0     ;
26936                            8739             ADD     #2,\WKREG1              ;
26937                            8740             MOV.W   R0,@\WKREG1             ;
26938                            8741             .ENDM
26939                            8742             .MACRO  GBR_MOV4B_MEM_ALMT      MEM,GBROFS,WKREG1,WKREG2
26940                            8743             MOV.W   @(\GBROFS,GBR),R0       ;
26941                            8744             MOV.W   #H'3FF,\WKREG2          ;
26942                            8745             AND     \WKREG2,R0              ;
26943                            8746     
26944                            8747             MOV.L   #\MEM,\WKREG1           ;
26945                            8748             MOV.W   R0,@\WKREG1             ;
26946                            8749             MOV.W   @(\GBROFS+2,GBR),R0     ;
26947                            8750             ADD     #2,\WKREG1              ;
26948                            8751             MOV.W   R0,@\WKREG1             ;
26949                            8752             .ENDM
26950                            8753     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   376
PROGRAM NAME =

26951                            8754     ;       ===== EMG にも呼ばれる======
26952                            8755             .EXPORT _DATA_GRF_CNT_DATA_MAKE
26953 0000582C                   8756             .ALIGN  4                               ;
26954 0000582C                   8757     _DATA_GRF_CNT_DATA_MAKE:
26955                            8758             SUB_START
26956 0000582C 4F22                   M           STS.L   PR,@-R15                ;[必要]
26957                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26958                            8759             SUB_END
26959                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26960 0000582E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26961                            8760             M_RTS
26962 00005830 000B                   M           RTS                             ;RTSの後ろの
26963 00005832 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26964                            8761     
26965                            8762     
26966                            8763             .INCLUDE "ssa_disp.inc"         ;ﾃﾞﾊﾞｯｸﾓﾆﾀ
26967                               1 I1  ;       *******************************************
26968                               2 I1  ;       ***                                     ***
26969                               3 I1  ;       ***                                     ***
26970                               4 I1  ;       ***                                     ***
26971                               5 I1  ;       ***                                     ***
26972                               6 I1  ;       ***                                     ***
26973                               7 I1  ;       ***                                     ***
26974                               8 I1  ;       *******************************************
26975                               9 I1  ;       debug-monitor
26976                              10 I1  ;       ***********************************
26977                              11 I1  ;       ***     表示機能                ***
26978                              12 I1  ;       ***********************************
26979                              13 I1          .EXPORT _MONI_CNT_NOW_INFO_DISP         ;17
26980                              14 I1          .EXPORT _MONI_CNT_HIST_INFO_DISP        ;18
26981                              15 I1  ;       ***********************************
26982                              16 I1  ;       ***     現在値モニタ            ***
26983                              17 I1  ;       ***********************************
26984                              18 I1  ;       ***********************************
26985                              19 I1  ;       ***     NO.17                   ***
26986                              20 I1  ;       ***********************************
26987                              21 I1  
26988                              22 I1  ;       Inout R2 S02 (頁)
26989                              23 I1  ;       Input R3 S03 (詳細)
26990                              24 I1  ;
26991 00005834                     25 I1  _MONI_CNT_NOW_INFO_DISP
26992                              26 I1          SUB_START
26993 00005834 4F22                   M           STS.L   PR,@-R15                ;[必要]
26994                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26995                              27 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R3,R0                           ;
26996                              28 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #00,R0                          ;
26997                              29 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_010       ;
26998                              30 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP1,R0     ;17-00
26999                              31 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
27000                              32 I1  ;;;;;;;;;;;;;;;;;;;
27001                              33 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_010                    ;
27002                              34 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #01,R0                          ;
27003                              35 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_020
27004                              36 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP2,R0     ;17-1
27005                              37 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
27006                              38 I1  ;;;;;;;;;;;;;;;;;;;
27007                              39 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_020                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   377
PROGRAM NAME =

27008                              40 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #02,R0                          ;
27009                              41 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_030
27010                              42 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP3,R0     ;17-2
27011                              43 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
27012                              44 I1  ;;;;;;;;;;;;;;;;;;;
27013                              45 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_030
27014                              46 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP4,R0     ;17-3
27015                              47 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_EXT                    ;
27016                              48 I1  
27017                              49 I1          SUB_END
27018                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27019 00005836 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27020                              50 I1          M_RTS
27021 00005838 000B                   M           RTS                             ;RTSの後ろの
27022 0000583A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27023                              51 I1  
27024                              52 I1  ;       ***********************************
27025                              53 I1  ;       ***                             ***
27026                              54 I1  ;       ***     現在値モニタ            ***
27027                              55 I1  ;       ***     17-0-0-1/2              ***
27028                              56 I1  ;       ***                             ***
27029                              57 I1  ;       ***********************************
27030                              58 I1  ;       ====== 17-0 =====
27031 0000583C                     59 I1  _MONI_CNT_NOW_INFO_DSP1
27032                              60 I1          SUB_START
27033 0000583C 4F22                   M           STS.L   PR,@-R15                ;[必要]
27034                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27035                              61 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_POWER_ON_CNT,L1=W,DST=_PVP_MONALM_
                                          P01,L2=W
27036                              62 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_CB_STS_POINT,L1=W,DST=_PVP_MONALM_
                                          P02,L2=W
27037                              63 I1  ;;;;;;;;;;;;;;;;;;;
27038                              64 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08(同じことを確認) =======
27039                              65 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_FRQ          ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
27040                              66 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_FRQ          ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
27041                              67 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_FRQ          ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
27042                              68 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_FRQ          ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
27043                              69 I1  ;;;;;;;;;;;;;;;;;;;
27044                              70 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_FRQ          ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
27045                              71 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_FRQ          ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
27046                              72 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_FRQ          ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
27047                              73 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_FRQ          ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
27048                              74 I1  ;;;;;;;;;;;;;;;;;;;
27049                              75 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_TIM          ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
27050                              76 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_TIM          ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
27051                              77 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_TIM          ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   378
PROGRAM NAME =

27052                              78 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_TIM          ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
27053                              79 I1  ;;;;;;;;;;;;;;;;;;;
27054                              80 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_TIM          ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
27055                              81 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_TIM          ,W      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
27056                              82 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_TIM          ,W      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
27057                              83 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_TIM          ,W      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
27058                              84 I1  ;;;;;;;;;;;;;;;;;;;
27059                              85 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
27060                              86 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
27061                              87 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
27062                              88 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
27063                              89 I1  ;;;;;;;;;;;;;;;;;;;
27064                              90 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
27065                              91 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
27066                              92 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
27067                              93 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
27068                              94 I1  
27069                              95 I1  
27070                              96 I1          SUB_END
27071                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27072 0000583E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27073                              97 I1          M_RTS
27074 00005840 000B                   M           RTS                             ;RTSの後ろの
27075 00005842 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27076                              98 I1  
27077                              99 I1  ;       ***********************************
27078                             100 I1  ;       ***                             ***
27079                             101 I1  ;       ***     現在値モニタ            ***
27080                             102 I1  ;       ***     17-0-1-1/2              ***
27081                             103 I1  ;       ***                             ***
27082                             104 I1  ;       ***********************************
27083                             105 I1  ;       ====== 17-1 =====
27084 00005844                    106 I1  _MONI_CNT_NOW_INFO_DSP2
27085                             107 I1          SUB_START
27086 00005844 4F22                   M           STS.L   PR,@-R15                ;[必要]
27087                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27088                             108 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
27089                             109 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
27090                             110 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
27091                             111 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
27092                             112 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A04,W
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   379
PROGRAM NAME =

                                          ,R1,R2,R3;
27093                             113 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
27094                             114 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
27095                             115 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
27096                             116 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
27097                             117 I1  ;;;;;;;;;;;;;;;;;;;
27098                             118 I1  ;;;;;;;;;;;;;;;;;;;
27099                             119 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
27100                             120 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
27101                             121 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_FLAG      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
27102                             122 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
27103                             123 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
27104                             124 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
27105                             125 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
27106                             126 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
27107                             127 I1  ;;;;;;;;;;;;;;;;;;;
27108                             128 I1  ;;;;;;;;;;;;;;;;;;;
27109                             129 I1  ;;;;;;;;;;;;;;;;;;;;    ===========================<<<偏差>>>===========
27110                             130 I1  ;;;;;;;;;;;;;;;;;;;
27111                             131 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _HENSA_OVER_MOVE_CNT            ,L      ,_
                                          PVP_MONALM_C01,L,R1,R2,R3,H'3FFFFFF;
27112                             132 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_OUTPUT_TOTAL_PLS+4      ,L      ,_
                                          PVP_MONALM_C02,L,R1,R2,R3,H'3FFFFFF;
27113                             133 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_HENSA_LATCH+4           ,L      ,_
                                          PVP_MONALM_C03,L,R1,R2,R3,H'3FFFFFF;
27114                             134 I1  ;;;;;;;;;;;;;;;;;;;
27115                             135 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_CONST_SUB_PV                ,L      ,_
                                          PVP_MONALM_C04,L,R1,R2,R3,H'3FFFFFF;
27116                             136 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_SUB_PV                 ,L      ,_
                                          PVP_MONALM_C05,L,R1,R2,R3,H'3FFFFFF;
27117                             137 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_PLS                    ,L      ,_
                                          PVP_MONALM_C06,L,R1,R2,R3,H'3FFFFFF;
27118                             138 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_SV_OBJ_ABSPLS+4           ,L      ,_
                                          PVP_MONALM_C07,L,R1,R2,R3,H'3FFFFFF;
27119                             139 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_PV_ABSPLS+4       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
27120                             140 I1  ;;;;;;;;;;;;;;;;;;;
27121                             141 I1  ;;;;;;;;;;;;;;;;;;;
27122                             142 I1          SUB_END
27123                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27124 00005846 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27125                             143 I1          M_RTS
27126 00005848 000B                   M           RTS                             ;RTSの後ろの
27127 0000584A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27128                             144 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   380
PROGRAM NAME =

27129                             145 I1  
27130                             146 I1  ;       ***********************************
27131                             147 I1  ;       ***                             ***
27132                             148 I1  ;       ***     現在値モニタ            ***
27133                             149 I1  ;       ***     17-0-2-1/2              ***
27134                             150 I1  ;       ***                             ***
27135                             151 I1  ;       ***********************************
27136                             152 I1  ;       ====== 17-2 =====
27137 0000584C                    153 I1  _MONI_CNT_NOW_INFO_DSP3
27138                             154 I1          SUB_START
27139 0000584C 4F22                   M           STS.L   PR,@-R15                ;[必要]
27140                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27141                             155 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
27142                             156 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_STEP           ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
27143                             157 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_STEP           ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
27144                             158 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _INT_POS_CTL_STEP       ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
27145                             159 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SV_POS_CTL_STEP        ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
27146                             160 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_PLSOUT_STOP_CNT    ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
27147                             161 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_CNT1      ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
27148                             162 I1  ;;;;;;;;;;;;;;;;;;;
27149                             163 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
27150                             164 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27151                             165 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27152                             166 I1  ;;;;;;;;;;;;;;;;;;;
27153                             167 I1  ;;;;;;;;;;;;;;;;;;;
27154                             168 I1  ;;;;;;;;;;;;;;;;;;;
27155                             169 I1  ;;;;;;;;;;;;;;;;;;;;    ======================================
27156                             170 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
27157                             171 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
27158                             172 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
27159                             173 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
27160                             174 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
27161                             175 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2      ,L      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
27162                             176 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
27163                             177 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
27164                             178 I1  ;;;;;;;;;;;;;;;;;;;
27165                             179 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_REST_P       ,L      ,_PVP_MONA
                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
27166                             180 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
27167                             181 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_REST_P       ,L      ,_PVP_MONA
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   381
PROGRAM NAME =

                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
27168                             182 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
27169                             183 I1  ;;;;;;;;;;;;;;;;;;;
27170                             184 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_REST_P       ,L      ,_PVP_MONA
                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
27171                             185 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
27172                             186 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_REST_P       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
27173                             187 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
27174                             188 I1  ;;;;;;;;;;;;;;;;;;;
27175                             189 I1  ;;;;;;;;;;;;;;;;;;;
27176                             190 I1  
27177                             191 I1          SUB_END
27178                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27179 0000584E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27180                             192 I1          M_RTS
27181 00005850 000B                   M           RTS                             ;RTSの後ろの
27182 00005852 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27183                             193 I1  
27184                             194 I1  ;       ***********************************
27185                             195 I1  ;       ***                             ***
27186                             196 I1  ;       ***     現在値モニタ            ***
27187                             197 I1  ;       ***     17-0-3-1/2              ***
27188                             198 I1  ;       ***                             ***
27189                             199 I1  ;       ***********************************
27190          00000000           200 I1  _SH4_4B         .EQU    0
27191          00000004           201 I1  _SH2_4B         .EQU    4
27192          00000000           202 I1  _SH4_8B         .EQU    0
27193          00000008           203 I1  _SH2_8B         .EQU    8
27194                             204 I1  
27195                             205 I1  
27196                             206 I1  ;       ====== 17-3 =====
27197 00005854                    207 I1  _MONI_CNT_NOW_INFO_DSP4
27198                             208 I1          SUB_START
27199 00005854 4F22                   M           STS.L   PR,@-R15                ;[必要]
27200                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27201                             209 I1  
27202                             210 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_REST_SPD_HOSEI_FLG,W,_PVP_MONALM_A01,W,R1,R2,
                                          R3      ;
27203                             211 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
27204                             212 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27205                             213 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27206                             214 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27207                             215 I1  ;;;;;;;;;;;;;;;;;;;
27208                             216 I1  ;;;;;;;;;;;;;;;;;;;
27209                             217 I1  ;;;;;;;;;;;;;;;;;;;;    -------------------------- HENSAﾃﾞｰﾀ---------
27210                             218 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_MONI_CPUAB_PLSDELT,R1
27211                             219 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(0,R1),R5
                                          ;
27212                             220 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(4,R1),R6
                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   382
PROGRAM NAME =

27213                             221 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R5,R0
                                          ;
27214                             222 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;H
27215                             223 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
27216                             224 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A06 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;L
27217                             225 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R6,R0
27218                             226 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27219                             227 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
27220                             228 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27221                             229 I1  ;;;;;;;;;;;;;;;;;;;
27222                             230 I1  ;;;;;;;;;;;;;;;;;;;
27223                             231 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH4_4B,R4
                                          ;CPUA
27224                             232 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
27225                             233 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B01 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27226                             234 I1  ;;;;;;;;;;;;;;;;;;;
27227                             235 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH2_4B,R4
                                          ;CPU
27228                             236 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
27229                             237 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27230                             238 I1  ;;;;;;;;;;;;;;;;;;;
27231                             239 I1  ;;;;;;;;;;;;;;;;;;;
27232                             240 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH4_4B,R4
                                          ;
27233                             241 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
27234                             242 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27235                             243 I1  ;;;;;;;;;;;;;;;;;;;
27236                             244 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH2_4B,R4
                                          ;
27237                             245 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
27238                             246 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27239                             247 I1  ;;;;;;;;;;;;;;;;;;;
27240                             248 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
27241                             249 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27242                             250 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2,W,_PVP_MONALM_B06,W,R1,R2,R3;
27243                             251 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1,L,_PVP_MONALM_B07,W,R1,R2,R3;
27244                             252 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2,L,_PVP_MONALM_B08,W,R1,R2,R3;
27245                             253 I1  ;;;;;;;;;;;;;;;;;;;
27246                             254 I1  ;;;;;;;;;;;;;;;;;;;
27247                             255 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH4_4B,R4   ;OK
27248                             256 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27249                             257 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C01 ,L1=L,DT_REG=R0,WKREG1=R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   383
PROGRAM NAME =

                                          ;
27250                             258 I1  ;;;;;;;;;;;;;;;;;;;
27251                             259 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH2_4B,R4   ;OK
27252                             260 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27253                             261 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C02 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27254                             262 I1  ;;;;;;;;;;;;;;;;;;;
27255                             263 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH4_4B,R4 ;
27256                             264 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27257                             265 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C03 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27258                             266 I1  ;;;;;;;;;;;;;;;;;;;
27259                             267 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH2_4B,R4 ;
27260                             268 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27261                             269 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C04 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27262                             270 I1  ;;;;;;;;;;;;;;;;;;;
27263                             271 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH4_8B+4,R4              ;20060919
27264                             272 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27265                             273 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27266                             274 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27267                             275 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C05 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27268                             276 I1  ;;;;;;;;;;;;;;;;;;;
27269                             277 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH2_8B+4,R4              ;20060919
27270                             278 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27271                             279 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27272                             280 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27273                             281 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C06 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27274                             282 I1  ;;;;;;;;;;;;;;;;;;;
27275                             283 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH4_8B+4,R4              ;
27276                             284 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27277                             285 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27278                             286 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27279                             287 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C07 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27280                             288 I1  ;;;;;;;;;;;;;;;;;;;
27281                             289 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH2_8B+4,R4              ;
27282                             290 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27283                             291 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27284                             292 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27285                             293 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C08 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27286                             294 I1  ;;;;;;;;;;;;;;;;;;;
27287                             295 I1  
27288                             296 I1          SUB_END
27289                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27290 00005856 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27291                             297 I1          M_RTS
27292 00005858 000B                   M           RTS                             ;RTSの後ろの
27293 0000585A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27294                             298 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   384
PROGRAM NAME =

27295                             299 I1  
27296                             300 I1  
27297                             301 I1  ;       =========== C01~C08 =======
27298                             302 I1  
27299                             303 I1  
27300                             304 I1  
27301                             305 I1  ;       ***********************************
27302                             306 I1  ;       ***     履歴モニタ              ***
27303                             307 I1  ;       ***                             ***
27304                             308 I1  ;       ***     18-(0~199)-0/1-1/2      ***
27305                             309 I1  ;       ***                             ***
27306                             310 I1  ;       ***********************************
27307                             311 I1  ;       R2 頁
27308                             312 I1  ;       R3 詳細 0:自分　1:相手
27309 0000585C                    313 I1  _MONI_CNT_HIST_INFO_DISP
27310                             314 I1          SUB_START
27311 0000585C 4F22                   M           STS.L   PR,@-R15                ;[必要]
27312                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27313                             315 I1          SUB_END
27314                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27315 0000585E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27316                             316 I1          M_RTS
27317 00005860 000B                   M           RTS                             ;RTSの後ろの
27318 00005862 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27319                             317 I1  
27320                            8764     
27321                            8765     ;       ***************************
27322                            8766     ;       ***                     ***
27323                            8767     ;       ***************************
27324                            8768             .EXPORT _HENSA_DAT_MONI_MAK
27325 00005864                   8769             .ALIGN  4                               ;
27326 00005864                   8770     _HENSA_DAT_MONI_MAK:
27327                            8771             SUB_START
27328 00005864 4F22                   M           STS.L   PR,@-R15                ;[必要]
27329                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27330                            8772     
27331                            8773     ;       ===== 遅れ分払い出したことにする====
27332 00005866 D30F              8774             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
27333 00005868 6132              8775             MOV.L   @R3,R1                                                  ;
27334 0000586A 5231              8776             MOV.L   @(4,R3),R2                                              ;
27335                            8777     
27336 0000586C D00E              8778             MOV.L   #_LINK_PV_ABSPLS,R0                             ;
27337 0000586E 6502              8779             MOV.L   @R0,R5                                                  ;
27338 00005870 5601              8780             MOV.L   @(4,R0),R6                                              ;
27339                            8781     
27340                            8782             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27341 00005872 0008                   M           CLRT
27342 00005874 326A                   M           SUBC    R6,R2
27343 00005876 315A                   M           SUBC    R5,R1
27344                            8783     
27345 00005878 D00C              8784             MOV.L   #_SV_CONST_SUB_PV,R0                                    ;
27346 0000587A 4211              8785             CMP/PZ  R2
27347 0000587C 8900              8786             BT      HENSA_DAT_MONMK_050                                     ;
27348 0000587E 622B              8787             NEG     R2,R2
27349 00005880                   8788     HENSA_DAT_MONMK_050:
27350 00005880 2022              8789             MOV.L   R2,@R0                                                  ;SV(CONST)-PV=
27351                            8790     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   385
PROGRAM NAME =

27352                            8791     ;       ===== 遅れ分払い出したことにする====
27353 00005882 D308              8792             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
27354 00005884 6132              8793             MOV.L   @R3,R1                                                  ;
27355 00005886 5231              8794             MOV.L   @(4,R3),R2                                              ;SV-REST-PLS
27356                            8795     
27357 00005888 D109              8796             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
27358 0000588A 6612              8797             MOV.L   @R1,R6                                                  ;
27359 0000588C 255A              8798             XOR     R5,R5                                                   ;
27360                            8799             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27361 0000588E 0008                   M           CLRT
27362 00005890 326A                   M           SUBC    R6,R2
27363 00005892 315A                   M           SUBC    R5,R1
27364 00005894 4211              8800             CMP/PZ  R2
27365 00005896 8900              8801             BT      HENSA_DAT_MONMK_100                                     ;
27366 00005898 622B              8802             NEG     R2,R2
27367 0000589A                   8803     HENSA_DAT_MONMK_100:
27368                            8804     
27369 0000589A D006              8805             MOV.L   #_SV_REAL_SUB_PV,R0
27370 0000589C 2022              8806             MOV.L   R2,@R0
27371                            8807     
27372                            8808             SUB_END
27373                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27374 0000589E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27375                            8809             M_RTS
27376 000058A0 000B                   M           RTS                             ;RTSの後ろの
27377 000058A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27378                            8810     
27379                            8811     
27380                            8812     
27381                            8813     ;//     ===================================================
27382                            8814     ;//     ===     対策ソフト部分 2005-04-14-E(4/18)       ===
27383                            8815     ;//     ===================================================
27384                            8816             .EXPORT _SGL_CMP_ERR_DT_CLR
27385                                     ***** BEGIN-POOL *****
27386 000058A4 00000000                   DATA FOR SOURCE-LINE 8774,8792
27387 000058A8 00000000                   DATA FOR SOURCE-LINE 8778
27388 000058AC 00000000                   DATA FOR SOURCE-LINE 8784
27389 000058B0 00000000                   DATA FOR SOURCE-LINE 8796
27390 000058B4 00000000                   DATA FOR SOURCE-LINE 8805
27391                                     ***** END-POOL *****
27392 000058B8                   8817             .ALIGN  4                               ;
27393 000058B8                   8818     _SGL_CMP_ERR_DT_CLR:
27394                            8819             SUB_START
27395 000058B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
27396                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27397 000058BA 200A              8820             XOR     R0,R0
27398                            8821             REG_MOV_TO_MEM  DST_ADR=_CMP_LNGTH_AD_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27399 000058BC D103                   M           MOV.L   #_CMP_LNGTH_AD_ERR_CNT,R1       ;DST_ADR
27400 000058BE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
27401                            8822             REG_MOV_TO_MEM  DST_ADR=_CMP_RESTP_SR_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27402 000058C0 D103                   M           MOV.L   #_CMP_RESTP_SR_ERR_CNT,R1       ;DST_ADR
27403 000058C2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
27404                            8823             SUB_END
27405                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27406 000058C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   386
PROGRAM NAME =

27407                            8824             M_RTS
27408 000058C6 000B                   M           RTS                             ;RTSの後ろの
27409 000058C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27410                            8825     
27411                            8826             .INCLUDE        "ssa_cntc.inc"          ;//2004-12-15
27412                                 I1  ***** BEGIN-POOL *****
27413 000058CA 0000                   I1  ALIGNMENT CODE
27414 000058CC 00000000               I1  DATA FOR SOURCE-LINE 8821
27415 000058D0 00000000               I1  DATA FOR SOURCE-LINE 8822
27416                                 I1  ***** END-POOL *****
27417 000058D4                      1 I1  _BANK_CNT_STEP_NEXT_CHK:
27418                               2 I1          SUB_START
27419 000058D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
27420                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27421                               3 I1  ;       ===== 最終工程で最終目標位置を超えたら次の回転数への切り替えを行う
27422 000058D6 DB06                 4 I1          MOV.L   #_INT_POS_CTL_STEP,R11                  ;//内部制御工程1~11
27423 000058D8 60B1                 5 I1          MOV.W   @R11,R0                                 ;
27424 000058DA 70FF                 6 I1          ADD     #-1,R0                                  ;
27425 000058DC 4008                 7 I1          SHLL2   R0
27426 000058DE D105                 8 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1                 ;
27427 000058E0 021E                 9 I1          MOV.L   @(R0,R1),R2                             ;現状の工程の目標工程
27428 000058E2 D105                10 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;
27429 000058E4 6311                11 I1          MOV.W   @R1,R3                                  ;
27430 000058E6 7301                12 I1          ADD     #1,R3                                   ;設定+1(帰りも1ｽﾃｯﾌﾟ)
27431 000058E8 3320                13 I1          CMP/EQ  R2,R3                                   ;
27432 000058EA 8907                14 I1          BT      BCNT_STEP_NEXTCHK_100                   ;(最終工程相当)
27433                              15 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;最終工程を行おうとしていないが残
                                          り量を引くことは有り
27434 000058EC A04F                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27435 000058EE 0009                   M           NOP
27436                              16 I1                                                          ;...不要
27437                              17 I1  ;       ======= 最終工程相当の状態=======
27438                              18 I1  ;       ======= 減速距離と残り距離=====
27439                                 I1  ***** BEGIN-POOL *****
27440 000058F0 00000000               I1  DATA FOR SOURCE-LINE 4
27441 000058F4 00000000               I1  DATA FOR SOURCE-LINE 8
27442 000058F8 00000000               I1  DATA FOR SOURCE-LINE 10
27443                                 I1  ***** END-POOL *****
27444 000058FC                     19 I1  BCNT_STEP_NEXTCHK_100:
27445 000058FC D408                20 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
27446 000058FE 6203                21 I1          MOV     R0,R2                                                   ;
27447 00005900 4200                22 I1          SHLL    R2                                                      ;
27448 00005902 342C                23 I1          ADD     R2,R4                                                   ;
27449 00005904 6146                24 I1          MOV.L   @R4+,R1                                                 ;
27450 00005906 6242                25 I1          MOV.L   @R4,R2                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
27451                              26 I1  
27452 00005908 D406                27 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
27453 0000590A 6546                28 I1          MOV.L   @R4+,R5                                                 ;
27454 0000590C 6642                29 I1          MOV.L   @R4,R6                                                  ;
27455                              30 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27456 0000590E 0008                   M           CLRT
27457 00005910 326A                   M           SUBC    R6,R2
27458 00005912 315A                   M           SUBC    R5,R1
27459                              31 I1  
27460 00005914 4111                32 I1          CMP/PZ  R1
27461 00005916 8B0B                33 I1          BF      BCNT_STEP_NEXTCHK_200                   ;"-" 超えたJUMP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   387
PROGRAM NAME =

27462 00005918 2118                34 I1          TST     R1,R1                                   ;
27463                              35 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_120                ;
27464 0000591A 8905                   M           BT      BCNT_STEP_NEXTCHK_120
27465                              36 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
27466 0000591C A030                   M           BRA     BCNT_STEP_NEXTCHK_CHK
27467 0000591E 0009                   M           NOP
27468                                 I1  ***** BEGIN-POOL *****
27469 00005920 00000000               I1  DATA FOR SOURCE-LINE 20
27470 00005924 00000000               I1  DATA FOR SOURCE-LINE 27
27471                                 I1  ***** END-POOL *****
27472 00005928                     37 I1  BCNT_STEP_NEXTCHK_120:
27473 00005928 2228                38 I1          TST     R2,R2                                   ;
27474                              39 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_200                ;
27475 0000592A 8901                   M           BT      BCNT_STEP_NEXTCHK_200
27476                              40 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
27477 0000592C A028                   M           BRA     BCNT_STEP_NEXTCHK_CHK
27478 0000592E 0009                   M           NOP
27479                              41 I1  
27480                              42 I1  ;       --- 超えた(サイクル変更を行なう)---
27481 00005930                     43 I1  BCNT_STEP_NEXTCHK_200:
27482                              44 I1  ;(停止指令が出ていれば足さない)
27483 00005930 D108                45 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
27484 00005932 6011                46 I1          MOV.W   @R1,R0                                                  ;
27485 00005934 C804                47 I1          TST     #BIT2,R0                                                ;
27486                              48 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_250                                ;待機点停止しない
                                          運転
27487 00005936 8B15                   M           BF      BCNT_STEP_NEXTCHK_250
27488                              49 I1  
27489 00005938 D107                50 I1          MOV.L   #_STOP_LATCH_B,R1                                       ;//BIT0:ｽﾄｯﾌﾟ釦
27490 0000593A 6011                51 I1          MOV.W   @R1,R0                                                  ;
27491 0000593C C801                52 I1          TST     #BIT0,R0                                                ;
27492                              53 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_250                                ;
27493 0000593E 8911                   M           BT      BCNT_STEP_NEXTCHK_250
27494                              54 I1  
27495                              55 I1  ;       ----- 停止ｺﾏﾝﾄﾞON(ありえない) -----
27496                              56 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
27497 00005940 D106                   M           MOV.L   #_STOP_LATCH,R1         ;
27498 00005942 6011                   M           MOV.W   @R1,R0          ;
27499 00005944 CB01                   M           OR      #BIT0,R0                ;
27500 00005946 2101                   M           MOV.W   R0,@R1          ;
27501                              57 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
27502 00005948 D105                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27503 0000594A 6011                   M           MOV.W   @R1,R0          ;
27504 0000594C CB01                   M           OR      #BIT0,R0                ;
27505 0000594E 2101                   M           MOV.W   R0,@R1          ;
27506                              58 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                                   ;
27507 00005950 A01D                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27508 00005952 0009                   M           NOP
27509                              59 I1  
27510                              60 I1  
27511                                 I1  ***** BEGIN-POOL *****
27512 00005954 00000000               I1  DATA FOR SOURCE-LINE 45
27513 00005958 00000000               I1  DATA FOR SOURCE-LINE 50
27514 0000595C 00000000               I1  DATA FOR SOURCE-LINE 56
27515 00005960 00000000               I1  DATA FOR SOURCE-LINE 57
27516                                 I1  ***** END-POOL *****
27517 00005964                     61 I1  BCNT_STEP_NEXTCHK_250:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   388
PROGRAM NAME =

27518                              62 I1  
27519 00005964 D104                63 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
27520 00005966 6011                64 I1          MOV.W   @R1,R0                                                  ;
27521 00005968 C808                65 I1          TST     #BIT3,R0                                                ;
27522                              66 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_300                                ;(停止のない運転時
                                          のみ補正する)
27523 0000596A 89FF                   M           BT      BCNT_STEP_NEXTCHK_300
27524                              67 I1  
27525                              68 I1  ;       ========== 減速点補正(タイマが全くない運転) ============
27526                              69 I1  ;;;     FAR_JSR #_GPOINT_HOS_CALC,R0                    ;CPU-A/B()
27527                              70 I1  ;       ==================================
27528                              71 I1  ;;;;;;;;20060919        .AIF    0 EQ    1       ;
27529                              72 I1  ;;;;;;;;        FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0               ;
27530                              73 I1  ;;;;;;;;        .AENDI                                  ;
27531                              74 I1  
27532                              75 I1  ;       ========== 新残りﾊﾟﾙｽ補正===============
27533                              76 I1  ;       誤差が1000PLSを超えたら周波数を変える 1HZ
27534                              77 I1  ;       誤差が2000PLSを超えたら周波数を変える 2HZ
27535                              78 I1  ;       誤差が3000PLSを超えたら周波数を変える 4HZ
27536                              79 I1  ;
27537                              80 I1  ;
27538                              81 I1  ;
27539                              82 I1  ;       ====================================
27540 0000596C                     83 I1  BCNT_STEP_NEXTCHK_300:
27541                              84 I1  
27542                              85 I1          FAR_JSR #_CNT_VMODE_NEXT_CYCL_START,R0          ;(STOPﾗｯﾁはまずここでﾁｪｯｸされる)
27543 0000596C D003                   M           MOV.L   #_CNT_VMODE_NEXT_CYCL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27544 0000596E 400B                   M           JSR     @R0                     ;
27545 00005970 0009                   M           NOP                                     ;
27546                              86 I1  
27547                              87 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;
27548 00005972 A00C                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27549 00005974 0009                   M           NOP
27550                              88 I1  
27551                              89 I1  
27552                              90 I1  ;       ====(最終工程相当でここにくる)=====
27553                                 I1  ***** BEGIN-POOL *****
27554 00005976 0000                   I1  ALIGNMENT CODE
27555 00005978 00000000               I1  DATA FOR SOURCE-LINE 63
27556 0000597C 00000000               I1  DATA FOR SOURCE-LINE 85
27557                                 I1  ***** END-POOL *****
27558 00005980                     91 I1  BCNT_STEP_NEXTCHK_CHK:
27559 00005980 D104                92 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27560 00005982 6011                93 I1          MOV.W   @R1,R0                          ;
27561 00005984 2008                94 I1          TST     R0,R0                           ;
27562                              95 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_EXT        ;
27563 00005986 8B02                   M           BF      BCNT_STEP_NEXTCHK_EXT
27564                              96 I1  ;       === 停止の減算はどこでも良い====
27565                              97 I1  ;       === 停止がある場合は停止で行うから結局は最終工程相当で引く===
27566                              98 I1          FAR_JSR #_CNT_GPOINT_STOP_TYP2,R0       ;連続停止時減速可能かどうかチェック
27567 00005988 D003                   M           MOV.L   #_CNT_GPOINT_STOP_TYP2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27568 0000598A 400B                   M           JSR     @R0                     ;
27569 0000598C 0009                   M           NOP                                     ;
27570                              99 I1  
27571                             100 I1  
27572 0000598E                    101 I1  BCNT_STEP_NEXTCHK_EXT:
27573                             102 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   389
PROGRAM NAME =

27574                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27575 0000598E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27576                             103 I1          M_RTS
27577 00005990 000B                   M           RTS                             ;RTSの後ろの
27578 00005992 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27579                             104 I1  
27580                             105 I1  
27581                             106 I1  
27582                             107 I1  ;       ***********************************
27583                             108 I1  ;       ***                             ***
27584                             109 I1  ;       ***     工程切り替え            ***
27585                             110 I1  ;       ***     data add                ***
27586                             111 I1  ;       ***                             ***
27587                             112 I1  ;       ***********************************
27588                                 I1  ***** BEGIN-POOL *****
27589 00005994 00000000               I1  DATA FOR SOURCE-LINE 92
27590 00005998 00000000               I1  DATA FOR SOURCE-LINE 98
27591                                 I1  ***** END-POOL *****
27592 0000599C                    113 I1  _CNT_VMODE_NEXT_CYCL_START:
27593                             114 I1          SUB_START
27594 0000599C 4F22                   M           STS.L   PR,@-R15                ;[必要]
27595                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27596                             115 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0     ;ﾓﾆﾀ用
27597 0000599E D018                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27598 000059A0 400B                   M           JSR     @R0                     ;
27599 000059A2 0009                   M           NOP                                     ;
27600                             116 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0        ;ﾓﾆﾀ用
27601 000059A4 D017                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27602 000059A6 400B                   M           JSR     @R0                     ;
27603 000059A8 0009                   M           NOP                                     ;
27604                             117 I1  
27605                             118 I1          FAR_JSR #_CPU_AB_CST_ON_OUT2,R0                 ;次へいくぞ!
27606 000059AA D017                   M           MOV.L   #_CPU_AB_CST_ON_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27607 000059AC 400B                   M           JSR     @R0                     ;
27608 000059AE 0009                   M           NOP                                     ;
27609                             119 I1          FAR_JSR #_MOTION_CYCLE_END,R0                   ;
27610 000059B0 D016                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27611 000059B2 400B                   M           JSR     @R0                     ;
27612 000059B4 0009                   M           NOP                                     ;
27613                             120 I1          FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
27614 000059B6 D016                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27615 000059B8 400B                   M           JSR     @R0                     ;
27616 000059BA 0009                   M           NOP                                     ;
27617                             121 I1          FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
27618 000059BC D015                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27619 000059BE 400B                   M           JSR     @R0                     ;
27620 000059C0 0009                   M           NOP                                     ;
27621                             122 I1  ;;2016-10-31    FAR_JSR #_DBG_END_CNT3,R0                       ;
27622                             123 I1  
27623                             124 I1  ;       --------- 2020-05-07-----------
27624 000059C2 D415               125 I1          MOV.L   #_M_LINK_AREASIG,R4                     ;
27625 000059C4 6041               126 I1          MOV.W   @R4,R0                                          ;
27626 000059C6 C802               127 I1          TST     #(BIT1),R0                                              ;下降からの開始
27627                             128 I1          TST_BIT_OF VMODE_LOT_SIG_ON                     ;
27628 000059C8 8903                   M           BT      VMODE_LOT_SIG_ON
27629 000059CA D114               129 I1          MOV.L   #_LOT_CHK_FLG,R1                        ;
27630 000059CC 6011               130 I1          MOV.W   @R1,R0                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   390
PROGRAM NAME =

27631 000059CE CB07               131 I1          OR      #(BIT2+BIT1+BIT0),R0                    ;(待機点は通過)
27632 000059D0 2101               132 I1          MOV.W   R0,@R1                                          ;
27633 000059D2                    133 I1  VMODE_LOT_SIG_ON:
27634                             134 I1  
27635                             135 I1  ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB260,R4     ;
27636                             136 I1  ;;;     MOV.W   R0,@R4                                          ;
27637                             137 I1  ;;;
27638                             138 I1  ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB257,R1             ;257.0,1,2,3(END),4
27639                             139 I1  ;;;     MOV.W   @R1,R0
27640                             140 I1  ;;;     ADD             #1,R0
27641                             141 I1  ;;;     MOV.W   R0,@R1
27642                             142 I1  ;       -----------------------------------
27643                             143 I1  
27644                             144 I1  
27645 000059D2 200A               145 I1          XOR     R0,R0                                   ;
27646 000059D4 D112               146 I1          MOV.L   #_INT_POS_STEP_FLG,R1                   ;//ｽﾃｯﾌﾟ,段取り共通
27647 000059D6 2101               147 I1          MOV.W   R0,@R1                                  ;
27648                             148 I1  
27649                             149 I1          FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0            ;
27650 000059D8 D012                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27651 000059DA 400B                   M           JSR     @R0                     ;
27652 000059DC 0009                   M           NOP                                     ;
27653                             150 I1  
27654                             151 I1  ;       ------------------2006-12-18----------------------
27655                             152 I1          FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0             ;20060919:
27656 000059DE D012                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27657 000059E0 400B                   M           JSR     @R0                     ;
27658 000059E2 0009                   M           NOP                                     ;
27659                             153 I1  ;       --------------------------------------------------
27660                             154 I1  
27661 000059E4 D111               155 I1          MOV.L   #_SV_POS_CTL_STEP,R1                    ;//1msec 制御上の見かけ
27662 000059E6 6411               156 I1          MOV.W   @R1,R4                                  ;
27663 000059E8 D211               157 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
27664 000059EA 2241               158 I1          MOV.W   R4,@R2                                  ;
27665                             159 I1  
27666                             160 I1  
27667                             161 I1  ;;      FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;_LNGTH,SHIN,SPEED<設定から求める>
27668                             162 I1  
27669                             163 I1  
27670                             164 I1  ;       ==== 最終工程相当でなければ速度を切り替えるだけ===
27671                             165 I1  ;       LINKX-->LINKは
27672                             166 I1  ;       その前の処理で行われているはずなので不要
27673 000059EC D111               167 I1          MOV.L   #_CPOS_MOD_FLG1,R1                      ;
27674 000059EE 6011               168 I1          MOV.W   @R1,R0                                  ;
27675 000059F0 C808               169 I1          TST     #BIT3,R0                                ;
27676                             170 I1          TST_BIT_ON CNT_VMODE_NEXT_CYCLSTR_050           ;
27677 000059F2 8B23                   M           BF      CNT_VMODE_NEXT_CYCLSTR_050
27678                             171 I1  
27679                             172 I1  ;       === ﾀｲﾏ停止有り ===ここで移動量は作成しない===
27680                             173 I1          FAR_JSR #_CNT_SPD_SET,R0                        ;(これではステップ上の運転開始とは
                                          いえ自起動まで落ちているから良い)
27681 000059F4 D010                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27682 000059F6 400B                   M           JSR     @R0                     ;
27683 000059F8 0009                   M           NOP                                     ;
27684                             174 I1          M_BRA   CNT_VMODE_NEXT_CYCLSTR_100
27685 000059FA A025                   M           BRA     CNT_VMODE_NEXT_CYCLSTR_100
27686 000059FC 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   391
PROGRAM NAME =

27687                             175 I1  
27688                             176 I1  
27689                                 I1  ***** BEGIN-POOL *****
27690 000059FE 0000                   I1  ALIGNMENT CODE
27691 00005A00 00000000               I1  DATA FOR SOURCE-LINE 115
27692 00005A04 00000000               I1  DATA FOR SOURCE-LINE 116
27693 00005A08 00000000               I1  DATA FOR SOURCE-LINE 118
27694 00005A0C 00000000               I1  DATA FOR SOURCE-LINE 119
27695 00005A10 00000000               I1  DATA FOR SOURCE-LINE 120
27696 00005A14 00000000               I1  DATA FOR SOURCE-LINE 121
27697 00005A18 00000000               I1  DATA FOR SOURCE-LINE 125
27698 00005A1C 00000000               I1  DATA FOR SOURCE-LINE 129
27699 00005A20 00000000               I1  DATA FOR SOURCE-LINE 146
27700 00005A24 00000000               I1  DATA FOR SOURCE-LINE 149
27701 00005A28 00000000               I1  DATA FOR SOURCE-LINE 152
27702 00005A2C 00000000               I1  DATA FOR SOURCE-LINE 155
27703 00005A30 00000000               I1  DATA FOR SOURCE-LINE 157
27704 00005A34 00000000               I1  DATA FOR SOURCE-LINE 167
27705 00005A38 00000000               I1  DATA FOR SOURCE-LINE 173
27706                                 I1  ***** END-POOL *****
27707 00005A3C                    177 I1  CNT_VMODE_NEXT_CYCLSTR_050:
27708                             178 I1  ;       === ﾀｲﾏ停止全くなし ===ここで移動量を作成===
27709                             179 I1          FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;CNT_SPD
27710 00005A3C D014                   M           MOV.L   #_POS_CNT_BANK_DTMAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27711 00005A3E 400B                   M           JSR     @R0                     ;
27712 00005A40 0009                   M           NOP                                     ;
27713                             180 I1          FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0             ;
27714 00005A42 D014                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27715 00005A44 400B                   M           JSR     @R0                     ;
27716 00005A46 0009                   M           NOP                                     ;
27717                             181 I1  
27718 00005A48                    182 I1  CNT_VMODE_NEXT_CYCLSTR_100:
27719                             183 I1  
27720                             184 I1  
27721                             185 I1  
27722                             186 I1  ;;;だめ FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;
27723                             187 I1  
27724                             188 I1  ;       ==== 2004-03-29 ====
27725                             189 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;OK!
27726 00005A48 D013                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27727 00005A4A 400B                   M           JSR     @R0                     ;
27728 00005A4C 0009                   M           NOP                                     ;
27729                             190 I1          FAR_JSR #_MOTION_CYCLE_START,R0         ;
27730 00005A4E D013                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27731 00005A50 400B                   M           JSR     @R0                     ;
27732 00005A52 0009                   M           NOP                                     ;
27733 00005A54 D112               191 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1    ;       //連続が１ｽﾃｯﾌﾟになった
27734 00005A56 9019               192 I1          MOV.W   #BIT0,R0                ;
27735 00005A58 2101               193 I1          MOV.W   R0,@R1                  ;
27736                             194 I1  
27737                             195 I1  
27738                             196 I1  ;       ==================================
27739                             197 I1          FAR_JSR #_CMPCYC_START_CLR,R0
27740 00005A5A D012                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27741 00005A5C 400B                   M           JSR     @R0                     ;
27742 00005A5E 0009                   M           NOP                                     ;
27743                             198 I1  ;       ===============================================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   392
PROGRAM NAME =

27744                             199 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
27745 00005A60 D111                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
27746 00005A62 6011                   M           MOV.W   @R1,R0          ;
27747 00005A64 C9FE                   M           AND     #LOW ~BIT0,R0           ;
27748 00005A66 2101                   M           MOV.W   R0,@R1          ;
27749                             200 I1          FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13
27750 00005A68 D010                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27751 00005A6A 400B                   M           JSR     @R0                     ;
27752 00005A6C 0009                   M           NOP                                     ;
27753                             201 I1  ;       ===============================================
27754                             202 I1          FAR_JSR #_FUL_DATA_INIT,R0
27755 00005A6E D010                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27756 00005A70 400B                   M           JSR     @R0                     ;
27757 00005A72 0009                   M           NOP                                     ;
27758                             203 I1  ;       ==================================
27759                             204 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
27760 00005A74 D00F                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27761 00005A76 400B                   M           JSR     @R0                     ;
27762 00005A78 0009                   M           NOP                                     ;
27763                             205 I1  ;       ================<<<2004-03-25>>>==========
27764                             206 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾓﾆﾀ用
27765 00005A7A D00F                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27766 00005A7C 400B                   M           JSR     @R0                     ;
27767 00005A7E 0009                   M           NOP                                     ;
27768                             207 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾓﾆﾀ用
27769 00005A80 D00E                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27770 00005A82 400B                   M           JSR     @R0                     ;
27771 00005A84 0009                   M           NOP                                     ;
27772                             208 I1          SUB_END
27773                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27774 00005A86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27775                             209 I1          M_RTS
27776 00005A88 000B                   M           RTS                             ;RTSの後ろの
27777 00005A8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27778                             210 I1  
27779                             211 I1  
27780                             212 I1  ;       *******************************************
27781                             213 I1  ;       ***                                     ***
27782                             214 I1  ;       ***                                     ***
27783                             215 I1  ;       *******************************************
27784                             216 I1  ;       ***********************************
27785                             217 I1  ;       ***                             ***
27786                             218 I1  ;       ***     移動距離のみ+SPEED      ***
27787                             219 I1  ;       ***                             ***
27788                             220 I1  ;       ***********************************
27789                             221 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
27790                             222 I1  ;       が
27791                             223 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
27792                             224 I1  ;       になっているだけ
27793                             225 I1  ;       (回転途中の演算　１回転分)
27794                             226 I1  
27795                             227 I1  ;       ===== タイマ停止後起動時===
27796                                 I1  ***** BEGIN-POOL *****
27797 00005A8C 0001                   I1  DATA FOR SOURCE-LINE 192
27798 00005A8E 0000                   I1  ALIGNMENT CODE
27799 00005A90 00000000               I1  DATA FOR SOURCE-LINE 179
27800 00005A94 00000000               I1  DATA FOR SOURCE-LINE 180
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   393
PROGRAM NAME =

27801 00005A98 00000000               I1  DATA FOR SOURCE-LINE 189
27802 00005A9C 00000000               I1  DATA FOR SOURCE-LINE 190
27803 00005AA0 00000000               I1  DATA FOR SOURCE-LINE 191
27804 00005AA4 00000000               I1  DATA FOR SOURCE-LINE 197
27805 00005AA8 00000000               I1  DATA FOR SOURCE-LINE 199
27806 00005AAC 00000000               I1  DATA FOR SOURCE-LINE 200
27807 00005AB0 00000000               I1  DATA FOR SOURCE-LINE 202
27808 00005AB4 00000000               I1  DATA FOR SOURCE-LINE 204
27809 00005AB8 00000000               I1  DATA FOR SOURCE-LINE 206
27810 00005ABC 00000000               I1  DATA FOR SOURCE-LINE 207
27811                                 I1  ***** END-POOL *****
27812 00005AC0                    228 I1  _POS_CNT_BANK_DTMAK3:                           ;上死点ﾀｲﾏ=0で途中で止まる時
27813                             229 I1          SUB_START
27814 00005AC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
27815                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27816                             230 I1  
27817                             231 I1  ;       -------debug break-point set----------
27818                             232 I1          PUSH_REG1 R0
27819 00005AC2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
27820                                 M                                           ;REG=>[SP]
27821                                 M                                           ;"-4" FF,FF,FF,FC
27822                             233 I1          PUSH_REG1 R1
27823 00005AC4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
27824                                 M                                           ;REG=>[SP]
27825                                 M                                           ;"-4" FF,FF,FF,FC
27826 00005AC6 D10C               234 I1          MOV.L   #_di2_cb_ctl2,R1        ;
27827 00005AC8 6011               235 I1          MOV.W   @R1,R0                  ;
27828 00005ACA C880               236 I1          TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
27829                             237 I1          TST_BIT_OF CNTBANK_DBGBRK_100   ;
27830 00005ACC 8904                   M           BT      CNTBANK_DBGBRK_100
27831                             238 I1  
27832 00005ACE 0009               239 I1          NOP
27833 00005AD0 0009               240 I1          NOP
27834 00005AD2 0009               241 I1          NOP
27835 00005AD4 0009               242 I1          NOP
27836 00005AD6 0009               243 I1          NOP
27837                             244 I1  
27838                             245 I1  
27839 00005AD8                    246 I1  CNTBANK_DBGBRK_100
27840                             247 I1  
27841                             248 I1  
27842                             249 I1          POP_REG1 R1
27843                                 M                                   ; RE"+4" 00,00,00,04
27844 00005AD8 61F6                   M           MOV.L   @R15+,R1        ;
27845                             250 I1          POP_REG1 R0
27846                                 M                                   ; RE"+4" 00,00,00,04
27847 00005ADA 60F6                   M           MOV.L   @R15+,R0        ;
27848                             251 I1  
27849                             252 I1  
27850                             253 I1  
27851                             254 I1  
27852                             255 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
27853 00005ADC D007                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27854 00005ADE 400B                   M           JSR     @R0                     ;
27855 00005AE0 0009                   M           NOP                                     ;
27856                             256 I1  
27857                             257 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   394
PROGRAM NAME =

27858 00005AE2 D007                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27859 00005AE4 400B                   M           JSR     @R0                     ;
27860 00005AE6 0009                   M           NOP                                     ;
27861                             258 I1  
27862 00005AE8 D406               259 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                 ;//起動時,その他で演算 8byte data
27863 00005AEA 2008               260 I1          TST     R0,R0                                   ;
27864                             261 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM              ;最終工程でなければ
27865 00005AEC 8932                   M           BT      POS_CNT_BANKDTMAK12_COM
27866                             262 I1  
27867 00005AEE D406               263 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4                ;//起動時,その他で演算 8byte data
27868 00005AF0 9001               264 I1          MOV.W   #1,R0                                   ;
27869                             265 I1          M_BRA   POS_CNT_BANKDTMAK123_COM                ;最終工程相当なら
27870 00005AF2 A038                   M           BRA     POS_CNT_BANKDTMAK123_COM
27871 00005AF4 0009                   M           NOP
27872                             266 I1  
27873                             267 I1  
27874                                 I1  ***** BEGIN-POOL *****
27875 00005AF6 0001                   I1  DATA FOR SOURCE-LINE 264
27876 00005AF8 00000000               I1  DATA FOR SOURCE-LINE 234
27877 00005AFC 00000000               I1  DATA FOR SOURCE-LINE 255
27878 00005B00 00000000               I1  DATA FOR SOURCE-LINE 257
27879 00005B04 00000000               I1  DATA FOR SOURCE-LINE 259
27880 00005B08 00000000               I1  DATA FOR SOURCE-LINE 263
27881                                 I1  ***** END-POOL *****
27882 00005B0C                    268 I1  _POS_CNT_BANK_DTMAK2:                                   ;どこにも止まらないとき
27883                             269 I1          SUB_START
27884 00005B0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
27885                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27886                             270 I1          M_BRA   POS_CNT_BANKDTMAK12_COM
27887 00005B0E A021                   M           BRA     POS_CNT_BANKDTMAK12_COM
27888 00005B10 0009                   M           NOP
27889                             271 I1  
27890                             272 I1  ;       ===== 初回の起動時===
27891 00005B12                    273 I1  _POS_CNT_BANK_DTMAK1:
27892                             274 I1          SUB_START
27893 00005B12 4F22                   M           STS.L   PR,@-R15                ;[必要]
27894                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27895                             275 I1  
27896                             276 I1  ;;;;2014-09-14  ----------------------------------------------
27897                             277 I1  ;;;;2014-09-14  MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
27898                             278 I1  ;;;;2014-09-14  MOV.W   @R1,R0                          ;
27899                             279 I1  ;;;;2014-09-14  TST     #BIT0,R0                        ;
27900                             280 I1  ;;;;2014-09-14  TST_BIT_OF POSCNT_BANKDT050             ;
27901                             281 I1  ;;;;2014-09-14
27902                             282 I1  ;;;;2014-09-14  MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
27903                             283 I1  ;;;;2014-09-14  MOV.L   @(0,R4),R1                      ;
27904                             284 I1  ;;;;2014-09-14  MOV.L   @(4,R4),R2                      ;
27905                             285 I1  ;;;;2014-09-14  M_BRA   POSCNT_BANKDT075                ;
27906                             286 I1  ;;;;2014-09-14
27907                             287 I1  ;;;;2014-09-14
27908                             288 I1  ;;;;2014-09-14POSCNT_BANKDT050
27909                             289 I1  ;;;;2014-09-14
27910                             290 I1  ;;;;2014-09-14  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
27911                             291 I1  ;;;;2014-09-14
27912                             292 I1  ;;;;2014-09-14  MOV.L   #_LINK_PV_ABSPLS,R4     ;(ﾌﾙｸﾛｰｽﾞ時は対象を変える)
27913                             293 I1  ;;;;2014-09-14  MOV.L   @R4+,R1                         ;
27914                             294 I1  ;;;;2014-09-14  MOV.L   @R4,R2                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   395
PROGRAM NAME =

27915                             295 I1  ;;;;2014-09-14
27916                             296 I1  ;;;;2014-09-14POSCNT_BANKDT075
27917                             297 I1  
27918 00005B14 D409               298 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
27919 00005B16 5140               299 I1          MOV.L   @(0,R4),R1                      ;
27920 00005B18 5241               300 I1          MOV.L   @(4,R4),R2                      ;
27921                             301 I1  
27922 00005B1A D509               302 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
27923 00005B1C 2512               303 I1          MOV.L   R1,@R5                          ;
27924 00005B1E 1521               304 I1          MOV.L   R2,@(4,R5)                      ;
27925 00005B20 D508               305 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
27926 00005B22 2512               306 I1          MOV.L   R1,@R5                          ;
27927 00005B24 1521               307 I1          MOV.L   R2,@(4,R5)                      ;
27928                             308 I1  
27929 00005B26                    309 I1  POSCNT_BANKDT100
27930                             310 I1  
27931                             311 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;上死点タイマなしで止まる時・止まらない時
27932 00005B26 D008                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27933 00005B28 400B                   M           JSR     @R0                     ;
27934 00005B2A 0009                   M           NOP                                     ;
27935                             312 I1  
27936 00005B2C D407               313 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;
27937 00005B2E 2008               314 I1          TST     R0,R0                           ;
27938                             315 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM      ;最終工程でなければ
27939 00005B30 8910                   M           BT      POS_CNT_BANKDTMAK12_COM
27940                             316 I1  
27941 00005B32 D407               317 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
27942 00005B34 9001               318 I1          MOV.W   #1,R0                           ;
27943                             319 I1          M_BRA   POS_CNT_BANKDTMAK123_COM        ;最終工程相当なら
27944 00005B36 A016                   M           BRA     POS_CNT_BANKDTMAK123_COM
27945 00005B38 0009                   M           NOP
27946                             320 I1  
27947                             321 I1  
27948                             322 I1  
27949                             323 I1  
27950                             324 I1  
27951                             325 I1  
27952                             326 I1  
27953                             327 I1  
27954                             328 I1  
27955                             329 I1  
27956                             330 I1  
27957                             331 I1  
27958                             332 I1  
27959                                 I1  ***** BEGIN-POOL *****
27960 00005B3A 0001                   I1  DATA FOR SOURCE-LINE 318
27961 00005B3C 00000000               I1  DATA FOR SOURCE-LINE 298
27962 00005B40 00000000               I1  DATA FOR SOURCE-LINE 302
27963 00005B44 00000000               I1  DATA FOR SOURCE-LINE 305
27964 00005B48 00000000               I1  DATA FOR SOURCE-LINE 311
27965 00005B4C 00000000               I1  DATA FOR SOURCE-LINE 313
27966 00005B50 00000000               I1  DATA FOR SOURCE-LINE 317
27967                                 I1  ***** END-POOL *****
27968 00005B54                    333 I1  POS_CNT_BANKDTMAK12_COM:
27969                             334 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
27970 00005B54 D00B                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27971 00005B56 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   396
PROGRAM NAME =

27972 00005B58 0009                   M           NOP                                     ;
27973                             335 I1  
27974 00005B5A D40B               336 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;//起動時,その他で演算 8byte data
27975 00005B5C 2008               337 I1          TST     R0,R0                           ;
27976                             338 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_050      ;
27977 00005B5E 8900                   M           BT      POS_CNT_BANKDTMAK12_050
27978 00005B60 D40A               339 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
27979 00005B62                    340 I1  POS_CNT_BANKDTMAK12_050:
27980                             341 I1  
27981                             342 I1  
27982                             343 I1  
27983 00005B62 D20B               344 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
27984 00005B64 6021               345 I1          MOV.W   @R2,R0                          ;
27985 00005B66                    346 I1  POS_CNT_BANKDTMAK123_COM:
27986 00005B66 70FF               347 I1          ADD     #-1,R0                          ;
27987 00005B68 4008               348 I1          SHLL2   R0                              ;
27988 00005B6A 4000               349 I1          SHLL    R0                              ;*2
27989 00005B6C 340C               350 I1          ADD     R0,R4                           ;
27990 00005B6E 6146               351 I1          MOV.L   @R4+,R1                         ;
27991 00005B70 6242               352 I1          MOV.L   @R4,R2                          ;(目標位置)
27992                             353 I1          FAR_JSR #_POS_CNT_BANK_DTMAK_CM,R0      ;LINKXから計算するADDDATA作成
27993 00005B72 D008                   M           MOV.L   #_POS_CNT_BANK_DTMAK_CM,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27994 00005B74 400B                   M           JSR     @R0                     ;
27995 00005B76 0009                   M           NOP                                     ;
27996                             354 I1          FAR_JSR #_CNT_SPD_SET,R0                ;
27997 00005B78 D007                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27998 00005B7A 400B                   M           JSR     @R0                     ;
27999 00005B7C 0009                   M           NOP                                     ;
28000                             355 I1  
28001                             356 I1  
28002                             357 I1  
28003                             358 I1          SUB_END
28004                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28005 00005B7E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28006                             359 I1          M_RTS
28007 00005B80 000B                   M           RTS                             ;RTSの後ろの
28008 00005B82 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28009                             360 I1  
28010                             361 I1  
28011                             362 I1  
28012                             363 I1  
28013                             364 I1  ;       ***************************************************
28014                             365 I1  ;       ***     速度継続結果の最終ステップ相当か        ***
28015                             366 I1  ;       ***************************************************
28016                             367 I1  ;       ANS R0!=0 最終
28017                                 I1  ***** BEGIN-POOL *****
28018 00005B84 00000000               I1  DATA FOR SOURCE-LINE 334
28019 00005B88 00000000               I1  DATA FOR SOURCE-LINE 336
28020 00005B8C 00000000               I1  DATA FOR SOURCE-LINE 339
28021 00005B90 00000000               I1  DATA FOR SOURCE-LINE 344
28022 00005B94 00000000               I1  DATA FOR SOURCE-LINE 353
28023 00005B98 00000000               I1  DATA FOR SOURCE-LINE 354
28024                                 I1  ***** END-POOL *****
28025 00005B9C                    368 I1  _POS_CNT_LAST_STEP_CHK:
28026                             369 I1          SUB_START
28027 00005B9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28028                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   397
PROGRAM NAME =

28029                             370 I1          PUSH_REG1 R1
28030 00005B9E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28031                                 M                                           ;REG=>[SP]
28032                                 M                                           ;"-4" FF,FF,FF,FC
28033                             371 I1          PUSH_REG1 R2
28034 00005BA0 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28035                                 M                                           ;REG=>[SP]
28036                                 M                                           ;"-4" FF,FF,FF,FC
28037                             372 I1          PUSH_REG1 R3
28038 00005BA2 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
28039                                 M                                           ;REG=>[SP]
28040                                 M                                           ;"-4" FF,FF,FF,FC
28041                             373 I1  
28042 00005BA4 D209               374 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
28043 00005BA6 6021               375 I1          MOV.W   @R2,R0                          ;
28044 00005BA8 70FF               376 I1          ADD     #-1,R0                          ;
28045 00005BAA 4008               377 I1          SHLL2   R0
28046 00005BAC D108               378 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
28047 00005BAE 021E               379 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
28048 00005BB0 D108               380 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
28049 00005BB2 6311               381 I1          MOV.W   @R1,R3                          ;
28050 00005BB4 7301               382 I1          ADD     #1,R3                           ;設定+1(帰りも1ｽﾃｯﾌﾟ)
28051                             383 I1  
28052 00005BB6 200A               384 I1          XOR     R0,R0                           ;
28053 00005BB8 3320               385 I1          CMP/EQ  R2,R3                           ;
28054 00005BBA 8B00               386 I1          BF      POS_CNT_LASTSTEPCHK_END         ;
28055 00005BBC E0FF               387 I1          MOV     #-1,R0                          ;LAST相当
28056 00005BBE                    388 I1  POS_CNT_LASTSTEPCHK_END:                        ;
28057                             389 I1  
28058                             390 I1          POP_REG1 R3
28059                                 M                                   ; RE"+4" 00,00,00,04
28060 00005BBE 63F6                   M           MOV.L   @R15+,R3        ;
28061                             391 I1          POP_REG1 R2
28062                                 M                                   ; RE"+4" 00,00,00,04
28063 00005BC0 62F6                   M           MOV.L   @R15+,R2        ;
28064                             392 I1          POP_REG1 R1
28065                                 M                                   ; RE"+4" 00,00,00,04
28066 00005BC2 61F6                   M           MOV.L   @R15+,R1        ;
28067                             393 I1  
28068                             394 I1          SUB_END
28069                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28070 00005BC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28071                             395 I1          M_RTS
28072 00005BC6 000B                   M           RTS                             ;RTSの後ろの
28073 00005BC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28074                             396 I1  
28075                             397 I1  
28076                             398 I1  
28077                             399 I1  ;       ***********************************
28078                             400 I1  ;       ***                             ***
28079                             401 I1  ;       ***     移動距離のみ            ***
28080                             402 I1  ;       ***                             ***
28081                             403 I1  ;       ***********************************
28082                             404 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
28083                             405 I1  ;       が
28084                             406 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
28085                             407 I1  ;       になっているだけ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   398
PROGRAM NAME =

28086                             408 I1  ;       (回転途中の演算　１回転分)
28087                                 I1  ***** BEGIN-POOL *****
28088 00005BCA 0000                   I1  ALIGNMENT CODE
28089 00005BCC 00000000               I1  DATA FOR SOURCE-LINE 374
28090 00005BD0 00000000               I1  DATA FOR SOURCE-LINE 378
28091 00005BD4 00000000               I1  DATA FOR SOURCE-LINE 380
28092                                 I1  ***** END-POOL *****
28093 00005BD8                    409 I1  _CNT_SPD_SET:
28094                             410 I1          SUB_START
28095 00005BD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
28096                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28097 00005BDA D207               411 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
28098 00005BDC 6021               412 I1          MOV.W   @R2,R0                                  ;
28099 00005BDE 70FF               413 I1          ADD     #-1,R0                                  ;
28100 00005BE0 4008               414 I1          SHLL2   R0                                      ;
28101 00005BE2 D406               415 I1          MOV.L   #_CPOS_SDAT1_SPD,R4                     ;       //SETX-->起動時COPY
28102 00005BE4 024E               416 I1          MOV.L   @(R0,R4),R2                             ;
28103 00005BE6 D106               417 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
28104 00005BE8 2122               418 I1          MOV.L   R2,@R1                                  ;
28105                             419 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;
28106 00005BEA D106                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28107 00005BEC 410B                   M           JSR     @R1                     ;
28108 00005BEE 0009                   M           NOP                                     ;
28109                             420 I1          SUB_END
28110                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28111 00005BF0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28112                             421 I1          M_RTS
28113 00005BF2 000B                   M           RTS                             ;RTSの後ろの
28114 00005BF4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28115                             422 I1  
28116                                 I1  ***** BEGIN-POOL *****
28117 00005BF6 0000                   I1  ALIGNMENT CODE
28118 00005BF8 00000000               I1  DATA FOR SOURCE-LINE 411
28119 00005BFC 00000000               I1  DATA FOR SOURCE-LINE 415
28120 00005C00 00000000               I1  DATA FOR SOURCE-LINE 417
28121 00005C04 00000000               I1  DATA FOR SOURCE-LINE 419
28122                                 I1  ***** END-POOL *****
28123 00005C08                    423 I1  _POS_CNT_BANK_DTMAK_CM:
28124                             424 I1          SUB_START
28125 00005C08 4F22                   M           STS.L   PR,@-R15                ;[必要]
28126                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28127                             425 I1  
28128                             426 I1          FAR_JSR #_BANK_LENGH_ADD_CALC_SV_TYPE,R0        ;LINKXのみ+
28129 00005C0A D007                   M           MOV.L   #_BANK_LENGH_ADD_CALC_SV_TYPE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28130 00005C0C 400B                   M           JSR     @R0                     ;
28131 00005C0E 0009                   M           NOP                                     ;
28132                             427 I1  
28133 00005C10 233A               428 I1          XOR     R3,R3                           ;
28134 00005C12 4111               429 I1          CMP/PZ  R1                              ;+正転?
28135 00005C14 8900               430 I1          BT      POS_CNT_BANKDTMKCM_050          ;
28136 00005C16 E301               431 I1          MOV     #BIT0,R3                        ;
28137 00005C18                    432 I1  POS_CNT_BANKDTMKCM_050
28138 00005C18 D104               433 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
28139 00005C1A 6011               434 I1          MOV.W   @R1,R0                  ;
28140 00005C1C C9FE               435 I1          AND     #LOW ~BIT0,R0           ;
28141 00005C1E 203B               436 I1          OR      R3,R0                   ;
28142 00005C20 2101               437 I1          MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   399
PROGRAM NAME =

28143                             438 I1  
28144 00005C22                    439 I1  POS_CNT_BANKDTMKCM_EXT:
28145                             440 I1          SUB_END
28146                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28147 00005C22 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28148                             441 I1          M_RTS
28149 00005C24 000B                   M           RTS                             ;RTSの後ろの
28150 00005C26 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28151                             442 I1  
28152                             443 I1  
28153                             444 I1  
28154                             445 I1  
28155                             446 I1  
28156                             447 I1  
28157                             448 I1  
28158                             449 I1  
28159                             450 I1  ;       ***************************************************
28160                             451 I1  ;       ***                                             ***
28161                             452 I1  ;       ***     BANK2 ﾃﾞｰﾀ作成                          ***
28162                             453 I1  ;       ***     起動時BANK1ﾃﾞｰﾀを作成直後に呼ばれる     ***
28163                             454 I1  ;       ***     MODE関係なしで呼ばれるのでこの中でﾁｬｯｸ  ***
28164                             455 I1  ;       ***                                             ***
28165                             456 I1  ;       ***************************************************
28166                             457 I1  ;
28167                                 I1  ***** BEGIN-POOL *****
28168 00005C28 00000000               I1  DATA FOR SOURCE-LINE 426
28169 00005C2C 00000000               I1  DATA FOR SOURCE-LINE 433
28170                                 I1  ***** END-POOL *****
28171 00005C30                    458 I1  _START_CNT_BANK2_MAK_CHK:
28172                             459 I1          SUB_START
28173 00005C30 4F22                   M           STS.L   PR,@-R15                ;[必要]
28174                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28175 00005C32 D108               460 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
28176 00005C34 6011               461 I1          MOV.W   @R1,R0                          ;
28177 00005C36 C801               462 I1          TST     #BIT0,R0                        ;
28178                             463 I1          TST_BIT_OF START_CNT_BANK2_MAKCHK_END   ;
28179 00005C38 8908                   M           BT      START_CNT_BANK2_MAKCHK_END
28180                             464 I1  
28181 00005C3A D107               465 I1          MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R1      ;
28182 00005C3C 6212               466 I1          MOV.L   @R1,R2                          ;
28183 00005C3E 7201               467 I1          ADD     #1,R2                           ;
28184                             468 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
28185 00005C40 D006                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28186 00005C42 400B                   M           JSR     @R0                     ;
28187 00005C44 0009                   M           NOP                                     ;
28188                             469 I1  
28189                             470 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
28190                             471 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
28191 00005C46 D006                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28192 00005C48 400B                   M           JSR     @R0                     ;
28193 00005C4A 0009                   M           NOP                                     ;
28194                             472 I1  
28195 00005C4C                    473 I1  START_CNT_BANK2_MAKCHK_END:
28196                             474 I1          SUB_END
28197                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28198 00005C4C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28199                             475 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   400
PROGRAM NAME =

28200 00005C4E 000B                   M           RTS                             ;RTSの後ろの
28201 00005C50 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28202                             476 I1  
28203                             477 I1  
28204                             478 I1  ;       ***********************************
28205                             479 I1  ;       ***                             ***
28206                             480 I1  ;       ***     工程切り替え            ***
28207                             481 I1  ;       ***     前の機能もここで行う    ***
28208                             482 I1  ;       ***                             ***
28209                             483 I1  ;       ***********************************
28210                             484 I1  ;       Input R2
28211                                 I1  ***** BEGIN-POOL *****
28212 00005C52 0000                   I1  ALIGNMENT CODE
28213 00005C54 00000000               I1  DATA FOR SOURCE-LINE 460
28214 00005C58 00000000               I1  DATA FOR SOURCE-LINE 465
28215 00005C5C 00000000               I1  DATA FOR SOURCE-LINE 468
28216 00005C60 00000000               I1  DATA FOR SOURCE-LINE 471
28217                                 I1  ***** END-POOL *****
28218 00005C64                    485 I1  _BANK_CHK_NEXT_CYCL_STR1;
28219                             486 I1          SUB_START
28220 00005C64 4F22                   M           STS.L   PR,@-R15                ;[必要]
28221                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28222                             487 I1  
28223 00005C66 D10F               488 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
28224 00005C68 6011               489 I1          MOV.W   @R1,R0                          ;
28225 00005C6A C801               490 I1          TST     #BIT0,R0                        ;
28226                             491 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_020    ;
28227 00005C6C 892A                   M           BT      BANKCHKNEXT_CYCL_STR1_020
28228                             492 I1  
28229 00005C6E 9417               493 I1          MOV.W   #1,R4                           ;
28230 00005C70 D10D               494 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
28231 00005C72 2141               495 I1          MOV.W   R4,@R1                          ;W
28232                             496 I1  
28233                             497 I1          FAR_JSR #_BANK2_TO_BANK1_MOV,R0         ;
28234 00005C74 D00D                   M           MOV.L   #_BANK2_TO_BANK1_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28235 00005C76 400B                   M           JSR     @R0                     ;
28236 00005C78 0009                   M           NOP                                     ;
28237 00005C7A D10D               498 I1          MOV.L   #_BANK2_LINK_OBJROT_NUM_ZR,R1   ;//NOW ROTATION 番号
28238 00005C7C 6212               499 I1          MOV.L   @R1,R2                          ;
28239                             500 I1          PUSH_REG1 R2                            ;
28240 00005C7E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28241                                 M                                           ;REG=>[SP]
28242                                 M                                           ;"-4" FF,FF,FF,FC
28243                             501 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;
28244 00005C80 D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28245 00005C82 410B                   M           JSR     @R1                     ;
28246 00005C84 0009                   M           NOP                                     ;
28247                             502 I1          POP_REG1 R2                             ;
28248                                 M                                   ; RE"+4" 00,00,00,04
28249 00005C86 62F6                   M           MOV.L   @R15+,R2        ;
28250 00005C88 7201               503 I1          ADD     #1,R2                           ;NEW-ROT
28251                             504 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
28252 00005C8A D00B                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28253 00005C8C 400B                   M           JSR     @R0                     ;
28254 00005C8E 0009                   M           NOP                                     ;
28255                             505 I1  
28256                             506 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   401
PROGRAM NAME =

28257                             507 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
28258 00005C90 D00A                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28259 00005C92 400B                   M           JSR     @R0                     ;
28260 00005C94 0009                   M           NOP                                     ;
28261                             508 I1  
28262                             509 I1  ;--------2011-05-11----
28263                             510 I1          FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
28264 00005C96 D00A                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28265 00005C98 400B                   M           JSR     @R0                     ;
28266 00005C9A 0009                   M           NOP                                     ;
28267                             511 I1  
28268                             512 I1  ;--------2011-05-05----
28269                             513 I1  ;;      MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
28270                             514 I1  ;;      MOV.W   @R1,R0                          ;
28271                             515 I1  ;;      TST     R0,R0                           ;
28272                             516 I1  ;;      TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
28273                             517 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28274                             518 I1  ;;      MOV.W   @R1,R0                          ;
28275                             519 I1  ;;      OR      #BIT0,R0                        ;
28276                             520 I1  ;;      MOV.W   R0,@R1                          ;
28277                             521 I1  ;;BANKCHKNEXT_CYCL_STR1_010:
28278                             522 I1  
28279                             523 I1          M_BRA   BANKCHKNEXT_CYCL_STR1_100       ;
28280 00005C9C A025                   M           BRA     BANKCHKNEXT_CYCL_STR1_100
28281 00005C9E 0009                   M           NOP
28282                             524 I1  
28283                                 I1  ***** BEGIN-POOL *****
28284 00005CA0 0001                   I1  DATA FOR SOURCE-LINE 493
28285 00005CA2 0000                   I1  ALIGNMENT CODE
28286 00005CA4 00000000               I1  DATA FOR SOURCE-LINE 488
28287 00005CA8 00000000               I1  DATA FOR SOURCE-LINE 494
28288 00005CAC 00000000               I1  DATA FOR SOURCE-LINE 497
28289 00005CB0 00000000               I1  DATA FOR SOURCE-LINE 498
28290 00005CB4 00000000               I1  DATA FOR SOURCE-LINE 501
28291 00005CB8 00000000               I1  DATA FOR SOURCE-LINE 504
28292 00005CBC 00000000               I1  DATA FOR SOURCE-LINE 507
28293 00005CC0 00000000               I1  DATA FOR SOURCE-LINE 510
28294                                 I1  ***** END-POOL *****
28295 00005CC4                    525 I1  BANKCHKNEXT_CYCL_STR1_020:
28296 00005CC4 D10E               526 I1          MOV.L   #_CPOS_CTL_MATH,R1              ;
28297 00005CC6 6011               527 I1          MOV.W   @R1,R0                          ;
28298 00005CC8 C801               528 I1          TST     #_DMATH_CNTROT,R0               ;回転?
28299                             529 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_050
28300 00005CCA 8900                   M           BT      BANKCHKNEXT_CYCL_STR1_050
28301 00005CCC 7201               530 I1          ADD     #1,R2                           ;回転数+1<反転>
28302 00005CCE                    531 I1  BANKCHKNEXT_CYCL_STR1_050:
28303                             532 I1  
28304 00005CCE 9415               533 I1          MOV.W   #1,R4
28305 00005CD0 D10C               534 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
28306 00005CD2 2141               535 I1          MOV.W   R4,@R1                          ;(1だけでいいのか/つくり直す必要があるのか
                                          )
28307                             536 I1          PUSH_REG1 R2
28308 00005CD4 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28309                                 M                                           ;REG=>[SP]
28310                                 M                                           ;"-4" FF,FF,FF,FC
28311                             537 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   402
PROGRAM NAME =

28312 00005CD6 D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28313 00005CD8 410B                   M           JSR     @R1                     ;
28314 00005CDA 0009                   M           NOP                                     ;
28315                             538 I1          POP_REG1 R2
28316                                 M                                   ; RE"+4" 00,00,00,04
28317 00005CDC 62F6                   M           MOV.L   @R15+,R2        ;
28318                             539 I1          FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
28319 00005CDE D10B                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28320 00005CE0 410B                   M           JSR     @R1                     ;
28321 00005CE2 0009                   M           NOP                                     ;
28322                             540 I1  
28323                             541 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
28324                             542 I1          FAR_JSR #_HLDCAM_ABS_POS_SET,R0         ;2014-08-30
28325 00005CE4 D00A                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28326 00005CE6 400B                   M           JSR     @R0                     ;
28327 00005CE8 0009                   M           NOP                                     ;
28328                             543 I1  
28329 00005CEA                    544 I1  BANKCHKNEXT_CYCL_STR1_100:
28330                             545 I1  ;       =====2003-07-09 速度============
28331                             546 I1          FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
28332 00005CEA D00A                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28333 00005CEC 400B                   M           JSR     @R0                     ;
28334 00005CEE 0009                   M           NOP                                     ;
28335                             547 I1  ;       ===== 2003-07-14 TIME ======
28336                             548 I1          FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
28337 00005CF0 D009                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28338 00005CF2 400B                   M           JSR     @R0                     ;
28339 00005CF4 0009                   M           NOP                                     ;
28340                             549 I1  
28341                             550 I1  
28342                             551 I1  
28343                             552 I1          SUB_END
28344                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28345 00005CF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28346                             553 I1          M_RTS
28347 00005CF8 000B                   M           RTS                             ;RTSの後ろの
28348 00005CFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28349                             554 I1  
28350                             555 I1  ;       ***************************************************
28351                             556 I1  ;       ***                                             ***
28352                             557 I1  ;       ***     2011-05-11                              ***
28353                             558 I1  ;       ***     ロットカウンタUPの1回転前信号           ***
28354                             559 I1  ;       ***     起動時点でこれがONならこの回転で止める  ***
28355                             560 I1  ;       ***                                             ***
28356                             561 I1  ;       ***************************************************
28357                             562 I1  ;
28358                                 I1  ***** BEGIN-POOL *****
28359 00005CFC 0001                   I1  DATA FOR SOURCE-LINE 533
28360 00005CFE 0000                   I1  ALIGNMENT CODE
28361 00005D00 00000000               I1  DATA FOR SOURCE-LINE 526
28362 00005D04 00000000               I1  DATA FOR SOURCE-LINE 534
28363 00005D08 00000000               I1  DATA FOR SOURCE-LINE 537
28364 00005D0C 00000000               I1  DATA FOR SOURCE-LINE 539
28365 00005D10 00000000               I1  DATA FOR SOURCE-LINE 542
28366 00005D14 00000000               I1  DATA FOR SOURCE-LINE 546
28367 00005D18 00000000               I1  DATA FOR SOURCE-LINE 548
28368                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   403
PROGRAM NAME =

28369 00005D1C                    563 I1          .ALIGN  4                               ;
28370 00005D1C                    564 I1  _CNT_BEF_LOT_SIGCHK:
28371                             565 I1          SUB_START
28372 00005D1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28373                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28374                             566 I1  
28375 00005D1E D105               567 I1          MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
28376 00005D20 6011               568 I1          MOV.W   @R1,R0                          ;
28377 00005D22 2008               569 I1          TST     R0,R0                           ;
28378                             570 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
28379 00005D24 8903                   M           BT      BANKCHKNEXT_CYCL_STR1_010
28380 00005D26 D104               571 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28381 00005D28 6011               572 I1          MOV.W   @R1,R0                          ;
28382 00005D2A CB01               573 I1          OR      #BIT0,R0                        ;
28383 00005D2C 2101               574 I1          MOV.W   R0,@R1                          ;
28384 00005D2E                    575 I1  BANKCHKNEXT_CYCL_STR1_010:
28385                             576 I1  
28386                             577 I1          SUB_END
28387                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28388 00005D2E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28389                             578 I1          M_RTS
28390 00005D30 000B                   M           RTS                             ;RTSの後ろの
28391 00005D32 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28392                             579 I1  
28393                             580 I1  ;       ***************************************************
28394                             581 I1  ;       ***     停止があるタイプ                        ***
28395                             582 I1  ;       ***     停止がないタイプでも１回転部では可能    ***
28396                             583 I1  ;       ***     BIT3=0 BIT2=1                           ***
28397                             584 I1  ;       ***************************************************
28398                                 I1  ***** BEGIN-POOL *****
28399 00005D34 00000000               I1  DATA FOR SOURCE-LINE 567
28400 00005D38 00000000               I1  DATA FOR SOURCE-LINE 571
28401                                 I1  ***** END-POOL *****
28402 00005D3C                    585 I1          .ALIGN  4                               ;
28403 00005D3C                    586 I1  _BANK_CNT_STOP_CHK_TYP1
28404                             587 I1          SUB_START
28405 00005D3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28406                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28407                             588 I1  
28408 00005D3E D10F               589 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28409 00005D40 6011               590 I1          MOV.W   @R1,R0                          ;
28410 00005D42 2008               591 I1          TST     R0,R0                           ;
28411                             592 I1          TST_BIT_ON BANK_CNT_STOPCHK_TYP1_200    ;停止減算完了
28412 00005D44 8B16                   M           BF      BANK_CNT_STOPCHK_TYP1_200
28413                             593 I1  
28414                             594 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
28415 00005D46 D00E                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28416 00005D48 400B                   M           JSR     @R0                     ;
28417 00005D4A 0009                   M           NOP                                     ;
28418 00005D4C 2008               595 I1          TST     R0,R0                           ;
28419                             596 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200
28420 00005D4E 8911                   M           BT      BANK_CNT_STOPCHK_TYP1_200
28421                             597 I1  
28422                             598 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;
28423 00005D50 D00C                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28424 00005D52 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   404
PROGRAM NAME =

28425 00005D54 0009                   M           NOP                                     ;
28426                             599 I1  
28427 00005D56 D10C               600 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28428 00005D58 6011               601 I1          MOV.W   @R1,R0                          ;
28429 00005D5A C801               602 I1          TST     #BIT0,R0                        ;
28430                             603 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200;
28431 00005D5C 890A                   M           BT      BANK_CNT_STOPCHK_TYP1_200
28432                             604 I1  
28433                             605 I1  ;       ----- 停止ｺﾏﾝﾄﾞON -----
28434                             606 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0     ;(連続ALL-ではこの処理はない：足しにいく処
                                          理にこない)
28435 00005D5E D00B                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28436 00005D60 400B                   M           JSR     @R0                     ;
28437 00005D62 0009                   M           NOP                                     ;
28438                             607 I1  
28439                             608 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
28440 00005D64 D10A                   M           MOV.L   #_STOP_LATCH,R1         ;
28441 00005D66 6011                   M           MOV.W   @R1,R0          ;
28442 00005D68 CB01                   M           OR      #BIT0,R0                ;
28443 00005D6A 2101                   M           MOV.W   R0,@R1          ;
28444                             609 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28445 00005D6C D103                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28446 00005D6E 6011                   M           MOV.W   @R1,R0          ;
28447 00005D70 CB02                   M           OR      #BIT1,R0                ;
28448 00005D72 2101                   M           MOV.W   R0,@R1          ;
28449                             610 I1  
28450                             611 I1  
28451                             612 I1  
28452 00005D74                    613 I1  BANK_CNT_STOPCHK_TYP1_200
28453                             614 I1  
28454                             615 I1          SUB_END
28455                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28456 00005D74 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28457                             616 I1          M_RTS
28458 00005D76 000B                   M           RTS                             ;RTSの後ろの
28459 00005D78 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28460                             617 I1  
28461                             618 I1  
28462                             619 I1  ;       *******************************************
28463                             620 I1  ;       ***                                     ***
28464                             621 I1  ;       ***     通常運転状態での停止処理        ***
28465                             622 I1  ;       ***                                     ***
28466                             623 I1  ;       *******************************************
28467                                 I1  ***** BEGIN-POOL *****
28468 00005D7A 0000                   I1  ALIGNMENT CODE
28469 00005D7C 00000000               I1  DATA FOR SOURCE-LINE 589,609
28470 00005D80 00000000               I1  DATA FOR SOURCE-LINE 594
28471 00005D84 00000000               I1  DATA FOR SOURCE-LINE 598
28472 00005D88 00000000               I1  DATA FOR SOURCE-LINE 600
28473 00005D8C 00000000               I1  DATA FOR SOURCE-LINE 606
28474 00005D90 00000000               I1  DATA FOR SOURCE-LINE 608
28475                                 I1  ***** END-POOL *****
28476          000007D0           624 I1  _PROC_2MS_PLS   .EQU    2000    ;2000pls 500KHZ=500pls
28477                             625 I1  
28478 00005D94                    626 I1  _CNT_GPOINT_STOP_TYP2:
28479                             627 I1          SUB_START
28480 00005D94 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   405
PROGRAM NAME =

28481                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28482 00005D96 D11F               628 I1          MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦
28483 00005D98 6011               629 I1          MOV.W   @R1,R0                                  ;
28484 00005D9A C801               630 I1          TST     #BIT0,R0                                ;
28485                             631 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;
28486 00005D9C 8937                   M           BT      CNT_GPOINT_STOPTYP2_100
28487                             632 I1  
28488                             633 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0                  ;引きたい量
28489 00005D9E D01E                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28490 00005DA0 400B                   M           JSR     @R0                     ;
28491 00005DA2 0009                   M           NOP                                     ;
28492                             634 I1  
28493                             635 I1  ;;2007-03-02    TST     R0,R0                                   ;
28494                             636 I1  ;;2007-03-02    TST_BIT_ON CNT_GPOINT_STOPTYP2_100              ;減算不可JUMP
28495                             637 I1  
28496                             638 I1  ;       -------- 2007-03-02------
28497                             639 I1          FAR_JSR #_CMP_CNT_CTLGENSOK,R0                  ;
28498 00005DA4 D01D                   M           MOV.L   #_CMP_CNT_CTLGENSOK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28499 00005DA6 400B                   M           JSR     @R0                     ;
28500 00005DA8 0009                   M           NOP                                     ;
28501 00005DAA 88FF               640 I1          CMP/EQ  #-1,R0                                  ;
28502 00005DAC 892F               641 I1          BT      CNT_GPOINT_STOPTYP2_100                 ;減算不可JUMP(ERR)
28503                             642 I1  
28504 00005DAE 2008               643 I1          TST     R0,R0                                   ;
28505                             644 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_050              ;止まれる
28506 00005DB0 8908                   M           BT      CNT_GPOINT_STOPTYP2_050
28507                             645 I1  
28508                             646 I1  ;       ---- 相手CPUはなんていっているの-----
28509                             647 I1          FAR_JSR #_CPU_BA_CST_ON_JG,R0                   ;
28510 00005DB2 D01B                   M           MOV.L   #_CPU_BA_CST_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28511 00005DB4 400B                   M           JSR     @R0                     ;
28512 00005DB6 0009                   M           NOP                                     ;
28513 00005DB8 2008               648 I1          TST     R0,R0                                   ;
28514                             649 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;相手は停まるといっていいないJUMP
28515 00005DBA 8928                   M           BT      CNT_GPOINT_STOPTYP2_100
28516                             650 I1  
28517                             651 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT1,WKREG=R1     ;bit-set
28518 00005DBC D119                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
28519 00005DBE 6011                   M           MOV.W   @R1,R0          ;
28520 00005DC0 CB02                   M           OR      #BIT1,R0                ;
28521 00005DC2 2101                   M           MOV.W   R0,@R1          ;
28522                             652 I1  
28523 00005DC4                    653 I1  CNT_GPOINT_STOPTYP2_050:
28524 00005DC4 D418               654 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                                       ;
28525 00005DC6 6242               655 I1          MOV.L   @R4,R2                                                          ;
28526 00005DC8 632B               656 I1          NEG     R2,R3                                                           ;
28527                             657 I1  
28528                             658 I1          POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
28529                                 M           PUSH_REG1 R1
28530 00005DCA 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28531                                 M                                           ;REG=>[SP]
28532                                 M                                           ;"-4" FF,FF,FF,FC
28533                                 M           PUSH_REG1 R3
28534 00005DCC 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
28535                                 M                                           ;REG=>[SP]
28536                                 M                                           ;"-4" FF,FF,FF,FC
28537                                 M           POS_LSI_WORD_DUM_LOD                                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   406
PROGRAM NAME =

28538                                 M           PUSH_REG1 R0
28539 00005DCE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28540                                 M                                           ;REG=>[SP]
28541                                 M                                           ;"-4" FF,FF,FF,FC
28542 00005DD0 D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28543 00005DD2 6001                   M           MOV.W   @R0,R0
28544                                 M           POP_REG1 R0
28545                                 M                                   ; RE"+4" 00,00,00,04
28546 00005DD4 60F6                   M           MOV.L   @R15+,R0        ;
28547 00005DD6 D116                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
28548 00005DD8 2131                   M           MOV.W   R3,@R1                          ;(LOW)
28549 00005DDA 7102                   M           ADD     #2,R1                                   ;
28550 00005DDC 6339                   M           SWAP.W  R3,R3                           ;
28551                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28552                                 M           PUSH_REG1 R0
28553 00005DDE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28554                                 M                                           ;REG=>[SP]
28555                                 M                                           ;"-4" FF,FF,FF,FC
28556 00005DE0 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28557 00005DE2 6001                   M           MOV.W   @R0,R0
28558                                 M           POP_REG1 R0
28559                                 M                                   ; RE"+4" 00,00,00,04
28560 00005DE4 60F6                   M           MOV.L   @R15+,R0        ;
28561 00005DE6 2131                   M           MOV.W   R3,@R1                          ;(HIGH)
28562                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28563                                 M           PUSH_REG1 R0
28564 00005DE8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28565                                 M                                           ;REG=>[SP]
28566                                 M                                           ;"-4" FF,FF,FF,FC
28567 00005DEA D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28568 00005DEC 6001                   M           MOV.W   @R0,R0
28569                                 M           POP_REG1 R0
28570                                 M                                   ; RE"+4" 00,00,00,04
28571 00005DEE 60F6                   M           MOV.L   @R15+,R0        ;
28572                                 M           POP_REG1 R3
28573                                 M                                   ; RE"+4" 00,00,00,04
28574 00005DF0 63F6                   M           MOV.L   @R15+,R3        ;
28575                                 M           POP_REG1 R1
28576                                 M                                   ; RE"+4" 00,00,00,04
28577 00005DF2 61F6                   M           MOV.L   @R15+,R1        ;
28578                             659 I1  
28579                             660 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;LINK_SV_O
                                          BJ_ABSPLS-ESUB
28580 00005DF4 D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28581 00005DF6 400B                   M           JSR     @R0                     ;
28582 00005DF8 0009                   M           NOP                                     ;
28583                             661 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
28584 00005DFA D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28585 00005DFC 400B                   M           JSR     @R0                     ;
28586 00005DFE 0009                   M           NOP                                     ;
28587                             662 I1  
28588                             663 I1  ;;;;    MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
28589                             664 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28590 00005E00 D10E                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28591 00005E02 6011                   M           MOV.W   @R1,R0          ;
28592 00005E04 CB02                   M           OR      #BIT1,R0                ;
28593 00005E06 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   407
PROGRAM NAME =

28594                             665 I1  
28595                             666 I1  ;       ----- 2007-03-02---
28596                             667 I1          FAR_JSR #_STOP_LTH_OUT,R0
28597 00005E08 D00D                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28598 00005E0A 400B                   M           JSR     @R0                     ;
28599 00005E0C 0009                   M           NOP                                     ;
28600                             668 I1  
28601                             669 I1  
28602 00005E0E                    670 I1  CNT_GPOINT_STOPTYP2_100:
28603                             671 I1          SUB_END
28604                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28605 00005E0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28606                             672 I1          M_RTS
28607 00005E10 000B                   M           RTS                             ;RTSの後ろの
28608 00005E12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28609                             673 I1  
28610                             674 I1  
28611                             675 I1  ;;_CNT_GPOINT_STOP_TYP2:
28612                             676 I1  ;;      SUB_START
28613                             677 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28614                             678 I1  ;;      MOV.W   @R1,R0                          ;
28615                             679 I1  ;       TST     #BIT0,R0                        ;
28616                             680 I1  ;;      TST_BIT_OF CNT_GPOINT_STOPTYP2_100      ;
28617                             681 I1  ;;
28618                             682 I1  ;;      FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;引きたい量
28619                             683 I1  ;;
28620                             684 I1  ;;      MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
28621                             685 I1  ;;      MOV.L   @R4,R2                          ;
28622                             686 I1  ;;      NEG     R2,R3                           ;
28623                             687 I1  ;;
28624                             688 I1  ;;      MOV.W   #_PROC_2MS_PLS,R4               ;
28625                             689 I1  ;;      ADD     R4,R2                           ;
28626                             690 I1  ;;      FAR_JSR #_LOAD_GPOINT_PLS,R0            ;2004-12-19
28627                             691 I1  ;;      MOV     R0,R6                           ;R/W 減速点=R6
28628                             692 I1  ;;      ADD     R6,R2                           ;
28629                             693 I1  ;;
28630                             694 I1  ;;      FAR_JSR #_LOAD_REST_PLS,R0                              ;ANS R0
28631                             695 I1  ;;      SUBPLS+GPOSINT+1000PLS ≦残りﾊﾟﾙｽ                       ;
28632                             696 I1  ;;      CMP/GE  R2,R0                                           ;
28633                             697 I1  ;;      BF      CNT_GPOINT_STOPTYP2_100                         ;減算不可JUMP
28634                             698 I1  ;;
28635                             699 I1  ;;      POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
28636                             700 I1  ;;
28637                             701 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;
28638                             702 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
28639                             703 I1  ;;
28640                             704 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
28641                             705 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28642                             706 I1  ;;
28643                             707 I1  ;;
28644                             708 I1  ;;CNT_GPOINT_STOPTYP2_100:
28645                             709 I1  ;;
28646                             710 I1  ;;
28647                             711 I1  ;;      SUB_END
28648                             712 I1  ;;      M_RTS
28649                             713 I1  
28650                             714 I1  ;       ***************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   408
PROGRAM NAME =

28651                             715 I1  ;       ***     停止演算        ***
28652                             716 I1  ;       ***************************
28653                             717 I1  ;       CASE1:完全連続  --->    止まれる位置：残りパルス≧１回転(SV_OBJ_-最終)＋今の減速点
28654                             718 I1  ;       CASE2:ﾀｲﾏ有り   --->    最終工程相当の動作開始時にﾊﾟﾙｽを足さない(減算処理完了)
28655                             719 I1  ;                               動作中最終工程相当にパルスを減らす(SV-OBJ-最終)
28656                             720 I1  ;(起動時)
28657                                 I1  ***** BEGIN-POOL *****
28658 00005E14 00000000               I1  DATA FOR SOURCE-LINE 628
28659 00005E18 00000000               I1  DATA FOR SOURCE-LINE 633
28660 00005E1C 00000000               I1  DATA FOR SOURCE-LINE 639
28661 00005E20 00000000               I1  DATA FOR SOURCE-LINE 647
28662 00005E24 00000000               I1  DATA FOR SOURCE-LINE 651
28663 00005E28 00000000               I1  DATA FOR SOURCE-LINE 654
28664 00005E2C 00000000               I1  DATA FOR SOURCE-LINE 658,658,658
28665 00005E30 00000000               I1  DATA FOR SOURCE-LINE 658
28666 00005E34 00000000               I1  DATA FOR SOURCE-LINE 660
28667 00005E38 00000000               I1  DATA FOR SOURCE-LINE 661
28668 00005E3C 00000000               I1  DATA FOR SOURCE-LINE 664
28669 00005E40 00000000               I1  DATA FOR SOURCE-LINE 667
28670                                 I1  ***** END-POOL *****
28671 00005E44                    721 I1  _CNT_SUB_DATA_CALC:
28672                             722 I1          SUB_START
28673 00005E44 4F22                   M           STS.L   PR,@-R15                ;[必要]
28674                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28675                             723 I1  
28676 00005E46 D111               724 I1          MOV.L   #_CPOS_STEP_MAX,R1                              ;
28677 00005E48 6011               725 I1          MOV.W   @R1,R0                                          ;+1して-1した計算
28678 00005E4A D411               726 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
28679 00005E4C 4008               727 I1          SHLL2   R0                                                      ;
28680 00005E4E 4000               728 I1          SHLL    R0                                                      ;
28681 00005E50 340C               729 I1          ADD     R0,R4                                                   ;
28682 00005E52 6546               730 I1          MOV.L   @R4+,R5                                                 ;
28683 00005E54 6642               731 I1          MOV.L   @R4,R6                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
28684                             732 I1  
28685 00005E56 D40F               733 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
28686 00005E58 6146               734 I1          MOV.L   @R4+,R1                                                 ;
28687 00005E5A 6242               735 I1          MOV.L   @R4,R2                                                  ;
28688                             736 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28689 00005E5C 0008                   M           CLRT
28690 00005E5E 326A                   M           SUBC    R6,R2
28691 00005E60 315A                   M           SUBC    R5,R1
28692                             737 I1  
28693 00005E62 4111               738 I1          CMP/PZ  R1                              ;
28694 00005E64 8901               739 I1          BT      CNT_SUB_DATACALC_100            ;
28695 00005E66 211A               740 I1          XOR     R1,R1                           ;
28696 00005E68 222A               741 I1          XOR     R2,R2                           ;ERR(-)
28697                             742 I1  
28698 00005E6A                    743 I1  CNT_SUB_DATACALC_100:
28699 00005E6A 2118               744 I1          TST     R1,R1                           ;
28700                             745 I1          TST_BIT_ON CNT_SUB_DATACALC_120         ;ERR(over)
28701 00005E6C 8B02                   M           BF      CNT_SUB_DATACALC_120
28702                             746 I1  
28703 00005E6E D10A               747 I1          MOV.L   #H'3FFFFFF,R1                   ;(本当はPLS*2+)
28704 00005E70 3122               748 I1          CMP/HS  R2,R1                           ;
28705 00005E72 8905               749 I1          BT      CNT_SUB_DATACALC_150            ;許す
28706 00005E74                    750 I1  CNT_SUB_DATACALC_120:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   409
PROGRAM NAME =

28707 00005E74 211A               751 I1          XOR     R1,R1                           ;
28708 00005E76 222A               752 I1          XOR     R2,R2                           ;ERR(over)
28709                             753 I1  
28710                             754 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_BANK_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1   ;
28711 00005E78 D108                   M           MOV.L   #_CNT_BANK_CALC_ERR,R1          ;
28712 00005E7A 6011                   M           MOV.W   @R1,R0          ;
28713 00005E7C CB01                   M           OR      #BIT0,R0                ;
28714 00005E7E 2101                   M           MOV.W   R0,@R1          ;
28715                             755 I1  
28716 00005E80                    756 I1  CNT_SUB_DATACALC_150:
28717 00005E80 D407               757 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
28718 00005E82 2422               758 I1          MOV.L   R2,@R4                          ;
28719                             759 I1  
28720                             760 I1  ;       (目標)-R2(待機点)
28721                             761 I1          SUB_END
28722                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28723 00005E84 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28724                             762 I1          M_RTS
28725 00005E86 000B                   M           RTS                             ;RTSの後ろの
28726 00005E88 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28727                             763 I1  
28728                             764 I1  
28729                             765 I1  
28730                             766 I1  
28731                             767 I1  
28732                             768 I1  
28733                             769 I1  
28734                             770 I1  
28735                             771 I1  
28736                             772 I1  
28737                             773 I1  
28738                             774 I1  ;       ***********************************
28739                             775 I1  ;       ***     データの減算1           ***
28740                             776 I1  ;       ***********************************
28741                             777 I1  ;       条件はこの上で見る
28742                                 I1  ***** BEGIN-POOL *****
28743 00005E8A 0000                   I1  ALIGNMENT CODE
28744 00005E8C 00000000               I1  DATA FOR SOURCE-LINE 724
28745 00005E90 00000000               I1  DATA FOR SOURCE-LINE 726
28746 00005E94 00000000               I1  DATA FOR SOURCE-LINE 733
28747 00005E98 03FFFFFF               I1  DATA FOR SOURCE-LINE 747
28748 00005E9C 00000000               I1  DATA FOR SOURCE-LINE 754
28749 00005EA0 00000000               I1  DATA FOR SOURCE-LINE 757
28750                                 I1  ***** END-POOL *****
28751 00005EA4                    778 I1  _CNT_STOP_CMD_DATA_SUB1:
28752                             779 I1          SUB_START
28753 00005EA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
28754                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28755                             780 I1  
28756 00005EA6 D410               781 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
28757 00005EA8 6642               782 I1          MOV.L   @R4,R6                                                  ;
28758 00005EAA 255A               783 I1          XOR     R5,R5                                                   ;
28759                             784 I1  
28760 00005EAC D40F               785 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
28761 00005EAE 6142               786 I1          MOV.L   @R4,R1                                                  ;
28762 00005EB0 5241               787 I1          MOV.L   @(4,R4),R2                                              ;
28763                             788 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   410
PROGRAM NAME =

28764 00005EB2 0008                   M           CLRT
28765 00005EB4 326A                   M           SUBC    R6,R2
28766 00005EB6 315A                   M           SUBC    R5,R1
28767 00005EB8 2412               789 I1          MOV.L   R1,@R4                                                  ;
28768 00005EBA 1421               790 I1          MOV.L   R2,@(4,R4)                                              ;
28769 00005EBC D40C               791 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                                ;
28770 00005EBE 2412               792 I1          MOV.L   R1,@R4                                                  ;
28771 00005EC0 1421               793 I1          MOV.L   R2,@(4,R4)                                              ;
28772                             794 I1  
28773 00005EC2 D40C               795 I1          MOV.L   #_LNGTH_ADD_DATA,R4                                     ;//符号付き
28774 00005EC4 6142               796 I1          MOV.L   @R4,R1                                                  ;
28775 00005EC6 5241               797 I1          MOV.L   @(4,R4),R2                                              ;
28776                             798 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28777 00005EC8 0008                   M           CLRT
28778 00005ECA 326A                   M           SUBC    R6,R2
28779 00005ECC 315A                   M           SUBC    R5,R1
28780                             799 I1  
28781 00005ECE 4111               800 I1          CMP/PZ  R1
28782 00005ED0 8901               801 I1          BT      CNT_STOP_CMD_DATSUB1_100                                ;
28783 00005ED2 211A               802 I1          XOR     R1,R1                                                   ;
28784 00005ED4 222A               803 I1          XOR     R2,R2                                                   ;
28785 00005ED6                    804 I1  CNT_STOP_CMD_DATSUB1_100:                                               ;
28786                             805 I1  
28787 00005ED6 2412               806 I1          MOV.L   R1,@R4                                                  ;
28788 00005ED8 1421               807 I1          MOV.L   R2,@(4,R4)                                              ;
28789                             808 I1  
28790 00005EDA D407               809 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                                  ;//符号付き
28791 00005EDC 2412               810 I1          MOV.L   R1,@R4                                                  ;
28792 00005EDE 1421               811 I1          MOV.L   R2,@(4,R4)                                              ;
28793                             812 I1  
28794                             813 I1  
28795                             814 I1          SUB_END
28796                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28797 00005EE0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28798                             815 I1          M_RTS
28799 00005EE2 000B                   M           RTS                             ;RTSの後ろの
28800 00005EE4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28801                             816 I1  
28802                             817 I1  
28803                                 I1  ***** BEGIN-POOL *****
28804 00005EE6 0000                   I1  ALIGNMENT CODE
28805 00005EE8 00000000               I1  DATA FOR SOURCE-LINE 781
28806 00005EEC 00000000               I1  DATA FOR SOURCE-LINE 785
28807 00005EF0 00000000               I1  DATA FOR SOURCE-LINE 791
28808 00005EF4 00000000               I1  DATA FOR SOURCE-LINE 795
28809 00005EF8 00000000               I1  DATA FOR SOURCE-LINE 809
28810                                 I1  ***** END-POOL *****
28811 00005EFC                    818 I1  _CNT_STOP_CMD_DATA_SUB2:
28812                             819 I1          SUB_START
28813 00005EFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
28814                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28815 00005EFE D40A               820 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
28816 00005F00 6642               821 I1          MOV.L   @R4,R6                                                  ;
28817 00005F02 255A               822 I1          XOR     R5,R5                                                   ;
28818                             823 I1  
28819 00005F04 D409               824 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R4                                 ;
28820 00005F06 6142               825 I1          MOV.L   @R4,R1                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   411
PROGRAM NAME =

28821 00005F08 5241               826 I1          MOV.L   @(4,R4),R2                                              ;
28822                             827 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28823 00005F0A 0008                   M           CLRT
28824 00005F0C 326A                   M           SUBC    R6,R2
28825 00005F0E 315A                   M           SUBC    R5,R1
28826                             828 I1  
28827 00005F10 4111               829 I1          CMP/PZ  R1                                                      ;
28828 00005F12 8901               830 I1          BT      CNT_STOP_CMD_DATSUB2_100                                ;
28829 00005F14 211A               831 I1          XOR     R1,R1
28830 00005F16 222A               832 I1          XOR     R2,R2
28831 00005F18                    833 I1  CNT_STOP_CMD_DATSUB2_100:
28832 00005F18 2412               834 I1          MOV.L   R1,@R4                                                  ;
28833 00005F1A 1421               835 I1          MOV.L   R2,@(4,R4)                                              ;
28834                             836 I1  
28835 00005F1C D404               837 I1          MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R4                              ;
28836 00005F1E 2412               838 I1          MOV.L   R1,@R4                                                  ;
28837 00005F20 1421               839 I1          MOV.L   R2,@(4,R4)                                              ;
28838                             840 I1  
28839                             841 I1          SUB_END
28840                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28841 00005F22 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28842                             842 I1          M_RTS
28843 00005F24 000B                   M           RTS                             ;RTSの後ろの
28844 00005F26 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28845                             843 I1  
28846                             844 I1  
28847                            8827     
28848                            8828     
28849                            8829     ;       ***********************************
28850                            8830     ;       ***                             ***
28851                            8831     ;       ***     2006-05-09              ***
28852                            8832     ;       ***                             ***
28853                            8833     ;       ***********************************
28854                            8834             .EXPORT _SELF_POS_START_WORK_CLR
28855                                     ***** BEGIN-POOL *****
28856 00005F28 00000000                   DATA FOR SOURCE-LINE 820
28857 00005F2C 00000000                   DATA FOR SOURCE-LINE 824
28858 00005F30 00000000                   DATA FOR SOURCE-LINE 837
28859                                     ***** END-POOL *****
28860 00005F34                   8835             .ALIGN  4                               ;
28861 00005F34                   8836     _SELF_POS_START_WORK_CLR:
28862                            8837             SUB_START
28863 00005F34 4F22                   M           STS.L   PR,@-R15                ;[必要]
28864                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28865                            8838             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
28866 00005F36 D004                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28867 00005F38 400B                   M           JSR     @R0                     ;
28868 00005F3A 0009                   M           NOP                                     ;
28869                            8839             FAR_JSR #_POS_LSI_WORK_STOP2,R0
28870 00005F3C D003                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28871 00005F3E 400B                   M           JSR     @R0                     ;
28872 00005F40 0009                   M           NOP                                     ;
28873                            8840             SUB_END
28874                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28875 00005F42 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28876                            8841             M_RTS
28877 00005F44 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   412
PROGRAM NAME =

28878 00005F46 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28879                            8842     
28880                            8843     ;       ***********************************
28881                            8844     ;       ***                             ***
28882                            8845     ;       ***     2006-07-28              ***
28883                            8846     ;       ***                             ***
28884                            8847     ;       ***********************************
28885                                     ***** BEGIN-POOL *****
28886 00005F48 00000000                   DATA FOR SOURCE-LINE 8838
28887 00005F4C 00000000                   DATA FOR SOURCE-LINE 8839
28888                                     ***** END-POOL *****
28889 00005F50                   8848             .ALIGN  4                               ;
28890 00005F50                   8849     _POS_CALC_MISS0:
28891                            8850             SUB_START
28892 00005F50 4F22                   M           STS.L   PR,@-R15                ;[必要]
28893                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28894                            8851             PUSH_REG1 R0
28895 00005F52 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28896                                 M                                           ;REG=>[SP]
28897                                 M                                           ;"-4" FF,FF,FF,FC
28898                            8852             PUSH_REG1 R1
28899 00005F54 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28900                                 M                                           ;REG=>[SP]
28901                                 M                                           ;"-4" FF,FF,FF,FC
28902                            8853             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT0,WKREG=R1      ;
28903 00005F56 D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28904 00005F58 6011                   M           MOV.W   @R1,R0          ;
28905 00005F5A CB01                   M           OR      #BIT0,R0                ;
28906 00005F5C 2101                   M           MOV.W   R0,@R1          ;
28907                            8854             POP_REG1 R1
28908                                 M                                   ; RE"+4" 00,00,00,04
28909 00005F5E 61F6                   M           MOV.L   @R15+,R1        ;
28910                            8855             POP_REG1 R0
28911                                 M                                   ; RE"+4" 00,00,00,04
28912 00005F60 60F6                   M           MOV.L   @R15+,R0        ;
28913                            8856             SUB_END
28914                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28915 00005F62 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28916                            8857             M_RTS
28917 00005F64 000B                   M           RTS                             ;RTSの後ろの
28918 00005F66 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28919                            8858     
28920                                     ***** BEGIN-POOL *****
28921 00005F68 00000000                   DATA FOR SOURCE-LINE 8853
28922                                     ***** END-POOL *****
28923 00005F6C                   8859             .ALIGN  4                               ;
28924 00005F6C                   8860     _POS_CALC_MISS1:
28925                            8861             SUB_START
28926 00005F6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28927                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28928                            8862             PUSH_REG1 R0
28929 00005F6E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28930                                 M                                           ;REG=>[SP]
28931                                 M                                           ;"-4" FF,FF,FF,FC
28932                            8863             PUSH_REG1 R1
28933 00005F70 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28934                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   413
PROGRAM NAME =

28935                                 M                                           ;"-4" FF,FF,FF,FC
28936                            8864             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT1,WKREG=R1      ;
28937 00005F72 D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28938 00005F74 6011                   M           MOV.W   @R1,R0          ;
28939 00005F76 CB02                   M           OR      #BIT1,R0                ;
28940 00005F78 2101                   M           MOV.W   R0,@R1          ;
28941                            8865             POP_REG1 R1
28942                                 M                                   ; RE"+4" 00,00,00,04
28943 00005F7A 61F6                   M           MOV.L   @R15+,R1        ;
28944                            8866             POP_REG1 R0
28945                                 M                                   ; RE"+4" 00,00,00,04
28946 00005F7C 60F6                   M           MOV.L   @R15+,R0        ;
28947                            8867             SUB_END
28948                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28949 00005F7E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28950                            8868             M_RTS
28951 00005F80 000B                   M           RTS                             ;RTSの後ろの
28952 00005F82 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28953                            8869     
28954                                     ***** BEGIN-POOL *****
28955 00005F84 00000000                   DATA FOR SOURCE-LINE 8864
28956                                     ***** END-POOL *****
28957 00005F88                   8870             .ALIGN  4                               ;
28958 00005F88                   8871     _POS_CALC_MISS2:
28959                            8872             SUB_START
28960 00005F88 4F22                   M           STS.L   PR,@-R15                ;[必要]
28961                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28962                            8873             PUSH_REG1 R0
28963 00005F8A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28964                                 M                                           ;REG=>[SP]
28965                                 M                                           ;"-4" FF,FF,FF,FC
28966                            8874             PUSH_REG1 R1
28967 00005F8C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28968                                 M                                           ;REG=>[SP]
28969                                 M                                           ;"-4" FF,FF,FF,FC
28970                            8875             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT2,WKREG=R1      ;
28971 00005F8E D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28972 00005F90 6011                   M           MOV.W   @R1,R0          ;
28973 00005F92 CB04                   M           OR      #BIT2,R0                ;
28974 00005F94 2101                   M           MOV.W   R0,@R1          ;
28975                            8876             POP_REG1 R1
28976                                 M                                   ; RE"+4" 00,00,00,04
28977 00005F96 61F6                   M           MOV.L   @R15+,R1        ;
28978                            8877             POP_REG1 R0
28979                                 M                                   ; RE"+4" 00,00,00,04
28980 00005F98 60F6                   M           MOV.L   @R15+,R0        ;
28981                            8878             SUB_END
28982                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28983 00005F9A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28984                            8879     
28985                            8880             M_RTS
28986 00005F9C 000B                   M           RTS                             ;RTSの後ろの
28987 00005F9E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28988                            8881     ;       ===================================================================
28989                            8882     ;       ====                                                            ===
28990                            8883     ;       ====                                                            ===
28991                            8884     ;       ====                                                            ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   414
PROGRAM NAME =

28992                            8885     ;       ====            2006-09-19オーバライド周波数対応                ===
28993                            8886     ;       ====                                                            ===
28994                            8887     ;       ====                                                            ===
28995                            8888     ;       ====                                                            ===
28996                            8889     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
28997                            8890     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
28998                            8891     ;       ====    <3>:減速の補正は行なわない                              ===
28999                            8892     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
29000                            8893     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
29001                            8894     ;       ====                                                            ===
29002                            8895     ;       ====                                                            ===
29003                            8896     ;       ===================================================================
29004                            8897     
29005                            8898     
29006                            8899     
29007                            8900     
29008                            8901     ;       ***************************************************
29009                            8902     ;       ***                                             ***
29010                            8903     ;       ***     SEQからのｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀの取り込み         ***
29011                            8904     ;       ***                                             ***
29012                            8905     ;       ***************************************************
29013                                     ***** BEGIN-POOL *****
29014 00005FA0 00000000                   DATA FOR SOURCE-LINE 8875
29015                                     ***** END-POOL *****
29016 00005FA4                   8906             .ALIGN  4                               ;
29017 00005FA4                   8907     _OVER_LIDE_SEQREF:
29018                            8908             SUB_START
29019 00005FA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
29020                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29021                            8909     
29022 00005FA6 D10A              8910             MOV.L   #_CB_SEQ_CB_COM346,R1
                                          ;
29023 00005FA8 6011              8911             MOV.W   @R1,R0
                                          ;
29024 00005FAA 6503              8912             MOV     R0,R5
                                          ;
29025 00005FAC C880              8913             TST     #BIT7,R0
                                          ;
29026                            8914             TST_BIT_ON OVER_LIDE_SQRF100
                                          ;
29027 00005FAE 8B15                   M           BF      OVER_LIDE_SQRF100
29028                            8915     
29029 00005FB0 D108              8916             MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
29030 00005FB2 6011              8917             MOV.W   @R1,R0                          ;
29031 00005FB4 C802              8918             TST     #BIT1,R0                        ;
29032                            8919             TST_BIT_OF OVER_LIDE_SQRF300            ;
29033 00005FB6 8935                   M           BT      OVER_LIDE_SQRF300
29034                            8920             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=~BIT1,WKREG=R1
                                          ;//
29035 00005FB8 D106                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
29036 00005FBA 6011                   M           MOV.W   @R1,R0          ;
29037 00005FBC C9FD                   M           AND     #LOW ~BIT1,R0           ;
29038 00005FBE 2101                   M           MOV.W   R0,@R1          ;
29039                            8921             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB230),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                                  ;
29040 00005FC0 D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB230),R1           ;
29041 00005FC2 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   415
PROGRAM NAME =

29042 00005FC4 9403                   M           MOV.W   #LWORD (~BIT7),R4       ;
29043 00005FC6 2049                   M           AND     R4,R0           ;
29044 00005FC8 2101                   M           MOV.W   R0,@R1          ;
29045                            8922             M_BRA   OVER_LIDE_SQRF300
                                          ;
29046 00005FCA A02B                   M           BRA     OVER_LIDE_SQRF300
29047 00005FCC 0009                   M           NOP
29048                            8923     
29049                            8924     
29050                            8925     ;       --- REQ ON(ON EDGE 取込)--------
29051                                     ***** BEGIN-POOL *****
29052 00005FCE FF7F                       DATA FOR SOURCE-LINE 8921
29053 00005FD0 00000000                   DATA FOR SOURCE-LINE 8910
29054 00005FD4 00000000                   DATA FOR SOURCE-LINE 8916,8920
29055 00005FD8 00000000                   DATA FOR SOURCE-LINE 8921
29056                                     ***** END-POOL *****
29057 00005FDC                   8926     OVER_LIDE_SQRF100:
29058 00005FDC D114              8927             MOV.L   #_OVER_RIDE_LATE_FLG,R1                                 ;
29059 00005FDE 6011              8928             MOV.W   @R1,R0                                                  ;
29060 00005FE0 C802              8929             TST     #BIT1,R0                                                ;
29061                            8930             TST_BIT_ON OVER_LIDE_SQRF300                                    ;
29062 00005FE2 8B1F                   M           BF      OVER_LIDE_SQRF300
29063                            8931     
29064 00005FE4 D113              8932             MOV.L   #_CB_SEQ_CB_COM346,R1                                   ;//20030524
29065 00005FE6 6011              8933             MOV.W   @R1,R0                                                  ;T-LINK=>OVER-RIDE
29066 00005FE8 941F              8934             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4                ;
29067 00005FEA 2049              8935             AND     R4,R0                                                   ;
29068 00005FEC D112              8936             MOV.L   #_OVER_RIDE_LATE_REQ,R1                                 ;//1~127% OVER-RID
                                          E無効時100%
29069 00005FEE 2101              8937             MOV.W   R0,@R1                                                  ;
29070                            8938     ;       ------------ ANS MAKE ----------------------
29071 00005FF0 D412              8939             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
29072 00005FF2 2401              8940             MOV.W   R0,@R4                                                          ;
29073 00005FF4 D312              8941             MOV.L   #_SQ_CBWK_TOP+_WKSQCB230,R3                                     ;
29074 00005FF6 6231              8942             MOV.W   @R3,R2                                                          ;
29075 00005FF8 D410              8943             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
29076 00005FFA 6041              8944             MOV.W   @R4,R0                                                          ;
29077 00005FFC CB80              8945             OR      #BIT7,R0                                                        ;ANS+ACK
29078 00005FFE 9115              8946             MOV.W   #H'FF00,R1                                                      ;
29079 00006000 2219              8947             AND     R1,R2                                                           ;
29080 00006002 6117              8948             NOT     R1,R1                                                           ;
29081 00006004 2019              8949             AND     R1,R0                                                           ;
29082 00006006 220B              8950             OR      R0,R2                                                           ;
29083 00006008 2321              8951             MOV.W   R2,@R3                                                          ;
29084                            8952     
29085 0000600A D40C              8953             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
29086 0000600C 6041              8954             MOV.W   @R4,R0                                                          ;
29087 0000600E 2008              8955             TST     R0,R0                                                           ;
29088                            8956             TST_BIT_ON OVER_LIDE_SQRF220                                            ;
29089 00006010 8B00                   M           BF      OVER_LIDE_SQRF220
29090 00006012 E001              8957             MOV     #1,R0                                                           ;
29091 00006014                   8958     OVER_LIDE_SQRF220:
29092 00006014 D10B              8959             MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1                                        ;
29093 00006016 2101              8960             MOV.W   R0,@R1                                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   416
PROGRAM NAME =

29094 00006018 D10B              8961             MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1                                        ;
29095 0000601A 2101              8962             MOV.W   R0,@R1
29096                            8963     
29097                            8964             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=BIT1,WKREG=R4  ;
29098 0000601C D404                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R4         ;
29099 0000601E 6041                   M           MOV.W   @R4,R0          ;
29100 00006020 CB02                   M           OR      #BIT1,R0                ;
29101 00006022 2401                   M           MOV.W   R0,@R4          ;
29102                            8965     
29103 00006024                   8966     OVER_LIDE_SQRF300:
29104                            8967             SUB_END
29105                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29106 00006024 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29107                            8968             M_RTS
29108 00006026 000B                   M           RTS                             ;RTSの後ろの
29109 00006028 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29110                            8969     
29111                            8970     
29112                            8971     
29113                            8972     
29114                            8973     ;       ***********************************
29115                            8974     ;       ***                             ***
29116                            8975     ;       ***     EMG時初期値にする       ***
29117                            8976     ;       ***                             ***
29118                            8977     ;       ***********************************
29119                                     ***** BEGIN-POOL *****
29120 0000602A 007F                       DATA FOR SOURCE-LINE 8934
29121 0000602C FF00                       DATA FOR SOURCE-LINE 8946
29122 0000602E 0000                       ALIGNMENT CODE
29123 00006030 00000000                   DATA FOR SOURCE-LINE 8927,8964
29124 00006034 00000000                   DATA FOR SOURCE-LINE 8932
29125 00006038 00000000                   DATA FOR SOURCE-LINE 8936
29126 0000603C 00000000                   DATA FOR SOURCE-LINE 8939,8943,8953
29127 00006040 00000000                   DATA FOR SOURCE-LINE 8941
29128 00006044 00000000                   DATA FOR SOURCE-LINE 8959
29129 00006048 00000000                   DATA FOR SOURCE-LINE 8961
29130                                     ***** END-POOL *****
29131 0000604C                   8978             .ALIGN  4                               ;
29132 0000604C                   8979     _OVERLID_DEF_SET:
29133                            8980             SUB_START
29134 0000604C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29135                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29136                            8981             FAR_JSR #_OVERLID_SEQ_DEF_SET,R0
29137 0000604E D006                   M           MOV.L   #_OVERLID_SEQ_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29138 00006050 400B                   M           JSR     @R0                     ;
29139 00006052 0009                   M           NOP                                     ;
29140                            8982             FAR_JSR #_OVERLID_GMN_DEF_SET,R0
29141 00006054 D005                   M           MOV.L   #_OVERLID_GMN_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29142 00006056 400B                   M           JSR     @R0                     ;
29143 00006058 0009                   M           NOP                                     ;
29144                            8983             FAR_JSR #_OVERLID_CTL_DEF_SET,R0
29145 0000605A D005                   M           MOV.L   #_OVERLID_CTL_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29146 0000605C 400B                   M           JSR     @R0                     ;
29147 0000605E 0009                   M           NOP                                     ;
29148                            8984             SUB_END
29149                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29150 00006060 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   417
PROGRAM NAME =

29151                            8985             M_RTS
29152 00006062 000B                   M           RTS                             ;RTSの後ろの
29153 00006064 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29154                            8986     
29155                                     ***** BEGIN-POOL *****
29156 00006066 0000                       ALIGNMENT CODE
29157 00006068 00000000                   DATA FOR SOURCE-LINE 8981
29158 0000606C 00000000                   DATA FOR SOURCE-LINE 8982
29159 00006070 00000000                   DATA FOR SOURCE-LINE 8983
29160                                     ***** END-POOL *****
29161 00006074                   8987             .ALIGN  4                               ;
29162 00006074                   8988     _OVERLID_SEQ_DEF_SET:
29163                            8989             SUB_START
29164 00006074 4F22                   M           STS.L   PR,@-R15                ;[必要]
29165                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29166 00006076 9206              8990             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29167                            8991             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29168 00006078 D103                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1        ;DST_ADR
29169 0000607A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29170                            8992             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29171 0000607C D103                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1        ;DST_ADR
29172 0000607E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29173                            8993             SUB_END
29174                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29175 00006080 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29176                            8994             M_RTS
29177 00006082 000B                   M           RTS                             ;RTSの後ろの
29178 00006084 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29179                            8995     
29180                                     ***** BEGIN-POOL *****
29181 00006086 0064                       DATA FOR SOURCE-LINE 8990
29182 00006088 00000000                   DATA FOR SOURCE-LINE 8991
29183 0000608C 00000000                   DATA FOR SOURCE-LINE 8992
29184                                     ***** END-POOL *****
29185 00006090                   8996             .ALIGN  4                               ;
29186 00006090                   8997     _OVERLID_GMN_DEF_SET:
29187                            8998             SUB_START
29188 00006090 4F22                   M           STS.L   PR,@-R15                ;[必要]
29189                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29190 00006092 9206              8999             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29191                            9000             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29192 00006094 D103                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
29193 00006096 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29194                            9001             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29195 00006098 D103                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
29196 0000609A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29197                            9002             SUB_END
29198                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29199 0000609C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29200                            9003             M_RTS
29201 0000609E 000B                   M           RTS                             ;RTSの後ろの
29202 000060A0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29203                            9004     
29204                                     ***** BEGIN-POOL *****
29205 000060A2 0064                       DATA FOR SOURCE-LINE 8999
29206 000060A4 00000000                   DATA FOR SOURCE-LINE 9000
29207 000060A8 00000000                   DATA FOR SOURCE-LINE 9001
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   418
PROGRAM NAME =

29208                                     ***** END-POOL *****
29209 000060AC                   9005             .ALIGN  4                               ;
29210 000060AC                   9006     _OVERLID_CTL_DEF_SET:
29211                            9007             SUB_START
29212 000060AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29213                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29214 000060AE 920A              9008             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29215                            9009             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29216 000060B0 D105                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
29217 000060B2 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29218                            9010             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29219 000060B4 D105                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
29220 000060B6 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29221                            9011     
29222                            9012             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_SPD_LAT,L1=W,DT_REG=R2,WKREG1=R1
29223 000060B8 D105                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R1        ;DST_ADR
29224 000060BA 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29225                            9013             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_ACC_LAT,L1=W,DT_REG=R2,WKREG1=R1   ;
29226 000060BC D105                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R1        ;DST_ADR
29227 000060BE 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29228                            9014             SUB_END
29229                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29230 000060C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29231                            9015             M_RTS
29232 000060C2 000B                   M           RTS                             ;RTSの後ろの
29233 000060C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29234                            9016     
29235                            9017     
29236                            9018     ;       ***********************************
29237                            9019     ;       ***                             ***
29238                            9020     ;       ***     2006-07-28              ***
29239                            9021     ;       ***     画面ｵｰﾊﾞﾗｲﾄﾞ            ***
29240                            9022     ;       ***                             ***
29241                            9023     ;       ***********************************
29242                            9024     ;------2013-02-08 ---
29243                            9025             .IMPORT _SVP_OVERLIDE_COF
29244                            9026     
29245                                     ***** BEGIN-POOL *****
29246 000060C6 0064                       DATA FOR SOURCE-LINE 9008
29247 000060C8 00000000                   DATA FOR SOURCE-LINE 9009
29248 000060CC 00000000                   DATA FOR SOURCE-LINE 9010
29249 000060D0 00000000                   DATA FOR SOURCE-LINE 9012
29250 000060D4 00000000                   DATA FOR SOURCE-LINE 9013
29251                                     ***** END-POOL *****
29252 000060D8                   9027             .ALIGN  4                               ;
29253 000060D8                   9028     _GAMEN_OVER_RIDE:
29254                            9029             SUB_START
29255 000060D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
29256                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29257                            9030     
29258                            9031     ;------2013-02-08 ---
29259 000060DA D108              9032             MOV.L   #_SVP_OVERLIDE_COF,R1           ;
29260 000060DC 6211              9033             MOV.W   @R1,R2                          ;
29261 000060DE D108              9034             MOV.L   #_SET1_OVERLIDE_COF,R1          ;
29262 000060E0 2121              9035             MOV.W   R2,@R1                          ;
29263                            9036     ;       ----------------------------
29264                            9037     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   419
PROGRAM NAME =

29265                            9038     
29266 000060E2 D107              9039             MOV.L   #_SET1_OVERLIDE_COF,R1                                          ;
29267 000060E4 6211              9040             MOV.W   @R1,R2                                                          ;
29268 000060E6 2228              9041             TST     R2,R2                                                           ;
29269                            9042             TST_BIT_ON GAMEN_OVRIDE_100                                             ;
29270 000060E8 8B00                   M           BF      GAMEN_OVRIDE_100
29271 000060EA 9206              9043             MOV.W   #1,R2                                                           ;
29272 000060EC                   9044     GAMEN_OVRIDE_100:                                                               ;
29273                            9045             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
29274 000060EC D105                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
29275 000060EE 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29276                            9046             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
29277 000060F0 D105                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
29278 000060F2 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29279                            9047             SUB_END
29280                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29281 000060F4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29282                            9048             M_RTS
29283 000060F6 000B                   M           RTS                             ;RTSの後ろの
29284 000060F8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29285                            9049     
29286                            9050     ;       ***************************************************
29287                            9051     ;       ***                                             ***
29288                            9052     ;       ***                                             ***
29289                            9053     ;       ***                                             ***
29290                            9054     ;       ***************************************************
29291                                     ***** BEGIN-POOL *****
29292 000060FA 0001                       DATA FOR SOURCE-LINE 9043
29293 000060FC 00000000                   DATA FOR SOURCE-LINE 9032
29294 00006100 00000000                   DATA FOR SOURCE-LINE 9034,9039
29295 00006104 00000000                   DATA FOR SOURCE-LINE 9045
29296 00006108 00000000                   DATA FOR SOURCE-LINE 9046
29297                                     ***** END-POOL *****
29298 0000610C                   9055             .ALIGN  4                               ;
29299 0000610C                   9056     _SET_OVER_RIDE:
29300                            9057             SUB_START
29301 0000610C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29302                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29303 0000610E D10D              9058             MOV.L   #_MODE_SEL,R1                                                   ;
29304 00006110 6011              9059             MOV.W   @R1,R0                                                          ;
29305 00006112 C81E              9060             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                                 ;
29306                            9061             TST_BIT_OF SET_OVERID500                                                ;
29307 00006114 8948                   M           BT      SET_OVERID500
29308                            9062     
29309 00006116 D10C              9063             MOV.L   #_OVERLIDE_DT_SEL,R1                                            ;画面ｵｰﾊﾞﾗ
                                          ｲﾄﾞ有効
29310 00006118 6011              9064             MOV.W   @R1,R0                                                          ;
29311 0000611A 8801              9065             CMP/EQ  #1,R0                                                           ;
29312 0000611C 8B20              9066             BF      SET_OVERID200                                                   ;
29313                            9067     ;       ------ 画面ﾃﾞｰﾀ有効--------
29314                            9068             MEM_MOV_TO_MEM  _SET_GMN_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
29315 0000611E D10B                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1
29316 00006120 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29317 00006122 D30B                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
29318 00006124 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29319                            9069             MEM_MOV_TO_MEM  _SET_GMN_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
29320 00006126 D10B                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   420
PROGRAM NAME =

29321 00006128 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29322 0000612A D30B                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
29323 0000612C 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29324                            9070             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT0,WKREG=R4    ;
29325 0000612E D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29326 00006130 6041                   M           MOV.W   @R4,R0          ;
29327 00006132 CB01                   M           OR      #BIT0,R0                ;
29328 00006134 2401                   M           MOV.W   R0,@R4          ;
29329                            9071             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
29330 00006136 D409                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29331 00006138 6041                   M           MOV.W   @R4,R0          ;
29332 0000613A C9FD                   M           AND     #LOW ~BIT1,R0           ;
29333 0000613C 2401                   M           MOV.W   R0,@R4          ;
29334                            9072             M_BRA   SET_OVERID900
29335 0000613E A040                   M           BRA     SET_OVERID900
29336 00006140 0009                   M           NOP
29337                            9073     
29338                                     ***** BEGIN-POOL *****
29339 00006142 0000                       ALIGNMENT CODE
29340 00006144 00000000                   DATA FOR SOURCE-LINE 9058
29341 00006148 00000000                   DATA FOR SOURCE-LINE 9063
29342 0000614C 00000000                   DATA FOR SOURCE-LINE 9068
29343 00006150 00000000                   DATA FOR SOURCE-LINE 9068
29344 00006154 00000000                   DATA FOR SOURCE-LINE 9069
29345 00006158 00000000                   DATA FOR SOURCE-LINE 9069
29346 0000615C 00000000                   DATA FOR SOURCE-LINE 9070,9071
29347                                     ***** END-POOL *****
29348 00006160                   9074     SET_OVERID200:
29349                            9075             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT0,WKREG=R4  ;
29350 00006160 D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29351 00006162 6041                   M           MOV.W   @R4,R0          ;
29352 00006164 C9FE                   M           AND     #LOW ~BIT0,R0           ;
29353 00006166 2401                   M           MOV.W   R0,@R4          ;
29354                            9076     
29355                            9077     ;       ===========================
29356                            9078     ;       ===     ｼｰｹﾝｽ           ===
29357                            9079     ;       ===========================
29358 00006168 D10A              9080             MOV.L   #_CB_SEQ_CB_COM346,R1                                           ;
29359 0000616A 6311              9081             MOV.W   @R1,R3                                                          ;
29360 0000616C 940F              9082             MOV.W   #BIT15,R4                                                       ;
29361 0000616E 2348              9083             TST     R4,R3                                                           ;
29362                            9084             TST_BIT_OF SET_OVERID500
29363 00006170 891A                   M           BT      SET_OVERID500
29364                            9085             MEM_MOV_TO_MEM  _SET_SEQ_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
29365 00006172 D109                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1
29366 00006174 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29367 00006176 D309                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
29368 00006178 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29369                            9086             MEM_MOV_TO_MEM  _SET_SEQ_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
29370 0000617A D109                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1
29371 0000617C 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29372 0000617E D309                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
29373 00006180 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29374                            9087             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT1,WKREG=R4    ;
29375 00006182 D403                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29376 00006184 6041                   M           MOV.W   @R4,R0          ;
29377 00006186 CB02                   M           OR      #BIT1,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   421
PROGRAM NAME =

29378 00006188 2401                   M           MOV.W   R0,@R4          ;
29379                            9088             M_BRA   SET_OVERID900                                                   ;
29380 0000618A A01A                   M           BRA     SET_OVERID900
29381 0000618C 0009                   M           NOP
29382                            9089     
29383                                     ***** BEGIN-POOL *****
29384 0000618E 8000                       DATA FOR SOURCE-LINE 9082
29385 00006190 00000000                   DATA FOR SOURCE-LINE 9075,9087
29386 00006194 00000000                   DATA FOR SOURCE-LINE 9080
29387 00006198 00000000                   DATA FOR SOURCE-LINE 9085
29388 0000619C 00000000                   DATA FOR SOURCE-LINE 9085
29389 000061A0 00000000                   DATA FOR SOURCE-LINE 9086
29390 000061A4 00000000                   DATA FOR SOURCE-LINE 9086
29391                                     ***** END-POOL *****
29392 000061A8                   9090     SET_OVERID500:
29393 000061A8 920E              9091             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29394                            9092             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29395 000061AA D108                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
29396 000061AC 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29397                            9093             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29398 000061AE D108                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
29399 000061B0 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29400                            9094             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
29401 000061B2 D408                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29402 000061B4 6041                   M           MOV.W   @R4,R0          ;
29403 000061B6 C9FD                   M           AND     #LOW ~BIT1,R0           ;
29404 000061B8 2401                   M           MOV.W   R0,@R4          ;
29405                            9095     
29406                            9096             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
29407 000061BA D406                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29408 000061BC 6041                   M           MOV.W   @R4,R0          ;
29409 000061BE C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
29410 000061C0 2401                   M           MOV.W   R0,@R4          ;
29411                            9097     
29412 000061C2                   9098     SET_OVERID900:
29413                            9099     
29414                            9100             SUB_END
29415                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29416 000061C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29417                            9101             M_RTS
29418 000061C4 000B                   M           RTS                             ;RTSの後ろの
29419 000061C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29420                            9102     
29421                            9103     
29422                            9104     
29423                            9105     
29424                            9106     ;       ***********************************************************
29425                            9107     ;       ***                                                     ***
29426                            9108     ;       ***                                                     ***
29427                            9109     ;       ***                     化石                            ***
29428                            9110     ;       ***                                                     ***
29429                            9111     ;       ***                                                     ***
29430                            9112     ;       ***********************************************************
29431                            9113     
29432                            9114     
29433                            9115     
29434                            9116     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   422
PROGRAM NAME =

29435                            9117     
29436                            9118     
29437                            9119     
29438                            9120     
29439                            9121     
29440                            9122     
29441                            9123     
29442                            9124     
29443                            9125     
29444                            9126     
29445                            9127     
29446                            9128     
29447                            9129     ;       ***********************************************************
29448                            9130     ;       ***                                                     ***
29449                            9131     ;       ***                                                     ***
29450                            9132     ;       ***                                                     ***
29451                            9133     ;       ***             その他からのＣＡＬＬ                    ***
29452                            9134     ;       ***                                                     ***
29453                            9135     ;       ***                                                     ***
29454                            9136     ;       ***                                                     ***
29455                            9137     ;       ***********************************************************
29456                            9138     ;       *******************************************
29457                            9139     ;       ***                                     ***
29458                            9140     ;       ***             運転釦ON起動時          ***
29459                            9141     ;       ***                                     ***
29460                            9142     ;       *******************************************
29461                            9143             .EXPORT _OVER_RID_UPDN_LAT_DTMK
29462                                     ***** BEGIN-POOL *****
29463 000061C8 0064                       DATA FOR SOURCE-LINE 9091
29464 000061CA 0000                       ALIGNMENT CODE
29465 000061CC 00000000                   DATA FOR SOURCE-LINE 9092
29466 000061D0 00000000                   DATA FOR SOURCE-LINE 9093
29467 000061D4 00000000                   DATA FOR SOURCE-LINE 9094,9096
29468                                     ***** END-POOL *****
29469 000061D8                   9144             .ALIGN  4                               ;
29470 000061D8                   9145     _OVER_RID_UPDN_LAT_DTMK:
29471                            9146             SUB_START
29472 000061D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
29473                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29474 000061DA D10B              9147             MOV.L   #_OVER_UPDN_DBGCNT,R1
29475 000061DC 6011              9148             MOV.W   @R1,R0
29476 000061DE 7001              9149             ADD     #1,R0
29477 000061E0 2101              9150             MOV.W   R0,@R1                          ;
29478                            9151             FAR_JSR #_SET_OVER_RIDE,R0              ;起動時
29479 000061E2 D00A                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29480 000061E4 400B                   M           JSR     @R0                     ;
29481 000061E6 0009                   M           NOP                                     ;
29482                            9152     
29483                            9153             FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
29484 000061E8 D009                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29485 000061EA 400B                   M           JSR     @R0                     ;
29486 000061EC 0009                   M           NOP                                     ;
29487                            9154             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
29488 000061EE D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29489 000061F0 400B                   M           JSR     @R0                     ;
29490 000061F2 0009                   M           NOP                                     ;
29491                            9155     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   423
PROGRAM NAME =

29492                            9156     ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
29493                            9157             FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
29494 000061F4 D008                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29495 000061F6 400B                   M           JSR     @R0                     ;
29496 000061F8 0009                   M           NOP                                     ;
29497                            9158             FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
29498 000061FA D008                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29499 000061FC 400B                   M           JSR     @R0                     ;
29500 000061FE 0009                   M           NOP                                     ;
29501                            9159     
29502                            9160             SUB_END
29503                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29504 00006200 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29505                            9161             M_RTS
29506 00006202 000B                   M           RTS                             ;RTSの後ろの
29507 00006204 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29508                            9162     
29509                            9163     
29510                            9164     ;       *******************************************
29511                            9165     ;       ***                                     ***
29512                            9166     ;       ***                                     ***
29513                            9167     ;       ***     起動時及び１回転毎              ***
29514                            9168     ;       ***                                     ***
29515                            9169     ;       ***                                     ***
29516                            9170     ;       *******************************************
29517                                     ***** BEGIN-POOL *****
29518 00006206 0000                       ALIGNMENT CODE
29519 00006208 00000000                   DATA FOR SOURCE-LINE 9147
29520 0000620C 00000000                   DATA FOR SOURCE-LINE 9151
29521 00006210 00000000                   DATA FOR SOURCE-LINE 9153
29522 00006214 00000000                   DATA FOR SOURCE-LINE 9154
29523 00006218 00000000                   DATA FOR SOURCE-LINE 9157
29524 0000621C 00000000                   DATA FOR SOURCE-LINE 9158
29525                                     ***** END-POOL *****
29526 00006220                   9171             .ALIGN  4                               ;
29527 00006220                   9172     _OVERRIDE_CALC_LATE_SEL:                                                        ;
29528                            9173             SUB_START                                                               ;
29529 00006220 4F22                   M           STS.L   PR,@-R15                ;[必要]
29530                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29531                            9174     
29532                            9175             MEM_MOV_TO_MEM  _SET_ACC_OVRLIDE,W,_POSCTL_OVER_ACC_LAT,W,R1,R2,R3      ;%
29533 00006222 D106                   M           MOV.L   #_SET_ACC_OVRLIDE,R1
29534 00006224 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29535 00006226 D306                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R3        ;DST_ADR
29536 00006228 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29537                            9176             FAR_JSR #_ACCLAT1_SV_MAK_OVR,R0                                         ;
29538 0000622A D006                   M           MOV.L   #_ACCLAT1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29539 0000622C 400B                   M           JSR     @R0                     ;
29540 0000622E 0009                   M           NOP                                     ;
29541                            9177             FAR_JSR #_ACCBRK1_SV_MAK_OVR,R0                                         ;
29542 00006230 D005                   M           MOV.L   #_ACCBRK1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29543 00006232 400B                   M           JSR     @R0                     ;
29544 00006234 0009                   M           NOP                                     ;
29545                            9178     
29546                            9179             SUB_END
29547                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29548 00006236 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   424
PROGRAM NAME =

29549                            9180             M_RTS
29550 00006238 000B                   M           RTS                             ;RTSの後ろの
29551 0000623A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29552                            9181     
29553                                     ***** BEGIN-POOL *****
29554 0000623C 00000000                   DATA FOR SOURCE-LINE 9175
29555 00006240 00000000                   DATA FOR SOURCE-LINE 9175
29556 00006244 00000000                   DATA FOR SOURCE-LINE 9176
29557 00006248 00000000                   DATA FOR SOURCE-LINE 9177
29558                                     ***** END-POOL *****
29559 0000624C                   9182             .ALIGN  4                               ;
29560 0000624C                   9183     _OVERRIDE_CALC_SPED_SEL:                                                ;
29561                            9184             SUB_START                                                       ;
29562 0000624C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29563                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29564                            9185     
29565                            9186             MEM_MOV_TO_MEM  _SET_SPD_OVRLIDE,W,_POSCTL_OVER_SPD_LAT,W,R1,R2,R3      ;
29566 0000624E D103                   M           MOV.L   #_SET_SPD_OVRLIDE,R1
29567 00006250 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29568 00006252 D303                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R3        ;DST_ADR
29569 00006254 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29570                            9187     
29571                            9188             SUB_END
29572                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29573 00006256 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29574                            9189             M_RTS
29575 00006258 000B                   M           RTS                             ;RTSの後ろの
29576 0000625A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29577                            9190     
29578                            9191     
29579                            9192     
29580                            9193     
29581                            9194     
29582                            9195     
29583                            9196     
29584                            9197     
29585                            9198     
29586                            9199     
29587                            9200     ;       *******************************************
29588                            9201     ;       ***                                     ***
29589                            9202     ;       ***     Input  R1:時間                  ***
29590                            9203     ;       ***     Output R1:時間×100/OVER        ***
29591                            9204     ;       ***                                     ***
29592                            9205     ;       *******************************************
29593                            9206     ;       ===================
29594                            9207     ;       ==== 2005-01-17 ===
29595                            9208             .EXPORT _OVER_RIDE_ERR_TIMCHG
29596                                     ***** BEGIN-POOL *****
29597 0000625C 00000000                   DATA FOR SOURCE-LINE 9186
29598 00006260 00000000                   DATA FOR SOURCE-LINE 9186
29599                                     ***** END-POOL *****
29600 00006264                   9209             .ALIGN  4                               ;
29601 00006264                   9210     _OVER_RIDE_ERR_TIMCHG:
29602                            9211             SUB_START
29603 00006264 4F22                   M           STS.L   PR,@-R15                ;[必要]
29604                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29605                            9212             PUSH_REG1 R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   425
PROGRAM NAME =

29606 00006266 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29607                                 M                                           ;REG=>[SP]
29608                                 M                                           ;"-4" FF,FF,FF,FC
29609                            9213     
29610 00006268 6213              9214             MOV     R1,R2                                           ;R1-->R2
29611                            9215     
29612 0000626A D107              9216             MOV.L   #_OVER_RIDE_USEFUL,R1                           ;
29613 0000626C 6011              9217             MOV.W   @R1,R0                                          ;
29614 0000626E C801              9218             TST     #BIT0,R0                                        ;
29615                            9219             TST_BIT_OF OVER_RIDE_ERRTIMCHG_100
29616 00006270 8904                   M           BT      OVER_RIDE_ERRTIMCHG_100
29617                            9220     
29618 00006272 D006              9221             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                        ;ｵｰﾊﾞﾗｲﾄﾞ%
29619 00006274 6401              9222             MOV.W   @R0,R4                                          ;
29620                            9223     
29621                            9224     ;       ============ 2005-04-06(距離一定) =========
29622                            9225                                                                     ;
29623                            9226             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                        ;
29624 00006276 D006                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29625 00006278 400B                   M           JSR     @R0                     ;
29626 0000627A 0009                   M           NOP                                     ;
29627                            9227                                                                     ;
29628                            9228     ;       ===========================================
29629                            9229     
29630 0000627C                   9230     OVER_RIDE_ERRTIMCHG_100                                         ;
29631 0000627C 6123              9231             MOV     R2,R1                                           ;
29632                            9232     
29633                            9233             POP_REG1 R2                                             ;ANS:R1
29634                                 M                                   ; RE"+4" 00,00,00,04
29635 0000627E 62F6                   M           MOV.L   @R15+,R2        ;
29636                            9234             SUB_END
29637                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29638 00006280 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29639                            9235             M_RTS
29640 00006282 000B                   M           RTS                             ;RTSの後ろの
29641 00006284 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29642                            9236     
29643                            9237     
29644                            9238     ;       *******************************************
29645                            9239     ;       ***                                     ***
29646                            9240     ;       ***     時間の次元                      ***
29647                            9241     ;       ***     2005-01-17                      ***
29648                            9242     ;       ***     Input R2        ANS R2          ***
29649                            9243     ;       *******************************************
29650                            9244     ;       R0,R2 DESTROY
29651                            9245     ;       ANS:R2:_POS_LSI_ACCLT1
29652                            9246     ;       (R2)data * 100/SV
29653                            9247     ;       BREAK ERR用
29654                                     ***** BEGIN-POOL *****
29655 00006286 0000                       ALIGNMENT CODE
29656 00006288 00000000                   DATA FOR SOURCE-LINE 9216
29657 0000628C 00000000                   DATA FOR SOURCE-LINE 9221
29658 00006290 00000000                   DATA FOR SOURCE-LINE 9226
29659                                     ***** END-POOL *****
29660 00006294                   9248             .ALIGN  4                               ;
29661 00006294                   9249     _OVER_RID_UPDN_LAT_CALC:
29662                            9250             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   426
PROGRAM NAME =

29663 00006294 4F22                   M           STS.L   PR,@-R15                ;[必要]
29664                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29665                            9251     
29666                            9252             SUB_END
29667                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29668 00006296 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29669                            9253             M_RTS
29670 00006298 000B                   M           RTS                             ;RTSの後ろの
29671 0000629A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29672                            9254     
29673                            9255     
29674                            9256     ;       ===================================================================
29675                            9257     ;       ====                                                            ===
29676                            9258     ;       ====                                                            ===
29677                            9259     ;       ====                                                            ===
29678                            9260     ;       ====            2006-09-19オーバライド周波数対応                ===
29679                            9261     ;       ====                                                            ===
29680                            9262     ;       ====                                                            ===
29681                            9263     ;       ====                                                            ===
29682                            9264     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
29683                            9265     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
29684                            9266     ;       ====    <3>:減速の補正は行なわない                              ===
29685                            9267     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
29686                            9268     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
29687                            9269     ;       ====                                                            ===
29688                            9270     ;       ====                                                            ===
29689                            9271     ;       ===================================================================
29690                            9272     
29691                            9273             .EXPORT _PRESET_PV_ABS_TO_OBJ
29692 0000629C                   9274     _PRESET_PV_ABS_TO_OBJ:
29693                            9275             SUB_START
29694 0000629C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29695                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29696 0000629E D106              9276             MOV.L   #_ERR_FIRST_ST,R1
29697 000062A0 6011              9277             MOV.W   @R1,R0
29698 000062A2 C801              9278             TST     #BIT0,R0
29699                            9279             TST_BIT_ON PRESET_PVABSTOOBJ_100
29700 000062A4 8B0C                   M           BF      PRESET_PVABSTOOBJ_100
29701                            9280     
29702                            9281             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0                                          ;
29703 000062A6 D005                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29704 000062A8 400B                   M           JSR     @R0                     ;
29705 000062AA 0009                   M           NOP                                     ;
29706                            9282             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_FIRST_ST,LG=W,BIT=BIT0,WKREG=R1        ;
29707 000062AC D102                   M           MOV.L   #_ERR_FIRST_ST,R1               ;
29708 000062AE 6011                   M           MOV.W   @R1,R0          ;
29709 000062B0 CB01                   M           OR      #BIT0,R0                ;
29710 000062B2 2101                   M           MOV.W   R0,@R1          ;
29711                            9283             M_BRA   PRESET_PVABSTOOBJ_EXT                                           ;
29712 000062B4 A004                   M           BRA     PRESET_PVABSTOOBJ_EXT
29713 000062B6 0009                   M           NOP
29714                            9284     
29715                                     ***** BEGIN-POOL *****
29716 000062B8 00000000                   DATA FOR SOURCE-LINE 9276,9282
29717 000062BC 00000000                   DATA FOR SOURCE-LINE 9281
29718                                     ***** END-POOL *****
29719 000062C0                   9285     PRESET_PVABSTOOBJ_100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   427
PROGRAM NAME =

29720                            9286             .AIF    0 EQ    0
29721                            9287 C   
29722                            9288             .AELSE
29723                            9289     
29724                            9290             FAR_JSR #_CPUB_GET_CPUA_OBJPOS,R0
29725                            9291     
29726                            9292             .AENDI
29727                            9293     
29728                            9294     
29729 000062C0                   9295     PRESET_PVABSTOOBJ_EXT:
29730                            9296             SUB_END
29731                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29732 000062C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29733                            9297             M_RTS
29734 000062C2 000B                   M           RTS                             ;RTSの後ろの
29735 000062C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29736                            9298     
29737                            9299     
29738                            9300             .EXPORT _PRESET_PV_FLGCLR
29739 000062C6                   9301     _PRESET_PV_FLGCLR
29740                            9302             SUB_START
29741 000062C6 4F22                   M           STS.L   PR,@-R15                ;[必要]
29742                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29743 000062C8 200A              9303             XOR     R0,R0
29744 000062CA D102              9304             MOV.L   #_ERR_FIRST_ST,R1       ;
29745 000062CC 2101              9305             MOV.W   R0,@R1                  ;
29746                            9306     
29747                            9307             SUB_END
29748                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29749 000062CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29750                            9308             M_RTS
29751 000062D0 000B                   M           RTS                             ;RTSの後ろの
29752 000062D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29753                            9309     
29754                            9310     
29755                            9311     
29756                            9312     
29757                                     ***** BEGIN-POOL *****
29758 000062D4 00000000                   DATA FOR SOURCE-LINE 9304
29759                                     ***** END-POOL *****
29760 000062D8                   9313     _CPUB_GET_CPUA_OBJPOS
29761                            9314             SUB_START
29762 000062D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
29763                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29764                            9315     
29765                            9316     ;;;;;;;;;;2015-04-08 全ﾓｰﾄﾞ対象
29766                            9317     ;;;;;;;;;;      MOV.L   #_MODE_SEL,R1                           ;
29767                            9318     ;;;;;;;;;;      MOV.W   @R1,R0                                  ;
29768                            9319     ;;;;;;;;;;      TST     #_W1CNT+_W1SGL,R0               ;
29769                            9320     ;;;;;;;;;;      TST_BIT_OF CPUB_GET_OBJPOS_EXT                  ;
29770                            9321     
29771                            9322     
29772 000062DA D409              9323             MOV.L   #_SH_POSCTL_RL_ABSPLS,R4                ;[CPUAのﾃﾞｰﾀをCPUB側で使用する2014
                                          -11-07]
29773 000062DC 5140              9324             MOV.L   @(0,R4),R1                              ;
29774 000062DE 5241              9325             MOV.L   @(4,R4),R2                              ;
29775                            9326     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   428
PROGRAM NAME =

29776 000062E0 5540              9327             MOV.L   @(0,R4),R5                              ;
29777 000062E2 5641              9328             MOV.L   @(4,R4),R6                              ;
29778 000062E4 3518              9329             SUB     R1,R5
29779 000062E6 3628              9330             SUB     R2,R6                                   ;
29780 000062E8 265B              9331             OR      R5,R6                                   ;
29781 000062EA 2668              9332             TST     R6,R6                                   ;
29782                            9333             TST_BIT_OF CPUB_GET_OBJPOS_100                  ;8ﾊﾞｲﾄｱｸｾｽ中の問題
29783 000062EC 8901                   M           BT      CPUB_GET_OBJPOS_100
29784                            9334     
29785 000062EE 5140              9335             MOV.L   @(0,R4),R1                              ;
29786 000062F0 5241              9336             MOV.L   @(4,R4),R2                              ;
29787                            9337     
29788                            9338     
29789 000062F2                   9339     CPUB_GET_OBJPOS_100
29790 000062F2 D404              9340             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
29791 000062F4 1410              9341             MOV.L   R1,@(0,R4)
29792 000062F6 1421              9342             MOV.L   R2,@(4,R4)
29793                            9343     
29794 000062F8                   9344     CPUB_GET_OBJPOS_EXT
29795                            9345     
29796                            9346             SUB_END
29797                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29798 000062F8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29799                            9347             M_RTS
29800 000062FA 000B                   M           RTS                             ;RTSの後ろの
29801 000062FC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29802                            9348     
29803                            9349     
29804                            9350     ;       *******************************************
29805                            9351     ;       ***                                     ***
29806                            9352     ;       ***     2006-09-19                      ***
29807                            9353     ;       ***                                     ***
29808                            9354     ;       ***     起動または異常時の位置あわせ    ***
29809                            9355     ;       ***                                     ***
29810                            9356     ;       *******************************************
29811                                     ***** BEGIN-POOL *****
29812 000062FE 0000                       ALIGNMENT CODE
29813 00006300 00000000                   DATA FOR SOURCE-LINE 9323
29814 00006304 00000000                   DATA FOR SOURCE-LINE 9340
29815                                     ***** END-POOL *****
29816 00006308                   9357             .ALIGN  4                               ;
29817 00006308                   9358     _SET_PV_ABS_TO_OBJ:
29818                            9359             SUB_START
29819 00006308 4F22                   M           STS.L   PR,@-R15                ;[必要]
29820                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29821                            9360             PUSH_REG1 R0                            ;
29822 0000630A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29823                                 M                                           ;REG=>[SP]
29824                                 M                                           ;"-4" FF,FF,FF,FC
29825                            9361             PUSH_REG1 R1
29826 0000630C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
29827                                 M                                           ;REG=>[SP]
29828                                 M                                           ;"-4" FF,FF,FF,FC
29829                            9362             PUSH_REG1 R2
29830 0000630E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29831                                 M                                           ;REG=>[SP]
29832                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   429
PROGRAM NAME =

29833                            9363             PUSH_REG1 R4
29834 00006310 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
29835                                 M                                           ;REG=>[SP]
29836                                 M                                           ;"-4" FF,FF,FF,FC
29837                            9364     
29838                            9365     ;       ----------------------------------------------
29839                            9366     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;//しょうがない
29840                            9367     ;;;;;;; MOV.W   @R1,R0                          ;
29841                            9368     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
29842                            9369     ;;;;;;; MOV.W   @R1,R2                          ;
29843                            9370     ;;;;;;; OR      R2,R0
29844                            9371     ;;;;;;; TST     #BIT0,R0                        ;
29845                            9372     ;;;;;;; TST_BIT_ON SETPVABSTOOBJ_EXT
29846                            9373     
29847 00006312 D406              9374             MOV.L   #_LINK_PV_ABSPLS,R4             ;
29848 00006314 6146              9375             MOV.L   @R4+,R1                                 ;
29849 00006316 6242              9376             MOV.L   @R4,R2                                  ;
29850 00006318 D405              9377             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
29851 0000631A 1410              9378             MOV.L   R1,@(0,R4)
29852 0000631C 1421              9379             MOV.L   R2,@(4,R4)
29853                            9380     
29854                            9381     ;;;;;;;SETPVABSTOOBJ_EXT:
29855                            9382     
29856                            9383             POP_REG1 R4
29857                                 M                                   ; RE"+4" 00,00,00,04
29858 0000631E 64F6                   M           MOV.L   @R15+,R4        ;
29859                            9384             POP_REG1 R2
29860                                 M                                   ; RE"+4" 00,00,00,04
29861 00006320 62F6                   M           MOV.L   @R15+,R2        ;
29862                            9385             POP_REG1 R1
29863                                 M                                   ; RE"+4" 00,00,00,04
29864 00006322 61F6                   M           MOV.L   @R15+,R1        ;
29865                            9386             POP_REG1 R0
29866                                 M                                   ; RE"+4" 00,00,00,04
29867 00006324 60F6                   M           MOV.L   @R15+,R0        ;
29868                            9387             SUB_END
29869                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29870 00006326 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29871                            9388             M_RTS
29872 00006328 000B                   M           RTS                             ;RTSの後ろの
29873 0000632A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29874                            9389     ;       *******************************************
29875                            9390     ;       ***                                     ***
29876                            9391     ;       ***     2006-09-19                      ***
29877                            9392     ;       ***                                     ***
29878                            9393     ;       ***     ﾊﾟﾙｽ管理                        ***
29879                            9394     ;       ***     (位置決め部分での処理)          ***
29880                            9395     ;       ***                                     ***
29881                            9396     ;       *******************************************
29882                            9397     ;       *******************************************
29883                            9398     ;       ***                                     ***
29884                            9399     ;       ***                                     ***
29885                            9400     ;       ***             演算INI                 ***
29886                            9401     ;       ***                                     ***
29887                            9402     ;       ***                                     ***
29888                            9403     ;       ***                                     ***
29889                            9404     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   430
PROGRAM NAME =

29890                                     ***** BEGIN-POOL *****
29891 0000632C 00000000                   DATA FOR SOURCE-LINE 9374
29892 00006330 00000000                   DATA FOR SOURCE-LINE 9377
29893                                     ***** END-POOL *****
29894 00006334                   9405             .ALIGN  4                               ;
29895 00006334                   9406     _PLS_LSI_CTL_INI:
29896                            9407             SUB_START
29897 00006334 4F22                   M           STS.L   PR,@-R15                ;[必要]
29898                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29899                            9408     
29900                            9409     
29901                            9410     
29902                            9411             SUB_END
29903                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29904 00006336 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29905                            9412             M_RTS
29906 00006338 000B                   M           RTS                             ;RTSの後ろの
29907 0000633A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29908                            9413     
29909                            9414     
29910                            9415     ;       *******************************************
29911                            9416     ;       ***                                     ***
29912                            9417     ;       ***                                     ***
29913                            9418     ;       ***             演算END                 ***
29914                            9419     ;       ***             どうするか？            ***
29915                            9420     ;       ***                                     ***
29916                            9421     ;       ***                                     ***
29917                            9422     ;       *******************************************
29918 0000633C                   9423             .ALIGN  4                               ;
29919 0000633C                   9424     _PLS_LSI_SPEED_OFF:
29920                            9425             SUB_START
29921 0000633C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29922                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29923                            9426     
29924                            9427             FAR_JSR #_PLS_LSI_STOP_END,R0                                           ;
29925 0000633E D003                   M           MOV.L   #_PLS_LSI_STOP_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29926 00006340 400B                   M           JSR     @R0                     ;
29927 00006342 0009                   M           NOP                                     ;
29928                            9428     
29929                            9429             SUB_END
29930                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29931 00006344 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29932                            9430             M_RTS
29933 00006346 000B                   M           RTS                             ;RTSの後ろの
29934 00006348 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29935                            9431     
29936                            9432     ;       ***********************************
29937                            9433     ;       ***                             ***
29938                            9434     ;       ***     SPD * OVER LIMIT-->SPD  ***
29939                            9435     ;       ***                             ***
29940                            9436     ;       ***********************************
29941                            9437     ;       input R2 output R2
29942                                     ***** BEGIN-POOL *****
29943 0000634A 0000                       ALIGNMENT CODE
29944 0000634C 00000000                   DATA FOR SOURCE-LINE 9427
29945                                     ***** END-POOL *****
29946 00006350                   9438     _OVER_LIDE_SPD_CALC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   431
PROGRAM NAME =

29947                            9439             SUB_START
29948 00006350 4F22                   M           STS.L   PR,@-R15                ;[必要]
29949                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29950 00006352 D307              9440             MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
29951 00006354 6131              9441             MOV.W   @R3,R1                                  ;
29952 00006356 940A              9442             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;
29953                            9443             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
29954 00006358 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29955 0000635A 400B                   M           JSR     @R0                     ;
29956 0000635C 0009                   M           NOP                                     ;
29957 0000635E D106              9444             MOV.L   #_POSCTL_SV_OFS_SPD,R1                  ;//自起動 PLS/S
29958 00006360 6312              9445             MOV.L   @R1,R3                                  ;
29959 00006362 3233              9446             CMP/GE  R3,R2                                   ;
29960 00006364 8900              9447             BT      OVER_LIDE_SPDCAL100                     ;
29961 00006366 6233              9448             MOV     R3,R2                                   ;
29962 00006368                   9449     OVER_LIDE_SPDCAL100
29963                            9450     
29964                            9451             SUB_END
29965                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29966 00006368 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29967                            9452             M_RTS
29968 0000636A 000B                   M           RTS                             ;RTSの後ろの
29969 0000636C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29970                            9453     
29971                            9454     
29972                            9455     ;       ***********************************
29973                            9456     ;       ***                             ***
29974                            9457     ;       ***     上限リミット            ***
29975                            9458     ;       ***     2013-02-15              ***
29976                            9459     ;       ***********************************
29977                            9460     ;       input R2[PLS/S] output R2[PLS/S]
29978                            9461     ;
29979                                     ***** BEGIN-POOL *****
29980 0000636E 0064                       DATA FOR SOURCE-LINE 9442
29981 00006370 00000000                   DATA FOR SOURCE-LINE 9440
29982 00006374 00000000                   DATA FOR SOURCE-LINE 9443
29983 00006378 00000000                   DATA FOR SOURCE-LINE 9444
29984                                     ***** END-POOL *****
29985 0000637C                   9462     _SPD_UPLIMT_CALC
29986                            9463             SUB_START
29987 0000637C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29988                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29989 0000637E D106              9464             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
29990 00006380 6011              9465             MOV.W   @R1,R0                  ;
29991 00006382 2008              9466             TST     R0,R0                   ;
29992                            9467             TST_BIT_OF SPD_UPLIMT_CALEND    ;LIMITしない
29993 00006384 8904                   M           BT      SPD_UPLIMT_CALEND
29994                            9468     
29995 00006386 D105              9469             MOV.L   #_UPLIMIT_SV_SPD,R1     ;
29996 00006388 6312              9470             MOV.L   @R1,R3                  ;
29997 0000638A 3323              9471             CMP/GE  R2,R3                   ;R2=< R3
29998 0000638C 8900              9472             BT      SPD_UPLIMT_CALEND       ;
29999 0000638E 6233              9473             MOV     R3,R2                   ;UP LIMIT
30000 00006390                   9474     SPD_UPLIMT_CALEND                       ;
30001                            9475             SUB_END
30002                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30003 00006390 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   432
PROGRAM NAME =

30004                            9476             M_RTS
30005 00006392 000B                   M           RTS                             ;RTSの後ろの
30006 00006394 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30007                            9477     
30008                            9478     ;       ***********************************************************
30009                            9479     ;       ***                                                     ***
30010                            9480     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
30011                            9481     ;       ***     位置決め部演算                                  ***
30012                            9482     ;       ***********************************************************
30013                            9483     ;       Input   R1,R2:残り距離 +/-
30014                            9484     ;               R11
30015                            9485     ;               R12
30016                            9486     ;
30017                            9487     
30018                            9488     
30019                                     ***** BEGIN-POOL *****
30020 00006396 0000                       ALIGNMENT CODE
30021 00006398 00000000                   DATA FOR SOURCE-LINE 9464
30022 0000639C 00000000                   DATA FOR SOURCE-LINE 9469
30023                                     ***** END-POOL *****
30024 000063A0                   9489             .ALIGN  4                               ;
30025 000063A0                   9490     _CMP_POSLSI_CTLGENSOK:
30026                            9491             SUB_START
30027 000063A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30028                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30029                            9492     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30030 000063A2 D40F              9493             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
30031 000063A4 5140              9494             MOV.L   @(0,R4),R1                                              ;
30032 000063A6 5241              9495             MOV.L   @(4,R4),R2                                              ;
30033                            9496     
30034                            9497     ;       ---------------リアルタイム目標位置-----------
30035 000063A8 D40E              9498             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
30036 000063AA 5540              9499             MOV.L   @(0,R4),R5                                              ;
30037 000063AC 5641              9500             MOV.L   @(4,R4),R6                                              ;
30038                            9501             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30039 000063AE 0008                   M           CLRT
30040 000063B0 326A                   M           SUBC    R6,R2
30041 000063B2 315A                   M           SUBC    R5,R1
30042                            9502     
30043 000063B4 D40C              9503             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30044 000063B6 6041              9504             MOV.W   @R4,R0                                                  ;
30045 000063B8 C801              9505             TST     #BIT0,R0                                                ;
30046                            9506             TST_BIT_OF CMP_PLSLSI_CTLCAL_200                                        ;正転
30047 000063BA 8905                   M           BT      CMP_PLSLSI_CTLCAL_200
30048                            9507             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30049 000063BC 6227                   M           NOT     R2,R2                           ;
30050 000063BE 6117                   M           NOT     R1,R1                           ;
30051 000063C0 200A                   M           XOR     R0,R0                           ;
30052 000063C2 0018                   M           SETT
30053 000063C4 320E                   M           ADDC    R0,R2                           ;0+1+R2
30054 000063C6 310E                   M           ADDC    R0,R1                           ;
30055 000063C8                   9508     CMP_PLSLSI_CTLCAL_200:                                                  ;
30056                            9509     
30057                            9510     
30058 000063C8 D408              9511             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
30059 000063CA 6942              9512             MOV.L   @R4,R9                                                  ;
30060                            9513     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   433
PROGRAM NAME =

30061 000063CC D408              9514             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30062 000063CE 6A42              9515             MOV.L   @R4,R10                                                 ;
30063                            9516     
30064 000063D0 D408              9517             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
30065 000063D2 6B42              9518             MOV.L   @R4,R11                                                 ;
30066                            9519     
30067                            9520             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30068 000063D4 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30069 000063D6 400B                   M           JSR     @R0                     ;
30070 000063D8 0009                   M           NOP                                     ;
30071                            9521     
30072                            9522             SUB_END
30073                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30074 000063DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30075                            9523             M_RTS
30076 000063DC 000B                   M           RTS                             ;RTSの後ろの
30077 000063DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30078                            9524     
30079                            9525     
30080                            9526     ;       ***********************************************************
30081                            9527     ;       ***                                                     ***
30082                            9528     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
30083                            9529     ;       ***     連続切り替え条件演算                            ***
30084                            9530     ;       ***********************************************************
30085                            9531     ;       Input   R1,R2:残り距離 +/-
30086                            9532     ;               R11
30087                            9533     ;               R12
30088                            9534     ;
30089                                     ***** BEGIN-POOL *****
30090 000063E0 00000000                   DATA FOR SOURCE-LINE 9493
30091 000063E4 00000000                   DATA FOR SOURCE-LINE 9498
30092 000063E8 00000000                   DATA FOR SOURCE-LINE 9503
30093 000063EC 00000000                   DATA FOR SOURCE-LINE 9511
30094 000063F0 00000000                   DATA FOR SOURCE-LINE 9514
30095 000063F4 00000000                   DATA FOR SOURCE-LINE 9517
30096 000063F8 00000000                   DATA FOR SOURCE-LINE 9520
30097                                     ***** END-POOL *****
30098 000063FC                   9535             .ALIGN  4                               ;
30099 000063FC                   9536     _CMP_CNT_CTLGENSOK:
30100                            9537             SUB_START
30101 000063FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30102                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30103                            9538     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30104 000063FE D414              9539             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
30105 00006400 6146              9540             MOV.L   @R4+,R1                                                 ;
30106 00006402 6242              9541             MOV.L   @R4,R2                                                  ;
30107                            9542     
30108 00006404 D413              9543             MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
30109 00006406 6442              9544             MOV.L   @R4,R4                                                  ;
30110 00006408 233A              9545             XOR     R3,R3                                                   ;3FFF,FFFF以下
30111 0000640A 901F              9546             MOV.W   #_PROC_2MS_PLS,R0                                       ;
30112 0000640C 340C              9547             ADD     R0,R4                                                   ;R3,R4
30113                            9548             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-DT = 目標'
30114 0000640E 0008                   M           CLRT
30115 00006410 324A                   M           SUBC    R4,R2
30116 00006412 313A                   M           SUBC    R3,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   434
PROGRAM NAME =

30117                            9549     
30118                            9550     ;       ---------------リアルタイム目標位置-----------
30119 00006414 D410              9551             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
30120 00006416 5540              9552             MOV.L   @(0,R4),R5                                              ;
30121 00006418 5641              9553             MOV.L   @(4,R4),R6                                              ;
30122                            9554             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30123 0000641A 0008                   M           CLRT
30124 0000641C 326A                   M           SUBC    R6,R2
30125 0000641E 315A                   M           SUBC    R5,R1
30126                            9555     
30127 00006420 D40E              9556             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30128 00006422 6041              9557             MOV.W   @R4,R0                                                  ;
30129 00006424 C801              9558             TST     #BIT0,R0                                                ;
30130                            9559             TST_BIT_OF CMP_CNT_CTLCAL_200                                   ;正転
30131 00006426 8905                   M           BT      CMP_CNT_CTLCAL_200
30132                            9560             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30133 00006428 6227                   M           NOT     R2,R2                           ;
30134 0000642A 6117                   M           NOT     R1,R1                           ;
30135 0000642C 200A                   M           XOR     R0,R0                           ;
30136 0000642E 0018                   M           SETT
30137 00006430 320E                   M           ADDC    R0,R2                           ;0+1+R2
30138 00006432 310E                   M           ADDC    R0,R1                           ;
30139 00006434                   9561     CMP_CNT_CTLCAL_200:                                                     ;
30140                            9562     
30141 00006434 D40A              9563             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
30142 00006436 6942              9564             MOV.L   @R4,R9                                                  ;
30143                            9565     
30144 00006438 D40A              9566             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30145 0000643A 6A42              9567             MOV.L   @R4,R10                                                 ;
30146                            9568     
30147 0000643C D40A              9569             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
30148 0000643E 6B42              9570             MOV.L   @R4,R11                                                 ;
30149                            9571     
30150                            9572             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30151 00006440 D00A                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30152 00006442 400B                   M           JSR     @R0                     ;
30153 00006444 0009                   M           NOP                                     ;
30154                            9573             SUB_END
30155                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30156 00006446 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30157                            9574             M_RTS
30158 00006448 000B                   M           RTS                             ;RTSの後ろの
30159 0000644A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30160                            9575     
30161                            9576     ;       ***********************************************************
30162                            9577     ;       ***                                                     ***
30163                            9578     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
30164                            9579     ;       ***     ブレーキ異常条件演算                            ***
30165                            9580     ;       ***********************************************************
30166                            9581     ;       Input   R1,R2:残り距離 +/-
30167                            9582     ;               R11
30168                            9583     ;               R12
30169                            9584     ;
30170                            9585             .EXPORT _CMP_BRK2_CTLGENSOK
30171                                     ***** BEGIN-POOL *****
30172 0000644C 07D0                       DATA FOR SOURCE-LINE 9546
30173 0000644E 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   435
PROGRAM NAME =

30174 00006450 00000000                   DATA FOR SOURCE-LINE 9539
30175 00006454 00000000                   DATA FOR SOURCE-LINE 9543
30176 00006458 00000000                   DATA FOR SOURCE-LINE 9551
30177 0000645C 00000000                   DATA FOR SOURCE-LINE 9556
30178 00006460 00000000                   DATA FOR SOURCE-LINE 9563
30179 00006464 00000000                   DATA FOR SOURCE-LINE 9566
30180 00006468 00000000                   DATA FOR SOURCE-LINE 9569
30181 0000646C 00000000                   DATA FOR SOURCE-LINE 9572
30182                                     ***** END-POOL *****
30183 00006470                   9586             .ALIGN  4                               ;
30184 00006470                   9587     _CMP_BRK2_CTLGENSOK:
30185                            9588             SUB_START
30186 00006470 4F22                   M           STS.L   PR,@-R15                ;[必要]
30187                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30188                            9589     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30189 00006472 D40F              9590             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
30190 00006474 6146              9591             MOV.L   @R4+,R1                                                 ;
30191 00006476 6242              9592             MOV.L   @R4,R2                                                  ;
30192                            9593     
30193                            9594     
30194                            9595     ;       ---------------実測目標位置-----------
30195 00006478 D40E              9596             MOV.L   #_LINK_PV_ABSPLS,R4             ;
30196 0000647A 5540              9597             MOV.L   @(0,R4),R5                                              ;
30197 0000647C 5641              9598             MOV.L   @(4,R4),R6                                              ;
30198                            9599             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30199 0000647E 0008                   M           CLRT
30200 00006480 326A                   M           SUBC    R6,R2
30201 00006482 315A                   M           SUBC    R5,R1
30202                            9600     
30203 00006484 D40C              9601             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30204 00006486 6041              9602             MOV.W   @R4,R0                                                  ;
30205 00006488 C801              9603             TST     #BIT0,R0                                                ;
30206                            9604             TST_BIT_OF CMP_BRK2_CTLCAL_200                                  ;正転
30207 0000648A 8905                   M           BT      CMP_BRK2_CTLCAL_200
30208                            9605             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30209 0000648C 6227                   M           NOT     R2,R2                           ;
30210 0000648E 6117                   M           NOT     R1,R1                           ;
30211 00006490 200A                   M           XOR     R0,R0                           ;
30212 00006492 0018                   M           SETT
30213 00006494 320E                   M           ADDC    R0,R2                           ;0+1+R2
30214 00006496 310E                   M           ADDC    R0,R1                           ;
30215 00006498                   9606     CMP_BRK2_CTLCAL_200:                                                    ;
30216 00006498 D408              9607             MOV.L   #_ABS_ENC_PLS_SPD,R4                                    ;実測
30217 0000649A 6942              9608             MOV.L   @R4,R9                                                  ;
30218                            9609     
30219 0000649C D408              9610             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30220 0000649E 6A42              9611             MOV.L   @R4,R10                                                 ;
30221                            9612     
30222 000064A0 D408              9613             MOV.L   #_BRK2_SV_DN_ACC,R4                                     ;500,000/1000
30223 000064A2 6B42              9614             MOV.L   @R4,R11                                                 ;
30224                            9615     
30225                            9616             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30226 000064A4 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30227 000064A6 400B                   M           JSR     @R0                     ;
30228 000064A8 0009                   M           NOP                                     ;
30229                            9617             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   436
PROGRAM NAME =

30230                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30231 000064AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30232                            9618             M_RTS
30233 000064AC 000B                   M           RTS                             ;RTSの後ろの
30234 000064AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30235                            9619     
30236                            9620     
30237                            9621     
30238                            9622     
30239                            9623     
30240                            9624     
30241                            9625     ;       *******************************************
30242                            9626     ;       ***                                     ***
30243                            9627     ;       ***     一旦停止                        ***
30244                            9628     ;       ***                                     ***
30245                            9629     ;       *******************************************
30246                                     ***** BEGIN-POOL *****
30247 000064B0 00000000                   DATA FOR SOURCE-LINE 9590
30248 000064B4 00000000                   DATA FOR SOURCE-LINE 9596
30249 000064B8 00000000                   DATA FOR SOURCE-LINE 9601
30250 000064BC 00000000                   DATA FOR SOURCE-LINE 9607
30251 000064C0 00000000                   DATA FOR SOURCE-LINE 9610
30252 000064C4 00000000                   DATA FOR SOURCE-LINE 9613
30253 000064C8 00000000                   DATA FOR SOURCE-LINE 9616
30254                                     ***** END-POOL *****
30255 000064CC                   9630             .ALIGN  4                               ;
30256                            9631             .EXPORT _CMP_HOLD_CTLGENSOK
30257 000064CC                   9632     _CMP_HOLD_CTLGENSOK:
30258                            9633             SUB_START
30259 000064CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30260                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30261                            9634     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30262                            9635     ;;;input        MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
30263                            9636     ;;;     MOV.L   @(0,R4),R1                                              ;
30264                            9637     ;;;     MOV.L   @(4,R4),R2                                              ;
30265                            9638     
30266                            9639     ;       ---------------リアルタイム目標位置-----------
30267 000064CE D40E              9640             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
30268 000064D0 5540              9641             MOV.L   @(0,R4),R5                                              ;
30269 000064D2 5641              9642             MOV.L   @(4,R4),R6                                              ;
30270                            9643             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30271 000064D4 0008                   M           CLRT
30272 000064D6 326A                   M           SUBC    R6,R2
30273 000064D8 315A                   M           SUBC    R5,R1
30274                            9644     
30275 000064DA D40C              9645             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30276 000064DC 6041              9646             MOV.W   @R4,R0                                                  ;
30277 000064DE C801              9647             TST     #BIT0,R0                                                ;
30278                            9648             TST_BIT_OF CMP_HODL_CTL200                                      ;正転
30279 000064E0 8905                   M           BT      CMP_HODL_CTL200
30280                            9649             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30281 000064E2 6227                   M           NOT     R2,R2                           ;
30282 000064E4 6117                   M           NOT     R1,R1                           ;
30283 000064E6 200A                   M           XOR     R0,R0                           ;
30284 000064E8 0018                   M           SETT
30285 000064EA 320E                   M           ADDC    R0,R2                           ;0+1+R2
30286 000064EC 310E                   M           ADDC    R0,R1                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   437
PROGRAM NAME =

30287 000064EE                   9650     CMP_HODL_CTL200:                                                        ;
30288                            9651     
30289 000064EE D408              9652             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
30290 000064F0 6942              9653             MOV.L   @R4,R9                                                  ;
30291                            9654     
30292 000064F2 D408              9655             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30293 000064F4 6A42              9656             MOV.L   @R4,R10                                                 ;
30294                            9657     
30295                            9658     ;;;;    MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
30296                            9659     ;;;;    MOV.L   @R4,R11                                                 ;
30297                            9660     
30298 000064F6 D408              9661             MOV.L   #_POSHLD_SET_DN_ACC,R4                                  ;500,000/1000
30299 000064F8 6B42              9662             MOV.L   @R4,R11                                                 ;
30300                            9663     
30301                            9664             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30302 000064FA D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30303 000064FC 400B                   M           JSR     @R0                     ;
30304 000064FE 0009                   M           NOP                                     ;
30305                            9665     
30306                            9666             SUB_END
30307                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30308 00006500 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30309                            9667             M_RTS
30310 00006502 000B                   M           RTS                             ;RTSの後ろの
30311 00006504 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30312                            9668     
30313                            9669     
30314                            9670     
30315                            9671     ;       *******************************************************************
30316                            9672     ;       ***                                                             ***
30317                            9673     ;       ***                                                             ***
30318                            9674     ;       ***                     クラッチ位置決め部                      ***
30319                            9675     ;       ***                                                             ***
30320                            9676     ;       ***                                                             ***
30321                            9677     ;       ***                                                             ***
30322                            9678     ;       *******************************************************************
30323                            9679     
30324                            9680     ;       *******************************************
30325                            9681     ;       ***                                     ***
30326                            9682     ;       ***     PLS/S --> 位置決めLSI           ***
30327                            9683     ;       ***                                     ***
30328                            9684     ;       *******************************************
30329                            9685     ;       _POS_LSI_SPDMAX=FFFF            ;16bit
30330                            9686     ;       _POS_FRQ_SPDMAX=500000          ;500KHZ(500000PLS/S)
30331                            9687     ;       Input R2:設定PLS/S
30332                                     ***** BEGIN-POOL *****
30333 00006506 0000                       ALIGNMENT CODE
30334 00006508 00000000                   DATA FOR SOURCE-LINE 9640
30335 0000650C 00000000                   DATA FOR SOURCE-LINE 9645
30336 00006510 00000000                   DATA FOR SOURCE-LINE 9652
30337 00006514 00000000                   DATA FOR SOURCE-LINE 9655
30338 00006518 00000000                   DATA FOR SOURCE-LINE 9661
30339 0000651C 00000000                   DATA FOR SOURCE-LINE 9664
30340                                     ***** END-POOL *****
30341 00006520                   9688             .ALIGN  4                               ;
30342 00006520                   9689     _PLS_LSI_CTL_SPDINI:                                                    ;初回起動時
30343                            9690             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   438
PROGRAM NAME =

30344 00006520 4F22                   M           STS.L   PR,@-R15                ;[必要]
30345                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30346                            9691     
30347 00006522 D114              9692             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
30348 00006524 2122              9693             MOV.L   R2,@R1                                                          ;
30349                            9694     
30350                            9695             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3          ;開始は自
                                          動起動
30351 00006526 D114                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
30352 00006528 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30353 0000652A D314                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
30354 0000652C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30355 0000652E D112              9696             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;
30356 00006530 6212              9697             MOV.L   @R1,R2                                                          ;
30357                            9698     ;       ------ BASE時のみ変換が必要---------
30358                            9699             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                         ;
30359 00006532 D013                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30360 00006534 400B                   M           JSR     @R0                     ;
30361 00006536 0009                   M           NOP                                     ;
30362 00006538 D112              9700             MOV.L   #_FREQ_BAS_SV_SPD,R1                                            ;BASE設定
30363 0000653A 2122              9701             MOV.L   R2,@R1                                                          ;
30364                            9702             POS_LSI_32BIT_DAT_SET ADR=_PLS_BasFreqL,ADR_REG=R6,DAT_REG=R2           ;R2 KEEP
30365                                 M           PUSH_REG1 R6
30366 0000653C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
30367                                 M                                           ;REG=>[SP]
30368                                 M                                           ;"-4" FF,FF,FF,FC
30369                                 M           PUSH_REG1 R2
30370 0000653E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30371                                 M                                           ;REG=>[SP]
30372                                 M                                           ;"-4" FF,FF,FF,FC
30373                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30374                                 M           PUSH_REG1 R0
30375 00006540 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30376                                 M                                           ;REG=>[SP]
30377                                 M                                           ;"-4" FF,FF,FF,FC
30378 00006542 D011                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30379 00006544 6001                   M           MOV.W   @R0,R0
30380                                 M           POP_REG1 R0
30381                                 M                                   ; RE"+4" 00,00,00,04
30382 00006546 60F6                   M           MOV.L   @R15+,R0        ;
30383 00006548 D610                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R6                ;
30384 0000654A 2621                   M           MOV.W   R2,@R6                          ;(LOW)
30385 0000654C 7602                   M           ADD     #2,R6                                   ;
30386 0000654E 6229                   M           SWAP.W  R2,R2                           ;
30387                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30388                                 M           PUSH_REG1 R0
30389 00006550 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30390                                 M                                           ;REG=>[SP]
30391                                 M                                           ;"-4" FF,FF,FF,FC
30392 00006552 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30393 00006554 6001                   M           MOV.W   @R0,R0
30394                                 M           POP_REG1 R0
30395                                 M                                   ; RE"+4" 00,00,00,04
30396 00006556 60F6                   M           MOV.L   @R15+,R0        ;
30397 00006558 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
30398                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30399                                 M           PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   439
PROGRAM NAME =

30400 0000655A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30401                                 M                                           ;REG=>[SP]
30402                                 M                                           ;"-4" FF,FF,FF,FC
30403 0000655C D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30404 0000655E 6001                   M           MOV.W   @R0,R0
30405                                 M           POP_REG1 R0
30406                                 M                                   ; RE"+4" 00,00,00,04
30407 00006560 60F6                   M           MOV.L   @R15+,R0        ;
30408                                 M           POP_REG1 R2
30409                                 M                                   ; RE"+4" 00,00,00,04
30410 00006562 62F6                   M           MOV.L   @R15+,R2        ;
30411                                 M           POP_REG1 R6
30412                                 M                                   ; RE"+4" 00,00,00,04
30413 00006564 66F6                   M           MOV.L   @R15+,R6        ;
30414                            9703     
30415                            9704     
30416                            9705             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;PLS/S-->
30417 00006566 D00A                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30418 00006568 400B                   M           JSR     @R0                     ;
30419 0000656A 0009                   M           NOP                                     ;
30420                            9706             SUB_END
30421                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30422 0000656C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30423                            9707             M_RTS
30424 0000656E 000B                   M           RTS                             ;RTSの後ろの
30425 00006570 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30426                            9708     
30427                            9709     
30428                                     ***** BEGIN-POOL *****
30429 00006572 0000                       ALIGNMENT CODE
30430 00006574 00000000                   DATA FOR SOURCE-LINE 9692
30431 00006578 00000000                   DATA FOR SOURCE-LINE 9695,9696
30432 0000657C 00000000                   DATA FOR SOURCE-LINE 9695
30433 00006580 00000000                   DATA FOR SOURCE-LINE 9699
30434 00006584 00000000                   DATA FOR SOURCE-LINE 9700
30435 00006588 00000000                   DATA FOR SOURCE-LINE 9702,9702,9702
30436 0000658C 00000000                   DATA FOR SOURCE-LINE 9702
30437 00006590 00000000                   DATA FOR SOURCE-LINE 9705
30438                                     ***** END-POOL *****
30439 00006594                   9710             .ALIGN  4                               ;
30440 00006594                   9711     _PLS_LSI_CTL_SPDCNT:                                                            ;運転中の
                                          速度変動時
30441                            9712             SUB_START
30442 00006594 4F22                   M           STS.L   PR,@-R15                ;[必要]
30443                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30444 00006596 D104              9713             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
30445 00006598 2122              9714             MOV.L   R2,@R1                                                          ;SAVE 設定
                                          速度
30446                            9715     
30447                            9716             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;
30448 0000659A D004                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30449 0000659C 400B                   M           JSR     @R0                     ;
30450 0000659E 0009                   M           NOP                                     ;
30451                            9717             SUB_END
30452                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30453 000065A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30454                            9718             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   440
PROGRAM NAME =

30455 000065A2 000B                   M           RTS                             ;RTSの後ろの
30456 000065A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30457                            9719     
30458                            9720     
30459                            9721     ;       -------------------------------------------
30460                            9722     ;       ---     input _POSCTL_RL_SPD            ---
30461                            9723     ;       -------------------------------------------
30462                                     ***** BEGIN-POOL *****
30463 000065A6 0000                       ALIGNMENT CODE
30464 000065A8 00000000                   DATA FOR SOURCE-LINE 9713
30465 000065AC 00000000                   DATA FOR SOURCE-LINE 9716
30466                                     ***** END-POOL *****
30467 000065B0                   9724             .ALIGN  4                               ;
30468 000065B0                   9725     _PLS_LSI_CTL_SPDSET
30469                            9726             SUB_START
30470 000065B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30471                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30472 000065B2 D00F              9727             MOV.L   #_POSCTL_RL_SPD,R0                                      ;内部演算リアルタ
                                          イム速度(PLS/S)
30473 000065B4 6202              9728             MOV.L   @R0,R2                                                  ;
30474                            9729             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                 ;
30475 000065B6 D00F                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30476 000065B8 400B                   M           JSR     @R0                     ;
30477 000065BA 0009                   M           NOP                                     ;
30478                            9730     
30479 000065BC D60E              9731             MOV.L   #_FREQ_SV_SPD,R6                                        ;2003-07-01(二重化
                                          対象速度)
30480 000065BE 2622              9732             MOV.L   R2,@R6                                                  ;
30481                            9733             POS_LSI_32BIT_DAT_SET ADR=_PLS_TopFreqL,ADR_REG=R6,DAT_REG=R2   ;
30482                                 M           PUSH_REG1 R6
30483 000065C0 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
30484                                 M                                           ;REG=>[SP]
30485                                 M                                           ;"-4" FF,FF,FF,FC
30486                                 M           PUSH_REG1 R2
30487 000065C2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30488                                 M                                           ;REG=>[SP]
30489                                 M                                           ;"-4" FF,FF,FF,FC
30490                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30491                                 M           PUSH_REG1 R0
30492 000065C4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30493                                 M                                           ;REG=>[SP]
30494                                 M                                           ;"-4" FF,FF,FF,FC
30495 000065C6 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30496 000065C8 6001                   M           MOV.W   @R0,R0
30497                                 M           POP_REG1 R0
30498                                 M                                   ; RE"+4" 00,00,00,04
30499 000065CA 60F6                   M           MOV.L   @R15+,R0        ;
30500 000065CC D60C                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R6                ;
30501 000065CE 2621                   M           MOV.W   R2,@R6                          ;(LOW)
30502 000065D0 7602                   M           ADD     #2,R6                                   ;
30503 000065D2 6229                   M           SWAP.W  R2,R2                           ;
30504                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30505                                 M           PUSH_REG1 R0
30506 000065D4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30507                                 M                                           ;REG=>[SP]
30508                                 M                                           ;"-4" FF,FF,FF,FC
30509 000065D6 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   441
PROGRAM NAME =

30510 000065D8 6001                   M           MOV.W   @R0,R0
30511                                 M           POP_REG1 R0
30512                                 M                                   ; RE"+4" 00,00,00,04
30513 000065DA 60F6                   M           MOV.L   @R15+,R0        ;
30514 000065DC 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
30515                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30516                                 M           PUSH_REG1 R0
30517 000065DE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30518                                 M                                           ;REG=>[SP]
30519                                 M                                           ;"-4" FF,FF,FF,FC
30520 000065E0 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30521 000065E2 6001                   M           MOV.W   @R0,R0
30522                                 M           POP_REG1 R0
30523                                 M                                   ; RE"+4" 00,00,00,04
30524 000065E4 60F6                   M           MOV.L   @R15+,R0        ;
30525                                 M           POP_REG1 R2
30526                                 M                                   ; RE"+4" 00,00,00,04
30527 000065E6 62F6                   M           MOV.L   @R15+,R2        ;
30528                                 M           POP_REG1 R6
30529                                 M                                   ; RE"+4" 00,00,00,04
30530 000065E8 66F6                   M           MOV.L   @R15+,R6        ;
30531                            9734             SUB_END
30532                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30533 000065EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30534                            9735             M_RTS
30535 000065EC 000B                   M           RTS                             ;RTSの後ろの
30536 000065EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30537                            9736     
30538                            9737     
30539                            9738     ;       ***********************************
30540                            9739     ;       ***                             ***
30541                            9740     ;       ***     停止処理                ***
30542                            9741     ;       ***                             ***
30543                            9742     ;       ***********************************
30544                            9743     ;       (1)自起動速度になったらEMGｺﾏﾝﾄﾞを発行する
30545                            9744     ;       (2)速度=0にして残りパルスを0にする
30546                            9745     ;       とりあえず(1)を行なう。
30547                                     ***** BEGIN-POOL *****
30548 000065F0 00000000                   DATA FOR SOURCE-LINE 9727
30549 000065F4 00000000                   DATA FOR SOURCE-LINE 9729
30550 000065F8 00000000                   DATA FOR SOURCE-LINE 9731
30551 000065FC 00000000                   DATA FOR SOURCE-LINE 9733,9733,9733
30552 00006600 00000000                   DATA FOR SOURCE-LINE 9733
30553                                     ***** END-POOL *****
30554 00006604                   9746             .ALIGN  4                               ;
30555 00006604                   9747     _PLS_LSI_STOP_END:
30556                            9748             SUB_START
30557 00006604 4F22                   M           STS.L   PR,@-R15                ;[必要]
30558                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30559 00006606 D41A              9749             MOV.L   #(BIT11*H'10000),R4                                     ;
30560                            9750             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
30561 00006608 D61A                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
30562 0000660A 6562                   M           MOV.L   @R6,R5                                          ;
30563 0000660C 254B                   M           OR      R4,R5                                           ;
30564 0000660E 2652                   M           MOV.L   R5,@R6                                          ;SAVE
30565                                 M   
30566 00006610 D619                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   442
PROGRAM NAME =

30567                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
30568 00006612 6559                   M           SWAP.W  R5,R5                           ;
30569                                 M   
30570 00006614 2651                   M           MOV.W   R5,@R6
30571 00006616 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
30572 00006618 6559                   M           SWAP.W  R5,R5                           ;
30573                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30574                                 M           PUSH_REG1 R0
30575 0000661A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30576                                 M                                           ;REG=>[SP]
30577                                 M                                           ;"-4" FF,FF,FF,FC
30578 0000661C D017                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30579 0000661E 6001                   M           MOV.W   @R0,R0
30580                                 M           POP_REG1 R0
30581                                 M                                   ; RE"+4" 00,00,00,04
30582 00006620 60F6                   M           MOV.L   @R15+,R0        ;
30583 00006622 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
30584                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30585                                 M           PUSH_REG1 R0
30586 00006624 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30587                                 M                                           ;REG=>[SP]
30588                                 M                                           ;"-4" FF,FF,FF,FC
30589 00006626 D015                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30590 00006628 6001                   M           MOV.W   @R0,R0
30591                                 M           POP_REG1 R0
30592                                 M                                   ; RE"+4" 00,00,00,04
30593 0000662A 60F6                   M           MOV.L   @R15+,R0        ;
30594 0000662C 0009              9751             NOP
30595 0000662E 0009              9752             NOP
30596 00006630 0009              9753             NOP
30597                            9754             PUSH_REG1 R4
30598 00006632 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
30599                                 M                                           ;REG=>[SP]
30600                                 M                                           ;"-4" FF,FF,FF,FC
30601 00006634 200A              9755             XOR     R0,R0                                                           ;
30602                            9756             REG_MOV_TO_MEM  DST_ADR=_POSCTL_SV_OFS_SPD,L1=L,DT_REG=R0,WKREG1=R1     ;
30603 00006636 D112                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1  ;DST_ADR
30604 00006638 2102                   M           MOV.L   R0,@R1  ;DST_ADR
30605                            9757             POP_REG1 R4                                                             ;
30606                                 M                                   ; RE"+4" 00,00,00,04
30607 0000663A 64F6                   M           MOV.L   @R15+,R4        ;
30608 0000663C 0009              9758             NOP
30609 0000663E 0009              9759             NOP
30610 00006640 0009              9760             NOP
30611 00006642 D410              9761             MOV.L   #~(BIT11*H'10000),R4            ;
30612                            9762             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
30613 00006644 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
30614 00006646 6562                   M           MOV.L   @R6,R5                                          ;
30615 00006648 2549                   M           AND     R4,R5                                           ;
30616 0000664A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
30617                                 M   
30618 0000664C D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
30619                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
30620 0000664E 6559                   M           SWAP.W  R5,R5                           ;
30621                                 M   
30622 00006650 2651                   M           MOV.W   R5,@R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   443
PROGRAM NAME =

30623 00006652 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
30624 00006654 6559                   M           SWAP.W  R5,R5                           ;
30625                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30626                                 M           PUSH_REG1 R0
30627 00006656 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30628                                 M                                           ;REG=>[SP]
30629                                 M                                           ;"-4" FF,FF,FF,FC
30630 00006658 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30631 0000665A 6001                   M           MOV.W   @R0,R0
30632                                 M           POP_REG1 R0
30633                                 M                                   ; RE"+4" 00,00,00,04
30634 0000665C 60F6                   M           MOV.L   @R15+,R0        ;
30635 0000665E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
30636                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30637                                 M           PUSH_REG1 R0
30638 00006660 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30639                                 M                                           ;REG=>[SP]
30640                                 M                                           ;"-4" FF,FF,FF,FC
30641 00006662 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30642 00006664 6001                   M           MOV.W   @R0,R0
30643                                 M           POP_REG1 R0
30644                                 M                                   ; RE"+4" 00,00,00,04
30645 00006666 60F6                   M           MOV.L   @R15+,R0        ;
30646                            9763     
30647                            9764             SUB_END
30648                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30649 00006668 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30650                            9765             M_RTS
30651 0000666A 000B                   M           RTS                             ;RTSの後ろの
30652 0000666C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30653                            9766     
30654                            9767     
30655                            9768     
30656                            9769     
30657                            9770     
30658                            9771     
30659                            9772     ;       ***************************************************
30660                            9773     ;       ***                                             ***
30661                            9774     ;       ***     Input R2 PLS/SEC-->LSI(0-FFFF)data      ***
30662                            9775     ;       ***                                             ***
30663                            9776     ;       ***************************************************
30664                            9777     ;       Input R2
30665                            9778             .IMPORT _POS_LSI_FRQ_DATA_MAK
30666                            9779     
30667                                     ***** BEGIN-POOL *****
30668 0000666E 0000                       ALIGNMENT CODE
30669 00006670 08000000                   DATA FOR SOURCE-LINE 9749
30670 00006674 00000000                   DATA FOR SOURCE-LINE 9750,9762
30671 00006678 00000000                   DATA FOR SOURCE-LINE 9750,9762
30672 0000667C 00000000                   DATA FOR SOURCE-LINE 9750,9750,9762,9762
30673 00006680 00000000                   DATA FOR SOURCE-LINE 9756
30674 00006684 F7FFFFFF                   DATA FOR SOURCE-LINE 9761
30675                                     ***** END-POOL *****
30676 00006688                   9780             .ALIGN  4                               ;
30677 00006688                   9781     _PLS_CHG_PLS_TO_LSI
30678                            9782             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   444
PROGRAM NAME =

30679 00006688 4F22                   M           STS.L   PR,@-R15                ;[必要]
30680                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30681                            9783             FAR_JSR #_POS_LSI_FRQ_DATA_MAK,R0                       ;PLS/S → 65535=500KHZ
30682 0000668A D009                   M           MOV.L   #_POS_LSI_FRQ_DATA_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30683 0000668C 400B                   M           JSR     @R0                     ;
30684 0000668E 0009                   M           NOP                                     ;
30685                            9784     
30686                            9785     ;       ========== MAX ========
30687 00006690 D108              9786             MOV.L   #_LSI_SET_SPD_MAXLMT,R1                                 ;(周波数上のﾘﾐｯﾀ)
30688 00006692 6312              9787             MOV.L   @R1,R3                                                  ;
30689 00006694 3322              9788             CMP/HS  R2,R3                                                   ;R2 =< R3
30690 00006696 8900              9789             BT      PLS_CHG_PLSTOLSI_100                                    ;
30691 00006698 6233              9790             MOV     R3,R2                                                   ;LIMIT
30692 0000669A                   9791     PLS_CHG_PLSTOLSI_100:
30693                            9792     ;============================ とりあえず策　本当はﾃﾞｰﾀﾚﾍﾞﾙでやるべき==========
30694                            9793     ;       === SIT4は未出荷(SIT3:20070914)(COP2:2007-07-20)===
30695 0000669A D107              9794             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
30696 0000669C 6011              9795             MOV.W   @R1,R0                          ;
30697 0000669E C801              9796             TST     #BIT0,R0                        ;
30698                            9797             TST_BIT_OF PLS_CHG_PLSTOLSI_120         ;
30699 000066A0 890E                   M           BT      PLS_CHG_PLSTOLSI_120
30700 000066A2 C840              9798             TST     #BIT6,R0                        ;
30701                            9799             TST_BIT_ON PLS_CHG_PLSTOLSI_120         ;
30702 000066A4 8B0C                   M           BF      PLS_CHG_PLSTOLSI_120
30703 000066A6 D105              9800             MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1      ;//65535=500KHZ
30704 000066A8 6312              9801             MOV.L   @R1,R3                          ;
30705                            9802             M_BRA   PLS_CHG_PLSTOLSI_150            ;
30706 000066AA A017                   M           BRA     PLS_CHG_PLSTOLSI_150
30707 000066AC 0009                   M           NOP
30708                            9803     
30709                                     ***** BEGIN-POOL *****
30710 000066AE 0000                       ALIGNMENT CODE
30711 000066B0 00000000                   DATA FOR SOURCE-LINE 9783
30712 000066B4 00000000                   DATA FOR SOURCE-LINE 9786
30713 000066B8 00000000                   DATA FOR SOURCE-LINE 9794
30714 000066BC 00000000                   DATA FOR SOURCE-LINE 9800
30715                                     ***** END-POOL *****
30716 000066C0                   9804     PLS_CHG_PLSTOLSI_120:
30717                            9805     
30718                            9806     ;       -----------2013-06-12-----
30719 000066C0 D103              9807             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
30720 000066C2 6011              9808             MOV.W   @R1,R0                          ;
30721 000066C4 2008              9809             TST     R0,R0                           ;
30722                            9810             TST_BIT_OF PLS_CHG_PLSTOLSI_130         ;
30723 000066C6 8907                   M           BT      PLS_CHG_PLSTOLSI_130
30724                            9811     
30725                            9812     
30726                            9813     
30727 000066C8 D102              9814             MOV.L   #_TEP_MIN_SPD_FRQ,R1            ;
30728 000066CA 6312              9815             MOV.L   @R1,R3                          ;FREQ 500.000/65535= 7.62PLS/S
30729                            9816             M_BRA   PLS_CHG_PLSTOLSI_150            ;
30730 000066CC A006                   M           BRA     PLS_CHG_PLSTOLSI_150
30731 000066CE 0009                   M           NOP
30732                            9817     
30733                                     ***** BEGIN-POOL *****
30734 000066D0 00000000                   DATA FOR SOURCE-LINE 9807
30735 000066D4 00000000                   DATA FOR SOURCE-LINE 9814
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   445
PROGRAM NAME =

30736                                     ***** END-POOL *****
30737 000066D8                   9818     PLS_CHG_PLSTOLSI_130:
30738                            9819     
30739                            9820     
30740                            9821     ;       ========== MIN ========
30741 000066D8 D103              9822             MOV.L   #_POS_LSI_SPDBAS,R1             ;65535=500KHZ
30742 000066DA 6312              9823             MOV.L   @R1,R3                          ;
30743 000066DC                   9824     PLS_CHG_PLSTOLSI_150:
30744                            9825     
30745 000066DC 3232              9826             CMP/HS  R3,R2                                                   ;R3 =< R2
30746 000066DE 8900              9827             BT      PLS_CHG_PLSTOLSI_200                                    ;
30747 000066E0 6233              9828             MOV     R3,R2                                                   ;LIMIT
30748 000066E2                   9829     PLS_CHG_PLSTOLSI_200                                                    ;
30749                            9830             SUB_END
30750                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30751 000066E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30752                            9831             M_RTS
30753 000066E4 000B                   M           RTS                             ;RTSの後ろの
30754 000066E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30755                            9832     
30756                            9833     ;       *******************************************************************
30757                            9834     ;       ***                                                             ***
30758                            9835     ;       ***                                                             ***
30759                            9836     ;       ***                     データ作成                              ***
30760                            9837     ;       ***                                                             ***
30761                            9838     ;       ***                                                             ***
30762                            9839     ;       ***                                                             ***
30763                            9840     ;       *******************************************************************
30764                            9841     ;       起動時または1CYCLE終了時
30765                            9842     
30766                            9843     
30767                            9844     
30768                            9845     ;       ***********************************
30769                            9846     ;       ***                             ***
30770                            9847     ;       ***     加速度データの作成      ***
30771                            9848     ;       ***     _POSCTL_SV_UP_ACC       ***
30772                            9849     ;       ***                             ***
30773                            9850     ;       ***********************************
30774                            9851     ;       1回転CYCLE
30775                            9852     ;       ｵｰﾊﾞﾗｲﾄﾞなし
30776                            9853             .EXPORT _ACCLAT1_SV_MAK_COM                     ;
30777                            9854     
30778                                     ***** BEGIN-POOL *****
30779 000066E8 00000000                   DATA FOR SOURCE-LINE 9822
30780                                     ***** END-POOL *****
30781 000066EC                   9855             .ALIGN  4                               ;
30782 000066EC                   9856     _ACCLAT1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30783                            9857             SUB_START
30784 000066EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30785                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30786 000066EE D007              9858             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;time* 100/(1~127)
30787 000066F0 6401              9859             MOV.W   @R0,R4                                  ;1~100
30788                            9860     
30789 000066F2 D007              9861             MOV.L   #_SET1_ACCLAT_TIM1,R0                   ;
30790 000066F4 6201              9862             MOV.W   @R0,R2                                  ;R2:時間
30791                            9863     
30792                            9864             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   446
PROGRAM NAME =

30793 000066F6 D007                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30794 000066F8 400B                   M           JSR     @R0                     ;
30795 000066FA 0009                   M           NOP                                     ;
30796                            9865     
30797 000066FC D106              9866             MOV.L   #_SET_UP_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
30798 000066FE 2122              9867             MOV.L   R2,@R1                                          ;
30799 00006700 D106              9868             MOV.L   #_SET_DN_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
30800 00006702 2122              9869             MOV.L   R2,@R1                                          ;(最終減速専用)
30801                            9870     
30802                            9871             SUB_END
30803                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30804 00006704 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30805                            9872             M_RTS
30806 00006706 000B                   M           RTS                             ;RTSの後ろの
30807 00006708 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30808                            9873     
30809                            9874     ;       -----------------------------------------------------------
30810                            9875     ;       ---     INPUT R2(TIME),R4 OVER-LIDE DATA 1~100,100      ---
30811                            9876     ;       -----------------------------------------------------------
30812                                     ***** BEGIN-POOL *****
30813 0000670A 0000                       ALIGNMENT CODE
30814 0000670C 00000000                   DATA FOR SOURCE-LINE 9858
30815 00006710 00000000                   DATA FOR SOURCE-LINE 9861
30816 00006714 00000000                   DATA FOR SOURCE-LINE 9864
30817 00006718 00000000                   DATA FOR SOURCE-LINE 9866
30818 0000671C 00000000                   DATA FOR SOURCE-LINE 9868
30819                                     ***** END-POOL *****
30820 00006720                   9877             .ALIGN  4                               ;
30821 00006720                   9878     _ACCLAT1_SV_MAK_COM:
30822                            9879             SUB_START
30823 00006720 4F22                   M           STS.L   PR,@-R15                ;[必要]
30824                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30825                            9880     
30826                            9881             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                ;Input R2,R4 ANS R2
30827 00006722 D008                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30828 00006724 400B                   M           JSR     @R0                     ;
30829 00006726 0009                   M           NOP                                     ;
30830 00006728 D107              9882             MOV.L   #_OVER_LIDE_ANS_TIM,R1                  ;TIME *100*100/1*1 = 10000*
30831 0000672A 2122              9883             MOV.L   R2,@R1                                  ;(ﾃﾞﾊﾞｯｸ用)
30832                            9884     ;
30833                            9885     ;       ====時間の次元==>加速度の次元===
30834                            9886     ;;      MOV.L   #_POS_FRQ_SPDMAX,R0                     ;500KHZ(500000PLS/S)
30835                            9887     ;       ------- こっちがわかりよい-------
30836 0000672C 6423              9888             MOV     R2,R4                                   ;
30837 0000672E D007              9889             MOV.L   #_LINK_MAX_SPD_PLS,R0                           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
30838 00006730 6202              9890             MOV.L   @R0,R2                                          ;
30839                            9891             FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
30840 00006732 D007                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
30841 00006734 400B                   M           JSR     @R0                     ;
30842 00006736 0009                   M           NOP                                     ;
30843                            9892     
30844 00006738 2228              9893             TST     R2,R2                                           ;
30845                            9894             TST_BIT_ON ACCLAT1_SV_MAKCOM_200                        ;
30846 0000673A 8B00                   M           BF      ACCLAT1_SV_MAKCOM_200
30847 0000673C E201              9895             MOV     #1,R2                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   447
PROGRAM NAME =

30848 0000673E                   9896     ACCLAT1_SV_MAKCOM_200:                                          ;
30849                            9897     
30850                            9898             SUB_END
30851                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30852 0000673E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30853                            9899             M_RTS
30854 00006740 000B                   M           RTS                             ;RTSの後ろの
30855 00006742 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30856                            9900     
30857                            9901     
30858                            9902     ;       *******************************************
30859                            9903     ;       ***                                     ***
30860                            9904     ;       ***     OVERLIDE 加速度への演算         ***
30861                            9905     ;       ***                                     ***
30862                            9906     ;       *******************************************
30863                            9907     ;       Input R2(ACC時間),R4(0~100per)/OUTPUT R2,R4
30864                                     ***** BEGIN-POOL *****
30865 00006744 00000000                   DATA FOR SOURCE-LINE 9881
30866 00006748 00000000                   DATA FOR SOURCE-LINE 9882
30867 0000674C 00000000                   DATA FOR SOURCE-LINE 9889
30868 00006750 00000000                   DATA FOR SOURCE-LINE 9891
30869                                     ***** END-POOL *****
30870 00006754                   9908             .ALIGN  4                               ;
30871 00006754                   9909     _OVRLIDE_LATE_MULDIV:
30872                            9910             SUB_START
30873 00006754 4F22                   M           STS.L   PR,@-R15                ;[必要]
30874                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30875                            9911     
30876                            9912     ;       ------- 2010-10-06-- ふりこ
30877                            9913             PUSH_REG1 R2
30878 00006756 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30879                                 M                                           ;REG=>[SP]
30880                                 M                                           ;"-4" FF,FF,FF,FC
30881                            9914             PUSH_REG1 R4
30882 00006758 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
30883                                 M                                           ;REG=>[SP]
30884                                 M                                           ;"-4" FF,FF,FF,FC
30885                            9915             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0
30886 0000675A D007                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30887 0000675C 400B                   M           JSR     @R0                     ;
30888 0000675E 0009                   M           NOP                                     ;
30889                            9916             POP_REG1 R4
30890                                 M                                   ; RE"+4" 00,00,00,04
30891 00006760 64F6                   M           MOV.L   @R15+,R4        ;
30892                            9917             POP_REG1 R2
30893                                 M                                   ; RE"+4" 00,00,00,04
30894 00006762 62F6                   M           MOV.L   @R15+,R2        ;
30895                            9918     
30896 00006764 2008              9919             TST     R0,R0
30897                            9920             TST_BIT_ON OVRLIDE_LATMULDIV200         ;ふりこ時時間一定
30898 00006766 8B0B                   M           BF      OVRLIDE_LATMULDIV200
30899                            9921     
30900                            9922     
30901                            9923     
30902 00006768 D004              9924             MOV.L   #_WPAR_ACCTYP_SEL,R0                            ;0:加速距離一定(SIT3ｴｸｾﾃﾞｨ
                                          ) 1:加速時間一定 2:加速度一定
30903 0000676A 6001              9925             MOV.W   @R0,R0                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   448
PROGRAM NAME =

30904 0000676C 8800              9926             CMP/EQ  #0,R0                                           ;0:距離一定(LATE*LATE)
30905 0000676E 890B              9927             BT      OVRLIDE_LATMULDIV300                            ;
30906 00006770 8801              9928             CMP/EQ  #1,R0                                           ;
30907 00006772 8905              9929             BT      OVRLIDE_LATMULDIV200                            ;加速時間一定JUMP
30908                            9930             M_BRA   OVRLIDE_LATMULDIV550                            ;加速度一定
30909 00006774 A017                   M           BRA     OVRLIDE_LATMULDIV550
30910 00006776 0009                   M           NOP
30911                            9931     
30912                            9932     
30913                                     ***** BEGIN-POOL *****
30914 00006778 00000000                   DATA FOR SOURCE-LINE 9915
30915 0000677C 00000000                   DATA FOR SOURCE-LINE 9924
30916                                     ***** END-POOL *****
30917 00006780                   9933     OVRLIDE_LATMULDIV200:                                           ;
30918 00006780 9101              9934             MOV.W   #_OVRLIDE_LATE_MAX,R1                           ;R2(時間)*(100 R1)/(PER R4
                                          )加速時間一定
30919                            9935             M_BRA   OVRLIDE_LATMULDIV400                            ;V=Vmax/Tmax V*0.5 Tmax->T
                                          max/0.5
30920 00006782 A005                   M           BRA     OVRLIDE_LATMULDIV400
30921 00006784 0009                   M           NOP
30922                            9936     
30923                                     ***** BEGIN-POOL *****
30924 00006786 0064                       DATA FOR SOURCE-LINE 9934
30925                                     ***** END-POOL *****
30926 00006788                   9937     OVRLIDE_LATMULDIV300:                                           ;
30927 00006788 6043              9938             MOV     R4,R0                                           ;
30928 0000678A 204E              9939             MULU.W  R4,R0                                           ;
30929 0000678C 041A              9940             STS     MACL,R4                                         ;V*V=2*Vmax/Tmax*S
30930 0000678E 910D              9941             MOV.W   #_OVRLIDE_LATE_MAX*_OVRLIDE_LATE_MAX,R1         ;R2(時間)*(100*100 R1)/(PE
                                          R*PER R4)
30931                            9942     
30932 00006790                   9943     OVRLIDE_LATMULDIV400:                                           ;
30933                            9944     
30934 00006790 622D              9945             EXTU.W  R2,R2                                           ;R2(TIME)*R1/R4
30935                            9946             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
30936 00006792 D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30937 00006794 400B                   M           JSR     @R0                     ;
30938 00006796 0009                   M           NOP                                     ;
30939                            9947     
30940 00006798 D406              9948             MOV.L   #H'0000FFFF,R4                                  ;
30941 0000679A 3422              9949             CMP/HS  R2,R4                                           ;
30942 0000679C 8900              9950             BT      OVRLIDE_LATMULDIV500                            ;
30943 0000679E 6243              9951             MOV     R4,R2                                           ;
30944 000067A0                   9952     OVRLIDE_LATMULDIV500                                            ;
30945 000067A0 2228              9953             TST     R2,R2                                           ;
30946                            9954             TST_BIT_ON OVRLIDE_LATMULDIV550                         ;
30947 000067A2 8B00                   M           BF      OVRLIDE_LATMULDIV550
30948 000067A4 E201              9955             MOV     #1,R2                                           ;
30949 000067A6                   9956     OVRLIDE_LATMULDIV550:                                           ;
30950                            9957     
30951                            9958             SUB_END
30952                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30953 000067A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30954                            9959             M_RTS
30955 000067A8 000B                   M           RTS                             ;RTSの後ろの
30956 000067AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30957                            9960     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   449
PROGRAM NAME =

30958                            9961     
30959                            9962     ;       ***********************************
30960                            9963     ;       ***                             ***
30961                            9964     ;       ***     BRK1ﾃﾞｰﾀMAKE            ***
30962                            9965     ;       ***                             ***
30963                            9966     ;       ***********************************
30964                                     ***** BEGIN-POOL *****
30965 000067AC 2710                       DATA FOR SOURCE-LINE 9941
30966 000067AE 0000                       ALIGNMENT CODE
30967 000067B0 00000000                   DATA FOR SOURCE-LINE 9946
30968 000067B4 0000FFFF                   DATA FOR SOURCE-LINE 9948
30969                                     ***** END-POOL *****
30970 000067B8                   9967             .ALIGN  4                               ;
30971 000067B8                   9968     _ACCBRK1_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30972                            9969             SUB_START
30973 000067B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
30974                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30975 000067BA 9409              9970             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
30976 000067BC D005              9971             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
30977 000067BE 6201              9972             MOV.W   @R0,R2                                  ;
30978                            9973     
30979                            9974             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30980 000067C0 D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30981 000067C2 400B                   M           JSR     @R0                     ;
30982 000067C4 0009                   M           NOP                                     ;
30983                            9975     
30984 000067C6 D105              9976             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
30985 000067C8 2122              9977             MOV.L   R2,@R1                                          ;
30986                            9978             SUB_END
30987                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30988 000067CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30989                            9979             M_RTS
30990 000067CC 000B                   M           RTS                             ;RTSの後ろの
30991 000067CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30992                            9980     
30993                                     ***** BEGIN-POOL *****
30994 000067D0 0064                       DATA FOR SOURCE-LINE 9970
30995 000067D2 0000                       ALIGNMENT CODE
30996 000067D4 00000000                   DATA FOR SOURCE-LINE 9971
30997 000067D8 00000000                   DATA FOR SOURCE-LINE 9974
30998 000067DC 00000000                   DATA FOR SOURCE-LINE 9976
30999                                     ***** END-POOL *****
31000 000067E0                   9981             .ALIGN  4                               ;
31001 000067E0                   9982     _ACCBRK1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
31002                            9983             SUB_START
31003 000067E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
31004                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31005 000067E2 D006              9984             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;
31006 000067E4 6401              9985             MOV.W   @R0,R4                                  ;1~100
31007                            9986     
31008 000067E6 D006              9987             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
31009 000067E8 6201              9988             MOV.W   @R0,R2                                  ;
31010                            9989     
31011                            9990             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
31012 000067EA D006                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31013 000067EC 400B                   M           JSR     @R0                     ;
31014 000067EE 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   450
PROGRAM NAME =

31015                            9991     
31016 000067F0 D105              9992             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
31017 000067F2 2122              9993             MOV.L   R2,@R1                                          ;
31018                            9994             SUB_END
31019                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31020 000067F4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31021                            9995             M_RTS
31022 000067F6 000B                   M           RTS                             ;RTSの後ろの
31023 000067F8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31024                            9996     
31025                            9997     
31026                            9998     ;       ***********************************
31027                            9999     ;       ***                             ***
31028                           10000     ;       ***     BRK2ﾃﾞｰﾀMAKE            ***
31029                           10001     ;       ***                             ***
31030                           10002     ;       ***********************************
31031                                     ***** BEGIN-POOL *****
31032 000067FA 0000                       ALIGNMENT CODE
31033 000067FC 00000000                   DATA FOR SOURCE-LINE 9984
31034 00006800 00000000                   DATA FOR SOURCE-LINE 9987
31035 00006804 00000000                   DATA FOR SOURCE-LINE 9990
31036 00006808 00000000                   DATA FOR SOURCE-LINE 9992
31037                                     ***** END-POOL *****
31038 0000680C                  10003             .ALIGN  4                               ;
31039 0000680C                  10004     _ACCBRK2_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
31040                           10005             SUB_START
31041 0000680C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31042                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31043 0000680E 9409             10006             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
31044 00006810 D005             10007             MOV.L   #_WPAR_BRK2_ACCTM,R0                    ;//38 msec
31045 00006812 6201             10008             MOV.W   @R0,R2                                  ;
31046                           10009     
31047                           10010             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
31048 00006814 D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31049 00006816 400B                   M           JSR     @R0                     ;
31050 00006818 0009                   M           NOP                                     ;
31051                           10011     
31052 0000681A D105             10012             MOV.L   #_BRK2_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
31053 0000681C 2122             10013             MOV.L   R2,@R1                                          ;
31054                           10014     
31055                           10015     
31056                           10016             SUB_END
31057                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31058 0000681E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31059                           10017             M_RTS
31060 00006820 000B                   M           RTS                             ;RTSの後ろの
31061 00006822 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31062                           10018     
31063                           10019     ;       S2b     WPAR_BRK1_ACCTM                 ;//37 msec
31064                           10020     ;       S4b     BRK1_SV_DN_ACC;//目標加速度((PLS/1000)/S/S)
31065                           10021     ;       S4b     BRK1_CAL_DN_ACC;//OVER LIDE 含む
31066                           10022     
31067                           10023     
31068                           10024     ;       *******************************************************************
31069                           10025     ;       ***                                                             ***
31070                           10026     ;       ***                                                             ***
31071                           10027     ;       ***                     演算                                    ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   451
PROGRAM NAME =

31072                           10028     ;       ***                                                             ***
31073                           10029     ;       ***                                                             ***
31074                           10030     ;       ***                                                             ***
31075                           10031     ;       *******************************************************************
31076                           10032     
31077                           10033     ;       *******************************************
31078                           10034     ;       ***                                     ***
31079                           10035     ;       ***     2006-09-19                      ***
31080                           10036     ;       ***     演算                            ***
31081                           10037     ;       ***     速度LSI設定→PLS/Sにする        ***
31082                           10038     ;       ***                                     ***
31083                           10039     ;       *******************************************
31084                           10040     ;
31085                                     ***** BEGIN-POOL *****
31086 00006824 0064                       DATA FOR SOURCE-LINE 10006
31087 00006826 0000                       ALIGNMENT CODE
31088 00006828 00000000                   DATA FOR SOURCE-LINE 10007
31089 0000682C 00000000                   DATA FOR SOURCE-LINE 10010
31090 00006830 00000000                   DATA FOR SOURCE-LINE 10012
31091                                     ***** END-POOL *****
31092 00006834                  10041             .ALIGN  4                               ;
31093 00006834                  10042     _CHG_LSI_LATE_TO_PLS            ;2006-09-19
31094                           10043             SUB_START
31095 00006834 4F22                   M           STS.L   PR,@-R15                ;[必要]
31096                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31097 00006836 D005             10044             MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
31098 00006838 6102             10045             MOV.L   @R0,R1                                          ;
31099 0000683A D005             10046             MOV.L   #_POS_LSI_SPDMAX,R0                             ;FFFF
31100 0000683C 6402             10047             MOV.L   @R0,R4                                          ;
31101 0000683E 6043             10048             MOV     R4,R0                                           ;
31102                           10049     ;;      ADD     #-1,R0                                          ;
31103                           10050     ;;      ADD     R0,R2                                           ;切上
31104                           10051             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
31105 00006840 D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31106 00006842 400B                   M           JSR     @R0                     ;
31107 00006844 0009                   M           NOP                                     ;
31108                           10052     
31109                           10053             SUB_END
31110                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31111 00006846 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31112                           10054             M_RTS
31113 00006848 000B                   M           RTS                             ;RTSの後ろの
31114 0000684A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31115                           10055     
31116                           10056     
31117                           10057     
31118                           10058     
31119                           10059     ;       ***********************************
31120                           10060     ;       ***                             ***
31121                           10061     ;       ***     起動コマンド            ***
31122                           10062     ;       ***                             ***
31123                           10063     ;       ***********************************
31124                                     ***** BEGIN-POOL *****
31125 0000684C 00000000                   DATA FOR SOURCE-LINE 10044
31126 00006850 00000000                   DATA FOR SOURCE-LINE 10046
31127 00006854 00000000                   DATA FOR SOURCE-LINE 10051
31128                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   452
PROGRAM NAME =

31129 00006858                  10064             .ALIGN  4                               ;
31130 00006858                  10065     _SPD_CTL_START
31131                           10066             SUB_START
31132 00006858 4F22                   M           STS.L   PR,@-R15                ;[必要]
31133                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31134                           10067     
31135 0000685A 900F             10068             MOV.W   #1,R0                                                           ;
31136                           10069             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
31137 0000685C D108                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
31138 0000685E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31139                           10070     
31140 00006860 D108             10071             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0:起動 BIT6:END
31141 00006862 6011             10072             MOV.W   @R1,R0                                                          ;
31142 00006864 C801             10073             TST     #BIT0,R0                                                        ;
31143                           10074             TST_BIT_OF SPD_CTL_ST100                                                ;
31144 00006866 8903                   M           BT      SPD_CTL_ST100
31145                           10075             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1     ;
31146 00006868 D107                   M           MOV.L   #_POSCTL_CALC_ERR,R1            ;
31147 0000686A 6011                   M           MOV.W   @R1,R0          ;
31148 0000686C CB01                   M           OR      #BIT0,R0                ;
31149 0000686E 2101                   M           MOV.W   R0,@R1          ;
31150 00006870                  10076     SPD_CTL_ST100
31151 00006870 200A             10077             XOR     R0,R0                   ;
31152                           10078             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
31153 00006872 D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
31154 00006874 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31155                           10079     
31156                           10080             SUB_END
31157                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31158 00006876 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31159                           10081             M_RTS
31160 00006878 000B                   M           RTS                             ;RTSの後ろの
31161 0000687A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31162                           10082     
31163                           10083     ;       -------------------------------------------
31164                           10084     ;       ---                                     ---
31165                           10085     ;       -------------------------------------------
31166                           10086     ;       ***********************************
31167                           10087     ;       ***                             ***
31168                           10088     ;       ***     EMG停止コマンド         ***
31169                           10089     ;       ***                             ***
31170                           10090     ;       ***********************************
31171                                     ***** BEGIN-POOL *****
31172 0000687C 0001                       DATA FOR SOURCE-LINE 10068
31173 0000687E 0000                       ALIGNMENT CODE
31174 00006880 00000000                   DATA FOR SOURCE-LINE 10069
31175 00006884 00000000                   DATA FOR SOURCE-LINE 10071,10078
31176 00006888 00000000                   DATA FOR SOURCE-LINE 10075
31177                                     ***** END-POOL *****
31178 0000688C                  10091             .ALIGN  4                               ;
31179 0000688C                  10092     _SPD_CTL_EMG_STOP
31180                           10093             SUB_START
31181 0000688C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31182                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31183 0000688E 9004             10094             MOV.W   #3,R0                                                           ;0:EMG
31184                           10095             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   453
PROGRAM NAME =

31185 00006890 D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
31186 00006892 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31187                           10096             SUB_END
31188                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31189 00006894 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31190                           10097             M_RTS
31191 00006896 000B                   M           RTS                             ;RTSの後ろの
31192 00006898 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31193                           10098     
31194                           10099     ;       -------------------------------------------
31195                           10100     ;       ---                                     ---
31196                           10101     ;       -------------------------------------------
31197                           10102     ;       ***********************************
31198                           10103     ;       ***                             ***
31199                           10104     ;       ***     SLOW停止コマンド        ***
31200                           10105     ;       ***                             ***
31201                           10106     ;       ***********************************
31202                                     ***** BEGIN-POOL *****
31203 0000689A 0003                       DATA FOR SOURCE-LINE 10094
31204 0000689C 00000000                   DATA FOR SOURCE-LINE 10095
31205                                     ***** END-POOL *****
31206 000068A0                  10107             .ALIGN  4                               ;
31207 000068A0                  10108     _SPD_CTL_SLOW_STOP
31208                           10109             SUB_START
31209 000068A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
31210                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31211 000068A2 9004             10110             MOV.W   #2,R0                                                           ;2:SLOW
31212                           10111             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
31213 000068A4 D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
31214 000068A6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31215                           10112             SUB_END
31216                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31217 000068A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31218                           10113             M_RTS
31219 000068AA 000B                   M           RTS                             ;RTSの後ろの
31220 000068AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31221                           10114     
31222                           10115     
31223                           10116     ;       ***********************************************************
31224                           10117     ;       ***                                                     ***
31225                           10118     ;       ***                                                     ***
31226                           10119     ;       ***                     前回I/F                         ***
31227                           10120     ;       ***                                                     ***
31228                           10121     ;       ***                                                     ***
31229                           10122     ;       ***********************************************************
31230                           10123     ;       *******************************************
31231                           10124     ;       ***     トップ周波数    起動            ***
31232                           10125     ;       *******************************************
31233                           10126     ;       65535へ正規化または7FFFへ正規化
31234                           10127     ;       Input R2:
31235                                     ***** BEGIN-POOL *****
31236 000068AE 0002                       DATA FOR SOURCE-LINE 10110
31237 000068B0 00000000                   DATA FOR SOURCE-LINE 10111
31238                                     ***** END-POOL *****
31239 000068B4                  10128             .ALIGN  4                               ;
31240 000068B4                  10129     _POS_LSI_TOP_SPEED_SET:
31241                           10130             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   454
PROGRAM NAME =

31242 000068B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31243                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31244                           10131             FAR_JSR #_PLS_LSI_CTL_SPDINI,R0
31245 000068B6 D003                   M           MOV.L   #_PLS_LSI_CTL_SPDINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31246 000068B8 400B                   M           JSR     @R0                     ;
31247 000068BA 0009                   M           NOP                                     ;
31248                           10132             SUB_END
31249                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31250 000068BC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31251                           10133             M_RTS
31252 000068BE 000B                   M           RTS                             ;RTSの後ろの
31253 000068C0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31254                           10134     
31255                           10135     ;       *******************************************
31256                           10136     ;       ***     トップ周波数    速度可変        ***
31257                           10137     ;       *******************************************
31258                                     ***** BEGIN-POOL *****
31259 000068C2 0000                       ALIGNMENT CODE
31260 000068C4 00000000                   DATA FOR SOURCE-LINE 10131
31261                                     ***** END-POOL *****
31262 000068C8                  10138             .ALIGN  4                               ;
31263 000068C8                  10139     _POS_LSI_TOP_SPEED_SETX:
31264                           10140             SUB_START
31265 000068C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31266                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31267                           10141             FAR_JSR #_PLS_LSI_CTL_SPDCNT,R0
31268 000068CA D003                   M           MOV.L   #_PLS_LSI_CTL_SPDCNT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31269 000068CC 400B                   M           JSR     @R0                     ;
31270 000068CE 0009                   M           NOP                                     ;
31271                           10142             SUB_END
31272                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31273 000068D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31274                           10143             M_RTS
31275 000068D2 000B                   M           RTS                             ;RTSの後ろの
31276 000068D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31277                           10144     
31278                           10145     ;       ***********************************
31279                           10146     ;       ***     ベース周波数            ***
31280                           10147     ;       ***********************************
31281                           10148     ;       (1回だけ)
31282                                     ***** BEGIN-POOL *****
31283 000068D6 0000                       ALIGNMENT CODE
31284 000068D8 00000000                   DATA FOR SOURCE-LINE 10141
31285                                     ***** END-POOL *****
31286 000068DC                  10149             .ALIGN  4                               ;
31287 000068DC                  10150     _POS_LSI_BAS_SPEED_SET:
31288                           10151             SUB_START
31289 000068DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31290                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31291                           10152             MEM_MOV_TO_MEM  _SET_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3 ;
31292 000068DE D103                   M           MOV.L   #_SET_SPDBAS_PLS,R1
31293 000068E0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31294 000068E2 D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31295 000068E4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31296                           10153             SUB_END
31297                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31298 000068E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   455
PROGRAM NAME =

31299                           10154             M_RTS
31300 000068E8 000B                   M           RTS                             ;RTSの後ろの
31301 000068EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31302                           10155     
31303                           10156     ;       *******************************************
31304                           10157     ;       ***     ベース周波数(HAIF-CLOSE)        ***
31305                           10158     ;       *******************************************
31306                           10159             .EXPORT _POS_LSI_CLS_BAS_SPD_SET
31307                                     ***** BEGIN-POOL *****
31308 000068EC 00000000                   DATA FOR SOURCE-LINE 10152
31309 000068F0 00000000                   DATA FOR SOURCE-LINE 10152
31310                                     ***** END-POOL *****
31311 000068F4                  10160             .ALIGN  4                               ;
31312 000068F4                  10161     _POS_LSI_CLS_BAS_SPD_SET:
31313                           10162             SUB_START
31314 000068F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31315                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31316                           10163             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
31317 000068F6 D103                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
31318 000068F8 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31319 000068FA D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31320 000068FC 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31321                           10164             SUB_END
31322                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31323 000068FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31324                           10165             M_RTS
31325 00006900 000B                   M           RTS                             ;RTSの後ろの
31326 00006902 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31327                           10166     
31328                           10167     
31329                           10168     
31330                           10169     ;       ***********************************
31331                           10170     ;       ***     ベース周波数            ***
31332                           10171     ;       ***********************************
31333                           10172     ;       2013-06-13
31334                           10173             .EXPORT _POS_LSI_TEP_BAS_SPEED_SET
31335                                     ***** BEGIN-POOL *****
31336 00006904 00000000                   DATA FOR SOURCE-LINE 10163
31337 00006908 00000000                   DATA FOR SOURCE-LINE 10163
31338                                     ***** END-POOL *****
31339 0000690C                  10174             .ALIGN  4                               ;
31340 0000690C                  10175     _POS_LSI_TEP_BAS_SPEED_SET:
31341                           10176             SUB_START
31342 0000690C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31343                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31344                           10177             MEM_MOV_TO_MEM  _TEP_MIN_SPD_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3        ;
31345 0000690E D103                   M           MOV.L   #_TEP_MIN_SPD_PLS,R1
31346 00006910 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31347 00006912 D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31348 00006914 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31349                           10178             SUB_END
31350                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31351 00006916 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31352                           10179             M_RTS
31353 00006918 000B                   M           RTS                             ;RTSの後ろの
31354 0000691A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31355                           10180     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   456
PROGRAM NAME =

31356                           10181     
31357                           10182     
31358                           10183     ;
31359                           10184     ;       *******************************************
31360                           10185     ;       ***     トップSPEED=自起動=ｲﾝﾁﾝｸﾞ       ***
31361                           10186     ;       *******************************************
31362                           10187     ;       65535へ正規化または7FFFへ正規化
31363                           10188     ;       Input R2:
31364                           10189             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET1
31365                                     ***** BEGIN-POOL *****
31366 0000691C 00000000                   DATA FOR SOURCE-LINE 10177
31367 00006920 00000000                   DATA FOR SOURCE-LINE 10177
31368                                     ***** END-POOL *****
31369 00006924                  10190             .ALIGN  4                               ;
31370 00006924                  10191     _POS_LSI_CLS_TOP_EQ_BAS_SET1:
31371                           10192             SUB_START
31372 00006924 4F22                   M           STS.L   PR,@-R15                ;[必要]
31373                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31374                           10193             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
31375 00006926 D106                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
31376 00006928 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31377 0000692A D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31378 0000692C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31379 0000692E D105             10194             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
31380 00006930 6212             10195             MOV.L   @R1,R2                          ;
31381                           10196             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
31382 00006932 D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31383 00006934 400B                   M           JSR     @R0                     ;
31384 00006936 0009                   M           NOP                                     ;
31385                           10197             SUB_END
31386                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31387 00006938 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31388                           10198             M_RTS
31389 0000693A 000B                   M           RTS                             ;RTSの後ろの
31390 0000693C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31391                           10199     
31392                           10200             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET2
31393                                     ***** BEGIN-POOL *****
31394 0000693E 0000                       ALIGNMENT CODE
31395 00006940 00000000                   DATA FOR SOURCE-LINE 10193
31396 00006944 00000000                   DATA FOR SOURCE-LINE 10193,10194
31397 00006948 00000000                   DATA FOR SOURCE-LINE 10196
31398                                     ***** END-POOL *****
31399 0000694C                  10201             .ALIGN  4                               ;
31400 0000694C                  10202     _POS_LSI_CLS_TOP_EQ_BAS_SET2:
31401                           10203             SUB_START
31402 0000694C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31403                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31404                           10204             MEM_MOV_TO_MEM  _SET_CLSINC_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3  ;
31405 0000694E D106                   M           MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1
31406 00006950 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31407 00006952 D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31408 00006954 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31409 00006956 D105             10205             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
31410 00006958 6212             10206             MOV.L   @R1,R2                          ;
31411                           10207             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
31412 0000695A D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   457
PROGRAM NAME =

31413 0000695C 400B                   M           JSR     @R0                     ;
31414 0000695E 0009                   M           NOP                                     ;
31415                           10208     
31416                           10209             SUB_END
31417                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31418 00006960 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31419                           10210             M_RTS
31420 00006962 000B                   M           RTS                             ;RTSの後ろの
31421 00006964 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31422                           10211     
31423                           10212     ;       ***********************************
31424                           10213     ;       ***     通常加減速              ***
31425                           10214     ;       ***********************************
31426                           10215     ;       (1回だけ):加速度
31427                                     ***** BEGIN-POOL *****
31428 00006966 0000                       ALIGNMENT CODE
31429 00006968 00000000                   DATA FOR SOURCE-LINE 10204
31430 0000696C 00000000                   DATA FOR SOURCE-LINE 10204,10205
31431 00006970 00000000                   DATA FOR SOURCE-LINE 10207
31432                                     ***** END-POOL *****
31433 00006974                  10216             .ALIGN  4                               ;
31434 00006974                  10217     _POS_LSI_ACC1_SET:
31435                           10218             SUB_START
31436 00006974 4F22                   M           STS.L   PR,@-R15                ;[必要]
31437                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31438 00006976 D003             10219             MOV.L   #_POS_LSI_ACCLT1,R0             ;
31439 00006978 6201             10220             MOV.W   @R0,R2
31440 0000697A D603             10221             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R6        ;
31441 0000697C 2621             10222             MOV.W   R2,@R6                                          ;
31442                           10223             SUB_END
31443                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31444 0000697E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31445                           10224             M_RTS
31446 00006980 000B                   M           RTS                             ;RTSの後ろの
31447 00006982 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31448                           10225     
31449                           10226     ;       ***********************************
31450                           10227     ;       ***     急停止加減速            ***
31451                           10228     ;       ***********************************
31452                           10229     ;       (1回だけ):加速度
31453                                     ***** BEGIN-POOL *****
31454 00006984 00000000                   DATA FOR SOURCE-LINE 10219
31455 00006988 00000000                   DATA FOR SOURCE-LINE 10221
31456                                     ***** END-POOL *****
31457 0000698C                  10230             .ALIGN  4                               ;
31458 0000698C                  10231     _POS_LSI_ACC2_SET:
31459                           10232             SUB_START
31460 0000698C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31461                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31462 0000698E D003             10233             MOV.L   #_POS_LSI_ACCLT2,R0
31463 00006990 6201             10234             MOV.W   @R0,R2
31464 00006992 D603             10235             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate2,R6        ;
31465 00006994 2621             10236             MOV.W   R2,@R6                                          ;
31466                           10237             SUB_END
31467                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31468 00006996 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31469                           10238             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   458
PROGRAM NAME =

31470 00006998 000B                   M           RTS                             ;RTSの後ろの
31471 0000699A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31472                           10239     
31473                           10240     ;       ***********************************
31474                           10241     ;       ***     速度LATE                ***
31475                           10242     ;       ***********************************
31476                           10243     ;       (1回だけ):
31477                                     ***** BEGIN-POOL *****
31478 0000699C 00000000                   DATA FOR SOURCE-LINE 10233
31479 000069A0 00000000                   DATA FOR SOURCE-LINE 10235
31480                                     ***** END-POOL *****
31481 000069A4                  10244             .ALIGN  4                               ;
31482 000069A4                  10245     _POS_LSI_SPDLATE_SET:
31483                           10246             SUB_START
31484 000069A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31485                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31486 000069A6 D003             10247             MOV.L   #_POS_LSI_SPDLAT,R0                             ;
31487 000069A8 6201             10248             MOV.W   @R0,R2
31488 000069AA D603             10249             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R6        ;
31489 000069AC 2621             10250             MOV.W   R2,@R6                                          ;
31490                           10251             SUB_END
31491                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31492 000069AE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31493                           10252             M_RTS
31494 000069B0 000B                   M           RTS                             ;RTSの後ろの
31495 000069B2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31496                           10253     
31497                           10254     
31498                           10255     
31499                           10256     
31500                           10257     
31501                           10258     ;       ***********************************
31502                           10259     ;       ***                             ***
31503                           10260     ;       ***     REAL TIME MONITOR       ***
31504                           10261     ;       ***                             ***
31505                           10262     ;       ***********************************
31506                           10263     ;       ============== 20060919 DBG=====================
31507                           10264             .GLOBAL         _SH_POSCTL_SV_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
31508                           10265             .GLOBAL         _SH_POSCTL_RL_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
31509                           10266             .GLOBAL         _SH_POSCTL_ACC          ;.SRES  4*2     ;
31510                           10267             .GLOBAL         _SH_POSCTL_OFS          ;.SRES  4*2     ;
31511                           10268             .GLOBAL         _SH_POSCTL_SV_ABSPLS    ;.SRES  8*2     ;
31512                           10269             .GLOBAL         _SH_POSCTL_RL_ABSPLS    ;.SRES  8*2     ;
31513                           10270             .GLOBAL         _SH_POSCTL_PV_ABSPLS    ;.SRES  8*2     ;
31514                           10271             .GLOBAL         _SH_POSCTL_REST_PLS     ;.SRES  4*2     ;
31515                           10272             .GLOBAL         _SH_POSCTL_CAL_REST     ;.SRES  4*2     ;演算(SV-PV)
31516                           10273             .GLOBAL         _SH_POSCTL_HENSA        ;.SRES  4*2     ;演算(SV-PV)
31517                           10274             .GLOBAL         _SH_POSCTL_LSIFREQ      ;.SRES  4*2     ;LSI
31518                           10275     
31519                           10276             .AIF    0 EQ    0
31520                                 C   ***** BEGIN-POOL *****
31521 000069B4 00000000               C   DATA FOR SOURCE-LINE 10247
31522 000069B8 00000000               C   DATA FOR SOURCE-LINE 10249
31523                                 C   ***** END-POOL *****
31524          00000000         10277 C   _SH_2B  .EQU    0
31525          00000000         10278 C   _SH_4B  .EQU    0
31526          00000000         10279 C   _SH_8B  .EQU    0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   459
PROGRAM NAME =

31527                           10280             .AELSE
31528                           10281     _SH_2B  .EQU    2
31529                           10282     _SH_4B  .EQU    4
31530                           10283     _SH_8B  .EQU    8
31531                           10284             .AENDI
31532                           10285     
31533                           10286     
31534                           10287     
31535                           10288     
31536                           10289     
31537 000069BC                  10290             .ALIGN  4                               ;
31538 000069BC                  10291     _MONI_SEINOU_CMP_OUTPUT:
31539                           10292             SUB_START
31540 000069BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31541                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31542                           10293     
31543                           10294     ;       設定速度
31544                           10295             MEM_MOV_TO_MEM  _POSCTL_SV_SPD,L        ,_SH_POSCTL_SV_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
31545 000069BE D12E                   M           MOV.L   #_POSCTL_SV_SPD,R1
31546 000069C0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31547 000069C2 D32E                   M           MOV.L   #_SH_POSCTL_SV_SPD+_SH_4B,R3    ;DST_ADR
31548 000069C4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31549                           10296     ;       制御速度
31550                           10297             MEM_MOV_TO_MEM  _POSCTL_RL_SPD,L        ,_SH_POSCTL_RL_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
31551 000069C6 D12E                   M           MOV.L   #_POSCTL_RL_SPD,R1
31552 000069C8 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31553 000069CA D32E                   M           MOV.L   #_SH_POSCTL_RL_SPD+_SH_4B,R3    ;DST_ADR
31554 000069CC 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31555                           10298             MEM_MOV_TO_MEM  _POSCTL_SV_UP_ACC,L     ,_SH_POSCTL_ACC+_SH_4B          ,L,R1,R2,R
                                          3       ;
31556 000069CE D12E                   M           MOV.L   #_POSCTL_SV_UP_ACC,R1
31557 000069D0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31558 000069D2 D32E                   M           MOV.L   #_SH_POSCTL_ACC+_SH_4B,R3       ;DST_ADR
31559 000069D4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31560                           10299             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L    ,_SH_POSCTL_OFS+_SH_4B          ,L,R1,R2,R
                                          3       ;
31561 000069D6 D12E                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
31562 000069D8 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31563 000069DA D32E                   M           MOV.L   #_SH_POSCTL_OFS+_SH_4B,R3       ;DST_ADR
31564 000069DC 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31565                           10300             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS,L   ,_SH_POSCTL_REST_PLS+_SH_4B     ,L,R1,R2,R
                                          3       ;
31566 000069DE D12E                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
31567 000069E0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31568 000069E2 D32E                   M           MOV.L   #_SH_POSCTL_REST_PLS+_SH_4B,R3  ;DST_ADR
31569 000069E4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31570                           10301     
31571                           10302     ;       目標位置
31572 000069E6 D42E             10303             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
31573 000069E8 6146             10304             MOV.L   @R4+,R1                                                 ;
31574 000069EA 6242             10305             MOV.L   @R4,R2                                                  ;
31575 000069EC D42D             10306             MOV.L   #_SH_POSCTL_SV_ABSPLS+_SH_8B,R4                         ;
31576 000069EE 1410             10307             MOV.L   R1,@(0,R4)
31577 000069F0 1421             10308             MOV.L   R2,@(4,R4)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   460
PROGRAM NAME =

31578                           10309     
31579                           10310     ;       ﾘｱﾙﾀｲﾑ目標位置
31580 000069F2 D42D             10311             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                                 ;
31581 000069F4 6546             10312             MOV.L   @R4+,R5                                                                 ;
31582 000069F6 6642             10313             MOV.L   @R4,R6                                                                  ;
31583 000069F8 D42C             10314             MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH_8B,R4                                         ;[
                                          CPUB側で使用する2014-11-07]
31584 000069FA 1450             10315             MOV.L   R5,@(0,R4)                                                              ;
31585 000069FC 1461             10316             MOV.L   R6,@(4,R4)                                                              ;
31586                           10317             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2                       ;
31587 000069FE 0008                   M           CLRT
31588 00006A00 326A                   M           SUBC    R6,R2
31589 00006A02 315A                   M           SUBC    R5,R1
31590                           10318             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_CAL_REST+_SH_4B,L1=L,DT_REG=R2,WKREG1=R1     ;
31591 00006A04 D12A                   M           MOV.L   #_SH_POSCTL_CAL_REST+_SH_4B,R1  ;DST_ADR
31592 00006A06 2122                   M           MOV.L   R2,@R1  ;DST_ADR
31593                           10319     
31594                           10320     ;       実測位置
31595 00006A08 D42A             10321             MOV.L   #_LINK_PV_ABSPLS,R4                                                     ;
31596 00006A0A 6146             10322             MOV.L   @R4+,R1                                                                 ;
31597 00006A0C 6242             10323             MOV.L   @R4,R2                                                                  ;
31598 00006A0E D42A             10324             MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH_8B,R4                                         ;
31599 00006A10 1410             10325             MOV.L   R1,@(0,R4)                                                              ;
31600 00006A12 1421             10326             MOV.L   R2,@(4,R4)                                                              ;
31601                           10327             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6                       ;
31602 00006A14 0008                   M           CLRT
31603 00006A16 362A                   M           SUBC    R2,R6
31604 00006A18 351A                   M           SUBC    R1,R5
31605                           10328             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_HENSA+_SH_4B,L1=L,DT_REG=R6,WKREG1=R1        ;
31606 00006A1A D128                   M           MOV.L   #_SH_POSCTL_HENSA+_SH_4B,R1     ;DST_ADR
31607 00006A1C 2162                   M           MOV.L   R6,@R1  ;DST_ADR
31608                           10329     
31609                           10330             FAR_JSR #_LOAD_NOW_FREQ_PLS,R0                                                  ;
31610 00006A1E D028                   M           MOV.L   #_LOAD_NOW_FREQ_PLS,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31611 00006A20 400B                   M           JSR     @R0                     ;
31612 00006A22 0009                   M           NOP                                     ;
31613                           10331             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_LSIFREQ+_SH_4B,L1=L,DT_REG=R0,WKREG1=R1      ;
31614 00006A24 D127                   M           MOV.L   #_SH_POSCTL_LSIFREQ+_SH_4B,R1   ;DST_ADR
31615 00006A26 2102                   M           MOV.L   R0,@R1  ;DST_ADR
31616                           10332     
31617                           10333     
31618                           10334     ;       ------------------- 2007-03-02--------------------
31619                           10335             .GLOBAL         _SH_SQ200_IN            ;
31620                           10336             .GLOBAL         _SH_CNTSTOP_FLG         ;
31621 00006A28 D127             10337             MOV.L   #_di1_cb_ctl1_dt,R1                     ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
31622 00006A2A 6211             10338             MOV.W   @R1,R2                                  ;
31623 00006A2C 9422             10339             MOV.W   #(BIT11+BIT10+BIT9+BIT8),R4             ;
31624 00006A2E 6447             10340             NOT     R4,R4                                   ;
31625 00006A30 2249             10341             AND     R4,R2                                   ;
31626                           10342     
31627 00006A32 D126             10343             MOV.L   #_BTTN_FLG,R1                           ;
31628 00006A34 6011             10344             MOV.W   @R1,R0                                  ;BIT8,9,10,11
31629 00006A36 4018             10345             SHLL8   R0                                      ;BIT8,9,10
31630 00006A38 220B             10346             OR      R0,R2                                   ;
31631 00006A3A 941C             10347             MOV.W   #BIT7,R4                        ;
31632 00006A3C 6447             10348             NOT     R4,R4                                   ;
31633 00006A3E 2249             10349             AND     R4,R2                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   461
PROGRAM NAME =

31634                           10350     
31635 00006A40 D123             10351             MOV.L   #_CNT_STOP_CMD,R1                       ;
31636 00006A42 6011             10352             MOV.W   @R1,R0                                  ;
31637 00006A44 2008             10353             TST     R0,R0                                   ;
31638                           10354             TST_BIT_OF MONI_DI_CHK_050                      ;
31639 00006A46 8901                   M           BT      MONI_DI_CHK_050
31640 00006A48 9415             10355             MOV.W   #BIT7,R4                                ;
31641 00006A4A 224B             10356             OR      R4,R2                                   ;
31642 00006A4C                  10357     MONI_DI_CHK_050:
31643                           10358             REG_MOV_TO_MEM  DST_ADR=_SH_SQ200_IN+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1    ;
31644 00006A4C D121                   M           MOV.L   #_SH_SQ200_IN+_SH_2B,R1 ;DST_ADR
31645 00006A4E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31646                           10359     
31647                           10360     
31648 00006A50 D121             10361             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
31649 00006A52 6011             10362             MOV.W   @R1,R0                          ;IN
31650 00006A54 C901             10363             AND     #BIT0,R0                        ;
31651 00006A56 4000             10364             SHLL    R0
31652 00006A58 6203             10365             MOV     R0,R2                           ;
31653                           10366     
31654 00006A5A D120             10367             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
31655 00006A5C 6011             10368             MOV.W   @R1,R0                          ;LATCH
31656 00006A5E C901             10369             AND     #BIT0,R0                        ;
31657 00006A60 220B             10370             OR      R0,R2                           ;
31658                           10371             REG_MOV_TO_MEM  DST_ADR=_SH_CNTSTOP_FLG+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
31659 00006A62 D11F                   M           MOV.L   #_SH_CNTSTOP_FLG+_SH_2B,R1      ;DST_ADR
31660 00006A64 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31661                           10372     
31662                           10373             .IMPORT _SH_OUTPLS_DELT
31663 00006A66 D11F             10374             MOV.L   #_OUTPLS_DELT,R1                        ;
31664 00006A68 6211             10375             MOV.W   @R1,R2
31665                           10376             REG_MOV_TO_MEM  DST_ADR=_SH_OUTPLS_DELT+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
31666 00006A6A D11F                   M           MOV.L   #_SH_OUTPLS_DELT+_SH_2B,R1      ;DST_ADR
31667 00006A6C 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31668                           10377     
31669                           10378             SUB_END
31670                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31671 00006A6E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31672                           10379             M_RTS
31673 00006A70 000B                   M           RTS                             ;RTSの後ろの
31674 00006A72 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31675                           10380     
31676                           10381     
31677                           10382     
31678                           10383     
31679                           10384     ;       *******************************************
31680                           10385     ;       ***                                     ***
31681                           10386     ;       ***                                     ***
31682                           10387     ;       ***                                     ***
31683                           10388     ;       *******************************************
31684                                     ***** BEGIN-POOL *****
31685 00006A74 0F00                       DATA FOR SOURCE-LINE 10339
31686 00006A76 0080                       DATA FOR SOURCE-LINE 10347,10355
31687 00006A78 00000000                   DATA FOR SOURCE-LINE 10295
31688 00006A7C 00000000                   DATA FOR SOURCE-LINE 10295
31689 00006A80 00000000                   DATA FOR SOURCE-LINE 10297
31690 00006A84 00000000                   DATA FOR SOURCE-LINE 10297
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   462
PROGRAM NAME =

31691 00006A88 00000000                   DATA FOR SOURCE-LINE 10298
31692 00006A8C 00000000                   DATA FOR SOURCE-LINE 10298
31693 00006A90 00000000                   DATA FOR SOURCE-LINE 10299
31694 00006A94 00000000                   DATA FOR SOURCE-LINE 10299
31695 00006A98 00000000                   DATA FOR SOURCE-LINE 10300
31696 00006A9C 00000000                   DATA FOR SOURCE-LINE 10300
31697 00006AA0 00000000                   DATA FOR SOURCE-LINE 10303
31698 00006AA4 00000000                   DATA FOR SOURCE-LINE 10306
31699 00006AA8 00000000                   DATA FOR SOURCE-LINE 10311
31700 00006AAC 00000000                   DATA FOR SOURCE-LINE 10314
31701 00006AB0 00000000                   DATA FOR SOURCE-LINE 10318
31702 00006AB4 00000000                   DATA FOR SOURCE-LINE 10321
31703 00006AB8 00000000                   DATA FOR SOURCE-LINE 10324
31704 00006ABC 00000000                   DATA FOR SOURCE-LINE 10328
31705 00006AC0 00000000                   DATA FOR SOURCE-LINE 10330
31706 00006AC4 00000000                   DATA FOR SOURCE-LINE 10331
31707 00006AC8 00000000                   DATA FOR SOURCE-LINE 10337
31708 00006ACC 00000000                   DATA FOR SOURCE-LINE 10343
31709 00006AD0 00000000                   DATA FOR SOURCE-LINE 10351
31710 00006AD4 00000000                   DATA FOR SOURCE-LINE 10358
31711 00006AD8 00000000                   DATA FOR SOURCE-LINE 10361
31712 00006ADC 00000000                   DATA FOR SOURCE-LINE 10367
31713 00006AE0 00000000                   DATA FOR SOURCE-LINE 10371
31714 00006AE4 00000000                   DATA FOR SOURCE-LINE 10374
31715 00006AE8 00000000                   DATA FOR SOURCE-LINE 10376
31716                                     ***** END-POOL *****
31717 00006AEC                  10389             .ALIGN  4                               ;
31718 00006AEC                  10390     _RL_POS_DATA_CHK:
31719                           10391             SUB_START
31720 00006AEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31721                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31722 00006AEE D40B             10392             MOV.L   #_MONI_CPUAB_PLSDELT,R4
31723                           10393             .AIF    0 EQ    0
31724 00006AF0 D70B             10394 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R7                      ;自分
31725 00006AF2 D90C             10395 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R9                      ;相手
31726                           10396             .AELSE
31727                           10397             MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R9                      ;相手
31728                           10398             MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R7                      ;自分
31729                           10399             .AENDI
31730                           10400     
31731 00006AF4                  10401     RL_POSDTCHK_SECOND_RD:
31732 00006AF4 5590             10402             MOV.L   @(0,R9),R5                                              ;
31733 00006AF6 5691             10403             MOV.L   @(4,R9),R6                                              ;
31734 00006AF8 5190             10404             MOV.L   @(0,R9),R1                                              ;
31735 00006AFA 5291             10405             MOV.L   @(4,R9),R2                                              ;
31736 00006AFC 3510             10406             CMP/EQ  R1,R5                                                   ;相手
31737 00006AFE 8BF9             10407             BF      RL_POSDTCHK_SECOND_RD
31738 00006B00 3620             10408             CMP/EQ  R2,R6                                                   ;
31739 00006B02 8BF7             10409             BF      RL_POSDTCHK_SECOND_RD
31740                           10410     
31741 00006B04 5370             10411             MOV.L   @(0,R7),R3                                              ;
31742 00006B06 5471             10412             MOV.L   @(4,R7),R4                                              ;
31743                           10413             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2(相手-自分)
31744 00006B08 0008                   M           CLRT
31745 00006B0A 324A                   M           SUBC    R4,R2
31746 00006B0C 313A                   M           SUBC    R3,R1
31747                           10414     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   463
PROGRAM NAME =

31748 00006B0E D003             10415             MOV.L   #_MONI_CPUAB_PLSDELT,R0                                 ;相手-自分
31749 00006B10 1010             10416             MOV.L   R1,@(0,R0)
31750 00006B12 1021             10417             MOV.L   R2,@(4,R0)                                              ;
31751                           10418     
31752                           10419     
31753                           10420     
31754                           10421             SUB_END
31755                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31756 00006B14 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31757                           10422             M_RTS
31758 00006B16 000B                   M           RTS                             ;RTSの後ろの
31759 00006B18 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31760                           10423     
31761                           10424     ;       ***************************************************
31762                           10425     ;       ***                                             ***
31763                           10426     ;       ***             ためし                          ***
31764                           10427     ;       ***                                             ***
31765                           10428     ;       ***************************************************
31766                           10429     ;       Input R2
31767                                     ***** BEGIN-POOL *****
31768 00006B1A 0000                       ALIGNMENT CODE
31769 00006B1C 00000000                   DATA FOR SOURCE-LINE 10392,10415
31770 00006B20 00000000                   DATA FOR SOURCE-LINE 10394
31771 00006B24 00000000                   DATA FOR SOURCE-LINE 10395
31772                                     ***** END-POOL *****
31773 00006B28                  10430             .ALIGN  4                               ;
31774 00006B28                  10431     _CNT_HOSEI_CHK_CALC:
31775                           10432             SUB_START
31776 00006B28 4F22                   M           STS.L   PR,@-R15                ;[必要]
31777                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31778                           10433             .AIF    0 EQ    1                       ;ﾊﾟﾙｽ補正
31779                           10434             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
31780                           10435             MOV.W   @R1,R0                          ;
31781                           10436             TST     R0,R0                           ;
31782                           10437             TST_BIT_ON CNT_HOSEI_CHKCAL_050         ;
31783                           10438             MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
31784                           10439             MOV.W   @R1,R0                          ;
31785                           10440             TST     R0,R0                           ;
31786                           10441             TST_BIT_ON CNT_HOSEI_CHKCAL_050                                 ;
31787                           10442     
31788                           10443             MOV.L   #_MODE_SEL,R1                                           ;
31789                           10444             MOV.W   @R1,R0                                                  ;
31790                           10445             TST     #_W1CNT,R0                                              ;
31791                           10446             TST_BIT_OF CNT_HOSEI_CHKCAL_050                                 ;
31792                           10447     
31793                           10448             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
31794                           10449             MOV.W   @R1,R0                                                  ;
31795                           10450             TST     #BIT3,R0                                                ;
31796                           10451             TST_BIT_ON CNT_HOSEI_CHKCAL_100                                 ;VMODE
31797                           10452     CNT_HOSEI_CHKCAL_050:
31798                           10453             FAR_JSR #_CNTREST_HOS_RESET,R0                                  ;
31799                           10454             M_BRA   CNT_HOSEI_SPDSET_EXT                                    ;
31800                           10455     
31801                           10456     CNT_HOSEI_CHKCAL_100:
31802                           10457             MOV.L   #_MONI_CPUAB_PLSDELT,R0
31803                           10458             MOV.L   @(0,R0),R1                      ;(0or1)
31804                           10459             MOV.L   @(4,R0),R2                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   464
PROGRAM NAME =

31805                           10460             MOV     R2,R3                           ;+/-
31806                           10461             CMP/PZ  R1                              ;+
31807                           10462             BT      CNT_HOSEI_CHKCAL_200            ;相手-自分
31808                           10463             NEG     R2,R2                           ;
31809                           10464     CNT_HOSEI_CHKCAL_200:                           ;
31810                           10465             FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0       ;
31811                           10466     
31812                           10467     
31813                           10468     CNT_HOSEI_SPDSET_EXT:
31814                           10469             .AENDI
31815                           10470     
31816                           10471     
31817                           10472             SUB_END
31818                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31819 00006B2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31820                           10473             M_RTS
31821 00006B2C 000B                   M           RTS                             ;RTSの後ろの
31822 00006B2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31823                           10474     
31824                           10475     
31825                           10476     ;       *******************************************
31826                           10477     ;       ***                                     ***
31827                           10478     ;       ***                                     ***
31828                           10479     ;       ***                                     ***
31829                           10480     ;       *******************************************
31830                           10481     ;       HOS1 1000:1000~  1:7HZ
31831                           10482     ;       HOS1 2000:2000~  2:14HZ
31832                           10483     ;       HOS1 3000:3000~  4:28HZ
31833                           10484     ;       HOS1 4000:ERR
31834          00001F40         10485     _SYNC2_ERR_HABPLS1      .EQU    8000    ;16000
31835                           10486     
31836          0000012C         10487     _SYNC2_ERR_HOSHAB1      .EQU    300     ;
31837          00000190         10488     _SYNC2_ERR_HOSHAB2      .EQU    400     ;(100)
31838          000001F4         10489     _SYNC2_ERR_HOSHAB3      .EQU    500     ;(500)
31839          000003E8         10490     _SYNC2_ERR_HOSHAB4      .EQU    1000    ;(500)
31840          000005DC         10491     _SYNC2_ERR_HOSHAB5      .EQU    1500    ;(500)
31841          000007D0         10492     _SYNC2_ERR_HOSHAB6      .EQU    2000    ;(500)
31842          000009C4         10493     _SYNC2_ERR_HOSHAB7      .EQU    2500    ;(500)
31843                           10494     
31844                           10495     
31845          00000001         10496     _SYNC2_HOS_SPD1         .EQU    1       ;
31846          00000004         10497     _SYNC2_HOS_SPD2         .EQU    4       ;
31847          00000008         10498     _SYNC2_HOS_SPD3         .EQU    8       ;
31848          00000020         10499     _SYNC2_HOS_SPD4         .EQU    32      ;
31849          00000040         10500     _SYNC2_HOS_SPD5         .EQU    64      ;
31850          00000080         10501     _SYNC2_HOS_SPD6         .EQU    128     ;
31851          00000100         10502     _SYNC2_HOS_SPD7         .EQU    256     ;2000khz
31852          00000200         10503     _SYNC2_HOS_SPD8         .EQU    512     ;2000khz 2006-10-28
31853                           10504     
31854 00006B30                  10505             .ALIGN  4                               ;
31855 00006B30                  10506     _CNT_SYNC_HOS_SPD_TYP:
31856                           10507             SUB_START
31857 00006B30 4F22                   M           STS.L   PR,@-R15                ;[必要]
31858                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31859                           10508     
31860 00006B32 D105             10509             MOV.L   #_CNT_SYNC_HOS_DAT2,R1          ;相手-自分
31861 00006B34 2132             10510             MOV.L   R3,@R1                          ;(+/-生ﾃﾞｰﾀ)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   465
PROGRAM NAME =

31862                           10511     
31863 00006B36 9105             10512             MOV.W   #_SYNC2_ERR_HABPLS1,R1          ;
31864 00006B38 3122             10513             CMP/HS  R2,R1                           ;
31865 00006B3A 8909             10514             BT      CNT_SYNCHOS_SPDTYP_080          ;
31866                           10515     
31867                           10516     ;       -------- 2006-10-23--
31868 00006B3C E401             10517             MOV     #BIT0,R4                        ;
31869 00006B3E D503             10518             MOV.L   #_SYNC2_HOS_SPD8,R5             ;MAX
31870                           10519             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31871 00006B40 A049                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31872 00006B42 0009                   M           NOP
31873                           10520     
31874                           10521     
31875                           10522     ;;;     MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_SYNC_ERR_FLG,LG=W,BIT=(BIT1+BIT0),WKREG=R1     ;S
                                          YNC_ERR
31876                           10523     ;;;
31877                           10524     ;;;     M_BRA   CNT_SYNCHOS_SPDTYP_EXT                                                  ;
31878                           10525     
31879                                     ***** BEGIN-POOL *****
31880 00006B44 1F40                       DATA FOR SOURCE-LINE 10512
31881 00006B46 0000                       ALIGNMENT CODE
31882 00006B48 00000000                   DATA FOR SOURCE-LINE 10509
31883 00006B4C 00000200                   DATA FOR SOURCE-LINE 10518
31884                                     ***** END-POOL *****
31885 00006B50                  10526     CNT_SYNCHOS_SPDTYP_080:
31886                           10527     
31887 00006B50 9105             10528             MOV.W   #_SYNC2_ERR_HOSHAB1,R1          ;
31888 00006B52 3216             10529             CMP/HI  R1,R2                           ;=<data1(1000)
31889 00006B54 8904             10530             BT      CNT_SYNCHOS_SPDTYP_200          ;R1(1000)<R2(PLS) JUMP
31890 00006B56                  10531     CNT_SYNCHOS_SPDTYP_100:
31891                           10532     ;       === 正常補正なし====
31892 00006B56 244A             10533             XOR     R4,R4                           ;FLG_BIT
31893 00006B58 255A             10534             XOR     R5,R5                           ;data
31894                           10535             M_BRA   CNT_SYNCHOS_SPDTYP_450          ;
31895 00006B5A A043                   M           BRA     CNT_SYNCHOS_SPDTYP_450
31896 00006B5C 0009                   M           NOP
31897                           10536     
31898                                     ***** BEGIN-POOL *****
31899 00006B5E 012C                       DATA FOR SOURCE-LINE 10528
31900                                     ***** END-POOL *****
31901 00006B60                  10537     CNT_SYNCHOS_SPDTYP_200:
31902 00006B60 9105             10538             MOV.W   #_SYNC2_ERR_HOSHAB2,R1          ;
31903 00006B62 3216             10539             CMP/HI  R1,R2                           ;=<data2(2000)
31904 00006B64 8905             10540             BT      CNT_SYNCHOS_SPDTYP_250          ;R1(2000)<R2(PLS) JUMP
31905 00006B66 E401             10541             MOV     #BIT0,R4                        ;
31906 00006B68 9502             10542             MOV.W   #_SYNC2_HOS_SPD1,R5
31907                           10543             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31908 00006B6A A034                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31909 00006B6C 0009                   M           NOP
31910                           10544     
31911                                     ***** BEGIN-POOL *****
31912 00006B6E 0190                       DATA FOR SOURCE-LINE 10538
31913 00006B70 0001                       DATA FOR SOURCE-LINE 10542
31914                                     ***** END-POOL *****
31915 00006B72                  10545     CNT_SYNCHOS_SPDTYP_250:
31916 00006B72 9105             10546             MOV.W   #_SYNC2_ERR_HOSHAB3,R1          ;
31917 00006B74 3216             10547             CMP/HI  R1,R2                           ;=<data3(3000)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   466
PROGRAM NAME =

31918 00006B76 8905             10548             BT      CNT_SYNCHOS_SPDTYP_300          ;R1(3000)<R2(PLS) JUMP
31919 00006B78 E401             10549             MOV     #BIT0,R4                        ;
31920 00006B7A 9502             10550             MOV.W   #_SYNC2_HOS_SPD2,R5
31921                           10551             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31922 00006B7C A02B                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31923 00006B7E 0009                   M           NOP
31924                           10552     
31925                                     ***** BEGIN-POOL *****
31926 00006B80 01F4                       DATA FOR SOURCE-LINE 10546
31927 00006B82 0004                       DATA FOR SOURCE-LINE 10550
31928                                     ***** END-POOL *****
31929 00006B84                  10553     CNT_SYNCHOS_SPDTYP_300:
31930                           10554     
31931 00006B84 9105             10555             MOV.W   #_SYNC2_ERR_HOSHAB4,R1          ;
31932 00006B86 3216             10556             CMP/HI  R1,R2                           ;=<data4(3000)
31933 00006B88 8905             10557             BT      CNT_SYNCHOS_SPDTYP_310          ;R1(3000)<R2(PLS) JUMP
31934 00006B8A E401             10558             MOV     #BIT0,R4                        ;
31935 00006B8C 9502             10559             MOV.W   #_SYNC2_HOS_SPD3,R5
31936                           10560             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31937 00006B8E A022                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31938 00006B90 0009                   M           NOP
31939                           10561     
31940                                     ***** BEGIN-POOL *****
31941 00006B92 03E8                       DATA FOR SOURCE-LINE 10555
31942 00006B94 0008                       DATA FOR SOURCE-LINE 10559
31943                                     ***** END-POOL *****
31944 00006B96                  10562     CNT_SYNCHOS_SPDTYP_310:
31945 00006B96 9105             10563             MOV.W   #_SYNC2_ERR_HOSHAB5,R1          ;
31946 00006B98 3216             10564             CMP/HI  R1,R2                           ;=<data4(3000)
31947 00006B9A 8905             10565             BT      CNT_SYNCHOS_SPDTYP_320          ;R1(3000)<R2(PLS) JUMP
31948 00006B9C E401             10566             MOV     #BIT0,R4                        ;
31949 00006B9E 9502             10567             MOV.W   #_SYNC2_HOS_SPD4,R5
31950                           10568             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31951 00006BA0 A019                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31952 00006BA2 0009                   M           NOP
31953                           10569     
31954                                     ***** BEGIN-POOL *****
31955 00006BA4 05DC                       DATA FOR SOURCE-LINE 10563
31956 00006BA6 0020                       DATA FOR SOURCE-LINE 10567
31957                                     ***** END-POOL *****
31958 00006BA8                  10570     CNT_SYNCHOS_SPDTYP_320:
31959 00006BA8 9105             10571             MOV.W   #_SYNC2_ERR_HOSHAB6,R1          ;
31960 00006BAA 3216             10572             CMP/HI  R1,R2                           ;=<data4(3000)
31961 00006BAC 8905             10573             BT      CNT_SYNCHOS_SPDTYP_330          ;R1(3000)<R2(PLS) JUMP
31962 00006BAE E401             10574             MOV     #BIT0,R4                        ;
31963 00006BB0 9502             10575             MOV.W   #_SYNC2_HOS_SPD5,R5
31964                           10576             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31965 00006BB2 A010                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31966 00006BB4 0009                   M           NOP
31967                           10577     
31968                                     ***** BEGIN-POOL *****
31969 00006BB6 07D0                       DATA FOR SOURCE-LINE 10571
31970 00006BB8 0040                       DATA FOR SOURCE-LINE 10575
31971                                     ***** END-POOL *****
31972 00006BBA                  10578     CNT_SYNCHOS_SPDTYP_330:
31973 00006BBA 9105             10579             MOV.W   #_SYNC2_ERR_HOSHAB7,R1          ;
31974 00006BBC 3216             10580             CMP/HI  R1,R2                           ;=<data4(3000)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   467
PROGRAM NAME =

31975 00006BBE 8905             10581             BT      CNT_SYNCHOS_SPDTYP_390          ;R1(3000)<R2(PLS) JUMP
31976 00006BC0 E401             10582             MOV     #BIT0,R4                        ;
31977 00006BC2 9502             10583             MOV.W   #_SYNC2_HOS_SPD6,R5
31978                           10584             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31979 00006BC4 A007                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31980 00006BC6 0009                   M           NOP
31981                           10585     
31982                                     ***** BEGIN-POOL *****
31983 00006BC8 09C4                       DATA FOR SOURCE-LINE 10579
31984 00006BCA 0080                       DATA FOR SOURCE-LINE 10583
31985                                     ***** END-POOL *****
31986 00006BCC                  10586     CNT_SYNCHOS_SPDTYP_390:
31987 00006BCC E401             10587             MOV     #BIT0,R4                        ;
31988 00006BCE 9501             10588             MOV.W   #_SYNC2_HOS_SPD7,R5
31989                           10589             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31990 00006BD0 A001                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31991 00006BD2 0009                   M           NOP
31992                           10590     
31993                                     ***** BEGIN-POOL *****
31994 00006BD4 0100                       DATA FOR SOURCE-LINE 10588
31995                                     ***** END-POOL *****
31996 00006BD6                  10591     CNT_SYNCHOS_SPDTYP_400:
31997 00006BD6 D109             10592             MOV.L   #_CNT_SYNC_CHK_CNT2,R1
31998 00006BD8 6011             10593             MOV.W   @R1,R0
31999 00006BDA 7001             10594             ADD     #1,R0
32000 00006BDC 2101             10595             MOV.W   R0,@R1                          ;
32001                           10596     
32002 00006BDE 4311             10597             CMP/PZ  R3                              ;相手-自分= 10 +に溜まっている.速度UP
32003 00006BE0 8900             10598             BT      CNT_SYNCHOS_SPDTYP_450          ;          -10 -に溜まっている.速度DN
32004 00006BE2 655B             10599             NEG     R5,R5                           ;
32005 00006BE4                  10600     CNT_SYNCHOS_SPDTYP_450:                         ;
32006 00006BE4 D106             10601             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
32007 00006BE6 2141             10602             MOV.W   R4,@R1                          ;
32008 00006BE8 D106             10603             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
32009 00006BEA 2152             10604             MOV.L   R5,@R1                          ;
32010                           10605     
32011 00006BEC                  10606     CNT_SYNCHOS_SPDTYP_EXT:
32012 00006BEC D105             10607             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
32013 00006BEE 6012             10608             MOV.L   @R1,R0                          ;
32014 00006BF0 D105             10609             MOV.L   #_CNT_SYNC_HOS_DAT1,R1          ;
32015 00006BF2 2102             10610             MOV.L   R0,@R1                          ;
32016                           10611     
32017                           10612             SUB_END
32018                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32019 00006BF4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32020                           10613             M_RTS
32021 00006BF6 000B                   M           RTS                             ;RTSの後ろの
32022 00006BF8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32023                           10614     
32024                           10615     ;       ***********************************
32025                           10616     ;       ***                             ***
32026                           10617     ;       ***     速度設定                ***
32027                           10618     ;       ***     FFFF(500Kはありえない)  ***
32028                           10619     ;       ***                             ***
32029                           10620     ;       ***********************************
32030                           10621     ;       input R2 speed
32031                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   468
PROGRAM NAME =

32032 00006BFA 0000                       ALIGNMENT CODE
32033 00006BFC 00000000                   DATA FOR SOURCE-LINE 10592
32034 00006C00 00000000                   DATA FOR SOURCE-LINE 10601
32035 00006C04 00000000                   DATA FOR SOURCE-LINE 10603,10607
32036 00006C08 00000000                   DATA FOR SOURCE-LINE 10609
32037                                     ***** END-POOL *****
32038 00006C0C                  10622             .ALIGN  4                               ;
32039 00006C0C                  10623     _CNT_REST_HOSEI_SPD_TYP:
32040                           10624             SUB_START
32041 00006C0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32042                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32043 00006C0E D105             10625             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
32044 00006C10 6011             10626             MOV.W   @R1,R0                          ;
32045 00006C12 C801             10627             TST     #BIT0,R0                        ;
32046                           10628             TST_BIT_OF CNT_REST_HOSEI_SPDTYP_EXT    ;
32047 00006C14 8902                   M           BT      CNT_REST_HOSEI_SPDTYP_EXT
32048 00006C16 D104             10629             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
32049 00006C18 6012             10630             MOV.L   @R1,R0                          ;
32050 00006C1A 320C             10631             ADD     R0,R2                           ;
32051 00006C1C                  10632     CNT_REST_HOSEI_SPDTYP_EXT:
32052                           10633             SUB_END
32053                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32054 00006C1C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32055                           10634             M_RTS
32056 00006C1E 000B                   M           RTS                             ;RTSの後ろの
32057 00006C20 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32058                           10635     
32059                           10636             .EXPORT _CNTREST_HOS_RESET
32060                                     ***** BEGIN-POOL *****
32061 00006C22 0000                       ALIGNMENT CODE
32062 00006C24 00000000                   DATA FOR SOURCE-LINE 10625
32063 00006C28 00000000                   DATA FOR SOURCE-LINE 10629
32064                                     ***** END-POOL *****
32065 00006C2C                  10637             .ALIGN  4                               ;
32066 00006C2C                  10638     _CNTREST_HOS_RESET
32067                           10639             SUB_START
32068 00006C2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32069                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32070 00006C2E 200A             10640             XOR     R0,R0
32071                           10641             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_FLG ,L1=W,DT_REG=R0,WKREG1=R1       ;
32072 00006C30 D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;DST_ADR
32073 00006C32 2101                   M           MOV.W   R0,@R1  ;DST_ADR
32074                           10642             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_DAT ,L1=L,DT_REG=R0,WKREG1=R1       ;
32075 00006C34 D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;DST_ADR
32076 00006C36 2102                   M           MOV.L   R0,@R1  ;DST_ADR
32077                           10643             SUB_END
32078                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32079 00006C38 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32080                           10644             M_RTS
32081 00006C3A 000B                   M           RTS                             ;RTSの後ろの
32082 00006C3C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32083                           10645     
32084                           10646     
32085                           10647     
32086                           10648     ;       *******************************************
32087                           10649     ;       ***                                     ***
32088                           10650     ;       ***     2010-10-05                      ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   469
PROGRAM NAME =

32089                           10651     ;       ***                                     ***
32090                           10652     ;       ***                                     ***
32091                           10653     ;       *******************************************
32092                                     ***** BEGIN-POOL *****
32093 00006C3E 0000                       ALIGNMENT CODE
32094 00006C40 00000000                   DATA FOR SOURCE-LINE 10641
32095 00006C44 00000000                   DATA FOR SOURCE-LINE 10642
32096                                     ***** END-POOL *****
32097 00006C48                  10654             .ALIGN  4                               ;
32098 00006C48                  10655     _dum_SET_PV_ABS_TO_OBJ:
32099                           10656             SUB_START
32100 00006C48 4F22                   M           STS.L   PR,@-R15                ;[必要]
32101                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32102                           10657             SUB_END
32103                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32104 00006C4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32105                           10658             M_RTS
32106 00006C4C 000B                   M           RTS                             ;RTSの後ろの
32107 00006C4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32108                           10659     
32109                           10660     ;       ***************************************************
32110                           10661     ;       ***                                             ***
32111                           10662     ;       ***     反転のタイマ途中からの再起動            ***
32112                           10663     ;       ***     (安全一、寸動、連続寸動一、連続タイマ)  ***
32113                           10664     ;       ***     2012-05-15                              ***
32114                           10665     ;       ***                                             ***
32115                           10666     ;       ***************************************************
32116                           10667     ;       起動時,
32117                           10668     ;
32118 00006C50                  10669             .ALIGN  4                               ;
32119 00006C50                  10670     _DURING_TIM_CNTINUE_CHK
32120                           10671             SUB_START
32121 00006C50 4F22                   M           STS.L   PR,@-R15                ;[必要]
32122                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32123 00006C52 D102             10672             MOV.L   #_DURING_TIM_FX,R1                              ;
32124 00006C54 6011             10673             MOV.W   @R1,R0                                          ;
32125 00006C56                  10674     DURING_TIM_CNTCK_END
32126                           10675             SUB_END
32127                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32128 00006C56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32129                           10676             M_RTS
32130 00006C58 000B                   M           RTS                             ;RTSの後ろの
32131 00006C5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32132                           10677     
32133                           10678     
32134                           10679     ;       ------------- 再度0から行うか,途中から行うか,ﾀｲﾌﾟｱｯﾌﾟから行うか
32135                           10680     ;       input R1:設定
32136                           10681     ;
32137                                     ***** BEGIN-POOL *****
32138 00006C5C 00000000                   DATA FOR SOURCE-LINE 10672
32139                                     ***** END-POOL *****
32140 00006C60                  10682     _DURING_TIM_PRESET_CALC
32141                           10683             SUB_START
32142 00006C60 4F22                   M           STS.L   PR,@-R15                ;[必要]
32143                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32144                           10684     
32145 00006C62 D007             10685             MOV.L   #_DURING_TIM_FX,R0                                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   470
PROGRAM NAME =

32146 00006C64 6001             10686             MOV.W   @R0,R0                                                  ;
32147 00006C66 2008             10687             TST     R0,R0                                                   ;
32148                           10688             TST_BIT_OF DURING_TIM_PRECALC200                                ;通常の処理
32149 00006C68 890F                   M           BT      DURING_TIM_PRECALC200
32150                           10689     
32151 00006C6A 2118             10690             TST     R1,R1                                                   ;
32152                           10691             TST_BIT_OF DURING_TIM_PRECALC200                                ;ﾃﾞｰﾀが0
32153 00006C6C 890D                   M           BT      DURING_TIM_PRECALC200
32154                           10692     
32155 00006C6E D005             10693             MOV.L   #(_PAR_STOPTIM_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R0    ;
32156 00006C70 6001             10694             MOV.W   @R0,R0                                                  ;
32157 00006C72 8802             10695             CMP/EQ  #2,R0                                                   ;
32158 00006C74 8908             10696             BT      DURING_TIM_PRECALC100                                   ;"ｸﾘｱ":ﾀｲﾑｱｯﾌﾟから
                                          はじめる
32159                           10697     
32160 00006C76 8801             10698             CMP/EQ  #1,R0                                                   ;
32161 00006C78 8B07             10699             BF      DURING_TIM_PRECALC200                                   ;0:(2,1以外):(設定
                                          をｾｯﾄする)
32162                           10700             M_BRA   DURING_TIM_PRECALCEND                                   ;1:設定しない:継続
32163 00006C7A A008                   M           BRA     DURING_TIM_PRECALCEND
32164 00006C7C 0009                   M           NOP
32165                           10701     
32166                           10702     
32167                                     ***** BEGIN-POOL *****
32168 00006C7E 0000                       ALIGNMENT CODE
32169 00006C80 00000000                   DATA FOR SOURCE-LINE 10685
32170 00006C84 00000000                   DATA FOR SOURCE-LINE 10693
32171                                     ***** END-POOL *****
32172 00006C88                  10703     DURING_TIM_PRECALC100
32173 00006C88 211A             10704             XOR     R1,R1                                                   ;
32174 00006C8A                  10705     DURING_TIM_PRECALC200
32175 00006C8A D402             10706             MOV.L   #_SDAT_WAIT_PVTIM,R4                                    ;
32176 00006C8C 2412             10707             MOV.L   R1,@R4                                                  ;
32177 00006C8E                  10708     DURING_TIM_PRECALCEND
32178                           10709             SUB_END
32179                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32180 00006C8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32181                           10710             M_RTS
32182 00006C90 000B                   M           RTS                             ;RTSの後ろの
32183 00006C92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32184                           10711     
32185                           10712     
32186                           10713     
32187                           10714     ;       *******************************************
32188                           10715     ;       ***                                     ***
32189                           10716     ;       ***             2013-02-08              ***
32190                           10717     ;       ***             CPUB_CURVSEL[4]         ***
32191                           10718     ;       *******************************************
32192                           10719     ;;      CPUA=CPUB=TBLCURV時に生かす
32193                           10720             .IMPORT         _PAR_DNMDEND_DLY
32194                           10721     
32195                                     ***** BEGIN-POOL *****
32196 00006C94 00000000                   DATA FOR SOURCE-LINE 10706
32197                                     ***** END-POOL *****
32198 00006C98                  10722     _DNMODE_ENDWAIT_TIM_SET                         ;[[[2013-03-24復活]]]
32199                           10723             SUB_START                               ;[[[2013-03-24復活]]]
32200 00006C98 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   471
PROGRAM NAME =

32201                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32202                           10724     
32203 00006C9A D106             10725             MOV.L   #_SETX_POS_CTL_MATH,R1          ;[[[2013-03-24復活]]]
32204 00006C9C 6011             10726             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
32205 00006C9E C804             10727             TST     #_DMATH_DNDRIV,R0               ;[[[2013-03-24復活]]]
32206                           10728             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
32207 00006CA0 890E                   M           BT      DNMODE_ENDWAIT_TIMST100
32208                           10729     
32209 00006CA2 D105             10730             MOV.L   #_MODE_SEL,R1                   ;[[[2013-03-24復活]]]
32210 00006CA4 6011             10731             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
32211 00006CA6 C808             10732             TST     #_W1CNT,R0                      ;[[[2013-03-24復活]]]
32212                           10733             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
32213 00006CA8 890A                   M           BT      DNMODE_ENDWAIT_TIMST100
32214                           10734     
32215 00006CAA D104             10735             MOV.L   #(_PAR_DNMDEND_DLY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[[[2013-03-24復活
                                          ]]]
32216 00006CAC 6011             10736             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32217                           10737             M_BRA   DNMODE_ENDWAIT_TIMST200                                 ;[[[2013-03-24復活
                                          ]]]
32218 00006CAE A008                   M           BRA     DNMODE_ENDWAIT_TIMST200
32219 00006CB0 0009                   M           NOP
32220                           10738     
32221                                     ***** BEGIN-POOL *****
32222 00006CB2 0000                       ALIGNMENT CODE
32223 00006CB4 00000000                   DATA FOR SOURCE-LINE 10725
32224 00006CB8 00000000                   DATA FOR SOURCE-LINE 10730
32225 00006CBC 00000000                   DATA FOR SOURCE-LINE 10735
32226                                     ***** END-POOL *****
32227 00006CC0                  10739     DNMODE_ENDWAIT_TIMST100                                                 ;[[[2013-03-24復活
                                          ]]]
32228 00006CC0 200A             10740             XOR     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
32229 00006CC2                  10741     DNMODE_ENDWAIT_TIMST200                                                 ;
32230 00006CC2 D102             10742             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
                                          ]]]
32231 00006CC4 2101             10743             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
32232                           10744                                                                             ;
32233                           10745             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
32234                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32235 00006CC6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32236                           10746             M_RTS                                                           ;
32237 00006CC8 000B                   M           RTS                             ;RTSの後ろの
32238 00006CCA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32239                           10747     
32240                                     ***** BEGIN-POOL *****
32241 00006CCC 00000000                   DATA FOR SOURCE-LINE 10742
32242                                     ***** END-POOL *****
32243 00006CD0                  10748     _DNMODE_ENDWAIT_TIM_CHK                                                 ;[[[2013-03-24復活
                                          ]]]
32244                           10749             SUB_START                                                       ;[[[2013-03-24復活
                                          ]]]
32245 00006CD0 4F22                   M           STS.L   PR,@-R15                ;[必要]
32246                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32247 00006CD2 D105             10750             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   472
PROGRAM NAME =

                                          ]]]
32248 00006CD4 6011             10751             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32249 00006CD6 2008             10752             TST     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
32250                           10753             TST_BIT_OF DNMODE_ENDWAIT_TIMCK_END                             ;ANS R0=0 [[[2013-
                                          03-24復活]]]
32251 00006CD8 8902                   M           BT      DNMODE_ENDWAIT_TIMCK_END
32252                           10754                                                                             ;[[[2013-03-24復活
                                          ]]]
32253 00006CDA 70FF             10755             ADD     #-1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32254 00006CDC 2101             10756             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
32255 00006CDE E001             10757             MOV.B   #1,R0                                                   ;R0=1 NOT TIM UP[[
                                          [2013-03-24復活]]]
32256                           10758     
32257 00006CE0                  10759     DNMODE_ENDWAIT_TIMCK_END                                                ;[[[2013-03-24復活
                                          ]]]
32258                           10760     
32259                           10761             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
32260                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32261 00006CE0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32262                           10762             M_RTS                                                           ;[[[2013-03-24復活
                                          ]]]
32263 00006CE2 000B                   M           RTS                             ;RTSの後ろの
32264 00006CE4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32265                           10763     
32266                           10764     ;       ***************************************************
32267                           10765     ;       ***                                             ***
32268                           10766     ;       ***             寸動時上限制限をかける          ***
32269                           10767     ;       ***             2013-02-15                      ***
32270                           10768     ;       ***************************************************
32271                                     ***** BEGIN-POOL *****
32272 00006CE6 0000                       ALIGNMENT CODE
32273 00006CE8 00000000                   DATA FOR SOURCE-LINE 10750
32274                                     ***** END-POOL *****
32275 00006CEC                  10769     _INC_UPLIMT_CALC:
32276                           10770             SUB_START
32277 00006CEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
32278                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32279 00006CEE D10A             10771             MOV.L   #_MODE_SEL,R1                           ;
32280 00006CF0 6011             10772             MOV.W   @R1,R0                                  ;
32281 00006CF2 C802             10773             TST     #(_W1INC),R0                            ;
32282                           10774             TST_BIT_OF INC_UPLIMT_CAL100                    ;
32283 00006CF4 891A                   M           BT      INC_UPLIMT_CAL100
32284                           10775     
32285 00006CF6 D109             10776             MOV.L   #_CB_SEQ_CB_COM349,R1                   ;
32286 00006CF8 6011             10777             MOV.W   @R1,R0                                  ;
32287 00006CFA 940B             10778             MOV.W   #BIT8,R4                                ;
32288 00006CFC 2048             10779             TST     R4,R0                                   ;
32289                           10780             TST_BIT_OF INC_UPLIMT_CAL100                    ;
32290 00006CFE 8915                   M           BT      INC_UPLIMT_CAL100
32291                           10781     
32292 00006D00 D107             10782             MOV.L   #(_PAR_INCSPD_UPLMT-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
32293 00006D02 6211             10783             MOV.W   @R1,R2                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   473
PROGRAM NAME =

32294                           10784             FAR_JSR #_CYCLE_SPD1,R0                                         ;
32295 00006D04 D007                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32296 00006D06 400B                   M           JSR     @R0                     ;
32297 00006D08 0009                   M           NOP                                     ;
32298 00006D0A D107             10785             MOV.L   #_UPLIMIT_SV_SPD,R1                     ;//(上限共通DATA)PLS/S
32299 00006D0C 2122             10786             MOV.L   R2,@R1                                  ;
32300                           10787     
32301 00006D0E 9002             10788             MOV.W   #BIT0,R0                                ;
32302                           10789             M_BRA   INC_UPLIMT_CAL200                       ;
32303 00006D10 A00D                   M           BRA     INC_UPLIMT_CAL200
32304 00006D12 0009                   M           NOP
32305                           10790     
32306                                     ***** BEGIN-POOL *****
32307 00006D14 0100                       DATA FOR SOURCE-LINE 10778
32308 00006D16 0001                       DATA FOR SOURCE-LINE 10788
32309 00006D18 00000000                   DATA FOR SOURCE-LINE 10771
32310 00006D1C 00000000                   DATA FOR SOURCE-LINE 10776
32311 00006D20 00000000                   DATA FOR SOURCE-LINE 10782
32312 00006D24 00000000                   DATA FOR SOURCE-LINE 10784
32313 00006D28 00000000                   DATA FOR SOURCE-LINE 10785
32314                                     ***** END-POOL *****
32315 00006D2C                  10791     INC_UPLIMT_CAL100:
32316 00006D2C 200A             10792             XOR     R0,R0
32317 00006D2E                  10793     INC_UPLIMT_CAL200:
32318 00006D2E D102             10794             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
32319 00006D30 2101             10795             MOV.W   R0,@R1                  ;
32320 00006D32                  10796     INC_UPLIMT_CALEND:
32321                           10797     
32322                           10798             SUB_END
32323                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32324 00006D32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32325                           10799             M_RTS
32326 00006D34 000B                   M           RTS                             ;RTSの後ろの
32327 00006D36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32328                           10800     
32329                           10801     
32330                           10802     ;       *******************************************
32331                           10803     ;       ***                                     ***
32332                           10804     ;       ***     2009-10-07                      ***
32333                           10805     ;       ***     下振子                          ***
32334                           10806     ;       ***     非常停止                        ***
32335                           10807     ;       *******************************************
32336                                     ***** BEGIN-POOL *****
32337 00006D38 00000000                   DATA FOR SOURCE-LINE 10794
32338                                     ***** END-POOL *****
32339 00006D3C                  10808             .ALIGN  4                               ;
32340 00006D3C                  10809     _DNM_DATA_CLR:
32341                           10810             SUB_START
32342 00006D3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32343                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32344                           10811     
32345                           10812              .AIF   1 EQ 1  ;
32346                           10813 C   ;       -------- 2016-10-31 ADD 二重回路対策
32347                           10814              .AENDI
32348                           10815     ;       ---2016-06-13--
32349                           10816             UP_TIME LG=W,MEM_ADR=_DBG_DNM_CLR_CNT,WKREG1=R1,WKREG2=R0
32350 00006D3E D107                   M           MOV.L   #_DBG_DNM_CLR_CNT,R1            ;SORCE ADRESS SET
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   474
PROGRAM NAME =

32351 00006D40 6011                   M           MOV.W   @R1,R0          ;
32352 00006D42 7001                   M           ADD     #1,R0                   ;
32353 00006D44 2008                   M           TST     R0,R0                   ;
32354                                 M           TST_BIT_OF JMP_0100022                  ;ZERO THEN JUMP
32355 00006D46 8900                   M           BT      JMP_0100022
32356 00006D48 2101                   M           MOV.W   R0,@R1          ;STORE
32357 00006D4A                        M   JMP_0100022:                                    ;
32358                           10817     
32359 00006D4A 200A             10818             XOR     R0,R0
32360 00006D4C D104             10819             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32361 00006D4E 2101             10820             MOV.W   R0,@R1
32362 00006D50 D104             10821             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時
32363 00006D52 2101             10822             MOV.W   R0,@R1
32364                           10823             SUB_END
32365                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32366 00006D54 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32367                           10824             M_RTS
32368 00006D56 000B                   M           RTS                             ;RTSの後ろの
32369 00006D58 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32370                           10825     
32371                           10826     ;       *******************************************
32372                           10827     ;       ***                                     ***
32373                           10828     ;       ***     2014-09-17                      ***
32374                           10829     ;       ***     下振子                          ***
32375                           10830     ;       ***     左待機点からの開始              ***
32376                           10831     ;       ***                                     ***
32377                           10832     ;       *******************************************
32378                           10833     ;       初期値は0：右
32379                           10834             .EXPORT _DNM_DATA_REV_SET
32380                                     ***** BEGIN-POOL *****
32381 00006D5A 0000                       ALIGNMENT CODE
32382 00006D5C 00000000                   DATA FOR SOURCE-LINE 10816
32383 00006D60 00000000                   DATA FOR SOURCE-LINE 10819
32384 00006D64 00000000                   DATA FOR SOURCE-LINE 10821
32385                                     ***** END-POOL *****
32386 00006D68                  10835     _DNM_DATA_REV_SET:
32387                           10836             SUB_START
32388 00006D68 4F22                   M           STS.L   PR,@-R15                ;[必要]
32389                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32390 00006D6A E001             10837             MOV.B   #BIT0,R0                        ;
32391 00006D6C D102             10838             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32392 00006D6E 2101             10839             MOV.W   R0,@R1
32393                           10840     
32394                           10841     ;;;;;;; MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時,次のｻｲｸﾙ起動時 SET_FLG=>NO
                                          W_FLG
32395                           10842     ;;;;;;; MOV.W   R0,@R1
32396                           10843     
32397                           10844             SUB_END
32398                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32399 00006D70 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32400                           10845             M_RTS
32401 00006D72 000B                   M           RTS                             ;RTSの後ろの
32402 00006D74 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32403                           10846     
32404                           10847     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   475
PROGRAM NAME =

32405                           10848             .EXPORT _DNM_CYCLE_END                  ;2016-04-16
32406                                     ***** BEGIN-POOL *****
32407 00006D76 0000                       ALIGNMENT CODE
32408 00006D78 00000000                   DATA FOR SOURCE-LINE 10838
32409                                     ***** END-POOL *****
32410 00006D7C                  10849     _DNM_CYCLE_END:                                 ;
32411                           10850             SUB_START                               ;
32412 00006D7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32413                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32414                           10851     
32415                           10852              .AIF   1 EQ 1  ;
32416                           10853 C   ;       -------- 2016-10-31 ADD 二重回路対策
32417                           10854              .AENDI
32418                           10855     
32419                           10856     ;       ---2016-06-13--
32420                           10857             UP_TIME LG=W,MEM_ADR=_DBG_DNM_END_CNT,WKREG1=R1,WKREG2=R0
32421 00006D7E D10B                   M           MOV.L   #_DBG_DNM_END_CNT,R1            ;SORCE ADRESS SET
32422 00006D80 6011                   M           MOV.W   @R1,R0          ;
32423 00006D82 7001                   M           ADD     #1,R0                   ;
32424 00006D84 2008                   M           TST     R0,R0                   ;
32425                                 M           TST_BIT_OF JMP_0100023                  ;ZERO THEN JUMP
32426 00006D86 8900                   M           BT      JMP_0100023
32427 00006D88 2101                   M           MOV.W   R0,@R1          ;STORE
32428 00006D8A                        M   JMP_0100023:                                    ;
32429                           10858     
32430 00006D8A 222A             10859             XOR     R2,R2                           ;
32431 00006D8C D108             10860             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32432 00006D8E 6011             10861             MOV.W   @R1,R0                          ;
32433 00006D90 C804             10862             TST     #_DMATH_DNDRIV,R0
32434                           10863             TST_BIT_OF DNM_CYCLE_ED_100             ;
32435 00006D92 8904                   M           BT      DNM_CYCLE_ED_100
32436                           10864     
32437 00006D94 D107             10865             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32438 00006D96 6011             10866             MOV.W   @R1,R0                          ;
32439 00006D98 2008             10867             TST     R0,R0                           ;
32440                           10868             TST_BIT_ON DNM_CYCLE_ED_100             ;
32441 00006D9A 8B00                   M           BF      DNM_CYCLE_ED_100
32442 00006D9C E201             10869             MOV     #1,R2                           ;
32443 00006D9E                  10870     DNM_CYCLE_ED_100:                               ;
32444 00006D9E D106             10871             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
32445 00006DA0 2121             10872             MOV.W   R2,@R1                          ;NEXT-SET
32446                           10873     
32447                           10874     ;       ----------------[2014-11-10 add]---------
32448 00006DA2 D106             10875             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1;     //ふりこの場合の前回までの動作方向(今回動
                                          きべき方向)
32449 00006DA4 2121             10876             MOV.W   R2,@R1                          ;
32450                           10877     ;       ---------------------------------------------
32451                           10878     
32452                           10879             SUB_END
32453                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32454 00006DA6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32455                           10880             M_RTS
32456 00006DA8 000B                   M           RTS                             ;RTSの後ろの
32457 00006DAA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32458                           10881     
32459                           10882     ;       ***************************************************
32460                           10883     ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   476
PROGRAM NAME =

32461                           10884     ;       ***     ふりこ　連続の次のサイクル開始          ***
32462                           10885     ;       ***                                             ***
32463                           10886     ;       ***************************************************
32464                           10887     ;       ここでオーバライド演算も追加する(2010-10-05)
32465                           10888     
32466                                     ***** BEGIN-POOL *****
32467 00006DAC 00000000                   DATA FOR SOURCE-LINE 10857
32468 00006DB0 00000000                   DATA FOR SOURCE-LINE 10860
32469 00006DB4 00000000                   DATA FOR SOURCE-LINE 10865
32470 00006DB8 00000000                   DATA FOR SOURCE-LINE 10871
32471 00006DBC 00000000                   DATA FOR SOURCE-LINE 10875
32472                                     ***** END-POOL *****
32473 00006DC0                  10889     _DNM_CYCLE_START:                               ;
32474                           10890             SUB_START                               ;
32475 00006DC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
32476                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32477                           10891     
32478                           10892              .AIF   1 EQ 1  ;
32479                           10893 C   ;       -------- 2016-10-31 ADD 二重回路対策
32480                           10894              .AENDI
32481                           10895     ;       ---2016-06-13--
32482                           10896             UP_TIME LG=W,MEM_ADR=_DBG_DNM_STR_CNT,WKREG1=R1,WKREG2=R0
32483 00006DC2 D10B                   M           MOV.L   #_DBG_DNM_STR_CNT,R1            ;SORCE ADRESS SET
32484 00006DC4 6011                   M           MOV.W   @R1,R0          ;
32485 00006DC6 7001                   M           ADD     #1,R0                   ;
32486 00006DC8 2008                   M           TST     R0,R0                   ;
32487                                 M           TST_BIT_OF JMP_0100024                  ;ZERO THEN JUMP
32488 00006DCA 8900                   M           BT      JMP_0100024
32489 00006DCC 2101                   M           MOV.W   R0,@R1          ;STORE
32490 00006DCE                        M   JMP_0100024:                                    ;
32491                           10897     
32492 00006DCE 222A             10898             XOR     R2,R2                           ;
32493 00006DD0 D108             10899             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32494 00006DD2 6011             10900             MOV.W   @R1,R0                          ;
32495 00006DD4 C804             10901             TST     #_DMATH_DNDRIV,R0               ;
32496                           10902             TST_BIT_OF DNM_CYCLE_STR_100            ;
32497 00006DD6 8917                   M           BT      DNM_CYCLE_STR_100
32498                           10903     
32499 00006DD8 D107             10904             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
32500 00006DDA 6211             10905             MOV.W   @R1,R2                          ;
32501 00006DDC D107             10906             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32502 00006DDE 2121             10907             MOV.W   R2,@R1                          ;
32503                           10908     
32504                           10909     ;       ----------------[2014-11-10 add]---------
32505 00006DE0 D107             10910             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1;     //ふりこの場合の前回までの動作方向
32506 00006DE2 2121             10911             MOV.W   R2,@R1                          ;
32507                           10912     ;       ---------------------------------------------
32508                           10913     
32509                           10914             FAR_JSR #_CPOS_INI1_DTMOV2,R0
32510 00006DE4 D007                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32511 00006DE6 400B                   M           JSR     @R0                     ;
32512 00006DE8 0009                   M           NOP                                     ;
32513                           10915             M_BRA   DNM_CYCLE_STR_200               ;
32514 00006DEA A00F                   M           BRA     DNM_CYCLE_STR_200
32515 00006DEC 0009                   M           NOP
32516                           10916     
32517                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   477
PROGRAM NAME =

32518 00006DEE 0000                       ALIGNMENT CODE
32519 00006DF0 00000000                   DATA FOR SOURCE-LINE 10896
32520 00006DF4 00000000                   DATA FOR SOURCE-LINE 10899
32521 00006DF8 00000000                   DATA FOR SOURCE-LINE 10904
32522 00006DFC 00000000                   DATA FOR SOURCE-LINE 10906
32523 00006E00 00000000                   DATA FOR SOURCE-LINE 10910
32524 00006E04 00000000                   DATA FOR SOURCE-LINE 10914
32525                                     ***** END-POOL *****
32526 00006E08                  10917     DNM_CYCLE_STR_100:
32527 00006E08 D102             10918             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32528 00006E0A 2121             10919             MOV.W   R2,@R1                          ;
32529                           10920     
32530 00006E0C                  10921     DNM_CYCLE_STR_200:
32531                           10922     
32532                           10923     
32533                           10924             SUB_END
32534                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32535 00006E0C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32536                           10925             M_RTS
32537 00006E0E 000B                   M           RTS                             ;RTSの後ろの
32538 00006E10 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32539                           10926     
32540                           10927     ;       ***************************
32541                           10928     ;       ***     1MS-MAINでCALL  ***
32542                           10929     ;       ***************************
32543                           10930             .EXPORT _DNM_MATH_ELSE_DAT_MAKE
32544                           10931     
32545                           10932     
32546                                     ***** BEGIN-POOL *****
32547 00006E12 0000                       ALIGNMENT CODE
32548 00006E14 00000000                   DATA FOR SOURCE-LINE 10918
32549                                     ***** END-POOL *****
32550 00006E18                  10933     _DNM_MATH_ELSE_DAT_MAKE:
32551                           10934             SUB_START
32552 00006E18 4F22                   M           STS.L   PR,@-R15                ;[必要]
32553                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32554 00006E1A D10D             10935             MOV.L   #_INC_ENC360,R1                                 ;
32555 00006E1C 6211             10936             MOV.W   @R1,R2
32556                           10937     
32557 00006E1E D10D             10938             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32558 00006E20 6011             10939             MOV.W   @R1,R0                          ;
32559 00006E22 C804             10940             TST     #_DMATH_DNDRIV,R0               ;
32560                           10941             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;
32561 00006E24 890E                   M           BT      DNM_MATH_ELSE_DATMK100
32562                           10942     
32563 00006E26 D10C             10943             MOV.L   #_MODE_SEL,R1                                           ;
32564 00006E28 6011             10944             MOV.W   @R1,R0                                                  ;
32565 00006E2A C81E             10945             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                         ;
32566                           10946             TST_BIT_OF DNM_MATH_ELSE_DATMK100                               ;
32567 00006E2C 890A                   M           BT      DNM_MATH_ELSE_DATMK100
32568                           10947     
32569 00006E2E D10B             10948             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;
32570 00006E30 6011             10949             MOV.W   @R1,R0                          ;
32571                           10950     
32572                           10951     ;;;;2013-02-15不要      MOV.W   @R1,R3                          ;必ず同じになる
32573                           10952     ;;;;2013-02-15不要      CMP/EQ  R0,R3                           ;
32574                           10953     ;;;;2013-02-15不要      BF      DNM_MATH_ELSE_DATMK050          ;違ったら更新したかったの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   478
PROGRAM NAME =

                                          かな？
32575                           10954     
32576 00006E32 D10B             10955             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32577 00006E34 2101             10956             MOV.W   R0,@R1                          ;動作・動かしたいデータが同じ
32578                           10957     
32579                           10958     ;;;;2013-02-15不要      DNM_MATH_ELSE_DATMK050:
32580 00006E36 D10A             10959             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;
32581 00006E38 6011             10960             MOV.W   @R1,R0                          ;
32582 00006E3A 2008             10961             TST     R0,R0                           ;
32583                           10962             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;180
32584 00006E3C 8902                   M           BT      DNM_MATH_ELSE_DATMK100
32585                           10963     
32586                           10964             FAR_JSR #_DIG01_CHG_DN_DATA_MAKE,R0     ;上限が0度　下限が180で左右同じじゃないとｸ
                                          ﾗﾝｸに戻す必要有り
32587 00006E3E D009                   M           MOV.L   #_DIG01_CHG_DN_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32588 00006E40 400B                   M           JSR     @R0                     ;
32589 00006E42 0009                   M           NOP                                     ;
32590                           10965     
32591 00006E44                  10966     DNM_MATH_ELSE_DATMK100:
32592 00006E44 D108             10967             MOV.L   #_DNM_CTL_INC3600,R1            ;//CAM、ﾛｯﾄｶｳﾝﾀ、荷重用
32593 00006E46 2121             10968             MOV.W   R2,@R1                          ;
32594                           10969     
32595                           10970             SUB_END
32596                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32597 00006E48 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32598                           10971             M_RTS
32599 00006E4A 000B                   M           RTS                             ;RTSの後ろの
32600 00006E4C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32601                           10972     
32602                           10973     ;       ***********************************
32603                           10974     ;       ***     2015-04-08              ***
32604                           10975     ;       ***     工程集終了ﾊﾝﾄﾞｼｪｲｸ      ***
32605                           10976     ;       ***********************************
32606                                     ***** BEGIN-POOL *****
32607 00006E4E 0000                       ALIGNMENT CODE
32608 00006E50 00000000                   DATA FOR SOURCE-LINE 10935
32609 00006E54 00000000                   DATA FOR SOURCE-LINE 10938
32610 00006E58 00000000                   DATA FOR SOURCE-LINE 10943
32611 00006E5C 00000000                   DATA FOR SOURCE-LINE 10948
32612 00006E60 00000000                   DATA FOR SOURCE-LINE 10955,10959
32613 00006E64 00000000                   DATA FOR SOURCE-LINE 10964
32614 00006E68 00000000                   DATA FOR SOURCE-LINE 10967
32615                                     ***** END-POOL *****
32616 00006E6C                  10977     _ENDHAND_WAIT_TIMCNT
32617                           10978             SUB_START
32618 00006E6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32619                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32620                           10979     
32621 00006E6E D105             10980             MOV.L   #_CMPSTEP_STEP_END,R1           ;
32622 00006E70 6011             10981             MOV.W   @R1,R0                          ;
32623 00006E72 2008             10982             TST     R0,R0                           ;
32624                           10983             TST_BIT_ON ENDHAND_WAIT_TIMC100         ;[ﾆｱｾﾞﾛ確認が終わっている]
32625 00006E74 8B0A                   M           BF      ENDHAND_WAIT_TIMC100
32626 00006E76 9203             10984             MOV.W   #D'10,R2                        ;10msec
32627 00006E78 D103             10985             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
32628 00006E7A 2121             10986             MOV.W   R2,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   479
PROGRAM NAME =

32629                           10987             M_BRA   ENDHAND_WAIT_TIMC200
32630 00006E7C A00C                   M           BRA     ENDHAND_WAIT_TIMC200
32631 00006E7E 0009                   M           NOP
32632                           10988     
32633                                     ***** BEGIN-POOL *****
32634 00006E80 000A                       DATA FOR SOURCE-LINE 10984
32635 00006E82 0000                       ALIGNMENT CODE
32636 00006E84 00000000                   DATA FOR SOURCE-LINE 10980
32637 00006E88 00000000                   DATA FOR SOURCE-LINE 10985
32638                                     ***** END-POOL *****
32639 00006E8C                  10989     ENDHAND_WAIT_TIMC100
32640                           10990             DN_TIME LG=W,MEM_ADR=_ENDHAND_TIMOUT_PV,WKREG1=R1,WKREG2=R2     ;
32641 00006E8C D104                   M           MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;SORCE ADRESS SET
32642 00006E8E 6211                   M           MOV.W   @R1,R2          ;
32643 00006E90 2228                   M           TST     R2,R2                   ;
32644 00006E92 8901                   M           BT      JMP_0100025                     ;ZERO THEN JUMP
32645 00006E94 4210                   M           DT      R2                              ;
32646 00006E96 2121                   M           MOV.W   R2,@R1          ;STORE
32647 00006E98                        M   JMP_0100025:
32648 00006E98                  10991     ENDHAND_WAIT_TIMC200
32649                           10992             SUB_END
32650                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32651 00006E98 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32652                           10993             M_RTS
32653 00006E9A 000B                   M           RTS                             ;RTSの後ろの
32654 00006E9C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32655                           10994     
32656                           10995     ;       ANS R0!=0 ﾊﾝﾄﾞｼｪｲｸを強制実行
32657                           10996             .EXPORT _API_ENDHAND_SIGCHK
32658                                     ***** BEGIN-POOL *****
32659 00006E9E 0000                       ALIGNMENT CODE
32660 00006EA0 00000000                   DATA FOR SOURCE-LINE 10990
32661                                     ***** END-POOL *****
32662 00006EA4                  10997     _API_ENDHAND_SIGCHK
32663                           10998             SUB_START
32664 00006EA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
32665                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32666 00006EA6 D107             10999             MOV.L   #_CMPSTEP_STEP_END,R1   ;
32667 00006EA8 6011             11000             MOV.W   @R1,R0                  ;
32668 00006EAA C804             11001             TST     #BIT2,R0                ;
32669                           11002             TST_BIT_ON API_ENDHANDSIGCHK_EXT
32670 00006EAC 8B06                   M           BF      API_ENDHANDSIGCHK_EXT
32671                           11003     
32672 00006EAE C803             11004             TST     #(BIT1+BIT0),R0                 ;
32673                           11005             TST_BIT_OF API_ENDHANDSIGCHK_100        ;
32674 00006EB0 8903                   M           BT      API_ENDHANDSIGCHK_100
32675                           11006     
32676 00006EB2 D105             11007             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
32677 00006EB4 6111             11008             MOV.W   @R1,R1                          ;
32678 00006EB6 2118             11009             TST     R1,R1                           ;
32679                           11010             TST_BIT_ON API_ENDHANDSIGCHK_EXT        ;TIME ｱｯﾌﾟ前
32680 00006EB8 8B00                   M           BF      API_ENDHANDSIGCHK_EXT
32681 00006EBA                  11011     API_ENDHANDSIGCHK_100
32682 00006EBA 200A             11012             XOR     R0,R0
32683 00006EBC                  11013     API_ENDHANDSIGCHK_EXT
32684                           11014     
32685                           11015             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   480
PROGRAM NAME =

32686                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32687 00006EBC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32688                           11016             M_RTS
32689 00006EBE 000B                   M           RTS                             ;RTSの後ろの
32690 00006EC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32691                           11017     
32692                           11018     ;       *******************************************
32693                           11019     ;       ***                                     ***
32694                           11020     ;       ***                                     ***
32695                           11021     ;       ***                                     ***
32696                           11022     ;       ***     モーション繰り返し              ***
32697                           11023     ;       ***     位置決め部                      ***
32698                           11024     ;       ***                                     ***
32699                           11025     ;       *******************************************
32700                           11026     ;
32701                           11027     ;非常停止,ｻｲｸﾙ終了後の初起動時
32702                           11028     ;非常停止(exqは運転継続だからCLRしない)
32703                           11029     ;ｻｲｸﾙ終了
32704                           11030     ;ﾘﾋﾟｰﾄ終了
32705                           11031     ;[EXQはｸﾘｱしない：運転継続だから]
32706                           11032     ;
32707                           11033     ;BIT0(ﾘﾋﾟｰﾄ戻り中)
32708                           11034     ;BIT1(ﾚﾋﾟｰﾄ戻演算しろ)
32709                           11035     ;BIT2(ﾘﾋﾟｰﾄ戻り→ﾘﾋﾟｰﾄ開始)
32710                           11036     ;
32711                           11037     
32712                                     ***** BEGIN-POOL *****
32713 00006EC2 0000                       ALIGNMENT CODE
32714 00006EC4 00000000                   DATA FOR SOURCE-LINE 10999
32715 00006EC8 00000000                   DATA FOR SOURCE-LINE 11007
32716                                     ***** END-POOL *****
32717 00006ECC                  11038             .ALIGN  4                                       ;
32718 00006ECC                  11039     _MOT_REP_CLR                                    ;
32719                           11040             SUB_START
32720 00006ECC 4F22                   M           STS.L   PR,@-R15                ;[必要]
32721                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32722 00006ECE 200A             11041             XOR     R0,R0                           ;
32723 00006ED0 D103             11042             MOV.L   #_MOT_REP_CNT,R1                ;
32724 00006ED2 2101             11043             MOV.W   R0,@R1                          ;
32725 00006ED4 D103             11044             MOV.L   #_MOT_REP_F,R1                  ;
32726 00006ED6 2101             11045             MOV.W   R0,@R1                          ;
32727                           11046             SUB_END
32728                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32729 00006ED8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32730                           11047             M_RTS
32731 00006EDA 000B                   M           RTS                             ;RTSの後ろの
32732 00006EDC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32733                           11048     
32734                           11049     ;       -----------ｽﾃｯﾌﾟ終了時CHECK-------------
32735                                     ***** BEGIN-POOL *****
32736 00006EDE 0000                       ALIGNMENT CODE
32737 00006EE0 00000000                   DATA FOR SOURCE-LINE 11042
32738 00006EE4 00000000                   DATA FOR SOURCE-LINE 11044
32739                                     ***** END-POOL *****
32740 00006EE8                  11050     _MOT_REP_STEPCHK
32741                           11051             SUB_START
32742 00006EE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   481
PROGRAM NAME =

32743                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32744                           11052     
32745 00006EEA D108             11053             MOV.L   #_SET1_MOTREP_USEFUL,R1         ;
32746 00006EEC 6011             11054             MOV.W   @R1,R0                          ;
32747 00006EEE 2008             11055             TST     R0,R0                           ;
32748                           11056             TST_BIT_OF MOT_REP_STEPCK_EXT           ;
32749 00006EF0 8935                   M           BT      MOT_REP_STEPCK_EXT
32750                           11057     
32751 00006EF2 D107             11058             MOV.L   #_MOT_REP_F,R1                  ;
32752 00006EF4 6011             11059             MOV.W   @R1,R0                          ;
32753 00006EF6 C801             11060             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ戻り実行中?
32754                           11061             TST_BIT_OF MOT_REP_STEPCK_100           ;NO
32755 00006EF8 890E                   M           BT      MOT_REP_STEPCK_100
32756                           11062     
32757 00006EFA E004             11063             MOV.B   #BIT2,R0                        ;戻り開始工程演算しろ
32758 00006EFC D104             11064             MOV.L   #_MOT_REP_F,R1                  ;BIT2:CLR
32759 00006EFE 2101             11065             MOV.W   R0,@R1                          ;
32760                           11066     
32761                           11067     
32762                           11068             FAR_JSR #_DEBUG_BRK_POINT1,R0           ;
32763 00006F00 D004                   M           MOV.L   #_DEBUG_BRK_POINT1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32764 00006F02 400B                   M           JSR     @R0                     ;
32765 00006F04 0009                   M           NOP                                     ;
32766                           11069     
32767                           11070             M_BRA   MOT_REP_STEPCK_EXT              ;
32768 00006F06 A02A                   M           BRA     MOT_REP_STEPCK_EXT
32769 00006F08 0009                   M           NOP
32770                           11071     
32771                           11072     
32772                           11073     
32773                           11074     
32774                                     ***** BEGIN-POOL *****
32775 00006F0A 0000                       ALIGNMENT CODE
32776 00006F0C 00000000                   DATA FOR SOURCE-LINE 11053
32777 00006F10 00000000                   DATA FOR SOURCE-LINE 11058,11064
32778 00006F14 00000000                   DATA FOR SOURCE-LINE 11068
32779                                     ***** END-POOL *****
32780 00006F18                  11075     MOT_REP_STEPCK_100
32781 00006F18 D10A             11076             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
32782 00006F1A 6011             11077             MOV.W   @R1,R0                          ;
32783 00006F1C D10A             11078             MOV.L   #_SET1_MOTREP_STGE,R1           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
32784 00006F1E 6211             11079             MOV.W   @R1,R2                          ;
32785 00006F20 3020             11080             CMP/EQ  R2,R0                           ;
32786 00006F22 8B1C             11081             BF      MOT_REP_STEPCK_EXT              ;終了ｽﾃｯﾌﾟ?
32787                           11082     
32788 00006F24 D109             11083             MOV.L   #_SET1_MOTREP_CNT,R1            ;//繰り返し回数
32789 00006F26 6311             11084             MOV.W   @R1,R3                          ;
32790 00006F28 2338             11085             TST     R3,R3                           ;
32791                           11086             TST_BIT_OF MOT_REP_STEPCK_EXT
32792 00006F2A 8918                   M           BT      MOT_REP_STEPCK_EXT
32793                           11087     
32794 00006F2C D408             11088             MOV.L   #_MOT_REP_CNT,R4                ;
32795 00006F2E 6241             11089             MOV.W   @R4,R2                          ;
32796 00006F30 3232             11090             CMP/HS  R3,R2                           ;設定<=CNT
32797 00006F32 8911             11091             BT      MOT_REP_STEPCK_200              ;終了
32798 00006F34 7201             11092             ADD     #1,R2                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   482
PROGRAM NAME =

32799 00006F36 2421             11093             MOV.W   R2,@R4                          ;
32800                           11094     
32801                           11095     ;       ------- 戻る----------
32802 00006F38 E003             11096             MOV.B   #(BIT1+BIT0),R0                 ;戻り実行中、戻り演算しろ
32803 00006F3A D106             11097             MOV.L   #_MOT_REP_F,R1                  ;
32804 00006F3C 2101             11098             MOV.W   R0,@R1                          ;
32805                           11099             M_BRA   MOT_REP_STEPCK_EXT              ;
32806 00006F3E A00E                   M           BRA     MOT_REP_STEPCK_EXT
32807 00006F40 0009                   M           NOP
32808                           11100     
32809                           11101     
32810                                     ***** BEGIN-POOL *****
32811 00006F42 0000                       ALIGNMENT CODE
32812 00006F44 00000000                   DATA FOR SOURCE-LINE 11076
32813 00006F48 00000000                   DATA FOR SOURCE-LINE 11078
32814 00006F4C 00000000                   DATA FOR SOURCE-LINE 11083
32815 00006F50 00000000                   DATA FOR SOURCE-LINE 11088
32816 00006F54 00000000                   DATA FOR SOURCE-LINE 11097
32817                                     ***** END-POOL *****
32818 00006F58                  11102     MOT_REP_STEPCK_200
32819                           11103             FAR_JSR #_MOT_REP_CLR,R0                ;
32820 00006F58 D002                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32821 00006F5A 400B                   M           JSR     @R0                     ;
32822 00006F5C 0009                   M           NOP                                     ;
32823                           11104     
32824 00006F5E                  11105     MOT_REP_STEPCK_EXT
32825                           11106             SUB_END
32826                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32827 00006F5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32828                           11107             M_RTS
32829 00006F60 000B                   M           RTS                             ;RTSの後ろの
32830 00006F62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32831                           11108     
32832                           11109     
32833                                     ***** BEGIN-POOL *****
32834 00006F64 00000000                   DATA FOR SOURCE-LINE 11103
32835                                     ***** END-POOL *****
32836 00006F68                  11110     _MOT_REPSTART_CALC:
32837                           11111             SUB_START
32838 00006F68 4F22                   M           STS.L   PR,@-R15                ;[必要]
32839                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32840                           11112     
32841 00006F6A D108             11113             MOV.L   #_SET1_MOTREP_SPD,R1            ;//一定速度時の速度
32842 00006F6C 6212             11114             MOV.L   @R1,R2                          ;
32843 00006F6E D108             11115             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
32844 00006F70 2122             11116             MOV.L   R2,@R1                          ;
32845                           11117     
32846                           11118     
32847                           11119             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
32848 00006F72 D108                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32849 00006F74 410B                   M           JSR     @R1                     ;
32850 00006F76 0009                   M           NOP                                     ;
32851                           11120     
32852 00006F78 D407             11121             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
32853 00006F7A 6041             11122             MOV.W   @R4,R0                          ;
32854 00006F7C 8801             11123             CMP/EQ  #1,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   483
PROGRAM NAME =

32855 00006F7E 8B0F             11124             BF      MOT_REPSTART_CL050              ;
32856 00006F80 D406             11125             MOV.L   #_CPOS_SDAT1_UP_POS,R4          ;//待機点または各段
32857 00006F82 6146             11126             MOV.L   @R4+,R1                         ;
32858 00006F84 6242             11127             MOV.L   @R4,R2                          ;(目標位置)
32859                           11128             M_BRA   MOT_REPSTART_CL100              ;
32860 00006F86 A012                   M           BRA     MOT_REPSTART_CL100
32861 00006F88 0009                   M           NOP
32862                           11129     
32863                                     ***** BEGIN-POOL *****
32864 00006F8A 0000                       ALIGNMENT CODE
32865 00006F8C 00000000                   DATA FOR SOURCE-LINE 11113
32866 00006F90 00000000                   DATA FOR SOURCE-LINE 11115
32867 00006F94 00000000                   DATA FOR SOURCE-LINE 11119
32868 00006F98 00000000                   DATA FOR SOURCE-LINE 11121
32869 00006F9C 00000000                   DATA FOR SOURCE-LINE 11125
32870                                     ***** END-POOL *****
32871 00006FA0                  11130     MOT_REPSTART_CL050:
32872 00006FA0 70FE             11131             ADD     #-2,R0
32873 00006FA2 4008             11132             SHLL2   R0
32874 00006FA4 4000             11133             SHLL    R0
32875 00006FA6 D40C             11134             MOV.L   #_CPOS_SDAT1_CHGAPOS,R4         ;8byte
32876 00006FA8 340C             11135             ADD     R0,R4
32877 00006FAA 6146             11136             MOV.L   @R4+,R1                         ;
32878 00006FAC 6242             11137             MOV.L   @R4,R2                          ;(目標位置)
32879 00006FAE                  11138     MOT_REPSTART_CL100:
32880                           11139     
32881                           11140     
32882                           11141     ;       --------- 反転用---------------
32883 00006FAE D40B             11142             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
32884 00006FB0 2412             11143             MOV.L   R1,@R4                          ;
32885 00006FB2 1421             11144             MOV.L   R2,@(4,R4)                      ;save
32886                           11145     
32887 00006FB4 D40A             11146             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
32888 00006FB6 2412             11147             MOV.L   R1,@R4                          ;
32889 00006FB8 1421             11148             MOV.L   R2,@(4,R4)                      ;save
32890                           11149     
32891                           11150     ;       -------- 通常用-----------------
32892                           11151             FAR_JSR #_LENGH_ADD_CALC,R0             ;
32893 00006FBA D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32894 00006FBC 400B                   M           JSR     @R0                     ;
32895 00006FBE 0009                   M           NOP                                     ;
32896                           11152     
32897 00006FC0 233A             11153             XOR     R3,R3                           ;
32898 00006FC2 4111             11154             CMP/PZ  R1                              ;+正転?
32899 00006FC4 8900             11155             BT      MOT_REPSTART_CL200              ;
32900 00006FC6 E301             11156             MOV     #BIT0,R3                        ;
32901 00006FC8                  11157     MOT_REPSTART_CL200:
32902 00006FC8 D107             11158             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
32903 00006FCA 6011             11159             MOV.W   @R1,R0                          ;
32904 00006FCC C9FE             11160             AND     #LOW ~BIT0,R0                   ;
32905 00006FCE 203B             11161             OR      R3,R0                           ;
32906 00006FD0 2101             11162             MOV.W   R0,@R1                          ;
32907                           11163     ;       ----------------------------------------
32908                           11164     
32909                           11165             SUB_END
32910                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32911 00006FD2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   484
PROGRAM NAME =

32912                           11166             M_RTS
32913 00006FD4 000B                   M           RTS                             ;RTSの後ろの
32914 00006FD6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32915                           11167     
32916                           11168     ;       *******************************************
32917                           11169     ;       ***                                     ***
32918                           11170     ;       ***                                     ***
32919                           11171     ;       ***                                     ***
32920                           11172     ;       ***     制動性能試験                    ***
32921                           11173     ;       ***                                     ***
32922                           11174     ;       ***                                     ***
32923                           11175     ;       *******************************************
32924                                     ***** BEGIN-POOL *****
32925 00006FD8 00000000                   DATA FOR SOURCE-LINE 11134
32926 00006FDC 00000000                   DATA FOR SOURCE-LINE 11142
32927 00006FE0 00000000                   DATA FOR SOURCE-LINE 11146
32928 00006FE4 00000000                   DATA FOR SOURCE-LINE 11151
32929 00006FE8 00000000                   DATA FOR SOURCE-LINE 11158
32930                                     ***** END-POOL *****
32931 00006FEC                  11176             .ALIGN  4                                               ;
32932                           11177             .INCLUDE        "ssa_btst.inc"          ;//2010-08-30
32933                               1 I1  ;       ***********************************
32934                               2 I1  ;       ***                             ***
32935                               3 I1  ;       ***     制動制御                ***
32936                               4 I1  ;       ***     位置決め部              ***
32937                               5 I1  ;       ***                             ***
32938                               6 I1  ;       ***********************************
32939                               7 I1  ;       ------- 2010-08-20[制動モード]
32940                               8 I1          .EXPORT _BRKTST_POS_START
32941                               9 I1  
32942 00006FEC                     10 I1          .ALIGN  4                               ;
32943 00006FEC                     11 I1  _BRKTST_POS_CTL:
32944                              12 I1          SUB_START
32945 00006FEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
32946                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32947 00006FEE D103                13 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32948 00006FF0 6011                14 I1          MOV.W   @R1,R0                          ;
32949 00006FF2 C808                15 I1          TST     #BIT3,R0                        ;
32950                              16 I1          TST_BIT_OF BRKTST_POSCTL_0020           ;
32951 00006FF4 8904                   M           BT      BRKTST_POSCTL_0020
32952                              17 I1          M_BRA   BRKTST_POSCTL_0800              ;非常停止中
32953 00006FF6 A099                   M           BRA     BRKTST_POSCTL_0800
32954 00006FF8 0009                   M           NOP
32955                              18 I1  
32956                                 I1  ***** BEGIN-POOL *****
32957 00006FFA 0000                   I1  ALIGNMENT CODE
32958 00006FFC 00000000               I1  DATA FOR SOURCE-LINE 13
32959                                 I1  ***** END-POOL *****
32960 00007000                     19 I1  BRKTST_POSCTL_0020:
32961 00007000 C801                20 I1          TST     #BIT0,R0                        ;
32962                              21 I1          TST_BIT_OF BRKTST_POSCTL_0040           ;
32963 00007002 8901                   M           BT      BRKTST_POSCTL_0040
32964                              22 I1          M_BRA   BRKTST_POSCTL_0200              ;起動中
32965 00007004 A064                   M           BRA     BRKTST_POSCTL_0200
32966 00007006 0009                   M           NOP
32967                              23 I1  
32968                              24 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   485
PROGRAM NAME =

32969 00007008                     25 I1  BRKTST_POSCTL_0040:
32970 00007008 D603                26 I1          MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
32971 0000700A 6061                27 I1          MOV.W   @R6,R0                  ;
32972 0000700C C907                28 I1          AND     #(BIT2+BIT1+BIT0),R0    ;
32973 0000700E 8801                29 I1          CMP/EQ  #BIT0,R0                ;
32974 00007010 8904                30 I1          BT      BRKTST_POSCTL_0048              ;001
32975                              31 I1          M_BRA   BRKTST_POSCTL_0190              ;EXIT
32976 00007012 A035                   M           BRA     BRKTST_POSCTL_0190
32977 00007014 0009                   M           NOP
32978                              32 I1  ;       ==== 通常の位置決め起動コマンド状態
32979                                 I1  ***** BEGIN-POOL *****
32980 00007016 0000                   I1  ALIGNMENT CODE
32981 00007018 00000000               I1  DATA FOR SOURCE-LINE 26
32982                                 I1  ***** END-POOL *****
32983 0000701C                     33 I1  BRKTST_POSCTL_0048:
32984                              34 I1  
32985 0000701C 222A                35 I1          XOR     R2,R2
32986 0000701E D11A                36 I1          MOV.L   #_INT_POS_STEP_FLG,R1   ;
32987 00007020 2121                37 I1          MOV.W   R2,@R1                  ;
32988 00007022 D11A                38 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
32989 00007024 2121                39 I1          MOV.W   R2,@R1
32990 00007026 D11A                40 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
32991 00007028 2121                41 I1          MOV.W   R2,@R1                  ;
32992 0000702A D11A                42 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
32993 0000702C 2121                43 I1          MOV.W   R2,@R1                          ;
32994                              44 I1  
32995                              45 I1  ;       ------ ﾓｰｼｮﾝ運転 --------
32996 0000702E D11A                46 I1          MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
32997 00007030 6411                47 I1          MOV.W   @R1,R4                  ;
32998 00007032 D21A                48 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
32999 00007034 2241                49 I1          MOV.W   R4,@R2                  ;
33000                              50 I1  
33001                              51 I1  
33002                              52 I1          FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
33003 00007036 D01A                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33004 00007038 400B                   M           JSR     @R0                     ;
33005 0000703A 0009                   M           NOP                                     ;
33006                              53 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
33007 0000703C D019                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33008 0000703E 400B                   M           JSR     @R0                     ;
33009 00007040 0009                   M           NOP                                     ;
33010                              54 I1  
33011                              55 I1  
33012                              56 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0
33013 00007042 D019                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33014 00007044 400B                   M           JSR     @R0                     ;
33015 00007046 0009                   M           NOP                                     ;
33016                              57 I1          FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
33017 00007048 D018                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33018 0000704A 400B                   M           JSR     @R0                     ;
33019 0000704C 0009                   M           NOP                                     ;
33020                              58 I1  
33021                              59 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
33022 0000704E D018                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33023 00007050 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   486
PROGRAM NAME =

33024 00007052 0009                   M           NOP                                     ;
33025                              60 I1  
33026                              61 I1  ;       == 2004-03 ===
33027                              62 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
33028 00007054 D017                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33029 00007056 400B                   M           JSR     @R0                     ;
33030 00007058 0009                   M           NOP                                     ;
33031 0000705A 9013                63 I1          MOV.W   #D'2,R0                 ;
33032 0000705C D116                64 I1          MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
33033 0000705E 2101                65 I1          MOV.W   R0,@R1                          ;
33034                              66 I1  
33035                              67 I1          FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
33036 00007060 D016                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33037 00007062 400B                   M           JSR     @R0                     ;
33038 00007064 0009                   M           NOP                                     ;
33039                              68 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
33040 00007066 D116                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33041 00007068 410B                   M           JSR     @R1                     ;
33042 0000706A 0009                   M           NOP                                     ;
33043                              69 I1  
33044                              70 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
33045 0000706C D115                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
33046 0000706E 6011                   M           MOV.W   @R1,R0          ;
33047 00007070 CB01                   M           OR      #BIT0,R0                ;
33048 00007072 2101                   M           MOV.W   R0,@R1          ;
33049                              71 I1  
33050                              72 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
33051 00007074 D014                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33052 00007076 400B                   M           JSR     @R0                     ;
33053 00007078 0009                   M           NOP                                     ;
33054                              73 I1  
33055                              74 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0
33056 0000707A D014                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33057 0000707C 400B                   M           JSR     @R0                     ;
33058 0000707E 0009                   M           NOP                                     ;
33059                              75 I1  
33060 00007080                     76 I1  BRKTST_POSCTL_0190:
33061                              77 I1          M_BRA   BRKTST_POSCTL_0800                      ;
33062 00007080 A054                   M           BRA     BRKTST_POSCTL_0800
33063 00007082 0009                   M           NOP
33064                              78 I1  
33065                              79 I1  ;       ===========================================
33066                              80 I1  ;       ===             起動中                  ===
33067                              81 I1  ;       ===========================================
33068                                 I1  ***** BEGIN-POOL *****
33069 00007084 0002                   I1  DATA FOR SOURCE-LINE 63
33070 00007086 0000                   I1  ALIGNMENT CODE
33071 00007088 00000000               I1  DATA FOR SOURCE-LINE 36
33072 0000708C 00000000               I1  DATA FOR SOURCE-LINE 38
33073 00007090 00000000               I1  DATA FOR SOURCE-LINE 40
33074 00007094 00000000               I1  DATA FOR SOURCE-LINE 42
33075 00007098 00000000               I1  DATA FOR SOURCE-LINE 46
33076 0000709C 00000000               I1  DATA FOR SOURCE-LINE 48
33077 000070A0 00000000               I1  DATA FOR SOURCE-LINE 52
33078 000070A4 00000000               I1  DATA FOR SOURCE-LINE 53
33079 000070A8 00000000               I1  DATA FOR SOURCE-LINE 56
33080 000070AC 00000000               I1  DATA FOR SOURCE-LINE 57
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   487
PROGRAM NAME =

33081 000070B0 00000000               I1  DATA FOR SOURCE-LINE 59
33082 000070B4 00000000               I1  DATA FOR SOURCE-LINE 62
33083 000070B8 00000000               I1  DATA FOR SOURCE-LINE 64
33084 000070BC 00000000               I1  DATA FOR SOURCE-LINE 67
33085 000070C0 00000000               I1  DATA FOR SOURCE-LINE 68
33086 000070C4 00000000               I1  DATA FOR SOURCE-LINE 70
33087 000070C8 00000000               I1  DATA FOR SOURCE-LINE 72
33088 000070CC 00000000               I1  DATA FOR SOURCE-LINE 74
33089                                 I1  ***** END-POOL *****
33090 000070D0                     82 I1  BRKTST_POSCTL_0200:
33091 000070D0 D609                83 I1          MOV.L   #_MNWR_POS_CMD,R6                                               ;
33092 000070D2 6061                84 I1          MOV.W   @R6,R0                                                          ;
33093 000070D4 8801                85 I1          CMP/EQ  #BIT0,R0                                                        ;
33094 000070D6 8919                86 I1          BT      BRKTST_POSCTL_0240                                              ;
33095                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
33096 000070D8 D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
33097 000070DA 6011                   M           MOV.W   @R1,R0          ;
33098 000070DC CB08                   M           OR      #BIT3,R0                ;
33099 000070DE 2101                   M           MOV.W   R0,@R1          ;
33100                              88 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
33101 000070E0 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33102 000070E2 400B                   M           JSR     @R0                     ;
33103 000070E4 0009                   M           NOP                                     ;
33104                              89 I1          FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
33105 000070E6 D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33106 000070E8 400B                   M           JSR     @R0                     ;
33107 000070EA 0009                   M           NOP                                     ;
33108                              90 I1          FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
33109 000070EC D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33110 000070EE 400B                   M           JSR     @R0                     ;
33111 000070F0 0009                   M           NOP                                     ;
33112                              91 I1          M_BRA   BRKTST_POSCTL_0800                                                      ;
33113 000070F2 A01B                   M           BRA     BRKTST_POSCTL_0800
33114 000070F4 0009                   M           NOP
33115                              92 I1  
33116                              93 I1  
33117                                 I1  ***** BEGIN-POOL *****
33118 000070F6 0000                   I1  ALIGNMENT CODE
33119 000070F8 00000000               I1  DATA FOR SOURCE-LINE 83
33120 000070FC 00000000               I1  DATA FOR SOURCE-LINE 87
33121 00007100 00000000               I1  DATA FOR SOURCE-LINE 88
33122 00007104 00000000               I1  DATA FOR SOURCE-LINE 89
33123 00007108 00000000               I1  DATA FOR SOURCE-LINE 90
33124                                 I1  ***** END-POOL *****
33125 0000710C                     94 I1  BRKTST_POSCTL_0240:
33126                              95 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
33127 0000710C D009                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33128 0000710E 400B                   M           JSR     @R0                     ;
33129 00007110 0009                   M           NOP                                     ;
33130                              96 I1  
33131                              97 I1  ;       === FLAG SET(REST-PLS REFLASH-END)====
33132                              98 I1          eSHi_SET_IM_MOV DST=_SH4_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
33133                                 M           PUSH_REG1 R1            ;
33134 00007112 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
33135                                 M                                           ;REG=>[SP]
33136                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   488
PROGRAM NAME =

33137                                 M           PUSH_REG1 R0            ;
33138 00007114 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33139                                 M                                           ;REG=>[SP]
33140                                 M                                           ;"-4" FF,FF,FF,FC
33141 00007116 900C                   M           MOV.W   #1,R0           ;
33142 00007118 D107                   M           MOV.L   #_SH4_REST_RL_HF,R1             ;
33143 0000711A 2101                   M           MOV.W   R0,@R1  ;
33144                                 M           POP_REG1 R0             ;
33145                                 M                                   ; RE"+4" 00,00,00,04
33146 0000711C 60F6                   M           MOV.L   @R15+,R0        ;
33147                                 M           POP_REG1 R1             ;
33148                                 M                                   ; RE"+4" 00,00,00,04
33149 0000711E 61F6                   M           MOV.L   @R15+,R1        ;
33150                              99 I1  
33151                             100 I1  
33152                             101 I1  ;       === 2004-01-28===
33153                             102 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
33154 00007120 D006                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33155 00007122 400B                   M           JSR     @R0                     ;
33156 00007124 0009                   M           NOP                                     ;
33157                             103 I1          FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
33158 00007126 D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33159 00007128 400B                   M           JSR     @R0                     ;
33160 0000712A 0009                   M           NOP                                     ;
33161                             104 I1  
33162                             105 I1          .AIF 0  EQ 1    ;2006-09-19
33163                             106             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
33164                             107             .AENDI
33165                             108 I1  
33166                             109 I1  
33167 0000712C                    110 I1  BRKTST_POSCTL_0800:
33168                             111 I1  
33169                             112 I1          SUB_END
33170                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33171 0000712C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33172                             113 I1          M_RTS
33173 0000712E 000B                   M           RTS                             ;RTSの後ろの
33174 00007130 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33175                             114 I1  
33176                             115 I1  ;       *******************************************
33177                             116 I1  ;       ***                                     ***
33178                             117 I1  ;       ***             目標位置作成            ***
33179                             118 I1  ;       ***                                     ***
33180                             119 I1  ;       *******************************************
33181                                 I1  ***** BEGIN-POOL *****
33182 00007132 0001                   I1  DATA FOR SOURCE-LINE 98
33183 00007134 00000000               I1  DATA FOR SOURCE-LINE 95
33184 00007138 00000000               I1  DATA FOR SOURCE-LINE 98
33185 0000713C 00000000               I1  DATA FOR SOURCE-LINE 102
33186 00007140 00000000               I1  DATA FOR SOURCE-LINE 103
33187                                 I1  ***** END-POOL *****
33188 00007144                    120 I1          .ALIGN  4                               ;
33189 00007144                    121 I1  _BRKTST_POS_START:
33190                             122 I1          SUB_START
33191 00007144 4F22                   M           STS.L   PR,@-R15                ;[必要]
33192                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33193                             123 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   489
PROGRAM NAME =

33194                             124 I1  ;       ----------2014-11-10------------
33195 00007146 200A               125 I1          XOR     R0,R0
33196 00007148 D12C               126 I1          MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
33197 0000714A 2101               127 I1          MOV.W   R0,@R1                          ;
33198                             128 I1  ;       ----------------------------------
33199                             129 I1  
33200                             130 I1  
33201                             131 I1  ;       === 目標位置生成=========
33202                             132 I1          FAR_JSR #_BRKTST_OBJ_MAKE,R0
33203 0000714C D02C                   M           MOV.L   #_BRKTST_OBJ_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33204 0000714E 400B                   M           JSR     @R0                     ;
33205 00007150 0009                   M           NOP                                     ;
33206                             133 I1  
33207                             134 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
33208 00007152 D02C                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33209 00007154 400B                   M           JSR     @R0                     ;
33210 00007156 0009                   M           NOP                                     ;
33211                             135 I1          FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
33212 00007158 D02B                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33213 0000715A 400B                   M           JSR     @R0                     ;
33214 0000715C 0009                   M           NOP                                     ;
33215                             136 I1  
33216                             137 I1          FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
33217 0000715E D02B                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33218 00007160 400B                   M           JSR     @R0                     ;
33219 00007162 0009                   M           NOP                                     ;
33220                             138 I1          FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
33221 00007164 D02A                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33222 00007166 400B                   M           JSR     @R0                     ;
33223 00007168 0009                   M           NOP                                     ;
33224                             139 I1  
33225 0000716A 222A               140 I1          XOR     R2,R2
33226 0000716C D129               141 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
33227 0000716E 2121               142 I1          MOV.W   R2,@R1
33228 00007170 D129               143 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
33229 00007172 2121               144 I1          MOV.W   R2,@R1
33230                             145 I1  
33231 00007174 200A               146 I1          XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
33232 00007176 D129               147 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
33233 00007178 2101               148 I1          MOV.W   R0,@R1                          ;
33234                             149 I1  
33235                             150 I1  ;       === 2004-12-20 ===
33236 0000717A D129               151 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
33237 0000717C 2101               152 I1          MOV.W   R0,@R1                          ;
33238                             153 I1  
33239                             154 I1          FAR_JSR #_CNTREST_HOS_RESET,R1  ;
33240 0000717E D129                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33241 00007180 410B                   M           JSR     @R1                     ;
33242 00007182 0009                   M           NOP                                     ;
33243                             155 I1  
33244                             156 I1  ;       === 2004-01-26 CCS===
33245 00007184 200A               157 I1          XOR     R0,R0
33246 00007186 D128               158 I1          MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
33247 00007188 2101               159 I1          MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   490
PROGRAM NAME =

33248                             160 I1  
33249                             161 I1  
33250                             162 I1  ;       ====== 一旦停止信号OFF=====
33251                             163 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
33252 0000718A D128                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
33253 0000718C 6011                   M           MOV.W   @R1,R0          ;
33254 0000718E 9432                   M           MOV.W   #LWORD (~BIT9),R4       ;
33255 00007190 2049                   M           AND     R4,R0           ;
33256 00007192 2101                   M           MOV.W   R0,@R1          ;
33257                             164 I1  
33258                             165 I1          FAR_JSR #_CMPCYC_START_CLR,R0           ;
33259 00007194 D026                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33260 00007196 400B                   M           JSR     @R0                     ;
33261 00007198 0009                   M           NOP                                     ;
33262                             166 I1          FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
33263 0000719A D026                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33264 0000719C 400B                   M           JSR     @R0                     ;
33265 0000719E 0009                   M           NOP                                     ;
33266                             167 I1  
33267                             168 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
33268 000071A0 D025                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33269 000071A2 400B                   M           JSR     @R0                     ;
33270 000071A4 0009                   M           NOP                                     ;
33271                             169 I1  
33272                             170 I1          FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
33273 000071A6 D025                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33274 000071A8 400B                   M           JSR     @R0                     ;
33275 000071AA 0009                   M           NOP                                     ;
33276                             171 I1          FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
33277 000071AC D024                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33278 000071AE 400B                   M           JSR     @R0                     ;
33279 000071B0 0009                   M           NOP                                     ;
33280                             172 I1  
33281                             173 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
33282 000071B2 D024                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33283 000071B4 400B                   M           JSR     @R0                     ;
33284 000071B6 0009                   M           NOP                                     ;
33285                             174 I1  
33286 000071B8 200A               175 I1          XOR     R0,R0                   ;
33287 000071BA D123               176 I1          MOV.L   #_INT_CYC_DRV_STS,R1    ;
33288 000071BC 2101               177 I1          MOV.W   R0,@R1                  ;
33289 000071BE D123               178 I1          MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
33290 000071C0 2101               179 I1          MOV.W   R0,@R1                  ;
33291 000071C2 D123               180 I1          MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
33292 000071C4 2101               181 I1          MOV.W   R0,@R1                  ;
33293 000071C6 D123               182 I1          MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
33294 000071C8 2101               183 I1          MOV.W   R0,@R1                  ;
33295                             184 I1  ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
33296                             185 I1  ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
33297                             186 I1  
33298                             187 I1  
33299                             188 I1  
33300                             189 I1  
33301 000071CA D123               190 I1          MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
33302 000071CC 200A               191 I1          XOR     R0,R0                           ;
33303 000071CE 2101               192 I1          MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   491
PROGRAM NAME =

33304                             193 I1  
33305                             194 I1  
33306 000071D0 9012               195 I1          MOV.W   #BIT0,R0                        ;起動
33307 000071D2 D122               196 I1          MOV.L   #_MNWR_POS_CMD,R1               ;
33308 000071D4 2101               197 I1          MOV.W   R0,@R1                          ;
33309                             198 I1  
33310                             199 I1  ;       --------2009-04-01 起動したらフラグクリア[原点時の]
33311                             200 I1          MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
33312 000071D6 D422                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
33313 000071D8 6041                   M           MOV.W   @R4,R0          ;
33314 000071DA 910E                   M           MOV.W   #LWORD (~BIT5),R1       ;
33315 000071DC 2019                   M           AND     R1,R0           ;
33316 000071DE 2401                   M           MOV.W   R0,@R4          ;
33317                             201 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
33318 000071E0 D420                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
33319 000071E2 6041                   M           MOV.W   @R4,R0          ;
33320 000071E4 9109                   M           MOV.W   #LWORD (~BIT5),R1       ;
33321 000071E6 2019                   M           AND     R1,R0           ;
33322 000071E8 2401                   M           MOV.W   R0,@R4          ;
33323                             202 I1  
33324                             203 I1  ;       ------- 起動------------
33325 000071EA 9005               204 I1          MOV.W   #BIT0,R0                ;
33326 000071EC D11E               205 I1          MOV.L   #_BRKTST_STR_FLG,R1     ;
33327 000071EE 2101               206 I1          MOV.W   R0,@R1                  ;
33328                             207 I1  
33329                             208 I1          SUB_END
33330                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33331 000071F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33332                             209 I1          M_RTS
33333 000071F2 000B                   M           RTS                             ;RTSの後ろの
33334 000071F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33335                             210 I1  
33336                             211 I1  
33337                                 I1  ***** BEGIN-POOL *****
33338 000071F6 FDFF                   I1  DATA FOR SOURCE-LINE 163
33339 000071F8 0001                   I1  DATA FOR SOURCE-LINE 195,204
33340 000071FA FFDF                   I1  DATA FOR SOURCE-LINE 200,201
33341 000071FC 00000000               I1  DATA FOR SOURCE-LINE 126
33342 00007200 00000000               I1  DATA FOR SOURCE-LINE 132
33343 00007204 00000000               I1  DATA FOR SOURCE-LINE 134
33344 00007208 00000000               I1  DATA FOR SOURCE-LINE 135
33345 0000720C 00000000               I1  DATA FOR SOURCE-LINE 137
33346 00007210 00000000               I1  DATA FOR SOURCE-LINE 138
33347 00007214 00000000               I1  DATA FOR SOURCE-LINE 141
33348 00007218 00000000               I1  DATA FOR SOURCE-LINE 143
33349 0000721C 00000000               I1  DATA FOR SOURCE-LINE 147
33350 00007220 00000000               I1  DATA FOR SOURCE-LINE 151
33351 00007224 00000000               I1  DATA FOR SOURCE-LINE 154
33352 00007228 00000000               I1  DATA FOR SOURCE-LINE 158
33353 0000722C 00000000               I1  DATA FOR SOURCE-LINE 163
33354 00007230 00000000               I1  DATA FOR SOURCE-LINE 165
33355 00007234 00000000               I1  DATA FOR SOURCE-LINE 166
33356 00007238 00000000               I1  DATA FOR SOURCE-LINE 168
33357 0000723C 00000000               I1  DATA FOR SOURCE-LINE 170
33358 00007240 00000000               I1  DATA FOR SOURCE-LINE 171
33359 00007244 00000000               I1  DATA FOR SOURCE-LINE 173
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   492
PROGRAM NAME =

33360 00007248 00000000               I1  DATA FOR SOURCE-LINE 176
33361 0000724C 00000000               I1  DATA FOR SOURCE-LINE 178
33362 00007250 00000000               I1  DATA FOR SOURCE-LINE 180
33363 00007254 00000000               I1  DATA FOR SOURCE-LINE 182
33364 00007258 00000000               I1  DATA FOR SOURCE-LINE 190
33365 0000725C 00000000               I1  DATA FOR SOURCE-LINE 196
33366 00007260 00000000               I1  DATA FOR SOURCE-LINE 200
33367 00007264 00000000               I1  DATA FOR SOURCE-LINE 201
33368 00007268 00000000               I1  DATA FOR SOURCE-LINE 205
33369                                 I1  ***** END-POOL *****
33370 0000726C                    212 I1          .ALIGN  4                               ;
33371 0000726C                    213 I1  _BRKTST_OBJ_MAKE
33372                             214 I1          SUB_START
33373 0000726C 4F22                   M           STS.L   PR,@-R15                ;[必要]
33374                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33375                             215 I1  ;       --------------------------------------------
33376 0000726E D024               216 I1          MOV.L   #_CTL_ENC360,R0                         ;//360.0度(いまのところ不要)
33377 00007270 6101               217 I1          MOV.W   @R0,R1                                  ;
33378 00007272 D424               218 I1          MOV.L   #_STR_ENC3600_DIG,R4                    ;//運転開始時の360.0角度
33379 00007274 2411               219 I1          MOV.W   R1,@R4                                  ;
33380                             220 I1  
33381                             221 I1  ;       -----------------------------------------
33382 00007276 D424               222 I1          MOV.L   #_LINK_PV_ABSPLS,R4                     ;
33383 00007278 6146               223 I1          MOV.L   @R4+,R1                                 ;
33384 0000727A 6242               224 I1          MOV.L   @R4,R2                                  ;
33385 0000727C D423               225 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
33386 0000727E 1410               226 I1          MOV.L   R1,@(0,R4)                              ;
33387 00007280 1421               227 I1          MOV.L   R2,@(4,R4)                              ;
33388                             228 I1  
33389                             229 I1  ;       ---------- 目標位置設定------
33390 00007282 D423               230 I1          MOV.L   #_LINK_1ROT_PLS,R4                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
33391 00007284 6642               231 I1          MOV.L   @R4,R6                                  ;
33392 00007286 255A               232 I1          XOR     R5,R5                                   ;
33393                             233 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
                                          R2
33394 00007288 0008                   M           CLRT
33395 0000728A 326E                   M           ADDC    R6,R2
33396 0000728C 315E                   M           ADDC    R5,R1
33397                             234 I1  
33398 0000728E D421               235 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
33399 00007290 2412               236 I1          MOV.L   R1,@R4                          ;
33400 00007292 1421               237 I1          MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
33401                             238 I1  
33402                             239 I1  
33403                             240 I1  ;       ---------- 方向------
33404 00007294 200A               241 I1          XOR     R0,R0                           ;BIT0=0:正
33405 00007296 D120               242 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
33406 00007298 2101               243 I1          MOV.W   R0,@R1
33407                             244 I1  
33408                             245 I1  
33409                             246 I1  ;       ---------- 目標位置設定------
33410                             247 I1  ;;;;;2011-09-14 MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
33411                             248 I1  ;;;;;2011-09-14 MOV.W   @R1,R0
33412                             249 I1  ;;;;;2011-09-14 FAR_JSR #_LINK_P_M_MAX,R4               ;Input R0:BIT0 DIRECT
33413                             250 I1                                                  ;_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止
                                          目標位置(設定ﾊﾞｯｸﾗｯｼなし)
33414                             251 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   493
PROGRAM NAME =

33415                             252 I1  
33416                             253 I1  
33417                             254 I1  
33418                             255 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
33419 0000729A D020                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33420 0000729C 400B                   M           JSR     @R0                     ;
33421 0000729E 0009                   M           NOP                                     ;
33422                             256 I1  
33423                             257 I1  ;       ---------- SPEED SET---------------
33424                             258 I1  ;;      MOV.L   #_FREQ_PLSI_MAX_FRQ,R1  ;
33425                             259 I1  ;;;     MOV.L   #_LINK_MAX_SPD_PLS,R1
33426                             260 I1  
33427 000072A0 D11F               261 I1          MOV.L   #_BRKTST_OUTSPD_PLS,R1  ;
33428 000072A2 6212               262 I1          MOV.L   @R1,R2                  ;
33429 000072A4 D11F               263 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
33430 000072A6 2122               264 I1          MOV.L   R2,@R1                  ;
33431                             265 I1  
33432                             266 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0      ;input R2
33433 000072A8 D01F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33434 000072AA 400B                   M           JSR     @R0                     ;
33435 000072AC 0009                   M           NOP                                     ;
33436                             267 I1  
33437                             268 I1  
33438                             269 I1  
33439                             270 I1  
33440                             271 I1  ;       -------------------ｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀMAX-----------
33441 000072AE 9226               272 I1          MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
33442                             273 I1          REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
33443 000072B0 D11E                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
33444 000072B2 2121                   M           MOV.W   R2,@R1  ;DST_ADR
33445                             274 I1          REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
33446 000072B4 D11E                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
33447 000072B6 2121                   M           MOV.W   R2,@R1  ;DST_ADR
33448                             275 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
33449 000072B8 D41E                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
33450 000072BA 6041                   M           MOV.W   @R4,R0          ;
33451 000072BC C9FD                   M           AND     #LOW ~BIT1,R0           ;
33452 000072BE 2401                   M           MOV.W   R0,@R4          ;
33453                             276 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
33454 000072C0 D41C                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
33455 000072C2 6041                   M           MOV.W   @R4,R0          ;
33456 000072C4 C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
33457 000072C6 2401                   M           MOV.W   R0,@R4          ;
33458                             277 I1  
33459                             278 I1          FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
33460 000072C8 D01B                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33461 000072CA 400B                   M           JSR     @R0                     ;
33462 000072CC 0009                   M           NOP                                     ;
33463                             279 I1          FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
33464 000072CE D01B                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33465 000072D0 400B                   M           JSR     @R0                     ;
33466 000072D2 0009                   M           NOP                                     ;
33467                             280 I1  
33468                             281 I1  ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
33469                             282 I1          FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
33470 000072D4 D01A                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33471 000072D6 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   494
PROGRAM NAME =

33472 000072D8 0009                   M           NOP                                     ;
33473                             283 I1          FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
33474 000072DA D01A                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33475 000072DC 400B                   M           JSR     @R0                     ;
33476 000072DE 0009                   M           NOP                                     ;
33477                             284 I1  
33478                             285 I1  
33479                             286 I1  ;       ------------------2011-09-14----------停止位置-----
33480 000072E0 D40A               287 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
33481 000072E2 5140               288 I1          MOV.L   @(0,R4),R1
33482 000072E4 5241               289 I1          MOV.L   @(4,R4),R2
33483                             290 I1  
33484 000072E6 D418               291 I1          MOV.L   #_WPARX_BRKTST_STPLNG,R4                ;//相対ﾊﾟﾙｽ
33485 000072E8 6642               292 I1          MOV.L   @R4,R6                                  ;
33486 000072EA 255A               293 I1          XOR     R5,R5                                   ;
33487                             294 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
                                          R2
33488 000072EC 0008                   M           CLRT
33489 000072EE 326E                   M           ADDC    R6,R2
33490 000072F0 315E                   M           ADDC    R5,R1
33491                             295 I1  
33492 000072F2 D416               296 I1          MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
33493 000072F4 2412               297 I1          MOV.L   R1,@R4                                                  ;
33494 000072F6 1421               298 I1          MOV.L   R2,@(1*4,R4)                                            ;
33495                             299 I1  
33496                             300 I1  
33497                             301 I1          SUB_END
33498                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33499 000072F8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33500                             302 I1          M_RTS
33501 000072FA 000B                   M           RTS                             ;RTSの後ろの
33502 000072FC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33503                             303 I1  
33504                           11178     
33505                           11179     
33506                           11180     ;       *******************************************
33507                           11181     ;       ***                                     ***
33508                           11182     ;       ***                                     ***
33509                           11183     ;       ***                                     ***
33510                           11184     ;       ***     ポジショナ- CPUA                ***
33511                           11185     ;       ***                                     ***
33512                           11186     ;       ***                                     ***
33513                           11187     ;       *******************************************
33514                                     ***** BEGIN-POOL *****
33515 000072FE 0064                       DATA FOR SOURCE-LINE 272
33516 00007300 00000000                   DATA FOR SOURCE-LINE 216
33517 00007304 00000000                   DATA FOR SOURCE-LINE 218
33518 00007308 00000000                   DATA FOR SOURCE-LINE 222
33519 0000730C 00000000                   DATA FOR SOURCE-LINE 225,287
33520 00007310 00000000                   DATA FOR SOURCE-LINE 230
33521 00007314 00000000                   DATA FOR SOURCE-LINE 235
33522 00007318 00000000                   DATA FOR SOURCE-LINE 242
33523 0000731C 00000000                   DATA FOR SOURCE-LINE 255
33524 00007320 00000000                   DATA FOR SOURCE-LINE 261
33525 00007324 00000000                   DATA FOR SOURCE-LINE 263
33526 00007328 00000000                   DATA FOR SOURCE-LINE 266
33527 0000732C 00000000                   DATA FOR SOURCE-LINE 273
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   495
PROGRAM NAME =

33528 00007330 00000000                   DATA FOR SOURCE-LINE 274
33529 00007334 00000000                   DATA FOR SOURCE-LINE 275,276
33530 00007338 00000000                   DATA FOR SOURCE-LINE 278
33531 0000733C 00000000                   DATA FOR SOURCE-LINE 279
33532 00007340 00000000                   DATA FOR SOURCE-LINE 282
33533 00007344 00000000                   DATA FOR SOURCE-LINE 283
33534 00007348 00000000                   DATA FOR SOURCE-LINE 291
33535 0000734C 00000000                   DATA FOR SOURCE-LINE 296
33536                                     ***** END-POOL *****
33537 00007350                  11188             .ALIGN  4                                       ;
33538                           11189             .INCLUDE        "ssa_cop1pos.inc"               ; //
33539                               1 I1  ;       ***********************************
33540                               2 I1  ;       ***                             ***
33541                               3 I1  ;       ***     ﾎﾟｼﾞｼｮﾅ動作             ***
33542                               4 I1  ;       ***                             ***
33543                               5 I1  ;       ***********************************
33544                               6 I1  ;       cpuaだけ
33545                               7 I1  ;
33546                               8 I1  ;       @"自動ﾀﾞｲﾊｲﾄｽﾀｰﾄ":手動ﾀﾞｲﾊｲﾄと同一演算にてﾀﾞｲﾊｲﾄ位置を表示する
33547                               9 I1  ;       A位置比較
33548                              10 I1  ;
33549                              11 I1  ;       341.9
33550                              12 I1          .IMPORT         _SVP_ATSLID_OBJ1        ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
33551                              13 I1          .IMPORT         _SVP_ATSLID_DNOBJ1      ; スライド自動調節　下降停止 0~99
33552                              14 I1          .IMPORT         _SVP_ATSLID_UPOBJ1      ; スライド自動調節　上昇停止 "
33553                              15 I1          .IMPORT         _SVP_ATSLID_BAKLNG      ; スライド自動調節　戻り量   "
33554                              16 I1          .IMPORT         _SVP_ATSLID_COEF1       ; スライド自動調節　制御精度 "
33555                              17 I1          .IMPORT         _SVP_SLPOS_DIR          ;位置決め方向 0(上昇)/1(下降)
33556                              18 I1          .IMPORT         _SVP_SL_TENPOS          ;小数点
33557                              19 I1  
33558                              20 I1          .IMPORT         _PVP_ATSLID_OBJ1        ;2021-06-24 CPUDﾃﾞｰﾀﾁｪｯｸ用ANSﾊﾞｯｸ
33559                              21 I1  
33560                              22 I1  
33561                              23 I1          .EXPORT _POSITIONER_DAIHAITO
33562 00007350                     24 I1  _POSITIONER_DAIHAITO
33563                              25 I1          SUB_START
33564 00007350 4F22                   M           STS.L   PR,@-R15                ;[必要]
33565                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33566                              26 I1  
33567                              27 I1  ;---------- 2021-06-24[H2W-CE3:2020-08-11 SV ANS BAK]----------------
33568 00007352 D109                28 I1          MOV.L   #_SVP_ATSLID_OBJ1,R1                            ; スライド自動調節設定値（
                                          現在動作中）0.001mm
33569 00007354 6212                29 I1          MOV.L   @R1,R2                                                          ;0.001mm 6
                                          553.5
33570 00007356 D109                30 I1          MOV.L   #_PVP_ATSLID_OBJ1,R1                            ;
33571 00007358 2122                31 I1          MOV.L   R2,@R1                                                          ;
33572                              32 I1  ;       ----------------------------------------------
33573                              33 I1  
33574                              34 I1          FAR_JSR #_POSITINER_POS_CMP,R0          ;2021-06-24
33575 0000735A D009                   M           MOV.L   #_POSITINER_POS_CMP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33576 0000735C 400B                   M           JSR     @R0                     ;
33577 0000735E 0009                   M           NOP                                     ;
33578                              35 I1  
33579 00007360 D508                36 I1          MOV.L   #_POSINER_FLG,R5                ;
33580 00007362 6051                37 I1          MOV.W   @R5,R0                          ;
33581 00007364 2008                38 I1          TST     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   496
PROGRAM NAME =

33582                              39 I1          TST_BIT_ON POSITIONER_DAICTL_100        ;
33583 00007366 8B2B                   M           BF      POSITIONER_DAICTL_100
33584                              40 I1  
33585 00007368 D107                41 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
33586 0000736A 6011                42 I1          MOV.W   @R1,R0                          ;
33587 0000736C 9403                43 I1          MOV.W   #BIT9,R4                        ;
33588 0000736E 2048                44 I1          TST     R4,R0                           ;
33589                              45 I1          TST_BIT_ON POSITIONER_DAICTL_020        ;
33590 00007370 8B0C                   M           BF      POSITIONER_DAICTL_020
33591                              46 I1          M_BRA   POSITIONER_DAICTL_EXT           ;
33592 00007372 A0E6                   M           BRA     POSITIONER_DAICTL_EXT
33593 00007374 0009                   M           NOP
33594                              47 I1  
33595                              48 I1  ;       -------------- 起動-----------------
33596                                 I1  ***** BEGIN-POOL *****
33597 00007376 0200                   I1  DATA FOR SOURCE-LINE 43
33598 00007378 00000000               I1  DATA FOR SOURCE-LINE 28
33599 0000737C 00000000               I1  DATA FOR SOURCE-LINE 30
33600 00007380 00000000               I1  DATA FOR SOURCE-LINE 34
33601 00007384 00000000               I1  DATA FOR SOURCE-LINE 36
33602 00007388 00000000               I1  DATA FOR SOURCE-LINE 41
33603                                 I1  ***** END-POOL *****
33604 0000738C                     49 I1  POSITIONER_DAICTL_020
33605 0000738C E001                50 I1          MOV.B   #BIT0,R0                        ;
33606 0000738E 2501                51 I1          MOV.W   R0,@R5                          ;FLG.0=1
33607                              52 I1  
33608                              53 I1  ;       ------------------------------------
33609 00007390 200A                54 I1          XOR     R0,R0                           ;
33610 00007392 D107                55 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
33611 00007394 2101                56 I1          MOV.W   R0,@R1                          ;
33612                              57 I1  
33613                              58 I1  
33614 00007396 E002                59 I1          MOV.B   #BIT1,R0                        ;上昇からの+位置決め中
33615 00007398 D106                60 I1          MOV.L   #_SVP_SLPOS_DIR,R1              ;位置決め方向
33616 0000739A 6411                61 I1          MOV.W   @R1,R4                          ;
33617 0000739C 2448                62 I1          TST     R4,R4                           ;
33618                              63 I1          TST_BIT_OF POSITIONER_DAICTL_040        ;
33619 0000739E 8900                   M           BT      POSITIONER_DAICTL_040
33620 000073A0 E042                64 I1          MOV.B   #BIT6+BIT1,R0                   ;下降からの+位置決め中
33621 000073A2                     65 I1  POSITIONER_DAICTL_040:
33622 000073A2 D105                66 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33623 000073A4 2101                67 I1          MOV.W   R0,@R1                          ;
33624                              68 I1          FAR_JSR #_POSITIONER_DAI_DATA,R0
33625 000073A6 D005                   M           MOV.L   #_POSITIONER_DAI_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33626 000073A8 400B                   M           JSR     @R0                     ;
33627 000073AA 0009                   M           NOP                                     ;
33628                              69 I1          M_BRA   POSITIONER_DAICTL_800
33629 000073AC A0BE                   M           BRA     POSITIONER_DAICTL_800
33630 000073AE 0009                   M           NOP
33631                              70 I1  
33632                              71 I1  
33633                              72 I1  
33634                              73 I1  ;       ----------------------------------------------
33635                                 I1  ***** BEGIN-POOL *****
33636 000073B0 00000000               I1  DATA FOR SOURCE-LINE 55
33637 000073B4 00000000               I1  DATA FOR SOURCE-LINE 60
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   497
PROGRAM NAME =

33638 000073B8 00000000               I1  DATA FOR SOURCE-LINE 66
33639 000073BC 00000000               I1  DATA FOR SOURCE-LINE 68
33640                                 I1  ***** END-POOL *****
33641 000073C0                     74 I1  POSITIONER_DAICTL_100
33642                              75 I1  
33643 000073C0 D108                76 I1          MOV.L   #_PVX_DAI_POS1,R1               ;ﾀﾞｲﾊｲﾄ表示値・制御値
33644 000073C2 6212                77 I1          MOV.L   @R1,R2                          ;SAVE R2 -->NEXT CALC USED
33645 000073C4 D108                78 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
33646 000073C6 2122                79 I1          MOV.L   R2,@R1                          ;
33647                              80 I1  
33648 000073C8 D108                81 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
33649 000073CA 6211                82 I1          MOV.W   @R1,R2                          ;
33650 000073CC 9408                83 I1          MOV.W   #BIT9,R4                        ;
33651 000073CE 2248                84 I1          TST     R4,R2                           ;
33652                              85 I1          TST_BIT_ON POSITIONER_DAICTL_200        ;
33653 000073D0 8B12                   M           BF      POSITIONER_DAICTL_200
33654                              86 I1  
33655                              87 I1  ;       --------------- 指令OFF 終了---------------
33656 000073D2 200A                88 I1          XOR     R0,R0                           ;
33657 000073D4 D506                89 I1          MOV.L   #_POSINER_FLG,R5                ;
33658 000073D6 2501                90 I1          MOV.W   R0,@R5                          ;
33659 000073D8 D106                91 I1          MOV.L   #_POSINER_STS,R1                ;
33660 000073DA 2101                92 I1          MOV.W   R0,@R1                          ;
33661                              93 I1          M_BRA   POSITIONER_DAICTL_800
33662 000073DC A0A6                   M           BRA     POSITIONER_DAICTL_800
33663 000073DE 0009                   M           NOP
33664                              94 I1  
33665                              95 I1  ;       -------------- 運転--------------------
33666                                 I1  ***** BEGIN-POOL *****
33667 000073E0 0200                   I1  DATA FOR SOURCE-LINE 83
33668 000073E2 0000                   I1  ALIGNMENT CODE
33669 000073E4 00000000               I1  DATA FOR SOURCE-LINE 76
33670 000073E8 00000000               I1  DATA FOR SOURCE-LINE 78
33671 000073EC 00000000               I1  DATA FOR SOURCE-LINE 81
33672 000073F0 00000000               I1  DATA FOR SOURCE-LINE 89
33673 000073F4 00000000               I1  DATA FOR SOURCE-LINE 91
33674                                 I1  ***** END-POOL *****
33675 000073F8                     96 I1  POSITIONER_DAICTL_200
33676 000073F8 D506                97 I1          MOV.L   #_POSINER_FLG,R5                ;
33677 000073FA 6051                98 I1          MOV.W   @R5,R0                          ;
33678 000073FC C802                99 I1          TST     #BIT1,R0                        ;
33679                             100 I1          TST_BIT_ON POSITIONER_DAICTL_300        ;
33680 000073FE 8B0D                   M           BF      POSITIONER_DAICTL_300
33681                             101 I1  
33682                             102 I1  ;       ------- 初期演算--------
33683                             103 I1          FAR_JSR #_POSITIONER_DAI_OBJ1MAK,R0                             ;
33684 00007400 D005                   M           MOV.L   #_POSITIONER_DAI_OBJ1MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33685 00007402 400B                   M           JSR     @R0                     ;
33686 00007404 0009                   M           NOP                                     ;
33687                             104 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT1,WKREG=R1 ;
33688 00007406 D103                   M           MOV.L   #_POSINER_FLG,R1                ;
33689 00007408 6011                   M           MOV.W   @R1,R0          ;
33690 0000740A CB02                   M           OR      #BIT1,R0                ;
33691 0000740C 2101                   M           MOV.W   R0,@R1          ;
33692                             105 I1          M_BRA   POSITIONER_DAICTL_800
33693 0000740E A08D                   M           BRA     POSITIONER_DAICTL_800
33694 00007410 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   498
PROGRAM NAME =

33695                             106 I1  
33696                             107 I1  ;       ----------------------------------------
33697                                 I1  ***** BEGIN-POOL *****
33698 00007412 0000                   I1  ALIGNMENT CODE
33699 00007414 00000000               I1  DATA FOR SOURCE-LINE 97,104
33700 00007418 00000000               I1  DATA FOR SOURCE-LINE 103
33701                                 I1  ***** END-POOL *****
33702 0000741C                    108 I1  POSITIONER_DAICTL_300
33703 0000741C C804               109 I1          TST     #BIT2,R0                        ;
33704                             110 I1          TST_BIT_ON POSITIONER_DAICTL_400        ;
33705 0000741E 8B15                   M           BF      POSITIONER_DAICTL_400
33706                             111 I1  
33707                             112 I1          FAR_JSR #_POSITIONER_DAI_OBJ1CMP,R0     ;//目標位置+ｵｰﾊﾞ量
33708 00007420 D007                   M           MOV.L   #_POSITIONER_DAI_OBJ1CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33709 00007422 400B                   M           JSR     @R0                     ;
33710 00007424 0009                   M           NOP                                     ;
33711                             113 I1          PUSH_REG1 R0                            ;
33712 00007426 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33713                                 M                                           ;REG=>[SP]
33714                                 M                                           ;"-4" FF,FF,FF,FC
33715                             114 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
33716 00007428 D106                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33717 0000742A 410B                   M           JSR     @R1                     ;
33718 0000742C 0009                   M           NOP                                     ;
33719                             115 I1          POP_REG1 R0
33720                                 M                                   ; RE"+4" 00,00,00,04
33721 0000742E 60F6                   M           MOV.L   @R15+,R0        ;
33722 00007430 2008               116 I1          TST     R0,R0
33723                             117 I1          TST_BIT_ON POSITIONER_DAICTL_350
33724 00007432 8B03                   M           BF      POSITIONER_DAICTL_350
33725                             118 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT2,WKREG=R1 ;
33726 00007434 D104                   M           MOV.L   #_POSINER_FLG,R1                ;
33727 00007436 6011                   M           MOV.W   @R1,R0          ;
33728 00007438 CB04                   M           OR      #BIT2,R0                ;
33729 0000743A 2101                   M           MOV.W   R0,@R1          ;
33730 0000743C                    119 I1  POSITIONER_DAICTL_350
33731                             120 I1          M_BRA   POSITIONER_DAICTL_800
33732 0000743C A076                   M           BRA     POSITIONER_DAICTL_800
33733 0000743E 0009                   M           NOP
33734                             121 I1  
33735                             122 I1  
33736                             123 I1  ;       ----------------------------------------
33737                                 I1  ***** BEGIN-POOL *****
33738 00007440 00000000               I1  DATA FOR SOURCE-LINE 112
33739 00007444 00000000               I1  DATA FOR SOURCE-LINE 114
33740 00007448 00000000               I1  DATA FOR SOURCE-LINE 118
33741                                 I1  ***** END-POOL *****
33742 0000744C                    124 I1  POSITIONER_DAICTL_400
33743 0000744C C808               125 I1          TST     #BIT3,R0                        ;
33744                             126 I1          TST_BIT_ON POSITIONER_DAICTL_500        ;
33745 0000744E 8B2B                   M           BF      POSITIONER_DAICTL_500
33746                             127 I1          FAR_JSR #_POSITIONER_DAI_OBJ2CMP,R0     ;//目標位置+ｵｰﾊﾞ量-すべり
33747 00007450 D00D                   M           MOV.L   #_POSITIONER_DAI_OBJ2CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33748 00007452 400B                   M           JSR     @R0                     ;
33749 00007454 0009                   M           NOP                                     ;
33750                             128 I1          PUSH_REG1 R0                            ;
33751 00007456 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   499
PROGRAM NAME =

33752                                 M                                           ;REG=>[SP]
33753                                 M                                           ;"-4" FF,FF,FF,FC
33754                             129 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
33755 00007458 D10C                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33756 0000745A 410B                   M           JSR     @R1                     ;
33757 0000745C 0009                   M           NOP                                     ;
33758                             130 I1          POP_REG1 R0
33759                                 M                                   ; RE"+4" 00,00,00,04
33760 0000745E 60F6                   M           MOV.L   @R15+,R0        ;
33761 00007460 2008               131 I1          TST     R0,R0
33762                             132 I1          TST_BIT_ON POSITIONER_DAICTL_450
33763 00007462 8B0E                   M           BF      POSITIONER_DAICTL_450
33764                             133 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
33765 00007464 D10A                   M           MOV.L   #_POSINER_FLG,R1                ;
33766 00007466 6011                   M           MOV.W   @R1,R0          ;
33767 00007468 CB08                   M           OR      #BIT3,R0                ;
33768 0000746A 2101                   M           MOV.W   R0,@R1          ;
33769                             134 I1  
33770                             135 I1  
33771 0000746C D109               136 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
33772 0000746E 920A               137 I1          MOV.W   #D'1000,R2              ;
33773 00007470 2121               138 I1          MOV.W   R2,@R1                  ;
33774 00007472 D109               139 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1;//1000 1秒
33775 00007474 2121               140 I1          MOV.W   R2,@R1                  ;
33776                             141 I1  
33777                             142 I1  
33778 00007476 D109               143 I1          MOV.L   #_POSINER_PV_POS,R1     ;
33779 00007478 6212               144 I1          MOV.L   @R1,R2                  ;
33780 0000747A D109               145 I1          MOV.L   #_POSINER_OLDPV_POS,R1  ;
33781 0000747C 2122               146 I1          MOV.L   R2,@R1                  ;
33782 0000747E D109               147 I1          MOV.L   #_POSINER_MOSTPV_POS,R1 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
33783 00007480 2122               148 I1          MOV.L   R2,@R1                  ;
33784                             149 I1  
33785 00007482                    150 I1  POSITIONER_DAICTL_450
33786                             151 I1          M_BRA   POSITIONER_DAICTL_800
33787 00007482 A053                   M           BRA     POSITIONER_DAICTL_800
33788 00007484 0009                   M           NOP
33789                             152 I1  
33790                             153 I1  
33791                             154 I1  ;       -------------- 停止待ち------------------
33792                                 I1  ***** BEGIN-POOL *****
33793 00007486 03E8                   I1  DATA FOR SOURCE-LINE 137
33794 00007488 00000000               I1  DATA FOR SOURCE-LINE 127
33795 0000748C 00000000               I1  DATA FOR SOURCE-LINE 129
33796 00007490 00000000               I1  DATA FOR SOURCE-LINE 133
33797 00007494 00000000               I1  DATA FOR SOURCE-LINE 136
33798 00007498 00000000               I1  DATA FOR SOURCE-LINE 139
33799 0000749C 00000000               I1  DATA FOR SOURCE-LINE 143
33800 000074A0 00000000               I1  DATA FOR SOURCE-LINE 145
33801 000074A4 00000000               I1  DATA FOR SOURCE-LINE 147
33802                                 I1  ***** END-POOL *****
33803 000074A8                    155 I1  POSITIONER_DAICTL_500
33804 000074A8 C810               156 I1          TST     #BIT4,R0                        ;
33805                             157 I1          TST_BIT_ON POSITIONER_DAICTL_800        ;
33806 000074AA 8B3F                   M           BF      POSITIONER_DAICTL_800
33807                             158 I1  
33808                             159 I1          FAR_JSR #_POSITIONER_DAI_STPCHK,R1      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   500
PROGRAM NAME =

33809 000074AC D10A                   M           MOV.L   #_POSITIONER_DAI_STPCHK,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33810 000074AE 410B                   M           JSR     @R1                     ;
33811 000074B0 0009                   M           NOP                                     ;
33812 000074B2 2008               160 I1          TST     R0,R0                           ;
33813                             161 I1          TST_BIT_OF POSITIONER_DAICTL_590        ;"R0=1 END R0=-1 END(失敗)
33814 000074B4 8935                   M           BT      POSITIONER_DAICTL_590
33815                             162 I1  
33816 000074B6 8801               163 I1          CMP/EQ  #1,R0                           ;
33817 000074B8 8B14               164 I1          BF      POSITIONER_DAICTL_530           ;
33818                             165 I1  
33819                             166 I1  ;       正常終了
33820                             167 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
33821 000074BA D108                   M           MOV.L   #_POSINER_FLG,R1                ;
33822 000074BC 6011                   M           MOV.W   @R1,R0          ;
33823 000074BE CB10                   M           OR      #BIT4,R0                ;
33824 000074C0 2101                   M           MOV.W   R0,@R1          ;
33825                             168 I1  
33826                             169 I1  ;       位置決め完了ON
33827                             170 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
33828                             171 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
33829 000074C2 D107                   M           MOV.L   #_POSINER_STS,R1                ;
33830 000074C4 6011                   M           MOV.W   @R1,R0          ;
33831 000074C6 C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
33832 000074C8 2101                   M           MOV.W   R0,@R1          ;
33833                             172 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT0,WKREG=R1 ;
33834 000074CA D105                   M           MOV.L   #_POSINER_STS,R1                ;
33835 000074CC 6011                   M           MOV.W   @R1,R0          ;
33836 000074CE CB01                   M           OR      #BIT0,R0                ;
33837 000074D0 2101                   M           MOV.W   R0,@R1          ;
33838                             173 I1          M_BRA   POSITIONER_DAICTL_800
33839 000074D2 A02B                   M           BRA     POSITIONER_DAICTL_800
33840 000074D4 0009                   M           NOP
33841                             174 I1  
33842                             175 I1  
33843                                 I1  ***** BEGIN-POOL *****
33844 000074D6 0000                   I1  ALIGNMENT CODE
33845 000074D8 00000000               I1  DATA FOR SOURCE-LINE 159
33846 000074DC 00000000               I1  DATA FOR SOURCE-LINE 167
33847 000074E0 00000000               I1  DATA FOR SOURCE-LINE 171,172
33848                                 I1  ***** END-POOL *****
33849 000074E4                    176 I1  POSITIONER_DAICTL_530
33850                             177 I1  ;       異常終了
33851 000074E4 D10A               178 I1          MOV.L   #_POSINER_RETRY_CNT,R1
33852 000074E6 6211               179 I1          MOV.W   @R1,R2
33853 000074E8 7201               180 I1          ADD     #1,R2
33854 000074EA 2121               181 I1          MOV.W   R2,@R1
33855 000074EC E403               182 I1          MOV.B   #3,R4
33856 000074EE 3422               183 I1          CMP/HS  R2,R4                   ;
33857 000074F0 8914               184 I1          BT      POSITIONER_DAICTL_550   ;R2=<R4(3) ﾘﾄﾗｲ(通常+ﾘﾄﾗｲ3回=4回までやる)
33858                             185 I1  
33859                             186 I1  ;       異常終了
33860                             187 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
33861 000074F2 D108                   M           MOV.L   #_POSINER_FLG,R1                ;
33862 000074F4 6011                   M           MOV.W   @R1,R0          ;
33863 000074F6 CB10                   M           OR      #BIT4,R0                ;
33864 000074F8 2101                   M           MOV.W   R0,@R1          ;
33865                             188 I1  ;       異常完了ON
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   501
PROGRAM NAME =

33866                             189 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
33867                             190 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
33868 000074FA D107                   M           MOV.L   #_POSINER_STS,R1                ;
33869 000074FC 6011                   M           MOV.W   @R1,R0          ;
33870 000074FE C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
33871 00007500 2101                   M           MOV.W   R0,@R1          ;
33872                             191 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT2,WKREG=R1 ;
33873 00007502 D105                   M           MOV.L   #_POSINER_STS,R1                ;
33874 00007504 6011                   M           MOV.W   @R1,R0          ;
33875 00007506 CB04                   M           OR      #BIT2,R0                ;
33876 00007508 2101                   M           MOV.W   R0,@R1          ;
33877                             192 I1          M_BRA   POSITIONER_DAICTL_800
33878 0000750A A00F                   M           BRA     POSITIONER_DAICTL_800
33879 0000750C 0009                   M           NOP
33880                             193 I1  
33881                             194 I1  ;       ----------------ﾘﾄﾗｲ開始-----------
33882                                 I1  ***** BEGIN-POOL *****
33883 0000750E 0000                   I1  ALIGNMENT CODE
33884 00007510 00000000               I1  DATA FOR SOURCE-LINE 178
33885 00007514 00000000               I1  DATA FOR SOURCE-LINE 187
33886 00007518 00000000               I1  DATA FOR SOURCE-LINE 190,191
33887                                 I1  ***** END-POOL *****
33888 0000751C                    195 I1  POSITIONER_DAICTL_550
33889 0000751C E001               196 I1          MOV.B   #BIT0,R0                        ;
33890 0000751E D102               197 I1          MOV.L   #_POSINER_FLG,R1                ;
33891 00007520 2101               198 I1          MOV.W   R0,@R1                          ;初期化
33892                             199 I1  
33893 00007522                    200 I1  POSITIONER_DAICTL_590
33894                             201 I1          M_BRA   POSITIONER_DAICTL_800
33895 00007522 A003                   M           BRA     POSITIONER_DAICTL_800
33896 00007524 0009                   M           NOP
33897                             202 I1  
33898                             203 I1  
33899                             204 I1  
33900                             205 I1  ;       -----------------------------------
33901                                 I1  ***** BEGIN-POOL *****
33902 00007526 0000                   I1  ALIGNMENT CODE
33903 00007528 00000000               I1  DATA FOR SOURCE-LINE 197
33904                                 I1  ***** END-POOL *****
33905 0000752C                    206 I1  POSITIONER_DAICTL_800
33906                             207 I1  
33907                             208 I1  
33908                             209 I1  
33909                             210 I1  
33910                             211 I1  
33911 0000752C D107               212 I1          MOV.L   #_POSINER_STS,R1                        ;
33912 0000752E 6011               213 I1          MOV.W   @R1,R0                                  ;
33913 00007530 D107               214 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
33914 00007532 6211               215 I1          MOV.W   @R1,R2                                  ;
33915 00007534 9408               216 I1          MOV.W   #(BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4     ;
33916 00007536 2049               217 I1          AND     R4,R0
33917 00007538 6447               218 I1          NOT     R4,R4
33918 0000753A 2249               219 I1          AND     R4,R2
33919 0000753C 220B               220 I1          OR      R0,R2
33920 0000753E D104               221 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
33921 00007540 2121               222 I1          MOV.W   R2,@R1                                  ;
33922                             223 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   502
PROGRAM NAME =

33923                             224 I1  
33924                             225 I1  
33925                             226 I1  
33926                             227 I1  
33927 00007542                    228 I1  POSITIONER_DAICTL_EXT
33928                             229 I1  
33929                             230 I1          SUB_END
33930                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33931 00007542 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33932                             231 I1          M_RTS
33933 00007544 000B                   M           RTS                             ;RTSの後ろの
33934 00007546 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33935                             232 I1  
33936                             233 I1  
33937                             234 I1  ;_SVP_KANDO_A21                         .SRES   4       ;感度
33938                             235 I1  ;_SVP_UPDATA_A21                        .SRES   4       ;上限
33939                             236 I1  ;_SVP_DNDATA_A21                        .SRES   4       ;下限
33940                             237 I1  ;_SVP_GENITI_A21                        .SRES   4       ;現位置
33941                             238 I1  ;_SVP_MODORI_A21                        .SRES   2       ;戻り量
33942                             239 I1  ;_SVP_DNSTOP_A21                        .SRES   2       ;下降停止
33943                             240 I1  ;_SVP_UPSTOP_A21                        .SRES   2       ;上昇停止
33944                             241 I1  ;_SVP_SSEIDO_A21                        .SRES   2       ;制御精度
33945                             242 I1  
33946                             243 I1  
33947                             244 I1  ;_SVP_SLID_POS1         .SRES   4       ;ｽﾗｲﾄﾞ位置　生産
33948                             245 I1  ;_SVP_SLID_POS2         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取1
33949                             246 I1  ;_SVP_SLID_POS3         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取2
33950                             247 I1  ;
33951                             248 I1  ;       ***********************************************************
33952                             249 I1  ;       ***                                                     ***
33953                             250 I1  ;       ***     [上昇から開始]                                  ***
33954                             251 I1  ;       ***     設定+戻り量(現在位置＋戻り量)                   ***
33955                             252 I1  ;       ***     設定+戻り量-下降量(現在位置＋戻り量-下降量)     ***
33956                             253 I1  ;       ***                                                     ***
33957                             254 I1  ;       ***********************************************************
33958                             255 I1  
33959                                 I1  ***** BEGIN-POOL *****
33960 00007548 003F                   I1  DATA FOR SOURCE-LINE 216
33961 0000754A 0000                   I1  ALIGNMENT CODE
33962 0000754C 00000000               I1  DATA FOR SOURCE-LINE 212
33963 00007550 00000000               I1  DATA FOR SOURCE-LINE 214,221
33964                                 I1  ***** END-POOL *****
33965 00007554                    256 I1  _POSITIONER_DAI_OBJ1MAK:
33966                             257 I1          SUB_START
33967 00007554 4F22                   M           STS.L   PR,@-R15                ;[必要]
33968                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33969                             258 I1  
33970 00007556 D109               259 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
33971 00007558 6212               260 I1          MOV.L   @R1,R2                          ;
33972                             261 I1  
33973 0000755A D109               262 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
33974 0000755C 6011               263 I1          MOV.W   @R1,R0                          ;
33975 0000755E 2008               264 I1          TST     R0,R0                           ;
33976                             265 I1          TST_BIT_OF POSITIONER_DAIOBJ1MK_100     ;
33977 00007560 8901                   M           BT      POSITIONER_DAIOBJ1MK_100
33978                             266 I1  
33979 00007562 D108               267 I1          MOV.L   #_POSINER_PV_POS,R1             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   503
PROGRAM NAME =

33980 00007564 6212               268 I1          MOV.L   @R1,R2                          ;[R5目標位置]
33981                             269 I1  
33982 00007566                    270 I1  POSITIONER_DAIOBJ1MK_100:
33983                             271 I1  
33984                             272 I1  ;       in R2
33985                             273 I1  
33986 00007566 D108               274 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33987 00007568 6011               275 I1          MOV.W   @R1,R0                          ;
33988 0000756A C840               276 I1          TST     #BIT6,R0                        ;方向
33989                             277 I1          TST_BIT_ON POSITIONER_DAIOBJ1MK_200     ;
33990 0000756C 8B12                   M           BF      POSITIONER_DAIOBJ1MK_200
33991                             278 I1  
33992                             279 I1  ;       ---------- 上昇から開始-----------
33993 0000756E D107               280 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
33994 00007570 6312               281 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
33995                             282 I1  
33996 00007572 D107               283 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
33997 00007574 6412               284 I1          MOV.L   @R1,R4                          ;0.001mm
33998                             285 I1          M_BRA   POSITIONER_DAIOBJ1MK_300
33999 00007576 A013                   M           BRA     POSITIONER_DAIOBJ1MK_300
34000 00007578 0009                   M           NOP
34001                             286 I1  
34002                             287 I1  
34003                                 I1  ***** BEGIN-POOL *****
34004 0000757A 0000                   I1  ALIGNMENT CODE
34005 0000757C 00000000               I1  DATA FOR SOURCE-LINE 259
34006 00007580 00000000               I1  DATA FOR SOURCE-LINE 262
34007 00007584 00000000               I1  DATA FOR SOURCE-LINE 267
34008 00007588 00000000               I1  DATA FOR SOURCE-LINE 274
34009 0000758C 00000000               I1  DATA FOR SOURCE-LINE 280
34010 00007590 00000000               I1  DATA FOR SOURCE-LINE 283
34011                                 I1  ***** END-POOL *****
34012 00007594                    288 I1  POSITIONER_DAIOBJ1MK_200:
34013                             289 I1  ;       ------- 下降から開始 -------------
34014 00007594 D10B               290 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
34015 00007596 6312               291 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
34016 00007598 633B               292 I1          NEG     R3,R3
34017                             293 I1  
34018 0000759A D10B               294 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 0~99
34019 0000759C 6412               295 I1          MOV.L   @R1,R4                          ;0.001mm
34020 0000759E 644B               296 I1          NEG     R4,R4                           ;
34021                             297 I1  
34022 000075A0                    298 I1  POSITIONER_DAIOBJ1MK_300:
34023                             299 I1  
34024                             300 I1  
34025 000075A0 323C               301 I1          ADD     R3,R2                           ;
34026                             302 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
34027 000075A2 D00A                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34028 000075A4 400B                   M           JSR     @R0                     ;
34029 000075A6 0009                   M           NOP                                     ;
34030                             303 I1  
34031                             304 I1  
34032                             305 I1  ;       -------------停止位置は一定--------------
34033 000075A8 D109               306 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
34034 000075AA 2122               307 I1          MOV.L   R2,@R1                          ;
34035                             308 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   504
PROGRAM NAME =

34036                             309 I1  
34037 000075AC D109               310 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
34038 000075AE 6212               311 I1          MOV.L   @R1,R2                          ;
34039                             312 I1  
34040 000075B0 324C               313 I1          ADD     R4,R2                           ;目標+β
34041                             314 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
34042 000075B2 D006                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34043 000075B4 400B                   M           JSR     @R0                     ;
34044 000075B6 0009                   M           NOP                                     ;
34045 000075B8 D107               315 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+停止量
34046 000075BA 2122               316 I1          MOV.L   R2,@R1                          ;
34047                             317 I1  
34048                             318 I1          SUB_END
34049                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34050 000075BC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34051                             319 I1          M_RTS
34052 000075BE 000B                   M           RTS                             ;RTSの後ろの
34053 000075C0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34054                             320 I1  
34055                             321 I1  
34056                             322 I1  ;       INPU R2,DESTORY R1,R3,ANS R2
34057                                 I1  ***** BEGIN-POOL *****
34058 000075C2 0000                   I1  ALIGNMENT CODE
34059 000075C4 00000000               I1  DATA FOR SOURCE-LINE 290
34060 000075C8 00000000               I1  DATA FOR SOURCE-LINE 294
34061 000075CC 00000000               I1  DATA FOR SOURCE-LINE 302,314
34062 000075D0 00000000               I1  DATA FOR SOURCE-LINE 306
34063 000075D4 00000000               I1  DATA FOR SOURCE-LINE 310
34064 000075D8 00000000               I1  DATA FOR SOURCE-LINE 315
34065                                 I1  ***** END-POOL *****
34066 000075DC                    323 I1  _POSITIONER_UPDN_LIMIT
34067                             324 I1          SUB_START
34068 000075DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
34069                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34070                             325 I1  
34071 000075DE D106               326 I1          MOV.L   #_SET1_RNAPOS_MAXP,R1   ;19機械上限機械 ?0.001mm
34072 000075E0 6312               327 I1          MOV.L   @R1,R3                  ;UP
34073 000075E2 3323               328 I1          CMP/GE  R2,R3                   ;
34074 000075E4 8900               329 I1          BT      POSITIONER_UPDNLMT100   ;R2(SV)=<R3(MAX) OK
34075 000075E6 6233               330 I1          MOV     R3,R2                   ;
34076 000075E8                    331 I1  POSITIONER_UPDNLMT100                   ;
34077                             332 I1  
34078 000075E8 D104               333 I1          MOV.L   #_SET1_RNAPOS_MINP,R1   ;1A 機械下限機械
34079 000075EA 6312               334 I1          MOV.L   @R1,R3                  ;DN
34080 000075EC 3233               335 I1          CMP/GE  R3,R2                   ;
34081 000075EE 8900               336 I1          BT      POSITIONER_UPDNLMT200   ;R3(MIN)=<R2(MAX) OK
34082 000075F0 6233               337 I1          MOV     R3,R2                   ;
34083 000075F2                    338 I1  POSITIONER_UPDNLMT200                   ;
34084                             339 I1  
34085                             340 I1          SUB_END
34086                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34087 000075F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34088                             341 I1          M_RTS
34089 000075F4 000B                   M           RTS                             ;RTSの後ろの
34090 000075F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34091                             342 I1  
34092                             343 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   505
PROGRAM NAME =

34093                             344 I1  
34094                             345 I1  ;       *******************************************
34095                             346 I1  ;       ***                                     ***
34096                             347 I1  ;       ***     設定データを0.001mmにする       ***
34097                             348 I1  ;       ***                                     ***
34098                             349 I1  ;       *******************************************
34099                                 I1  ***** BEGIN-POOL *****
34100 000075F8 00000000               I1  DATA FOR SOURCE-LINE 326
34101 000075FC 00000000               I1  DATA FOR SOURCE-LINE 333
34102                                 I1  ***** END-POOL *****
34103 00007600                    350 I1  _POSITIONER_DAI_DATA
34104                             351 I1          SUB_START
34105 00007600 4F22                   M           STS.L   PR,@-R15                ;[必要]
34106                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34107                             352 I1  
34108 00007602 D118               353 I1          MOV.L   #_SVP_SL_TENPOS,R1              ;
34109 00007604 6011               354 I1          MOV.W   @R1,R0                          ;
34110 00007606 D118               355 I1          MOV.L   #_SET1_ATDAT_DOTPOS,R1          ;//小数点
34111 00007608 2101               356 I1          MOV.W   R0,@R1                          ;
34112                             357 I1  
34113 0000760A 9327               358 I1          MOV.W   #D'1,R3                         ;LATE
34114 0000760C 8803               359 I1          CMP/EQ  #3,R0
34115 0000760E 8906               360 I1          BT      POSITIONER_DAIDAT_100           ;小数点3桁
34116                             361 I1  
34117 00007610 9325               362 I1          MOV.W   #D'10,R3                        ;
34118 00007612 8802               363 I1          CMP/EQ  #2,R0
34119 00007614 8903               364 I1          BT      POSITIONER_DAIDAT_100           ;小数点2桁
34120                             365 I1  
34121 00007616 9323               366 I1          MOV.W   #D'100,R3                       ;
34122 00007618 8801               367 I1          CMP/EQ  #1,R0
34123 0000761A 8900               368 I1          BT      POSITIONER_DAIDAT_100           ;小数点1桁
34124                             369 I1  
34125 0000761C 9321               370 I1          MOV.W   #D'1000,R3                      ;小数点無し
34126                             371 I1  
34127 0000761E                    372 I1  POSITIONER_DAIDAT_100                           ;
34128                             373 I1  
34129                             374 I1  
34130 0000761E D113               375 I1          MOV.L   #_SVP_ATSLID_DNOBJ1,R1          ; スライド自動調節　下降停止 0~99
34131 00007620 6211               376 I1          MOV.W   @R1,R2                          ;
34132 00007622 332D               377 I1          DMULS.L R2,R3                           ;
34133 00007624 021A               378 I1          STS.L   MACL,R2                         ;
34134 00007626 D112               379 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
34135 00007628 2122               380 I1          MOV.L   R2,@R1                          ;0.001mm
34136                             381 I1  
34137 0000762A D112               382 I1          MOV.L   #_SVP_ATSLID_UPOBJ1,R1          ; スライド自動調節　上昇停止 "
34138 0000762C 6211               383 I1          MOV.W   @R1,R2                          ;
34139 0000762E 332D               384 I1          DMULS.L R2,R3                           ;
34140 00007630 021A               385 I1          STS.L   MACL,R2                         ;
34141 00007632 D111               386 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 "
34142 00007634 2122               387 I1          MOV.L   R2,@R1                          ;0.001mm
34143                             388 I1  
34144 00007636 D111               389 I1          MOV.L   #_SVP_ATSLID_BAKLNG,R1          ; スライド自動調節　戻り量   "
34145 00007638 6211               390 I1          MOV.W   @R1,R2                          ;
34146 0000763A 332D               391 I1          DMULS.L R2,R3                           ;
34147 0000763C 021A               392 I1          STS.L   MACL,R2                         ;
34148 0000763E D110               393 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
34149 00007640 2122               394 I1          MOV.L   R2,@R1                          ;0.001mm
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   506
PROGRAM NAME =

34150                             395 I1  
34151 00007642 D110               396 I1          MOV.L   #_SVP_ATSLID_COEF1,R1           ; スライド自動調節　制御精度 "
34152 00007644 6211               397 I1          MOV.W   @R1,R2                          ;
34153 00007646 332D               398 I1          DMULS.L R2,R3                           ;
34154 00007648 021A               399 I1          STS.L   MACL,R2                         ;
34155 0000764A D10F               400 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
34156 0000764C 2122               401 I1          MOV.L   R2,@R1                          ;0.001mm
34157                             402 I1  
34158                             403 I1  
34159 0000764E D10F               404 I1          MOV.L   #_SVP_ATSLID_OBJ1,R1            ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
34160 00007650 6212               405 I1          MOV.L   @R1,R2                          ;0.001mm
34161 00007652 D10F               406 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置0.001mm
34162 00007654 2122               407 I1          MOV.L   R2,@R1                          ;
34163                             408 I1  
34164                             409 I1  
34165                             410 I1          SUB_END
34166                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34167 00007656 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34168                             411 I1          M_RTS
34169 00007658 000B                   M           RTS                             ;RTSの後ろの
34170 0000765A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34171                             412 I1  
34172                             413 I1  ;       *******************************************
34173                             414 I1  ;       ***                                     ***
34174                             415 I1  ;       ***             戻り位置比較            ***
34175                             416 I1  ;       ***                                     ***
34176                             417 I1  ;       *******************************************
34177                                 I1  ***** BEGIN-POOL *****
34178 0000765C 0001                   I1  DATA FOR SOURCE-LINE 358
34179 0000765E 000A                   I1  DATA FOR SOURCE-LINE 362
34180 00007660 0064                   I1  DATA FOR SOURCE-LINE 366
34181 00007662 03E8                   I1  DATA FOR SOURCE-LINE 370
34182 00007664 00000000               I1  DATA FOR SOURCE-LINE 353
34183 00007668 00000000               I1  DATA FOR SOURCE-LINE 355
34184 0000766C 00000000               I1  DATA FOR SOURCE-LINE 375
34185 00007670 00000000               I1  DATA FOR SOURCE-LINE 379
34186 00007674 00000000               I1  DATA FOR SOURCE-LINE 382
34187 00007678 00000000               I1  DATA FOR SOURCE-LINE 386
34188 0000767C 00000000               I1  DATA FOR SOURCE-LINE 389
34189 00007680 00000000               I1  DATA FOR SOURCE-LINE 393
34190 00007684 00000000               I1  DATA FOR SOURCE-LINE 396
34191 00007688 00000000               I1  DATA FOR SOURCE-LINE 400
34192 0000768C 00000000               I1  DATA FOR SOURCE-LINE 404
34193 00007690 00000000               I1  DATA FOR SOURCE-LINE 406
34194                                 I1  ***** END-POOL *****
34195 00007694                    418 I1  _POSITIONER_DAI_OBJ1CMP:
34196                             419 I1          SUB_START
34197 00007694 4F22                   M           STS.L   PR,@-R15                ;[必要]
34198                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34199                             420 I1  
34200                             421 I1  
34201 00007696 D106               422 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
34202 00007698 6212               423 I1          MOV.L   @R1,R2                          ;
34203                             424 I1  
34204 0000769A D106               425 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
34205 0000769C 6312               426 I1          MOV.L   @R1,R3                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   507
PROGRAM NAME =

34206                             427 I1  
34207 0000769E D106               428 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
34208 000076A0 6011               429 I1          MOV.W   @R1,R0                          ;
34209 000076A2 C840               430 I1          TST     #BIT6,R0                        ;方向
34210                             431 I1          TST_BIT_ON POSITIONER_DAI_OBJ1CP_100    ;
34211 000076A4 8B0A                   M           BF      POSITIONER_DAI_OBJ1CP_100
34212                             432 I1  
34213                             433 I1  ;       上昇
34214 000076A6 3233               434 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
34215 000076A8 8912               435 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
34216                             436 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATUP     ;
34217 000076AA A00B                   M           BRA     POSITIONER_DAI_OBJ1CP_WATUP
34218 000076AC 0009                   M           NOP
34219                             437 I1  
34220                                 I1  ***** BEGIN-POOL *****
34221 000076AE 0000                   I1  ALIGNMENT CODE
34222 000076B0 00000000               I1  DATA FOR SOURCE-LINE 422
34223 000076B4 00000000               I1  DATA FOR SOURCE-LINE 425
34224 000076B8 00000000               I1  DATA FOR SOURCE-LINE 428
34225                                 I1  ***** END-POOL *****
34226 000076BC                    438 I1  POSITIONER_DAI_OBJ1CP_100:
34227                             439 I1  
34228                             440 I1  ;       下降
34229 000076BC 3323               441 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
34230 000076BE 8907               442 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
34231                             443 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATDN     ;
34232 000076C0 A003                   M           BRA     POSITIONER_DAI_OBJ1CP_WATDN
34233 000076C2 0009                   M           NOP
34234                             444 I1  
34235                             445 I1  
34236                             446 I1  
34237 000076C4                    447 I1  POSITIONER_DAI_OBJ1CP_WATUP:
34238 000076C4 E001               448 I1          MOV.B   #1,R0
34239                             449 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
34240 000076C6 A004                   M           BRA     POSITIONER_DAI_OBJ1CP_END
34241 000076C8 0009                   M           NOP
34242                             450 I1  
34243 000076CA                    451 I1  POSITIONER_DAI_OBJ1CP_WATDN:
34244 000076CA E0FF               452 I1          MOV.B   #-1,R0
34245                             453 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
34246 000076CC A001                   M           BRA     POSITIONER_DAI_OBJ1CP_END
34247 000076CE 0009                   M           NOP
34248                             454 I1  
34249 000076D0                    455 I1  POSITIONER_DAI_OBJ1CP_OVR:
34250 000076D0 200A               456 I1          XOR     R0,R0                           ;
34251 000076D2                    457 I1  POSITIONER_DAI_OBJ1CP_END:
34252                             458 I1  
34253                             459 I1          SUB_END
34254                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34255 000076D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34256                             460 I1          M_RTS
34257 000076D4 000B                   M           RTS                             ;RTSの後ろの
34258 000076D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34259                             461 I1  
34260                             462 I1  
34261                             463 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   508
PROGRAM NAME =

34262                             464 I1  ;       ***                                     ***
34263                             465 I1  ;       ***             指令OFF位置比較         ***
34264                             466 I1  ;       ***                                     ***
34265                             467 I1  ;       *******************************************
34266 000076D8                    468 I1  _POSITIONER_DAI_OBJ2CMP:
34267                             469 I1          SUB_START
34268 000076D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
34269                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34270                             470 I1  
34271                             471 I1  
34272 000076DA D106               472 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
34273 000076DC 6212               473 I1          MOV.L   @R1,R2                          ;
34274                             474 I1  
34275 000076DE D106               475 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+ｵｰﾊ量-下降量
34276 000076E0 6312               476 I1          MOV.L   @R1,R3                          ;
34277                             477 I1  
34278 000076E2 D106               478 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
34279 000076E4 6011               479 I1          MOV.W   @R1,R0                          ;
34280 000076E6 C840               480 I1          TST     #BIT6,R0                        ;方向
34281                             481 I1          TST_BIT_ON POSITIONER_DAI_OBJ2CP_100    ;
34282 000076E8 8B0A                   M           BF      POSITIONER_DAI_OBJ2CP_100
34283                             482 I1  
34284                             483 I1  ;       上昇から開始の下降中
34285 000076EA 3323               484 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
34286 000076EC 8912               485 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
34287                             486 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATDN     ;
34288 000076EE A00E                   M           BRA     POSITIONER_DAI_OBJ2CP_WATDN
34289 000076F0 0009                   M           NOP
34290                             487 I1  
34291                                 I1  ***** BEGIN-POOL *****
34292 000076F2 0000                   I1  ALIGNMENT CODE
34293 000076F4 00000000               I1  DATA FOR SOURCE-LINE 472
34294 000076F8 00000000               I1  DATA FOR SOURCE-LINE 475
34295 000076FC 00000000               I1  DATA FOR SOURCE-LINE 478
34296                                 I1  ***** END-POOL *****
34297 00007700                    488 I1  POSITIONER_DAI_OBJ2CP_100:
34298                             489 I1  
34299                             490 I1  ;       下降から開始の上昇中
34300 00007700 3233               491 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
34301 00007702 8907               492 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
34302                             493 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATUP     ;
34303 00007704 A000                   M           BRA     POSITIONER_DAI_OBJ2CP_WATUP
34304 00007706 0009                   M           NOP
34305                             494 I1  
34306                             495 I1  
34307                             496 I1  
34308 00007708                    497 I1  POSITIONER_DAI_OBJ2CP_WATUP:
34309 00007708 E001               498 I1          MOV.B   #1,R0
34310                             499 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
34311 0000770A A004                   M           BRA     POSITIONER_DAI_OBJ2CP_END
34312 0000770C 0009                   M           NOP
34313 0000770E                    500 I1  POSITIONER_DAI_OBJ2CP_WATDN:
34314 0000770E E0FF               501 I1          MOV.B   #-1,R0                          ;
34315                             502 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
34316 00007710 A001                   M           BRA     POSITIONER_DAI_OBJ2CP_END
34317 00007712 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   509
PROGRAM NAME =

34318                             503 I1  
34319 00007714                    504 I1  POSITIONER_DAI_OBJ2CP_STP:
34320 00007714 200A               505 I1          XOR     R0,R0
34321 00007716                    506 I1  POSITIONER_DAI_OBJ2CP_END:
34322                             507 I1  
34323                             508 I1          SUB_END
34324                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34325 00007716 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34326                             509 I1          M_RTS
34327 00007718 000B                   M           RTS                             ;RTSの後ろの
34328 0000771A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34329                             510 I1  
34330                             511 I1  
34331                             512 I1  
34332 0000771C                    513 I1  _POSITIONER_DAI_OUT:
34333                             514 I1          SUB_START
34334 0000771C 4F22                   M           STS.L   PR,@-R15                ;[必要]
34335                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34336                             515 I1  
34337 0000771E 222A               516 I1          XOR     R2,R2           ;停止
34338                             517 I1  
34339 00007720 2008               518 I1          TST     R0,R0
34340                             519 I1          TST_BIT_OF POSITIONER_DAIOUT_100
34341 00007722 8903                   M           BT      POSITIONER_DAIOUT_100
34342                             520 I1  
34343 00007724 E208               521 I1          MOV.B   #BIT3,R2
34344 00007726 8801               522 I1          CMP/EQ  #1,R0
34345 00007728 8900               523 I1          BT      POSITIONER_DAIOUT_100
34346                             524 I1  
34347 0000772A E210               525 I1          MOV.B   #BIT4,R2
34348                             526 I1  
34349 0000772C                    527 I1  POSITIONER_DAIOUT_100:
34350 0000772C D103               528 I1          MOV.L   #_POSINER_STS,R1
34351 0000772E 6011               529 I1          MOV.W   @R1,R0
34352 00007730 C9E7               530 I1          AND     #LOW ~(BIT4+BIT3),R0
34353 00007732 202B               531 I1          OR      R2,R0
34354 00007734 2101               532 I1          MOV.W   R0,@R1                  ;
34355                             533 I1  
34356                             534 I1          SUB_END
34357                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34358 00007736 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34359                             535 I1          M_RTS
34360 00007738 000B                   M           RTS                             ;RTSの後ろの
34361 0000773A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34362                             536 I1  
34363                             537 I1  ;       *******************************************
34364                             538 I1  ;       ***                                     ***
34365                             539 I1  ;       ***             停止待ち                ***
34366                             540 I1  ;       ***                                     ***
34367                             541 I1  ;       *******************************************
34368                             542 I1  ;       基本は１秒間動作しなくなって、インポジ内にいるか
34369                             543 I1  ;       R0=0(動作中) R0=1(停止　ｲﾝﾎﾟｼﾞOK) R0=-1(停止,ｲﾝﾎﾟｼﾞ異常)
34370                             544 I1  ;       ・動作方向の位置が１秒間更新されなかったとき
34371                             545 I1  ;               MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
34372                             546 I1  ;       ・0.01mmの移動が1秒間無い
34373                                 I1  ***** BEGIN-POOL *****
34374 0000773C 00000000               I1  DATA FOR SOURCE-LINE 528
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   510
PROGRAM NAME =

34375                                 I1  ***** END-POOL *****
34376 00007740                    547 I1  _POSITIONER_DAI_STPCHK:
34377                             548 I1          SUB_START
34378 00007740 4F22                   M           STS.L   PR,@-R15                ;[必要]
34379                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34380                             549 I1  
34381 00007742 D106               550 I1          MOV.L   #_POSINER_PV_POS,R1     ;
34382 00007744 6212               551 I1          MOV.L   @R1,R2                  ;
34383                             552 I1  
34384 00007746 D506               553 I1          MOV.L   #_POSINER_MOSTPV_POS,R5 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
34385 00007748 6452               554 I1          MOV.L   @R5,R4                          ;
34386                             555 I1  
34387 0000774A D106               556 I1          MOV.L   #_POSINER_STS,R1                ;
34388 0000774C 6011               557 I1          MOV.W   @R1,R0                          ;
34389 0000774E C840               558 I1          TST     #BIT6,R0                        ;方向 0:下降(減少)で終了
34390                             559 I1          TST_BIT_ON POSITIONER_DAI_STPCK100      ;
34391 00007750 8B0A                   M           BF      POSITIONER_DAI_STPCK100
34392                             560 I1  
34393 00007752 3243               561 I1          CMP/GE  R4,R2                           ;最下位置(R4)=<現在位置(R2)
34394 00007754 8910               562 I1          BT      POSITIONER_DAI_STPCK200         ;OK
34395                             563 I1          M_BRA   POSITIONER_DAI_STPCK150         ;移動した
34396 00007756 A009                   M           BRA     POSITIONER_DAI_STPCK150
34397 00007758 0009                   M           NOP
34398                             564 I1  
34399                             565 I1  
34400                                 I1  ***** BEGIN-POOL *****
34401 0000775A 0000                   I1  ALIGNMENT CODE
34402 0000775C 00000000               I1  DATA FOR SOURCE-LINE 550
34403 00007760 00000000               I1  DATA FOR SOURCE-LINE 553
34404 00007764 00000000               I1  DATA FOR SOURCE-LINE 556
34405                                 I1  ***** END-POOL *****
34406 00007768                    566 I1  POSITIONER_DAI_STPCK100:
34407 00007768 3423               567 I1          CMP/GE  R2,R4                           ;現在位置(R2)=<最上位置(R4)
34408 0000776A 8905               568 I1          BT      POSITIONER_DAI_STPCK200         ;OK
34409 0000776C                    569 I1  POSITIONER_DAI_STPCK150:                        ;
34410                             570 I1  
34411 0000776C 2522               571 I1          MOV.L   R2,@R5                          ;最下位置(最上位置)更新:動いた
34412                             572 I1  
34413 0000776E 900F               573 I1          MOV.W   #D'1000,R0
34414 00007770 D108               574 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1       ;
34415 00007772 2101               575 I1          MOV.W   R0,@R1
34416 00007774 D108               576 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
34417 00007776 2101               577 I1          MOV.W   R0,@R1
34418                             578 I1  
34419                             579 I1  
34420 00007778                    580 I1  POSITIONER_DAI_STPCK200:
34421 00007778 D406               581 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R4
34422 0000777A 6041               582 I1          MOV.W   @R4,R0
34423 0000777C 2008               583 I1          TST     R0,R0
34424                             584 I1          TST_BIT_OF POSITIONER_DAI_STPCK250              ;
34425 0000777E 890F                   M           BT      POSITIONER_DAI_STPCK250
34426 00007780 70FF               585 I1          ADD     #-1,R0
34427 00007782 2401               586 I1          MOV.W   R0,@R4                                  ;
34428 00007784 2008               587 I1          TST     R0,R0                                   ;
34429                             588 I1          TST_BIT_ON POSITIONER_DAI_STPCK230
34430 00007786 8B01                   M           BF      POSITIONER_DAI_STPCK230
34431 00007788 D104               589 I1          MOV.L   #_POSINER_OLDPV_POS,R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   511
PROGRAM NAME =

34432 0000778A 2122               590 I1          MOV.L   R2,@R1                                  ;R2(NOW),R3(OLD)
34433 0000778C                    591 I1  POSITIONER_DAI_STPCK230:
34434                             592 I1          M_BRA   POSITIONER_DAI_STPCKWAT                 ;
34435 0000778C A03A                   M           BRA     POSITIONER_DAI_STPCKWAT
34436 0000778E 0009                   M           NOP
34437                             593 I1  
34438                             594 I1  
34439                                 I1  ***** BEGIN-POOL *****
34440 00007790 03E8                   I1  DATA FOR SOURCE-LINE 573
34441 00007792 0000                   I1  ALIGNMENT CODE
34442 00007794 00000000               I1  DATA FOR SOURCE-LINE 574,581
34443 00007798 00000000               I1  DATA FOR SOURCE-LINE 576
34444 0000779C 00000000               I1  DATA FOR SOURCE-LINE 589
34445                                 I1  ***** END-POOL *****
34446 000077A0                    595 I1  POSITIONER_DAI_STPCK250:
34447                             596 I1  ;       ---FIRSTﾀｲﾏOK---
34448 000077A0 D513               597 I1          MOV.L   #_POSINER_OLDPV_POS,R5
34449 000077A2 6352               598 I1          MOV.L   @R5,R3                  ;R2(NOW),R3(OLD)
34450 000077A4 3328               599 I1          SUB     R2,R3                   ;
34451 000077A6 4311               600 I1          CMP/PZ  R3                      ;
34452 000077A8 8900               601 I1          BT      POSITIONER_DAI_STPCK280 ;
34453 000077AA 633B               602 I1          NEG     R3,R3                   ;
34454 000077AC                    603 I1  POSITIONER_DAI_STPCK280:                ;
34455 000077AC 901D               604 I1          MOV.W   #D'10,R0
34456 000077AE 3036               605 I1          CMP/HI  R3,R0                   ;R3<R0(10 0.01mm)
34457 000077B0 8903               606 I1          BT      POSITIONER_DAI_STPCK300 ;
34458                             607 I1  
34459                             608 I1  ;       ------------- 0.01mm動いた------------
34460 000077B2 2522               609 I1          MOV.L   R2,@R5                          ;前回位置更新
34461 000077B4 901A               610 I1          MOV.W   #D'1000,R0                      ;
34462 000077B6 D10F               611 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
34463 000077B8 2101               612 I1          MOV.W   R0,@R1                          ;
34464                             613 I1  
34465 000077BA                    614 I1  POSITIONER_DAI_STPCK300:                        ;
34466                             615 I1  
34467                             616 I1  
34468                             617 I1          DN_TIME LG=W,MEM_ADR=_POSINER_STOPCHK_TIM2,WKREG1=R1,WKREG2=R4  ;10msec 定周期
34469 000077BA D10E                   M           MOV.L   #_POSINER_STOPCHK_TIM2,R1               ;SORCE ADRESS SET
34470 000077BC 6411                   M           MOV.W   @R1,R4          ;
34471 000077BE 2448                   M           TST     R4,R4                   ;
34472 000077C0 8901                   M           BT      JMP_0100026                     ;ZERO THEN JUMP
34473 000077C2 4410                   M           DT      R4                              ;
34474 000077C4 2141                   M           MOV.W   R4,@R1          ;STORE
34475 000077C6                        M   JMP_0100026:
34476                             618 I1  
34477 000077C6 D40B               619 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R4
34478 000077C8 6041               620 I1          MOV.W   @R4,R0
34479 000077CA 2008               621 I1          TST     R0,R0
34480                             622 I1          TST_BIT_ON POSITIONER_DAI_STPCKWAT              ;
34481 000077CC 8B1A                   M           BF      POSITIONER_DAI_STPCKWAT
34482                             623 I1  
34483                             624 I1  
34484                             625 I1  ;       停止終了,ｲﾝﾎﾟｼﾞｼｮﾝ
34485 000077CE D10A               626 I1          MOV.L   #_POSINER_PV_POS,R1             ;
34486 000077D0 6212               627 I1          MOV.L   @R1,R2                          ;
34487 000077D2 D10A               628 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
34488 000077D4 6312               629 I1          MOV.L   @R1,R3                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   512
PROGRAM NAME =

34489 000077D6 3328               630 I1          SUB     R2,R3                           ;
34490 000077D8 4311               631 I1          CMP/PZ  R3
34491 000077DA 8900               632 I1          BT      POSITIONER_DAI_STPCK320         ;
34492 000077DC 633B               633 I1          NEG     R3,R3
34493 000077DE                    634 I1  POSITIONER_DAI_STPCK320:                        ;
34494                             635 I1  
34495 000077DE D108               636 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
34496 000077E0 6012               637 I1          MOV.L   @R1,R0                          ;0.001mm
34497 000077E2 3033               638 I1          CMP/GE  R3,R0                           ;
34498 000077E4 8914               639 I1          BT      POSITIONER_DAI_STPCKINP         ;ｲﾝﾎﾟｼﾞｼｮﾝ
34499                             640 I1          M_BRA   POSITIONER_DAI_STPCKERR         ;
34500 000077E6 A010                   M           BRA     POSITIONER_DAI_STPCKERR
34501 000077E8 0009                   M           NOP
34502                             641 I1  
34503                             642 I1  
34504                                 I1  ***** BEGIN-POOL *****
34505 000077EA 000A                   I1  DATA FOR SOURCE-LINE 604
34506 000077EC 03E8                   I1  DATA FOR SOURCE-LINE 610
34507 000077EE 0000                   I1  ALIGNMENT CODE
34508 000077F0 00000000               I1  DATA FOR SOURCE-LINE 597
34509 000077F4 00000000               I1  DATA FOR SOURCE-LINE 611,617,619
34510 000077F8 00000000               I1  DATA FOR SOURCE-LINE 626
34511 000077FC 00000000               I1  DATA FOR SOURCE-LINE 628
34512 00007800 00000000               I1  DATA FOR SOURCE-LINE 636
34513                                 I1  ***** END-POOL *****
34514 00007804                    643 I1  POSITIONER_DAI_STPCKWAT:
34515 00007804 200A               644 I1          XOR     R0,R0
34516                             645 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
34517 00007806 A004                   M           BRA     POSITIONER_DAI_STPCKEND
34518 00007808 0009                   M           NOP
34519                             646 I1  
34520 0000780A                    647 I1  POSITIONER_DAI_STPCKERR:                        ;
34521 0000780A E0FF               648 I1          MOV.B   #-1,R0                          ;
34522                             649 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
34523 0000780C A001                   M           BRA     POSITIONER_DAI_STPCKEND
34524 0000780E 0009                   M           NOP
34525                             650 I1  
34526 00007810                    651 I1  POSITIONER_DAI_STPCKINP:                        ;
34527 00007810 E001               652 I1          MOV.B   #1,R0                           ;
34528                             653 I1  
34529 00007812                    654 I1  POSITIONER_DAI_STPCKEND:
34530                             655 I1  
34531                             656 I1          SUB_END
34532                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34533 00007812 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34534                             657 I1          M_RTS
34535 00007814 000B                   M           RTS                             ;RTSの後ろの
34536 00007816 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34537                             658 I1  
34538                             659 I1  ;       ***************************************
34539                             660 I1  ;       ***                                                                     ***
34540                             661 I1  ;       ***             2021-06-24(2019-11-11)          ***
34541                             662 I1  ;       ***                                                                     ***
34542                             663 I1  ;       ***************************************
34543                             664 I1  
34544                             665 I1          .MACRO  AREA_CHK_BITSET  UP_REG,DN_REG,PV_REG,ANS_REG,BITn,WKREG
34545                             666 I1          CMP/GE  \DN_REG,\PV_REG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   513
PROGRAM NAME =

                                                  ;PV >= MIN
34546                             667 I1          BF      JMPED\@                                                         ;"T=0"
34547                             668 I1          CMP/GE  \PV_REG,\UP_REG                                 ;
34548                             669 I1          BF      JMPED\@                                                         ;
34549                             670 I1          MOV.W   #\BITn,\WKREG                                   ;
34550                             671 I1          OR              \WKREG,\ANS_REG                                 ;
34551                             672 I1  
34552                             673 I1  JMPED\@:                                                                        ;
34553                             674 I1          .ENDM
34554                             675 I1  
34555                             676 I1          .IMPORT         _SVP_SLID_POS1                  ;ｽﾗｲﾄﾞ位置　生産
34556                             677 I1          .IMPORT         _SVP_SLID_POS2                  ;ｽﾗｲﾄﾞ位置　段取1
34557                             678 I1          .IMPORT         _SVP_SLID_POS3                  ;ｽﾗｲﾄﾞ位置　段取2
34558                             679 I1  
34559 00007818                    680 I1  _POSITINER_POS_CMP
34560                             681 I1          SUB_START
34561 00007818 4F22                   M           STS.L   PR,@-R15                ;[必要]
34562                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34563                             682 I1  
34564 0000781A D128               683 I1          MOV.L   #_SVP_SL_TENPOS,R1              ;
34565 0000781C 6011               684 I1          MOV.W   @R1,R0                                  ;
34566 0000781E 9343               685 I1          MOV.W   #D'1,R3                                 ;LATE
34567 00007820 8803               686 I1          CMP/EQ  #3,R0
34568 00007822 8906               687 I1          BT      POSITINER_POSCMP_100            ;小数点3桁
34569 00007824 9341               688 I1          MOV.W   #D'10,R3                                ;
34570 00007826 8802               689 I1          CMP/EQ  #2,R0                                   ;
34571 00007828 8903               690 I1          BT      POSITINER_POSCMP_100            ;小数点2桁
34572 0000782A 933F               691 I1          MOV.W   #D'100,R3                               ;
34573 0000782C 8801               692 I1          CMP/EQ  #1,R0                                   ;
34574 0000782E 8900               693 I1          BT      POSITINER_POSCMP_100            ;小数点1桁
34575 00007830 933D               694 I1          MOV.W   #D'1000,R3                              ;小数点無し
34576 00007832                    695 I1  POSITINER_POSCMP_100
34577                             696 I1  
34578                             697 I1  
34579 00007832 D123               698 I1          MOV.L   #_SVP_ATSLID_COEF1,R1           ; スライド自動調節　制御精度 "
34580 00007834 6211               699 I1          MOV.W   @R1,R2                                          ;
34581 00007836 332D               700 I1          DMULS.L R2,R3                                           ;
34582 00007838 021A               701 I1          STS.L   MACL,R2                                         ;
34583 0000783A D122               702 I1          MOV.L   #_SET1_ATSLID_COEF2,R1          ;
34584 0000783C 2122               703 I1          MOV.L   R2,@R1                                          ;0.001mm
34585                             704 I1  
34586 0000783E 6623               705 I1          MOV             R2,R6                                           ;R6:精度(幅)
34587 00007840 277A               706 I1          XOR             R7,R7                                           ;ANS
34588                             707 I1  
34589                             708 I1  ;-----------TEST------------
34590 00007842 9235               709 I1          MOV.W   #D'30000,R2                                     ;30.000
34591                             710 I1  ;;;2021-07-02   MOV.L   #_POSINER_PV_POS,R1                     ;//目標位置
34592                             711 I1  ;;;2021-07-02   MOV.L   @R1,R2                                          ;
34593 00007844 D120               712 I1          MOV.L   #_PVX_DAI_POS1,R1                       ;ﾀﾞｲﾊｲﾄ表示値・制御値
34594 00007846 6212               713 I1          MOV.L   @R1,R2                                          ;SAVE R2 -->NEXT CALC USED
34595                             714 I1  
34596 00007848 D120               715 I1          mov.l   #_PVP_MONALM_C01,r1                     ;A/B/Cは連続した空間である事
34597 0000784A 2122               716 I1          mov.l   r2,@r1                                          ;
34598                             717 I1  
34599                             718 I1  
34600                             719 I1  ;       -------------------------------
34601 0000784C D120               720 I1          MOV.L   #_SVP_SLID_POS1,R1                      ;ｽﾗｲﾄﾞ位置　生産 0.001mm
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   514
PROGRAM NAME =

34602 0000784E 6312               721 I1          MOV.L   @R1,R3                                          ;
34603 00007850 6063               722 I1          MOV             R6,R0
34604 00007852 303C               723 I1          ADD             R3,R0                                           ;R0 +
34605 00007854 3368               724 I1          SUB             R6,R3                                           ;R3 -
34606                             725 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT13,WKREG=R4
34607 00007856 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34608 00007858 8B03                   M           BF      JMPED00027                                                              ;"
                                          T=0"
34609 0000785A 3023                   M           CMP/GE  R2,R0                                   ;
34610 0000785C 8B01                   M           BF      JMPED00027                                                              ;
34611 0000785E 9428                   M           MOV.W   #BIT13,R4                                       ;
34612 00007860 274B                   M           OR              R4,R7                                   ;
34613                                 M   
34614 00007862                        M   JMPED00027:                                                                     ;
34615                             726 I1  
34616                             727 I1  ;       ----------DEBUG --------------
34617                             728 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34618                             729 I1  ;;      MOV.W   R0,@R1                                          ;+data ok
34619                             730 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34620                             731 I1  ;;      MOV.W   R3,@R1                                          ;-data ok
34621                             732 I1  
34622 00007862 D11C               733 I1          MOV.L   #_SVP_SLID_POS2,R1              ;.SRES  4       ;ｽﾗｲﾄﾞ位置　段取1
34623 00007864 6312               734 I1          MOV.L   @R1,R3                                  ;
34624 00007866 6063               735 I1          MOV             R6,R0
34625 00007868 303C               736 I1          ADD             R3,R0                                           ;R0 +
34626 0000786A 3368               737 I1          SUB             R6,R3                                           ;R3 -
34627                             738 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT14,WKREG=R4
34628 0000786C 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34629 0000786E 8B03                   M           BF      JMPED00028                                                              ;"
                                          T=0"
34630 00007870 3023                   M           CMP/GE  R2,R0                                   ;
34631 00007872 8B01                   M           BF      JMPED00028                                                              ;
34632 00007874 941E                   M           MOV.W   #BIT14,R4                                       ;
34633 00007876 274B                   M           OR              R4,R7                                   ;
34634                                 M   
34635 00007878                        M   JMPED00028:                                                                     ;
34636                             739 I1  
34637                             740 I1  ;       ----------DEBUG --------------
34638                             741 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34639                             742 I1  ;;      MOV.W   R0,@R1                                          ;+data ok
34640                             743 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34641                             744 I1  ;;      MOV.W   R3,@R1                                          ;-data ok
34642                             745 I1  
34643 00007878 D117               746 I1          MOV.L   #_SVP_SLID_POS3,R1              ;.SRES  4       ;ｽﾗｲﾄﾞ位置　段取2
34644 0000787A 6312               747 I1          MOV.L   @R1,R3                                  ;
34645 0000787C 6063               748 I1          MOV             R6,R0
34646 0000787E 303C               749 I1          ADD             R3,R0                                           ;R0 +
34647 00007880 3368               750 I1          SUB             R6,R3                                           ;R3 -
34648                             751 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT15,WKREG=R4
34649 00007882 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34650 00007884 8B03                   M           BF      JMPED00029                                                              ;"
                                          T=0"
34651 00007886 3023                   M           CMP/GE  R2,R0                                   ;
34652 00007888 8B01                   M           BF      JMPED00029                                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   515
PROGRAM NAME =

34653 0000788A 9414                   M           MOV.W   #BIT15,R4                                       ;
34654 0000788C 274B                   M           OR              R4,R7                                   ;
34655                                 M   
34656 0000788E                        M   JMPED00029:                                                                     ;
34657                             752 I1  
34658                             753 I1  ;;;2021-06-24   MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34659                             754 I1  ;;;2021-06-24   MOV.W   R0,@R1                                          ;+data ok
34660                             755 I1  ;;;2021-06-24   MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34661                             756 I1  ;;;2021-06-24   MOV.W   R3,@R1                                          ;-data ok
34662                             757 I1  
34663                             758 I1  
34664 0000788E 6073               759 I1          MOV             R7,R0                                                   ;
34665 00007890 D112               760 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34666 00007892 6211               761 I1          MOV.W   @R1,R2                                                  ;
34667 00007894 9410               762 I1          MOV.W   #(BIT15|BIT14|BIT13),R4         ;
34668 00007896 2049               763 I1          AND             R4,R0
34669 00007898 6447               764 I1          NOT             R4,R4
34670 0000789A 2249               765 I1          AND             R4,R2
34671 0000789C 220B               766 I1          OR              R0,R2
34672 0000789E D10F               767 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34673 000078A0 2121               768 I1          MOV.W   R2,@R1                                          ;ok
34674                             769 I1  
34675                             770 I1  
34676                             771 I1  ;--------------------------------------
34677                             772 I1  ;;      MOV.L   #_SET1_ATSLID_COEF1,R1          ;
34678                             773 I1  ;;      MOV.L   @R1,R2                                          ;
34679                             774 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34680                             775 I1  ;;      MOV.W   R2,@R1                                          ;
34681                             776 I1  
34682                             777 I1  ;;      MOV.L   #_SET1_ATSLID_COEF2,R1          ;
34683                             778 I1  ;;      MOV.L   @R1,R2                                          ;
34684                             779 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34685                             780 I1  ;;      MOV.W   R2,@R1                                          ;
34686                             781 I1  
34687                             782 I1          SUB_END
34688                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34689 000078A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34690                             783 I1          M_RTS
34691 000078A4 000B                   M           RTS                             ;RTSの後ろの
34692 000078A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34693                             784 I1  
34694                             785 I1  
34695                           11190     
34696                           11191     
34697                           11192     
34698                           11193     
34699                           11194     
34700                           11195     
34701                           11196     
34702                           11197     
34703                           11198     
34704                           11199     
34705                           11200     
34706                           11201     
34707                           11202     
34708                           11203     
34709                           11204     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   516
PROGRAM NAME =

34710                           11205     
34711                           11206     
34712                           11207     
34713                           11208     
34714                           11209     
34715                           11210     
34716                           11211     
34717                           11212     
34718                           11213     
34719                           11214     
34720                           11215     
34721                           11216     
34722                           11217     ;       ***************************************************
34723                           11218     ;       ***                                             ***
34724                           11219     ;       ***                                             ***
34725                           11220     ;       ***                                             ***
34726                           11221     ;       ***                                             ***
34727                           11222     ;       ***             CPUBの高速化                    ***
34728                           11223     ;       ***             2013-03-15                      ***
34729                           11224     ;       ***                                             ***
34730                           11225     ;       ***                                             ***
34731                           11226     ;       ***                                             ***
34732                           11227     ;       ***                                             ***
34733                           11228     ;       ***                                             ***
34734                           11229     ;       ***************************************************
34735                                     ***** BEGIN-POOL *****
34736 000078A8 0001                       DATA FOR SOURCE-LINE 685
34737 000078AA 000A                       DATA FOR SOURCE-LINE 688
34738 000078AC 0064                       DATA FOR SOURCE-LINE 691
34739 000078AE 03E8                       DATA FOR SOURCE-LINE 694
34740 000078B0 7530                       DATA FOR SOURCE-LINE 709
34741 000078B2 2000                       DATA FOR SOURCE-LINE 725
34742 000078B4 4000                       DATA FOR SOURCE-LINE 738
34743 000078B6 8000                       DATA FOR SOURCE-LINE 751
34744 000078B8 E000                       DATA FOR SOURCE-LINE 762
34745 000078BA 0000                       ALIGNMENT CODE
34746 000078BC 00000000                   DATA FOR SOURCE-LINE 683
34747 000078C0 00000000                   DATA FOR SOURCE-LINE 698
34748 000078C4 00000000                   DATA FOR SOURCE-LINE 702
34749 000078C8 00000000                   DATA FOR SOURCE-LINE 712
34750 000078CC 00000000                   DATA FOR SOURCE-LINE 715
34751 000078D0 00000000                   DATA FOR SOURCE-LINE 720
34752 000078D4 00000000                   DATA FOR SOURCE-LINE 733
34753 000078D8 00000000                   DATA FOR SOURCE-LINE 746
34754 000078DC 00000000                   DATA FOR SOURCE-LINE 760,767
34755                                     ***** END-POOL *****
34756 000078E0                  11230             .ALIGN  4                                       ;
34757                           11231             .AIF    2 EQ 3          ;
34758                           11232             .SECTION        PHiROM,CODE                     ;
34759                           11233             .AENDI                                          ;
34760                           11234     
34761                           11235     ;
34762                           11236     ;
34763                           11237     ;
34764                           11238     ;
34765                           11239     ;
34766 000078E0                  11240             .ALIGN  4                                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   517
PROGRAM NAME =

34767                           11241     ;       *******************************************
34768                           11242     ;       ***                                     ***
34769                           11243     ;       ***     2006-09-19                      ***
34770                           11244     ;       ***                                     ***
34771                           11245     ;       ***     ﾊﾟﾙｽ管理                        ***
34772                           11246     ;       ***     (位置決め部分での処理)          ***
34773                           11247     ;       ***                                     ***
34774                           11248     ;       *******************************************
34775                           11249     ;       Input :現在位置(出力ﾊﾟﾙｽ側)    [8byte]
34776                           11250     ;       Input :最終停止位置(出力ﾊﾟﾙｽ上)[8byte]
34777                           11251     ;       Input :設定速度(0.01%単位)     [4byte]
34778                           11252     ;       Input :制御周期 TIME-LATE:1/1000
34779                           11253     ;       Input :加速度(0.001%/s/s)[4byte]
34780                           11254     ;       Input :
34781                           11255     ;       Input :処理状態：起動/減速停止/処理継続
34782                           11256     ;       Output:加速度書換え
34783                           11257     ;
34784                           11258     ;       *******************************************
34785                           11259     ;       ***                                     ***
34786                           11260     ;       ***                                     ***
34787                           11261     ;       ***             主制御                  ***
34788                           11262     ;       ***     (ここは標準・ふりこ共通)        ***
34789                           11263     ;       ***                                     ***
34790                           11264     ;       ***                                     ***
34791                           11265     ;       *******************************************
34792                           11266     ;_POSCTL_STEP_FLG BIT0 ACTIVE
34793                           11267     ;                 BIT1 減速ｺﾏﾝﾄﾞ
34794                           11268     ;                 BIT2 最終減速ﾗｯﾁ：解除は目標位置変更
34795                           11269     ;                 BIT6:END
34796 000078E0                  11270             .ALIGN  4                               ;
34797 000078E0                  11271     _PLS_LSI_CTRL:
34798                           11272             SUB_START
34799 000078E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
34800                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34801                           11273     
34802                           11274     
34803                           11275     ;       ---------------最終目標位置-----------
34804 000078E2 D410             11276             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;LINKX_SV_OBJ_ABSPLSの場合があるか
                                          も
34805 000078E4 6146             11277             MOV.L   @R4+,R1                                 ;
34806 000078E6 6242             11278             MOV.L   @R4,R2                                  ;
34807 000078E8 D40F             11279             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
34808 000078EA 5540             11280             MOV.L   @(0,R4),R5                              ;
34809 000078EC 5641             11281             MOV.L   @(4,R4),R6                              ;
34810 000078EE 1410             11282             MOV.L   R1,@(0,R4)                              ;
34811 000078F0 1421             11283             MOV.L   R2,@(4,R4)                              ;
34812                           11284     
34813 000078F2 251A             11285             XOR     R1,R5
34814 000078F4 262A             11286             XOR     R2,R6                                   ;
34815 000078F6 265B             11287             OR      R5,R6                                   ;
34816 000078F8 2668             11288             TST     R6,R6                                   ;
34817                           11289             TST_BIT_OF PLS_LSICTRL_050                      ;
34818 000078FA 8903                   M           BT      PLS_LSICTRL_050
34819                           11290             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSCTL_STEP_FLG,LG=W,BIT=~BIT2,WKREG=R1   ;
34820 000078FC D10B                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
34821 000078FE 6011                   M           MOV.W   @R1,R0          ;
34822 00007900 C9FB                   M           AND     #LOW ~BIT2,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   518
PROGRAM NAME =

34823 00007902 2101                   M           MOV.W   R0,@R1          ;
34824                           11291     
34825 00007904                  11292     PLS_LSICTRL_050                 ;
34826                           11293     
34827                           11294     
34828                           11295     ;       ---------------リアルタイム目標位置-----------
34829 00007904 D40A             11296             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
34830 00007906 6146             11297             MOV.L   @R4+,R1                                 ;
34831 00007908 6242             11298             MOV.L   @R4,R2                                  ;
34832 0000790A D40A             11299             MOV.L   #_POSCTL_RL_PLS,R4                      ;RL
34833 0000790C 1410             11300             MOV.L   R1,@(0,R4)                              ;
34834 0000790E 1421             11301             MOV.L   R2,@(4,R4)                              ;
34835                           11302     
34836                           11303     
34837                           11304     ;       ==================================================
34838 00007910 D109             11305             MOV.L   #_POS_HLDSTOP1_FLG,R1                   ;
34839 00007912 6011             11306             MOV.W   @R1,R0                                  ;
34840 00007914 C801             11307             TST     #BIT0,R0                                ;HOLD減速
34841                           11308             TST_BIT_OF PLS_LSICTRL_070                      ;
34842 00007916 8915                   M           BT      PLS_LSICTRL_070
34843                           11309     
34844                           11310     ;       ---------------------------------
34845 00007918 D108             11311             MOV.L   #_POSHLD_SET_DN_ACC,R1                  ;//位置決めキャンセル減速
34846 0000791A 6212             11312             MOV.L   @R1,R2                                  ;
34847 0000791C D108             11313             MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
34848 0000791E 2122             11314             MOV.L   R2,@R1                                  ;
34849                           11315             M_BRA   PLS_LSICTRL_080                         ;
34850 00007920 A018                   M           BRA     PLS_LSICTRL_080
34851 00007922 0009                   M           NOP
34852                           11316     
34853                                     ***** BEGIN-POOL *****
34854 00007924 00000000                   DATA FOR SOURCE-LINE 11276
34855 00007928 00000000                   DATA FOR SOURCE-LINE 11279
34856 0000792C 00000000                   DATA FOR SOURCE-LINE 11290
34857 00007930 00000000                   DATA FOR SOURCE-LINE 11296
34858 00007934 00000000                   DATA FOR SOURCE-LINE 11299
34859 00007938 00000000                   DATA FOR SOURCE-LINE 11305
34860 0000793C 00000000                   DATA FOR SOURCE-LINE 11311
34861 00007940 00000000                   DATA FOR SOURCE-LINE 11313
34862                                     ***** END-POOL *****
34863 00007944                  11317     PLS_LSICTRL_070                                 ;
34864                           11318     ;       --------- ｵｰﾊﾞﾗｲﾄﾞ転送---- -----------
34865                           11319             MEM_MOV_TO_MEM  _SET_UP_ACC_LATE,L,_POSCTL_SV_UP_ACC,L,R1,R2,R3 ;
34866 00007944 D119                   M           MOV.L   #_SET_UP_ACC_LATE,R1
34867 00007946 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
34868 00007948 D319                   M           MOV.L   #_POSCTL_SV_UP_ACC,R3   ;DST_ADR
34869 0000794A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
34870                           11320             MEM_MOV_TO_MEM  _SET_DN_ACC_LATE,L,_POSCTL_SV_DN_ACC,L,R1,R2,R3 ;
34871 0000794C D119                   M           MOV.L   #_SET_DN_ACC_LATE,R1
34872 0000794E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
34873 00007950 D319                   M           MOV.L   #_POSCTL_SV_DN_ACC,R3   ;DST_ADR
34874 00007952 2322                   M           MOV.L   R2,@R3  ;DST_ADR
34875                           11321     
34876 00007954                  11322     PLS_LSICTRL_080                                 ;
34877                           11323     
34878                           11324     
34879                           11325     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   519
PROGRAM NAME =

34880                           11326     
34881 00007954 D319             11327             MOV.L   #_POSCTL_SET_SPD,R3                     ;速度
34882 00007956 6232             11328             MOV.L   @R3,R2                                  ;
34883                           11329             FAR_JSR #_OVER_LIDE_SPD_CALC,R0                 ;INPUT R2-OUTPUT R2
34884 00007958 D019                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34885 0000795A 400B                   M           JSR     @R0                     ;
34886 0000795C 0009                   M           NOP                                     ;
34887                           11330     
34888                           11331     
34889                           11332     ;       -------------2013-02-15 速度上限制限[ここはふりこも共通]-----------------------
34890                           11333             FAR_JSR #_SPD_UPLIMT_CALC,R0                    ;INPUT R2-OUTPUT R2
34891 0000795E D019                   M           MOV.L   #_SPD_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34892 00007960 400B                   M           JSR     @R0                     ;
34893 00007962 0009                   M           NOP                                     ;
34894                           11334     ;       --------------------------------------------------------------
34895                           11335     
34896                           11336             FAR_JSR #_CNT_REST_HOSEI_SPD_TYP,R0             ;INPUT R2 OUTPUT R2
34897 00007964 D018                   M           MOV.L   #_CNT_REST_HOSEI_SPD_TYP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34898 00007966 400B                   M           JSR     @R0                     ;
34899 00007968 0009                   M           NOP                                     ;
34900                           11337     
34901                           11338     
34902 0000796A D118             11339             MOV.L   #_POSCTL_SV_SPD,R1                      ;
34903 0000796C 2122             11340             MOV.L   R2,@R1                                  ;
34904                           11341     
34905                           11342     ;       ========== 管理=============
34906 0000796E D118             11343             MOV.L   #_POSCTL_STEP_FLG,R1                    ;//0(IDLE) BIT0/BIT6 (BIT2,3,4 減
                                          速関連)
34907 00007970 6011             11344             MOV.W   @R1,R0                                  ;
34908 00007972 C840             11345             TST     #BIT6,R0                                ;終了?
34909                           11346             TST_BIT_ON PLS_LSICTRL_END                      ;
34910 00007974 8B45                   M           BF      PLS_LSICTRL_END
34911                           11347     
34912 00007976 C801             11348             TST     #BIT0,R0                                ;ACTIVE
34913                           11349             TST_BIT_ON PLS_LSICTRL_100                      ;
34914 00007978 8B09                   M           BF      PLS_LSICTRL_100
34915                           11350     
34916                           11351     ;       --- 停止中---
34917 0000797A D116             11352             MOV.L   #_POSCTL_STEP_CMD,R1                    ;
34918 0000797C 6011             11353             MOV.W   @R1,R0                                  ;
34919 0000797E 8801             11354             CMP/EQ  #1,R0                                   ;起動?
34920 00007980 8B3F             11355             BF      PLS_LSICTRL_END                         ;NO
34921                           11356     
34922                           11357             FAR_JSR #_PLS_LSI_CTL_INI,R0                    ;起動
34923 00007982 D015                   M           MOV.L   #_PLS_LSI_CTL_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34924 00007984 400B                   M           JSR     @R0                     ;
34925 00007986 0009                   M           NOP                                     ;
34926 00007988 900F             11358             MOV.W   #BIT0,R0                                ;
34927                           11359             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
34928 0000798A D111                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
34929 0000798C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
34930                           11360     
34931 0000798E                  11361     PLS_LSICTRL_100:
34932 0000798E D111             11362             MOV.L   #_POSCTL_STEP_CMD,R1                    ;//3:EMG停止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2
                                          :(減速停止)
34933 00007990 6011             11363             MOV.W   @R1,R0                                  ;EMG-STOP
34934 00007992 8803             11364             CMP/EQ  #3,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   520
PROGRAM NAME =

34935 00007994 8B24             11365             BF      PLS_LSICTRL_200                         ;
34936                           11366     
34937 00007996 200A             11367             XOR     R0,R0                                   ;
34938                           11368             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
34939 00007998 D10D                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
34940 0000799A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
34941                           11369             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1
34942 0000799C D10D                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
34943 0000799E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
34944                           11370     
34945                           11371             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                  ;
34946 000079A0 D00E                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34947 000079A2 400B                   M           JSR     @R0                     ;
34948 000079A4 0009                   M           NOP                                     ;
34949                           11372             M_BRA   PLS_LSICTRL_END                         ;
34950 000079A6 A02C                   M           BRA     PLS_LSICTRL_END
34951 000079A8 0009                   M           NOP
34952                           11373     
34953                                     ***** BEGIN-POOL *****
34954 000079AA 0001                       DATA FOR SOURCE-LINE 11358
34955 000079AC 00000000                   DATA FOR SOURCE-LINE 11319
34956 000079B0 00000000                   DATA FOR SOURCE-LINE 11319
34957 000079B4 00000000                   DATA FOR SOURCE-LINE 11320
34958 000079B8 00000000                   DATA FOR SOURCE-LINE 11320
34959 000079BC 00000000                   DATA FOR SOURCE-LINE 11327
34960 000079C0 00000000                   DATA FOR SOURCE-LINE 11329
34961 000079C4 00000000                   DATA FOR SOURCE-LINE 11333
34962 000079C8 00000000                   DATA FOR SOURCE-LINE 11336
34963 000079CC 00000000                   DATA FOR SOURCE-LINE 11339
34964 000079D0 00000000                   DATA FOR SOURCE-LINE 11343,11359,11368
34965 000079D4 00000000                   DATA FOR SOURCE-LINE 11352,11362,11369
34966 000079D8 00000000                   DATA FOR SOURCE-LINE 11357
34967 000079DC 00000000                   DATA FOR SOURCE-LINE 11371
34968                                     ***** END-POOL *****
34969 000079E0                  11374     PLS_LSICTRL_200:
34970                           11375     
34971                           11376     ;       ----------- ふりこ加減速と通常加減速を分ける---
34972                           11377     ;;;;2010-09-27 ふりこのため     FAR_JSR #_PLS_LSI_CTL_CALC,R0                   ;
34973                           11378     
34974 000079E0 D104             11379             MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
34975 000079E2 6011             11380             MOV.W   @R1,R0                          ;
34976 000079E4 8801             11381             CMP/EQ  #1,R0                           ;
34977 000079E6 8B09             11382             BF      PLS_LSICTRL_220                 ;
34978                           11383             FAR_JSR #_DNM_PLS_LSICTL_CALC,R0        ;
34979 000079E8 D003                   M           MOV.L   #_DNM_PLS_LSICTL_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34980 000079EA 400B                   M           JSR     @R0                     ;
34981 000079EC 0009                   M           NOP                                     ;
34982                           11384             M_BRA   PLS_LSICTRL_END                 ;ふりこ加減速
34983 000079EE A008                   M           BRA     PLS_LSICTRL_END
34984 000079F0 0009                   M           NOP
34985                           11385     
34986                                     ***** BEGIN-POOL *****
34987 000079F2 0000                       ALIGNMENT CODE
34988 000079F4 00000000                   DATA FOR SOURCE-LINE 11379
34989 000079F8 00000000                   DATA FOR SOURCE-LINE 11383
34990                                     ***** END-POOL *****
34991 000079FC                  11386     PLS_LSICTRL_220:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   521
PROGRAM NAME =

34992                           11387             FAR_JSR #_PLS_LSI_CTL_CALC,R0           ;通常減速
34993 000079FC D002                   M           MOV.L   #_PLS_LSI_CTL_CALC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34994 000079FE 400B                   M           JSR     @R0                     ;
34995 00007A00 0009                   M           NOP                                     ;
34996                           11388     
34997 00007A02                  11389     PLS_LSICTRL_END:
34998                           11390     
34999                           11391     ;       -------- 2013-07-18 DEBUG ----------
35000                           11392     ;;;;;;;;;;;;;;;;        MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
35001                           11393     ;;;;;;;;;;;;;;;;        MOV.W   @R1,R0                                  ;BIT1:減速時
35002                           11394     ;;;;;;;;;;;;;;;;        MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1             ;
35003                           11395     ;;;;;;;;;;;;;;;;        MOV.W   R0,@R1                                  ;
35004                           11396     
35005                           11397             SUB_END
35006                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35007 00007A02 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35008                           11398             M_RTS
35009 00007A04 000B                   M           RTS                             ;RTSの後ろの
35010 00007A06 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35011                           11399     
35012                           11400     ;       *******************************************
35013                           11401     ;       ***                                     ***
35014                           11402     ;       ***                                     ***
35015                           11403     ;       ***             加減速演算              ***
35016                           11404     ;       ***                                     ***
35017                           11405     ;       ***                                     ***
35018                           11406     ;       ***                                     ***
35019                           11407     ;       *******************************************
35020                           11408     
35021                                     ***** BEGIN-POOL *****
35022 00007A08 00000000                   DATA FOR SOURCE-LINE 11387
35023                                     ***** END-POOL *****
35024 00007A0C                  11409             .ALIGN  4                               ;
35025 00007A0C                  11410     _PLS_LSI_CTL_CALC:
35026                           11411             SUB_START
35027 00007A0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
35028                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35029                           11412     
35030                           11413     ;       --------- 2010-09-27 残りパルス演算の共通化----
35031                           11414             FAR_JSR #_ACC_REST_INFO_MAKE,R0
35032 00007A0E D005                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35033 00007A10 400B                   M           JSR     @R0                     ;
35034 00007A12 0009                   M           NOP                                     ;
35035                           11415     
35036                           11416     
35037 00007A14 D104             11417             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
35038 00007A16 6011             11418             MOV.W   @R1,R0                                                          ;
35039 00007A18 C802             11419             TST     #BIT1,R0                                                        ;
35040                           11420             TST_BIT_ON PLS_LSI_CTLCAL_020                                           ;強制減速
                                          停止中(寸動停止)
35041 00007A1A 8B07                   M           BF      PLS_LSI_CTLCAL_020
35042 00007A1C C804             11421             TST     #BIT2,R0                                                        ;
35043                           11422             TST_BIT_ON PLS_LSI_CTLCAL_050                                           ;最終減速
                                          状態YES
35044 00007A1E 8B11                   M           BF      PLS_LSI_CTLCAL_050
35045                           11423             M_BRA   PLS_LSI_CTLCAL_100                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   522
PROGRAM NAME =

35046 00007A20 A012                   M           BRA     PLS_LSI_CTLCAL_100
35047 00007A22 0009                   M           NOP
35048                           11424     
35049                                     ***** BEGIN-POOL *****
35050 00007A24 00000000                   DATA FOR SOURCE-LINE 11414
35051 00007A28 00000000                   DATA FOR SOURCE-LINE 11417
35052                                     ***** END-POOL *****
35053 00007A2C                  11425     PLS_LSI_CTLCAL_020
35054                           11426     ;       --- 減速コマンドラッチ---
35055 00007A2C D103             11427             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
                                          PLS/S
35056 00007A2E 6212             11428             MOV.L   @R1,R2                                                          ;
35057 00007A30 D503             11429             MOV.L   #_POSCTL_RL_SPD,R5                                              ;
35058 00007A32 6352             11430             MOV.L   @R5,R3                                                          ;
35059 00007A34 3326             11431             CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
35060 00007A36 8905             11432             BT      PLS_LSI_CTLCAL_050                                              ;YES
35061                           11433             M_BRA   PLS_LSI_CTLCAL_800                                              ;(減速停止
                                          )終了処理
35062 00007A38 A076                   M           BRA     PLS_LSI_CTLCAL_800
35063 00007A3A 0009                   M           NOP
35064                                     ***** BEGIN-POOL *****
35065 00007A3C 00000000                   DATA FOR SOURCE-LINE 11427
35066 00007A40 00000000                   DATA FOR SOURCE-LINE 11429
35067                                     ***** END-POOL *****
35068 00007A44                  11434     PLS_LSI_CTLCAL_050:
35069                           11435             M_BRA   PLS_LSI_CTLCAL_700                                              ;減速処理
35070 00007A44 A040                   M           BRA     PLS_LSI_CTLCAL_700
35071 00007A46 0009                   M           NOP
35072                           11436     
35073 00007A48                  11437     PLS_LSI_CTLCAL_100:
35074 00007A48 D104             11438             MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
35075 00007A4A 6011             11439             MOV.W   @R1,R0                                                          ;EMG-STOP
35076 00007A4C 8802             11440             CMP/EQ  #2,R0                                                           ;減速停止
35077 00007A4E 8B09             11441             BF      PLS_LSI_CTLCAL_150                                              ;NO
35078                           11442             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
35079 00007A50 D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
35080 00007A52 6011                   M           MOV.W   @R1,R0          ;
35081 00007A54 CB02                   M           OR      #BIT1,R0                ;
35082 00007A56 2101                   M           MOV.W   R0,@R1          ;
35083                           11443             M_BRA   PLS_LSI_CTLCAL_500                                              ;
35084 00007A58 A01E                   M           BRA     PLS_LSI_CTLCAL_500
35085 00007A5A 0009                   M           NOP
35086                           11444     
35087                           11445     ;-------通常制御----
35088                                     ***** BEGIN-POOL *****
35089 00007A5C 00000000                   DATA FOR SOURCE-LINE 11438
35090 00007A60 00000000                   DATA FOR SOURCE-LINE 11442
35091                                     ***** END-POOL *****
35092 00007A64                  11446     PLS_LSI_CTLCAL_150:
35093 00007A64 D102             11447             MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
35094 00007A66 6011             11448             MOV.W   @R1,R0                                                          ;
35095 00007A68 C801             11449             TST     #BIT0,R0                                                        ;
35096                           11450             TST_BIT_OF PLS_LSI_CTLCAL_160                                           ;
35097 00007A6A 8903                   M           BT      PLS_LSI_CTLCAL_160
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   523
PROGRAM NAME =

35098                           11451     ;       -----------やるべきことが今一不明--------
35099                           11452             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
35100 00007A6C A07D                   M           BRA     PLS_LSI_CTLCAL_EXT
35101 00007A6E 0009                   M           NOP
35102                           11453     
35103                           11454     
35104                                     ***** BEGIN-POOL *****
35105 00007A70 00000000                   DATA FOR SOURCE-LINE 11447
35106                                     ***** END-POOL *****
35107 00007A74                  11455     PLS_LSI_CTLCAL_160:
35108                           11456     
35109                           11457     ;<<<2010-09-21>>>
35110                           11458             FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<<<2010-0
                                          9-21>>>
35111 00007A74 D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35112 00007A76 400B                   M           JSR     @R0                     ;
35113 00007A78 0009                   M           NOP                                     ;
35114                           11459     
35115 00007A7A 2008             11460             TST     R0,R0                                                           ;
35116                           11461             TST_BIT_OF PLS_LSI_CTLCAL_500
35117 00007A7C 890C                   M           BT      PLS_LSI_CTLCAL_500
35118 00007A7E 8801             11462             CMP/EQ  #1,R0                                                           ;
35119 00007A80 8922             11463             BT      PLS_LSI_CTLCAL_700
35120                           11464     ;       ----- ABNOMAL CALC------                                                ;
35121                           11465             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
35122 00007A82 D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
35123 00007A84 6041                   M           MOV.W   @R4,R0          ;
35124 00007A86 CB02                   M           OR      #BIT1,R0                ;
35125 00007A88 2401                   M           MOV.W   R0,@R4          ;
35126                           11466             M_BRA   PLS_LSI_CTLCAL_700
35127 00007A8A A01D                   M           BRA     PLS_LSI_CTLCAL_700
35128 00007A8C 0009                   M           NOP
35129                           11467     ;;;;;;  M_BRA   PLS_LSI_CTLCAL_ERR      手動ﾊﾟﾙｻでうまくいかない 2013-06-20
35130                           11468     
35131                           11469     ;       ===== 距離がありそう =====
35132                                     ***** BEGIN-POOL *****
35133 00007A8E 0000                       ALIGNMENT CODE
35134 00007A90 00000000                   DATA FOR SOURCE-LINE 11458
35135 00007A94 00000000                   DATA FOR SOURCE-LINE 11465
35136                                     ***** END-POOL *****
35137 00007A98                  11470     PLS_LSI_CTLCAL_500:                                                             ;
35138                           11471     ;<<<2010-09-21>>>
35139                           11472     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0
                                          ;<<<2010-09-21>>>
35140                           11473     ;;;;;;2015-03-10
35141                           11474     ;;;;;;2015-03-10        TST     R0,R0
                                          ;
35142                           11475     ;;;;;;2015-03-10        TST_BIT_OF PLS_LSI_CTLCAL_EXT
                                          ;書き換えない
35143                           11476     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_CTL_SPDSET,R0
                                          ;LSI SET
35144                           11477     ;;;;;;2015-03-10        M_BRA   PLS_LSI_CTLCAL_900
                                          ;
35145                           11478     
35146                           11479     ;       --------- 自起動速度設定の動作も対応[各機種共通事項]-----------
35147                           11480             FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   524
PROGRAM NAME =

35148 00007A98 D005                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35149 00007A9A 400B                   M           JSR     @R0                     ;
35150 00007A9C 0009                   M           NOP                                     ;
35151 00007A9E 2008             11481             TST     R0,R0                                                           ;
35152                           11482             TST_BIT_ON PLS_LSI_CTLCAL_580
35153 00007AA0 8B0A                   M           BF      PLS_LSI_CTLCAL_580
35154                           11483     
35155                           11484     ;       ---払い出し完了ならやめる---------
35156                           11485             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
35157 00007AA2 D004                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35158 00007AA4 400B                   M           JSR     @R0                     ;
35159 00007AA6 0009                   M           NOP                                     ;
35160 00007AA8 C804             11486             TST     #BIT2,R0                        ;停止?
35161                           11487             TST_BIT_ON PLS_LSI_CTLCAL_800           ;YES:
35162 00007AAA 8B3D                   M           BF      PLS_LSI_CTLCAL_800
35163                           11488             M_BRA   PLS_LSI_CTLCAL_EXT              ;
35164 00007AAC A05D                   M           BRA     PLS_LSI_CTLCAL_EXT
35165 00007AAE 0009                   M           NOP
35166                           11489     
35167                                     ***** BEGIN-POOL *****
35168 00007AB0 00000000                   DATA FOR SOURCE-LINE 11480
35169 00007AB4 00000000                   DATA FOR SOURCE-LINE 11485
35170                                     ***** END-POOL *****
35171 00007AB8                  11490     PLS_LSI_CTLCAL_580:
35172                           11491             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
35173 00007AB8 D002                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35174 00007ABA 400B                   M           JSR     @R0                     ;
35175 00007ABC 0009                   M           NOP                                     ;
35176                           11492             M_BRA   PLS_LSI_CTLCAL_900                                              ;
35177 00007ABE A045                   M           BRA     PLS_LSI_CTLCAL_900
35178 00007AC0 0009                   M           NOP
35179                           11493     
35180                           11494     
35181                           11495     
35182                           11496     ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
35183                                     ***** BEGIN-POOL *****
35184 00007AC2 0000                       ALIGNMENT CODE
35185 00007AC4 00000000                   DATA FOR SOURCE-LINE 11491
35186                                     ***** END-POOL *****
35187 00007AC8                  11497     PLS_LSI_CTLCAL_700:
35188                           11498             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
35189 00007AC8 D111                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
35190 00007ACA 6011                   M           MOV.W   @R1,R0          ;
35191 00007ACC CB04                   M           OR      #BIT2,R0                ;
35192 00007ACE 2101                   M           MOV.W   R0,@R1          ;
35193                           11499     ;       ---払い出し完了ならやめる---------
35194                           11500             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
35195 00007AD0 D010                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35196 00007AD2 400B                   M           JSR     @R0                     ;
35197 00007AD4 0009                   M           NOP                                     ;
35198 00007AD6 C804             11501             TST     #BIT2,R0                        ;停止?
35199                           11502             TST_BIT_ON PLS_LSI_CTLCAL_820           ;YES:ﾌﾗｸﾞ終了
35200 00007AD8 8B2D                   M           BF      PLS_LSI_CTLCAL_820
35201                           11503     
35202                           11504     ;<<<2010-09-21>>>
35203                           11505     ;       ----ここにきたら目標位置が変わるまで加速はしない------
35204 00007ADA D50F             11506             MOV.L   #_POSCTL_RL_SPD,R5              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   525
PROGRAM NAME =

35205 00007ADC 6252             11507             MOV.L   @R5,R2                          ;
35206 00007ADE D40F             11508             MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
35207 00007AE0 6342             11509             MOV.L   @R4,R3                          ;
35208 00007AE2 2338             11510             TST     R3,R3                           ;
35209                           11511             TST_BIT_ON PLS_LSI_CTLCAL_720           ;
35210 00007AE4 8B00                   M           BF      PLS_LSI_CTLCAL_720
35211 00007AE6 E301             11512             MOV     #1,R3                           ;
35212 00007AE8                  11513     PLS_LSI_CTLCAL_720:                             ;
35213 00007AE8 3238             11514             SUB     R3,R2                           ;
35214 00007AEA 4211             11515             CMP/PZ  R2                              ;
35215 00007AEC 8900             11516             BT      PLS_LSI_CTLCAL_740              ;
35216 00007AEE 222A             11517             XOR     R2,R2                           ;
35217 00007AF0                  11518     PLS_LSI_CTLCAL_740:                             ;
35218                           11519     
35219                           11520     
35220                           11521     
35221 00007AF0 D10B             11522             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
35222 00007AF2 6312             11523             MOV.L   @R1,R3                          ;
35223 00007AF4 3236             11524             CMP/HI  R3,R2                           ;
35224 00007AF6 8904             11525             BT      PLS_LSI_CTLCAL_760              ;OFS < CALC
35225 00007AF8 6233             11526             MOV     R3,R2                           ;MNINLINIT
35226                           11527     ;       -------------------
35227 00007AFA D105             11528             MOV.L   #_POSCTL_STEP_FLG,R1            ;
35228 00007AFC 6011             11529             MOV.W   @R1,R0                          ;
35229 00007AFE C802             11530             TST     #BIT1,R0                        ;手動減速中
35230                           11531             TST_BIT_ON PLS_LSI_CTLCAL_800           ;
35231 00007B00 8B12                   M           BF      PLS_LSI_CTLCAL_800
35232                           11532     
35233 00007B02                  11533     PLS_LSI_CTLCAL_760:                             ;
35234 00007B02 2522             11534             MOV.L   R2,@R5                          ;
35235                           11535             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0         ;LSI SET
35236 00007B04 D007                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35237 00007B06 400B                   M           JSR     @R0                     ;
35238 00007B08 0009                   M           NOP                                     ;
35239                           11536             M_BRA   PLS_LSI_CTLCAL_900              ;
35240 00007B0A A01F                   M           BRA     PLS_LSI_CTLCAL_900
35241 00007B0C 0009                   M           NOP
35242                           11537     
35243                           11538     ;       -------------終了処理(STEP STOP)----------
35244                                     ***** BEGIN-POOL *****
35245 00007B0E 0000                       ALIGNMENT CODE
35246 00007B10 00000000                   DATA FOR SOURCE-LINE 11498,11528
35247 00007B14 00000000                   DATA FOR SOURCE-LINE 11500
35248 00007B18 00000000                   DATA FOR SOURCE-LINE 11506
35249 00007B1C 00000000                   DATA FOR SOURCE-LINE 11508
35250 00007B20 00000000                   DATA FOR SOURCE-LINE 11522
35251 00007B24 00000000                   DATA FOR SOURCE-LINE 11535
35252                                     ***** END-POOL *****
35253 00007B28                  11539     PLS_LSI_CTLCAL_800:
35254                           11540             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
35255 00007B28 D009                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35256 00007B2A 400B                   M           JSR     @R0                     ;
35257 00007B2C 0009                   M           NOP                                     ;
35258                           11541             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
35259 00007B2E D109                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
35260 00007B30 6011                   M           MOV.W   @R1,R0          ;
35261 00007B32 CB20                   M           OR      #BIT5,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   526
PROGRAM NAME =

35262 00007B34 2101                   M           MOV.W   R0,@R1          ;
35263 00007B36                  11542     PLS_LSI_CTLCAL_820:
35264                           11543             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
35265 00007B36 D107                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
35266 00007B38 6011                   M           MOV.W   @R1,R0          ;
35267 00007B3A CB40                   M           OR      #BIT6,R0                ;
35268 00007B3C 2101                   M           MOV.W   R0,@R1          ;
35269                           11544             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
35270 00007B3E D105                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
35271 00007B40 6011                   M           MOV.W   @R1,R0          ;
35272 00007B42 CB08                   M           OR      #BIT3,R0                ;
35273 00007B44 2101                   M           MOV.W   R0,@R1          ;
35274                           11545     
35275                           11546             .AIF    0 EQ    0
35276                           11547 C   
35277                           11548 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
35278 00007B46 D004                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35279 00007B48 400B                   M           JSR     @R0                     ;
35280 00007B4A 0009                   M           NOP                                     ;
35281                           11549             .AENDI
35282                           11550     
35283 00007B4C                  11551     PLS_LSI_CTLCAL_900:
35284                           11552             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
35285 00007B4C A00D                   M           BRA     PLS_LSI_CTLCAL_EXT
35286 00007B4E 0009                   M           NOP
35287                           11553     
35288                                     ***** BEGIN-POOL *****
35289 00007B50 00000000                   DATA FOR SOURCE-LINE 11540
35290 00007B54 00000000                   DATA FOR SOURCE-LINE 11541,11543,11544
35291 00007B58 00000000                   DATA FOR SOURCE-LINE 11548
35292                                     ***** END-POOL *****
35293 00007B5C                  11554     PLS_LSI_CTLCAL_ERR:
35294                           11555             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
35295 00007B5C D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35296 00007B5E 400B                   M           JSR     @R0                     ;
35297 00007B60 0009                   M           NOP                                     ;
35298                           11556             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
35299 00007B62 D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
35300 00007B64 6011                   M           MOV.W   @R1,R0          ;
35301 00007B66 CB40                   M           OR      #BIT6,R0                ;
35302 00007B68 2101                   M           MOV.W   R0,@R1          ;
35303                           11557     
35304 00007B6A                  11558     PLS_LSI_CTLCAL_EXT:
35305                           11559     
35306                           11560     
35307                           11561     
35308                           11562     
35309                           11563     
35310                           11564     
35311                           11565             SUB_END
35312                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35313 00007B6A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35314                           11566             M_RTS
35315 00007B6C 000B                   M           RTS                             ;RTSの後ろの
35316 00007B6E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35317                           11567     
35318                           11568     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   527
PROGRAM NAME =

35319                           11569     ;       ***                                     ***
35320                           11570     ;       ***                                     ***
35321                           11571     ;       ***             加速・減速              ***
35322                           11572     ;       ***                                     ***
35323                           11573     ;       ***                                     ***
35324                           11574     ;       ***                                     ***
35325                           11575     ;       *******************************************
35326                           11576     ;
35327                           11577     ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
35328                           11578     ;
35329                                     ***** BEGIN-POOL *****
35330 00007B70 00000000                   DATA FOR SOURCE-LINE 11555
35331 00007B74 00000000                   DATA FOR SOURCE-LINE 11556
35332                                     ***** END-POOL *****
35333 00007B78                  11579             .ALIGN  4                               ;
35334 00007B78                  11580     _PLS_LSI_SPD_ACC_ADD:
35335                           11581             SUB_START
35336 00007B78 4F22                   M           STS.L   PR,@-R15                ;[必要]
35337                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35338 00007B7A 200A             11582             XOR     R0,R0                                           ;
35339 00007B7C D107             11583             MOV.L   #_POSCTL_SV_SPD,R1                              ;
35340 00007B7E 6312             11584             MOV.L   @R1,R3                                          ;
35341 00007B80 D507             11585             MOV.L   #_POSCTL_RL_SPD,R5                              ;
35342 00007B82 6252             11586             MOV.L   @R5,R2                                          ;
35343 00007B84 3320             11587             CMP/EQ  R2,R3                                           ;
35344 00007B86 8917             11588             BT      PLS_LSI_SPD_ACCADD_END                          ;SV=REAL
35345 00007B88 3323             11589             CMP/GE  R2,R3                                           ;R2<R3
35346 00007B8A 8B0D             11590             BF      PLS_LSI_SPD_ACCADD_200                                  ;NO 減速しろ
35347                           11591     ;       ---加速しろ----
35348 00007B8C D405             11592             MOV.L   #_POSCTL_SV_UP_ACC,R4                                   ;500,000/1000
35349 00007B8E 6142             11593             MOV.L   @R4,R1                                                  ;
35350 00007B90 321C             11594             ADD     R1,R2
35351 00007B92 3327             11595             CMP/GT  R2,R3                                                   ;
35352 00007B94 890E             11596             BT      PLS_LSI_SPD_ACCADD_300                                  ;R2<R3(SV) THEN そ
                                          のまま加速
35353 00007B96 6233             11597             MOV     R3,R2                                                   ;SV→REAL
35354                           11598             M_BRA   PLS_LSI_SPD_ACCADD_300                                  ;
35355 00007B98 A00C                   M           BRA     PLS_LSI_SPD_ACCADD_300
35356 00007B9A 0009                   M           NOP
35357                           11599     
35358                                     ***** BEGIN-POOL *****
35359 00007B9C 00000000                   DATA FOR SOURCE-LINE 11583
35360 00007BA0 00000000                   DATA FOR SOURCE-LINE 11585
35361 00007BA4 00000000                   DATA FOR SOURCE-LINE 11592
35362                                     ***** END-POOL *****
35363 00007BA8                  11600     PLS_LSI_SPD_ACCADD_200:
35364                           11601     ;       ---減速しろ---
35365 00007BA8 D405             11602             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
35366 00007BAA 6142             11603             MOV.L   @R4,R1                                                  ;
35367 00007BAC 3218             11604             SUB     R1,R2                                                   ;
35368 00007BAE 3237             11605             CMP/GT  R3,R2                                                   ;
35369 00007BB0 8900             11606             BT      PLS_LSI_SPD_ACCADD_300                                  ;R3<R2
35370 00007BB2 6233             11607             MOV     R3,R2                                                   ;
35371 00007BB4                  11608     PLS_LSI_SPD_ACCADD_300:                                                 ;
35372 00007BB4 2522             11609             MOV.L   R2,@R5                                                  ;
35373 00007BB6 E001             11610             MOV     #1,R0                                                   ;
35374 00007BB8                  11611     PLS_LSI_SPD_ACCADD_END:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   528
PROGRAM NAME =

35375                           11612             SUB_END
35376                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35377 00007BB8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35378                           11613             M_RTS
35379 00007BBA 000B                   M           RTS                             ;RTSの後ろの
35380 00007BBC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35381                           11614     
35382                           11615     
35383                           11616     
35384                           11617     
35385                           11618     ;       *******************************************
35386                           11619     ;       ***                                     ***
35387                           11620     ;       ***     Input R1,R2(残り距離)           ***
35388                           11621     ;       ***     Input R9:SPEED  DATA            ***
35389                           11622     ;       ***     Input R10:OFFSET SPEED          ***
35390                           11623     ;       ***     Input R11:ACC_LATE              ***
35391                           11624     ;       ***                                     ***
35392                           11625     ;       *******************************************
35393                           11626     ;       ANS
35394                           11627     ;       00:KEEP
35395                           11628     ;       01:STOP
35396                           11629     ;       -1:ERR
35397                           11630     ;
35398                                     ***** BEGIN-POOL *****
35399 00007BBE 0000                       ALIGNMENT CODE
35400 00007BC0 00000000                   DATA FOR SOURCE-LINE 11602
35401                                     ***** END-POOL *****
35402 00007BC4                  11631             .ALIGN  4                               ;
35403 00007BC4                  11632     _CMP_SPD_REST_PLSCHKCOM:
35404                           11633             SUB_START
35405 00007BC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
35406                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35407 00007BC6 4111             11634             CMP/PZ  R1                                              ;
35408 00007BC8 8901             11635             BT      CMPSPD_RSTPLS_250                               ;NOMAL
35409                           11636     ;       ----- ABNOMAL CALC------                                ;
35410                           11637             M_BRA   CMP_SPD_REST_ERR                                ;
35411 00007BCA A024                   M           BRA     CMP_SPD_REST_ERR
35412 00007BCC 0009                   M           NOP
35413                           11638     
35414 00007BCE                  11639     CMPSPD_RSTPLS_250:
35415                           11640     
35416 00007BCE 2118             11641             TST     R1,R1                                           ;
35417                           11642             TST_BIT_OF CMPSPD_RSTPLS_280                            ;
35418 00007BD0 8901                   M           BT      CMPSPD_RSTPLS_280
35419                           11643             M_BRA   CMP_SPD_REST_MOV                                ;まだまだ残り距離がある(32
                                          bit以上残り距離がある)
35420 00007BD2 A01D                   M           BRA     CMP_SPD_REST_MOV
35421 00007BD4 0009                   M           NOP
35422 00007BD6                  11644     CMPSPD_RSTPLS_280:
35423 00007BD6 D40D             11645             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
35424 00007BD8 3243             11646             CMP/GE  R4,R2                                           ;
35425 00007BDA 8919             11647             BT      CMP_SPD_REST_MOV                                ;減速距離がまだまだ大きい(
                                          連続でもありえない)
35426                           11648     ;       ---------------------------------------------------
35427                           11649     
35428                           11650     ;       -------減速距離比較------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   529
PROGRAM NAME =

35429                           11651     ;       (R2:距離S)
35430                           11652     ;;      MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
35431                           11653     ;;      MOV.L   @R4,R11                                                 ;
35432                           11654     
35433 00007BDC 9415             11655             MOV.W   #_ACC_UNIT,R4                                           ;α:(PLS/1000)/s/s
35434 00007BDE 3B4D             11656             DMULS.L R4,R11                                                  ;α'=α*1000
35435 00007BE0 031A             11657             STS     MACL,R3                                                 ;
35436 00007BE2 333C             11658             ADD     R3,R3                                                   ;2*α*1000
35437                           11659     
35438 00007BE4 332D             11660             DMULS.L R2,R3                                                   ;2*α'*S
35439 00007BE6 081A             11661             STS     MACL,R8                                                 ;
35440 00007BE8 070A             11662             STS     MACH,R7                                                 ;R7,R8=2*α*S
35441                           11663     ;;      MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
35442                           11664     ;;      MOV.L   @R4,R10                                                 ;
35443 00007BEA 3AAD             11665             DMULS.L R10,R10                                                 ;
35444 00007BEC 021A             11666             STS     MACL,R2                                                 ;
35445 00007BEE 010A             11667             STS     MACH,R1                                                 ;
35446                           11668             ADD8B DT_REGH=R7,DT_REGL=R8,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2=2*α*S+β*
                                          β
35447 00007BF0 0008                   M           CLRT
35448 00007BF2 328E                   M           ADDC    R8,R2
35449 00007BF4 317E                   M           ADDC    R7,R1
35450                           11669     
35451                           11670     ;加速しないならこれでよい。
35452                           11671     ;この状態で演算し、且つ加速した結果でも演算する必要がある。             ;
35453                           11672     ;;      MOV.L   #_POSCTL_RL_SPD,R4                                      ;
35454                           11673     ;;      MOV.L   @R4,R9                                                  ;
35455 00007BF6 399D             11674             DMULS.L R9,R9                                                   ;V*V
35456 00007BF8 061A             11675             STS     MACL,R6                                                 ;
35457 00007BFA 050A             11676             STS     MACH,R5                                                 ;R5,R6=V*V
35458                           11677     
35459                           11678             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;2*α*S+β*β - V*
                                          V
35460 00007BFC 0008                   M           CLRT
35461 00007BFE 326A                   M           SUBC    R6,R2
35462 00007C00 315A                   M           SUBC    R5,R1
35463 00007C02 4111             11679             CMP/PZ  R1                                                      ;
35464 00007C04 8904             11680             BT      CMP_SPD_REST_MOV                                        ;
35465                           11681             M_BRA   CMP_SPD_REST_STOP                                       ;
35466 00007C06 A009                   M           BRA     CMP_SPD_REST_STOP
35467 00007C08 0009                   M           NOP
35468                           11682     
35469                                     ***** BEGIN-POOL *****
35470 00007C0A 03E8                       DATA FOR SOURCE-LINE 11655
35471 00007C0C 00E4E1C0                   DATA FOR SOURCE-LINE 11645
35472                                     ***** END-POOL *****
35473 00007C10                  11683     CMP_SPD_REST_MOV:
35474 00007C10 200A             11684             XOR     R0,R0
35475                           11685             M_BRA   CMP_SPD_REST_END
35476 00007C12 A004                   M           BRA     CMP_SPD_REST_END
35477 00007C14 0009                   M           NOP
35478                           11686     
35479                           11687     ;       ====== 減速開始すべき位置======
35480 00007C16                  11688     CMP_SPD_REST_ERR:
35481 00007C16 E0FF             11689             MOV     #-1,R0
35482                           11690             M_BRA   CMP_SPD_REST_END        ;
35483 00007C18 A001                   M           BRA     CMP_SPD_REST_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   530
PROGRAM NAME =

35484 00007C1A 0009                   M           NOP
35485 00007C1C                  11691     CMP_SPD_REST_STOP:
35486 00007C1C E001             11692             MOV     #1,R0
35487 00007C1E                  11693     CMP_SPD_REST_END:
35488                           11694             SUB_END
35489                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35490 00007C1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35491                           11695             M_RTS
35492 00007C20 000B                   M           RTS                             ;RTSの後ろの
35493 00007C22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35494                           11696     
35495                           11697     
35496                           11698     
35497                           11699     ;       ***************************************************
35498                           11700     ;       ***                                             ***
35499                           11701     ;       ***             残距離作成                      ***
35500                           11702     ;       ***             2010-09-22                      ***
35501                           11703     ;       ***             演算の簡略化                    ***
35502                           11704     ;       ***                                             ***
35503                           11705     ;       ***************************************************
35504 00007C24                  11706             .ALIGN  4                               ;
35505 00007C24                  11707     _ACC_REST_INFO_MAKE
35506                           11708             SUB_START
35507 00007C24 4F22                   M           STS.L   PR,@-R15                ;[必要]
35508                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35509                           11709     ;       ----------- 設定目標位置        ---------
35510 00007C26 D411             11710             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
35511 00007C28 5140             11711             MOV.L   @(0,R4),R1                                              ;
35512 00007C2A 5241             11712             MOV.L   @(4,R4),R2                                              ;
35513                           11713     
35514                           11714     ;       ---------------リアルタイム目標位置-----------
35515 00007C2C D410             11715             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
35516 00007C2E 5540             11716             MOV.L   @(0,R4),R5                                              ;
35517 00007C30 5641             11717             MOV.L   @(4,R4),R6                                              ;
35518                           11718             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
35519 00007C32 0008                   M           CLRT
35520 00007C34 326A                   M           SUBC    R6,R2
35521 00007C36 315A                   M           SUBC    R5,R1
35522                           11719     
35523 00007C38 D40E             11720             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
35524 00007C3A 6041             11721             MOV.W   @R4,R0                                                  ;
35525 00007C3C C801             11722             TST     #BIT0,R0                                                ;
35526                           11723             TST_BIT_OF ACC_REST_INFMK_100                                   ;正転
35527 00007C3E 8905                   M           BT      ACC_REST_INFMK_100
35528                           11724             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
35529 00007C40 6227                   M           NOT     R2,R2                           ;
35530 00007C42 6117                   M           NOT     R1,R1                           ;
35531 00007C44 200A                   M           XOR     R0,R0                           ;
35532 00007C46 0018                   M           SETT
35533 00007C48 320E                   M           ADDC    R0,R2                           ;0+1+R2
35534 00007C4A 310E                   M           ADDC    R0,R1                           ;
35535 00007C4C                  11725     ACC_REST_INFMK_100                                                      ;正転
35536                           11726     
35537 00007C4C D50A             11727             MOV.L   #_ACC_REST_ABS_PLS,R5   ;
35538 00007C4E 2512             11728             MOV.L   R1,@R5                  ;
35539 00007C50 1521             11729             MOV.L   R2,@(4,R5)              ;
35540                           11730     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   531
PROGRAM NAME =

35541                           11731     
35542 00007C52 200A             11732             XOR     R0,R0
35543 00007C54 2118             11733             TST     R1,R1                                   ;8byteの上位4byteがあるか？
35544                           11734             TST_BIT_ON ACC_REST_INFMK_200                   ;まだ4BYTE以上ある
35545 00007C56 8B03                   M           BF      ACC_REST_INFMK_200
35546                           11735     
35547 00007C58 D408             11736             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
35548 00007C5A 3243             11737             CMP/GE  R4,R2                                           ;
35549 00007C5C 8900             11738             BT      ACC_REST_INFMK_200                              ;減速距離がまだまだ大きい(
                                          連続でもありえない)
35550                           11739     
35551 00007C5E E0FF             11740             MOV.B   #-1,R0                                          ;4BYTE以下なので減速演算し
                                          てもいい
35552                           11741                                                             ;演算オーバフロー対策
35553                           11742     
35554 00007C60                  11743     ACC_REST_INFMK_200                                                      ;
35555 00007C60 D407             11744             MOV.L   #_ACC_REST_FLG,R4                                       ;
35556 00007C62 2401             11745             MOV.W   R0,@R4                                                  ;0:まだまだ距離が
                                          十分ある
35557                           11746     
35558                           11747             SUB_END
35559                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35560 00007C64 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35561                           11748             M_RTS
35562 00007C66 000B                   M           RTS                             ;RTSの後ろの
35563 00007C68 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35564                           11749     
35565                           11750     ;       *******************************************
35566                           11751     ;       ***                                     ***
35567                           11752     ;       ***                                     ***
35568                           11753     ;       ***                                     ***
35569                           11754     ;       ***     振り子加速・減速演算            ***
35570                           11755     ;       ***                                     ***
35571                           11756     ;       ***                                     ***
35572                           11757     ;       *******************************************
35573                           11758             .EXPORT _DNM_TBL_CALC
35574                           11759             .EXPORT _DNM_START_ACC_CALC
35575                           11760             .EXPORT _DNM_STEP_ACC_CHANGE
35576                           11761     
35577                           11762             .EXPORT _DNM_SPD_CALC
35578                           11763             .EXPORT _DNM_ACC_CALC
35579                           11764             .IMPORT _DATA_CMP2B_R5R6_REF            ;DTMK
35580                           11765     
35581                           11766     ;       ===================================
35582                           11767     ;       ===  SCURVが有効であれば生かす  ===
35583                           11768     ;       ===================================
35584                           11769     
35585                           11770             .EXPORT _USE_IN_TBL_MOV                 ;
35586                           11771             .INCLUDE        "ssa_acct.inc"          ;//2010-09-21ふりこテーブル演算
35587                               1 I1  ;       ***************************************************
35588                               2 I1  ;       ***                                             ***
35589                               3 I1  ;       ***                                             ***
35590                               4 I1  ;       ***                                             ***
35591                               5 I1  ;       ***             振り子加速度演算                ***
35592                               6 I1  ;       ***                                             ***
35593                               7 I1  ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   532
PROGRAM NAME =

35594                               8 I1  ;       ***                                             ***
35595                               9 I1  ;       ***************************************************
35596                              10 I1  ;       SSA_POS1.SRCにｲﾝｸﾙｰﾄﾞされる
35597                                 I1  ***** BEGIN-POOL *****
35598 00007C6A 0000                   I1  ALIGNMENT CODE
35599 00007C6C 00000000               I1  DATA FOR SOURCE-LINE 11710
35600 00007C70 00000000               I1  DATA FOR SOURCE-LINE 11715
35601 00007C74 00000000               I1  DATA FOR SOURCE-LINE 11720
35602 00007C78 00000000               I1  DATA FOR SOURCE-LINE 11727
35603 00007C7C 00E4E1C0               I1  DATA FOR SOURCE-LINE 11736
35604 00007C80 00000000               I1  DATA FOR SOURCE-LINE 11744
35605                                 I1  ***** END-POOL *****
35606          00002710            11 I1  _ACC_PER_V_MAX  .EQU    10000   ;10000換算
35607          000003E8            12 I1  _ACC_CALC_TIM   .EQU    1000    ;1/1000msec
35608                              13 I1  ;
35609                              14 I1          .INCLUDE        "ssa_acrm.ext"          ; //
35610                               1 I2  ;//     *******************************************
35611                               2 I2  ;//     ***             振り子加速              ***
35612                               3 I2  ;//     *******************************************
35613                               4 I2  
35614                               5 I2  
35615                               6 I2  
35616                               7 I2          .GLOBAL         _ACC_LAST_SPD           ;最大速度から求まる
35617                               8 I2          .GLOBAL         _ACC_STOP_SPD           ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
35618                               9 I2          .GLOBAL         _ACC_STEP_SPD           ;ステップ
35619                              10 I2  
35620                              11 I2          .GLOBAL         _ACC_LAST_POINT         ;最大速度から求まる
35621                              12 I2          .GLOBAL         _ACC_STOP_POINT         ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
35622                              13 I2          .GLOBAL         _ACC_STEP_POINT         ;ステップ
35623                              14 I2  
35624                              15 I2          .GLOBAL         _ACC_STEP_FLG           ;BIT0:START BIT1:CALC BIT2:LIMIT
35625                              16 I2          .GLOBAL         _ACC_CTRL_STS1          ;
35626                              17 I2          .GLOBAL         _ACC_CTRL_STS2          ;
35627                              18 I2  
35628                              19 I2          .GLOBAL         _ACC_POS_STEP           ;
35629                              20 I2          .GLOBAL         _ACC_STR_STEP           ;
35630                              21 I2  
35631                              22 I2          .GLOBAL         _ACC_STOP_NUMBER        ;停止に使用するデータ番号=停止ステップ
35632                              23 I2          .GLOBAL         _ACC_STEP_NUMBER        ;加減速に使用するデータ番号=動作ステップ
35633                              24 I2          .GLOBAL         _ACC_ANS_ACCDAT         ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
35634                              25 I2  
35635                              26 I2  
35636                              27 I2  
35637                              28 I2  ;       ------------------------------------------
35638                              29 I2          .GLOBAL         _ACCB_ACCLAT_TIM1       ;最大加減速時間 設定
35639                              30 I2  
35640                              31 I2  
35641                              32 I2  ;
35642                              33 I2  ;       ・各段に変速テーブル（加速または減速）と停止テーブルが存在する
35643                              34 I2  ;       ・変速状態（加速中または減速）での停止は、そのテーブルの停止テーブルに従う
35644                              35 I2  ;       ・停止テーブルは常に増加方向:パルスが必要(パルスでサーチする)
35645                              36 I2  ;       ・加速テーブルも常に増加方向:パルスは不要(速度でサーチする)
35646                              37 I2  ;       ・減速テーブルは常に増加方向:パルスは不要(速度でサーチする)
35647                              38 I2  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   533
PROGRAM NAME =

35648                              39 I2  
35649                              40 I2  
35650                              41 I2  
35651                              42 I2          .GLOBAL         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
35652                              43 I2          .GLOBAL         _ACC_INF1_STEPSP02      ;050%[前状態],100%[設定]
35653                              44 I2          .GLOBAL         _ACC_INF1_STEPSP03      ;100%[前状態],100%[設定](この場合は前の状
                                          態の加減速をCOPY)
35654                              45 I2          .GLOBAL         _ACC_INF1_STEPSP04      ;
35655                              46 I2          .GLOBAL         _ACC_INF1_STEPSP05      ;
35656                              47 I2          .GLOBAL         _ACC_INF1_STEPSP06      ;
35657                              48 I2          .GLOBAL         _ACC_INF1_STEPSP07      ;
35658                              49 I2          .GLOBAL         _ACC_INF1_STEPSP08      ;
35659                              50 I2          .GLOBAL         _ACC_INF1_STEPSP09      ;
35660                              51 I2          .GLOBAL         _ACC_INF1_STEPSP10      ;
35661                              52 I2          .GLOBAL         _ACC_INF1_STEPSP11      ;
35662                              53 I2  
35663                              54 I2  
35664                              55 I2                                          ;INFOMAINTION
35665                              56 I2          .GLOBAL         _ACC_INF1_STEP001       ;//(加速:0/減速:1)
35666                              57 I2          .GLOBAL         _ACC_INF1_STEP002       ;//
35667                              58 I2          .GLOBAL         _ACC_INF1_STEP003       ;
35668                              59 I2          .GLOBAL         _ACC_INF1_STEP004       ;
35669                              60 I2          .GLOBAL         _ACC_INF1_STEP005       ;
35670                              61 I2          .GLOBAL         _ACC_INF1_STEP006       ;
35671                              62 I2          .GLOBAL         _ACC_INF1_STEP007       ;
35672                              63 I2          .GLOBAL         _ACC_INF1_STEP008       ;
35673                              64 I2          .GLOBAL         _ACC_INF1_STEP009       ;
35674                              65 I2          .GLOBAL         _ACC_INF1_STEP010       ;
35675                              66 I2          .GLOBAL         _ACC_INF1_STEP011       ;
35676                              67 I2  
35677                              68 I2  
35678                              69 I2  
35679                              70 I2  
35680                              71 I2  ;       ----------------------------------------------
35681                              72 I2  ;;;[2013-05-20 前から未使用];   最大速度時の加減速時間(設定値と同じもの：上下限チェック済
                                          み)
35682                              73 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_ACCTM      ;加減速時間
35683                              74 I2  ;;;[2013-05-20 前から未使用]
35684                              75 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速速度
35685                              76 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPVTBL    ;//
35686                              77 I2  ;;;[2013-05-20 前から未使用]
35687                              78 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速パルス
35688                              79 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPPTBL    ;//
35689                              80 I2  
35690                              81 I2  
35691                              82 I2  ;
35692                              83 I2  ;       ---------------------------------------------------
35693                              84 I2  ;各段可変速用の加減速速度
35694                              85 I2  
35695                              86 I2          .GLOBAL         _ACC_STEP001_VTBL       ;//
35696                              87 I2          .GLOBAL         _ACC_STEP002_VTBL       ;//
35697                              88 I2          .GLOBAL         _ACC_STEP003_VTBL       ;//
35698                              89 I2          .GLOBAL         _ACC_STEP004_VTBL       ;//
35699                              90 I2          .GLOBAL         _ACC_STEP005_VTBL       ;//
35700                              91 I2          .GLOBAL         _ACC_STEP006_VTBL       ;//
35701                              92 I2          .GLOBAL         _ACC_STEP007_VTBL       ;//
35702                              93 I2          .GLOBAL         _ACC_STEP008_VTBL       ;//
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   534
PROGRAM NAME =

35703                              94 I2          .GLOBAL         _ACC_STEP009_VTBL       ;//
35704                              95 I2          .GLOBAL         _ACC_STEP010_VTBL       ;//
35705                              96 I2          .GLOBAL         _ACC_STEP011_VTBL       ;//
35706                              97 I2  
35707                              98 I2  
35708                              99 I2  ;       ---------------------------------------------------
35709                             100 I2  ;各段可変速用の加減速時間
35710                             101 I2  
35711                             102 I2          .GLOBAL         _ACC_STEP001_ACTM       ;
35712                             103 I2          .GLOBAL         _ACC_STEP002_ACTM       ;
35713                             104 I2          .GLOBAL         _ACC_STEP003_ACTM       ;
35714                             105 I2          .GLOBAL         _ACC_STEP004_ACTM       ;
35715                             106 I2          .GLOBAL         _ACC_STEP005_ACTM       ;
35716                             107 I2          .GLOBAL         _ACC_STEP006_ACTM       ;
35717                             108 I2          .GLOBAL         _ACC_STEP007_ACTM       ;
35718                             109 I2          .GLOBAL         _ACC_STEP008_ACTM       ;
35719                             110 I2          .GLOBAL         _ACC_STEP009_ACTM       ;
35720                             111 I2          .GLOBAL         _ACC_STEP010_ACTM       ;
35721                             112 I2          .GLOBAL         _ACC_STEP011_ACTM       ;
35722                             113 I2  
35723                             114 I2  ;       ================================================
35724                             115 I2  ;
35725                             116 I2  ;各段停止用の減速速度
35726                             117 I2  ;                                       格段の停止時
35727                             118 I2  
35728                             119 I2          .GLOBAL         _ACC_STOP001_VTBL       ;//
35729                             120 I2          .GLOBAL         _ACC_STOP002_VTBL       ;//
35730                             121 I2          .GLOBAL         _ACC_STOP003_VTBL       ;//
35731                             122 I2          .GLOBAL         _ACC_STOP004_VTBL       ;//
35732                             123 I2          .GLOBAL         _ACC_STOP005_VTBL       ;//
35733                             124 I2          .GLOBAL         _ACC_STOP006_VTBL       ;//
35734                             125 I2          .GLOBAL         _ACC_STOP007_VTBL       ;//
35735                             126 I2          .GLOBAL         _ACC_STOP008_VTBL       ;//
35736                             127 I2          .GLOBAL         _ACC_STOP009_VTBL       ;//
35737                             128 I2          .GLOBAL         _ACC_STOP010_VTBL       ;//
35738                             129 I2          .GLOBAL         _ACC_STOP011_VTBL       ;//
35739                             130 I2  
35740                             131 I2  ;各段停止用の減速パルス
35741                             132 I2  
35742                             133 I2          .GLOBAL         _ACC_STOP001_PTBL       ;//
35743                             134 I2          .GLOBAL         _ACC_STOP002_PTBL       ;//
35744                             135 I2          .GLOBAL         _ACC_STOP003_PTBL       ;//
35745                             136 I2          .GLOBAL         _ACC_STOP004_PTBL       ;//
35746                             137 I2          .GLOBAL         _ACC_STOP005_PTBL       ;//
35747                             138 I2          .GLOBAL         _ACC_STOP006_PTBL       ;//
35748                             139 I2          .GLOBAL         _ACC_STOP007_PTBL       ;//
35749                             140 I2          .GLOBAL         _ACC_STOP008_PTBL       ;//
35750                             141 I2          .GLOBAL         _ACC_STOP009_PTBL       ;//
35751                             142 I2          .GLOBAL         _ACC_STOP010_PTBL       ;//
35752                             143 I2          .GLOBAL         _ACC_STOP011_PTBL       ;//
35753                             144 I2  
35754                             145 I2  
35755                             146 I2          .GLOBAL         _ACC_STOP001_ACTM       ;
35756                             147 I2          .GLOBAL         _ACC_STOP002_ACTM       ;
35757                             148 I2          .GLOBAL         _ACC_STOP003_ACTM       ;
35758                             149 I2          .GLOBAL         _ACC_STOP004_ACTM       ;
35759                             150 I2          .GLOBAL         _ACC_STOP005_ACTM       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   535
PROGRAM NAME =

35760                             151 I2          .GLOBAL         _ACC_STOP006_ACTM       ;
35761                             152 I2          .GLOBAL         _ACC_STOP007_ACTM       ;
35762                             153 I2          .GLOBAL         _ACC_STOP008_ACTM       ;
35763                             154 I2          .GLOBAL         _ACC_STOP009_ACTM       ;
35764                             155 I2          .GLOBAL         _ACC_STOP010_ACTM       ;
35765                             156 I2          .GLOBAL         _ACC_STOP011_ACTM       ;
35766                             157 I2  
35767                             158 I2  ;       *******************************************
35768                             159 I2  ;       ***                                     ***
35769                             160 I2  ;       ***     加速度パターン入れ替え          ***
35770                             161 I2  ;       ***                                     ***
35771                             162 I2  ;       *******************************************
35772                             163 I2          .GLOBAL         _ACC_IN_TBL_TIM         ;255msec時間 ループ数は256
35773                             164 I2          .GLOBAL         _ACC_IN_TBLUSE          ;
35774                             165 I2  
35775                             166 I2  
35776                             167 I2  ;       -----------------------------------
35777                             168 I2  ;       ---                             ---
35778                             169 I2  ;       ---     ｵｰﾊﾞﾗｲﾄﾞ対策            ---
35779                             170 I2  ;       ---                             ---
35780                             171 I2  ;       -----------------------------------
35781                             172 I2          .GLOBAL         _ACC_REST_ABS_PLSX      ;//比率倍(CPUAのみ使用)
35782                             173 I2          .GLOBAL         _ACC_CALC_SPDX          ;
35783                             174 I2          .GLOBAL         _ACC_CALC_SPD           ;
35784                             175 I2          .GLOBAL         _ACC_POSCTL_SV_SPDX             ;                               ;･
                                          ････
35785                             176 I2          .GLOBAL         _ACC_POSCTL_RL_SPDX             ;
35786                             177 I2          .GLOBAL         _ACC_POSCTL_SV_UP_ACCX          ;
35787                             178 I2          .GLOBAL         _ACC_POSCTL_SV_DN_ACCX          ;
35788                             179 I2  
35789                             180 I2  
35790                             181 I2  ;//     -----------------------------------
35791                             182 I2  ;//     ---     2013-02-05              ---
35792                             183 I2  ;//     -----------------------------------
35793                             184 I2          .GLOBAL _SVX_OBJ_SPD_OLDTOP;
35794                             185 I2          .GLOBAL _SVX_UPAREA_SPD0OLD;
35795                             186 I2  
35796                              15 I1  
35797                              16 I1  
35798                              17 I1  
35799                              18 I1          .IMPORT         _DNM_MAXSPM_ACCLAT_MAK          ;2010-10-05
35800                              19 I1  
35801                              20 I1  
35802                              21 I1  ;//     *******************************************
35803                              22 I1  ;//     ***             振り子加速              ***
35804                              23 I1  ;//     *******************************************
35805                              24 I1  ;       ***************************************************
35806                              25 I1  ;       ***                                             ***
35807                              26 I1  ;       ***             ふりこ加速テーブル              ***
35808                              27 I1  ;       ***             パラメータに入れる              ***
35809                              28 I1  ;       ***                                             ***
35810                              29 I1  ;       ***************************************************
35811                              30 I1          .GLOBAL         _CB_SYS_PARTBL001       ;CODE:ｺｰﾄﾞ存在なければﾃﾞｰﾀなし
35812                              31 I1          .GLOBAL         _CB_SYS_PARTBL002       ;1:加速度ﾃｰﾌﾞﾙ使用NO.[1個より増えた場合用]
35813                              32 I1          .GLOBAL         _CB_SYS_PARTBL003       ;1:最大回転速度/加減速時間ﾃｰﾌﾞﾙ使用[1個よ
                                          り増えた場合用]
35814                              33 I1          .GLOBAL         _CB_SYS_PARTBL004       ;加速度ﾃｰﾌﾞﾙ1　<設定位置１未満
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   536
PROGRAM NAME =

35815                              34 I1          .GLOBAL         _CB_SYS_PARTBL005       ;加速度ﾃｰﾌﾞﾙ2　位置1≦＜位置2
35816                              35 I1  
35817                              36 I1  
35818                              37 I1  ;       ***************************************************
35819                              38 I1  ;       ***                                             ***
35820                              39 I1  ;       ***             mm-最大回転数,加減速時間        ***
35821                              40 I1  ;       ***                                             ***
35822                              41 I1  ;       ***************************************************
35823                              42 I1          .GLOBAL         _CB_SYS_DNMTBL1_CNT             ;
35824                              43 I1          .GLOBAL         _CB_SYS_DNMTBL1_DATA_TOP        ;
35825                              44 I1          .GLOBAL         _CB_SYS_ACCTBL1_CNT             ;
35826                              45 I1          .GLOBAL         _CB_SYS_ACCTBL1_IN_TOP          ;
35827                              46 I1          .GLOBAL         _CB_SYS_ACCTBL2_CNT             ;
35828                              47 I1          .GLOBAL         _CB_SYS_ACCTBL2_IN_TOP          ;
35829                              48 I1          .GLOBAL         _CB_SYS_ACCTBL3_CNT             ;
35830                              49 I1          .GLOBAL         _CB_SYS_ACCTBL3_IN_TOP          ;
35831                              50 I1  
35832                              51 I1          .import         _SYS2_DT_LOAD
35833                              52 I1  
35834                              53 I1  ;       ***************************************************
35835                              54 I1  ;       ***                                             ***
35836                              55 I1  ;       ***             速度テーブル                    ***
35837                              56 I1  ;       ***                                             ***
35838                              57 I1  ;       ***************************************************
35839 00007C84                     58 I1          .ALIGN  4                                               ;
35840                              59 I1  ;;;;;   .INCLUDE        "ssa_atbl.inc"          ;//2010-09-21
35841                              60 I1  
35842                              61 I1          .AIF    0 EQ    0
35843                              62 C   
35844                              63 C           .IMPORT _PDTRB
35845                              64 C           .MACRO  _A_WDT_CLR
35846                              65 C           PUSH_REG1 R10
35847                              66 C           PUSH_REG1 R11
35848                              67 C           PUSH_REG1 R12
35849                              68 C   
35850                              69 C           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
35851                              70 C   
35852                              71 C           MOV.L   #_PDTRB,R10
35853                              72 C           MOV.W   @R10,R11
35854                              73 C           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
35855                              74 C           AND     R12,R11                 ;
35856                              75 C           MOV.W   R11,@R10                ;
35857                              76 C           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
35858                              77 C           OR      R12,R11                 ;
35859                              78 C           MOV.W   R11,@R10                ;
35860                              79 C   
35861                              80 C           EI_POP_SR_SHn                   ;
35862                              81 C   
35863                              82 C           POP_REG1 R12
35864                              83 C           POP_REG1 R11
35865                              84 C           POP_REG1 R10
35866                              85 C           .ENDM
35867                              86 C   
35868                              87             .AELSE
35869                              88     ;CPU-Bは5msecでたたいているから不要
35870                              89             .MACRO  _A_WDT_CLR
35871                              90             .ENDM
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   537
PROGRAM NAME =

35872                              91     
35873                              92     
35874                              93             .AENDI
35875                              94 I1  
35876                              95 I1  ;
35877                              96 I1  ;       _DNM_TBL_CALC:  ﾃｰﾌﾞﾙ作成[DTMK]
35878                              97 I1  ;       _DNM_START_ACC_CALC:API 起動 往路/復路CHANGE [POS1]
35879                              98 I1  ;       _DNM_STEP_ACC_CHANGE:API 工程切替 ;[POS1]
35880                              99 I1  ;       _DNM_SPD_CALC:速度演算→ACC算出,反映[POS1]
35881                             100 I1  ;
35882                             101 I1  
35883                             102 I1  
35884                             103 I1  ;       ***************************************************
35885                             104 I1  ;       ***                                             ***
35886                             105 I1  ;       ***                                             ***
35887                             106 I1  ;       ***                                             ***
35888                             107 I1  ;       ***                                             ***
35889                             108 I1  ;       ***                                             ***
35890                             109 I1  ;       ***                                             ***
35891                             110 I1  ;       ***             振り子加速度テーブル作成        ***
35892                             111 I1  ;       ***                                             ***
35893                             112 I1  ;       ***                                             ***
35894                             113 I1  ;       ***                                             ***
35895                             114 I1  ;       ***                                             ***
35896                             115 I1  ;       ***                                             ***
35897                             116 I1  ;       ***                                             ***
35898                             117 I1  ;       ***************************************************
35899                             118 I1  ;       dtmkにて演算(WDT-CLR必要)
35900 00007C84                    119 I1          .ALIGN  4                                               ;
35901 00007C84                    120 I1  _DNM_TBL_CALC:
35902                             121 I1          SUB_START
35903 00007C84 4F22                   M           STS.L   PR,@-R15                ;[必要]
35904                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35905                             122 I1  
35906                             123 I1          FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
35907 00007C86 D006                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35908 00007C88 400B                   M           JSR     @R0                     ;
35909 00007C8A 0009                   M           NOP                                     ;
35910 00007C8C 2008               124 I1          TST     R0,R0
35911                             125 I1          TST_BIT_OF DNM_TBLCAL_200                               ;ふりこでない
35912 00007C8E 890B                   M           BT      DNM_TBLCAL_200
35913                             126 I1  
35914                             127 I1          FAR_JSR #_DNM_MOTION_DATA_MAK,R0                        ;振り子時
35915 00007C90 D004                   M           MOV.L   #_DNM_MOTION_DATA_MAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35916 00007C92 400B                   M           JSR     @R0                     ;
35917 00007C94 0009                   M           NOP                                     ;
35918 00007C96 9001               128 I1          MOV.W   #1,R0
35919                             129 I1          M_BRA   DNM_TBLCAL_300                                  ;
35920 00007C98 A007                   M           BRA     DNM_TBLCAL_300
35921 00007C9A 0009                   M           NOP
35922                             130 I1  
35923                                 I1  ***** BEGIN-POOL *****
35924 00007C9C 0001                   I1  DATA FOR SOURCE-LINE 128
35925 00007C9E 0000                   I1  ALIGNMENT CODE
35926 00007CA0 00000000               I1  DATA FOR SOURCE-LINE 123
35927 00007CA4 00000000               I1  DATA FOR SOURCE-LINE 127
35928                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   538
PROGRAM NAME =

35929 00007CA8                    131 I1  DNM_TBLCAL_200:
35930 00007CA8 200A               132 I1          XOR     R0,R0
35931 00007CAA                    133 I1  DNM_TBLCAL_300:
35932 00007CAA D104               134 I1          MOV.L   #_DNM_ACC_CALFLG,R1                             ;//0/1
35933 00007CAC 2101               135 I1          MOV.W   R0,@R1                                          ;
35934                             136 I1  
35935                             137 I1  
35936                             138 I1  
35937                             139 I1  ;       ============ ﾃﾞﾊﾞｯｸ===========
35938                             140 I1   .AIF   0 EQ    0
35939 00007CAE D104               141 C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
35940                             142      .AELSE
35941                             143             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
35942                             144      .AENDI
35943 00007CB0 6011               145 I1          MOV.W   @R1,R0
35944 00007CB2 D104               146 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB258,R1     ;258,328
35945 00007CB4 2101               147 I1          MOV.W   R0,@R1
35946                             148 I1  
35947                             149 I1          SUB_END
35948                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35949 00007CB6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35950                             150 I1          M_RTS
35951 00007CB8 000B                   M           RTS                             ;RTSの後ろの
35952 00007CBA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35953                             151 I1  
35954                             152 I1  
35955                             153 I1  ;       *******************************************
35956                             154 I1  ;       ***                                     ***
35957                             155 I1  ;       ***             各データ作成CALL        ***
35958                             156 I1  ;       ***                                     ***
35959                             157 I1  ;       *******************************************
35960                             158 I1  ;       速度演算結果 * 速度比率/100　･･･速度
35961                             159 I1  ;       ﾃｰﾌﾞﾙの距離を速度比率/100････残距離比較
35962                             160 I1  ;       残り距離*100/速度比率
35963                             161 I1  ;
35964                             162 I1  ;       [起動時に比率を取込む]
35965                             163 I1  ;
35966                             164 I1  ;       --------2015-03-15[ふりこの設定状態]
35967                             165 I1  
35968                             166 I1          .MACRO  DNM_INFO_SET SETCOD
35969                             167 I1  
35970                             168 I1          MOV.W   #\SETCOD,R0
35971                             169 I1   .AIF   0 EQ    0
35972                             170 I1          MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
35973                             171 I1   .AELSE
35974                             172 I1          MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
35975                             173 I1   .AENDI
35976                             174 I1          MOV.W   R0,@R1                          ;
35977                             175 I1  
35978                             176 I1          .ENDM
35979                             177 I1  
35980                             178 I1          .IMPORT _SH4_DNM_CALC_INFO              ;
35981                             179 I1          .IMPORT _SH2_DNM_CALC_INFO              ;
35982                             180 I1  
35983                             181 I1  
35984                                 I1  ***** BEGIN-POOL *****
35985 00007CBC 00000000               I1  DATA FOR SOURCE-LINE 134
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   539
PROGRAM NAME =

35986 00007CC0 00000000               I1  DATA FOR SOURCE-LINE 141
35987 00007CC4 00000000               I1  DATA FOR SOURCE-LINE 146
35988                                 I1  ***** END-POOL *****
35989 00007CC8                    182 I1  _DNM_MOTION_DATA_MAK:
35990                             183 I1          SUB_START
35991 00007CC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
35992                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35993                             184 I1  
35994                             185 I1  
35995                             186 I1  
35996 00007CCA 277A               187 I1          XOR     R7,R7                           ;
35997 00007CCC D50E               188 I1          MOV.L   #_SVP_UPAREA_SPD0,R5            ;基準速度(戻速度)
35998 00007CCE D60F               189 I1          MOV.L   #_SVX_UPAREA_SPD0OLD,R6         ;
35999                             190 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
36000 00007CD0 D00F                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36001 00007CD2 400B                   M           JSR     @R0                     ;
36002 00007CD4 0009                   M           NOP                                     ;
36003                             191 I1  
36004                             192 I1  
36005 00007CD6 9315               193 I1          MOV.W   #D'20,R3                        ;
36006 00007CD8 D50E               194 I1          MOV.L   #_SVP_OBJECT_SPD_TOP,R5         ;
36007 00007CDA D60F               195 I1          MOV.L   #_SVX_OBJ_SPD_OLDTOP,R6         ;
36008                             196 I1  
36009 00007CDC                    197 I1  ACC_INFMAK1_DTCHGCHKLOP
36010                             198 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
36011 00007CDC D00C                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36012 00007CDE 400B                   M           JSR     @R0                     ;
36013 00007CE0 0009                   M           NOP                                     ;
36014 00007CE2 73FF               199 I1          ADD     #-1,R3                          ;
36015 00007CE4 2338               200 I1          TST     R3,R3                           ;
36016                             201 I1          TST_BIT_ON ACC_INFMAK1_DTCHGCHKLOP      ;
36017 00007CE6 8BF9                   M           BF      ACC_INFMAK1_DTCHGCHKLOP
36018 00007CE8 2778               202 I1          TST     R7,R7                           ;
36019                             203 I1          TST_BIT_ON ACC_INFMAK1_START            ;[速度設定変更有り]
36020 00007CEA 8B1D                   M           BF      ACC_INFMAK1_START
36021                             204 I1  
36022 00007CEC D10B               205 I1          MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
36023 00007CEE 6011               206 I1          MOV.W   @R1,R0                          ;
36024 00007CF0 D10B               207 I1          MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
36025 00007CF2 6211               208 I1          MOV.W   @R1,R2                          ;
36026 00007CF4 202B               209 I1          OR      R2,R0                           ;
36027 00007CF6 2008               210 I1          TST     R0,R0                           ;
36028                             211 I1          TST_BIT_ON ACC_INFMAK1_START050         ;異常状態での演算
36029 00007CF8 8B1E                   M           BF      ACC_INFMAK1_START050
36030                             212 I1  
36031                             213 I1          FAR_JSR #_API_SETACC_STS_CLR,R0         ;
36032 00007CFA D00A                   M           MOV.L   #_API_SETACC_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36033 00007CFC 400B                   M           JSR     @R0                     ;
36034 00007CFE 0009                   M           NOP                                     ;
36035                             214 I1  
36036                             215 I1          M_BRA   ACC_INFMAK1_EXT                 ;
36037 00007D00 A029                   M           BRA     ACC_INFMAK1_EXT
36038 00007D02 0009                   M           NOP
36039                             216 I1  
36040                             217 I1  ;       ----------[CPUA/B間で演算完了状態であれば 反映して良い]--------
36041                                 I1  ***** BEGIN-POOL *****
36042 00007D04 0014                   I1  DATA FOR SOURCE-LINE 193
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   540
PROGRAM NAME =

36043 00007D06 0000                   I1  ALIGNMENT CODE
36044 00007D08 00000000               I1  DATA FOR SOURCE-LINE 188
36045 00007D0C 00000000               I1  DATA FOR SOURCE-LINE 189
36046 00007D10 00000000               I1  DATA FOR SOURCE-LINE 190,198
36047 00007D14 00000000               I1  DATA FOR SOURCE-LINE 194
36048 00007D18 00000000               I1  DATA FOR SOURCE-LINE 195
36049 00007D1C 00000000               I1  DATA FOR SOURCE-LINE 205
36050 00007D20 00000000               I1  DATA FOR SOURCE-LINE 207
36051 00007D24 00000000               I1  DATA FOR SOURCE-LINE 213
36052                                 I1  ***** END-POOL *****
36053 00007D28                    218 I1  ACC_INFMAK1_START
36054                             219 I1          DNM_INFO_SET SETCOD=BIT0;       ;演算中
36055                                 M   
36056 00007D28 9003                   M           MOV.W   #BIT0,R0
36057                                 M    .AIF   0 EQ    0
36058 00007D2A D102                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
36059                                      .AELSE
36060                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
36061                                      .AENDI
36062 00007D2C 2101                   M           MOV.W   R0,@R1                          ;
36063                                 M   
36064                             220 I1          M_BRA   ACC_INFMAK1_START100            ;
36065 00007D2E A006                   M           BRA     ACC_INFMAK1_START100
36066 00007D30 0009                   M           NOP
36067                             221 I1  
36068                                 I1  ***** BEGIN-POOL *****
36069 00007D32 0001                   I1  DATA FOR SOURCE-LINE 219
36070 00007D34 00000000               I1  DATA FOR SOURCE-LINE 219
36071                                 I1  ***** END-POOL *****
36072 00007D38                    222 I1  ACC_INFMAK1_START050:
36073                             223 I1          DNM_INFO_SET SETCOD=BIT1                ;演算中
36074                                 M   
36075 00007D38 9010                   M           MOV.W   #BIT1,R0
36076                                 M    .AIF   0 EQ    0
36077 00007D3A D109                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
36078                                      .AELSE
36079                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
36080                                      .AENDI
36081 00007D3C 2101                   M           MOV.W   R0,@R1                          ;
36082                                 M   
36083                             224 I1  
36084 00007D3E                    225 I1  ACC_INFMAK1_START100:
36085                             226 I1  
36086                             227 I1          FAR_JSR #_SYS2_DT_LOAD,R0                       ;
36087 00007D3E D009                   M           MOV.L   #_SYS2_DT_LOAD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36088 00007D40 400B                   M           JSR     @R0                     ;
36089 00007D42 0009                   M           NOP                                     ;
36090                             228 I1  
36091                             229 I1  
36092                             230 I1          FAR_JSR #_ACC_STEP_INF_MAKE1,R0         ;
36093 00007D44 D008                   M           MOV.L   #_ACC_STEP_INF_MAKE1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36094 00007D46 400B                   M           JSR     @R0                     ;
36095 00007D48 0009                   M           NOP                                     ;
36096                             231 I1                                                  ;_ACC_INF1_STEPSP01     ;000%[前状態],050%
                                          [設定]
36097                             232 I1                                                  ;_ACC_INF1_STEP001      ;BIT2=[0=加速/1=減
                                          速]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   541
PROGRAM NAME =

36098                             233 I1                                                  ;
36099                             234 I1          FAR_JSR #_ACC_TBL_MAKE1,R0              ;
36100 00007D4A D008                   M           MOV.L   #_ACC_TBL_MAKE1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36101 00007D4C 400B                   M           JSR     @R0                     ;
36102 00007D4E 0009                   M           NOP                                     ;
36103                             235 I1  
36104                             236 I1  
36105                             237 I1          DNM_INFO_SET SETCOD=BIT2                ;演算すべき状態、演算結果を反映して良い状
                                          態
36106                                 M   
36107 00007D50 9005                   M           MOV.W   #BIT2,R0
36108                                 M    .AIF   0 EQ    0
36109 00007D52 D103                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
36110                                      .AELSE
36111                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
36112                                      .AENDI
36113 00007D54 2101                   M           MOV.W   R0,@R1                          ;
36114                                 M   
36115                             238 I1  
36116 00007D56                    239 I1  ACC_INFMAK1_EXT
36117                             240 I1  
36118                             241 I1          SUB_END
36119                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36120 00007D56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36121                             242 I1          M_RTS
36122 00007D58 000B                   M           RTS                             ;RTSの後ろの
36123 00007D5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36124                             243 I1  
36125                             244 I1  ;       ***************************************************
36126                             245 I1  ;       ***                                             ***
36127                             246 I1  ;       *** 自分がBIT2=1で相手がBIT2=1またはBIT3=1      ***
36128                             247 I1  ;       *** なら演算を反映する                          ***
36129                             248 I1  ;       ***                                             ***
36130                             249 I1  ;       ***************************************************
36131                             250 I1  ;
36132                             251 I1  ;
36133                             252 I1          .EXPORT _API_SETACC_INFO_GET
36134                                 I1  ***** BEGIN-POOL *****
36135 00007D5C 0002                   I1  DATA FOR SOURCE-LINE 223
36136 00007D5E 0004                   I1  DATA FOR SOURCE-LINE 237
36137 00007D60 00000000               I1  DATA FOR SOURCE-LINE 223,237
36138 00007D64 00000000               I1  DATA FOR SOURCE-LINE 227
36139 00007D68 00000000               I1  DATA FOR SOURCE-LINE 230
36140 00007D6C 00000000               I1  DATA FOR SOURCE-LINE 234
36141                                 I1  ***** END-POOL *****
36142 00007D70                    253 I1  _API_SETACC_INFO_GET:
36143                             254 I1          SUB_START
36144 00007D70 4F22                   M           STS.L   PR,@-R15                ;[必要]
36145                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36146                             255 I1  
36147                             256 I1  
36148                             257 I1   .AIF   0 EQ    0
36149 00007D72 D507               258 C           MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
36150 00007D74 D607               259 C           MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
36151                             260 C   
36152                             261      .AELSE
36153                             262             MOV.L   #_SH2_DNM_CALC_INFO,R5          ;SH2 TO SH4 +SH2演算部
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   542
PROGRAM NAME =

36154                             263             MOV.L   #_SH4_DNM_CALC_INFO,R6          ;SH4 TO SH2 +SH4演算部
36155                             264      .AENDI
36156 00007D76 6051               265 I1          MOV.W   @R5,R0                          ;
36157 00007D78 6261               266 I1          MOV.W   @R6,R2
36158 00007D7A 6423               267 I1          MOV     R2,R4
36159 00007D7C 240B               268 I1          OR      R0,R4
36160                             269 I1  
36161 00007D7E 2448               270 I1          TST     R4,R4                           ;
36162                             271 I1          TST_BIT_OF API_SETACC_INFOGET_CALOK2    ;演算してもいいよ
36163 00007D80 890D                   M           BT      API_SETACC_INFOGET_CALOK2
36164                             272 I1  
36165 00007D82 C804               273 I1          TST     #BIT2,R0                        ;自分がON
36166                             274 I1          TST_BIT_OF API_SETACC_INFOGET_CALNG     ;
36167 00007D84 890E                   M           BT      API_SETACC_INFOGET_CALNG
36168                             275 I1  
36169 00007D86 E40C               276 I1          MOV.B   #(BIT3+BIT2),R4                 ;
36170 00007D88 2248               277 I1          TST     R4,R2                           ;
36171                             278 I1          TST_BIT_ON API_SETACC_INFOGET_CALOK1    ;
36172 00007D8A 8B05                   M           BF      API_SETACC_INFOGET_CALOK1
36173                             279 I1          M_BRA   API_SETACC_INFOGET_CALNG        ;
36174 00007D8C A00A                   M           BRA     API_SETACC_INFOGET_CALNG
36175 00007D8E 0009                   M           NOP
36176                             280 I1  
36177                             281 I1  
36178                                 I1  ***** BEGIN-POOL *****
36179 00007D90 00000000               I1  DATA FOR SOURCE-LINE 258
36180 00007D94 00000000               I1  DATA FOR SOURCE-LINE 259
36181                                 I1  ***** END-POOL *****
36182 00007D98                    282 I1  API_SETACC_INFOGET_CALOK1:
36183 00007D98 E001               283 I1          MOV.B   #BIT0,R0                        ;演算しろ[完了にしてね！！]
36184                             284 I1          M_BRA   API_SETACC_INFOGET_CALEXT       ;
36185 00007D9A A004                   M           BRA     API_SETACC_INFOGET_CALEXT
36186 00007D9C 0009                   M           NOP
36187                             285 I1  
36188 00007D9E                    286 I1  API_SETACC_INFOGET_CALOK2:
36189 00007D9E E002               287 I1          MOV.B   #BIT1,R0                        ;完了にしないでね
36190                             288 I1          M_BRA   API_SETACC_INFOGET_CALEXT
36191 00007DA0 A001                   M           BRA     API_SETACC_INFOGET_CALEXT
36192 00007DA2 0009                   M           NOP
36193                             289 I1  
36194 00007DA4                    290 I1  API_SETACC_INFOGET_CALNG:
36195 00007DA4 200A               291 I1          XOR     R0,R0
36196 00007DA6                    292 I1  API_SETACC_INFOGET_CALEXT:
36197                             293 I1  
36198                             294 I1          SUB_END
36199                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36200 00007DA6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36201                             295 I1          M_RTS
36202 00007DA8 000B                   M           RTS                             ;RTSの後ろの
36203 00007DAA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36204                             296 I1  
36205                             297 I1          .EXPORT _API_SETACC_STS_END             ;
36206                             298 I1  
36207 00007DAC                    299 I1  _API_SETACC_STS_END:
36208                             300 I1          SUB_START
36209 00007DAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
36210                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   543
PROGRAM NAME =

36211                             301 I1  
36212                             302 I1          DNM_INFO_SET SETCOD=BIT3                ;演算終了した状態
36213                                 M   
36214 00007DAE 9004                   M           MOV.W   #BIT3,R0
36215                                 M    .AIF   0 EQ    0
36216 00007DB0 D102                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
36217                                      .AELSE
36218                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
36219                                      .AENDI
36220 00007DB2 2101                   M           MOV.W   R0,@R1                          ;
36221                                 M   
36222                             303 I1  
36223                             304 I1          SUB_END
36224                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36225 00007DB4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36226                             305 I1          M_RTS
36227 00007DB6 000B                   M           RTS                             ;RTSの後ろの
36228 00007DB8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36229                             306 I1  
36230                             307 I1  ;       ----CLRはCPUAはCPUAとCPUBを行う-----------
36231                                 I1  ***** BEGIN-POOL *****
36232 00007DBA 0008                   I1  DATA FOR SOURCE-LINE 302
36233 00007DBC 00000000               I1  DATA FOR SOURCE-LINE 302
36234                                 I1  ***** END-POOL *****
36235 00007DC0                    308 I1  _API_SETACC_STS_CLR:
36236                             309 I1          SUB_START
36237 00007DC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
36238                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36239                             310 I1   .AIF   0 EQ    0
36240 00007DC2 D507               311 C           MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
36241 00007DC4 6051               312 C           MOV.W   @R5,R0                          ;
36242 00007DC6 D607               313 C           MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
36243 00007DC8 6261               314 C           MOV.W   @R6,R2                          ;
36244                             315 C   ;;;;[本当はこっち]      MOV.B   #BIT3,R4
36245 00007DCA E404               316 C           MOV.B   #BIT2,R4                        ;ｽｷｬﾝﾃｽﾄ
36246 00007DCC 3240               317 C           CMP/EQ  R4,R2                           ;(R2==R0 R0?BIT3　の論理は危険 )
36247 00007DCE 8B04               318 C           BF      API_SETACC_STSCLR_EXT           ;
36248 00007DD0 3040               319 C           CMP/EQ  R4,R0                           ;完了？
36249 00007DD2 8B02               320 C           BF      API_SETACC_STSCLR_EXT           ;
36250                             321 C   
36251 00007DD4 200A               322 C           XOR     R0,R0                           ;IDEL
36252 00007DD6 2501               323 C           MOV.W   R0,@R5                          ;
36253 00007DD8 2601               324 C           MOV.W   R0,@R6                          ;
36254                             325 C   
36255 00007DDA                    326 C   API_SETACC_STSCLR_EXT:
36256                             327 C   
36257                             328 I1   .AENDI
36258                             329 I1  
36259                             330 I1          SUB_END
36260                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36261 00007DDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36262                             331 I1          M_RTS
36263 00007DDC 000B                   M           RTS                             ;RTSの後ろの
36264 00007DDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36265                             332 I1  
36266                             333 I1  
36267                             334 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   544
PROGRAM NAME =

36268                             335 I1  ;       *******************************************
36269                             336 I1  ;       ***                                     ***
36270                             337 I1  ;       ***             ステップINFOMATION      ***
36271                             338 I1  ;       ***                                     ***
36272                             339 I1  ;       *******************************************
36273                             340 I1  
36274                             341 I1  
36275                                 I1  ***** BEGIN-POOL *****
36276 00007DE0 00000000               I1  DATA FOR SOURCE-LINE 311
36277 00007DE4 00000000               I1  DATA FOR SOURCE-LINE 313
36278                                 I1  ***** END-POOL *****
36279 00007DE8                    342 I1  _ACC_STEP_INF_MAKE1:
36280                             343 I1          SUB_START
36281 00007DE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
36282                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36283                             344 I1  
36284                             345 I1  
36285 00007DEA DE0F               346 I1          MOV.L   #_SETX_POS_SDAT1_INF1,R14               ;往路情報 long data(BIT1=0正/1逆,
                                          BIT0=0 速度停止)
36286                             347 I1  
36287 00007DEC D10F               348 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
36288 00007DEE 6511               349 I1          MOV.W   @R1,R5                                  ;
36289 00007DF0 7501               350 I1          ADD     #1,R5
36290                             351 I1  
36291                             352 I1  
36292 00007DF2 D80F               353 I1          MOV.L   #_ACC_INF1_STEP001,R8                   ;BIT2=[0=加速/1=減速]
36293                             354 I1                                                          ;BIT1=[0=正,1=逆]
36294                             355 I1                                                          ;BIT0=[0=停/1=連続]
36295                             356 I1  
36296 00007DF4 D90F               357 I1          MOV.L   #_ACC_INF1_STEPSP01,R9                  ;000%[前状態],050%[設定]
36297                             358 I1  
36298 00007DF6 277A               359 I1          XOR     R7,R7                                   ;(前回速度)
36299 00007DF8 DA0F               360 I1          MOV.L   #_SVP_OBJECT_SPD_TOP,R10                ;
36300                             361 I1  
36301 00007DFA                    362 I1  ACC_STEPINF_MAK1_100LOP:                                        ;
36302                             363 I1  
36303                             364 I1  
36304 00007DFA 62A5               365 I1          MOV.W   @R10+,R2                                ;
36305                             366 I1  
36306 00007DFC 9412               367 I1          MOV.W   #1,R4                                   ;
36307 00007DFE 3540               368 I1          CMP/EQ  R4,R5                                   ;"残りｽﾃｯﾌﾟ数=1"(戻りﾃﾞｰﾀ)
36308 00007E00 8B01               369 I1          BF      ACC_STEPINF_MAK1_120                    ;
36309 00007E02 D10E               370 I1          MOV.L   #_SVP_UPAREA_SPD0,R1                    ;0.1%　戻り速度
36310 00007E04 6211               371 I1          MOV.W   @R1,R2                                  ;
36311 00007E06                    372 I1  ACC_STEPINF_MAK1_120:
36312                             373 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1                    ;
36313 00007E06 D10E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36314 00007E08 410B                   M           JSR     @R1                     ;
36315 00007E0A 0009                   M           NOP                                     ;
36316                             374 I1  
36317                             375 I1  
36318                             376 I1  ;R7=0,R2=sv
36319                             377 I1  
36320 00007E0C 60E6               378 I1          MOV.L   @R14+,R0                                ;
36321 00007E0E C9FB               379 I1          AND     #LOW ~BIT2,R0                           ;
36322                             380 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   545
PROGRAM NAME =

36323 00007E10 3270               381 I1          CMP/EQ  R7,R2                                   ;R7(OLD)==R2
36324 00007E12 8B17               382 I1          BF      ACC_STEPINF_MAK1_180                    ;NO
36325                             383 I1  
36326                             384 I1  ;       ====== 速度が同じ場合、前の段の加速・減速情報を使用する
36327 00007E14 78FE               385 I1          ADD     #-2,R8                                  ;
36328 00007E16 6185               386 I1          MOV.W   @R8+,R1                                 ;
36329 00007E18 9405               387 I1          MOV.W   #BIT2,R4                                ;
36330 00007E1A 2148               388 I1          TST     R4,R1                                   ;
36331                             389 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;
36332 00007E1C 8915                   M           BT      ACC_STEPINF_MAK1_200
36333 00007E1E CB04               390 I1          OR      #BIT2,R0                                ;
36334                             391 I1          M_BRA   ACC_STEPINF_MAK1_200                    ;
36335 00007E20 A013                   M           BRA     ACC_STEPINF_MAK1_200
36336 00007E22 0009                   M           NOP
36337                             392 I1  
36338                             393 I1  
36339                             394 I1  
36340                                 I1  ***** BEGIN-POOL *****
36341 00007E24 0001                   I1  DATA FOR SOURCE-LINE 367
36342 00007E26 0004                   I1  DATA FOR SOURCE-LINE 387
36343 00007E28 00000000               I1  DATA FOR SOURCE-LINE 346
36344 00007E2C 00000000               I1  DATA FOR SOURCE-LINE 348
36345 00007E30 00000000               I1  DATA FOR SOURCE-LINE 353
36346 00007E34 00000000               I1  DATA FOR SOURCE-LINE 357
36347 00007E38 00000000               I1  DATA FOR SOURCE-LINE 360
36348 00007E3C 00000000               I1  DATA FOR SOURCE-LINE 370
36349 00007E40 00000000               I1  DATA FOR SOURCE-LINE 373
36350                                 I1  ***** END-POOL *****
36351 00007E44                    395 I1  ACC_STEPINF_MAK1_180:                                   ;
36352 00007E44 3273               396 I1          CMP/GE  R7,R2                                   ;R7(OLD)=<R2
36353                             397 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;加速JUMP
36354 00007E46 8900                   M           BT      ACC_STEPINF_MAK1_200
36355 00007E48 CB04               398 I1          OR      #BIT2,R0                                ;
36356 00007E4A                    399 I1  ACC_STEPINF_MAK1_200:                                   ;
36357 00007E4A 2801               400 I1          MOV.W   R0,@R8                                  ;BIT2,BIT1,BIT0 SAVE
36358 00007E4C 7802               401 I1          ADD     #2,R8                                   ;
36359                             402 I1  
36360 00007E4E 2971               403 I1          MOV.W   R7,@R9                                  ;OLD
36361 00007E50 7902               404 I1          ADD     #2,R9                                   ;
36362 00007E52 2921               405 I1          MOV.W   R2,@R9                                  ;TARGET
36363 00007E54 7902               406 I1          ADD     #2,R9                                   ;
36364                             407 I1  
36365                             408 I1  
36366 00007E56 C801               409 I1          TST     #BIT0,R0                                ;
36367                             410 I1          TST_BIT_ON ACC_STEPINF_MAK1_250                 ;BIT0=0(停止) NO! JUMP
36368 00007E58 8B00                   M           BF      ACC_STEPINF_MAK1_250
36369 00007E5A 222A               411 I1          XOR     R2,R2                                   ;
36370 00007E5C                    412 I1  ACC_STEPINF_MAK1_250:                                   ;
36371 00007E5C 6723               413 I1          MOV     R2,R7                                   ;
36372 00007E5E 75FF               414 I1          ADD     #-1,R5                                  ;
36373 00007E60 2558               415 I1          TST     R5,R5                                   ;
36374                             416 I1          TST_BIT_OF ACC_STEPINF_MAK1_300                 ;
36375 00007E62 8901                   M           BT      ACC_STEPINF_MAK1_300
36376                             417 I1          M_BRA   ACC_STEPINF_MAK1_100LOP                 ;
36377 00007E64 AFC9                   M           BRA     ACC_STEPINF_MAK1_100LOP
36378 00007E66 0009                   M           NOP
36379                             418 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   546
PROGRAM NAME =

36380 00007E68                    419 I1  ACC_STEPINF_MAK1_300:                                   ;
36381                             420 I1  
36382                             421 I1          SUB_END
36383                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36384 00007E68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36385                             422 I1          M_RTS
36386 00007E6A 000B                   M           RTS                             ;RTSの後ろの
36387 00007E6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36388                             423 I1  
36389                             424 I1  
36390 00007E6E                    425 I1  _R2_MUL10_ANS_R2:
36391                             426 I1          SUB_START
36392 00007E6E 4F22                   M           STS.L   PR,@-R15                ;[必要]
36393                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36394                             427 I1          PUSH_REG1 R1
36395 00007E70 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36396                                 M                                           ;REG=>[SP]
36397                                 M                                           ;"-4" FF,FF,FF,FC
36398 00007E72 9105               428 I1          MOV.W   #D'10,R1        ;
36399 00007E74 321D               429 I1          DMULS.L R1,R2           ;
36400 00007E76 021A               430 I1          STS     MACL,R2         ;
36401                             431 I1          POP_REG1 R1
36402                                 M                                   ; RE"+4" 00,00,00,04
36403 00007E78 61F6                   M           MOV.L   @R15+,R1        ;
36404                             432 I1          SUB_END
36405                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36406 00007E7A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36407                             433 I1          M_RTS
36408 00007E7C 000B                   M           RTS                             ;RTSの後ろの
36409 00007E7E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36410                             434 I1  
36411                             435 I1  
36412                             436 I1  ;       ***************************************************
36413                             437 I1  ;       ***                                             ***
36414                             438 I1  ;       ***     振り子加速度テーブル作成                ***
36415                             439 I1  ;       ***                                             ***
36416                             440 I1  ;       ***                                             ***
36417                             441 I1  ;       ***                                             ***
36418                             442 I1  ;       ***************************************************
36419                             443 I1  ;       256個　0番目=0と255番目=10000とすること
36420                             444 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         255             ;255msec時間 ループ数は256
36421                             445 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         50              ;255msec時間 ループ数は256
36422                             446 I1  ;
36423                             447 I1  ;
36424                             448 I1  ;       演算タイミングは
36425                             449 I1  ;                       「速度設定変更時」
36426                             450 I1  ;                       「非常停止時」
36427                             451 I1  ;                       「起動中」
36428                             452 I1  ;
36429                             453 I1  ;
36430                                 I1  ***** BEGIN-POOL *****
36431 00007E80 000A                   I1  DATA FOR SOURCE-LINE 428
36432                                 I1  ***** END-POOL *****
36433 00007E82                    454 I1  _ACC_TBL_MAKE1
36434                             455 I1          SUB_START
36435 00007E82 4F22                   M           STS.L   PR,@-R15                ;[必要]
36436                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   547
PROGRAM NAME =

36437                             456 I1  
36438                             457 I1  
36439                             458 I1  
36440                             459 I1  ;;;;2013-02-05[移動]    FAR_JSR #_USE_IN_TBL_MOV,R0             ;2010-10-20
36441                             460 I1  ;;;;2013-02-05[移動];   ---------<<<<<加減速時間 1~1000>>>>>-----------
36442                             461 I1  ;;;;2013-02-05[移動]    MOV.L   #_TBL_ANS_ACCTIM,R1                             ;2010-10-2
                                          5
36443                             462 I1  ;;;;2013-02-05[移動]    MOV.W   @R1,R2                                          ;
36444                             463 I1  ;;;;2013-02-05[移動]    TST     R2,R2
36445                             464 I1  ;;;;2013-02-05[移動]    TST_BIT_ON ACC_TBLMAK1_DTCHK050                         ;
36446                             465 I1  ;;;;2013-02-05[移動]    MOV.W   #1,R2                                           ;
36447                             466 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK050                                                ;
36448                             467 I1  ;;;;2013-02-05[移動]    MOV.W   #D'1000,R0                                      ;
36449                             468 I1  ;;;;2013-02-05[移動]    CMP/HS  R2,R0                                           ;
36450                             469 I1  ;;;;2013-02-05[移動]    BT      ACC_TBLMAK1_DTCHK100                            ;
36451                             470 I1  ;;;;2013-02-05[移動]    MOV     R0,R2                                           ;1msec~100
                                          0でﾘﾐｯﾄ
36452                             471 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK100                                                ;
36453                             472 I1  ;;;;2013-02-05[移動]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;
36454                             473 I1  ;;;;2013-02-05[移動]    MOV.W   R2,@R1                                          ;
36455                             474 I1  
36456                             475 I1  
36457                             476 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
36458                             477 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
36459                             478 I1  ;;;[2013-05-20 前から未使用];   ---     BASE(0%->100%=100%→0% 最終減速)ﾃﾞｰﾀの作成      --
                                          -
36460                             479 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
36461                             480 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
36462                             481 I1  ;;;[2013-05-20 前から未使用]
36463                             482 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(0~100.00%の加速時間,速度ﾃｰﾌﾞﾙ作成)----
                                          -----------
36464                             483 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBLUSE,R11                             ;
                                          元ﾃｰﾌﾞﾙADR(2byte)
36465                             484 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBL_TIM,R1                             ;2
                                          55msec ﾙｰﾌﾟは256回
36466                             485 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R12                                         ;
36467                             486 I1  ;;;[2013-05-20 前から未使用]
36468                             487 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_
                                          SET1_ACCLAT_TIM1
36469                             488 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R7                                          ;R
                                          7=最大加速時間
36470                             489 I1  ;;;[2013-05-20 前から未使用]
36471                             490 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #0,R8                                           ;R
                                          8:BASE SPEED速度
36472                             491 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #_ACC_PER_V_MAX,R9                              ;R
                                          9:目標速度
36473                             492 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R13                       ;R
                                          13:速度格納用//
36474                             493 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R5                        ;(
                                          このｹｰｽでは不要)前の段の速度-RAM
36475                             494 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R14                         ;R
                                          14:加減速時間
36476                             495 I1  ;;;[2013-05-20 前から未使用]                                                            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   548
PROGRAM NAME =

36477                             496 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          5:前の段の速度-RAM
36478                             497 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          7:最大加減速時間
36479                             498 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          8:OLD-SPD
36480                             499 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          9:TARGET
36481                             500 I1  ;;;[2013-05-20 前から未使用]    MOV     R7,R10                                          ;2
                                          013-05-20 R10:(前段の加速時間/PLS TABLE用/)
36482                             501 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          11:SRC - SPD TABLE
36483                             502 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          12:SRC - 時間
36484                             503 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R13:Output - SPD RAM>
36485                             504 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R14:Output - ACC RAM>
36486                             505 I1  ;;;[2013-05-20 前から未使用]
36487                             506 I1  ;;;[2013-05-20 前から未使用]    PUSH_ALL                                                ;
36488                             507 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;
36489                             508 I1  ;;;[2013-05-20 前から未使用]    POP_ALL                                                 ;
36490                             509 I1  ;;;[2013-05-20 前から未使用]
36491                             510 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)---------
                                          --
36492                             511 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
36493                             512 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R6                                          ;
36494                             513 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R10                       ;
36495                             514 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          6=MAX pls/s
36496                             515 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          13=_ACC_BASEDAT_STPVTBL
36497                             516 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          14=_ACC_BASEDAT_ACCTM
36498                             517 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          10=_ACC_BASEDAT_STPPTBL
36499                             518 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
36500                             519 I1  ;;;[2013-05-20 前から未使用]
36501                             520 I1  ;;;[2013-05-20 前から未使用];   -------- 2013-02-25 ﾃﾞｰﾀﾁｪｯｸ及び金型ﾀｯﾁ用 ----------
36502                             521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_DNM_MAX_GENSOK_LENGTH,R1                      ;/
                                          /100%時→0時の減速距離
36503                             522 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R7,@R1                                          ;
36504                             523 I1  
36505                             524 I1  
36506                             525 I1                                                                  ;
36507                             526 I1  
36508                             527 I1  ;       -----------------------------------------------------------
36509                             528 I1  ;       ---                                                     ---
36510                             529 I1  ;       ---     1段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
36511                             530 I1  ;       ---     1段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
36512                             531 I1  ;       ---                                                     ---
36513                             532 I1  ;       -----------------------------------------------------------
36514 00007E84 D00C               533 I1          MOV.L   #_ACC_STEP01_TBL_TOP,R0                         ;
36515 00007E86 401E               534 I1          LDC     R0,GBR                                          ;
36516                             535 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
36517 00007E88 D00C                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36518 00007E8A 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   549
PROGRAM NAME =

36519 00007E8C 0009                   M           NOP                                     ;
36520                             536 I1  
36521                             537 I1  ;       -----------------------------------------------------------
36522                             538 I1  ;       ---                                                     ---
36523                             539 I1  ;       ---     2段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
36524                             540 I1  ;       ---     2段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
36525                             541 I1  ;       ---                                                     ---
36526                             542 I1  ;       -----------------------------------------------------------
36527 00007E8E D10C               543 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
36528 00007E90 6511               544 I1          MOV.W   @R1,R5                                          ;
36529 00007E92 7501               545 I1          ADD     #1,R5
36530                             546 I1  
36531 00007E94 D60B               547 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
36532 00007E96 6066               548 I1          MOV.L   @R6+,R0                                         ;1段目分
36533 00007E98 75FF               549 I1          ADD     #-1,R5                                          ;
36534                             550 I1  
36535 00007E9A                    551 I1  ACC_TBLMAK1_200LOP
36536 00007E9A 6066               552 I1          MOV.L   @R6+,R0                                         ;
36537                             553 I1          PUSH_REG1 R5
36538 00007E9C 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
36539                                 M                                           ;REG=>[SP]
36540                                 M                                           ;"-4" FF,FF,FF,FC
36541                             554 I1          PUSH_REG1 R6
36542 00007E9E 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
36543                                 M                                           ;REG=>[SP]
36544                                 M                                           ;"-4" FF,FF,FF,FC
36545                             555 I1  
36546 00007EA0 401E               556 I1          LDC     R0,GBR                                          ;
36547                             557 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
36548 00007EA2 D006                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36549 00007EA4 400B                   M           JSR     @R0                     ;
36550 00007EA6 0009                   M           NOP                                     ;
36551                             558 I1  
36552                             559 I1          POP_REG1 R6
36553                                 M                                   ; RE"+4" 00,00,00,04
36554 00007EA8 66F6                   M           MOV.L   @R15+,R6        ;
36555                             560 I1          POP_REG1 R5
36556                                 M                                   ; RE"+4" 00,00,00,04
36557 00007EAA 65F6                   M           MOV.L   @R15+,R5        ;
36558 00007EAC 75FF               561 I1          ADD     #-1,R5
36559 00007EAE 2558               562 I1          TST     R5,R5                                           ;
36560                             563 I1          TST_BIT_ON ACC_TBLMAK1_200LOP                           ;
36561 00007EB0 8BF3                   M           BF      ACC_TBLMAK1_200LOP
36562                             564 I1  
36563                             565 I1  
36564                             566 I1  
36565                             567 I1          SUB_END
36566                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36567 00007EB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36568                             568 I1          M_RTS
36569 00007EB4 000B                   M           RTS                             ;RTSの後ろの
36570 00007EB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36571                             569 I1  
36572                             570 I1  
36573                             571 I1  
36574                             572 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   550
PROGRAM NAME =

36575                             573 I1  ;       *******************************************
36576                             574 I1  ;       ***                                     ***
36577                             575 I1  ;       ***     加速度パターン選択+転送         ***
36578                             576 I1  ;       ***                                     ***
36579                             577 I1  ;       *******************************************
36580                                 I1  ***** BEGIN-POOL *****
36581 00007EB8 00000000               I1  DATA FOR SOURCE-LINE 533
36582 00007EBC 00000000               I1  DATA FOR SOURCE-LINE 535,557
36583 00007EC0 00000000               I1  DATA FOR SOURCE-LINE 543
36584 00007EC4 00000000               I1  DATA FOR SOURCE-LINE 547
36585                                 I1  ***** END-POOL *****
36586 00007EC8                    578 I1  _USE_IN_TBL_MOV:
36587                             579 I1          SUB_START
36588 00007EC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
36589                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36590                             580 I1  
36591                             581 I1  
36592                             582 I1  ;       -----------------------------------------------
36593                             583 I1  ;;;;2013-02-05  MOV.L   #_TBL_ANS_ACC_SEL,R1                            ;(0,1),2[TBL2],3[T
                                          BL3]
36594                             584 I1  ;;;;2013-02-05  MOV.W   @R1,R0                                          ;
36595                             585 I1  ;;;;2013-02-05
36596                             586 I1  ;;;;2013-02-05
36597                             587 I1  ;;;;2013-02-05
36598                             588 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_CNT,R7                         ;
36599                             589 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_IN_TOP,R5                      ;
36600                             590 I1  ;;;;2013-02-05
36601                             591 I1  ;;;;2013-02-05  CMP/EQ  #3,R0                                           ;
36602                             592 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
36603                             593 I1  ;;;;2013-02-05
36604                             594 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_CNT,R7                         ;
36605                             595 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_IN_TOP,R5
36606                             596 I1  ;;;;2013-02-05  CMP/EQ  #2,R0                                           ;
36607                             597 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
36608                             598 I1  ;;;;2013-02-05
36609                             599 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
36610                             600 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
36611                             601 I1  ;;;;2013-02-05
36612                             602 I1  ;;;;2013-02-05  USE_IN_TBLMV_100:
36613                             603 I1  
36614 00007ECA D707               604 I1          MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
36615 00007ECC D507               605 I1          MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
36616 00007ECE 6371               606 I1          MOV.W   @R7,R3                                          ;
36617 00007ED0 D107               607 I1          MOV.L   #_ACC_IN_TBL_TIM,R1                             ;255msec ﾙｰﾌﾟは256回
36618 00007ED2 2131               608 I1          MOV.W   R3,@R1                                          ;
36619 00007ED4 7302               609 I1          ADD     #2,R3                                           ;
36620                             610 I1  
36621 00007ED6 D607               611 I1          MOV.L   #_ACC_IN_TBLUSE,R6                              ;元ﾃｰﾌﾞﾙADR(2byte)
36622                             612 I1  
36623 00007ED8                    613 I1  USE_IN_TBLMV_100LOP:
36624 00007ED8 2338               614 I1          TST     R3,R3
36625                             615 I1          TST_BIT_OF USE_IN_TBLMV_500
36626 00007EDA 890D                   M           BT      USE_IN_TBLMV_500
36627 00007EDC 6055               616 I1          MOV.W   @R5+,R0
36628 00007EDE 2601               617 I1          MOV.W   R0,@R6
36629 00007EE0 7602               618 I1          ADD     #2,R6                           ;
36630 00007EE2 73FF               619 I1          ADD     #-1,R3                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   551
PROGRAM NAME =

36631                             620 I1          M_BRA   USE_IN_TBLMV_100LOP             ;
36632 00007EE4 AFF8                   M           BRA     USE_IN_TBLMV_100LOP
36633 00007EE6 0009                   M           NOP
36634                             621 I1  
36635                                 I1  ***** BEGIN-POOL *****
36636 00007EE8 00000000               I1  DATA FOR SOURCE-LINE 604
36637 00007EEC 00000000               I1  DATA FOR SOURCE-LINE 605
36638 00007EF0 00000000               I1  DATA FOR SOURCE-LINE 607
36639 00007EF4 00000000               I1  DATA FOR SOURCE-LINE 611
36640                                 I1  ***** END-POOL *****
36641 00007EF8                    622 I1  USE_IN_TBLMV_500:
36642                             623 I1  
36643                             624 I1          SUB_END
36644                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36645 00007EF8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36646                             625 I1          M_RTS
36647 00007EFA 000B                   M           RTS                             ;RTSの後ろの
36648 00007EFC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36649                             626 I1  
36650                             627 I1  
36651                             628 I1  ;       ***************************************************
36652                             629 I1  ;       ***                                             ***
36653                             630 I1  ;       ***             INFO->TABLE                     ***
36654                             631 I1  ;       ***                                             ***
36655                             632 I1  ;       ***************************************************
36656                             633 I1  ;       Input GBR
36657 00007EFE                    634 I1  _ACC_INFO_CHNAGE_TBL_MAK:
36658                             635 I1          SUB_START
36659 00007EFE 4F22                   M           STS.L   PR,@-R15                ;[必要]
36660                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36661 00007F00 C600               636 I1          MOV.L   @(AFM_SRC_TBL_TOP-ACC_FORM_TOP,GBR),R0          ;
36662 00007F02 6B03               637 I1          MOV     R0,R11                                          ;ACC_IN_TBL1;元ﾃｰﾌﾞﾙADR(2b
                                          yte)
36663                             638 I1  
36664 00007F04 C601               639 I1          MOV.L   @(AFM_SRC_TBL_MEM-ACC_FORM_TOP,GBR),R0          ;
36665 00007F06 6C01               640 I1          MOV.W   @R0,R12                                         ;_ACC_IN_TBL_TIM
36666                             641 I1  
36667 00007F08 D144               642 I1          MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_SET1_ACCLAT_TIM1
36668 00007F0A 6711               643 I1          MOV.W   @R1,R7                                          ;R7=最大加速時間
36669                             644 I1  
36670 00007F0C C602               645 I1          MOV.L   @(AFM_STEP_INF_SPD-ACC_FORM_TOP,GBR),R0         ;
36671 00007F0E 6805               646 I1          MOV.W   @R0+,R8                                         ;R8:BASE SPEED速度
36672 00007F10 6901               647 I1          MOV.W   @R0,R9                                          ;R9:目標速度
36673                             648 I1  
36674 00007F12 C604               649 I1          MOV.L   @(AFM_OLD_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;前段の速度TBL(前段=現段速
                                          度時使用)
36675 00007F14 6503               650 I1          MOV     R0,R5                                           ;
36676 00007F16 C606               651 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;今回の速度格納用
36677 00007F18 6D03               652 I1          MOV     R0,R13                                          ;
36678                             653 I1  
36679 00007F1A C607               654 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0          ;
36680 00007F1C 6E03               655 I1          MOV     R0,R14                                          ;今回の加速時間格納用
36681                             656 I1  
36682 00007F1E C605               657 I1          MOV.L   @(AFM_OLD_CTLACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
36683 00007F20 6A01               658 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
                                          =現段速度時使用)
36684                             659 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   552
PROGRAM NAME =

36685                             660 I1  
36686                             661 I1  
36687                             662 I1          PUSH_ALL                                                ;
36688                                 M           PUSH_REG1       R0      ;
36689 00007F22 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
36690                                 M                                           ;REG=>[SP]
36691                                 M                                           ;"-4" FF,FF,FF,FC
36692                                 M           PUSH_REG1       R1      ;
36693 00007F24 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36694                                 M                                           ;REG=>[SP]
36695                                 M                                           ;"-4" FF,FF,FF,FC
36696                                 M           PUSH_REG1       R2      ;
36697 00007F26 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
36698                                 M                                           ;REG=>[SP]
36699                                 M                                           ;"-4" FF,FF,FF,FC
36700                                 M           PUSH_REG1       R3      ;
36701 00007F28 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
36702                                 M                                           ;REG=>[SP]
36703                                 M                                           ;"-4" FF,FF,FF,FC
36704                                 M           PUSH_REG1       R4      ;
36705 00007F2A 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
36706                                 M                                           ;REG=>[SP]
36707                                 M                                           ;"-4" FF,FF,FF,FC
36708                                 M           PUSH_REG1       R5      ;
36709 00007F2C 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
36710                                 M                                           ;REG=>[SP]
36711                                 M                                           ;"-4" FF,FF,FF,FC
36712                                 M           PUSH_REG1       R6      ;
36713 00007F2E 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
36714                                 M                                           ;REG=>[SP]
36715                                 M                                           ;"-4" FF,FF,FF,FC
36716                                 M           PUSH_REG1       R7      ;
36717 00007F30 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
36718                                 M                                           ;REG=>[SP]
36719                                 M                                           ;"-4" FF,FF,FF,FC
36720                                 M           PUSH_REG1       R8      ;
36721 00007F32 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
36722                                 M                                           ;REG=>[SP]
36723                                 M                                           ;"-4" FF,FF,FF,FC
36724                                 M           PUSH_REG1       R9      ;
36725 00007F34 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
36726                                 M                                           ;REG=>[SP]
36727                                 M                                           ;"-4" FF,FF,FF,FC
36728                                 M           PUSH_REG1       R10     ;
36729 00007F36 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
36730                                 M                                           ;REG=>[SP]
36731                                 M                                           ;"-4" FF,FF,FF,FC
36732                                 M           PUSH_REG1       R11     ;
36733 00007F38 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
36734                                 M                                           ;REG=>[SP]
36735                                 M                                           ;"-4" FF,FF,FF,FC
36736                                 M           PUSH_REG1       R12     ;
36737 00007F3A 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
36738                                 M                                           ;REG=>[SP]
36739                                 M                                           ;"-4" FF,FF,FF,FC
36740                                 M           PUSH_REG1       R13     ;
36741 00007F3C 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   553
PROGRAM NAME =

36742                                 M                                           ;REG=>[SP]
36743                                 M                                           ;"-4" FF,FF,FF,FC
36744                                 M           PUSH_REG1       R14     ;
36745 00007F3E 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
36746                                 M                                           ;REG=>[SP]
36747                                 M                                           ;"-4" FF,FF,FF,FC
36748                                 M           PUSH_MACHL              ;
36749 00007F40 4F02                   M           STS.L   MACH,@-R15
36750 00007F42 4F12                   M           STS.L   MACL,@-R15
36751                                 M           PUSH_SYS_REG    GBR     ;
36752 00007F44 4F13                   M           STC.L   GBR,@-R15
36753                                 M           .AIF    2 EQ 3
36754                                             .AELSE
36755                                 C           PUSH_FPU_ALL            ;2001-07-08
36756                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
36757 00007F46 4F52                   M           STS.L   FPUL,@-R15
36758 00007F48 4F62                   M           STS.L   FPSCR,@-R15
36759                                 M                   PUSH_FPU_REG1 FR0       ;
36760 00007F4A FF0B                   M           FMOV.S  FR0,@-R15
36761                                 M                   PUSH_FPU_REG1 FR1       ;
36762 00007F4C FF1B                   M           FMOV.S  FR1,@-R15
36763                                 M                   PUSH_FPU_REG1 FR2       ;
36764 00007F4E FF2B                   M           FMOV.S  FR2,@-R15
36765                                 M                   PUSH_FPU_REG1 FR3       ;
36766 00007F50 FF3B                   M           FMOV.S  FR3,@-R15
36767                                 M                   PUSH_FPU_REG1 FR4       ;
36768 00007F52 FF4B                   M           FMOV.S  FR4,@-R15
36769                                 M           .AENDI
36770                             663 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;X%(OLD)->Y%(NEW:ﾀｰｹﾞｯﾄ作
                                          成)ANS R13,R14
36771 00007F54 D032                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36772 00007F56 400B                   M           JSR     @R0                     ;
36773 00007F58 0009                   M           NOP                                     ;
36774                             664 I1          POP_ALL                                                 ;
36775                                 M           .AIF    2 EQ 3
36776                                             .AELSE
36777                                 C           POP_FPU_ALL             ;2001-07-08
36778                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
36779 00007F5A F4F9                   M           FMOV.S  @R15+,FR4
36780                                 M                   POP_FPU_REG1 FR3        ;
36781 00007F5C F3F9                   M           FMOV.S  @R15+,FR3
36782                                 M                   POP_FPU_REG1 FR2        ;
36783 00007F5E F2F9                   M           FMOV.S  @R15+,FR2
36784                                 M                   POP_FPU_REG1 FR1        ;
36785 00007F60 F1F9                   M           FMOV.S  @R15+,FR1
36786                                 M                   POP_FPU_REG1 FR0        ;
36787 00007F62 F0F9                   M           FMOV.S  @R15+,FR0
36788                                 M                   POP_SYS_FPU             ;
36789 00007F64 4F66                   M           LDS.L   @R15+,FPSCR
36790 00007F66 4F56                   M           LDS.L   @R15+,FPUL
36791                                 M           .AENDI
36792                                 M           POP_SYS_REG     GBR     ;
36793 00007F68 4F17                   M           LDC.L   @R15+,GBR
36794                                 M           POP_MACHL               ;
36795 00007F6A 4F16                   M           LDS.L   @R15+,MACL
36796 00007F6C 4F06                   M           LDS.L   @R15+,MACH
36797                                 M           POP_REG1        R14     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   554
PROGRAM NAME =

36798                                 M                                   ; RE"+4" 00,00,00,04
36799 00007F6E 6EF6                   M           MOV.L   @R15+,R14        ;
36800                                 M           POP_REG1        R13     ;
36801                                 M                                   ; RE"+4" 00,00,00,04
36802 00007F70 6DF6                   M           MOV.L   @R15+,R13        ;
36803                                 M           POP_REG1        R12     ;
36804                                 M                                   ; RE"+4" 00,00,00,04
36805 00007F72 6CF6                   M           MOV.L   @R15+,R12        ;
36806                                 M           POP_REG1        R11     ;
36807                                 M                                   ; RE"+4" 00,00,00,04
36808 00007F74 6BF6                   M           MOV.L   @R15+,R11        ;
36809                                 M           POP_REG1        R10     ;
36810                                 M                                   ; RE"+4" 00,00,00,04
36811 00007F76 6AF6                   M           MOV.L   @R15+,R10        ;
36812                                 M           POP_REG1        R9      ;
36813                                 M                                   ; RE"+4" 00,00,00,04
36814 00007F78 69F6                   M           MOV.L   @R15+,R9        ;
36815                                 M           POP_REG1        R8      ;
36816                                 M                                   ; RE"+4" 00,00,00,04
36817 00007F7A 68F6                   M           MOV.L   @R15+,R8        ;
36818                                 M           POP_REG1        R7      ;
36819                                 M                                   ; RE"+4" 00,00,00,04
36820 00007F7C 67F6                   M           MOV.L   @R15+,R7        ;
36821                                 M           POP_REG1        R6      ;
36822                                 M                                   ; RE"+4" 00,00,00,04
36823 00007F7E 66F6                   M           MOV.L   @R15+,R6        ;
36824                                 M           POP_REG1        R5      ;
36825                                 M                                   ; RE"+4" 00,00,00,04
36826 00007F80 65F6                   M           MOV.L   @R15+,R5        ;
36827                                 M           POP_REG1        R4      ;
36828                                 M                                   ; RE"+4" 00,00,00,04
36829 00007F82 64F6                   M           MOV.L   @R15+,R4        ;
36830                                 M           POP_REG1        R3      ;
36831                                 M                                   ; RE"+4" 00,00,00,04
36832 00007F84 63F6                   M           MOV.L   @R15+,R3        ;
36833                                 M           POP_REG1        R2      ;
36834                                 M                                   ; RE"+4" 00,00,00,04
36835 00007F86 62F6                   M           MOV.L   @R15+,R2        ;
36836                                 M           POP_REG1        R1      ;
36837                                 M                                   ; RE"+4" 00,00,00,04
36838 00007F88 61F6                   M           MOV.L   @R15+,R1        ;
36839                                 M           POP_REG1        R0      ;
36840                                 M                                   ; RE"+4" 00,00,00,04
36841 00007F8A 60F6                   M           MOV.L   @R15+,R0        ;
36842                             665 I1  
36843                             666 I1  
36844                             667 I1  ;       -----------------(停止演算 0->設定% 速度)--------
36845 00007F8C 288A               668 I1          XOR     R8,R8                                           ;0(R8)--設定(R9)
36846 00007F8E C608               669 I1          MOV.L   @(AFM_OLD_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
36847 00007F90 6503               670 I1          MOV     R0,R5                                           ;(暴走対策/ありえない)
36848 00007F92 C60A               671 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
36849 00007F94 6D03               672 I1          MOV     R0,R13                                          ;
36850 00007F96 C60B               673 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0          ;
36851 00007F98 6E03               674 I1          MOV     R0,R14                                          ;
36852                             675 I1  
36853 00007F9A C609               676 I1          MOV.L   @(AFM_OLD_STPACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
36854 00007F9C 6A01               677 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   555
PROGRAM NAME =

                                          =現段速度時使用)
36855                             678 I1  
36856                             679 I1          PUSH_ALL                                                ;
36857                                 M           PUSH_REG1       R0      ;
36858 00007F9E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
36859                                 M                                           ;REG=>[SP]
36860                                 M                                           ;"-4" FF,FF,FF,FC
36861                                 M           PUSH_REG1       R1      ;
36862 00007FA0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36863                                 M                                           ;REG=>[SP]
36864                                 M                                           ;"-4" FF,FF,FF,FC
36865                                 M           PUSH_REG1       R2      ;
36866 00007FA2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
36867                                 M                                           ;REG=>[SP]
36868                                 M                                           ;"-4" FF,FF,FF,FC
36869                                 M           PUSH_REG1       R3      ;
36870 00007FA4 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
36871                                 M                                           ;REG=>[SP]
36872                                 M                                           ;"-4" FF,FF,FF,FC
36873                                 M           PUSH_REG1       R4      ;
36874 00007FA6 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
36875                                 M                                           ;REG=>[SP]
36876                                 M                                           ;"-4" FF,FF,FF,FC
36877                                 M           PUSH_REG1       R5      ;
36878 00007FA8 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
36879                                 M                                           ;REG=>[SP]
36880                                 M                                           ;"-4" FF,FF,FF,FC
36881                                 M           PUSH_REG1       R6      ;
36882 00007FAA 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
36883                                 M                                           ;REG=>[SP]
36884                                 M                                           ;"-4" FF,FF,FF,FC
36885                                 M           PUSH_REG1       R7      ;
36886 00007FAC 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
36887                                 M                                           ;REG=>[SP]
36888                                 M                                           ;"-4" FF,FF,FF,FC
36889                                 M           PUSH_REG1       R8      ;
36890 00007FAE 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
36891                                 M                                           ;REG=>[SP]
36892                                 M                                           ;"-4" FF,FF,FF,FC
36893                                 M           PUSH_REG1       R9      ;
36894 00007FB0 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
36895                                 M                                           ;REG=>[SP]
36896                                 M                                           ;"-4" FF,FF,FF,FC
36897                                 M           PUSH_REG1       R10     ;
36898 00007FB2 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
36899                                 M                                           ;REG=>[SP]
36900                                 M                                           ;"-4" FF,FF,FF,FC
36901                                 M           PUSH_REG1       R11     ;
36902 00007FB4 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
36903                                 M                                           ;REG=>[SP]
36904                                 M                                           ;"-4" FF,FF,FF,FC
36905                                 M           PUSH_REG1       R12     ;
36906 00007FB6 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
36907                                 M                                           ;REG=>[SP]
36908                                 M                                           ;"-4" FF,FF,FF,FC
36909                                 M           PUSH_REG1       R13     ;
36910 00007FB8 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   556
PROGRAM NAME =

36911                                 M                                           ;REG=>[SP]
36912                                 M                                           ;"-4" FF,FF,FF,FC
36913                                 M           PUSH_REG1       R14     ;
36914 00007FBA 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
36915                                 M                                           ;REG=>[SP]
36916                                 M                                           ;"-4" FF,FF,FF,FC
36917                                 M           PUSH_MACHL              ;
36918 00007FBC 4F02                   M           STS.L   MACH,@-R15
36919 00007FBE 4F12                   M           STS.L   MACL,@-R15
36920                                 M           PUSH_SYS_REG    GBR     ;
36921 00007FC0 4F13                   M           STC.L   GBR,@-R15
36922                                 M           .AIF    2 EQ 3
36923                                             .AELSE
36924                                 C           PUSH_FPU_ALL            ;2001-07-08
36925                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
36926 00007FC2 4F52                   M           STS.L   FPUL,@-R15
36927 00007FC4 4F62                   M           STS.L   FPSCR,@-R15
36928                                 M                   PUSH_FPU_REG1 FR0       ;
36929 00007FC6 FF0B                   M           FMOV.S  FR0,@-R15
36930                                 M                   PUSH_FPU_REG1 FR1       ;
36931 00007FC8 FF1B                   M           FMOV.S  FR1,@-R15
36932                                 M                   PUSH_FPU_REG1 FR2       ;
36933 00007FCA FF2B                   M           FMOV.S  FR2,@-R15
36934                                 M                   PUSH_FPU_REG1 FR3       ;
36935 00007FCC FF3B                   M           FMOV.S  FR3,@-R15
36936                                 M                   PUSH_FPU_REG1 FR4       ;
36937 00007FCE FF4B                   M           FMOV.S  FR4,@-R15
36938                                 M           .AENDI
36939                             680 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;0%->Y%(NEW:ﾀｰｹﾞｯﾄ作成)ANS
                                           R13,R14
36940 00007FD0 D013                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36941 00007FD2 400B                   M           JSR     @R0                     ;
36942 00007FD4 0009                   M           NOP                                     ;
36943                             681 I1          POP_ALL                                                 ;
36944                                 M           .AIF    2 EQ 3
36945                                             .AELSE
36946                                 C           POP_FPU_ALL             ;2001-07-08
36947                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
36948 00007FD6 F4F9                   M           FMOV.S  @R15+,FR4
36949                                 M                   POP_FPU_REG1 FR3        ;
36950 00007FD8 F3F9                   M           FMOV.S  @R15+,FR3
36951                                 M                   POP_FPU_REG1 FR2        ;
36952 00007FDA F2F9                   M           FMOV.S  @R15+,FR2
36953                                 M                   POP_FPU_REG1 FR1        ;
36954 00007FDC F1F9                   M           FMOV.S  @R15+,FR1
36955                                 M                   POP_FPU_REG1 FR0        ;
36956 00007FDE F0F9                   M           FMOV.S  @R15+,FR0
36957                                 M                   POP_SYS_FPU             ;
36958 00007FE0 4F66                   M           LDS.L   @R15+,FPSCR
36959 00007FE2 4F56                   M           LDS.L   @R15+,FPUL
36960                                 M           .AENDI
36961                                 M           POP_SYS_REG     GBR     ;
36962 00007FE4 4F17                   M           LDC.L   @R15+,GBR
36963                                 M           POP_MACHL               ;
36964 00007FE6 4F16                   M           LDS.L   @R15+,MACL
36965 00007FE8 4F06                   M           LDS.L   @R15+,MACH
36966                                 M           POP_REG1        R14     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   557
PROGRAM NAME =

36967                                 M                                   ; RE"+4" 00,00,00,04
36968 00007FEA 6EF6                   M           MOV.L   @R15+,R14        ;
36969                                 M           POP_REG1        R13     ;
36970                                 M                                   ; RE"+4" 00,00,00,04
36971 00007FEC 6DF6                   M           MOV.L   @R15+,R13        ;
36972                                 M           POP_REG1        R12     ;
36973                                 M                                   ; RE"+4" 00,00,00,04
36974 00007FEE 6CF6                   M           MOV.L   @R15+,R12        ;
36975                                 M           POP_REG1        R11     ;
36976                                 M                                   ; RE"+4" 00,00,00,04
36977 00007FF0 6BF6                   M           MOV.L   @R15+,R11        ;
36978                                 M           POP_REG1        R10     ;
36979                                 M                                   ; RE"+4" 00,00,00,04
36980 00007FF2 6AF6                   M           MOV.L   @R15+,R10        ;
36981                                 M           POP_REG1        R9      ;
36982                                 M                                   ; RE"+4" 00,00,00,04
36983 00007FF4 69F6                   M           MOV.L   @R15+,R9        ;
36984                                 M           POP_REG1        R8      ;
36985                                 M                                   ; RE"+4" 00,00,00,04
36986 00007FF6 68F6                   M           MOV.L   @R15+,R8        ;
36987                                 M           POP_REG1        R7      ;
36988                                 M                                   ; RE"+4" 00,00,00,04
36989 00007FF8 67F6                   M           MOV.L   @R15+,R7        ;
36990                                 M           POP_REG1        R6      ;
36991                                 M                                   ; RE"+4" 00,00,00,04
36992 00007FFA 66F6                   M           MOV.L   @R15+,R6        ;
36993                                 M           POP_REG1        R5      ;
36994                                 M                                   ; RE"+4" 00,00,00,04
36995 00007FFC 65F6                   M           MOV.L   @R15+,R5        ;
36996                                 M           POP_REG1        R4      ;
36997                                 M                                   ; RE"+4" 00,00,00,04
36998 00007FFE 64F6                   M           MOV.L   @R15+,R4        ;
36999                                 M           POP_REG1        R3      ;
37000                                 M                                   ; RE"+4" 00,00,00,04
37001 00008000 63F6                   M           MOV.L   @R15+,R3        ;
37002                                 M           POP_REG1        R2      ;
37003                                 M                                   ; RE"+4" 00,00,00,04
37004 00008002 62F6                   M           MOV.L   @R15+,R2        ;
37005                                 M           POP_REG1        R1      ;
37006                                 M                                   ; RE"+4" 00,00,00,04
37007 00008004 61F6                   M           MOV.L   @R15+,R1        ;
37008                                 M           POP_REG1        R0      ;
37009                                 M                                   ; RE"+4" 00,00,00,04
37010 00008006 60F6                   M           MOV.L   @R15+,R0        ;
37011                             682 I1  
37012                             683 I1  
37013                             684 I1  ;       ---------------(停止演算 0->設定% pls)--------
37014                             685 I1  ;       -------------- (速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)-----------
37015 00008008 D106               686 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
37016 0000800A 6612               687 I1          MOV.L   @R1,R6                                          ;
37017 0000800C C60C               688 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0          ;
37018 0000800E 6A03               689 I1          MOV     R0,R10                                          ;
37019                             690 I1                                                                  ;
37020                             691 I1                                                                  ;R6=MAX pls/s
37021                             692 I1                                                                  ;R13=_ACC_****_STPVTBL(ﾃﾞｰ
                                          ﾀ元)
37022                             693 I1                                                                  ;R14=_ACC_****_ACTM(LOOP個
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   558
PROGRAM NAME =

                                          数)
37023                             694 I1                                                                  ;R10=_ACC_****_STPPTBL ANS
37024                             695 I1          FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
37025 00008010 D005                   M           MOV.L   #_ACC_TBL_MAKPLS1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37026 00008012 400B                   M           JSR     @R0                     ;
37027 00008014 0009                   M           NOP                                     ;
37028                             696 I1  
37029                             697 I1          SUB_END
37030                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37031 00008016 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37032                             698 I1          M_RTS
37033 00008018 000B                   M           RTS                             ;RTSの後ろの
37034 0000801A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37035                             699 I1  
37036                             700 I1  
37037                             701 I1  
37038                             702 I1  
37039                                 I1  ***** BEGIN-POOL *****
37040 0000801C 00000000               I1  DATA FOR SOURCE-LINE 642
37041 00008020 00000000               I1  DATA FOR SOURCE-LINE 663,680
37042 00008024 00000000               I1  DATA FOR SOURCE-LINE 686
37043 00008028 00000000               I1  DATA FOR SOURCE-LINE 695
37044                                 I1  ***** END-POOL *****
37045 0000802C                    703 I1          .ALIGN  4                                       ;
37046 0000802C                    704 I1  _ACC_TBL_CAL_IN_TOP
37047 0000802C 00000000           705 I1          .DATA.L _ACC_STEP01_TBL_TOP
37048 00008030 00000000           706 I1          .DATA.L _ACC_STEP02_TBL_TOP
37049 00008034 00000000           707 I1          .DATA.L _ACC_STEP03_TBL_TOP
37050 00008038 00000000           708 I1          .DATA.L _ACC_STEP04_TBL_TOP
37051 0000803C 00000000           709 I1          .DATA.L _ACC_STEP05_TBL_TOP
37052 00008040 00000000           710 I1          .DATA.L _ACC_STEP06_TBL_TOP
37053 00008044 00000000           711 I1          .DATA.L _ACC_STEP07_TBL_TOP
37054 00008048 00000000           712 I1          .DATA.L _ACC_STEP08_TBL_TOP
37055 0000804C 00000000           713 I1          .DATA.L _ACC_STEP09_TBL_TOP
37056 00008050 00000000           714 I1          .DATA.L _ACC_STEP10_TBL_TOP
37057 00008054 00000000           715 I1          .DATA.L _ACC_STEP11_TBL_TOP
37058                             716 I1  
37059                             717 I1  
37060                             718 I1  
37061 00008058                    719 I1          .ALIGN  4                                       ;
37062 00008058                    720 I1  _ACC_STEP01_TBL_TOP
37063 00008058                    721 I1  ACC_FORM_TOP
37064 00008058 00000000           722 I1  AFM_SRC_TBL_TOP         .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37065 0000805C 00000000           723 I1  AFM_SRC_TBL_MEM         .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37066 00008060 00000000           724 I1  AFM_STEP_INF_SPD        .DATA.L         _ACC_INF1_STEPSP01      ;[03]000%[前状態],050%[設
                                          定]
37067 00008064 00000000           725 I1  AFM_STEP_INF_FLG        .DATA.L         _ACC_INF1_STEP001       ;[04]//BIT2=[加速:0/減速:1
                                          ] BIT1=[]   BIT0=0(停止) =1(連続)
37068 00008068 00000000           726 I1  AFM_OLD_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速
                                          度)1段では使用しない
37069 0000806C 00000000           727 I1  AFM_OLD_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速
                                          度)1段では使用しない
37070 00008070 00000000           728 I1  AFM_DST_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[07]
37071 00008074 00000000           729 I1  AFM_DST_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[08]
37072 00008078 00000000           730 I1  AFM_OLD_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速
                                          度)1段では使用しない
37073 0000807C 00000000           731 I1  AFM_OLD_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   559
PROGRAM NAME =

                                          度)1段では使用しない
37074 00008080 00000000           732 I1  AFM_DST_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[11]
37075 00008084 00000000           733 I1  AFM_DST_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[12]
37076 00008088 00000000           734 I1  AFM_DST_STPPTBL         .DATA.L         _ACC_STOP001_PTBL       ;[13]
37077                             735 I1  
37078                             736 I1  
37079                             737 I1  
37080 0000808C                    738 I1  _ACC_STEP02_TBL_TOP
37081 0000808C 00000000           739 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37082 00008090 00000000           740 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37083 00008094 00000000           741 I1          .DATA.L         _ACC_INF1_STEPSP02      ;[03]000%[前状態],050%[設定]
37084 00008098 00000000           742 I1          .DATA.L         _ACC_INF1_STEP002       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
37085 0000809C 00000000           743 I1          .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速度)
37086 000080A0 00000000           744 I1          .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速度)
37087 000080A4 00000000           745 I1          .DATA.L         _ACC_STEP002_VTBL       ;[07]
37088 000080A8 00000000           746 I1          .DATA.L         _ACC_STEP002_ACTM       ;[08]
37089 000080AC 00000000           747 I1          .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速度)
37090 000080B0 00000000           748 I1          .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速度)
37091 000080B4 00000000           749 I1          .DATA.L         _ACC_STOP002_VTBL       ;[11]
37092 000080B8 00000000           750 I1          .DATA.L         _ACC_STOP002_ACTM       ;[12]
37093 000080BC 00000000           751 I1          .DATA.L         _ACC_STOP002_PTBL       ;[13]
37094                             752 I1  
37095 000080C0                    753 I1  _ACC_STEP03_TBL_TOP
37096 000080C0 00000000           754 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37097 000080C4 00000000           755 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37098 000080C8 00000000           756 I1          .DATA.L         _ACC_INF1_STEPSP03      ;[03]000%[前状態],050%[設定]
37099 000080CC 00000000           757 I1          .DATA.L         _ACC_INF1_STEP003       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
37100 000080D0 00000000           758 I1          .DATA.L         _ACC_STEP002_VTBL       ;[05]
37101 000080D4 00000000           759 I1          .DATA.L         _ACC_STEP002_ACTM       ;[06]
37102 000080D8 00000000           760 I1          .DATA.L         _ACC_STEP003_VTBL       ;[07]
37103 000080DC 00000000           761 I1          .DATA.L         _ACC_STEP003_ACTM       ;[08]
37104 000080E0 00000000           762 I1          .DATA.L         _ACC_STOP002_VTBL       ;[09]
37105 000080E4 00000000           763 I1          .DATA.L         _ACC_STOP002_ACTM       ;[10]
37106 000080E8 00000000           764 I1          .DATA.L         _ACC_STOP003_VTBL       ;[11]
37107 000080EC 00000000           765 I1          .DATA.L         _ACC_STOP003_ACTM       ;[12]
37108 000080F0 00000000           766 I1          .DATA.L         _ACC_STOP003_PTBL       ;[13]
37109                             767 I1  
37110 000080F4                    768 I1  _ACC_STEP04_TBL_TOP
37111 000080F4 00000000           769 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37112 000080F8 00000000           770 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37113 000080FC 00000000           771 I1          .DATA.L         _ACC_INF1_STEPSP04      ;[03]000%[前状態],050%[設定]
37114 00008100 00000000           772 I1          .DATA.L         _ACC_INF1_STEP004       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
37115 00008104 00000000           773 I1          .DATA.L         _ACC_STEP003_VTBL       ;[05](STEP1では使用しない)
37116 00008108 00000000           774 I1          .DATA.L         _ACC_STEP003_ACTM       ;[06]
37117 0000810C 00000000           775 I1          .DATA.L         _ACC_STEP004_VTBL       ;[07]
37118 00008110 00000000           776 I1          .DATA.L         _ACC_STEP004_ACTM       ;[08]
37119 00008114 00000000           777 I1          .DATA.L         _ACC_STOP003_VTBL       ;[09]
37120 00008118 00000000           778 I1          .DATA.L         _ACC_STOP003_ACTM       ;[10]
37121 0000811C 00000000           779 I1          .DATA.L         _ACC_STOP004_VTBL       ;[11]
37122 00008120 00000000           780 I1          .DATA.L         _ACC_STOP004_ACTM       ;[12]
37123 00008124 00000000           781 I1          .DATA.L         _ACC_STOP004_PTBL       ;[13]
37124                             782 I1  
37125                             783 I1  
37126 00008128                    784 I1  _ACC_STEP05_TBL_TOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   560
PROGRAM NAME =

37127 00008128 00000000           785 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37128 0000812C 00000000           786 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37129 00008130 00000000           787 I1          .DATA.L         _ACC_INF1_STEPSP05      ;[03]000%[前状態],050%[設定]
37130 00008134 00000000           788 I1          .DATA.L         _ACC_INF1_STEP005       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
37131 00008138 00000000           789 I1          .DATA.L         _ACC_STEP004_VTBL       ;[05](STEP1では使用しない)
37132 0000813C 00000000           790 I1          .DATA.L         _ACC_STEP004_ACTM       ;[06]
37133 00008140 00000000           791 I1          .DATA.L         _ACC_STEP005_VTBL       ;[07]
37134 00008144 00000000           792 I1          .DATA.L         _ACC_STEP005_ACTM       ;[08]
37135 00008148 00000000           793 I1          .DATA.L         _ACC_STOP004_VTBL       ;[09]
37136 0000814C 00000000           794 I1          .DATA.L         _ACC_STOP004_ACTM       ;[10]
37137 00008150 00000000           795 I1          .DATA.L         _ACC_STOP005_VTBL       ;[11]
37138 00008154 00000000           796 I1          .DATA.L         _ACC_STOP005_ACTM       ;[12]
37139 00008158 00000000           797 I1          .DATA.L         _ACC_STOP005_PTBL       ;[13]
37140                             798 I1  
37141 0000815C                    799 I1  _ACC_STEP06_TBL_TOP
37142 0000815C 00000000           800 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37143 00008160 00000000           801 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37144 00008164 00000000           802 I1          .DATA.L         _ACC_INF1_STEPSP06      ;[03]000%[前状態],050%[設定]
37145 00008168 00000000           803 I1          .DATA.L         _ACC_INF1_STEP006       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
37146 0000816C 00000000           804 I1          .DATA.L         _ACC_STEP005_VTBL       ;[05](STEP1では使用しない)
37147 00008170 00000000           805 I1          .DATA.L         _ACC_STEP005_ACTM       ;[06]
37148 00008174 00000000           806 I1          .DATA.L         _ACC_STEP006_VTBL       ;[07]
37149 00008178 00000000           807 I1          .DATA.L         _ACC_STEP006_ACTM       ;[08]
37150 0000817C 00000000           808 I1          .DATA.L         _ACC_STOP005_VTBL       ;[09]
37151 00008180 00000000           809 I1          .DATA.L         _ACC_STOP005_ACTM       ;[10]
37152 00008184 00000000           810 I1          .DATA.L         _ACC_STOP006_VTBL       ;[11]
37153 00008188 00000000           811 I1          .DATA.L         _ACC_STOP006_ACTM       ;[12]
37154 0000818C 00000000           812 I1          .DATA.L         _ACC_STOP006_PTBL       ;[13]
37155                             813 I1  
37156 00008190                    814 I1  _ACC_STEP07_TBL_TOP
37157 00008190 00000000           815 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37158 00008194 00000000           816 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37159 00008198 00000000           817 I1          .DATA.L         _ACC_INF1_STEPSP07      ;[03]000%[前状態],050%[設定]
37160 0000819C 00000000           818 I1          .DATA.L         _ACC_INF1_STEP007       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
37161 000081A0 00000000           819 I1          .DATA.L         _ACC_STEP006_VTBL       ;[05](STEP1では使用しない)
37162 000081A4 00000000           820 I1          .DATA.L         _ACC_STEP006_ACTM       ;[06]
37163 000081A8 00000000           821 I1          .DATA.L         _ACC_STEP007_VTBL       ;[07]
37164 000081AC 00000000           822 I1          .DATA.L         _ACC_STEP007_ACTM       ;[08]
37165 000081B0 00000000           823 I1          .DATA.L         _ACC_STOP006_VTBL       ;[09]
37166 000081B4 00000000           824 I1          .DATA.L         _ACC_STOP006_ACTM       ;[10]
37167 000081B8 00000000           825 I1          .DATA.L         _ACC_STOP007_VTBL       ;[11]
37168 000081BC 00000000           826 I1          .DATA.L         _ACC_STOP007_ACTM       ;[12]
37169 000081C0 00000000           827 I1          .DATA.L         _ACC_STOP007_PTBL       ;[13]
37170                             828 I1  
37171 000081C4                    829 I1  _ACC_STEP08_TBL_TOP
37172 000081C4 00000000           830 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37173 000081C8 00000000           831 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37174 000081CC 00000000           832 I1          .DATA.L         _ACC_INF1_STEPSP08      ;[03]000%[前状態],050%[設定]
37175 000081D0 00000000           833 I1          .DATA.L         _ACC_INF1_STEP008       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
37176 000081D4 00000000           834 I1          .DATA.L         _ACC_STEP007_VTBL       ;[05](STEP1では使用しない)
37177 000081D8 00000000           835 I1          .DATA.L         _ACC_STEP007_ACTM       ;[06]
37178 000081DC 00000000           836 I1          .DATA.L         _ACC_STEP008_VTBL       ;[07]
37179 000081E0 00000000           837 I1          .DATA.L         _ACC_STEP008_ACTM       ;[08]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   561
PROGRAM NAME =

37180 000081E4 00000000           838 I1          .DATA.L         _ACC_STOP007_VTBL       ;[09]
37181 000081E8 00000000           839 I1          .DATA.L         _ACC_STOP007_ACTM       ;[10]
37182 000081EC 00000000           840 I1          .DATA.L         _ACC_STOP008_VTBL       ;[11]
37183 000081F0 00000000           841 I1          .DATA.L         _ACC_STOP008_ACTM       ;[12]
37184 000081F4 00000000           842 I1          .DATA.L         _ACC_STOP008_PTBL       ;[13]
37185                             843 I1  
37186 000081F8                    844 I1  _ACC_STEP09_TBL_TOP
37187 000081F8 00000000           845 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37188 000081FC 00000000           846 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37189 00008200 00000000           847 I1          .DATA.L         _ACC_INF1_STEPSP09      ;[03]000%[前状態],050%[設定]
37190 00008204 00000000           848 I1          .DATA.L         _ACC_INF1_STEP009       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
37191 00008208 00000000           849 I1          .DATA.L         _ACC_STEP008_VTBL       ;[05](STEP1では使用しない)
37192 0000820C 00000000           850 I1          .DATA.L         _ACC_STEP008_ACTM       ;[06]
37193 00008210 00000000           851 I1          .DATA.L         _ACC_STEP009_VTBL       ;[07]
37194 00008214 00000000           852 I1          .DATA.L         _ACC_STEP009_ACTM       ;[08]
37195 00008218 00000000           853 I1          .DATA.L         _ACC_STOP008_VTBL       ;[09]
37196 0000821C 00000000           854 I1          .DATA.L         _ACC_STOP008_ACTM       ;[10]
37197 00008220 00000000           855 I1          .DATA.L         _ACC_STOP009_VTBL       ;[11]
37198 00008224 00000000           856 I1          .DATA.L         _ACC_STOP009_ACTM       ;[12]
37199 00008228 00000000           857 I1          .DATA.L         _ACC_STOP009_PTBL       ;[13]
37200                             858 I1  
37201 0000822C                    859 I1  _ACC_STEP10_TBL_TOP
37202 0000822C 00000000           860 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37203 00008230 00000000           861 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37204 00008234 00000000           862 I1          .DATA.L         _ACC_INF1_STEPSP10      ;[03]000%[前状態],050%[設定]
37205 00008238 00000000           863 I1          .DATA.L         _ACC_INF1_STEP010       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
37206 0000823C 00000000           864 I1          .DATA.L         _ACC_STEP009_VTBL       ;[05](STEP1では使用しない)
37207 00008240 00000000           865 I1          .DATA.L         _ACC_STEP009_ACTM       ;[06]
37208 00008244 00000000           866 I1          .DATA.L         _ACC_STEP010_VTBL       ;[07]
37209 00008248 00000000           867 I1          .DATA.L         _ACC_STEP010_ACTM       ;[08]
37210 0000824C 00000000           868 I1          .DATA.L         _ACC_STOP009_VTBL       ;[09]
37211 00008250 00000000           869 I1          .DATA.L         _ACC_STOP009_ACTM       ;[10]
37212 00008254 00000000           870 I1          .DATA.L         _ACC_STOP010_VTBL       ;[11]
37213 00008258 00000000           871 I1          .DATA.L         _ACC_STOP010_ACTM       ;[12]
37214 0000825C 00000000           872 I1          .DATA.L         _ACC_STOP010_PTBL       ;[13]
37215                             873 I1  
37216 00008260                    874 I1  _ACC_STEP11_TBL_TOP
37217 00008260 00000000           875 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37218 00008264 00000000           876 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37219 00008268 00000000           877 I1          .DATA.L         _ACC_INF1_STEPSP11      ;[03]000%[前状態],050%[設定]
37220 0000826C 00000000           878 I1          .DATA.L         _ACC_INF1_STEP011       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
37221 00008270 00000000           879 I1          .DATA.L         _ACC_STEP010_VTBL       ;[05](STEP1では使用しない)
37222 00008274 00000000           880 I1          .DATA.L         _ACC_STEP010_ACTM       ;[06]
37223 00008278 00000000           881 I1          .DATA.L         _ACC_STEP011_VTBL       ;[07]
37224 0000827C 00000000           882 I1          .DATA.L         _ACC_STEP011_ACTM       ;[08]
37225 00008280 00000000           883 I1          .DATA.L         _ACC_STOP010_VTBL       ;[09]
37226 00008284 00000000           884 I1          .DATA.L         _ACC_STOP010_ACTM       ;[10]
37227 00008288 00000000           885 I1          .DATA.L         _ACC_STOP011_VTBL       ;[11]
37228 0000828C 00000000           886 I1          .DATA.L         _ACC_STOP011_ACTM       ;[12]
37229 00008290 00000000           887 I1          .DATA.L         _ACC_STOP011_PTBL       ;[13]
37230                             888 I1  
37231                             889 I1  
37232                             890 I1  
37233                             891 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   562
PROGRAM NAME =

37234                             892 I1  
37235                             893 I1  
37236                             894 I1  
37237                             895 I1  
37238                             896 I1  
37239                             897 I1  
37240                             898 I1  ;       ***********************************************************
37241                             899 I1  ;       ***                                                     ***
37242                             900 I1  ;       ***     振り子加速度テーブル作成SUB1                    ***
37243                             901 I1  ;       ***                                                     ***
37244                             902 I1  ;       ***     速度のみを算出する                              ***
37245                             903 I1  ;       ***     ﾃﾞｰﾀ元ﾃｰﾌﾞﾙ→最大加速時間と速度の変化量から     ***
37246                             904 I1  ;       ***     加速時間と速度ﾃｰﾌﾞﾙを求める                     ***
37247                             905 I1  ;       ***     [完成済み]                                      ***
37248                             906 I1  ;       ***                                                     ***
37249                             907 I1  ;       ***********************************************************
37250                             908 I1  ;       input    R5:前段のOUTPUT-TABLE-TOP
37251                             909 I1  ;       Input   R11:BASE-TABLE-TOP         :ﾃｰﾌﾞﾙは1~1000または1~255まで使用する。
37252                             910 I1  ;       Input   R12:BASE-TABLE-時間 1000(ROM),255(ROM),設定(1~1000)加減速時間
37253                             911 I1  ;       Input   R13:OUTPUT-TABLE-TOP       :
37254                             912 I1  ;       Input   R14:OUTPUT-ACC時間　　　　 :加減速時間
37255                             913 I1  ;
37256                             914 I1  ;       Input   R7 :最大加減速時間
37257                             915 I1  ;       Input   R8:BASE  -SPD
37258                             916 I1  ;       Input   R9:TARGET-SPD  BASE=< TARGET SPD
37259                             917 I1  ;               (R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ)
37260                             918 I1  ;       Output ﾃｰﾌﾞﾙに速度を周波数で記述
37261                             919 I1  ;       [1ﾃｰﾌﾞﾙ作成前にWDTを叩く]
37262                             920 I1  ;
37263                             921 I1  ;       ・速度は0.01%で扱う
37264                             922 I1  ;
37265 00008294                    923 I1  _ACC_TBL_MAKSPD1_SUB
37266                             924 I1          SUB_START
37267 00008294 4F22                   M           STS.L   PR,@-R15                ;[必要]
37268                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37269                             925 I1          _A_WDT_CLR                              ;
37270                                 M           PUSH_REG1 R10
37271 00008296 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
37272                                 M                                           ;REG=>[SP]
37273                                 M                                           ;"-4" FF,FF,FF,FC
37274                                 M           PUSH_REG1 R11
37275 00008298 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
37276                                 M                                           ;REG=>[SP]
37277                                 M                                           ;"-4" FF,FF,FF,FC
37278                                 M           PUSH_REG1 R12
37279 0000829A 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
37280                                 M                                           ;REG=>[SP]
37281                                 M                                           ;"-4" FF,FF,FF,FC
37282                                 M   
37283                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
37284 0000829C 0A02                   M           STC     SR,R10                  ;
37285 0000829E 9B21                   M           MOV.W   #H'000000F0,R11         ;
37286 000082A0 2ABB                   M           OR      R11,R10         ;INT15
37287 000082A2 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
37288 000082A4 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
37289                                 M   
37290 000082A6 DA11                   M           MOV.L   #_PDTRB,R10
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   563
PROGRAM NAME =

37291 000082A8 6BA1                   M           MOV.W   @R10,R11
37292 000082AA 9C1C                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
37293 000082AC 2BC9                   M           AND     R12,R11                 ;
37294 000082AE 2AB1                   M           MOV.W   R11,@R10                ;
37295 000082B0 9C1A                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
37296 000082B2 2BCB                   M           OR      R12,R11                 ;
37297 000082B4 2AB1                   M           MOV.W   R11,@R10                ;
37298                                 M   
37299                                 M           EI_POP_SR_SHn                   ;
37300 000082B6 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
37301                                 M   
37302                                 M           POP_REG1 R12
37303                                 M                                   ; RE"+4" 00,00,00,04
37304 000082B8 6CF6                   M           MOV.L   @R15+,R12        ;
37305                                 M           POP_REG1 R11
37306                                 M                                   ; RE"+4" 00,00,00,04
37307 000082BA 6BF6                   M           MOV.L   @R15+,R11        ;
37308                                 M           POP_REG1 R10
37309                                 M                                   ; RE"+4" 00,00,00,04
37310 000082BC 6AF6                   M           MOV.L   @R15+,R10        ;
37311                             926 I1  
37312                             927 I1  
37313                             928 I1  
37314 000082BE 3987               929 I1          CMP/GT  R8,R9                           ;R8[前段]<R9[今回]
37315 000082C0 8902               930 I1          BT      ACC_TBLMKSPD1_SB100
37316 000082C2 6083               931 I1          MOV     R8,R0                           ;
37317 000082C4 6893               932 I1          MOV     R9,R8                           ;
37318 000082C6 6903               933 I1          MOV     R0,R9                           ;
37319 000082C8                    934 I1  ACC_TBLMKSPD1_SB100:                            ;
37320 000082C8 3988               935 I1          SUB     R8,R9                           ;R9=R9-R8
37321 000082CA 2998               936 I1          TST     R9,R9                           ;
37322                             937 I1          TST_BIT_ON ACC_TBLMKSPD1_SB200          ;
37323 000082CC 8B10                   M           BF      ACC_TBLMKSPD1_SB200
37324                             938 I1  
37325                             939 I1  ;       ----速度が同じ場合、前段の速度データをＣＯＰＹする---
37326 000082CE 6373               940 I1          MOV     R7,R3                           ;最大時間1000
37327 000082D0 7301               941 I1          ADD     #1,R3                           ;ﾙｰﾌﾟ数は1001個ﾙｰﾌﾟ
37328 000082D2                    942 I1  ACC_TBLMKSPD1_SB150:                            ;
37329 000082D2 6055               943 I1          MOV.W   @R5+,R0                         ;前段ﾃｰﾌﾞﾙ速度
37330 000082D4 2D01               944 I1          MOV.W   R0,@R13                         ;今回ﾃｰﾌﾞﾙ速度
37331 000082D6 7D02               945 I1          ADD     #2,R13                          ;
37332 000082D8 73FF               946 I1          ADD     #-1,R3                          ;
37333 000082DA 2338               947 I1          TST     R3,R3                           ;(2013-05-15 COPY されていない)
37334                             948 I1          TST_BIT_ON ACC_TBLMKSPD1_SB150          ;
37335 000082DC 8BF9                   M           BF      ACC_TBLMKSPD1_SB150
37336                             949 I1  
37337 000082DE 2EA1               950 I1          MOV.W   R10,@R14                        ;前段の加速時間を今回に使用
37338                             951 I1          M_BRA   ACC_TBLMKSPD1_SB900             ;
37339 000082E0 A041                   M           BRA     ACC_TBLMKSPD1_SB900
37340 000082E2 0009                   M           NOP
37341                             952 I1  
37342                                 I1  ***** BEGIN-POOL *****
37343 000082E4 00F0                   I1  DATA FOR SOURCE-LINE 925
37344 000082E6 00FB                   I1  DATA FOR SOURCE-LINE 925
37345 000082E8 0004                   I1  DATA FOR SOURCE-LINE 925
37346 000082EA 0000                   I1  ALIGNMENT CODE
37347 000082EC 00000000               I1  DATA FOR SOURCE-LINE 925
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   564
PROGRAM NAME =

37348                                 I1  ***** END-POOL *****
37349 000082F0                    953 I1  ACC_TBLMKSPD1_SB200:                            ;
37350 000082F0 6273               954 I1          MOV     R7,R2                           ;最大時間
37351 000082F2 6193               955 I1          MOV     R9,R1                           ;変化率
37352 000082F4 9431               956 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
37353                             957 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
37354 000082F6 D019                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37355 000082F8 400B                   M           JSR     @R0                     ;
37356 000082FA 0009                   M           NOP                                     ;
37357 000082FC 6423               958 I1          MOV     R2,R4
37358                             959 I1  
37359 000082FE 2448               960 I1          TST     R4,R4                           ;
37360                             961 I1          TST_BIT_ON ACC_TBLMKSPD1_SB220          ;
37361 00008300 8B00                   M           BF      ACC_TBLMKSPD1_SB220
37362 00008302 7401               962 I1          ADD     #1,R4                           ;
37363 00008304                    963 I1  ACC_TBLMKSPD1_SB220:                            ;
37364 00008304 2E41               964 I1          MOV.W   R4,@R14                         ;時間
37365                             965 I1  
37366                             966 I1  ;       R8はオフセット速度
37367                             967 I1  ;       R9は変化率
37368                             968 I1  ;       @R14=R4=時間　+すればﾙｰﾌﾟ回数1
37369                             969 I1  
37370 00008306 6343               970 I1          MOV     R4,R3                           ;R4:減速時間
37371 00008308 7301               971 I1          ADD     #1,R3                           ;
37372                             972 I1  
37373 0000830A 222A               973 I1          XOR     R2,R2                           ;Tx
37374                             974 I1  
37375 0000830C                    975 I1  ACC_TBLMKSPD1_SB250LOP:                         ;
37376 0000830C 2338               976 I1          TST     R3,R3                           ;
37377                             977 I1          TST_BIT_OF ACC_TBLMKSPD1_SB500          ;
37378 0000830E 8929                   M           BT      ACC_TBLMKSPD1_SB500
37379                             978 I1          PUSH_REG1 R2
37380 00008310 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
37381                                 M                                           ;REG=>[SP]
37382                                 M                                           ;"-4" FF,FF,FF,FC
37383                             979 I1  
37384                             980 I1  
37385 00008312 61C3               981 I1          MOV     R12,R1                          ;R12 ﾃﾞｰﾀ元側MAX時間
37386                             982 I1  
37387                             983 I1          PUSH_REG1 R4                            ;R4 ﾃﾞｰﾀ格納側MAX時間
37388 00008314 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
37389                                 M                                           ;REG=>[SP]
37390                                 M                                           ;"-4" FF,FF,FF,FC
37391                             984 I1  ;R2*R1/R4 =data･･･MOD
37392 00008316 312D               985 I1          DMULS.L R2,R1                                           ;
37393 00008318 021A               986 I1          STS     MACL,R2                                         ;
37394                             987 I1          FAR_JSR #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0       ;R2...R1
37395 0000831A D011                   M           MOV.L   #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
37396 0000831C 400B                   M           JSR     @R0                     ;
37397 0000831E 0009                   M           NOP                                     ;
37398                             988 I1  
37399 00008320 65B3               989 I1          MOV     R11,R5                          ;ﾃﾞｰﾀ元側 TOP
37400 00008322 352C               990 I1          ADD     R2,R5                           ;TOP+NUM*2byte
37401 00008324 352C               991 I1          ADD     R2,R5                           ;
37402 00008326 6655               992 I1          MOV.W   @R5+,R6                         ;Fn[]
37403                             993 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   565
PROGRAM NAME =

37404 00008328 3C26               994 I1          CMP/HI  R2,R12                          ;
37405 0000832A 8900               995 I1          BT      ACC_TBLMKSPD1_SB300             ;
37406 0000832C 75FE               996 I1          ADD     #-2,R5                          ;
37407 0000832E                    997 I1  ACC_TBLMKSPD1_SB300:                            ;
37408 0000832E 6251               998 I1          MOV.W   @R5,R2                          ;Fn+1
37409 00008330 3268               999 I1          SUB     R6,R2                           ;R2=(Fn+1 -Fn )
37410                            1000 I1          POP_REG1 R4                             ;
37411                                 M                                   ; RE"+4" 00,00,00,04
37412 00008332 64F6                   M           MOV.L   @R15+,R4        ;
37413                            1001 I1  
37414                            1002 I1  
37415                            1003 I1          PUSH_REG1 R4                            ;
37416 00008334 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
37417                                 M                                           ;REG=>[SP]
37418                                 M                                           ;"-4" FF,FF,FF,FC
37419                            1004 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](Fn+1 -Fn ) * [R1]MOD/[R4]格納側Tmax
37420 00008336 D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37421 00008338 400B                   M           JSR     @R0                     ;
37422 0000833A 0009                   M           NOP                                     ;
37423 0000833C 326C              1005 I1          ADD     R6,R2                           ;R2速度
37424                            1006 I1  
37425 0000833E 6193              1007 I1          MOV     R9,R1                           ;
37426 00008340 940B              1008 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
37427                            1009 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](速度) * [R1]変化率/[R4]100.00
37428 00008342 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37429 00008344 400B                   M           JSR     @R0                     ;
37430 00008346 0009                   M           NOP                                     ;
37431                            1010 I1          POP_REG1 R4                             ;
37432                                 M                                   ; RE"+4" 00,00,00,04
37433 00008348 64F6                   M           MOV.L   @R15+,R4        ;
37434                            1011 I1  
37435 0000834A 328C              1012 I1          ADD     R8,R2                           ;+ｵﾌｾｯﾄ
37436                            1013 I1  
37437 0000834C 2D21              1014 I1          MOV.W   R2,@R13                         ;速度SAVE
37438                            1015 I1  
37439                            1016 I1          POP_REG1 R2
37440                                 M                                   ; RE"+4" 00,00,00,04
37441 0000834E 62F6                   M           MOV.L   @R15+,R2        ;
37442 00008350 7D02              1017 I1          ADD     #2,R13                          ;
37443 00008352 73FF              1018 I1          ADD     #-1,R3                          ;
37444 00008354 7201              1019 I1          ADD     #1,R2                           ;
37445                            1020 I1          M_BRA   ACC_TBLMKSPD1_SB250LOP          ;
37446 00008356 AFD9                   M           BRA     ACC_TBLMKSPD1_SB250LOP
37447 00008358 0009                   M           NOP
37448                            1021 I1  
37449                                 I1  ***** BEGIN-POOL *****
37450 0000835A 2710                   I1  DATA FOR SOURCE-LINE 956,1008
37451 0000835C 00000000               I1  DATA FOR SOURCE-LINE 957,1004,1009
37452 00008360 00000000               I1  DATA FOR SOURCE-LINE 987
37453                                 I1  ***** END-POOL *****
37454 00008364                   1022 I1  ACC_TBLMKSPD1_SB500:                            ;
37455 00008364 0009              1023 I1          NOP                                     ;
37456                            1024 I1  
37457 00008366                   1025 I1  ACC_TBLMKSPD1_SB900:                            ;
37458                            1026 I1          _A_WDT_CLR                              ;
37459                                 M           PUSH_REG1 R10
37460 00008366 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   566
PROGRAM NAME =

37461                                 M                                           ;REG=>[SP]
37462                                 M                                           ;"-4" FF,FF,FF,FC
37463                                 M           PUSH_REG1 R11
37464 00008368 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
37465                                 M                                           ;REG=>[SP]
37466                                 M                                           ;"-4" FF,FF,FF,FC
37467                                 M           PUSH_REG1 R12
37468 0000836A 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
37469                                 M                                           ;REG=>[SP]
37470                                 M                                           ;"-4" FF,FF,FF,FC
37471                                 M   
37472                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
37473 0000836C 0A02                   M           STC     SR,R10                  ;
37474 0000836E 9B11                   M           MOV.W   #H'000000F0,R11         ;
37475 00008370 2ABB                   M           OR      R11,R10         ;INT15
37476 00008372 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
37477 00008374 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
37478                                 M   
37479 00008376 DA09                   M           MOV.L   #_PDTRB,R10
37480 00008378 6BA1                   M           MOV.W   @R10,R11
37481 0000837A 9C0C                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
37482 0000837C 2BC9                   M           AND     R12,R11                 ;
37483 0000837E 2AB1                   M           MOV.W   R11,@R10                ;
37484 00008380 9C0A                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
37485 00008382 2BCB                   M           OR      R12,R11                 ;
37486 00008384 2AB1                   M           MOV.W   R11,@R10                ;
37487                                 M   
37488                                 M           EI_POP_SR_SHn                   ;
37489 00008386 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
37490                                 M   
37491                                 M           POP_REG1 R12
37492                                 M                                   ; RE"+4" 00,00,00,04
37493 00008388 6CF6                   M           MOV.L   @R15+,R12        ;
37494                                 M           POP_REG1 R11
37495                                 M                                   ; RE"+4" 00,00,00,04
37496 0000838A 6BF6                   M           MOV.L   @R15+,R11        ;
37497                                 M           POP_REG1 R10
37498                                 M                                   ; RE"+4" 00,00,00,04
37499 0000838C 6AF6                   M           MOV.L   @R15+,R10        ;
37500                            1027 I1          SUB_END
37501                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37502 0000838E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37503                            1028 I1          M_RTS
37504 00008390 000B                   M           RTS                             ;RTSの後ろの
37505 00008392 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37506                            1029 I1  
37507                            1030 I1  ;       ***************************************************
37508                            1031 I1  ;       ***                                             ***
37509                            1032 I1  ;       ***     振り子加速度テーブル作成SUB1            ***
37510                            1033 I1  ;       ***                                             ***
37511                            1034 I1  ;       ***     速度テーブルをパルスに変換する          ***
37512                            1035 I1  ;       ***     [完成済み]                              ***
37513                            1036 I1  ;       ***************************************************
37514                            1037 I1  ;       Input   R6:最大周波数　PLS/Sec
37515                            1038 I1  ;       Input   R13:V-TABLE-TOP
37516                            1039 I1  ;       Input   R14:加減速時間-MEM WORD: ﾙｰﾌﾟ数は0番目を含むから+1回
37517                            1040 I1  ;       Input   R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   567
PROGRAM NAME =

37518                            1041 I1  ;
37519                                 I1  ***** BEGIN-POOL *****
37520 00008394 00F0                   I1  DATA FOR SOURCE-LINE 1026
37521 00008396 00FB                   I1  DATA FOR SOURCE-LINE 1026
37522 00008398 0004                   I1  DATA FOR SOURCE-LINE 1026
37523 0000839A 0000                   I1  ALIGNMENT CODE
37524 0000839C 00000000               I1  DATA FOR SOURCE-LINE 1026
37525                                 I1  ***** END-POOL *****
37526 000083A0                   1042 I1  _ACC_TBL_MAKPLS1_SUB
37527                            1043 I1          SUB_START
37528 000083A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
37529                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37530                            1044 I1          _A_WDT_CLR                                      ;
37531                                 M           PUSH_REG1 R10
37532 000083A2 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
37533                                 M                                           ;REG=>[SP]
37534                                 M                                           ;"-4" FF,FF,FF,FC
37535                                 M           PUSH_REG1 R11
37536 000083A4 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
37537                                 M                                           ;REG=>[SP]
37538                                 M                                           ;"-4" FF,FF,FF,FC
37539                                 M           PUSH_REG1 R12
37540 000083A6 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
37541                                 M                                           ;REG=>[SP]
37542                                 M                                           ;"-4" FF,FF,FF,FC
37543                                 M   
37544                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
37545 000083A8 0A02                   M           STC     SR,R10                  ;
37546 000083AA 9B22                   M           MOV.W   #H'000000F0,R11         ;
37547 000083AC 2ABB                   M           OR      R11,R10         ;INT15
37548 000083AE 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
37549 000083B0 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
37550                                 M   
37551 000083B2 DA11                   M           MOV.L   #_PDTRB,R10
37552 000083B4 6BA1                   M           MOV.W   @R10,R11
37553 000083B6 9C1D                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
37554 000083B8 2BC9                   M           AND     R12,R11                 ;
37555 000083BA 2AB1                   M           MOV.W   R11,@R10                ;
37556 000083BC 9C1B                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
37557 000083BE 2BCB                   M           OR      R12,R11                 ;
37558 000083C0 2AB1                   M           MOV.W   R11,@R10                ;
37559                                 M   
37560                                 M           EI_POP_SR_SHn                   ;
37561 000083C2 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
37562                                 M   
37563                                 M           POP_REG1 R12
37564                                 M                                   ; RE"+4" 00,00,00,04
37565 000083C4 6CF6                   M           MOV.L   @R15+,R12        ;
37566                                 M           POP_REG1 R11
37567                                 M                                   ; RE"+4" 00,00,00,04
37568 000083C6 6BF6                   M           MOV.L   @R15+,R11        ;
37569                                 M           POP_REG1 R10
37570                                 M                                   ; RE"+4" 00,00,00,04
37571 000083C8 6AF6                   M           MOV.L   @R15+,R10        ;
37572                            1045 I1  
37573 000083CA 65E1              1046 I1          MOV.W   @R14,R5                                         ;時間
37574 000083CC 7501              1047 I1          ADD     #1,R5                                           ;LOOPは+1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   568
PROGRAM NAME =

37575                            1048 I1  
37576 000083CE 277A              1049 I1          XOR     R7,R7                                           ;積算数 500,000HZ/1000*100
                                          0=4byte
37577 000083D0 6163              1050 I1          MOV     R6,R1                                           ;data(0~10000) *500,000/(1
                                          0000*1/1000(msec)
37578 000083D2 D40A              1051 I1          MOV.L   #_ACC_PER_V_MAX*_ACC_CALC_TIM,R4                ;
37579                            1052 I1  
37580 000083D4                   1053 I1  ACC_TBLMKPLS1_SBLOP200
37581 000083D4 2558              1054 I1          TST     R5,R5                           ;
37582                            1055 I1          TST_BIT_OF ACC_TBLMKPLS1_SB_END         ;
37583 000083D6 8915                   M           BT      ACC_TBLMKPLS1_SB_END
37584 000083D8 62D5              1056 I1          MOV.W   @R13+,R2                        ;V% LOAD
37585                            1057 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
37586 000083DA D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37587 000083DC 400B                   M           JSR     @R0                     ;
37588 000083DE 0009                   M           NOP                                     ;
37589                            1058 I1                                                  ;R2(10000)*500000 8BYTE
37590                            1059 I1  
37591                            1060 I1  
37592                            1061 I1  
37593                            1062 I1  
37594                            1063 I1  
37595                            1064 I1  
37596                            1065 I1  ;;      ADD     #1,R2                           ;(1ﾊﾟﾙｽはMOD分･･最大1000ﾊﾟﾙｽ程度の+側に誤
                                          差がでる)
37597 000083E0 2228              1066 I1          TST     R2,R2
37598                            1067 I1          TST_BIT_ON ACC_TBLMKPLS1_SBLOP220       ;
37599 000083E2 8B00                   M           BF      ACC_TBLMKPLS1_SBLOP220
37600 000083E4 7201              1068 I1          ADD     #1,R2
37601 000083E6                   1069 I1  ACC_TBLMKPLS1_SBLOP220
37602                            1070 I1  
37603 000083E6 372C              1071 I1          ADD     R2,R7                           ;S=S+deltV
37604 000083E8 2A72              1072 I1          MOV.L   R7,@R10                         ;
37605 000083EA 7A04              1073 I1          ADD     #4,R10                          ;
37606                            1074 I1  
37607 000083EC 75FF              1075 I1          ADD     #-1,R5
37608                            1076 I1          M_BRA   ACC_TBLMKPLS1_SBLOP200          ;
37609 000083EE AFF1                   M           BRA     ACC_TBLMKPLS1_SBLOP200
37610 000083F0 0009                   M           NOP
37611                            1077 I1  
37612                            1078 I1  
37613                                 I1  ***** BEGIN-POOL *****
37614 000083F2 00F0                   I1  DATA FOR SOURCE-LINE 1044
37615 000083F4 00FB                   I1  DATA FOR SOURCE-LINE 1044
37616 000083F6 0004                   I1  DATA FOR SOURCE-LINE 1044
37617 000083F8 00000000               I1  DATA FOR SOURCE-LINE 1044
37618 000083FC 00989680               I1  DATA FOR SOURCE-LINE 1051
37619 00008400 00000000               I1  DATA FOR SOURCE-LINE 1057
37620                                 I1  ***** END-POOL *****
37621 00008404                   1079 I1  ACC_TBLMKPLS1_SB_END
37622                            1080 I1  
37623                            1081 I1          SUB_END
37624                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37625 00008404 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37626                            1082 I1          M_RTS
37627 00008406 000B                   M           RTS                             ;RTSの後ろの
37628 00008408 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   569
PROGRAM NAME =

37629                            1083 I1  
37630                            1084 I1  
37631                            1085 I1  
37632                            1086 I1  
37633                            1087 I1  
37634                            1088 I1  
37635                            1089 I1  
37636                            1090 I1  
37637                            1091 I1  
37638                            1092 I1  ;       ***************************************************
37639                            1093 I1  ;       ***                                             ***
37640                            1094 I1  ;       ***                                             ***
37641                            1095 I1  ;       ***                                             ***
37642                            1096 I1  ;       ***             振り子API                       ***
37643                            1097 I1  ;       ***                                             ***
37644                            1098 I1  ;       ***                                             ***
37645                            1099 I1  ;       ***************************************************
37646                            1100 I1  ;       サイクル開始(往路/復路),停止からの起動,タイマ停止からの起動
37647 0000840A                   1101 I1  _DNM_START_ACC_CALC:
37648                            1102 I1          SUB_START
37649 0000840A 4F22                   M           STS.L   PR,@-R15                ;[必要]
37650                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37651                            1103 I1  
37652 0000840C 200A              1104 I1          XOR     R0,R0
37653 0000840E D108              1105 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
37654 00008410 2101              1106 I1          MOV.W   R0,@R1                  ;
37655 00008412 D108              1107 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
37656 00008414 2101              1108 I1          MOV.W   R0,@R1                  ;
37657 00008416 D108              1109 I1          MOV.L   #_ACC_STR_STEP,R1       ;
37658 00008418 2101              1110 I1          MOV.W   R0,@R1                  ;
37659 0000841A D108              1111 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
37660 0000841C 2101              1112 I1          MOV.W   R0,@R1                  ;
37661                            1113 I1  
37662                            1114 I1  ;       ---- 2010-09-29---
37663 0000841E 200A              1115 I1          XOR     R0,R0
37664 00008420 D107              1116 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
37665 00008422 2101              1117 I1          MOV.W   R0,@R1                  ;
37666 00008424 D107              1118 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
37667 00008426 2101              1119 I1          MOV.W   R0,@R1                  ;
37668                            1120 I1  
37669                            1121 I1          SUB_END
37670                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37671 00008428 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37672                            1122 I1          M_RTS
37673 0000842A 000B                   M           RTS                             ;RTSの後ろの
37674 0000842C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37675                            1123 I1  
37676                            1124 I1  ;       工程切替
37677                                 I1  ***** BEGIN-POOL *****
37678 0000842E 0000                   I1  ALIGNMENT CODE
37679 00008430 00000000               I1  DATA FOR SOURCE-LINE 1105
37680 00008434 00000000               I1  DATA FOR SOURCE-LINE 1107
37681 00008438 00000000               I1  DATA FOR SOURCE-LINE 1109
37682 0000843C 00000000               I1  DATA FOR SOURCE-LINE 1111
37683 00008440 00000000               I1  DATA FOR SOURCE-LINE 1116
37684 00008444 00000000               I1  DATA FOR SOURCE-LINE 1118
37685                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   570
PROGRAM NAME =

37686 00008448                   1125 I1  _DNM_STEP_ACC_CHANGE:
37687                            1126 I1          SUB_START
37688 00008448 4F22                   M           STS.L   PR,@-R15                ;[必要]
37689                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37690                            1127 I1  
37691 0000844A D10F              1128 I1          MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
37692 0000844C 6011              1129 I1          MOV.W   @R1,R0                  ;
37693 0000844E 2008              1130 I1          TST     R0,R0
37694                            1131 I1          TST_BIT_OF DNM_STEP_ACC_CHG_100 ;WHY
37695 00008450 8916                   M           BT      DNM_STEP_ACC_CHG_100
37696                            1132 I1  
37697 00008452 D10E              1133 I1          MOV.L   #_ACC_POS_STEP,R1       ;
37698 00008454 6211              1134 I1          MOV.W   @R1,R2                  ;
37699 00008456 2101              1135 I1          MOV.W   R0,@R1                  ;
37700 00008458 3200              1136 I1          CMP/EQ  R0,R2                   ;
37701 0000845A 8911              1137 I1          BT      DNM_STEP_ACC_CHG_100    ;変更なし
37702 0000845C D10C              1138 I1          MOV.L   #_ACC_STR_STEP,R1       ;
37703 0000845E 2101              1139 I1          MOV.W   R0,@R1                  ;
37704                            1140 I1  
37705 00008460 8801              1141 I1          cmp/eq  #1,r0                   ;
37706 00008462 8B00              1142 I1          BF      DNM_STEP_ACC_CHGDBG10
37707 00008464 0009              1143 I1          NOP
37708 00008466                   1144 I1  DNM_STEP_ACC_CHGDBG10:
37709 00008466 8802              1145 I1          cmp/eq  #2,r0                   ;
37710 00008468 8B00              1146 I1          BF      DNM_STEP_ACC_CHGDBG20   ;
37711 0000846A 0009              1147 I1          NOP
37712 0000846C                   1148 I1  DNM_STEP_ACC_CHGDBG20:                  ;
37713                            1149 I1  
37714 0000846C 200A              1150 I1          XOR     R0,R0
37715 0000846E D109              1151 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
37716 00008470 2101              1152 I1          MOV.W   R0,@R1
37717 00008472 D109              1153 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
37718 00008474 2101              1154 I1          MOV.W   R0,@R1
37719                            1155 I1  
37720                            1156 I1  
37721                            1157 I1  
37722                            1158 I1  ;       ---- 2010-09-29---
37723 00008476 200A              1159 I1          XOR     R0,R0
37724 00008478 D108              1160 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
37725 0000847A 2101              1161 I1          MOV.W   R0,@R1                  ;
37726 0000847C D108              1162 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
37727 0000847E 2101              1163 I1          MOV.W   R0,@R1                  ;
37728                            1164 I1  
37729                            1165 I1  
37730                            1166 I1  
37731 00008480                   1167 I1  DNM_STEP_ACC_CHG_100:
37732                            1168 I1  
37733                            1169 I1          SUB_END
37734                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37735 00008480 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37736                            1170 I1          M_RTS
37737 00008482 000B                   M           RTS                             ;RTSの後ろの
37738 00008484 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37739                            1171 I1  
37740                            1172 I1  
37741                            1173 I1  ;       ***************************************************
37742                            1174 I1  ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   571
PROGRAM NAME =

37743                            1175 I1  ;       ***                                             ***
37744                            1176 I1  ;       ***                                             ***
37745                            1177 I1  ;       ***                                             ***
37746                            1178 I1  ;       ***                                             ***
37747                            1179 I1  ;       ***                                             ***
37748                            1180 I1  ;       ***             振り子加速度演算                ***
37749                            1181 I1  ;       ***             (LSIの演算部の代わり)           ***
37750                            1182 I1  ;       ***                                             ***
37751                            1183 I1  ;       ***                                             ***
37752                            1184 I1  ;       ***                                             ***
37753                            1185 I1  ;       ***                                             ***
37754                            1186 I1  ;       ***                                             ***
37755                            1187 I1  ;       ***************************************************
37756                            1188 I1  ;       _PLS_LSI_CTRL
37757                            1189 I1  ;               _PLS_LSI_CTL_CALC
37758                            1190 I1  ;                       POSCTL_SV_SPD
37759                                 I1  ***** BEGIN-POOL *****
37760 00008486 0000                   I1  ALIGNMENT CODE
37761 00008488 00000000               I1  DATA FOR SOURCE-LINE 1128
37762 0000848C 00000000               I1  DATA FOR SOURCE-LINE 1133
37763 00008490 00000000               I1  DATA FOR SOURCE-LINE 1138
37764 00008494 00000000               I1  DATA FOR SOURCE-LINE 1151
37765 00008498 00000000               I1  DATA FOR SOURCE-LINE 1153
37766 0000849C 00000000               I1  DATA FOR SOURCE-LINE 1160
37767 000084A0 00000000               I1  DATA FOR SOURCE-LINE 1162
37768                                 I1  ***** END-POOL *****
37769 000084A4                   1191 I1  _DNM_SPD_CALC:
37770                            1192 I1          SUB_START
37771 000084A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
37772                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37773 000084A6 200A              1193 I1          XOR     R0,R0
37774 000084A8 D123              1194 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
37775 000084AA 2102              1195 I1          MOV.L   R0,@R1                          ;
37776                            1196 I1  
37777                            1197 I1  
37778 000084AC 200A              1198 I1          XOR     R0,R0                           ;
37779 000084AE D123              1199 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
37780 000084B0 2101              1200 I1          MOV.W   R0,@R1                          ;
37781                            1201 I1  
37782                            1202 I1          FAR_JSR #_DNM_STEP_ACC_CHANGE,R0        ;
37783 000084B2 D023                   M           MOV.L   #_DNM_STEP_ACC_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37784 000084B4 400B                   M           JSR     @R0                     ;
37785 000084B6 0009                   M           NOP                                     ;
37786                            1203 I1  
37787                            1204 I1          FAR_JSR #_DNM_ACC_CALC,R0               ;
37788 000084B8 D022                   M           MOV.L   #_DNM_ACC_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37789 000084BA 400B                   M           JSR     @R0                     ;
37790 000084BC 0009                   M           NOP                                     ;
37791                            1205 I1  
37792                            1206 I1  ;       -------- DEBUG OUT ------------------
37793 000084BE D122              1207 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
37794 000084C0 6011              1208 I1          MOV.W   @R1,R0                          ;
37795 000084C2 D11E              1209 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
37796 000084C4 6211              1210 I1          MOV.W   @R1,R2                          ;
37797 000084C6 202B              1211 I1          OR      R2,R0                           ;
37798                            1212 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   572
PROGRAM NAME =

37799 000084C8 D120              1213 I1          MOV.L   #_ACC_STEP_FLG,R1               ;
37800 000084CA 6311              1214 I1          MOV.W   @R1,R3                          ;
37801 000084CC 4318              1215 I1          SHLL8   R3                              ;
37802 000084CE 203B              1216 I1          OR      R3,R0                           ;
37803                            1217 I1  
37804                            1218 I1  ;;;;;;;;2015-07-22      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
37805                            1219 I1  ;;;;;;;;2015-07-22      MOV.W   R0,@R1                          ;
37806                            1220 I1  
37807 000084D0 D119              1221 I1          MOV.L   #_ACC_ANS_ACCDAT,R1     ;(加速または減速すべき　加速度):0変化するﾃﾞｰﾀがな
                                          い
37808 000084D2 6212              1222 I1          MOV.L   @R1,R2                  ;
37809 000084D4 D11E              1223 I1          MOV.L   #_ACC_MONITOR_DAT1,R1   ;リニア
37810 000084D6 2122              1224 I1          MOV.L   R2,@R1                  ;+/-1
37811                            1225 I1  
37812 000084D8 D11E              1226 I1          MOV.L   #_ACC_LAST_POINT,R1     ;最大速度から求まる
37813 000084DA 6211              1227 I1          MOV.W   @R1,R2                  ;
37814                            1228 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
37815 000084DC D11E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37816 000084DE 410B                   M           JSR     @R1                     ;
37817 000084E0 0009                   M           NOP                                     ;
37818 000084E2 D11E              1229 I1          MOV.L   #_ACC_MONITOR_DAT2,R1   ;ｴﾝｺｰﾀﾞ角度
37819 000084E4 2122              1230 I1          MOV.L   R2,@R1                  ;
37820                            1231 I1  
37821 000084E6 D11E              1232 I1          MOV.L   #_ACC_STOP_POINT,R1     ;ステップ速度停止の中で求まる（停止予定の行程）
37822 000084E8 6211              1233 I1          MOV.W   @R1,R2                  ;
37823                            1234 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
37824 000084EA D11B                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37825 000084EC 410B                   M           JSR     @R1                     ;
37826 000084EE 0009                   M           NOP                                     ;
37827 000084F0 D11C              1235 I1          MOV.L   #_ACC_MONITOR_DAT3,R1   ;PG角度
37828 000084F2 2122              1236 I1          MOV.L   R2,@R1                  ;
37829                            1237 I1  
37830 000084F4 D11C              1238 I1          MOV.L   #_ACC_STEP_POINT,R1     ;ステップ
37831 000084F6 6211              1239 I1          MOV.W   @R1,R2                  ;
37832 000084F8 D11C              1240 I1          MOV.L   #_ACC_MONITOR_DAT4,R1   ;負荷率
37833 000084FA 2122              1241 I1          MOV.L   R2,@R1                  ;
37834                            1242 I1  
37835                            1243 I1  
37836                            1244 I1  ;DAT5
37837                            1245 I1  
37838                            1246 I1  
37839 000084FC D11C              1247 I1          MOV.L   #_ACC_LAST_SPD,R1       ;
37840 000084FE 6212              1248 I1          MOV.L   @R1,R2                  ;
37841 00008500 4201              1249 I1          SHLR    R2
37842 00008502 4201              1250 I1          SHLR    R2
37843 00008504 4201              1251 I1          SHLR    R2
37844 00008506 4201              1252 I1          SHLR    R2
37845 00008508 4201              1253 I1          SHLR    R2
37846 0000850A D11A              1254 I1          MOV.L   #_ACC_MONITOR_DAT6,R1   ;左
37847 0000850C 2122              1255 I1          MOV.L   R2,@R1                  ;
37848                            1256 I1  
37849 0000850E D11A              1257 I1          MOV.L   #_ACC_STOP_SPD,R1       ;
37850 00008510 6212              1258 I1          MOV.L   @R1,R2                  ;
37851 00008512 4201              1259 I1          SHLR    R2
37852 00008514 4201              1260 I1          SHLR    R2
37853 00008516 4201              1261 I1          SHLR    R2
37854 00008518 4201              1262 I1          SHLR    R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   573
PROGRAM NAME =

37855 0000851A 4201              1263 I1          SHLR    R2
37856 0000851C D117              1264 I1          MOV.L   #_ACC_MONITOR_DAT7,R1   ;右
37857 0000851E 2122              1265 I1          MOV.L   R2,@R1                  ;
37858                            1266 I1  
37859 00008520 D117              1267 I1          MOV.L   #_ACC_STEP_SPD,R1       ;
37860 00008522 6212              1268 I1          MOV.L   @R1,R2                  ;
37861 00008524 4201              1269 I1          SHLR    R2
37862 00008526 4201              1270 I1          SHLR    R2
37863 00008528 4201              1271 I1          SHLR    R2
37864 0000852A 4201              1272 I1          SHLR    R2
37865 0000852C 4201              1273 I1          SHLR    R2
37866 0000852E D115              1274 I1          MOV.L   #_ACC_MONITOR_DAT8,R1   ;合計
37867 00008530 2122              1275 I1          MOV.L   R2,@R1                  ;
37868                            1276 I1  
37869                            1277 I1  
37870                            1278 I1  
37871                            1279 I1  
37872                            1280 I1          SUB_END
37873                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37874 00008532 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37875                            1281 I1          M_RTS
37876 00008534 000B                   M           RTS                             ;RTSの後ろの
37877 00008536 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37878                            1282 I1  
37879                            1283 I1  
37880                            1284 I1  
37881                                 I1  ***** BEGIN-POOL *****
37882 00008538 00000000               I1  DATA FOR SOURCE-LINE 1194,1221
37883 0000853C 00000000               I1  DATA FOR SOURCE-LINE 1199,1209
37884 00008540 00000000               I1  DATA FOR SOURCE-LINE 1202
37885 00008544 00000000               I1  DATA FOR SOURCE-LINE 1204
37886 00008548 00000000               I1  DATA FOR SOURCE-LINE 1207
37887 0000854C 00000000               I1  DATA FOR SOURCE-LINE 1213
37888 00008550 00000000               I1  DATA FOR SOURCE-LINE 1223
37889 00008554 00000000               I1  DATA FOR SOURCE-LINE 1226
37890 00008558 00000000               I1  DATA FOR SOURCE-LINE 1228,1234
37891 0000855C 00000000               I1  DATA FOR SOURCE-LINE 1229
37892 00008560 00000000               I1  DATA FOR SOURCE-LINE 1232
37893 00008564 00000000               I1  DATA FOR SOURCE-LINE 1235
37894 00008568 00000000               I1  DATA FOR SOURCE-LINE 1238
37895 0000856C 00000000               I1  DATA FOR SOURCE-LINE 1240
37896 00008570 00000000               I1  DATA FOR SOURCE-LINE 1247
37897 00008574 00000000               I1  DATA FOR SOURCE-LINE 1254
37898 00008578 00000000               I1  DATA FOR SOURCE-LINE 1257
37899 0000857C 00000000               I1  DATA FOR SOURCE-LINE 1264
37900 00008580 00000000               I1  DATA FOR SOURCE-LINE 1267
37901 00008584 00000000               I1  DATA FOR SOURCE-LINE 1274
37902                                 I1  ***** END-POOL *****
37903 00008588                   1285 I1  _DNM_ACC_CALC
37904                            1286 I1          SUB_START
37905 00008588 4F22                   M           STS.L   PR,@-R15                ;[必要]
37906                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37907                            1287 I1  
37908                            1288 I1          FAR_JSR #_DNM_ACC_OVER_PLS_MAK,R0
37909 0000858A D024                   M           MOV.L   #_DNM_ACC_OVER_PLS_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37910 0000858C 400B                   M           JSR     @R0                     ;
37911 0000858E 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   574
PROGRAM NAME =

37912                            1289 I1  
37913 00008590 D123              1290 I1          MOV.L   #_ACC_POS_STEP,R1       ;//内部制御工程1~11
37914 00008592 6011              1291 I1          MOV.W   @R1,R0                  ;
37915                            1292 I1  ;----------必要か？  2011-03-22
37916 00008594 2008              1293 I1          TST     R0,R0
37917                            1294 I1          TST_BIT_ON DNM_ACCCALC_020
37918 00008596 8B00                   M           BF      DNM_ACCCALC_020
37919 00008598 903C              1295 I1          MOV.W   #1,R0                   ;
37920 0000859A                   1296 I1  DNM_ACCCALC_020
37921                            1297 I1  
37922                            1298 I1  
37923 0000859A D122              1299 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
37924 0000859C 2101              1300 I1          MOV.W   R0,@R1                  ;
37925                            1301 I1  
37926 0000859E D122              1302 I1          MOV.L   #_ACC_STEP_NUMBER,R1    ;加減速に使用するデータ番号=動作ステップ
37927 000085A0 2101              1303 I1          MOV.W   R0,@R1                  ;
37928                            1304 I1  
37929 000085A2 200A              1305 I1          XOR     R0,R0
37930 000085A4 D121              1306 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
37931 000085A6 2102              1307 I1          MOV.L   R0,@R1                          ;
37932                            1308 I1  
37933                            1309 I1  ;;;     FAR_JSR #_TBLACC_LAST_SP_MAKE,R0        ;最終減速演算：現在速度より高ければこれに
                                          置き換える
37934                            1310 I1  
37935 000085A8 D121              1311 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
37936 000085AA 6012              1312 I1          MOV.L   @R1,R0                          ;
37937 000085AC D121              1313 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
37938 000085AE 2102              1314 I1          MOV.L   R0,@R1                          ;PLS/S
37939                            1315 I1  
37940                            1316 I1  
37941                            1317 I1  
37942                            1318 I1          FAR_JSR #_TBLACC_STOP_SP_MAKE,R0        ;現行ｽﾃｯﾌﾟからの減速演算：最大以下であれば
                                          最大
37943 000085B0 D021                   M           MOV.L   #_TBLACC_STOP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37944 000085B2 400B                   M           JSR     @R0                     ;
37945 000085B4 0009                   M           NOP                                     ;
37946                            1319 I1  
37947                            1320 I1          FAR_JSR #_TBLACC_STEP_SP_MAKE,R0        ;減速演算２つより低い範囲で加速または減速
                                          する
37948 000085B6 D021                   M           MOV.L   #_TBLACC_STEP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37949 000085B8 400B                   M           JSR     @R0                     ;
37950 000085BA 0009                   M           NOP                                     ;
37951                            1321 I1  
37952                            1322 I1  ;       比較結果を加速度で表す
37953                            1323 I1  
37954 000085BC 288A              1324 I1          XOR     R8,R8                           ;FLAG
37955 000085BE D11D              1325 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
37956 000085C0 6612              1326 I1          MOV.L   @R1,R6                          ;PLS/S
37957 000085C2 D11F              1327 I1          MOV.L   #_ACC_STOP_SPD,R1               ;停止ステップのデータから求まる
37958 000085C4 6512              1328 I1          MOV.L   @R1,R5                          ;
37959 000085C6 3653              1329 I1          CMP/GE  R5,R6                           ;
37960 000085C8 8902              1330 I1          BT      DNM_ACCCALC_100                 ;
37961 000085CA 9423              1331 I1          MOV.W   #BIT0,R4                        ;
37962 000085CC 284B              1332 I1          OR      R4,R8                           ;
37963 000085CE 6563              1333 I1          MOV     R6,R5                           ;R5:LIMIT
37964 000085D0                   1334 I1  DNM_ACCCALC_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   575
PROGRAM NAME =

37965                            1335 I1  
37966                            1336 I1  
37967 000085D0 D11C              1337 I1          MOV.L   #_ACC_STEP_SPD,R1               ;これから変化させようと考えている速度
37968 000085D2 6212              1338 I1          MOV.L   @R1,R2                          ;
37969 000085D4 3523              1339 I1          CMP/GE  R2,R5                           ;
37970 000085D6 8902              1340 I1          BT      DNM_ACCCALC_200                 ;
37971                            1341 I1  
37972                            1342 I1  ;       --- limit on----
37973 000085D8 941D              1343 I1          MOV.W   #BIT1,R4                        ;
37974 000085DA 284B              1344 I1          OR      R4,R8                           ;
37975 000085DC 6253              1345 I1          MOV     R5,R2                           ;LIMIT
37976                            1346 I1  
37977 000085DE                   1347 I1  DNM_ACCCALC_200
37978 000085DE D11A              1348 I1          MOV.L   #_ACC_CALC_SPDX,R1              ;
37979 000085E0 2122              1349 I1          MOV.L   R2,@R1                          ;
37980                            1350 I1  
37981                            1351 I1          FAR_JSR #_DNM_ACC_OVER_SPD_MAK,R0               ;
37982 000085E2 D01A                   M           MOV.L   #_DNM_ACC_OVER_SPD_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37983 000085E4 400B                   M           JSR     @R0                     ;
37984 000085E6 0009                   M           NOP                                     ;
37985 000085E8 D119              1352 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
37986 000085EA 6212              1353 I1          MOV.L   @R1,R2                          ;
37987                            1354 I1  
37988                            1355 I1  
37989 000085EC D119              1356 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
37990 000085EE 6312              1357 I1          MOV.L   @R1,R3                          ;
37991 000085F0 3233              1358 I1          CMP/GE  R3,R2                           ;
37992 000085F2 8902              1359 I1          BT      DNM_ACCCALC_300                 ;
37993                            1360 I1  
37994                            1361 I1  ;       --- UNDER　LIMIT----
37995 000085F4 9410              1362 I1          MOV.W   #BIT2,R4                        ;[BIT2はにせもの]
37996 000085F6 284B              1363 I1          OR      R4,R8                           ;
37997 000085F8 6233              1364 I1          MOV     R3,R2                           ;
37998                            1365 I1  
37999 000085FA                   1366 I1  DNM_ACCCALC_300
38000 000085FA D117              1367 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
38001 000085FC 6011              1368 I1          MOV.W   @R1,R0                          ;
38002 000085FE C9FB              1369 I1          AND     #LOW ~BIT2,R0
38003 00008600 208B              1370 I1          OR      R8,R0                           ;
38004 00008602 2101              1371 I1          MOV.W   R0,@R1                          ;
38005                            1372 I1  
38006 00008604 D115              1373 I1          MOV.L   #_POSCTL_RL_SPD,R1              ;現在速度
38007 00008606 6312              1374 I1          MOV.L   @R1,R3                          ;
38008 00008608 3238              1375 I1          SUB     R3,R2                           ;
38009 0000860A D108              1376 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
38010 0000860C 2122              1377 I1          MOV.L   R2,@R1                          ;
38011                            1378 I1  
38012                            1379 I1          SUB_END
38013                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38014 0000860E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38015                            1380 I1          M_RTS
38016 00008610 000B                   M           RTS                             ;RTSの後ろの
38017 00008612 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38018                            1381 I1  
38019                            1382 I1  
38020                            1383 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   576
PROGRAM NAME =

38021                            1384 I1  
38022                            1385 I1  
38023                            1386 I1  
38024                            1387 I1  ;       *******************************************
38025                            1388 I1  ;       ***                                     ***
38026                            1389 I1  ;       ***     演算上で使用するデータ          ***
38027                            1390 I1  ;       ***                                     ***
38028                            1391 I1  ;       *******************************************
38029                                 I1  ***** BEGIN-POOL *****
38030 00008614 0001                   I1  DATA FOR SOURCE-LINE 1295,1331
38031 00008616 0002                   I1  DATA FOR SOURCE-LINE 1343
38032 00008618 0004                   I1  DATA FOR SOURCE-LINE 1362
38033 0000861A 0000                   I1  ALIGNMENT CODE
38034 0000861C 00000000               I1  DATA FOR SOURCE-LINE 1288
38035 00008620 00000000               I1  DATA FOR SOURCE-LINE 1290
38036 00008624 00000000               I1  DATA FOR SOURCE-LINE 1299
38037 00008628 00000000               I1  DATA FOR SOURCE-LINE 1302
38038 0000862C 00000000               I1  DATA FOR SOURCE-LINE 1306,1376
38039 00008630 00000000               I1  DATA FOR SOURCE-LINE 1311
38040 00008634 00000000               I1  DATA FOR SOURCE-LINE 1313,1325
38041 00008638 00000000               I1  DATA FOR SOURCE-LINE 1318
38042 0000863C 00000000               I1  DATA FOR SOURCE-LINE 1320
38043 00008640 00000000               I1  DATA FOR SOURCE-LINE 1327
38044 00008644 00000000               I1  DATA FOR SOURCE-LINE 1337
38045 00008648 00000000               I1  DATA FOR SOURCE-LINE 1348
38046 0000864C 00000000               I1  DATA FOR SOURCE-LINE 1351
38047 00008650 00000000               I1  DATA FOR SOURCE-LINE 1352
38048 00008654 00000000               I1  DATA FOR SOURCE-LINE 1356
38049 00008658 00000000               I1  DATA FOR SOURCE-LINE 1367
38050 0000865C 00000000               I1  DATA FOR SOURCE-LINE 1373
38051                                 I1  ***** END-POOL *****
38052 00008660                   1392 I1  _DNM_ACC_OVER_PLS_MAK:
38053                            1393 I1          SUB_START
38054 00008660 4F22                   M           STS.L   PR,@-R15                ;[必要]
38055                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38056 00008662 D50A              1394 I1          MOV.L   #_ACC_REST_ABS_PLS,R5   ;//
38057 00008664 6156              1395 I1          MOV.L   @R5+,R1                 ;
38058 00008666 6252              1396 I1          MOV.L   @R5,R2                  ;
38059                            1397 I1  
38060                            1398 I1  ;       *1/比率
38061 00008668 D409              1399 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
                                          上距離がある)
38062 0000866A 6041              1400 I1          MOV.W   @R4,R0                          ;
38063 0000866C 2008              1401 I1          TST     R0,R0                           ;
38064                            1402 I1          TST_BIT_OF DNM_ACC_OVER_PLSMK200        ;
38065 0000866E 891A                   M           BT      DNM_ACC_OVER_PLSMK200
38066                            1403 I1  
38067 00008670 D308              1404 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
38068 00008672 6431              1405 I1          MOV.W   @R3,R4                                  ;
38069 00008674 9109              1406 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
38070                            1407 I1          FAR_JSR #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0   ;
38071 00008676 D008                   M           MOV.L   #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38072 00008678 400B                   M           JSR     @R0                     ;
38073 0000867A 0009                   M           NOP                                     ;
38074                            1408 I1  
38075 0000867C 2118              1409 I1          TST     R1,R1                                   ;
38076                            1410 I1          TST_BIT_ON DNM_ACC_OVER_PLSMK100                ;まだ4byte以上ある
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   577
PROGRAM NAME =

38077 0000867E 8B0F                   M           BF      DNM_ACC_OVER_PLSMK100
38078                            1411 I1  
38079 00008680 D406              1412 I1          MOV.L   #_GENSOK_LNGTH_MAX,R4                   ;30秒*500KHよりも距離がある
38080 00008682 3243              1413 I1          CMP/GE  R4,R2                                   ;
38081 00008684 890C              1414 I1          BT      DNM_ACC_OVER_PLSMK100                   ;
38082                            1415 I1          M_BRA   DNM_ACC_OVER_PLSMK200                   ;
38083 00008686 A00E                   M           BRA     DNM_ACC_OVER_PLSMK200
38084 00008688 0009                   M           NOP
38085                            1416 I1  
38086                                 I1  ***** BEGIN-POOL *****
38087 0000868A 0064                   I1  DATA FOR SOURCE-LINE 1406
38088 0000868C 00000000               I1  DATA FOR SOURCE-LINE 1394
38089 00008690 00000000               I1  DATA FOR SOURCE-LINE 1399
38090 00008694 00000000               I1  DATA FOR SOURCE-LINE 1404
38091 00008698 00000000               I1  DATA FOR SOURCE-LINE 1407
38092 0000869C 00E4E1C0               I1  DATA FOR SOURCE-LINE 1412
38093                                 I1  ***** END-POOL *****
38094 000086A0                   1417 I1  DNM_ACC_OVER_PLSMK100
38095 000086A0 902F              1418 I1          MOV.W   #-1,R0
38096 000086A2 D419              1419 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
                                          上距離がある)
38097 000086A4 2401              1420 I1          MOV.W   R0,@R4                          ;
38098                            1421 I1  
38099 000086A6                   1422 I1  DNM_ACC_OVER_PLSMK200:
38100 000086A6 D619              1423 I1          MOV.L   #_ACC_REST_ABS_PLSX,R6  ;//これで演算
38101 000086A8 2612              1424 I1          MOV.L   R1,@R6                  ;
38102 000086AA 1621              1425 I1          MOV.L   R2,@(4,R6)              ;
38103                            1426 I1  
38104                            1427 I1  
38105                            1428 I1  ;       _TBLACC_ACC_ADDCHKの演算に使用している箇所の拡大
38106                            1429 I1  ;       設定速度の拡大 DATA*MAX/比率
38107 000086AC D118              1430 I1          MOV.L   #_POSCTL_SV_SPD,R1                      ;
38108 000086AE 6212              1431 I1          MOV.L   @R1,R2                                  ;
38109 000086B0 D318              1432 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
38110 000086B2 6431              1433 I1          MOV.W   @R3,R4                                  ;
38111 000086B4 9126              1434 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
38112                            1435 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
38113 000086B6 D018                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38114 000086B8 400B                   M           JSR     @R0                     ;
38115 000086BA 0009                   M           NOP                                     ;
38116 000086BC D117              1436 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                 ;
38117 000086BE 2122              1437 I1          MOV.L   R2,@R1                                  ;
38118                            1438 I1  
38119                            1439 I1  
38120                            1440 I1  
38121                            1441 I1  ;       実速度の拡大 DATA*MAX/比率(ACC_)
38122 000086C0 D117              1442 I1          MOV.L   #_POSCTL_RL_SPD,R1                      ;
38123 000086C2 6212              1443 I1          MOV.L   @R1,R2                                  ;
38124 000086C4 D313              1444 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
38125 000086C6 6431              1445 I1          MOV.W   @R3,R4                                  ;
38126 000086C8 911C              1446 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
38127                            1447 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
38128 000086CA D013                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38129 000086CC 400B                   M           JSR     @R0                     ;
38130 000086CE 0009                   M           NOP                                     ;
38131 000086D0 D114              1448 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R1                 ;
38132 000086D2 2122              1449 I1          MOV.L   R2,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   578
PROGRAM NAME =

38133                            1450 I1  
38134                            1451 I1  
38135                            1452 I1  
38136                            1453 I1  ;       加速度の拡大 DATA*MAX/比率
38137 000086D4 D114              1454 I1          MOV.L   #_POSCTL_SV_UP_ACC,R1                   ;
38138 000086D6 6212              1455 I1          MOV.L   @R1,R2                                  ;
38139 000086D8 D30E              1456 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
38140 000086DA 6431              1457 I1          MOV.W   @R3,R4                                  ;
38141 000086DC 9112              1458 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
38142                            1459 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
38143 000086DE D00E                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38144 000086E0 400B                   M           JSR     @R0                     ;
38145 000086E2 0009                   M           NOP                                     ;
38146 000086E4 D111              1460 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R1              ;
38147 000086E6 2122              1461 I1          MOV.L   R2,@R1                                  ;
38148                            1462 I1  
38149                            1463 I1  
38150                            1464 I1  ;       加速度の拡大 DATA*MAX/比率
38151 000086E8 D111              1465 I1          MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
38152 000086EA 6212              1466 I1          MOV.L   @R1,R2                                  ;
38153 000086EC D309              1467 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
38154 000086EE 6431              1468 I1          MOV.W   @R3,R4                                  ;
38155 000086F0 9108              1469 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
38156                            1470 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
38157 000086F2 D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38158 000086F4 400B                   M           JSR     @R0                     ;
38159 000086F6 0009                   M           NOP                                     ;
38160 000086F8 D10E              1471 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R1              ;
38161 000086FA 2122              1472 I1          MOV.L   R2,@R1                                  ;
38162                            1473 I1  
38163                            1474 I1  
38164                            1475 I1  
38165                            1476 I1  
38166                            1477 I1  
38167                            1478 I1  
38168                            1479 I1          SUB_END
38169                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38170 000086FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38171                            1480 I1          M_RTS
38172 000086FE 000B                   M           RTS                             ;RTSの後ろの
38173 00008700 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38174                            1481 I1  
38175                            1482 I1  
38176                                 I1  ***** BEGIN-POOL *****
38177 00008702 FFFF                   I1  DATA FOR SOURCE-LINE 1418
38178 00008704 0064                   I1  DATA FOR SOURCE-LINE 1434,1446,1458,1469
38179 00008706 0000                   I1  ALIGNMENT CODE
38180 00008708 00000000               I1  DATA FOR SOURCE-LINE 1419
38181 0000870C 00000000               I1  DATA FOR SOURCE-LINE 1423
38182 00008710 00000000               I1  DATA FOR SOURCE-LINE 1430
38183 00008714 00000000               I1  DATA FOR SOURCE-LINE 1432,1444,1456,1467
38184 00008718 00000000               I1  DATA FOR SOURCE-LINE 1435,1447,1459,1470
38185 0000871C 00000000               I1  DATA FOR SOURCE-LINE 1436
38186 00008720 00000000               I1  DATA FOR SOURCE-LINE 1442
38187 00008724 00000000               I1  DATA FOR SOURCE-LINE 1448
38188 00008728 00000000               I1  DATA FOR SOURCE-LINE 1454
38189 0000872C 00000000               I1  DATA FOR SOURCE-LINE 1460
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   579
PROGRAM NAME =

38190 00008730 00000000               I1  DATA FOR SOURCE-LINE 1465
38191 00008734 00000000               I1  DATA FOR SOURCE-LINE 1471
38192                                 I1  ***** END-POOL *****
38193 00008738                   1483 I1  _DNM_ACC_OVER_SPD_MAK:
38194                            1484 I1          SUB_START
38195 00008738 4F22                   M           STS.L   PR,@-R15                ;[必要]
38196                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38197 0000873A D107              1485 I1          MOV.L   #_ACC_CALC_SPDX,R1                      ;
38198 0000873C 6212              1486 I1          MOV.L   @R1,R2                                  ;
38199                            1487 I1  
38200                            1488 I1  ;      *比率
38201 0000873E D307              1489 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
38202 00008740 6131              1490 I1          MOV.W   @R3,R1                                  ;
38203 00008742 9407              1491 I1          MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;
38204                            1492 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
38205 00008744 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38206 00008746 400B                   M           JSR     @R0                     ;
38207 00008748 0009                   M           NOP                                     ;
38208                            1493 I1  
38209                            1494 I1  
38210 0000874A D106              1495 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
38211 0000874C 2122              1496 I1          MOV.L   R2,@R1                          ;
38212                            1497 I1          SUB_END
38213                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38214 0000874E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38215                            1498 I1          M_RTS
38216 00008750 000B                   M           RTS                             ;RTSの後ろの
38217 00008752 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38218                            1499 I1  
38219                            1500 I1  
38220                            1501 I1  
38221                            1502 I1  ;       ***************************************************
38222                            1503 I1  ;       ***                                             ***
38223                            1504 I1  ;       ***             最終減速演算                    ***
38224                            1505 I1  ;       ***             100%->0%                        ***
38225                            1506 I1  ;       ***             距離を使用する                  ***
38226                            1507 I1  ;       ***                                             ***
38227                            1508 I1  ;       ***************************************************
38228                            1509 I1  ;@全工程
38229                            1510 I1  ;;;[2013-05-20 前から未使用]_TBLACC_LAST_SP_MAKE
38230                            1511 I1  ;;;[2013-05-20 前から未使用]    SUB_START
38231                            1512 I1  ;;;[2013-05-20 前から未使用]
38232                            1513 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速速度
38233                            1514 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速パルス
38234                            1515 I1  ;;;[2013-05-20 前から未使用]
38235                            1516 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
38236                            1517 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R6                          ;
38237                            1518 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
38238                            1519 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
38239                            1520 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ
                                          換算値　pls/s
38240                            1521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R5                          ;
38241                            1522 I1  ;;;[2013-05-20 前から未使用]
38242                            1523 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
38243                            1524 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R0,R1                          ;
38244                            1525 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @(4,R0),R2                      ;USED R2
38245                            1526 I1  ;;;[2013-05-20 前から未使用]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   580
PROGRAM NAME =

38246                            1527 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_SERCH_PLS1,R0
38247                            1528 I1  ;;;[2013-05-20 前から未使用]
38248                            1529 I1  ;;;[2013-05-20 前から未使用]
38249                            1530 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
38250                            1531 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   R2,@R1                          ;PLS/S
38251                            1532 I1  ;;;[2013-05-20 前から未使用]
38252                            1533 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_POINT,R1             ;
38253                            1534 I1  ;;;[2013-05-20 前から未使用];;  MOV.W   R0,@R1
38254                            1535 I1  ;;;[2013-05-20 前から未使用]
38255                            1536 I1  ;;;[2013-05-20 前から未使用]
38256                            1537 I1  ;;;[2013-05-20 前から未使用]
38257                            1538 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
38258                            1539 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK100          ;
38259                            1540 I1  ;;;[2013-05-20 前から未使用]    NOP
38260                            1541 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_LASTSP_MK150
38261                            1542 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK100
38262                            1543 I1  ;;;[2013-05-20 前から未使用]    NOP
38263                            1544 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK150
38264                            1545 I1  ;;;[2013-05-20 前から未使用]
38265                            1546 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
38266                            1547 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
38267                            1548 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
38268                            1549 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK500          ;
38269                            1550 I1  ;;;[2013-05-20 前から未使用]
38270                            1551 I1  ;;;[2013-05-20 前から未使用]
38271                            1552 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
38272                            1553 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_LASTSP_MK200             ;NO! R0<R3 ok減速
                                          した
38273                            1554 I1  ;;;[2013-05-20 前から未使用]
38274                            1555 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
38275                            1556 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
38276                            1557 I1  ;;;[2013-05-20 前から未使用]
38277                            1558 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK200:
38278                            1559 I1  ;;;[2013-05-20 前から未使用]
38279                            1560 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
38280                            1561 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_LASTSP_MK400
38281                            1562 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
38282                            1563 I1  ;;;[2013-05-20 前から未使用]
38283                            1564 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK400
38284                            1565 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
38285                            1566 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
38286                            1567 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
38287                            1568 I1  ;;;[2013-05-20 前から未使用]
38288                            1569 I1  ;;;[2013-05-20 前から未使用]
38289                            1570 I1  ;;;[2013-05-20 前から未使用]
38290                            1571 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK500                         ;
38291                            1572 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
38292                            1573 I1  ;;;[2013-05-20 前から未使用]    MOV.W   R0,@R5
38293                            1574 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
38294                            1575 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R2,@R1                          ;PLS/S
38295                            1576 I1  ;;;[2013-05-20 前から未使用]
38296                            1577 I1  ;;;[2013-05-20 前から未使用];   ----------- 使用しない---
38297                            1578 I1  ;;;[2013-05-20 前から未使用]
38298                            1579 I1  ;;;[2013-05-20 前から未使用]
38299                            1580 I1  ;;;[2013-05-20 前から未使用]    SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   581
PROGRAM NAME =

38300                            1581 I1  ;;;[2013-05-20 前から未使用]    M_RTS
38301                            1582 I1  
38302                            1583 I1  
38303                            1584 I1  
38304                            1585 I1  ;       ***************************************************
38305                            1586 I1  ;       ***                                             ***
38306                            1587 I1  ;       ***             停止減速演算                    ***
38307                            1588 I1  ;       ***             x%->0%                          ***
38308                            1589 I1  ;       ***             距離を使用する                  ***
38309                            1590 I1  ;       ***                                             ***
38310                            1591 I1  ;       ***************************************************
38311                            1592 I1  ;A全工程(全段数に対して存在する)
38312                                 I1  ***** BEGIN-POOL *****
38313 00008754 0064                   I1  DATA FOR SOURCE-LINE 1491
38314 00008756 0000                   I1  ALIGNMENT CODE
38315 00008758 00000000               I1  DATA FOR SOURCE-LINE 1485
38316 0000875C 00000000               I1  DATA FOR SOURCE-LINE 1489
38317 00008760 00000000               I1  DATA FOR SOURCE-LINE 1492
38318 00008764 00000000               I1  DATA FOR SOURCE-LINE 1495
38319                                 I1  ***** END-POOL *****
38320 00008768                   1593 I1  _TBLACC_STOP_SP_MAKE
38321                            1594 I1          SUB_START
38322 00008768 4F22                   M           STS.L   PR,@-R15                ;[必要]
38323                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38324                            1595 I1  
38325 0000876A D107              1596 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
38326 0000876C 6511              1597 I1          MOV.W   @R1,R5                  ;
38327                            1598 I1  
38328                            1599 I1          FAR_JSR #_ACC_NUMBER_SELTBL1,R0 ;
38329 0000876E D007                   M           MOV.L   #_ACC_NUMBER_SELTBL1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38330 00008770 400B                   M           JSR     @R0                     ;
38331 00008772 0009                   M           NOP                                     ;
38332                            1600 I1  
38333 00008774 D106              1601 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38334 00008776 6512              1602 I1          MOV.L   @R1,R5                          ;
38335                            1603 I1  
38336 00008778 D006              1604 I1          MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
38337 0000877A 6102              1605 I1          MOV.L   @R0,R1                          ;
38338 0000877C 5201              1606 I1          MOV.L   @(4,R0),R2                      ;USED R2
38339                            1607 I1  
38340                            1608 I1          FAR_JSR #_POINT_SERCH_PLS_HOKAN1,R0     ;
38341 0000877E D006                   M           MOV.L   #_POINT_SERCH_PLS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38342 00008780 400B                   M           JSR     @R0                     ;
38343 00008782 0009                   M           NOP                                     ;
38344                            1609 I1          M_BRA   TBLACC_STOPSP_MK500
38345 00008784 A00A                   M           BRA     TBLACC_STOPSP_MK500
38346 00008786 0009                   M           NOP
38347                            1610 I1  
38348                            1611 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
38349                            1612 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK100          ;
38350                            1613 I1  ;;;[2013-05-20 前から未使用]    NOP
38351                            1614 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_STOPSP_MK150
38352                            1615 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK100
38353                            1616 I1  ;;;[2013-05-20 前から未使用]    NOP
38354                            1617 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK150
38355                            1618 I1  ;;;[2013-05-20 前から未使用]
38356                            1619 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_STOP_POINT,R5             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   582
PROGRAM NAME =

38357                            1620 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
38358                            1621 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
38359                            1622 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK500          ;
38360                            1623 I1  ;;;[2013-05-20 前から未使用]
38361                            1624 I1  ;;;[2013-05-20 前から未使用]
38362                            1625 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
38363                            1626 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_STOPSP_MK200             ;NO! R0<R3 ok減速
                                          した
38364                            1627 I1  ;;;[2013-05-20 前から未使用]
38365                            1628 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
38366                            1629 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
38367                            1630 I1  ;;;[2013-05-20 前から未使用]
38368                            1631 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK200:
38369                            1632 I1  ;;;[2013-05-20 前から未使用]
38370                            1633 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
38371                            1634 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_STOPSP_MK400
38372                            1635 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
38373                            1636 I1  ;;;[2013-05-20 前から未使用]
38374                            1637 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK400
38375                            1638 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
38376                            1639 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
38377                            1640 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
38378                            1641 I1  ;;;[2013-05-20 前から未使用]
38379                            1642 I1  ;;;[2013-05-20 前から未使用]
38380                            1643 I1  ;;;[2013-05-20 前から未使用]
38381                                 I1  ***** BEGIN-POOL *****
38382 00008788 00000000               I1  DATA FOR SOURCE-LINE 1596
38383 0000878C 00000000               I1  DATA FOR SOURCE-LINE 1599
38384 00008790 00000000               I1  DATA FOR SOURCE-LINE 1601
38385 00008794 00000000               I1  DATA FOR SOURCE-LINE 1604
38386 00008798 00000000               I1  DATA FOR SOURCE-LINE 1608
38387                                 I1  ***** END-POOL *****
38388 0000879C                   1644 I1  TBLACC_STOPSP_MK500                             ;
38389 0000879C D503              1645 I1          MOV.L   #_ACC_STOP_POINT,R5             ;
38390 0000879E 2501              1646 I1          MOV.W   R0,@R5
38391 000087A0 D103              1647 I1          MOV.L   #_ACC_STOP_SPD,R1               ;最終速度から求まる
38392 000087A2 2122              1648 I1          MOV.L   R2,@R1                          ;PLS/S
38393                            1649 I1  
38394                            1650 I1          SUB_END
38395                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38396 000087A4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38397                            1651 I1          M_RTS
38398 000087A6 000B                   M           RTS                             ;RTSの後ろの
38399 000087A8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38400                            1652 I1  
38401                            1653 I1  ;       ***************************************************
38402                            1654 I1  ;       ***                                             ***
38403                            1655 I1  ;       ***                                             ***
38404                            1656 I1  ;       ***             加速演算                        ***
38405                            1657 I1  ;       ***             減速演算                        ***
38406                            1658 I1  ;       ***                                             ***
38407                            1659 I1  ;       ***                                             ***
38408                            1660 I1  ;       ***************************************************
38409                            1661 I1  
38410                                 I1  ***** BEGIN-POOL *****
38411 000087AA 0000                   I1  ALIGNMENT CODE
38412 000087AC 00000000               I1  DATA FOR SOURCE-LINE 1645
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   583
PROGRAM NAME =

38413 000087B0 00000000               I1  DATA FOR SOURCE-LINE 1647
38414                                 I1  ***** END-POOL *****
38415 000087B4                   1662 I1  _TBLACC_STEP_SP_MAKE
38416                            1663 I1          SUB_START
38417 000087B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
38418                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38419                            1664 I1  
38420 000087B6 D115              1665 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
38421 000087B8 6511              1666 I1          MOV.W   @R1,R5                          ;
38422                            1667 I1          FAR_JSR #_ACC_NUMBER_SELTBL2,R0         ;
38423 000087BA D015                   M           MOV.L   #_ACC_NUMBER_SELTBL2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38424 000087BC 400B                   M           JSR     @R0                     ;
38425 000087BE 0009                   M           NOP                                     ;
38426                            1668 I1  
38427                            1669 I1  
38428 000087C0 D114              1670 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
38429 000087C2 6011              1671 I1          MOV.W   @R1,R0                          ;
38430 000087C4 C804              1672 I1          TST     #BIT2,R0                        ;
38431                            1673 I1          TST_BIT_ON TBLACC_STEP_SPMAK_400        ;
38432 000087C6 8B5F                   M           BF      TBLACC_STEP_SPMAK_400
38433 000087C8 C803              1674 I1          TST     #(BIT1+BIT0),R0                 ;
38434                            1675 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
38435 000087CA 8B36                   M           BF      TBLACC_STEP_SPMAK_200
38436                            1676 I1  
38437 000087CC D112              1677 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
38438 000087CE 6011              1678 I1          MOV.W   @R1,R0                          ;
38439 000087D0 2008              1679 I1          TST     R0,R0                           ;
38440                            1680 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
38441 000087D2 8B32                   M           BF      TBLACC_STEP_SPMAK_200
38442                            1681 I1  
38443                            1682 I1  ;;;;    MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
38444 000087D4 D011              1683 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R0         ;
38445 000087D6 6202              1684 I1          MOV.L   @R0,R2                          ;
38446                            1685 I1  
38447                            1686 I1  
38448                            1687 I1  ;       ========= DEBUG
38449 000087D8 D10C              1688 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
38450 000087DA 6011              1689 I1          MOV.W   @R1,R0                          ;
38451 000087DC 8802              1690 I1          CMP/EQ  #2,R0                           ;
38452 000087DE 8B02              1691 I1          BF      DEBUG_JMP10                     ;
38453 000087E0 0009              1692 I1          NOP
38454 000087E2 0009              1693 I1          NOP
38455 000087E4 0009              1694 I1          NOP
38456 000087E6                   1695 I1  DEBUG_JMP10
38457                            1696 I1  
38458                            1697 I1  ;       -------------加減速直線演算固定させたいだけ2014-09-22
38459 000087E6 D10E              1698 I1          MOV.L   #_MOT_REP_F,R1                  ;//BIT0
38460 000087E8 6011              1699 I1          MOV.W   @R1,R0                          ;
38461 000087EA C801              1700 I1          TST     #BIT0,R0                        ;
38462                            1701 I1          TST_BIT_ON TBLACC_STEP_SPMAK_CNST050
38463 000087EC 8B04                   M           BF      TBLACC_STEP_SPMAK_CNST050
38464                            1702 I1  
38465                            1703 I1          FAR_JSR #_POINT_SERCH_SPD1,R0           ;
38466 000087EE D00D                   M           MOV.L   #_POINT_SERCH_SPD1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38467 000087F0 400B                   M           JSR     @R0                     ;
38468 000087F2 0009                   M           NOP                                     ;
38469                            1704 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   584
PROGRAM NAME =

38470 000087F4 2008              1705 I1          TST     R0,R0                           ;
38471                            1706 I1          TST_BIT_ON TBLACC_STEP_SPMAK_100        ;範囲内でいる JUMP
38472 000087F6 8B1B                   M           BF      TBLACC_STEP_SPMAK_100
38473                            1707 I1  
38474 000087F8                   1708 I1  TBLACC_STEP_SPMAK_CNST050:
38475                            1709 I1  
38476                            1710 I1  ;一定加速・一定減速演算
38477                            1711 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT4,WKREG=R1       ;
38478 000087F8 D10B                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
38479 000087FA 6011                   M           MOV.W   @R1,R0          ;
38480 000087FC CB10                   M           OR      #BIT4,R0                ;
38481 000087FE 2101                   M           MOV.W   R0,@R1          ;
38482                            1712 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
38483 00008800 D00A                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38484 00008802 400B                   M           JSR     @R0                     ;
38485 00008804 0009                   M           NOP                                     ;
38486                            1713 I1          M_BRA   TBLACC_STEP_SPMAK_500   ;
38487 00008806 A046                   M           BRA     TBLACC_STEP_SPMAK_500
38488 00008808 0009                   M           NOP
38489                            1714 I1  
38490                            1715 I1  
38491                                 I1  ***** BEGIN-POOL *****
38492 0000880A 0000                   I1  ALIGNMENT CODE
38493 0000880C 00000000               I1  DATA FOR SOURCE-LINE 1665,1688
38494 00008810 00000000               I1  DATA FOR SOURCE-LINE 1667
38495 00008814 00000000               I1  DATA FOR SOURCE-LINE 1670
38496 00008818 00000000               I1  DATA FOR SOURCE-LINE 1677
38497 0000881C 00000000               I1  DATA FOR SOURCE-LINE 1683
38498 00008820 00000000               I1  DATA FOR SOURCE-LINE 1698
38499 00008824 00000000               I1  DATA FOR SOURCE-LINE 1703
38500 00008828 00000000               I1  DATA FOR SOURCE-LINE 1711
38501 0000882C 00000000               I1  DATA FOR SOURCE-LINE 1712
38502                                 I1  ***** END-POOL *****
38503 00008830                   1716 I1  TBLACC_STEP_SPMAK_100
38504 00008830 D108              1717 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
38505 00008832 2101              1718 I1          MOV.W   R0,@R1                          ;
38506                            1719 I1  
38507 00008834 900C              1720 I1          MOV.W   #BIT0,R0
38508 00008836 D108              1721 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
38509 00008838 2101              1722 I1          MOV.W   R0,@R1                          ;
38510                            1723 I1  
38511                            1724 I1  
38512 0000883A                   1725 I1  TBLACC_STEP_SPMAK_200
38513 0000883A 6083              1726 I1          MOV     R8,R0                           ;
38514 0000883C C804              1727 I1          TST     #BIT2,R0                        ;BIT2=0加速
38515                            1728 I1          TST_BIT_OF TBLACC_STEP_SPMAK_250        ;
38516 0000883E 890D                   M           BT      TBLACC_STEP_SPMAK_250
38517                            1729 I1  ;       ---減速--
38518 00008840 D104              1730 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
38519 00008842 6011              1731 I1          MOV.W   @R1,R0                          ;
38520 00008844 8801              1732 I1          CMP/EQ  #1,R0                           ;
38521 00008846 891F              1733 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
38522 00008848 70FF              1734 I1          ADD     #-1,R0                          ;
38523 0000884A 2101              1735 I1          MOV.W   R0,@R1                          ;
38524                            1736 I1          M_BRA   TBLACC_STEP_SPMAK_300           ;
38525 0000884C A00C                   M           BRA     TBLACC_STEP_SPMAK_300
38526 0000884E 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   585
PROGRAM NAME =

38527                            1737 I1  
38528                                 I1  ***** BEGIN-POOL *****
38529 00008850 0001                   I1  DATA FOR SOURCE-LINE 1720
38530 00008852 0000                   I1  ALIGNMENT CODE
38531 00008854 00000000               I1  DATA FOR SOURCE-LINE 1717,1730
38532 00008858 00000000               I1  DATA FOR SOURCE-LINE 1721
38533                                 I1  ***** END-POOL *****
38534 0000885C                   1738 I1  TBLACC_STEP_SPMAK_250
38535                            1739 I1  ;       ---加速--
38536 0000885C D107              1740 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
38537 0000885E 6011              1741 I1          MOV.W   @R1,R0                          ;
38538 00008860 3062              1742 I1          CMP/HS  R6,R0                           ;
38539 00008862 8911              1743 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
38540 00008864 7001              1744 I1          ADD     #1,R0                           ;
38541 00008866 2101              1745 I1          MOV.W   R0,@R1                          ;
38542 00008868                   1746 I1  TBLACC_STEP_SPMAK_300
38543                            1747 I1          FAR_JSR #_POINT_GET_SPD1,R1             ;input R0
38544 00008868 D105                   M           MOV.L   #_POINT_GET_SPD1,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38545 0000886A 410B                   M           JSR     @R1                     ;
38546 0000886C 0009                   M           NOP                                     ;
38547                            1748 I1  
38548 0000886E 9003              1749 I1          MOV.W   #(BIT1+BIT0),R0                 ;
38549 00008870 D104              1750 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
38550 00008872 2101              1751 I1          MOV.W   R0,@R1                          ;
38551                            1752 I1          M_BRA   TBLACC_STEP_SPMAK_500           ;
38552 00008874 A00F                   M           BRA     TBLACC_STEP_SPMAK_500
38553 00008876 0009                   M           NOP
38554                            1753 I1  
38555                            1754 I1  ;       ---------LIMIT-ON  ---------
38556                                 I1  ***** BEGIN-POOL *****
38557 00008878 0003                   I1  DATA FOR SOURCE-LINE 1749
38558 0000887A 0000                   I1  ALIGNMENT CODE
38559 0000887C 00000000               I1  DATA FOR SOURCE-LINE 1740
38560 00008880 00000000               I1  DATA FOR SOURCE-LINE 1747
38561 00008884 00000000               I1  DATA FOR SOURCE-LINE 1750
38562                                 I1  ***** END-POOL *****
38563 00008888                   1755 I1  TBLACC_STEP_SPMAK_400
38564                            1756 I1  ;;;不要 MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
38565                            1757 I1  ;;不要  MOV.L   @R0,R2                          ;
38566                            1758 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
38567 00008888 D005                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38568 0000888A 400B                   M           JSR     @R0                     ;
38569 0000888C 0009                   M           NOP                                     ;
38570                            1759 I1  
38571                            1760 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1        ;
38572 0000888E D105                   M           MOV.L   #_ACC_STEP_FLG,R1               ;
38573 00008890 6011                   M           MOV.W   @R1,R0          ;
38574 00008892 CB04                   M           OR      #BIT2,R0                ;
38575 00008894 2101                   M           MOV.W   R0,@R1          ;
38576                            1761 I1  
38577 00008896                   1762 I1  TBLACC_STEP_SPMAK_500
38578 00008896 D104              1763 I1          MOV.L   #_ACC_STEP_SPD,R1               ;ステップ
38579 00008898 2122              1764 I1          MOV.L   R2,@R1                          ;
38580                            1765 I1  
38581                            1766 I1          SUB_END
38582                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38583 0000889A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   586
PROGRAM NAME =

38584                            1767 I1          M_RTS
38585 0000889C 000B                   M           RTS                             ;RTSの後ろの
38586 0000889E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38587                            1768 I1  
38588                            1769 I1  
38589                            1770 I1  
38590                            1771 I1  ;       *******************************************
38591                            1772 I1  ;       ***                                     ***
38592                            1773 I1  ;       ***     各工程時のインフォメーション    ***
38593                            1774 I1  ;       ***                                     ***
38594                            1775 I1  ;       *******************************************
38595                            1776 I1  ;;      MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
38596                            1777 I1  ;;      MOV.W   @R1,R6                          ;
38597                            1778 I1  ;;      MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
38598                            1779 I1  ;;      MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
38599                            1780 I1  ;       MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
38600                            1781 I1  ;       MOV.W   R0,R8                                   ;BIT2=[0=加速/1=減速]
38601                                 I1  ***** BEGIN-POOL *****
38602 000088A0 00000000               I1  DATA FOR SOURCE-LINE 1758
38603 000088A4 00000000               I1  DATA FOR SOURCE-LINE 1760
38604 000088A8 00000000               I1  DATA FOR SOURCE-LINE 1763
38605                                 I1  ***** END-POOL *****
38606 000088AC                   1782 I1  _ACC_NUMBER_SELTBL1:
38607                            1783 I1          SUB_START
38608 000088AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
38609                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38610                            1784 I1  
38611 000088AE 75FF              1785 I1          ADD     #-1,R5                                          ;
38612 000088B0 4508              1786 I1          SHLL2   R5                                              ;*4byte
38613 000088B2 D607              1787 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
38614 000088B4 365C              1788 I1          ADD     R5,R6                                           ;
38615 000088B6 6062              1789 I1          MOV.L   @R6,R0
38616 000088B8 401E              1790 I1          LDC     R0,GBR
38617                            1791 I1  
38618 000088BA C60B              1792 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0  ;
38619 000088BC 6601              1793 I1          MOV.W   @R0,R6                                  ;
38620 000088BE C60C              1794 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
38621 000088C0 6D03              1795 I1          MOV     R0,R13
38622 000088C2 C60A              1796 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0  ;
38623 000088C4 6B03              1797 I1          MOV     R0,R11                                  ;
38624 000088C6 C603              1798 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
38625 000088C8 6801              1799 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
38626                            1800 I1  
38627                            1801 I1          SUB_END
38628                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38629 000088CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38630                            1802 I1          M_RTS
38631 000088CC 000B                   M           RTS                             ;RTSの後ろの
38632 000088CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38633                            1803 I1  
38634                                 I1  ***** BEGIN-POOL *****
38635 000088D0 00000000               I1  DATA FOR SOURCE-LINE 1787
38636                                 I1  ***** END-POOL *****
38637 000088D4                   1804 I1  _ACC_NUMBER_SELTBL2:
38638                            1805 I1          SUB_START
38639 000088D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
38640                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   587
PROGRAM NAME =

38641                            1806 I1  
38642 000088D6 75FF              1807 I1          ADD     #-1,R5                                          ;
38643 000088D8 4508              1808 I1          SHLL2   R5                                              ;*4byte
38644 000088DA D607              1809 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
38645 000088DC 365C              1810 I1          ADD     R5,R6                                           ;
38646 000088DE 6062              1811 I1          MOV.L   @R6,R0
38647 000088E0 401E              1812 I1          LDC     R0,GBR
38648                            1813 I1  
38649 000088E2 C607              1814 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0  ;
38650 000088E4 6601              1815 I1          MOV.W   @R0,R6                                  ;
38651                            1816 I1  ;;;;;   MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
38652                            1817 I1  ;;;;;   MOV     R0,R13
38653 000088E6 C606              1818 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0  ;
38654 000088E8 6B03              1819 I1          MOV     R0,R11                                  ;
38655 000088EA 6D03              1820 I1          MOV     R0,R13                                  ;
38656 000088EC C603              1821 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
38657 000088EE 6801              1822 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
38658                            1823 I1  
38659                            1824 I1          SUB_END
38660                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38661 000088F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38662                            1825 I1          M_RTS
38663 000088F2 000B                   M           RTS                             ;RTSの後ろの
38664 000088F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38665                            1826 I1  
38666                            1827 I1  
38667                            1828 I1  ;AFM_SRC_TBL_TOP                .DATA.L         _ACC_IN_TBLUSE          ;元ﾃｰﾌﾞﾙADR(2byte)
38668                            1829 I1  ;AFM_SRC_TBL_MEM                .DATA.L         _ACC_IN_TBL_TIM         ;255msec WOD
38669                            1830 I1  ;AFM_STEP_INF_SPD       .DATA.L         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
38670                            1831 I1  ;AFM_STEP_INF_FLG       .DATA.L         _ACC_INF1_STEP001       ;//BIT2=[加速:0/減速:1] BI
                                          T1=[]   BIT0=0(停止) =1(連続)
38671                            1832 I1  ;AFM_OLD_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;(STEP1では使用し
                                          ない)
38672                            1833 I1  ;AFM_DST_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;
38673                            1834 I1  ;AFM_DST_CTLACTM                .DATA.L         _ACC_STEP001_ACTM       ;
38674                            1835 I1  ;AFM_OLD_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
38675                            1836 I1  ;AFM_DST_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
38676                            1837 I1  ;AFM_DST_STPACTM                .DATA.L         _ACC_STOP001_ACTM       ;
38677                            1838 I1  ;AFM_DST_STPPTBL                .DATA.L         _ACC_STOP001_PTBL       ;
38678                            1839 I1  
38679                            1840 I1  ;       *******************************************
38680                            1841 I1  ;       ***                                     ***
38681                            1842 I1  ;       ***             サーチ                  ***
38682                            1843 I1  ;       ***             速度型サーチ            ***
38683                            1844 I1  ;       ***                                     ***
38684                            1845 I1  ;       *******************************************
38685                            1846 I1  ;       テーブルは増加方向である
38686                            1847 I1  ;       サーチは加速方向と減速方向がある。
38687                            1848 I1  ;
38688                            1849 I1  ;       Input 現在速度 R2 ()
38689                            1850 I1  ;             TABEL_TOP_ADR R13
38690                            1851 I1  ;             TABEL個数(加減速時間+1)をもらう R6
38691                            1852 I1  ;               ﾃｰﾌﾞﾙ方向
38692                            1853 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする) 1:減速（小さくなる限界点をサー
                                          チする）
38693                            1854 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
38694                            1855 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   588
PROGRAM NAME =

38695                            1856 I1  ;       MAX 10回:1023まで
38696                            1857 I1  ;       0~15(16個)   4回   5bit
38697                            1858 I1  ;       0~31(32個)   5回   6
38698                            1859 I1  ;       0~63(64個)   6回   7
38699                            1860 I1  ;       0~127(128個) 7回   8
38700                            1861 I1  ;       0~255(256個) 8回   9
38701                            1862 I1  ;       0~511(512個) 9回   10
38702                            1863 I1  ;       0~1023(1024個)10回 11
38703                            1864 I1  ;
38704                            1865 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
38705                            1866 I1  ;       MOV.W   @R1,R6                          ;
38706                            1867 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
38707                            1868 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
38708                            1869 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38709                            1870 I1  ;       MOV.L   @R1,R5                          ;
38710                            1871 I1  ;
38711                            1872 I1  ;
38712                            1873 I1  ;
38713                            1874 I1  ;
38714                            1875 I1  ;
38715                                 I1  ***** BEGIN-POOL *****
38716 000088F6 0000                   I1  ALIGNMENT CODE
38717 000088F8 00000000               I1  DATA FOR SOURCE-LINE 1809
38718                                 I1  ***** END-POOL *****
38719 000088FC                   1876 I1  _POINT_SERCH_SPD1
38720                            1877 I1          SUB_START
38721 000088FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
38722                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38723                            1878 I1          PUSH_REG1 R2
38724 000088FE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
38725                                 M                                           ;REG=>[SP]
38726                                 M                                           ;"-4" FF,FF,FF,FC
38727                            1879 I1  
38728 00008900 D00A              1880 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38729 00008902 6402              1881 I1          MOV.L   @R0,R4                          ;
38730 00008904 9110              1882 I1          MOV.W   #_ACC_PER_V_MAX,R1              ;
38731                            1883 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
38732 00008906 D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38733 00008908 400B                   M           JSR     @R0                     ;
38734 0000890A 0009                   M           NOP                                     ;
38735                            1884 I1  
38736 0000890C 6063              1885 I1          MOV     R6,R0                           ;加減速時間
38737 0000890E 4000              1886 I1          SHLL    R0                              ;2byte
38738 00008910 01BD              1887 I1          MOV.W   @(R0,R11),R1                    ;(V)
38739 00008912 3216              1888 I1          CMP/HI  R1,R2                           ;
38740 00008914 8910              1889 I1          BT      POINT_SERCHSPD1_100             ;最大よりも大きい:範囲外
38741                            1890 I1  
38742 00008916 61B1              1891 I1          MOV.W   @R11,R1                         ;(V)MIN
38743 00008918 3126              1892 I1          CMP/HI  R2,R1                           ;
38744 0000891A 890D              1893 I1          BT      POINT_SERCHSPD1_100             ;最小よりも小さい:範囲外
38745                            1894 I1  
38746                            1895 I1          FAR_JSR #_POINT_SERCH_BIG_2B,R0         ;
38747 0000891C D005                   M           MOV.L   #_POINT_SERCH_BIG_2B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38748 0000891E 400B                   M           JSR     @R0                     ;
38749 00008920 0009                   M           NOP                                     ;
38750 00008922 6093              1896 I1          MOV     R9,R0                           ;
38751                            1897 I1          M_BRA   POINT_SERCHSPD1_END             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   589
PROGRAM NAME =

38752 00008924 A00B                   M           BRA     POINT_SERCHSPD1_END
38753 00008926 0009                   M           NOP
38754                            1898 I1  
38755                            1899 I1  
38756                            1900 I1  
38757                                 I1  ***** BEGIN-POOL *****
38758 00008928 2710                   I1  DATA FOR SOURCE-LINE 1882
38759 0000892A 0000                   I1  ALIGNMENT CODE
38760 0000892C 00000000               I1  DATA FOR SOURCE-LINE 1880
38761 00008930 00000000               I1  DATA FOR SOURCE-LINE 1883
38762 00008934 00000000               I1  DATA FOR SOURCE-LINE 1895
38763                                 I1  ***** END-POOL *****
38764 00008938                   1901 I1  POINT_SERCHSPD1_100:                            ;
38765 00008938 200A              1902 I1          XOR     R0,R0                           ;範囲外
38766                            1903 I1          M_BRA   POINT_SERCHSPD1_END             ;
38767 0000893A A000                   M           BRA     POINT_SERCHSPD1_END
38768 0000893C 0009                   M           NOP
38769                            1904 I1  
38770 0000893E                   1905 I1  POINT_SERCHSPD1_END:                            ;
38771                            1906 I1  
38772                            1907 I1          POP_REG1 R2
38773                                 M                                   ; RE"+4" 00,00,00,04
38774 0000893E 62F6                   M           MOV.L   @R15+,R2        ;
38775                            1908 I1          SUB_END
38776                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38777 00008940 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38778                            1909 I1          M_RTS
38779 00008942 000B                   M           RTS                             ;RTSの後ろの
38780 00008944 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38781                            1910 I1  
38782                            1911 I1  
38783                            1912 I1  ;input R0
38784 00008946                   1913 I1  _POINT_GET_SPD1
38785                            1914 I1          SUB_START
38786 00008946 4F22                   M           STS.L   PR,@-R15                ;[必要]
38787                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38788 00008948 4000              1915 I1          SHLL    R0                              ;2byte
38789 0000894A 02BD              1916 I1          MOV.W   @(R0,R11),R2                    ;
38790 0000894C D004              1917 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38791 0000894E 6102              1918 I1          MOV.L   @R0,R1                          ;
38792 00008950 9405              1919 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
38793                            1920 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;ANS R2
38794 00008952 D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38795 00008954 400B                   M           JSR     @R0                     ;
38796 00008956 0009                   M           NOP                                     ;
38797                            1921 I1          SUB_END
38798                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38799 00008958 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38800                            1922 I1          M_RTS
38801 0000895A 000B                   M           RTS                             ;RTSの後ろの
38802 0000895C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38803                            1923 I1  
38804                            1924 I1  
38805                            1925 I1  
38806                            1926 I1  
38807                            1927 I1  
38808                            1928 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   590
PROGRAM NAME =

38809                            1929 I1  ;       *******************************************
38810                            1930 I1  ;       ***                                     ***
38811                            1931 I1  ;       ***             サーチ                  ***
38812                            1932 I1  ;       ***             位置型サーチ            ***
38813                            1933 I1  ;       ***                                     ***
38814                            1934 I1  ;       *******************************************
38815                            1935 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
38816                            1936 I1  ;       MOV.W   @R1,R6                          ;
38817                            1937 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
38818                            1938 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
38819                            1939 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38820                            1940 I1  ;       MOV.L   @R1,R5                          ;
38821                            1941 I1  ;
38822                            1942 I1  ;       [減速位置のため]
38823                            1943 I1  ;
38824                                 I1  ***** BEGIN-POOL *****
38825 0000895E 2710                   I1  DATA FOR SOURCE-LINE 1919
38826 00008960 00000000               I1  DATA FOR SOURCE-LINE 1917
38827 00008964 00000000               I1  DATA FOR SOURCE-LINE 1920
38828                                 I1  ***** END-POOL *****
38829 00008968                   1944 I1  _POINT_SERCH_PLS1
38830                            1945 I1          SUB_START
38831 00008968 4F22                   M           STS.L   PR,@-R15                ;[必要]
38832                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38833                            1946 I1  
38834 0000896A D40E              1947 I1          MOV.L   #_ACC_REST_FLG,R4               ;
38835 0000896C 6041              1948 I1          MOV.W   @R4,R0                          ;
38836 0000896E 2008              1949 I1          TST     R0,R0                           ;
38837                            1950 I1          TST_BIT_OF POINT_SERCHPLS1_100          ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
38838 00008970 8920                   M           BT      POINT_SERCHPLS1_100
38839                            1951 I1  
38840 00008972 6063              1952 I1          MOV     R6,R0                           ;加減速時間
38841 00008974 4008              1953 I1          SHLL2   R0                              ;4byte
38842 00008976 01DE              1954 I1          MOV.L   @(R0,R13),R1                    ;(P)
38843 00008978 3216              1955 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
38844 0000897A 891B              1956 I1          BT      POINT_SERCHPLS1_100             ;
38845                            1957 I1  
38846                            1958 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
38847 0000897C D00A                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38848 0000897E 400B                   M           JSR     @R0                     ;
38849 00008980 0009                   M           NOP                                     ;
38850                            1959 I1  ;;;;不要        ADD     #-1,R9                          ;
38851 00008982 4915              1960 I1          CMP/PL  R9                              ;
38852 00008984 8900              1961 I1          BT      POINT_SERCHPLS1_050             ;
38853 00008986 990A              1962 I1          MOV.W   #1,R9                           ;
38854 00008988                   1963 I1  POINT_SERCHPLS1_050:
38855 00008988 6093              1964 I1          MOV     R9,R0                           ;
38856 0000898A 4000              1965 I1          SHLL    R0                              ;2byte
38857 0000898C 01BD              1966 I1          MOV.W   @(R0,R11),R1                    ;(V)SPEED
38858 0000898E D007              1967 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38859 00008990 6202              1968 I1          MOV.L   @R0,R2                          ;
38860 00008992 9405              1969 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
38861                            1970 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
38862 00008994 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38863 00008996 400B                   M           JSR     @R0                     ;
38864 00008998 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   591
PROGRAM NAME =

38865                            1971 I1          M_BRA   POINT_SERCHPLS1_200             ;PLS/sec
38866 0000899A A00F                   M           BRA     POINT_SERCHPLS1_200
38867 0000899C 0009                   M           NOP
38868                            1972 I1  
38869                                 I1  ***** BEGIN-POOL *****
38870 0000899E 0001                   I1  DATA FOR SOURCE-LINE 1962
38871 000089A0 2710                   I1  DATA FOR SOURCE-LINE 1969
38872 000089A2 0000                   I1  ALIGNMENT CODE
38873 000089A4 00000000               I1  DATA FOR SOURCE-LINE 1947
38874 000089A8 00000000               I1  DATA FOR SOURCE-LINE 1958
38875 000089AC 00000000               I1  DATA FOR SOURCE-LINE 1967
38876 000089B0 00000000               I1  DATA FOR SOURCE-LINE 1970
38877                                 I1  ***** END-POOL *****
38878 000089B4                   1973 I1  POINT_SERCHPLS1_100:
38879 000089B4 6253              1974 I1          MOV     R5,R2
38880 000089B6 200A              1975 I1          XOR     R0,R0
38881                            1976 I1          M_BRA   POINT_SERCHPLS1_END             ;
38882 000089B8 A001                   M           BRA     POINT_SERCHPLS1_END
38883 000089BA 0009                   M           NOP
38884 000089BC                   1977 I1  POINT_SERCHPLS1_200:                            ;
38885 000089BC 6093              1978 I1          MOV     R9,R0                           ;POINTER(0以外)
38886 000089BE                   1979 I1  POINT_SERCHPLS1_END:
38887                            1980 I1  
38888                            1981 I1          SUB_END
38889                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38890 000089BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38891                            1982 I1          M_RTS
38892 000089C0 000B                   M           RTS                             ;RTSの後ろの
38893 000089C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38894                            1983 I1  
38895                            1984 I1  
38896                            1985 I1  
38897                            1986 I1  ;       *******************************************
38898                            1987 I1  ;       ***                                     ***
38899                            1988 I1  ;       ***             サーチ                  ***
38900                            1989 I1  ;       ***             位置型サーチ            ***
38901                            1990 I1  ;       ***                                     ***
38902                            1991 I1  ;       *******************************************
38903                            1992 I1  ;R5
38904 000089C4                   1993 I1  _POINT_SERCH_PLS_HOKAN1
38905                            1994 I1          SUB_START
38906 000089C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
38907                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38908                            1995 I1          PUSH_REG1 R6
38909 000089C6 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
38910                                 M                                           ;REG=>[SP]
38911                                 M                                           ;"-4" FF,FF,FF,FC
38912                            1996 I1          PUSH_REG1 R7
38913 000089C8 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
38914                                 M                                           ;REG=>[SP]
38915                                 M                                           ;"-4" FF,FF,FF,FC
38916                            1997 I1          PUSH_REG1 R8
38917 000089CA 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
38918                                 M                                           ;REG=>[SP]
38919                                 M                                           ;"-4" FF,FF,FF,FC
38920                            1998 I1  
38921 000089CC D416              1999 I1          MOV.L   #_ACC_REST_FLG,R4               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   592
PROGRAM NAME =

38922 000089CE 6041              2000 I1          MOV.W   @R4,R0                          ;
38923 000089D0 2008              2001 I1          TST     R0,R0                           ;
38924                            2002 I1          TST_BIT_OF POINT_SERCHPLS_HKN1_400      ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
38925 000089D2 8933                   M           BT      POINT_SERCHPLS_HKN1_400
38926                            2003 I1  ;-----ｵｰﾊﾞﾌﾛｰはしない-----
38927 000089D4 6063              2004 I1          MOV     R6,R0                           ;加減速時間
38928 000089D6 4008              2005 I1          SHLL2   R0                              ;4byte
38929 000089D8 01DE              2006 I1          MOV.L   @(R0,R13),R1                    ;(P)
38930 000089DA 3216              2007 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
38931 000089DC 892E              2008 I1          BT      POINT_SERCHPLS_HKN1_400         ;
38932                            2009 I1  
38933                            2010 I1          PUSH_REG1 R2                            ;残り距離ﾊﾟﾙｽ
38934 000089DE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
38935                                 M                                           ;REG=>[SP]
38936                                 M                                           ;"-4" FF,FF,FF,FC
38937                            2011 I1  
38938                            2012 I1  
38939                            2013 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
38940 000089E0 D012                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38941 000089E2 400B                   M           JSR     @R0                     ;
38942 000089E4 0009                   M           NOP                                     ;
38943 000089E6 6893              2014 I1          MOV     R9,R8                           ;
38944                            2015 I1  
38945 000089E8 4915              2016 I1          CMP/PL  R9                              ;
38946 000089EA 8900              2017 I1          BT      POINT_SERCHPLS_HKN1_050         ;
38947 000089EC 991A              2018 I1          MOV.W   #1,R9                           ;
38948 000089EE                   2019 I1  POINT_SERCHPLS_HKN1_050:                        ;
38949 000089EE 6093              2020 I1          MOV     R9,R0                           ;
38950 000089F0 4000              2021 I1          SHLL    R0                              ;2byte
38951 000089F2 03BD              2022 I1          MOV.W   @(R0,R11),R3                    ;(Yn_1)SPEED
38952 000089F4 4000              2023 I1          SHLL    R0
38953 000089F6 05DE              2024 I1          MOV.L   @(R0,R13),R5                    ;(Xn_1)POS
38954                            2025 I1  
38955 000089F8 7801              2026 I1          ADD     #1,R8                           ;
38956 000089FA 3682              2027 I1          CMP/HS  R8,R6                           ;
38957 000089FC 8900              2028 I1          BT      POINT_SERCHPLS_HKN1_100         ;
38958 000089FE 6863              2029 I1          MOV     R6,R8                           ;加減速時間
38959 00008A00                   2030 I1  POINT_SERCHPLS_HKN1_100:                        ;
38960 00008A00 6083              2031 I1          MOV     R8,R0                           ;
38961 00008A02 4000              2032 I1          SHLL    R0                              ;2byte
38962 00008A04 02BD              2033 I1          MOV.W   @(R0,R11),R2                    ;(Yn)SPEED
38963 00008A06 4000              2034 I1          SHLL    R0
38964 00008A08 04DE              2035 I1          MOV.L   @(R0,R13),R4                    ;(Xn_1)POS
38965                            2036 I1  
38966                            2037 I1          POP_REG1 R1                             ;残り距離ﾊﾟﾙｽ
38967                                 M                                   ; RE"+4" 00,00,00,04
38968 00008A0A 61F6                   M           MOV.L   @R15+,R1        ;
38969 00008A0C 6623              2038 I1          MOV     R2,R6                           ;
38970                            2039 I1  
38971                            2040 I1  ;       R3:Yn_1         R5:Xn_1
38972                            2041 I1  ;       R2:Yn           R4:Xn
38973                            2042 I1  ;       ANS:R2=y        R1:x
38974                            2043 I1  ;       limit R6(Yn)
38975                            2044 I1  
38976                            2045 I1          FAR_JSR #_FPU_POS_HOKAN1,R0             ;V%=算出 R2
38977 00008A0E D008                   M           MOV.L   #_FPU_POS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   593
PROGRAM NAME =

38978 00008A10 400B                   M           JSR     @R0                     ;
38979 00008A12 0009                   M           NOP                                     ;
38980                            2046 I1  
38981 00008A14 D007              2047 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38982 00008A16 6102              2048 I1          MOV.L   @R0,R1                          ;
38983 00008A18 9405              2049 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
38984                            2050 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
38985 00008A1A D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38986 00008A1C 400B                   M           JSR     @R0                     ;
38987 00008A1E 0009                   M           NOP                                     ;
38988                            2051 I1          M_BRA   POINT_SERCHPLS_HKN1_500         ;PLS/sec
38989 00008A20 A010                   M           BRA     POINT_SERCHPLS_HKN1_500
38990 00008A22 0009                   M           NOP
38991                            2052 I1  
38992                                 I1  ***** BEGIN-POOL *****
38993 00008A24 0001                   I1  DATA FOR SOURCE-LINE 2018
38994 00008A26 2710                   I1  DATA FOR SOURCE-LINE 2049
38995 00008A28 00000000               I1  DATA FOR SOURCE-LINE 1999
38996 00008A2C 00000000               I1  DATA FOR SOURCE-LINE 2013
38997 00008A30 00000000               I1  DATA FOR SOURCE-LINE 2045
38998 00008A34 00000000               I1  DATA FOR SOURCE-LINE 2047
38999 00008A38 00000000               I1  DATA FOR SOURCE-LINE 2050
39000                                 I1  ***** END-POOL *****
39001 00008A3C                   2053 I1  POINT_SERCHPLS_HKN1_400:
39002 00008A3C 6253              2054 I1          MOV     R5,R2
39003 00008A3E 200A              2055 I1          XOR     R0,R0
39004                            2056 I1          M_BRA   POINT_SERCHPLS_HKN1_END         ;
39005 00008A40 A001                   M           BRA     POINT_SERCHPLS_HKN1_END
39006 00008A42 0009                   M           NOP
39007                            2057 I1  
39008 00008A44                   2058 I1  POINT_SERCHPLS_HKN1_500:                        ;
39009 00008A44 6093              2059 I1          MOV     R9,R0                           ;POINTER(0以外)
39010 00008A46                   2060 I1  POINT_SERCHPLS_HKN1_END:
39011                            2061 I1  
39012                            2062 I1  
39013                            2063 I1          POP_REG1 R8
39014                                 M                                   ; RE"+4" 00,00,00,04
39015 00008A46 68F6                   M           MOV.L   @R15+,R8        ;
39016                            2064 I1          POP_REG1 R7
39017                                 M                                   ; RE"+4" 00,00,00,04
39018 00008A48 67F6                   M           MOV.L   @R15+,R7        ;
39019                            2065 I1          POP_REG1 R6
39020                                 M                                   ; RE"+4" 00,00,00,04
39021 00008A4A 66F6                   M           MOV.L   @R15+,R6        ;
39022                            2066 I1  
39023                            2067 I1          SUB_END
39024                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39025 00008A4C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39026                            2068 I1          M_RTS
39027 00008A4E 000B                   M           RTS                             ;RTSの後ろの
39028 00008A50 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39029                            2069 I1  
39030                            2070 I1  
39031                            2071 I1  
39032                            2072 I1  
39033                            2073 I1  
39034                            2074 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   594
PROGRAM NAME =

39035                            2075 I1  ;       ***                                     ***
39036                            2076 I1  ;       ***             サーチ                  ***
39037                            2077 I1  ;       ***                                     ***
39038                            2078 I1  ;       *******************************************
39039                            2079 I1  ;       テーブルは増加方向である
39040                            2080 I1  ;       サーチは加速方向で行う
39041                            2081 I1  ;
39042                            2082 I1  ;       Input 現在速度 R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
39043                            2083 I1  ;                                加速時はnをそのまま使用する
39044                            2084 I1  ;                                減速時はn-1を使用
39045                            2085 I1  ;             TABEL_TOP_ADR R13
39046                            2086 I1  ;             TABEL個数-1(加減速時間)をもらう R6
39047                            2087 I1  ;               ﾃｰﾌﾞﾙ方向
39048                            2088 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする)
39049                            2089 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
39050                            2090 I1  ;
39051                            2091 I1  ;       MAX 10回:1023まで
39052                            2092 I1  ;       0~15(16個)   4回   5bit
39053                            2093 I1  ;       0~31(32個)   5回   6
39054                            2094 I1  ;       0~63(64個)   6回   7
39055                            2095 I1  ;       0~127(128個) 7回   8
39056                            2096 I1  ;       0~255(256個) 8回   9
39057                            2097 I1  ;       0~511(512個) 9回   10
39058                            2098 I1  ;       0~1023(1024個)10回 11
39059                            2099 I1  
39060                            2100 I1  ;       *******************************************
39061                            2101 I1  ;       ***                                     ***
39062                            2102 I1  ;       ***     2byte ｻｰﾁ                       ***
39063                            2103 I1  ;       ***                                     ***
39064                            2104 I1  ;       *******************************************
39065                            2105 I1  ;       ANS R9
39066                            2106 I1  ;
39067 00008A52                   2107 I1  _POINT_SERCH_BIG_2B
39068                            2108 I1          SUB_START
39069 00008A52 4F22                   M           STS.L   PR,@-R15                ;[必要]
39070                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39071                            2109 I1          PUSH_REG1 R6
39072 00008A54 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
39073                                 M                                           ;REG=>[SP]
39074                                 M                                           ;"-4" FF,FF,FF,FC
39075                            2110 I1          PUSH_REG1 R7
39076 00008A56 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
39077                                 M                                           ;REG=>[SP]
39078                                 M                                           ;"-4" FF,FF,FF,FC
39079                            2111 I1          PUSH_REG1 R8
39080 00008A58 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
39081                                 M                                           ;REG=>[SP]
39082                                 M                                           ;"-4" FF,FF,FF,FC
39083                            2112 I1          PUSH_REG1 R10
39084 00008A5A 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
39085                                 M                                           ;REG=>[SP]
39086                                 M                                           ;"-4" FF,FF,FF,FC
39087                            2113 I1          PUSH_REG1 R11
39088 00008A5C 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
39089                                 M                                           ;REG=>[SP]
39090                                 M                                           ;"-4" FF,FF,FF,FC
39091                            2114 I1          PUSH_REG1 R12
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   595
PROGRAM NAME =

39092 00008A5E 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
39093                                 M                                           ;REG=>[SP]
39094                                 M                                           ;"-4" FF,FF,FF,FC
39095                            2115 I1          PUSH_REG1 R13
39096 00008A60 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
39097                                 M                                           ;REG=>[SP]
39098                                 M                                           ;"-4" FF,FF,FF,FC
39099                            2116 I1          PUSH_REG1 R14
39100 00008A62 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
39101                                 M                                           ;REG=>[SP]
39102                                 M                                           ;"-4" FF,FF,FF,FC
39103                            2117 I1  
39104 00008A64 6763              2118 I1          MOV     R6,R7                           ;カウンタ個数
39105                            2119 I1  
39106 00008A66 288A              2120 I1          XOR     R8,R8                           ;min
39107 00008A68 6A73              2121 I1          MOV     R7,R10                          ;max
39108 00008A6A 4701              2122 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
39109 00008A6C 6973              2123 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
39110                            2124 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
39111                            2125 I1  
39112 00008A6E 277A              2126 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
39113                            2127 I1  
39114 00008A70 6B83              2128 I1          MOV     R8,R11                          ;MIN
39115 00008A72 6CA3              2129 I1          MOV     R10,R12                         ;MAX
39116                            2130 I1  
39117                            2131 I1  
39118 00008A74                   2132 I1  PINT_SERCH_BIG2B_200LOP
39119                            2133 I1  
39120                            2134 I1  ;======= 2byte/4byteの相違部分=====
39121 00008A74 6093              2135 I1          MOV     R9,R0                           ;ANS R9
39122 00008A76 4000              2136 I1          SHLL    R0                              ;2byte
39123 00008A78 01DD              2137 I1          MOV.W   @(R0,R13),R1                    ;2byte SV
39124                            2138 I1  
39125 00008A7A 3210              2139 I1          CMP/EQ  R1,R2                           ;
39126 00008A7C 8914              2140 I1          BT      PINT_SERCH_BIG2B_800            ;ﾋﾟｯﾀﾘ賞
39127 00008A7E 3212              2141 I1          CMP/HS  R1,R2                           ;SV=<PV
39128 00008A80 8904              2142 I1          BT      PINT_SERCH_BIG2B_300            ;YES:大きい
39129                            2143 I1  
39130                            2144 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
39131 00008A82 6A93              2145 I1          MOV     R9,R10                          ;
39132 00008A84 398C              2146 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
39133 00008A86 4901              2147 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
39134                            2148 I1          M_BRA   PINT_SERCH_BIG2B_500            ;
39135 00008A88 A003                   M           BRA     PINT_SERCH_BIG2B_500
39136 00008A8A 0009                   M           NOP
39137                            2149 I1  
39138                            2150 I1  
39139                            2151 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
39140 00008A8C                   2152 I1  PINT_SERCH_BIG2B_300
39141 00008A8C 6893              2153 I1          MOV     R9,R8                           ;
39142 00008A8E 39AC              2154 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
39143 00008A90 4901              2155 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
39144                            2156 I1  
39145 00008A92                   2157 I1  PINT_SERCH_BIG2B_500
39146 00008A92 7701              2158 I1          ADD     #1,R7                           ;デバック
39147                            2159 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
39148 00008A94 3B80              2160 I1          CMP/EQ  R8,R11                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   596
PROGRAM NAME =

39149 00008A96 8B03              2161 I1          BF      PINT_SERCH_BIG2B_600            ;MIN=OLD-MIN NO
39150 00008A98 3CA0              2162 I1          CMP/EQ  R10,R12                         ;
39151 00008A9A 8B01              2163 I1          BF      PINT_SERCH_BIG2B_600            ;MAX=OLD-MAX NO
39152                            2164 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
39153 00008A9C A038                   M           BRA     PINT_SERCH_BIG4B_900
39154 00008A9E 0009                   M           NOP
39155                            2165 I1  
39156                            2166 I1  
39157 00008AA0                   2167 I1  PINT_SERCH_BIG2B_600
39158 00008AA0 6B83              2168 I1          MOV     R8,R11                          ;
39159 00008AA2 6CA3              2169 I1          MOV     R10,R12                         ;
39160                            2170 I1          M_BRA   PINT_SERCH_BIG2B_200LOP         ;
39161 00008AA4 AFE6                   M           BRA     PINT_SERCH_BIG2B_200LOP
39162 00008AA6 0009                   M           NOP
39163                            2171 I1  
39164                            2172 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
39165 00008AA8                   2173 I1  PINT_SERCH_BIG2B_800
39166                            2174 I1  ;       ----------- R9:ANS--------------
39167 00008AA8                   2175 I1  PINT_SERCH_BIG2B_900
39168                            2176 I1  
39169                            2177 I1          POP_REG1 R14
39170                                 M                                   ; RE"+4" 00,00,00,04
39171 00008AA8 6EF6                   M           MOV.L   @R15+,R14        ;
39172                            2178 I1          POP_REG1 R13
39173                                 M                                   ; RE"+4" 00,00,00,04
39174 00008AAA 6DF6                   M           MOV.L   @R15+,R13        ;
39175                            2179 I1          POP_REG1 R12
39176                                 M                                   ; RE"+4" 00,00,00,04
39177 00008AAC 6CF6                   M           MOV.L   @R15+,R12        ;
39178                            2180 I1          POP_REG1 R11
39179                                 M                                   ; RE"+4" 00,00,00,04
39180 00008AAE 6BF6                   M           MOV.L   @R15+,R11        ;
39181                            2181 I1          POP_REG1 R10
39182                                 M                                   ; RE"+4" 00,00,00,04
39183 00008AB0 6AF6                   M           MOV.L   @R15+,R10        ;
39184                            2182 I1          POP_REG1 R8
39185                                 M                                   ; RE"+4" 00,00,00,04
39186 00008AB2 68F6                   M           MOV.L   @R15+,R8        ;
39187                            2183 I1          POP_REG1 R7
39188                                 M                                   ; RE"+4" 00,00,00,04
39189 00008AB4 67F6                   M           MOV.L   @R15+,R7        ;
39190                            2184 I1          POP_REG1 R6
39191                                 M                                   ; RE"+4" 00,00,00,04
39192 00008AB6 66F6                   M           MOV.L   @R15+,R6        ;
39193                            2185 I1          SUB_END
39194                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39195 00008AB8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39196                            2186 I1          M_RTS
39197 00008ABA 000B                   M           RTS                             ;RTSの後ろの
39198 00008ABC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39199                            2187 I1  
39200                            2188 I1  
39201                            2189 I1  
39202                            2190 I1  ;       *******************************************
39203                            2191 I1  ;       ***                                     ***
39204                            2192 I1  ;       ***     4byte ｻｰﾁ                       ***
39205                            2193 I1  ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   597
PROGRAM NAME =

39206                            2194 I1  ;       *******************************************
39207                            2195 I1  ;       Input 現在ﾊﾟﾙｽ R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
39208                            2196 I1  ;                                減速時はn-1を使用する
39209                            2197 I1  ;       Input TABEL_TOP_ADR R13
39210                            2198 I1  ;       Input TABEL個数-1(加減速時間)をもらう R6
39211                            2199 I1  ;
39212                            2200 I1  ;       ANS R9 TABLE NO.
39213                            2201 I1  ;
39214 00008ABE                   2202 I1  _POINT_SERCH_BIG_4B
39215                            2203 I1          SUB_START
39216 00008ABE 4F22                   M           STS.L   PR,@-R15                ;[必要]
39217                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39218                            2204 I1          PUSH_REG1 R6
39219 00008AC0 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
39220                                 M                                           ;REG=>[SP]
39221                                 M                                           ;"-4" FF,FF,FF,FC
39222                            2205 I1          PUSH_REG1 R7
39223 00008AC2 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
39224                                 M                                           ;REG=>[SP]
39225                                 M                                           ;"-4" FF,FF,FF,FC
39226                            2206 I1          PUSH_REG1 R8
39227 00008AC4 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
39228                                 M                                           ;REG=>[SP]
39229                                 M                                           ;"-4" FF,FF,FF,FC
39230                            2207 I1          PUSH_REG1 R10
39231 00008AC6 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
39232                                 M                                           ;REG=>[SP]
39233                                 M                                           ;"-4" FF,FF,FF,FC
39234                            2208 I1          PUSH_REG1 R11
39235 00008AC8 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
39236                                 M                                           ;REG=>[SP]
39237                                 M                                           ;"-4" FF,FF,FF,FC
39238                            2209 I1          PUSH_REG1 R12
39239 00008ACA 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
39240                                 M                                           ;REG=>[SP]
39241                                 M                                           ;"-4" FF,FF,FF,FC
39242                            2210 I1          PUSH_REG1 R13
39243 00008ACC 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
39244                                 M                                           ;REG=>[SP]
39245                                 M                                           ;"-4" FF,FF,FF,FC
39246                            2211 I1          PUSH_REG1 R14
39247 00008ACE 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
39248                                 M                                           ;REG=>[SP]
39249                                 M                                           ;"-4" FF,FF,FF,FC
39250                            2212 I1  
39251 00008AD0 6763              2213 I1          MOV     R6,R7                           ;カウンタ個数
39252                            2214 I1  
39253 00008AD2 288A              2215 I1          XOR     R8,R8                           ;min
39254 00008AD4 6A73              2216 I1          MOV     R7,R10                          ;max
39255 00008AD6 4701              2217 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
39256 00008AD8 6973              2218 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
39257                            2219 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
39258 00008ADA 277A              2220 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
39259                            2221 I1  
39260 00008ADC                   2222 I1  PINT_SERCH_BIG4B_200LOP
39261                            2223 I1  
39262                            2224 I1  ;======= 2byte/4byteの相違部分=====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   598
PROGRAM NAME =

39263 00008ADC 6093              2225 I1          MOV     R9,R0                           ;ANS R9
39264 00008ADE 4008              2226 I1          SHLL2   R0                              ;4byte
39265 00008AE0 01DE              2227 I1          MOV.L   @(R0,R13),R1                    ;4byte SV
39266                            2228 I1  
39267 00008AE2 3210              2229 I1          CMP/EQ  R1,R2                           ;
39268 00008AE4 8914              2230 I1          BT      PINT_SERCH_BIG4B_800            ;ﾋﾟｯﾀﾘ賞
39269 00008AE6 3212              2231 I1          CMP/HS  R1,R2                           ;SV=<PV
39270 00008AE8 8904              2232 I1          BT      PINT_SERCH_BIG4B_300            ;YES:大きい
39271                            2233 I1  
39272                            2234 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
39273 00008AEA 6A93              2235 I1          MOV     R9,R10                          ;
39274 00008AEC 398C              2236 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
39275 00008AEE 4901              2237 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
39276                            2238 I1          M_BRA   PINT_SERCH_BIG4B_500            ;
39277 00008AF0 A003                   M           BRA     PINT_SERCH_BIG4B_500
39278 00008AF2 0009                   M           NOP
39279                            2239 I1  
39280                            2240 I1  
39281                            2241 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
39282 00008AF4                   2242 I1  PINT_SERCH_BIG4B_300
39283 00008AF4 6893              2243 I1          MOV     R9,R8                           ;
39284 00008AF6 39AC              2244 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
39285 00008AF8 4901              2245 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
39286                            2246 I1  
39287 00008AFA                   2247 I1  PINT_SERCH_BIG4B_500
39288 00008AFA 7701              2248 I1          ADD     #1,R7                           ;デバック
39289                            2249 I1  
39290                            2250 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
39291 00008AFC 3B80              2251 I1          CMP/EQ  R8,R11                          ;
39292 00008AFE 8B03              2252 I1          BF      PINT_SERCH_BIG4B_600            ;MIN=OLD-MIN NO
39293 00008B00 3CA0              2253 I1          CMP/EQ  R10,R12                         ;
39294 00008B02 8B01              2254 I1          BF      PINT_SERCH_BIG4B_600            ;MAX=OLD-MAX NO
39295                            2255 I1  
39296                            2256 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
39297 00008B04 A004                   M           BRA     PINT_SERCH_BIG4B_900
39298 00008B06 0009                   M           NOP
39299                            2257 I1  
39300 00008B08                   2258 I1  PINT_SERCH_BIG4B_600
39301 00008B08 6B83              2259 I1          MOV     R8,R11                          ;
39302 00008B0A 6CA3              2260 I1          MOV     R10,R12                         ;
39303                            2261 I1          M_BRA   PINT_SERCH_BIG4B_200LOP         ;
39304 00008B0C AFE6                   M           BRA     PINT_SERCH_BIG4B_200LOP
39305 00008B0E 0009                   M           NOP
39306                            2262 I1  
39307                            2263 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
39308 00008B10                   2264 I1  PINT_SERCH_BIG4B_800
39309                            2265 I1  ;       ----------- R9:ANS--------------
39310 00008B10                   2266 I1  PINT_SERCH_BIG4B_900
39311                            2267 I1  
39312                            2268 I1          POP_REG1 R14
39313                                 M                                   ; RE"+4" 00,00,00,04
39314 00008B10 6EF6                   M           MOV.L   @R15+,R14        ;
39315                            2269 I1          POP_REG1 R13
39316                                 M                                   ; RE"+4" 00,00,00,04
39317 00008B12 6DF6                   M           MOV.L   @R15+,R13        ;
39318                            2270 I1          POP_REG1 R12
39319                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   599
PROGRAM NAME =

39320 00008B14 6CF6                   M           MOV.L   @R15+,R12        ;
39321                            2271 I1          POP_REG1 R11
39322                                 M                                   ; RE"+4" 00,00,00,04
39323 00008B16 6BF6                   M           MOV.L   @R15+,R11        ;
39324                            2272 I1          POP_REG1 R10
39325                                 M                                   ; RE"+4" 00,00,00,04
39326 00008B18 6AF6                   M           MOV.L   @R15+,R10        ;
39327                            2273 I1          POP_REG1 R8
39328                                 M                                   ; RE"+4" 00,00,00,04
39329 00008B1A 68F6                   M           MOV.L   @R15+,R8        ;
39330                            2274 I1          POP_REG1 R7
39331                                 M                                   ; RE"+4" 00,00,00,04
39332 00008B1C 67F6                   M           MOV.L   @R15+,R7        ;
39333                            2275 I1          POP_REG1 R6
39334                                 M                                   ; RE"+4" 00,00,00,04
39335 00008B1E 66F6                   M           MOV.L   @R15+,R6        ;
39336                            2276 I1          SUB_END
39337                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39338 00008B20 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39339                            2277 I1          M_RTS
39340 00008B22 000B                   M           RTS                             ;RTSの後ろの
39341 00008B24 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39342                            2278 I1  
39343                            2279 I1  
39344                            2280 I1  
39345                            2281 I1  
39346                            2282 I1  ;       ***************************************************
39347                            2283 I1  ;       ***                                             ***
39348                            2284 I1  ;       ***                                             ***
39349                            2285 I1  ;       ***             直線加速・減速                  ***
39350                            2286 I1  ;       ***                                             ***
39351                            2287 I1  ;       ***                                             ***
39352                            2288 I1  ;       ***                                             ***
39353                            2289 I1  ;       ***************************************************
39354                            2290 I1  ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
39355                            2291 I1  ;       ANS R2
39356 00008B26                   2292 I1  _TBLACC_ACC_ADDCHK:
39357                            2293 I1          SUB_START
39358 00008B26 4F22                   M           STS.L   PR,@-R15                ;[必要]
39359                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39360                            2294 I1  
39361                            2295 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT5,WKREG=R1       ;
39362 00008B28 D10A                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
39363 00008B2A 6011                   M           MOV.W   @R1,R0          ;
39364 00008B2C CB20                   M           OR      #BIT5,R0                ;
39365 00008B2E 2101                   M           MOV.W   R0,@R1          ;
39366                            2296 I1  
39367                            2297 I1  
39368                            2298 I1  
39369 00008B30 200A              2299 I1          XOR     R0,R0                                           ;変化してない　R0=0
39370                            2300 I1  
39371 00008B32 D109              2301 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                         ;･････
39372 00008B34 6312              2302 I1          MOV.L   @R1,R3                                          ;
39373 00008B36 D509              2303 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R5                         ;
39374 00008B38 6252              2304 I1          MOV.L   @R5,R2                                          ;
39375 00008B3A 3320              2305 I1          CMP/EQ  R2,R3                                           ;
39376 00008B3C 8919              2306 I1          BT      TBLACC_ACC_ADD_END                              ;SV=REAL
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   600
PROGRAM NAME =

39377 00008B3E 3323              2307 I1          CMP/GE  R2,R3                                           ;R2<R3
39378 00008B40 8B10              2308 I1          BF      TBLACC_ACC_ADD_200                                      ;NO 減速しろ
39379                            2309 I1  ;       ---加速しろ----
39380 00008B42 D407              2310 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R4                              ;500,000/1000
39381 00008B44 6142              2311 I1          MOV.L   @R4,R1                                                  ;
39382 00008B46 321C              2312 I1          ADD     R1,R2                                                   ;
39383 00008B48 3327              2313 I1          CMP/GT  R2,R3                                                   ;
39384 00008B4A 8911              2314 I1          BT      TBLACC_ACC_ADD_300                                      ;R2<R3(SV) THEN そ
                                          のまま加速
39385 00008B4C 6233              2315 I1          MOV     R3,R2                                                   ;SV→REAL
39386                            2316 I1          M_BRA   TBLACC_ACC_ADD_300                                      ;
39387 00008B4E A00F                   M           BRA     TBLACC_ACC_ADD_300
39388 00008B50 0009                   M           NOP
39389                            2317 I1  
39390                                 I1  ***** BEGIN-POOL *****
39391 00008B52 0000                   I1  ALIGNMENT CODE
39392 00008B54 00000000               I1  DATA FOR SOURCE-LINE 2295
39393 00008B58 00000000               I1  DATA FOR SOURCE-LINE 2301
39394 00008B5C 00000000               I1  DATA FOR SOURCE-LINE 2303
39395 00008B60 00000000               I1  DATA FOR SOURCE-LINE 2310
39396                                 I1  ***** END-POOL *****
39397 00008B64                   2318 I1  TBLACC_ACC_ADD_200:
39398                            2319 I1  ;       ---減速しろ---
39399 00008B64 D404              2320 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R4                              ;500,000/1000
39400 00008B66 6142              2321 I1          MOV.L   @R4,R1                                                  ;
39401 00008B68 3218              2322 I1          SUB     R1,R2                                                   ;
39402 00008B6A 3237              2323 I1          CMP/GT  R3,R2                                                   ;
39403 00008B6C 8900              2324 I1          BT      TBLACC_ACC_ADD_300                                      ;R3<R2
39404 00008B6E 6233              2325 I1          MOV     R3,R2                                                   ;
39405 00008B70                   2326 I1  TBLACC_ACC_ADD_300:                                                     ;
39406 00008B70 E001              2327 I1          MOV     #1,R0                                                   ;変化した R0=1
39407 00008B72                   2328 I1  TBLACC_ACC_ADD_END:
39408                            2329 I1          SUB_END
39409                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39410 00008B72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39411                            2330 I1          M_RTS
39412 00008B74 000B                   M           RTS                             ;RTSの後ろの
39413 00008B76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39414                            2331 I1  
39415                            2332 I1  
39416                            2333 I1  
39417                            2334 I1  
39418                            2335 I1  
39419                            2336 I1  
39420                            2337 I1  
39421                            2338 I1  
39422                            2339 I1  
39423                            2340 I1  
39424                            2341 I1  
39425                            2342 I1  
39426                            2343 I1  
39427                            2344 I1  
39428                            2345 I1  
39429                            2346 I1  
39430                            2347 I1  
39431                            2348 I1  
39432                            2349 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   601
PROGRAM NAME =

39433                            2350 I1  
39434                            2351 I1  
39435                            2352 I1  
39436                            2353 I1  
39437                            2354 I1  
39438                            2355 I1  
39439                            2356 I1  
39440                            2357 I1  
39441                            2358 I1  
39442                            2359 I1  
39443                            2360 I1  
39444                            2361 I1  
39445                            2362 I1  ;       *******************************************
39446                            2363 I1  ;       ***                                     ***
39447                            2364 I1  ;       ***                                     ***
39448                            2365 I1  ;       ***             演算                    ***
39449                            2366 I1  ;       ***                                     ***
39450                            2367 I1  ;       ***             (等身大結果で扱う)      ***
39451                            2368 I1  ;       ***                                     ***
39452                            2369 I1  ;       *******************************************
39453                                 I1  ***** BEGIN-POOL *****
39454 00008B78 00000000               I1  DATA FOR SOURCE-LINE 2320
39455                                 I1  ***** END-POOL *****
39456 00008B7C                   2370 I1  _DNM_PLS_LSICTL_CALC:
39457                            2371 I1          SUB_START
39458 00008B7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
39459                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39460                            2372 I1  
39461                            2373 I1  ;       --------- 2010-09-27 残りパルス演算の共通化----
39462                            2374 I1          FAR_JSR #_ACC_REST_INFO_MAKE,R0
39463 00008B7E D009                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39464 00008B80 400B                   M           JSR     @R0                     ;
39465 00008B82 0009                   M           NOP                                     ;
39466                            2375 I1  
39467 00008B84 D108              2376 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
39468 00008B86 6011              2377 I1          MOV.W   @R1,R0                                  ;
39469 00008B88 8801              2378 I1          CMP/EQ  #1,R0                                   ;
39470 00008B8A 8B02              2379 I1          BF      DNM_PLS_LSICTLCAL_010                   ;
39471                            2380 I1          FAR_JSR #_DNM_SPD_CALC,R0                       ;
39472 00008B8C D007                   M           MOV.L   #_DNM_SPD_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39473 00008B8E 400B                   M           JSR     @R0                     ;
39474 00008B90 0009                   M           NOP                                     ;
39475 00008B92                   2381 I1  DNM_PLS_LSICTLCAL_010:
39476                            2382 I1  
39477                            2383 I1  
39478 00008B92 D107              2384 I1          MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
39479 00008B94 6011              2385 I1          MOV.W   @R1,R0                                                          ;
39480 00008B96 C802              2386 I1          TST     #BIT1,R0                                                        ;
39481                            2387 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_020                                        ;強制減速
                                          停止中(寸動停止)
39482 00008B98 8B0C                   M           BF      DNM_PLS_LSICTLCAL_020
39483                            2388 I1  
39484 00008B9A C804              2389 I1          TST     #BIT2,R0                                                        ;
39485                            2390 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_050                                        ;最終減速
                                          状態YES
39486 00008B9C 8B16                   M           BF      DNM_PLS_LSICTLCAL_050
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   602
PROGRAM NAME =

39487                            2391 I1          M_BRA   DNM_PLS_LSICTLCAL_100                                           ;
39488 00008B9E A017                   M           BRA     DNM_PLS_LSICTLCAL_100
39489 00008BA0 0009                   M           NOP
39490                            2392 I1  
39491                                 I1  ***** BEGIN-POOL *****
39492 00008BA2 0000                   I1  ALIGNMENT CODE
39493 00008BA4 00000000               I1  DATA FOR SOURCE-LINE 2374
39494 00008BA8 00000000               I1  DATA FOR SOURCE-LINE 2376
39495 00008BAC 00000000               I1  DATA FOR SOURCE-LINE 2380
39496 00008BB0 00000000               I1  DATA FOR SOURCE-LINE 2384
39497                                 I1  ***** END-POOL *****
39498 00008BB4                   2393 I1  DNM_PLS_LSICTLCAL_020
39499                            2394 I1  ;       --- 減速コマンドラッチ---
39500 00008BB4 D103              2395 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
                                          PLS/S
39501 00008BB6 6212              2396 I1          MOV.L   @R1,R2                                                          ;
39502 00008BB8 D503              2397 I1          MOV.L   #_POSCTL_RL_SPD,R5                                              ;
39503 00008BBA 6352              2398 I1          MOV.L   @R5,R3                                                          ;
39504 00008BBC 3326              2399 I1          CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
39505 00008BBE 8905              2400 I1          BT      DNM_PLS_LSICTLCAL_050                                           ;YES
39506                            2401 I1          M_BRA   DNM_PLS_LSICTLCAL_800                                           ;(減速停止
                                          )終了処理
39507 00008BC0 A092                   M           BRA     DNM_PLS_LSICTLCAL_800
39508 00008BC2 0009                   M           NOP
39509                                 I1  ***** BEGIN-POOL *****
39510 00008BC4 00000000               I1  DATA FOR SOURCE-LINE 2395
39511 00008BC8 00000000               I1  DATA FOR SOURCE-LINE 2397
39512                                 I1  ***** END-POOL *****
39513 00008BCC                   2402 I1  DNM_PLS_LSICTLCAL_050:
39514                            2403 I1          M_BRA   DNM_PLS_LSICTLCAL_700                                           ;減速処理
39515 00008BCC A04A                   M           BRA     DNM_PLS_LSICTLCAL_700
39516 00008BCE 0009                   M           NOP
39517                            2404 I1  
39518                            2405 I1  
39519                            2406 I1  
39520                            2407 I1  
39521 00008BD0                   2408 I1  DNM_PLS_LSICTLCAL_100:
39522 00008BD0 D104              2409 I1          MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
39523 00008BD2 6011              2410 I1          MOV.W   @R1,R0                                                          ;EMG-STOP
39524 00008BD4 8802              2411 I1          CMP/EQ  #2,R0                                                           ;減速停止
39525 00008BD6 8B09              2412 I1          BF      DNM_PLS_LSICTLCAL_150                                           ;NO
39526                            2413 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
39527 00008BD8 D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39528 00008BDA 6011                   M           MOV.W   @R1,R0          ;
39529 00008BDC CB02                   M           OR      #BIT1,R0                ;
39530 00008BDE 2101                   M           MOV.W   R0,@R1          ;
39531                            2414 I1          M_BRA   DNM_PLS_LSICTLCAL_500                                           ;
39532 00008BE0 A032                   M           BRA     DNM_PLS_LSICTLCAL_500
39533 00008BE2 0009                   M           NOP
39534                            2415 I1  
39535                            2416 I1  ;-------通常制御----
39536                                 I1  ***** BEGIN-POOL *****
39537 00008BE4 00000000               I1  DATA FOR SOURCE-LINE 2409
39538 00008BE8 00000000               I1  DATA FOR SOURCE-LINE 2413
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   603
PROGRAM NAME =

39539                                 I1  ***** END-POOL *****
39540 00008BEC                   2417 I1  DNM_PLS_LSICTLCAL_150:
39541 00008BEC D102              2418 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
39542 00008BEE 6011              2419 I1          MOV.W   @R1,R0                                                          ;
39543 00008BF0 C801              2420 I1          TST     #BIT0,R0                                                        ;
39544                            2421 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_160                                                ;
39545 00008BF2 8903                   M           BT      DNM_PLS_LSICTLCAL_160
39546                            2422 I1  ;       -----------やるべきことが今一不明--------
39547                            2423 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
39548 00008BF4 A099                   M           BRA     DNM_PLS_LSICTLCAL_EXT
39549 00008BF6 0009                   M           NOP
39550                            2424 I1  
39551                            2425 I1  
39552                                 I1  ***** BEGIN-POOL *****
39553 00008BF8 00000000               I1  DATA FOR SOURCE-LINE 2418
39554                                 I1  ***** END-POOL *****
39555 00008BFC                   2426 I1  DNM_PLS_LSICTLCAL_160:
39556                            2427 I1  
39557                            2428 I1  ;;;;ふりこ      FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<
                                          <<2010-09-21>>>
39558                            2429 I1  
39559                            2430 I1  ;<<<2010-09-21>>>
39560 00008BFC D106              2431 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
39561 00008BFE 6011              2432 I1          MOV.W   @R1,R0                                          ;
39562 00008C00 8801              2433 I1          CMP/EQ  #1,R0                                           ;
39563 00008C02 8B0F              2434 I1          BF      DNM_PLS_LSICTLCAL_180                           ;
39564 00008C04 D105              2435 I1          MOV.L   #_ACC_CTRL_STS1,R1                              ;
39565 00008C06 6011              2436 I1          MOV.W   @R1,R0                                          ;
39566 00008C08 C906              2437 I1          AND     #(BIT2+BIT1),R0                                 ;
39567 00008C0A 8806              2438 I1          CMP/EQ  #(BIT2+BIT1),R0                                 ;
39568 00008C0C 892A              2439 I1          BT      DNM_PLS_LSICTLCAL_700                           ;
39569                            2440 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0                        ;
39570 00008C0E D004                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39571 00008C10 400B                   M           JSR     @R0                     ;
39572 00008C12 0009                   M           NOP                                     ;
39573                            2441 I1          M_BRA   DNM_PLS_LSICTLCAL_510                           ;
39574 00008C14 A01B                   M           BRA     DNM_PLS_LSICTLCAL_510
39575 00008C16 0009                   M           NOP
39576                            2442 I1  
39577                            2443 I1  
39578                                 I1  ***** BEGIN-POOL *****
39579 00008C18 00000000               I1  DATA FOR SOURCE-LINE 2431
39580 00008C1C 00000000               I1  DATA FOR SOURCE-LINE 2435
39581 00008C20 00000000               I1  DATA FOR SOURCE-LINE 2440
39582                                 I1  ***** END-POOL *****
39583 00008C24                   2444 I1  DNM_PLS_LSICTLCAL_180:
39584                            2445 I1          FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;
39585 00008C24 D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39586 00008C26 400B                   M           JSR     @R0                     ;
39587 00008C28 0009                   M           NOP                                     ;
39588 00008C2A                   2446 I1  DNM_PLS_LSICTLCAL_190:
39589                            2447 I1  
39590 00008C2A 2008              2448 I1          TST     R0,R0                                                           ;
39591                            2449 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_500
39592 00008C2C 890C                   M           BT      DNM_PLS_LSICTLCAL_500
39593 00008C2E 8801              2450 I1          CMP/EQ  #1,R0                                                           ;
39594 00008C30 8918              2451 I1          BT      DNM_PLS_LSICTLCAL_700
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   604
PROGRAM NAME =

39595                            2452 I1  ;       ----- ABNOMAL CALC------                                                ;
39596                            2453 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
39597 00008C32 D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
39598 00008C34 6041                   M           MOV.W   @R4,R0          ;
39599 00008C36 CB02                   M           OR      #BIT1,R0                ;
39600 00008C38 2401                   M           MOV.W   R0,@R4          ;
39601                            2454 I1          M_BRA   DNM_PLS_LSICTLCAL_ERR
39602 00008C3A A06F                   M           BRA     DNM_PLS_LSICTLCAL_ERR
39603 00008C3C 0009                   M           NOP
39604                            2455 I1  
39605                            2456 I1  ;       ===== 距離がありそう =====
39606                                 I1  ***** BEGIN-POOL *****
39607 00008C3E 0000                   I1  ALIGNMENT CODE
39608 00008C40 00000000               I1  DATA FOR SOURCE-LINE 2445
39609 00008C44 00000000               I1  DATA FOR SOURCE-LINE 2453
39610                                 I1  ***** END-POOL *****
39611 00008C48                   2457 I1  DNM_PLS_LSICTLCAL_500:                                                          ;
39612                            2458 I1  ;<<<2010-09-21>>>
39613                            2459 I1          FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
39614 00008C48 D004                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39615 00008C4A 400B                   M           JSR     @R0                     ;
39616 00008C4C 0009                   M           NOP                                     ;
39617 00008C4E                   2460 I1  DNM_PLS_LSICTLCAL_510:                                                          ;
39618                            2461 I1  
39619 00008C4E 2008              2462 I1          TST     R0,R0                                                           ;
39620                            2463 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_EXT                                                ;
                                          書き換えない
39621 00008C50 896B                   M           BT      DNM_PLS_LSICTLCAL_EXT
39622                            2464 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
39623 00008C52 D003                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39624 00008C54 400B                   M           JSR     @R0                     ;
39625 00008C56 0009                   M           NOP                                     ;
39626                            2465 I1          M_BRA   DNM_PLS_LSICTLCAL_900                                           ;
39627 00008C58 A058                   M           BRA     DNM_PLS_LSICTLCAL_900
39628 00008C5A 0009                   M           NOP
39629                            2466 I1  
39630                            2467 I1  
39631                            2468 I1  
39632                            2469 I1  ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
39633                                 I1  ***** BEGIN-POOL *****
39634 00008C5C 00000000               I1  DATA FOR SOURCE-LINE 2459
39635 00008C60 00000000               I1  DATA FOR SOURCE-LINE 2464
39636                                 I1  ***** END-POOL *****
39637 00008C64                   2470 I1  DNM_PLS_LSICTLCAL_700:
39638                            2471 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
39639 00008C64 D10A                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39640 00008C66 6011                   M           MOV.W   @R1,R0          ;
39641 00008C68 CB04                   M           OR      #BIT2,R0                ;
39642 00008C6A 2101                   M           MOV.W   R0,@R1          ;
39643                            2472 I1  ;       ---払い出し完了ならやめる---------
39644                            2473 I1          FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
39645 00008C6C D009                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39646 00008C6E 400B                   M           JSR     @R0                     ;
39647 00008C70 0009                   M           NOP                                     ;
39648 00008C72 C804              2474 I1          TST     #BIT2,R0                        ;停止?
39649                            2475 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_820        ;YES:ﾌﾗｸﾞ終了
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   605
PROGRAM NAME =

39650 00008C74 8B3F                   M           BF      DNM_PLS_LSICTLCAL_820
39651                            2476 I1  
39652                            2477 I1  ;       ============================================
39653                            2478 I1  ;<<<2010-09-21>>>
39654 00008C76 D108              2479 I1          MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
39655 00008C78 6011              2480 I1          MOV.W   @R1,R0                          ;
39656 00008C7A 8801              2481 I1          CMP/EQ  #1,R0                           ;
39657 00008C7C 8B10              2482 I1          BF      DNM_PLS_LSICTLCAL_710           ;
39658                            2483 I1  
39659 00008C7E D104              2484 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
39660 00008C80 6011              2485 I1          MOV.W   @R1,R0                          ;
39661 00008C82 C802              2486 I1          TST     #BIT1,R0                        ;
39662                            2487 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_710        ;
39663 00008C84 8B0C                   M           BF      DNM_PLS_LSICTLCAL_710
39664                            2488 I1  
39665                            2489 I1  ;       自動減速
39666                            2490 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0        ;
39667 00008C86 D005                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39668 00008C88 400B                   M           JSR     @R0                     ;
39669 00008C8A 0009                   M           NOP                                     ;
39670                            2491 I1          M_BRA   DNM_PLS_LSICTLCAL_740           ;
39671 00008C8C A013                   M           BRA     DNM_PLS_LSICTLCAL_740
39672 00008C8E 0009                   M           NOP
39673                            2492 I1  
39674                            2493 I1  
39675                                 I1  ***** BEGIN-POOL *****
39676 00008C90 00000000               I1  DATA FOR SOURCE-LINE 2471,2484
39677 00008C94 00000000               I1  DATA FOR SOURCE-LINE 2473
39678 00008C98 00000000               I1  DATA FOR SOURCE-LINE 2479
39679 00008C9C 00000000               I1  DATA FOR SOURCE-LINE 2490
39680                                 I1  ***** END-POOL *****
39681 00008CA0                   2494 I1  DNM_PLS_LSICTLCAL_710:
39682                            2495 I1  ;       ============================================
39683                            2496 I1  
39684                            2497 I1  ;       ----ここにきたら目標位置が変わるまで加速はしない------
39685 00008CA0 D50C              2498 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
39686 00008CA2 6252              2499 I1          MOV.L   @R5,R2                          ;
39687 00008CA4 D40C              2500 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
39688 00008CA6 6342              2501 I1          MOV.L   @R4,R3                          ;
39689 00008CA8 2338              2502 I1          TST     R3,R3                           ;
39690                            2503 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_720                ;
39691 00008CAA 8B00                   M           BF      DNM_PLS_LSICTLCAL_720
39692 00008CAC E301              2504 I1          MOV     #1,R3                           ;
39693 00008CAE                   2505 I1  DNM_PLS_LSICTLCAL_720:                          ;
39694 00008CAE 3238              2506 I1          SUB     R3,R2                           ;
39695 00008CB0 4211              2507 I1          CMP/PZ  R2                              ;
39696 00008CB2 8900              2508 I1          BT      DNM_PLS_LSICTLCAL_740           ;
39697 00008CB4 222A              2509 I1          XOR     R2,R2                           ;
39698 00008CB6                   2510 I1  DNM_PLS_LSICTLCAL_740:                          ;
39699                            2511 I1  
39700                            2512 I1  
39701                            2513 I1  
39702 00008CB6 D109              2514 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
39703 00008CB8 6312              2515 I1          MOV.L   @R1,R3                          ;
39704 00008CBA 3236              2516 I1          CMP/HI  R3,R2                           ;
39705 00008CBC 8904              2517 I1          BT      DNM_PLS_LSICTLCAL_760           ;OFS < CALC
39706 00008CBE 6233              2518 I1          MOV     R3,R2                           ;MNINLINIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   606
PROGRAM NAME =

39707                            2519 I1  ;       -------------------
39708 00008CC0 D107              2520 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
39709 00008CC2 6011              2521 I1          MOV.W   @R1,R0                          ;
39710 00008CC4 C802              2522 I1          TST     #BIT1,R0                        ;手動減速中
39711                            2523 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_800        ;手動減速中なら終了
39712 00008CC6 8B0F                   M           BF      DNM_PLS_LSICTLCAL_800
39713                            2524 I1  
39714 00008CC8                   2525 I1  DNM_PLS_LSICTLCAL_760:                          ;
39715 00008CC8 2522              2526 I1          MOV.L   R2,@R5                          ;
39716                            2527 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
39717 00008CCA D006                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39718 00008CCC 400B                   M           JSR     @R0                     ;
39719 00008CCE 0009                   M           NOP                                     ;
39720                            2528 I1          M_BRA   DNM_PLS_LSICTLCAL_900           ;
39721 00008CD0 A01C                   M           BRA     DNM_PLS_LSICTLCAL_900
39722 00008CD2 0009                   M           NOP
39723                            2529 I1  
39724                            2530 I1  ;       -------------終了処理(STEP STOP)----------
39725                                 I1  ***** BEGIN-POOL *****
39726 00008CD4 00000000               I1  DATA FOR SOURCE-LINE 2498
39727 00008CD8 00000000               I1  DATA FOR SOURCE-LINE 2500
39728 00008CDC 00000000               I1  DATA FOR SOURCE-LINE 2514
39729 00008CE0 00000000               I1  DATA FOR SOURCE-LINE 2520
39730 00008CE4 00000000               I1  DATA FOR SOURCE-LINE 2527
39731                                 I1  ***** END-POOL *****
39732 00008CE8                   2531 I1  DNM_PLS_LSICTLCAL_800:
39733                            2532 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
39734 00008CE8 D009                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39735 00008CEA 400B                   M           JSR     @R0                     ;
39736 00008CEC 0009                   M           NOP                                     ;
39737                            2533 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
39738 00008CEE D109                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39739 00008CF0 6011                   M           MOV.W   @R1,R0          ;
39740 00008CF2 CB20                   M           OR      #BIT5,R0                ;
39741 00008CF4 2101                   M           MOV.W   R0,@R1          ;
39742 00008CF6                   2534 I1  DNM_PLS_LSICTLCAL_820:
39743                            2535 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
39744 00008CF6 D107                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39745 00008CF8 6011                   M           MOV.W   @R1,R0          ;
39746 00008CFA CB40                   M           OR      #BIT6,R0                ;
39747 00008CFC 2101                   M           MOV.W   R0,@R1          ;
39748                            2536 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
39749 00008CFE D105                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39750 00008D00 6011                   M           MOV.W   @R1,R0          ;
39751 00008D02 CB08                   M           OR      #BIT3,R0                ;
39752 00008D04 2101                   M           MOV.W   R0,@R1          ;
39753                            2537 I1  
39754                            2538 I1          .AIF    0 EQ    0
39755                            2539 C   
39756                            2540 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
39757 00008D06 D004                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39758 00008D08 400B                   M           JSR     @R0                     ;
39759 00008D0A 0009                   M           NOP                                     ;
39760                            2541 I1          .AENDI
39761                            2542 I1  
39762 00008D0C                   2543 I1  DNM_PLS_LSICTLCAL_900:
39763                            2544 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   607
PROGRAM NAME =

39764 00008D0C A00D                   M           BRA     DNM_PLS_LSICTLCAL_EXT
39765 00008D0E 0009                   M           NOP
39766                            2545 I1  
39767                                 I1  ***** BEGIN-POOL *****
39768 00008D10 00000000               I1  DATA FOR SOURCE-LINE 2532
39769 00008D14 00000000               I1  DATA FOR SOURCE-LINE 2533,2535,2536
39770 00008D18 00000000               I1  DATA FOR SOURCE-LINE 2540
39771                                 I1  ***** END-POOL *****
39772 00008D1C                   2546 I1  DNM_PLS_LSICTLCAL_ERR:
39773                            2547 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
39774 00008D1C D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39775 00008D1E 400B                   M           JSR     @R0                     ;
39776 00008D20 0009                   M           NOP                                     ;
39777                            2548 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
39778 00008D22 D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39779 00008D24 6011                   M           MOV.W   @R1,R0          ;
39780 00008D26 CB40                   M           OR      #BIT6,R0                ;
39781 00008D28 2101                   M           MOV.W   R0,@R1          ;
39782                            2549 I1  
39783 00008D2A                   2550 I1  DNM_PLS_LSICTLCAL_EXT:
39784                            2551 I1          SUB_END
39785                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39786 00008D2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39787                            2552 I1          M_RTS
39788 00008D2C 000B                   M           RTS                             ;RTSの後ろの
39789 00008D2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39790                            2553 I1  
39791                            2554 I1  
39792                            2555 I1  ;
39793                            2556 I1  ;
39794                            2557 I1  ;
39795                            2558 I1  ;
39796                            2559 I1  ;
39797                                 I1  ***** BEGIN-POOL *****
39798 00008D30 00000000               I1  DATA FOR SOURCE-LINE 2547
39799 00008D34 00000000               I1  DATA FOR SOURCE-LINE 2548
39800                                 I1  ***** END-POOL *****
39801 00008D38                   2560 I1  _DNM_AUTO_UP_DN_CALC:
39802                            2561 I1          SUB_START
39803 00008D38 4F22                   M           STS.L   PR,@-R15                ;[必要]
39804                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39805 00008D3A D104              2562 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;
39806 00008D3C 6012              2563 I1          MOV.L   @R1,R0                          ;
39807 00008D3E D504              2564 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
39808 00008D40 6252              2565 I1          MOV.L   @R5,R2                          ;
39809 00008D42 320C              2566 I1          ADD     R0,R2                           ;
39810 00008D44 2522              2567 I1          MOV.L   R2,@R5                          ;
39811                            2568 I1          SUB_END
39812                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39813 00008D46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39814                            2569 I1          M_RTS
39815 00008D48 000B                   M           RTS                             ;RTSの後ろの
39816 00008D4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39817                            2570 I1  
39818                            2571 I1  
39819                            2572 I1  
39820                            2573 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   608
PROGRAM NAME =

39821                            2574 I1  ;
39822                           11772     
39823                           11773     ;       ***************************************************
39824                           11774     ;       ***                                             ***
39825                           11775     ;       ***             CPUBの高速化終了                ***
39826                           11776     ;       ***             2013-03-15                      ***
39827                           11777     ;       ***                                             ***
39828                           11778     ;       ***************************************************
39829                                     ***** BEGIN-POOL *****
39830 00008D4C 00000000                   DATA FOR SOURCE-LINE 2562
39831 00008D50 00000000                   DATA FOR SOURCE-LINE 2564
39832                                     ***** END-POOL *****
39833 00008D54                  11779             .ALIGN  4                                       ;
39834                           11780             .AIF    2 EQ 3          ;
39835                           11781             .SECTION        P,CODE                          ;
39836                           11782             .AENDI                                          ;
39837                           11783     
39838                           11784     
39839                           11785     
39840                           11786             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   609

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ACCLAT1_SV_MAKCOM_200            P             0000673E  30846 30848*
ACC_FORM_TOP                     P             00008058  36661 36664 36670 36674 36676 36679 36682 36846 36848 36850 36853 37017 
                                                         37063*38618 38620 38622 38624 38649 38653 38656 
ACC_INFMAK1_DTCHGCHKLOP          P             00007CDC  36009*36017 
ACC_INFMAK1_EXT                  P             00007D56  36037 36116*
ACC_INFMAK1_START                P             00007D28  36020 36053*
ACC_INFMAK1_START050             P             00007D38  36029 36072*
ACC_INFMAK1_START100             P             00007D3E  36065 36084*
ACC_REST_INFMK_100               P             00007C4C  35527 35535*
ACC_REST_INFMK_200               P             00007C60  35545 35549 35554*
ACC_STEPINF_MAK1_100LOP          P             00007DFA  36301*36377 
ACC_STEPINF_MAK1_120             P             00007E06  36308 36311*
ACC_STEPINF_MAK1_180             P             00007E44  36324 36351*
ACC_STEPINF_MAK1_200             P             00007E4A  36332 36335 36354 36356*
ACC_STEPINF_MAK1_250             P             00007E5C  36368 36370*
ACC_STEPINF_MAK1_300             P             00007E68  36375 36380*
ACC_TBLMAK1_200LOP               P             00007E9A  36535*36561 
ACC_TBLMKPLS1_SBLOP200           P             000083D4  37580*37609 
ACC_TBLMKPLS1_SBLOP220           P             000083E6  37599 37601*
ACC_TBLMKPLS1_SB_END             P             00008404  37583 37621*
ACC_TBLMKSPD1_SB100              P             000082C8  37315 37319*
ACC_TBLMKSPD1_SB150              P             000082D2  37328*37335 
ACC_TBLMKSPD1_SB200              P             000082F0  37323 37349*
ACC_TBLMKSPD1_SB220              P             00008304  37361 37363*
ACC_TBLMKSPD1_SB250LOP           P             0000830C  37375*37446 
ACC_TBLMKSPD1_SB300              P             0000832E  37405 37407*
ACC_TBLMKSPD1_SB500              P             00008364  37378 37454*
ACC_TBLMKSPD1_SB900              P             00008366  37339 37457*
AFM_DST_CTLACTM                  P             00008074  36679 37071*38649 
AFM_DST_CTLVTBL                  P             00008070  36676 37070*38653 
AFM_DST_STPACTM                  P             00008084  36850 37075*38618 
AFM_DST_STPPTBL                  P             00008088  37017 37076*38620 
AFM_DST_STPVTBL                  P             00008080  36848 37074*38622 
AFM_OLD_CTLACTM                  P             0000806C  36682 37069*
AFM_OLD_CTLVTBL                  P             00008068  36674 37068*
AFM_OLD_STPACTM                  P             0000807C  36853 37073*
AFM_OLD_STPVTBL                  P             00008078  36846 37072*
AFM_SRC_TBL_MEM                  P             0000805C  36664 37065*
AFM_SRC_TBL_TOP                  P             00008058  36661 37064*
AFM_STEP_INF_FLG                 P             00008064  37067*38624 38656 
AFM_STEP_INF_SPD                 P             00008060  36670 37066*
API_ENDHANDSIGCHK_100            P             00006EBA  32674 32681*
API_ENDHANDSIGCHK_EXT            P             00006EBC  32670 32680 32683*
API_SETACC_INFOGET_CALEXT        P             00007DA6  36185 36191 36196*
API_SETACC_INFOGET_CALNG         P             00007DA4  36167 36174 36194*
API_SETACC_INFOGET_CALOK1        P             00007D98  36172 36182*
API_SETACC_INFOGET_CALOK2        P             00007D9E  36163 36188*
API_SETACC_STSCLR_EXT            P             00007DDA  36247 36249 36255*
BANKCHKNEXT_CYCL_STR1_010        P             00005D2E  28379 28384*
BANKCHKNEXT_CYCL_STR1_020        P             00005CC4  28227 28295*
BANKCHKNEXT_CYCL_STR1_050        P             00005CCE  28300 28302*
BANKCHKNEXT_CYCL_STR1_100        P             00005CEA  28280 28329*
BANK_CNT_STOPCHK_TYP1_200        P             00005D74  28412 28420 28431 28452*
BCNT_STEP_NEXTCHK_100            P             000058FC  27432 27444*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   610

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BCNT_STEP_NEXTCHK_120            P             00005928  27464 27472*
BCNT_STEP_NEXTCHK_200            P             00005930  27461 27475 27481*
BCNT_STEP_NEXTCHK_250            P             00005964  27487 27493 27517*
BCNT_STEP_NEXTCHK_300            P             0000596C  27523 27540*
BCNT_STEP_NEXTCHK_CHK            P             00005980  27466 27477 27558*
BCNT_STEP_NEXTCHK_EXT            P             0000598E  27434 27507 27548 27563 27572*
BIT0                                      EQU  00000001     15* 2029  2333  2348  6502  6745  6752  6912  6963  7141  7275  7433 
                                                          7628  7717  7787  7867  8086  8573  8580  8930  8937  9000  9007  9158 
                                                          9342  9349  9513  9520  9805  9842  9934 10026 10090 10149 10160 10161 
                                                         10234 10275 10326 10485 11120 11124 11251 11255 11459 11463 11556 11560 
                                                         11624 11750 11774 11809 11834 11887 11906 11988 12005 12021 12035 12089 
                                                         12172 12333 12360 12459 12521 12594 13439 13687 13698 13742 13802 13823 
                                                         13826 13888 13985 14178 14231 14294 14324 14507 14582 14583 14695 14696 
                                                         14854 14855 14858 15076 15093 15200 15237 15349 15521 15814 15821 15974 
                                                         16233 16272 17252 17981 18394 19037 19158 19298 19398 19494 19621 19749 
                                                         20053 20188 20211 20216 20224 20275 20299 20305 20708 21414 21530 21586 
                                                         21637 21691 21830 21833 22065 22178 22191 22560 22635 22861 23109 23114 
                                                         23630 23642 23672 24039 24099 24102 24873 24890 25006 25023 25193 25252 
                                                         25377 25538 25543 27491 27499 27504 27631 27734 27747 28136 28140 28177 
                                                         28225 28382 28429 28442 28484 28713 28905 29066 29327 29352 29409 29614 
                                                         29698 29709 30045 30129 30205 30277 30697 31142 31148 31650 31656 31868 
                                                         31905 31919 31934 31948 31962 31976 31987 32045 32301 32390 32672 32753 
                                                         32802 32900 32904 32961 32972 32973 33047 33093 33306 33325 33456 33605 
                                                         33836 33889 33915 34840 34912 34926 35095 35525 36056 36183 36366 37961 
                                                         38433 38461 38507 38548 39543 
BIT1                                      EQU  00000002     16* 2030  2334  2349  7269  7275  7433  8066  9940 10090 10160 10567 
                                                         10864 10888 10940 11210 11624 11857 12071 12132 12208 12357 12521 13442 
                                                         13684 13698 13754 13774 13790 14033 14231 14336 14368 14507 14582 14583 
                                                         14695 14696 14854 14855 15187 15270 16009 16169 17981 20193 20229 20280 
                                                         20310 21402 21854 22119 22208 22237 22986 23626 23672 24386 24392 24903 
                                                         25036 25277 27626 27631 28447 28520 28592 28939 29031 29037 29060 29066 
                                                         29100 29332 29377 29403 29409 32672 32802 32972 33451 33456 33614 33620 
                                                         33678 33690 33831 33870 33915 35039 35081 35124 35229 36075 36189 37973 
                                                         38433 38548 39480 39529 39566 39567 39599 39661 39710 
BIT10                                     EQU  00000400     25* 2359 18274 18315 22680 22692 31623 
BIT11                                     EQU  00000800     26* 2360 11765 18173 18214 30559 30611 31623 
BIT12                                     EQU  00001000     27* 2365 11765 17729 17812 23618 24113 24148 
BIT13                                     EQU  00002000     28* 2366  9852 12139 24035 24058 34611 34667 
BIT14                                     EQU  00004000     29* 2367  9847 34632 34667 
BIT15                                     EQU  00008000     30* 2368  6766 29360 34653 34667 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2031  2335  2350  2370 10138 10160 10573 10736 10783 11704 11958 
                                                         12258 12330 12521 13716 14252 14533 15212 15263 15652 17394 17398 18083 
                                                         18135 18458 18548 18622 18726 18735 18769 19037 19102 19158 20577 21389 
                                                         21402 21573 21604 21674 21795 21833 21854 21875 22065 22237 22249 22275 
                                                         24386 24914 25047 25299 26823 27485 27631 28973 29066 32668 32757 32972 
                                                         33703 33728 33875 33915 34822 35042 35160 35191 35198 36107 36165 36169 
                                                         36245 36321 36329 36333 36355 37295 37484 37556 37995 38002 38430 38514 
                                                         38574 39484 39566 39567 39641 39648 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   611

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2032  2336  2351  2371  6066  7709  7779  7860  7963  8072 10138 
                                                         10540 10733 10763 11983 12499 12521 13508 14111 18392 24386 25327 27521 
                                                         27675 29066 32949 33098 33743 33767 33831 33870 33915 34343 34352 35272 
                                                         36169 36214 39751 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 2337  2352  2372 10138 11731 12516 14185 15636 16252 19242 19398 
                                                         24386 25070 25094 25128 25426 29066 33804 33823 33831 33863 33870 33915 
                                                         34347 34352 38480 
BIT5                                      EQU  00000020     20* 2338  2353  2373  6971  6977  8807  9095  9138  9594  9619 14521 
                                                         14607 15639 16238 20708 22574 22677 24386 29066 33314 33320 33915 35261 
                                                         39364 39740 
BIT6                                      EQU  00000040     21* 2339  2354  2374  7048  8643 10118 10138 10602 10626 10730 10789 
                                                         10808 10811 11612 12776 13663 14104 17012 17252 18731 19178 21787 21964 
                                                         22492 22560 22668 24386 26855 29066 30700 33620 33988 34209 34280 34389 
                                                         34908 35267 35301 39746 39780 
BIT7                                      EQU  00000080     22* 2340  2355  2375  8692 12782 12836 12882 12928 24386 27828 29025 
                                                         29042 29077 31631 31640 
BIT8                                      EQU  00000100     23* 2341  2356 24386 31623 32287 
BIT9                                      EQU  00000200     24* 2342  2357  6614 12146 12163 22671 22692 24386 31623 33254 33587 
                                                         33650 
BRKTST_POSCTL_0020               P             00007000  32951 32960*
BRKTST_POSCTL_0040               P             00007008  32963 32969*
BRKTST_POSCTL_0048               P             0000701C  32974 32983*
BRKTST_POSCTL_0190               P             00007080  32976 33060*
BRKTST_POSCTL_0200               P             000070D0  32965 33090*
BRKTST_POSCTL_0240               P             0000710C  33094 33125*
BRKTST_POSCTL_0800               P             0000712C  32953 33062 33113 33167*
CHG_STEP_INFO_MAKSTP_END_010     P             00005478  25948 25961*
CHG_STEP_INFO_MAKSTP_END_020     P             0000548C  25963 25975*
CHG_STEP_INFO_MAKSTP_END_EXT     P             0000548C  25954 25969 25977*
CLSINC1_SEL_020                  P             00004D00  24291 24305*
CLSINC1_SEL_END                  P             00004D0A  24298 24313*
CLSINC2_SEL_020                  P             00004D34  24339 24353*
CLSINC2_SEL_END                  P             00004D3E  24346 24361*
CLSINC_SEL_050LOP                P             00004D5E  24395*24404 
CLSINC_SEL_100                   P             00004D6C  24398 24405*
CLSINC_SEL_300                   P             00004D88  24409 24412 24425*
CLSINC_SEL_DEF                   P             00004D84  24389 24422*
CLS_POS_LENGTH_ADDATA_050        P             00004718  22863 22871*
CMPSPD_RSTPLS_250                P             00007BCE  35408 35414*
CMPSPD_RSTPLS_280                P             00007BD6  35418 35422*
CMP_BRK2_CTLCAL_200              P             00006498  30207 30215*
CMP_CNT_CTLCAL_200               P             00006434  30131 30139*
CMP_HODL_CTL200                  P             000064EE  30279 30287*
CMP_PLSLSI_CTLCAL_200            P             000063C8  30047 30055*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   612

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

CMP_SPD_REST_END                 P             00007C1E  35476 35483 35487*
CMP_SPD_REST_ERR                 P             00007C16  35411 35480*
CMP_SPD_REST_MOV                 P             00007C10  35420 35425 35464 35473*
CMP_SPD_REST_STOP                P             00007C1C  35466 35485*
CNTBANK_DBGBRK_100               P             00005AD8  27830 27839*
CNT_GPOINT_STOPTYP2_050          P             00005DC4  28506 28523*
CNT_GPOINT_STOPTYP2_100          P             00005E0E  28486 28502 28515 28602*
CNT_REST_HOSEI_SPDTYP_EXT        P             00006C1C  32047 32051*
CNT_STOP_CMD_DATSUB1_100         P             00005ED6  28782 28785*
CNT_STOP_CMD_DATSUB2_100         P             00005F18  28828 28831*
CNT_SUB_DATACALC_100             P             00005E6A  28694 28698*
CNT_SUB_DATACALC_120             P             00005E74  28701 28706*
CNT_SUB_DATACALC_150             P             00005E80  28705 28716*
CNT_SYNCHOS_SPDTYP_080           P             00006B50  31865 31885*
CNT_SYNCHOS_SPDTYP_100           P             00006B56  31890*
CNT_SYNCHOS_SPDTYP_200           P             00006B60  31889 31901*
CNT_SYNCHOS_SPDTYP_250           P             00006B72  31904 31915*
CNT_SYNCHOS_SPDTYP_300           P             00006B84  31918 31929*
CNT_SYNCHOS_SPDTYP_310           P             00006B96  31933 31944*
CNT_SYNCHOS_SPDTYP_320           P             00006BA8  31947 31958*
CNT_SYNCHOS_SPDTYP_330           P             00006BBA  31961 31972*
CNT_SYNCHOS_SPDTYP_390           P             00006BCC  31975 31986*
CNT_SYNCHOS_SPDTYP_400           P             00006BD6  31871 31908 31922 31937 31951 31965 31979 31990 31996*
CNT_SYNCHOS_SPDTYP_450           P             00006BE4  31895 32003 32005*
CNT_SYNCHOS_SPDTYP_EXT           P             00006BEC  32011*
CNT_VMODE_NEXT_CYCLSTR_050       P             00005A3C  27677 27707*
CNT_VMODE_NEXT_CYCLSTR_100       P             00005A48  27685 27718*
CPUB_GET_OBJPOS_100              P             000062F2  29783 29789*
CPUB_GET_OBJPOS_EXT              P             000062F8  29794*
DAI_CHK01_100                    P             00003A18  19689 19697*
DAI_CHK01_200                    P             000002A8   7102  7107*
DAI_CHK03_300                    P             00003A7A  19764 19780*
DEBUG_BRK_PNT1_100               P             00001C70  12838 12847*
DEBUG_BRK_PNT2_100               P             00001C98  12884 12893*
DEBUG_BRK_PNT3_100               P             00001CC0  12930 12939*
DEBUG_JMP10                      P             000087E6  38452 38456*
DEBUG_SIGINC_100                 P             0000133A  10939 10941*
DELT_POS_SPDCG1_020              P             00004020  21208 21210*
DELT_POS_SPDCG1_050              P             00004032  21217 21225*
DELT_POS_SPDCG1_100              P             00004036  21222 21231*
DELT_POS_SPDCG1_150              P             000040DE  21356*21362 
DELT_POS_SPDCG1_200              P             0000403E  21214 21220 21228 21241*
DELT_POS_SPDCG1_250              P             0000405A  21254 21256*
DELT_POS_SPDCG1_300              P             00004072  21270 21273*
DELT_POS_SPDCG1_350              P             00004074  21266 21275*
DELT_POS_SPDCG1_380              P             0000407E  21281 21283*
DELT_POS_SPDCG1_430              P             000040AA  21313 21315*
DNDINC_MAKOBJPOS_100             P             000025D8  14856 14868*
DNDINC_MAKOBJPOS_120             P             000025E2  14860 14874*
DNDINC_MAKOBJPOS_150             P             000025F4  14862 14873 14886*
DNDINC_MAKOBJPOS_200             P             000025F8  14878 14890*
DNDINC_SPDSET_100                P             00000878   8645  8651  8653*
DNDINC_STEP_MK100                P             000024D0  14647 14657 14667 14684*
DNDINC_STEP_MK150                P             00002508  14669 14697 14715*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   613

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DNDINC_STEP_MK180                P             00002544  14720 14754*
DNDINC_STEP_MK200                P             00002562  14743 14777*
DNDINC_STEP_MK220                P             000025AC  14814 14825*
DNDINC_STEP_MK300                P             000025B2  14703 14819 14829*
DNDINC_ST_100                    P             000003F8   7416  7430*
DNDINC_ST_250                    P             00000440   7462  7479*
DNDINC_ST_290                    P             00000446   7468  7484*
DNDINC_ST_350                    P             00000458   7440  7498*
DNDINC_ST_380                    P             0000046A   7490  7515*
DNDINC_ST_520                    P             00000484   7435  7532*
DNDINC_ST_550                    P             000004BC   7536  7568*
DNDINC_ST_580                    P             000004CC   7558  7582*
DNDINC_ST_END                    P             000004D2   7423  7521  7587*
DND_1STEP_DATMK1_050             P             0000161C  11555 11557*
DND_ALLSTEPCTL_005               P             00001F74  13608 13622*
DND_ALLSTEPCTL_010               P             00001F90  13628 13644*
DND_ALLSTEPCTL_020               P             00001FA0  13601 13660*
DND_ALLSTEPCTL_050               P             00001FB0  13665 13673*
DND_ALLSTEPCTL_060               P             00001FC8  13686 13689 13694*
DND_ALLSTEPCTL_100               P             00001FE4  13700 13711*
DND_ALLSTEPCTL_200               P             00002000  13718 13734*
DND_ALLSTEPCTL_300               P             0000201C  13702 13753*
DND_ALLSTEPCTL_320               P             0000203C  13770 13776*
DND_ALLSTEPCTL_400               P             00002048  13756 13787*
DND_ALLSTEPCTL_420               P             00002058  13792 13799*
DND_ALLSTEPCTL_425               P             00002060  13804 13808*
DND_ALLSTEPCTL_450               P             00002154  13818 13960*
DND_ALLSTEPCTL_500               P             000021A0  13806 14005*
DND_ALLSTEPCTL_580               P             000021CC  13993 14043*
DND_ALLSTEPCTL_600               P             00002240  13794 14100*
DND_ALLSTEPCTL_900               P             00002262  13614 13636 13650 13667 13724 13745 13778 13942 14080 14139*
DND_LNKPLS_OBJMK1_END            P             0000076A   8322  8342  8363*
DND_LNKPLS_OBJ_CHG050            P             0000072A   8312  8316*
DND_LNKPLS_OBJ_DNPOS1            P             00000748   8289  8334*
DND_LNKPLS_OBJ_STOPPOS1          P             00000760   8294  8296  8356*
DND_LNKPLS_OBJ_UPPOS0            P             0000071A   8303*
DND_LNKPLS_OBJ_UPPOS1            P             0000071A   8286  8291  8302*
DND_LNK_STEP_CHG0_100            P             0000056E   7789  7791*
DND_LNK_STEP_CHG0_400            P             0000057C   7781  7802*
DND_LNK_STEP_CHG0_423            P             00000590   7807  7816*
DND_LNK_STEP_CHG0_425            P             00000592   7794  7810  7819*
DND_LNK_STEP_CHG0_END            P             00000596   7825*
DND_LNK_STEP_CHG2_300            P             0000061C   7965  7975*
DND_LNK_STEP_CHG2_320            P             00000638   7985  7997*
DND_LNK_STEP_CHG2_400            P             0000063A   7989  8000*
DND_LNK_STEP_CHG2_END            P             0000063E   7967  7981  8005*
DND_LNK_STEP_CHK0_100            P             0000052A   7719  7721*
DND_LNK_STEP_CHK0_200            P             00000538   7711  7733*
DND_LNK_STEP_CHK0_400            P             00000548   7738  7746*
DND_LNK_STEP_CHK0_450            P             0000054A   7724  7749*
DND_LNK_STEP_CHK0_END            P             0000054E   7740  7753*
DND_LNK_STEP_CHK2_100            P             000005D0   7869  7891*
DND_LNK_STEP_CHK2_199            P             000005DE   7879  7882  7900  7902*
DND_LNK_STEP_CHK2_300            P             000005E8   7862  7913*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   614

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DND_LNK_STEP_CHK2_400            P             000005F8   7918  7926*
DND_LNK_STEP_CHK2_450            P             000005FA   7905  7929*
DND_LNK_STEP_CHK2_END            P             000005FE   7920  7933*
DND_NEGSTEPCTL_100               P             000022CC  14233 14242*
DND_NEGSTEPCTL_200               P             000022E8  14254 14267*
DND_NEGSTEPCTL_250               P             00002320  14287 14310*
DND_NEGSTEPCTL_300               P             00002340  14235 14335*
DND_NEGSTEPCTL_320               P             00002360  14356 14364*
DND_NEGSTEPCTL_400               P             00002370  14338 14379*
DND_NEGSTEPCTL_420               P             00002384  14390 14399*
DND_NEGSTEPCTL_580               P             00002396  14432*
DND_NEGSTEPCTL_900               P             000023BA  14256 14275 14299 14327 14358 14371 14392 14457*
DND_NEG_AREA_JD1_050             P             000006AE   8193  8195*
DND_NEG_AREA_JD1_100             P             000006BE   8202  8205  8209*
DND_NEG_AREA_JD2_100             P             000006EC   8243  8246  8250*
DND_NEG_STOP_SVCK_EXT            P             00000682   8092*
DND_NEG_STOP_SVCK_OFF            P             0000067E   8068  8074  8083  8087*
DND_NEG_STOP_SVCK_ON             P             0000067C   8085*
DND_NEG_STOP_SVCK_SET            P             0000067E   8088*
DND_ORGIN_SIG_FORON_EXT          P             000022A0  14168 14174 14180 14188*
DND_ORGIN_STEP_050               P             000020DC  13825 13887*
DND_ORGIN_STEP_100               P             0000211E  13870 13936*
DND_ROTSTEPCTL_050               P             000023F8  14509 14518*
DND_ROTSTEPCTL_080               P             00002410  14523 14536*
DND_ROTSTEPCTL_200               P             00002420  14535 14550*
DND_ROTSTEPCTL_400               P             00002420  14551*
DND_ROTSTEPCTL_420               P             00002434  14562 14571*
DND_ROTSTEPCTL_440               P             0000245C  14584 14595*
DND_ROTSTEPCTL_500               P             00002466  14587 14599 14601*
DND_ROTSTEPCTL_900               P             00002476  14538 14564 14616*
DND_ROTSTEPCTL_EXT               P             00002478  14511 14618*
DND_SPD_SEQSET_100               P             000008B0   8703  8705*
DND_SPD_SEQSET_END               P             000008BE   8694  8699  8715*
DND_TEPSTEPCTL_020               P             00002738  15189 15198*
DND_TEPSTEPCTL_180               P             00002768  15214 15228 15240*
DND_TEPSTEPCTL_200               P             00002784  15202 15254*
DND_TEPSTEPCTL_220               P             000027C8  15265 15296*
DND_TEPSTEPCTL_290               P             000027CE  15304*
DND_TEPSTEPCTL_400               P             000027D8  15191 15315*
DND_TEPSTEPCTL_420               P             000027EC  15320 15333*
DND_TEPSTEPCTL_800               P             00002814  15340 15363*
DND_TEPSTEPCTL_900               P             0000281A  15242 15284 15306 15326 15352 15370*
DND_TEPSTEPCTL_EXT               P             0000281C  15372*
DNMODE_ENDWAIT_TIMCK_END         P             00006CE0  32251 32257*
DNMODE_ENDWAIT_TIMST100          P             00006CC0  32207 32213 32227*
DNMODE_ENDWAIT_TIMST200          P             00006CC2  32218 32229*
DNM_ACCCALC_020                  P             0000859A  37918 37920*
DNM_ACCCALC_100                  P             000085D0  37960 37964*
DNM_ACCCALC_200                  P             000085DE  37970 37977*
DNM_ACCCALC_300                  P             000085FA  37992 37999*
DNM_ACC_OVER_PLSMK100            P             000086A0  38077 38081 38094*
DNM_ACC_OVER_PLSMK200            P             000086A6  38065 38083 38099*
DNM_CYCLE_ED_100                 P             00006D9E  32435 32441 32443*
DNM_CYCLE_STR_100                P             00006E08  32497 32526*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   615

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DNM_CYCLE_STR_200                P             00006E0C  32514 32530*
DNM_MATH_ELSE_DATMK100           P             00006E44  32561 32567 32584 32591*
DNM_PLS_LSICTLCAL_010            P             00008B92  39470 39475*
DNM_PLS_LSICTLCAL_020            P             00008BB4  39482 39498*
DNM_PLS_LSICTLCAL_050            P             00008BCC  39486 39505 39513*
DNM_PLS_LSICTLCAL_100            P             00008BD0  39488 39521*
DNM_PLS_LSICTLCAL_150            P             00008BEC  39525 39540*
DNM_PLS_LSICTLCAL_160            P             00008BFC  39545 39555*
DNM_PLS_LSICTLCAL_180            P             00008C24  39563 39583*
DNM_PLS_LSICTLCAL_190            P             00008C2A  39588*
DNM_PLS_LSICTLCAL_500            P             00008C48  39532 39592 39611*
DNM_PLS_LSICTLCAL_510            P             00008C4E  39574 39617*
DNM_PLS_LSICTLCAL_700            P             00008C64  39515 39568 39594 39637*
DNM_PLS_LSICTLCAL_710            P             00008CA0  39657 39663 39681*
DNM_PLS_LSICTLCAL_720            P             00008CAE  39691 39693*
DNM_PLS_LSICTLCAL_740            P             00008CB6  39671 39696 39698*
DNM_PLS_LSICTLCAL_760            P             00008CC8  39705 39714*
DNM_PLS_LSICTLCAL_800            P             00008CE8  39507 39712 39732*
DNM_PLS_LSICTLCAL_820            P             00008CF6  39650 39742*
DNM_PLS_LSICTLCAL_900            P             00008D0C  39627 39721 39762*
DNM_PLS_LSICTLCAL_ERR            P             00008D1C  39602 39772*
DNM_PLS_LSICTLCAL_EXT            P             00008D2A  39548 39621 39764 39783*
DNM_STEP_ACC_CHGDBG10            P             00008466  37706 37708*
DNM_STEP_ACC_CHGDBG20            P             0000846C  37710 37712*
DNM_STEP_ACC_CHG_100             P             00008480  37695 37701 37731*
DNM_TBLCAL_200                   P             00007CA8  35912 35929*
DNM_TBLCAL_300                   P             00007CAA  35920 35931*
DURING_TIM_CNTCK_END             P             00006C56  32125*
DURING_TIM_PRECALC100            P             00006C88  32158 32172*
DURING_TIM_PRECALC200            P             00006C8A  32149 32153 32161 32174*
DURING_TIM_PRECALCEND            P             00006C8E  32163 32177*
ENDHAND_WAIT_TIMC100             P             00006E8C  32625 32639*
ENDHAND_WAIT_TIMC200             P             00006E98  32630 32648*
ERR_INFO_BAKUP_ST_END            P             00005266  25534 25547*
ERR_INFO_DTCHK1_EXT              P             00004F82  24856 24862 24868 24875 24919*
ERR_INFO_DTCHK2_050              P             00005024  25057 25059*
ERR_INFO_DTCHK2_100              P             00005038  25066 25072*
ERR_INFO_DTCHK2_150              P             0000504E  25079 25087*
ERR_INFO_DTCHK2_200              P             00005094  25090 25118*
ERR_INFO_DTCHK2_300              P             000050A8  25097 25124 25130*
ERR_INFO_DTCHK2_EXT              P             000050AA  24988 24994 25001 25008 25135*
ERR_INFO_DTCHK3X_100             P             000051EC  25379 25388*
ERR_INFO_DTCHK3X_200             P             00005244  25381 25447*
ERR_INFO_DTCHK3X_300             P             00005244  25420 25436 25448*
ERR_INFO_DTCHK3_050              P             0000510C  25202 25217*
ERR_INFO_DTCHK3_060              P             00005136  25245 25247*
ERR_INFO_DTCHK3_100              P             00005140  25230 25258*
ERR_INFO_DTCHK3_200              P             0000515A  25267 25280*
ERR_INFO_DTCHK3_220              P             00005168  25289 25291*
ERR_INFO_DTCHK3_300              P             0000517E  25294 25308*
ERR_INFO_DTCHK3_350              P             00005184  25314*25320 
ERR_INFO_DTCHK3_380              P             0000519A  25323 25329*
ERR_INFO_DTCHK3_EXT              P             000051A0  25176 25182 25188 25195 25206 25339*
ERR_INFO_DTIN1_EXT               P             00004E26  24588 24594 24601*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   616

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ERR_INFO_DTIN2_EXT               P             00004E76  24644 24678*
ERR_INFO_DTIN3_EXT               P             00004EC6  24740 24747*
ERR_INFO_DTIN4_EXT               P             00004F00  24787 24793 24805*
ERR_INFO_WKCLR_LOP               P             000052A0  25602*25608 
ERR_STOP_MOVCK050                P             00003DC4  20579 20581*
FULCLS_LNG_ADD_CAL200            P             00004780  22953 22958 22960*
FULCLS_LNG_ADD_CAL300            P             000047C8  22988 23010*
FULCLS_LNG_ADD_CAL400            P             000047CA  22998 23020*
FULCLS_LNG_ADD_CAL450            P             000047D2  23023 23025*
FULCLS_MAXOVER_ERRS100           P             00004620  22569 22577*
FULCLS_MAXOVER_ERRSET            P             00004600  22529 22541 22551*
FULCLS_MAXOVER_ERRWAT            P             00004620  22545 22555 22582*
FULCLS_MAXPLSCAL_100             P             00004588  22429 22431*
FULCLS_MAXPLSCAL_200             P             00004590  22440*
FULCLS_OVERSG_100                P             00004672  22670 22679 22683*
FUL_BEFOR_CAL100                 P             0000153C  11317 11329*
FUL_BEFOR_CAL500                 P             00001542  11309 11319 11336*
FUL_CLS_OBJPLSCK_050             P             00004750  22906 22912 22914*
FUL_PLS_ST120                    P             00004826  23113 23115*
FWD_REV_STR_050                  P             000034B2  18396 18398*
FWD_REV_STR_055                  P             000034C0  18404 18407*
FWD_REV_STSIG_OFSPEC_050         P             000035D4  18621 18657*
GAMEN_OVRIDE_100                 P             000060EC  29270 29272*
GENSOK_SIGMK_050                 P             00004104  21391 21399*
GENSOK_SIGMK_END                 P             0000411C  21416 21420*
GENSOK_SIGMK_OF                  P             0000411A  21393 21406 21418*
GENSOK_SIGMK_ON                  P             00004114  21404 21413*
HENSA_DAT_MONMK_050              P             00005880  27347 27349*
HENSA_DAT_MONMK_100              P             0000589A  27365 27367*
H_BYTE                                    EQU  00000000     82*
INCENC_SV_HENSA_MK050            P             00003CFE  20408 20416*
INCENC_SV_HENSA_MK100            P             00003D04  20419 20421*
INC_UPLIMT_CAL100                P             00006D2C  32283 32290 32315*
INC_UPLIMT_CAL200                P             00006D2E  32303 32317*
INC_UPLIMT_CALEND                P             00006D32  32320*
INT_POSCTL_0020                  P             00000EE4  10120 10135*
INT_POSCTL_0040                  P             00000EF4  10140 10148*
INT_POSCTL_0045                  P             00000EFC  10151 10155*
INT_POSCTL_0048                  P             00000F10  10162 10171*
INT_POSCTL_0080                  P             00000F38  10192 10204*
INT_POSCTL_0100                  P             00000F40  10217*
INT_POSCTL_0102                  P             00000F84  10230 10253*
INT_POSCTL_0102A                 P             00000FB8  10277 10297*
INT_POSCTL_0103                  P             00001008  10328 10348*
INT_POSCTL_0105                  P             0000100E  10336 10354*
INT_POSCTL_0110                  P             00001020  10303 10368*
INT_POSCTL_0115                  P             0000102C  10285 10361 10380*
INT_POSCTL_0120                  P             00001044  10262 10397*
INT_POSCTL_0130                  P             0000107C  10403 10431*
INT_POSCTL_0140                  P             00001088  10386 10420 10442*
INT_POSCTL_0190                  P             000010D2  10164 10237 10504*
INT_POSCTL_0200                  P             00001110  10153 10526*
INT_POSCTL_0220                  P             0000114C  10536 10566*
INT_POSCTL_0240                  P             00001180  10569 10598*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   617

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

INT_POSCTL_0250                  P             000011BC  10604 10641*
INT_POSCTL_0260                  P             000011DC  10646 10650 10667*
INT_POSCTL_0280                  P             000011E2  10659 10672*
INT_POSCTL_0300                  P             0000121C  10142 10729*
INT_POSCTL_0320                  P             0000122C  10738 10743*
INT_POSCTL_0500                  P             0000125C  10735 10751 10778*
INT_POSCTL_0700                  P             0000127C  10122 10732 10805*
INT_POSCTL_0800                  P             0000128E  10506 10555 10588 10629 10714 10766 10785 10792 10820*
INT_POSCTL_0900                  P             00001290  10740 10810 10822*
INT_POSCTL_0910                  P             000012AE  10011 10036 10846*
INT_POSCTL_0920                  P             000012F4  10860 10884*
INT_POSCTL_0950                  P             000012FE  10868 10891*
INT_POSCTL_CHK00                 P             00000E74  10009 10021*
INT_POSCTL_CHK10                 P             00000E90  10028 10044*
JMP0100000                       P             000007B8   8463  8483*
JMP0100001                       P             0000093C   8816  8839*
JMP0100002                       P             00000B00   9232  9250*
JMP0100003                       P             00000D5A   9758  9761*
JMP0100007                       P             00002520  14728 14731*
JMP0100008                       P             0000252E  14738 14741*
JMP0100009                       P             00002554  14763 14765*
JMP0100010                       P             00002562  14773 14775*
JMP0100011                       P             0000258C  14783 14804*
JMP0100013                       P             00002A0C  15766 15768*
JMP0100014                       P             00004094  21298 21300*
JMP0100016                       P             00004F5E  24889 24891*
JMP0100017                       P             00004F70  24902 24904*
JMP0100018                       P             00004F7E  24913 24915*
JMP0100019                       P             00004FF6  25022 25024*
JMP0100020                       P             00005008  25035 25037*
JMP0100021                       P             00005016  25046 25048*
JMP0200000                       P             000007C4   8467  8469  8472  8486  8488  8490*
JMP0200001                       P             00000948   8820  8822  8825  8842  8844  8846*
JMP0200002                       P             00000B0C   9236  9238  9241  9253  9255  9257*
JMP0200003                       P             00000D72   9768  9772  9775*
JMP0200011                       P             00002598  14787 14789 14792 14807 14809 14811*
JMP0200014                       P             0000409C  21303 21305*
JMPED00027                       P             00007862  34608 34610 34614*
JMPED00028                       P             00007878  34629 34631 34635*
JMPED00029                       P             0000788E  34650 34652 34656*
JMP_0100004                      P             0000190E  12179 12182*
JMP_0100005                      P             0000202C  13762 13765*
JMP_0100006                      P             00002350  14346 14349*
JMP_0100012                      P             0000271A  15174 15177*
JMP_0100015                      P             0000426C  21776 21779*
JMP_0100022                      P             00006D4A  32355 32357*
JMP_0100023                      P             00006D8A  32426 32428*
JMP_0100024                      P             00006DCE  32488 32490*
JMP_0100025                      P             00006E98  32644 32647*
JMP_0100026                      P             000077C6  34472 34475*
KAJYU_START_UPCK_EXT             P             00004C54  24095 24101 24108 24117*
KJYU_DATA_INFOSL100              P             00004C0C  24005 24011 24023 24054*
KJYU_DATA_INFOSL300              P             00004C18  24041 24062*
KJYU_NEARZERO3CHK_100            P             00004AF8  23827 23829*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   618

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

KJYU_NEARZERO3CHK_200            P             00004B12  23844 23846*
KJYU_NEARZERO3CHK_END            P             00004B48  23854 23869 23876 23882 23888*
KJYU_NEARZERO3CHK_OUT_OFF        P             00004B3A  23834 23873*
KJYU_NEARZERO3CHK_TOUTATU        P             00004B40  23848 23866 23879*
KJYU_NEARZERO3CHK_YES            P             00004B46  23851 23885*
KJYU_NEARZERO3_CK100             P             00004B30  23864*
KJYU_NEARZERO_CK200              P             00004AD6  23744 23748 23750*
KJYU_OUTDIR100                   P             00004B64  23907 23917*
KJYU_OUTDIR200                   P             00004B66  23910 23920*
LINK_DIR_OBJMK3_250              P             00000BD4   9418  9423  9425*
LINK_DIR_OBJMK3_280              P             00000BE0   9432  9434*
LINK_DIR_OBJMK3_300              P             00000BFC   9414  9448*
LINK_DIR_OBJMK3_400              P             00000C10   9452  9457  9459*
LINK_DIR_OBJMK3_450              P             00000C1C   9467  9469*
LINK_DIR_OBJMK3_500              P             00000C1E   9436  9472*
LINK_DIR_OBJMK3_600              P             00000C28   9476  9478*
LINK_DIR_OBJMK3_750              P             00000C50   9512  9514*
LINK_PM_MX50                     P             00000D96   9807  9811*
LINK_UPPLSDN_DRV050              P             00000C9C   9564  9575*
LINK_UPPLSDN_DRV130              P             00000CC8   9566  9590  9596  9602  9613*
LINK_UPPLSDN_DRV135              P             00000CCE   9618*
LINK_UPPLSDN_DRV140              P             00000CD0   9616  9621*
LINK_UPPLS_A_OBJMK1_100          P             000008F4   8782  8784*
LINK_UPPLS_A_OBJMK1_110          P             000008FA   8788  8790*
LINK_UPPLS_A_OBJMK1_145          P             0000094E   8809  8851*
LINK_UPPLS_A_OBJMK1_150          P             00000950   8850  8853*
LINK_UPPLS_A_OBJMK1_300          P             00000970   8857  8876*
LINK_UPPLS_A_OBJMK1_400          P             00000984   8880  8885  8887*
LINK_UPPLS_A_OBJMK1_500          P             00000986   8861  8866  8869  8889*
LINK_UPPLS_A_OBJMK1_600          P             00000990   8893  8895*
LINK_UPPLS_A_OBJMK1_700          P             000009B8   8929  8931*
LINK_UPPLS_A_OBJMK2_030          P             000009FA   8978  8980*
LINK_UPPLS_A_OBJMK2_050          P             00000A1A   8999  9001*
LINK_UPPLS_OBJ_SEL_050           P             00000AA4   9140  9153*
LINK_UPPLS_OBJ_SEL_100A          P             00000ABC   9160  9174*
LINK_UPPLS_OBJ_SEL_110B          P             00000ACC   9145  9165  9186*
LINK_UPPLS_OBJ_SEL_END           P             00000ACE   9179  9189*
LNKPLS_OBJ_DAT_MK1_150           P             000007CC   8494  8496*
LNKPLS_OBJ_DAT_MK1_300           P             000007EC   8500  8519*
LNKPLS_OBJ_DAT_MK1_400           P             00000800   8523  8528  8530*
LNKPLS_OBJ_DAT_MK1_500           P             00000802   8504  8509  8512  8532*
LNKPLS_OBJ_DAT_MK1_600           P             0000080C   8536  8538*
LNKPLS_OBJ_DAT_MK1_750           P             00000834   8572  8574*
LNKPLS_OBJ_DAT_MK2_050           P             0000264A  14969 14974 14980*
LNKPLS_OBJ_DAT_MK2_080           P             00002658  14985 14989*
LNKPLS_OBJ_DAT_MK2_100           P             00002674  14965 15004*
LNKPLS_OBJ_DAT_MK2_150           P             00002680  15007 15011*
LNKPLS_OBJ_DAT_MK2_200           P             0000268C  15013 15019*
LNKPLS_OBJ_DAT_MK2_280           P             0000269C  15026 15030*
LNKPLS_OBJ_DAT_MK2_300           P             0000269C  14991 15034*
LNKPLS_OBJ_DAT_MK2_600           P             000026A6  15038 15040*
LNKPLS_OBJ_DAT_MK2_750           P             000026CE  15075 15077*
LNKPLS_OBJ_DAT_MK2_800           P             000026E0  15084 15089*
LOAD_RESTPLS_050                 P             00003E1C  20684 20686 20695*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   619

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

LOAD_RESTPLS_END                 P             00003E32  20688 20713*
LOAD_RESTPLS_LOP                 P             00003DEC  20660*20703 
LOD_POS_STSRG00                  P             0000363A  18770*18831 
LOD_POS_STS_REGSLOW_END          P             00003622  18728 18734 18737*
L_BYTE                                    EQU  00000001     81*
MN_POSCTL_ST050                  P             00000016   6494  6500  6504*
MN_POSCTL_START_110              P             00000128   6659  6694*
MN_POSCTL_START_200              P             0000013C   6699  6742*
MN_POSCTL_START_220              P             00000180   6747  6754  6762  6769  6843*
MN_POSCTL_START_500              P             000001AC   6661  6874*
MN_POSCTL_START_540              P             000001E8   6914  6945*
MN_POSCTL_START_600              P             000001F8   6895  6931  6956*
MN_POSCTL_START_800              P             000001FE   6707  6778  6865  6960*
MN_POS_CTLACT_100                P             00000278   7050  7059*
MN_POS_CTLACT_130                P             00000294   7067  7084*
MN_POS_CTLACT_150                P             0000029A   7076  7091*
MN_POS_CTLACT_800                P             000002C4   7052  7124*
MN_POS_CTLACT_CONTINUE           P             000002EC   7114  7135  7155*
MN_POS_CTLACT_CYCLE_END          P             000002F8   7143  7166*
MN_POS_CTLACT_EXIT               P             000002FA   7158  7164  7168*
MN_POS_CTLACT_STOP_END           P             000002F2   7145  7161*
MONI_DI_CHK_050                  P             00006A4C  31639 31642*
MOST_DISP_DATSMP_050             P             00003D6C  20497 20499*
MOST_DISP_DATSMP_100             P             00003D7C  20507 20509*
MOST_DISP_DATSMP_150             P             00003D8C  20520 20522*
MOTCYC_ED2_050                   P             00003AE6  19877 19880*
MOTION_CYC_ST200                 P             00003A1E  19682 19704*
MOT_REPSTART_CL050               P             00006FA0  32855 32871*
MOT_REPSTART_CL100               P             00006FAE  32860 32879*
MOT_REPSTART_CL200               P             00006FC8  32899 32901*
MOT_REP_STEPCK_100               P             00006F18  32755 32780*
MOT_REP_STEPCK_200               P             00006F58  32797 32818*
MOT_REP_STEPCK_EXT               P             00006F5E  32749 32768 32786 32792 32806 32824*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*37292 37481 37553 
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEG_TEPA_ARACHK100               P             00002ABC  15911 15927*
NEG_TEPA_ARACHK200               P             00002AC2  15896 15934*
NEG_TEPA_ARACHK300               P             00002AC4  15915 15930 15936*
NEXT_CYCL_STR1_050               P             00001E0C  13274 13286 13299 13315 13317*
OBJ_NEAR_CK_030                  P             00000D18   9696  9698*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   620

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

OBJ_NEAR_CK_050                  P             00000D28   9701  9711*
OBJ_NEAR_CK_EXT                  P             00000D34   9704  9716  9718*
OPEN_ROT_NEAR1_ZR_CK100          P             00003C1E  20198 20234*
OPEN_ROT_NEAR1_ZR_CK20           P             00003BD4  20152 20159 20166 20178*
OPEN_ROT_NEAR1_ZR_CK40           P             00003BD8  20168 20181*
OPEN_ROT_NEAR1_ZR_CK50           P             00003BFC  20183 20206*
OPEN_ROT_NEAR2_ZR_CK100          P             00003C82  20285 20315*
OPEN_ROT_NEAR2_ZR_CK50           P             00003C68  20270 20294*
ORGIN_OBJ_POSCTLST2_EXT          P             00000E3E   9936  9943*
ORGIN_OBJ_POS_CTLST1_100         P             00000DEC   9850  9872*
ORGIN_OBJ_POS_CTLST1_150         P             00000E08   9878  9898*
ORGIN_OBJ_POS_CTLST1_200         P             00000E0E   9859  9887  9903*
OUTPLS_CNT_CHK010                P             00003B0C  20019 20022*
OUTPLS_CNT_CHK020                P             00003B1C  20033 20035*
OUTPLS_CNT_CHK050                P             00003B30  20046 20048*
OUTPLS_CNT_CHK100                P             00003B4A  20061 20064 20066*
OVERRIDE_CHG050                  P             00000EBA  10084 10092 10099*
OVER_DIGCHK_END                  P             000045DE  22498 22508*
OVER_DIGCHK_ERR                  P             000045B8  22485*
OVER_DIGCHK_NOMAL                P             000045DC  22483 22495 22506*
OVER_LIDE_SPDCAL100              P             00006368  29960 29962*
OVER_LIDE_SQRF100                P             00005FDC  29027 29057*
OVER_LIDE_SQRF220                P             00006014  29089 29091*
OVER_LIDE_SQRF300                P             00006024  29033 29046 29062 29103*
OVER_RIDE_ERRTIMCHG_100          P             0000627C  29616 29630*
OVRLIDE_LATMULDIV200             P             00006780  30898 30907 30917*
OVRLIDE_LATMULDIV300             P             00006788  30905 30926*
OVRLIDE_LATMULDIV400             P             00006790  30920 30932*
OVRLIDE_LATMULDIV500             P             000067A0  30942 30944*
OVRLIDE_LATMULDIV550             P             000067A6  30909 30947 30949*
OutputPLS_REGCLR_100             P             00003288  17854 17869*
OutputPLS_REGCLR_150             P             000032E0  17940 17951*
OutputPLS_REGCLR_END             P             00003310  17856 17942 17984*
OutputPLS_REGCLR_ERR             P             00003308  17961 17976*
OutputPLS_REGCLR_LOP             P             000031D2  17724*17968 
P                                P        SCT  00000000   6046*
PINT_SERCH_BIG2B_200LOP          P             00008A74  39118*39161 
PINT_SERCH_BIG2B_300             P             00008A8C  39128 39140*
PINT_SERCH_BIG2B_500             P             00008A92  39135 39145*
PINT_SERCH_BIG2B_600             P             00008AA0  39149 39151 39157*
PINT_SERCH_BIG2B_800             P             00008AA8  39126 39165*
PINT_SERCH_BIG2B_900             P             00008AA8  39167*
PINT_SERCH_BIG4B_200LOP          P             00008ADC  39260*39304 
PINT_SERCH_BIG4B_300             P             00008AF4  39270 39282*
PINT_SERCH_BIG4B_500             P             00008AFA  39277 39287*
PINT_SERCH_BIG4B_600             P             00008B08  39292 39294 39300*
PINT_SERCH_BIG4B_800             P             00008B10  39268 39308*
PINT_SERCH_BIG4B_900             P             00008B10  39153 39297 39310*
PLS_CHG_PLSTOLSI_100             P             0000669A  30690 30692*
PLS_CHG_PLSTOLSI_120             P             000066C0  30699 30702 30716*
PLS_CHG_PLSTOLSI_130             P             000066D8  30723 30737*
PLS_CHG_PLSTOLSI_150             P             000066DC  30706 30730 30743*
PLS_CHG_PLSTOLSI_200             P             000066E2  30746 30748*
PLS_LSICTRL_050                  P             00007904  34818 34825*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   621

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

PLS_LSICTRL_070                  P             00007944  34842 34863*
PLS_LSICTRL_080                  P             00007954  34850 34876*
PLS_LSICTRL_100                  P             0000798E  34914 34931*
PLS_LSICTRL_200                  P             000079E0  34935 34969*
PLS_LSICTRL_220                  P             000079FC  34977 34991*
PLS_LSICTRL_END                  P             00007A02  34910 34920 34950 34983 34997*
PLS_LSI_CTLCAL_020               P             00007A2C  35041 35053*
PLS_LSI_CTLCAL_050               P             00007A44  35044 35060 35068*
PLS_LSI_CTLCAL_100               P             00007A48  35046 35073*
PLS_LSI_CTLCAL_150               P             00007A64  35077 35092*
PLS_LSI_CTLCAL_160               P             00007A74  35097 35107*
PLS_LSI_CTLCAL_500               P             00007A98  35084 35117 35137*
PLS_LSI_CTLCAL_580               P             00007AB8  35153 35171*
PLS_LSI_CTLCAL_700               P             00007AC8  35070 35119 35127 35187*
PLS_LSI_CTLCAL_720               P             00007AE8  35210 35212*
PLS_LSI_CTLCAL_740               P             00007AF0  35215 35217*
PLS_LSI_CTLCAL_760               P             00007B02  35224 35233*
PLS_LSI_CTLCAL_800               P             00007B28  35062 35162 35231 35253*
PLS_LSI_CTLCAL_820               P             00007B36  35200 35263*
PLS_LSI_CTLCAL_900               P             00007B4C  35177 35240 35283*
PLS_LSI_CTLCAL_ERR               P             00007B5C  35293*
PLS_LSI_CTLCAL_EXT               P             00007B6A  35100 35164 35285 35304*
PLS_LSI_SPD_ACCADD_200           P             00007BA8  35346 35363*
PLS_LSI_SPD_ACCADD_300           P             00007BB4  35352 35355 35369 35371*
PLS_LSI_SPD_ACCADD_END           P             00007BB8  35344 35374*
POINT_SERCHPLS1_050              P             00008988  38852 38854*
POINT_SERCHPLS1_100              P             000089B4  38838 38844 38878*
POINT_SERCHPLS1_200              P             000089BC  38866 38884*
POINT_SERCHPLS1_END              P             000089BE  38882 38886*
POINT_SERCHPLS_HKN1_050          P             000089EE  38946 38948*
POINT_SERCHPLS_HKN1_100          P             00008A00  38957 38959*
POINT_SERCHPLS_HKN1_400          P             00008A3C  38925 38931 39001*
POINT_SERCHPLS_HKN1_500          P             00008A44  38989 39008*
POINT_SERCHPLS_HKN1_END          P             00008A46  39005 39010*
POINT_SERCHSPD1_100              P             00008938  38740 38744 38764*
POINT_SERCHSPD1_END              P             0000893E  38752 38767 38770*
POSCNT_BANKDT100                 P             00005B26  27929*
POSITINER_POSCMP_100             P             00007832  34568 34571 34574 34576*
POSITIONER_DAICTL_020            P             0000738C  33590 33604*
POSITIONER_DAICTL_040            P             000073A2  33619 33621*
POSITIONER_DAICTL_100            P             000073C0  33583 33641*
POSITIONER_DAICTL_200            P             000073F8  33653 33675*
POSITIONER_DAICTL_300            P             0000741C  33680 33702*
POSITIONER_DAICTL_350            P             0000743C  33724 33730*
POSITIONER_DAICTL_400            P             0000744C  33705 33742*
POSITIONER_DAICTL_450            P             00007482  33763 33785*
POSITIONER_DAICTL_500            P             000074A8  33745 33803*
POSITIONER_DAICTL_530            P             000074E4  33817 33849*
POSITIONER_DAICTL_550            P             0000751C  33857 33888*
POSITIONER_DAICTL_590            P             00007522  33814 33893*
POSITIONER_DAICTL_800            P             0000752C  33629 33662 33693 33732 33787 33806 33839 33878 33895 33905*
POSITIONER_DAICTL_EXT            P             00007542  33592 33927*
POSITIONER_DAIDAT_100            P             0000761E  34115 34119 34123 34127*
POSITIONER_DAIOBJ1MK_100         P             00007566  33977 33982*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   622

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POSITIONER_DAIOBJ1MK_200         P             00007594  33990 34012*
POSITIONER_DAIOBJ1MK_300         P             000075A0  33999 34022*
POSITIONER_DAIOUT_100            P             0000772C  34341 34345 34349*
POSITIONER_DAI_OBJ1CP_100        P             000076BC  34211 34226*
POSITIONER_DAI_OBJ1CP_END        P             000076D2  34240 34246 34251*
POSITIONER_DAI_OBJ1CP_OVR        P             000076D0  34215 34230 34249*
POSITIONER_DAI_OBJ1CP_WATDN      P             000076CA  34232 34243*
POSITIONER_DAI_OBJ1CP_WATUP      P             000076C4  34217 34237*
POSITIONER_DAI_OBJ2CP_100        P             00007700  34282 34297*
POSITIONER_DAI_OBJ2CP_END        P             00007716  34311 34316 34321*
POSITIONER_DAI_OBJ2CP_STP        P             00007714  34286 34301 34319*
POSITIONER_DAI_OBJ2CP_WATDN      P             0000770E  34288 34313*
POSITIONER_DAI_OBJ2CP_WATUP      P             00007708  34303 34308*
POSITIONER_DAI_STPCK100          P             00007768  34391 34406*
POSITIONER_DAI_STPCK150          P             0000776C  34396 34409*
POSITIONER_DAI_STPCK200          P             00007778  34394 34408 34420*
POSITIONER_DAI_STPCK230          P             0000778C  34430 34433*
POSITIONER_DAI_STPCK250          P             000077A0  34425 34446*
POSITIONER_DAI_STPCK280          P             000077AC  34452 34454*
POSITIONER_DAI_STPCK300          P             000077BA  34457 34465*
POSITIONER_DAI_STPCK320          P             000077DE  34491 34493*
POSITIONER_DAI_STPCKEND          P             00007812  34517 34523 34529*
POSITIONER_DAI_STPCKERR          P             0000780A  34500 34520*
POSITIONER_DAI_STPCKINP          P             00007810  34498 34526*
POSITIONER_DAI_STPCKWAT          P             00007804  34435 34481 34514*
POSITIONER_UPDNLMT100            P             000075E8  34074 34076*
POSITIONER_UPDNLMT200            P             000075F2  34081 34083*
POS_1STEP_DATA_MKSL100           P             00001CEC  12977 12993*
POS_1STEP_DATA_MKSL200           P             00001CF2  12985 12998*
POS_1STEP_DATMK1CL_020           P             000014CC  11212 11232*
POS_1STEP_DATMK1CL_040           P             000014D2  11219 11239*
POS_1STEP_DATMK1CL_050           P             000014E0  11250 11252*
POS_1STEP_DATMK1_050             P             00001436  11119 11121*
POS_1STEP_DATMK2_050             P             000015CA  11458 11460*
POS_ALLSTEPCTL_020               P             00001654  11614 11623*
POS_ALLSTEPCTL_100               P             0000165C  11626 11631*
POS_ALLSTEPCTL_101               P             00001670  11641 11650*
POS_ALLSTEPCTL_105               P             00001690  11666 11676*
POS_ALLSTEPCTL_120               P             00001694  11657 11681*
POS_ALLSTEPCTL_189               P             00001728  11758 11764 11768 11805*
POS_ALLSTEPCTL_189A              P             00001744  11776 11811 11825*
POS_ALLSTEPCTL_190               P             00001746  11752 11784 11817 11828*
POS_ALLSTEPCTL_200               P             00001760  11706 11853*
POS_ALLSTEPCTL_210               P             00001790  11884 11889*
POS_ALLSTEPCTL_211               P             000017A6  11902 11908*
POS_ALLSTEPCTL_220               P             000017CC  11875 11925*
POS_ALLSTEPCTL_225               P             000017E0  11941 11950*
POS_ALLSTEPCTL_230               P             00001800  11643 11668 11967 11977*
POS_ALLSTEPCTL_280               P             00001860  12053 12063 12065*
POS_ALLSTEPCTL_285               P             0000186A  12073 12075*
POS_ALLSTEPCTL_300               P             000018C8  11628 12131*
POS_ALLSTEPCTL_310               P             000018F0  12142 12159*
POS_ALLSTEPCTL_320               P             00001928  12188 12199*
POS_ALLSTEPCTL_400               P             00001944  12134 12227*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   623

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_ALLSTEPCTL_415               P             00001972  12237 12244 12253 12260 12266 12272*
POS_ALLSTEPCTL_420               P             000019A4  12293 12307*
POS_ALLSTEPCTL_428               P             000019F0  12332 12356*
POS_ALLSTEPCTL_430               P             00001A10  12359 12381*
POS_ALLSTEPCTL_450               P             00001A4C  12393 12420*
POS_ALLSTEPCTL_530               P             00001AA0  12454 12496*
POS_ALLSTEPCTL_550               P             00001AB4  12477 12502 12512*
POS_ALLSTEPCTL_580               P             00001AF2  12342 12409 12569*
POS_ALLSTEPCTL_583               P             00001B60  12596 12624*
POS_ALLSTEPCTL_585               P             00001B78  12590 12642*
POS_ALLSTEPCTL_590               P             00001B7E  12373 12602 12635 12653*
POS_ALLSTEPCTL_600               P             00001C0C  12483 12504 12751*
POS_ALLSTEPCTL_600X              P             00001A80  12450 12461 12481*
POS_ALLSTEPCTL_900               P             00001C36  11616 11678 11842 11911 11943 11969 12108 12150 12190 12217 12295 12730 
                                                         12786*
POS_ALLSTEPCTL_REP231            P             00001848  12037 12039*
POS_CLS_CPUB_TO_CPUA_100         P             000046F8  22833 22835*
POS_CLS_OBJPVPLSMAK100           P             00004966  23420 23426*
POS_CLS_OBJPVPLSMAK300           P             000049B8  23444 23474*
POS_CLS_OBJPVPLSMAK310           P             000049C8  23494 23498*
POS_CLS_OBJPVPLSMAK500           P             000049CC  23458 23506*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK100 P             000049F4  23537 23551*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK120 P             00004A08  23563 23565*
POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND P             00004A0E  23544 23567 23570*
POS_CLS_RNA_KJYU_NZ_CHK100       P             00004A3C  23597 23611*
POS_CLS_RNA_KJYU_NZ_CHK200       P             00004A80  23632 23662*
POS_CLS_RNA_KJYU_NZ_CHK400       P             00004A8E  23628 23676*
POS_CLS_RNA_KJYU_NZ_CHK490       P             00004A9C  23640 23651 23669 23687*
POS_CLS_RNA_KJYU_NZ_CHK500       P             00004AAC  23622 23702*
POS_CLS_RNA_KJYU_NZ_CHKEND       P             00004AB2  23604 23679 23693 23709*
POS_CLS_START_050                P             0000493A  23374 23376*
POS_CLS_TYP1_NEAR_ZR_CHK_100     P             000046B6  22754 22758*
POS_CLS_TYP1_NEAR_ZR_CHK_200     P             000046E0  22779 22795*
POS_CLS_TYP1_NEAR_ZR_CHK_201     P             000046E6  22783 22800*
POS_CLS_TYP1_NEAR_ZR_CHK_202     P             000046E8  22786 22798 22802*
POS_CLS_TYP1_POSCTL1_000         P             000041C6  21539 21634*
POS_CLS_TYP1_POSCTL1_050         P             000041F8  21676 21690*
POS_CLS_TYP1_POSCTL1_100         P             00004260  21639 21769*
POS_CLS_TYP1_POSCTL1_105         P             00004260  21770*
POS_CLS_TYP1_POSCTL1_107         P             00004288  21797 21806*
POS_CLS_TYP1_POSCTL1_108         P             0000429C  21805 21817*
POS_CLS_TYP1_POSCTL1_110         P             000042A0  21789 21825*
POS_CLS_TYP1_POSCTL1_112         P             000042C8  21832 21850*
POS_CLS_TYP1_POSCTL1_113         P             000042D8  21856 21864*
POS_CLS_TYP1_POSCTL1_115         P             000042F4  21877 21886*
POS_CLS_TYP1_POSCTL1_117         P             00004308  21891 21900*
POS_CLS_TYP1_POSCTL1_118         P             00004384  21930 21997*
POS_CLS_TYP1_POSCTL1_119A        P             000043BC  22015 22043*
POS_CLS_TYP1_POSCTL1_119E        P             000043C2  22032 22048*
POS_CLS_TYP1_POSCTL1_119E_EX     P             000043DE  22025 22072*
POS_CLS_TYP1_POSCTL1_200         P             000043FC  21858 22088*
POS_CLS_TYP1_POSCTL1_220         P             0000444C  22107 22138*
POS_CLS_TYP1_POSCTL1_222         P             00004464  22158 22167*
POS_CLS_TYP1_POSCTL1_240         P             00004478  22174 22188*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   624

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_CLS_TYP1_POSCTL1_250         P             00004480  22160 22182 22196*
POS_CLS_TYP1_POSCTL1_260         P             000044B4  22180 22193 22226*
POS_CLS_TYP1_POSCTL1_280         P             000044D2  22239 22251 22260*
POS_CLS_TYP1_POSCTL1_ED050       P             00004346  21920 21953*
POS_CLS_TYP1_POSCTL1_END         P             000044F0  21606 21625 22277 22282*
POS_CLS_TYP1_POSCTL1_NOT         P             0000414E  21525 21542*
POS_CLS_TYP1_POSCTL1_NOT20       P             00004154  21532 21551*
POS_CLS_TYP1_POSCTL1_OUT_WAIT    P             000044EE  21678 21753 21808 21879 21895 21983 22074 22126 22215 22262 22280*
POS_CLS_TYP1_POSCTL1_OVER98      P             0000433C  21841 21945*
POS_CLS_TYP1_POSCTL1_OVER99      P             00004340  21928 21948*
POS_CLS_TYP1_POSCTL1_PC_END      P             000044E8  21819 22274*
POS_CNT_BANKDTMAK123_COM         P             00005B66  27870 27944 27985*
POS_CNT_BANKDTMAK12_050          P             00005B62  27977 27979*
POS_CNT_BANKDTMAK12_COM          P             00005B54  27865 27887 27939 27968*
POS_CNT_BANKDTMKCM_050           P             00005C18  28135 28137*
POS_CNT_BANKDTMKCM_EXT           P             00005C22  28144*
POS_CNT_LASTSTEPCHK_END          P             00005BBE  28054 28056*
POS_ENDMYUTTIM_KEEP              P             0000035C   7281*
POS_ENDMYUTTIM_STOP              P             00000362   7265  7271  7277  7287*
POS_ENDWAIT_TIMSET_END           P             0000031C   7201  7208  7215*
POS_LSI_EMGSTOP_END              P             0000336A  18085 18101*
POS_LSI_SLWSTOP_END              P             00003398  18137 18149*
POS_PLSOUT_SETRY100              P             00003700  18946 18962*
POS_PLSOUT_SETRY120              P             00003746  19020 19028*
POS_PLSOUT_SETRY130              P             0000377C  19031 19057*
POS_PLSOUT_SETRY900              P             00003824  19044 19075 19078 19081 19202*
POS_PLSOUT_SETRYERR              P             000037F8  19132 19154*
POS_PLSOUT_SETRYEXT              P             00003832  18953 19194 19223*
POS_PLSOUT_SETRYLOP              P             0000371E  18994*19139 
POS_PLS_OUTDAT_050               P             0000387C  19294 19301*
POS_PLS_OUTDAT_080               P             000038A8  19315 19328*
POS_PLS_OUTDAT_100               P             000038BA  19334 19342*
POS_PLS_OUTDAT_200               P             000038C4  19345 19347 19349*
POS_PLS_OUTDAT_250               P             000038DE  19359 19367*
POS_PLS_OUTDAT_300               P             000038E2  19318 19372*
POS_PLS_OUTDAT_320_ECK10         P             0000396C  19542 19544*
POS_PLS_OUTDAT_320_END           P             000039B0  19546 19586*
POS_PLS_OUTDAT_320_ERR1          P             000039A0  19536 19571*
POS_PLS_OUTDAT_320_EXT           P             000039B8  19555 19580 19592*
POS_PLS_OUTDAT_400               P             000039DE  19623 19631*
POS_START_ROT_CAL_040            P             00001D94  13167 13171 13176 13201*
POS_START_ROT_CAL_050            P             00001D98  13161 13208*
POS_START_ROT_CAL_100            P             00001DB8  13185 13223 13229 13245*
POS_START_ROT_CAL_200            P             00001DC4  13247 13256*
POS_START_ROT_CAL_900            P             00001DD4  13203 13233 13252 13258 13262 13270*
POS_START_ROT_CAL_950            P             00001DE0  13250 13281*
POS_START_ROT_CAL_999            P             00001DF0  13235 13264 13294*
PRESET_PVABSTOOBJ_100            P             000062C0  29700 29719*
PRESET_PVABSTOOBJ_EXT            P             000062C0  29712 29729*
RESTART_WAIT_PLS_DATASEL_100     P             00004548  22338 22365*
RESTART_WAIT_PLS_DATASEL_END     P             0000455A  22335 22380*
RESTART_WAIT_PLS_DATASEL_OUT     P             00004558  22354 22378*
REVRSE_KAJYU_AREACK_END          P             00004CDA  24241 24257*
REVRSE_KAJYU_AREACK_LASTSPD      P             00004CD4  24219 24232 24234 24251*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   625

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

REV_BEFORE_CHGKOUTEICK090        P             000048CC  23220 23231*
REV_BEFORE_CHGKOUTEICK100        P             000048CE  23214 23233*
REV_BEFORE_CHGKOUTEICK200        P             000048DC  23242*
REV_BEFORE_CHGKOUTEICK300        P             000048E8  23222 23240 23252*
REV_BEFORE_CHGKOUTEICK400        P             000048EA  23245 23254*
RL_POSDTCHK_SECOND_RD            P             00006AF4  31731*31737 31739 
SET_OVERID200                    P             00006160  29312 29348*
SET_OVERID500                    P             000061A8  29307 29363 29392*
SET_OVERID900                    P             000061C2  29335 29380 29412*
SPD_CTL_ST100                    P             00006870  31144 31150*
SPD_STEP_CHGFWD_090              P             00001ED0  13458 13466 13480*
SPD_STEP_CHGFWD_100              P             00001ED4  13444 13486*
SPD_STEP_CHGFWD_200              P             00001EDE  13451 13494*
SPD_STEP_CHGFWD_202              P             00001EE0  13469 13497*
SPD_STEP_CHGFWD_250              P             00001F00  13502 13519*
SPD_STEP_CHGFWD_EXT              P             00001F2A  13441 13482 13493 13511 13558*
SPD_UPLIMT_CALEND                P             00006390  29993 29998 30000*
START_CNT_BANK2_MAKCHK_END       P             00005C4C  28179 28195*
TBLACC_ACC_ADD_200               P             00008B64  39378 39397*
TBLACC_ACC_ADD_300               P             00008B70  39384 39387 39403 39405*
TBLACC_ACC_ADD_END               P             00008B72  39376 39407*
TBLACC_STEP_SPMAK_100            P             00008830  38472 38503*
TBLACC_STEP_SPMAK_200            P             0000883A  38435 38441 38512*
TBLACC_STEP_SPMAK_250            P             0000885C  38516 38534*
TBLACC_STEP_SPMAK_300            P             00008868  38525 38542*
TBLACC_STEP_SPMAK_400            P             00008888  38432 38521 38539 38563*
TBLACC_STEP_SPMAK_500            P             00008896  38487 38552 38577*
TBLACC_STEP_SPMAK_CNST050        P             000087F8  38463 38474*
TBLACC_STOPSP_MK500              P             0000879C  38345 38388*
TEPA_ADDLSI_010                  P             00002BE4  16236 16251*
TEPA_ADDLSI_020                  P             00002BEC  16240 16254 16259*
TEPA_ADDLSI_025                  P             00002C00  16219 16275*
TEPA_ADDLSI_030                  P             00002C10  16229 16242 16256 16286*
TEPA_ADDLSI_EXT                  P             00002C58  16277 16292 16303 16315 16346*
TEPA_PLSCNTCHK_050               P             00002B8E  16165 16173*
TEPA_PLSCNTCHK_100               P             00002B94  16159 16171 16179*
TEPA_STARTCHK_050                P             00002B0C  16016 16018*
TEPA_STARTCHK_END                P             00002B30  16025 16041*
TEPA_STARTCHK_NG                 P             00002B12  16005 16011 16022*
TEPA_STARTCHK_OK                 P             00002B28  16021 16035*
TEP_1STEP_DATMK1_050             P             000029F0  15733 15747*
TEP_1STEP_DATMK1_070             P             000029F4  15736 15750*
TEP_1STEP_DATMK1_080             P             000029FA  15720 15728 15738 15749 15756*
TEP_1STEP_DATMK1_100             P             00002A32  15813 15815*
TEP_ADD_PLSMK_020                P             00002962  15638 15640*
TEP_ADD_PLSMK_030                P             0000296A  15634 15645*
TEP_ADD_PLSMK_050                P             00002976  15654 15656*
TEP_ADD_PLSMK_100                P             00002980  15660 15662*
TEP_ADD_PLSMK_150                P             00002986  15665 15667*
TEP_SPD_CALCCOM_100              P             00002CEC  16459 16461*
TEP_SPD_CALCCOM_200              P             00002CFA  16471 16473*
TEP_SPD_CALCCOM_300              P             00002D04  16481 16483*
TEP_SPD_CALCCOM_400              P             00002D0E  16491 16493*
TEP_SYS_SET080                   P             00002D9A  16613 16615*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   626

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

TEP_SYS_SET100                   P             00002DAA  16625 16627*
TEP_SYS_SET200                   P             00002DC2  16642 16644*
TYP1_OPEN_PRC_050                P             0000417C  21583 21588*
TYP1_OPEN_PRC_200                P             000041C0  21575 21594 21602 21622*
UPPLS1_OBJMAK_COM_145            P             00000B12   9227  9262*
UPPLS1_OBJMAK_COM_150            P             00000B14   9261  9264*
UPPLS1_OBJMAK_COM_300            P             00000B34   9268  9287*
UPPLS1_OBJMAK_COM_400            P             00000B48   9291  9296  9298*
UPPLS1_OBJMAK_COM_500            P             00000B4A   9272  9277  9280  9300*
UPPLS1_OBJMAK_COM_600            P             00000B54   9304  9306*
UPPLS1_OBJMAK_COM_750            P             00000B7C   9341  9343*
USE_IN_TBLMV_100LOP              P             00007ED8  36623*36632 
USE_IN_TBLMV_500                 P             00007EF8  36626 36641*
VMODE_LOT_SIG_ON                 P             000059D2  27628 27633*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3425 21091 21149 30216 
_ABS_OUT_PLS_SPD                          IMPT 00000000   3435 21040 
_ACCBRK1_SV_MAKE                 P             000067B8  29494 30971*33470 
_ACCBRK1_SV_MAK_OVR              P             000067E0  29542 31001*
_ACCBRK2_SV_MAKE                 P             0000680C  29498 31039*33474 
_ACCB_ACCLAT_TIM1                         IMPT 00000000  35638 36667 
_ACCERR_ACC_HENSA                         IMPT 00000000   4442 
_ACCERR_ACC_OBJ                           IMPT 00000000   4441 
_ACCERR_ACC_PV                            IMPT 00000000   4440 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4451 
_ACCERR_ERR_CNT                           IMPT 00000000   4443 
_ACCESS_ERR1                              IMPT 00000000   3521 25313 
_ACCLAT1_SV_MAK_COM              P        EXPT 00006720  30776 30793 30821*30980 31012 31048 
_ACCLAT1_SV_MAK_OVR              P             000066EC  29538 30782*
_ACC_ANS_ACCDAT                           IMPT 00000000  35633 37774 37807 37930 38009 39805 
_ACC_CALC_SPD                             IMPT 00000000  35783 37985 38210 
_ACC_CALC_SPDX                            IMPT 00000000  35782 37978 38197 
_ACC_CALC_TIM                             EQU  000003E8  35607*37578 
_ACC_CTRL_STS1                            IMPT 00000000  35625 37659 37793 38000 39564 
_ACC_CTRL_STS2                            IMPT 00000000  35626 37779 37795 38478 39362 
_ACC_INF1_STEP001                         IMPT 00000000  35665 36292 37067 
_ACC_INF1_STEP002                         IMPT 00000000  35666 37084 
_ACC_INF1_STEP003                         IMPT 00000000  35667 37099 
_ACC_INF1_STEP004                         IMPT 00000000  35668 37114 
_ACC_INF1_STEP005                         IMPT 00000000  35669 37130 
_ACC_INF1_STEP006                         IMPT 00000000  35670 37145 
_ACC_INF1_STEP007                         IMPT 00000000  35671 37160 
_ACC_INF1_STEP008                         IMPT 00000000  35672 37175 
_ACC_INF1_STEP009                         IMPT 00000000  35673 37190 
_ACC_INF1_STEP010                         IMPT 00000000  35674 37205 
_ACC_INF1_STEP011                         IMPT 00000000  35675 37220 
_ACC_INF1_STEPSP01                        IMPT 00000000  35651 36296 37066 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   627

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_INF1_STEPSP02                        IMPT 00000000  35652 37083 
_ACC_INF1_STEPSP03                        IMPT 00000000  35653 37098 
_ACC_INF1_STEPSP04                        IMPT 00000000  35654 37113 
_ACC_INF1_STEPSP05                        IMPT 00000000  35655 37129 
_ACC_INF1_STEPSP06                        IMPT 00000000  35656 37144 
_ACC_INF1_STEPSP07                        IMPT 00000000  35657 37159 
_ACC_INF1_STEPSP08                        IMPT 00000000  35658 37174 
_ACC_INF1_STEPSP09                        IMPT 00000000  35659 37189 
_ACC_INF1_STEPSP10                        IMPT 00000000  35660 37204 
_ACC_INF1_STEPSP11                        IMPT 00000000  35661 37219 
_ACC_INFO_CHNAGE_TBL_MAK         P             00007EFE  36517 36548 36657*
_ACC_IN_TBLUSE                            IMPT 00000000  35773 36621 37064 37081 37096 37111 37127 37142 37157 37172 37187 37202 
                                                         37217 
_ACC_IN_TBL_TIM                           IMPT 00000000  35772 36617 37065 37082 37097 37112 37128 37143 37158 37173 37188 37203 
                                                         37218 
_ACC_LAST_POINT                           IMPT 00000000  35620 37664 37724 37812 
_ACC_LAST_SPD                             IMPT 00000000  35616 37839 37937 37955 
_ACC_MONITOR_DAT1                         IMPT 00000000   4254 37809 
_ACC_MONITOR_DAT2                         IMPT 00000000   4255 37818 
_ACC_MONITOR_DAT3                         IMPT 00000000   4256 37827 
_ACC_MONITOR_DAT4                         IMPT 00000000   4257 37832 
_ACC_MONITOR_DAT5                         IMPT 00000000   4258 
_ACC_MONITOR_DAT6                         IMPT 00000000   4259 37846 
_ACC_MONITOR_DAT7                         IMPT 00000000   4260 37856 
_ACC_MONITOR_DAT8                         IMPT 00000000   4261 37866 
_ACC_NUMBER_SELTBL1              P             000088AC  38329 38606*
_ACC_NUMBER_SELTBL2              P             000088D4  38423 38637*
_ACC_PER_V_MAX                            EQU  00002710  35606*37352 37426 37578 38730 38792 38860 38983 
_ACC_POSCTL_RL_SPDX                       IMPT 00000000  35785 38131 38444 39373 
_ACC_POSCTL_SV_DN_ACCX                    IMPT 00000000  35787 38160 39399 
_ACC_POSCTL_SV_SPDX                       IMPT 00000000  35784 38116 39371 
_ACC_POSCTL_SV_UP_ACCX                    IMPT 00000000  35786 38146 39380 
_ACC_POS_STEP                             IMPT 00000000  35628 37697 37913 
_ACC_REST_ABS_PLS                         IMPT 00000000   4211 35537 38056 
_ACC_REST_ABS_PLSX                        IMPT 00000000  35781 38100 38336 
_ACC_REST_FLG                             IMPT 00000000   4212 35555 38061 38096 38834 38921 
_ACC_REST_INFO_MAKE              P             00007C24  35032 35505*39463 
_ACC_STEP001_ACTM                         IMPT 00000000  35711 37069 37071 37086 
_ACC_STEP001_VTBL                         IMPT 00000000  35695 37068 37070 37085 
_ACC_STEP002_ACTM                         IMPT 00000000  35712 37088 37101 
_ACC_STEP002_VTBL                         IMPT 00000000  35696 37087 37100 
_ACC_STEP003_ACTM                         IMPT 00000000  35713 37103 37116 
_ACC_STEP003_VTBL                         IMPT 00000000  35697 37102 37115 
_ACC_STEP004_ACTM                         IMPT 00000000  35714 37118 37132 
_ACC_STEP004_VTBL                         IMPT 00000000  35698 37117 37131 
_ACC_STEP005_ACTM                         IMPT 00000000  35715 37134 37147 
_ACC_STEP005_VTBL                         IMPT 00000000  35699 37133 37146 
_ACC_STEP006_ACTM                         IMPT 00000000  35716 37149 37162 
_ACC_STEP006_VTBL                         IMPT 00000000  35700 37148 37161 
_ACC_STEP007_ACTM                         IMPT 00000000  35717 37164 37177 
_ACC_STEP007_VTBL                         IMPT 00000000  35701 37163 37176 
_ACC_STEP008_ACTM                         IMPT 00000000  35718 37179 37192 
_ACC_STEP008_VTBL                         IMPT 00000000  35702 37178 37191 
_ACC_STEP009_ACTM                         IMPT 00000000  35719 37194 37207 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   628

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_STEP009_VTBL                         IMPT 00000000  35703 37193 37206 
_ACC_STEP010_ACTM                         IMPT 00000000  35720 37209 37222 
_ACC_STEP010_VTBL                         IMPT 00000000  35704 37208 37221 
_ACC_STEP011_ACTM                         IMPT 00000000  35721 37224 
_ACC_STEP011_VTBL                         IMPT 00000000  35705 37223 
_ACC_STEP01_TBL_TOP              P             00008058  36514 37047 37062*
_ACC_STEP02_TBL_TOP              P             0000808C  37048 37080*
_ACC_STEP03_TBL_TOP              P             000080C0  37049 37095*
_ACC_STEP04_TBL_TOP              P             000080F4  37050 37110*
_ACC_STEP05_TBL_TOP              P             00008128  37051 37126*
_ACC_STEP06_TBL_TOP              P             0000815C  37052 37141*
_ACC_STEP07_TBL_TOP              P             00008190  37053 37156*
_ACC_STEP08_TBL_TOP              P             000081C4  37054 37171*
_ACC_STEP09_TBL_TOP              P             000081F8  37055 37186*
_ACC_STEP10_TBL_TOP              P             0000822C  37056 37201*
_ACC_STEP11_TBL_TOP              P             00008260  37057 37216*
_ACC_STEP_FLG                             IMPT 00000000  35624 37655 37717 37799 38428 38508 38549 38572 
_ACC_STEP_INF_MAKE1              P             00007DE8  36093 36279*
_ACC_STEP_NUMBER                          IMPT 00000000  35632 37926 38420 38449 
_ACC_STEP_POINT                           IMPT 00000000  35622 37653 37715 37830 38437 38504 38518 38536 
_ACC_STEP_SPD                             IMPT 00000000  35618 37859 37967 38578 
_ACC_STOP001_ACTM                         IMPT 00000000  35755 37073 37075 37090 
_ACC_STOP001_PTBL                         IMPT 00000000  35742 37076 
_ACC_STOP001_VTBL                         IMPT 00000000  35728 37072 37074 37089 
_ACC_STOP002_ACTM                         IMPT 00000000  35756 37092 37105 
_ACC_STOP002_PTBL                         IMPT 00000000  35743 37093 
_ACC_STOP002_VTBL                         IMPT 00000000  35729 37091 37104 
_ACC_STOP003_ACTM                         IMPT 00000000  35757 37107 37120 
_ACC_STOP003_PTBL                         IMPT 00000000  35744 37108 
_ACC_STOP003_VTBL                         IMPT 00000000  35730 37106 37119 
_ACC_STOP004_ACTM                         IMPT 00000000  35758 37122 37136 
_ACC_STOP004_PTBL                         IMPT 00000000  35745 37123 
_ACC_STOP004_VTBL                         IMPT 00000000  35731 37121 37135 
_ACC_STOP005_ACTM                         IMPT 00000000  35759 37138 37151 
_ACC_STOP005_PTBL                         IMPT 00000000  35746 37139 
_ACC_STOP005_VTBL                         IMPT 00000000  35732 37137 37150 
_ACC_STOP006_ACTM                         IMPT 00000000  35760 37153 37166 
_ACC_STOP006_PTBL                         IMPT 00000000  35747 37154 
_ACC_STOP006_VTBL                         IMPT 00000000  35733 37152 37165 
_ACC_STOP007_ACTM                         IMPT 00000000  35761 37168 37181 
_ACC_STOP007_PTBL                         IMPT 00000000  35748 37169 
_ACC_STOP007_VTBL                         IMPT 00000000  35734 37167 37180 
_ACC_STOP008_ACTM                         IMPT 00000000  35762 37183 37196 
_ACC_STOP008_PTBL                         IMPT 00000000  35749 37184 
_ACC_STOP008_VTBL                         IMPT 00000000  35735 37182 37195 
_ACC_STOP009_ACTM                         IMPT 00000000  35763 37198 37211 
_ACC_STOP009_PTBL                         IMPT 00000000  35750 37199 
_ACC_STOP009_VTBL                         IMPT 00000000  35736 37197 37210 
_ACC_STOP010_ACTM                         IMPT 00000000  35764 37213 37226 
_ACC_STOP010_PTBL                         IMPT 00000000  35751 37214 
_ACC_STOP010_VTBL                         IMPT 00000000  35737 37212 37225 
_ACC_STOP011_ACTM                         IMPT 00000000  35765 37228 
_ACC_STOP011_PTBL                         IMPT 00000000  35752 37229 
_ACC_STOP011_VTBL                         IMPT 00000000  35738 37227 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   629

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_STOP_NUMBER                          IMPT 00000000  35631 37923 38325 
_ACC_STOP_POINT                           IMPT 00000000  35621 37666 37726 37821 38389 
_ACC_STOP_SPD                             IMPT 00000000  35617 37849 37957 38391 
_ACC_STR_STEP                             IMPT 00000000  35629 37657 37702 
_ACC_TBL_CAL_IN_TOP              P             0000802C  36531 37046*38613 38644 
_ACC_TBL_MAKE1                   P             00007E82  36100 36433*
_ACC_TBL_MAKPLS1_SUB             P             000083A0  37025 37526*
_ACC_TBL_MAKSPD1_SUB             P             00008294  36771 36940 37265*
_ACC_UNIT                                 EQU  000003E8   6070*35433 
_ADDR56_R12_ANS_R12_LIMIT_MAX_MI*P             00000D40   8982  9741*
_ANTI_OF                                  IMPT 00000000   5472 
_ANTI_ON                                  IMPT 00000000   5471 
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6185 14131 14612 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6184 
_API_ENDHAND_SIGCHK              P        EXPT 00006EA4  32657 32662*
_API_IVW_CYC_END                          IMPT 00000000   6177 12768 17146 
_API_IVW_CYC_START                        IMPT 00000000   6176 12428 19714 
_API_SETACC_INFO_GET             P        EXPT 00007D70  36133 36142*
_API_SETACC_STS_CLR              P             00007DC0  36032 36235*
_API_SETACC_STS_END              P        EXPT 00007DAC  36205 36207*
_AREACHK_0DIG_TO_180             P             00000CE0   9581  9640*
_AUTO_OF                                  IMPT 00000000   5474 
_AUTO_ON                                  IMPT 00000000   5473 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3668 13320 28181 
_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3661 
_BANK2_CPOS_ABS_POS_SET                   IMPT 00000000   6165 28185 28252 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3666 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3665 28237 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3662 
_BANK2_TO_BANK1_MOV                       IMPT 00000000   6166 28234 
_BANK_CHK_NEXT_CYCL_STR1         P             00005C64  12550 27650 28218*
_BANK_CNT_STEP_NEXT_CHK          P             000058D4  11780 11813 27417*
_BANK_CNT_STOP_CHK_TYP1          P             00005D3C  12631 27714 28403*
_BANK_LENGH_ADD_CALC_SV_TYPE     P             00002EB4  16891*28129 
_BASE_TIM010MS                            IMPT 00000000   2483 
_BASE_TIM100MS                            IMPT 00000000   2484 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4427 
_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4426 
_BBN_MESURE_POINT                         IMPT 00000000   4421 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4411 
_BBN_MESURE_PSPD                          IMPT 00000000   4413 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4412 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4407 
_BBN_MESURE_SSPD                          IMPT 00000000   4409 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4408 
_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4425 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4419 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4416 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4418 
_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4415 
_BBN_SET_TIME                             IMPT 00000000   4422 
_BKTMCL_ACCDAT                            IMPT 00000000   4613 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4614 
_BKTMCL_ACCPOINT                          IMPT 00000000   4616 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   630

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4630 
_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4638 
_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4637 
_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4643 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4644 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4645 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4640 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4648 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4649 
_BKTMCL_ENC_DIR                           IMPT 00000000   4621 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4620 
_BKTMCL_POINTMAX                          IMPT 00000000   4617 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4632 
_BKTMCL_SPDBUF                            IMPT 00000000   4612 
_BKTMCL_STOP_SPD                          IMPT 00000000   4636 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4629 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4631 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4625 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4626 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4628 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3414 
_BRK1_CHKDLY_TM                           IMPT 00000000   3402 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3410 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3409 
_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3408 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3407 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3405 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3406 
_BRK1_SV_DN_ACC                           IMPT 00000000   3413 30984 31016 
_BRK2_CHKDLY_TM                           IMPT 00000000   3403 
_BRK2_SV_DN_ACC                           IMPT 00000000   3415 30222 31052 
_BRKTST_AREA_SIG                          IMPT 00000000   4152 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4162 
_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4163 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4160 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4161 
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4142 
_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4155 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4154 
_BRKTST_INPUT_CMD                         IMPT 00000000   4145 24871 25004 25191 
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4157 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4156 
_BRKTST_MOD_FLG                           IMPT 00000000   4140 10024 
_BRKTST_OBJ_MAKE                 P             0000726C  33203 33371*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4141 33427 
_BRKTST_POS_CTL                  P             00006FEC  10031 32943*
_BRKTST_POS_START                P        EXPT 00007144  32940 33189*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4149 33492 
_BRKTST_STR_FLG                           IMPT 00000000   4150 33326 
_BRKTST_SW_IN                             IMPT 00000000   4151  9156 
_BRK_CHK_COM                              IMPT 00000000   3399 
_BRK_CHK_FLG                              IMPT 00000000   3400 
_BRK_ERR_CHK_START4                       IMPT 00000000   6159 11684 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6155 10489 12709 14072 15524 27760 33051 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   631

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BTTN_FLG                                 IMPT 00000000   2551 16007 16167 31627 
_BTTN_ON_TIME                             IMPT 00000000   3691 
_BVLV_CTL_FLG                             IMPT 00000000   4799 
_BVLV_CTL_ON                              IMPT 00000000   4800 
_BVLV_START_IN                            IMPT 00000000   4803 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3172 21736 22441 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2897 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2896 
_CALC_MISS_FLG1                           IMPT 00000000   3774 28903 28937 28971 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2078* 9765  9774  9808 
_CALC_PLS_MMIN_L32                        EQU  00000001   2079* 9763  9773  9809 
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2074* 9755  9760  9802 
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2075* 9753  9759  9803 
_CALC_ROT_MAX                             EQU  60000000   2070*
_CAM_1STEP_END_SIG1              P             00003C90  12104 20335*
_CAM_1STEP_END_SIG2              P             00003CB4  12317 20361*
_CAM_CNT_CHG_FLG                          IMPT 00000000   3271 10182 11022 12398 12541 13539 27733 32992 
_CAM_CTL_STEP                             IMPT 00000000   2627 
_CAM_DT_FLG                               EQU  0000000E   2188*
_CAM_INF_D1                               EQU  00000010   2189*
_CAM_INF_D2                               EQU  00000012   2190*
_CAM_NOW_DIG                              IMPT 00000000   3268 
_CAM_OF_DGT                               EQU  0000000C   2187*
_CAM_OF_DIG                               EQU  00000008   2184* 2185 
_CAM_OF_DIR                               EQU  0000000A   2186*
_CAM_OF_STP                               EQU  00000006   2183*
_CAM_OF_TIM                               EQU  00000008   2185*
_CAM_OLD_DIG                              IMPT 00000000   3269 
_CAM_ON_DIG                               EQU  00000002   2181*
_CAM_ON_DIR                               EQU  00000004   2182*
_CAM_ON_STP                               EQU  00000000   2180*
_CAM_OUTPUT_DT                            IMPT 00000000   3262 
_CAM_OUTPUT_SW                            IMPT 00000000   3260 
_CAM_POS_CTL_STEP                         IMPT 00000000   3270 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3027 20345 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3028 20371 
_CAM_SELECT_SW                            IMPT 00000000   3261 
_CAM_START_FLG                            IMPT 00000000   3263 
_CAM_START_MODE                           IMPT 00000000   3264 
_CAM_STEP_MAX                             IMPT 00000000   3267 
_CAM_STEP_NO                              IMPT 00000000   3265 
_CAM_STEP_NO_OLD                          IMPT 00000000   3266 
_CAM_STRCUT                               EQU  00000014   2179*
_CBSTS_LOAD_FLG                           IMPT 00000000   4562 
_CBSTS_SAVE_CMDWK                         IMPT 00000000   4570 
_CBSTS_SAVE_DAT                           IMPT 00000000   4579 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_ERR_INFO_MEM                          EQU  00000080    138*25600 
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_INT_START_OK                          IMPT 00000000   2480 
_CB_IN_HANYO                              IMPT 00000000   4838 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   632

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CB_SEQ_CB_COM340                         IMPT 00000000   3013 12137 
_CB_SEQ_CB_COM345                         IMPT 00000000   3016 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5433 
_CB_SEQ_CB_COM346                         IMPT 00000000   3017  9845 29022 29064 29358 
_CB_SEQ_CB_COM347                         IMPT 00000000   3018 
_CB_SEQ_CB_COM348                         IMPT 00000000   3019 
_CB_SEQ_CB_COM349                         IMPT 00000000   3020  8641  9136 23616 32285 
_CB_SEQ_CB_COM350                         IMPT 00000000   3022 
_CB_SEQ_CB_COM351                         IMPT 00000000   3023 24384 
_CB_SEQ_CB_COM352                         IMPT 00000000   3024 
_CB_SEQ_CB_COM356                         IMPT 00000000   5285  8690 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3014  6764  7626  7715  7785  7865 15650 33585 33648 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3015  7707  7777  7858  7961  8070 
_CB_SEQ_SW_SEL022                         IMPT 00000000   3008 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3009 
_CB_SEQ_SW_SEL028                         IMPT 00000000   3010 12497 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3011 
_CB_SEQ_SW_SEL058                         IMPT 00000000   4888 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_ACCTBL1_CNT                       IMPT 00000000  35825 36614 
_CB_SYS_ACCTBL1_IN_TOP                    IMPT 00000000  35826 36615 
_CB_SYS_ACCTBL2_CNT                       IMPT 00000000  35827 
_CB_SYS_ACCTBL2_IN_TOP                    IMPT 00000000  35828 
_CB_SYS_ACCTBL3_CNT                       IMPT 00000000  35829 
_CB_SYS_ACCTBL3_IN_TOP                    IMPT 00000000  35830 
_CB_SYS_DNMTBL1_CNT                       IMPT 00000000  35823 
_CB_SYS_DNMTBL1_DATA_TOP                  IMPT 00000000  35824 
_CB_SYS_PARAM000                          IMPT 00000000   6213  7064  7194  7211  7256 14316 16609 16621 16638 21702 22343 22368 
                                                         22552 23558 23831 23840 24215 24287 24335 24393 32155 32215 32292 
_CB_SYS_PARTBL001                         IMPT 00000000  35811 
_CB_SYS_PARTBL002                         IMPT 00000000  35812 
_CB_SYS_PARTBL003                         IMPT 00000000  35813 
_CB_SYS_PARTBL004                         IMPT 00000000  35814 
_CB_SYS_PARTBL005                         IMPT 00000000  35815 
_CB_TIME                                  EQU  0000000A   1997* 2010  2011  2012  2017 
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3513  6606 33246 
_CGRF_GENSOK_LNG1                         EQU  00000014  26894*
_CGRF_SYNC_ERR                            EQU  00000020  26899*
_CGRF_SYNC_STS                            EQU  0000001E  26898*
_CGRF_iADD_PLS                            EQU  00000010  26893*
_CGRF_iNOW_STEP                           EQU  0000001C  26897*
_CGRF_iSTEP_FRQ                           EQU  00000018  26895*
_CGRF_iSTEP_PV_PLS                        EQU  00000004  26890*
_CGRF_iSTEP_REST                          EQU  00000008  26891*
_CGRF_iSTEP_SV_PLS                        EQU  00000000  26889*
_CGRF_iSTEP_TIM                           EQU  0000001A  26896*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   633

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CGRF_iTOTAL_PLS                          EQU  0000000C  26892*
_CGRF_yADD_PLS                            EQU  00000034  26905*
_CGRF_yNOW_STEP                           EQU  0000003E  26908*
_CGRF_ySTEP_FRQ                           EQU  00000038  26906*
_CGRF_ySTEP_PV_PLS                        EQU  00000028  26902*
_CGRF_ySTEP_REST                          EQU  0000002C  26903*
_CGRF_ySTEP_SV_PLS                        EQU  00000024  26901*
_CGRF_ySTEP_TIM                           EQU  0000003C  26907*
_CGRF_yTOTAL_PLS                          EQU  00000030  26904*
_CHG_LSI_LATE_TO_PLS             P        EXPT 00006834   6272 24307 24355 24427 31093*
_CHG_STEP_INFO_MAKE_1STEP_END    P             00005498  25950 25994*
_CHG_STEP_INFO_MAKE_2STEP_END    P             00005510  25965 26080*
_CHG_STEP_INFO_MAKE_ESTEP_AFTER  P             000053E0  25843*27765 
_CHG_STEP_INFO_MAKE_ESTEP_BEFOR  P             00005368  25756*27597 
_CHG_STEP_INFO_MAKE_STEP_DAT     P             000052C4  13548 25638*27601 27769 
_CHG_STEP_INFO_MAKE_STEP_END     P             00005458  13544 25933*
_CHKPOSANSDIG                             IMPT 00000000   4733 
_CHKPOSWORK1                              IMPT 00000000   4720 
_CHKPOSWORK2                              IMPT 00000000   4721 
_CHKPOSWORKANS                            IMPT 00000000   4726 
_CHKSPDANSPER                             IMPT 00000000   4725 
_CHKSPDPERWORK1                           IMPT 00000000   4728 
_CHKSPDPERWORK2                           IMPT 00000000   4729 
_CHKSPDPOSINFO                            IMPT 00000000   4731 
_CHKSPDPOSOFS                             IMPT 00000000   4732 
_CHKSPDWORK1                              IMPT 00000000   4718 
_CHKSPDWORK2                              IMPT 00000000   4719 
_CHKSPDWORKANS                            IMPT 00000000   4722 
_CHKSPDWORKTMAX                           IMPT 00000000   4724 
_CHKSPDWORKVMAX                           IMPT 00000000   4723 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4251 24665 24670 25075 25611 
_CHK_CLK_SIG                              IMPT 00000000   4764 
_CHK_DNM_SPEC_MOD1                        IMPT 00000000   6086 10079 30886 35907 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   4000 20015 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   3999 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   3216 
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2763 20464 20504 
_CLS_KJYU_PLS_CHANGE             P             000048F6  23306*23484 
_CLS_POS_LENGTH_ADD_DATA         P             00004702  22855*23120 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2762 20459 20494 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3580 26448 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3574 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3577 26439 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3571 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3579 26445 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3573 
_CMP2_NOW_NG_CNT                          IMPT 00000000   3581 26451 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3575 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3578 26442 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3572 
_CMPAB_NEAR_END_PROC                      IMPT 00000000   6133 11962 21597 21800 
_CMPAB_STEP_END_PROC                      IMPT 00000000   6134 12288 14385 14557 
_CMPCYC_END_CLR                           IMPT 00000000   6144 
_CMPCYC_START_CLR                         IMPT 00000000   6143  6619 27740 33259 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   634

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CMPEMG_EXQ_FLG_CLR                       IMPT 00000000   6146 
_CMPSTEP_CNT_STOP                         IMPT 00000000   2671 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2667 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2666 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2670 
_CMPSTEP_POS_START                        IMPT 00000000   2668 
_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2669 
_CMPSTEP_STEP_END                         IMPT 00000000   2672 12233 32621 32666 
_CMPSTP_CNT_STOP_CLR                      IMPT 00000000   6141  6623 33263 
_CMPSTP_CTRL_BUSY_CLR                     IMPT 00000000   6137 
_CMPSTP_CTRL_REDY_CLR                     IMPT 00000000   6136 
_CMPSTP_NEAR_ZERO_CLR                     IMPT 00000000   6140 12009 
_CMPSTP_POS_START_CLR                     IMPT 00000000   6138 
_CMPSTP_SFTY_AUTO_CLR                     IMPT 00000000   6139 
_CMPSTP_STEP_END_CLR                      IMPT 00000000   6142 12309 14401 14573 
_CMP_BRK2_CTLGENSOK              P        EXPT 00006470  30170 30184*
_CMP_CNT_CTLGENSOK               P             000063FC  28498 30099*
_CMP_ERR_CHK_STSA                         IMPT 00000000   2880 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2881 
_CMP_ERR_STEP_A                           IMPT 00000000   2886 
_CMP_ERR_STEP_B                           IMPT 00000000   2887 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2882 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2883 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2884 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2885 
_CMP_ERR_STS_REF                 P             00003DAC  20547*
_CMP_ERR_TIM1                             IMPT 00000000   2583 
_CMP_HOLD_CTLGENSOK              P        EXPT 000064CC  30256 30257*
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3684 27399 
_CMP_POSLSI_CTLGENSOK            P             000063A0  30025*35111 39585 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3889 
_CMP_RECOVER_FLG                          IMPT 00000000   3994 28518 
_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3685 27402 
_CMP_SPD_REST_PLSCHKCOM          P             00007BC4  30068 30151 30226 30302 35403*
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2585 
_CNTREST_HOS_RESET               P        EXPT 00006C2C   6600 32059 32066*33240 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3671 28711 
_CNT_BEF_LOT_SIGCHK              P             00005D1C   6984 28264 28370*
_CNT_GPOINT_STOP_TYP2            P             00005D94  27567 28478*
_CNT_GRF_1BLOCK                           EQU  00000040  26888*
_CNT_GRF_I_DATA                           IMPT 00000000   5426 
_CNT_GRF_MAX                              EQU  000000C8  26886*
_CNT_GRF_POINT                            IMPT 00000000   5428 26539 
_CNT_GRF_Y_DATA                           IMPT 00000000   5427 
_CNT_HOSEI_CHK_CALC              P             00006B28  10904 31774*
_CNT_HOS_DT_MAK                  P             000057C8  26706*
_CNT_NEAR_TIM_CHK                P             00001CFC  13027*
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3938 11861 26633 
_CNT_REST_CHK_CLR                P             00005740  26456 26601*
_CNT_REST_HOSEI_SPD_TYP          P             00006C0C  32039*34897 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3677 32008 32012 32048 32075 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3678 32006 32043 32072 
_CNT_SPD_SET                     P             00005BD8  27681 27997 28093*
_CNT_STOP_CMD                             IMPT 00000000   2506 31635 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   635

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CNT_STOP_CMD_BEF1                        IMPT 00000000   4388 28375 
_CNT_STOP_CMD_DATA_SUB1          P             00005EA4  28435 28580 28751*
_CNT_STOP_CMD_DATA_SUB2          P             00005EFC  28584 28811*
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3658  6596 27502 27559 28408 28445 28590 33236 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5341 
_CNT_STOP_LNGTH                           IMPT 00000000   3664 
_CNT_STOP_WAIT_TIM                        IMPT 00000000   5340 12240 12284 
_CNT_SUB_DATA_CALC               P             00005E44  28423 28489 28671*
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3953 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3954 26623 31997 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3936 26630 
_CNT_SYNC_HOS_CALC               P             000057D0  26723*
_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3955 26636 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3950 26614 32014 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3951 26617 31860 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3952 26620 26679 
_CNT_SYNC_HOS_SPD_TYP            P             00006B30  31855*
_CNT_SYNC_STS_FLG                         IMPT 00000000   3937 26627 
_CNT_VMODE_NEXT_CYCL_START       P             0000599C  27543 27592*
_CONT_MOD_CNT_PV                          IMPT 00000000   3084 
_CONT_MOD_TIM_PV                          IMPT 00000000   3086 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3670 28524 28717 28756 28815 30108 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3331 
_COP_DIG_SIG_FLG                          IMPT 00000000   3330 
_COP_OLD_ENC3600                          IMPT 00000000   3349 
_CPOS_ABS_POS_SET                         IMPT 00000000   6097 13338 28319 
_CPOS_BANK_USELFUL                        IMPT 00000000   3657 10324 11772 11807 12592 28175 28223 
_CPOS_CTL_MATH                            IMPT 00000000   2747  6490  7098 10299 11653 12586 12973 13163 13219 13311 13454 15715 
                                                         19684 19759 24864 24996 25184 28296 
_CPOS_DND_DIGTOP                          IMPT 00000000   3766 14723 14733 14757 14767 
_CPOS_DND_PLSTOP                          IMPT 00000000   3767 14875 14887 
_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3765 14661 14692 
_CPOS_DND_STOP_SW                         IMPT 00000000   3763  7431 14505 14580 14649 14685 14852 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3764 14651 14687 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4823 24019 
_CPOS_INI1_DTMOV1                         IMPT 00000000   6094  6568 
_CPOS_INI1_DTMOV2                         IMPT 00000000   6095  6876 32510 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4825 24026 
_CPOS_MOD_FLG1                            IMPT 00000000   2746 12256 27483 27519 27673 
_CPOS_ROT_NUM_SET                         IMPT 00000000   6096 13331 28244 28312 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2744 13428 23190 32875 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3659 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2741 12387 23237 23368 27426 28046 
_CPOS_SDAT1_INF1                          IMPT 00000000   2742 11207 13437 22984 
_CPOS_SDAT1_NUM                           IMPT 00000000   2743 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2738 13145 
_CPOS_SDAT1_SPD                           IMPT 00000000   2739 11090 11172 11430 13528 28101 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2745 11108 11196 11447 27445 27862 27936 27974 28678 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3660 27867 27941 27978 
_CPOS_SDAT1_TIM                           IMPT 00000000   2740 12028 23946 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2766 
_CPOS_SDAT1_UP_POS                        IMPT 00000000   2767 32856 
_CPOS_SPD_DTMOV                           IMPT 00000000   6098 13344 28332 
_CPOS_STEP_MAX                            IMPT 00000000   2748 11313 12059 12389 13498 21535 23416 24007 27428 28048 28676 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   636

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPOS_TIM_DTMOV                           IMPT 00000000   6099 13349 28337 
_CPOS_UPAREA_PLS                          IMPT 00000000   2761 13138 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5064 
_CPUA_PLS_OUTF                            IMPT 00000000  20564 20588 
_CPUBX_MEM1_BUF                           IMPT 00000000   5442 
_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5441 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5440 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5451 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5453 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5452 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5448 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5449 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5447 
_CPUB_GET_CPUA_OBJPOS            P             000062D8  29760*
_CPUB_HENSA_FLG_CLR                       IMPT 00000000   6479  6516 21958 22069 22122 22211 
_CPUB_PARAM_ERR_NO                        IMPT 00000000   5162 
_CPUB_PLS_OUTF                            IMPT 00000000  20565 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5161 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5444 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5443 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5055 
_CPUD_CHK_TIME                            IMPT 00000000   5056 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5151 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5152 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   5519 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   5515 
_CPU_AB_BSY_ON_OUT                        IMPT 00000000   5517 
_CPU_AB_CED_OF_JG                         IMPT 00000000   5582 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   5578 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   5580 
_CPU_AB_CST_OF_JG                         IMPT 00000000   5571 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   5565 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   5566 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   5568 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   5569 27606 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   5597 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   5596 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   5537 
_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   5538 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   5557 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   5553 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   5555 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   5508 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   5504 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   5506 
_CPU_AB_STR_OF_JG                         IMPT 00000000   5530 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   5526 
_CPU_AB_STR_ON_OUT                        IMPT 00000000   5528 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   5516 
_CPU_BA_BSY_ON_JG                         IMPT 00000000   5518 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   5579 
_CPU_BA_CED_ON_JG                         IMPT 00000000   5581 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   5567 
_CPU_BA_CST_ON_JG                         IMPT 00000000   5570 28510 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   637

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   5599 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   5598 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   5540 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   5539 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   5554 
_CPU_BA_NZR_ON_JG                         IMPT 00000000   5556 11879 21578 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   5505 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   5507 
_CPU_BA_STEP_LOAD                         IMPT 00000000   5589 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   5527 
_CPU_BA_STR_ON_JG                         IMPT 00000000   5529 
_CPU_CTRL_CLK                             IMPT 00000000   6083 25696 25803 25890 26041 26127 
_CPU_SV_HAND_IN                           IMPT 00000000   2508 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2509 
_CPU_SV_HAND_OUT                          IMPT 00000000   2511 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3956 26365 26639 
_CTL_ENC360                               IMPT 00000000   2520  7621 33376 
_CTL_ENC360_OLD                           IMPT 00000000   4040 
_CYCLE_SPD1                               IMPT 00000000   6282 16646 32295 
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4298 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4299 
_CYCLE_TIME_DAT                           IMPT 00000000   3000 
_CYCLE_TIME_FLG                           IMPT 00000000   3002 
_CYCLE_TIME_PV                            IMPT 00000000   3001 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6118 
_CYCLE_TIME_REFLASH_END                   IMPT 00000000   6117 19754 
_CYCLE_TIME_REFLASH_START                 IMPT 00000000   6116 19700 
_CYCL_DOWN_POS_REF               P             00003AC0  19798 19840*
_CYCL_DSP_CNT_PV                          IMPT 00000000   3465 19873 
_CYCL_DSP_DISENB                          IMPT 00000000   3464 
_CYCL_START_CNT                           IMPT 00000000   2764 20444 
_CYC_END_POS_FLG_CLR             P        EXPT 00003068  10610 17008 17218 17219*
_CYC_END_POS_FLG_SET             P             0000307C  10606 17246*
_DAIHAI_CALC_WORK1                        IMPT 00000000   4339 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4348 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4350 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4351 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4352 
_DAIHAI_CALC_WORK2                        IMPT 00000000   4340 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4341 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4342 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4343 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4344 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4345 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4346 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4347 
_DAI_CMP_SMPSTART                         IMPT 00000000   2944 
_DAI_FULL_SCALE_SMPLE                     IMPT 00000000   6128  7104 
_DAI_FULL_SCALE_SMP_END                   IMPT 00000000   6129 19767 
_DAI_FULL_SCALE_SMP_INI                   IMPT 00000000   6127 19693 
_DAI_HOSEI1_FLG                           IMPT 00000000   2934 
_DAI_MOSTPOS_CMPARE                       IMPT 00000000   6125 19771 
_DAI_MOSTPOS_SMPINI                       IMPT 00000000   6123 19670 33273 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6124 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   638

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DATA_CMP2B_R5R6_REF                      IMPT 00000000  35579 36000 36011 
_DATA_GRF_CNT_DATA_MAKE          P        EXPT 0000582C  25707 26952 26954*
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   6122 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5085 
_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5086 
_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5091 
_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5087 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5092 
_DBG_CNT_GPOSINT                          IMPT 00000000   3595 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3589 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3588 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3590 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5324 32350 
_DBG_DNM_END_CNT                          IMPT 00000000   5323 32421 
_DBG_DNM_STR_CNT                          IMPT 00000000   5322 32483 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3229 23455 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3231 22763 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3228 23436 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3230 22761 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3598 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3602 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3610 
_DBG_STEP12_CHG_SPD                       IMPT 00000000   3606 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3592 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3599 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3603 
_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3611 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3607 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3593 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3600 
_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3614 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3604 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3612 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3608 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3594 
_DBG_XOR_SIG                              EQU  00080000   6066*18405 
_DEBUG_BRK_POINT1                P             00001C58  12821*32763 
_DEBUG_BRK_POINT2                P             00001C80  12364 12867*
_DEBUG_BRK_POINT3                P             00001CA8  12913*
_DEBUG_ENC360_STS                         IMPT 00000000   4652 
_DEBUG_ENC360_STS2                        IMPT 00000000   4653 
_DEBUG_MOD_CODE                           IMPT 00000000   5083 
_DEBUG_SIGNAL_OFF                P        EXPT 000057F0  26799 26801*
_DEF_DAI_POS_PV                           IMPT 00000000   2973 
_DELT_POS_SPD_CHG1               P             00004018  21045 21095 21201*
_DELT_POS_SPD_CLR                P             000040CC  21140 21233 21342*
_DG_PS_INF_CHK1                           EQU  00000000   2197*
_DG_PS_INF_CHK2                           EQU  0000003C   2202*
_DG_PS_INF_CONT                           EQU  00000004   2198*
_DG_PS_INF_LATE                           EQU  00000010   2201*
_DG_PS_INF_STLK                           EQU  0000000C   2200*
_DG_PS_INF_UNIT                           EQU  00000008   2199*
_DIG01_CHG_DN_DATA_MAKE                   IMPT 00000000   6275 32587 
_DIG36000_CHG_RENEA1                      IMPT 00000000   6277 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   639

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DIG_AREA_CHK0                            IMPT 00000000   5621  9654 
_DIG_AREA_CHK1                            IMPT 00000000   5622 15892 15908 
_DIG_LNGTH_CALC1                          IMPT 00000000   6105 
_DIR_FLG                                  IMPT 00000000   4052 
_DISP_ENC360                              IMPT 00000000   2524 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3003 19747 
_DISP_SV_DG_DAT                           IMPT 00000000   3315 
_DISP_SV_MM_DAT                           IMPT 00000000   3316 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   5604 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   5605 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   5618 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   5606 
_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   5619 
_DMATH_CNTROT                             EQU  00000001   2029* 7100 10301 11655 12588 12975 13165 13313 13456 15718 19687 19762 
                                                         24866 24999 25186 28298 
_DMATH_DNDRIV                             EQU  00000004   2031* 6492  7100  9876 10301 11655 12975 13221 13456 15718 19687 19762 
                                                         20164 24999 32205 32433 32495 32559 
_DMATH_REVRSE                             EQU  00000002   2030* 7439  7535 13626 
_DMATH_UPDRIV                             EQU  00000008   2032*
_DNDINC_CTRL_STEP                         IMPT 00000000   3762 14578 14643 14699 14815 14826 14869 17025 
_DNDINC_DIRECT_MAKE1             P             000004E8   7503  7573  7617*
_DNDINC_MAKE_OBJPOS              P             000025C0   7511 14847*
_DNDINC_SPD_SET                  P             0000085C   7517  7584  8620*15421 
_DNDINC_STEP_MAKE                P             0000248C   7507 14639*
_DNDUPS_CLEEP_SPD_SET            P             000003C4   7381*13842 13903 13971 14021 
_DNDUPS_SPD_SET                  P             000003AC   6857  7361* 9907 14038 
_DND_1STEP_DATA_MAK1             P             000015FC  10437 11534*14434 33007 
_DND_ALL_STEP_CTRL               P             00001F4C  10669 13593*
_DND_AREA_HIS                             EQU  00000014  14638*14722 14756 
_DND_CALC_WORK                            IMPT 00000000   2790 
_DND_LNKPLS_OBJMAK1              P             00000700   7486  7554  8276*14425 
_DND_LNK_STEP_CHECK0             P             00000514   7464  7550  7701*
_DND_LNK_STEP_CHECK2             P             000005A0   7481  7847*
_DND_NEG_AREA_JUDE1              P             0000069C   7873  8181*
_DND_NEG_AREA_JUDE2              P             000006D0   7893  8227*
_DND_NEG_LNK_STEP_CHANGE0        P             00000558   7770*14421 
_DND_NEG_LNK_STEP_CHANGE2        P             00000608   7955*14290 
_DND_NEG_START_FLG_CLR           P             00000648   7453  7546  8022*17067 
_DND_NEG_STEP_CTRL               P             000022B8  13632 14224*
_DND_NEG_STOP_SVCHK              P             0000065C   7449  7542  8056*14279 
_DND_ORGIN_SIG_FORCE_ON          P             0000227C  14118 14161*
_DND_OVERCHK_DIG                          IMPT 00000000   4252 
_DND_POS_START_DAT_INI                    IMPT 00000000   6169  6572 
_DND_ROT_STEP_CTRL               P             000023E4  13646 14500*
_DND_SPD_SEQ_SET                 P             00000894   8636  8682*
_DND_TEP_STEP_CTRL               P             0000270C  13610 15164*
_DNMODE_ENDWAIT_TIM_CHK          P             00006CD0  11936 32243*
_DNMODE_ENDWAIT_TIM_SET          P             00006C98  11721 32198*
_DNM_ACC_CALC                    P        EXPT 00008588  35578 37788 37903*
_DNM_ACC_CALFLG                           IMPT 00000000   4222 34974 35932 39467 39560 39654 
_DNM_ACC_OVER_PLS_MAK            P             00008660  37909 38052*
_DNM_ACC_OVER_SPD_MAK            P             00008738  37982 38193*
_DNM_AUTO_UP_DN_CALC             P             00008D38  39570 39667 39801*
_DNM_CTL_INC3600                          IMPT 00000000   4090 32592 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   640

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DNM_CYCLE_END                   P        EXPT 00006D7C  10619 12529 32405 32410*
_DNM_CYCLE_START                 P             00006DC0   6563 12535 32473*
_DNM_DATA_CLR                    P             00006D3C  17039 32340*
_DNM_DATA_REV_SET                P        EXPT 00006D68  32379 32386*
_DNM_DEBUG_CNT                            IMPT 00000000   4693 
_DNM_DEBUG_STS1                           IMPT 00000000   4692 11729 11855 11956 11981 12514 12519 20214 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4088 
_DNM_DIR_CHG_TIM                          IMPT 00000000   4089 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5049 10935 32448 32505 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4128 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4086 13225 32362 32437 32501 32527 32569 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4087 32576 32580 
_DNM_DIR_SET_FLG                          IMPT 00000000   4085 32360 32391 32444 32499 
_DNM_MATH_ELSE_DAT_MAKE          P        EXPT 00006E18  32543 32550*
_DNM_MAXSPM_ACCLAT_MAK                    IMPT 00000000  35799 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4741 
_DNM_MOTION_DATA_MAK             P             00007CC8  35915 35989*
_DNM_PLS_LSICTL_CALC             P             00008B7C  34979 39456*
_DNM_RESET_AREA                           IMPT 00000000   5004 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5314 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4084 
_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4082 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4083 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4081 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4457 
_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4098 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4097 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5029 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4093 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4092  9599 
_DNM_SPD_CALC                    P        EXPT 000084A4  35577 37769*39472 
_DNM_START_ACC_CALC              P        EXPT 0000840A  10478 12704 35574 37647*
_DNM_STEP_ACC_CHANGE             P        EXPT 00008448  35575 37686*37783 
_DNM_TBL_CALC                    P        EXPT 00007C84  35573 35901*
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4094 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4096 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4095 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5134 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5143 
_DPCHK_ERR_SIG                            IMPT 00000000   5133 
_DPCHK_WR_COD                             IMPT 00000000   5135 
_DPSQ022                                  EQU  0000002C   2084*
_DPSQ024                                  EQU  00000030   2085*
_DPSQ028                                  EQU  00000038   2086*
_DPSQ029                                  EQU  0000003A   2087*
_DPSQ058                                  EQU  00000074   2088*
_DPSQ287                                  EQU  0000023E   2099*
_DPSQ288                                  EQU  00000240   2100*
_DPSQ340                                  EQU  000002A8   2090*
_DPSQ341                                  EQU  000002AA   2091*
_DPSQ356                                  EQU  000002C8   2092*
_DPSQ358                                  EQU  000002CC   2093*
_DPSQ359                                  EQU  000002CE   2094*
_DPSQ367                                  EQU  000002DE   2095*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   641

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DPSQ368                                  EQU  000002E0   2096*
_DPSQ369                                  EQU  000002E2   2097*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2966 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2958 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2965 
_DRVHOS_IDO_BUF                           IMPT 00000000   2970 
_DRVHOS_IDO_CNT                           IMPT 00000000   2961 
_DRVHOS_IDO_POINT                         IMPT 00000000   2959 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2969 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2967 
_DRVHOS_USE_FLG                           IMPT 00000000   2956 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2957 
_DRVHOS_WORK_BUF                          IMPT 00000000   2971 
_DRV_ACT_FLG                              IMPT 00000000   2657 
_DRV_START_KEEP                           IMPT 00000000   3988 
_DT_100PER_0                              EQU  00000064   2001*
_DT_100PER_1                              EQU  000003E8   2000*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3325 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3324 
_DUM_SET1_DIG_TOP                         IMPT 00000000   3323 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5110 
_DUM_SET2_SPD_TOP                         IMPT 00000000   5111 
_DUM_UPAREA_DIG0                          IMPT 00000000   3322 
_DURING_TIM_CNTINUE_CHK          P             00006C50  10225 11636 32119*
_DURING_TIM_FX                            IMPT 00000000   4655 10916 12170 12214 13358 32123 32145 
_DURING_TIM_PRESET_CALC          P             00006C60  12080 32140*
_ELSE_ERR_FLG1                            IMPT 00000000   2579 
_ELSE_ERR_FLG2                            IMPT 00000000   2580 
_EMG_OUT                                  IMPT 00000000   5459 
_EMG_POS_FLG_PROC                P        EXPT 00002F38   6250 17003*
_EMG_SCANCUT_FLG                          IMPT 00000000   4777 
_ENC360_BITERR_CNT                        IMPT 00000000   2544 
_ENC360_BITFLW_CNT                        IMPT 00000000   2543 
_ENC360_BITNML_CNT                        IMPT 00000000   2545 
_ENC360_HEX                               IMPT 00000000   2519 
_ENC360_INDT                              IMPT 00000000   2518 
_ENC360_INOLD                             IMPT 00000000   2517 
_ENC360_LINK_AREASIG                      IMPT 00000000   3637 
_ENC360_OVER_ENC                          IMPT 00000000   3529 
_ENC360_OVER_FLG                          IMPT 00000000   3528 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3431 21089 
_ENCPLS_DELT                              IMPT 00000000   3427 21079 21131 
_ENCPLS_POINT_SEL                         IMPT 00000000   3430 21084 21136 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3428 21083 21135 
_ENCPLS_SPD_POINT                         IMPT 00000000   3429 21087 21138 
_ENCPLS_SPD_TOTAL                         IMPT 00000000   3423 21082 21134 
_ENC_PLS_SPD                              IMPT 00000000   3424 21090 21147 
_ENC_PLS_SPD_CALC                P        EXPT 00003F68  21013 21073*
_ENC_PLS_SPD_CLR                 P             00003FC0  21125*
_ENC_PLS_SPD_DIR                          IMPT 00000000   3426 21088 
_ENC_SYSRST_CMD                           IMPT 00000000   2535 
_ENC_TIMEXT_FLG                           IMPT 00000000   2536 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5101 32627 32641 32676 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   642

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ENDHAND_WAIT_TIMCNT             P             00006E6C  10001 32616*
_END_CMD_LATCH                            IMPT 00000000   2630 
_EPCHK_COM                                IMPT 00000000   4923 
_EPCHK_DLY_TIM                            IMPT 00000000   4926 
_EPCHK_ERR_TIM                            IMPT 00000000   4927 
_EPCHK_FLG                                IMPT 00000000   4924 
_EPCHK_FORCE_VONCMD                       IMPT 00000000   4930 
_EPCHK_RETRY_CNT                          IMPT 00000000   4928 
_EPCHK_STEP                               IMPT 00000000   4925 
_EPCHK_STOP_DISENB                        IMPT 00000000   5247 
_EPCHK_STS                                IMPT 00000000   4929 
_EQ_DND_MAX                               EQU  00000002   2034*
_EQ_STEP_MAX                              EQU  00000005   2027*
_EQ_STEP_MX2                              EQU  0000000A   2028*
_EQ_STOP_START_WAIT_DND                   EQU  00000064  13589*
_EQ_STOP_START_WAIT_ORG                   EQU  000001F4  13588*13735 
_ERRCHK_ENC360                            IMPT 00000000   4604 
_ERR_FIRST_ST                             IMPT 00000000   4992 29696 29707 29744 
_ERR_INFO_A01                             EQU  00000020   2253*24878 24917 
_ERR_INFO_A02                             EQU  00000022   2254*25011 25050 25068 25092 25126 
_ERR_INFO_A03                             EQU  00000024   2255*25250 25275 25297 25325 25424 
_ERR_INFO_A04                             EQU  00000026   2256*
_ERR_INFO_A05                             EQU  00000028   2257*
_ERR_INFO_A06                             EQU  0000002A   2258*
_ERR_INFO_A07                             EQU  0000002C   2259*
_ERR_INFO_A08                             EQU  0000002E   2260*
_ERR_INFO_B01                             EQU  00000030   2261*24550 
_ERR_INFO_B02                             EQU  00000032   2262*24553 
_ERR_INFO_B03                             EQU  00000034   2263*25236 
_ERR_INFO_B04                             EQU  00000036   2264*25242 
_ERR_INFO_B05                             EQU  00000038   2265*25269 
_ERR_INFO_B06                             EQU  0000003A   2266*25302 
_ERR_INFO_B07                             EQU  0000003C   2267*25430 
_ERR_INFO_B08                             EQU  0000003E   2268*
_ERR_INFO_BAKUP_START            P        EXPT 0000524C  25521 25526*
_ERR_INFO_C01                             EQU  00000000   2245*24598 
_ERR_INFO_C02                             EQU  00000004   2246*24648 
_ERR_INFO_C03                             EQU  00000008   2247*24653 
_ERR_INFO_C04                             EQU  0000000C   2248*24658 25054 25286 
_ERR_INFO_C05                             EQU  00000010   2249*24744 
_ERR_INFO_C06                             EQU  00000014   2250*24800 25263 
_ERR_INFO_C07                             EQU  00000018   2251*24802 25223 25283 
_ERR_INFO_C08                             EQU  0000001C   2252*25226 
_ERR_INFO_DLY_TIM                         IMPT 00000000   3523 10464 12690 25198 33032 
_ERR_INFO_DT_CHK1                P             00004F20  10316 24831*
_ERR_INFO_DT_CHK2                P             00004FB8  10460 10701 12686 24961*33028 33154 
_ERR_INFO_DT_CHK3                P             000050C4  10705 25167*33158 
_ERR_INFO_DT_CHK3X               P             000051D8  25334 25370*
_ERR_INFO_DT_IN0                 P             00004DE4   9995 24544*
_ERR_INFO_DT_IN1                 P             00004E08  10320 24570*
_ERR_INFO_DT_IN2                 P             00004E40  10357 12663 24628*
_ERR_INFO_DT_IN2A                P             00004EA8  24709*
_ERR_INFO_DT_IN3                 P             00004EB0  10448 12672 24724*33017 
_ERR_INFO_DT_IN4                 P             00004EDC  10468 12694 24771*33036 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   643

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ERR_INFO_RST_CLR                P        EXPT 00005274  25555 25561*
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3524 25541 25571 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3525 24584 24640 24736 24783 24852 24984 25172 25530 25536 25574 
_ERR_INFO_WK_CLR                 P             00005298  25566 25594*
_ERR_LEV_IN2                              IMPT 00000000   4277 
_ERR_LEV_IN3                              IMPT 00000000   4278 
_ERR_LEV_IN4                              IMPT 00000000   4279 
_ERR_LEV_IN5                              IMPT 00000000   4280 
_ERR_LEV_IN6                              IMPT 00000000   4281 
_ERR_STOP_MOV_CHK                P             00003DB4  10855 20568*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5298 
_EXQ_LT_GET_FLG                           IMPT 00000000   5297 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5299 
_EXQ_LT_PROC_CNT2                         IMPT 00000000   5300 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5301 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5302 
_EXQ_OUT                                  IMPT 00000000   5460 
_EXQ_POS_FLG_PROC                P        EXPT 00002FC4   6251 17050 17097*
_EXQ_STOP_LEV_POS_CLR            P        EXPT 000057A4  26654 26670*
_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4846 
_EXTDRV_BTTN_USE                          IMPT 00000000   4839 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4840 
_EXT_BTTN_FLG                             IMPT 00000000   4843 
_FCLS_KJYU_STEPCHG_CLR           P             00004B90   6998 12095 17160 23965*
_FCLS_NZ_TIM_SET                 P             00004B6C  23647 23937*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   5611 30840 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   5612 37395 
_FPU_POS_HOKAN1                           IMPT 00000000   5624 38977 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   5609  8711 16465 16657 21292 29954 30936 31105 37354 37420 37428 37586 
                                                         38113 38128 38143 38157 38205 38732 38794 38862 38985 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   5610 
_FPU_TIM_HOKAN1                           IMPT 00000000   5625 
_FRCYCL_OF                                IMPT 00000000   5475 
_FRCYCL_ON                                IMPT 00000000   5476 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3570 30362 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3569 
_FREQ_SV_SPD                              IMPT 00000000   3502 30479 
_FR_CYL_MASK_FLG                          IMPT 00000000   2629  7273 
_FULCLS_ELSE_STS                          IMPT 00000000   4829 24097 24170 
_FULCLS_MATHED                            IMPT 00000000   4819 22011 22566 23440 23533 23593 23973 24063 24092 
_FULCLS_MAXOVER_CLR              P        EXPT 00004634   6991 17153 22602 22603*
_FULCLS_MAXOVER_ERR              P             000045E4  22487 22524*
_FULCLS_MAXOVER_ERR_WT           P             000045EA  22255 22532*
_FULCLS_MAXOVER_STEP_INI         P             00004648  21698 21837 22627*
_FULCLS_MAXPLS_CALC              P             00004570  21658 22407*
_FULCLS_OVER_SIG                 P        EXPT 0000465C  22653 22659*
_FULCLS_TIM_SETFLG                        IMPT 00000000   4827 12069 22291 23624 23643 23673 23970 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3065 
_FUL_BEFOR_CALC                  P             000014FC  11235 11275*
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4659 21710 
_FUL_CLS_LENGH_ADD_CALC          P             00004760  22937*
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4660 10920 21828 22490 22558 22572 22608 22633 22666 
_FUL_CLS_OBJPLS_CHK              P        EXPT 00004738  22893 22899*22962 22972 23431 23451 
_FUL_CLS_RNADIG                           EQU  00000320   2005*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   644

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_FUL_DATA_INIT                   P        EXPT 000047E4  11998 23039 23044*27755 
_FUL_PLS_START                   P             000047F8  21740 22062 23072*
_FUL_START_FUL_OBJ_SET           P             00001554  11362*
_FWD_REV_START                   P        EXPT 0000349C   6266 10472 12698 13866 13928 14067 14446 15515 18381*23128 33040 
_FWD_REV_STSIG_OFF               P        EXPT 0000355C   6256 10543 10576 10753 17029 17106 18075 18127 18386 18544*21554 21667 
                                                         21868 21967 22109 22198 22242 23135 33101 
_FWD_REV_STSIG_OFF_SPEC          P        EXPT 0000359C   6269 11736 13720 14244 14526 15205 15256 18602*
_GAMEN_OVER_RIDE                 P             000060D8  10051 29253*
_GENSOK_LNGTH_MAX                         EQU  00E4E1C0   6069*35423 35547 38079 
_GENSOK_SIG_MAK                  P        EXPT 000040F0  21378 21380*
_GMN_HANYO_DI1                            IMPT 00000000   5359 
_GMN_HANYO_OUT1_SQ                        IMPT 00000000   5360 
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3868 
_GPOINT_HOS_CALC                 P             000057E8  26783*
_GPOSIN_HOS_DRV_INI              P             000057E0   6581 26764*33221 
_GPOSIN_HOS_RESET                P        EXPT 000057D8  26747 26749*
_HANTEN_LAST_SIG_CLR             P             00004DA4  24447*
_HENSA_DAT_MONI_MAK              P        EXPT 00005864  27324 27326*
_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3944 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3945 
_HENSA_OVR_ENCPOS                         IMPT 00000000   2865 
_HENSA_OVR_OUTPLS                         IMPT 00000000   2864 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   5607 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   5608 
_HIST_DAT_SEND_COM                        IMPT 00000000   5420 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5419 
_HIST_EVENT_COD                           IMPT 00000000   5421 
_HIST_INFO_DT_IN1                P             00004DA4  10306 24457*
_HIST_KEP_SEND_COM                        IMPT 00000000   5422 
_HLDCAM_ABS_POS_SET                       IMPT 00000000   6101 13364 28325 
_HLDCAM_BANK2_ABS_POS_SET                 IMPT 00000000   6102 28191 28258 
_INCENC_ADD                               EQU  00000000   2056*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2686 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2685 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2687 
_INCENC_SV_HENSA_MAKE            P        EXPT 00003CD8  20143 20261 20385 20392*
_INCHEN_ADD                               EQU  00000000   2055*
_INCREV_ADD                               EQU  00000000   2060*
_INCRNA_ADD                               EQU  00000000   2057*
_INCSTP_ADD                               EQU  00000000   2058*
_INC_ABS_ORGWORK                          IMPT 00000000   2912 
_INC_ABS_ORGWORK2                         IMPT 00000000   4331 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4332 
_INC_ENC360                               IMPT 00000000   2523  9648 14778 15889 15905 22479 32554 
_INC_ENC_MM_POS                           IMPT 00000000   2707 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2688 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4333 
_INC_RESET_STEP                           IMPT 00000000   5044 10194 13178 
_INC_RESET_USE_F                          IMPT 00000000   5045 10188 13157 
_INC_RST_WORK_CLR                         IMPT 00000000   6284 10200 
_INC_STOP_CNT                             IMPT 00000000   3243 
_INC_UPLIMT_CALC                 P             00006CEC   6550 32275*
_INFO_CHK1_COD                            EQU  5AA51234   2195*
_INFO_CHK2_COD                            EQU  4321A55A   2196*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   645

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_INPUT_MODE_SW                            IMPT 00000000   2578 
_INP_ERR_FLG                              IMPT 00000000   4595 11904 
_INP_MODE                                 IMPT 00000000   2610 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5109 
_INT1MS_SCAN_02MS                         IMPT 00000000   4270 
_INT1MS_SCAN_03MS                         IMPT 00000000   4271 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4272 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4273 
_INT1MS_SCAN_10MS                         IMPT 00000000   4274 
_INT_CLS_CTL_FLG                          IMPT 00000000   2831  6648 10929 21635 21692 21785 21834 21852 21962 22066 22117 22206 
                                                         22235 23048 30695 33293 35093 39541 
_INT_CLS_DYL_TIM                          IMPT 00000000   2832 21712 21887 22345 22370 
_INT_CYC_DRV_STS                          IMPT 00000000   2830  6642  6910  7046  7139 10116 10806 17013 17251 33287 
_INT_DND_CTL_STEP                         IMPT 00000000   2826  6586  9938 10176 11026 13682 13788 13983 14031 32988 33226 
_INT_DND_NEG_STEP                         IMPT 00000000   2834  7734  7750  7804  7821  7914  7930  7977  8001  8282 17023 
_INT_DND_STEP_FLG                         IMPT 00000000   2829  6588 10178 11028 13661 13696 13740 13772 13938 14077 14102 14229 
                                                         14322 14366 14450 14519 14605 32990 33228 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2843 
_INT_POS_CTL_END                 P             00001394  10817 11010*
_INT_POS_CTL_FLAG                         IMPT 00000000   2827  6592 10136 10232 10483 10538 10571 10624 10761 10787 11015 15519 
                                                         32947 33045 33096 33232 
_INT_POS_CTL_STEP                         IMPT 00000000   2824 10208 11019 11086 11168 11311 11426 12025 12057 12337 12383 12556 
                                                         13421 19605 20339 20365 22980 23183 23363 23943 25701 25945 27422 27663 
                                                         27983 28042 28097 32781 32998 37691 
_INT_POS_CTRL                    P        EXPT 00000E4C   6247  9989*
_INT_POS_DATA_REF                P        EXPT 00003AF0   6248 19974*
_INT_POS_STEP_FLG                         IMPT 00000000   2828 10174 10600 11017 11610 12087 12206 12544 12714 12774 17116 27646 
                                                         32986 
_INT_SFY_INP_DAT                          IMPT 00000000   3630 
_INT_STP_INP_DAT                          IMPT 00000000   3631 
_INT_STP_INP_DAT1                         IMPT 00000000   3632 
_INT_STP_INP_DAT2                         IMPT 00000000   3633 
_INT_STP_INP_DAT3                         IMPT 00000000   3634 
_INT_TEP_RESTART                 P             00002880  15231 15343 15460*
_IN_PARAM_RNA_CHK                         IMPT 00000000   4027 
_IN_POS_GPOINT_POS                        IMPT 00000000   3929 
_IN_RDY_FLG                               IMPT 00000000   2618 
_IRQ_EMG_CNT                              IMPT 00000000   3624 
_IRQ_EMG_FLG                              IMPT 00000000   3623 
_IRQ_SFY_CNT                              IMPT 00000000   3626 
_IRQ_SFY_FLG                              IMPT 00000000   3625 
_IRQ_STP_CNT                              IMPT 00000000   3628 
_IRQ_STP_FLG                              IMPT 00000000   3627 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4185 
_KAJLIV_TTL_POINT                         IMPT 00000000   4184 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4182 
_KAJYU_ELSE_STS_CLR              P        EXPT 00004C6C   7002 17164 24127 24135*
_KAJYU_ELSE_STS_FLG_CLR          P             00004C90  24141 24165*
_KAJYU_START_UPCHK               P             00004C2C  21747 24088*
_KJPHOS_CAL_PRS                           IMPT 00000000   2993 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   2985 
_KJPHOS_IDO_BUF                           IMPT 00000000   2988 
_KJPHOS_IDO_CNT                           IMPT 00000000   2982 
_KJPHOS_IDO_POINT                         IMPT 00000000   2981 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   646

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_KJPHOS_IDO_TOTAL                         IMPT 00000000   2987 
_KJPHOS_SMPINI                            IMPT 00000000   6232 19674 33277 
_KJPHOS_SMPLING_END1                      IMPT 00000000   6233 19776 
_KJPHOS_USE_FLG                           IMPT 00000000   2980 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   2984 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4816 23316 23560 23734 23824 23903 24105 
_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4817 23320 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4815 23311 24029 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   2991 
_KJYUU_IN_DAT_PV                          IMPT 00000000   2990 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   2992 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4826 23752 
_KJYU_CMP_CMD                             IMPT 00000000   4885 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4891 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4890 
_KJYU_DATA_INFO_SEL              P             00004BAC  21505 23996*
_KJYU_NEARZERO3_CHK              P             00004AEC  22330 23819*24228 
_KJYU_NEARZERO_CHK               P             00004ABC  23554 23635 23705 23729*
_KJYU_OUT_DIRCT                  P             00004B4E  23689 23898*
_KJ_AREATRD_SIG                           IMPT 00000000   4867 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4868 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3748 
_KJ_AREA_SIG                              IMPT 00000000   3747 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2471 
_LENGH_ADD_CALC                  P        EXPT 00002E30   6261 11113 11244 11550 13854 13916 14055 16786*32893 
_LENGH_ADD_CALC_SV_TYPE          P        EXPT 00002E74   6262 11452 16841*
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3663 15799 16799 16855 16895 27925 28769 
_LINK_1000ROT_PLS                         IMPT 00000000   4203 
_LINK_1ROT_PLS                            IMPT 00000000   2758  8505  8524  8777  8862  8881  9273  9292  9419  9453  9712 13140 
                                                         14970 14986 15008 15027 22907 22954 25061 25119 33390 
_LINK_2ROT_PLS                            IMPT 00000000   4200 
_LINK_3ROT_PLS                            IMPT 00000000   4201 
_LINK_4ROT_PLS                            IMPT 00000000   4202 
_LINK_CLANK_PV                            IMPT 00000000   3480  8197  8238 
_LINK_DIR_OBJMAK3                P             00000BA4   9380* 9855 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3033  8707 30837 37015 37935 38333 38728 38790 38858 38981 
_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2681 
_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2680 13133 13271 13282 13295 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2682 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2683  8454  8796  9217  9404 13136 14954 
_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2752 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2751  6946 12546 
_LINK_POS_OFFSET1                         IMPT 00000000   2845 
_LINK_POS_OFFSET2                         IMPT 00000000   2846 
_LINK_PV_ABSPLS                           IMPT 00000000   2844 20399 24482 24651 25405 25674 25788 25875 26026 26112 27336 29847 
                                                         30195 31595 33382 
_LINK_P_M_MAX                    P             00000D88   7579  9797*
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2805  8540  8898  8990  9309  9481 11380 13433 15043 15403 16808 20098 
                                                         23205 27452 27918 29790 29850 31580 33385 33480 34829 
_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2813  8556  8914  8971  8986  9325  9496  9812 11371 11546 13850 13912 
                                                         14051 15059 15406 15757 15796 16790 16845 16904 20396 22942 24474 24596 
                                                         24646 25394 25669 25783 25870 26021 26107 27332 27353 27922 28685 28760 
                                                         30104 30189 31572 33398 34804 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2814  7367  7387  8656 10409 11092 11174 11432 11538 13530 14044 15495 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   647

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         16547 16572 28103 32843 33429 
_LINK_UPPLS_A_OBJMAK1            P             000008D8   6853  8760*13899 
_LINK_UPPLS_A_OBJMAK2            P             000009E0   8962*13838 13967 
_LINK_UPPLS_A_OBJMAK3            P             00000A4C   9036* 9900 14016 
_LINK_UPPLS_DNDRIV               P             00000C7C   9547* 9883 
_LINK_UPPLS_OBJ_SELECT1          P             00000A88   9055  9130* 9559 
_LNGTH_ADD_DATA                           IMPT 00000000   2839 11031 15803 16815 16867 16917 16953 18893 23028 24656 24663 24668 
                                                         24882 25015 28773 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2840 11035 16950 18900 18976 18996 19122 19308 22872 24742 24895 25028 
                                                         25684 28819 
_LNKPLS_OBJ_DAT_MAK1             P             00000778   8318  8338  8360  8426*
_LNKPLS_OBJ_DAT_MAK2             P             00002614  14894 14922*
_LOAD_ACCS1_LATE                 P        EXPT 00003E84  20618 20815*
_LOAD_BASE_FREQ_PLS              P        EXPT 00003E68  20619 20782*
_LOAD_FREQ_PLS                   P        EXPT 00003E4C  20613 20747*25663 25777 25864 26015 26101 
_LOAD_GPOINT_PLS                 P        EXPT 00003EC8  20615 20916*
_LOAD_NOW_FREQ_PLS               P        EXPT 00003EAC  20614 20879*31610 
_LOAD_REST_PLS                   P        EXPT 00003DE0  16307 17726 17848 17879 17935 18611 19060 19284 19374 19510 20612 20638*
                                                         24797 25220 25390 
_LOAD_SPD_LATE                   P        EXPT 00003E98  20617 20845*
_LOD_POS_STS_REG                 P        EXPT 000035F0   6267 14249 14530 15209 15260 18080 18132 18678*20573 21386 
_LOD_POS_STS_REG_IN              P             00003634  18688 18723 18760*35157 35195 39645 
_LOD_POS_STS_REG_POR             P        EXPT 00003608   6268 11701 13713 18712*21570 21671 21792 21872 22246 
_LOD_POS_STS_REG_SLOW            P             00003608  10780 18713*
_LONG_BIT_TBL0                            IMPT 00000000   6190 20342 20368 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3467 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3468 
_LOT_CHK_FLG                              IMPT 00000000   2650 27629 
_LOT_CNT_FLG                              IMPT 00000000   2648 
_LOT_SIG_FLG_CLR                          IMPT 00000000   6150 12439 12761 27618 
_LOT_SIG_SET                              IMPT 00000000   6114 
_LSA1_FILETR_TIM                          IMPT 00000000   3729 
_LSA2_FILETR_TIM                          IMPT 00000000   3730 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3735 
_LSA_ENC_DIG                              IMPT 00000000   3722 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3723 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3724 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3725 
_LSA_ERR_SIG                              IMPT 00000000   3734 
_LSA_SIG_DT                               IMPT 00000000   3726 
_LSA_SIG_DT2                              IMPT 00000000   4051 
_LSA_SIG_OLD_DT                           IMPT 00000000   3727 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3728 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3586 17395 17400 17731 17814 18175 18216 18276 18317 18411 18460 18550 
                                                         18624 30561 30613 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4459 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4460 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4461 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4462 
_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3565 26403 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3564 26400 
_LSI_CMP_ERR_MAX                          EQU  0000000A   6062*
_LSI_G_HOS_SPD                            EQU  0000000F   6065*
_LSI_LOAD_32BIT_DATA             P             00003EE4  20664 20671 20678 20759 20793 20891 20927 20952*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   648

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LSI_LOAD_PLS                             IMPT 00000000   5171 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3554 17718 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3555 17873 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3556 17963 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3537 17714 17953 17957 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3550 26393 
_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3548 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3547 26348 26410 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3551 20696 
_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3557 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3558 19588 26396 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3559 19134 
_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3560 19549 
_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3561 19574 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3538 18964 19126 
_LSI_REST_PLS_CHK_START_CLR      P             000055CC   6577 26386*33217 
_LSI_REST_PLS_CHK_STOP_CLR       P             00005590  10551 10584 11866 17131 26340*33109 
_LSI_RETRY_ERR_MAX                        EQU  00000003   6061*17959 19128 
_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3648 30687 
_LSI_SET_SPD_MINLMT                       IMPT 00000000   3649 
_LSI_SET_SPD_SV                           IMPT 00000000   3647 
_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3498 24483 
_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3497 24475 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3499 15807 16820 16871 16921 28790 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3500 18911 28835 
_MAIN_CLK                                 IMPT 00000000   4763 
_MAIN_START_OK                            IMPT 00000000   2481 
_MCN_DBG_COD11                            EQU  00000063   2230*
_MCN_DBG_COD21                            EQU  00000059   2232*
_MCN_DBG_COD22                            EQU  00000058   2233*
_MCN_DBG_COD23                            EQU  00000058   2234*
_MCN_DBG_COD31                            EQU  0000004F   2236*
_MCN_DBG_COD32                            EQU  0000004E   2237*
_MCN_DBG_COD33                            EQU  0000004D   2238*
_MCN_FUJI_DBG1                            EQU  000004D2   2240*
_MISS_KEN_CAM_IN                          IMPT 00000000   5376 
_MISS_KEN_CAM_OF_EDG                      IMPT 00000000   5377 
_MISS_KEN_CNT_STOP_SQ                     IMPT 00000000   5379 
_MISS_KEN_DI                              IMPT 00000000   5372 
_MISS_KEN_DI_REC_ON                       IMPT 00000000   5373 
_MISS_KEN_EMG_STOP_SQ                     IMPT 00000000   5380 
_MISS_KEN_INIT_FLG                        IMPT 00000000   5369 
_MISS_KEN_INIT_TIM                        IMPT 00000000   5370 
_MNWR_POS_CMD                             IMPT 00000000   2774  6964  7126 10158 10532 10747 17016 17102 32970 33091 33307 
_MN_DNDINC_START                 P             000003DC   6703  7408*
_MN_POS_CTRL_ACT                 P        EXPT 00000264   6254  7041*
_MN_POS_CTRL_START               P        EXPT 00000000   6253  6482*
_MN_TEP_START                    P             00002828   7419 15390*
_MODE_SEL                                 IMPT 00000000   2611  6496  6655  7197  7261 10258 10642 11760 12049 12249 12446 13597 
                                                         14170 18941 19678 20148 24590 24789 24858 24990 25178 29303 32209 32279 
                                                         32563 
_MONI_CHG_PROC1                  P        EXPT 00005588  26153 26169*
_MONI_CNT_HIST_INFO_DISP         P        EXPT 0000585C  26980 27309*
_MONI_CNT_NOW_INFO_DISP          P        EXPT 00005834  26979 26991*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   649

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_MONI_CNT_NOW_INFO_DSP1          P             0000583C  27031*
_MONI_CNT_NOW_INFO_DSP2          P             00005844  27084*
_MONI_CNT_NOW_INFO_DSP3          P             0000584C  27137*
_MONI_CNT_NOW_INFO_DSP4          P             00005854  27197*
_MONI_CPUAB_PLSDELT                       IMPT 00000000   3904 31722 31748 
_MONI_DISP_MOD                            IMPT 00000000   5424 
_MONI_RDY_STEP                            IMPT 00000000   4985 
_MONI_RESET_STEP                          IMPT 00000000   4984 
_MONI_SEINOU_CMP_OUTPUT          P             000069BC  10895 31538*
_MONI_SELF_STS1                           IMPT 00000000   4986 
_MONI_SELF_STS2                           IMPT 00000000   4987 
_MOST_DISP_DAT_INI               P             00003D18  19707 20440*
_MOST_DISP_DAT_SMP               P             00003D5C   7110 20487*
_MOTION_CYCLE_ED2                P             00003AD8  12435 12757 19867*27614 
_MOTION_CYCLE_END                P             00003A50  12422 12753 19741*27610 
_MOTION_CYCLE_START              P             000039F4   6632 12561 19657*27730 
_MOT_REPSTART_CALC               P             00006F68  10281 12369 32836*
_MOT_REP_CLR                     P             00006ECC  17061 19812 32718*32820 
_MOT_REP_CNT                              IMPT 00000000   5031 32723 32794 
_MOT_REP_F                                IMPT 00000000   5030 10273 12033 12328 21528 32725 32751 32758 32803 38459 
_MOT_REP_STEPCHK                 P             00006EE8  12324 32740*
_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5048  6505 33196 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2584 
_MOV_ERR_FLG1                             IMPT 00000000   2581 
_MRTION_SEL                               IMPT 00000000   2616 
_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   5615 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   5614 38071 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   5616 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4712 
_M_LINK_AREASIG                           IMPT 00000000   2690 27624 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2798 
_NEAR_IN_FLG                              IMPT 00000000   2673 11871 11885 12003 20209 20297 21584 21590 27745 
_NEAR_ZERO_IN_CHK                P             00001D0C  13049*
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4311 11215 11300 11367 32883 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4309 11304 23196 32887 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4310 
_NEG_DND_STOP_POS_END_F                   IMPT 00000000   5388  8028 14271 14295 
_NEG_DND_STOP_USE_F                       IMPT 00000000   5387  7458  8089 14283 
_NEG_EXITTIM                              IMPT 00000000   4681 21704 22537 
_NEG_TEPA_AREA_CHK               P             00002A70  15723 15876*
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3566 19513 25679 25793 25880 26031 26117 31566 
_NEW_TEP_CNT                              IMPT 00000000   3794 16106 16149 
_NEXT_CYCL_START1                P             00001E00   6949 13307*
_NEXT_CYCL_START2                P             00001D24   6918 13124*
_NOW_INC_DIG_MAK                          IMPT 00000000   6120  8442  8767  9049  9397  9553 13130 14948 15410 33419 
_NOW_MOTREP_DIR                           IMPT 00000000   5032 
_NZ_TIM_CHK1                              IMPT 00000000   6162 11892 
_NZ_TIM_OUT_PV1                           IMPT 00000000   3382 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3383 11898 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3380 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3381 
_OBJDIG_CLANK                             IMPT 00000000   4684 
_OBJ_ENC360                               IMPT 00000000   2525 
_OBJ_NEAR_CHK1                   P             00000D08   9427  9462  9687*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   650

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_OBJ_POS_DIG_MAK                          IMPT 00000000  22398 22418 
_OLD_RNAORG_POS1                          IMPT 00000000   2512 
_OPEN_ROT_NEAR1_ZERO_CHK         P             00003BA0  11695 20138*
_OPEN_ROT_NEAR2_ZERO_CHK         P             00003C30  20256*21564 
_ORGIN2_STEP_FLG                          IMPT 00000000   4320 
_ORGIN_END_FLG1                           IMPT 00000000   3055  6743 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3818 
_ORGIN_MOD2_SEL                           IMPT 00000000   3817  6758 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3819 
_ORGIN_MODE_END                           IMPT 00000000   6111 14008 
_ORGIN_MODE_INI                           IMPT 00000000   6109 13980 
_ORGIN_MODE_SMP                           IMPT 00000000   6110 13691 
_ORGIN_OBJ_POS_CTRL_ST1          P             00000DB8   6772  9837*
_ORGIN_OBJ_POS_CTRL_ST2          P             00000E2C   9928*13676 
_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4376 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4377 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4378 
_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2588 
_ORG_DRV_CNT_PV                           IMPT 00000000   3454 13814 13932 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2587  6750 
_ORG_END_SIG_CLR                          IMPT 00000000   6131  6861  9911 
_ORG_FIRST_OBJPLS                         IMPT 00000000   3046  8774 
_ORG_PRESET_TIM                           IMPT 00000000   2596 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3455 13821 14109 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3047  8974 
_ORIGIN_POS_CHK_INI2                      IMPT 00000000   6235 14125 
_ORIGN_180ARA_FLG                         IMPT 00000000   4012  6969  8805  9093  9592 33312 
_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3650  6844  9841  9932 14176 33301 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3441 21038 
_OUTPLS_DELT                              IMPT 00000000   3437 20069 21023 31663 
_OUTPLS_DIV                               IMPT 00000000   2848 
_OUTPLS_MOD                               IMPT 00000000   2847 11045 16956 24908 25041 
_OUTPLS_POINT_SEL                         IMPT 00000000   3440 21033 
_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3438 21032 
_OUTPLS_SPD_POINT                         IMPT 00000000   3439 21036 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3433 21031 
_OUT_PLS_SPD                              IMPT 00000000   3434 21039 
_OUT_PLS_SPD_CALC                P        EXPT 00003F10  21012 21019*
_OUT_PLS_SPD_DIR                          IMPT 00000000   3436 21037 
_OUT_UP_DN_TOTAL_CNT             P        EXPT 00003AF8  19989 19991*
_OVER1_JGDIG                              EQU  00000032   2039*
_OVERH_CALC_USE                           IMPT 00000000   4678 
_OVERH_CYC_END                            IMPT 00000000   6180 19805 
_OVERH_MODE_SEL                           IMPT 00000000   4676 
_OVERLIDE_DT_SEL                          IMPT 00000000   3866 29309 
_OVERLID_CTL_DEF_SET             P             000060AC  29145 29210*
_OVERLID_DEF_SET                 P        EXPT 0000604C   6273 29132*
_OVERLID_GMN_DEF_SET             P             00006090  29141 29186*
_OVERLID_SEQ_DEF_SET             P             00006074  29137 29162*
_OVERRIDE_CALC_LATE_SEL          P             00006220  29484 29527*33460 
_OVERRIDE_CALC_SPED_SEL          P             0000624C  10095 29488 29560*33464 
_OVER_DIG_CHK                    P             000045AC  21923 22148 22475*
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3893 30830 
_OVER_LIDE_SEQREF                P             00005FA4  10055 29017*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   651

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_OVER_LIDE_SPD_CALC              P             00006350  29946*34884 
_OVER_RIDE_ERR_TIMCHG            P        EXPT 00006264  29595 29601*
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3856 29071 29075 29085 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3854 29029 29035 29058 29098 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3855 29068 
_OVER_RIDE_USEFUL                         IMPT 00000000   3888 10088 29325 29330 29350 29375 29401 29407 29612 33449 33454 
_OVER_RID_UPDN_LAT_CALC          P             00006294  29661*
_OVER_RID_UPDN_LAT_DTMK          P        EXPT 000061D8  12582 27656 29461 29470*
_OVER_UPDN_DBGCNT                         IMPT 00000000   3890 29474 
_OVRLIDE_LATE_MAX                         EQU  00000064   2271*29166 29190 29214 29393 29952 30918 30930 30930 30975 31043 33441 
                                                         38069 38111 38126 38141 38155 38203 
_OVRLIDE_LATE_MULDIV             P             00006754  29624 30827 30871*
_OutputPLS_REG_CLR               P             00003190  16981 17626*19040 19119 
_PAR_DNMDEND_DLY                          IMPT 00000000  32193 32215 
_PAR_INCSPD_UPLMT                         IMPT 00000000   6214 32292 
_PAR_INSERT_SMPTM                         IMPT 00000000   6212 
_PAR_KAJYU_ARASPD                         IMPT 00000000  21443 24287 
_PAR_KAJYU_CHGARA                         IMPT 00000000  21444 23840 24215 
_PAR_KAJYU_CTIM1                          IMPT 00000000  21448 22343 
_PAR_KAJYU_CTIM2                          IMPT 00000000  21449 22368 
_PAR_KAJYU_FIRST                          IMPT 00000000  21451 23558 
_PAR_KAJYU_HLDSPD                         IMPT 00000000  21442 24335 
_PAR_KAJYU_STPARA                         IMPT 00000000  21450 23831 
_PAR_MYUBRK_TIM1                          IMPT 00000000   6289  7211 
_PAR_MYUBRK_TIM2                          IMPT 00000000   6290  7194 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6291  7064 
_PAR_NEGCTL_SPDS1                         IMPT 00000000  21446 24393 
_PAR_NEGERR_ENB                           IMPT 00000000  21439 22552 
_PAR_NEG_EXITTIM                          IMPT 00000000  21440 21702 
_PAR_ORGDRV_CNT                           IMPT 00000000   6210 
_PAR_ORGDRV_MOD                           IMPT 00000000   6209 
_PAR_SELF_WAIT_TM                         IMPT 00000000   6292  7256 
_PAR_START_WAIT_DND                       IMPT 00000000  13729 14316 
_PAR_STOPTIM_SEL                          IMPT 00000000   6215 32155 
_PAR_TEP_BEFPLS                           IMPT 00000000  15148 16609 
_PAR_TEP_MINSPD                           IMPT 00000000  15149 16638 
_PAR_TEP_WATTIM                           IMPT 00000000  15147 16621 
_PAR_WTSEL_USE                            IMPT 00000000   6042  8309 13173 14165 
_PDTRA                                    IMPT 00000000   6428 19100 19176 19240 19396 19492 26821 26853 
_PDTRB                                    IMPT 00000000  35844 37290 37479 37551 
_PLSI_CH1                                 EQU  00000000   6320*17372 17405 17736 17788 17819 17902 18180 18221 18281 18322 18418 
                                                         18465 18555 18629 18781 18810 18862 19433 20011 20020 20662 20669 20676 
                                                         20757 20791 20825 20854 20889 20925 28547 30383 30500 30566 30618 31440 
                                                         31464 31488 
_PLSI_CH2                                 EQU  00000030   6321*
_PLSI_CH_COM                              EQU  00000000   6347*20983 
_PLSOUTEND_FLG                            IMPT 00000000   5194 
_PLSOUTEND_PVPLS                          IMPT 00000000   5192 
_PLSOUTEND_SHIN                           IMPT 00000000   5193 
_PLSOUT_STEP_END_TIMSET          P             00001D14  13060*
_PLS_AccLate1                             EQU  0000001C   6337*20825 31440 
_PLS_AccLate2                             EQU  0000001E   6338*31464 
_PLS_BasFreqL                             EQU  0000000C   6329*20791 30383 
_PLS_BitComdL                             EQU  00000000   6323*17405 17736 17819 18180 18221 18281 18322 18418 18465 18555 18629 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   652

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         30566 30618 
_PLS_BitInfoL                             EQU  00000004   6325*18781 18810 
_PLS_CHG_PLS_TO_LSI              P             00006688  30359 30475 30677*
_PLS_CtrlReg                              EQU  0000002A   6344*17372 
_PLS_ERR_HABPLS1                          EQU  000007D0   6050*25063 25121 25398 
_PLS_GNpointL                             EQU  00000018   6335*20925 
_PLS_LSI_CTL_CALC                P             00007A0C  34993 35025*
_PLS_LSI_CTL_INI                 P             00006334  29895*34923 
_PLS_LSI_CTL_SPDCNT              P             00006594  30440*31268 
_PLS_LSI_CTL_SPDINI              P             00006520  30342*31245 
_PLS_LSI_CTL_SPDSET              P             000065B0  30417 30448 30468*35173 35236 39623 39717 
_PLS_LSI_CTRL                    P             000078E0  10910 34797*
_PLS_LSI_SPD_ACC_ADD             P             00007B78  35148 35334*39614 
_PLS_LSI_SPEED_OFF               P             0000633C  29919*34946 35255 35295 39734 39774 
_PLS_LSI_STOP_END                P             00006604  29925 30555*
_PLS_LTCHReg                              EQU  0000007E   6348*20983 
_PLS_NowFreqL                             EQU  00000010   6331*20889 
_PLS_NowPos1L                             EQU  00000024   6341*18862 
_PLS_NowPos2                              EQU  00000028   6343*
_PLS_OUTPUT_FLG                           IMPT 00000000   3373 20583 
_PLS_OUTPUT_MAX                           EQU  00FFFFFF   6319*19291 
_PLS_OUT_END_STS                          IMPT 00000000   4746 
_PLS_OutPposL                             EQU  00000014   6333*17788 17902 19433 20662 20669 20676 28547 
_PLS_OutcntPS                             EQU  00000022   6340*20011 20020 
_PLS_SpedLate                             EQU  00000020   6339*20854 31488 
_PLS_TopFreqL                             EQU  00000008   6327*20757 30500 
_POINT_GET_SPD1                  P             00008946  38544 38784*
_POINT_SERCH_BIG_2B              P             00008A52  38747 39067*
_POINT_SERCH_BIG_4B              P             00008ABE  38847 38940 39214*
_POINT_SERCH_PLS1                P             00008968  38829*
_POINT_SERCH_PLS_HOKAN1          P             000089C4  38341 38904*
_POINT_SERCH_SPD1                P             000088FC  38466 38719*
_PON_ERR_WAIT_TIM                         IMPT 00000000   5124 
_POSCANSEL_CMD                            IMPT 00000000   5313 
_POSCHG_LINK_ABSPLS_ROTNUMBER             IMPT 00000000   8736 
_POSCHG_LINK_ABSPLS_ROTNUM_OFSPL*         IMPT 00000000  22931 22948 
_POSCHG_LINK_DIG_TO_LINK_PLS              IMPT 00000000  22397 22434 
_POSCHG_LINK_ROTNUM_PLS                   IMPT 00000000   8737 
_POSCTL_CALC_ERR                          IMPT 00000000   3841 17056 17171 31146 35122 39597 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3897 29226 29535 29618 30786 31005 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3896 29223 29568 29950 38067 38109 38124 38139 38153 38201 
_POSCTL_RL_PLS                            IMPT 00000000   3828 11384 30035 30119 30267 34832 35515 
_POSCTL_RL_SPD                            IMPT 00000000   3832 17470 17513 17558 17599 30058 30141 30289 30353 30472 31551 35057 
                                                         35204 35341 38006 38122 39502 39685 39807 
_POSCTL_SET_SPD                           IMPT 00000000   3830 30347 30444 34881 
_POSCTL_STEP_CMD                          IMPT 00000000   3839 31137 31185 31213 34917 34932 34942 35074 39522 
_POSCTL_STEP_FLG                          IMPT 00000000   3840 10963 18729 21400 31140 31153 34820 34906 34928 34939 35037 35079 
                                                         35189 35227 35259 35265 35270 35299 39478 39527 39639 39659 39708 39738 
                                                         39744 39749 39778 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3835 30064 30147 34847 34873 35206 35365 38151 39687 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3837 17468 17511 17556 17597 29957 30061 30144 30219 30292 30351 30355 
                                                         30603 31294 31319 31347 31377 31379 31407 31409 31561 35055 35221 37989 
                                                         39500 39702 
_POSCTL_SV_PLS                            IMPT 00000000   3827 11375 30030 34807 35510 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   653

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POSCTL_SV_SPD                            IMPT 00000000   3831 31545 34902 35339 38107 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3834 31556 34868 35348 38137 
_POSHLD1_CHKLST_FLG                       IMPT 00000000   4979 
_POSHLD1_GENSKPOSWK                       IMPT 00000000   4958 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4959 
_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   4961 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   4962 
_POSHLD1_STOPLATCH                        IMPT 00000000   4967 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4956 
_POSHLD1_STOP_STEP                        IMPT 00000000   4955 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4954 
_POSHLD_SET_DN_ACC                        IMPT 00000000   4966 30298 34845 
_POSINER_FLG                              IMPT 00000000   4907 33579 33657 33676 33688 33726 33765 33821 33861 33890 
_POSINER_MOSTPV_POS                       IMPT 00000000   4903 33782 34384 
_POSINER_OLDPV_POS                        IMPT 00000000   4902 33780 34431 34448 
_POSINER_PV_POS                           IMPT 00000000   4901 33645 33778 33979 34201 34272 34381 34485 
_POSINER_RETRY_CNT                        IMPT 00000000   4909 33610 33851 33973 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4910 33771 34414 34421 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4911 33774 34416 34462 34469 34477 
_POSINER_STS                              IMPT 00000000   4908 33622 33659 33829 33834 33868 33873 33911 33986 34207 34278 34350 
                                                         34387 
_POSINER_SV_OVRPOS                        IMPT 00000000   4905 34033 34204 
_POSINER_SV_POS                           IMPT 00000000   4904 33970 34037 34161 34487 
_POSINER_SV_STPPOS                        IMPT 00000000   4906 34045 34275 
_POSITINER_POS_CMP               P             00007818  33575 34559*
_POSITIONER_DAIHAITO             P        EXPT 00007350  33561 33562*
_POSITIONER_DAI_DATA             P             00007600  33625 34103*
_POSITIONER_DAI_OBJ1CMP          P             00007694  33708 34195*
_POSITIONER_DAI_OBJ1MAK          P             00007554  33684 33965*
_POSITIONER_DAI_OBJ2CMP          P             000076D8  33747 34266*
_POSITIONER_DAI_OUT              P             0000771C  33716 33755 34332*
_POSITIONER_DAI_STPCHK           P             00007740  33809 34376*
_POSITIONER_UPDN_LIMIT           P             000075DC  34027 34042 34066*
_POSLSI_CHK_CNT                           IMPT 00000000   2857 20038 
_POSLSI_CHK_DLT                           IMPT 00000000   2858 20049 
_POSLSI_CHK_RESTPLS                       IMPT 00000000   2851 19288 27357 
_POSLSI_CHK_STS                           IMPT 00000000   2859 13506 19296 
_POSLSI_CMP_DATA                          IMPT 00000000   2841 11039 16985 
_POSLSI_DELT_POS                          IMPT 00000000   2842 11042 
_POSLSI_DRIV_SHIN                         IMPT 00000000   2850  8578  8935  9005  9347  9518 10951 11122 11253 11461 11558 15091 
                                                         15819 18390 19619 20051 22176 22189 22859 23107 25375 28138 30043 30127 
                                                         30203 30275 32902 35523 
_POSLSI_DRV_FRQ                           IMPT 00000000   3567 25666 25691 25780 25798 25867 25885 26018 26036 26104 26122 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2855 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2853 20081 
_POS_1STEP_DATA_MAK1             P             000013FC  10331 11077*
_POS_1STEP_DATA_MAK1CL           P             00001468  10375 11158*12981 
_POS_1STEP_DATA_MAK2             P             00001590  11416*12598 12995 
_POS_1STEP_DATA_MAK_SEL          P             00001CD0  12645 12968*
_POS_ALLSTEP_STOP_SPD_CHK        P             00001D04  13038*
_POS_ALL_STEP_CTRL               P             00001640  10654 11589*
_POS_CALC_ERR_FLG1                        IMPT 00000000   3540 10824 17124 19035 
_POS_CALC_ERR_FLG2                        IMPT 00000000   3541 10829 17127 
_POS_CALC_ERR_INF1                        IMPT 00000000   3544 10826 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   654

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_CALC_ERR_INF2                        IMPT 00000000   3545 10831 
_POS_CALC_MISS0                  P             00005F50  14976 15015 15086 28890*
_POS_CALC_MISS1                  P             00005F6C  28924*
_POS_CALC_MISS2                  P             00005F88  28958*
_POS_CLS_OBJPLS_PVPLS_MAKE       P             0000494C  21909 22095 23097 23407*
_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK P             000049D8  22099 23528*
_POS_CLS_RNA_KJYU_NZ_CHEAK       P             00004A20  21913 23588*
_POS_CLS_START_CONF              P             00004920  21493 21905 22091 23093 23359*
_POS_CLS_TYP1_NEAR_ZERO_CHEAK    P             00004698  22740*23540 23600 
_POS_CLS_TYP1_POS_CTL1           P             00004122  11661 21479*
_POS_CMP_1STEP_START_INI                  IMPT 00000000   6147  6627 10494 12719 14453 15528 33056 33268 
_POS_CNT_BANK_DTMAK1             P             00005B12  10350 27891*
_POS_CNT_BANK_DTMAK2             P             00005B0C  27710 27882*
_POS_CNT_BANK_DTMAK3             P             00005AC0  12627 27812*
_POS_CNT_BANK_DTMAK_CM           P             00005C08  27993 28123*
_POS_CNT_LAST_STEP_CHK           P             00005B9C  27858 27932 27970 28025*28415 
_POS_CTRL_SQ_STS                          IMPT 00000000   2821 11832 11986 12019 20186 20191 20222 20227 20273 20278 20303 20308 
_POS_DRV_DIRECT                           IMPT 00000000   2815  7576  7630  8575  8932  9002  9344  9515 14659 14690 14716 14891 
                                                         15078 15816 16231 33405 
_POS_ENDMYUT_TIM_SET             P             0000033C   7087  7251*
_POS_ENDWAIT_TIM_SET             P             00000300   7072  7187*
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5213  7290  7324 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5212  7288  7321 
_POS_END_MYUTIG_TIMER_CLR        P             00000388   7316*17182 
_POS_END_WAIT_TIM                         IMPT 00000000   5203  7131  7216  7327 
_POS_FRQ_SPDMAX                           IMPT 00000000   3039 16654 31097 
_POS_GEN_BEFORE_LNG                       EQU  000003E8  21436*
_POS_GPOINT_POS                           IMPT 00000000   3930 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4938 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4939 34838 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4940 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4941 
_POS_HOLDABS_CALCF                        IMPT 00000000   4978 
_POS_HOLD_CMD                             IMPT 00000000   4973 
_POS_HOLD_FLG                             IMPT 00000000   4974 
_POS_HOLD_FLG_STR2CLR                     IMPT 00000000   6242 10382 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   4975 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   4976 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   4972 
_POS_LATE1                                EQU  000003E8  21435*
_POS_LATE_CALC_MAX                        EQU  000003E8  21437*
_POS_LENGTH_ADD_DATA             P        EXPT 000036A8   6264 10444 12668 13858 13920 14059 14438 15507 16333 18889*27726 33013 
_POS_LSI_ABSPLS                           IMPT 00000000   2903 
_POS_LSI_ACC1_SET                P             00006974  31434*
_POS_LSI_ACC2_SET                P             0000698C  31458*
_POS_LSI_ACCLT1                           IMPT 00000000   3043 31438 
_POS_LSI_ACCLT2                           IMPT 00000000   3044 31462 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3539 10834 17121 17979 19156 20706 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3543 10836 
_POS_LSI_BAS_SPEED_SET           P             000068DC  17464 17507 31287*
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3061 24423 
_POS_LSI_CLS_BAS_SPD_SET         P        EXPT 000068F4  17552 31306 31312*
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3060 
_POS_LSI_CLS_TOP_EQ_BAS_SET1     P        EXPT 00006924  31364 31370*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   655

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_LSI_CLS_TOP_EQ_BAS_SET2     P        EXPT 0000694C  21730 22052 31392 31400*
_POS_LSI_CNT_LOAD_R1reg          P        EXPT 00003694  18851 18858*
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2907 
_POS_LSI_DATA_INITAL             P        EXPT 000030E0  17286 17455*
_POS_LSI_EMG_STOP                P             0000334C  10547 10757 17033 17110 18069*33105 
_POS_LSI_EMG_STOP_CMD            P             000033AC  18093 18169*
_POS_LSI_FRQ_DATA_MAK                     IMPT 00000000  30665 30682 
_POS_LSI_HARD_INITAL             P        EXPT 00003090  17285 17367*
_POS_LSI_OFFSET1                          IMPT 00000000   2905 
_POS_LSI_OFFSET2                          IMPT 00000000   2906 
_POS_LSI_OLDCNT                           IMPT 00000000   2909 
_POS_LSI_SLOW_STOP               P        EXPT 00003380   6257 10580 18121*22113 22202 
_POS_LSI_SLOW_STOP_CMD           P             00003424  18270*
_POS_LSI_SPDBAS                           IMPT 00000000   3042 30741 
_POS_LSI_SPDLAT                           IMPT 00000000   3041 31486 
_POS_LSI_SPDLATE_SET             P             000069A4  17460 31482*
_POS_LSI_SPDMAX                           IMPT 00000000   3040 16652 31099 
_POS_LSI_START_INITAL            P        EXPT 0000310C   6259 10311 10433 12572 17498*33003 
_POS_LSI_START_INITAL_TEP        P             00003164  10406 15491 17587*
_POS_LSI_START_INITL2            P             00003138  10371 17544*
_POS_LSI_TEP_BAS_SPEED_SET       P        EXPT 0000690C  17593 31334 31340*
_POS_LSI_TOP_SPEED_SET           P        EXPT 000068B4   6260 10412 11101 11183 11440 11542 13846 13907 13975 14025 14047 15498 
                                                         31240*31382 31412 32848 33433 
_POS_LSI_TOP_SPEED_SETX          P             000068C8  13533 16576 28106 31263*
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2902 
_POS_LSI_WORK_STOP2              P             00002F1C   6637 16976*21973 23081 28870 33282 
_POS_LSI_WORK_STOP_CLR           P             00002EF4  16944*17522 17564 17602 18210 18311 21977 23086 28866 
_POS_OVER_RUN_CHK1                        IMPT 00000000   6153 10842 
_POS_PLSOUT_SET_RETRY            P             000036E0  10454 12680 15511 18937*33022 
_POS_PLS_OUTPUT_DATA             P        EXPT 0000385C   6265 10674 13862 13924 14063 14442 16337 18949 19008 19277*23124 33127 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3492 
_PRD_DAI_POS0                             IMPT 00000000   3490 
_PRD_DAI_POS1                             IMPT 00000000   3491 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3978 
_PRESET_PV_ABS_TO_OBJ            P        EXPT 0000629C   6540 29691 29692*
_PRESET_PV_FLGCLR                P        EXPT 000062C6  17175 29738 29739*
_PROC_2MS_PLS                             EQU  000007D0  28476*30111 
_PS_DG_INF_CHK1                           EQU  00000000   2204*
_PS_DG_INF_CHK2                           EQU  0000003C   2209*
_PS_DG_INF_CONT                           EQU  00000004   2205*
_PS_DG_INF_LATE                           EQU  00000010   2208*
_PS_DG_INF_STLK                           EQU  0000000C   2207*
_PS_DG_INF_UNIT                           EQU  00000008   2206*
_PS_TIME                                  EQU  00000002   1998*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3241 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3445 21093 21153 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3446 21042 
_PVPAB_KAJLIV_TTL                         IMPT 00000000   6239 
_PVP_ATSLID_OBJ1                          IMPT 00000000  33558 33570 
_PVP_CB_A_VER                             IMPT 00000000   6228 17417 17428 17748 17759 17771 17795 17806 17831 17842 17897 17911 
                                                         17922 18192 18203 18233 18244 18293 18304 18334 18345 18430 18441 18451 
                                                         18477 18488 18498 18567 18578 18641 18652 18776 18789 18805 18817 19428 
                                                         19442 19453 20973 20993 28542 28556 28567 30378 30392 30403 30495 30509 
                                                         30520 30578 30589 30630 30641 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   656

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PVP_CPUA_TEPPLS                          IMPT 00000000  16086 16099 16142 
_PVP_CPUB_TEPPLS                          IMPT 00000000  16087 
_PVP_MONALM_A01                           IMPT 00000000  26199 
_PVP_MONALM_A02                           IMPT 00000000  26200 
_PVP_MONALM_A03                           IMPT 00000000  26201 
_PVP_MONALM_A04                           IMPT 00000000  26202 
_PVP_MONALM_A05                           IMPT 00000000  26203 
_PVP_MONALM_A06                           IMPT 00000000  26204 
_PVP_MONALM_A07                           IMPT 00000000  26205 
_PVP_MONALM_A08                           IMPT 00000000  26206 
_PVP_MONALM_B01                           IMPT 00000000  26207 
_PVP_MONALM_B02                           IMPT 00000000  26208 
_PVP_MONALM_B03                           IMPT 00000000  26209 
_PVP_MONALM_B04                           IMPT 00000000  26210 
_PVP_MONALM_B05                           IMPT 00000000  26211 
_PVP_MONALM_B06                           IMPT 00000000  26212 
_PVP_MONALM_B07                           IMPT 00000000  26213 
_PVP_MONALM_B08                           IMPT 00000000  26214 
_PVP_MONALM_C01                           IMPT 00000000  26191 34596 
_PVP_MONALM_C02                           IMPT 00000000  26192 
_PVP_MONALM_C03                           IMPT 00000000  26193 
_PVP_MONALM_C04                           IMPT 00000000  26194 
_PVP_MONALM_C05                           IMPT 00000000  26195 
_PVP_MONALM_C06                           IMPT 00000000  26196 
_PVP_MONALM_C07                           IMPT 00000000  26197 
_PVP_MONALM_C08                           IMPT 00000000  26198 
_PVP_MONALM_P01                           IMPT 00000000  26216 
_PVP_MONALM_P02                           IMPT 00000000  26217 
_PVP_MONALM_P03                           IMPT 00000000  26218 
_PVP_MONALM_P04                           IMPT 00000000  26219 
_PVX_AMPERR_TIM1                          IMPT 00000000   3179 
_PVX_AMPERR_TIM2                          IMPT 00000000   3180 
_PVX_AMPERR_TIM3                          IMPT 00000000   3181 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4736 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4717 
_PVX_DAI_POS0                             IMPT 00000000   2923 
_PVX_DAI_POS1                             IMPT 00000000   2924 33643 34593 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4701 32230 32247 
_PVX_DYHITO_POS                           IMPT 00000000   2931 
_PVX_IAMP_VLT                             IMPT 00000000   3182 
_PVX_INPPOS_TIM1                          IMPT 00000000   3155 
_PVX_MOTINS_AG2                           IMPT 00000000   4521 
_PVX_MOTINS_AG2X                          IMPT 00000000   4522 
_PVX_MOTINS_AG3                           IMPT 00000000   4527 
_PVX_MOTINS_AG3X                          IMPT 00000000   4528 
_PVX_MOTINS_AGL                           IMPT 00000000   4524 
_PVX_MOTINS_AGLX                          IMPT 00000000   4525 
_PVX_MOTINS_DAN                           IMPT 00000000   4532 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4533 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4531 
_PVX_MOTINS_INF                           IMPT 00000000   4535 
_PVX_MOTINS_POS                           IMPT 00000000   4518 
_PVX_MOTINS_PS2                           IMPT 00000000   4517 
_PVX_MOTINS_PS3                           IMPT 00000000   4519 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   657

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PVX_RNA_STLORK                           IMPT 00000000   2925 
_PV_ENC_SPD_PER                           IMPT 00000000   3443 21092 21151 
_PV_OUT_SPD_PER                           IMPT 00000000   3444 21041 
_PV_POWER_ON_CNT                          IMPT 00000000   6082 24548 
_R2_MUL10_ANS_R2                 P             00007E6E  36313 36390*37815 37824 
_RDY_OF                                   IMPT 00000000   5470 
_RDY_ON                                   IMPT 00000000   5469 
_RDY_SFTY_LOCK                            IMPT 00000000   3714 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3715 
_REP_CAMOBJ_DIG                           IMPT 00000000   5033 
_RESET_END_OUT                            IMPT 00000000   5462 
_RESET_OUT                                IMPT 00000000   5461 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2715 
_RESET_ROTNUM_ZR                          IMPT 00000000   2714 
_RESTART_WAIT_PLS_DATA_SELECT    P             00004510  22020 22323*
_REVCHK_DRIV_SHIN                         IMPT 00000000   4602 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4603 
_REVMOD_REVDN_DIG                         IMPT 00000000   4605 
_REVRSE_BASINC_SPDCALC           P        EXPT 00004D4C  21453 21726 22045 24294 24342 24378*
_REVRSE_KAJYU1_BASINCSET         P             00004CE4  24237 24282*
_REVRSE_KAJYU2_BASINCSET         P             00004D18  24253 24330*
_REVRSE_KAJYU_AREACHK_BASSET     P             00004CA4  22028 24211*
_REV_BEFORE_CHGKOUTEICHK         P             00004874  13461 23166*
_REV_CALC_WORK0                           IMPT 00000000   3232 
_REV_CALC_WORK1                           IMPT 00000000   3233 
_REV_CALC_WORK2                           IMPT 00000000   3234 
_REV_ERR_FLG                              IMPT 00000000   5234 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5237 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5238 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4601 
_REV_LATCH_ENCPOS                         IMPT 00000000   2873 
_REV_LATCH_OUTPLS                         IMPT 00000000   2872 
_REV_LATCH_RNAPOS                         IMPT 00000000   2874 
_RL_POS_DATA_CHK                 P             00006AEC  10899 31718*
_RM1_CHK_OLDSTS                           IMPT 00000000   5058 
_RM1_CHK_TIME                             IMPT 00000000   5059 
_RM2_CHK_OLDSTS                           IMPT 00000000   5061 
_RM2_CHK_TIME                             IMPT 00000000   5062 
_RNAREV_ADD                               EQU  00000000   2061*
_RNASTP_ADD                               EQU  00000000   2059*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2964 
_RNA_ABS_MAXPOS                           IMPT 00000000   2943 
_RNA_ABS_MD2_C1                           IMPT 00000000   4335 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4336 
_RNA_ABS_MD2_C2                           IMPT 00000000   4337 
_RNA_ABS_MD_DT0                           IMPT 00000000   2927 
_RNA_ABS_MD_DT1                           IMPT 00000000   2928 
_RNA_ABS_MEMORG                           IMPT 00000000   2920 
_RNA_ABS_MINPOS                           IMPT 00000000   2942 
_RNA_ABS_ORGWORK                          IMPT 00000000   2911 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4329 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4330 
_RNA_ABS_POS                              IMPT 00000000   2919 20450 20515 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2941 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   658

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_ABS_WKMINPOS                         IMPT 00000000   2940 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4476 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4469 
_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4471 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4470 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4473 
_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4472 
_RNA_BBN_SET_TIME                         IMPT 00000000   4475 
_RNA_CMD_RD_CNT                           IMPT 00000000   2538 
_RNA_CMD_SND_CNT                          IMPT 00000000   2537 
_RNA_COM_ERR_CNT                          IMPT 00000000   2530 
_RNA_COM_NML_CNT                          IMPT 00000000   2531 
_RNA_CTL_POS0                             IMPT 00000000   2929 
_RNA_CTL_POS1                             IMPT 00000000   2930 20457 20492 
_RNA_ENC360                               IMPT 00000000   2522 
_RNA_HOS_DELT                             IMPT 00000000   2932 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4488 
_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2706 20462 20502 22969 23447 
_RNA_OLD_STEP                             IMPT 00000000   4491 
_RNA_POS_OFFSET1                          IMPT 00000000   2917 
_RNA_POS_OFFSET2                          IMPT 00000000   2918 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4028 
_RNA_PROTOCOL_X                           IMPT 00000000   4031 
_RNA_RESET_FLG                            IMPT 00000000   2533 
_RNA_RESET_TIM                            IMPT 00000000   2534 
_RNA_STLORK                               IMPT 00000000   2922 
_RNA_STLORK_HALF                          IMPT 00000000   4327 
_RNA_STOP_CNT                             IMPT 00000000   3242 
_RNA_TECH_POINT                           IMPT 00000000   4487 
_RNA_TECH_POSBUF                          IMPT 00000000   4486 
_ROOT_MAIN_INP                            IMPT 00000000   5430 
_ROOT_MAIN_OUT                            IMPT 00000000   5431 
_RST_DLY_TM                               EQU  000000C8   2017*
_RST_ERR_CHK_ERR                          IMPT 00000000   2878 
_RST_ERR_CHK_FLG                          IMPT 00000000   2876 13990 
_SAME_TIM                                 IMPT 00000000   2658 
_SCAN_DBG_CNT                             IMPT 00000000   4782 
_SCAN_SMP_SIG                             IMPT 00000000   4769 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4760 
_SCAN_TIM_IN                              IMPT 00000000   4765 
_SCAN_TIM_POINT                           IMPT 00000000   4761 
_SCAN_TIM_TOTAL                           IMPT 00000000   4759 
_SDATCLS_OBJMM                            IMPT 00000000   3067 
_SDATCLS_OBJPLS                           IMPT 00000000   3066 23422 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3068 22749 
_SDATCLS_TRG_STEP                         IMPT 00000000   3070 22744 23370 23412 24001 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3069 23415 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2760 12176 12184 13736 13759 13766 14318 14343 14352 21773 23665 23949 
                                                         32175 
_SELF_AD_LATCH                            IMPT 00000000   3703 
_SELF_BRK_LOCK                            IMPT 00000000   3699 
_SELF_CHK_MATHED                          IMPT 00000000   3698 
_SELF_CHK_SEL                             IMPT 00000000   2605 
_SELF_COM                                 IMPT 00000000   2603 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   659

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SELF_FIRST_END_FLG                       IMPT 00000000   3696 
_SELF_FLG                                 IMPT 00000000   2601 
_SELF_LOCK_FLG                            IMPT 00000000   3983 
_SELF_MOV_LENGTH                          IMPT 00000000   3706 
_SELF_MOV_SPEED                           IMPT 00000000   3707 
_SELF_POS_START_WORK_CLR         P        EXPT 00005F34  28854 28861*
_SELF_SECOND_ACT_FLG                      IMPT 00000000   3701 
_SELF_SECOND_STEP                         IMPT 00000000   3702 
_SELF_START_POS_LATCH                     IMPT 00000000   3705 
_SELF_START_WAIT_TM                       IMPT 00000000   2604 
_SELF_TIMING_SIG                          IMPT 00000000   3697 
_SEQ_DP_TOP                               IMPT 00000000  23614 
_SET1_ACCLAT_TIM1                         IMPT 00000000   3142 30789 
_SET1_AMP100P_VLT                         IMPT 00000000   3176 
_SET1_ARACHK_LNG1                         IMPT 00000000   3157 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4919 34110 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4914 33993 34014 34148 
_SET1_ATSLID_COEF1                        IMPT 00000000   4917 34155 34495 
_SET1_ATSLID_COEF2                        IMPT 00000000   4918 34583 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4915 33996 34134 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4916 34018 34141 
_SET1_BREAK_DIG                           IMPT 00000000   3478 
_SET1_BREAK_TIM1                          IMPT 00000000   3476 
_SET1_CNT_CNT                             IMPT 00000000   3085 
_SET1_CNT_TIM                             IMPT 00000000   3083 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3168 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3169 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3170 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3187 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3189 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3188 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3191 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3190 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3193 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3192 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3195 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3194 
_SET1_DNAREA_INPX                         IMPT 00000000   3145 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3149 
_SET1_DNAREA_JUDG                         IMPT 00000000   3119 
_SET1_DNDINC_SPD1                         IMPT 00000000   3128  8687 16476 16519 
_SET1_DND_DIGTOP                          IMPT 00000000   3757 
_SET1_DND_PLSTOP                          IMPT 00000000   3758  8357 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3756 
_SET1_DND_STOP_SW                         IMPT 00000000   3755  8064 
_SET1_DND_UPPLS                           IMPT 00000000   3759 
_SET1_EJECAM_OFR                          IMPT 00000000   5022 
_SET1_EJECAM_ONR                          IMPT 00000000   5021 
_SET1_ENC360_HOS1                         IMPT 00000000   3159 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3171 
_SET1_INCDIR_SEL1                         IMPT 00000000   3100 
_SET1_INCENC_ELNG                         IMPT 00000000   3162 
_SET1_INCHEN_ELNG                         IMPT 00000000   3161 
_SET1_INCPLS_1REV                         IMPT 00000000   3097 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   660

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_INCPLS_HOSM                         IMPT 00000000   3102 
_SET1_INCPLS_HOSN                         IMPT 00000000   3101 
_SET1_INCPOS_KP01                         IMPT 00000000   3140 22003 22348 
_SET1_INCREV_ELNG                         IMPT 00000000   3166 
_SET1_INCRNA_ELNG                         IMPT 00000000   3163 
_SET1_INCSTP_ELNG                         IMPT 00000000   3164 
_SET1_INPPOS_TIM1                         IMPT 00000000   3154 
_SET1_INTLIM_AGL                          IMPT 00000000   4944 
_SET1_INTLIM_PLS                          IMPT 00000000   4946 
_SET1_KAJAREA_ENO                         IMPT 00000000   4855 
_SET1_KAJAREA_SEL                         IMPT 00000000   4869 
_SET1_KAJAREA_SNO                         IMPT 00000000   4854 
_SET1_KATTCH_EAG                          IMPT 00000000   4877 
_SET1_KATTCH_SAG                          IMPT 00000000   4876 
_SET1_KATTCH_SPD                          IMPT 00000000   4545 
_SET1_KJEND_DIG1                          IMPT 00000000   3746 
_SET1_KJEND_DIG2                          IMPT 00000000   4858 
_SET1_KJEND_STEP1                         IMPT 00000000   3745 
_SET1_KJSTR_DIG1                          IMPT 00000000   3744 
_SET1_KJSTR_DIG2                          IMPT 00000000   4857 
_SET1_KJSTR_STEP1                         IMPT 00000000   3743 
_SET1_LSAABN_AGL1                         IMPT 00000000   3732 
_SET1_LSAABN_AGL2                         IMPT 00000000   3733 
_SET1_MAX_KJYU                            IMPT 00000000   4188 
_SET1_MISCAM_OFR                          IMPT 00000000   5024 
_SET1_MISCAM_ONR                          IMPT 00000000   5023 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3114 
_SET1_MOTREP_CNT                          IMPT 00000000   5014 32788 
_SET1_MOTREP_SPD                          IMPT 00000000   5013 32841 
_SET1_MOTREP_STGE                         IMPT 00000000   5012 32783 
_SET1_MOTREP_STGS                         IMPT 00000000   5011 12335 32852 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5010 32745 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3104 
_SET1_MRTION_SEL1                         IMPT 00000000   3197 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3198 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3175 
_SET1_OBJARA_INPX                         IMPT 00000000   3146 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3150  9692 14982 15022 20179 20264 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3152 20155 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3222 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3208 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3203 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3211 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3215 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3256 
_SET1_OVERLIDE_COF                        IMPT 00000000   3867 29261 29266 
_SET1_PLSAHI_PLS                          IMPT 00000000   3783 15655 
_SET1_PLSALO_PLS                          IMPT 00000000   3782 15649 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3258 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3259 
_SET1_REVDAT_SPD1                         IMPT 00000000   3131 
_SET1_REVDAT_SPD2                         IMPT 00000000   3134 
_SET1_REVDAT_SPD3                         IMPT 00000000   3135 
_SET1_RNADIR_SEL1                         IMPT 00000000   3099 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   661

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_RNAORG_POS1                         IMPT 00000000   3115 
_SET1_RNAPOS_KP01                         IMPT 00000000   3141 22373 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3116 34071 
_SET1_RNAPOS_MINP                         IMPT 00000000   3117 34078 
_SET1_RNAREV_ELNG                         IMPT 00000000   3167 
_SET1_RNASTP_ELNG                         IMPT 00000000   3165 
_SET1_ROTCAM_OFR                          IMPT 00000000   5020 
_SET1_ROTCAM_ONR                          IMPT 00000000   5019 
_SET1_RPARAM_TOP1                         IMPT 00000000   3093 
_SET1_SSCURV_TIM1                         IMPT 00000000   3143 
_SET1_STDINC_SPD1                         IMPT 00000000   3130 
_SET1_TEPCTL_SPD1                         IMPT 00000000   3790 
_SET1_TEPLAT_DAT1                         IMPT 00000000   3137 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3138 
_SET1_UPAREA_DIG0                         IMPT 00000000   3221 
_SET1_UPAREA_DIG1                         IMPT 00000000   3158  9645 15887 
_SET1_UPAREA_INPX                         IMPT 00000000   3144 
_SET1_UPAREA_INPXPLS                      IMPT 00000000   3148 
_SET1_UPAREA_JUDG                         IMPT 00000000   3118 
_SET1_UPAREA_PLS0                         IMPT 00000000   3206 
_SET1_UPAREA_PLS1                         IMPT 00000000   3207  8304  8772 
_SET1_UPAREA_POS0                         IMPT 00000000   3202 
_SET1_UPAREA_POS1                         IMPT 00000000   3038 
_SET1_UPAREA_SPD0                         IMPT 00000000   3210 
_SET1_UPAREA_SPD1                         IMPT 00000000   3129  7365 
_SET1_UPAREA_TIM0                         IMPT 00000000   3214 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3132  7385 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4187 
_SET2_INTLIM_AGL                          IMPT 00000000   4945 
_SET2_INTLIM_PLS                          IMPT 00000000   4947 
_SET360_UPAREA_DIG1                       IMPT 00000000   4043 
_SET360_UPAREA_PLS1                       IMPT 00000000   4044 
_SETC_KJEND_DIG1                          IMPT 00000000   4126 
_SETC_KJEND_DIG2                          IMPT 00000000   4865 
_SETC_KJSTR_DIG1                          IMPT 00000000   4125 
_SETC_KJSTR_DIG2                          IMPT 00000000   4864 
_SETD_DEGSPD_MAX                          IMPT 00000000   3294 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4236 21288 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4237 
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4107 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4106 
_SETXY_UPAREA_DIG                         IMPT 00000000   4102 
_SETXY_UPAREA_PLS                         IMPT 00000000   4101 
_SETX_ACCERR_DLY1                         IMPT 00000000   4444 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4439 
_SETX_ACCERR_SEL                          IMPT 00000000   4449 
_SETX_BANK_USELFUL                        IMPT 00000000   3656 
_SETX_BREAK_DIG2                          IMPT 00000000   4172 
_SETX_BREAK_TIM2                          IMPT 00000000   4173 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3124 
_SETX_DAIPOS_MINP                         IMPT 00000000   3125 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3120 15899 
_SETX_DNAREA_JG_PLS                       IMPT 00000000   3121  8335 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3063 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   662

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3064 22903 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4822 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4456 
_SETX_INCPLS_HOSM                         IMPT 00000000   3103 
_SETX_KJEND_DIG1                          IMPT 00000000   4121 
_SETX_KJEND_DIG2                          IMPT 00000000   4861 
_SETX_KJSTR_DIG1                          IMPT 00000000   4120 
_SETX_KJSTR_DIG2                          IMPT 00000000   4860 
_SETX_KJYUCLS_OBJ                         IMPT 00000000   4824 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5114 22005 22059 22350 22375 
_SETX_LINK_UP_POS_DN                      IMPT 00000000   2701 
_SETX_LINK_UP_POS_UP                      IMPT 00000000   2700 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4433 
_SETX_MOTREP_DIR                          IMPT 00000000   5028 
_SETX_OUTPLS_HOSA                         IMPT 00000000   3111 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3112 
_SETX_OVERH_AMP                           IMPT 00000000   4675 
_SETX_OVERH_LNGTH                         IMPT 00000000   4674 
_SETX_POS_CTL_MATH                        IMPT 00000000   2734  7437  7533  9874 13624 20161 32203 32431 32493 32557 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2733 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2725 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2726 36285 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2722 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2723 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2724 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2732 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2728 
_SETX_POS_STEP_MAX                        IMPT 00000000   2735 36287 36527 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4489 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4490 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4948 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4949 
_SETX_UPAREA_DIG                          IMPT 00000000   3036 
_SETX_UPAREA_PLS                          IMPT 00000000   3034  8314  9175  9402 
_SETX_UPAREA_RNA                          IMPT 00000000   3035 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3051 15882 15901 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3053  8457  8799  9220 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3050 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3052 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4455 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3109 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3108 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3107 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3106 
_SETY_KJEND_DIG1                          IMPT 00000000   4123 
_SETY_KJEND_DIG2                          IMPT 00000000   4863 
_SETY_KJSTR_DIG1                          IMPT 00000000   4122 
_SETY_KJSTR_DIG2                          IMPT 00000000   4862 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4951 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4952 
_SET_ACC_OVRLIDE                          IMPT 00000000   3878 29219 29322 29372 29398 29533 33446 
_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3846 24311 24359 24430 30703 31405 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3844 31317 31375 
_SET_DN_ACC_LATE                          IMPT 00000000   3895 30799 34871 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   663

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3870 29195 29277 29320 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3869 29192 29274 29315 
_SET_NZ_TIM_DAT                           IMPT 00000000   6161 11837 12014 27750 
_SET_OVER_RIDE                   P             0000610C  10059 29299*29479 
_SET_PV_ABS_TO_OBJ               P        EXPT 00006308   6271 29703 29817*
_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3858 29094 29171 29370 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3857 29092 29168 29365 
_SET_SPDBAS_PLS                           IMPT 00000000   3845 31292 
_SET_SPD_OVRLIDE                          IMPT 00000000   3877 29216 29317 29367 29395 29566 33443 
_SET_UP_ACC_LATE                          IMPT 00000000   3894 30797 34866 
_SET_UP_TIM                               IMPT 00000000   2659 
_SFTYCHK_CLANK_DEG                        IMPT 00000000   5180 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5181 
_SFTYCHK_RNA_POS                          IMPT 00000000   3374 
_SFTY_CTL_IN_DAT                          IMPT 00000000   2553 
_SFTY_IN_DAT                              IMPT 00000000   2552 
_SFTY_LOCK_DLYTM                          IMPT 00000000   3977 
_SGL_CMPERR_CNTMAX                        EQU  00000014   6049*
_SGL_CMP_ERR_DT_CLR              P        EXPT 000058B8   6557 26684 27384 27393*33212 
_SH2_4B                                   EQU  00000004  27191*
_SH2_8B                                   EQU  00000008  27193*
_SH2_ADD_PLS                              IMPT 00000000   5790 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5750 
_SH2_CNT_REST_HF                          IMPT 00000000   5761 
_SH2_CNT_REST_PLS                         IMPT 00000000   5745 
_SH2_DNM_CALC_INFO                        IMPT 00000000  35981 36150 36242 
_SH2_GPOINT_LNG                           IMPT 00000000   6230 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5798 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5799 
_SH2_HD_CNT_STOP                          IMPT 00000000   6204 12470 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6196 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6194 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6202 
_SH2_HD_POS_START                         IMPT 00000000   6198 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6200 
_SH2_HD_STEP_END                          IMPT 00000000   6206 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5746 
_SH2_LOT_CNT_A                            IMPT 00000000   5757 
_SH2_LOT_STEP_A                           IMPT 00000000   5758 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5752 
_SH2_NOW_STEP                             IMPT 00000000   5796 
_SH2_PLSI_ACCS                            IMPT 00000000   5754 
_SH2_PLSI_LATE                            IMPT 00000000   5755 
_SH2_REST_PLS_RL                          IMPT 00000000   5748 
_SH2_REST_PLS_SR                          IMPT 00000000   5747 
_SH2_REST_RL_HF                           IMPT 00000000   5760 
_SH2_REST_SR_HF                           IMPT 00000000   5759 
_SH2_STEP1_FRQ                            IMPT 00000000   5778 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5773 
_SH2_STEP1_REST_P                         IMPT 00000000   5768 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5763 
_SH2_STEP1_TIM                            IMPT 00000000   5783 
_SH2_STEP2_FRQ                            IMPT 00000000   5779 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5774 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   664

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP2_REST_P                         IMPT 00000000   5769 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5764 
_SH2_STEP2_TIM                            IMPT 00000000   5784 
_SH2_STEP3_FRQ                            IMPT 00000000   5780 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5775 
_SH2_STEP3_REST_P                         IMPT 00000000   5770 
_SH2_STEP3_SV_PLS                         IMPT 00000000   5765 
_SH2_STEP3_TIM                            IMPT 00000000   5785 
_SH2_STEP4_FRQ                            IMPT 00000000   5781 
_SH2_STEP4_PV_PLS                         IMPT 00000000   5776 
_SH2_STEP4_REST_P                         IMPT 00000000   5771 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5766 
_SH2_STEP4_TIM                            IMPT 00000000   5786 
_SH2_STEP5_FRQ                            IMPT 00000000   5782 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5777 
_SH2_STEP5_REST_P                         IMPT 00000000   5772 
_SH2_STEP5_SV_PLS                         IMPT 00000000   5767 
_SH2_STEP5_TIM                            IMPT 00000000   5787 
_SH2_STEP_FRQ                             IMPT 00000000   5794 
_SH2_STEP_PV_PLS                          IMPT 00000000   5792 
_SH2_STEP_REST_P                          IMPT 00000000   5793 
_SH2_STEP_SV_PLS                          IMPT 00000000   5791 
_SH2_STEP_TIM                             IMPT 00000000   5795 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5751 
_SH2_TOTAL_PLS                            IMPT 00000000   5789 
_SH4_4B                                   EQU  00000000  27190*
_SH4_8B                                   EQU  00000000  27192*
_SH4_ADD_PLS                              IMPT 00000000   5733 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5695 
_SH4_CNT_REST_HF                          IMPT 00000000   5705 26610 26676 
_SH4_CNT_REST_PLS                         IMPT 00000000   5691 26607 
_SH4_DNM_CALC_INFO                        IMPT 00000000  35939 35980 36058 36077 36109 36149 36216 36240 
_SH4_GPOINT_LNG                           IMPT 00000000   6229 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5741 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5742 
_SH4_HD_CNT_STOP                          IMPT 00000000   6203 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6195 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6193 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6201 
_SH4_HD_POS_START                         IMPT 00000000   6197 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6199 
_SH4_HD_STEP_END                          IMPT 00000000   6205 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5692 18978 26428 
_SH4_LOT_CNT_A                            IMPT 00000000   5701 18987 26352 26415 
_SH4_LOT_STEP_A                           IMPT 00000000   5702 19607 26355 26418 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5697 
_SH4_NOW_STEP                             IMPT 00000000   5739 25703 
_SH4_PLSI_ACCS                            IMPT 00000000   5699 
_SH4_PLSI_LATE                            IMPT 00000000   5700 
_SH4_REST_PLS_RL                          IMPT 00000000   5694 19521 26434 
_SH4_REST_PLS_SR                          IMPT 00000000   5693 19068 26431 
_SH4_REST_RL_HF                           IMPT 00000000   5704 10689 26361 26424 33142 
_SH4_REST_SR_HF                           IMPT 00000000   5703 19214 26358 26421 
_SH4_STEP1_FRQ                            IMPT 00000000   5722 25887 26508 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   665

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP1_PV_PLS                         IMPT 00000000   5717 25877 26493 
_SH4_STEP1_REST_P                         IMPT 00000000   5712 25882 26478 
_SH4_STEP1_SV_PLS                         IMPT 00000000   5707 25872 26463 
_SH4_STEP1_TIM                            IMPT 00000000   5727 25892 26523 
_SH4_STEP2_FRQ                            IMPT 00000000   5723 26038 26511 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5718 26028 26496 
_SH4_STEP2_REST_P                         IMPT 00000000   5713 26033 26481 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5708 26023 26466 
_SH4_STEP2_TIM                            IMPT 00000000   5728 26043 26526 
_SH4_STEP3_FRQ                            IMPT 00000000   5724 26124 26514 
_SH4_STEP3_PV_PLS                         IMPT 00000000   5719 26114 26499 
_SH4_STEP3_REST_P                         IMPT 00000000   5714 26119 26484 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5709 26109 26469 
_SH4_STEP3_TIM                            IMPT 00000000   5729 26129 26529 
_SH4_STEP4_FRQ                            IMPT 00000000   5725 25800 26517 
_SH4_STEP4_PV_PLS                         IMPT 00000000   5720 25790 26502 
_SH4_STEP4_REST_P                         IMPT 00000000   5715 25795 26487 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5710 25785 26472 
_SH4_STEP4_TIM                            IMPT 00000000   5730 25805 26532 
_SH4_STEP5_FRQ                            IMPT 00000000   5726 26520 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5721 26505 
_SH4_STEP5_REST_P                         IMPT 00000000   5716 26490 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5711 26475 
_SH4_STEP5_TIM                            IMPT 00000000   5731 26535 
_SH4_STEP_FRQ                             IMPT 00000000   5737 25693 
_SH4_STEP_PV_PLS                          IMPT 00000000   5735 25676 
_SH4_STEP_REST_P                          IMPT 00000000   5736 25681 
_SH4_STEP_SV_PLS                          IMPT 00000000   5734 25671 
_SH4_STEP_TIM                             IMPT 00000000   5738 25698 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5696 
_SH4_TOTAL_PLS                            IMPT 00000000   5732 25686 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4006 19848 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4007 19846 20452 20517 
_SH_2B                                    EQU  00000000  31524*31644 31659 31666 
_SH_4B                                    EQU  00000000  31525*31547 31553 31558 31563 31568 31591 31606 31614 
_SH_8B                                    EQU  00000000  31526*31575 31583 31598 
_SH_CNTSTOP_FLG                           IMPT 00000000  31620 31659 
_SH_OUTPLS_DELT                           IMPT 00000000  31662 31666 
_SH_POSCTL_ACC                            IMPT 00000000  31509 31558 
_SH_POSCTL_CAL_REST                       IMPT 00000000  31515 31591 
_SH_POSCTL_HENSA                          IMPT 00000000  31516 31606 
_SH_POSCTL_LSIFREQ                        IMPT 00000000  31517 31614 
_SH_POSCTL_OFS                            IMPT 00000000  31510 31563 
_SH_POSCTL_PV_ABSPLS                      IMPT 00000000  31513 31598 
_SH_POSCTL_REST_PLS                       IMPT 00000000  31514 31568 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000  29772 31512 31583 31724 31725 
_SH_POSCTL_RL_SPD                         IMPT 00000000  31508 31553 
_SH_POSCTL_SV_ABSPLS                      IMPT 00000000  31511 31575 
_SH_POSCTL_SV_SPD                         IMPT 00000000  31507 31547 
_SH_SQ200_IN                              IMPT 00000000  31619 31644 
_SINKAKU_INF                              IMPT 00000000   3275 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3277 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3276 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3279 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   666

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3278 
_SINWK_CALC_SCAN                          IMPT 00000000   3287 
_SIN_RCAMOF_SW1                           IMPT 00000000   3303 
_SIN_RCAMON_SW1                           IMPT 00000000   3302 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3282 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3306 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3281 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3305 
_SLIDALM_CHK_FLG                          IMPT 00000000   4364 
_SLIDALM_CHK_POS                          IMPT 00000000   4366 
_SLIDALM_CHK_TIM                          IMPT 00000000   4365 
_SLIDALM_POS_MINAS                        IMPT 00000000   4368 
_SLIDALM_POS_PULAS                        IMPT 00000000   4367 
_SPD_CTL_EMG_STOP                P             0000688C  18089 31179*
_SPD_CTL_SLOW_STOP               P             000068A0  18141 31207*
_SPD_CTL_START                   P             00006858  18505 31130*
_SPD_PER_MAX                              EQU  00002710   1999*21290 21295 
_SPD_STEP_CHG_FWD                P             00001E6C  11742 13417*21547 
_SPD_UPLIMT_CALC                 P             0000637C  29985*34891 
_SPLCHK_FLG                               IMPT 00000000   4998 
_SPLCHK_TIM                               IMPT 00000000   4999 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5071 
_SQ_CBWK_TOP                              IMPT 00000000   6191  6612  6975 10862 10886 10925 10958 10965 12144 12161 12780 14183 
                                                         22293 22690 24033 24056 24111 24146 29040 29073 33252 33318 33913 33920 
                                                         34665 34672 35944 
_SQ_OVERH_CMP                             IMPT 00000000   4677 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4026 
_START_ACK_COD                            EQU  00004321    213*
_START_CNT_BANK2_MAK_CHK         P             00005C30   6922  6953 28171*
_START_FLG_AFTER_EMG                      IMPT 00000000   3356 10266 
_START_REQ_COD                            EQU  00009876    212*
_STEP_CMPERR_TIMX1                        IMPT 00000000   5333 
_STOPCHK_INC_POS                          IMPT 00000000   3240 
_STOPCHK_RNA_POS                          IMPT 00000000   3239 
_STOPPING_STOP_POS                        IMPT 00000000   2637 
_STOPPING_STOP_TIM                        IMPT 00000000   2639 
_STOPPING_TIM_FLG                         IMPT 00000000   2638 
_STOPPING_TIM_PV1                         IMPT 00000000   2640 
_STOPPING_TIM_PV2                         IMPT 00000000   2641 
_STOPPING_TIM_STOP_INI                    IMPT 00000000   6151 
_STOPPING_VLVOFF_POS                      IMPT 00000000   2636 
_STOP_360ENC_DIG                          IMPT 00000000   4059 
_STOP_ERR_LATCH                           IMPT 00000000   3477 
_STOP_LATCH                               IMPT 00000000   2619  6644 11748 12457 27497 28440 31654 33289 
_STOP_LATCH_B                             IMPT 00000000   2620  6646 12262 27489 28380 28427 28482 31648 33291 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2870 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2868 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2867 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2869 
_STOP_LTH_OUT                             IMPT 00000000   6149 12268 28597 
_STR_ENC3600_DIG                          IMPT 00000000   2787  7623 33378 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2788 
_SVCHK_SCAN                               IMPT 00000000   4696 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3225 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   667

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SVP_ATSLID_BAKLNG                        IMPT 00000000  33553 34144 
_SVP_ATSLID_COEF1                         IMPT 00000000  33554 34151 34579 
_SVP_ATSLID_DNOBJ1                        IMPT 00000000  33551 34130 
_SVP_ATSLID_OBJ1                          IMPT 00000000  33550 33568 34159 
_SVP_ATSLID_UPOBJ1                        IMPT 00000000  33552 34137 
_SVP_DNAREA_JUDG                          IMPT 00000000   8050  8079 
_SVP_DND_STOPDIG1                         IMPT 00000000   8049  8076  8189  8235 
_SVP_KAJOBJ_HAB                           IMPT 00000000  23522 23737 23836 
_SVP_MACINE_SEL1                          IMPT 00000000   6085 18400 
_SVP_OBJECT_SPD_TOP                       IMPT 00000000   6278 36006 36299 
_SVP_ORGLDN_DEG                           IMPT 00000000  23291 
_SVP_ORGLUP_DEG                           IMPT 00000000  23290 
_SVP_ORGRDN_DEG                           IMPT 00000000  23289 
_SVP_ORGRUP_DEG                           IMPT 00000000  23288 
_SVP_OVERLIDE_COF                         IMPT 00000000  29243 29259 
_SVP_SLID_POS1                            IMPT 00000000  34555 34601 
_SVP_SLID_POS2                            IMPT 00000000  34556 34622 
_SVP_SLID_POS3                            IMPT 00000000  34557 34643 
_SVP_SLPOS_DIR                            IMPT 00000000  33555 33615 
_SVP_SL_TENPOS                            IMPT 00000000  33556 34108 34564 
_SVP_UPAREA_SPD0                          IMPT 00000000   6279 35997 36309 
_SVX_DNM_MAXSPM                           IMPT 00000000   4245 
_SVX_OBJ_SPD_OLDTOP                       IMPT 00000000  35793 36007 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3531 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3532 
_SVX_UPAREA_SPD0OLD                       IMPT 00000000  35794 35998 
_SV_CHG_FLG1                              IMPT 00000000   3318 
_SV_CHG_FLG2                              IMPT 00000000   3319 
_SV_CONST_SUB_PV                          IMPT 00000000   3946 27345 
_SV_DAT_ERR1                              IMPT 00000000   3320 
_SV_OBJ360                                IMPT 00000000   3503 22423 
_SV_POS_CTL_STEP                          IMPT 00000000   2820  6890 10196 10206 12339 12404 12554 13324 13523 17224 27661 28230 
                                                         28305 32996 
_SV_REAL_PLS                              IMPT 00000000   3947 
_SV_REAL_SUB_PV                           IMPT 00000000   3948 27369 
_SW_DEV_MASK_FLG                          IMPT 00000000   2628 
_SYNC2_ERR_HABPLS1                        EQU  00001F40  31834*31863 
_SYNC2_ERR_HOSHAB1                        EQU  0000012C  31836*31887 
_SYNC2_ERR_HOSHAB2                        EQU  00000190  31837*31902 
_SYNC2_ERR_HOSHAB3                        EQU  000001F4  31838*31916 
_SYNC2_ERR_HOSHAB4                        EQU  000003E8  31839*31931 
_SYNC2_ERR_HOSHAB5                        EQU  000005DC  31840*31945 
_SYNC2_ERR_HOSHAB6                        EQU  000007D0  31841*31959 
_SYNC2_ERR_HOSHAB7                        EQU  000009C4  31842*31973 
_SYNC2_HOS_SPD1                           EQU  00000001  31845*31906 
_SYNC2_HOS_SPD2                           EQU  00000004  31846*31920 
_SYNC2_HOS_SPD3                           EQU  00000008  31847*31935 
_SYNC2_HOS_SPD4                           EQU  00000020  31848*31949 
_SYNC2_HOS_SPD5                           EQU  00000040  31849*31963 
_SYNC2_HOS_SPD6                           EQU  00000080  31850*31977 
_SYNC2_HOS_SPD7                           EQU  00000100  31851*31988 
_SYNC2_HOS_SPD8                           EQU  00000200  31852*31869 
_SYNC_ERR_HABPLS1                         EQU  00001770   6053*
_SYNC_ERR_HOSHAB                          EQU  000007D0   6054*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   668

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SYNC_ERR_HOSHAB_M                        EQU  00000064   6055*
_SYNC_GEN_HOS_ADD                         EQU  00000001   6059*
_SYNC_GEN_HOS_ERR                         EQU  00000064   6057*
_SYNC_GEN_HOS_HAB                         EQU  00000001   6058*
_SYS2_DT_LOAD                             IMPT 00000000  35832 36087 
_SYS_BSAME_TIM                            EQU  000001F4   2010*
_SYS_SETUP_TIM                            EQU  000007D0   2011*
_SYS_STOPPING_TIM                         EQU  00000032   2012*
_TABLE_ERR_FLG                            IMPT 00000000   2485 
_TBLACC_ACC_ADDCHK               P             00008B26  38483 38567 39356*
_TBLACC_STEP_SP_MAKE             P             000087B4  37948 38415*
_TBLACC_STOP_SP_MAKE             P             00008768  37943 38320*
_TBL_ANS_ACCTIM                           IMPT 00000000   4241 
_TBL_ANS_ACC_SEL                          IMPT 00000000   4243 
_TBL_ANS_MAXSPM                           IMPT 00000000   4242 
_TBL_USE_POS0                             IMPT 00000000   4240 
_TECH2_KJYU_DIG                           IMPT 00000000   4508 
_TECH2_KJYU_LNG                           IMPT 00000000   4506 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4499 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4500 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4501 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4502 
_TECH2_KJYU_LT2PLS                        IMPT 00000000   4503 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4504 
_TECH2_KJYU_PLS                           IMPT 00000000   4507 
_TECH2_KJYU_PLSX                          IMPT 00000000   4505 
_TECH2_KN_FLG                             IMPT 00000000   4509 
_TECH_USED_F                              IMPT 00000000   4546 
_TECH_WK_DIG1                             IMPT 00000000   4539 
_TECH_WK_DIG2                             IMPT 00000000   4540 
_TECH_WK_DIG3                             IMPT 00000000   4541 
_TECH_WK_DIG4                             IMPT 00000000   4542 
_TECH_WK_PLS1                             IMPT 00000000   4538 
_TEPA_ADD_LSI                    P             00002BB0  15300 16204*
_TEPA_PLSCNT_CHK                 P        EXPT 00002B68  15145 16136*
_TEPA_PLSCNT_CLR                 P        EXPT 00002B3C  15144 16093*
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4402 16001 16161 16176 
_TEPA_START_CHK                  P        EXPT 00002AF0  15143 15996*
_TEP_1STEP_DATA_MAK1             P             000029C0  10416 15502 15710*16329 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3804 16311 16616 
_TEP_ADD_PLS_MAK                 P             00002950  15181 15414 15624*
_TEP_CHG_SPD1                             IMPT 00000000   3808 16401 16425 16495 16521 16544 
_TEP_CHG_SPD2                             IMPT 00000000   3809 16403 16427 16523 16569 
_TEP_CNTSMP_TIM                           IMPT 00000000   4752 15171 15427 16288 
_TEP_DND_SPD_PLS                          IMPT 00000000   4751 
_TEP_DNPOS_HIS                            EQU  00000064  15874*15903 
_TEP_DTMAK                       P        EXPT 00002D8C  16596 16603*
_TEP_FLG_CLR                     P        EXPT 00002ACA  15142 15953*
_TEP_FLG_START                   P             00002ADC  15970*16037 
_TEP_INPLS_FLG                            IMPT 00000000   3799 15467 15591 15641 15827 16223 
_TEP_IN_ADD                               IMPT 00000000   3793 15630 15670 16013 16110 16153 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3806 16660 30727 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3805 16487 16649 31345 
_TEP_MODE_DRV                             IMPT 00000000   3795  7412 10399 13604 15958 15975 30719 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   669

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TEP_POS_ADD_CNT                          IMPT 00000000   3791 15224 15336 15586 15677 15730 15751 15761 16113 16299 16342 16456 
_TEP_REVPLS_LT_CLR               P             00002E1C  15218 15273 15472 15598 16743*
_TEP_REVPLS_LT_FLG                        IMPT 00000000   4753 16215 16270 16748 
_TEP_SPD_CALC1                   P             00002C88  15479 16390*
_TEP_SPD_CALC2                   P             00002CB4  16320 16420*
_TEP_SPD_CALC3                   P             00002D30  16261 16515*
_TEP_SPD_CALC_COM                P             00002CE0  16397 16433 16451*
_TEP_SPD_SET                     P             00002D50  15483 16539*
_TEP_SPD_SET_CHG                 P             00002D68  16265 16324 16561*
_TEP_START_INIT1                 P             00002920  15365 15395 15532 15576*
_TEP_STEP_FLG                             IMPT 00000000   3796 15185 15235 15268 15347 15582 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3803 16295 16430 16634 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3802 15279 16394 16628 16631 
_TEP_STEP_WTTM                            IMPT 00000000   3797 15281 15316 15429 
_TIM_1MSEC                                EQU  0000000A   1996* 2010  2011  2012  2017 
_TIM_CNT010MS_DT                          EQU  0000000A   2326*
_TIM_CNT100MS_DT                          EQU  00000064   2327*
_TIM_SEC                                  EQU  00002710   1995*
_TMP_SCI_DEBUG                            IMPT 00000000   5275 
_TRD_CLR_CMD                              IMPT 00000000   5407 
_TRD_DP_MOV_CNT                           IMPT 00000000   5413 
_TRD_DP_MOV_FLG                           IMPT 00000000   5412 
_TRD_EVENT_COD                            IMPT 00000000   5402 
_TRD_EVENT_LATCH                          IMPT 00000000   5404 
_TRD_LATE_PV                              IMPT 00000000   5409 
_TRD_LATE_SV                              IMPT 00000000   5408 
_TRD_POINT_END                            IMPT 00000000   5406 
_TRD_POINT_EVENT                          IMPT 00000000   5405 
_TRD_SIG_SET                              IMPT 00000000  19784 19786 
_TRD_SMP_DAT1                             IMPT 00000000   5393 
_TRD_SMP_DAT2                             IMPT 00000000   5394 
_TRD_SMP_DAT3                             IMPT 00000000   5395 
_TRD_SMP_DAT4                             IMPT 00000000   5396 
_TRD_SMP_DAT5                             IMPT 00000000   5397 
_TRD_SMP_DAT6                             IMPT 00000000   5398 
_TRD_SMP_DAT7                             IMPT 00000000   5399 
_TRD_SMP_DAT8                             IMPT 00000000   5400 
_TRD_SMP_FLG                              IMPT 00000000   5410 
_TRD_SMP_POINT                            IMPT 00000000   5401 
_UP360_CHK_LIST                           IMPT 00000000   4041 
_UP360_JGDIG                              EQU  00000028   2038*
_UPDN_DIRJG_DIG                           EQU  00000708   2004* 9651 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5225 
_UPLIMIT_START_F                          IMPT 00000000   4707 17045 29989 32318 
_UPLIMIT_SV_SPD                           IMPT 00000000   4706 29995 32298 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4667 
_UPMSK2_DRVSEL                            IMPT 00000000   4669 
_UPMSK2_MATH                              IMPT 00000000   4668 
_UPMSK2_MOD                               IMPT 00000000   4665 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4666 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4670 
_UPPLS1_OBJMAK_COMMON            P             00000AD4   9098  9212* 9624 
_UP_ACCERR_START_INI                      IMPT 00000000   6237 10500 12725 
_UP_HOLD_DIG                              IMPT 00000000   2625 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   670

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_UP_HOLD_FLG                              IMPT 00000000   2626  7267 
_UP_HOLD_STEP                             IMPT 00000000   2622 
_UP_HOLD_STEP1                            IMPT 00000000   2623 
_UP_HOLD_STEP2                            IMPT 00000000   2624 
_USE_IN_TBL_MOV                  P        EXPT 00007EC8  35585 36586*
_VALV_OFF_DIG_CLANK                       IMPT 00000000   3479 
_VALV_ON_FLG                              IMPT 00000000   4053 
_VIB_DLY_TIM                              IMPT 00000000   4195 
_VIB_GET_SET_TIM                          IMPT 00000000   4192 
_VIB_PLS_OUT_OF                           IMPT 00000000   6174 17138 35278 39757 
_VIB_PLS_OUT_ON                           IMPT 00000000   6173 18513 
_VIB_PV_UP_TIM                            IMPT 00000000   4194 
_VIB_STEP_COM                             IMPT 00000000   4191 
_VIB_STEP_FLG                             IMPT 00000000   4190 
_VIB_USE_SET_TIM                          IMPT 00000000   4193 
_VON1_OF                                  IMPT 00000000   5464 
_VON1_ON                                  IMPT 00000000   5463 
_VON2_OF                                  IMPT 00000000   5466 
_VON2_ON                                  IMPT 00000000   5465 
_VON3_OF                                  IMPT 00000000   5468 
_VON3_ON                                  IMPT 00000000   5467 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2351* 6498  6657  7199 11762 12051 12251 12448 19680 20150 29305 32211 
                                                         32565 
_W1DIC                                    EQU  00000020   2353*10260 10644 
_W1DUP                                    EQU  00000040   2354* 6697 10260 10648 13599 14172 
_W1END                                    EQU  00000080   2355*
_W1INC                                    EQU  00000002   2349* 6498  6657 12448 12452 19680 29305 32281 32565 
_W1LNC                                    EQU  00000400   2359*
_W1LNO                                    EQU  00000800   2360*
_W1OFF                                    EQU  00000001   2348*
_W1OPT                                    EQU  00000010   2352* 6498  6657  7199 19680 29305 32565 
_W1REV                                    EQU  00004000   2367*
_W1RNC                                    EQU  00000100   2356*
_W1RNO                                    EQU  00000200   2357*
_W1RST                                    EQU  00008000   2368*
_W1SGL                                    EQU  00000004   2350* 6498  6657  7199  7263 18943 19680 24592 24791 24860 24992 25180 
                                                         29305 32565 
_W1SNC                                    EQU  00001000   2365*
_W1SNO                                    EQU  00002000   2366*
_W2LS1                                    EQU  00000004   2370*
_W2LS2                                    EQU  00000008   2371*
_W2SUP                                    EQU  00000080   2375*
_W2WT1                                    EQU  00000010   2372*
_W2WT2                                    EQU  00000020   2373*
_W2WT3                                    EQU  00000040   2374*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5075 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4813 23313 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4811 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4812 
_WAIT_TIM_CNT                    P             00001D1C  13071*
_WFSYS_MAX_STEP_SEL                       IMPT 00000000   3511 
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3510 11755 
_WKSQCB200                                EQU  00000000   2104*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   671

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB201                                EQU  00000002   2105*
_WKSQCB202                                EQU  00000004   2106*
_WKSQCB203                                EQU  00000006   2107*
_WKSQCB204                                EQU  00000008   2108*
_WKSQCB205                                EQU  0000000A   2109*
_WKSQCB206                                EQU  0000000C   2110* 6612 10862 10886 12144 12161 12780 14183 33252 
_WKSQCB207                                EQU  0000000E   2111* 6975 33318 
_WKSQCB208                                EQU  00000010   2112*
_WKSQCB209                                EQU  00000012   2113*
_WKSQCB210                                EQU  00000014   2114*
_WKSQCB211                                EQU  00000016   2115*
_WKSQCB212                                EQU  00000018   2116*
_WKSQCB213                                EQU  0000001A   2117*
_WKSQCB214                                EQU  0000001C   2118*
_WKSQCB215                                EQU  0000001E   2119*
_WKSQCB216                                EQU  00000020   2120*
_WKSQCB217                                EQU  00000022   2121*
_WKSQCB218                                EQU  00000024   2122*
_WKSQCB219                                EQU  00000026   2123*
_WKSQCB220                                EQU  00000028   2124*
_WKSQCB221                                EQU  0000002A   2125*
_WKSQCB222                                EQU  0000002C   2126*
_WKSQCB223                                EQU  0000002E   2127*
_WKSQCB224                                EQU  00000030   2128*22690 24111 24146 
_WKSQCB225                                EQU  00000032   2129*
_WKSQCB226                                EQU  00000034   2130*
_WKSQCB227                                EQU  00000036   2131*24033 24056 
_WKSQCB228                                EQU  00000038   2132*
_WKSQCB229                                EQU  0000003A   2133*
_WKSQCB230                                EQU  0000003C   2134*29040 29073 
_WKSQCB231                                EQU  0000003E   2135*10925 
_WKSQCB232                                EQU  00000040   2136*10958 
_WKSQCB233                                EQU  00000042   2137*10965 
_WKSQCB234                                EQU  00000044   2138*
_WKSQCB235                                EQU  00000046   2139*
_WKSQCB236                                EQU  00000048   2140*
_WKSQCB237                                EQU  0000004A   2141*
_WKSQCB238                                EQU  0000004C   2142*
_WKSQCB239                                EQU  0000004E   2143*
_WKSQCB240                                EQU  00000050   2144*
_WKSQCB241                                EQU  00000052   2145*
_WKSQCB242                                EQU  00000054   2146*
_WKSQCB243                                EQU  00000056   2147*
_WKSQCB244                                EQU  00000058   2148*
_WKSQCB245                                EQU  0000005A   2149*
_WKSQCB246                                EQU  0000005C   2150*
_WKSQCB247                                EQU  0000005E   2151*22293 
_WKSQCB248                                EQU  00000060   2152*
_WKSQCB249                                EQU  00000062   2153*
_WKSQCB250                                EQU  00000064   2154*
_WKSQCB251                                EQU  00000066   2155*33913 33920 34665 34672 
_WKSQCB252                                EQU  00000068   2156*
_WKSQCB253                                EQU  0000006A   2157*
_WKSQCB254                                EQU  0000006C   2158*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   672

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB255                                EQU  0000006E   2159*
_WKSQCB256                                EQU  00000070   2160*
_WKSQCB257                                EQU  00000072   2161*
_WKSQCB258                                EQU  00000074   2162*35944 
_WKSQCB259                                EQU  00000076   2163*
_WKSQCB260                                EQU  00000078   2164*
_WKSQCB261                                EQU  0000007A   2165*
_WKSQCB262                                EQU  0000007C   2166*
_WKSQCB263                                EQU  0000007E   2167*
_WKSQCB264                                EQU  00000080   2168*
_WKSQCB265                                EQU  00000082   2169*
_WKSQCB266                                EQU  00000084   2170*
_WKSQCB267                                EQU  00000086   2171*
_WKSQCB268                                EQU  00000088   2172*
_WKSQCB269                                EQU  0000008A   2173*
_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3522 24550 24553 24598 24648 24653 24658 24744 24800 24802 24878 24917 
                                                         25011 25050 25054 25068 25092 25126 25223 25226 25236 25242 25250 25263 
                                                         25269 25275 25283 25286 25297 25302 25325 25424 25430 25599 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3300 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3299 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3285 
_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3292 
_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3293 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3284 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3290 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3291 
_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3297 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3296 
_WOANT                                    EQU  00000010   2337*
_WOATO                                    EQU  00000040   2339* 7205 
_WOFCY                                    EQU  00000080   2340*
_WOQST                                    EQU  00000001   2333*
_WORCY                                    EQU  00000100   2341*
_WORDY                                    EQU  00000020   2338*
_WORD_BIT_TBL1                            IMPT 00000000  23989 24016 
_WORST                                    EQU  00000200   2342*
_WOVN1                                    EQU  00000002   2334*
_WOVN2                                    EQU  00000004   2335*
_WOVN3                                    EQU  00000008   2336*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4588  8647 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4396 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4397  9162 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4146 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4148 33484 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4147 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4113 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4114 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4111 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4112 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4117 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4118 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4115 
_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4116 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4689 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   673

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPARX_ELSE_ORGPLS                        IMPT 00000000   4688  9142 
_WPAR_360STP_HAB                          IMPT 00000000   4038 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3964 30902 
_WPAR_ACC_MATHED                          IMPT 00000000   4208 
_WPAR_ANAIN_SEL                           IMPT 00000000   3962 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4635 
_WPAR_BRK1_ACCTM                          IMPT 00000000   3393 30976 31008 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3392 
_WPAR_BRK2_ACCTM                          IMPT 00000000   3394 31044 
_WPAR_BRKTCHK_SPD                         IMPT 00000000   4136 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4135 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4395 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3391 21310 
_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4289 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4290 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3335 
_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3336 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3333 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3334 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4300 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3340 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3341 
_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3338 
_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3339 
_WPAR_COP_SDG1                            IMPT 00000000   3345 
_WPAR_COP_SDG2                            IMPT 00000000   3346 
_WPAR_COP_ZDG1                            IMPT 00000000   3343 
_WPAR_COP_ZDG2                            IMPT 00000000   3344 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4037 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4354 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2953 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2950 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2951 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2954 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2949 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2952 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3397 
_WPAR_ILNGERR_LNG                         IMPT 00000000   3396 
_WPAR_INCOVER_LNG                         IMPT 00000000   3362 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3363 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3364 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3365 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3369 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3367 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3368 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4183 
_WPAR_LSA_FILTIM                          IMPT 00000000   3731 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4036 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4319 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3816 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4379 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3865 
_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3371 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4137 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   674

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_SLDALM_LNG                          IMPT 00000000   4361 
_WPAR_SLDALM_TIM                          IMPT 00000000   4362 
_WPAR_STOPING_TIM                         IMPT 00000000   4206 
_WPAR_ZERO_SPD                            IMPT 00000000   3390 21278 
_WPVX_KAJLIV_TTL                          IMPT 00000000   4186 
_WPV_ABS_AD_DATA                          IMPT 00000000   3970 
_WPV_AD_DATA                              IMPT 00000000   3969 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5390 
_WPV_CB_STS_POINT                         IMPT 00000000   5415 
_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5391 
_WPV_CB_TRD_POINT                         IMPT 00000000   5416 
_WPV_POWER_MONI                           IMPT 00000000   3971 
_WPV_POWER_ON_CNT                         IMPT 00000000   5417 
_WPV_SCAN_MAX01                           IMPT 00000000   4771 
_WPV_SCAN_MAX10                           IMPT 00000000   4770 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4767 
_WPV_SCAN_TIM_REAL                        IMPT 00000000   4766 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2215*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2216*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2217*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2218*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4103 
_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4105 
_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4104 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2697 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2699 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2698 
_WXPV_ERR_DISP                            IMPT 00000000   3641 
_W_PARAM_TOP                              IMPT 00000000   4554  7064  7194  7211  7256 14316 16609 16621 16638 21702 22343 22368 
                                                         22552 23558 23831 23840 24215 24287 24335 24393 32155 32215 32292 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5272 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5267 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5260 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5265 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5264 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5273 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5261 
_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5263 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5271 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5262 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5268 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   5626 
_ZERO_INCENC                              EQU  00000000   2047*
_ZERO_INCHEN                              EQU  00000000   2046*
_ZERO_INCREV                              EQU  00000000   2051*
_ZERO_INCRNA                              EQU  00000001   2048*
_ZERO_INCSTP                              EQU  00000000   2049*
_ZERO_RNAREV                              EQU  00000001   2052*
_ZERO_RNASTP                              EQU  00000001   2050*
_cbsys_tbl_err                            IMPT 00000000   4228 
_di1_cb_ctl1                              IMPT 00000000   2490 
_di1_cb_ctl1_dt                           IMPT 00000000   2498 31621 
_di1_cb_ctl1_of                           IMPT 00000000   2500 
_di1_cb_ctl1_on                           IMPT 00000000   2499 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   675

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_di2_cb_ctl2                              IMPT 00000000   2491 12834 12880 12926 27826 
_di2_cb_ctl2_dt                           IMPT 00000000   2502 
_di2_cb_ctl2_of                           IMPT 00000000   2504 
_di2_cb_ctl2_on                           IMPT 00000000   2503 
_di3_cb_inp1                              IMPT 00000000   2492 
_di3_cb_inp1_dt                           IMPT 00000000   2496 
_di4_cb_inp2                              IMPT 00000000   2493 
_dq1_cb_out1                              IMPT 00000000   2494  7203 
_dum_SET_PV_ABS_TO_OBJ           P             00006C48   8431  8967  9043  9392 11082 11164 11422 12577 13833 13894 13963 14012 
                                                         14943 27853 32098*33208 
_emg_err_flg                              IMPT 00000000   2574 10005 36022 
_emg_lev_flg                              IMPT 00000000   2573 
_exq_err_flg                              IMPT 00000000   2577 36024 
_exq_lev_flg                              IMPT 00000000   2575 
_pass_err_flg1                            IMPT 00000000   2571 
_pass_err_flg2                            IMPT 00000000   2572 
_poslsi1_top                              IMPT 00000000   6317 17372 17405 17736 17788 17819 17902 18180 18221 18281 18322 18418 
                                                         18465 18555 18629 18781 18810 18862 19433 20011 20020 20662 20669 20676 
                                                         20757 20791 20825 20854 20889 20925 20983 28547 30383 30500 30566 30618 
                                                         31440 31464 31488 
_reset_dly_tim                            IMPT 00000000   2595 
_reset_flg                                IMPT 00000000   2594 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:26:01                                                  PAGE   676

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    000008D54        
