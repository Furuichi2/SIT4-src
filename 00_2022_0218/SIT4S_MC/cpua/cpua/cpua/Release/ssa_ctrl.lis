*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     ｃ／ｂ制御                              ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 5855                              19     
 5856                              20     ;2015-11-15 二重回路対策の有効性の確認用
 5857                              21     ;1      .DEFINE         "1"
 5858                              22     ;0      .DEFINE         "0"
 5859                              23     
 5860                              24     _INCCMPERR_FORCE_USE    .DEFINE         "1"
 5861                              25     ;;1     .DEFINE         "0"
 5862                              26     
 5863                              27     
 5864                              28     
 5865 00000000                     29             .SECTION        P,CODE                  ;
 5866                              30     
 5867                              31     ;       //      ***********************************
 5868                              32     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 5869                              33     ;       //      ***********************************
 5870                              34             .INCLUDE        "ssa_krom.ext"          ; //
 5871                               1 I1  ;       ***************************
 5872                               2 I1  ;       ***     汎用ルーチン    ***
 5873                               3 I1  ;       ***************************
 5874                               4 I1          .GLOBAL         _EMG_OUT                ;ssa_khad.src
 5875                               5 I1          .GLOBAL         _EXQ_OUT                ;ssa_khad.src
 5876                               6 I1          .GLOBAL         _RESET_OUT              ;ssa_khad.src
 5877                               7 I1          .GLOBAL         _RESET_END_OUT          ;ssa_khad.src
 5878                               8 I1          .GLOBAL         _VON1_ON                ;ssa_khad.src
 5879                               9 I1          .GLOBAL         _VON1_OF                ;ssa_khad.src
 5880                              10 I1          .GLOBAL         _VON2_ON                ;ssa_khad.src
 5881                              11 I1          .GLOBAL         _VON2_OF                ;ssa_khad.src
 5882                              12 I1          .GLOBAL         _VON3_ON                ;ssa_khad.src
 5883                              13 I1          .GLOBAL         _VON3_OF                ;ssa_khad.src
 5884                              14 I1          .GLOBAL         _RDY_ON                 ;ssa_khad.src
 5885                              15 I1          .GLOBAL         _RDY_OF                 ;ssa_khad.src
 5886                              16 I1          .GLOBAL         _ANTI_ON                ;ssa_khad.src
 5887                              17 I1          .GLOBAL         _ANTI_OF                ;ssa_khad.src
 5888                              18 I1          .GLOBAL         _AUTO_ON                ;ssa_khad.src
 5889                              19 I1          .GLOBAL         _AUTO_OF                ;ssa_khad.src
 5890                              20 I1          .GLOBAL         _FRCYCL_OF              ;ssa_khad.src
 5891                              21 I1          .GLOBAL         _FRCYCL_ON              ;ssa_khad.src
 5892                              22 I1  
 5893                              23 I1  ;       *******************************************
 5894                              24 I1  ;       ***                                     ***
 5895                              25 I1  ;       ***     各状態ハンドシェイクと処理      ***
 5896                              26 I1  ;       ***                                     ***
 5897                              27 I1  ;       *******************************************
 5898                              28 I1  ;_SH4_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 5899                              29 I1  ;_SH2_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 5900                              30 I1  ;_SH4_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 5901                              31 I1  ;_SH2_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 5902                              32 I1  ;_SH4_HD_POS_START      .SRES   2       ;起動したい
 5903                              33 I1  ;_SH2_HD_POS_START      .SRES   2       ;起動したい
 5904                              34 I1  ;_SH4_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE     2
PROGRAM NAME =

 5905                              35 I1  ;_SH2_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 5906                              36 I1  ;_SH4_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 5907                              37 I1  ;_SH2_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 5908                              38 I1  ;_SH4_HD_CNT_STOP       .SRES   2       ;連続停止
 5909                              39 I1  ;_SH2_HD_CNT_STOP       .SRES   2       ;連続停止
 5910                              40 I1  ;_SH4_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 5911                              41 I1  ;_SH2_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 5912                              42 I1  
 5913                              43 I1  
 5914                              44 I1  ;       ***********************************
 5915                              45 I1  ;       ***                             ***
 5916                              46 I1  ;       ***     READY 準備完了          ***
 5917                              47 I1  ;       ***                             ***
 5918                              48 I1  ;       ***********************************
 5919                              49 I1          .GLOBAL _CPU_AB_RDY_OF_OUT
 5920                              50 I1          .GLOBAL _CPU_BA_RDY_OF_OUT
 5921                              51 I1          .GLOBAL _CPU_AB_RDY_ON_OUT
 5922                              52 I1          .GLOBAL _CPU_BA_RDY_ON_JG
 5923                              53 I1          .GLOBAL _CPU_AB_RDY_OF_JG
 5924                              54 I1  
 5925                              55 I1  ;       ***********************************
 5926                              56 I1  ;       ***                             ***
 5927                              57 I1  ;       ***     BUSY 準備未完了         ***
 5928                              58 I1  ;       ***                             ***
 5929                              59 I1  ;       ***********************************
 5930                              60 I1          .GLOBAL _CPU_AB_BSY_OF_OUT
 5931                              61 I1          .GLOBAL _CPU_BA_BSY_OF_OUT
 5932                              62 I1          .GLOBAL _CPU_AB_BSY_ON_OUT
 5933                              63 I1          .GLOBAL _CPU_BA_BSY_ON_JG
 5934                              64 I1          .GLOBAL _CPU_AB_BSY_OF_JG
 5935                              65 I1  
 5936                              66 I1  ;       ***********************************
 5937                              67 I1  ;       ***                             ***
 5938                              68 I1  ;       ***     STR 運転開始            ***
 5939                              69 I1  ;       ***                             ***
 5940                              70 I1  ;       ***********************************
 5941                              71 I1          .GLOBAL _CPU_AB_STR_OF_OUT
 5942                              72 I1          .GLOBAL _CPU_BA_STR_OF_OUT
 5943                              73 I1          .GLOBAL _CPU_AB_STR_ON_OUT
 5944                              74 I1          .GLOBAL _CPU_BA_STR_ON_JG
 5945                              75 I1          .GLOBAL _CPU_AB_STR_OF_JG
 5946                              76 I1  
 5947                              77 I1  ;       ***********************************
 5948                              78 I1  ;       ***                             ***
 5949                              79 I1  ;       ***     AUTO    開始            ***
 5950                              80 I1  ;       ***                             ***
 5951                              81 I1  ;       ***********************************
 5952                              82 I1          .GLOBAL _CPU_AB_DRVSTOP_OF_OUT
 5953                              83 I1          .GLOBAL _CPU_AB_DRVSTOP_ON_OUT  ;
 5954                              84 I1          .GLOBAL _CPU_BA_DRVSTOP_ON_JG   ;
 5955                              85 I1          .GLOBAL _CPU_BA_DRVSTOP_OF_OUT  ;
 5956                              86 I1  
 5957                              87 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_OUT
 5958                              88 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_OF_OUT
 5959                              89 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_ON_OUT
 5960                              90 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_ON_JG
 5961                              91 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_JG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE     3
PROGRAM NAME =

 5962                              92 I1  
 5963                              93 I1  ;       ***********************************
 5964                              94 I1  ;       ***                             ***
 5965                              95 I1  ;       ***     ニアゼロ開始            ***
 5966                              96 I1  ;       ***                             ***
 5967                              97 I1  ;       ***********************************
 5968                              98 I1          .GLOBAL _CPU_AB_NZR_OF_OUT
 5969                              99 I1          .GLOBAL _CPU_BA_NZR_OF_OUT
 5970                             100 I1          .GLOBAL _CPU_AB_NZR_ON_OUT
 5971                             101 I1          .GLOBAL _CPU_BA_NZR_ON_JG
 5972                             102 I1          .GLOBAL _CPU_AB_NZR_OF_JG
 5973                             103 I1  
 5974                             104 I1  
 5975                             105 I1  ;       ***********************************
 5976                             106 I1  ;       ***                             ***
 5977                             107 I1  ;       ***     連続停止                ***
 5978                             108 I1  ;       ***                             ***
 5979                             109 I1  ;       ***********************************
 5980                             110 I1          .GLOBAL _CPU_AB_CST_OF_OUT1     ;
 5981                             111 I1          .GLOBAL _CPU_AB_CST_OF_OUT2     ;
 5982                             112 I1          .GLOBAL _CPU_BA_CST_OF_OUT
 5983                             113 I1          .GLOBAL _CPU_AB_CST_ON_OUT1
 5984                             114 I1          .GLOBAL _CPU_AB_CST_ON_OUT2
 5985                             115 I1          .GLOBAL _CPU_BA_CST_ON_JG
 5986                             116 I1          .GLOBAL _CPU_AB_CST_OF_JG
 5987                             117 I1  
 5988                             118 I1  ;       ***********************************
 5989                             119 I1  ;       ***                             ***
 5990                             120 I1  ;       ***     ステップ停止            ***
 5991                             121 I1  ;       ***                             ***
 5992                             122 I1  ;       ***********************************
 5993                             123 I1          .GLOBAL _CPU_AB_CED_OF_OUT
 5994                             124 I1          .GLOBAL _CPU_BA_CED_OF_OUT
 5995                             125 I1          .GLOBAL _CPU_AB_CED_ON_OUT
 5996                             126 I1          .GLOBAL _CPU_BA_CED_ON_JG
 5997                             127 I1          .GLOBAL _CPU_AB_CED_OF_JG
 5998                             128 I1  
 5999                             129 I1  ;       ***********************************
 6000                             130 I1  ;       ***                             ***
 6001                             131 I1  ;       ***     相手CPUの工程をROへ     ***
 6002                             132 I1  ;       ***                             ***
 6003                             133 I1  ;       ***********************************
 6004                             134 I1          .GLOBAL _CPU_BA_STEP_LOAD
 6005                             135 I1  
 6006                             136 I1  ;       ***********************************
 6007                             137 I1  ;       ***                             ***
 6008                             138 I1  ;       ***     ｽﾗｲﾄﾞ自動待機(hold)     ***
 6009                             139 I1  ;       ***                             ***
 6010                             140 I1  ;       ***********************************
 6011                             141 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_ON_OUT       ;
 6012                             142 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_OF_OUT       ;
 6013                             143 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_ON_JG        ;
 6014                             144 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_OF_JG        ;
 6015                             145 I1  
 6016                             146 I1  ;       *******************************************
 6017                             147 I1  ;       ***             ssa_com1.src            ***
 6018                             148 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE     4
PROGRAM NAME =

 6019                             149 I1          .GLOBAL         _DIVS_32REG2_32REG1_R4_32REG2_R2        ;(R2/R4-->R2)
 6020                             150 I1          .GLOBAL         _DIVS_64R1R2_32R4_32R2                  ;(R1,R2/R4-->R2)
 6021                             151 I1          .GLOBAL         _DIVU_64R1R2_32R4_32R2                  ;
 6022                             152 I1          .GLOBAL         _HIGH_DIVS_32REG2_16REG1_R4_16REG2_R2   ;(R2/R4-->R2)
 6023                             153 I1          .GLOBAL         _HIGH_S32R2_MUL_S32R1_DIV_S32R4_S32R2   ;(R2*R1/R4-->R2)
 6024                             154 I1          .GLOBAL         _FPU_R2_MUL_R1_DIV_R4                   ;
 6025                             155 I1          .GLOBAL         _FPU_R2_MUL_R1_R3_DIV_R4                ;
 6026                             156 I1          .GLOBAL         _FPU_DIVS_32REG2_32REG1_R4_32REG2_R2    ;
 6027                             157 I1          .GLOBAL         _FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1   ;
 6028                             158 I1  
 6029                             159 I1          .GLOBAL         _MULDIV_R2S32mR1S32dR4S32aR1R2S64;
 6030                             160 I1          .GLOBAL         _MULDIV_R1R2S64mR3S32dR4S32aR1R2S64
 6031                             161 I1          .GLOBAL         _MUL_R1R2S64mR3S32aR1R2S64              ;
 6032                             162 I1  
 6033                             163 I1          .GLOBAL         _DIVS_64R1R2_32R4_64R1R2        ;
 6034                             164 I1          .GLOBAL         _DIVU_64R1R2_32R4_64R1R2        ;
 6035                             165 I1  
 6036                             166 I1          .GLOBAL         _DIG_AREA_CHK0
 6037                             167 I1          .GLOBAL         _DIG_AREA_CHK1
 6038                             168 I1  
 6039                             169 I1          .GLOBAL         _FPU_POS_HOKAN1
 6040                             170 I1          .GLOBAL         _FPU_TIM_HOKAN1
 6041                             171 I1          .GLOBAL         _X_R2_MUL_R1_DIV_R4
 6042                              35             .IMPORT         _SELF_START_CONF        ;ssa_self.src
 6043                              36     
 6044                              37             .IMPORT         _MN_POS_CTRL_START              ;ssa_pos1.src
 6045                              38             .IMPORT         _MN_POS_CTRL_ACT                ;ssa_pos1.src
 6046                              39             .IMPORT         _NOW_POS_PRESET_OUTPLS          ;現在位置を目標位置に変える
 6047                              40     
 6048                              41             .IMPORT         _UP_AREA_DATCHK                 ;ssa_dtmk.src
 6049                              42             .IMPORT         _DAT_MOSTPOS_SIG_CLR
 6050                              43             .IMPORT         _ORG_END_SIG_CLR
 6051                              44     
 6052                              45             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6053                              46     
 6054                              47             .IMPORT         _RESET_ERR_SEQ_CLR
 6055                              48             .IMPORT         _RESET_ERR_SEQ_CLR1     ;2010-12-10
 6056                              49             .IMPORT         _RESET_ERR_SEQ_CLR2     ;2010-12-10
 6057                              50             .IMPORT         _FUL_DATA_INIT
 6058                              51     
 6059                              52     ;       ===== 2003-06-06 ===
 6060                              53             .IMPORT         _DAI_MOSTPOS_SMPLE
 6061                              54             .IMPORT         _BRK_ERR_WORK_CLR1      ;ERR1.SRC
 6062                              55     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6063                              56     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6064                              57     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6065                              58             .IMPORT         _STOP_ERR_CHK
 6066                              59             .IMPORT         _LSA_ERRCLR_INI         ;2006-07-16 SSA_ERR1.SRC
 6067                              60     
 6068                              61             .IMPORT         _FWD_REV_STSIG_OFF              ;
 6069                              62             .IMPORT         _POS_LSI_SLOW_STOP              ;
 6070                              63     
 6071                              64             .IMPORT         _ERR_INFO_RST_CLR
 6072                              65     
 6073                              66             .IMPORT         _EXQ_STOP_LEV_POS_CLR           ;
 6074                              67             .IMPORT         _IRQ_EMG_STP_CLR                ;2004-04-04
 6075                              68     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE     5
PROGRAM NAME =

 6076                              69             .IMPORT         _GPOSIN_HOS_RESET
 6077                              70             .IMPORT         _CNTREST_HOS_RESET
 6078                              71     
 6079                              72             .IMPORT         _TEP_FLG_CLR                    ;FLGｸﾘｱ
 6080                              73             .IMPORT         _TEPA_START_CHK                 ;開始条件
 6081                              74             .IMPORT         _TEPA_PLSCNT_CLR                ;片手ONした瞬間0にする
 6082                              75             .IMPORT         _TEPA_PLSCNT_CHK                ;
 6083                              76     
 6084                              77     ;       ---------------------------------
 6085                              78             .IMPORT         _RNA_SCIF_ERR_CLR2              ;SCIF
 6086                              79     
 6087                              80             .IMPORT         _EMG_STOP                       ;
 6088                              81     
 6089                              82             .IMPORT         _API_BREAK_VALV_FLG_ON          ;
 6090                              83             .IMPORT         _API_BREAK_VALV_FLG_OF          ;2014-08-05
 6091                              84     
 6092                              85             .IMPORT         _PRESET_PV_FLGCLR               ;2014-09-14 異常が発生した
 6093                              86             .IMPORT         _NOW_INC_DIG_MAK                ;2014-09-26
 6094                              87     
 6095                              88     ;       //      ***********************************
 6096                              89     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6097                              90     ;       //      ***********************************
 6098                              91             .IMPORT         _LONG_BIT_TBL0
 6099                              92             .GLOBAL         _SQ_CBWK_TOP
 6100                              93     ;       ====================================
 6101                              94             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6102                              95             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6103                              96             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6104                              97             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6105                              98             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6106                              99             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6107                             100             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6108                             101             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6109                             102             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6110                             103             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6111                             104             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6112                             105             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6113                             106             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6114                             107             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
 6115                             108     ;       ==== 2003-07-09 ===
 6116                             109             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更 0:level 1:edge
 6117                             110             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6118                             111     
 6119                             112     ;       ==== 2006-04-10===
 6120                             113             .GLOBAL         _PAR_SFTY_BRKSEL        ;
 6121                             114             .GLOBAL         _PAR_BRKDISE_TIM        ;ﾌﾞﾚｰｷ釈放遅延時間3000msec
 6122                             115             .IMPORT         _PAR_BRKLOCK_TIM        ;ﾌﾞﾚｰｷﾛｯｸ遅延時間100msec
 6123                             116             .IMPORT         _PAR_SELF_WAIT_TM       ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの
                                          時間
 6124                             117             .IMPORT         _PAR_SLOCK_DLY2         ;
 6125                             118     
 6126                             119     
 6127                             120     ;       ==== 2011-09-06===
 6128                             121             .IMPORT         _PAR_UPCHK_SEL1
 6129                             122     
 6130                             123     
 6131                             124             .IMPORT         _PAR_UPMASK_SPD
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE     6
PROGRAM NAME =

 6132                             125             .IMPORT         _CB_SYS_PARAM000
 6133                             126     
 6134                             127     ;       ==== 2012-09-25===
 6135                             128             .IMPORT         _PAR_MYUTING_SEL        ;
 6136                             129     
 6137                             130     ;       ==== 2014-02-20===
 6138                             131             .IMPORT         _PAR_EXTDRV_SEL         ;
 6139                             132             .IMPORT         _PAR_BTNER_TM
 6140                             133             .IMPORT         _PAR_MYUTERR_SEL        ;3 0: 1:異常 行程異常を監視する[R02R03　20
                                          14-02-18]
 6141                             134     
 6142                             135     
 6143                             136     ;       ==== 2014-09-26===
 6144                             137             .IMPORT         _PAR_INCMODE_SEL
 6145                             138             .IMPORT         _PAR_INCMODE_EPLS
 6146                             139     
 6147                             140     ;       //      ***********************************
 6148                             141     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6149                             142     ;       //      ***********************************
 6150                             143             .EXPORT         _EMG_CTL_FLG_PROC       ;==>ssa_err1.src
 6151                             144             .EXPORT         _EXQ_CTL_FLG_PROC       ;==>ssa_err1.src
 6152                             145             .EXPORT         _STP_RST_FLG_PROC       ;==>ssa_err1.src
 6153                             146     
 6154                             147     
 6155                             148             .EXPORT         _RESET_CHEAK            ;==>ssa_cbmn.src
 6156                             149             .EXPORT         _MODE_CHANGE            ;==>ssa_cbmn.src
 6157                             150             .EXPORT         _MODE_CTRL              ;==>ssa_cbmn.src
 6158                             151             .EXPORT         _MODE_AREA_MAKE         ;ssa_ctrl.src 待機点AREA作成
 6159                             152     
 6160                             153             .EXPORT         _STEP_SIG_DSP_CLR
 6161                             154             .EXPORT         _STEP_SIG_DISP;
 6162                             155     
 6163                             156             .EXPORT         _STOPPING_TIM_MOV_INI
 6164                             157             .EXPORT         _STOPPING_TIM_STOP_INI
 6165                             158             .EXPORT         _STOPPING_TIM_CHK
 6166                             159     
 6167                             160             .IMPORT         _KJPHOS_SIG_CLR         ;2004-07-05 ssa_kjyu.inc
 6168                             161             .IMPORT         _KJPHOS_SAMPLING1       ;2004-07-05
 6169                             162     
 6170                             163     
 6171                             164             .IMPORT         _OVER_RID_UPDN_LAT_DTMK ;2005-01-17
 6172                             165             .IMPORT         _SET_PV_ABS_TO_OBJ      ;20060919
 6173                             166             .IMPORT         _OVERLID_DEF_SET        ;20060919
 6174                             167     
 6175                             168             .IMPORT         _LINK_CLANK_DIG_MAK             ;2009-07-17
 6176                             169     
 6177                             170             .AIF    0 EQ    0       ;
 6178                             171 C           .IMPORT _CBA_STS_BKUP_SAVE              ;2011-09-14 BAKUP
 6179                             172             .AENDI
 6180                             173     
 6181                             174     ;       ==== 2012-03-06====
 6182                             175             .IMPORT _BRKTMCAL_API1_STR              ;
 6183                             176             .IMPORT _BRKTMCAL_STG1_STOPINI          ;停止ソフト
 6184                             177             .IMPORT _BRKTMCAL_API3_ENDCNF1          ;
 6185                             178             .IMPORT _BRKTMCAL_API4_ENDCNF2          ;
 6186                             179     
 6187                             180     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE     7
PROGRAM NAME =

 6188                             181             .IMPORT _SH4_ORG_DIR_REV        ;原点復帰方向
 6189                             182     
 6190                             183             .IMPORT _SEQAB_DP_TOP           ;2014-08-30
 6191                             184             .IMPORT _EXQ_STOP               ;2014-08-30
 6192                             185             .IMPORT _SVP_INTLIM_SNO         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　行程
 6193                             186             .IMPORT _SVP_INTLIM_AGL         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　角度0.1度
 6194                             187             .IMPORT _SVP_INTLIM_POS         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　位置
 6195                             188             .IMPORT _SVP_WTTIM_MAX          ;//ｽﾗｲﾄﾞ自動待機機能  待機時間0.1秒
 6196                             189             .IMPORT _PVP_WTJUD_SNO          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（行程）
 6197                             190             .IMPORT _PVP_WTJUD_AGL          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（角度）0.1度
 6198                             191             .IMPORT _PVP_WTJUD_POS          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（位置）0.01mm
 6199                             192     
 6200                             193             .EXPORT _POS_HOLD_FLG_STR2CLR   ;2014-09-01
 6201                             194     
 6202                             195             .IMPORT _DNM_DATA_REV_SET       ;2014-09-18
 6203                             196             .IMPORT _PAR_MYU_BRK_SEL        ;2015-09-06
 6204                             197     
 6205                             198             .IMPORT _API_ENDHAND_SIGCHK     ;
 6206                             199     
 6207                             200              .AIF   1 EQ 1  ;
 6208                             201 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6209                             202              .AENDI
 6210                             203     ;       --------------------2016-07-18
 6211                             204             .IMPORT         _CPUA_LOT_CHK_FLG               ;2016-07-18CHECK
 6212                             205             .IMPORT         _CPUB_LOT_CHK_FLG               ;2016-07-18CHECK
 6213                             206             .IMPORT         _CPUA_LOT_CNT_FLG               ;
 6214                             207             .IMPORT         _CPUB_LOT_CNT_FLG               ;
 6215                             208             .IMPORT         _CPUA_CONT_MOD_CNT_PV           ;
 6216                             209             .IMPORT         _CPUB_CONT_MOD_CNT_PV           ;
 6217                             210             .IMPORT         _CPUB_DBG_MONI_CNT              ;2016-08-22
 6218                             211     
 6219                             212     ;       *******************************************
 6220                             213     ;       ***                                     ***
 6221                             214     ;       ***     リセット処理                    ***
 6222                             215     ;       ***                                     ***
 6223                             216     ;       *******************************************
 6224                             217     ;       (ｽﾃｯﾌﾟをある程度またぐ時はR5以上を使用する)
 6225                             218     ;       モードはリセット時に確定する
 6226                             219     ;
 6227                             220     
 6228 00000000                    221             .ALIGN  4                               ;
 6229 00000000                    222     _RESET_CHEAK:           ;==>ssa_cbmn.src
 6230                             223             SUB_START
 6231 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6232                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6233                             224     
 6234                             225     
 6235                             226              .AIF   1 EQ 1  ;
 6236                             227 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6237                             228              .AENDI
 6238                             229     ;       --------- 2016-10-31(2016-06-21)-------------
 6239                             230             FAR_JSR #_DNM_OBJ_AREA_SIG2,R0                  ;振り子の場合の目標の待機点信号
 6240 00000002 D01E                   M           MOV.L   #_DNM_OBJ_AREA_SIG2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6241 00000004 400B                   M           JSR     @R0                     ;
 6242 00000006 0009                   M           NOP                                     ;
 6243                             231     
 6244                             232     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE     8
PROGRAM NAME =

 6245                             233     ;       ======= EMG ====
 6246 00000008 D61D               234             MOV.L   #_reset_flg,R6          ;
 6247 0000000A D51E               235             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6248 0000000C 6051               236             MOV.W   @R5,R0                  ;
 6249 0000000E D11E               237             MOV.L   #_ERR_LEV_IN2,R1        ;2010-12-10追加
 6250 00000010 6211               238             MOV.W   @R1,R2                  ;
 6251 00000012 202B               239             OR      R2,R0                   ;
 6252 00000014 D11D               240             MOV.L   #_ERR_LEV_IN3,R1        ;2010-12-10追加
 6253 00000016 6211               241             MOV.W   @R1,R2                  ;
 6254 00000018 202B               242             OR      R2,R0                   ;
 6255 0000001A D11D               243             MOV.L   #_ERR_LEV_IN4,R1        ;2010-12-10追加
 6256 0000001C 6211               244             MOV.W   @R1,R2                  ;
 6257 0000001E 202B               245             OR      R2,R0                   ;
 6258 00000020 D11C               246             MOV.L   #_ERR_LEV_IN5,R1        ;2010-12-10追加
 6259 00000022 6211               247             MOV.W   @R1,R2                  ;
 6260 00000024 202B               248             OR      R2,R0                   ;
 6261 00000026 2008               249             TST     R0,R0                   ;
 6262                             250             TST_BIT_OF RESET_CHK_100        ;
 6263 00000028 8909                   M           BT      RESET_CHK_100
 6264 0000002A D516               251             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6265 0000002C 200A               252             XOR     R0,R0                   ;
 6266 0000002E 2501               253             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6267 00000030 9122               254             MOV.W   #BIT0,R1                ;
 6268 00000032 2611               255             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6269                             256             PUSH_REG1 R6
 6270 00000034 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6271                                 M                                           ;REG=>[SP]
 6272                                 M                                           ;"-4" FF,FF,FF,FC
 6273                             257             FAR_JSR #_EMG_OUT,R0            ;
 6274 00000036 D018                   M           MOV.L   #_EMG_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6275 00000038 400B                   M           JSR     @R0                     ;
 6276 0000003A 0009                   M           NOP                                     ;
 6277                             258             POP_REG1 R6
 6278                                 M                                   ; RE"+4" 00,00,00,04
 6279 0000003C 66F6                   M           MOV.L   @R15+,R6        ;
 6280                             259     
 6281 0000003E                    260     RESET_CHK_100:                          ;==>ssa_cbmn.src
 6282                             261     
 6283                             262     ;       ======= EXQ ====
 6284 0000003E D517               263             MOV.L   #_exq_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6285 00000040 6051               264             MOV.W   @R5,R0                  ;
 6286 00000042 2008               265             TST     R0,R0                   ;
 6287                             266             TST_BIT_OF RESET_CHK_200        ;
 6288 00000044 8908                   M           BT      RESET_CHK_200
 6289 00000046 200A               267             XOR     R0,R0                   ;
 6290 00000048 2501               268             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6291 0000004A 9115               269             MOV.W   #BIT0,R1                ;
 6292 0000004C 2611               270             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6293                             271             PUSH_REG1 R6
 6294 0000004E 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6295                                 M                                           ;REG=>[SP]
 6296                                 M                                           ;"-4" FF,FF,FF,FC
 6297                             272             FAR_JSR #_EXQ_OUT,R0            ;
 6298 00000050 D013                   M           MOV.L   #_EXQ_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6299 00000052 400B                   M           JSR     @R0                     ;
 6300 00000054 0009                   M           NOP                                     ;
 6301                             273             POP_REG1 R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE     9
PROGRAM NAME =

 6302                                 M                                   ; RE"+4" 00,00,00,04
 6303 00000056 66F6                   M           MOV.L   @R15+,R6        ;
 6304                             274     
 6305 00000058                    275     RESET_CHK_200:                          ;==>ssa_cbmn.src
 6306                             276     
 6307 00000058 6061               277             MOV.W   @R6,R0                  ;
 6308 0000005A 2008               278             TST     R0,R0                   ;ﾘｾｯﾄ必要?
 6309                             279             TST_BIT_ON RESET_CHK_300        ;YES
 6310 0000005C 8B26                   M           BF      RESET_CHK_300
 6311                             280     
 6312 0000005E D111               281             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6313 00000060 6011               282             MOV.W   @R1,R0                  ;
 6314 00000062 D111               283             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
 6315 00000064 6211               284             MOV.W   @R1,R2                  ;
 6316 00000066 202B               285             OR      R2,R0                   ;
 6317 00000068 2008               286             TST     R0,R0                   ;
 6318                             287             TST_BIT_OF RESET_CHK_250                                        ;
 6319 0000006A 8903                   M           BT      RESET_CHK_250
 6320 0000006C 0009               288             NOP                                                             ;ﾊﾞｸﾞ?//SEQ_CHK_BI
                                          T作成
 6321                             289             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;ﾘｾｯﾄ必要
 6322 0000006E D104                   M           MOV.L   #_reset_flg,R1          ;
 6323 00000070 9202                   M           MOV.W   #BIT0,R2                ;
 6324 00000072 2121                   M           MOV.W   R2,@R1  ;
 6325                             290     
 6326 00000074                    291     RESET_CHK_250:                                                          ;
 6327                             292             M_BRA   RESET_CHK_EXT                                           ;
 6328 00000074 A0EC                   M           BRA     RESET_CHK_EXT
 6329 00000076 0009                   M           NOP
 6330                             293     
 6331                             294     ;       ===== ﾘｾｯﾄが必要な状態======
 6332                                     ***** BEGIN-POOL *****
 6333 00000078 0001                       DATA FOR SOURCE-LINE 254,269,289
 6334 0000007A 0000                       ALIGNMENT CODE
 6335 0000007C 00000000                   DATA FOR SOURCE-LINE 230
 6336 00000080 00000000                   DATA FOR SOURCE-LINE 234,289
 6337 00000084 00000000                   DATA FOR SOURCE-LINE 235,251
 6338 00000088 00000000                   DATA FOR SOURCE-LINE 237
 6339 0000008C 00000000                   DATA FOR SOURCE-LINE 240
 6340 00000090 00000000                   DATA FOR SOURCE-LINE 243
 6341 00000094 00000000                   DATA FOR SOURCE-LINE 246
 6342 00000098 00000000                   DATA FOR SOURCE-LINE 257
 6343 0000009C 00000000                   DATA FOR SOURCE-LINE 263
 6344 000000A0 00000000                   DATA FOR SOURCE-LINE 272
 6345 000000A4 00000000                   DATA FOR SOURCE-LINE 281
 6346 000000A8 00000000                   DATA FOR SOURCE-LINE 283
 6347                                     ***** END-POOL *****
 6348 000000AC                    295     RESET_CHK_300:                          ;
 6349                             296                                             ;BIT0:ﾘｾｯﾄ必要       :EMGならANTI:OFF出力
 6350                             297                                             ;BIT1:ﾘｾｯﾄONｴｯｼﾞ有り :RST出力 400
 6351                             298                                             ;BIT2:ﾘｾｯﾄOFF        :遅延開始 500
 6352                             299                                             ;
 6353 000000AC C804               300             TST     #BIT2,R0                ;
 6354                             301             TST_BIT_OF RESET_CHK_305        ;
 6355 000000AE 8901                   M           BT      RESET_CHK_305
 6356                             302             M_BRA   RESET_CHK_500           ;遅延完了待ち
 6357 000000B0 A0A2                   M           BRA     RESET_CHK_500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    10
PROGRAM NAME =

 6358 000000B2 0009                   M           NOP
 6359                             303     
 6360 000000B4                    304     RESET_CHK_305:                          ;
 6361 000000B4 C802               305             TST     #BIT1,R0                ;
 6362                             306             TST_BIT_ON RESET_CHK_400        ;ﾘｾｯﾄOFF待ち
 6363 000000B6 8B7F                   M           BF      RESET_CHK_400
 6364                             307     
 6365                             308             FAR_JSR #_DAT_MOSTPOS_SIG_CLR,R0
 6366 000000B8 D013                   M           MOV.L   #_DAT_MOSTPOS_SIG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6367 000000BA 400B                   M           JSR     @R0                     ;
 6368 000000BC 0009                   M           NOP                                     ;
 6369                             309             FAR_JSR #_ORG_END_SIG_CLR,R0
 6370 000000BE D013                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6371 000000C0 400B                   M           JSR     @R0                     ;
 6372 000000C2 0009                   M           NOP                                     ;
 6373                             310     
 6374                             311             FAR_JSR #_KJPHOS_SIG_CLR,R0     ;2004-07-05
 6375 000000C4 D012                   M           MOV.L   #_KJPHOS_SIG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6376 000000C6 400B                   M           JSR     @R0                     ;
 6377 000000C8 0009                   M           NOP                                     ;
 6378                             312             FAR_JSR #_LSA_ERRCLR_INI,R0     ;2006-07-16
 6379 000000CA D012                   M           MOV.L   #_LSA_ERRCLR_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6380 000000CC 400B                   M           JSR     @R0                     ;
 6381 000000CE 0009                   M           NOP                                     ;
 6382                             313             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6383 000000D0 D011                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6384 000000D2 400B                   M           JSR     @R0                     ;
 6385 000000D4 0009                   M           NOP                                     ;
 6386                             314     
 6387                             315     
 6388                             316     ;;;;    MOV.L   #_di1_cb_ctl1_on,R1     ;//
 6389 000000D6 D111               317             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼｰｹﾝｽがﾘｾ
                                          ｯﾄでｸﾘｱするため)
 6390 000000D8 6011               318             MOV.W   @R1,R0                  ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFしない)
 6391                             319     
 6392 000000DA 9414               320             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6393 000000DC 2048               321             TST     R4,R0                   ;ONｴｯｼﾞ
 6394                             322             TST_BIT_OF RESET_CHK_325        ;RESET_CHK_EXT  ;NO EXIT
 6395 000000DE 8910                   M           BT      RESET_CHK_325
 6396                             323     
 6397 000000E0 200A               324             XOR     R0,R0                           ;
 6398 000000E2 D50F               325             MOV.L   #_ORG_PRESET_TIM,R5             ;
 6399 000000E4 2501               326             MOV.W   R0,@R5                          ;
 6400                             327             FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;
 6401 000000E6 D00F                   M           MOV.L   #_NOW_POS_PRESET_OUTPLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6402 000000E8 400B                   M           JSR     @R0                     ;
 6403 000000EA 0009                   M           NOP                                     ;
 6404                             328     
 6405                             329             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;
 6406 000000EC D00E                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6407 000000EE 400B                   M           JSR     @R0                     ;
 6408 000000F0 0009                   M           NOP                                     ;
 6409                             330     
 6410                             331             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
 6411 000000F2 D00E                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6412 000000F4 400B                   M           JSR     @R0                     ;
 6413 000000F6 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    11
PROGRAM NAME =

 6414                             332     
 6415                             333             FAR_JSR #_RESET_CONF_CHK,R1     ;ANS R0 ﾘｾｯﾄ可能ですか？
 6416 000000F8 D10D                   M           MOV.L   #_RESET_CONF_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6417 000000FA 410B                   M           JSR     @R1                     ;
 6418 000000FC 0009                   M           NOP                                     ;
 6419 000000FE 2008               334             TST     R0,R0                   ;
 6420                             335             TST_BIT_OF RESET_CHK_330        ;R0!=0 ﾘｾｯﾄ開始不可
 6421 00000100 8918                   M           BT      RESET_CHK_330
 6422 00000102                    336     RESET_CHK_325
 6423                             337             M_BRA   RESET_CHK_EXT           ;
 6424 00000102 A0A5                   M           BRA     RESET_CHK_EXT
 6425 00000104 0009                   M           NOP
 6426                                     ***** BEGIN-POOL *****
 6427 00000106 8000                       DATA FOR SOURCE-LINE 320
 6428 00000108 00000000                   DATA FOR SOURCE-LINE 308
 6429 0000010C 00000000                   DATA FOR SOURCE-LINE 309
 6430 00000110 00000000                   DATA FOR SOURCE-LINE 311
 6431 00000114 00000000                   DATA FOR SOURCE-LINE 312
 6432 00000118 00000000                   DATA FOR SOURCE-LINE 313
 6433 0000011C 00000000                   DATA FOR SOURCE-LINE 317
 6434 00000120 00000000                   DATA FOR SOURCE-LINE 325
 6435 00000124 00000000                   DATA FOR SOURCE-LINE 327
 6436 00000128 00000000                   DATA FOR SOURCE-LINE 329
 6437 0000012C 00000000                   DATA FOR SOURCE-LINE 331
 6438 00000130 00000000                   DATA FOR SOURCE-LINE 333
 6439                                     ***** END-POOL *****
 6440 00000134                    338     RESET_CHK_330
 6441                             339     
 6442                             340     ;;      TST     R0,R0                   ;
 6443                             341     ;;      TST_BIT_ON RESET_CHK_EXT        ;R0!=0 ﾘｾｯﾄ開始不可
 6444                             342     
 6445                             343     
 6446                             344             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT1,WKREG=R6   ;bit-set
 6447 00000134 D610                   M           MOV.L   #_reset_flg,R6          ;
 6448 00000136 6061                   M           MOV.W   @R6,R0          ;
 6449 00000138 CB02                   M           OR      #BIT1,R0                ;
 6450 0000013A 2601                   M           MOV.W   R0,@R6          ;
 6451                             345             FAR_JSR #_RESET_ERR_SEQ_CLR,R0  ;移動しない
 6452 0000013C D00F                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6453 0000013E 400B                   M           JSR     @R0                     ;
 6454 00000140 0009                   M           NOP                                     ;
 6455                             346             FAR_JSR #_RESET_OUT,R0                                          ;
 6456 00000142 D00F                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6457 00000144 400B                   M           JSR     @R0                     ;
 6458 00000146 0009                   M           NOP                                     ;
 6459                             347             FAR_JSR #_RST_MOD_POS_START,R0
 6460 00000148 D00E                   M           MOV.L   #_RST_MOD_POS_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6461 0000014A 400B                   M           JSR     @R0                     ;
 6462 0000014C 0009                   M           NOP                                     ;
 6463                             348             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0
 6464 0000014E D00E                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6465 00000150 400B                   M           JSR     @R0                     ;
 6466 00000152 0009                   M           NOP                                     ;
 6467                             349             FAR_JSR #_IRQ_EMG_STP_CLR,R0    ;2004-04-04
 6468 00000154 D00D                   M           MOV.L   #_IRQ_EMG_STP_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6469 00000156 400B                   M           JSR     @R0                     ;
 6470 00000158 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    12
PROGRAM NAME =

 6471                             350     
 6472                             351     
 6473                             352     ;       === EXQではやらない処理=====
 6474                             353     ;;      .AIF    1 EQ 1  ;ﾌﾟﾛｸﾞﾗﾑ変更箇所(反転仕様以外の標準に入れる変更)
 6475 0000015A D10D               354             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6476 0000015C 6011               355             MOV.W   @R1,R0                  ;EMG
 6477 0000015E 2008               356             TST     R0,R0                   ;
 6478                             357             TST_BIT_OF RESET_CHK_350        ;
 6479 00000160 891E                   M           BT      RESET_CHK_350
 6480                             358             FAR_JSR #_LOT_SIG_FLG_CLR,R0    ;
 6481 00000162 D00C                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6482 00000164 400B                   M           JSR     @R0                     ;
 6483 00000166 0009                   M           NOP                                     ;
 6484                             359     
 6485 00000168 D10B               360             MOV.L   #_SELF_TIMING_SIG,R1    ;2006-04-10
 6486 0000016A 200A               361             XOR     R0,R0                   ;
 6487 0000016C 2101               362             MOV.W   R0,@R1                  ;
 6488                             363     
 6489                             364     ;       ---EMGのときだけｸﾘｱするように変更[EXQではﾀｲﾏを継続させる]----
 6490                             365             FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0     ;
 6491 0000016E D00B                   M           MOV.L   #_CYCLE_TIME_REFLASH_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6492 00000170 400B                   M           JSR     @R0                     ;
 6493 00000172 0009                   M           NOP                                     ;
 6494                             366     
 6495                             367     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策RESET_CHK_350:                               ;
 6496                             368     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策     M_BRA   RESET_CHK_EXT
 6497                             369     
 6498                             370             M_BRA   RESET_CHK_399           ;2016-04-15
 6499 00000174 A017                   M           BRA     RESET_CHK_399
 6500 00000176 0009                   M           NOP
 6501                             371     
 6502                             372     ;       -- 遮光時二重回路偏差オーバ対策---
 6503                             373     
 6504                                     ***** BEGIN-POOL *****
 6505 00000178 00000000                   DATA FOR SOURCE-LINE 344
 6506 0000017C 00000000                   DATA FOR SOURCE-LINE 345
 6507 00000180 00000000                   DATA FOR SOURCE-LINE 346
 6508 00000184 00000000                   DATA FOR SOURCE-LINE 347
 6509 00000188 00000000                   DATA FOR SOURCE-LINE 348
 6510 0000018C 00000000                   DATA FOR SOURCE-LINE 349
 6511 00000190 00000000                   DATA FOR SOURCE-LINE 354
 6512 00000194 00000000                   DATA FOR SOURCE-LINE 358
 6513 00000198 00000000                   DATA FOR SOURCE-LINE 360
 6514 0000019C 00000000                   DATA FOR SOURCE-LINE 365
 6515                                     ***** END-POOL *****
 6516 000001A0                    374     RESET_CHK_350:                          ;
 6517                             375     ;       ----- 2016-04-15 EXQ,遮光による行程違いのﾘｶﾊﾞﾘｰ処理-------
 6518                             376             FAR_JSR #_EXQ_PROC_STEP_RECOVER,R0      ;
 6519 000001A0 D003                   M           MOV.L   #_EXQ_PROC_STEP_RECOVER,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6520 000001A2 400B                   M           JSR     @R0                     ;
 6521 000001A4 0009                   M           NOP                                     ;
 6522                             377     
 6523 000001A6                    378     RESET_CHK_399:                                  ;
 6524                             379             FAR_JSR #_API_EXQ_STEP_FLGCLR,R0        ;
 6525 000001A6 D003                   M           MOV.L   #_API_EXQ_STEP_FLGCLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6526 000001A8 400B                   M           JSR     @R0                     ;
 6527 000001AA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    13
PROGRAM NAME =

 6528                             380             M_BRA   RESET_CHK_EXT
 6529 000001AC A050                   M           BRA     RESET_CHK_EXT
 6530 000001AE 0009                   M           NOP
 6531                             381     
 6532                             382     ;       ==== ﾘｾｯﾄOFF待ち ====
 6533                                     ***** BEGIN-POOL *****
 6534 000001B0 00000000                   DATA FOR SOURCE-LINE 376
 6535 000001B4 00000000                   DATA FOR SOURCE-LINE 379
 6536                                     ***** END-POOL *****
 6537 000001B8                    383     RESET_CHK_400:  ;ﾘｾｯﾄOFF待ち
 6538 000001B8 D10A               384             MOV.L   #_di1_cb_ctl1_dt,R1     ;//
 6539 000001BA 6011               385             MOV.W   @R1,R0                  ;
 6540 000001BC 9410               386             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6541 000001BE 2048               387             TST     R4,R0                   ;
 6542                             388             TST_BIT_ON RESET_CHK_EXT        ;ON継続
 6543 000001C0 8B46                   M           BF      RESET_CHK_EXT
 6544                             389     
 6545                             390     
 6546                             391             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT2,WKREG=R6   ;bit-set
 6547 000001C2 D609                   M           MOV.L   #_reset_flg,R6          ;
 6548 000001C4 6061                   M           MOV.W   @R6,R0          ;
 6549 000001C6 CB04                   M           OR      #BIT2,R0                ;
 6550 000001C8 2601                   M           MOV.W   R0,@R6          ;
 6551                             392             MEM1_DATA_SET MEM=_reset_dly_tim,LG=W,DATA=_RST_DLY_TM,WKREG1=R1,WKREG2=R2
 6552 000001CA D108                   M           MOV.L   #_reset_dly_tim,R1              ;
 6553 000001CC 9209                   M           MOV.W   #_RST_DLY_TM,R2         ;
 6554 000001CE 2121                   M           MOV.W   R2,@R1  ;
 6555                             393             FAR_JSR #_RESET_OUT,R0                                          ;
 6556 000001D0 D007                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6557 000001D2 400B                   M           JSR     @R0                     ;
 6558 000001D4 0009                   M           NOP                                     ;
 6559                             394             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6560 000001D6 D007                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6561 000001D8 400B                   M           JSR     @R0                     ;
 6562 000001DA 0009                   M           NOP                                     ;
 6563                             395             M_BRA   RESET_CHK_EXT
 6564 000001DC A038                   M           BRA     RESET_CHK_EXT
 6565 000001DE 0009                   M           NOP
 6566                             396     
 6567                             397     
 6568                             398     ;       ==== 遅延待ち ==
 6569                                     ***** BEGIN-POOL *****
 6570 000001E0 8000                       DATA FOR SOURCE-LINE 386
 6571 000001E2 00C8                       DATA FOR SOURCE-LINE 392
 6572 000001E4 00000000                   DATA FOR SOURCE-LINE 384
 6573 000001E8 00000000                   DATA FOR SOURCE-LINE 391
 6574 000001EC 00000000                   DATA FOR SOURCE-LINE 392
 6575 000001F0 00000000                   DATA FOR SOURCE-LINE 393
 6576 000001F4 00000000                   DATA FOR SOURCE-LINE 394
 6577                                     ***** END-POOL *****
 6578 000001F8                    399     RESET_CHK_500:  ;
 6579 000001F8 D11B               400             MOV.L   #_reset_dly_tim,R1
 6580 000001FA 6011               401             MOV.W   @R1,R0                                          ;
 6581 000001FC 2008               402             TST     R0,R0                                                   ;
 6582                             403             TST_BIT_ON RESET_CHK_EXT                                        ;
 6583 000001FE 8B27                   M           BF      RESET_CHK_EXT
 6584                             404     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    14
PROGRAM NAME =

 6585                             405             FAR_JSR #_RST_MOD_POS_END,R1
 6586 00000200 D11A                   M           MOV.L   #_RST_MOD_POS_END,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6587 00000202 410B                   M           JSR     @R1                     ;
 6588 00000204 0009                   M           NOP                                     ;
 6589                             406             FAR_JSR #_RESET_END_OUT,R1                                      ;
 6590 00000206 D11A                   M           MOV.L   #_RESET_END_OUT,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6591 00000208 410B                   M           JSR     @R1                     ;
 6592 0000020A 0009                   M           NOP                                     ;
 6593                             407             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;完了
 6594 0000020C D119                   M           MOV.L   #_reset_flg,R1          ;
 6595 0000020E 9227                   M           MOV.W   #0,R2           ;
 6596 00000210 2121                   M           MOV.W   R2,@R1  ;
 6597                             408     
 6598                             409     ;       -------- 2010-12-10 移動追加----
 6599                             410             FAR_JSR #_RESET_ERR_SEQ_CLR,R0
 6600 00000212 D019                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6601 00000214 400B                   M           JSR     @R0                     ;
 6602 00000216 0009                   M           NOP                                     ;
 6603                             411             FAR_JSR #_RESET_ERR_SEQ_CLR2,R0
 6604 00000218 D018                   M           MOV.L   #_RESET_ERR_SEQ_CLR2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6605 0000021A 400B                   M           JSR     @R0                     ;
 6606 0000021C 0009                   M           NOP                                     ;
 6607                             412     
 6608                             413     ;       === 2003-07-01 ====
 6609 0000021E D118               414             MOV.L   #_HIST_DAT_SEND_DIS,R1  ;//1:DISENABLE 0:ENABLE
 6610 00000220 200A               415             XOR     R0,R0                   ;
 6611 00000222 2101               416             MOV.W   R0,@R1                  ;
 6612                             417     
 6613 00000224 D117               418             MOV.L   #_TRD_CLR_CMD,R1        ;//01 CLR
 6614 00000226 901C               419             MOV.W   #1,R0                   ;
 6615 00000228 2101               420             MOV.W   R0,@R1                  ;CLR START
 6616                             421     
 6617                             422             FAR_JSR #_ERR_INFO_RST_CLR,R0
 6618 0000022A D017                   M           MOV.L   #_ERR_INFO_RST_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6619 0000022C 400B                   M           JSR     @R0                     ;
 6620 0000022E 0009                   M           NOP                                     ;
 6621                             423     
 6622                             424     ;       ----------- 2006-07-28 -------
 6623                             425             FAR_JSR #_TEPA_PLSCNT_CLR,R0
 6624 00000230 D016                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6625 00000232 400B                   M           JSR     @R0                     ;
 6626 00000234 0009                   M           NOP                                     ;
 6627                             426             FAR_JSR #_TEP_FLG_CLR,R0
 6628 00000236 D016                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6629 00000238 400B                   M           JSR     @R0                     ;
 6630 0000023A 0009                   M           NOP                                     ;
 6631                             427             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6632 0000023C D015                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6633 0000023E 400B                   M           JSR     @R0                     ;
 6634 00000240 0009                   M           NOP                                     ;
 6635                             428             FAR_JSR #_OVERLID_DEF_SET,R0    ;20060919
 6636 00000242 D015                   M           MOV.L   #_OVERLID_DEF_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6637 00000244 400B                   M           JSR     @R0                     ;
 6638 00000246 0009                   M           NOP                                     ;
 6639                             429     
 6640                             430     ;       ======= 描画用 ======
 6641                             431             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;再描画
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    15
PROGRAM NAME =

 6642 00000248 D114                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
 6643 0000024A 6011                   M           MOV.W   @R1,R0          ;
 6644 0000024C CB01                   M           OR      #BIT0,R0                ;
 6645 0000024E 2101                   M           MOV.W   R0,@R1          ;
 6646                             432     
 6647                             433     
 6648                             434     ;;;;;;  EMGのときだけｸﾘｱするように変更ため移動<2013-07-19>
 6649                             435     ;;;;;;  FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0                                     ;
 6650                             436     
 6651                             437     
 6652 00000250                    438     RESET_CHK_EXT:
 6653                             439     
 6654 00000250 D113               440             mov.l   #_pass_err_flg1,r1      ;//異常ﾙｰﾁﾝ
 6655 00000252 6011               441             mov.w   @r1,r0                  ;
 6656 00000254 9206               442             mov.w   #H'FF80,r2              ;BIT7~BIT15
 6657 00000256 202B               443             or      r2,r0                   ;
 6658 00000258 2101               444             mov.w   r0,@r1                  ;
 6659                             445             SUB_END
 6660                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6661 0000025A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6662                             446             M_RTS
 6663 0000025C 000B                   M           RTS                             ;RTSの後ろの
 6664 0000025E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6665                             447     
 6666                             448     ;       ***********************************
 6667                             449     ;       ***                             ***
 6668                             450     ;       ***     ﾘｾｯﾄ可能条件            ***
 6669                             451     ;       ***                             ***
 6670                             452     ;       ***                             ***
 6671                             453     ;       ***********************************
 6672                             454     ;
 6673                             455     ;
 6674                                     ***** BEGIN-POOL *****
 6675 00000260 0000                       DATA FOR SOURCE-LINE 407
 6676 00000262 0001                       DATA FOR SOURCE-LINE 419
 6677 00000264 FF80                       DATA FOR SOURCE-LINE 442
 6678 00000266 0000                       ALIGNMENT CODE
 6679 00000268 00000000                   DATA FOR SOURCE-LINE 400
 6680 0000026C 00000000                   DATA FOR SOURCE-LINE 405
 6681 00000270 00000000                   DATA FOR SOURCE-LINE 406
 6682 00000274 00000000                   DATA FOR SOURCE-LINE 407
 6683 00000278 00000000                   DATA FOR SOURCE-LINE 410
 6684 0000027C 00000000                   DATA FOR SOURCE-LINE 411
 6685 00000280 00000000                   DATA FOR SOURCE-LINE 414
 6686 00000284 00000000                   DATA FOR SOURCE-LINE 418
 6687 00000288 00000000                   DATA FOR SOURCE-LINE 422
 6688 0000028C 00000000                   DATA FOR SOURCE-LINE 425
 6689 00000290 00000000                   DATA FOR SOURCE-LINE 426
 6690 00000294 00000000                   DATA FOR SOURCE-LINE 427
 6691 00000298 00000000                   DATA FOR SOURCE-LINE 428
 6692 0000029C 00000000                   DATA FOR SOURCE-LINE 431
 6693 000002A0 00000000                   DATA FOR SOURCE-LINE 440
 6694                                     ***** END-POOL *****
 6695 000002A4                    456             .ALIGN  4                               ;
 6696 000002A4                    457     _RESET_CONF_CHK:
 6697                             458             SUB_START
 6698 000002A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    16
PROGRAM NAME =

 6699                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6700                             459     
 6701                             460     ;---2011-09-20 ﾌﾞﾚｰｷﾓｰﾄﾞSW-ONでは安全一行程か原点復帰のみ
 6702 000002A6 D108               461             MOV.L   #_BRKTST_SW_IN,R1                               ;
 6703 000002A8 6011               462             MOV.W   @R1,R0                                          ;
 6704 000002AA C801               463             TST     #BIT0,R0                                        ;
 6705                             464             TST_BIT_OF RST_CONFCK_010                               ;
 6706 000002AC 8912                   M           BT      RST_CONFCK_010
 6707                             465     
 6708 000002AE D107               466             MOV.L   #_INP_MODE,R1                           ;
 6709 000002B0 6011               467             MOV.W   @R1,R0                                  ;
 6710 000002B2 C840               468             TST     #_W1DUP,R0                              ;
 6711                             469             TST_BIT_ON RST_CONFCK_010                       ;
 6712 000002B4 8B0E                   M           BF      RST_CONFCK_010
 6713                             470     
 6714 000002B6 C804               471             TST     #_W1SGL,R0                                      ;
 6715                             472             TST_BIT_OF RST_CONFCK_005                               ;
 6716 000002B8 8904                   M           BT      RST_CONFCK_005
 6717                             473     
 6718                             474     ;-------- 安全一----------
 6719 000002BA D105               475             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 6720 000002BC 6011               476             MOV.W   @R1,R0                                          ;
 6721 000002BE C97F               477             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 6722                             478     
 6723 000002C0 C810               479             TST     #_W1OPT,R0                                      ;OPTION?
 6724                             480             TST_BIT_OF RST_CONFCK_010                               ;NO ちゃんとした安全一
 6725 000002C2 8907                   M           BT      RST_CONFCK_010
 6726 000002C4                    481     RST_CONFCK_005
 6727                             482             M_BRA   RST_CONFCK_NG                                   ;
 6728 000002C4 A0B0                   M           BRA     RST_CONFCK_NG
 6729 000002C6 0009                   M           NOP
 6730                             483     
 6731                                     ***** BEGIN-POOL *****
 6732 000002C8 00000000                   DATA FOR SOURCE-LINE 461
 6733 000002CC 00000000                   DATA FOR SOURCE-LINE 466
 6734 000002D0 00000000                   DATA FOR SOURCE-LINE 475
 6735                                     ***** END-POOL *****
 6736 000002D4                    484     RST_CONFCK_010
 6737                             485     
 6738                             486     ;       ----------------------------------------------
 6739                             487             _MONI_RESET_SET SETNO=1,SETREG=R0,WKREG=R1      ;2014-09-13
 6740 000002D4 9027                   M           MOV.W   #1,R0
 6741 000002D6 D117                   M           MOV.L   #_MONI_RESET_STEP,R1
 6742 000002D8 2101                   M           MOV.W   R0,@R1
 6743                             488     
 6744 000002DA D117               489             MOV.L   #_INP_MODE,R1           ;
 6745 000002DC 6011               490             MOV.W   @R1,R0                  ;
 6746 000002DE C801               491             TST     #_W1OFF,R0              ;
 6747                             492             TST_BIT_ON RST_CONFCK_NG70      ;[切]
 6748 000002E0 8B7E                   M           BF      RST_CONFCK_NG70
 6749                             493     
 6750                             494     ;       ======= 安全装置ﾁｪｯｸ ==============
 6751 000002E2 D116               495             MOV.L   #_SFTY_IN_DAT,R1        ;
 6752 000002E4 6011               496             MOV.W   @R1,R0                  ;有効・無効のSWのみ
 6753 000002E6 C803               497             TST     #(BIT1+BIT0),R0
 6754                             498             TST_BIT_ON RST_CONFCK_NG70      ;
 6755 000002E8 8B7A                   M           BF      RST_CONFCK_NG70
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    17
PROGRAM NAME =

 6756                             499     
 6757                             500     ;       ----------------------------------------------
 6758                             501             _MONI_RESET_SET SETNO=2,SETREG=R0,WKREG=R1      ;2014-09-13
 6759 000002EA 901D                   M           MOV.W   #2,R0
 6760 000002EC D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 6761 000002EE 2101                   M           MOV.W   R0,@R1
 6762                             502     
 6763                             503     ;-----EMGのswは見る 340.0は見ない---
 6764 000002F0 D113               504             MOV.L   #_di3_cb_inp1,R1                ;//+0:EMG1,EMG2 BIT1,BIT0
 6765                             505     ;;;340.0のor    MOV.L   #_di3_cb_inp1_dt,R1     ;//制御に使用するのは_dt(相手側の遮光も)
 6766 000002F2 6011               506             MOV.W   @R1,R0                  ;
 6767 000002F4 C803               507             TST     #(BIT1+BIT0),R0         ;EMG?
 6768                             508             TST_BIT_ON RST_CONFCK_NG70
 6769 000002F6 8B73                   M           BF      RST_CONFCK_NG70
 6770                             509     
 6771                             510             _MONI_RESET_SET SETNO=3,SETREG=R0,WKREG=R1      ;2014-09-13
 6772 000002F8 9017                   M           MOV.W   #3,R0
 6773 000002FA D10E                   M           MOV.L   #_MONI_RESET_STEP,R1
 6774 000002FC 2101                   M           MOV.W   R0,@R1
 6775                             511     
 6776 000002FE D10E               512             MOV.L   #_INP_MODE,R1           ;
 6777 00000300 6011               513             MOV.W   @R1,R0                  ;
 6778 00000302 9113               514             MOV.W   #(_W1DUP),R1            ;[原点復帰]
 6779 00000304 2018               515             TST     R1,R0                   ;
 6780                             516             TST_BIT_ON RST_CONFCK_015_OK    ;何でもOK
 6781 00000306 8B0C                   M           BF      RST_CONFCK_015_OK
 6782                             517     
 6783                             518     ;       === 段取は回転の場合は動作可能 ===
 6784 00000308 9111               519             MOV.W   #(_W1DIC),R1                    ;
 6785 0000030A 2018               520             TST     R1,R0                           ;
 6786                             521             TST_BIT_OF RST_CONFCK_020               ;[段取寸動]
 6787 0000030C 891C                   M           BT      RST_CONFCK_020
 6788                             522     
 6789                             523             _MONI_RESET_SET SETNO=4,SETREG=R0,WKREG=R1      ;2014-09-13
 6790 0000030E 900F                   M           MOV.W   #4,R0
 6791 00000310 D108                   M           MOV.L   #_MONI_RESET_STEP,R1
 6792 00000312 2101                   M           MOV.W   R0,@R1
 6793                             524     
 6794 00000314 D50B               525             MOV.L   #_ORG_DND_NOMAL_FLG1,R5         ;段取動作はOK(POWER-ON/)
 6795 00000316 6651               526             MOV.W   @R5,R6                          ;0異常
 6796 00000318 2668               527             TST     R6,R6                           ;
 6797                             528             TST_BIT_OF RST_CONFCK_NG70              ;
 6798 0000031A 8961                   M           BT      RST_CONFCK_NG70
 6799                             529             _MONI_RESET_SET SETNO=5,SETREG=R0,WKREG=R1      ;2014-09-13
 6800 0000031C 9009                   M           MOV.W   #5,R0
 6801 0000031E D105                   M           MOV.L   #_MONI_RESET_STEP,R1
 6802 00000320 2101                   M           MOV.W   R0,@R1
 6803                             530     
 6804 00000322                    531     RST_CONFCK_015_OK:
 6805                             532             M_BRA   RST_CONFCK_OK                   ;
 6806 00000322 A084                   M           BRA     RST_CONFCK_OK
 6807 00000324 0009                   M           NOP
 6808                             533     
 6809                             534     
 6810                                     ***** BEGIN-POOL *****
 6811 00000326 0001                       DATA FOR SOURCE-LINE 487
 6812 00000328 0002                       DATA FOR SOURCE-LINE 501
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    18
PROGRAM NAME =

 6813 0000032A 0003                       DATA FOR SOURCE-LINE 510
 6814 0000032C 0040                       DATA FOR SOURCE-LINE 514
 6815 0000032E 0020                       DATA FOR SOURCE-LINE 519
 6816 00000330 0004                       DATA FOR SOURCE-LINE 523
 6817 00000332 0005                       DATA FOR SOURCE-LINE 529
 6818 00000334 00000000                   DATA FOR SOURCE-LINE 487,501,510,523,529
 6819 00000338 00000000                   DATA FOR SOURCE-LINE 489,512
 6820 0000033C 00000000                   DATA FOR SOURCE-LINE 495
 6821 00000340 00000000                   DATA FOR SOURCE-LINE 504
 6822 00000344 00000000                   DATA FOR SOURCE-LINE 525
 6823                                     ***** END-POOL *****
 6824 00000348                    535     RST_CONFCK_020:
 6825                             536             _MONI_RESET_SET SETNO=6,SETREG=R0,WKREG=R1      ;2014-09-13
 6826 00000348 901D                   M           MOV.W   #6,R0
 6827 0000034A D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 6828 0000034C 2101                   M           MOV.W   R0,@R1
 6829                             537     
 6830                             538     ;       ===== (設定異常・原点復帰未完了)==
 6831 0000034E D511               539             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//段取りok,原点動作以外動作禁止 0:異常 1:
                                          OK
 6832 00000350 6651               540             MOV.W   @R5,R6                          ;0異常
 6833 00000352 2668               541             TST     R6,R6                           ;
 6834                             542             TST_BIT_OF RST_CONFCK_NG70              ;
 6835 00000354 8944                   M           BT      RST_CONFCK_NG70
 6836                             543     
 6837                             544             _MONI_RESET_SET SETNO=7,SETREG=R0,WKREG=R1      ;2014-09-13
 6838 00000356 9017                   M           MOV.W   #7,R0
 6839 00000358 D10D                   M           MOV.L   #_MONI_RESET_STEP,R1
 6840 0000035A 2101                   M           MOV.W   R0,@R1
 6841                             545     
 6842                             546     
 6843                             547     ;;;2003-07-14   ===== (設定異常・原点復帰未完了)==
 6844                             548     ;;;     MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//原点動作以外動作禁止 0:異常 1:OK
 6845                             549     ;;;     MOV.W   @R5,R6                          ;0異常
 6846                             550     ;;;     TST     R6,R6                           ;
 6847                             551     ;;;     TST_BIT_OF RST_CONFCK_NG                ;
 6848                             552     
 6849                             553     ;;;     MOV.W   #(_W1DIC),R1                    ;
 6850                             554     ;;;     TST     R1,R0                           ;
 6851                             555     ;;;     TST_BIT_ON RST_CONFCK_OK                ;
 6852                             556     
 6853                             557     ;       ==== 待機点ｴﾘｱか-->待機点選出=====
 6854 0000035C                    558     RST_CONFCK_050:
 6855 0000035C D10E               559             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
 6856 0000035E 6011               560             MOV.W   @R1,R0                          ;
 6857 00000360 2008               561             TST     R0,R0                           ;
 6858                             562             TST_BIT_OF RST_CONFCK_OK                ;EXQの場合
 6859 00000362 8964                   M           BT      RST_CONFCK_OK
 6860                             563     
 6861                             564             _MONI_RESET_SET SETNO=8,SETREG=R0,WKREG=R1      ;2014-09-13
 6862 00000364 9011                   M           MOV.W   #8,R0
 6863 00000366 D10A                   M           MOV.L   #_MONI_RESET_STEP,R1
 6864 00000368 2101                   M           MOV.W   R0,@R1
 6865                             565     
 6866                             566     ;       ===     2011-09-14      ===
 6867 0000036A D10C               567             MOV.L   #_BRKTST_INPUT_CMD,R1   ;//安全一行程の試験モード指定時BIT0=ON
 6868 0000036C 6011               568             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    19
PROGRAM NAME =

 6869 0000036E C801               569             TST     #BIT0,R0                ;
 6870                             570             TST_BIT_ON RST_CONFCK_BRK100    ;[]
 6871 00000370 8B4C                   M           BF      RST_CONFCK_BRK100
 6872                             571     ;       ===========================
 6873                             572     
 6874                             573             _MONI_RESET_SET SETNO=9,SETREG=R0,WKREG=R1      ;2014-09-13
 6875 00000372 900B                   M           MOV.W   #9,R0
 6876 00000374 D106                   M           MOV.L   #_MONI_RESET_STEP,R1
 6877 00000376 2101                   M           MOV.W   R0,@R1
 6878                             574     
 6879                             575     
 6880                             576     
 6881                             577     ;       =====2014-09-25 ====================
 6882                             578             FAR_JSR #_INC_RSTMODE_CHK,R0
 6883 00000378 D009                   M           MOV.L   #_INC_RSTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6884 0000037A 400B                   M           JSR     @R0                     ;
 6885 0000037C 0009                   M           NOP                                     ;
 6886 0000037E 2008               579             TST     R0,R0                   ;
 6887                             580             TST_BIT_OF RST_CONFCK_055       ;通常ｿﾌﾄで判定して[待機点です]
 6888 00000380 8910                   M           BT      RST_CONFCK_055
 6889                             581             M_BRA   RST_CONFCK_OK           ;
 6890 00000382 A054                   M           BRA     RST_CONFCK_OK
 6891 00000384 0009                   M           NOP
 6892                             582     
 6893                             583     
 6894                                     ***** BEGIN-POOL *****
 6895 00000386 0006                       DATA FOR SOURCE-LINE 536
 6896 00000388 0007                       DATA FOR SOURCE-LINE 544
 6897 0000038A 0008                       DATA FOR SOURCE-LINE 564
 6898 0000038C 0009                       DATA FOR SOURCE-LINE 573
 6899 0000038E 0000                       ALIGNMENT CODE
 6900 00000390 00000000                   DATA FOR SOURCE-LINE 536,544,564,573
 6901 00000394 00000000                   DATA FOR SOURCE-LINE 539
 6902 00000398 00000000                   DATA FOR SOURCE-LINE 559
 6903 0000039C 00000000                   DATA FOR SOURCE-LINE 567
 6904 000003A0 00000000                   DATA FOR SOURCE-LINE 578
 6905                                     ***** END-POOL *****
 6906 000003A4                    584     RST_CONFCK_055:
 6907                             585     
 6908                             586     
 6909                             587     ;       === 待機点だ！ ==== ﾘｾｯﾄ時の待機点ｹﾞｯﾄ====
 6910                             588     ;       ------- 2014-09-18-------
 6911 000003A4 D107               589             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
 6912 000003A6 6011               590             MOV.W   @R1,R0                                  ;
 6913 000003A8 C804               591             TST     #(_DMATH_DNDRIV),R0                     ;
 6914                             592             TST_BIT_OF RST_CONFCK_080                       ;
 6915 000003AA 8921                   M           BT      RST_CONFCK_080
 6916                             593     
 6917 000003AC D406               594             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
 6918 000003AE 6041               595             MOV.W   @R4,R0
 6919 000003B0 C810               596             TST     #BIT4,R0                                ;左側
 6920                             597             TST_BIT_ON RST_CONFCK_OK                        ;OK 初期値動作
 6921 000003B2 8B3C                   M           BF      RST_CONFCK_OK
 6922                             598     
 6923 000003B4 C880               599             TST     #BIT7,R0                                ;
 6924                             600             TST_BIT_ON RST_CONFCK_060                       ;逆側
 6925 000003B6 8B0B                   M           BF      RST_CONFCK_060
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    20
PROGRAM NAME =

 6926                             601             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 6927 000003B8 9003                   M           MOV.W   #10,R0
 6928 000003BA D104                   M           MOV.L   #_MONI_RESET_STEP,R1
 6929 000003BC 2101                   M           MOV.W   R0,@R1
 6930                             602             M_BRA   RST_CONFCK_NG                           ;
 6931 000003BE A033                   M           BRA     RST_CONFCK_NG
 6932 000003C0 0009                   M           NOP
 6933                             603     
 6934                             604     
 6935                                     ***** BEGIN-POOL *****
 6936 000003C2 000A                       DATA FOR SOURCE-LINE 601
 6937 000003C4 00000000                   DATA FOR SOURCE-LINE 589
 6938 000003C8 00000000                   DATA FOR SOURCE-LINE 594
 6939 000003CC 00000000                   DATA FOR SOURCE-LINE 601
 6940                                     ***** END-POOL *****
 6941 000003D0                    605     RST_CONFCK_060:
 6942                             606             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
 6943 000003D0 D002                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6944 000003D2 400B                   M           JSR     @R0                     ;
 6945 000003D4 0009                   M           NOP                                     ;
 6946                             607             M_BRA   RST_CONFCK_OK                           ;
 6947 000003D6 A02A                   M           BRA     RST_CONFCK_OK
 6948 000003D8 0009                   M           NOP
 6949                             608     
 6950                             609     
 6951                             610     ;       --2014-09-25-------------------------------------
 6952                                     ***** BEGIN-POOL *****
 6953 000003DA 0000                       ALIGNMENT CODE
 6954 000003DC 00000000                   DATA FOR SOURCE-LINE 606
 6955                                     ***** END-POOL *****
 6956 000003E0                    611     RST_CONFCK_NG70:
 6957                             612             _MONI_RESET_SET SETNO=11,SETREG=R0,WKREG=R1     ;
 6958 000003E0 9003                   M           MOV.W   #11,R0
 6959 000003E2 D102                   M           MOV.L   #_MONI_RESET_STEP,R1
 6960 000003E4 2101                   M           MOV.W   R0,@R1
 6961                             613             M_BRA   RST_CONFCK_NG                           ;
 6962 000003E6 A01F                   M           BRA     RST_CONFCK_NG
 6963 000003E8 0009                   M           NOP
 6964                             614     
 6965                             615     ;       ----------------------------------------------------
 6966                                     ***** BEGIN-POOL *****
 6967 000003EA 000B                       DATA FOR SOURCE-LINE 612
 6968 000003EC 00000000                   DATA FOR SOURCE-LINE 612
 6969                                     ***** END-POOL *****
 6970 000003F0                    616     RST_CONFCK_080:
 6971 000003F0 D404               617             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
 6972 000003F2 6041               618             MOV.W   @R4,R0                                  ;
 6973 000003F4 C810               619             TST     #BIT4,R0                                ;
 6974                             620             TST_BIT_ON RST_CONFCK_OK                        ;
 6975 000003F6 8B1A                   M           BF      RST_CONFCK_OK
 6976                             621                                                             ;
 6977                             622             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 6978 000003F8 9003                   M           MOV.W   #10,R0
 6979 000003FA D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 6980 000003FC 2101                   M           MOV.W   R0,@R1
 6981                             623             M_BRA   RST_CONFCK_NG                           ;2011-09-14 ADD
 6982 000003FE A013                   M           BRA     RST_CONFCK_NG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    21
PROGRAM NAME =

 6983 00000400 0009                   M           NOP
 6984                             624     
 6985                             625     ;       -- 2011-09-14 ADD--
 6986                                     ***** BEGIN-POOL *****
 6987 00000402 000A                       DATA FOR SOURCE-LINE 622
 6988 00000404 00000000                   DATA FOR SOURCE-LINE 617
 6989 00000408 00000000                   DATA FOR SOURCE-LINE 622
 6990                                     ***** END-POOL *****
 6991 0000040C                    626     RST_CONFCK_BRK100:
 6992 0000040C D404               627             MOV.L   #_BRKTST_AREA_SIG,R4                    ;//BIT0/BIT4:待機点範囲
 6993 0000040E 6041               628             MOV.W   @R4,R0                                  ;//BIT1:下降(上昇信号はない)
 6994 00000410 C810               629             TST     #BIT4,R0                                ;
 6995                             630             TST_BIT_ON RST_CONFCK_OK                        ;
 6996 00000412 8B0C                   M           BF      RST_CONFCK_OK
 6997                             631     
 6998                             632             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 6999 00000414 9003                   M           MOV.W   #10,R0
 7000 00000416 D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 7001 00000418 2101                   M           MOV.W   R0,@R1
 7002                             633             M_BRA   RST_CONFCK_NG                           ;
 7003 0000041A A005                   M           BRA     RST_CONFCK_NG
 7004 0000041C 0009                   M           NOP
 7005                             634     
 7006                             635     
 7007                             636     
 7008                                     ***** BEGIN-POOL *****
 7009 0000041E 000A                       DATA FOR SOURCE-LINE 632
 7010 00000420 00000000                   DATA FOR SOURCE-LINE 627
 7011 00000424 00000000                   DATA FOR SOURCE-LINE 632
 7012                                     ***** END-POOL *****
 7013 00000428                    637     RST_CONFCK_NG:
 7014 00000428 E0FF               638             MOV     #-1,R0
 7015                             639             M_BRA   RST_CONFCK_END
 7016 0000042A A001                   M           BRA     RST_CONFCK_END
 7017 0000042C 0009                   M           NOP
 7018 0000042E                    640     RST_CONFCK_OK:
 7019 0000042E 200A               641             XOR     R0,R0                           ;ﾘｾｯﾄ可能
 7020 00000430                    642     RST_CONFCK_END:
 7021                             643             SUB_END
 7022                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7023 00000430 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7024                             644             M_RTS
 7025 00000432 000B                   M           RTS                             ;RTSの後ろの
 7026 00000434 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7027                             645     
 7028                             646     
 7029                             647     ;       *******************************************
 7030                             648     ;       ***                                     ***
 7031                             649     ;       ***     モード変更                      ***
 7032                             650     ;       ***     (ﾘｾｯﾄ中だけでも良い)            ***
 7033                             651     ;       *******************************************
 7034                             652     ;       INP_MODE(ﾘｾｯﾄ条件に必要)=MODE_SEL INP_MODE=>MODE_SEL
 7035                             653     ;       BIT0:切
 7036                             654     ;       BIT1:寸動・寸動一行程
 7037                             655     ;       BIT2:安全一行程・OPTION安全一行程・一行程
 7038                             656     ;       BIT3:連続・連続ﾀｲﾏ・ｶｳﾝﾀ、連続寸動一行程、連続一行程
 7039                             657     ;       BIT4:OPTION
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    22
PROGRAM NAME =

 7040                             658     ;       BIT5:段取()
 7041                             659     ;       BIT6:強制上昇（待機点復帰）
 7042                             660     ;
 7043                             661     ;       BIT8:連続ﾀｲﾏ(BIT3=1)/寸動一行程(BIT1=1)
 7044                             662     ;       BIT9:連続ｶｳﾝﾀ(BIT3=1)
 7045                             663     ;       BIT10:一行程(BIT2=1)
 7046                             664     ;       BIT11:連続一行程(BIT4=1)
 7047                             665     ;       BIT12:連続寸動一行程(BIT4=1)
 7048                             666     ;       BIT13:
 7049                             667     ;       BIT14
 7050                             668     ;       BIT15
 7051                             669     ;
 7052                             670     ;
 7053 00000438                    671             .ALIGN  4                               ;
 7054 00000438                    672     _MODE_CHANGE:           ;==>ssa_cbmn.src
 7055                             673             SUB_START
 7056 00000438 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7057                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7058                             674     ;       U2b     INP_MODE;       //入力　ﾘｾｯﾄ条件に使用 INP_MODE-->MODE_SEL
 7059                             675     ;       U2b     MODE_SEL;       //ﾘｾｯﾄ時に決定
 7060                             676     ;                               //bit0:切 bit1寸動 bit2:安一(sgl,opt) bit3:連続 bit4:opt b
                                          it5:段取 bit6:待機点復帰
 7061                             677     ;                               //まずbit0~bit7のいずれかがonする　選択未は切(bit0)
 7062                             678     ;                               //bit8~bit15:詳細情報
 7063                             679     ;;;     MOV.L   #_reset_flg,R6                                  ;
 7064                             680     ;;;     MOV.W   @R6,R0                                          ;
 7065                             681     ;;;     TST     R0,R0                                           ;ﾘｾｯﾄ中?
 7066                             682     ;;;     TST_BIT_OF MODE_CHG_EXT                                 ;
 7067                             683     
 7068 0000043A D10B               684             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 7069 0000043C 6011               685             MOV.W   @R1,R0                                          ;
 7070 0000043E C97F               686             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 7071                             687     
 7072 00000440 2008               688             TST     R0,R0                                   ;モード選択なし
 7073                             689             TST_BIT_ON MODE_CHG_050                         ;
 7074 00000442 8B00                   M           BF      MODE_CHG_050
 7075 00000444 CB01               690             OR      #_W1OFF,R0                              ;切
 7076 00000446                    691     MODE_CHG_050:                                           ;(複数個は異常だからここではみない
                                          )
 7077                             692     
 7078 00000446 C801               693             TST     #_W1OFF,R0
 7079                             694             TST_BIT_ON MODE_CHG_800                         ;切
 7080 00000448 8B5D                   M           BF      MODE_CHG_800
 7081                             695     
 7082 0000044A C810               696             TST     #_W1OPT,R0                              ;OPTION?
 7083                             697             TST_BIT_OF MODE_CHG_100                         ;
 7084 0000044C 893E                   M           BT      MODE_CHG_100
 7085                             698     
 7086                             699     ;       ==== OPTION ======(BIT10:一行程 BIT11:連続寸動 BIT12:連寸一 BIT13(安一))
 7087 0000044E D107               700             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7088 00000450 6211               701             MOV.W   @R1,R2                                  ;
 7089 00000452 9306               702             MOV.W   #(BIT14+BIT13+BIT12+BIT11+BIT10),R3     ;
 7090 00000454 2239               703             AND     R3,R2                                   ;
 7091 00000456 2228               704             TST     R2,R2                                   ;
 7092                             705             TST_BIT_ON MODE_CHG_080                         ;(NO 安全一行程以外)
 7093 00000458 8B0A                   M           BF      MODE_CHG_080
 7094                             706     ;       === 選択なし===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    23
PROGRAM NAME =

 7095 0000045A 9003               707             MOV.W   #_W1OFF,R0                              ;切
 7096 0000045C 222A               708             XOR     R2,R2                                   ;
 7097                             709             M_BRA   MODE_CHG_800                            ;
 7098 0000045E A052                   M           BRA     MODE_CHG_800
 7099 00000460 0009                   M           NOP
 7100                             710     
 7101                             711     
 7102                             712     ;       =====選択があれば安全一行程か一行程====
 7103                             713     ;       =====選択があれば安全一行程か一行程か連寸一か連続一行程====
 7104                                     ***** BEGIN-POOL *****
 7105 00000462 7C00                       DATA FOR SOURCE-LINE 702
 7106 00000464 0001                       DATA FOR SOURCE-LINE 707
 7107 00000466 0000                       ALIGNMENT CODE
 7108 00000468 00000000                   DATA FOR SOURCE-LINE 684
 7109 0000046C 00000000                   DATA FOR SOURCE-LINE 700
 7110                                     ***** END-POOL *****
 7111 00000470                    714     MODE_CHG_080:
 7112                             715     ;;2003-05-24 一行程追加 MOV.W   #BIT13,R3                               ;安全一行程
 7113                             716     ;;              XOR     R2,R2                                   ;
 7114                             717     ;;              MOV.W   #_W1SGL,R0                              ;安全一行程に変更
 7115                             718     ;;              M_BRA   MODE_CHG_800                            ;
 7116                             719     
 7117                             720     ;       ==== 2003-05-24 =====
 7118 00000470 9310               721             MOV.W   #BIT13,R3                                       ;安全一行程
 7119 00000472 2238               722             TST     R3,R2                                           ;
 7120                             723             TST_BIT_ON MODE_CHG_080_SGL                             ;
 7121 00000474 8B1E                   M           BF      MODE_CHG_080_SGL
 7122                             724     
 7123 00000476 930E               725             MOV.W   #BIT10,R3                                       ;一行程
 7124 00000478 2238               726             TST     R3,R2                                           ;
 7125                             727             TST_BIT_ON MODE_CHG_080_SNG                             ;
 7126 0000047A 8B20                   M           BF      MODE_CHG_080_SNG
 7127                             728     
 7128                             729     ;       ==== 2004-01-26
 7129 0000047C D107               730             MOV.L   #_WFSYS_OPT_CNT_SEL,R1                          ;
 7130 0000047E 6011               731             MOV.W   @R1,R0                                          ;
 7131 00000480 8801               732             CMP/EQ  #1,R0                                           ;連寸一有効?
 7132 00000482 8B12               733             BF      MODE_CHG_OPT090                                 ;
 7133                             734     
 7134 00000484 9308               735             MOV.W   #BIT11,R3                                       ;連続一行程
 7135 00000486 2238               736             TST     R3,R2                                           ;
 7136                             737             TST_BIT_ON MODE_CHG_OPT050                              ;
 7137 00000488 8B0A                   M           BF      MODE_CHG_OPT050
 7138                             738     
 7139 0000048A 9306               739             MOV.W   #BIT12,R3                                       ;連寸一行程
 7140 0000048C 2238               740             TST     R3,R2                                           ;
 7141                             741             TST_BIT_ON MODE_CHG_OPT050                              ;
 7142 0000048E 8B07                   M           BF      MODE_CHG_OPT050
 7143                             742             M_BRA   MODE_CHG_OPT090                                 ;
 7144 00000490 A00B                   M           BRA     MODE_CHG_OPT090
 7145 00000492 0009                   M           NOP
 7146                             743     
 7147                                     ***** BEGIN-POOL *****
 7148 00000494 2000                       DATA FOR SOURCE-LINE 721
 7149 00000496 0400                       DATA FOR SOURCE-LINE 725
 7150 00000498 0800                       DATA FOR SOURCE-LINE 735
 7151 0000049A 1000                       DATA FOR SOURCE-LINE 739
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    24
PROGRAM NAME =

 7152 0000049C 00000000                   DATA FOR SOURCE-LINE 730
 7153                                     ***** END-POOL *****
 7154 000004A0                    744     MODE_CHG_OPT050
 7155 000004A0 9002               745             MOV.W   #_W1CNT,R0                                      ;連続の運転の部類にいれる
 7156 000004A2 203B               746             OR      R3,R0                                           ;BIT11orBIT12
 7157                             747             M_BRA   MODE_CHG_800                                    ;
 7158 000004A4 A02F                   M           BRA     MODE_CHG_800
 7159 000004A6 0009                   M           NOP
 7160                             748     
 7161                             749     ;       === 選択なしと同じ扱い===
 7162                                     ***** BEGIN-POOL *****
 7163 000004A8 0008                       DATA FOR SOURCE-LINE 745
 7164                                     ***** END-POOL *****
 7165 000004AA                    750     MODE_CHG_OPT090
 7166 000004AA 9002               751             MOV.W   #_W1OFF,R0                                      ;切
 7167 000004AC 222A               752             XOR     R2,R2                                           ;
 7168                             753             M_BRA   MODE_CHG_800                                    ;
 7169 000004AE A02A                   M           BRA     MODE_CHG_800
 7170 000004B0 0009                   M           NOP
 7171                             754     
 7172                             755     ;       ==== 安全一行程(OPTIONも)===
 7173                                     ***** BEGIN-POOL *****
 7174 000004B2 0001                       DATA FOR SOURCE-LINE 751
 7175                                     ***** END-POOL *****
 7176 000004B4                    756     MODE_CHG_080_SGL:
 7177 000004B4 222A               757             XOR     R2,R2                                           ;S
 7178 000004B6 9001               758             MOV.W   #_W1SGL,R0                                      ;安全一行程に変更
 7179                             759             M_BRA   MODE_CHG_800                                    ;
 7180 000004B8 A025                   M           BRA     MODE_CHG_800
 7181 000004BA 0009                   M           NOP
 7182                             760     
 7183                                     ***** BEGIN-POOL *****
 7184 000004BC 0004                       DATA FOR SOURCE-LINE 758
 7185                                     ***** END-POOL *****
 7186 000004BE                    761     MODE_CHG_080_SNG:                                               ;SINGLE:一行程もﾓｰﾄﾞは安全
                                          一行程として扱う
 7187 000004BE 9203               762             MOV.W   #BIT10,R2                                       ;一行程
 7188 000004C0 9003               763             MOV.W   #_W1SGL,R0                                      ;
 7189 000004C2 202B               764             OR      R2,R0                                           ;BIT10+SGL
 7190                             765             M_BRA   MODE_CHG_800                                    ;
 7191 000004C4 A01F                   M           BRA     MODE_CHG_800
 7192 000004C6 0009                   M           NOP
 7193                             766     
 7194                                     ***** BEGIN-POOL *****
 7195 000004C8 0400                       DATA FOR SOURCE-LINE 762
 7196 000004CA 0004                       DATA FOR SOURCE-LINE 763
 7197                                     ***** END-POOL *****
 7198 000004CC                    767     MODE_CHG_100:                                           ;
 7199 000004CC C808               768             TST     #_W1CNT,R0                              ;連続
 7200                             769             TST_BIT_OF MODE_CHG_150                         ;
 7201 000004CE 8909                   M           BT      MODE_CHG_150
 7202                             770     ;       ==== 連続 =======
 7203 000004D0 D103               771             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7204 000004D2 6211               772             MOV.W   @R1,R2                                  ;
 7205 000004D4 9303               773             MOV.W   #(BIT9+BIT8),R3                         ;
 7206 000004D6 2239               774             AND     R3,R2                                   ;
 7207 000004D8 202B               775             OR      R2,R0                                   ;R0(W1CNT)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    25
PROGRAM NAME =

 7208                             776             M_BRA   MODE_CHG_800                            ;
 7209 000004DA A014                   M           BRA     MODE_CHG_800
 7210 000004DC 0009                   M           NOP
 7211                             777     
 7212                                     ***** BEGIN-POOL *****
 7213 000004DE 0300                       DATA FOR SOURCE-LINE 773
 7214 000004E0 00000000                   DATA FOR SOURCE-LINE 771
 7215                                     ***** END-POOL *****
 7216 000004E4                    778     MODE_CHG_150:                                           ;
 7217 000004E4 C802               779             TST     #_W1INC,R0                              ;寸動?
 7218                             780             TST_BIT_OF MODE_CHG_200                         ;
 7219 000004E6 890D                   M           BT      MODE_CHG_200
 7220                             781     ;       ==== 寸動 =======
 7221 000004E8 D105               782             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7222 000004EA 6211               783             MOV.W   @R1,R2                                  ;
 7223 000004EC 9405               784             MOV.W   #BIT3,R4                                ;
 7224 000004EE 2248               785             TST     R4,R2                                   ;
 7225                             786             TST_BIT_OF MODE_CHG_800                         ;
 7226 000004F0 8909                   M           BT      MODE_CHG_800
 7227 000004F2 9203               787             MOV.W   #BIT8,R2                                ;寸一
 7228 000004F4 202B               788             OR      R2,R0                                   ;
 7229                             789             M_BRA   MODE_CHG_800                            ;
 7230 000004F6 A006                   M           BRA     MODE_CHG_800
 7231 000004F8 0009                   M           NOP
 7232                             790     
 7233                                     ***** BEGIN-POOL *****
 7234 000004FA 0008                       DATA FOR SOURCE-LINE 784
 7235 000004FC 0100                       DATA FOR SOURCE-LINE 787
 7236 000004FE 0000                       ALIGNMENT CODE
 7237 00000500 00000000                   DATA FOR SOURCE-LINE 782
 7238                                     ***** END-POOL *****
 7239 00000504                    791     MODE_CHG_200:                                           ;
 7240 00000504 0009               792             NOP                                             ;
 7241 00000506                    793     MODE_CHG_800:                                           ;
 7242 00000506 D102               794             MOV.L   #_INP_MODE,R1                           ;一行程はOPTION+SGL
 7243 00000508 2101               795             MOV.W   R0,@R1                                  ;OPTIONの安全一はSGLだけ
 7244 0000050A                    796     MODE_CHG_EXT:                                           ;
 7245                             797     
 7246                             798             SUB_END
 7247                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7248 0000050A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7249                             799             M_RTS
 7250 0000050C 000B                   M           RTS                             ;RTSの後ろの
 7251 0000050E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7252                             800     
 7253                             801     ;       ***************************************************
 7254                             802     ;       ***                                             ***
 7255                             803     ;       ***     各モードでのﾘｾｯﾄ条件に必要な位置信号    ***
 7256                             804     ;       ***     _INP_MODEと_MODE_SELを使い分ける        ***
 7257                             805     ;       ***     また回転とその他で待機点が異なる        ***
 7258                             806     ;       ***     ()                                      ***
 7259                             807     ;       ***************************************************
 7260                                     ***** BEGIN-POOL *****
 7261 00000510 00000000                   DATA FOR SOURCE-LINE 794
 7262                                     ***** END-POOL *****
 7263 00000514                    808     _MODE_AREA_MAKE:                ;ssa_ctrl.src 待機点AREA作成
 7264                             809             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    26
PROGRAM NAME =

 7265 00000514 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7266                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7267 00000516 D102               810             MOV.L   #_SET1_MRTION_SEL1,R1   ;bit0~bit3
 7268                             811             SUB_END
 7269                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7270 00000518 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7271                             812             M_RTS
 7272 0000051A 000B                   M           RTS                             ;RTSの後ろの
 7273 0000051C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7274                             813     
 7275                             814     
 7276                             815     
 7277                             816     ;       *******************************************
 7278                             817     ;       ***                                     ***
 7279                             818     ;       ***     モード制御                      ***
 7280                             819     ;       ***                                     ***
 7281                             820     ;       *******************************************
 7282                             821     
 7283                                     ***** BEGIN-POOL *****
 7284 0000051E 0000                       ALIGNMENT CODE
 7285 00000520 00000000                   DATA FOR SOURCE-LINE 810
 7286                                     ***** END-POOL *****
 7287 00000524                    822     _MODE_CTRL:             ;==>ssa_cbmn.src
 7288                             823             SUB_START                       ;
 7289 00000524 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7290                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7291                             824     
 7292                             825     ;       -------------- EPﾁｪｯｸ 2014-06-04 ------------
 7293                             826             FAR_JSR #_EP_SENCER_CHECK,R0
 7294 00000526 D004                   M           MOV.L   #_EP_SENCER_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7295 00000528 400B                   M           JSR     @R0                     ;
 7296 0000052A 0009                   M           NOP                                     ;
 7297 0000052C D103               827             MOV.L   #_EPCHK_FLG,R1                  ;
 7298 0000052E 6011               828             MOV.W   @R1,R0                          ;
 7299 00000530 C801               829             TST     #BIT0,R0                        ;動作中
 7300                             830             TST_BIT_OF MODE_CTL_100                 ;
 7301 00000532 8905                   M           BT      MODE_CTL_100
 7302                             831             M_BRA   MODE_CTL_EXIT                   ;
 7303 00000534 A04B                   M           BRA     MODE_CTL_EXIT
 7304 00000536 0009                   M           NOP
 7305                             832     
 7306                                     ***** BEGIN-POOL *****
 7307 00000538 00000000                   DATA FOR SOURCE-LINE 826
 7308 0000053C 00000000                   DATA FOR SOURCE-LINE 827
 7309                                     ***** END-POOL *****
 7310 00000540                    833     MODE_CTL_100
 7311                             834     
 7312                             835     ;       ---------- 2010-08-20[制動モード]---------
 7313                             836             FAR_JSR #_BRKTST_CTRL,R0        ;
 7314 00000540 D026                   M           MOV.L   #_BRKTST_CTRL,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7315 00000542 400B                   M           JSR     @R0                     ;
 7316 00000544 0009                   M           NOP                                     ;
 7317                             837     
 7318                             838     
 7319                             839              .AIF   1 EQ 1  ;
 7320                             840 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7321                             841              .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    27
PROGRAM NAME =

 7322                             842     ;       ---------- 2016-10-31(2016-05-11)----------
 7323                             843             FAR_JSR #_POSCTRL_CANSEL_RESET,R0
 7324 00000546 D026                   M           MOV.L   #_POSCTRL_CANSEL_RESET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7325 00000548 400B                   M           JSR     @R0                     ;
 7326 0000054A 0009                   M           NOP                                     ;
 7327                             844     
 7328                             845     ;       -------------ＳＷ情報でモードによっては異常にするため[2014-02-20 R02R03]----------
                                          -----
 7329                             846             FAR_JSR #_MASK2_SAFTY_MAK,R0            ;[SWの条件だけを作る]
 7330 0000054C D025                   M           MOV.L   #_MASK2_SAFTY_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7331 0000054E 400B                   M           JSR     @R0                     ;
 7332 00000550 0009                   M           NOP                                     ;
 7333                             847             FAR_JSR #_SFTY_MUTING_MODE_ERR,R0       ;
 7334 00000552 D025                   M           MOV.L   #_SFTY_MUTING_MODE_ERR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7335 00000554 400B                   M           JSR     @R0                     ;
 7336 00000556 0009                   M           NOP                                     ;
 7337                             848     
 7338                             849     
 7339 00000558 D124               850             MOV.L   #_reset_flg,R1          ;
 7340 0000055A 6011               851             MOV.W   @R1,R0                  ;
 7341 0000055C 2008               852             TST     R0,R0                   ;
 7342                             853             TST_BIT_ON MODE_CTL_EXIT        ;
 7343 0000055E 8B36                   M           BF      MODE_CTL_EXIT
 7344                             854     
 7345 00000560 D123               855             MOV.L   #_SELF_FLG,R1           ;//BIT0:ｾﾙﾌﾁｪｯｸ中 //BIT7
 7346 00000562 6011               856             MOV.W   @R1,R0                  ;
 7347 00000564 D223               857             MOV.L   #_SELF_COM,R2           ;//BIT0:ｾﾙﾌﾁｪｯｸ指令
 7348 00000566 6321               858             MOV.W   @R2,R3                  ;
 7349 00000568 203B               859             OR      R3,R0                   ;
 7350 0000056A C801               860             TST     #BIT0,R0                ;ｾﾙﾌ中またはｾﾙﾌｺﾏﾝﾄﾞON
 7351                             861             TST_BIT_ON MODE_CTL_EXIT        ;
 7352 0000056C 8B2F                   M           BF      MODE_CTL_EXIT
 7353                             862     
 7354 0000056E D122               863             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 7355 00000570 6011               864             MOV.W   @R1,R0                  ;
 7356 00000572 2008               865             TST     R0,R0                   ;
 7357                             866             TST_BIT_ON MODE_CTL_ET900       ;2003-06-06[2-3]
 7358 00000574 8B21                   M           BF      MODE_CTL_ET900
 7359                             867     
 7360 00000576 D121               868             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
 7361 00000578 6011               869             MOV.W   @R1,R0                  ;2003-06-06
 7362 0000057A 2008               870             TST     R0,R0                   ;
 7363                             871             TST_BIT_ON MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-4]
 7364 0000057C 8B1D                   M           BF      MODE_CTL_ET900
 7365                             872     
 7366                             873     
 7367                             874             FAR_JSR #_ANTI_CHEAK,R0         ;(ｾﾙﾌﾁｪｯｸ開始条件､ｾﾙﾌﾁｪｯｸの開始)
 7368 0000057E D020                   M           MOV.L   #_ANTI_CHEAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7369 00000580 400B                   M           JSR     @R0                     ;
 7370 00000582 0009                   M           NOP                                     ;
 7371                             875     
 7372                             876     
 7373                             877     
 7374                             878     ;       ------- 2014-06-06[EPｾﾝｻﾁｪｯｸ]
 7375 00000584 D11F               879             MOV.L   #_EPCHK_FLG,R1          ;
 7376 00000586 6011               880             MOV.W   @R1,R0                  ;
 7377 00000588 D11F               881             MOV.L   #_EPCHK_COM,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    28
PROGRAM NAME =

 7378 0000058A 6211               882             MOV.W   @R1,R2                  ;
 7379 0000058C 202B               883             OR      R2,R0                   ;
 7380 0000058E C801               884             TST     #BIT0,R0                ;
 7381                             885             TST_BIT_ON MODE_CTL_EXIT        ;
 7382 00000590 8B1D                   M           BF      MODE_CTL_EXIT
 7383                             886     
 7384                             887     
 7385                             888     ;       ------- 2010-08-20[制動モード]
 7386 00000592 D11E               889             MOV.L   #_BRKTST_MOD_FLG,R1     ;
 7387 00000594 6011               890             MOV.W   @R1,R0                  ;
 7388 00000596 C801               891             TST     #BIT0,R0                ;
 7389                             892             TST_BIT_ON MODE_CTL_EXIT        ;
 7390 00000598 8B19                   M           BF      MODE_CTL_EXIT
 7391                             893     
 7392                             894     
 7393                             895     
 7394                             896     
 7395 0000059A D11D               897             MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
 7396 0000059C 6011               898             MOV.W   @R1,R0                  ;
 7397 0000059E C801               899             TST     #BIT0,R0                ;内部準備完了
 7398                             900             TST_BIT_OF MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-5]
 7399 000005A0 890B                   M           BT      MODE_CTL_ET900
 7400                             901     
 7401                             902             FAR_JSR #_TEPA_PLSCNT_CHK,R0    ;
 7402 000005A2 D01C                   M           MOV.L   #_TEPA_PLSCNT_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7403 000005A4 400B                   M           JSR     @R0                     ;
 7404 000005A6 0009                   M           NOP                                     ;
 7405                             903     
 7406                             904     ;       --------- 2007-12-24 --------
 7407                             905             FAR_JSR #_LOT_CNT_CNT,R0        ;
 7408 000005A8 D01B                   M           MOV.L   #_LOT_CNT_CNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7409 000005AA 400B                   M           JSR     @R0                     ;
 7410 000005AC 0009                   M           NOP                                     ;
 7411                             906     
 7412                             907     
 7413                             908     ;;;;;;;2014-02-20       FAR_JSR #_MASK2_SAFTY_MAK,R0    ;[SWの条件だけを作る]
 7414                             909     
 7415                             910             FAR_JSR #_RDY_CHEAK,R0          ;運転動作
 7416 000005AE D01B                   M           MOV.L   #_RDY_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7417 000005B0 400B                   M           JSR     @R0                     ;
 7418 000005B2 0009                   M           NOP                                     ;
 7419                             911             FAR_JSR #_RDY_HOLDSTP_FLGOUT,R0
 7420 000005B4 D01A                   M           MOV.L   #_RDY_HOLDSTP_FLGOUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7421 000005B6 400B                   M           JSR     @R0                     ;
 7422 000005B8 0009                   M           NOP                                     ;
 7423                             912     
 7424 000005BA                    913     MODE_CTL_ET900:                         ;
 7425                             914     
 7426                             915     ;       ==== 2003-06-06[2-2] ==
 7427 000005BA D11A               916             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7428 000005BC 6011               917             MOV.W   @R1,R0                          ;
 7429                             918     ;;[2009-10-07下振子]    TST     #_DMATH_CNTROT,R0               ;
 7430 000005BE C805               919             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;回転or往復
 7431                             920             TST_BIT_OF MODE_CTL_EXIT                ;
 7432 000005C0 8905                   M           BT      MODE_CTL_EXIT
 7433                             921             FAR_JSR #_DAI_MOSTPOS_SMPLE,R0          ;
 7434 000005C2 D019                   M           MOV.L   #_DAI_MOSTPOS_SMPLE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    29
PROGRAM NAME =

 7435 000005C4 400B                   M           JSR     @R0                     ;
 7436 000005C6 0009                   M           NOP                                     ;
 7437                             922     
 7438                             923     
 7439                             924             FAR_JSR #_KJPHOS_SAMPLING1,R0   ;2004-07-05
 7440 000005C8 D018                   M           MOV.L   #_KJPHOS_SAMPLING1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7441 000005CA 400B                   M           JSR     @R0                     ;
 7442 000005CC 0009                   M           NOP                                     ;
 7443                             925     
 7444 000005CE                    926     MODE_CTL_EXIT:                          ;
 7445                             927     
 7446                             928              .AIF   1 EQ 1  ;
 7447                             929 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7448                             930              .AENDI
 7449                             931     
 7450                             932             FAR_JSR #_DEBUG_CMPERR_STSMAK,R0        ;2016-08-09
 7451 000005CE D018                   M           MOV.L   #_DEBUG_CMPERR_STSMAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7452 000005D0 400B                   M           JSR     @R0                     ;
 7453 000005D2 0009                   M           NOP                                     ;
 7454                             933     
 7455                             934     
 7456                             935             SUB_END
 7457                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7458 000005D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7459                             936             M_RTS
 7460 000005D6 000B                   M           RTS                             ;RTSの後ろの
 7461 000005D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7462                             937     
 7463                             938     ;       *******************************************
 7464                             939     ;       ***             2016-08-09 調査用       ***
 7465                             940     ;       *******************************************
 7466                             941             .IMPORT _CPUB_DBG_MONI_STP      ;2016-08-12
 7467                                     ***** BEGIN-POOL *****
 7468 000005DA 0000                       ALIGNMENT CODE
 7469 000005DC 00000000                   DATA FOR SOURCE-LINE 836
 7470 000005E0 00000000                   DATA FOR SOURCE-LINE 843
 7471 000005E4 00000000                   DATA FOR SOURCE-LINE 846
 7472 000005E8 00000000                   DATA FOR SOURCE-LINE 847
 7473 000005EC 00000000                   DATA FOR SOURCE-LINE 850
 7474 000005F0 00000000                   DATA FOR SOURCE-LINE 855
 7475 000005F4 00000000                   DATA FOR SOURCE-LINE 857
 7476 000005F8 00000000                   DATA FOR SOURCE-LINE 863
 7477 000005FC 00000000                   DATA FOR SOURCE-LINE 868
 7478 00000600 00000000                   DATA FOR SOURCE-LINE 874
 7479 00000604 00000000                   DATA FOR SOURCE-LINE 879
 7480 00000608 00000000                   DATA FOR SOURCE-LINE 881
 7481 0000060C 00000000                   DATA FOR SOURCE-LINE 889
 7482 00000610 00000000                   DATA FOR SOURCE-LINE 897
 7483 00000614 00000000                   DATA FOR SOURCE-LINE 902
 7484 00000618 00000000                   DATA FOR SOURCE-LINE 905
 7485 0000061C 00000000                   DATA FOR SOURCE-LINE 910
 7486 00000620 00000000                   DATA FOR SOURCE-LINE 911
 7487 00000624 00000000                   DATA FOR SOURCE-LINE 916
 7488 00000628 00000000                   DATA FOR SOURCE-LINE 921
 7489 0000062C 00000000                   DATA FOR SOURCE-LINE 924
 7490 00000630 00000000                   DATA FOR SOURCE-LINE 932
 7491                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    30
PROGRAM NAME =

 7492 00000634                    942     _DEBUG_CMPERR_STSMAK                    ;2016-08-09
 7493                             943             SUB_START
 7494 00000634 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7495                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7496 00000636 200A               944             XOR     R0,R0
 7497 00000638 D113               945             MOV.L   #_STOP_LATCH_B,R1               ;
 7498 0000063A 6211               946             MOV.W   @R1,R2                          ;
 7499 0000063C 2228               947             TST     R2,R2                           ;
 7500                             948             TST_BIT_OF DEBUG_CMPERR_STSMK10         ;
 7501 0000063E 8900                   M           BT      DEBUG_CMPERR_STSMK10
 7502 00000640 CB01               949             OR      #BIT0,R0                        ;257.0/327.0
 7503 00000642                    950     DEBUG_CMPERR_STSMK10
 7504                             951     
 7505 00000642 D112               952             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
 7506 00000644 6211               953             MOV.W   @R1,R2
 7507 00000646 2228               954             TST     R2,R2                           ;
 7508                             955             TST_BIT_OF DEBUG_CMPERR_STSMK20         ;
 7509 00000648 8900                   M           BT      DEBUG_CMPERR_STSMK20
 7510 0000064A CB02               956             OR      #BIT1,R0                        ;257.1/327.1HANDはcpuaから見てだけをﾓﾆﾀ
 7511 0000064C                    957     DEBUG_CMPERR_STSMK20
 7512                             958     
 7513                             959     
 7514                             960             .AIF    0 EQ    0
 7515 0000064C D110               961 C           MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7516                             962             .AELSE
 7517                             963             MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7518                             964             .AENDI
 7519 0000064E 6211               965             MOV.W   @R1,R2
 7520 00000650 2228               966             TST     R2,R2                           ;
 7521                             967             TST_BIT_OF DEBUG_CMPERR_STSMK40         ;
 7522 00000652 8900                   M           BT      DEBUG_CMPERR_STSMK40
 7523 00000654 CB04               968             OR      #BIT2,R0                        ;257.2HANDはcpuaから見てだけをﾓﾆﾀcpua-data
 7524 00000656                    969     DEBUG_CMPERR_STSMK40
 7525                             970     
 7526                             971             .AIF    0 EQ    0
 7527 00000656 D10F               972 C           MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7528                             973             .AELSE
 7529                             974             MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7530                             975             .AENDI
 7531 00000658 6211               976             MOV.W   @R1,R2
 7532 0000065A 2228               977             TST     R2,R2                           ;
 7533                             978             TST_BIT_OF DEBUG_CMPERR_STSMK60         ;
 7534 0000065C 8900                   M           BT      DEBUG_CMPERR_STSMK60
 7535 0000065E CB08               979             OR      #BIT3,R0                        ;257.3HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7536 00000660                    980     DEBUG_CMPERR_STSMK60
 7537                             981     
 7538                             982     
 7539                             983             .AIF    0 EQ    0
 7540 00000660 D10D               984 C           MOV.L   #_SH4_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7541                             985             .AELSE
 7542                             986             MOV.L   #_SH2_HD_STEP_END,R1            ;
 7543                             987             .AENDI
 7544 00000662 6211               988             MOV.W   @R1,R2
 7545 00000664 2228               989             TST     R2,R2                           ;
 7546                             990             TST_BIT_OF DEBUG_CMPERR_STSMK80         ;
 7547 00000666 8900                   M           BT      DEBUG_CMPERR_STSMK80
 7548 00000668 CB10               991             OR      #BIT4,R0                        ;257.4HANDはcpuaから見てだけをﾓﾆﾀcpua-data
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    31
PROGRAM NAME =

 7549 0000066A                    992     DEBUG_CMPERR_STSMK80
 7550                             993     
 7551                             994     
 7552                             995             .AIF    0 EQ    0
 7553 0000066A D10C               996 C           MOV.L   #_SH2_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7554                             997             .AELSE
 7555                             998             MOV.L   #_SH4_HD_STEP_END,R1            ;
 7556                             999             .AENDI
 7557 0000066C 6211              1000             MOV.W   @R1,R2
 7558 0000066E 2228              1001             TST     R2,R2                           ;
 7559                            1002             TST_BIT_OF DEBUG_CMPERR_STSMK100        ;
 7560 00000670 8900                   M           BT      DEBUG_CMPERR_STSMK100
 7561 00000672 CB20              1003             OR      #BIT5,R0                        ;257.5HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7562 00000674                   1004     DEBUG_CMPERR_STSMK100
 7563                            1005     
 7564                            1006     
 7565                            1007     
 7566                            1008     
 7567 00000674 D10A              1009             MOV.L   #_CMPSTEP_STEP_END,R1   ;
 7568 00000676 6211              1010             MOV.W   @R1,R2
 7569 00000678 2228              1011             TST     R2,R2                           ;
 7570                            1012             TST_BIT_OF DEBUG_CMPERR_STSMK150        ;
 7571 0000067A 8900                   M           BT      DEBUG_CMPERR_STSMK150
 7572 0000067C CB40              1013             OR      #BIT6,R0                        ;257.6/327.6 END
 7573 0000067E                   1014     DEBUG_CMPERR_STSMK150
 7574                            1015     
 7575                            1016     
 7576 0000067E D109              1017             MOV.L   #_SQ_CBWK_TOP+_WKSQCB257,R1             ;257.0,1,2,3(END),4
 7577 00000680 2101              1018             MOV.W   R0,@R1
 7578                            1019     
 7579                            1020             .AIF    0 EQ    0
 7580                            1021 C   
 7581                            1022             .AELSE
 7582                            1023     
 7583                            1024             MOV.L   #_CNT_STOP_WAIT_TIM,R1
 7584                            1025             MOV.W   @R1,R0
 7585                            1026             MOV.L   #_CPUB_DBG_MONI_STP,R1  ;2016-08-12
 7586                            1027             MOV.W   R0,@R1                  ;
 7587                            1028     
 7588                            1029             MOV.L   #_CNT_STOP_DBG_CNT,R1   ;//2016-08-22 CHECK
 7589                            1030             MOV.W   @R1,R0
 7590                            1031             MOV.L   #_CPUB_DBG_MONI_CNT,R1  ;2016-08-22
 7591                            1032             MOV.W   R0,@R1                  ;
 7592                            1033     
 7593                            1034             .AENDI
 7594                            1035     
 7595                            1036             SUB_END
 7596                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7597 00000682 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7598                            1037             M_RTS
 7599 00000684 000B                   M           RTS                             ;RTSの後ろの
 7600 00000686 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7601                            1038     
 7602                            1039     ;       ***************************************************
 7603                            1040     ;       ***                                             ***
 7604                            1041     ;       ***     再起動防止OFF→ON条件,ON→OFF(ｾﾙﾌﾁｪｯｸ)  ***
 7605                            1042     ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    32
PROGRAM NAME =

 7606                            1043     ;       ***************************************************
 7607                            1044     ;       Output ANTI-SIGNAL
 7608                            1045     ;       Output IN_RDY_FLG
 7609                                     ***** BEGIN-POOL *****
 7610 00000688 00000000                   DATA FOR SOURCE-LINE 945
 7611 0000068C 00000000                   DATA FOR SOURCE-LINE 952
 7612 00000690 00000000                   DATA FOR SOURCE-LINE 961
 7613 00000694 00000000                   DATA FOR SOURCE-LINE 972
 7614 00000698 00000000                   DATA FOR SOURCE-LINE 984
 7615 0000069C 00000000                   DATA FOR SOURCE-LINE 996
 7616 000006A0 00000000                   DATA FOR SOURCE-LINE 1009
 7617 000006A4 00000000                   DATA FOR SOURCE-LINE 1017
 7618                                     ***** END-POOL *****
 7619 000006A8                   1046     _ANTI_CHEAK:
 7620                            1047             SUB_START
 7621 000006A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7622                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7623                            1048     
 7624 000006AA D114              1049             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 7625 000006AC 6011              1050             MOV.W   @R1,R0                  ;
 7626 000006AE C810              1051             TST     #_WOANT,R0              ;ANTI
 7627                            1052             TST_BIT_ON ANTI_CHK_0500        ;
 7628 000006B0 8B46                   M           BF      ANTI_CHK_0500
 7629                            1053     
 7630                            1054     ;       ===================================
 7631                            1055     ;       ===     ANTI - OFF 中           ===
 7632                            1056     ;       ===     ANTI - ON またはｾﾙﾌﾁｪｯｸ ===
 7633                            1057     ;       ===================================
 7634 000006B2 D113              1058             MOV.L   #_MODE_SEL,R1                   ;
 7635 000006B4 6011              1059             MOV.W   @R1,R0                          ;
 7636 000006B6 C801              1060             TST     #_W1OFF,R0                      ;切?
 7637                            1061             TST_BIT_ON ANTI_CHK_EXIT                ;ﾘｾｯﾄ不可
 7638 000006B8 8B4C                   M           BF      ANTI_CHK_EXIT
 7639                            1062     
 7640                            1063     ;;;全モードセルフチェックを行う
 7641                            1064     ;;;2006-05-09   MOV.W   #(_W1DUP+_W1DIC+_W1INC),R1      ;
 7642                            1065     ;;;2006-05-09   TST     R1,R0                           ;
 7643                            1066     ;;;2006-05-09   TST_BIT_ON ANTI_CHK_0100                ;寸動等
 7644                            1067     
 7645 000006BA D112              1068             MOV.L   #_SELF_FLG,R1                   ;
 7646 000006BC 6011              1069             MOV.W   @R1,R0                          ;
 7647 000006BE C880              1070             TST     #BIT7,R0                        ;ｾﾙﾌﾁｪｯｸ完了?
 7648                            1071             TST_BIT_OF ANTI_CHK_0150                ;(ｾﾙﾌﾁｪｯｸ未完了)
 7649 000006C0 892E                   M           BT      ANTI_CHK_0150
 7650                            1072     
 7651 000006C2                   1073     ANTI_CHK_0100:                                  ;
 7652                            1074             FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 7653 000006C2 D011                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7654 000006C4 400B                   M           JSR     @R0                     ;
 7655 000006C6 0009                   M           NOP                                     ;
 7656                            1075             FAR_JSR #_ANTI_ON,R1                    ;ANTI-ON
 7657 000006C8 D110                   M           MOV.L   #_ANTI_ON,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7658 000006CA 410B                   M           JSR     @R1                     ;
 7659 000006CC 0009                   M           NOP                                     ;
 7660                            1076             MEM1_DATA_SET MEM=_IN_RDY_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2        ;内部準備
                                          完了
 7661 000006CE D110                   M           MOV.L   #_IN_RDY_FLG,R1         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    33
PROGRAM NAME =

 7662 000006D0 9212                   M           MOV.W   #BIT0,R2                ;
 7663 000006D2 2121                   M           MOV.W   R2,@R1  ;
 7664                            1077     
 7665                            1078     ;       ------ 2006-04-10 ------
 7666                            1079             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7667 000006D4 D10F                   M           MOV.L   #_SELF_COM,R1           ;
 7668 000006D6 9210                   M           MOV.W   #0,R2           ;
 7669 000006D8 2121                   M           MOV.W   R2,@R1  ;
 7670                            1080             MEM1_DATA_SET MEM=_SELF_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7671 000006DA D10A                   M           MOV.L   #_SELF_FLG,R1           ;
 7672 000006DC 920D                   M           MOV.W   #0,R2           ;
 7673 000006DE 2121                   M           MOV.W   R2,@R1  ;
 7674                            1081     
 7675                            1082     
 7676                            1083     ;       -----REQ-ON--------
 7677 000006E0 D10D              1084             MOV.L   #_EPCHK_FLG,R1          ;
 7678 000006E2 6011              1085             MOV.W   @R1,R0                  ;
 7679 000006E4 C880              1086             TST     #BIT7,R0                ;
 7680                            1087             TST_BIT_ON ANTI_CHK_0130        ;正常完了している
 7681 000006E6 8B05                   M           BF      ANTI_CHK_0130
 7682                            1088             MEM1_DATA_SET MEM=_EPCHK_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;
 7683 000006E8 D10C                   M           MOV.L   #_EPCHK_COM,R1          ;
 7684 000006EA 9205                   M           MOV.W   #BIT0,R2                ;
 7685 000006EC 2121                   M           MOV.W   R2,@R1  ;
 7686                            1089             MEM1_DATA_SET MEM=_EPCHK_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;
 7687 000006EE D10A                   M           MOV.L   #_EPCHK_FLG,R1          ;
 7688 000006F0 9203                   M           MOV.W   #0,R2           ;
 7689 000006F2 2121                   M           MOV.W   R2,@R1  ;
 7690 000006F4                   1090     ANTI_CHK_0130:
 7691                            1091     
 7692                            1092     
 7693                            1093     
 7694                            1094             M_BRA   ANTI_CHK_EXIT                   ;
 7695 000006F4 A02E                   M           BRA     ANTI_CHK_EXIT
 7696 000006F6 0009                   M           NOP
 7697                            1095     
 7698                                     ***** BEGIN-POOL *****
 7699 000006F8 0001                       DATA FOR SOURCE-LINE 1076,1088
 7700 000006FA 0000                       DATA FOR SOURCE-LINE 1079,1080,1089
 7701 000006FC 00000000                   DATA FOR SOURCE-LINE 1049
 7702 00000700 00000000                   DATA FOR SOURCE-LINE 1058
 7703 00000704 00000000                   DATA FOR SOURCE-LINE 1068,1080
 7704 00000708 00000000                   DATA FOR SOURCE-LINE 1074
 7705 0000070C 00000000                   DATA FOR SOURCE-LINE 1075
 7706 00000710 00000000                   DATA FOR SOURCE-LINE 1076
 7707 00000714 00000000                   DATA FOR SOURCE-LINE 1079
 7708 00000718 00000000                   DATA FOR SOURCE-LINE 1084,1089
 7709 0000071C 00000000                   DATA FOR SOURCE-LINE 1088
 7710                                     ***** END-POOL *****
 7711 00000720                   1096     ANTI_CHK_0150:
 7712                            1097     
 7713                            1098             FAR_JSR #_SELF_START_CONF,R1            ;ANS R0=00(ｾﾙﾌﾁｪｯｸ開始可能)
 7714 00000720 D105                   M           MOV.L   #_SELF_START_CONF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7715 00000722 410B                   M           JSR     @R1                     ;
 7716 00000724 0009                   M           NOP                                     ;
 7717 00000726 2008              1099             TST     R0,R0                           ;
 7718                            1100             TST_BIT_ON ANTI_CHK_EXIT                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    34
PROGRAM NAME =

 7719 00000728 8B14                   M           BF      ANTI_CHK_EXIT
 7720                            1101     
 7721                            1102             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2  ;ｾﾙﾌ開始ｺﾏﾝﾄﾞ
 7722 0000072A D104                   M           MOV.L   #_SELF_COM,R1           ;
 7723 0000072C 9202                   M           MOV.W   #BIT0,R2                ;
 7724 0000072E 2121                   M           MOV.W   R2,@R1  ;
 7725                            1103             M_BRA   ANTI_CHK_EXIT                   ;
 7726 00000730 A010                   M           BRA     ANTI_CHK_EXIT
 7727 00000732 0009                   M           NOP
 7728                            1104     
 7729                            1105     
 7730                            1106     ;       ===================================
 7731                            1107     ;       ===     ANTI - ON 中            ===
 7732                            1108     ;       ===================================
 7733                                     ***** BEGIN-POOL *****
 7734 00000734 0001                       DATA FOR SOURCE-LINE 1102
 7735 00000736 0000                       ALIGNMENT CODE
 7736 00000738 00000000                   DATA FOR SOURCE-LINE 1098
 7737 0000073C 00000000                   DATA FOR SOURCE-LINE 1102
 7738                                     ***** END-POOL *****
 7739 00000740                   1109     ANTI_CHK_0500:
 7740 00000740 D106              1110             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 7741 00000742 6011              1111             MOV.W   @R1,R0                          ;
 7742 00000744 C801              1112             TST     #BIT0,R0                        ;
 7743                            1113             TST_BIT_ON ANTI_CHK_EXIT                ;
 7744 00000746 8B05                   M           BF      ANTI_CHK_EXIT
 7745                            1114     
 7746                            1115             FAR_JSR #_ANTI_OF,R1                    ;ｾﾙﾌﾁｪｯｸ未完SET
 7747 00000748 D105                   M           MOV.L   #_ANTI_OF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7748 0000074A 410B                   M           JSR     @R1                     ;
 7749 0000074C 0009                   M           NOP                                     ;
 7750 0000074E 200A              1116             XOR     R0,R0
 7751 00000750 D104              1117             MOV.L   #_SELF_FLG,R1                   ;
 7752 00000752 2101              1118             MOV.W   R0,@R1                          ;
 7753                            1119     
 7754 00000754                   1120     ANTI_CHK_EXIT:
 7755                            1121     
 7756                            1122             SUB_END
 7757                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7758 00000754 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7759                            1123             M_RTS
 7760 00000756 000B                   M           RTS                             ;RTSの後ろの
 7761 00000758 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7762                            1124     
 7763                            1125     
 7764                            1126     ;       ***************************************************
 7765                            1127     ;       ***                                             ***
 7766                            1128     ;       ***     準備完了・起動                          ***
 7767                            1129     ;       ***                                             ***
 7768                            1130     ;       ***************************************************
 7769                            1131     ;       U2b     DRV_ACT_FLG;    //運転動作ﾌﾗｸﾞ BIT0:運転中
 7770                            1132     ;       U2b     BTTN_FLG;       //BIT0:両手ﾌﾘ- BIT1:片手ON　BIT2:両手ON
 7771                            1133             .IMPORT _SH4_HD_HLDSTOP2        ;
 7772                            1134             .IMPORT _SH2_HD_HLDSTOP2        ;
 7773                            1135     
 7774                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    35
PROGRAM NAME =

 7775 0000075A 0000                       ALIGNMENT CODE
 7776 0000075C 00000000                   DATA FOR SOURCE-LINE 1110
 7777 00000760 00000000                   DATA FOR SOURCE-LINE 1115
 7778 00000764 00000000                   DATA FOR SOURCE-LINE 1117
 7779                                     ***** END-POOL *****
 7780 00000768                   1136     _RDY_CHEAK:
 7781                            1137             SUB_START
 7782 00000768 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7783                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7784                            1138     
 7785                            1139     ;       -------------------------------------------
 7786                            1140     ;       ---                                     ---
 7787                            1141     ;       -------------------------------------------
 7788                            1142             FAR_JSR #_POSHLD1_SIG_CHK,R0            ;
 7789 0000076A D008                   M           MOV.L   #_POSHLD1_SIG_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7790 0000076C 400B                   M           JSR     @R0                     ;
 7791 0000076E 0009                   M           NOP                                     ;
 7792                            1143     
 7793                            1144                                             ;"HOLD-CMDは必ず動作中で行うこと"
 7794 00000770 D107              1145             MOV.L   #_POS_HOLD_FLG,R1       ;BIT0=1:減速状態[既に停止ｺﾏﾝﾄﾞは個別ｿﾌﾄで発行して
                                          いる]
 7795 00000772 6011              1146             MOV.W   @R1,R0                  ;BIT1=1:位置決め完了状態
 7796 00000774 2008              1147             TST     R0,R0                   ;
 7797                            1148             TST_BIT_ON RDY_HOLDCHK_0100
 7798 00000776 8B0F                   M           BF      RDY_HOLDCHK_0100
 7799                            1149     
 7800 00000778 D106              1150             MOV.L   #_POS_HOLD_CMD,R1                                               ;BIT0~BIT6
                                          の7個まで受け付ける
 7801 0000077A 6011              1151             MOV.W   @R1,R0                                                          ;
 7802 0000077C 2008              1152             TST     R0,R0                                                           ;
 7803                            1153             TST_BIT_OF RDY_HOLDCHK_END                                              ;
 7804 0000077E 8965                   M           BT      RDY_HOLDCHK_END
 7805                            1154     
 7806                            1155             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
 7807 00000780 D103                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
 7808 00000782 6011                   M           MOV.W   @R1,R0          ;
 7809 00000784 CB01                   M           OR      #BIT0,R0                ;
 7810 00000786 2101                   M           MOV.W   R0,@R1          ;
 7811                            1156             M_BRA   RDY_HOLDCHK_1000
 7812 00000788 A054                   M           BRA     RDY_HOLDCHK_1000
 7813 0000078A 0009                   M           NOP
 7814                            1157     
 7815                                     ***** BEGIN-POOL *****
 7816 0000078C 00000000                   DATA FOR SOURCE-LINE 1142
 7817 00000790 00000000                   DATA FOR SOURCE-LINE 1145,1155
 7818 00000794 00000000                   DATA FOR SOURCE-LINE 1150
 7819                                     ***** END-POOL *****
 7820 00000798                   1158     RDY_HOLDCHK_0100
 7821 00000798 C802              1159             TST     #BIT1,R0                                                        ;位置決め
                                          完了状態?
 7822                            1160             TST_BIT_ON RDY_HOLDCHK_0200                                             ;
 7823 0000079A 8B19                   M           BF      RDY_HOLDCHK_0200
 7824                            1161     
 7825                            1162             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 7826 0000079C D008                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7827 0000079E 400B                   M           JSR     @R0                     ;
 7828 000007A0 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    36
PROGRAM NAME =

 7829                            1163     
 7830 000007A2 D108              1164             MOV.L   #_DRV_ACT_FLG,R1                                                ;//運転動
                                          作ﾌﾗｸﾞ BIT0:運転中
 7831 000007A4 6011              1165             MOV.W   @R1,R0                                                          ;
 7832 000007A6 C801              1166             TST     #BIT0,R0                                                        ;運転中?
 7833                            1167             TST_BIT_ON RDY_HOLDCHK_1000                                             ;YES 状態
                                          維持
 7834 000007A8 8B44                   M           BF      RDY_HOLDCHK_1000
 7835                            1168     
 7836                            1169             FAR_JSR #_HOLD_STOP_BA_JG,R0                                            ;
 7837 000007AA D007                   M           MOV.L   #_HOLD_STOP_BA_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7838 000007AC 400B                   M           JSR     @R0                     ;
 7839 000007AE 0009                   M           NOP                                     ;
 7840 000007B0 2008              1170             TST     R0,R0                                                           ;
 7841                            1171             TST_BIT_OF RDY_HOLDCHK_1999                                             ;相手停止?
                                          NO
 7842 000007B2 8949                   M           BT      RDY_HOLDCHK_1999
 7843                            1172     
 7844                            1173             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT1,WKREG=R1        ;bit-set
 7845 000007B4 D105                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
 7846 000007B6 6011                   M           MOV.W   @R1,R0          ;
 7847 000007B8 CB02                   M           OR      #BIT1,R0                ;
 7848 000007BA 2101                   M           MOV.W   R0,@R1          ;
 7849                            1174             M_BRA   RDY_HOLDCHK_1999
 7850 000007BC A044                   M           BRA     RDY_HOLDCHK_1999
 7851 000007BE 0009                   M           NOP
 7852                            1175     
 7853                            1176     
 7854                            1177     ;       ---------------- 再スタート---------------------
 7855                                     ***** BEGIN-POOL *****
 7856 000007C0 00000000                   DATA FOR SOURCE-LINE 1162
 7857 000007C4 00000000                   DATA FOR SOURCE-LINE 1164
 7858 000007C8 00000000                   DATA FOR SOURCE-LINE 1169
 7859 000007CC 00000000                   DATA FOR SOURCE-LINE 1173
 7860                                     ***** END-POOL *****
 7861 000007D0                   1178     RDY_HOLDCHK_0200:
 7862                            1179             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 7863 000007D0 D010                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7864 000007D2 400B                   M           JSR     @R0                     ;
 7865 000007D4 0009                   M           NOP                                     ;
 7866                            1180     
 7867                            1181             FAR_JSR #_POS_HOLD_RESTART_CHK,R0       ;ｺﾏﾝﾄﾞ発行
 7868 000007D6 D010                   M           MOV.L   #_POS_HOLD_RESTART_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7869 000007D8 400B                   M           JSR     @R0                     ;
 7870 000007DA 0009                   M           NOP                                     ;
 7871                            1182     
 7872 000007DC D10F              1183             MOV.L   #_POS_HOLD_RESTARTCMD,R1        ;
 7873 000007DE 6011              1184             MOV.W   @R1,R0                          ;
 7874 000007E0 2008              1185             TST     R0,R0                           ;
 7875                            1186             TST_BIT_OF RDY_HOLDCHK_1999             ;
 7876 000007E2 8931                   M           BT      RDY_HOLDCHK_1999
 7877 000007E4 6007              1187             NOT     R0,R0                           ;
 7878 000007E6 D10E              1188             MOV.L   #_POS_HOLD_CMD,R1               ;BIT0~BIT6の7個まで受け付ける
 7879 000007E8 6211              1189             MOV.W   @R1,R2                          ;
 7880 000007EA 2209              1190             AND     R0,R2                           ;
 7881 000007EC 2121              1191             MOV.W   R2,@R1                          ;
 7882 000007EE 2228              1192             TST     R2,R2                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    37
PROGRAM NAME =

 7883                            1193             TST_BIT_ON RDY_HOLDCHK_1999             ;
 7884 000007F0 8B2A                   M           BF      RDY_HOLDCHK_1999
 7885                            1194     
 7886                            1195     ;       -------- 全てのHOLD条件無し -----------
 7887                            1196             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;
 7888 000007F2 D00C                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7889 000007F4 400B                   M           JSR     @R0                     ;
 7890 000007F6 0009                   M           NOP                                     ;
 7891                            1197             FAR_JSR #_HOLD_RESTART_BA_JG,R0         ;
 7892 000007F8 D00B                   M           MOV.L   #_HOLD_RESTART_BA_JG,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7893 000007FA 400B                   M           JSR     @R0                     ;
 7894 000007FC 0009                   M           NOP                                     ;
 7895 000007FE 2008              1198             TST     R0,R0                           ;
 7896                            1199             TST_BIT_ON RDY_HOLDCHK_1999             ;
 7897 00000800 8B22                   M           BF      RDY_HOLDCHK_1999
 7898                            1200             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
 7899 00000802 D00A                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7900 00000804 400B                   M           JSR     @R0                     ;
 7901 00000806 0009                   M           NOP                                     ;
 7902                            1201     
 7903 00000808 E001              1202             MOV.B   #BIT0,R0                        ;
 7904 0000080A D109              1203             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 7905 0000080C 2101              1204             MOV.W   R0,@R1                          ;
 7906                            1205             M_BRA   RDY_CHK_0220                    ;再起動
 7907 0000080E A13D                   M           BRA     RDY_CHK_0220
 7908 00000810 0009                   M           NOP
 7909                            1206     
 7910                                     ***** BEGIN-POOL *****
 7911 00000812 0000                       ALIGNMENT CODE
 7912 00000814 00000000                   DATA FOR SOURCE-LINE 1179
 7913 00000818 00000000                   DATA FOR SOURCE-LINE 1181
 7914 0000081C 00000000                   DATA FOR SOURCE-LINE 1183
 7915 00000820 00000000                   DATA FOR SOURCE-LINE 1188
 7916 00000824 00000000                   DATA FOR SOURCE-LINE 1196
 7917 00000828 00000000                   DATA FOR SOURCE-LINE 1197
 7918 0000082C 00000000                   DATA FOR SOURCE-LINE 1200
 7919 00000830 00000000                   DATA FOR SOURCE-LINE 1203
 7920                                     ***** END-POOL *****
 7921 00000834                   1207     RDY_HOLDCHK_1000
 7922 00000834 D102              1208             MOV.L   #_END_CMD_LATCH,R1              ;
 7923 00000836 6011              1209             MOV.W   @R1,R0                          ;
 7924 00000838 2008              1210             TST     R0,R0                           ;
 7925                            1211             TST_BIT_ON RDY_HOLDCHK_1200             ;
 7926 0000083A 8B03                   M           BF      RDY_HOLDCHK_1200
 7927                            1212             M_BRA   RDY_CHK_1000                    ;
 7928 0000083C A25D                   M           BRA     RDY_CHK_1000
 7929 0000083E 0009                   M           NOP
 7930                                     ***** BEGIN-POOL *****
 7931 00000840 00000000                   DATA FOR SOURCE-LINE 1208
 7932                                     ***** END-POOL *****
 7933 00000844                   1213     RDY_HOLDCHK_1200
 7934                            1214             M_BRA   RDY_CHK_1200                    ;
 7935 00000844 A272                   M           BRA     RDY_CHK_1200
 7936 00000846 0009                   M           NOP
 7937                            1215     
 7938 00000848                   1216     RDY_HOLDCHK_1999
 7939                            1217             M_BRA   RDY_CHK_EXIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    38
PROGRAM NAME =

 7940 00000848 A2A1                   M           BRA     RDY_CHK_EXIT
 7941 0000084A 0009                   M           NOP
 7942                            1218     
 7943 0000084C                   1219     RDY_HOLDCHK_END
 7944                            1220     
 7945                            1221     
 7946                            1222     
 7947                            1223     
 7948                            1224     
 7949                            1225     
 7950                            1226     ;       ==== 2003-07-09(非運転状態ではｻｲｸﾙ速度表示ON) ====
 7951                            1227             FAR_JSR #_CNT_CYCL_DISP_ST,R0   ;表示する(表示したくないならこのｽｷｬﾝ内に表示しない
                                          をONする)
 7952 0000084C D007                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7953 0000084E 400B                   M           JSR     @R0                     ;
 7954 00000850 0009                   M           NOP                                     ;
 7955                            1228     
 7956                            1229     
 7957                            1230     ;       ------------2019010-10(2019-08-20)--------------
 7958                            1231             FAR_JSR #_CNT_SPM_DISP_CHK,R0   ;
 7959 00000852 D007                   M           MOV.L   #_CNT_SPM_DISP_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7960 00000854 400B                   M           JSR     @R0                     ;
 7961 00000856 0009                   M           NOP                                     ;
 7962                            1232     
 7963                            1233     
 7964                            1234     ;       ================================
 7965 00000858 D106              1235             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 7966 0000085A 6011              1236             MOV.W   @R1,R0                  ;
 7967 0000085C C801              1237             TST     #BIT0,R0                ;運転中?
 7968                            1238             TST_BIT_OF RDY_CHK_0050         ;
 7969 0000085E 890F                   M           BT      RDY_CHK_0050
 7970                            1239     ;       ===============================
 7971 00000860 D105              1240             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 7972 00000862 6011              1241             MOV.W   @R1,R0                  ;
 7973 00000864 2008              1242             TST     R0,R0                   ;
 7974                            1243             TST_BIT_ON RDY_CHK_0030         ;
 7975 00000866 8B09                   M           BF      RDY_CHK_0030
 7976                            1244             M_BRA   RDY_CHK_1200            ;(終了待ち)
 7977 00000868 A260                   M           BRA     RDY_CHK_1200
 7978 0000086A 0009                   M           NOP
 7979                            1245     
 7980                                     ***** BEGIN-POOL *****
 7981 0000086C 00000000                   DATA FOR SOURCE-LINE 1227
 7982 00000870 00000000                   DATA FOR SOURCE-LINE 1231
 7983 00000874 00000000                   DATA FOR SOURCE-LINE 1235
 7984 00000878 00000000                   DATA FOR SOURCE-LINE 1240
 7985                                     ***** END-POOL *****
 7986 0000087C                   1246     RDY_CHK_0030:
 7987                            1247             M_BRA   RDY_CHK_0500            ;通常の位置決め状態
 7988 0000087C A1B2                   M           BRA     RDY_CHK_0500
 7989 0000087E 0009                   M           NOP
 7990                            1248     
 7991 00000880                   1249     RDY_CHK_0050:
 7992                            1250     ;       ----------------------------------------------
 7993                            1251             _MONI_RDY_SET SETNO=1,SETREG=R0,WKREG=R1        ;2014-09-13
 7994 00000880 9007                   M           MOV.W   #1,R0
 7995 00000882 D104                   M           MOV.L   #_MONI_RDY_STEP,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    39
PROGRAM NAME =

 7996 00000884 2101                   M           MOV.W   R0,@R1
 7997                            1252     ;       ----------------------------------------------
 7998                            1253     
 7999 00000886 D104              1254             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 8000 00000888 6011              1255             MOV.W   @R1,R0                  ;
 8001 0000088A 2008              1256             TST     R0,R0                   ;
 8002                            1257             TST_BIT_OF RDY_CHK_0060         ;
 8003 0000088C 8906                   M           BT      RDY_CHK_0060
 8004                            1258             M_BRA   RDY_CHK_0200_START_WAIT ;
 8005 0000088E A115                   M           BRA     RDY_CHK_0200_START_WAIT
 8006 00000890 0009                   M           NOP
 8007                            1259     
 8008                                     ***** BEGIN-POOL *****
 8009 00000892 0001                       DATA FOR SOURCE-LINE 1251
 8010 00000894 00000000                   DATA FOR SOURCE-LINE 1251
 8011 00000898 00000000                   DATA FOR SOURCE-LINE 1254
 8012                                     ***** END-POOL *****
 8013 0000089C                   1260     RDY_CHK_0060:
 8014                            1261     ;       ----------------------------------------------
 8015                            1262             _MONI_RDY_SET SETNO=2,SETREG=R0,WKREG=R1        ;2014-09-13
 8016 0000089C 900A                   M           MOV.W   #2,R0
 8017 0000089E D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 8018 000008A0 2101                   M           MOV.W   R0,@R1
 8019                            1263     ;       ----------------------------------------------
 8020                            1264     
 8021                            1265     ;       ------- 2007-01-16--
 8022                            1266     
 8023                            1267     
 8024                            1268     ;       ------- 2006-07-28---
 8025                            1269             FAR_JSR #_ORGIN_MODE_START_WAIT,R0      ;
 8026 000008A2 D006                   M           MOV.L   #_ORGIN_MODE_START_WAIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8027 000008A4 400B                   M           JSR     @R0                     ;
 8028 000008A6 0009                   M           NOP                                     ;
 8029 000008A8 2008              1270             TST     R0,R0
 8030                            1271             TST_BIT_OF RDY_CHK_0070
 8031 000008AA 890B                   M           BT      RDY_CHK_0070
 8032 000008AC 8855              1272             CMP/EQ  #H'55,R0                        ;
 8033 000008AE 8B07              1273             BF      ORGIN_MODE_START_WT10           ;
 8034                            1274             M_BRA   RDY_CHK_0220                    ;55:起動
 8035 000008B0 A0EC                   M           BRA     RDY_CHK_0220
 8036 000008B2 0009                   M           NOP
 8037                                     ***** BEGIN-POOL *****
 8038 000008B4 0002                       DATA FOR SOURCE-LINE 1262
 8039 000008B6 0000                       ALIGNMENT CODE
 8040 000008B8 00000000                   DATA FOR SOURCE-LINE 1262
 8041 000008BC 00000000                   DATA FOR SOURCE-LINE 1269
 8042                                     ***** END-POOL *****
 8043 000008C0                   1275     ORGIN_MODE_START_WT10
 8044                            1276             M_BRA   RDY_CHK_0399                    ;-1
 8045 000008C0 A186                   M           BRA     RDY_CHK_0399
 8046 000008C2 0009                   M           NOP
 8047                            1277     
 8048 000008C4                   1278     RDY_CHK_0070:
 8049                            1279     
 8050                            1280     ;       ----------------------------------------------
 8051                            1281             _MONI_RDY_SET SETNO=3,SETREG=R0,WKREG=R1        ;2014-09-13
 8052 000008C4 901B                   M           MOV.W   #3,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    40
PROGRAM NAME =

 8053 000008C6 D10E                   M           MOV.L   #_MONI_RDY_STEP,R1
 8054 000008C8 2101                   M           MOV.W   R0,@R1
 8055                            1282     ;       ----------------------------------------------
 8056                            1283     
 8057                            1284     ;       ------- 2008-04-28(ORGIN MODE) ------------
 8058                            1285             FAR_JSR #_ORGIN_180CHK,R0
 8059 000008CA D00E                   M           MOV.L   #_ORGIN_180CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8060 000008CC 400B                   M           JSR     @R0                     ;
 8061 000008CE 0009                   M           NOP                                     ;
 8062                            1286     
 8063                            1287     
 8064                            1288     
 8065                            1289     
 8066                            1290     ;       ======= 非運転状態では位置決め完了待ちｸﾘｱ 2003-06-13 ====
 8067                            1291             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
 8068 000008D0 D10D                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
 8069 000008D2 6011                   M           MOV.W   @R1,R0          ;
 8070 000008D4 C9FE                   M           AND     #LOW ~BIT0,R0           ;
 8071 000008D6 2101                   M           MOV.W   R0,@R1          ;
 8072                            1292     
 8073                            1293     ;       ------- 2006-07-28 ----------------
 8074                            1294             FAR_JSR #_TEP_FLG_CLR,R0
 8075 000008D8 D00C                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8076 000008DA 400B                   M           JSR     @R0                     ;
 8077 000008DC 0009                   M           NOP                                     ;
 8078                            1295     
 8079                            1296     ;       ===========================================
 8080                            1297     ;       ===     安全装置ﾏｽｸ                     ===
 8081                            1298     ;       ===========================================
 8082                            1299     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
 8083                            1300     
 8084                            1301     ;       ===========================================================
 8085                            1302     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択のSWの反映を停止の待機点で行う     ===
 8086                            1303     ;       ===========================================================
 8087                            1304     ;       ======>2013-08-20 停止中であればSW切り替えを反映させる
 8088                            1305     
 8089 000008DE D10C              1306             MOV.L   #_UPMSK2_MOD,R1                         ;
 8090 000008E0 6011              1307             MOV.W   @R1,R0                                  ;
 8091 000008E2 2008              1308             TST     R0,R0                                   ;
 8092                            1309             TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;SWを使用しない
 8093 000008E4 8902                   M           BT      RDY_SFTY_MASK2CHK050
 8094                            1310     
 8095                            1311     ;;;;;;;;;;;;2013-08-20; <ふりこの場合、待機点の切替が起動後になってしまう。>
 8096                            1312     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 8097                            1313     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8098                            1314     ;;;;;;;;;;;;2013-08-20  TST     #(_DMATH_DNDRIV),R0                     ;
 8099                            1315     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK030                 ;
 8100                            1316     ;;;;;;;;;;;;2013-08-20
 8101                            1317     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1             ;
 8102                            1318     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8103                            1319     ;;;;;;;;;;;;2013-08-20  MOV.W   #BIT7,R4                                ;
 8104                            1320     ;;;;;;;;;;;;2013-08-20  TST     R4,R0                                   ;
 8105                            1321     ;;;;;;;;;;;;2013-08-20  TST_BIT_ON RDY_SFTY_MASK2CHK040                 ;
 8106                            1322     ;;;;;;;;;;;;2013-08-20
 8107                            1323     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK030
 8108                            1324     ;;;;;;;;;;;;2013-08-20
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    41
PROGRAM NAME =

 8109                            1325     ;;;;;;;;;;;;2013-08-20  MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機
                                          点範囲
 8110                            1326     ;;;;;;;;;;;;2013-08-20  MOV.W   @R4,R0                                  ;
 8111                            1327     ;;;;;;;;;;;;2013-08-20  TST     #BIT0,R0                                ;
 8112                            1328     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;待機点ではない
 8113                            1329     ;;;;;;;;;;;;2013-08-20
 8114                            1330     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK040
 8115                            1331     
 8116                            1332             FAR_JSR #_MASK2_SAFTY_SW_MOV,R0                 ;
 8117 000008E6 D00B                   M           MOV.L   #_MASK2_SAFTY_SW_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8118 000008E8 400B                   M           JSR     @R0                     ;
 8119 000008EA 0009                   M           NOP                                     ;
 8120                            1333     
 8121 000008EC                   1334     RDY_SFTY_MASK2CHK050:
 8122                            1335     
 8123                            1336     
 8124                            1337     ;       ===========================================================
 8125                            1338     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択 停止中[待機点と待機点以外]        ===
 8126                            1339     ;       ===========================================================
 8127                            1340     ;;;;;   FAR_JSR #_SFTY_MASK_START,R0            ;従来のソフトは停止時いつでもマスク
 8128                            1341     ;;;;2015-09-06  FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8129                            1342     
 8130                            1343     
 8131                            1344     ;;;;_BRK_SADOU_CHG
 8132                            1345     ;       -------- 2015-09-06---------
 8133 000008EC D10A              1346             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
 8134 000008EE 6011              1347             MOV.W   @R1,R0                                                  ;
 8135 000008F0 8801              1348             CMP/EQ  #1,R0
 8136 000008F2 8915              1349             BT      RDY_SFTY_MASK2CHK055                                    ;停止制御有効
 8137                            1350     
 8138                            1351             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
 8139 000008F4 D009                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8140 000008F6 400B                   M           JSR     @R0                     ;
 8141 000008F8 0009                   M           NOP                                     ;
 8142                            1352             M_BRA   RDY_SFTY_MASK2CHK100                                    ;
 8143 000008FA A022                   M           BRA     RDY_SFTY_MASK2CHK100
 8144 000008FC 0009                   M           NOP
 8145                            1353     
 8146                                     ***** BEGIN-POOL *****
 8147 000008FE 0003                       DATA FOR SOURCE-LINE 1281
 8148 00000900 00000000                   DATA FOR SOURCE-LINE 1281
 8149 00000904 00000000                   DATA FOR SOURCE-LINE 1285
 8150 00000908 00000000                   DATA FOR SOURCE-LINE 1291
 8151 0000090C 00000000                   DATA FOR SOURCE-LINE 1294
 8152 00000910 00000000                   DATA FOR SOURCE-LINE 1306
 8153 00000914 00000000                   DATA FOR SOURCE-LINE 1332
 8154 00000918 00000000                   DATA FOR SOURCE-LINE 1346
 8155 0000091C 00000000                   DATA FOR SOURCE-LINE 1351
 8156                                     ***** END-POOL *****
 8157 00000920                   1354     RDY_SFTY_MASK2CHK055:
 8158                            1355     
 8159 00000920 D104              1356             MOV.L   #_DRV_START_KEEP,R1
 8160 00000922 6011              1357             MOV.W   @R1,R0                          ;
 8161 00000924 C801              1358             TST     #BIT0,R0                        ;
 8162                            1359             TST_BIT_ON RDY_SFTY_MASK2CHK060         ;
 8163 00000926 8B09                   M           BF      RDY_SFTY_MASK2CHK060
 8164                            1360     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    42
PROGRAM NAME =

 8165                            1361             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8166 00000928 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8167 0000092A 400B                   M           JSR     @R0                     ;
 8168 0000092C 0009                   M           NOP                                     ;
 8169                            1362             M_BRA   RDY_SFTY_MASK2CHK100            ;
 8170 0000092E A008                   M           BRA     RDY_SFTY_MASK2CHK100
 8171 00000930 0009                   M           NOP
 8172                                     ***** BEGIN-POOL *****
 8173 00000932 0000                       ALIGNMENT CODE
 8174 00000934 00000000                   DATA FOR SOURCE-LINE 1356
 8175 00000938 00000000                   DATA FOR SOURCE-LINE 1361
 8176                                     ***** END-POOL *****
 8177 0000093C                   1363     RDY_SFTY_MASK2CHK060:
 8178                            1364             FAR_JSR #_SFTY_MASK_END,R0              ;
 8179 0000093C D004                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8180 0000093E 400B                   M           JSR     @R0                     ;
 8181 00000940 0009                   M           NOP                                     ;
 8182 00000942                   1365     RDY_SFTY_MASK2CHK100:
 8183                            1366     
 8184                            1367     ;       ================================================================
 8185                            1368     
 8186 00000942 D104              1369             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 8187 00000944 6011              1370             MOV.W   @R1,R0                  ;
 8188 00000946 C820              1371             TST     #_WORDY,R0              ;RDY
 8189                            1372             TST_BIT_OF RDY_CHK_0120         ;準備未完了
 8190 00000948 8906                   M           BT      RDY_CHK_0120
 8191                            1373             M_BRA   RDY_CHK_0200            ;(準備完了ON)
 8192 0000094A A067                   M           BRA     RDY_CHK_0200
 8193 0000094C 0009                   M           NOP
 8194                            1374     
 8195                                     ***** BEGIN-POOL *****
 8196 0000094E 0000                       ALIGNMENT CODE
 8197 00000950 00000000                   DATA FOR SOURCE-LINE 1364
 8198 00000954 00000000                   DATA FOR SOURCE-LINE 1369
 8199                                     ***** END-POOL *****
 8200 00000958                   1375     RDY_CHK_0120:
 8201                            1376     ;       ----------------------------------------------
 8202                            1377             _MONI_RDY_SET SETNO=4,SETREG=R0,WKREG=R1        ;2014-09-13
 8203 00000958 9035                   M           MOV.W   #4,R0
 8204 0000095A D11F                   M           MOV.L   #_MONI_RDY_STEP,R1
 8205 0000095C 2101                   M           MOV.W   R0,@R1
 8206                            1378     ;       ----------------------------------------------
 8207                            1379     
 8208                            1380     ;       ===================================
 8209                            1381     ;       ===                             ===
 8210                            1382     ;       ===     準備未完了              ===
 8211                            1383     ;       ===                             ===
 8212                            1384     ;       ===================================
 8213                            1385     ;       (本当は両手ﾌﾘ+連続停止OFF+,,,,,)
 8214                            1386     
 8215                            1387     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
 8216                            1388     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
 8217                            1389     
 8218                            1390     
 8219                            1391     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8220                            1392             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8221 0000095E D11F                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    43
PROGRAM NAME =

 8222 00000960 6011                   M           MOV.W   @R1,R0          ;
 8223 00000962 9431                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8224 00000964 2049                   M           AND     R4,R0           ;
 8225 00000966 2101                   M           MOV.W   R0,@R1          ;
 8226                            1393     
 8227                            1394     ;       ----- 2006-04-10----
 8228                            1395     ;;;     MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK
 8229                            1396     
 8230                            1397     
 8231                            1398     
 8232                            1399     ;;;;;;;;;[2007-01-16]   MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;
 8233                            1400     ;;;;;;;;;[2007-01-16]   MOV.W   @R1,R0                  ;
 8234                            1401     ;;;;;;;;;[2007-01-16]   TST     R0,R0                   ;
 8235                            1402     ;;;;;;;;;[2007-01-16]   TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
 8236                            1403     
 8237                            1404     ;2015-09-06 _BRK_SADOU_CHG 遮光解除後の準備完了の遅延をやめる
 8238                            1405     ;2015-09-06;    ------- 2007-01-19(原点復帰のみこの処理を入れる)----------
 8239                            1406     ;2015-09-06     MOV.L   #_MODE_SEL,R1                   ;
 8240                            1407     ;2015-09-06     MOV.W   @R1,R0                          ;
 8241                            1408     ;2015-09-06     TST     #_W1DUP,R0                      ;原点復帰?
 8242                            1409     ;2015-09-06     TST_BIT_OF RDY_CHK_0130                 ;
 8243                            1410     ;2015-09-06
 8244                            1411     ;2015-09-06;    -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
 8245                            1412     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
 8246                            1413     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
 8247                            1414     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
 8248                            1415     ;2015-09-06     TST     R4,R0                           ;
 8249                            1416     ;2015-09-06     TST_BIT_ON RDY_CHK_0130                 ;"MC時=1"
 8250                            1417     ;2015-09-06
 8251                            1418     ;2015-09-06;    -------- 原点復帰[2007年の話]----------
 8252                            1419     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;原点復帰モードのみ準備完了を遅らせる　０
                                          ．８秒くらい
 8253                            1420     ;2015-09-06     MOV.W   @R1,R0                  ;パルス遅らせる方式では、チョン押しと長押
                                          し区別がしずらいから
 8254                            1421     ;2015-09-06     TST     R0,R0                   ;準備完了を遅らせている
 8255                            1422     ;2015-09-06     TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
 8256                            1423     ;2015-09-06
 8257                            1424     ;2015-09-06RDY_CHK_0130:
 8258                            1425     ;       ----------------------------------------------
 8259                            1426             _MONI_RDY_SET SETNO=5,SETREG=R0,WKREG=R1        ;2014-09-13
 8260 00000968 902F                   M           MOV.W   #5,R0
 8261 0000096A D11B                   M           MOV.L   #_MONI_RDY_STEP,R1
 8262 0000096C 2101                   M           MOV.W   R0,@R1
 8263                            1427     ;       ----------------------------------------------
 8264                            1428     
 8265                            1429     
 8266                            1430     ;       ------- 順番入れ替え 2006-07-28 (とりあえず不要な入れ替えでしたが、、)-------
 8267                            1431             FAR_JSR #_RDYON_CONF1,R1        ;
 8268 0000096E D11C                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8269 00000970 410B                   M           JSR     @R1                     ;
 8270 00000972 0009                   M           NOP                                     ;
 8271 00000974 2008              1432             TST     R0,R0                   ;
 8272                            1433             TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8273 00000976 8B45                   M           BF      RDY_CHK_0199
 8274                            1434     
 8275                            1435     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    44
PROGRAM NAME =

 8276                            1436     ;       ----------------------------------------------
 8277                            1437             _MONI_RDY_SET SETNO=20,SETREG=R0,WKREG=R1       ;2014-09-13
 8278 00000978 9028                   M           MOV.W   #20,R0
 8279 0000097A D117                   M           MOV.L   #_MONI_RDY_STEP,R1
 8280 0000097C 2101                   M           MOV.W   R0,@R1
 8281                            1438     ;       ----------------------------------------------
 8282                            1439     
 8283                            1440     
 8284                            1441     
 8285 0000097E D119              1442             MOV.L   #_BTTN_FLG,R1           ;
 8286 00000980 6011              1443             MOV.W   @R1,R0                  ;
 8287 00000982 C801              1444             TST     #BIT0,R0                ;両手ﾌﾘ?
 8288                            1445             TST_BIT_OF RDY_CHK_0199         ;NO
 8289 00000984 893E                   M           BT      RDY_CHK_0199
 8290                            1446     
 8291                            1447     ;       ----------------------------------------------
 8292                            1448             _MONI_RDY_SET SETNO=21,SETREG=R0,WKREG=R1       ;2014-09-13
 8293 00000986 9022                   M           MOV.W   #21,R0
 8294 00000988 D113                   M           MOV.L   #_MONI_RDY_STEP,R1
 8295 0000098A 2101                   M           MOV.W   R0,@R1
 8296                            1449     ;       ----------------------------------------------
 8297                            1450     
 8298                            1451     ;;      ------- 順番入れ替え 2006-07-28-------
 8299                            1452     ;;      MOV.L   #_BTTN_FLG,R1           ;
 8300                            1453     ;;      MOV.W   @R1,R0                  ;
 8301                            1454     ;;      TST     #BIT0,R0                ;両手ﾌﾘ?
 8302                            1455     ;;      TST_BIT_OF RDY_CHK_0199         ;NO
 8303                            1456     ;;
 8304                            1457     ;;      FAR_JSR #_RDYON_CONF1,R1        ;
 8305                            1458     ;;      TST     R0,R0                   ;
 8306                            1459     ;;      TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8307                            1460     ;------- 両手フリ----
 8308                            1461     
 8309 0000098C D116              1462             MOV.L   #_MODE_SEL,R1           ;
 8310 0000098E 6611              1463             MOV.W   @R1,R6                  ;
 8311 00000990 921E              1464             MOV.W   #_W1CNT,R2              ;
 8312 00000992 2628              1465             TST     R2,R6                   ;
 8313                            1466             TST_BIT_OF RDY_CHK_0150         ;
 8314 00000994 8904                   M           BT      RDY_CHK_0150
 8315                            1467     
 8316 00000996 D315              1468             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 8317 00000998 6131              1469             MOV.W   @R3,R1                  ;
 8318 0000099A 921A              1470             MOV.W   #_W2SUP,R2              ;
 8319 0000099C 2128              1471             TST     R2,R1                   ;
 8320                            1472             TST_BIT_ON RDY_CHK_0199         ;連続ｾｯﾄｱｯﾌﾟ釦中
 8321 0000099E 8B31                   M           BF      RDY_CHK_0199
 8322                            1473     
 8323 000009A0                   1474     RDY_CHK_0150:
 8324 000009A0 200A              1475             XOR     R0,R0
 8325 000009A2 D113              1476             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
 8326 000009A4 2101              1477             MOV.W   R0,@R1                  ;
 8327                            1478     
 8328 000009A6 9215              1479             MOV.W   #_SYS_BSAME_TIM,R2      ;
 8329 000009A8 D112              1480             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 8330 000009AA 2121              1481             MOV.W   R2,@R1                  ;
 8331                            1482     
 8332                            1483             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    45
PROGRAM NAME =

 8333 000009AC D012                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8334 000009AE 400B                   M           JSR     @R0                     ;
 8335 000009B0 0009                   M           NOP                                     ;
 8336                            1484             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8337 000009B2 D012                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8338 000009B4 400B                   M           JSR     @R0                     ;
 8339 000009B6 0009                   M           NOP                                     ;
 8340 000009B8 2008              1485             TST     R0,R0                   ;
 8341                            1486             TST_BIT_OF RDY_CHK_0198         ;WAIT
 8342 000009BA 8902                   M           BT      RDY_CHK_0198
 8343                            1487             FAR_JSR #_RDY_ON,R1             ;準備完了へ遷移
 8344 000009BC D110                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8345 000009BE 410B                   M           JSR     @R1                     ;
 8346 000009C0 0009                   M           NOP                                     ;
 8347 000009C2                   1488     RDY_CHK_0198:
 8348                            1489             M_BRA   RDY_CHK_EXIT
 8349 000009C2 A1E4                   M           BRA     RDY_CHK_EXIT
 8350 000009C4 0009                   M           NOP
 8351                            1490     
 8352                                     ***** BEGIN-POOL *****
 8353 000009C6 0004                       DATA FOR SOURCE-LINE 1377
 8354 000009C8 FFF7                       DATA FOR SOURCE-LINE 1392
 8355 000009CA 0005                       DATA FOR SOURCE-LINE 1426
 8356 000009CC 0014                       DATA FOR SOURCE-LINE 1437
 8357 000009CE 0015                       DATA FOR SOURCE-LINE 1448
 8358 000009D0 0008                       DATA FOR SOURCE-LINE 1464
 8359 000009D2 0080                       DATA FOR SOURCE-LINE 1470
 8360 000009D4 01F4                       DATA FOR SOURCE-LINE 1479
 8361 000009D6 0000                       ALIGNMENT CODE
 8362 000009D8 00000000                   DATA FOR SOURCE-LINE 1377,1426,1437,1448
 8363 000009DC 00000000                   DATA FOR SOURCE-LINE 1392
 8364 000009E0 00000000                   DATA FOR SOURCE-LINE 1431
 8365 000009E4 00000000                   DATA FOR SOURCE-LINE 1442
 8366 000009E8 00000000                   DATA FOR SOURCE-LINE 1462
 8367 000009EC 00000000                   DATA FOR SOURCE-LINE 1468
 8368 000009F0 00000000                   DATA FOR SOURCE-LINE 1476
 8369 000009F4 00000000                   DATA FOR SOURCE-LINE 1480
 8370 000009F8 00000000                   DATA FOR SOURCE-LINE 1483
 8371 000009FC 00000000                   DATA FOR SOURCE-LINE 1484
 8372 00000A00 00000000                   DATA FOR SOURCE-LINE 1487
 8373                                     ***** END-POOL *****
 8374 00000A04                   1491     RDY_CHK_0199:
 8375                            1492             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したいをOFF
 8376 00000A04 D003                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8377 00000A06 400B                   M           JSR     @R0                     ;
 8378 00000A08 0009                   M           NOP                                     ;
 8379                            1493             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
 8380 00000A0A D003                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8381 00000A0C 400B                   M           JSR     @R0                     ;
 8382 00000A0E 0009                   M           NOP                                     ;
 8383                            1494     
 8384                            1495             M_BRA   RDY_CHK_EXIT
 8385 00000A10 A1BD                   M           BRA     RDY_CHK_EXIT
 8386 00000A12 0009                   M           NOP
 8387                            1496     
 8388                            1497     ;       ===================================
 8389                            1498     ;       ===     準備完了ON              ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    46
PROGRAM NAME =

 8390                            1499     ;       ===     起動または準備未完了    ===
 8391                            1500     ;       ===================================
 8392                                     ***** BEGIN-POOL *****
 8393 00000A14 00000000                   DATA FOR SOURCE-LINE 1492
 8394 00000A18 00000000                   DATA FOR SOURCE-LINE 1493
 8395                                     ***** END-POOL *****
 8396 00000A1C                   1501     RDY_CHK_0200:
 8397                            1502              .AIF   1 EQ 1  ;
 8398                            1503 C   ;       -------- 2016-10-31 ADD 二重回路対策
 8399                            1504              .AENDI
 8400                            1505             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-07-22 二重回路対策
 8401 00000A1C D00E                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8402 00000A1E 400B                   M           JSR     @R0                     ;
 8403 00000A20 0009                   M           NOP                                     ;
 8404                            1506     
 8405                            1507     
 8406                            1508             FAR_JSR #_RDYON_CONF1,R1                ;
 8407 00000A22 D10E                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8408 00000A24 410B                   M           JSR     @R1                     ;
 8409 00000A26 0009                   M           NOP                                     ;
 8410 00000A28 2008              1509             TST     R0,R0                           ;
 8411                            1510             TST_BIT_ON RDY_CHK_0299A                ;準備未完了へ
 8412 00000A2A 8B2D                   M           BF      RDY_CHK_0299A
 8413                            1511     
 8414                            1512     
 8415                            1513     ;       ------------------------------------
 8416                            1514             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8417 00000A2C D00C                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8418 00000A2E 400B                   M           JSR     @R0                     ;
 8419 00000A30 0009                   M           NOP                                     ;
 8420                            1515     ;       ------------------------------------
 8421                            1516     
 8422                            1517             FAR_JSR #_BTTN_START_CHK,R1             ;(0.5秒同時ON,) R0=00(KEEP) 55(起動) FF(準
                                          備未完へ)
 8423 00000A32 D10C                   M           MOV.L   #_BTTN_START_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8424 00000A34 410B                   M           JSR     @R1                     ;
 8425 00000A36 0009                   M           NOP                                     ;
 8426 00000A38 2008              1518             TST     R0,R0                           ;
 8427                            1519             TST_BIT_OF RDY_CHK_0290A                ;変化なし 2002-10-08 相手側ﾁｪｯｸ
 8428 00000A3A 8923                   M           BT      RDY_CHK_0290A
 8429 00000A3C 8855              1520             CMP/EQ  #H'55,R0                        ;
 8430 00000A3E 8B23              1521             BF      RDY_CHK_0299A                   ;失敗 -1
 8431                            1522     
 8432                            1523     ;       ---------------------------
 8433                            1524     ;       ---                     ---
 8434                            1525     ;       ---     起動が入った    ---
 8435                            1526     ;       ---     2007-01-16      ---
 8436                            1527     ;       ---                     ---
 8437                            1528     ;       ---------------------------
 8438                            1529             FAR_JSR #_DRV_START_KEP_WAIT,R0         ;
 8439 00000A40 D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8440 00000A42 400B                   M           JSR     @R0                     ;
 8441 00000A44 0009                   M           NOP                                     ;
 8442 00000A46 2008              1530             TST     R0,R0                           ;
 8443                            1531             TST_BIT_OF RDY_CHK_0280                 ;(原点復帰または解除中ではない)
 8444 00000A48 8912                   M           BT      RDY_CHK_0280
 8445 00000A4A 8855              1532             CMP/EQ  #H'55,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    47
PROGRAM NAME =

 8446 00000A4C 8B1A              1533             BF      RDY_CHK_0290A                   ;
 8447                            1534     
 8448                            1535     ;       ------- 起動時の原点復帰時の演算(ﾚﾍﾞﾙﾀｲﾌﾟのみ使用可能)------
 8449                            1536             FAR_JSR #_ORGIN_MODE_SEL_START,R0       ;
 8450 00000A4E D007                   M           MOV.L   #_ORGIN_MODE_SEL_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8451 00000A50 400B                   M           JSR     @R0                     ;
 8452 00000A52 0009                   M           NOP                                     ;
 8453                            1537     
 8454                            1538             M_BRA   RDY_CHK_0220                    ;起動
 8455 00000A54 A01A                   M           BRA     RDY_CHK_0220
 8456 00000A56 0009                   M           NOP
 8457                            1539     
 8458                            1540     
 8459                                     ***** BEGIN-POOL *****
 8460 00000A58 00000000                   DATA FOR SOURCE-LINE 1505
 8461 00000A5C 00000000                   DATA FOR SOURCE-LINE 1508
 8462 00000A60 00000000                   DATA FOR SOURCE-LINE 1514
 8463 00000A64 00000000                   DATA FOR SOURCE-LINE 1517
 8464 00000A68 00000000                   DATA FOR SOURCE-LINE 1529
 8465 00000A6C 00000000                   DATA FOR SOURCE-LINE 1536
 8466                                     ***** END-POOL *****
 8467 00000A70                   1541     RDY_CHK_0280
 8468                            1542     
 8469                            1543     ;       ===================================
 8470                            1544     ;       ===                             ===
 8471                            1545     ;       ===     2006-07-28              ===
 8472                            1546     ;       ===     原点起動                ===
 8473                            1547     ;       ===                             ===
 8474                            1548     ;       ===================================
 8475                            1549     ;       ここのはこない(エッジタイプだけこれ)
 8476                            1550             FAR_JSR #_ORGIN_MODE_SEL_WAIT,R0        ;
 8477 00000A70 D003                   M           MOV.L   #_ORGIN_MODE_SEL_WAIT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8478 00000A72 400B                   M           JSR     @R0                     ;
 8479 00000A74 0009                   M           NOP                                     ;
 8480 00000A76 2008              1551             TST     R0,R0                           ;
 8481                            1552             TST_BIT_OF RDY_CHK_0220                 ;起動
 8482 00000A78 8908                   M           BT      RDY_CHK_0220
 8483                            1553             M_BRA   RDY_CHK_0399                    ;
 8484 00000A7A A0A9                   M           BRA     RDY_CHK_0399
 8485 00000A7C 0009                   M           NOP
 8486                            1554     
 8487                            1555     
 8488                                     ***** BEGIN-POOL *****
 8489 00000A7E 0000                       ALIGNMENT CODE
 8490 00000A80 00000000                   DATA FOR SOURCE-LINE 1550
 8491                                     ***** END-POOL *****
 8492 00000A84                   1556     RDY_CHK_0290A:
 8493                            1557             M_BRA   RDY_CHK_0290                    ;
 8494 00000A84 A08E                   M           BRA     RDY_CHK_0290
 8495 00000A86 0009                   M           NOP
 8496                            1558     
 8497 00000A88                   1559     RDY_CHK_0299A:
 8498                            1560             M_BRA   RDY_CHK_0299                    ;失敗 -1
 8499 00000A88 A096                   M           BRA     RDY_CHK_0299
 8500 00000A8A 0009                   M           NOP
 8501                            1561     
 8502                            1562     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    48
PROGRAM NAME =

 8503 00000A8C                   1563     RDY_CHK_0220:
 8504                            1564     
 8505                            1565     ;       ===================================
 8506                            1566     ;       ===     擬似起動処理            ===
 8507                            1567     ;       ===================================
 8508                            1568             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
 8509 00000A8C D007                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8510 00000A8E 400B                   M           JSR     @R0                     ;
 8511 00000A90 0009                   M           NOP                                     ;
 8512                            1569     
 8513                            1570             FAR_JSR #_CPU_AB_STR_ON_OUT,R0          ;
 8514 00000A92 D007                   M           MOV.L   #_CPU_AB_STR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8515 00000A94 400B                   M           JSR     @R0                     ;
 8516 00000A96 0009                   M           NOP                                     ;
 8517 00000A98 9006              1571             MOV.W   #BIT0,R0                        ;
 8518 00000A9A D106              1572             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 8519 00000A9C 2101              1573             MOV.W   R0,@R1                          ;
 8520                            1574     
 8521                            1575     ;       ==== 2003-07-01 ====
 8522                            1576             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;
 8523 00000A9E D006                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8524 00000AA0 400B                   M           JSR     @R0                     ;
 8525 00000AA2 0009                   M           NOP                                     ;
 8526                            1577             M_BRA   RDY_CHK_0399                    ;準備完了はONのままとする
 8527 00000AA4 A094                   M           BRA     RDY_CHK_0399
 8528 00000AA6 0009                   M           NOP
 8529                            1578     
 8530                                     ***** BEGIN-POOL *****
 8531 00000AA8 0001                       DATA FOR SOURCE-LINE 1571
 8532 00000AAA 0000                       ALIGNMENT CODE
 8533 00000AAC 00000000                   DATA FOR SOURCE-LINE 1568
 8534 00000AB0 00000000                   DATA FOR SOURCE-LINE 1570
 8535 00000AB4 00000000                   DATA FOR SOURCE-LINE 1572
 8536 00000AB8 00000000                   DATA FOR SOURCE-LINE 1576
 8537                                     ***** END-POOL *****
 8538 00000ABC                   1579     RDY_CHK_0200_START_WAIT:
 8539                            1580     ;       ---- 2015-03-15-------
 8540                            1581             .AIF    0 EQ    0       ;
 8541                            1582             .AELSE
 8542                            1583             FAR_JSR #_ELSE_CPU_START_POS_PRESET,R0  ;
 8543                            1584             .AENDI
 8544                            1585     
 8545                            1586             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 8546 00000ABC D007                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8547 00000ABE 400B                   M           JSR     @R0                     ;
 8548 00000AC0 0009                   M           NOP                                     ;
 8549 00000AC2 2008              1587             TST     R0,R0                           ;
 8550                            1588             TST_BIT_ON RDY_CHK_0200_START           ;相手も起動したいぞ(これを最初にﾁｪｯｸする事
                                          )
 8551 00000AC4 8B12                   M           BF      RDY_CHK_0200_START
 8552                            1589     
 8553                            1590     
 8554                            1591     ;       -------HOLDからの起動(運転釦無し、自動起動)　2014-09-01--------------
 8555 00000AC6 D106              1592             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 8556 00000AC8 6011              1593             MOV.W   @R1,R0                          ;
 8557 00000ACA 2008              1594             TST     R0,R0                           ;
 8558                            1595             TST_BIT_ON RDY_CHK_0200_START_WT2       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    49
PROGRAM NAME =

 8559 00000ACC 8B0C                   M           BF      RDY_CHK_0200_START_WT2
 8560                            1596     ;       ------------------------------------------------
 8561                            1597     
 8562                            1598     
 8563                            1599             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
 8564 00000ACE D005                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8565 00000AD0 400B                   M           JSR     @R0                     ;
 8566 00000AD2 0009                   M           NOP                                     ;
 8567                            1600     
 8568 00000AD4 2008              1601             TST     R0,R0                           ;
 8569                            1602             TST_BIT_ON RDY_CHK_0200_START_WT2       ;(準備完了ONならいつまでもまつ)
 8570 00000AD6 8B07                   M           BF      RDY_CHK_0200_START_WT2
 8571                            1603             M_BRA   RDY_CHK_0299                    ;失敗:起動をあきらめる
 8572 00000AD8 A06E                   M           BRA     RDY_CHK_0299
 8573 00000ADA 0009                   M           NOP
 8574                            1604     
 8575                                     ***** BEGIN-POOL *****
 8576 00000ADC 00000000                   DATA FOR SOURCE-LINE 1586
 8577 00000AE0 00000000                   DATA FOR SOURCE-LINE 1592
 8578 00000AE4 00000000                   DATA FOR SOURCE-LINE 1599
 8579                                     ***** END-POOL *****
 8580 00000AE8                   1605     RDY_CHK_0200_START_WT2:
 8581                            1606             M_BRA   RDY_CHK_0399
 8582 00000AE8 A072                   M           BRA     RDY_CHK_0399
 8583 00000AEA 0009                   M           NOP
 8584                            1607     
 8585 00000AEC                   1608     RDY_CHK_0200_START:
 8586                            1609     
 8587                            1610     ;       ===================================
 8588                            1611     ;       ===     起動処理                ===
 8589                            1612     ;       ===================================
 8590                            1613     
 8591                            1614     ;;;;;   FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8592                            1615     
 8593                            1616     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8594                            1617             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;2005-01-17
 8595 00000AEC D01C                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8596 00000AEE 400B                   M           JSR     @R0                     ;
 8597 00000AF0 0009                   M           NOP                                     ;
 8598                            1618     
 8599                            1619             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8600 00000AF2 D11C                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 8601 00000AF4 6011                   M           MOV.W   @R1,R0          ;
 8602 00000AF6 9430                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8603 00000AF8 2049                   M           AND     R4,R0           ;
 8604 00000AFA 2101                   M           MOV.W   R0,@R1          ;
 8605                            1620     
 8606                            1621             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
 8607 00000AFC D01A                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8608 00000AFE 400B                   M           JSR     @R0                     ;
 8609 00000B00 0009                   M           NOP                                     ;
 8610                            1622             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
 8611 00000B02 D01A                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8612 00000B04 400B                   M           JSR     @R0                     ;
 8613 00000B06 0009                   M           NOP                                     ;
 8614                            1623             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
 8615 00000B08 D019                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    50
PROGRAM NAME =

 8616 00000B0A 400B                   M           JSR     @R0                     ;
 8617 00000B0C 0009                   M           NOP                                     ;
 8618                            1624     
 8619                            1625     ;       ==== 2004-01-28 ==
 8620 00000B0E 200A              1626             XOR     R0,R0
 8621 00000B10 D118              1627             MOV.L   #_ENC360_OVER_FLG,R1            ;
 8622 00000B12 2101              1628             MOV.W   R0,@R1                          ;
 8623                            1629     
 8624                            1630             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
 8625 00000B14 D018                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8626 00000B16 400B                   M           JSR     @R0                     ;
 8627 00000B18 0009                   M           NOP                                     ;
 8628                            1631     
 8629                            1632             FAR_JSR #_CB_CTL_START_INI,R0
 8630 00000B1A D018                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8631 00000B1C 400B                   M           JSR     @R0                     ;
 8632 00000B1E 0009                   M           NOP                                     ;
 8633                            1633             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
 8634 00000B20 D017                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8635 00000B22 400B                   M           JSR     @R0                     ;
 8636 00000B24 0009                   M           NOP                                     ;
 8637                            1634     
 8638                            1635     
 8639                            1636             FAR_JSR #_MN_POS_CTRL_START,R0                                                  ;
 8640 00000B26 D017                   M           MOV.L   #_MN_POS_CTRL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8641 00000B28 400B                   M           JSR     @R0                     ;
 8642 00000B2A 0009                   M           NOP                                     ;
 8643                            1637     
 8644                            1638     
 8645                            1639     
 8646                            1640     ;       --------------------2014-09-19-----------------------
 8647                            1641             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
 8648 00000B2C D016                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8649 00000B2E 400B                   M           JSR     @R0                     ;
 8650 00000B30 0009                   M           NOP                                     ;
 8651                            1642     
 8652                            1643     ;       --------------------2014-09-12-----------------------
 8653                            1644     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
 8654                            1645     ;;;;;;;;;;;     MOV.W   @R1,R0                  ;
 8655                            1646     ;;;;;;;;;;;     PUSH_REG1 R0
 8656                            1647     ;;;;;;;;;;;
 8657                            1648     ;;;;;;;;;;;     FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12[位置計算後にCLR]
 8658                            1649     ;;;;;;;;;;;
 8659                            1650     ;;;;;;;;;;;     POP_REG1 R0
 8660                            1651     ;;;;;;;;;;;     TST     R0,R0                           ;
 8661                            1652     ;;;;;;;;;;;     TST_BIT_OF RDY_POSHLD_CHK050            ;再起動
 8662                            1653     ;;;;;;;;;;;
 8663                            1654     ;;;;;;;;;;;     MOV.B   #BIT0,R0                        ;
 8664                            1655     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
 8665                            1656     ;;;;;;;;;;;     MOV.W   R0,@R1                          ;
 8666                            1657     ;;;;;;;;;;;
 8667                            1658     ;;;;;;;;;;;RDY_POSHLD_CHK050
 8668                            1659     ;       --------------------------------------
 8669                            1660     
 8670                            1661             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
 8671 00000B32 D116                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    51
PROGRAM NAME =

 8672 00000B34 9212                   M           MOV.W   #BIT0,R2                ;
 8673 00000B36 2121                   M           MOV.W   R2,@R1  ;
 8674                            1662             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
 8675 00000B38 D015                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8676 00000B3A 400B                   M           JSR     @R0                     ;
 8677 00000B3C 0009                   M           NOP                                     ;
 8678                            1663     
 8679                            1664             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
 8680 00000B3E D015                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8681 00000B40 400B                   M           JSR     @R0                     ;
 8682 00000B42 0009                   M           NOP                                     ;
 8683                            1665             FAR_JSR #_RDY_OF,R1                     ;
 8684 00000B44 D114                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8685 00000B46 410B                   M           JSR     @R1                     ;
 8686 00000B48 0009                   M           NOP                                     ;
 8687                            1666     
 8688                            1667              .AIF   1 EQ 1  ;
 8689                            1668 C   ;       -------- 2016-10-31 ADD 二重回路対策
 8690                            1669              .AENDI
 8691                            1670             FAR_JSR #_SELFCHK_LOCK_SET,R0           ;2016-04-16
 8692 00000B4A D014                   M           MOV.L   #_SELFCHK_LOCK_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8693 00000B4C 400B                   M           JSR     @R0                     ;
 8694 00000B4E 0009                   M           NOP                                     ;
 8695                            1671     
 8696                            1672     
 8697                            1673     ;       ====== 2007-01-16========
 8698                            1674             FAR_JSR #_START_SFTY_LOCK_CLR,R0
 8699 00000B50 D013                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8700 00000B52 400B                   M           JSR     @R0                     ;
 8701 00000B54 0009                   M           NOP                                     ;
 8702                            1675     
 8703                            1676     
 8704                            1677     
 8705                            1678     
 8706                            1679     
 8707                            1680     ;;;     XOR     R0,R0                           ;
 8708                            1681     ;;;     MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したいは終わり側にも使用する
 8709                            1682     ;;;     MOV.W   R0,@R1                          ;
 8710                            1683     ;;;     FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 8711                            1684             M_BRA   RDY_CHK_0399                    ;
 8712 00000B56 A03B                   M           BRA     RDY_CHK_0399
 8713 00000B58 0009                   M           NOP
 8714                            1685     
 8715                            1686     ;       ====== 保持状態=======
 8716                                     ***** BEGIN-POOL *****
 8717 00000B5A FFF7                       DATA FOR SOURCE-LINE 1619
 8718 00000B5C 0001                       DATA FOR SOURCE-LINE 1661
 8719 00000B5E 0000                       ALIGNMENT CODE
 8720 00000B60 00000000                   DATA FOR SOURCE-LINE 1617
 8721 00000B64 00000000                   DATA FOR SOURCE-LINE 1619
 8722 00000B68 00000000                   DATA FOR SOURCE-LINE 1621
 8723 00000B6C 00000000                   DATA FOR SOURCE-LINE 1622
 8724 00000B70 00000000                   DATA FOR SOURCE-LINE 1623
 8725 00000B74 00000000                   DATA FOR SOURCE-LINE 1627
 8726 00000B78 00000000                   DATA FOR SOURCE-LINE 1630
 8727 00000B7C 00000000                   DATA FOR SOURCE-LINE 1632
 8728 00000B80 00000000                   DATA FOR SOURCE-LINE 1633
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    52
PROGRAM NAME =

 8729 00000B84 00000000                   DATA FOR SOURCE-LINE 1636
 8730 00000B88 00000000                   DATA FOR SOURCE-LINE 1641
 8731 00000B8C 00000000                   DATA FOR SOURCE-LINE 1661
 8732 00000B90 00000000                   DATA FOR SOURCE-LINE 1662
 8733 00000B94 00000000                   DATA FOR SOURCE-LINE 1664
 8734 00000B98 00000000                   DATA FOR SOURCE-LINE 1665
 8735 00000B9C 00000000                   DATA FOR SOURCE-LINE 1670
 8736 00000BA0 00000000                   DATA FOR SOURCE-LINE 1674
 8737                                     ***** END-POOL *****
 8738 00000BA4                   1687     RDY_CHK_0290:                           ;((((()))))
 8739                            1688             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8740 00000BA4 D003                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8741 00000BA6 400B                   M           JSR     @R0                     ;
 8742 00000BA8 0009                   M           NOP                                     ;
 8743 00000BAA 2008              1689             TST     R0,R0                   ;
 8744                            1690             TST_BIT_OF RDY_CHK_0299         ;相手側CPUのせいで準備未完了へ
 8745 00000BAC 8904                   M           BT      RDY_CHK_0299
 8746                            1691             M_BRA   RDY_CHK_0399            ;
 8747 00000BAE A00F                   M           BRA     RDY_CHK_0399
 8748 00000BB0 0009                   M           NOP
 8749                            1692     
 8750                            1693     ;       ======= 準備完了失敗====
 8751                                     ***** BEGIN-POOL *****
 8752 00000BB2 0000                       ALIGNMENT CODE
 8753 00000BB4 00000000                   DATA FOR SOURCE-LINE 1688
 8754                                     ***** END-POOL *****
 8755 00000BB8                   1694     RDY_CHK_0299:
 8756                            1695             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
 8757 00000BB8 D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8758 00000BBA 400B                   M           JSR     @R0                     ;
 8759 00000BBC 0009                   M           NOP                                     ;
 8760                            1696             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
 8761 00000BBE D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8762 00000BC0 400B                   M           JSR     @R0                     ;
 8763 00000BC2 0009                   M           NOP                                     ;
 8764                            1697             FAR_JSR #_RDY_OF,R0                     ;準備未完了へ遷移
 8765 00000BC4 D005                   M           MOV.L   #_RDY_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8766 00000BC6 400B                   M           JSR     @R0                     ;
 8767 00000BC8 0009                   M           NOP                                     ;
 8768                            1698     ;;;     FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 8769                            1699     
 8770                            1700     ;       ------- 2007-01-16----------
 8771 00000BCA 200A              1701             XOR     R0,R0
 8772 00000BCC D104              1702             MOV.L   #_DRV_START_KEEP,R1             ;FLG
 8773 00000BCE 2101              1703             MOV.W   R0,@R1                          ;
 8774                            1704     
 8775 00000BD0                   1705     RDY_CHK_0399:
 8776                            1706             M_BRA   RDY_CHK_EXIT
 8777 00000BD0 A0DD                   M           BRA     RDY_CHK_EXIT
 8778 00000BD2 0009                   M           NOP
 8779                            1707     
 8780                            1708     
 8781                            1709     
 8782                            1710     ;       ===================================
 8783                            1711     ;       ===     ﾊﾞﾙﾌﾞON(位置決め中)     ===
 8784                            1712     ;       ===================================
 8785                            1713     ;       >> ﾛｯﾄｶｳﾝﾀ処理 <<
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    53
PROGRAM NAME =

 8786                                     ***** BEGIN-POOL *****
 8787 00000BD4 00000000                   DATA FOR SOURCE-LINE 1695
 8788 00000BD8 00000000                   DATA FOR SOURCE-LINE 1696
 8789 00000BDC 00000000                   DATA FOR SOURCE-LINE 1697
 8790 00000BE0 00000000                   DATA FOR SOURCE-LINE 1702
 8791                                     ***** END-POOL *****
 8792 00000BE4                   1714     RDY_CHK_0500:
 8793                            1715     
 8794                            1716     ;;;2007-12-24   FAR_JSR #_LOT_CNT_CNT,R0        ;
 8795                            1717     
 8796                            1718     
 8797                            1719             FAR_JSR #_STEP_SIG_DISP,R0      ;
 8798 00000BE4 D006                   M           MOV.L   #_STEP_SIG_DISP,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8799 00000BE6 400B                   M           JSR     @R0                     ;
 8800 00000BE8 0009                   M           NOP                                     ;
 8801                            1720     ;       ==== 2003-07-09 ====
 8802                            1721             FAR_JSR #_CNT_SPM_DISP_CHK,R0
 8803 00000BEA D006                   M           MOV.L   #_CNT_SPM_DISP_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8804 00000BEC 400B                   M           JSR     @R0                     ;
 8805 00000BEE 0009                   M           NOP                                     ;
 8806                            1722     ;       ====================
 8807                            1723     
 8808                            1724     ;       ---------------------------------------------------------
 8809                            1725     ;       --------------------[一旦停止処理]-------------------
 8810                            1726     ;       ---------------------------------------------------------
 8811                            1727             FAR_JSR #_POSHLD1_STEP1_STOPCMD_CHK,R0                  ;
 8812 00000BF0 D005                   M           MOV.L   #_POSHLD1_STEP1_STOPCMD_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8813 00000BF2 400B                   M           JSR     @R0                     ;
 8814 00000BF4 0009                   M           NOP                                     ;
 8815 00000BF6 2008              1728             TST     R0,R0                                           ;
 8816                            1729             TST_BIT_OF RDY_CHK_0505                                 ;
 8817 00000BF8 8908                   M           BT      RDY_CHK_0505
 8818                            1730             M_BRA   RDY_CHK_1000                                    ;
 8819 00000BFA A07E                   M           BRA     RDY_CHK_1000
 8820 00000BFC 0009                   M           NOP
 8821                                     ***** BEGIN-POOL *****
 8822 00000BFE 0000                       ALIGNMENT CODE
 8823 00000C00 00000000                   DATA FOR SOURCE-LINE 1719
 8824 00000C04 00000000                   DATA FOR SOURCE-LINE 1721
 8825 00000C08 00000000                   DATA FOR SOURCE-LINE 1727
 8826                                     ***** END-POOL *****
 8827 00000C0C                   1731     RDY_CHK_0505:
 8828                            1732     
 8829                            1733     
 8830                            1734     
 8831                            1735     ;       --------- 2006-07-28---------------------
 8832                            1736     ;       位置決めキャンセル機能１
 8833                            1737             FAR_JSR #_POS_CANSEL_STOP_CHK,R0        ;
 8834 00000C0C D003                   M           MOV.L   #_POS_CANSEL_STOP_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8835 00000C0E 400B                   M           JSR     @R0                     ;
 8836 00000C10 0009                   M           NOP                                     ;
 8837 00000C12 2008              1738             TST     R0,R0                           ;
 8838                            1739             TST_BIT_OF RDY_CHK_0510                 ;
 8839 00000C14 8904                   M           BT      RDY_CHK_0510
 8840                            1740             M_BRA   RDY_CHK_1000                    ;
 8841 00000C16 A070                   M           BRA     RDY_CHK_1000
 8842 00000C18 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    54
PROGRAM NAME =

 8843                                     ***** BEGIN-POOL *****
 8844 00000C1A 0000                       ALIGNMENT CODE
 8845 00000C1C 00000000                   DATA FOR SOURCE-LINE 1737
 8846                                     ***** END-POOL *****
 8847 00000C20                   1741     RDY_CHK_0510:
 8848                            1742     ;       ----------------------------------------------
 8849                            1743     ;       ===== 各々のモード処理======
 8850 00000C20 D102              1744             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
 8851 00000C22 6011              1745             MOV.W   @R1,R0                  ;
 8852 00000C24 2008              1746             TST     R0,R0                   ;
 8853                            1747             TST_BIT_ON RDY_CHK_0520         ;BIT0
 8854 00000C26 8B03                   M           BF      RDY_CHK_0520
 8855                            1748             M_BRA   RDY_CHK_1000            ;
 8856 00000C28 A067                   M           BRA     RDY_CHK_1000
 8857 00000C2A 0009                   M           NOP
 8858                            1749     
 8859                                     ***** BEGIN-POOL *****
 8860 00000C2C 00000000                   DATA FOR SOURCE-LINE 1744
 8861                                     ***** END-POOL *****
 8862 00000C30                   1750     RDY_CHK_0520:
 8863                            1751     
 8864                            1752     ;       ------ 2007-03-02[CMP]------------------------
 8865 00000C30 D102              1753             MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
 8866 00000C32 6011              1754             MOV.W   @R1,R0                          ;
 8867 00000C34 C802              1755             TST     #BIT1,R0                        ;
 8868                            1756             TST_BIT_OF RDY_CHK_0525                 ;
 8869 00000C36 8903                   M           BT      RDY_CHK_0525
 8870                            1757             M_BRA   RDY_CHK_1000                    ;
 8871 00000C38 A05F                   M           BRA     RDY_CHK_1000
 8872 00000C3A 0009                   M           NOP
 8873                                     ***** BEGIN-POOL *****
 8874 00000C3C 00000000                   DATA FOR SOURCE-LINE 1753
 8875                                     ***** END-POOL *****
 8876 00000C40                   1758     RDY_CHK_0525:
 8877                            1759     ;       ----------------------------------------
 8878                            1760     
 8879                            1761     
 8880                            1762     ;       -------- 2007-02-05 ----------
 8881                            1763     ;2015-09-06_BRK_SADOU_CHG EQ 1
 8882                            1764     ;;;廃止 FAR_JSR #_SFTY_DLY_SET2,R0      ;全モードで停止後の遮光ブレーキ遅延時間
 8883                            1765     
 8884 00000C40 D106              1766             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 8885 00000C42 6011              1767             MOV.W   @R1,R0                  ;
 8886 00000C44 C808              1768             TST     #_W1CNT,R0              ;
 8887                            1769             TST_BIT_OF RDY_CHK_0600         ;
 8888 00000C46 8915                   M           BT      RDY_CHK_0600
 8889                            1770     
 8890 00000C48 9106              1771             MOV.W   #(BIT12+BIT11),R1       ;
 8891 00000C4A 2018              1772             TST     R1,R0
 8892                            1773             TST_BIT_OF RDY_CHK_0530         ;
 8893 00000C4C 890A                   M           BT      RDY_CHK_0530
 8894                            1774     
 8895                            1775             FAR_JSR #_MODE_CSS_STOP_CHK,R0  ;連続一行程・連続寸動一行程
 8896 00000C4E D004                   M           MOV.L   #_MODE_CSS_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8897 00000C50 400B                   M           JSR     @R0                     ;
 8898 00000C52 0009                   M           NOP                                     ;
 8899                            1776             M_BRA   RDY_CHK_1000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    55
PROGRAM NAME =

 8900 00000C54 A051                   M           BRA     RDY_CHK_1000
 8901 00000C56 0009                   M           NOP
 8902                            1777     
 8903                                     ***** BEGIN-POOL *****
 8904 00000C58 1800                       DATA FOR SOURCE-LINE 1771
 8905 00000C5A 0000                       ALIGNMENT CODE
 8906 00000C5C 00000000                   DATA FOR SOURCE-LINE 1766
 8907 00000C60 00000000                   DATA FOR SOURCE-LINE 1775
 8908                                     ***** END-POOL *****
 8909 00000C64                   1778     RDY_CHK_0530:
 8910                            1779             FAR_JSR #_MODE_CNT_STOP_CHK,R0  ;
 8911 00000C64 D002                   M           MOV.L   #_MODE_CNT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8912 00000C66 400B                   M           JSR     @R0                     ;
 8913 00000C68 0009                   M           NOP                                     ;
 8914                            1780             M_BRA   RDY_CHK_1000
 8915 00000C6A A046                   M           BRA     RDY_CHK_1000
 8916 00000C6C 0009                   M           NOP
 8917                                     ***** BEGIN-POOL *****
 8918 00000C6E 0000                       ALIGNMENT CODE
 8919 00000C70 00000000                   DATA FOR SOURCE-LINE 1779
 8920                                     ***** END-POOL *****
 8921 00000C74                   1781     RDY_CHK_0600:
 8922                            1782     
 8923 00000C74 C802              1783             TST     #_W1INC,R0              ;
 8924                            1784             TST_BIT_OF RDY_CHK_0650         ;
 8925 00000C76 8907                   M           BT      RDY_CHK_0650
 8926                            1785             FAR_JSR #_MODE_INC_STOP_CHK,R0  ;
 8927 00000C78 D002                   M           MOV.L   #_MODE_INC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8928 00000C7A 400B                   M           JSR     @R0                     ;
 8929 00000C7C 0009                   M           NOP                                     ;
 8930                            1786             M_BRA   RDY_CHK_1000
 8931 00000C7E A03C                   M           BRA     RDY_CHK_1000
 8932 00000C80 0009                   M           NOP
 8933                            1787     
 8934                                     ***** BEGIN-POOL *****
 8935 00000C82 0000                       ALIGNMENT CODE
 8936 00000C84 00000000                   DATA FOR SOURCE-LINE 1785
 8937                                     ***** END-POOL *****
 8938 00000C88                   1788     RDY_CHK_0650:
 8939                            1789     
 8940 00000C88 C804              1790             TST     #_W1SGL,R0              ;
 8941                            1791             TST_BIT_OF RDY_CHK_0700         ;
 8942 00000C8A 891B                   M           BT      RDY_CHK_0700
 8943                            1792     ;       === 回転時は一度                [作業一行程,一行程,外部安全一]
 8944                            1793             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 8945 00000C8C D008                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8946 00000C8E 400B                   M           JSR     @R0                     ;
 8947 00000C90 0009                   M           NOP                                     ;
 8948                            1794                                             ;上昇ホールドするかしないか
 8949                            1795     
 8950                            1796             FAR_JSR #_UP_HOLD_AREA_MASK,R0  ;安全一行程中のマスクするかしないかの条件
 8951 00000C92 D008                   M           MOV.L   #_UP_HOLD_AREA_MASK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8952 00000C94 400B                   M           JSR     @R0                     ;
 8953 00000C96 0009                   M           NOP                                     ;
 8954                            1797     
 8955                            1798     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    56
PROGRAM NAME =

 8956                            1799             FAR_JSR #_MODE_SGL_STOP_CHK,R0  ;AUTO SIGNAL MAKE　AUTOのための処理
 8957 00000C98 D007                   M           MOV.L   #_MODE_SGL_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8958 00000C9A 400B                   M           JSR     @R0                     ;
 8959 00000C9C 0009                   M           NOP                                     ;
 8960                            1800     
 8961 00000C9E D107              1801             MOV.L   #_UP_HOLD_FLG,R1        ;
 8962 00000CA0 6011              1802             MOV.W   @R1,R0                  ;
 8963 00000CA2 C802              1803             TST     #BIT1,R0                ;上昇無効
 8964                            1804             TST_BIT_OF SGL_UP_HOLD_MASK050  ;
 8965 00000CA4 8902                   M           BT      SGL_UP_HOLD_MASK050
 8966                            1805     
 8967                            1806             FAR_JSR #_SFTY_MASK_START,R0    ;[[[[]]]]
 8968 00000CA6 D006                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8969 00000CA8 400B                   M           JSR     @R0                     ;
 8970 00000CAA 0009                   M           NOP                                     ;
 8971                            1807     
 8972                            1808     
 8973                            1809     ;       -------- 2007-02-05 ----------
 8974                            1810     ;2015-09-06_BRK_SADOU_CHG EQ 1
 8975                            1811     ;;;廃止 FAR_JSR #_SFTY_DLY_SET1,R0      ;
 8976                            1812     
 8977                            1813     ;;;;;   -------- 2006-11-21-------------
 8978                            1814     ;;;;;   MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
 8979                            1815     ;;;;;   MOV.W   @R1,R0                  ;
 8980                            1816     ;;;;;   -------- 2007-01-16-----
 8981                            1817     ;;;;;   MOV.L   #_PAR_SLOCK_DLY2,R1     ;
 8982                            1818     ;;;;;   MOV.W   @R1,R1                  ;
 8983                            1819     ;;;;;   ADD     R1,R0                   ;
 8984                            1820     ;;;;;   MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
 8985                            1821     ;;;;;   MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
 8986                            1822     ;;;;;;  ---------------------------------
 8987                            1823     
 8988                            1824     
 8989 00000CAC                   1825     SGL_UP_HOLD_MASK050:
 8990                            1826             M_BRA   RDY_CHK_1000            ;
 8991 00000CAC A025                   M           BRA     RDY_CHK_1000
 8992 00000CAE 0009                   M           NOP
 8993                            1827     
 8994                                     ***** BEGIN-POOL *****
 8995 00000CB0 00000000                   DATA FOR SOURCE-LINE 1793
 8996 00000CB4 00000000                   DATA FOR SOURCE-LINE 1796
 8997 00000CB8 00000000                   DATA FOR SOURCE-LINE 1799
 8998 00000CBC 00000000                   DATA FOR SOURCE-LINE 1801
 8999 00000CC0 00000000                   DATA FOR SOURCE-LINE 1806
 9000                                     ***** END-POOL *****
 9001 00000CC4                   1828     RDY_CHK_0700:
 9002                            1829     
 9003 00000CC4 C810              1830             TST     #_W1OPT,R0              ;
 9004                            1831             TST_BIT_OF RDY_CHK_0750         ;
 9005 00000CC6 890B                   M           BT      RDY_CHK_0750
 9006                            1832             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 9007 00000CC8 D003                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9008 00000CCA 400B                   M           JSR     @R0                     ;
 9009 00000CCC 0009                   M           NOP                                     ;
 9010                            1833             FAR_JSR #_MODE_OPT_STOP_CHK,R0  ;OPTION=安全一工程(分けるか?)
 9011 00000CCE D003                   M           MOV.L   #_MODE_OPT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    57
PROGRAM NAME =

 9012 00000CD0 400B                   M           JSR     @R0                     ;
 9013 00000CD2 0009                   M           NOP                                     ;
 9014                            1834             M_BRA   RDY_CHK_1000            ;
 9015 00000CD4 A011                   M           BRA     RDY_CHK_1000
 9016 00000CD6 0009                   M           NOP
 9017                                     ***** BEGIN-POOL *****
 9018 00000CD8 00000000                   DATA FOR SOURCE-LINE 1832
 9019 00000CDC 00000000                   DATA FOR SOURCE-LINE 1833
 9020                                     ***** END-POOL *****
 9021 00000CE0                   1835     RDY_CHK_0750:
 9022                            1836     
 9023 00000CE0 C840              1837             TST     #_W1DUP,R0                      ;
 9024                            1838             TST_BIT_OF RDY_CHK_0950                 ;
 9025 00000CE2 8907                   M           BT      RDY_CHK_0950
 9026                            1839             FAR_JSR #_MODE_DUP_STOP_CHK,R0          ;待機点復帰
 9027 00000CE4 D002                   M           MOV.L   #_MODE_DUP_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9028 00000CE6 400B                   M           JSR     @R0                     ;
 9029 00000CE8 0009                   M           NOP                                     ;
 9030                            1840             M_BRA   RDY_CHK_1000
 9031 00000CEA A006                   M           BRA     RDY_CHK_1000
 9032 00000CEC 0009                   M           NOP
 9033                                     ***** BEGIN-POOL *****
 9034 00000CEE 0000                       ALIGNMENT CODE
 9035 00000CF0 00000000                   DATA FOR SOURCE-LINE 1839
 9036                                     ***** END-POOL *****
 9037 00000CF4                   1841     RDY_CHK_0950:
 9038                            1842     
 9039                            1843             FAR_JSR #_MODE_DIC_STOP_CHK,R0  ;段取
 9040 00000CF4 D008                   M           MOV.L   #_MODE_DIC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9041 00000CF6 400B                   M           JSR     @R0                     ;
 9042 00000CF8 0009                   M           NOP                                     ;
 9043                            1844     
 9044                            1845     ;       ===================================
 9045                            1846     ;       ===     位置決め部              ===
 9046                            1847     ;       ===================================
 9047 00000CFA                   1848     RDY_CHK_1000:
 9048                            1849             FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 9049 00000CFA D108                   M           MOV.L   #_MN_POS_CTRL_ACT,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9050 00000CFC 410B                   M           JSR     @R1                     ;
 9051 00000CFE 0009                   M           NOP                                     ;
 9052                            1850                                                     ;<寸動等の停止 -->準備未完了へ "FF">
 9053                            1851                                                     ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 9054 00000D00 D107              1852             MOV.L   #_END_CMD_LATCH,R1
 9055 00000D02 2101              1853             MOV.W   R0,@R1                          ;
 9056 00000D04 2008              1854             TST     R0,R0                           ;
 9057                            1855             TST_BIT_OF RDY_CHK_EXIT                 ;(継続)
 9058 00000D06 8942                   M           BT      RDY_CHK_EXIT
 9059                            1856     
 9060 00000D08 200A              1857             XOR     R0,R0                           ;
 9061 00000D0A D106              1858             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 9062 00000D0C 2101              1859             MOV.W   R0,@R1                          ;
 9063                            1860             FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 9064 00000D0E D006                   M           MOV.L   #_CPU_BA_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9065 00000D10 400B                   M           JSR     @R0                     ;
 9066 00000D12 0009                   M           NOP                                     ;
 9067                            1861             M_BRA   RDY_CHK_EXIT                    ;
 9068 00000D14 A03B                   M           BRA     RDY_CHK_EXIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    58
PROGRAM NAME =

 9069 00000D16 0009                   M           NOP
 9070                            1862     
 9071                                     ***** BEGIN-POOL *****
 9072 00000D18 00000000                   DATA FOR SOURCE-LINE 1843
 9073 00000D1C 00000000                   DATA FOR SOURCE-LINE 1849
 9074 00000D20 00000000                   DATA FOR SOURCE-LINE 1852
 9075 00000D24 00000000                   DATA FOR SOURCE-LINE 1858
 9076 00000D28 00000000                   DATA FOR SOURCE-LINE 1860
 9077                                     ***** END-POOL *****
 9078 00000D2C                   1863     RDY_CHK_1200:
 9079                            1864             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 9080 00000D2C D005                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9081 00000D2E 400B                   M           JSR     @R0                     ;
 9082 00000D30 0009                   M           NOP                                     ;
 9083 00000D32 2008              1865             TST     R0,R0                           ;
 9084                            1866             TST_BIT_ON RDY_CHK_EXIT                 ;起動状態のまま
 9085 00000D34 8B2B                   M           BF      RDY_CHK_EXIT
 9086                            1867     
 9087 00000D36 D104              1868             MOV.L   #_END_CMD_LATCH,R1              ;
 9088 00000D38 6011              1869             MOV.W   @R1,R0                          ;
 9089                            1870     
 9090 00000D3A 8855              1871             CMP/EQ  #H'55,R0                        ;
 9091 00000D3C 8906              1872             BT      RDY_CHK_CYCL_END                ;ｻｲｸﾙｴﾝﾄﾞ
 9092                            1873             M_BRA   RDY_CHK_END_COM                 ;寸動終了
 9093 00000D3E A014                   M           BRA     RDY_CHK_END_COM
 9094 00000D40 0009                   M           NOP
 9095                            1874     
 9096                                     ***** BEGIN-POOL *****
 9097 00000D42 0000                       ALIGNMENT CODE
 9098 00000D44 00000000                   DATA FOR SOURCE-LINE 1864
 9099 00000D48 00000000                   DATA FOR SOURCE-LINE 1868
 9100                                     ***** END-POOL *****
 9101 00000D4C                   1875     RDY_CHK_CYCL_END:
 9102                            1876     ;;本当はここだけど、ここにこない        FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;(ﾛｯﾄｶｳﾝﾀ
                                          には使用できないので注意)
 9103                            1877     
 9104 00000D4C D112              1878             MOV.L   #_MODE_SEL,R1                   ;
 9105 00000D4E 6011              1879             MOV.W   @R1,R0                          ;
 9106 00000D50 9220              1880             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9107 00000D52 2028              1881             TST     R2,R0                           ;
 9108                            1882             TST_BIT_ON RDY_CHK_END_COM              ;
 9109 00000D54 8B09                   M           BF      RDY_CHK_END_COM
 9110                            1883     
 9111 00000D56 D111              1884             MOV.L   #_SELF_CHK_SEL,R1               ;
 9112 00000D58 6011              1885             MOV.W   @R1,R0                          ;
 9113 00000D5A C802              1886             TST     #BIT1,R0                        ;2006-04-10 運転終了時にセルフするBIT1=1
 9114                            1887             TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9115 00000D5C 8905                   M           BT      RDY_CHK_END_COM
 9116                            1888     
 9117                            1889     ;;2006-04-10    TST     #BIT0,R0                        ;
 9118                            1890     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9119                            1891     
 9120                            1892     ;;2006-04-10    TST     #BIT1,R0                        ;
 9121                            1893     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;//制御停止時ｾﾙﾌﾁｪｯｸしない JUMP
 9122                            1894     
 9123 00000D5E D110              1895             MOV.L   #_SELF_TIMING_SIG,R1            ;2006-04-10
 9124 00000D60 9019              1896             MOV.W   #1,R0                           ;2006-04-10
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    59
PROGRAM NAME =

 9125 00000D62 2101              1897             MOV.W   R0,@R1                          ;2006-04-10
 9126                            1898     
 9127                            1899     ; ==== //制御停止時ｾﾙﾌﾁｪｯｸする===
 9128 00000D64 D10F              1900             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 9129 00000D66 200A              1901             XOR     R0,R0                           ;
 9130 00000D68 2101              1902             MOV.W   R0,@R1                          ;
 9131                            1903     
 9132 00000D6A                   1904     RDY_CHK_END_COM:
 9133                            1905             FAR_JSR #_STEP_SIG_DSP_CLR,R0           ;行程ｸﾘｱ
 9134 00000D6A D00F                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9135 00000D6C 400B                   M           JSR     @R0                     ;
 9136 00000D6E 0009                   M           NOP                                     ;
 9137                            1906     
 9138                            1907             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;中断及び１回転終了時
 9139 00000D70 D00E                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9140 00000D72 400B                   M           JSR     @R0                     ;
 9141 00000D74 0009                   M           NOP                                     ;
 9142                            1908     
 9143                            1909             FAR_JSR #_AUTO_OF,R0                    ;
 9144 00000D76 D00E                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9145 00000D78 400B                   M           JSR     @R0                     ;
 9146 00000D7A 0009                   M           NOP                                     ;
 9147                            1910     
 9148 00000D7C 200A              1911             XOR     R0,R0
 9149 00000D7E D10D              1912             MOV.L   #_DRV_ACT_FLG,R1                ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 9150 00000D80 2101              1913             MOV.W   R0,@R1                          ;
 9151                            1914     
 9152                            1915             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05
 9153 00000D82 D00D                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9154 00000D84 400B                   M           JSR     @R0                     ;
 9155 00000D86 0009                   M           NOP                                     ;
 9156                            1916     
 9157                            1917             FAR_JSR #_FRCYCL_OF,R0                  ;上昇無効
 9158 00000D88 D00C                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9159 00000D8A 400B                   M           JSR     @R0                     ;
 9160 00000D8C 0009                   M           NOP                                     ;
 9161                            1918     
 9162 00000D8E                   1919     RDY_CHK_EXIT:
 9163                            1920             SUB_END
 9164                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9165 00000D8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9166                            1921             M_RTS
 9167 00000D90 000B                   M           RTS                             ;RTSの後ろの
 9168 00000D92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9169                            1922     
 9170                            1923     
 9171                            1924     ;       ***********************************
 9172                            1925     ;       ***                             ***
 9173                            1926     ;       ***     RDY-ON 維持条件         ***
 9174                            1927     ;       ***                             ***
 9175                            1928     ;       ***********************************
 9176                            1929     ;       R0=0 RDY ON KEEP
 9177                                     ***** BEGIN-POOL *****
 9178 00000D94 0062                       DATA FOR SOURCE-LINE 1880
 9179 00000D96 0001                       DATA FOR SOURCE-LINE 1896
 9180 00000D98 00000000                   DATA FOR SOURCE-LINE 1878
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    60
PROGRAM NAME =

 9181 00000D9C 00000000                   DATA FOR SOURCE-LINE 1884
 9182 00000DA0 00000000                   DATA FOR SOURCE-LINE 1895
 9183 00000DA4 00000000                   DATA FOR SOURCE-LINE 1900
 9184 00000DA8 00000000                   DATA FOR SOURCE-LINE 1905
 9185 00000DAC 00000000                   DATA FOR SOURCE-LINE 1907
 9186 00000DB0 00000000                   DATA FOR SOURCE-LINE 1909
 9187 00000DB4 00000000                   DATA FOR SOURCE-LINE 1912
 9188 00000DB8 00000000                   DATA FOR SOURCE-LINE 1915
 9189 00000DBC 00000000                   DATA FOR SOURCE-LINE 1917
 9190                                     ***** END-POOL *****
 9191 00000DC0                   1930     _RDYON_CONF1:
 9192                            1931             SUB_START
 9193 00000DC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9194                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9195 00000DC2 D113              1932             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
 9196 00000DC4 6011              1933             MOV.W   @R1,R0                          ;
 9197 00000DC6 941D              1934             MOV.W   #BIT14,R4                       ;
 9198 00000DC8 2048              1935             TST     R4,R0                           ;
 9199                            1936             TST_BIT_ON RDY_ON_CF_999                ;一旦停止指令
 9200 00000DCA 8B2B                   M           BF      RDY_ON_CF_999
 9201                            1937     
 9202                            1938     ;       ----------------------------------------------
 9203                            1939             _MONI_RDY_SET SETNO=10,SETREG=R0,WKREG=R1       ;2014-09-13
 9204 00000DCC 901B                   M           MOV.W   #10,R0
 9205 00000DCE D111                   M           MOV.L   #_MONI_RDY_STEP,R1
 9206 00000DD0 2101                   M           MOV.W   R0,@R1
 9207                            1940     ;       ----------------------------------------------
 9208                            1941     
 9209 00000DD2 D111              1942             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9210 00000DD4 6011              1943             MOV.W   @R1,R0                          ;
 9211 00000DD6 C803              1944             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9212                            1945             TST_BIT_ON RDY_ON_CF_999                ;
 9213 00000DD8 8B24                   M           BF      RDY_ON_CF_999
 9214                            1946     
 9215                            1947     ;       ----------------------------------------------
 9216                            1948             _MONI_RDY_SET SETNO=11,SETREG=R0,WKREG=R1       ;2014-09-13
 9217 00000DDA 9015                   M           MOV.W   #11,R0
 9218 00000DDC D10D                   M           MOV.L   #_MONI_RDY_STEP,R1
 9219 00000DDE 2101                   M           MOV.W   R0,@R1
 9220                            1949     ;       ----------------------------------------------
 9221                            1950     
 9222 00000DE0 D10E              1951             MOV.L   #_MODE_SEL,R1                   ;
 9223 00000DE2 6611              1952             MOV.W   @R1,R6                          ;
 9224 00000DE4 9211              1953             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9225 00000DE6 2628              1954             TST     R2,R6                           ;
 9226                            1955             TST_BIT_ON RDY_ON_CF_998                ;(寸動・段取はﾛｯﾄｶｳﾝﾄｱｯﾌﾟは関係なし)
 9227 00000DE8 8B09                   M           BF      RDY_ON_CF_998
 9228                            1956     
 9229                            1957     ;       ----------------------------------------------
 9230                            1958             _MONI_RDY_SET SETNO=12,SETREG=R0,WKREG=R1       ;2014-09-13
 9231 00000DEA 900F                   M           MOV.W   #12,R0
 9232 00000DEC D109                   M           MOV.L   #_MONI_RDY_STEP,R1
 9233 00000DEE 2101                   M           MOV.W   R0,@R1
 9234                            1959     ;       ----------------------------------------------
 9235                            1960     
 9236 00000DF0 D10B              1961             MOV.L   #_CNT_STOP_CMD,R1               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    61
PROGRAM NAME =

 9237 00000DF2 6011              1962             MOV.W   @R1,R0                          ;
 9238 00000DF4 2008              1963             TST     R0,R0                           ;
 9239                            1964             TST_BIT_ON RDY_ON_CF_999                ;連続停止,LOT,設定異常
 9240 00000DF6 8B15                   M           BF      RDY_ON_CF_999
 9241                            1965     
 9242                            1966     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
 9243                            1967     ;;      MOV.W   @R1,R0                          ;
 9244                            1968     ;;      MOV.W   #_W1END,R2                      ;
 9245                            1969     ;;      TST     R2,R0                           ;連続停止
 9246                            1970     ;;      TST_BIT_ON RDY_ON_CF_999                ;
 9247                            1971     
 9248                            1972     ;       ----------------------------------------------
 9249                            1973             _MONI_RDY_SET SETNO=13,SETREG=R0,WKREG=R1       ;2014-09-13
 9250 00000DF8 9009                   M           MOV.W   #13,R0
 9251 00000DFA D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 9252 00000DFC 2101                   M           MOV.W   R0,@R1
 9253                            1974     ;       ----------------------------------------------
 9254                            1975     
 9255 00000DFE                   1976     RDY_ON_CF_998:
 9256 00000DFE 200A              1977             XOR     R0,R0                   ;準備完了
 9257                            1978             M_BRA   RDY_ON_CF_EXT           ;
 9258 00000E00 A011                   M           BRA     RDY_ON_CF_EXT
 9259 00000E02 0009                   M           NOP
 9260                                     ***** BEGIN-POOL *****
 9261 00000E04 4000                       DATA FOR SOURCE-LINE 1934
 9262 00000E06 000A                       DATA FOR SOURCE-LINE 1939
 9263 00000E08 000B                       DATA FOR SOURCE-LINE 1948
 9264 00000E0A 0062                       DATA FOR SOURCE-LINE 1953
 9265 00000E0C 000C                       DATA FOR SOURCE-LINE 1958
 9266 00000E0E 000D                       DATA FOR SOURCE-LINE 1973
 9267 00000E10 00000000                   DATA FOR SOURCE-LINE 1932
 9268 00000E14 00000000                   DATA FOR SOURCE-LINE 1939,1948,1958,1973
 9269 00000E18 00000000                   DATA FOR SOURCE-LINE 1942
 9270 00000E1C 00000000                   DATA FOR SOURCE-LINE 1951
 9271 00000E20 00000000                   DATA FOR SOURCE-LINE 1961
 9272                                     ***** END-POOL *****
 9273 00000E24                   1979     RDY_ON_CF_999:
 9274 00000E24 E0FF              1980             MOV     #-1,R0                  ;準備未完了
 9275 00000E26                   1981     RDY_ON_CF_EXT:
 9276                            1982             SUB_END
 9277                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9278 00000E26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9279                            1983             M_RTS
 9280 00000E28 000B                   M           RTS                             ;RTSの後ろの
 9281 00000E2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9282                            1984     
 9283                            1985     ;       ***********************************
 9284                            1986     ;       ***                             ***
 9285                            1987     ;       ***     2006-04-10              ***
 9286                            1988     ;       ***                             ***
 9287                            1989     ;       ***********************************
 9288                            1990     ;;;;2015-09-06
 9289                            1991     ;;;;_BRK_SADOU_CHG EQ 0 廃止
 9290                            1992     ;;;;_RDY_OF_SFTY_LOCK:
 9291                            1993     ;;;;    SUB_START
 9292                            1994     ;;;;    MOV.L   #_PAR_SFTY_BRKSEL,R1            ;
 9293                            1995     ;;;;    MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    62
PROGRAM NAME =

 9294                            1996     ;;;;    CMP/EQ  #1,R0                           ;
 9295                            1997     ;;;;    BF      RDY_OF_SFTYLOCK_END             ;
 9296                            1998     ;;;;
 9297                            1999     ;;;;;   ----------- 位置決め完了から遅延時間分は遮光になってもブレーキかけない安一------
 9298                            2000     ;;;;;   (ｾﾙﾌﾁｪｯｸ遅延時間)2007-01-16(ﾌﾞﾚｰｷをかけない)
 9299                            2001     ;;;;    MOV.L   #_SFTY_LOCK_DLYTM,R1            ;
 9300                            2002     ;;;;    MOV.W   @R1,R0                          ;(上昇ﾎｰﾙﾄﾞ無効)
 9301                            2003     ;;;;    TST     R0,R0                           ;
 9302                            2004     ;;;;    TST_BIT_ON RDY_OF_SFTYLOCK_END          ;(位置決め完了遅延時間)
 9303                            2005     ;;;;
 9304                            2006     ;;;;
 9305                            2007     ;;;;    MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9306                            2008     ;;;;    MOV.W   @R1,R0                          ;
 9307                            2009     ;;;;    TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9308                            2010     ;;;;    TST_BIT_OF RDY_OF_SFTYLOCK_100          ;
 9309                            2011     ;;;;
 9310                            2012     ;;;;
 9311                            2013     ;;;;    MOV.W   #BIT0,R0                        ;
 9312                            2014     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9313                            2015     ;;;;    MOV.W   R0,@R1                          ;
 9314                            2016     ;;;;    M_BRA   RDY_OF_SFTYLOCK_END             ;
 9315                            2017     ;;;;
 9316                            2018     ;;;;RDY_OF_SFTYLOCK_100:
 9317                            2019     ;;;;    XOR     R0,R0
 9318                            2020     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9319                            2021     ;;;;    MOV.W   R0,@R1                          ;
 9320                            2022     ;;;;
 9321                            2023     ;;;;RDY_OF_SFTYLOCK_END:
 9322                            2024     ;;;;    SUB_END
 9323                            2025     ;;;;    M_RTS
 9324                            2026     
 9325                            2027     
 9326                            2028     ;       ***********************************
 9327                            2029     ;       ***                             ***
 9328                            2030     ;       ***     RDY-ON から起動条件     ***
 9329                            2031     ;       ***             準備未完へ      ***
 9330                            2032     ;       ***                             ***
 9331                            2033     ;       ***********************************
 9332                            2034     ;       (0.5秒同時ON,)
 9333                            2035     ;       R0=00(KEEP) H'55(起動) FF(準備未完へ)
 9334 00000E2C                   2036     _BTTN_START_CHK:
 9335                            2037             SUB_START
 9336 00000E2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9337                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9338                            2038     
 9339                            2039     ;       ------- 2007-01-16(遮光装置の遅延時の起動記憶)----------
 9340 00000E2E D105              2040             MOV.L   #_DRV_START_KEEP,R1             ;FLG
 9341 00000E30 6011              2041             MOV.W   @R1,R0                          ;
 9342 00000E32 C801              2042             TST     #BIT0,R0                        ;
 9343                            2043             TST_BIT_OF BTTN_DRVSEP_CHK_END          ;
 9344 00000E34 890D                   M           BT      BTTN_DRVSEP_CHK_END
 9345                            2044     
 9346 00000E36 D104              2045             MOV.L   #_BTTN_FLG,R1                   ;
 9347 00000E38 6011              2046             MOV.W   @R1,R0                          ;
 9348 00000E3A C804              2047             TST     #BIT2,R0                        ;両手ON
 9349                            2048             TST_BIT_OF BTTN_DRVSEP_CHK_CLR          ;両手ONをやめた
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    63
PROGRAM NAME =

 9350 00000E3C 8906                   M           BT      BTTN_DRVSEP_CHK_CLR
 9351                            2049             M_BRA   BTTN_START_CK570                ;
 9352 00000E3E A09E                   M           BRA     BTTN_START_CK570
 9353 00000E40 0009                   M           NOP
 9354                            2050     
 9355                                     ***** BEGIN-POOL *****
 9356 00000E42 0000                       ALIGNMENT CODE
 9357 00000E44 00000000                   DATA FOR SOURCE-LINE 2040
 9358 00000E48 00000000                   DATA FOR SOURCE-LINE 2045
 9359                                     ***** END-POOL *****
 9360 00000E4C                   2051     BTTN_DRVSEP_CHK_CLR:
 9361 00000E4C 200A              2052             XOR     R0,R0                   ;
 9362 00000E4E D10B              2053             MOV.L   #_DRV_START_KEEP,R1     ;FLG
 9363 00000E50 2101              2054             MOV.W   R0,@R1                  ;;
 9364 00000E52                   2055     BTTN_DRVSEP_CHK_END:
 9365                            2056     
 9366                            2057     
 9367                            2058     ;;_BRK_SADOU_CHG EQ 0
 9368                            2059     ;;;;;;2015-09-06
 9369                            2060     ;;;;;;; ------- 2007-01-23(遮光装置の遅延時手動パルサは受け付けない)-------
 9370                            2061     ;;;;;;  MOV.L   #_RDY_SFTY_WAIT_TIM,R1                          ;
 9371                            2062     ;;;;;;  MOV.W   @R1,R0                                          ;
 9372                            2063     ;;;;;;  TST     R0,R0                                           ;
 9373                            2064     ;;;;;;  TST_BIT_OF BTTN_DRVTEP_CHKEND                           ;
 9374                            2065     ;;;;;;  FAR_JSR #_TEPA_PLSCNT_CLR,R0                            ;
 9375                            2066     ;;;;;;BTTN_DRVTEP_CHKEND
 9376                            2067     ;       ---------------------------------[2]
 9377                            2068     
 9378                            2069     
 9379                            2070     
 9380                            2071     
 9381                            2072     
 9382 00000E52 D10B              2073             MOV.L   #_BTTN_FLG,R1           ;
 9383 00000E54 6011              2074             MOV.W   @R1,R0                  ;
 9384 00000E56 C801              2075             TST     #BIT0,R0                ;両手ﾌﾘ?
 9385                            2076             TST_BIT_OF BTTN_START_CK100     ;NO JUMP
 9386 00000E58 8905                   M           BT      BTTN_START_CK100
 9387                            2077     
 9388                            2078             FAR_JSR #_TEPA_PLSCNT_CLR,R0    ;2006-07-28
 9389 00000E5A D00A                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9390 00000E5C 400B                   M           JSR     @R0                     ;
 9391 00000E5E 0009                   M           NOP                                     ;
 9392                            2079     
 9393 00000E60 9209              2080             MOV.W   #_SYS_BSAME_TIM,R2      ;(両手ﾌﾘｰ)
 9394 00000E62 D109              2081             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9395 00000E64 2121              2082             MOV.W   R2,@R1                  ;
 9396 00000E66                   2083     BTTN_START_CK100:
 9397                            2084     
 9398 00000E66 D109              2085             MOV.L   #_MODE_SEL,R1           ;
 9399 00000E68 6611              2086             MOV.W   @R1,R6                  ;
 9400 00000E6A 9205              2087             MOV.W   #_W1CNT,R2              ;
 9401 00000E6C 2628              2088             TST     R2,R6                   ;
 9402                            2089             TST_BIT_ON BTTN_START_CK150     ;
 9403 00000E6E 8B0F                   M           BF      BTTN_START_CK150
 9404 00000E70 9203              2090             MOV.W   #H'7FFF,R2              ;連続以外はいつでも7FFF設定
 9405                            2091             M_BRA   BTTN_START_CK220        ;
 9406 00000E72 A042                   M           BRA     BTTN_START_CK220
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    64
PROGRAM NAME =

 9407 00000E74 0009                   M           NOP
 9408                            2092     
 9409                                     ***** BEGIN-POOL *****
 9410 00000E76 01F4                       DATA FOR SOURCE-LINE 2080
 9411 00000E78 0008                       DATA FOR SOURCE-LINE 2087
 9412 00000E7A 7FFF                       DATA FOR SOURCE-LINE 2090
 9413 00000E7C 00000000                   DATA FOR SOURCE-LINE 2053
 9414 00000E80 00000000                   DATA FOR SOURCE-LINE 2073
 9415 00000E84 00000000                   DATA FOR SOURCE-LINE 2078
 9416 00000E88 00000000                   DATA FOR SOURCE-LINE 2081
 9417 00000E8C 00000000                   DATA FOR SOURCE-LINE 2085
 9418                                     ***** END-POOL *****
 9419 00000E90                   2093     BTTN_START_CK150:
 9420                            2094     ;       **********************************
 9421                            2095     ;       ***     2004-01-26              **
 9422                            2096     ;       **********************************
 9423 00000E90 D106              2097             MOV.L   #_MODE_SEL,R1           ;
 9424 00000E92 6011              2098             MOV.W   @R1,R0                  ;
 9425 00000E94 9108              2099             MOV.W   #(BIT12+BIT11),R1       ;
 9426 00000E96 2018              2100             TST     R1,R0                   ;OPTIONの連続寸動
 9427                            2101             TST_BIT_ON BTTN_START_CK180     ;本当のｵﾌﾟｼｮﾝではない
 9428 00000E98 8B03                   M           BF      BTTN_START_CK180
 9429                            2102     
 9430                            2103     ;       ===============================================
 9431                            2104     ;       ====== ｾｯﾄｱｯﾌﾟ仕様CHEAK 未なら 7FFF=R2 CK220へ==
 9432                            2105     ;       ================================================
 9433 00000E9A D105              2106             MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
 9434 00000E9C 6011              2107             MOV.W   @R1,R0                  ;28.4
 9435 00000E9E C810              2108             TST     #BIT4,R0                ;
 9436                            2109             TST_BIT_ON BTTN_START_CK190     ;ｾｯﾄｱｯﾌﾟ仕様
 9437 00000EA0 8B08                   M           BF      BTTN_START_CK190
 9438 00000EA2                   2110     BTTN_START_CK180:                       ;
 9439 00000EA2 9202              2111             MOV.W   #H'7FFF,R2              ;
 9440                            2112             M_BRA   BTTN_START_CK220        ;
 9441 00000EA4 A029                   M           BRA     BTTN_START_CK220
 9442 00000EA6 0009                   M           NOP
 9443                            2113     
 9444                            2114     ;       ===== ｾｯﾄｱｯﾌﾟﾁｪｯｸ ====
 9445                                     ***** BEGIN-POOL *****
 9446 00000EA8 1800                       DATA FOR SOURCE-LINE 2099
 9447 00000EAA 7FFF                       DATA FOR SOURCE-LINE 2111
 9448 00000EAC 00000000                   DATA FOR SOURCE-LINE 2097
 9449 00000EB0 00000000                   DATA FOR SOURCE-LINE 2106
 9450                                     ***** END-POOL *****
 9451 00000EB4                   2115     BTTN_START_CK190:
 9452 00000EB4 D105              2116             MOV.L   #_SET_UP_TIM,R1         ;
 9453 00000EB6 6211              2117             MOV.W   @R1,R2                  ;
 9454 00000EB8 2228              2118             TST     R2,R2                   ;
 9455                            2119             TST_BIT_OF BTTN_START_CK192     ;ｾｯﾄｱｯﾌﾟ待ち
 9456 00000EBA 890B                   M           BT      BTTN_START_CK192
 9457                            2120     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 9458                            2121             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 9459 00000EBC D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 9460 00000EBE 6011                   M           MOV.W   @R1,R0          ;
 9461 00000EC0 9403                   M           MOV.W   #LWORD (~BIT3),R4       ;
 9462 00000EC2 2049                   M           AND     R4,R0           ;
 9463 00000EC4 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    65
PROGRAM NAME =

 9464                            2122             M_BRA   BTTN_START_CK195
 9465 00000EC6 A00A                   M           BRA     BTTN_START_CK195
 9466 00000EC8 0009                   M           NOP
 9467                                     ***** BEGIN-POOL *****
 9468 00000ECA FFF7                       DATA FOR SOURCE-LINE 2121
 9469 00000ECC 00000000                   DATA FOR SOURCE-LINE 2116
 9470 00000ED0 00000000                   DATA FOR SOURCE-LINE 2121
 9471                                     ***** END-POOL *****
 9472 00000ED4                   2123     BTTN_START_CK192:
 9473                            2124     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち状態 ======
 9474                            2125             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4
 9475 00000ED4 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
 9476 00000ED6 6011                   M           MOV.W   @R1,R0          ;
 9477 00000ED8 9408                   M           MOV.W   #(BIT3),R4              ;
 9478 00000EDA 204B                   M           OR      R4,R0           ;
 9479 00000EDC 2101                   M           MOV.W   R0,@R1          ;
 9480 00000EDE                   2126     BTTN_START_CK195:
 9481                            2127     
 9482 00000EDE D305              2128             MOV.L   #_di2_cb_ctl2_on,R3     ;
 9483 00000EE0 6131              2129             MOV.W   @R3,R1                  ;
 9484 00000EE2 9204              2130             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9485 00000EE4 2128              2131             TST     R2,R1                   ;
 9486                            2132             TST_BIT_ON BTTN_START_CK200     ;
 9487 00000EE6 8B07                   M           BF      BTTN_START_CK200
 9488                            2133             M_BRA   BTTN_START_CK300        ;
 9489 00000EE8 A009                   M           BRA     BTTN_START_CK300
 9490 00000EEA 0009                   M           NOP
 9491                            2134     
 9492                                     ***** BEGIN-POOL *****
 9493 00000EEC 0008                       DATA FOR SOURCE-LINE 2125
 9494 00000EEE 0080                       DATA FOR SOURCE-LINE 2130
 9495 00000EF0 00000000                   DATA FOR SOURCE-LINE 2125
 9496 00000EF4 00000000                   DATA FOR SOURCE-LINE 2128
 9497                                     ***** END-POOL *****
 9498 00000EF8                   2135     BTTN_START_CK200:
 9499 00000EF8 9214              2136             MOV.W   #_SYS_SETUP_TIM,R2      ;
 9500 00000EFA                   2137     BTTN_START_CK220:
 9501 00000EFA D10B              2138             MOV.L   #_SET_UP_TIM,R1         ;
 9502 00000EFC 2121              2139             MOV.W   R2,@R1                  ;
 9503                            2140     
 9504                            2141     ;       ============================
 9505 00000EFE                   2142     BTTN_START_CK300:
 9506 00000EFE D10B              2143             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9507 00000F00 6211              2144             MOV.W   @R1,R2                  ;
 9508 00000F02 2228              2145             TST     R2,R2                   ;
 9509                            2146             TST_BIT_OF BTTN_START_CK599     ;準備未完了へ
 9510 00000F04 893E                   M           BT      BTTN_START_CK599
 9511                            2147     
 9512                            2148     ;;;;;   -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9513                            2149     ;;;;;                                   ;ｾｯﾄｱｯﾌﾟの処理が必要
 9514                            2150     ;;;;;           MOV.L   #_BTTN_FLG,R1           ;
 9515                            2151     ;;;;;           MOV.W   @R1,R0                  ;
 9516                            2152     ;;;;;           TST     #BIT2,R0                ;両手ON
 9517                            2153     ;;;;;           TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9518                            2154     ;;;;;
 9519                            2155     ;;;;;   ;       ------- 2006-07-28 ------------
 9520                            2156     ;;;;;           MOV.L   #_MODE_SEL,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    66
PROGRAM NAME =

 9521                            2157     ;;;;;           MOV.W   @R1,R0                          ;
 9522                            2158     ;;;;;           TST     #_W1DIC,R0                      ;
 9523                            2159     ;;;;;           TST_BIT_OF BTTN_START_CK320             ;
 9524                            2160     ;;;;;
 9525                            2161     ;;;;;           FAR_JSR #_TEPA_START_CHK,R0             ;
 9526                            2162     ;;;;;           TST     R0,R0                           ;
 9527                            2163     ;;;;;           TST_BIT_ON BTTN_START_CK570             ;
 9528                            2164     ;;;;;   BTTN_START_CK320:
 9529                            2165     ;       ---------------------------------
 9530                            2166     
 9531                            2167     ;       -------------------
 9532 00000F06 D10A              2168             MOV.L   #_MODE_SEL,R1                   ;
 9533 00000F08 6011              2169             MOV.W   @R1,R0                          ;
 9534 00000F0A C820              2170             TST     #_W1DIC,R0                      ;
 9535                            2171             TST_BIT_OF BTTN_START_CK320             ;
 9536 00000F0C 8916                   M           BT      BTTN_START_CK320
 9537                            2172     
 9538 00000F0E D109              2173             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 9539 00000F10 6011              2174             MOV.W   @R1,R0                          ;
 9540 00000F12 C802              2175             TST     #BIT1,R0                        ;
 9541                            2176             TST_BIT_OF BTTN_START_CK320             ;手パ無効
 9542 00000F14 8912                   M           BT      BTTN_START_CK320
 9543                            2177     
 9544                            2178             FAR_JSR #_TEPA_START_CHK,R0             ;
 9545 00000F16 D008                   M           MOV.L   #_TEPA_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9546 00000F18 400B                   M           JSR     @R0                     ;
 9547 00000F1A 0009                   M           NOP                                     ;
 9548 00000F1C 2008              2179             TST     R0,R0                           ;
 9549                            2180             TST_BIT_ON BTTN_START_CK570             ;
 9550 00000F1E 8B2E                   M           BF      BTTN_START_CK570
 9551                            2181             M_BRA   BTTN_START_CK550                ;
 9552 00000F20 A02A                   M           BRA     BTTN_START_CK550
 9553 00000F22 0009                   M           NOP
 9554                            2182     
 9555                                     ***** BEGIN-POOL *****
 9556 00000F24 07D0                       DATA FOR SOURCE-LINE 2136
 9557 00000F26 0000                       ALIGNMENT CODE
 9558 00000F28 00000000                   DATA FOR SOURCE-LINE 2138
 9559 00000F2C 00000000                   DATA FOR SOURCE-LINE 2143
 9560 00000F30 00000000                   DATA FOR SOURCE-LINE 2168
 9561 00000F34 00000000                   DATA FOR SOURCE-LINE 2173
 9562 00000F38 00000000                   DATA FOR SOURCE-LINE 2178
 9563                                     ***** END-POOL *****
 9564 00000F3C                   2183     BTTN_START_CK320:
 9565                            2184     ;       -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9566                            2185                                     ;ｾｯﾄｱｯﾌﾟの処理が必要
 9567 00000F3C D107              2186             MOV.L   #_BTTN_FLG,R1           ;
 9568 00000F3E 6011              2187             MOV.W   @R1,R0                  ;
 9569 00000F40 C804              2188             TST     #BIT2,R0                ;両手ON
 9570                            2189             TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9571 00000F42 8B11                   M           BF      BTTN_START_CK350
 9572                            2190     
 9573                            2191     ;       ---------------------------------
 9574                            2192     
 9575                            2193     ;       ===== ｾｯﾄｱｯﾌﾟ釦を押しながら2秒経過してしまったのかチェック===
 9576 00000F44 D106              2194             MOV.L   #_SET_UP_TIM,R1         ;
 9577 00000F46 6211              2195             MOV.W   @R1,R2                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    67
PROGRAM NAME =

 9578 00000F48 2228              2196             TST     R2,R2                   ;
 9579                            2197             TST_BIT_ON BTTN_START_CK550     ;
 9580 00000F4A 8B15                   M           BF      BTTN_START_CK550
 9581                            2198     
 9582 00000F4C D305              2199             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 9583 00000F4E 6131              2200             MOV.W   @R3,R1                  ;
 9584 00000F50 9203              2201             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9585 00000F52 2128              2202             TST     R2,R1                   ;ON続けて2秒経過
 9586                            2203             TST_BIT_ON BTTN_START_CK599     ;
 9587 00000F54 8B16                   M           BF      BTTN_START_CK599
 9588                            2204             M_BRA   BTTN_START_CK550        ;
 9589 00000F56 A00F                   M           BRA     BTTN_START_CK550
 9590 00000F58 0009                   M           NOP
 9591                            2205     
 9592                            2206     ;       ==== 運転釦ON ====
 9593                                     ***** BEGIN-POOL *****
 9594 00000F5A 0080                       DATA FOR SOURCE-LINE 2201
 9595 00000F5C 00000000                   DATA FOR SOURCE-LINE 2186
 9596 00000F60 00000000                   DATA FOR SOURCE-LINE 2194
 9597 00000F64 00000000                   DATA FOR SOURCE-LINE 2199
 9598                                     ***** END-POOL *****
 9599 00000F68                   2207     BTTN_START_CK350:
 9600 00000F68 D102              2208             MOV.L   #_SET_UP_TIM,R1         ;
 9601 00000F6A 6211              2209             MOV.W   @R1,R2                  ;
 9602 00000F6C 2228              2210             TST     R2,R2                   ;
 9603                            2211             TST_BIT_OF BTTN_START_CK599     ;ｾｯﾄｱｯﾌﾟOFF
 9604 00000F6E 8909                   M           BT      BTTN_START_CK599
 9605                            2212             M_BRA   BTTN_START_CK570
 9606 00000F70 A005                   M           BRA     BTTN_START_CK570
 9607 00000F72 0009                   M           NOP
 9608                            2213     
 9609                            2214     
 9610                                     ***** BEGIN-POOL *****
 9611 00000F74 00000000                   DATA FOR SOURCE-LINE 2208
 9612                                     ***** END-POOL *****
 9613 00000F78                   2215     BTTN_START_CK550:                       ;
 9614 00000F78 200A              2216             XOR     R0,R0                   ;
 9615                            2217             M_BRA   BTTN_START_CKEXT        ;
 9616 00000F7A A004                   M           BRA     BTTN_START_CKEXT
 9617 00000F7C 0009                   M           NOP
 9618 00000F7E                   2218     BTTN_START_CK570:
 9619 00000F7E E055              2219             MOV     #H'55,R0                ;起動
 9620                            2220             M_BRA   BTTN_START_CKEXT        ;
 9621 00000F80 A001                   M           BRA     BTTN_START_CKEXT
 9622 00000F82 0009                   M           NOP
 9623 00000F84                   2221     BTTN_START_CK599:                       ;
 9624 00000F84 E0FF              2222             MOV     #-1,R0                  ;準備未完へ
 9625 00000F86                   2223     BTTN_START_CKEXT:
 9626                            2224             SUB_END
 9627                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9628 00000F86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9629                            2225             M_RTS
 9630 00000F88 000B                   M           RTS                             ;RTSの後ろの
 9631 00000F8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9632                            2226     
 9633                            2227     ;       *******************************************
 9634                            2228     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    68
PROGRAM NAME =

 9635                            2229     ;       ***     2016-10-31(2016-04-16)          ***
 9636                            2230     ;       ***      ｻﾌﾞﾙｰﾁﾝにする(JUMP)            ***
 9637                            2231     ;       *******************************************
 9638                            2232              .AIF   1 EQ 1  ;
 9639                            2233 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9640                            2234              .AENDI
 9641                            2235     
 9642                            2236             .IMPORT _PAR_SELFCHK_POWSEL
 9643 00000F8C                   2237     _SELFCHK_LOCK_SET:              ;2016-04-16
 9644                            2238             SUB_START
 9645 00000F8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9646                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9647                            2239     
 9648 00000F8E D108              2240             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
 9649 00000F90 6011              2241             MOV.W   @R1,R0                          ;
 9650 00000F92 8801              2242             CMP/EQ  #1,R0                           ;
 9651 00000F94 8908              2243             BT      SELF_FORCE_POW_100              ;"1"ならちゃんとセルフする
 9652                            2244     
 9653                            2245     ;       ===== 2006-12-06 [1]=====
 9654 00000F96 900A              2246             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
 9655 00000F98 D106              2247             MOV.L   #_SELF_LOCK_FLG,R1              ;
 9656 00000F9A 2101              2248             MOV.W   R0,@R1                          ;
 9657 00000F9C 222A              2249             XOR     R2,R2                           ;
 9658 00000F9E 233A              2250             XOR     R3,R3                           ;
 9659 00000FA0 D105              2251             MOV.L   #_SELF_CHK_SEL,R1               ;
 9660 00000FA2 2121              2252             MOV.W   R2,@R1                          ;
 9661 00000FA4 D105              2253             MOV.L   #_SELF_CHK_MATHED,R1            ;
 9662 00000FA6 2131              2254             MOV.W   R3,@R1                          ;
 9663                            2255     
 9664 00000FA8                   2256     SELF_FORCE_POW_100
 9665                            2257             SUB_END
 9666                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9667 00000FA8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9668                            2258             M_RTS
 9669 00000FAA 000B                   M           RTS                             ;RTSの後ろの
 9670 00000FAC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9671                            2259     
 9672                            2260     
 9673                            2261     ;       ***********************************
 9674                            2262     ;       ***                             ***
 9675                            2263     ;       ***     CPUA位置→CPUB位置      ***
 9676                            2264     ;       ***     2015-03-15 寸動対策     ***
 9677                            2265     ;       ***                             ***
 9678                            2266     ;       ***********************************
 9679                            2267             .IMPORT _SH_POSCTL_RL_ABSPLS
 9680                                     ***** BEGIN-POOL *****
 9681 00000FAE 0001                       DATA FOR SOURCE-LINE 2246
 9682 00000FB0 00000000                   DATA FOR SOURCE-LINE 2240
 9683 00000FB4 00000000                   DATA FOR SOURCE-LINE 2247
 9684 00000FB8 00000000                   DATA FOR SOURCE-LINE 2251
 9685 00000FBC 00000000                   DATA FOR SOURCE-LINE 2253
 9686                                     ***** END-POOL *****
 9687 00000FC0                   2268     _ELSE_CPU_START_POS_PRESET:
 9688                            2269             SUB_START
 9689 00000FC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9690                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9691                            2270             .AIF    0 EQ    0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    69
PROGRAM NAME =

 9692                            2271 C   
 9693                            2272             .AELSE
 9694                            2273     
 9695                            2274             MOV.L   #_SH_POSCTL_RL_ABSPLS,R4        ;CPUA
 9696                            2275             MOV.L   @(0,R4),R1                              ;
 9697                            2276             MOV.L   @(4,R4),R2                              ;
 9698                            2277     
 9699                            2278             MOV.L   @(0,R4),R5                              ;
 9700                            2279             MOV.L   @(4,R4),R6                              ;
 9701                            2280             SUB     R1,R5
 9702                            2281             SUB     R2,R6                                   ;
 9703                            2282             OR      R5,R6                                   ;
 9704                            2283             TST     R6,R6                                   ;
 9705                            2284             TST_BIT_OF ELSECPU_GET_OBJPOS_100               ;8ﾊﾞｲﾄｱｸｾｽ中の問題
 9706                            2285     
 9707                            2286             MOV.L   @(0,R4),R1                              ;
 9708                            2287             MOV.L   @(4,R4),R2                              ;
 9709                            2288     
 9710                            2289     
 9711                            2290     ELSECPU_GET_OBJPOS_100
 9712                            2291             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
 9713                            2292             MOV.L   R1,@(0,R4)
 9714                            2293             MOV.L   R2,@(4,R4)
 9715                            2294     
 9716                            2295     ELSECPU_GET_OBJPOS_EXT
 9717                            2296     
 9718                            2297             .AENDI
 9719                            2298             SUB_END
 9720                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9721 00000FC2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9722                            2299             M_RTS
 9723 00000FC4 000B                   M           RTS                             ;RTSの後ろの
 9724 00000FC6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9725                            2300     
 9726                            2301     
 9727                            2302     
 9728                            2303     ;       *******************************************
 9729                            2304     ;       ***                                     ***
 9730                            2305     ;       ***                                     ***
 9731                            2306     ;       ***                                     ***
 9732                            2307     ;       *******************************************
 9733 00000FC8                   2308     _MODE_CNT_STOP_CHK:
 9734                            2309             SUB_START
 9735 00000FC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9736                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9737                            2310             FAR_JSR #_CPU_AB_CST_OF_JG,R0   ;
 9738 00000FCA D017                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9739 00000FCC 400B                   M           JSR     @R0                     ;
 9740 00000FCE 0009                   M           NOP                                     ;
 9741 00000FD0 2118              2311             TST     R1,R1                   ;
 9742                            2312             TST_BIT_OF MODE_CNT_STPCMP_100  ;自分のいくぞ信号ON? NO
 9743 00000FD2 890F                   M           BT      MODE_CNT_STPCMP_100
 9744                            2313     
 9745 00000FD4 D115              2314             MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
 9746 00000FD6 6011              2315             MOV.W   @R1,R0                  ;
 9747 00000FD8 D215              2316             MOV.L   #_CPOS_STEP_MAX,R2      ;
 9748 00000FDA 6421              2317             MOV.W   @R2,R4                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    70
PROGRAM NAME =

 9749 00000FDC 7401              2318             ADD     #1,R4                   ;
 9750 00000FDE 3400              2319             CMP/EQ  R0,R4                   ;
 9751 00000FE0 8908              2320             BT      MODE_CNT_STPCMP_100     ;最終工程
 9752                            2321     
 9753 00000FE2 6503              2322             MOV     R0,R5                   ;push
 9754                            2323             FAR_JSR #_CPU_BA_STEP_LOAD,R2   ;ANS R3
 9755 00000FE4 D213                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9756 00000FE6 420B                   M           JSR     @R2                     ;
 9757 00000FE8 0009                   M           NOP                                     ;
 9758 00000FEA 3500              2324             CMP/EQ  R0,R5                   ;
 9759 00000FEC 8B02              2325             BF      MODE_CNT_STPCMP_100     ;不一致状態
 9760                            2326     
 9761                            2327             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;自分のいくぞ信号クリア(相手のもやったほうがいいの
                                          か？)
 9762 00000FEE D012                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9763 00000FF0 400B                   M           JSR     @R0                     ;
 9764 00000FF2 0009                   M           NOP                                     ;
 9765                            2328     
 9766 00000FF4                   2329     MODE_CNT_STPCMP_100:
 9767                            2330     
 9768                            2331     ;       -------- 2015-11-13-------------------
 9769                            2332     ;;      MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 9770                            2333     ;;      MOV.W   @R1,R0                          ;
 9771                            2334     ;;      MOV.W   #_WOATO,R2                      ;AUTO
 9772                            2335     ;;      TST     R2,R0                           ;
 9773                            2336     ;;      TST_BIT_ON MODE_CNT_STPCHK_200          ;AUTO ON
 9774                            2337     ;;
 9775                            2338     ;;      MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9776                            2339     ;;      MOV.W   @R1,R0                          ;
 9777                            2340     ;;      MOV.W   #(BIT9+BIT8),R4                 ;
 9778                            2341     ;;      TST     R4,R0                           ;
 9779                            2342     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ
 9780                            2343     ;;
 9781                            2344     ;;      MOV.W   #BIT8,R4                        ;
 9782                            2345     ;;      TST     R4,R0                           ;ﾀｲﾏ?
 9783                            2346     ;;      TST_BIT_OF MODE_CNT_STPCHK_050
 9784                            2347     ;;      MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
 9785                            2348     ;;      MOV.L   @R1,R0                          ;
 9786                            2349     ;;      M_BRA   MODE_CNT_STPCHK_080             ;
 9787                            2350     ;;
 9788                            2351     ;;MODE_CNT_STPCHK_050:
 9789                            2352     ;;      MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
 9790                            2353     ;;      MOV.W   @R1,R0                          ;
 9791                            2354     ;;MODE_CNT_STPCHK_080:
 9792                            2355     ;;      TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
 9793                            2356     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;
 9794                            2357     
 9795                            2358     
 9796                            2359     ;       -------- 2015-11-13-------------------
 9797 00000FF4 D111              2360             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9798 00000FF6 6011              2361             MOV.W   @R1,R0                          ;
 9799 00000FF8 9414              2362             MOV.W   #(BIT9+BIT8),R4                 ;
 9800 00000FFA 2048              2363             TST     R4,R0                           ;
 9801                            2364             TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ:AUTO ON固定
 9802 00000FFC 895E                   M           BT      MODE_CNT_STPCHK_199
 9803                            2365     
 9804                            2366     ;       -------------AUTO ON[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    71
PROGRAM NAME =

 9805 00000FFE D110              2367             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 9806 00001000 6011              2368             MOV.W   @R1,R0                          ;
 9807 00001002 9210              2369             MOV.W   #_WOATO,R2                      ;AUTO
 9808 00001004 2028              2370             TST     R2,R0                           ;
 9809                            2371             TST_BIT_OF MODE_CNT_STPCHK_120          ;AUTO OFF
 9810 00001006 8923                   M           BT      MODE_CNT_STPCHK_120
 9811                            2372     
 9812                            2373     ;;; .AIF 1 EQ 1
 9813                            2374     ;       --------- 相手CPU停止判定必要[2015-11-15]------
 9814                            2375             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;
 9815 00001008 D00E                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9816 0000100A 400B                   M           JSR     @R0                     ;
 9817 0000100C 0009                   M           NOP                                     ;
 9818 0000100E 2008              2376             TST     R0,R0                           ;
 9819                            2377             TST_BIT_OF MODE_CNT_STPCHK_200
 9820 00001010 8957                   M           BT      MODE_CNT_STPCHK_200
 9821                            2378             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set[ﾃ
                                          ﾞﾊﾞｯｸ用だと思う]
 9822 00001012 D10D                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
 9823 00001014 6011                   M           MOV.W   @R1,R0          ;
 9824 00001016 CB01                   M           OR      #BIT0,R0                ;
 9825 00001018 2101                   M           MOV.W   R0,@R1          ;
 9826                            2379             FAR_JSR #_AUTO_OF,R0                    ;
 9827 0000101A D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9828 0000101C 400B                   M           JSR     @R0                     ;
 9829 0000101E 0009                   M           NOP                                     ;
 9830                            2380             M_BRA   MODE_CNT_STPCHK_150             ;AUTO OFF
 9831 00001020 A033                   M           BRA     MODE_CNT_STPCHK_150
 9832 00001022 0009                   M           NOP
 9833                            2381     
 9834                            2382     ;;; .AENDI
 9835                            2383     
 9836                            2384     
 9837                            2385     ;;;[2016-10-31不要]     M_BRA   MODE_CNT_STPCHK_200             ;AUTO ON
 9838                            2386     
 9839                            2387     
 9840                            2388     ;       -------------AUTO OFF[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
 9841                                     ***** BEGIN-POOL *****
 9842 00001024 0300                       DATA FOR SOURCE-LINE 2362
 9843 00001026 0040                       DATA FOR SOURCE-LINE 2369
 9844 00001028 00000000                   DATA FOR SOURCE-LINE 2310
 9845 0000102C 00000000                   DATA FOR SOURCE-LINE 2314
 9846 00001030 00000000                   DATA FOR SOURCE-LINE 2316
 9847 00001034 00000000                   DATA FOR SOURCE-LINE 2323
 9848 00001038 00000000                   DATA FOR SOURCE-LINE 2327
 9849 0000103C 00000000                   DATA FOR SOURCE-LINE 2360
 9850 00001040 00000000                   DATA FOR SOURCE-LINE 2367
 9851 00001044 00000000                   DATA FOR SOURCE-LINE 2375
 9852 00001048 00000000                   DATA FOR SOURCE-LINE 2378
 9853 0000104C 00000000                   DATA FOR SOURCE-LINE 2379
 9854                                     ***** END-POOL *****
 9855 00001050                   2389     MODE_CNT_STPCHK_120                             ;AUTO OFF
 9856 00001050 D104              2390             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9857 00001052 6011              2391             MOV.W   @R1,R0                          ;
 9858 00001054 9405              2392             MOV.W   #BIT8,R4                        ;
 9859 00001056 2048              2393             TST     R4,R0                           ;ﾀｲﾏ?
 9860                            2394             TST_BIT_OF MODE_CNT_STPCHK_050
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    72
PROGRAM NAME =

 9861 00001058 8908                   M           BT      MODE_CNT_STPCHK_050
 9862 0000105A D103              2395             MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
 9863 0000105C 6012              2396             MOV.L   @R1,R0                          ;
 9864                            2397             M_BRA   MODE_CNT_STPCHK_080             ;
 9865 0000105E A00A                   M           BRA     MODE_CNT_STPCHK_080
 9866 00001060 0009                   M           NOP
 9867                            2398     
 9868                                     ***** BEGIN-POOL *****
 9869 00001062 0100                       DATA FOR SOURCE-LINE 2392
 9870 00001064 00000000                   DATA FOR SOURCE-LINE 2390
 9871 00001068 00000000                   DATA FOR SOURCE-LINE 2395
 9872                                     ***** END-POOL *****
 9873 0000106C                   2399     MODE_CNT_STPCHK_050:
 9874 0000106C D10C              2400             MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
 9875 0000106E 6011              2401             MOV.W   @R1,R0                          ;
 9876                            2402     
 9877                            2403     
 9878                            2404              .AIF   1 EQ 1  ;
 9879                            2405 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9880                            2406              .AENDI
 9881                            2407     ;       -------- 2016-10-31(2016-07-21)(相手cpu状態)----------------
 9882                            2408             .AIF    0 EQ    0       ;
 9883 00001070 D10C              2409 C           MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
 9884                            2410             .AELSE
 9885                            2411             MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
 9886                            2412             .AENDI                                  ;
 9887 00001072 6411              2413             MOV.W   @R1,R4                          ;
 9888 00001074 204B              2414             OR      R4,R0                           ;自分+相手cpu
 9889                            2415     
 9890                            2416     
 9891 00001076                   2417     MODE_CNT_STPCHK_080:
 9892 00001076 2008              2418             TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
 9893                            2419             TST_BIT_OF MODE_CNT_STPCHK_199          ;
 9894 00001078 8920                   M           BT      MODE_CNT_STPCHK_199
 9895                            2420     
 9896                            2421     
 9897 0000107A D10B              2422             MOV.L   #_BTTN_FLG,R1                   ;
 9898 0000107C 6011              2423             MOV.W   @R1,R0                          ;
 9899 0000107E C804              2424             TST     #BIT2,R0                        ;両手ON
 9900                            2425             TST_BIT_ON MODE_CNT_STPCHK_300          ;<200の方が安全かな>
 9901 00001080 8B57                   M           BF      MODE_CNT_STPCHK_300
 9902                            2426     
 9903                            2427              .AIF   1 EQ 1  ;
 9904                            2428 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9905                            2429              .AENDI
 9906                            2430     
 9907                            2431     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
 9908 00001082 D10A              2432             MOV.L   #_CMPSTEP_STEP_END,R1           ;
 9909 00001084 6011              2433             MOV.W   @R1,R0                          ;
 9910 00001086 2008              2434             TST     R0,R0                           ;
 9911                            2435             TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
 9912 00001088 8B53                   M           BF      MODE_CNT_STPCHK_300
 9913                            2436     
 9914                            2437     ;[[2016-10-31]; ---------- 2015-11-13[行程2重回路対策]---------------
 9915                            2438     ;[[2016-10-31];;; .AIF 1 EQ 1
 9916                            2439     ;[[2016-10-31]  FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
 9917                            2440     ;[[2016-10-31]  TST     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    73
PROGRAM NAME =

 9918                            2441     ;[[2016-10-31]  TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
 9919                            2442     ;[[2016-10-31];;; .AENDI
 9920                            2443     
 9921 0000108A                   2444     MODE_CNT_STPCHK_150:                            ;AUTO OFF
 9922                            2445     
 9923                            2446     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
 9924                            2447             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
 9925 0000108A D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9926 0000108C 400B                   M           JSR     @R0                     ;
 9927 0000108E 0009                   M           NOP                                     ;
 9928                            2448     
 9929                            2449     ;       ---2007-03-02-----
 9930                            2450             MOD_LOW_STOP_R0_R1                      ;MNWR_POS_CMD=BIT1,減速停止,起動OFF
 9931 00001090 D108                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
 9932 00001092 E002                   M           MOV.B   #BIT1,R0                        ;
 9933 00001094 2101                   M           MOV.W   R0,@R1                          ;
 9934                            2451             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;CPUBへSTOP(AUTO-ON,AUTO-OFF)に関わらず･･･
                                          AUTOにさせないため
 9935 00001096 D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9936 00001098 400B                   M           JSR     @R0                     ;
 9937 0000109A 0009                   M           NOP                                     ;
 9938                            2452     
 9939                            2453             M_BRA   MODE_CNT_STPCHK_300             ;
 9940 0000109C A049                   M           BRA     MODE_CNT_STPCHK_300
 9941 0000109E 0009                   M           NOP
 9942                            2454     
 9943                                     ***** BEGIN-POOL *****
 9944 000010A0 00000000                   DATA FOR SOURCE-LINE 2400
 9945 000010A4 00000000                   DATA FOR SOURCE-LINE 2409
 9946 000010A8 00000000                   DATA FOR SOURCE-LINE 2422
 9947 000010AC 00000000                   DATA FOR SOURCE-LINE 2432
 9948 000010B0 00000000                   DATA FOR SOURCE-LINE 2447
 9949 000010B4 00000000                   DATA FOR SOURCE-LINE 2450
 9950 000010B8 00000000                   DATA FOR SOURCE-LINE 2451
 9951                                     ***** END-POOL *****
 9952 000010BC                   2455     MODE_CNT_STPCHK_199:                            ;
 9953                            2456             FAR_JSR #_AUTO_ON,R0                    ;
 9954 000010BC D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9955 000010BE 400B                   M           JSR     @R0                     ;
 9956 000010C0 0009                   M           NOP                                     ;
 9957 000010C2                   2457     MODE_CNT_STPCHK_200:                            ;
 9958                            2458     
 9959                            2459     ;       -------------------------------------------
 9960 000010C2 D105              2460             MOV.L   #_POSHLD1_STOPLATCH,R1          ;
 9961 000010C4 6011              2461             MOV.W   @R1,R0                          ;
 9962 000010C6 2008              2462             TST     R0,R0                           ;
 9963                            2463             TST_BIT_OF MODE_CNT_STPCHK_210          ;
 9964 000010C8 8908                   M           BT      MODE_CNT_STPCHK_210
 9965 000010CA 200A              2464             XOR     R0,R0                           ;
 9966 000010CC 2101              2465             MOV.W   R0,@R1                          ;
 9967                            2466             M_BRA   MODE_CNT_STPCHK_220             ;
 9968 000010CE A00D                   M           BRA     MODE_CNT_STPCHK_220
 9969 000010D0 0009                   M           NOP
 9970                            2467     
 9971                                     ***** BEGIN-POOL *****
 9972 000010D2 0000                       ALIGNMENT CODE
 9973 000010D4 00000000                   DATA FOR SOURCE-LINE 2456
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    74
PROGRAM NAME =

 9974 000010D8 00000000                   DATA FOR SOURCE-LINE 2460
 9975                                     ***** END-POOL *****
 9976 000010DC                   2468     MODE_CNT_STPCHK_210:                            ;
 9977                            2469     
 9978 000010DC D10C              2470             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
 9979 000010DE 6011              2471             MOV.W   @R1,R0                          ;
 9980 000010E0 2008              2472             TST     R0,R0                           ;
 9981                            2473             TST_BIT_OF MODE_CNT_STPCHK_250          ;
 9982 000010E2 8907                   M           BT      MODE_CNT_STPCHK_250
 9983                            2474     
 9984                            2475              .AIF   1 EQ 1  ;
 9985                            2476 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9986                            2477              .AENDI
 9987                            2478     
 9988                            2479     ;       --2016-10-31(2016-08-11)(CMPERR対策)---------
 9989 000010E4 D10B              2480             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
 9990 000010E6 6011              2481             MOV.W   @R1,R0                          ;
 9991 000010E8 2008              2482             TST     R0,R0                           ;
 9992                            2483             TST_BIT_ON MODE_CNT_STPCHK_250          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
 9993 000010EA 8B03                   M           BF      MODE_CNT_STPCHK_250
 9994                            2484     
 9995                            2485     
 9996 000010EC                   2486     MODE_CNT_STPCHK_220:                            ;
 9997                            2487     
 9998 000010EC D10A              2488             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
 9999 000010EE 6011              2489             MOV.W   @R1,R0                          ;
10000 000010F0 CB01              2490             OR      #BIT0,R0                        ;
10001 000010F2 2101              2491             MOV.W   R0,@R1                          ;
10002                            2492     
10003 000010F4                   2493     MODE_CNT_STPCHK_250:
10004                            2494     
10005 000010F4 D108              2495             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10006 000010F6 6011              2496             MOV.W   @R1,R0                          ;
10007 000010F8 C801              2497             TST     #BIT0,R0                        ;
10008                            2498             TST_BIT_OF MODE_CNT_STPCHK_300          ;
10009 000010FA 891A                   M           BT      MODE_CNT_STPCHK_300
10010                            2499     
10011 000010FC D107              2500             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10012 000010FE 6011              2501             MOV.W   @R1,R0                          ;
10013 00001100 D207              2502             MOV.L   #_CPOS_STEP_MAX,R2              ;
10014 00001102 6421              2503             MOV.W   @R2,R4                          ;
10015 00001104 7401              2504             ADD     #1,R4                           ;
10016 00001106 3400              2505             CMP/EQ  R0,R4                           ;
10017 00001108 8B0C              2506             BF      MODE_CNT_STPCHK_280             ;最終工程以外?
10018                            2507             M_BRA   MODE_CNT_STPCHK_300             ;
10019 0000110A A012                   M           BRA     MODE_CNT_STPCHK_300
10020 0000110C 0009                   M           NOP
10021                            2508     
10022                                     ***** BEGIN-POOL *****
10023 0000110E 0000                       ALIGNMENT CODE
10024 00001110 00000000                   DATA FOR SOURCE-LINE 2470
10025 00001114 00000000                   DATA FOR SOURCE-LINE 2480
10026 00001118 00000000                   DATA FOR SOURCE-LINE 2488,2495
10027 0000111C 00000000                   DATA FOR SOURCE-LINE 2500
10028 00001120 00000000                   DATA FOR SOURCE-LINE 2502
10029                                     ***** END-POOL *****
10030 00001124                   2509     MODE_CNT_STPCHK_280:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    75
PROGRAM NAME =

10031                            2510     ;       == 2004-12-20====
10032 00001124 D104              2511             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
10033 00001126 6011              2512             MOV.W   @R1,R0                                                  ;
10034 00001128 C804              2513             TST     #BIT2,R0                                                ;2004-12-20
10035                            2514             TST_BIT_ON MODE_CNT_STPCHK_300                                  ;(待機点停止しない
                                          ﾓｰﾄﾞは別)
10036 0000112A 8B02                   M           BF      MODE_CNT_STPCHK_300
10037                            2515     
10038                            2516             FAR_JSR #_STOP_LTH_OUT,R0
10039 0000112C D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10040 0000112E 400B                   M           JSR     @R0                     ;
10041 00001130 0009                   M           NOP                                     ;
10042                            2517     
10043                            2518     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10044                            2519     
10045                            2520     
10046                            2521     
10047 00001132                   2522     MODE_CNT_STPCHK_300:                            ;
10048                            2523     
10049                            2524             SUB_END
10050                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10051 00001132 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10052                            2525             M_RTS
10053 00001134 000B                   M           RTS                             ;RTSの後ろの
10054 00001136 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10055                            2526     
10056                            2527     
10057                            2528     ;       ***************************************************
10058                            2529     ;       ***                                             ***
10059                            2530     ;       ***     2016-04-12                              ***
10060                            2531     ;       ***     連続一行程                              ***
10061                            2532     ;       ***     連続寸動一行程                          ***
10062                            2533     ;       ***     上記のための連続の共通部サブルーチン化  ***
10063                            2534     ;       ***     但し、連続には使用しないでおく          ***
10064                            2535     ;       ***                                             ***
10065                            2536     ;       ***************************************************
10066                                     ***** BEGIN-POOL *****
10067 00001138 00000000                   DATA FOR SOURCE-LINE 2511
10068 0000113C 00000000                   DATA FOR SOURCE-LINE 2516
10069                                     ***** END-POOL *****
10070 00001140                   2537     _MODE_CNTCOM1_STOP_CHK:
10071                            2538             SUB_START
10072 00001140 4F22                   M           STS.L   PR,@-R15                ;[必要]
10073                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10074                            2539     
10075                            2540             FAR_JSR #_CPU_AB_CST_OF_JG,R0           ;R0=_SH4_HD_CNT_STOP,R1=_SH4_HD_CNT_CNT
10076 00001142 D00C                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10077 00001144 400B                   M           JSR     @R0                     ;
10078 00001146 0009                   M           NOP                                     ;
10079 00001148 2118              2541             TST     R1,R1                           ;
10080                            2542             TST_BIT_OF MODE_CNTCOM1_STPCMP_100      ;自分のいくぞ信号ON? NO:
10081 0000114A 890F                   M           BT      MODE_CNTCOM1_STPCMP_100
10082                            2543     
10083 0000114C D10A              2544             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10084 0000114E 6011              2545             MOV.W   @R1,R0                          ;
10085 00001150 D20A              2546             MOV.L   #_CPOS_STEP_MAX,R2              ;
10086 00001152 6421              2547             MOV.W   @R2,R4                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    76
PROGRAM NAME =

10087 00001154 7401              2548             ADD     #1,R4                           ;
10088 00001156 3400              2549             CMP/EQ  R0,R4                           ;
10089 00001158 8908              2550             BT      MODE_CNTCOM1_STPCMP_100         ;最終工程
10090                            2551     
10091 0000115A 6503              2552             MOV     R0,R5                           ;push
10092                            2553             FAR_JSR #_CPU_BA_STEP_LOAD,R2           ;ANS R0 (SH2_STEP_NO,SH4_STEP_NO)
10093 0000115C D208                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10094 0000115E 420B                   M           JSR     @R2                     ;
10095 00001160 0009                   M           NOP                                     ;
10096 00001162 3500              2554             CMP/EQ  R0,R5                           ;
10097 00001164 8B02              2555             BF      MODE_CNTCOM1_STPCMP_100         ;不一致状態
10098                            2556     
10099                            2557                                                     ;自分のいくぞ信号クリア(相手のもやったほう
                                          がいいのか？)
10100                            2558             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0         ;_SH4_HD_CNT_CNT=0CLR
10101 00001166 D007                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10102 00001168 400B                   M           JSR     @R0                     ;
10103 0000116A 0009                   M           NOP                                     ;
10104                            2559     
10105 0000116C                   2560     MODE_CNTCOM1_STPCMP_100:
10106                            2561             SUB_END
10107                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10108 0000116C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10109                            2562             M_RTS
10110 0000116E 000B                   M           RTS                             ;RTSの後ろの
10111 00001170 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10112                            2563     
10113                            2564     
10114                            2565     ;       **************************************************
10115                            2566     ;       ***                                             ***
10116                            2567     ;       ***     AUTO_ON状態(停止条件の判定              ***
10117                            2568     ;       ***                                             ***
10118                            2569     ;       ***************************************************
10119                                     ***** BEGIN-POOL *****
10120 00001172 0000                       ALIGNMENT CODE
10121 00001174 00000000                   DATA FOR SOURCE-LINE 2540
10122 00001178 00000000                   DATA FOR SOURCE-LINE 2544
10123 0000117C 00000000                   DATA FOR SOURCE-LINE 2546
10124 00001180 00000000                   DATA FOR SOURCE-LINE 2553
10125 00001184 00000000                   DATA FOR SOURCE-LINE 2558
10126                                     ***** END-POOL *****
10127 00001188                   2570     _MODE_CNTCNF1_STOP_CHK:
10128                            2571             SUB_START
10129 00001188 4F22                   M           STS.L   PR,@-R15                ;[必要]
10130                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10131                            2572     ;       -------------AUTO ON(連続一行程)------------
10132                            2573             FAR_JSR #_AUTO_ON,R0                            ;
10133 0000118A D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10134 0000118C 400B                   M           JSR     @R0                     ;
10135 0000118E 0009                   M           NOP                                     ;
10136                            2574     ;       -------------------------------------------
10137 00001190 D104              2575             MOV.L   #_POSHLD1_STOPLATCH,R1                  ;
10138 00001192 6011              2576             MOV.W   @R1,R0                                  ;
10139 00001194 2008              2577             TST     R0,R0                                   ;
10140                            2578             TST_BIT_OF MODE_CNTCNF1_STPCHK_210              ;
10141 00001196 8907                   M           BT      MODE_CNTCNF1_STPCHK_210
10142 00001198 200A              2579             XOR     R0,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    77
PROGRAM NAME =

10143 0000119A 2101              2580             MOV.W   R0,@R1                                  ;
10144                            2581             M_BRA   MODE_CNTCNF1_STPCHK_220                 ;
10145 0000119C A008                   M           BRA     MODE_CNTCNF1_STPCHK_220
10146 0000119E 0009                   M           NOP
10147                                     ***** BEGIN-POOL *****
10148 000011A0 00000000                   DATA FOR SOURCE-LINE 2573
10149 000011A4 00000000                   DATA FOR SOURCE-LINE 2575
10150                                     ***** END-POOL *****
10151 000011A8                   2582     MODE_CNTCNF1_STPCHK_210:                                ;
10152                            2583     
10153 000011A8 D105              2584             MOV.L   #_CNT_STOP_CMD,R1                       ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄ
                                          ｱｯﾌﾟ
10154 000011AA 6011              2585             MOV.W   @R1,R0                                  ;
10155 000011AC 2008              2586             TST     R0,R0                                   ;
10156                            2587             TST_BIT_OF MODE_CNTCNF1_STPCHK_250              ;(上死点停止指令OFF)
10157 000011AE 8903                   M           BT      MODE_CNTCNF1_STPCHK_250
10158 000011B0                   2588     MODE_CNTCNF1_STPCHK_220:                                ;
10159                            2589     
10160                            2590     ;       //BIT0:ｽﾄｯﾌﾟ釦記憶 停止可能なタイミングで出力される
10161                            2591             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10162 000011B0 D104                   M           MOV.L   #_STOP_LATCH_B,R1               ;
10163 000011B2 6011                   M           MOV.W   @R1,R0          ;
10164 000011B4 CB01                   M           OR      #BIT0,R0                ;
10165 000011B6 2101                   M           MOV.W   R0,@R1          ;
10166                            2592     
10167 000011B8                   2593     MODE_CNTCNF1_STPCHK_250:
10168                            2594             SUB_END
10169                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10170 000011B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10171                            2595             M_RTS
10172 000011BA 000B                   M           RTS                             ;RTSの後ろの
10173 000011BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10174                            2596     
10175                            2597     
10176                            2598     
10177                            2599     ;       **************************************************
10178                            2600     ;       ***                                             ***
10179                            2601     ;       ***     AUTO_ON状態(相手側も動作する状態)       ***
10180                            2602     ;       ***                                             ***
10181                            2603     ;       ***************************************************
10182                                     ***** BEGIN-POOL *****
10183 000011BE 0000                       ALIGNMENT CODE
10184 000011C0 00000000                   DATA FOR SOURCE-LINE 2584
10185 000011C4 00000000                   DATA FOR SOURCE-LINE 2591
10186                                     ***** END-POOL *****
10187 000011C8                   2604     _MODE_CNTCOM2_STOP_CHK:
10188                            2605             SUB_START
10189 000011C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
10190                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10191                            2606     
10192 000011CA D106              2607             MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦等
10193 000011CC 6011              2608             MOV.W   @R1,R0                                  ;
10194 000011CE C801              2609             TST     #BIT0,R0                                ;
10195                            2610             TST_BIT_OF MODE_CNTCOM2_STPCHK_300              ;
10196 000011D0 8915                   M           BT      MODE_CNTCOM2_STPCHK_300
10197                            2611     
10198 000011D2 D105              2612             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    78
PROGRAM NAME =

10199 000011D4 6011              2613             MOV.W   @R1,R0                          ;
10200 000011D6 D205              2614             MOV.L   #_CPOS_STEP_MAX,R2              ;
10201 000011D8 6421              2615             MOV.W   @R2,R4                          ;
10202 000011DA 7401              2616             ADD     #1,R4                           ;
10203 000011DC 3400              2617             CMP/EQ  R0,R4                           ;
10204 000011DE 8B07              2618             BF      MODE_CNTCOM2_STPCHK_280         ;最終工程以外?
10205                            2619             M_BRA   MODE_CNTCOM2_STPCHK_300         ;最終行程は別で行う
10206 000011E0 A00D                   M           BRA     MODE_CNTCOM2_STPCHK_300
10207 000011E2 0009                   M           NOP
10208                            2620     
10209                                     ***** BEGIN-POOL *****
10210 000011E4 00000000                   DATA FOR SOURCE-LINE 2607
10211 000011E8 00000000                   DATA FOR SOURCE-LINE 2612
10212 000011EC 00000000                   DATA FOR SOURCE-LINE 2614
10213                                     ***** END-POOL *****
10214 000011F0                   2621     MODE_CNTCOM2_STPCHK_280:
10215                            2622     
10216 000011F0 D104              2623             MOV.L   #_CPOS_MOD_FLG1,R1              ;
10217 000011F2 6011              2624             MOV.W   @R1,R0                          ;
10218 000011F4 C804              2625             TST     #BIT2,R0                        ;2004-12-20
10219                            2626             TST_BIT_ON MODE_CNTCOM2_STPCHK_300      ;BIT2=1 待機点停止しないﾓｰﾄﾞは別で行う
10220 000011F6 8B02                   M           BF      MODE_CNTCOM2_STPCHK_300
10221                            2627     
10222                            2628             FAR_JSR #_STOP_LTH_OUT,R0               ;STOP_LATCH.BIT0=1,SH4_HD_CNT_STOP=-1
10223 000011F8 D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10224 000011FA 400B                   M           JSR     @R0                     ;
10225 000011FC 0009                   M           NOP                                     ;
10226                            2629     
10227 000011FE                   2630     MODE_CNTCOM2_STPCHK_300:                        ;
10228                            2631     
10229                            2632             SUB_END
10230                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10231 000011FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10232                            2633             M_RTS
10233 00001200 000B                   M           RTS                             ;RTSの後ろの
10234 00001202 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10235                            2634     
10236                            2635     ;       ***************************
10237                            2636     ;       ***                     ***
10238                            2637     ;       ***************************
10239                            2638             .EXPORT _STOP_LTH_OUT
10240                                     ***** BEGIN-POOL *****
10241 00001204 00000000                   DATA FOR SOURCE-LINE 2623
10242 00001208 00000000                   DATA FOR SOURCE-LINE 2628
10243                                     ***** END-POOL *****
10244 0000120C                   2639     _STOP_LTH_OUT:
10245                            2640             SUB_START
10246 0000120C 4F22                   M           STS.L   PR,@-R15                ;[必要]
10247                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10248 0000120E D105              2641             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10249 00001210 6011              2642             MOV.W   @R1,R0                          ;
10250 00001212 CB01              2643             OR      #BIT0,R0                        ;
10251 00001214 2101              2644             MOV.W   R0,@R1                          ;
10252                            2645     
10253                            2646             FAR_JSR #_CPU_AB_CST_ON_OUT1,R0         ;
10254 00001216 D004                   M           MOV.L   #_CPU_AB_CST_ON_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10255 00001218 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    79
PROGRAM NAME =

10256 0000121A 0009                   M           NOP                                     ;
10257                            2647     
10258                            2648             SUB_END
10259                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10260 0000121C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10261                            2649             M_RTS
10262 0000121E 000B                   M           RTS                             ;RTSの後ろの
10263 00001220 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10264                            2650     
10265                            2651     
10266                            2652     ;       *******************************************
10267                            2653     ;       ***                                     ***
10268                            2654     ;       ***             安全一工程              ***
10269                            2655     ;       ***             一行程                  ***
10270                            2656     ;       *******************************************
10271                                     ***** BEGIN-POOL *****
10272 00001222 0000                       ALIGNMENT CODE
10273 00001224 00000000                   DATA FOR SOURCE-LINE 2641
10274 00001228 00000000                   DATA FOR SOURCE-LINE 2646
10275                                     ***** END-POOL *****
10276 0000122C                   2657     _MODE_SGL_STOP_CHK:
10277                            2658             SUB_START
10278 0000122C 4F22                   M           STS.L   PR,@-R15                ;[必要]
10279                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10280                            2659     ;       === 2003-05-24==
10281 0000122E D105              2660             MOV.L   #_MODE_SEL,R1                   ;寸動・安全一工程・連続・OPT
10282 00001230 6011              2661             MOV.W   @R1,R0                          ;
10283 00001232 9106              2662             MOV.W   #BIT10,R1                       ;
10284 00001234 2018              2663             TST     R1,R0                           ;
10285                            2664             TST_BIT_OF MODE_SGL_STPCHK_050          ;安全一行程
10286 00001236 8909                   M           BT      MODE_SGL_STPCHK_050
10287                            2665             FAR_JSR #_AUTO_ON,R0                    ;一行程
10288 00001238 D003                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10289 0000123A 400B                   M           JSR     @R0                     ;
10290 0000123C 0009                   M           NOP                                     ;
10291                            2666             M_BRA   MODE_SGL_STPCHK_200             ;
10292 0000123E A03F                   M           BRA     MODE_SGL_STPCHK_200
10293 00001240 0009                   M           NOP
10294                            2667     
10295                                     ***** BEGIN-POOL *****
10296 00001242 0400                       DATA FOR SOURCE-LINE 2662
10297 00001244 00000000                   DATA FOR SOURCE-LINE 2660
10298 00001248 00000000                   DATA FOR SOURCE-LINE 2665
10299                                     ***** END-POOL *****
10300 0000124C                   2668     MODE_SGL_STPCHK_050:                            ;
10301 0000124C D10A              2669             MOV.L   #_UP_HOLD_FLG,R1                ;
10302 0000124E 6011              2670             MOV.W   @R1,R0                          ;
10303 00001250 C801              2671             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10304                            2672             TST_BIT_OF MODE_SGL_STPCHK_100          ;
10305 00001252 8923                   M           BT      MODE_SGL_STPCHK_100
10306                            2673     ;;      FAR_JSR #_AUTO_ON,R0                    ;
10307                            2674     
10308                            2675     ;       ----2007-03-02-------------------------
10309                            2676             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;相手側はautoにならないで止めたみたいか？
10310 00001254 D009                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10311 00001256 400B                   M           JSR     @R0                     ;
10312 00001258 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    80
PROGRAM NAME =

10313 0000125A 2008              2677             TST     R0,R0                           ;
10314                            2678             TST_BIT_OF MODE_SGL_STPCHK_080          ;
10315 0000125C 8916                   M           BT      MODE_SGL_STPCHK_080
10316                            2679             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10317 0000125E D108                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10318 00001260 6011                   M           MOV.W   @R1,R0          ;
10319 00001262 CB01                   M           OR      #BIT0,R0                ;
10320 00001264 2101                   M           MOV.W   R0,@R1          ;
10321                            2680             FAR_JSR #_AUTO_OF,R0                    ;
10322 00001266 D007                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10323 00001268 400B                   M           JSR     @R0                     ;
10324 0000126A 0009                   M           NOP                                     ;
10325                            2681     
10326                            2682     ;       ---------- [2015-11-15]-------------------
10327                            2683     ;;; .AIF 1 EQ 1
10328                            2684             FAR_JSR #_UP_HOLD_MISS,R0       ;
10329 0000126C D006                   M           MOV.L   #_UP_HOLD_MISS,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10330 0000126E 400B                   M           JSR     @R0                     ;
10331 00001270 0009                   M           NOP                                     ;
10332                            2685     ;;; .AENDI
10333                            2686     ;       ---------------------------------------
10334                            2687     
10335                            2688             M_BRA   MODE_SGL_STPCHK_150             ;
10336 00001272 A01C                   M           BRA     MODE_SGL_STPCHK_150
10337 00001274 0009                   M           NOP
10338                            2689     
10339                                     ***** BEGIN-POOL *****
10340 00001276 0000                       ALIGNMENT CODE
10341 00001278 00000000                   DATA FOR SOURCE-LINE 2669
10342 0000127C 00000000                   DATA FOR SOURCE-LINE 2676
10343 00001280 00000000                   DATA FOR SOURCE-LINE 2679
10344 00001284 00000000                   DATA FOR SOURCE-LINE 2680
10345 00001288 00000000                   DATA FOR SOURCE-LINE 2684
10346                                     ***** END-POOL *****
10347 0000128C                   2690     MODE_SGL_STPCHK_080             ;
10348                            2691             FAR_JSR #_AUTO_ON,R0                    ;
10349 0000128C D002                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10350 0000128E 400B                   M           JSR     @R0                     ;
10351 00001290 0009                   M           NOP                                     ;
10352                            2692             M_BRA   MODE_SGL_STPCHK_200             ;
10353 00001292 A015                   M           BRA     MODE_SGL_STPCHK_200
10354 00001294 0009                   M           NOP
10355                            2693     
10356                                     ***** BEGIN-POOL *****
10357 00001296 0000                       ALIGNMENT CODE
10358 00001298 00000000                   DATA FOR SOURCE-LINE 2691
10359                                     ***** END-POOL *****
10360 0000129C                   2694     MODE_SGL_STPCHK_100:                            ;
10361                            2695     
10362                            2696     ;       ======= 2003-06-13 =====
10363                            2697     ;;;とりあえずくみこまない       MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分
                                          ) 2003-06-13
10364                            2698     ;;;とりあえずくみこまない       MOV.W   @R1,R0                          ;運転中止(寸動部分
                                          ) 2003-06-13
10365                            2699     ;;;とりあえずくみこまない       TST     R0,R0                           ;運転中止(寸動部分
                                          ) 2003-06-13
10366                            2700     ;;;とりあえずくみこまない       TST_BIT_OF MODE_SGL_STPCHK_150          ;TIME-OUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    81
PROGRAM NAME =

10367                            2701     
10368                            2702     
10369 0000129C D10A              2703             MOV.L   #_BTTN_FLG,R1                   ;
10370 0000129E 6011              2704             MOV.W   @R1,R0                          ;
10371 000012A0 C804              2705             TST     #BIT2,R0                        ;両手ON
10372                            2706             TST_BIT_ON MODE_SGL_STPCHK_200          ;
10373 000012A2 8B0D                   M           BF      MODE_SGL_STPCHK_200
10374                            2707     
10375                            2708     ;       ---------- 2015-11-13[行程2重回路対策]---------------
10376                            2709     ;;; .AIF 1 EQ 1
10377                            2710             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10378 000012A4 D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10379 000012A6 400B                   M           JSR     @R0                     ;
10380 000012A8 0009                   M           NOP                                     ;
10381 000012AA 2008              2711             TST     R0,R0                           ;
10382                            2712             TST_BIT_ON MODE_SGL_STPCHK_200          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10383 000012AC 8B08                   M           BF      MODE_SGL_STPCHK_200
10384                            2713     ;;; .AENDI
10385                            2714     
10386 000012AE                   2715     MODE_SGL_STPCHK_150:
10387                            2716     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10388                            2717             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10389 000012AE D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10390 000012B0 400B                   M           JSR     @R0                     ;
10391 000012B2 0009                   M           NOP                                     ;
10392                            2718     
10393                            2719     
10394                            2720     ;       ---2007-03-02-----
10395                            2721             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10396 000012B4 D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10397 000012B6 E002                   M           MOV.B   #BIT1,R0                        ;
10398 000012B8 2101                   M           MOV.W   R0,@R1                          ;
10399                            2722             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10400 000012BA D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10401 000012BC 400B                   M           JSR     @R0                     ;
10402 000012BE 0009                   M           NOP                                     ;
10403                            2723     
10404                            2724     
10405                            2725     
10406 000012C0                   2726     MODE_SGL_STPCHK_200:
10407                            2727             SUB_END
10408                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10409 000012C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10410                            2728             M_RTS
10411 000012C2 000B                   M           RTS                             ;RTSの後ろの
10412 000012C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10413                            2729     
10414                            2730     
10415                            2731     
10416                            2732     ;       *******************************************
10417                            2733     ;       ***                                     ***
10418                            2734     ;       ***     2016-04-12正式に作成            ***
10419                            2735     ;       ***                                     ***
10420                            2736     ;       *******************************************
10421                                     ***** BEGIN-POOL *****
10422 000012C6 0000                       ALIGNMENT CODE
10423 000012C8 00000000                   DATA FOR SOURCE-LINE 2703
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    82
PROGRAM NAME =

10424 000012CC 00000000                   DATA FOR SOURCE-LINE 2710
10425 000012D0 00000000                   DATA FOR SOURCE-LINE 2717
10426 000012D4 00000000                   DATA FOR SOURCE-LINE 2721
10427 000012D8 00000000                   DATA FOR SOURCE-LINE 2722
10428                                     ***** END-POOL *****
10429 000012DC                   2737     _MODE_CSS_STOP_CHK:     ;連続一行程・連続寸動一行程
10430                            2738             SUB_START
10431 000012DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
10432                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10433                            2739     
10434 000012DE D104              2740             MOV.L   #_MODE_SEL,R1           ;
10435 000012E0 6011              2741             MOV.W   @R1,R0                  ;
10436 000012E2 9103              2742             MOV.W   #BIT11,R1
10437 000012E4 2018              2743             TST     R1,R0           ;連続一行程？
10438                            2744             TST_BIT_ON MODE_CCC_STOPCHK     ;YES
10439 000012E6 8B05                   M           BF      MODE_CCC_STOPCHK
10440                            2745             M_BRA   MODE_CSS_STOPCHK_START  ;連続寸動一行程
10441 000012E8 A022                   M           BRA     MODE_CSS_STOPCHK_START
10442 000012EA 0009                   M           NOP
10443                            2746     
10444                            2747     ;       == 連続一行程==
10445                                     ***** BEGIN-POOL *****
10446 000012EC 0800                       DATA FOR SOURCE-LINE 2742
10447 000012EE 0000                       ALIGNMENT CODE
10448 000012F0 00000000                   DATA FOR SOURCE-LINE 2740
10449                                     ***** END-POOL *****
10450 000012F4                   2748     MODE_CCC_STOPCHK:
10451                            2749             FAR_JSR #_MODE_CNTCOM1_STOP_CHK,R0              ;
10452 000012F4 D009                   M           MOV.L   #_MODE_CNTCOM1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10453 000012F6 400B                   M           JSR     @R0                     ;
10454 000012F8 0009                   M           NOP                                     ;
10455                            2750             FAR_JSR #_MODE_CNTCNF1_STOP_CHK,R0              ;
10456 000012FA D009                   M           MOV.L   #_MODE_CNTCNF1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10457 000012FC 400B                   M           JSR     @R0                     ;
10458 000012FE 0009                   M           NOP                                     ;
10459 00001300 D108              2751             MOV.L   #_BTTN_FLG,R1                           ;
10460 00001302 6011              2752             MOV.W   @R1,R0                                  ;
10461 00001304 C804              2753             TST     #BIT2,R0                                ;
10462                            2754             TST_BIT_ON MODE_CCC_STPCMP_120                  ;両手ON
10463 00001306 8B03                   M           BF      MODE_CCC_STPCMP_120
10464                            2755             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10465 00001308 D107                   M           MOV.L   #_STOP_LATCH_B,R1               ;
10466 0000130A 6011                   M           MOV.W   @R1,R0          ;
10467 0000130C CB01                   M           OR      #BIT0,R0                ;
10468 0000130E 2101                   M           MOV.W   R0,@R1          ;
10469 00001310                   2756     MODE_CCC_STPCMP_120:
10470                            2757     
10471                            2758             FAR_JSR #_MODE_CNTCOM2_STOP_CHK,R0              ;STOP_LATCH_B->STOP_LATCH
10472 00001310 D006                   M           MOV.L   #_MODE_CNTCOM2_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10473 00001312 400B                   M           JSR     @R0                     ;
10474 00001314 0009                   M           NOP                                     ;
10475                            2759                                                             ;良いﾀｲﾐﾝｸﾞで出力する()
10476                            2760     
10477                            2761             M_BRA   MODE_CSS_STOPCK1000     ;
10478 00001316 A0AD                   M           BRA     MODE_CSS_STOPCK1000
10479 00001318 0009                   M           NOP
10480                            2762     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    83
PROGRAM NAME =

10481                            2763     ;       ===========================================
10482                            2764     ;       ===             連続寸動一行程          ===
10483                            2765     ;       ===========================================
10484                            2766     ;       == 連続寸動一行程(あした考える->20190820) ==
10485                                     ***** BEGIN-POOL *****
10486 0000131A 0000                       ALIGNMENT CODE
10487 0000131C 00000000                   DATA FOR SOURCE-LINE 2749
10488 00001320 00000000                   DATA FOR SOURCE-LINE 2750
10489 00001324 00000000                   DATA FOR SOURCE-LINE 2751
10490 00001328 00000000                   DATA FOR SOURCE-LINE 2755
10491 0000132C 00000000                   DATA FOR SOURCE-LINE 2758
10492                                     ***** END-POOL *****
10493 00001330                   2767     MODE_CSS_STOPCHK_START: ;
10494                            2768             FAR_JSR #_MODE_CNTCOM1_STOP_CHK,R0              ;2019-08-20 共通化
10495 00001330 D00C                   M           MOV.L   #_MODE_CNTCOM1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10496 00001332 400B                   M           JSR     @R0                     ;
10497 00001334 0009                   M           NOP                                     ;
10498                            2769     
10499                            2770     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10500                            2771     ;       本来なら200:~220でやるべき話だが　ここでやったほうが安全性は高い
10501                            2772             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
                                          =-1
10502 00001336 D00C                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10503 00001338 400B                   M           JSR     @R0                     ;
10504 0000133A 0009                   M           NOP                                     ;
10505 0000133C 2008              2773             TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10506                            2774             TST_BIT_OF MODE_CCS_STPCMP_105                                          ;
10507 0000133E 891F                   M           BT      MODE_CCS_STPCMP_105
10508                            2775             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10509 00001340 D10A                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10510 00001342 6011                   M           MOV.W   @R1,R0          ;
10511 00001344 CB01                   M           OR      #BIT0,R0                ;
10512 00001346 2101                   M           MOV.W   R0,@R1          ;
10513                            2776             FAR_JSR #_AUTO_OF,R0                                                    ;
10514 00001348 D009                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10515 0000134A 400B                   M           JSR     @R0                     ;
10516 0000134C 0009                   M           NOP                                     ;
10517                            2777     
10518                            2778             FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10519 0000134E D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10520 00001350 400B                   M           JSR     @R0                     ;
10521 00001352 0009                   M           NOP                                     ;
10522                            2779             MOD_LOW_STOP_R0_R1                                              ;
10523 00001354 D108                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10524 00001356 E002                   M           MOV.B   #BIT1,R0                        ;
10525 00001358 2101                   M           MOV.W   R0,@R1                          ;
10526                            2780             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10527 0000135A D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10528 0000135C 400B                   M           JSR     @R0                     ;
10529 0000135E 0009                   M           NOP                                     ;
10530                            2781             M_BRA   MODE_CCS_STPCMP_300                                     ;
10531 00001360 A088                   M           BRA     MODE_CCS_STPCMP_300
10532 00001362 0009                   M           NOP
10533                            2782     
10534                            2783     
10535                            2784     
10536                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    84
PROGRAM NAME =

10537 00001364 00000000                   DATA FOR SOURCE-LINE 2768
10538 00001368 00000000                   DATA FOR SOURCE-LINE 2772
10539 0000136C 00000000                   DATA FOR SOURCE-LINE 2775
10540 00001370 00000000                   DATA FOR SOURCE-LINE 2776
10541 00001374 00000000                   DATA FOR SOURCE-LINE 2778
10542 00001378 00000000                   DATA FOR SOURCE-LINE 2779
10543 0000137C 00000000                   DATA FOR SOURCE-LINE 2780
10544                                     ***** END-POOL *****
10545 00001380                   2785     MODE_CCS_STPCMP_105:
10546                            2786     ;       ----------------------------------------------------------------
10547                            2787     
10548                            2788     
10549                            2789     
10550                            2790     ;;;;;;  ----- 2005-08-26 -------
10551                            2791     ;;;;;;  MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10552                            2792     ;;;;;;  MOV.W   @R1,R0                          ;
10553                            2793     ;;;;;;  TST     #BIT0,R0                        ;STOP-LATCH-ON
10554                            2794     ;;;;;;  TST_BIT_OF MODE_CCS_STPCMP_110          ;
10555                            2795     ;;;;;;  M_BRA   MODE_CCS_STPCMP_270
10556                            2796     ;;;;;;MODE_CCS_STPCMP_110:
10557                            2797     ;       ------------------------
10558                            2798     
10559 00001380 D111              2799             MOV.L   #_BTTN_FLG,R1                           ;
10560 00001382 6011              2800             MOV.W   @R1,R0                                          ;
10561 00001384 C804              2801             TST     #BIT2,R0                                                ;
10562                            2802             TST_BIT_ON MODE_CCS_STPCMP_120          ;両手ON
10563 00001386 8B02                   M           BF      MODE_CCS_STPCMP_120
10564                            2803     
10565 00001388 901C              2804             MOV.W   #BIT0,R0                                        ;
10566 0000138A D110              2805             MOV.L   #_CCS_BTTN_OFF,R1                       ;両手ON以外の状態が運転中にあった
                                          。必ずいつか止める
10567 0000138C 2101              2806             MOV.W   R0,@R1                                          ;
10568                            2807     
10569 0000138E                   2808     MODE_CCS_STPCMP_120:
10570                            2809     ;       ---------回転の論理変更----------
10571                            2810     
10572 0000138E D110              2811             MOV.L   #_CPOS_CTL_MATH,R1                              ;
10573 00001390 6011              2812             MOV.W   @R1,R0                                                  ;
10574                            2813     ;;;2016-10-31   TST     #_DMATH_CNTROT,R0               ;
10575 00001392 C805              2814             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
10576                            2815             TST_BIT_OF MODE_CCS_STPCMP_140                  ;
10577 00001394 892C                   M           BT      MODE_CCS_STPCMP_140
10578                            2816     
10579 00001396 D40F              2817             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
10580 00001398 6041              2818             MOV.W   @R4,R0                                          ;
10581 0000139A C802              2819             TST     #(BIT1),R0                                              ;下降(停止)
10582                            2820             TST_BIT_ON MODE_CCS_STPCMP_145          ;(停止)
10583 0000139C 8B2C                   M           BF      MODE_CCS_STPCMP_145
10584                            2821     
10585 0000139E D50E              2822             MOV.L   #_INT_POS_CTL_STEP,R5           ;
10586 000013A0 6251              2823             MOV.W   @R5,R2                                          ;
10587 000013A2 D40E              2824             MOV.L   #_UP_HOLD_STEP,R4                       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
10588 000013A4 6541              2825             MOV.W   @R4,R5                                          ;
10589 000013A6 3252              2826             CMP/HS  R5,R2                                           ;ﾁｪｯｸすべき工程にきたか
10590 000013A8 8B26              2827             BF      MODE_CCS_STPCMP_145                             ;NO(停止)
10591                            2828     
10592                            2829     ;;;2019-08-20   MOV.L   #_INC_ENC360,R4                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    85
PROGRAM NAME =

10593 000013AA D40D              2830             MOV.L   #_DNM_CTL_INC3600,R4            ;
10594 000013AC 6241              2831             MOV.W   @R4,R2                                          ;
10595 000013AE D50D              2832             MOV.L   #_UP_HOLD_DIG,R5                        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で
                                          比較
10596 000013B0 6151              2833             MOV.W   @R5,R1                                          ;START
10597 000013B2 D50D              2834             MOV.L   #_SETX_UPAREA_DIG,R5            ;
10598 000013B4 6351              2835             MOV.W   @R5,R3                                          ;
10599                            2836             FAR_JSR #_DIG_AREA_CHK1,R0                      ;"ANS:R5"
10600 000013B6 D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10601 000013B8 400B                   M           JSR     @R0                     ;
10602 000013BA 0009                   M           NOP                                     ;
10603 000013BC 4511              2837             CMP/PZ  R5                                                      ;
10604 000013BE 8B1B              2838             BF      MODE_CCS_STPCMP_145                             ;
10605                            2839             M_BRA   MODE_CCS_STPCMP_200                     ;165~359.9　HOLD
10606 000013C0 A042                   M           BRA     MODE_CCS_STPCMP_200
10607 000013C2 0009                   M           NOP
10608                            2840     
10609                            2841     ;       -------- 反転------------
10610                                     ***** BEGIN-POOL *****
10611 000013C4 0001                       DATA FOR SOURCE-LINE 2804
10612 000013C6 0000                       ALIGNMENT CODE
10613 000013C8 00000000                   DATA FOR SOURCE-LINE 2799
10614 000013CC 00000000                   DATA FOR SOURCE-LINE 2805
10615 000013D0 00000000                   DATA FOR SOURCE-LINE 2811
10616 000013D4 00000000                   DATA FOR SOURCE-LINE 2817
10617 000013D8 00000000                   DATA FOR SOURCE-LINE 2822
10618 000013DC 00000000                   DATA FOR SOURCE-LINE 2824
10619 000013E0 00000000                   DATA FOR SOURCE-LINE 2830
10620 000013E4 00000000                   DATA FOR SOURCE-LINE 2832
10621 000013E8 00000000                   DATA FOR SOURCE-LINE 2834
10622 000013EC 00000000                   DATA FOR SOURCE-LINE 2836
10623                                     ***** END-POOL *****
10624 000013F0                   2842     MODE_CCS_STPCMP_140:
10625 000013F0 D10D              2843             MOV.L   #_LOT_CNT_FLG,R1                ;//行程=1で0 最終工程で条件成立で=1()
10626 000013F2 6011              2844             MOV.W   @R1,R0                          ;BIT0=1 上昇ﾎｰﾙﾄﾞ〜1工程または下降工程まで
10627 000013F4 C801              2845             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10628                            2846             TST_BIT_ON MODE_CCS_STPCMP_200          ;
10629 000013F6 8B27                   M           BF      MODE_CCS_STPCMP_200
10630                            2847     
10631                            2848     
10632                            2849     
10633                            2850     ;       =========== 停止===============
10634 000013F8                   2851     MODE_CCS_STPCMP_145:
10635                            2852             FAR_JSR #_AUTO_OF,R0                    ;
10636 000013F8 D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10637 000013FA 400B                   M           JSR     @R0                     ;
10638 000013FC 0009                   M           NOP                                     ;
10639                            2853     
10640                            2854     ;       === 上昇ﾎｰﾙﾄﾞではない===
10641 000013FE D10C              2855             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10642 00001400 6011              2856             MOV.W   @R1,R0                          ;
10643 00001402 C801              2857             TST     #BIT0,R0                        ;
10644                            2858             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
10645 00001404 8936                   M           BT      MODE_CCS_STPCMP_300
10646                            2859     
10647                            2860     ;;;;2005-08-28  MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    86
PROGRAM NAME =

10648                            2861     
10649                            2862     ;下降行程で手を離したら無条件に停止する
10650                            2863     ;;;;2007-12-26  MOV.L   #_STOP_LATCH_B,R1               ;2005-08-28
10651                            2864     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10652                            2865     ;;;;2007-12-26  TST     #BIT0,R0                        ;
10653                            2866     ;;;;2007-12-26  TST_BIT_OF MODE_CCS_STPCMP_150          ;通常の停止
10654                            2867     ;;;;2007-12-26
10655                            2868     ;;;;2007-12-26  MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10656                            2869     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10657                            2870     ;;;;2007-12-26  MOV.L   #_CPOS_STEP_MAX,R2              ;
10658                            2871     ;;;;2007-12-26  MOV.W   @R2,R4                          ;
10659                            2872     ;;;;2007-12-26  ADD     #1,R4                           ;
10660                            2873     ;;;;2007-12-26  CMP/EQ  R0,R4                           ;
10661                            2874     ;;;;2007-12-26  BF      MODE_CCS_STPCMP_150             ;最終工程でないなら手動停止
10662                            2875     ;;;;2007-12-26  M_BRA   MODE_CCS_STPCMP_300             ;
10663                            2876     ;;;;2019-08-20MODE_CCS_STPCMP_150:
10664                            2877     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10665                            2878             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10666 00001406 D00B                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10667 00001408 400B                   M           JSR     @R0                     ;
10668 0000140A 0009                   M           NOP                                     ;
10669                            2879             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10670 0000140C D10A                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10671 0000140E E002                   M           MOV.B   #BIT1,R0                        ;
10672 00001410 2101                   M           MOV.W   R0,@R1                          ;
10673                            2880     ;       ---2007-03-02-----
10674                            2881             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10675 00001412 D00A                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10676 00001414 400B                   M           JSR     @R0                     ;
10677 00001416 0009                   M           NOP                                     ;
10678                            2882     
10679                            2883     ;       ------- 2007-12-26-------
10680 00001418 200A              2884             XOR     R0,R0
10681 0000141A D109              2885             MOV.L   #_STOP_LATCH_B,R1               ;
10682 0000141C 2101              2886             MOV.W   R0,@R1
10683 0000141E D109              2887             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10684 00001420 2101              2888             MOV.W   R0,@R1
10685                            2889             M_BRA   MODE_CCS_STPCMP_300             ;
10686 00001422 A027                   M           BRA     MODE_CCS_STPCMP_300
10687 00001424 0009                   M           NOP
10688                            2890     
10689                            2891     ;       ====== 上昇ﾎｰﾙﾄﾞ中 =====
10690                                     ***** BEGIN-POOL *****
10691 00001426 0000                       ALIGNMENT CODE
10692 00001428 00000000                   DATA FOR SOURCE-LINE 2843
10693 0000142C 00000000                   DATA FOR SOURCE-LINE 2852
10694 00001430 00000000                   DATA FOR SOURCE-LINE 2855
10695 00001434 00000000                   DATA FOR SOURCE-LINE 2878
10696 00001438 00000000                   DATA FOR SOURCE-LINE 2879
10697 0000143C 00000000                   DATA FOR SOURCE-LINE 2881
10698 00001440 00000000                   DATA FOR SOURCE-LINE 2885
10699 00001444 00000000                   DATA FOR SOURCE-LINE 2887
10700                                     ***** END-POOL *****
10701 00001448                   2892     MODE_CCS_STPCMP_200:
10702                            2893     ;2007-11-21 本来は200:~220:だけでいいが確認が難しいことと、不具合をださないなら上でやる
10703                            2894     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10704                            2895     ;       FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    87
PROGRAM NAME =

                                          =-1
10705                            2896     ;       TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10706                            2897     ;       TST_BIT_OF MODE_CCS_STPCMP_220                                          ;
10707                            2898     ;       MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10708                            2899     ;       FAR_JSR #_AUTO_OF,R0                                                    ;
10709                            2900     ;
10710                            2901     ;       FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10711                            2902     ;       MOD_LOW_STOP_R0_R1                                              ;
10712                            2903     ;       FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10713                            2904     ;       M_BRA   MODE_CCS_STPCMP_300                                     ;
10714                            2905     ;MODE_CCS_STPCMP_220:
10715                            2906     ;       ----------------------------------------------------------------
10716                            2907     
10717                            2908             FAR_JSR #_AUTO_ON,R0                    ;
10718 00001448 D00C                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10719 0000144A 400B                   M           JSR     @R0                     ;
10720 0000144C 0009                   M           NOP                                     ;
10721                            2909     
10722 0000144E D10C              2910             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
10723 00001450 6011              2911             MOV.W   @R1,R0                          ;
10724 00001452 2008              2912             TST     R0,R0                           ;
10725                            2913             TST_BIT_ON MODE_CCS_STPCMP_250          ;停止すべき
10726 00001454 8B03                   M           BF      MODE_CCS_STPCMP_250
10727                            2914     
10728 00001456 D10B              2915             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10729 00001458 6011              2916             MOV.W   @R1,R0                          ;
10730 0000145A C801              2917             TST     #BIT0,R0                        ;
10731                            2918             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
10732 0000145C 890A                   M           BT      MODE_CCS_STPCMP_300
10733                            2919     
10734 0000145E                   2920     MODE_CCS_STPCMP_250:
10735 0000145E D10A              2921             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10736 00001460 6011              2922             MOV.W   @R1,R0                          ;
10737 00001462 CB01              2923             OR      #BIT0,R0                        ;
10738 00001464 2101              2924             MOV.W   R0,@R1                          ;
10739                            2925     
10740 00001466                   2926     MODE_CCS_STPCMP_270:
10741                            2927     
10742                            2928     ;;;;;;;;;;;2007-12-26 最終工程でなくても上昇ﾎｰﾙﾄﾞで停止ｺﾏﾝﾄﾞ出力
10743                            2929     ;;;     ------------- 追加 2005-08-26 -----------
10744                            2930     ;;;        MOV.L        #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10745                            2931     ;;;        MOV.W        @R1,R0                          ;
10746                            2932     ;;;        MOV.L        #_CPOS_STEP_MAX,R2              ;
10747                            2933     ;;;        MOV.W        @R2,R4                          ;
10748                            2934     ;;;        ADD  #1,R4                           ;
10749                            2935     ;;;        CMP/EQ       R0,R4                           ;
10750                            2936     ;;;        BF   MODE_CCS_STPCMP_280             ;最終工程以外?
10751                            2937     ;;;        M_BRA        MODE_CCS_STPCMP_300             ;
10752                            2938     
10753 00001466                   2939     MODE_CCS_STPCMP_280:
10754 00001466 D109              2940             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
10755 00001468 6011              2941             MOV.W   @R1,R0                                                  ;
10756 0000146A C804              2942             TST     #BIT2,R0                                                ;2004-12-20
10757                            2943             TST_BIT_ON MODE_CCS_STPCMP_300                                  ;
10758 0000146C 8B02                   M           BF      MODE_CCS_STPCMP_300
10759                            2944     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    88
PROGRAM NAME =

10760                            2945             FAR_JSR #_STOP_LTH_OUT,R0
10761 0000146E D008                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10762 00001470 400B                   M           JSR     @R0                     ;
10763 00001472 0009                   M           NOP                                     ;
10764                            2946     
10765                            2947     
10766 00001474                   2948     MODE_CCS_STPCMP_300:
10767                            2949     
10768 00001474                   2950     MODE_CSS_STOPCK1000:
10769                            2951     
10770                            2952             SUB_END
10771                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10772 00001474 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10773                            2953             M_RTS
10774 00001476 000B                   M           RTS                             ;RTSの後ろの
10775 00001478 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10776                            2954     
10777                            2955     
10778                                     ***** BEGIN-POOL *****
10779 0000147A 0000                       ALIGNMENT CODE
10780 0000147C 00000000                   DATA FOR SOURCE-LINE 2908
10781 00001480 00000000                   DATA FOR SOURCE-LINE 2910
10782 00001484 00000000                   DATA FOR SOURCE-LINE 2915
10783 00001488 00000000                   DATA FOR SOURCE-LINE 2921
10784 0000148C 00000000                   DATA FOR SOURCE-LINE 2940
10785 00001490 00000000                   DATA FOR SOURCE-LINE 2945
10786                                     ***** END-POOL *****
10787 00001494                   2956     _MODE_OPT_STOP_CHK:;//(ｵﾌﾟｼｮﾝではなくなってしまっている ここにはこないPSDIぐらい)
10788 00001494                   2957     _MODE_INC_STOP_CHK:
10789                            2958             SUB_START
10790 00001494 4F22                   M           STS.L   PR,@-R15                ;[必要]
10791                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10792 00001496 D103              2959             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分) 2003-06-13
10793 00001498 6011              2960             MOV.W   @R1,R0                          ;運転中止(寸動部分) 2003-06-13
10794 0000149A 2008              2961             TST     R0,R0                           ;運転中止(寸動部分) 2003-06-13
10795                            2962             TST_BIT_OF MODE_INC_STPCHK_050          ;運転中止(寸動部分) 2003-06-13
10796 0000149C 8923                   M           BT      MODE_INC_STPCHK_050
10797                            2963             M_BRA   MODE_INC_STPCHK_000             ;運転中止(寸動部分) 2003-06-13
10798 0000149E A019                   M           BRA     MODE_INC_STPCHK_000
10799 000014A0 0009                   M           NOP
10800                            2964     
10801                            2965     
10802                                     ***** BEGIN-POOL *****
10803 000014A2 0000                       ALIGNMENT CODE
10804 000014A4 00000000                   DATA FOR SOURCE-LINE 2959
10805                                     ***** END-POOL *****
10806 000014A8                   2966     _MODE_DIC_STOP_CHK:
10807                            2967             SUB_START
10808 000014A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
10809                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10810                            2968     ;       -------- 2006-07-28----
10811 000014AA D107              2969             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
10812 000014AC 6011              2970             MOV.W   @R1,R0                          ;
10813 000014AE 2008              2971             TST     R0,R0                           ;
10814                            2972             TST_BIT_OF MODE_INC_STPCHK_000          ;
10815 000014B0 8910                   M           BT      MODE_INC_STPCHK_000
10816                            2973     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    89
PROGRAM NAME =

10817                            2974     
10818                            2975     ;       ---------手パﾓｰﾄﾞで手パ有効OFFなら終り[2011-07-04]
10819 000014B2 D106              2976             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
10820 000014B4 6011              2977             MOV.W   @R1,R0                          ;
10821 000014B6 C802              2978             TST     #BIT1,R0                        ;
10822                            2979             TST_BIT_OF MODE_INC_STPCHK_050          ;
10823 000014B8 8915                   M           BT      MODE_INC_STPCHK_050
10824                            2980     
10825                            2981     
10826 000014BA D105              2982             MOV.L   #_BTTN_FLG,R1                   ;
10827 000014BC 6011              2983             MOV.W   @R1,R0                          ;
10828 000014BE C802              2984             TST     #BIT1,R0                        ;
10829                            2985             TST_BIT_ON MODE_INC_STPCHK_100          ;片手ONなら継続
10830 000014C0 8B1A                   M           BF      MODE_INC_STPCHK_100
10831                            2986             M_BRA   MODE_INC_STPCHK_050             ;
10832 000014C2 A010                   M           BRA     MODE_INC_STPCHK_050
10833 000014C4 0009                   M           NOP
10834                            2987     ;       -----------------------
10835                            2988     
10836                                     ***** BEGIN-POOL *****
10837 000014C6 0000                       ALIGNMENT CODE
10838 000014C8 00000000                   DATA FOR SOURCE-LINE 2969
10839 000014CC 00000000                   DATA FOR SOURCE-LINE 2976
10840 000014D0 00000000                   DATA FOR SOURCE-LINE 2982
10841                                     ***** END-POOL *****
10842 000014D4                   2989     MODE_INC_STPCHK_000:
10843 000014D4 D10A              2990             MOV.L   #_BTTN_FLG,R1                   ;
10844 000014D6 6011              2991             MOV.W   @R1,R0                          ;
10845 000014D8 C804              2992             TST     #BIT2,R0                        ;両手ON
10846                            2993             TST_BIT_ON MODE_INC_STPCHK_100          ;
10847 000014DA 8B0D                   M           BF      MODE_INC_STPCHK_100
10848                            2994     
10849                            2995     
10850                            2996     ;       ---------- 2015-11-13[行程2重回路対策]---------------
10851                            2997     ;; .AIF 1 EQ 1
10852                            2998             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10853 000014DC D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10854 000014DE 400B                   M           JSR     @R0                     ;
10855 000014E0 0009                   M           NOP                                     ;
10856 000014E2 2008              2999             TST     R0,R0                           ;
10857                            3000             TST_BIT_ON MODE_INC_STPCHK_100          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10858 000014E4 8B08                   M           BF      MODE_INC_STPCHK_100
10859                            3001     ;; .AENDI
10860                            3002     ;       ------------------------------------
10861                            3003     
10862 000014E6                   3004     MODE_INC_STPCHK_050:
10863                            3005     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10864                            3006             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10865 000014E6 D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10866 000014E8 400B                   M           JSR     @R0                     ;
10867 000014EA 0009                   M           NOP                                     ;
10868                            3007     
10869                            3008     ;       ---2007-03-02-----
10870                            3009             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10871 000014EC D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10872 000014EE E002                   M           MOV.B   #BIT1,R0                        ;
10873 000014F0 2101                   M           MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    90
PROGRAM NAME =

10874                            3010             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10875 000014F2 D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10876 000014F4 400B                   M           JSR     @R0                     ;
10877 000014F6 0009                   M           NOP                                     ;
10878                            3011     
10879 000014F8                   3012     MODE_INC_STPCHK_100:
10880                            3013             SUB_END
10881                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10882 000014F8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10883                            3014             M_RTS
10884 000014FA 000B                   M           RTS                             ;RTSの後ろの
10885 000014FC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10886                            3015     
10887                            3016     ;       === 2003-07-09 =====
10888                                     ***** BEGIN-POOL *****
10889 000014FE 0000                       ALIGNMENT CODE
10890 00001500 00000000                   DATA FOR SOURCE-LINE 2990
10891 00001504 00000000                   DATA FOR SOURCE-LINE 2998
10892 00001508 00000000                   DATA FOR SOURCE-LINE 3006
10893 0000150C 00000000                   DATA FOR SOURCE-LINE 3009
10894 00001510 00000000                   DATA FOR SOURCE-LINE 3010
10895                                     ***** END-POOL *****
10896 00001514                   3017     _MODE_DUP_STOP_CHK:
10897                            3018             SUB_START
10898 00001514 4F22                   M           STS.L   PR,@-R15                ;[必要]
10899                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10900                            3019     
10901 00001516 D109              3020             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
10902 00001518 6011              3021             MOV.W   @R1,R0                          ;
10903 0000151A 8801              3022             CMP/EQ  #1,R0                           ;
10904 0000151C 8918              3023             BT      MODE_DUP_STPCHK100              ;
10905                            3024     
10906 0000151E D108              3025             MOV.L   #_BTTN_FLG,R1                   ;
10907 00001520 6011              3026             MOV.W   @R1,R0                          ;
10908 00001522 C804              3027             TST     #BIT2,R0                        ;両手ON
10909                            3028             TST_BIT_ON MODE_DUP_STPCHK200           ;
10910 00001524 8B22                   M           BF      MODE_DUP_STPCHK200
10911                            3029     
10912                            3030             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10913 00001526 D007                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10914 00001528 400B                   M           JSR     @R0                     ;
10915 0000152A 0009                   M           NOP                                     ;
10916                            3031     
10917                            3032     ;       ---2007-03-02-----
10918                            3033             MOD_LOW_STOP_R0_R1                      ;減速停止
10919 0000152C D106                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10920 0000152E E002                   M           MOV.B   #BIT1,R0                        ;
10921 00001530 2101                   M           MOV.W   R0,@R1                          ;
10922                            3034             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10923 00001532 D006                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10924 00001534 400B                   M           JSR     @R0                     ;
10925 00001536 0009                   M           NOP                                     ;
10926                            3035     
10927                            3036             M_BRA   MODE_DUP_STPCHK200
10928 00001538 A018                   M           BRA     MODE_DUP_STPCHK200
10929 0000153A 0009                   M           NOP
10930                            3037     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    91
PROGRAM NAME =

10931                                     ***** BEGIN-POOL *****
10932 0000153C 00000000                   DATA FOR SOURCE-LINE 3020
10933 00001540 00000000                   DATA FOR SOURCE-LINE 3025
10934 00001544 00000000                   DATA FOR SOURCE-LINE 3030
10935 00001548 00000000                   DATA FOR SOURCE-LINE 3033
10936 0000154C 00000000                   DATA FOR SOURCE-LINE 3034
10937                                     ***** END-POOL *****
10938 00001550                   3038     MODE_DUP_STPCHK100:
10939                            3039     ;       ====原点復帰完了待ち
10940 00001550 D108              3040             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
10941 00001552 6011              3041             MOV.W   @R1,R0                          ;起動でBIT1=BIT0=0 完了でBIT0=1　LATCH/BIT
                                          1=1
10942 00001554 C810              3042             TST     #BIT4,R0                        ;
10943                            3043             TST_BIT_ON MODE_DUP_STPCHK200           ;BIT4=1 全工程終了
10944 00001556 8B09                   M           BF      MODE_DUP_STPCHK200
10945                            3044     
10946 00001558 C808              3045             TST     #BIT3,R0                        ;終了 終了ﾗｯﾁ
10947                            3046             TST_BIT_OF MODE_DUP_STPCHK200           ;
10948 0000155A 8907                   M           BT      MODE_DUP_STPCHK200
10949 0000155C CB10              3047             OR      #BIT4,R0                        ;
10950 0000155E 2101              3048             MOV.W   R0,@R1                          ;
10951                            3049     
10952                            3050     ;       ---2007-03-02-----
10953                            3051             MOD_LOW_STOP_R0_R1                      ;減速停止(本当は不要だけど終了させる為にあ
                                          えて)
10954 00001560 D105                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10955 00001562 E002                   M           MOV.B   #BIT1,R0                        ;
10956 00001564 2101                   M           MOV.W   R0,@R1                          ;
10957                            3052             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10958 00001566 D005                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10959 00001568 400B                   M           JSR     @R0                     ;
10960 0000156A 0009                   M           NOP                                     ;
10961                            3053     
10962 0000156C                   3054     MODE_DUP_STPCHK200
10963                            3055             SUB_END
10964                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10965 0000156C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10966                            3056             M_RTS
10967 0000156E 000B                   M           RTS                             ;RTSの後ろの
10968 00001570 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10969                            3057     
10970                            3058     ;       *******************************************
10971                            3059     ;       ***                                     ***
10972                            3060     ;       ***     位置決めキャンセル指令時クリア  ***
10973                            3061     ;       ***                                     ***
10974                            3062     ;       *******************************************
10975                                     ***** BEGIN-POOL *****
10976 00001572 0000                       ALIGNMENT CODE
10977 00001574 00000000                   DATA FOR SOURCE-LINE 3040
10978 00001578 00000000                   DATA FOR SOURCE-LINE 3051
10979 0000157C 00000000                   DATA FOR SOURCE-LINE 3052
10980                                     ***** END-POOL *****
10981 00001580                   3063     _POS_CANSEL_STOP_CHK:
10982                            3064             SUB_START
10983 00001580 4F22                   M           STS.L   PR,@-R15                ;[必要]
10984                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10985                            3065              .AIF   1 EQ 1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    92
PROGRAM NAME =

10986                            3066 C   ;       -------- 2016-10-31 ADD 二重回路対策
10987                            3067              .AENDI
10988                            3068     
10989                            3069     ;;;2016-10-31   MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
10990                            3070     ;;;2016-10-31   MOV.W   @R1,R0                          ;
10991                            3071     ;;;2016-10-31   MOV.W   #BIT11,R4                       ;
10992                            3072     
10993                            3073     ;       -------- 2016-10-31(2016-05-11) ﾗｯﾁﾃﾞｰﾀに変更-----------
10994 00001582 D10C              3074             MOV.L   #_POSCANSEL_CMD,R1              ;
10995 00001584 6011              3075             MOV.W   @R1,R0                          ;
10996 00001586 9413              3076             MOV.W   #BIT11,R4                       ;
10997                            3077     
10998 00001588 2048              3078             TST     R4,R0                           ;
10999                            3079             TST_BIT_OF POS_CANSEL_STPCHK_MOV        ;
11000 0000158A 891F                   M           BT      POS_CANSEL_STPCHK_MOV
11001                            3080     
11002                            3081             FAR_JSR #_POS_CANSEL_CLR,R0
11003 0000158C D00A                   M           MOV.L   #_POS_CANSEL_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11004 0000158E 400B                   M           JSR     @R0                     ;
11005 00001590 0009                   M           NOP                                     ;
11006                            3082             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
11007 00001592 D00A                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11008 00001594 400B                   M           JSR     @R0                     ;
11009 00001596 0009                   M           NOP                                     ;
11010                            3083     
11011                            3084     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
11012                            3085             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
11013 00001598 D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11014 0000159A 400B                   M           JSR     @R0                     ;
11015 0000159C 0009                   M           NOP                                     ;
11016                            3086     
11017                            3087     ;       ---2007-03-02-----
11018                            3088             MOD_LOW_STOP_R0_R1              ;bit1->_MNWR_POS_CMD,R1         ;減速停止,起動OFF
11019 0000159E D109                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11020 000015A0 E002                   M           MOV.B   #BIT1,R0                        ;
11021 000015A2 2101                   M           MOV.W   R0,@R1                          ;
11022                            3089             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11023 000015A4 D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11024 000015A6 400B                   M           JSR     @R0                     ;
11025 000015A8 0009                   M           NOP                                     ;
11026                            3090     
11027                            3091     ;       ---- STOP ANS
11028 000015AA E001              3092             MOV     #1,R0
11029                            3093             M_BRA   POS_CANSEL_STPCHK_END
11030 000015AC A00F                   M           BRA     POS_CANSEL_STPCHK_END
11031 000015AE 0009                   M           NOP
11032                                     ***** BEGIN-POOL *****
11033 000015B0 0800                       DATA FOR SOURCE-LINE 3076
11034 000015B2 0000                       ALIGNMENT CODE
11035 000015B4 00000000                   DATA FOR SOURCE-LINE 3074
11036 000015B8 00000000                   DATA FOR SOURCE-LINE 3081
11037 000015BC 00000000                   DATA FOR SOURCE-LINE 3082
11038 000015C0 00000000                   DATA FOR SOURCE-LINE 3085
11039 000015C4 00000000                   DATA FOR SOURCE-LINE 3088
11040 000015C8 00000000                   DATA FOR SOURCE-LINE 3089
11041                                     ***** END-POOL *****
11042 000015CC                   3094     POS_CANSEL_STPCHK_MOV:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    93
PROGRAM NAME =

11043 000015CC 200A              3095             XOR     R0,R0
11044 000015CE                   3096     POS_CANSEL_STPCHK_END:
11045                            3097             SUB_END
11046                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11047 000015CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11048                            3098             M_RTS
11049 000015D0 000B                   M           RTS                             ;RTSの後ろの
11050 000015D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11051                            3099     
11052 000015D4                   3100     _POS_CANSEL_CLR
11053                            3101             SUB_START
11054 000015D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
11055                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11056                            3102             FAR_JSR #_AUTO_OF,R0                    ;
11057 000015D6 D006                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11058 000015D8 400B                   M           JSR     @R0                     ;
11059 000015DA 0009                   M           NOP                                     ;
11060 000015DC 200A              3103             XOR     R0,R0
11061 000015DE D105              3104             MOV.L   #_STOP_LATCH_B,R1               ;
11062 000015E0 2101              3105             MOV.W   R0,@R1
11063 000015E2 D105              3106             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11064 000015E4 2101              3107             MOV.W   R0,@R1
11065 000015E6 D105              3108             MOV.L   #_INT_CLS_CTL_FLG,R1            ;//BIT0=1 START 起動時ｸﾘｱ
11066 000015E8 2101              3109             MOV.W   R0,@R1                          ;
11067                            3110     
11068                            3111             SUB_END
11069                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11070 000015EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11071                            3112             M_RTS
11072 000015EC 000B                   M           RTS                             ;RTSの後ろの
11073 000015EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11074                            3113     
11075                            3114     
11076                            3115     ;       *******************************************
11077                            3116     ;       ***                                     ***
11078                            3117     ;       ***     モード制御フラグの異常時クリア  ***
11079                            3118     ;       ***                                     ***
11080                            3119     ;       *******************************************
11081                                     ***** BEGIN-POOL *****
11082 000015F0 00000000                   DATA FOR SOURCE-LINE 3102
11083 000015F4 00000000                   DATA FOR SOURCE-LINE 3104
11084 000015F8 00000000                   DATA FOR SOURCE-LINE 3106
11085 000015FC 00000000                   DATA FOR SOURCE-LINE 3108
11086                                     ***** END-POOL *****
11087 00001600                   3120             .ALIGN  4                               ;
11088 00001600                   3121     _EMG_CTL_FLG_PROC:
11089                            3122             SUB_START
11090 00001600 4F22                   M           STS.L   PR,@-R15                ;[必要]
11091                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11092                            3123             FAR_JSR #_EXQ_CTL_FLG_PROC,R1           ;
11093 00001602 D10D                   M           MOV.L   #_EXQ_CTL_FLG_PROC,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11094 00001604 410B                   M           JSR     @R1                     ;
11095 00001606 0009                   M           NOP                                     ;
11096                            3124             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;(ﾛｯﾄｶｳﾝﾀには使用できないので注意)
11097 00001608 D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11098 0000160A 400B                   M           JSR     @R0                     ;
11099 0000160C 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    94
PROGRAM NAME =

11100                            3125             FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;
11101 0000160E D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11102 00001610 400B                   M           JSR     @R0                     ;
11103 00001612 0009                   M           NOP                                     ;
11104                            3126     
11105 00001614 200A              3127             XOR     R0,R0                           ;
11106 00001616 D10B              3128             MOV.L   #_INT_POS_CTL_STEP,R1           ;
11107 00001618 2101              3129             MOV.W   R0,@R1                          ;
11108 0000161A D10B              3130             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
11109 0000161C 2101              3131             MOV.W   R0,@R1                          ;
11110                            3132     
11111                            3133             FAR_JSR #_STEP_SIG_DSP_CLR,R0
11112 0000161E D00B                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11113 00001620 400B                   M           JSR     @R0                     ;
11114 00001622 0009                   M           NOP                                     ;
11115                            3134     
11116 00001624 200A              3135             XOR     R0,R0                           ;2004-01-28
11117 00001626 D10A              3136             MOV.L   #_ENC360_OVER_FLG,R1            ;
11118 00001628 2101              3137             MOV.W   R0,@R1                          ;
11119                            3138     
11120                            3139     ;       ----- 2006-04-26 ------------
11121 0000162A 200A              3140             XOR     R0,R0                           ;
11122 0000162C D109              3141             MOV.L   #_IN_RDY_FLG,R1                 ;ANTI LEVEL
11123 0000162E 2101              3142             MOV.W   R0,@R1                          ;
11124                            3143     
11125                            3144             SUB_END
11126                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11127 00001630 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11128                            3145             M_RTS
11129 00001632 000B                   M           RTS                             ;RTSの後ろの
11130 00001634 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11131                            3146     
11132                                     ***** BEGIN-POOL *****
11133 00001636 0000                       ALIGNMENT CODE
11134 00001638 00000000                   DATA FOR SOURCE-LINE 3123
11135 0000163C 00000000                   DATA FOR SOURCE-LINE 3124
11136 00001640 00000000                   DATA FOR SOURCE-LINE 3125
11137 00001644 00000000                   DATA FOR SOURCE-LINE 3128
11138 00001648 00000000                   DATA FOR SOURCE-LINE 3130
11139 0000164C 00000000                   DATA FOR SOURCE-LINE 3133
11140 00001650 00000000                   DATA FOR SOURCE-LINE 3136
11141 00001654 00000000                   DATA FOR SOURCE-LINE 3141
11142                                     ***** END-POOL *****
11143 00001658                   3147             .ALIGN  4                               ;
11144 00001658                   3148     _EXQ_CTL_FLG_PROC:                              ;EMGでも呼ばれる
11145                            3149             SUB_START
11146 00001658 4F22                   M           STS.L   PR,@-R15                ;[必要]
11147                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11148                            3150     ;;;     XOR     R0,R0                           ;
11149                            3151     ;;;2006-04-26   MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
11150                            3152     ;;;2006-04-26   MOV.W   R0,@R1                  ;
11151                            3153     
11152 0000165A 200A              3154             XOR     R0,R0                           ;
11153 0000165C D127              3155             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
11154 0000165E 2101              3156             MOV.W   R0,@R1                  ;
11155                            3157     
11156                            3158     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    95
PROGRAM NAME =

11157                            3159             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05[clr]
11158 00001660 D027                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11159 00001662 400B                   M           JSR     @R0                     ;
11160 00001664 0009                   M           NOP                                     ;
11161                            3160     
11162                            3161     ;;      2007-01-16 START_SFTY_LOCK_CLRでｸﾘｱする
11163                            3162     ;;      MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK 2006-04-10
11164                            3163     ;;      MOV.W   R0,@R1                  ;2006-04-10
11165                            3164     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;2006-04-10
11166                            3165     ;;      MOV.W   R0,@R1                  ;2006-04-10
11167                            3166     
11168                            3167     ;       ====== 2007-01-16========
11169                            3168             FAR_JSR #_START_SFTY_LOCK_CLR,R0        ;2007-01-16[KEP--clr]
11170 00001666 D027                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11171 00001668 400B                   M           JSR     @R0                     ;
11172 0000166A 0009                   M           NOP                                     ;
11173                            3169     
11174                            3170     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
11175                            3171     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
11176                            3172             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                ;2013-02-23 新ｿﾌﾄは
11177 0000166C D026                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11178 0000166E 400B                   M           JSR     @R0                     ;
11179 00001670 0009                   M           NOP                                     ;
11180                            3173     
11181 00001672 200A              3174             XOR     R0,R0                   ;
11182 00001674 D125              3175             MOV.L   #_INT_CLS_CTL_FLG,R1    ;       //BIT0=1 START 起動時ｸﾘｱ
11183 00001676 2101              3176             MOV.W   R0,@R1
11184                            3177     
11185 00001678 200A              3178             XOR     R0,R0                           ;
11186 0000167A D125              3179             MOV.L   #_RST_ERR_CHK_FLG,R1            ;BIT0=偏差異常みない
11187 0000167C 2101              3180             MOV.W   R0,@R1                          ;
11188                            3181     ;       == 2003-07-09 ==
11189 0000167E D125              3182             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
11190 00001680 2101              3183             MOV.W   R0,@R1                          ;
11191                            3184     
11192                            3185     
11193                            3186     ;       ======ｻｲｸﾙ停止状態OFF==========================
11194                            3187             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
11195 00001682 D125                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11196 00001684 6011                   M           MOV.W   @R1,R0          ;
11197 00001686 9436                   M           MOV.W   #LWORD (~BIT7),R4       ;
11198 00001688 2049                   M           AND     R4,R0           ;
11199 0000168A 2101                   M           MOV.W   R0,@R1          ;
11200                            3188     
11201                            3189     ;       ======各一旦停止=================================
11202                            3190             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
11203 0000168C D122                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11204 0000168E 6011                   M           MOV.W   @R1,R0          ;
11205 00001690 9432                   M           MOV.W   #LWORD (~BIT9),R4       ;
11206 00001692 2049                   M           AND     R4,R0           ;
11207 00001694 2101                   M           MOV.W   R0,@R1          ;
11208                            3191     ;       ===============================================
11209                            3192             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
11210 00001696 D121                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11211 00001698 6011                   M           MOV.W   @R1,R0          ;
11212 0000169A C900                   M           AND     #LOW ~(H'FF),R0         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    96
PROGRAM NAME =

11213 0000169C 2101                   M           MOV.W   R0,@R1          ;
11214                            3193     
11215                            3194     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
11216                            3195             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
11217 0000169E D11E                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11218 000016A0 6011                   M           MOV.W   @R1,R0          ;
11219 000016A2 942A                   M           MOV.W   #LWORD (~BIT3),R4       ;
11220 000016A4 2049                   M           AND     R4,R0           ;
11221 000016A6 2101                   M           MOV.W   R0,@R1          ;
11222                            3196     ;       ===============================================
11223                            3197             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0                 ;起動したいもｸﾘｱ
11224 000016A8 D01D                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11225 000016AA 400B                   M           JSR     @R0                     ;
11226 000016AC 0009                   M           NOP                                     ;
11227                            3198     
11228                            3199             FAR_JSR #_STOPPING_TIM_STOP_INI,R0
11229 000016AE D01D                   M           MOV.L   #_STOPPING_TIM_STOP_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11230 000016B0 400B                   M           JSR     @R0                     ;
11231 000016B2 0009                   M           NOP                                     ;
11232                            3200     
11233                            3201     ;       ==== 2012-03-06====
11234                            3202             FAR_JSR #_BRKTMCAL_STG1_STOPINI,R0              ;停止ソフト
11235 000016B4 D01C                   M           MOV.L   #_BRKTMCAL_STG1_STOPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11236 000016B6 400B                   M           JSR     @R0                     ;
11237 000016B8 0009                   M           NOP                                     ;
11238                            3203     
11239                            3204     
11240                            3205     ;       ==== 2003-07-01 ====
11241                            3206             FAR_JSR #_BRK_ERR_WORK_CLR1,R0
11242 000016BA D01C                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11243 000016BC 400B                   M           JSR     @R0                     ;
11244 000016BE 0009                   M           NOP                                     ;
11245                            3207     
11246                            3208     ;       ==== 2003-07-09 ====
11247                            3209             FAR_JSR #_CNT_CYCL_DISP_ST,R0
11248 000016C0 D01B                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11249 000016C2 400B                   M           JSR     @R0                     ;
11250 000016C4 0009                   M           NOP                                     ;
11251                            3210     
11252                            3211     ;       === 2019-10-10(2019-08-20)==========
11253 000016C6 200A              3212             XOR             R0,R0
11254 000016C8 D11A              3213             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;
11255 000016CA 2101              3214             MOV.W   R0,@R1                                  ;
11256                            3215     
11257                            3216     
11258                            3217     ;       ==== 2004-03-29 ===
11259                            3218             FAR_JSR #_EXQ_STOP_LEV_POS_CLR,R0
11260 000016CC D01A                   M           MOV.L   #_EXQ_STOP_LEV_POS_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11261 000016CE 400B                   M           JSR     @R0                     ;
11262 000016D0 0009                   M           NOP                                     ;
11263                            3219     
11264                            3220     ;       ==== 2004-04-19 ==
11265                            3221             FAR_JSR #_GPOSIN_HOS_RESET,R0
11266 000016D2 D01A                   M           MOV.L   #_GPOSIN_HOS_RESET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11267 000016D4 400B                   M           JSR     @R0                     ;
11268 000016D6 0009                   M           NOP                                     ;
11269                            3222     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    97
PROGRAM NAME =

11270                            3223     ;       ==== 2004-12-20 =====
11271                            3224             FAR_JSR #_CNTREST_HOS_RESET,R0
11272 000016D8 D019                   M           MOV.L   #_CNTREST_HOS_RESET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11273 000016DA 400B                   M           JSR     @R0                     ;
11274 000016DC 0009                   M           NOP                                     ;
11275                            3225     
11276                            3226     
11277                            3227     ;       ==== 2006-07-28 =====
11278                            3228             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0 ;
11279 000016DE D019                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11280 000016E0 400B                   M           JSR     @R0                     ;
11281 000016E2 0009                   M           NOP                                     ;
11282                            3229     
11283                            3230     
11284                            3231     ;       --------タイマ処理から再開をクリア[3/]------
11285                            3232             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W
11286 000016E4 200A                   M           XOR     R0,R0           ;
11287 000016E6 D118                   M           MOV.L   #_DURING_TIM_FX,R1      ;
11288 000016E8 2101                   M           MOV.W   R0,@R1          ;
11289                            3233     
11290                            3234     
11291                            3235     ;       -------------------2014-08-30 -----------
11292                            3236             FAR_JSR #_POS_HOLD_FLG_EXQ_CLR,R0
11293 000016EA D018                   M           MOV.L   #_POS_HOLD_FLG_EXQ_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11294 000016EC 400B                   M           JSR     @R0                     ;
11295 000016EE 0009                   M           NOP                                     ;
11296                            3237     
11297                            3238     
11298                            3239     
11299                            3240             SUB_END
11300                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11301 000016F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11302                            3241             M_RTS
11303 000016F2 000B                   M           RTS                             ;RTSの後ろの
11304 000016F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11305                            3242     
11306                            3243     
11307                            3244     
11308                            3245     ;       *******************************************
11309                            3246     ;       ***                                     ***
11310                            3247     ;       ***     リセット制御フラグの異常時CLR   ***
11311                            3248     ;       ***                                     ***
11312                            3249     ;       *******************************************
11313                                     ***** BEGIN-POOL *****
11314 000016F6 FF7F                       DATA FOR SOURCE-LINE 3187
11315 000016F8 FDFF                       DATA FOR SOURCE-LINE 3190
11316 000016FA FFF7                       DATA FOR SOURCE-LINE 3195
11317 000016FC 00000000                   DATA FOR SOURCE-LINE 3155
11318 00001700 00000000                   DATA FOR SOURCE-LINE 3159
11319 00001704 00000000                   DATA FOR SOURCE-LINE 3168
11320 00001708 00000000                   DATA FOR SOURCE-LINE 3172
11321 0000170C 00000000                   DATA FOR SOURCE-LINE 3175
11322 00001710 00000000                   DATA FOR SOURCE-LINE 3179
11323 00001714 00000000                   DATA FOR SOURCE-LINE 3182
11324 00001718 00000000                   DATA FOR SOURCE-LINE 3187,3190,3195
11325 0000171C 00000000                   DATA FOR SOURCE-LINE 3192
11326 00001720 00000000                   DATA FOR SOURCE-LINE 3197
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    98
PROGRAM NAME =

11327 00001724 00000000                   DATA FOR SOURCE-LINE 3199
11328 00001728 00000000                   DATA FOR SOURCE-LINE 3202
11329 0000172C 00000000                   DATA FOR SOURCE-LINE 3206
11330 00001730 00000000                   DATA FOR SOURCE-LINE 3209
11331 00001734 00000000                   DATA FOR SOURCE-LINE 3213
11332 00001738 00000000                   DATA FOR SOURCE-LINE 3218
11333 0000173C 00000000                   DATA FOR SOURCE-LINE 3221
11334 00001740 00000000                   DATA FOR SOURCE-LINE 3224
11335 00001744 00000000                   DATA FOR SOURCE-LINE 3228
11336 00001748 00000000                   DATA FOR SOURCE-LINE 3232
11337 0000174C 00000000                   DATA FOR SOURCE-LINE 3236
11338                                     ***** END-POOL *****
11339 00001750                   3250             .ALIGN  4                               ;
11340 00001750                   3251     _STP_RST_FLG_PROC:
11341                            3252             SUB_START
11342 00001750 4F22                   M           STS.L   PR,@-R15                ;[必要]
11343                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11344 00001752 200A              3253             XOR     R0,R0
11345 00001754 D102              3254             MOV.L   #_reset_flg,R1                  ;
11346 00001756 2101              3255             MOV.W   R0,@R1                          ;
11347                            3256             SUB_END
11348                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11349 00001758 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11350                            3257             M_RTS
11351 0000175A 000B                   M           RTS                             ;RTSの後ろの
11352 0000175C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11353                            3258     
11354                            3259     
11355                            3260     ;       ***************************************************
11356                            3261     ;       ***     ﾘｾｯﾄ開始時にｻｰﾎﾞを含めてやるべき処理    ***
11357                            3262     ;       ***************************************************
11358                            3263             .IMPORT _DEBUG_SIGNAL_OFF
11359                                     ***** BEGIN-POOL *****
11360 0000175E 0000                       ALIGNMENT CODE
11361 00001760 00000000                   DATA FOR SOURCE-LINE 3254
11362                                     ***** END-POOL *****
11363 00001764                   3264     _RST_MOD_POS_START:
11364                            3265             SUB_START
11365 00001764 4F22                   M           STS.L   PR,@-R15                ;[必要]
11366                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11367                            3266     ;;;;;   FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;現在位置を目標位置に変える
11368                            3267             FAR_JSR #_DEBUG_SIGNAL_OFF,R0           ;2004-03-03
11369 00001766 D003                   M           MOV.L   #_DEBUG_SIGNAL_OFF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11370 00001768 400B                   M           JSR     @R0                     ;
11371 0000176A 0009                   M           NOP                                     ;
11372                            3268             SUB_END
11373                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11374 0000176C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11375                            3269             M_RTS
11376 0000176E 000B                   M           RTS                             ;RTSの後ろの
11377 00001770 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11378                            3270     
11379                            3271     
11380                            3272     ;       ***************************************************
11381                            3273     ;       ***     ﾘｾｯﾄ終了時にｻｰﾎﾞを含めてやるべき処理    ***
11382                            3274     ;       ***************************************************
11383                            3275     ;       [1]動作モードの決定
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE    99
PROGRAM NAME =

11384                            3276     ;       [2]
11385                            3277     ;
11386                            3278     ;
11387                                     ***** BEGIN-POOL *****
11388 00001772 0000                       ALIGNMENT CODE
11389 00001774 00000000                   DATA FOR SOURCE-LINE 3267
11390                                     ***** END-POOL *****
11391 00001778                   3279     _RST_MOD_POS_END:
11392                            3280             SUB_START
11393 00001778 4F22                   M           STS.L   PR,@-R15                ;[必要]
11394                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11395                            3281     
11396                            3282     ;;;;;;;;;       -----------2011-09-14 段取で安全一を動かすならこのソフトを生かす--
11397                            3283     ;;;;;;;;;       MOV.L   #_BRKTST_INPUT_CMD,R1           ;//BIT0:制動試験指令[349.0の替わり
                                          ],BIT1:制動試験停止指令
11398                            3284     ;;;;;;;;;       MOV.W   @R1,R0                          ;
11399                            3285     ;;;;;;;;;       TST     #BIT0,R0                        ;
11400                            3286     ;;;;;;;;;       TST_BIT_OF RST_MOD_POSEND_100           ;
11401                            3287     ;;;;;;;;;       MOV.W   #(_W1DIC),R0                    ;
11402                            3288     ;;;;;;;;;       MOV.L   #_MODE_SEL,R1                   ;
11403                            3289     ;;;;;;;;;       MOV.W   R0,@R1                          ;
11404                            3290     ;;;;;;;;;       M_BRA   RST_MOD_POSEND_200              ;
11405                            3291     ;       ------------------------------------------
11406                            3292     
11407 0000177A                   3293     RST_MOD_POSEND_100:
11408 0000177A D106              3294             MOV.L   #_INP_MODE,R1                   ;
11409 0000177C 6011              3295             MOV.W   @R1,R0                          ;
11410 0000177E D106              3296             MOV.L   #_MODE_SEL,R1                   ;
11411 00001780 2101              3297             MOV.W   R0,@R1                          ;
11412                            3298     
11413 00001782                   3299     RST_MOD_POSEND_200:
11414                            3300     
11415 00001782 200A              3301             XOR     R0,R0                           ;
11416 00001784 D105              3302             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
11417 00001786 2101              3303             MOV.W   R0,@R1                          ;
11418 00001788 D105              3304             MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
11419 0000178A 2101              3305             MOV.W   R0,@R1                          ;
11420                            3306             SUB_END
11421                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11422 0000178C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11423                            3307             M_RTS
11424 0000178E 000B                   M           RTS                             ;RTSの後ろの
11425 00001790 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11426                            3308     
11427                            3309     ;       *******************************************
11428                            3310     ;       ***     上昇ﾎｰﾙﾄﾞ位置検索               ***
11429                            3311     ;       *******************************************
11430                            3312     ;       -- 設定からくる上昇位置をチェックする --
11431                            3313     ;       運転ﾓｰﾄﾞと運転方法から待機点へ戻る
11432                                     ***** BEGIN-POOL *****
11433 00001792 0000                       ALIGNMENT CODE
11434 00001794 00000000                   DATA FOR SOURCE-LINE 3294
11435 00001798 00000000                   DATA FOR SOURCE-LINE 3296
11436 0000179C 00000000                   DATA FOR SOURCE-LINE 3302
11437 000017A0 00000000                   DATA FOR SOURCE-LINE 3304
11438                                     ***** END-POOL *****
11439 000017A4                   3314     _SV_UP_HOLD_CHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   100
PROGRAM NAME =

11440                            3315             SUB_START
11441 000017A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
11442                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11443 000017A6 D104              3316             MOV.L   #_MODE_SEL,R1                           ;
11444 000017A8 6011              3317             MOV.W   @R1,R0                                  ;
11445 000017AA 9404              3318             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;
11446 000017AC 2048              3319             TST     R4,R0                                   ;ﾓｰｼｮﾝ運転か?
11447                            3320             TST_BIT_ON SV_UP_HLDCHK_0050                    ;
11448 000017AE 8B05                   M           BF      SV_UP_HLDCHK_0050
11449 000017B0 200A              3321             XOR     R0,R0                                   ;
11450                            3322             M_BRA   SV_UP_HLDCHK_0900                       ;
11451 000017B2 A040                   M           BRA     SV_UP_HLDCHK_0900
11452 000017B4 0009                   M           NOP
11453                            3323     
11454                                     ***** BEGIN-POOL *****
11455 000017B6 001E                       DATA FOR SOURCE-LINE 3318
11456 000017B8 00000000                   DATA FOR SOURCE-LINE 3316
11457                                     ***** END-POOL *****
11458 000017BC                   3324     SV_UP_HLDCHK_0050:
11459 000017BC D102              3325             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
11460 000017BE 6011              3326             MOV.W   @R1,R0                                  ;
11461 000017C0 C808              3327             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
11462                            3328             TST_BIT_ON SV_UP_HLDCHK_0100                    ;上往復
11463 000017C2 8B03                   M           BF      SV_UP_HLDCHK_0100
11464                            3329             M_BRA   SV_UP_HLDCHK_0190                       ;
11465 000017C4 A012                   M           BRA     SV_UP_HLDCHK_0190
11466 000017C6 0009                   M           NOP
11467                            3330     ;       ======== 上往復 =======
11468                                     ***** BEGIN-POOL *****
11469 000017C8 00000000                   DATA FOR SOURCE-LINE 3325
11470                                     ***** END-POOL *****
11471 000017CC                   3331     SV_UP_HLDCHK_0100:
11472                            3332             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11473 000017CC D404                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11474 000017CE 440B                   M           JSR     @R4                     ;
11475 000017D0 0009                   M           NOP                                     ;
11476 000017D2 D404              3333             MOV.L   #_UP_HOLD_STEP1,R4      ;
11477 000017D4 2411              3334             MOV.W   R1,@R4
11478 000017D6 D404              3335             MOV.L   #_UP_HOLD_STEP2,R4      ;
11479 000017D8 2421              3336             MOV.W   R2,@R4
11480                            3337             M_BRA   SV_UP_HLDCHK_0900
11481 000017DA A02C                   M           BRA     SV_UP_HLDCHK_0900
11482 000017DC 0009                   M           NOP
11483                            3338     
11484                                     ***** BEGIN-POOL *****
11485 000017DE 0000                       ALIGNMENT CODE
11486 000017E0 00000000                   DATA FOR SOURCE-LINE 3332
11487 000017E4 00000000                   DATA FOR SOURCE-LINE 3333
11488 000017E8 00000000                   DATA FOR SOURCE-LINE 3335
11489                                     ***** END-POOL *****
11490 000017EC                   3339     SV_UP_HLDCHK_0190:
11491 000017EC C804              3340             TST     #_DMATH_DNDRIV,R0               ;DRIVE MATH 下往復
11492                            3341             TST_BIT_ON SV_UP_HLDCHK_0200
11493 000017EE 8B01                   M           BF      SV_UP_HLDCHK_0200
11494                            3342             M_BRA   SV_UP_HLDCHK_0290               ;
11495 000017F0 A002                   M           BRA     SV_UP_HLDCHK_0290
11496 000017F2 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   101
PROGRAM NAME =

11497                            3343     
11498                            3344     ;       =====   下往復  =====
11499 000017F4                   3345     SV_UP_HLDCHK_0200:
11500                            3346             M_BRA   SV_UP_HLDCHK_0295               ;回転と同じ論理[2009-10-07]
11501 000017F4 A002                   M           BRA     SV_UP_HLDCHK_0295
11502 000017F6 0009                   M           NOP
11503                            3347     
11504                            3348     ;;[20091007下振子]      FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11505                            3349     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP1,R4      ;
11506                            3350     ;;[20091007下振子]      MOV.W   R1,@R4                  ;
11507                            3351     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP2,R4      ;
11508                            3352     ;;[20091007下振子]      MOV.W   R2,@R4                  ;運転開始時にUP_HOLD_STEPにCOPY
11509                            3353     ;;[20091007下振子]      M_BRA   SV_UP_HLDCHK_0900
11510                            3354     
11511                            3355     
11512 000017F8                   3356     SV_UP_HLDCHK_0290:
11513 000017F8 C802              3357             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
11514                            3358             TST_BIT_ON SV_UP_HLDCHK_0300            ;
11515 000017FA 8B13                   M           BF      SV_UP_HLDCHK_0300
11516 000017FC                   3359     SV_UP_HLDCHK_0295:              ;20091007下振り子は回転と同じ論理
11517                            3360     ;       =====   回転    =====
11518                            3361             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R1
11519 000017FC D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11520 000017FE 440B                   M           JSR     @R4                     ;
11521 00001800 0009                   M           NOP                                     ;
11522 00001802 D405              3362             MOV.L   #_UP_HOLD_STEP,R4;      //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11523 00001804 2411              3363             MOV.W   R1,@R4
11524 00001806 D405              3364             MOV.L   #_UP_HOLD_STEP1,R4      ;
11525 00001808 2411              3365             MOV.W   R1,@R4
11526 0000180A D405              3366             MOV.L   #_UP_HOLD_STEP2,R4      ;
11527 0000180C 2411              3367             MOV.W   R1,@R4
11528                            3368             M_BRA   SV_UP_HLDCHK_0900
11529 0000180E A012                   M           BRA     SV_UP_HLDCHK_0900
11530 00001810 0009                   M           NOP
11531                            3369     
11532                            3370     ;       =====   反転    =====
11533                                     ***** BEGIN-POOL *****
11534 00001812 0000                       ALIGNMENT CODE
11535 00001814 00000000                   DATA FOR SOURCE-LINE 3361
11536 00001818 00000000                   DATA FOR SOURCE-LINE 3362
11537 0000181C 00000000                   DATA FOR SOURCE-LINE 3364
11538 00001820 00000000                   DATA FOR SOURCE-LINE 3366
11539                                     ***** END-POOL *****
11540 00001824                   3371     SV_UP_HLDCHK_0300:
11541                            3372             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R2
11542 00001824 D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11543 00001826 440B                   M           JSR     @R4                     ;
11544 00001828 0009                   M           NOP                                     ;
11545 0000182A D405              3373             MOV.L   #_UP_HOLD_STEP,R4       ;       //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11546 0000182C 2421              3374             MOV.W   R2,@R4
11547 0000182E D405              3375             MOV.L   #_UP_HOLD_STEP1,R4      ;
11548 00001830 2421              3376             MOV.W   R2,@R4
11549 00001832 D405              3377             MOV.L   #_UP_HOLD_STEP2,R4      ;
11550 00001834 2421              3378             MOV.W   R2,@R4
11551 00001836                   3379     SV_UP_HLDCHK_0900:
11552                            3380     
11553                            3381             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   102
PROGRAM NAME =

11554                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11555 00001836 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11556                            3382             M_RTS
11557 00001838 000B                   M           RTS                             ;RTSの後ろの
11558 0000183A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11559                            3383     
11560                            3384     ;       *******************************************
11561                            3385     ;       ***                                     ***
11562                            3386     ;       ***     以降/時計回転ステップ検索       ***
11563                            3387     ;       ***     以降/反時計回転ステップ検索     ***
11564                            3388     ;       ***                                     ***
11565                            3389     ;       *******************************************
11566                            3390     ;       1,2,3,4,5,6(5段の最終)
11567                            3391     ;       ここでは段数を決定する
11568                            3392     ;       実動作で、角度を判定する
11569                            3393     ;
11570                            3394     ;       待機点を横切る運転はない
11571                            3395     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=3
11572                            3396     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11573                            3397     ;
11574                            3398     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11575                            3399     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=4
11576                            3400     ;
11577                            3401     ;       < つまり >      R1は位置増加(CW/正転:待機点への戻りの方向)
11578                            3402     ;                       R2は位置減少(CCW/逆転:待機点への戻りの方向)
11579                            3403     ;
11580                                     ***** BEGIN-POOL *****
11581 0000183C 00000000                   DATA FOR SOURCE-LINE 3372
11582 00001840 00000000                   DATA FOR SOURCE-LINE 3373
11583 00001844 00000000                   DATA FOR SOURCE-LINE 3375
11584 00001848 00000000                   DATA FOR SOURCE-LINE 3377
11585                                     ***** END-POOL *****
11586 0000184C                   3404             .ALIGN  4
11587 0000184C                   3405     _CW_CCW_ENDSTEP_SERACH:
11588                            3406             SUB_START
11589 0000184C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11590                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11591 0000184E D110              3407             MOV.L   #_SETX_POS_STEP_MAX,R1          ;//設定=1~10(2~11)
11592 00001850 6511              3408             MOV.W   @R1,R5                          ;R5ｶｳﾝﾀ
11593 00001852 7501              3409             ADD     #1,R5                           ;設定+1=MAX
11594 00001854 6153              3410             MOV     R5,R1                           ;MAX-SET
11595 00001856 6253              3411             MOV     R5,R2                           ;MAX-SET
11596 00001858 6053              3412             MOV     R5,R0                           ;
11597 0000185A 70FF              3413             ADD     #-1,R0                          ;
11598 0000185C 4008              3414             SHLL2   R0                              ;*4
11599 0000185E DA0D              3415             MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10     ;
11600 00001860 3A0C              3416             ADD     R0,R10                          ;
11601 00001862 68A2              3417             MOV.L   @R10,R8                         ;最終工程(待機点)
11602 00001864 7AFC              3418             ADD     #-4,R10                         ;
11603 00001866 6053              3419             MOV     R5,R0
11604                            3420     
11605 00001868 233A              3421             XOR     R3,R3                           ;
11606 0000186A 244A              3422             XOR     R4,R4                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   103
PROGRAM NAME =

11607                            3423     
11608 0000186C                   3424     CW_CCW_ESTEP_LOP000:
11609 0000186C 2008              3425             TST     R0,R0                           ;MAX STEP
11610                            3426             TST_BIT_OF CW_CCW_ESTEP_LOPEND          ;
11611 0000186E 8927                   M           BT      CW_CCW_ESTEP_LOPEND
11612                            3427     
11613 00001870 67A2              3428             MOV.L   @R10,R7                         ;
11614 00001872 8801              3429             CMP/EQ  #1,R0                           ;1ｽﾃｯﾌﾟ
11615 00001874 8B01              3430             BF      CW_CCW_ESTEP_LOP050             ;最後? NO
11616 00001876 D508              3431             MOV.L   #_SETX_UPAREA_PLS,R5            ;//4;待機点
11617 00001878 6752              3432             MOV.L   @R5,R7                          ;
11618 0000187A                   3433     CW_CCW_ESTEP_LOP050:                            ;
11619                            3434     
11620                            3435     
11621 0000187A 3870              3436             CMP/EQ  R7,R8                           ;R7(前段)=<R8(現段)
11622 0000187C 8914              3437             BT      CW_CCW_ESTEP_LOP300             ;
11623                            3438     
11624 0000187E 3877              3439             CMP/GT  R7,R8                           ;
11625 00001880 8B0C              3440             BF      CW_CCW_ESTEP_LOP150             ;R7(前段)>=R8(現段)
11626 00001882 E401              3441             MOV     #1,R4                           ;逆転終了
11627                            3442     
11628 00001884 2338              3443             TST     R3,R3                           ;一回でも逆転があったか
11629                            3444             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11630 00001886 8B16                   M           BF      CW_CCW_ESTEP_LOP400
11631                            3445     ;       ===== 正転===
11632 00001888 6103              3446             MOV     R0,R1                           ;
11633                            3447             M_BRA   CW_CCW_ESTEP_LOP400
11634 0000188A A014                   M           BRA     CW_CCW_ESTEP_LOP400
11635 0000188C 0009                   M           NOP
11636                            3448     
11637                                     ***** BEGIN-POOL *****
11638 0000188E 0000                       ALIGNMENT CODE
11639 00001890 00000000                   DATA FOR SOURCE-LINE 3407
11640 00001894 00000000                   DATA FOR SOURCE-LINE 3415
11641 00001898 00000000                   DATA FOR SOURCE-LINE 3431
11642                                     ***** END-POOL *****
11643 0000189C                   3449     CW_CCW_ESTEP_LOP150:                            ;
11644 0000189C E301              3450             MOV     #1,R3                           ;正転終了
11645 0000189E 2448              3451             TST     R4,R4                           ;
11646                            3452             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11647 000018A0 8B09                   M           BF      CW_CCW_ESTEP_LOP400
11648                            3453     ;       ===== 逆転===
11649 000018A2 6203              3454             MOV     R0,R2                           ;
11650                            3455             M_BRA   CW_CCW_ESTEP_LOP400             ;
11651 000018A4 A007                   M           BRA     CW_CCW_ESTEP_LOP400
11652 000018A6 0009                   M           NOP
11653                            3456     
11654                            3457     
11655                            3458     ;       ===== ﾃﾞｰﾀEQU時の処理====
11656                            3459     ;       ===== 前段時の処理 =====
11657 000018A8                   3460     CW_CCW_ESTEP_LOP300:                            ;
11658 000018A8 2338              3461             TST     R3,R3                           ;
11659                            3462             TST_BIT_ON CW_CCW_ESTEP_LOP320          ;
11660 000018AA 8B00                   M           BF      CW_CCW_ESTEP_LOP320
11661                            3463     ;;;     ADD     #-1,R1                          ;
11662 000018AC 6203              3464             MOV     R0,R2                           ;
11663 000018AE                   3465     CW_CCW_ESTEP_LOP320:                            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   104
PROGRAM NAME =

11664                            3466     
11665 000018AE 2448              3467             TST     R4,R4                           ;
11666                            3468             TST_BIT_ON CW_CCW_ESTEP_LOP340          ;
11667 000018B0 8B00                   M           BF      CW_CCW_ESTEP_LOP340
11668                            3469     ;;;     ADD     #-1,R2                          ;
11669 000018B2 6203              3470             MOV     R0,R2                           ;
11670                            3471     
11671 000018B4                   3472     CW_CCW_ESTEP_LOP340:                            ;
11672 000018B4 0009              3473             NOP
11673 000018B6                   3474     CW_CCW_ESTEP_LOP400:                            ;
11674 000018B6 70FF              3475             ADD     #-1,R0                          ;
11675 000018B8 7AFC              3476             ADD     #-4,R10                         ;
11676 000018BA 6873              3477             MOV     R7,R8                           ;入れ替え
11677                            3478             M_BRA   CW_CCW_ESTEP_LOP000             ;
11678 000018BC AFD6                   M           BRA     CW_CCW_ESTEP_LOP000
11679 000018BE 0009                   M           NOP
11680                            3479     
11681 000018C0                   3480     CW_CCW_ESTEP_LOPEND:
11682                            3481             M_BRA   CW_CCW_ESTEPTMCHK_START
11683 000018C0 A000                   M           BRA     CW_CCW_ESTEPTMCHK_START
11684 000018C2 0009                   M           NOP
11685                            3482     
11686                            3483     ;       --------- input R1,R2 OUTPUT R1,R2---------
11687 000018C4                   3484     CW_CCW_ESTEPTMCHK_START:
11688                            3485     ;;;     MOV.L   #_PAR_UPCHK_SEL1,R4             ;
11689 000018C4 D402              3486             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R4     ;2012-03-06
11690 000018C6 6041              3487             MOV.W   @R4,R0                          ;
11691 000018C8 8801              3488             CMP/EQ  #1,R0                           ;
11692 000018CA 8903              3489             BT      CW_CCW_ESTEPTMCHK_010           ;
11693                            3490             M_BRA   CW_CCW_ESTEPTMCHK_LOPEND        ;
11694 000018CC A026                   M           BRA     CW_CCW_ESTEPTMCHK_LOPEND
11695 000018CE 0009                   M           NOP
11696                            3491     
11697                                     ***** BEGIN-POOL *****
11698 000018D0 00000000                   DATA FOR SOURCE-LINE 3486
11699                                     ***** END-POOL *****
11700 000018D4                   3492     CW_CCW_ESTEPTMCHK_010
11701                            3493     
11702                            3494     
11703                            3495     ;       ========== 2011-09-01 r1:これ以降cw,r2:これ以降ccw
11704                            3496     ;タイマ停止があればその工程は上昇ホールドではない
11705                            3497     ;[R1,R2]
11706 000018D4 D40F              3498             MOV.L   #_SETX_POS_STEP_MAX,R4          ;//設定=1~10(2~11)
11707 000018D6 6541              3499             MOV.W   @R4,R5                          ;R5ｶｳﾝﾀ
11708                            3500     
11709 000018D8 7501              3501             ADD     #1,R5                           ;設定+1=MAX
11710 000018DA 6053              3502             MOV     R5,R0                           ;
11711 000018DC D40E              3503             MOV.L   #_SETX_POS_SDAT1_TIM,R4         ;
11712 000018DE 70FE              3504             ADD     #-2,R0                          ;
11713 000018E0 4008              3505             SHLL2   R0                              ;
11714 000018E2 340C              3506             ADD     R0,R4                           ;
11715 000018E4 6053              3507             MOV     R5,R0                           ;R0=2~6,2~11
11716 000018E6 70FF              3508             ADD     #-1,R0                          ;R0=2~5,2~10:　5段目が0以外なら6ｽﾃｯﾌﾟから
11717                            3509     
11718                            3510     
11719 000018E8                   3511     CW_CCW_ESTEPTMCHK_LOP:
11720 000018E8 2008              3512             TST     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   105
PROGRAM NAME =

11721                            3513             TST_BIT_OF CW_CCW_ESTEPTMCHK_LOPEND     ;
11722 000018EA 8917                   M           BT      CW_CCW_ESTEPTMCHK_LOPEND
11723                            3514     
11724 000018EC 6342              3515             MOV.L   @R4,R3                          ;R3:data
11725                            3516     
11726 000018EE 3152              3517             CMP/HS  R5,R1                           ;MAX=< R1 演算不要
11727 000018F0 8905              3518             BT      CW_CCW_ESTEPTMCHK_100           ;
11728 000018F2 3106              3519             CMP/HI  R0,R1                           ;
11729 000018F4 8903              3520             BT      CW_CCW_ESTEPTMCHK_100           ;
11730                            3521     
11731 000018F6 2338              3522             TST     R3,R3                           ;
11732                            3523             TST_BIT_OF CW_CCW_ESTEPTMCHK_100        ;
11733 000018F8 8901                   M           BT      CW_CCW_ESTEPTMCHK_100
11734 000018FA 6103              3524             MOV     R0,R1                           ;
11735 000018FC 7101              3525             ADD     #1,R1                           ;
11736 000018FE                   3526     CW_CCW_ESTEPTMCHK_100:
11737                            3527     
11738                            3528     
11739 000018FE 3252              3529             CMP/HS  R5,R2                           ;MAX=< R2 演算不要
11740 00001900 8903              3530             BT      CW_CCW_ESTEPTMCHK_200           ;
11741 00001902 3206              3531             CMP/HI  R0,R2                           ;
11742 00001904 8901              3532             BT      CW_CCW_ESTEPTMCHK_200           ;
11743                            3533     
11744 00001906 6203              3534             MOV     R0,R2                           ;
11745 00001908 7201              3535             ADD     #1,R2                           ;
11746                            3536     
11747 0000190A                   3537     CW_CCW_ESTEPTMCHK_200:
11748 0000190A 74FC              3538             ADD     #-4,R4                          ;
11749 0000190C 70FF              3539             ADD     #-1,R0                          ;
11750                            3540             M_BRA   CW_CCW_ESTEPTMCHK_LOP           ;
11751 0000190E AFEB                   M           BRA     CW_CCW_ESTEPTMCHK_LOP
11752 00001910 0009                   M           NOP
11753                                     ***** BEGIN-POOL *****
11754 00001912 0000                       ALIGNMENT CODE
11755 00001914 00000000                   DATA FOR SOURCE-LINE 3498
11756 00001918 00000000                   DATA FOR SOURCE-LINE 3503
11757                                     ***** END-POOL *****
11758 0000191C                   3541     CW_CCW_ESTEPTMCHK_LOPEND                ;
11759                            3542             SUB_END
11760                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11761 0000191C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11762                            3543             M_RTS
11763 0000191E 000B                   M           RTS                             ;RTSの後ろの
11764 00001920 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11765                            3544     
11766                            3545     ;       ***********************************
11767                            3546     ;       ***                             ***
11768                            3547     ;       ***     上昇ﾎｰﾙﾄﾞ状態ならﾎｰﾙﾄﾞ  ***
11769                            3548     ;       ***                             ***
11770                            3549     ;       ***                             ***
11771                            3550     ;       ***********************************
11772 00001924                   3551             .ALIGN  4
11773 00001924                   3552     _CTRL_UP_HOLD_CHK:
11774                            3553             SUB_START
11775 00001924 4F22                   M           STS.L   PR,@-R15                ;[必要]
11776                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11777                            3554     ;;2012-03-06    MOV.L   #_INT_POS_CTL_STEP,R5   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   106
PROGRAM NAME =

11778                            3555     ;;2012-03-06    MOV.W   @R5,R0                  ;
11779                            3556     ;;2012-03-06    TST     R0,R0                   ;
11780                            3557     ;;2012-03-06    TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
11781                            3558     ;;2012-03-06    M_BRA   CTRL_UP_HOLD_CK_END     ;
11782                            3559     
11783                            3560     ;ﾃｽﾄﾓｰﾄﾞ中はﾏｽｸ,AUTOにしない
11784 00001926 D105              3561             MOV.L   #_BRKTST_SW_IN,R1               ;2012-03-06
11785 00001928 6011              3562             MOV.W   @R1,R0                          ;2012-03-06
11786 0000192A 2008              3563             TST     R0,R0                           ;2012-03-06
11787                            3564             TST_BIT_ON CTRL_UP_HOLD_CK_STAA         ;2012-03-06EXIT
11788 0000192C 8B03                   M           BF      CTRL_UP_HOLD_CK_STAA
11789                            3565     
11790 0000192E D504              3566             MOV.L   #_INT_POS_CTL_STEP,R5   ;
11791 00001930 6051              3567             MOV.W   @R5,R0                  ;
11792 00001932 2008              3568             TST     R0,R0                   ;
11793                            3569             TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
11794 00001934 8B06                   M           BF      CTRL_UP_HOLD_CK_ST00
11795 00001936                   3570     CTRL_UP_HOLD_CK_STAA:
11796                            3571             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
11797 00001936 A027                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
11798 00001938 0009                   M           NOP
11799                            3572     
11800                            3573     
11801                            3574     
11802                            3575     
11803                            3576     
11804                                     ***** BEGIN-POOL *****
11805 0000193A 0000                       ALIGNMENT CODE
11806 0000193C 00000000                   DATA FOR SOURCE-LINE 3561
11807 00001940 00000000                   DATA FOR SOURCE-LINE 3566
11808                                     ***** END-POOL *****
11809 00001944                   3577     CTRL_UP_HOLD_CK_ST00:
11810 00001944 D102              3578             MOV.L   #_UP_HOLD_FLG,R1        ;       //BIT0=1 上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝ
                                          ﾓｰﾄﾞでこの信号はON/OFFする
11811 00001946 6011              3579             MOV.W   @R1,R0                  ;BIT4(OBJ~待機),BIT5(待機~OBJ)
11812 00001948 C801              3580             TST     #BIT0,R0                ;
11813                            3581             TST_BIT_OF CTRL_UP_HOLD_CK_ST20 ;
11814 0000194A 8903                   M           BT      CTRL_UP_HOLD_CK_ST20
11815                            3582             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
11816 0000194C A01C                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
11817 0000194E 0009                   M           NOP
11818                            3583     
11819                                     ***** BEGIN-POOL *****
11820 00001950 00000000                   DATA FOR SOURCE-LINE 3578
11821                                     ***** END-POOL *****
11822 00001954                   3584     CTRL_UP_HOLD_CK_ST20:
11823                            3585     ;       ===== 一度ｴﾘｱ外にでたかﾁｪｯｸ ======
11824 00001954 D40E              3586             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲
11825 00001956 6041              3587             MOV.W   @R4,R0                          ;
11826 00001958 C810              3588             TST     #BIT4,R0                        ;
11827                            3589             TST_BIT_ON CTRL_UP_HOLD_CK_ST40         ;
11828 0000195A 8B03                   M           BF      CTRL_UP_HOLD_CK_ST40
11829 0000195C D10D              3590             MOV.L   #_UP_HOLD_FLG,R1                ;１回目の運転開始(異常時または1CYCLEND)
11830 0000195E 6011              3591             MOV.W   @R1,R0                          ;
11831 00001960 CB30              3592             OR      #(BIT5+BIT4),R0                 ;
11832 00001962 2101              3593             MOV.W   R0,@R1                          ;
11833 00001964                   3594     CTRL_UP_HOLD_CK_ST40:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   107
PROGRAM NAME =

11834                            3595             FAR_JSR #_UP_HOLD_SIG_MAK,R0
11835 00001964 D00C                   M           MOV.L   #_UP_HOLD_SIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11836 00001966 400B                   M           JSR     @R0                     ;
11837 00001968 0009                   M           NOP                                     ;
11838 0000196A 2008              3596             TST     R0,R0
11839                            3597             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT
11840 0000196C 890C                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
11841                            3598     
11842                            3599     ;;2012-03-06    MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこ
                                          の信号はON/OFFする
11843                            3600     ;;2012-03-06    MOV.W   @R1,R0                  ;
11844                            3601     ;;2012-03-06    OR      #BIT0,R0                ;
11845                            3602     ;;2012-03-06    MOV.W   R0,@R1                  ;
11846                            3603     ;速度がある程度になったらホールドする
11847                            3604     
11848                            3605     ;       ===========================
11849                            3606     ;       ===     2012-03-06      ===
11850                            3607     ;       ===　　速度チェック     ===
11851                            3608     ;       ===========================
11852 0000196E D10B              3609             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
11853 00001970 6011              3610             MOV.W   @R1,R0                          ;
11854 00001972 8801              3611             CMP/EQ  #1,R0                           ;
11855 00001974 8B04              3612             BF      CTRL_UP_HOLD_CK_ST50            ;
11856                            3613     
11857                            3614     ;       -------2012-03-06--------
11858                            3615             FAR_JSR #_UP_HOLD_MASK_SPDCHK,R0        ;
11859 00001976 D00A                   M           MOV.L   #_UP_HOLD_MASK_SPDCHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11860 00001978 400B                   M           JSR     @R0                     ;
11861 0000197A 0009                   M           NOP                                     ;
11862 0000197C 2008              3616             TST     R0,R0                           ;
11863                            3617             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT       ;動作方向でその速度に達していない
11864 0000197E 8903                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
11865                            3618     
11866 00001980                   3619     CTRL_UP_HOLD_CK_ST50:
11867                            3620     
11868 00001980 D104              3621             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
11869 00001982 6011              3622             MOV.W   @R1,R0                  ;
11870 00001984 CB01              3623             OR      #BIT0,R0                ;
11871 00001986 2101              3624             MOV.W   R0,@R1                  ;
11872                            3625     
11873                            3626     
11874                            3627     
11875                            3628     
11876                            3629     
11877                            3630     
11878                            3631     
11879                            3632     
11880 00001988                   3633     CTRL_UP_HOLD_CK_ST_EXT:
11881                            3634     
11882                            3635             SUB_END
11883                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11884 00001988 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11885                            3636             M_RTS
11886 0000198A 000B                   M           RTS                             ;RTSの後ろの
11887 0000198C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11888                            3637     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   108
PROGRAM NAME =

11889                            3638     ;       ***************************************************
11890                            3639     ;       ***                                             ***
11891                            3640     ;       ***     上昇ホールドが相手ＣＰＵが行わないで    ***
11892                            3641     ;       ***     強制停止に向かった                      ***
11893                            3642     ;       ***                                             ***
11894                            3643     ;       ***************************************************
11895                            3644     ;       2015-11-15
11896                            3645     ;; .AIF 1 EQ 1
11897                                     ***** BEGIN-POOL *****
11898 0000198E 0000                       ALIGNMENT CODE
11899 00001990 00000000                   DATA FOR SOURCE-LINE 3586
11900 00001994 00000000                   DATA FOR SOURCE-LINE 3590,3621
11901 00001998 00000000                   DATA FOR SOURCE-LINE 3595
11902 0000199C 00000000                   DATA FOR SOURCE-LINE 3609
11903 000019A0 00000000                   DATA FOR SOURCE-LINE 3615
11904                                     ***** END-POOL *****
11905 000019A4                   3646     _UP_HOLD_MISS
11906                            3647             SUB_START
11907 000019A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
11908                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11909                            3648             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;
11910 000019A6 D004                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11911 000019A8 400B                   M           JSR     @R0                     ;
11912 000019AA 0009                   M           NOP                                     ;
11913                            3649             FAR_JSR #_SFTY_MASK_END,R0      ;(結果としてはﾏｽｸするかもしれない)
11914 000019AC D003                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11915 000019AE 400B                   M           JSR     @R0                     ;
11916 000019B0 0009                   M           NOP                                     ;
11917                            3650     
11918                            3651             SUB_END
11919                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11920 000019B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11921                            3652             M_RTS
11922 000019B4 000B                   M           RTS                             ;RTSの後ろの
11923 000019B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11924                            3653     ;; .AENDI
11925                            3654     
11926                            3655     ;       ***********************************
11927                            3656     ;       ***                             ***
11928                            3657     ;       ***                             ***
11929                            3658     ;       ***                             ***
11930                            3659     ;       ***********************************
11931                            3660     ;
11932                                     ***** BEGIN-POOL *****
11933 000019B8 00000000                   DATA FOR SOURCE-LINE 3648
11934 000019BC 00000000                   DATA FOR SOURCE-LINE 3649
11935                                     ***** END-POOL *****
11936 000019C0                   3661             .ALIGN  4
11937 000019C0                   3662     _UP_HOLD_SIG_MAK:
11938                            3663             SUB_START
11939 000019C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
11940                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11941 000019C2 D50A              3664             MOV.L   #_INT_POS_CTL_STEP,R5   ;
11942 000019C4 6251              3665             MOV.W   @R5,R2                  ;
11943 000019C6 D40A              3666             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11944 000019C8 6541              3667             MOV.W   @R4,R5                  ;
11945 000019CA 3252              3668             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   109
PROGRAM NAME =

11946 000019CC 8B34              3669             BF      CTRL_UP_HOLD_CK_END     ;
11947                            3670     
11948                            3671     ;       ======== ﾁｪｯｸすべき工程だ =======
11949                            3672     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
11950                            3673     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
11951                            3674     ;       --------- [2009-10-07下振子]----
11952 000019CE D409              3675             MOV.L   #_DNM_CTL_INC3600,R4    ;2009-10-07
11953 000019D0 6241              3676             MOV.W   @R4,R2                  ;
11954                            3677     
11955 000019D2 D509              3678             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
11956 000019D4 6151              3679             MOV.W   @R5,R1                  ;START
11957 000019D6 D509              3680             MOV.L   #_SETX_UPAREA_DIG,R5    ;
11958 000019D8 6351              3681             MOV.W   @R5,R3                  ;
11959                            3682             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
11960 000019DA D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11961 000019DC 400B                   M           JSR     @R0                     ;
11962 000019DE 0009                   M           NOP                                     ;
11963                            3683     
11964                            3684     
11965 000019E0 D108              3685             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
11966 000019E2 6011              3686             MOV.W   @R1,R0                                  ;
11967 000019E4 C808              3687             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
11968                            3688             TST_BIT_OF CTRL_UP_HOLD_CK_200                  ;
11969 000019E6 890F                   M           BT      CTRL_UP_HOLD_CK_200
11970                            3689             M_BRA   CTRL_UP_HOLD_CK_400                     ;2009-10-07
11971 000019E8 A018                   M           BRA     CTRL_UP_HOLD_CK_400
11972 000019EA 0009                   M           NOP
11973                            3690     ;;      M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
11974                            3691     
11975                                     ***** BEGIN-POOL *****
11976 000019EC 00000000                   DATA FOR SOURCE-LINE 3664
11977 000019F0 00000000                   DATA FOR SOURCE-LINE 3666
11978 000019F4 00000000                   DATA FOR SOURCE-LINE 3675
11979 000019F8 00000000                   DATA FOR SOURCE-LINE 3678
11980 000019FC 00000000                   DATA FOR SOURCE-LINE 3680
11981 00001A00 00000000                   DATA FOR SOURCE-LINE 3682
11982 00001A04 00000000                   DATA FOR SOURCE-LINE 3685
11983                                     ***** END-POOL *****
11984 00001A08                   3692     CTRL_UP_HOLD_CK_200:
11985 00001A08 C804              3693             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
11986                            3694             TST_BIT_OF CTRL_UP_HOLD_CK_300                  ;
11987 00001A0A 8901                   M           BT      CTRL_UP_HOLD_CK_300
11988                            3695             M_BRA   CTRL_UP_HOLD_CK_400                     ;[2009-10-07下振子]
11989 00001A0C A006                   M           BRA     CTRL_UP_HOLD_CK_400
11990 00001A0E 0009                   M           NOP
11991                            3696     ;;;[2009-10-07下振子]   M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
11992                            3697     
11993 00001A10                   3698     CTRL_UP_HOLD_CK_300:
11994 00001A10 C802              3699             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
11995                            3700             TST_BIT_OF CTRL_UP_HOLD_CK_400                  ;
11996 00001A12 8903                   M           BT      CTRL_UP_HOLD_CK_400
11997                            3701     
11998                            3702     ;       ==== 反転R5=0,-1 ====
11999 00001A14 4515              3703             CMP/PL  R5                                      ;
12000 00001A16 8B0B              3704             BF      CTRL_UP_HOLD_CK_700                     ;成立
12001                            3705             M_BRA   CTRL_UP_HOLD_CK_END                     ;
12002 00001A18 A00E                   M           BRA     CTRL_UP_HOLD_CK_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   110
PROGRAM NAME =

12003 00001A1A 0009                   M           NOP
12004                            3706     
12005 00001A1C                   3707     CTRL_UP_HOLD_CK_400:
12006                            3708     ;       ==== 正転R5=0,1 ====
12007 00001A1C D603              3709             MOV.L   #_UP_HOLD_FLG,R6                ;
12008 00001A1E 6061              3710             MOV.W   @R6,R0                          ;
12009 00001A20 C820              3711             TST     #BIT5,R0                        ;範囲外へ一度いっているか？
12010                            3712             TST_BIT_OF CTRL_UP_HOLD_CK_END
12011 00001A22 8909                   M           BT      CTRL_UP_HOLD_CK_END
12012 00001A24 4511              3713             CMP/PZ  R5
12013 00001A26 8903              3714             BT      CTRL_UP_HOLD_CK_700                     ;成立
12014                            3715             M_BRA   CTRL_UP_HOLD_CK_END                     ;
12015 00001A28 A006                   M           BRA     CTRL_UP_HOLD_CK_END
12016 00001A2A 0009                   M           NOP
12017                                     ***** BEGIN-POOL *****
12018 00001A2C 00000000                   DATA FOR SOURCE-LINE 3709
12019                                     ***** END-POOL *****
12020 00001A30                   3716     CTRL_UP_HOLD_CK_700:
12021                            3717     
12022 00001A30 E0FF              3718             MOV     #-1,R0                  ;
12023                            3719     
12024                            3720             SUB_END
12025                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12026 00001A32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12027                            3721             M_RTS
12028 00001A34 000B                   M           RTS                             ;RTSの後ろの
12029 00001A36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12030                            3722     
12031                            3723     
12032                            3724     
12033 00001A38                   3725     CTRL_UP_HOLD_CK_END:
12034 00001A38 200A              3726             XOR     R0,R0
12035                            3727             SUB_END
12036                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12037 00001A3A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12038                            3728             M_RTS
12039 00001A3C 000B                   M           RTS                             ;RTSの後ろの
12040 00001A3E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12041                            3729     
12042                            3730     
12043                            3731     
12044                            3732     ;       ***********************************
12045                            3733     ;       ***                             ***
12046                            3734     ;       ***     2012-03-06              ***
12047                            3735     ;       ***     　　速度チェック        ***
12048                            3736     ;       ***                             ***
12049                            3737     ;       ***********************************
12050                            3738     ;動作方向にその速度以上になったらホールド・マスクする
12051 00001A40                   3739             .ALIGN  4                               ;
12052 00001A40                   3740     _UP_HOLD_MASK_SPDCHK:
12053                            3741             SUB_START
12054 00001A40 4F22                   M           STS.L   PR,@-R15                ;[必要]
12055                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12056                            3742     
12057 00001A42 D109              3743             MOV.L   #_ENC_PLS_SPD_DIR,R1                                    ;
12058 00001A44 6211              3744             MOV.W   @R1,R2                                                  ;
12059                            3745     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   111
PROGRAM NAME =

12060 00001A46 D109              3746             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12061 00001A48 6011              3747             MOV.W   @R1,R0                                  ;
12062 00001A4A C801              3748             TST     #_DMATH_CNTROT,R0                       ;
12063                            3749             TST_BIT_ON UP_HOLD_MASKSPDCHK_FWD
12064 00001A4C 8B07                   M           BF      UP_HOLD_MASKSPDCHK_FWD
12065                            3750     
12066 00001A4E C802              3751             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12067                            3752             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;
12068 00001A50 8B10                   M           BF      UP_HOLD_MASKSPDCHK_REV
12069                            3753     
12070 00001A52 C804              3754             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH ふりこ
12071                            3755             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;選択されていない
12072 00001A54 891E                   M           BT      UP_HOLD_MASKSPDCHK_NG
12073                            3756     
12074                            3757     ;ふりこ[今往路?復路]
12075 00001A56 D106              3758             MOV.L   #_DNM_DIR_SET_FLG,R1                    ;//
12076 00001A58 6011              3759             MOV.W   @R1,R0                                  ;0:往路
12077 00001A5A 2008              3760             TST     R0,R0                                   ;
12078                            3761             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;1:復路
12079 00001A5C 8B0A                   M           BF      UP_HOLD_MASKSPDCHK_REV
12080                            3762     
12081 00001A5E                   3763     UP_HOLD_MASKSPDCHK_FWD:
12082 00001A5E 2228              3764             TST     R2,R2                                   ;
12083                            3765             TST_BIT_ON UP_HOLD_MASKSPDCHK_NG                ;逆回転 EXIT
12084 00001A60 8B18                   M           BF      UP_HOLD_MASKSPDCHK_NG
12085                            3766             M_BRA   UP_HOLD_MASKSPDCHK_COM                  ;
12086 00001A62 A009                   M           BRA     UP_HOLD_MASKSPDCHK_COM
12087 00001A64 0009                   M           NOP
12088                            3767     
12089                                     ***** BEGIN-POOL *****
12090 00001A66 0000                       ALIGNMENT CODE
12091 00001A68 00000000                   DATA FOR SOURCE-LINE 3743
12092 00001A6C 00000000                   DATA FOR SOURCE-LINE 3746
12093 00001A70 00000000                   DATA FOR SOURCE-LINE 3758
12094                                     ***** END-POOL *****
12095 00001A74                   3768     UP_HOLD_MASKSPDCHK_REV:
12096 00001A74 2228              3769             TST     R2,R2                                   ;
12097                            3770             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;正回転 EXIT
12098 00001A76 890D                   M           BT      UP_HOLD_MASKSPDCHK_NG
12099                            3771     
12100 00001A78                   3772     UP_HOLD_MASKSPDCHK_COM:
12101                            3773     
12102                            3774     
12103                            3775     
12104 00001A78 D104              3776             MOV.L   #(_PAR_UPMASK_SPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
12105 00001A7A 6211              3777             MOV.W   @R1,R2                                                  ;
12106 00001A7C D104              3778             MOV.L   #_PV_ENC_SPD_PER,R1                                     ;
12107 00001A7E 6311              3779             MOV.W   @R1,R3                                                  ;
12108 00001A80 3323              3780             CMP/GE  R2,R3                                                   ;R2=<R3[PV]
12109 00001A82 8B07              3781             BF      UP_HOLD_MASKSPDCHK_NG
12110                            3782     ;       ------------------------------------------------------------------
12111                            3783     ;       ---回転では+方向
12112                            3784     ;       ---反転では-方向
12113                            3785     ;       ---ふりこ往路では+方向
12114                            3786     ;       ---ふりこ復路では-方向
12115                            3787     ;       ---ブレーキテストでは
12116                            3788     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   112
PROGRAM NAME =

12117 00001A84                   3789     UP_HOLD_MASKSPDCHK_STR:
12118 00001A84 E001              3790             MOV.B   #1,R0
12119                            3791             M_BRA   UP_HOLD_MASKSPDCHK_END
12120 00001A86 A006                   M           BRA     UP_HOLD_MASKSPDCHK_END
12121 00001A88 0009                   M           NOP
12122                            3792     
12123                                     ***** BEGIN-POOL *****
12124 00001A8A 0000                       ALIGNMENT CODE
12125 00001A8C 00000000                   DATA FOR SOURCE-LINE 3776
12126 00001A90 00000000                   DATA FOR SOURCE-LINE 3778
12127                                     ***** END-POOL *****
12128 00001A94                   3793     UP_HOLD_MASKSPDCHK_NG:
12129 00001A94 200A              3794             XOR     R0,R0
12130 00001A96                   3795     UP_HOLD_MASKSPDCHK_END
12131                            3796     
12132                            3797             SUB_END
12133                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12134 00001A96 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12135                            3798             M_RTS
12136 00001A98 000B                   M           RTS                             ;RTSの後ろの
12137 00001A9A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12138                            3799     
12139                            3800     
12140                            3801     ;       ===================================
12141                            3802     ;       ===     上昇ﾎｰﾙﾄﾞ無効出力       ===
12142                            3803     ;       ===================================
12143 00001A9C                   3804     _UP_HOLD_AREA_MASK:
12144                            3805             SUB_START
12145 00001A9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12146                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12147 00001A9E D10D              3806             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12148 00001AA0 6011              3807             MOV.W   @R1,R0                  ;
12149 00001AA2 C802              3808             TST     #BIT1,R0                ;
12150                            3809             TST_BIT_ON UP_HOLD_ARA_MASK500  ;既に終了
12151 00001AA4 8B12                   M           BF      UP_HOLD_ARA_MASK500
12152 00001AA6 C801              3810             TST     #BIT0,R0                ;ﾎｰﾙﾄﾞ状態か
12153                            3811             TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12154 00001AA8 8910                   M           BT      UP_HOLD_ARA_MASK500
12155                            3812     
12156                            3813     ;       === 上昇無効仕様か ===
12157                            3814     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
12158                            3815     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.W   @R1,R0                  ;28.2
12159                            3816     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST     #BIT2,R0                ;
12160                            3817     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12161                            3818     
12162                            3819     
12163                            3820     ;       ---2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]--
12164                            3821     ;;;     FAR_JSR #_OPT_SFTY_MASK_CHK,R0  ;
12165                            3822     ;;;     TST     R0,R0                           ;
12166                            3823     ;;;;    TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12167                            3824     
12168                            3825             FAR_JSR #_OPT_SGL_SFTY_MASK_CHK,R0      ;
12169 00001AAA D00B                   M           MOV.L   #_OPT_SGL_SFTY_MASK_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12170 00001AAC 400B                   M           JSR     @R0                     ;
12171 00001AAE 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   113
PROGRAM NAME =

12172 00001AB0 2008              3826             TST     R0,R0                           ;R0=-1　上昇無効にしない
12173                            3827             TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12174 00001AB2 8B0B                   M           BF      UP_HOLD_ARA_MASK500
12175                            3828                                                     ;・作業一行程、一行程は待機点２ＳＷに従う
12176                            3829     
12177                            3830     
12178                            3831     ;;;;2013-02-20 振子・反転とも上昇ホールド＋マスク有り
12179                            3832     ;;;;2013-02-20 ;        ----2011-09-06 振り子と反転は　上昇ホールドはするが上昇無効にはし
                                          ない
12180                            3833     ;;;;2013-02-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12181                            3834     ;;;;2013-02-20  MOV.W   @R1,R0                                  ;
12182                            3835     ;;;;2013-02-20  TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12183                            3836     ;;;;2013-02-20  TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12184                            3837     ;;;;反転がマスクはされているが遮光停止するのはなぜ？
12185                            3838     
12186                            3839     
12187                            3840     ;       ====== 2013-02-23 やっぱり　ふりこと反転は　マスクする、しないを切り替える
12188 00001AB4 D109              3841             MOV.L   #_UPMSK2_DRVSEL,R1                      ;//2013-02-23
12189 00001AB6 6011              3842             MOV.W   @R1,R0                                  ;0:反転,ふりこを上昇無効にしない
12190 00001AB8 2008              3843             TST     R0,R0                                   ;
12191                            3844             TST_BIT_ON UP_HOLD_ARA_MASK480                  ;1の場合見なくする
12192 00001ABA 8B03                   M           BF      UP_HOLD_ARA_MASK480
12193                            3845     ;       -------------------------------------------------------------------
12194                            3846     
12195 00001ABC D108              3847             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12196 00001ABE 6011              3848             MOV.W   @R1,R0                                  ;
12197 00001AC0 C806              3849             TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12198                            3850             TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12199 00001AC2 8B03                   M           BF      UP_HOLD_ARA_MASK500
12200                            3851     
12201                            3852     
12202 00001AC4                   3853     UP_HOLD_ARA_MASK480:
12203                            3854     
12204                            3855     ;       ======= このフラグをONすれば上昇ﾎｰﾙﾄﾞ+速度条件でﾏｽｸ===-
12205 00001AC4 D103              3856             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12206 00001AC6 6011              3857             MOV.W   @R1,R0                  ;
12207 00001AC8 CB02              3858             OR      #BIT1,R0                ;
12208 00001ACA 2101              3859             MOV.W   R0,@R1                  ;
12209                            3860     
12210                            3861     
12211 00001ACC                   3862     UP_HOLD_ARA_MASK500:
12212                            3863     
12213                            3864             SUB_END
12214                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12215 00001ACC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12216                            3865             M_RTS
12217 00001ACE 000B                   M           RTS                             ;RTSの後ろの
12218 00001AD0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12219                            3866     
12220                            3867     
12221                            3868     
12222                                     ***** BEGIN-POOL *****
12223 00001AD2 0000                       ALIGNMENT CODE
12224 00001AD4 00000000                   DATA FOR SOURCE-LINE 3806,3856
12225 00001AD8 00000000                   DATA FOR SOURCE-LINE 3825
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   114
PROGRAM NAME =

12226 00001ADC 00000000                   DATA FOR SOURCE-LINE 3841
12227 00001AE0 00000000                   DATA FOR SOURCE-LINE 3847
12228                                     ***** END-POOL *****
12229 00001AE4                   3869     _UP_HOLD_FLG_CLR1:
12230                            3870             SUB_START
12231 00001AE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
12232                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12233 00001AE6 D103              3871             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ信号(手放し自動、上昇無効出力用)
12234 00001AE8 6011              3872             MOV.W   @R1,R0                  ;
12235 00001AEA C9FC              3873             AND     #LOW ~(BIT1+BIT0),R0    ;(ここでOFFする必要があるのか？)
12236 00001AEC 2101              3874             MOV.W   R0,@R1                  ;
12237                            3875             SUB_END
12238                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12239 00001AEE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12240                            3876             M_RTS
12241 00001AF0 000B                   M           RTS                             ;RTSの後ろの
12242 00001AF2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12243                            3877     
12244                                     ***** BEGIN-POOL *****
12245 00001AF4 00000000                   DATA FOR SOURCE-LINE 3871
12246                                     ***** END-POOL *****
12247 00001AF8                   3878     _UP_HOLD_FLG_CLR2:
12248                            3879             SUB_START
12249 00001AF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
12250                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12251 00001AFA D103              3880             MOV.L   #_UP_HOLD_FLG,R1        ;１回目の運転開始(異常時または1CYCLEND)
12252 00001AFC 6011              3881             MOV.W   @R1,R0                  ;
12253 00001AFE C9CF              3882             AND     #LOW ~(BIT5+BIT4),R0    ;
12254 00001B00 2101              3883             MOV.W   R0,@R1                  ;
12255                            3884             SUB_END
12256                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12257 00001B02 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12258                            3885             M_RTS
12259 00001B04 000B                   M           RTS                             ;RTSの後ろの
12260 00001B06 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12261                            3886     
12262                            3887     
12263                            3888     
12264                            3889     
12265                            3890     
12266                            3891     
12267                            3892     
12268                            3893     
12269                            3894     ;       ***************************************************
12270                            3895     ;       ***                                             ***
12271                            3896     ;       ***     ミューテングの定義変更                  ***
12272                            3897     ;       ***     2012-09-25                              ***
12273                            3898     ;       ***     準備完了・未完了中も急停止にする        ***
12274                            3899     ;       ***                                             ***
12275                            3900     ;       ***************************************************
12276                            3901     ;;;2013-02-23 不要      .ALIGN  4                               ;
12277                            3902     ;;;2013-02-23 不要_SFTY_MASK_ST_NOT_DRV:
12278                            3903     ;;;2013-02-23 不要      SUB_START
12279                            3904     ;;;2013-02-23 不要
12280                            3905     ;;;2013-02-23 不要;     ======== 2013-02-20[SEQ349.9] ====
12281                            3906     ;;;2013-02-23 不要      MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃ
                                          ﾝｸﾞ無効)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   115
PROGRAM NAME =

12282                            3907     ;;;2013-02-23 不要      MOV.W   @R1,R0                          ;
12283                            3908     ;;;2013-02-23 不要      CMP/EQ  #1,R0                           ;
12284                            3909     ;;;2013-02-23 不要      BT      SFTY_MASK_ST_NOTDRV100          ;
12285                            3910     ;;;2013-02-23 不要
12286                            3911     ;;;2013-02-23 不要
12287                            3912     ;;;2013-02-23 不要;;;2012-10-15 MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照
                                          しない 1:参照する
12288                            3913     ;;;2013-02-23 不要      MOV.L   #_UPMSK2_MATH,R1                        ;//0:参照しない 1:
                                          参照する
12289                            3914     ;;;2013-02-23 不要      MOV.W   @R1,R0                                  ;
12290                            3915     ;;;2013-02-23 不要      TST     R0,R0                                   ;
12291                            3916     ;;;2013-02-23 不要      TST_BIT_ON SFTY_MASK_ST_NOTDRV100               ;
12292                            3917     ;;;2013-02-23 不要
12293                            3918     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12294                            3919     ;;;2013-02-23 不要
12295                            3920     ;;;2013-02-23 不要      M_BRA   SFTY_MASK_ST_NOTDRV500
12296                            3921     ;;;2013-02-23 不要
12297                            3922     ;;;2013-02-23 不要
12298                            3923     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV100:
12299                            3924     ;;;2013-02-23 不要
12300                            3925     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_END,R0                      ;
12301                            3926     ;;;2013-02-23 不要
12302                            3927     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV500:                                       ;
12303                            3928     ;;;2013-02-23 不要
12304                            3929     ;;;2013-02-23 不要      SUB_END
12305                            3930     ;;;2013-02-23 不要      M_RTS
12306                            3931     
12307                            3932     
12308                            3933     ;       ***********************************
12309                            3934     ;       ***                             ***
12310                            3935     ;       ***     停止中のマスク          ***
12311                            3936     ;       ***                             ***
12312                            3937     ;       ***********************************
12313                            3938     ;       ***************************
12314                            3939     ;       ***     2013-02-23      ***
12315                            3940     ;       ***************************
12316                            3941     ;       上昇無効が有効/無効
12317                            3942     ;       SWが有効で,SWがONか?
12318                            3943     ;
12319                            3944     ;
12320                                     ***** BEGIN-POOL *****
12321 00001B08 00000000                   DATA FOR SOURCE-LINE 3880
12322                                     ***** END-POOL *****
12323 00001B0C                   3945     _NEWMASK_SEL_STOPMSK
12324                            3946             SUB_START                               ;
12325 00001B0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12326                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12327                            3947     
12328                            3948     ;       ======== 2013-02-20[SEQ349.9] ====
12329 00001B0E D10A              3949             MOV.L   #_MYUTING_MOD_STOPSEL,R1                ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12330 00001B10 6011              3950             MOV.W   @R1,R0                                  ;
12331 00001B12 8801              3951             CMP/EQ  #1,R0                                   ;
12332 00001B14 890B              3952             BT      NEWMASK_SELSTOPCHK400                   ;
12333                            3953     
12334                            3954     ;       ----------------------------------
12335 00001B16 D109              3955             MOV.L   #_UPMSK2_MATH,R1                ;[0:停止中はﾏｽｸ固定],[1:停止中はﾏｽｸする/し
                                          ないをSWで決定]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   116
PROGRAM NAME =

12336 00001B18 6011              3956             MOV.W   @R1,R0                          ;
12337 00001B1A 2008              3957             TST     R0,R0                           ;
12338                            3958             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12339 00001B1C 8916                   M           BT      NEWMASK_SELSTOPCHK500
12340                            3959     
12341 00001B1E D108              3960             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない:1:参照する
12342 00001B20 6011              3961             MOV.W   @R1,R0                          ;
12343 00001B22 2008              3962             TST     R0,R0                           ;
12344                            3963             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12345 00001B24 8912                   M           BT      NEWMASK_SELSTOPCHK500
12346                            3964     
12347 00001B26 D107              3965             MOV.L   #_UPMAK2_MOD_USE_SW,R1          ;
12348 00001B28 6011              3966             MOV.W   @R1,R0                          ;
12349 00001B2A 2008              3967             TST     R0,R0
12350                            3968             TST_BIT_ON NEWMASK_SELSTOPCHK500        ;上昇無効にする
12351 00001B2C 8B0E                   M           BF      NEWMASK_SELSTOPCHK500
12352                            3969     
12353                            3970     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にしない----
12354 00001B2E                   3971     NEWMASK_SELSTOPCHK400
12355                            3972             FAR_JSR #_SFTY_MASK_END,R0                      ;
12356 00001B2E D006                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12357 00001B30 400B                   M           JSR     @R0                     ;
12358 00001B32 0009                   M           NOP                                     ;
12359                            3973             M_BRA   NEWMASK_SELSTOPCHKEND
12360 00001B34 A00D                   M           BRA     NEWMASK_SELSTOPCHKEND
12361 00001B36 0009                   M           NOP
12362                            3974     
12363                            3975     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にする----
12364                                     ***** BEGIN-POOL *****
12365 00001B38 00000000                   DATA FOR SOURCE-LINE 3949
12366 00001B3C 00000000                   DATA FOR SOURCE-LINE 3955
12367 00001B40 00000000                   DATA FOR SOURCE-LINE 3960
12368 00001B44 00000000                   DATA FOR SOURCE-LINE 3965
12369 00001B48 00000000                   DATA FOR SOURCE-LINE 3972
12370                                     ***** END-POOL *****
12371 00001B4C                   3976     NEWMASK_SELSTOPCHK500
12372                            3977             FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12373 00001B4C D002                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12374 00001B4E 400B                   M           JSR     @R0                     ;
12375 00001B50 0009                   M           NOP                                     ;
12376 00001B52                   3978     NEWMASK_SELSTOPCHKEND
12377                            3979     
12378                            3980     
12379                            3981             SUB_END
12380                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12381 00001B52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12382                            3982             M_RTS
12383 00001B54 000B                   M           RTS                             ;RTSの後ろの
12384 00001B56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12385                            3983     
12386                            3984     
12387                            3985     ;       ***********************************
12388                            3986     ;       ***     動作上ﾏｽｸしたい         ***
12389                            3987     ;       ***     上昇無効,運転終了       ***
12390                            3988     ;       ***********************************
12391                                     ***** BEGIN-POOL *****
12392 00001B58 00000000                   DATA FOR SOURCE-LINE 3977
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   117
PROGRAM NAME =

12393                                     ***** END-POOL *****
12394 00001B5C                   3989     _SFTY_MASK_START:
12395                            3990             SUB_START
12396 00001B5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12397                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12398 00001B5E D105              3991             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12399 00001B60 6011              3992             MOV.W   @R1,R0                  ;
12400 00001B62 CB03              3993             OR      #(BIT1+BIT0),R0         ;
12401 00001B64 2101              3994             MOV.W   R0,@R1                  ;
12402                            3995             FAR_JSR #_FRCYCL_OF,R0          ;
12403 00001B66 D004                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12404 00001B68 400B                   M           JSR     @R0                     ;
12405 00001B6A 0009                   M           NOP                                     ;
12406                            3996             SUB_END
12407                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12408 00001B6C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12409                            3997             M_RTS
12410 00001B6E 000B                   M           RTS                             ;RTSの後ろの
12411 00001B70 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12412                            3998     
12413                            3999     ;       ***********************************
12414                            4000     ;       ***     動作上ﾏｽｸやめたい       ***
12415                            4001     ;       ***     起動時                  ***
12416                            4002     ;       ***********************************
12417                                     ***** BEGIN-POOL *****
12418 00001B72 0000                       ALIGNMENT CODE
12419 00001B74 00000000                   DATA FOR SOURCE-LINE 3991
12420 00001B78 00000000                   DATA FOR SOURCE-LINE 3995
12421                                     ***** END-POOL *****
12422 00001B7C                   4003     _SFTY_MASK_END:
12423                            4004             SUB_START
12424 00001B7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12425                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12426 00001B7E D104              4005             MOV.L   #_SW_DEV_MASK_FLG,R1    ;//BIT1=BIT0=0 安全装置無効  BIT1=BIT0=1 安全装置
                                          有効
12427 00001B80 6011              4006             MOV.W   @R1,R0                  ;
12428 00001B82 C803              4007             TST     #(BIT1+BIT0),R0         ;
12429                            4008             TST_BIT_ON SFTY_MASK_ED_100     ;
12430 00001B84 8B08                   M           BF      SFTY_MASK_ED_100
12431                            4009             FAR_JSR #_SFTY_MASK_START,R0    ;
12432 00001B86 D003                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12433 00001B88 400B                   M           JSR     @R0                     ;
12434 00001B8A 0009                   M           NOP                                     ;
12435                            4010             M_BRA   SFTY_MASK_ED_200        ;
12436 00001B8C A00B                   M           BRA     SFTY_MASK_ED_200
12437 00001B8E 0009                   M           NOP
12438                            4011     
12439                                     ***** BEGIN-POOL *****
12440 00001B90 00000000                   DATA FOR SOURCE-LINE 4005
12441 00001B94 00000000                   DATA FOR SOURCE-LINE 4009
12442                                     ***** END-POOL *****
12443 00001B98                   4012     SFTY_MASK_ED_100:
12444 00001B98 D104              4013             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12445 00001B9A 6011              4014             MOV.W   @R1,R0                  ;
12446 00001B9C C9FC              4015             AND     #LOW ~(BIT1+BIT0),R0    ;
12447 00001B9E 2101              4016             MOV.W   R0,@R1                  ;
12448                            4017             FAR_JSR #_FRCYCL_ON,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   118
PROGRAM NAME =

12449 00001BA0 D003                   M           MOV.L   #_FRCYCL_ON,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12450 00001BA2 400B                   M           JSR     @R0                     ;
12451 00001BA4 0009                   M           NOP                                     ;
12452 00001BA6                   4018     SFTY_MASK_ED_200:
12453                            4019             SUB_END
12454                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12455 00001BA6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12456                            4020             M_RTS
12457 00001BA8 000B                   M           RTS                             ;RTSの後ろの
12458 00001BAA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12459                            4021     
12460                            4022     
12461                            4023     
12462                            4024     
12463                            4025     
12464                            4026     
12465                            4027     
12466                            4028     
12467                            4029     
12468                            4030     
12469                            4031     ;       *******************************************************************
12470                            4032     ;       ***                                                             ***
12471                            4033     ;       ***     2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]     ***
12472                            4034     ;       ***                                                             ***
12473                            4035     ;       *******************************************************************
12474                            4036     ;       ANS R0=0
12475                            4037     ;       ANS R0=-1 (上昇無効にしない)
12476                            4038     ;;_OPT_SFTY_MASK_CHK:
12477                            4039     ;;      SUB_START
12478                            4040     ;;      XOR     R2,R2                   ;
12479                            4041     ;;
12480                            4042     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
12481                            4043     ;;      MOV.W   @R1,R0                          ;
12482                            4044     ;;      TST     #_W1OPT,R0                      ;OPTION?
12483                            4045     ;;      TST_BIT_OF OPT_SFTY_MASKCHK_100         ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12484                            4046     ;;
12485                            4047     ;;      MOV.L   #_MODE_SEL,R1                   ;
12486                            4048     ;;      MOV.W   @R1,R0                          ;
12487                            4049     ;;      MOV.W   #BIT10,R1                       ;
12488                            4050     ;;      TST     R1,R0                           ;
12489                            4051     ;;      TST_BIT_ON OPT_SFTY_MASKCHK_100         ;ON:一行程
12490                            4052     ;;
12491                            4053     ;;      ---ｵﾌﾟｼｮﾝの安全一行程--
12492                            4054     ;;      MOV.L   #_WPAR_SFYOPT_USEL,R1           ;
12493                            4055     ;;      MOV.W   @R1,R0                          ;
12494                            4056     ;;      CMP/EQ  #1,R0                           ;
12495                            4057     ;;      BF      OPT_SFTY_MASKCHK_100            ;
12496                            4058     ;;
12497                            4059     ;;      MOV.B   #-1,R2                          ;
12498                            4060     ;;
12499                            4061     ;;OPT_SFTY_MASKCHK_100:
12500                            4062     ;;      MOV     R2,R0
12501                            4063     ;;      SUB_END
12502                            4064     ;;      M_RTS
12503                            4065     
12504                            4066     ;       ***************************************************************************
12505                            4067     ;       ***                                                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   119
PROGRAM NAME =

12506                            4068     ;       ***     2012-09-25                                                      ***
12507                            4069     ;       ***     [ｵﾌﾟｼｮﾝの安全一行程はｼｽﾊﾟﾗの指示に従い上昇無効にする/しない]    ***
12508                            4070     ;       ***                                                                     ***
12509                            4071     ;       ***************************************************************************
12510                            4072     ;       ANS R0=0:上昇無効にする,-1:上昇無効にしない
12511                                     ***** BEGIN-POOL *****
12512 00001BAC 00000000                   DATA FOR SOURCE-LINE 4013
12513 00001BB0 00000000                   DATA FOR SOURCE-LINE 4017
12514                                     ***** END-POOL *****
12515 00001BB4                   4073             .ALIGN  4                               ;
12516 00001BB4                   4074     _OPT_SGL_SFTY_MASK_CHK:
12517                            4075             SUB_START
12518 00001BB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
12519                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12520 00001BB6 222A              4076             XOR     R2,R2                   ;
12521                            4077     
12522                            4078     ;       ======== 2013-02-20[SEQ349.9] ====
12523 00001BB8 D10B              4079             MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12524 00001BBA 6011              4080             MOV.W   @R1,R0                          ;
12525 00001BBC 8801              4081             CMP/EQ  #1,R0                           ;
12526 00001BBE 8936              4082             BT      OPT_SGL_SFTY_MASKCHK_500        ;
12527                            4083     
12528                            4084     
12529 00001BC0 D10A              4085             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
12530 00001BC2 6011              4086             MOV.W   @R1,R0                          ;28.2
12531 00001BC4 C804              4087             TST     #BIT2,R0                        ;
12532                            4088             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;
12533 00001BC6 8932                   M           BT      OPT_SGL_SFTY_MASKCHK_500
12534                            4089     
12535                            4090     
12536 00001BC8 D109              4091             MOV.L   #_di1_cb_ctl1_dt,R1             ;
12537 00001BCA 6011              4092             MOV.W   @R1,R0                          ;
12538 00001BCC C810              4093             TST     #_W1OPT,R0                      ;OPTION?
12539                            4094             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_100     ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12540 00001BCE 891D                   M           BT      OPT_SGL_SFTY_MASKCHK_100
12541                            4095     
12542 00001BD0 D108              4096             MOV.L   #_MODE_SEL,R1                   ;
12543 00001BD2 6011              4097             MOV.W   @R1,R0                          ;
12544 00001BD4 9107              4098             MOV.W   #BIT10,R1                       ;
12545 00001BD6 2018              4099             TST     R1,R0                           ;
12546                            4100             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_080     ;ON:一行程　2012-09-25
12547 00001BD8 8B10                   M           BF      OPT_SGL_SFTY_MASKCHK_080
12548                            4101     ;;;;;;  TST_BIT_ON OPT_SGL_SFTY_MASKCHK_100     ;ON:一行程
12549                            4102     
12550                            4103     ;       ---ｵﾌﾟｼｮﾝの安全一行程--
12551 00001BDA D107              4104             MOV.L   #_WPAR_SFYOPT_USEL,R1           ;PARAM66
12552 00001BDC 6011              4105             MOV.W   @R1,R0                          ;
12553 00001BDE 8801              4106             CMP/EQ  #1,R0                           ;
12554 00001BE0 8925              4107             BT      OPT_SGL_SFTY_MASKCHK_500        ;1:上昇無効にしない
12555                            4108             M_BRA   OPT_SGL_SFTY_MASKCHK_400        ;0,2上昇無効にする
12556 00001BE2 A021                   M           BRA     OPT_SGL_SFTY_MASKCHK_400
12557 00001BE4 0009                   M           NOP
12558                            4109     
12559                            4110     ;       --------一行程[新ﾓｰﾄﾞでは上昇無効にしない]---
12560                                     ***** BEGIN-POOL *****
12561 00001BE6 0400                       DATA FOR SOURCE-LINE 4098
12562 00001BE8 00000000                   DATA FOR SOURCE-LINE 4079
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   120
PROGRAM NAME =

12563 00001BEC 00000000                   DATA FOR SOURCE-LINE 4085
12564 00001BF0 00000000                   DATA FOR SOURCE-LINE 4091
12565 00001BF4 00000000                   DATA FOR SOURCE-LINE 4096
12566 00001BF8 00000000                   DATA FOR SOURCE-LINE 4104
12567                                     ***** END-POOL *****
12568 00001BFC                   4111     OPT_SGL_SFTY_MASKCHK_080:
12569                            4112     ;;;;2012-10-15  MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:参照する
12570                            4113     ;;;;2013-08-20  MOV.L   #_UPMSK2_MATH,R1                ;//0: 1:
12571                            4114     
12572 00001BFC D102              4115             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない[旧ﾓｰﾄﾞ] 1:参照する 2013-08
                                          -20
12573 00001BFE 6011              4116             MOV.W   @R1,R0                          ;
12574 00001C00 2008              4117             TST     R0,R0                           ;
12575                            4118             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12576 00001C02 8911                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12577                            4119             M_BRA   OPT_SGL_SFTY_MASKCHK_500        ;
12578 00001C04 A013                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12579 00001C06 0009                   M           NOP
12580                            4120     
12581                            4121     
12582                            4122     ;       ======== 通常の安全一行程の条件(GAMEN-SWは上昇無効有り)===
12583                                     ***** BEGIN-POOL *****
12584 00001C08 00000000                   DATA FOR SOURCE-LINE 4115
12585                                     ***** END-POOL *****
12586 00001C0C                   4123     OPT_SGL_SFTY_MASKCHK_100:
12587                            4124     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MATH,R1                ;//0:参照しない 1:
                                          参照する
12588                            4125     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12589                            4126     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12590                            4127     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12591                            4128     ;;;;;;;;;;;;;;2013-08-20
12592                            4129     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:
                                          参照する
12593                            4130     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12594                            4131     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12595                            4132     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;2012-10-15
12596                            4133     ;;;;;;;;;;;;;;2013-08-20
12597                            4134     ;;;;;;;;;;;;;;2013-08-20;;;;2012-10-15  TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までど
                                          おりする
12598                            4135     
12599                            4136     ;       ===2013-08-20 SWを使用しない場合は 旧動作(上昇無効にする)==
12600 00001C0C D104              4137             MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照しない 1:参照する
12601 00001C0E 6011              4138             MOV.W   @R1,R0                                  ;
12602 00001C10 2008              4139             TST     R0,R0                                   ;
12603                            4140             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400             ;今までどおりする
12604 00001C12 8909                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12605                            4141     
12606 00001C14 D103              4142             MOV.L   #_UPMAK2_MOD_USE_SW,R1                  ;
12607 00001C16 6011              4143             MOV.W   @R1,R0                                  ;
12608 00001C18 2008              4144             TST     R0,R0
12609                            4145             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_400             ;ON する
12610 00001C1A 8B05                   M           BF      OPT_SGL_SFTY_MASKCHK_400
12611                            4146             M_BRA   OPT_SGL_SFTY_MASKCHK_500                ;しない
12612 00001C1C A007                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12613 00001C1E 0009                   M           NOP
12614                            4147     
12615                            4148     ;       ----------上昇無効にする----
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   121
PROGRAM NAME =

12616                                     ***** BEGIN-POOL *****
12617 00001C20 00000000                   DATA FOR SOURCE-LINE 4137
12618 00001C24 00000000                   DATA FOR SOURCE-LINE 4142
12619                                     ***** END-POOL *****
12620 00001C28                   4149     OPT_SGL_SFTY_MASKCHK_400:
12621 00001C28 222A              4150             XOR     R2,R2
12622                            4151             M_BRA   OPT_SGL_SFTY_MASKCHK_END
12623 00001C2A A001                   M           BRA     OPT_SGL_SFTY_MASKCHK_END
12624 00001C2C 0009                   M           NOP
12625                            4152     
12626                            4153     ;       ---------しない----
12627 00001C2E                   4154     OPT_SGL_SFTY_MASKCHK_500:
12628 00001C2E E2FF              4155             MOV.B   #-1,R2                          ;
12629 00001C30                   4156     OPT_SGL_SFTY_MASKCHK_END:
12630 00001C30 6023              4157             MOV     R2,R0
12631                            4158     
12632                            4159             SUB_END
12633                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12634 00001C32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12635                            4160             M_RTS
12636 00001C34 000B                   M           RTS                             ;RTSの後ろの
12637 00001C36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12638                            4161     
12639                            4162     
12640                            4163     
12641                            4164     
12642                            4165     
12643                            4166     
12644                            4167     
12645                            4168     
12646                            4169     
12647                            4170     ;       ***********************************
12648                            4171     ;       ***     ロットカウント処理      ***
12649                            4172     ;       ***********************************
12650                            4173     ;
12651                            4174     ;
12652                            4175     ;       <待機点内->待機点外>
12653                            4176             .IMPORT _LOT_SIG_SET            ;
12654 00001C38                   4177     _LOT_CNT_CNT:
12655                            4178             SUB_START
12656 00001C38 4F22                   M           STS.L   PR,@-R15                ;[必要]
12657                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12658                            4179     
12659                            4180     ;       ====待機点復帰はロットカウンタをカウントしない S00ejの2回目===
12660 00001C3A D105              4181             MOV.L   #_MODE_SEL,R1           ;
12661 00001C3C 6011              4182             MOV.W   @R1,R0                  ;
12662 00001C3E C860              4183             TST     #(_W1DUP+_W1DIC),R0     ;TST #_W1DUP 原点復帰と段取はｶｳﾝﾄしない 2003-07-01
12663                            4184             TST_BIT_ON LOT_CNTCNT_200       ;原点時はｶｳﾝﾄしない
12664 00001C40 8B2B                   M           BF      LOT_CNTCNT_200
12665                            4185     
12666 00001C42 D104              4186             MOV.L   #_LOT_CHK_FLG,R1        ;
12667 00001C44 6011              4187             MOV.W   @R1,R0                  ;
12668 00001C46 C911              4188             AND     #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12669 00001C48 8811              4189             CMP/EQ  #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12670 00001C4A 8905              4190             BT      LOT_CNTCNT_050          ;下降領域に入った
12671                            4191             M_BRA   LOT_CNTCNT_200          ;
12672 00001C4C A025                   M           BRA     LOT_CNTCNT_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   122
PROGRAM NAME =

12673 00001C4E 0009                   M           NOP
12674                            4192     
12675                            4193     
12676                                     ***** BEGIN-POOL *****
12677 00001C50 00000000                   DATA FOR SOURCE-LINE 4181
12678 00001C54 00000000                   DATA FOR SOURCE-LINE 4186
12679                                     ***** END-POOL *****
12680 00001C58                   4194     LOT_CNTCNT_050:
12681                            4195     
12682                            4196              .AIF   1 EQ 1  ;
12683                            4197 C   ;       -------- 2016-10-31 ADD 二重回路対策
12684                            4198              .AENDI
12685                            4199     ;       ---------- 2016-10-31(2016-07-16) ----------------
12686                            4200             .AIF    0 EQ    0       ;
12687 00001C58 D103              4201 C           MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12688                            4202             .AELSE                                  ;
12689                            4203             MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12690                            4204             .AENDI                                  ;
12691                            4205     
12692 00001C5A 6011              4206             MOV.W   @R1,R0                          ;
12693 00001C5C C911              4207             AND     #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12694 00001C5E 8811              4208             CMP/EQ  #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12695 00001C60 8904              4209             BT      LOT_CNTCNT_080                  ;下降領域に入った
12696                            4210             M_BRA   LOT_CNTCNT_200                  ;
12697 00001C62 A01A                   M           BRA     LOT_CNTCNT_200
12698 00001C64 0009                   M           NOP
12699                            4211     
12700                                     ***** BEGIN-POOL *****
12701 00001C66 0000                       ALIGNMENT CODE
12702 00001C68 00000000                   DATA FOR SOURCE-LINE 4201
12703                                     ***** END-POOL *****
12704 00001C6C                   4212     LOT_CNTCNT_080:                                 ;
12705                            4213     
12706                            4214     
12707                            4215     
12708 00001C6C D10E              4216             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1() <===ﾓｰｼｮﾝ時
                                          のみ=1
12709 00001C6E 6011              4217             MOV.W   @R1,R0                  ;
12710 00001C70 2008              4218             TST     R0,R0                   ;
12711                            4219             TST_BIT_ON LOT_CNTCNT_200       ;
12712 00001C72 8B12                   M           BF      LOT_CNTCNT_200
12713                            4220     
12714                            4221             FAR_JSR #_UP_LOT_SIG_MAK,R0
12715 00001C74 D00D                   M           MOV.L   #_UP_LOT_SIG_MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12716 00001C76 400B                   M           JSR     @R0                     ;
12717 00001C78 0009                   M           NOP                                     ;
12718                            4222     
12719 00001C7A 2008              4223             TST     R0,R0                   ;
12720                            4224             TST_BIT_OF LOT_CNTCNT_200       ;
12721 00001C7C 890D                   M           BT      LOT_CNTCNT_200
12722                            4225     
12723 00001C7E D10A              4226             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
12724 00001C80 6011              4227             MOV.W   @R1,R0                  ;
12725 00001C82 CB01              4228             OR      #BIT0,R0                ;
12726 00001C84 2101              4229             MOV.W   R0,@R1                  ;
12727                            4230     
12728                            4231     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   123
PROGRAM NAME =

12729                            4232     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
12730                            4233     ;;2016-10-31未使用      MOV.W   @R1,R0                  ;
12731                            4234     ;;2016-10-31未使用      OR      #BIT0,R0                ;
12732                            4235     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
12733                            4236     
12734                            4237     
12735                            4238     
12736                            4239             FAR_JSR #_LOT_SIG_SET,R0                                                ;
12737 00001C86 D00A                   M           MOV.L   #_LOT_SIG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12738 00001C88 400B                   M           JSR     @R0                     ;
12739 00001C8A 0009                   M           NOP                                     ;
12740                            4240     
12741                            4241     ;       ===========ﾛｯﾄｶｳﾝﾀでの処理==================
12742 00001C8C D109              4242             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
12743 00001C8E 6011              4243             MOV.W   @R1,R0                  ;
12744 00001C90 2008              4244             TST     R0,R0
12745                            4245             TST_BIT_OF CONT_LOT_CHK050
12746 00001C92 8901                   M           BT      CONT_LOT_CHK050
12747 00001C94 70FF              4246             ADD     #-1,R0
12748 00001C96 2101              4247             MOV.W   R0,@R1
12749 00001C98                   4248     CONT_LOT_CHK050:
12750 00001C98 0009              4249             NOP
12751                            4250     
12752                            4251     
12753 00001C9A                   4252     LOT_CNTCNT_200:
12754                            4253     
12755                            4254              .AIF   1 EQ 1  ;
12756                            4255 C   ;       -------- 2016-10-31 ADD 二重回路対策
12757                            4256              .AENDI
12758                            4257             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
12759 00001C9A D007                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12760 00001C9C 400B                   M           JSR     @R0                     ;
12761 00001C9E 0009                   M           NOP                                     ;
12762                            4258     
12763                            4259             SUB_END
12764                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12765 00001CA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12766                            4260             M_RTS
12767 00001CA2 000B                   M           RTS                             ;RTSの後ろの
12768 00001CA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12769                            4261     
12770                            4262     
12771                            4263              .AIF   1 EQ 1  ;
12772                            4264 C   ;       -------- 2016-10-31 ADD 二重回路対策
12773                            4265              .AENDI
12774                            4266     ;       ---------- 二重回路 2016-07-21---------
12775                                     ***** BEGIN-POOL *****
12776 00001CA6 0000                       ALIGNMENT CODE
12777 00001CA8 00000000                   DATA FOR SOURCE-LINE 4216,4226
12778 00001CAC 00000000                   DATA FOR SOURCE-LINE 4221
12779 00001CB0 00000000                   DATA FOR SOURCE-LINE 4239
12780 00001CB4 00000000                   DATA FOR SOURCE-LINE 4242
12781 00001CB8 00000000                   DATA FOR SOURCE-LINE 4257
12782                                     ***** END-POOL *****
12783 00001CBC                   4267     _CNT_MODE_CNT_SIG_OUT
12784                            4268             SUB_START
12785 00001CBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   124
PROGRAM NAME =

12786                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12787                            4269     
12788                            4270     ;       ------2016-07-16
12789 00001CBE D107              4271             MOV.L   #_LOT_CHK_FLG,R1                ;
12790 00001CC0 6011              4272             MOV.W   @R1,R0                          ;
12791                            4273             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
12792 00001CC2 D107              4274 C           MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12793                            4275             .AELSE
12794                            4276             MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12795                            4277             .AENDI                                  ;
12796 00001CC4 2101              4278             MOV.W   R0,@R1                          ;
12797                            4279     
12798                            4280     
12799 00001CC6 D107              4281             MOV.L   #_LOT_CNT_FLG,R1                ;
12800 00001CC8 6011              4282             MOV.W   @R1,R0                          ;
12801                            4283             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
12802 00001CCA D107              4284 C           MOV.L   #_CPUA_LOT_CNT_FLG,R1           ;2016-07-18CHECK
12803                            4285             .AELSE
12804                            4286             MOV.L   #_CPUB_LOT_CNT_FLG,R1           ;2016-07-18CHECK
12805                            4287             .AENDI                                  ;
12806 00001CCC 2101              4288             MOV.W   R0,@R1                          ;
12807                            4289     
12808                            4290     
12809 00001CCE D107              4291             MOV.L   #_CONT_MOD_CNT_PV,R1            ;
12810 00001CD0 6011              4292             MOV.W   @R1,R0                          ;
12811                            4293             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
12812 00001CD2 D107              4294 C           MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
12813                            4295             .AELSE
12814                            4296             MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
12815                            4297             .AENDI                                  ;
12816 00001CD4 2101              4298             MOV.W   R0,@R1                          ;
12817                            4299             SUB_END
12818                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12819 00001CD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12820                            4300             M_RTS
12821 00001CD8 000B                   M           RTS                             ;RTSの後ろの
12822 00001CDA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12823                            4301     
12824                            4302     
12825                            4303     
12826                            4304             .EXPORT _LOT_SIG_FLG_CLR
12827                            4305     
12828                                     ***** BEGIN-POOL *****
12829 00001CDC 00000000                   DATA FOR SOURCE-LINE 4271
12830 00001CE0 00000000                   DATA FOR SOURCE-LINE 4274
12831 00001CE4 00000000                   DATA FOR SOURCE-LINE 4281
12832 00001CE8 00000000                   DATA FOR SOURCE-LINE 4284
12833 00001CEC 00000000                   DATA FOR SOURCE-LINE 4291
12834 00001CF0 00000000                   DATA FOR SOURCE-LINE 4294
12835                                     ***** END-POOL *****
12836 00001CF4                   4306     _LOT_SIG_FLG_CLR:
12837                            4307             SUB_START
12838 00001CF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
12839                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12840 00001CF6 D105              4308             MOV.L   #_LOT_CHK_FLG,R1        ;
12841 00001CF8 6011              4309             MOV.W   @R1,R0                  ;
12842 00001CFA C9EE              4310             AND     #LOW ~(BIT4+BIT0),R0    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   125
PROGRAM NAME =

12843 00001CFC 2101              4311             MOV.W   R0,@R1
12844                            4312     
12845 00001CFE D104              4313             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
12846 00001D00 200A              4314             XOR     R0,R0                   ;
12847 00001D02 2101              4315             MOV.W   R0,@R1                  ;
12848                            4316     
12849                            4317             SUB_END
12850                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12851 00001D04 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12852                            4318             M_RTS
12853 00001D06 000B                   M           RTS                             ;RTSの後ろの
12854 00001D08 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12855                            4319     
12856                            4320     
12857                                     ***** BEGIN-POOL *****
12858 00001D0A 0000                       ALIGNMENT CODE
12859 00001D0C 00000000                   DATA FOR SOURCE-LINE 4308
12860 00001D10 00000000                   DATA FOR SOURCE-LINE 4313
12861                                     ***** END-POOL *****
12862 00001D14                   4321     _UP_LOT_SIG_MAK:
12863                            4322             SUB_START
12864 00001D14 4F22                   M           STS.L   PR,@-R15                ;[必要]
12865                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12866 00001D16 D50A              4323             MOV.L   #_INT_POS_CTL_STEP,R5   ;
12867 00001D18 6251              4324             MOV.W   @R5,R2                  ;
12868 00001D1A D40A              4325             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
12869 00001D1C 6541              4326             MOV.W   @R4,R5                  ;
12870 00001D1E 3252              4327             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
12871 00001D20 8B2E              4328             BF      CTRL_UP_LOT_CK_END      ;
12872                            4329     
12873                            4330     ;       == ﾁｪｯｸすべく工程より大きい====
12874                            4331     ;       ======== ﾁｪｯｸすべき工程だ =======
12875                            4332     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
12876                            4333     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
12877                            4334     
12878 00001D22 D409              4335             MOV.L   #_DNM_CTL_INC3600,R4    ;[2009-10-07下振子]
12879 00001D24 6241              4336             MOV.W   @R4,R2                  ;
12880                            4337     
12881 00001D26 D509              4338             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
12882 00001D28 6151              4339             MOV.W   @R5,R1                  ;START
12883 00001D2A D509              4340             MOV.L   #_SETX_UPAREA_DIG,R5    ;
12884 00001D2C 6351              4341             MOV.W   @R5,R3                  ;
12885                            4342             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
12886 00001D2E D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12887 00001D30 400B                   M           JSR     @R0                     ;
12888 00001D32 0009                   M           NOP                                     ;
12889                            4343     
12890                            4344     
12891 00001D34 D108              4345             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12892 00001D36 6011              4346             MOV.W   @R1,R0                                  ;
12893 00001D38 C808              4347             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12894                            4348             TST_BIT_OF CTRL_UP_LOT_CK_200                   ;
12895 00001D3A 890F                   M           BT      CTRL_UP_LOT_CK_200
12896                            4349             M_BRA   CTRL_UP_LOT_CK_END                      ;(作成未)
12897 00001D3C A020                   M           BRA     CTRL_UP_LOT_CK_END
12898 00001D3E 0009                   M           NOP
12899                            4350     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   126
PROGRAM NAME =

12900                                     ***** BEGIN-POOL *****
12901 00001D40 00000000                   DATA FOR SOURCE-LINE 4323
12902 00001D44 00000000                   DATA FOR SOURCE-LINE 4325
12903 00001D48 00000000                   DATA FOR SOURCE-LINE 4335
12904 00001D4C 00000000                   DATA FOR SOURCE-LINE 4338
12905 00001D50 00000000                   DATA FOR SOURCE-LINE 4340
12906 00001D54 00000000                   DATA FOR SOURCE-LINE 4342
12907 00001D58 00000000                   DATA FOR SOURCE-LINE 4345
12908                                     ***** END-POOL *****
12909 00001D5C                   4351     CTRL_UP_LOT_CK_200:
12910 00001D5C C804              4352             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12911                            4353             TST_BIT_OF CTRL_UP_LOT_CK_300                   ;
12912 00001D5E 8901                   M           BT      CTRL_UP_LOT_CK_300
12913                            4354             M_BRA   CTRL_UP_LOT_CK_400                      ;[2009-10-07下振子]
12914 00001D60 A006                   M           BRA     CTRL_UP_LOT_CK_400
12915 00001D62 0009                   M           NOP
12916                            4355     ;;[2009-10-07下振子]    M_BRA   CTRL_UP_LOT_CK_END      ;(作成未)
12917                            4356     
12918 00001D64                   4357     CTRL_UP_LOT_CK_300:
12919 00001D64 C802              4358             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12920                            4359             TST_BIT_OF CTRL_UP_LOT_CK_400                   ;
12921 00001D66 8903                   M           BT      CTRL_UP_LOT_CK_400
12922                            4360     
12923                            4361     ;       ==== 反転R5=0,-1 ====
12924 00001D68 4515              4362             CMP/PL  R5                                      ;
12925 00001D6A 8B05              4363             BF      CTRL_UP_LOT_CK_700                      ;成立
12926                            4364             M_BRA   CTRL_UP_LOT_CK_END                      ;
12927 00001D6C A008                   M           BRA     CTRL_UP_LOT_CK_END
12928 00001D6E 0009                   M           NOP
12929                            4365     
12930                            4366     ;-----------回転-----------
12931 00001D70                   4367     CTRL_UP_LOT_CK_400:
12932                            4368     ;       ==== 正転R5=0,1 ====
12933 00001D70 4511              4369             CMP/PZ  R5
12934 00001D72 8901              4370             BT      CTRL_UP_LOT_CK_700                      ;成立
12935                            4371             M_BRA   CTRL_UP_LOT_CK_END                      ;
12936 00001D74 A004                   M           BRA     CTRL_UP_LOT_CK_END
12937 00001D76 0009                   M           NOP
12938 00001D78                   4372     CTRL_UP_LOT_CK_700:
12939 00001D78 E0FF              4373             MOV     #-1,R0                  ;
12940                            4374     
12941                            4375             SUB_END
12942                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12943 00001D7A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12944                            4376             M_RTS
12945 00001D7C 000B                   M           RTS                             ;RTSの後ろの
12946 00001D7E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12947                            4377     
12948 00001D80                   4378     CTRL_UP_LOT_CK_END:
12949 00001D80 200A              4379             XOR     R0,R0
12950                            4380             SUB_END
12951                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12952 00001D82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12953                            4381             M_RTS
12954 00001D84 000B                   M           RTS                             ;RTSの後ろの
12955 00001D86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12956                            4382     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   127
PROGRAM NAME =

12957                            4383     
12958                            4384     
12959                            4385     ;       *******************************************
12960                            4386     ;       ***                                     ***
12961                            4387     ;       ***     クラッチ・ブレーキ起動処理      ***
12962                            4388     ;       ***                                     ***
12963                            4389     ;       *******************************************
12964 00001D88                   4390     _CB_CTL_START_INI:
12965                            4391             SUB_START
12966 00001D88 4F22                   M           STS.L   PR,@-R15                ;[必要]
12967                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12968                            4392     
12969                            4393     
12970                            4394              .AIF   1 EQ 1  ;
12971                            4395 C   ;       -------- 2016-10-31 ADD 二重回路対策
12972                            4396              .AENDI
12973                            4397             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-10-31(2016-07-22) 二重回路対策
12974 00001D8A D00D                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12975 00001D8C 400B                   M           JSR     @R0                     ;
12976 00001D8E 0009                   M           NOP                                     ;
12977                            4398     
12978                            4399     ;2016-10-31     XOR     R2,R2
12979                            4400     ;2016-10-31     XOR     R3,R3
12980                            4401     ;2016-10-31     MOV.L   #_MODE_SEL,R1                           ;
12981                            4402     ;2016-10-31     MOV.W   @R1,R0                                  ;
12982                            4403     ;2016-10-31     TST     #_W1CNT,R0                              ;
12983                            4404     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100
12984                            4405     ;2016-10-31
12985                            4406     ;2016-10-31;    **********************************
12986                            4407     ;2016-10-31;    ***     2004-01-26              **
12987                            4408     ;2016-10-31;    **********************************
12988                            4409     ;2016-10-31     MOV.W   #(BIT12+BIT11),R1       ;
12989                            4410     ;2016-10-31     TST     R1,R0                   ;OPTIONの連続寸動
12990                            4411     ;2016-10-31     TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
12991                            4412     ;2016-10-31
12992                            4413     ;2016-10-31     MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
12993                            4414     ;2016-10-31     MOV.W   @R1,R0                          ;.8=TIM .9=CNT
12994                            4415     ;2016-10-31     MOV.W   #BIT8,R4                        ;
12995                            4416     ;2016-10-31     TST     R4,R0                           ;
12996                            4417     ;2016-10-31     TST_BIT_OF CONT_MD_CHK050       ;
12997                            4418     ;2016-10-31     MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
12998                            4419     ;2016-10-31     MOV.L   @R1,R2                  ;
12999                            4420     ;2016-10-31     M_BRA   CONT_MD_CHK100          ;
13000                            4421     ;2016-10-31CONT_MD_CHK050:
13001                            4422     ;2016-10-31
13002                            4423     ;2016-10-31     MOV.W   #BIT9,R4                        ;
13003                            4424     ;2016-10-31     TST     R4,R0                           ;
13004                            4425     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100       ;
13005                            4426     ;2016-10-31     MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
13006                            4427     ;2016-10-31     MOV.W   @R1,R3                  ;
13007                            4428     ;2016-10-31CONT_MD_CHK100:
13008                            4429     ;2016-10-31
13009                            4430     ;2016-10-31     MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
13010                            4431     ;2016-10-31     MOV.L   R2,@R1                  ;
13011                            4432     ;2016-10-31     MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
13012                            4433     ;2016-10-31     MOV.W   R3,@R1                  ;
13013                            4434     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   128
PROGRAM NAME =

13014                            4435     ;       ======ｻｲｸﾙ停止状態OFF==========================
13015 00001D90 D50C              4436             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R5             ;
13016 00001D92 6051              4437             MOV.W   @R5,R0                                  ;
13017 00001D94 9412              4438             MOV.W   #LWORD ~(BIT7),R4                       ;
13018 00001D96 2049              4439             AND     R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
                                          る
13019 00001D98 2501              4440             MOV.W   R0,@R5                                  ;
13020                            4441     ;       ===============================================
13021                            4442     
13022                            4443     ;       ======= ｻｰﾎﾞ 2003-05-24 ====
13023 00001D9A D10B              4444             MOV.L   #_WPAR_INCSTP_EDYTM1,R1         ;停止遅延時間1=>ﾊﾟﾗﾒｰﾀﾜｰｸへ
13024 00001D9C 6011              4445             MOV.W   @R1,R0                          ;
13025 00001D9E D10B              4446             MOV.L   #_WPAR_INCSTP_EDYTM,R1          ;
13026 00001DA0 2101              4447             MOV.W   R0,@R1                          ;
13027                            4448     
13028                            4449             FAR_JSR #_DRV_START_INI_NEW1,R0         ;2003-07-09
13029 00001DA2 D00B                   M           MOV.L   #_DRV_START_INI_NEW1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13030 00001DA4 400B                   M           JSR     @R0                     ;
13031 00001DA6 0009                   M           NOP                                     ;
13032                            4450     
13033                            4451     
13034                            4452             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
13035 00001DA8 D10A                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
13036 00001DAA 6011                   M           MOV.W   @R1,R0          ;
13037 00001DAC C900                   M           AND     #LOW ~(H'FF),R0         ;
13038 00001DAE 2101                   M           MOV.W   R0,@R1          ;
13039                            4453     
13040                            4454     ;       ----- 2007-03-02 ----
13041 00001DB0 200A              4455             XOR     R0,R0
13042 00001DB2 D109              4456             MOV.L   #_CMP_RECOVER_FLG,R1            ;(ﾃﾞﾊﾞｯｸ用)
13043 00001DB4 2101              4457             MOV.W   R0,@R1                          ;
13044                            4458     
13045                            4459             SUB_END
13046                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13047 00001DB6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13048                            4460             M_RTS
13049 00001DB8 000B                   M           RTS                             ;RTSの後ろの
13050 00001DBA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13051                            4461     
13052                            4462     
13053                            4463     
13054                            4464     
13055                            4465     ;       *******************************************
13056                            4466     ;       ***                                     ***
13057                            4467     ;       ***     2016-10-31(2016-07-22)          ***
13058                            4468     ;       ***     二重回路対策                    ***
13059                            4469     ;       *******************************************
13060                            4470              .AIF   1 EQ 1  ;
13061                            4471 C   ;       -------- 2016-10-31 ADD 二重回路対策
13062                            4472              .AENDI
13063                            4473     ;
13064                                     ***** BEGIN-POOL *****
13065 00001DBC FF7F                       DATA FOR SOURCE-LINE 4438
13066 00001DBE 0000                       ALIGNMENT CODE
13067 00001DC0 00000000                   DATA FOR SOURCE-LINE 4397
13068 00001DC4 00000000                   DATA FOR SOURCE-LINE 4436
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   129
PROGRAM NAME =

13069 00001DC8 00000000                   DATA FOR SOURCE-LINE 4444
13070 00001DCC 00000000                   DATA FOR SOURCE-LINE 4446
13071 00001DD0 00000000                   DATA FOR SOURCE-LINE 4449
13072 00001DD4 00000000                   DATA FOR SOURCE-LINE 4452
13073 00001DD8 00000000                   DATA FOR SOURCE-LINE 4456
13074                                     ***** END-POOL *****
13075 00001DDC                   4474     _START_CNT_INFO_OUT
13076                            4475             SUB_START
13077 00001DDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13078                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13079 00001DDE 222A              4476             XOR     R2,R2
13080 00001DE0 233A              4477             XOR     R3,R3
13081 00001DE2 D109              4478             MOV.L   #_MODE_SEL,R1                           ;
13082 00001DE4 6011              4479             MOV.W   @R1,R0                                  ;
13083 00001DE6 C808              4480             TST     #_W1CNT,R0                              ;
13084                            4481             TST_BIT_OF CONT_MD_CHK100
13085 00001DE8 8919                   M           BT      CONT_MD_CHK100
13086                            4482     
13087                            4483     ;       **********************************
13088                            4484     ;       ***     2004-01-26              **
13089                            4485     ;       **********************************
13090 00001DEA 910A              4486             MOV.W   #(BIT12+BIT11),R1       ;
13091 00001DEC 2018              4487             TST     R1,R0                   ;OPTIONの連続寸動
13092                            4488             TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
13093 00001DEE 8B16                   M           BF      CONT_MD_CHK100
13094                            4489     
13095 00001DF0 D106              4490             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
13096 00001DF2 6011              4491             MOV.W   @R1,R0                          ;.8=TIM .9=CNT
13097 00001DF4 9406              4492             MOV.W   #BIT8,R4                        ;
13098 00001DF6 2048              4493             TST     R4,R0                           ;
13099                            4494             TST_BIT_OF CONT_MD_CHK050       ;
13100 00001DF8 890C                   M           BT      CONT_MD_CHK050
13101 00001DFA D105              4495             MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
13102 00001DFC 6212              4496             MOV.L   @R1,R2                  ;
13103                            4497             M_BRA   CONT_MD_CHK100          ;
13104 00001DFE A00E                   M           BRA     CONT_MD_CHK100
13105 00001E00 0009                   M           NOP
13106                                     ***** BEGIN-POOL *****
13107 00001E02 1800                       DATA FOR SOURCE-LINE 4486
13108 00001E04 0100                       DATA FOR SOURCE-LINE 4492
13109 00001E06 0000                       ALIGNMENT CODE
13110 00001E08 00000000                   DATA FOR SOURCE-LINE 4478
13111 00001E0C 00000000                   DATA FOR SOURCE-LINE 4490
13112 00001E10 00000000                   DATA FOR SOURCE-LINE 4495
13113                                     ***** END-POOL *****
13114 00001E14                   4498     CONT_MD_CHK050:
13115                            4499     
13116 00001E14 940D              4500             MOV.W   #BIT9,R4                        ;
13117 00001E16 2048              4501             TST     R4,R0                           ;
13118                            4502             TST_BIT_OF CONT_MD_CHK100       ;
13119 00001E18 8901                   M           BT      CONT_MD_CHK100
13120 00001E1A D106              4503             MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
13121 00001E1C 6311              4504             MOV.W   @R1,R3                  ;
13122 00001E1E                   4505     CONT_MD_CHK100:
13123                            4506     
13124 00001E1E D106              4507             MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
13125 00001E20 2122              4508             MOV.L   R2,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   130
PROGRAM NAME =

13126 00001E22 D106              4509             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
13127 00001E24 2131              4510             MOV.W   R3,@R1                  ;
13128                            4511     
13129                            4512             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
13130 00001E26 D006                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13131 00001E28 400B                   M           JSR     @R0                     ;
13132 00001E2A 0009                   M           NOP                                     ;
13133                            4513     
13134                            4514             SUB_END
13135                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13136 00001E2C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13137                            4515             M_RTS
13138 00001E2E 000B                   M           RTS                             ;RTSの後ろの
13139 00001E30 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13140                            4516     
13141                            4517     ;       =====================================
13142                            4518     ;       ==== 2003-07-09に追加した起動ｸﾘｱ ====
13143                            4519     ;       =====================================
13144                                     ***** BEGIN-POOL *****
13145 00001E32 0200                       DATA FOR SOURCE-LINE 4500
13146 00001E34 00000000                   DATA FOR SOURCE-LINE 4503
13147 00001E38 00000000                   DATA FOR SOURCE-LINE 4507
13148 00001E3C 00000000                   DATA FOR SOURCE-LINE 4509
13149 00001E40 00000000                   DATA FOR SOURCE-LINE 4512
13150                                     ***** END-POOL *****
13151          00000002          4520     _EQ_CNT_DISP_STCNT      .EQU    2       ;
13152                            4521     
13153 00001E44                   4522     _DRV_START_INI_NEW1:
13154                            4523             SUB_START
13155 00001E44 4F22                   M           STS.L   PR,@-R15                ;[必要]
13156                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13157                            4524     ;       == 2003-07-09 ==
13158 00001E46 200A              4525             XOR     R0,R0
13159 00001E48 D109              4526             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
13160 00001E4A 2101              4527             MOV.W   R0,@R1                          ;
13161                            4528     
13162 00001E4C D109              4529             MOV.L   #_PAR_ORGDRV_CNT,R1             ;
13163 00001E4E 6011              4530             MOV.W   @R1,R0                          ;
13164 00001E50 D109              4531             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13165 00001E52 2101              4532             MOV.W   R0,@R1                          ;
13166                            4533     
13167                            4534     ;       ======== 連続======
13168 00001E54 D109              4535             MOV.L   #_MODE_SEL,R1                   ;
13169 00001E56 6011              4536             MOV.W   @R1,R0                          ;
13170 00001E58 C808              4537             TST     #_W1CNT,R0                      ;
13171                            4538             TST_BIT_OF DRV_START_ININW1_050         ;
13172 00001E5A 8915                   M           BT      DRV_START_ININW1_050
13173                            4539     
13174 00001E5C 9006              4540             MOV.W   #_EQ_CNT_DISP_STCNT,R0          ;
13175 00001E5E D108              4541             MOV.L   #_CYCL_DSP_CNT_PV,R1            ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13176 00001E60 2101              4542             MOV.W   R0,@R1                          ;
13177                            4543     
13178 00001E62 9004              4544             MOV.W   #BIT0,R0                        ;
13179 00001E64 D107              4545             MOV.L   #_CYCL_DSP_DISENB,R1;//0:表示 1:非表示 => 反転して出力
13180 00001E66 2101              4546             MOV.W   R0,@R1
13181                            4547             M_BRA   DRV_START_ININW1_100
13182 00001E68 A011                   M           BRA     DRV_START_ININW1_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   131
PROGRAM NAME =

13183 00001E6A 0009                   M           NOP
13184                                     ***** BEGIN-POOL *****
13185 00001E6C 0002                       DATA FOR SOURCE-LINE 4540
13186 00001E6E 0001                       DATA FOR SOURCE-LINE 4544
13187 00001E70 00000000                   DATA FOR SOURCE-LINE 4526
13188 00001E74 00000000                   DATA FOR SOURCE-LINE 4529
13189 00001E78 00000000                   DATA FOR SOURCE-LINE 4531
13190 00001E7C 00000000                   DATA FOR SOURCE-LINE 4535
13191 00001E80 00000000                   DATA FOR SOURCE-LINE 4541
13192 00001E84 00000000                   DATA FOR SOURCE-LINE 4545
13193                                     ***** END-POOL *****
13194 00001E88                   4548     DRV_START_ININW1_050:
13195 00001E88 200A              4549             XOR     R0,R0                           ;
13196 00001E8A D102              4550             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13197 00001E8C 2101              4551             MOV.W   R0,@R1
13198 00001E8E                   4552     DRV_START_ININW1_100:
13199                            4553             SUB_END
13200                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13201 00001E8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13202                            4554             M_RTS
13203 00001E90 000B                   M           RTS                             ;RTSの後ろの
13204 00001E92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13205                            4555     
13206                            4556     ;       ===================================
13207                            4557     ;       ==== 2003-07-09連続SPM表示開始  ===
13208                            4558     ;       ===================================
13209                                     ***** BEGIN-POOL *****
13210 00001E94 00000000                   DATA FOR SOURCE-LINE 4550
13211                                     ***** END-POOL *****
13212 00001E98                   4559     _CNT_CYCL_DISP_ST:
13213                            4560             SUB_START
13214 00001E98 4F22                   M           STS.L   PR,@-R15                ;[必要]
13215                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13216 00001E9A 200A              4561             XOR     R0,R0                           ;
13217 00001E9C D102              4562             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13218 00001E9E 2101              4563             MOV.W   R0,@R1
13219                            4564             SUB_END
13220                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13221 00001EA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13222                            4565             M_RTS
13223 00001EA2 000B                   M           RTS                             ;RTSの後ろの
13224 00001EA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13225                            4566     ;       =====================================
13226                            4567     ;       ==== 2003-07-09連続SPM非表示条件  ===
13227                            4568     ;       =====================================
13228                                     ***** BEGIN-POOL *****
13229 00001EA6 0000                       ALIGNMENT CODE
13230 00001EA8 00000000                   DATA FOR SOURCE-LINE 4562
13231                                     ***** END-POOL *****
13232 00001EAC                   4569     _CNT_SPM_DISP_CHK:
13233                            4570             SUB_START
13234 00001EAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13235                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13236 00001EAE D107              4571             MOV.L   #_MODE_SEL,R1                   ;
13237 00001EB0 6011              4572             MOV.W   @R1,R0                          ;
13238 00001EB2 C808              4573             TST     #_W1CNT,R0                      ;
13239                            4574             TST_BIT_OF CNT_SPM_DSPCK050             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   132
PROGRAM NAME =

13240 00001EB4 8906                   M           BT      CNT_SPM_DSPCK050
13241 00001EB6 D106              4575             MOV.L   #_CYCL_DSP_CNT_PV,R1            ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13242 00001EB8 6011              4576             MOV.W   @R1,R0                          ;
13243 00001EBA 2008              4577             TST     R0,R0                           ;
13244                            4578             TST_BIT_OF CNT_SPM_DSPCK050             ;表示する
13245 00001EBC 8902                   M           BT      CNT_SPM_DSPCK050
13246                            4579     
13247 00001EBE 9004              4580             MOV.W   #BIT0,R0                        ;
13248 00001EC0 D104              4581             MOV.L   #_CYCL_DSP_DISENB,R1            ;1:非表示 => 反転して出力
13249 00001EC2 2101              4582             MOV.W   R0,@R1                          ;
13250                            4583     
13251 00001EC4                   4584     CNT_SPM_DSPCK050:
13252                            4585     
13253                            4586             SUB_END
13254                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13255 00001EC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13256                            4587             M_RTS
13257 00001EC6 000B                   M           RTS                             ;RTSの後ろの
13258 00001EC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13259                            4588     
13260                            4589     
13261                            4590     
13262                            4591     ;       ***********************************
13263                            4592     ;       ***                             ***
13264                            4593     ;       ***     終了処理の二重回路対策  ***
13265                            4594     ;       ***                             ***
13266                            4595     ;       ***********************************
13267                            4596     ;自分のやるべき事が終わったらこのチェックを行う
13268                            4597     ;       Output  R0=FF:終了
13269                            4598     ;               R0=0 :WAIT
13270                            4599     ;       "この処理が終わり上位でフラグをクリアする事"
13271                            4600     ;
13272                            4601     ;
13273                            4602             .EXPORT _CMPAB_NEAR_END_PROC    ;
13274                            4603             .EXPORT _CMPAB_STEP_END_PROC    ;
13275                            4604     
13276                            4605             .EXPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
13277                            4606             .EXPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
13278                            4607             .EXPORT _CMPSTP_POS_START_CLR;//起動したい
13279                            4608             .EXPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13280                            4609             .EXPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
13281                            4610             .EXPORT _CMPSTP_CNT_STOP_CLR;//連続停止
13282                            4611             .EXPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
13283                            4612             .EXPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
13284                            4613             .EXPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
13285                            4614     
13286                            4615             .EXPORT _CMPEMG_EXQ_FLG_CLR;//
13287                            4616             .EXPORT _POS_CMP_1STEP_START_INI
13288                            4617     
13289                                     ***** BEGIN-POOL *****
13290 00001ECA 0001                       DATA FOR SOURCE-LINE 4580
13291 00001ECC 00000000                   DATA FOR SOURCE-LINE 4571
13292 00001ED0 00000000                   DATA FOR SOURCE-LINE 4575
13293 00001ED4 00000000                   DATA FOR SOURCE-LINE 4581
13294                                     ***** END-POOL *****
13295 00001ED8                   4618     _CMPAB_NEAR_END_PROC
13296                            4619             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   133
PROGRAM NAME =

13297 00001ED8 4F22                   M           STS.L   PR,@-R15                ;[必要]
13298                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13299                            4620             PUSH_REG1 R5
13300 00001EDA 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13301                                 M                                           ;REG=>[SP]
13302                                 M                                           ;"-4" FF,FF,FF,FC
13303 00001EDC D505              4621             MOV.L   #_CMPSTEP_NEAR_ZERO,R5          ;//ﾆｱｾﾞﾛ処理を行いたい
13304 00001EDE 6051              4622             MOV.W   @R5,R0                          ;
13305 00001EE0 2008              4623             TST     R0,R0                           ;
13306                            4624             TST_BIT_ON CMPAB_NEAR_END_PC_100        ;
13307 00001EE2 8B0B                   M           BF      CMPAB_NEAR_END_PC_100
13308 00001EE4 E001              4625             MOV     #BIT0,R0                        ;
13309 00001EE6 2501              4626             MOV.W   R0,@R5                          ;START FLG ON bit0
13310                            4627             FAR_JSR #_CPU_AB_NZR_ON_OUT,R0          ;R0,R1 USED
13311 00001EE8 D003                   M           MOV.L   #_CPU_AB_NZR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13312 00001EEA 400B                   M           JSR     @R0                     ;
13313 00001EEC 0009                   M           NOP                                     ;
13314                            4628             M_BRA   CMPAB_NEAR_END_PC_NG            ;
13315 00001EEE A029                   M           BRA     CMPAB_NEAR_END_PC_NG
13316 00001EF0 0009                   M           NOP
13317                            4629     
13318                            4630     ;       ===== 処理開始 =========
13319                                     ***** BEGIN-POOL *****
13320 00001EF2 0000                       ALIGNMENT CODE
13321 00001EF4 00000000                   DATA FOR SOURCE-LINE 4621
13322 00001EF8 00000000                   DATA FOR SOURCE-LINE 4627
13323                                     ***** END-POOL *****
13324 00001EFC                   4631     CMPAB_NEAR_END_PC_100:
13325 00001EFC 6051              4632             MOV.W   @R5,R0                          ;
13326 00001EFE C802              4633             TST     #BIT1,R0                        ;
13327                            4634             TST_BIT_ON CMPAB_NEAR_END_PC_200        ;
13328 00001F00 8B10                   M           BF      CMPAB_NEAR_END_PC_200
13329                            4635             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;R0 !=0 END
13330 00001F02 D006                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13331 00001F04 400B                   M           JSR     @R0                     ;
13332 00001F06 0009                   M           NOP                                     ;
13333 00001F08 2008              4636             TST     R0,R0                           ;
13334                            4637             TST_BIT_OF CMPAB_NEAR_END_PC_NG         ;CPU-Bまだ処理中
13335 00001F0A 891B                   M           BT      CMPAB_NEAR_END_PC_NG
13336 00001F0C 6051              4638             MOV.W   @R5,R0                          ;
13337 00001F0E CB02              4639             OR      #BIT1,R0                        ;
13338 00001F10 2501              4640             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13339                            4641             FAR_JSR #_CPU_BA_NZR_OF_OUT,R0          ;CPU-B信号ｸﾘｱ
13340 00001F12 D003                   M           MOV.L   #_CPU_BA_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13341 00001F14 400B                   M           JSR     @R0                     ;
13342 00001F16 0009                   M           NOP                                     ;
13343                            4642             M_BRA   CMPAB_NEAR_END_PC_NG            ;
13344 00001F18 A014                   M           BRA     CMPAB_NEAR_END_PC_NG
13345 00001F1A 0009                   M           NOP
13346                            4643     
13347                                     ***** BEGIN-POOL *****
13348 00001F1C 00000000                   DATA FOR SOURCE-LINE 4635
13349 00001F20 00000000                   DATA FOR SOURCE-LINE 4641
13350                                     ***** END-POOL *****
13351 00001F24                   4644     CMPAB_NEAR_END_PC_200:
13352 00001F24 6051              4645             MOV.W   @R5,R0                          ;
13353 00001F26 C804              4646             TST     #BIT2,R0                        ;(完了状態)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   134
PROGRAM NAME =

13354                            4647             TST_BIT_ON CMPAB_NEAR_END_PC_OK         ;
13355 00001F28 8B07                   M           BF      CMPAB_NEAR_END_PC_OK
13356                            4648     
13357                            4649             FAR_JSR #_CPU_AB_NZR_OF_JG,R0           ;R0=0;完了
13358 00001F2A D005                   M           MOV.L   #_CPU_AB_NZR_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13359 00001F2C 400B                   M           JSR     @R0                     ;
13360 00001F2E 0009                   M           NOP                                     ;
13361 00001F30 2008              4650             TST     R0,R0                           ;
13362                            4651             TST_BIT_ON CMPAB_NEAR_END_PC_NG         ;自分の信号がｸﾘｱされていない
13363 00001F32 8B07                   M           BF      CMPAB_NEAR_END_PC_NG
13364 00001F34 6051              4652             MOV.W   @R5,R0                          ;
13365 00001F36 CB04              4653             OR      #BIT2,R0                        ;
13366 00001F38 2501              4654             MOV.W   R0,@R5                          ;
13367 00001F3A                   4655     CMPAB_NEAR_END_PC_OK:
13368 00001F3A E0FF              4656             MOV     #-1,R0                          ;
13369                            4657             M_BRA   CMPAB_NEAR_END_PC_ED            ;
13370 00001F3C A003                   M           BRA     CMPAB_NEAR_END_PC_ED
13371 00001F3E 0009                   M           NOP
13372                            4658     
13373                                     ***** BEGIN-POOL *****
13374 00001F40 00000000                   DATA FOR SOURCE-LINE 4649
13375                                     ***** END-POOL *****
13376 00001F44                   4659     CMPAB_NEAR_END_PC_NG:
13377 00001F44 200A              4660             XOR     R0,R0                   ;
13378 00001F46                   4661     CMPAB_NEAR_END_PC_ED:
13379                            4662             POP_REG1 R5                     ;
13380                                 M                                   ; RE"+4" 00,00,00,04
13381 00001F46 65F6                   M           MOV.L   @R15+,R5        ;
13382                            4663             SUB_END
13383                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13384 00001F48 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13385                            4664             M_RTS
13386 00001F4A 000B                   M           RTS                             ;RTSの後ろの
13387 00001F4C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13388                            4665     
13389                            4666     
13390                            4667             .MACRO  CMPAB_STEP_END_MAC FLG,ABON_OUT,BAON_JG,BAOF_OUT,ABOF_JG
13391                            4668             PUSH_REG1 R5
13392                            4669             MOV.L   #\FLG,R5                        ;//ﾆｱｾﾞﾛ処理を行いたい
13393                            4670             MOV.W   @R5,R0                          ;
13394                            4671             TST     R0,R0                           ;
13395                            4672             TST_BIT_ON JMP100\@                     ;
13396                            4673             MOV     #BIT0,R0                        ;
13397                            4674             MOV.W   R0,@R5                          ;START FLG ON bit0
13398                            4675             FAR_JSR #\ABON_OUT,R0                   ;R0,R1 USED
13399                            4676             M_BRA   JMP_NG\@                        ;
13400                            4677     
13401                            4678     ;       ===== 処理開始 =========
13402                            4679     JMP100\@:
13403                            4680             MOV.W   @R5,R0                          ;
13404                            4681             TST     #BIT1,R0                        ;
13405                            4682             TST_BIT_ON JMP200\@                     ;
13406                            4683     
13407                            4684             FAR_JSR #\BAON_JG,R0                    ;R0 !=0 END
13408                            4685             TST     R0,R0                           ;
13409                            4686             TST_BIT_OF JMP_NG\@                     ;CPU-Bまだ処理中
13410                            4687             MOV.W   @R5,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   135
PROGRAM NAME =

13411                            4688             OR      #BIT1,R0                        ;
13412                            4689             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13413                            4690             FAR_JSR #\BAOF_OUT,R0                   ;CPU-B信号ｸﾘｱ
13414                            4691             M_BRA   JMP_NG\@
13415                            4692     
13416                            4693     JMP200\@:
13417                            4694             MOV.W   @R5,R0                          ;
13418                            4695             TST     #BIT2,R0                        ;(完了状態)
13419                            4696             TST_BIT_ON JMP_OK\@                     ;
13420                            4697     
13421                            4698             FAR_JSR #\ABOF_JG,R0            ;R0=0;完了
13422                            4699             TST     R0,R0                           ;
13423                            4700             TST_BIT_ON JMP_NG\@             ;自分の信号がｸﾘｱされていない
13424                            4701             MOV.W   @R5,R0                          ;
13425                            4702             OR      #BIT2,R0                        ;
13426                            4703             MOV.W   R0,@R5                          ;
13427                            4704     JMP_OK\@:
13428                            4705             MOV     #-1,R0                          ;
13429                            4706             M_BRA   JMP_ED\@
13430                            4707     
13431                            4708     JMP_NG\@:
13432                            4709             XOR     R0,R0                   ;
13433                            4710     JMP_ED\@:
13434                            4711             POP_REG1 R5                     ;
13435                            4712             .ENDM
13436                            4713     
13437                            4714     
13438 00001F4E                   4715     _CMPAB_STEP_END_PROC
13439                            4716             SUB_START
13440 00001F4E 4F22                   M           STS.L   PR,@-R15                ;[必要]
13441                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13442                            4717             CMPAB_STEP_END_MAC FLG=         _CMPSTEP_STEP_END
13443                            4718     +                       ,ABON_OUT=      _CPU_AB_CED_ON_OUT
13444                            4719     +                       ,BAON_JG=       _CPU_BA_CED_ON_JG
13445                            4720     +                       ,BAOF_OUT=      _CPU_BA_CED_OF_OUT
13446                            4721     +                       ,ABOF_JG=       _CPU_AB_CED_OF_JG
13447                                 M           PUSH_REG1 R5
13448 00001F50 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13449                                 M                                           ;REG=>[SP]
13450                                 M                                           ;"-4" FF,FF,FF,FC
13451 00001F52 D505                   M           MOV.L   #_CMPSTEP_STEP_END,R5                   ;//ﾆｱｾﾞﾛ処理を行いたい
13452 00001F54 6051                   M           MOV.W   @R5,R0                          ;
13453 00001F56 2008                   M           TST     R0,R0                           ;
13454                                 M           TST_BIT_ON JMP10000000                  ;
13455 00001F58 8B0A                   M           BF      JMP10000000
13456 00001F5A E001                   M           MOV     #BIT0,R0                        ;
13457 00001F5C 2501                   M           MOV.W   R0,@R5                          ;START FLG ON bit0
13458                                 M           FAR_JSR #_CPU_AB_CED_ON_OUT,R0                  ;R0,R1 USED
13459 00001F5E D003                   M           MOV.L   #_CPU_AB_CED_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13460 00001F60 400B                   M           JSR     @R0                     ;
13461 00001F62 0009                   M           NOP                                     ;
13462                                 M           M_BRA   JMP_NG00000                     ;
13463 00001F64 A028                   M           BRA     JMP_NG00000
13464 00001F66 0009                   M           NOP
13465                                 M   
13466                                 M   ;       ===== 処理開始 =========
13467                                 M   ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   136
PROGRAM NAME =

13468 00001F68 00000000               M   DATA FOR SOURCE-LINE 4717
13469 00001F6C 00000000               M   DATA FOR SOURCE-LINE 4717
13470                                 M   ***** END-POOL *****
13471 00001F70                        M   JMP10000000:
13472 00001F70 6051                   M           MOV.W   @R5,R0                          ;
13473 00001F72 C802                   M           TST     #BIT1,R0                        ;
13474                                 M           TST_BIT_ON JMP20000000                  ;
13475 00001F74 8B10                   M           BF      JMP20000000
13476                                 M   
13477                                 M           FAR_JSR #_CPU_BA_CED_ON_JG,R0                   ;R0 !=0 END
13478 00001F76 D006                   M           MOV.L   #_CPU_BA_CED_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13479 00001F78 400B                   M           JSR     @R0                     ;
13480 00001F7A 0009                   M           NOP                                     ;
13481 00001F7C 2008                   M           TST     R0,R0                           ;
13482                                 M           TST_BIT_OF JMP_NG00000                  ;CPU-Bまだ処理中
13483 00001F7E 891B                   M           BT      JMP_NG00000
13484 00001F80 6051                   M           MOV.W   @R5,R0                          ;
13485 00001F82 CB02                   M           OR      #BIT1,R0                        ;
13486 00001F84 2501                   M           MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13487                                 M           FAR_JSR #_CPU_BA_CED_OF_OUT,R0                  ;CPU-B信号ｸﾘｱ
13488 00001F86 D003                   M           MOV.L   #_CPU_BA_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13489 00001F88 400B                   M           JSR     @R0                     ;
13490 00001F8A 0009                   M           NOP                                     ;
13491                                 M           M_BRA   JMP_NG00000
13492 00001F8C A014                   M           BRA     JMP_NG00000
13493 00001F8E 0009                   M           NOP
13494                                 M   
13495                                 M   ***** BEGIN-POOL *****
13496 00001F90 00000000               M   DATA FOR SOURCE-LINE 4717
13497 00001F94 00000000               M   DATA FOR SOURCE-LINE 4717
13498                                 M   ***** END-POOL *****
13499 00001F98                        M   JMP20000000:
13500 00001F98 6051                   M           MOV.W   @R5,R0                          ;
13501 00001F9A C804                   M           TST     #BIT2,R0                        ;(完了状態)
13502                                 M           TST_BIT_ON JMP_OK00000                  ;
13503 00001F9C 8B07                   M           BF      JMP_OK00000
13504                                 M   
13505                                 M           FAR_JSR #_CPU_AB_CED_OF_JG,R0           ;R0=0;完了
13506 00001F9E D005                   M           MOV.L   #_CPU_AB_CED_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13507 00001FA0 400B                   M           JSR     @R0                     ;
13508 00001FA2 0009                   M           NOP                                     ;
13509 00001FA4 2008                   M           TST     R0,R0                           ;
13510                                 M           TST_BIT_ON JMP_NG00000          ;自分の信号がｸﾘｱされていない
13511 00001FA6 8B07                   M           BF      JMP_NG00000
13512 00001FA8 6051                   M           MOV.W   @R5,R0                          ;
13513 00001FAA CB04                   M           OR      #BIT2,R0                        ;
13514 00001FAC 2501                   M           MOV.W   R0,@R5                          ;
13515 00001FAE                        M   JMP_OK00000:
13516 00001FAE E0FF                   M           MOV     #-1,R0                          ;
13517                                 M           M_BRA   JMP_ED00000
13518 00001FB0 A003                   M           BRA     JMP_ED00000
13519 00001FB2 0009                   M           NOP
13520                                 M   
13521                                 M   ***** BEGIN-POOL *****
13522 00001FB4 00000000               M   DATA FOR SOURCE-LINE 4717
13523                                 M   ***** END-POOL *****
13524 00001FB8                        M   JMP_NG00000:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   137
PROGRAM NAME =

13525 00001FB8 200A                   M           XOR     R0,R0                   ;
13526 00001FBA                        M   JMP_ED00000:
13527                                 M           POP_REG1 R5                     ;
13528                                 M                                   ; RE"+4" 00,00,00,04
13529 00001FBA 65F6                   M           MOV.L   @R15+,R5        ;
13530                            4722             SUB_END
13531                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13532 00001FBC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13533                            4723             M_RTS
13534 00001FBE 000B                   M           RTS                             ;RTSの後ろの
13535 00001FC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13536                            4724     
13537                            4725     
13538                            4726     ;
13539                            4727     ;
13540                            4728     ;
13541 00001FC2                   4729     _CMPSTP_CTRL_REDY_CLR:;//準備完了にしたいをOFF
13542                            4730             SUB_START
13543 00001FC2 4F22                   M           STS.L   PR,@-R15                ;[必要]
13544                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13545                            4731             FAR_JSR #_CPU_AB_RDY_OF_OUT,R0
13546 00001FC4 D004                   M           MOV.L   #_CPU_AB_RDY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13547 00001FC6 400B                   M           JSR     @R0                     ;
13548 00001FC8 0009                   M           NOP                                     ;
13549 00001FCA D104              4732             MOV.L   #_CMPSTEP_CTRL_REDY,R1;//準備完了にしたくない<<完了・未完了は共通で1:完了
                                          0:>>
13550 00001FCC 200A              4733             XOR     R0,R0
13551 00001FCE 2101              4734             MOV.W   R0,@R1
13552                            4735             SUB_END
13553                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13554 00001FD0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13555                            4736             M_RTS
13556 00001FD2 000B                   M           RTS                             ;RTSの後ろの
13557 00001FD4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13558                            4737     
13559                                     ***** BEGIN-POOL *****
13560 00001FD6 0000                       ALIGNMENT CODE
13561 00001FD8 00000000                   DATA FOR SOURCE-LINE 4731
13562 00001FDC 00000000                   DATA FOR SOURCE-LINE 4732
13563                                     ***** END-POOL *****
13564 00001FE0                   4738     _CMPSTP_CTRL_BUSY_CLR:;//準備未完了にしたいをOFF
13565                            4739             SUB_START
13566 00001FE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
13567                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13568                            4740             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0
13569 00001FE2 D004                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13570 00001FE4 400B                   M           JSR     @R0                     ;
13571 00001FE6 0009                   M           NOP                                     ;
13572 00001FE8 D103              4741             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたくない
13573 00001FEA 200A              4742             XOR     R0,R0
13574 00001FEC 2101              4743             MOV.W   R0,@R1
13575                            4744             SUB_END
13576                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13577 00001FEE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13578                            4745             M_RTS
13579 00001FF0 000B                   M           RTS                             ;RTSの後ろの
13580 00001FF2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   138
PROGRAM NAME =

13581                            4746     
13582                                     ***** BEGIN-POOL *****
13583 00001FF4 00000000                   DATA FOR SOURCE-LINE 4740
13584 00001FF8 00000000                   DATA FOR SOURCE-LINE 4741
13585                                     ***** END-POOL *****
13586 00001FFC                   4747     _CMPSTP_POS_START_CLR:;//起動したいをOFF
13587                            4748             SUB_START
13588 00001FFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13589                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13590                            4749             FAR_JSR #_CPU_AB_STR_OF_OUT,R0
13591 00001FFE D004                   M           MOV.L   #_CPU_AB_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13592 00002000 400B                   M           JSR     @R0                     ;
13593 00002002 0009                   M           NOP                                     ;
13594 00002004 D103              4750             MOV.L   #_CMPSTEP_POS_START,R1;//起動したいくない
13595 00002006 200A              4751             XOR     R0,R0
13596 00002008 2101              4752             MOV.W   R0,@R1
13597                            4753             SUB_END
13598                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13599 0000200A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13600                            4754             M_RTS
13601 0000200C 000B                   M           RTS                             ;RTSの後ろの
13602 0000200E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13603                            4755     
13604                                     ***** BEGIN-POOL *****
13605 00002010 00000000                   DATA FOR SOURCE-LINE 4749
13606 00002014 00000000                   DATA FOR SOURCE-LINE 4750
13607                                     ***** END-POOL *****
13608 00002018                   4756     _CMPSTP_SFTY_AUTO_CLR:;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13609                            4757             SUB_START
13610 00002018 4F22                   M           STS.L   PR,@-R15                ;[必要]
13611                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13612                            4758     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
13613                            4759             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
13614 0000201A D006                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13615 0000201C 400B                   M           JSR     @R0                     ;
13616 0000201E 0009                   M           NOP                                     ;
13617                            4760             FAR_JSR #_CPU_BA_DRVSTOP_OF_OUT,R0      ;相手側CLR
13618 00002020 D005                   M           MOV.L   #_CPU_BA_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13619 00002022 400B                   M           JSR     @R0                     ;
13620 00002024 0009                   M           NOP                                     ;
13621                            4761     
13622 00002026 D105              4762             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13623 00002028 200A              4763             XOR     R0,R0
13624 0000202A 2101              4764             MOV.W   R0,@R1
13625                            4765             SUB_END
13626                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13627 0000202C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13628                            4766             M_RTS
13629 0000202E 000B                   M           RTS                             ;RTSの後ろの
13630 00002030 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13631                            4767     
13632                                     ***** BEGIN-POOL *****
13633 00002032 0000                       ALIGNMENT CODE
13634 00002034 00000000                   DATA FOR SOURCE-LINE 4759
13635 00002038 00000000                   DATA FOR SOURCE-LINE 4760
13636 0000203C 00000000                   DATA FOR SOURCE-LINE 4762
13637                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   139
PROGRAM NAME =

13638 00002040                   4768     _CMPSTP_NEAR_ZERO_CLR:;//ﾆｱｾﾞﾛ処理を行いたい
13639                            4769             SUB_START
13640 00002040 4F22                   M           STS.L   PR,@-R15                ;[必要]
13641                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13642                            4770             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0
13643 00002042 D004                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13644 00002044 400B                   M           JSR     @R0                     ;
13645 00002046 0009                   M           NOP                                     ;
13646 00002048 D103              4771             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
13647 0000204A 200A              4772             XOR     R0,R0
13648 0000204C 2101              4773             MOV.W   R0,@R1
13649                            4774             SUB_END
13650                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13651 0000204E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13652                            4775             M_RTS
13653 00002050 000B                   M           RTS                             ;RTSの後ろの
13654 00002052 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13655                            4776     
13656                                     ***** BEGIN-POOL *****
13657 00002054 00000000                   DATA FOR SOURCE-LINE 4770
13658 00002058 00000000                   DATA FOR SOURCE-LINE 4771
13659                                     ***** END-POOL *****
13660 0000205C                   4777     _CMPSTP_CNT_STOP_CLR:;//連続停止
13661                            4778             SUB_START
13662 0000205C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13663                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13664                            4779             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
13665 0000205E D006                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13666 00002060 400B                   M           JSR     @R0                     ;
13667 00002062 0009                   M           NOP                                     ;
13668                            4780             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
13669 00002064 D005                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13670 00002066 400B                   M           JSR     @R0                     ;
13671 00002068 0009                   M           NOP                                     ;
13672 0000206A D105              4781             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
13673 0000206C 200A              4782             XOR     R0,R0
13674 0000206E 2101              4783             MOV.W   R0,@R1
13675                            4784             SUB_END
13676                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13677 00002070 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13678                            4785             M_RTS
13679 00002072 000B                   M           RTS                             ;RTSの後ろの
13680 00002074 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13681                            4786     
13682                                     ***** BEGIN-POOL *****
13683 00002076 0000                       ALIGNMENT CODE
13684 00002078 00000000                   DATA FOR SOURCE-LINE 4779
13685 0000207C 00000000                   DATA FOR SOURCE-LINE 4780
13686 00002080 00000000                   DATA FOR SOURCE-LINE 4781
13687                                     ***** END-POOL *****
13688 00002084                   4787     _CMPSTP_STEP_END_CLR:;//位置決め完了としたい
13689                            4788             SUB_START
13690 00002084 4F22                   M           STS.L   PR,@-R15                ;[必要]
13691                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13692                            4789             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
13693 00002086 D004                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13694 00002088 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   140
PROGRAM NAME =

13695 0000208A 0009                   M           NOP                                     ;
13696 0000208C D103              4790             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
13697 0000208E 200A              4791             XOR     R0,R0
13698 00002090 2101              4792             MOV.W   R0,@R1
13699                            4793             SUB_END
13700                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13701 00002092 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13702                            4794             M_RTS
13703 00002094 000B                   M           RTS                             ;RTSの後ろの
13704 00002096 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13705                            4795     
13706                            4796     ;       ***************************
13707                            4797     ;       ***     EMG/EXQ         ***
13708                            4798     ;       ***************************
13709                                     ***** BEGIN-POOL *****
13710 00002098 00000000                   DATA FOR SOURCE-LINE 4789
13711 0000209C 00000000                   DATA FOR SOURCE-LINE 4790
13712                                     ***** END-POOL *****
13713 000020A0                   4799     _CMPEMG_EXQ_FLG_CLR:
13714                            4800             SUB_START
13715 000020A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
13716                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13717                            4801             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
13718 000020A2 D014                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13719 000020A4 400B                   M           JSR     @R0                     ;
13720 000020A6 0009                   M           NOP                                     ;
13721                            4802             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
13722 000020A8 D013                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13723 000020AA 400B                   M           JSR     @R0                     ;
13724 000020AC 0009                   M           NOP                                     ;
13725                            4803     
13726                            4804             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0  ;
13727 000020AE D013                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13728 000020B0 400B                   M           JSR     @R0                     ;
13729 000020B2 0009                   M           NOP                                     ;
13730                            4805     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
13731                            4806             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
13732 000020B4 D012                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13733 000020B6 400B                   M           JSR     @R0                     ;
13734 000020B8 0009                   M           NOP                                     ;
13735                            4807     
13736                            4808             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0  ;
13737 000020BA D012                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13738 000020BC 400B                   M           JSR     @R0                     ;
13739 000020BE 0009                   M           NOP                                     ;
13740                            4809             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
13741 000020C0 D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13742 000020C2 400B                   M           JSR     @R0                     ;
13743 000020C4 0009                   M           NOP                                     ;
13744                            4810             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
13745 000020C6 D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13746 000020C8 400B                   M           JSR     @R0                     ;
13747 000020CA 0009                   M           NOP                                     ;
13748                            4811             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
13749 000020CC D010                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13750 000020CE 400B                   M           JSR     @R0                     ;
13751 000020D0 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   141
PROGRAM NAME =

13752                            4812     
13753 000020D2 200A              4813             XOR     R0,R0
13754 000020D4 D10F              4814             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたい
13755 000020D6 2101              4815             MOV.W   R0,@R1
13756 000020D8 D10F              4816             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13757 000020DA 2101              4817             MOV.W   R0,@R1
13758 000020DC D10F              4818             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
13759 000020DE 2101              4819             MOV.W   R0,@R1
13760 000020E0 D10F              4820             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
13761 000020E2 2101              4821             MOV.W   R0,@R1
13762 000020E4 D10F              4822             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
13763 000020E6 2101              4823             MOV.W   R0,@R1
13764                            4824     
13765                            4825     ;       == 2004-12-20 ==
13766 000020E8 D10F              4826             MOV.L   #_CNT_BANK_CALC_ERR,R1
13767 000020EA 2101              4827             MOV.W   R0,@R1
13768                            4828     
13769                            4829     
13770                            4830             SUB_END
13771                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13772 000020EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13773                            4831             M_RTS
13774 000020EE 000B                   M           RTS                             ;RTSの後ろの
13775 000020F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13776                            4832     
13777                            4833     ;       ***************************
13778                            4834     ;       ***     開始時          ***
13779                            4835     ;       ***     START           ***
13780                            4836     ;       ***************************
13781                                     ***** BEGIN-POOL *****
13782 000020F2 0000                       ALIGNMENT CODE
13783 000020F4 00000000                   DATA FOR SOURCE-LINE 4801
13784 000020F8 00000000                   DATA FOR SOURCE-LINE 4802
13785 000020FC 00000000                   DATA FOR SOURCE-LINE 4804
13786 00002100 00000000                   DATA FOR SOURCE-LINE 4806
13787 00002104 00000000                   DATA FOR SOURCE-LINE 4808
13788 00002108 00000000                   DATA FOR SOURCE-LINE 4809
13789 0000210C 00000000                   DATA FOR SOURCE-LINE 4810
13790 00002110 00000000                   DATA FOR SOURCE-LINE 4811
13791 00002114 00000000                   DATA FOR SOURCE-LINE 4814
13792 00002118 00000000                   DATA FOR SOURCE-LINE 4816
13793 0000211C 00000000                   DATA FOR SOURCE-LINE 4818
13794 00002120 00000000                   DATA FOR SOURCE-LINE 4820
13795 00002124 00000000                   DATA FOR SOURCE-LINE 4822
13796 00002128 00000000                   DATA FOR SOURCE-LINE 4826
13797                                     ***** END-POOL *****
13798 0000212C                   4837     _CMPCYC_START_CLR:
13799                            4838             SUB_START
13800 0000212C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13801                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13802                            4839             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
13803 0000212E D004                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13804 00002130 400B                   M           JSR     @R0                     ;
13805 00002132 0009                   M           NOP                                     ;
13806                            4840             FAR_JSR #_CMPSTP_SFTY_AUTO_CLR,R0;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13807 00002134 D003                   M           MOV.L   #_CMPSTP_SFTY_AUTO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13808 00002136 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   142
PROGRAM NAME =

13809 00002138 0009                   M           NOP                                     ;
13810                            4841             SUB_END
13811                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13812 0000213A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13813                            4842             M_RTS
13814 0000213C 000B                   M           RTS                             ;RTSの後ろの
13815 0000213E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13816                            4843     
13817                            4844     ;       ***********************************
13818                            4845     ;       ***     終了前                  ***
13819                            4846     ;       ***     起動に必要な信号の準備  ***
13820                            4847     ;       ***********************************
13821                                     ***** BEGIN-POOL *****
13822 00002140 00000000                   DATA FOR SOURCE-LINE 4839
13823 00002144 00000000                   DATA FOR SOURCE-LINE 4840
13824                                     ***** END-POOL *****
13825 00002148                   4848     _CMPCYC_END_CLR:
13826                            4849             SUB_START
13827 00002148 4F22                   M           STS.L   PR,@-R15                ;[必要]
13828                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13829                            4850             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたい
13830 0000214A D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13831 0000214C 400B                   M           JSR     @R0                     ;
13832 0000214E 0009                   M           NOP                                     ;
13833                            4851             FAR_JSR #_CMPSTP_CTRL_BUSY_CLR,R0;//準備未完了にしたい
13834 00002150 D005                   M           MOV.L   #_CMPSTP_CTRL_BUSY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13835 00002152 400B                   M           JSR     @R0                     ;
13836 00002154 0009                   M           NOP                                     ;
13837                            4852             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したい
13838 00002156 D005                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13839 00002158 400B                   M           JSR     @R0                     ;
13840 0000215A 0009                   M           NOP                                     ;
13841                            4853             SUB_END
13842                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13843 0000215C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13844                            4854             M_RTS
13845 0000215E 000B                   M           RTS                             ;RTSの後ろの
13846 00002160 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13847                            4855     
13848                            4856     ;       ***********************************
13849                            4857     ;       ***                             ***
13850                            4858     ;       ***     1つのｽﾃｯﾌﾟの起動時      ***
13851                            4859     ;       ***                             ***
13852                            4860     ;       ***********************************
13853                                     ***** BEGIN-POOL *****
13854 00002162 0000                       ALIGNMENT CODE
13855 00002164 00000000                   DATA FOR SOURCE-LINE 4850
13856 00002168 00000000                   DATA FOR SOURCE-LINE 4851
13857 0000216C 00000000                   DATA FOR SOURCE-LINE 4852
13858                                     ***** END-POOL *****
13859 00002170                   4861     _POS_CMP_1STEP_START_INI:
13860                            4862             SUB_START
13861 00002170 4F22                   M           STS.L   PR,@-R15                ;[必要]
13862                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13863                            4863             FAR_JSR #_CMPSTP_STEP_END_CLR,R0;//位置決め完了としたい
13864 00002172 D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13865 00002174 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   143
PROGRAM NAME =

13866 00002176 0009                   M           NOP                                     ;
13867                            4864             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾆｱｾﾞﾛ処理を行いたい
13868 00002178 D00A                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13869 0000217A 400B                   M           JSR     @R0                     ;
13870 0000217C 0009                   M           NOP                                     ;
13871                            4865             FAR_JSR #_FUL_DATA_INIT,R0                      ;
13872 0000217E D00A                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13873 00002180 400B                   M           JSR     @R0                     ;
13874 00002182 0009                   M           NOP                                     ;
13875 00002184 200A              4866             XOR     R0,R0                                   ;
13876 00002186 D109              4867             MOV.L   #_NEAR_IN_FLG,R1                        ;
13877 00002188 2101              4868             MOV.W   R0,@R1                                  ;
13878                            4869     
13879                            4870             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
13880 0000218A D009                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13881 0000218C 400B                   M           JSR     @R0                     ;
13882 0000218E 0009                   M           NOP                                     ;
13883                            4871     
13884                            4872     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
13885                            4873             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
13886 00002190 D108                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
13887 00002192 6011                   M           MOV.W   @R1,R0          ;
13888 00002194 C9FE                   M           AND     #LOW ~BIT0,R0           ;
13889 00002196 2101                   M           MOV.W   R0,@R1          ;
13890                            4874     
13891                            4875     
13892                            4876             SUB_END
13893                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13894 00002198 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13895                            4877             M_RTS
13896 0000219A 000B                   M           RTS                             ;RTSの後ろの
13897 0000219C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13898                            4878     
13899                            4879     ;       ***********************************
13900                            4880     ;       **      ステップ表示            ***
13901                            4881     ;       ***********************************
13902                            4882     ;       ５段仕様は段数によらず最終工程は６行程目＋BIT15
13903                            4883     ;       10段仕様は段数によらず最終工程は１１行程目＋BIT15
13904                            4884     ;
13905                            4885     ;
13906                                     ***** BEGIN-POOL *****
13907 0000219E 0000                       ALIGNMENT CODE
13908 000021A0 00000000                   DATA FOR SOURCE-LINE 4863
13909 000021A4 00000000                   DATA FOR SOURCE-LINE 4864
13910 000021A8 00000000                   DATA FOR SOURCE-LINE 4865
13911 000021AC 00000000                   DATA FOR SOURCE-LINE 4867
13912 000021B0 00000000                   DATA FOR SOURCE-LINE 4870
13913 000021B4 00000000                   DATA FOR SOURCE-LINE 4873
13914                                     ***** END-POOL *****
13915 000021B8                   4886     _STEP_SIG_DSP_CLR;
13916                            4887             SUB_START
13917 000021B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
13918                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13919 000021BA 244A              4888             XOR     R4,R4
13920                            4889             M_BRA   STEP_SIG_DSP200
13921 000021BC A022                   M           BRA     STEP_SIG_DSP200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   144
PROGRAM NAME =

13922 000021BE 0009                   M           NOP
13923                            4890     
13924 000021C0                   4891     _STEP_SIG_DISP;
13925                            4892             SUB_START
13926 000021C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
13927                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13928                            4893     
13929 000021C2 D109              4894             MOV.L   #_INT_POS_CTL_STEP,R1   ;1~5,6
13930 000021C4 6011              4895             MOV.W   @R1,R0                  ;
13931 000021C6 D109              4896             MOV.L   #_CPOS_STEP_MAX,R1      ;
13932 000021C8 6411              4897             MOV.W   @R1,R4                  ;
13933 000021CA 7401              4898             ADD     #1,R4                   ;
13934 000021CC 3042              4899             CMP/HS  R4,R0                   ;
13935 000021CE 8B15              4900             BF      STEP_SIG_DSP100         ;
13936                            4901     
13937                            4902     ;       ==== 最終工程==
13938 000021D0 D107              4903             MOV.L   #_WFSYS_MAX_STEP_SEL,R1 ;2004-01-26
13939 000021D2 6011              4904             MOV.W   @R1,R0                  ;
13940 000021D4 8801              4905             CMP/EQ  #1,R0                   ;
13941 000021D6 8B0D              4906             BF      STEP_SIG_DSP050         ;
13942                            4907     
13943 000021D8 9004              4908             MOV.W   #_EQ_STEP_MAX+1,R0      ;1~5の時は2~6
13944 000021DA 3406              4909             CMP/HI  R0,R4                   ;5+1 < MAX+1
13945 000021DC 8B0A              4910             BF      STEP_SIG_DSP050         ;NO MAX=1~5
13946                            4911     
13947 000021DE 9402              4912             MOV.W   #(BIT15+BIT10),R4       ;"*"はBIT10
13948                            4913             M_BRA   STEP_SIG_DSP200         ;
13949 000021E0 A010                   M           BRA     STEP_SIG_DSP200
13950 000021E2 0009                   M           NOP
13951                            4914     
13952                                     ***** BEGIN-POOL *****
13953 000021E4 0006                       DATA FOR SOURCE-LINE 4908
13954 000021E6 8400                       DATA FOR SOURCE-LINE 4912
13955 000021E8 00000000                   DATA FOR SOURCE-LINE 4894
13956 000021EC 00000000                   DATA FOR SOURCE-LINE 4896
13957 000021F0 00000000                   DATA FOR SOURCE-LINE 4903
13958                                     ***** END-POOL *****
13959 000021F4                   4915     STEP_SIG_DSP050:
13960 000021F4 9401              4916             MOV.W   #(BIT15+BIT5),R4        ;"*"はBIT5
13961                            4917             M_BRA   STEP_SIG_DSP200         ;
13962 000021F6 A005                   M           BRA     STEP_SIG_DSP200
13963 000021F8 0009                   M           NOP
13964                            4918     
13965                                     ***** BEGIN-POOL *****
13966 000021FA 8020                       DATA FOR SOURCE-LINE 4916
13967                                     ***** END-POOL *****
13968 000021FC                   4919     STEP_SIG_DSP100:
13969 000021FC D107              4920             MOV.L   #_LONG_BIT_TBL0,R1              ;
13970 000021FE 4008              4921             SHLL2   R0                              ;data=1 BIT0
13971 00002200 301C              4922             ADD     R1,R0                           ;
13972 00002202 6402              4923             MOV.L   @R0,R4                          ;
13973 00002204                   4924     STEP_SIG_DSP200:
13974                            4925     
13975                            4926     ;       ---------2014-09-22 追加BIT13--------------
13976 00002204 D106              4927             MOV.L   #_MOT_REP_F,R1                  ;//BIT0(ﾘﾋﾟｰﾄ動作
13977 00002206 6011              4928             MOV.W   @R1,R0                          ;
13978 00002208 C801              4929             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ中
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   145
PROGRAM NAME =

13979                            4930             TST_BIT_OF STEP_SIG_DSP300              ;
13980 0000220A 8901                   M           BT      STEP_SIG_DSP300
13981 0000220C 9005              4931             MOV.W   #BIT13,R0                       ;
13982 0000220E 240B              4932             OR      R0,R4                           ;
13983 00002210                   4933     STEP_SIG_DSP300:                                ;
13984                            4934     
13985                            4935     
13986 00002210 D504              4936             MOV.L   #_SQ_CBWK_TOP+_WKSQCB210,R5     ;
13987 00002212 2541              4937             MOV.W   R4,@R5                          ;
13988                            4938     
13989                            4939     
13990                            4940             SUB_END
13991                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13992 00002214 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13993                            4941             M_RTS
13994 00002216 000B                   M           RTS                             ;RTSの後ろの
13995 00002218 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13996                            4942     
13997                            4943     
13998                            4944     ;       ***********************************
13999                            4945     ;       ***                             ***
14000                            4946     ;       ***     運転開始                ***
14001                            4947     ;       ***                             ***
14002                            4948     ;       ***********************************
14003                                     ***** BEGIN-POOL *****
14004 0000221A 2000                       DATA FOR SOURCE-LINE 4931
14005 0000221C 00000000                   DATA FOR SOURCE-LINE 4920
14006 00002220 00000000                   DATA FOR SOURCE-LINE 4927
14007 00002224 00000000                   DATA FOR SOURCE-LINE 4936
14008                                     ***** END-POOL *****
14009 00002228                   4949     _STOPPING_TIM_MOV_INI:
14010                            4950             SUB_START
14011 00002228 4F22                   M           STS.L   PR,@-R15                ;[必要]
14012                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14013 0000222A D104              4951             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14014 0000222C 200A              4952             XOR     R0,R0                   ;動作開始
14015 0000222E 2101              4953             MOV.W   R0,@R1                  ;
14016                            4954     
14017                            4955     
14018                            4956     ;       ==== 2012-03-06====
14019                            4957             FAR_JSR #_BRKTMCAL_API1_STR,R0          ;JUMP力がないため
14020 00002230 D003                   M           MOV.L   #_BRKTMCAL_API1_STR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14021 00002232 400B                   M           JSR     @R0                     ;
14022 00002234 0009                   M           NOP                                     ;
14023                            4958     
14024                            4959             SUB_END
14025                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14026 00002236 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14027                            4960             M_RTS
14028 00002238 000B                   M           RTS                             ;RTSの後ろの
14029 0000223A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14030                            4961     
14031                            4962     ;       ***********************************
14032                            4963     ;       ***                             ***
14033                            4964     ;       ***     停止条件成立(測定開始)  ***
14034                            4965     ;       ***                             ***
14035                            4966     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   146
PROGRAM NAME =

14036                            4967     
14037                                     ***** BEGIN-POOL *****
14038 0000223C 00000000                   DATA FOR SOURCE-LINE 4951
14039 00002240 00000000                   DATA FOR SOURCE-LINE 4957
14040                                     ***** END-POOL *****
14041 00002244                   4968     _STOPPING_TIM_STOP_INI:
14042                            4969             SUB_START
14043 00002244 4F22                   M           STS.L   PR,@-R15                ;[必要]
14044                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14045 00002246 D114              4970             MOV.L   #_STOPPING_TIM_FLG,R1           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停
                                          止中
14046 00002248 6011              4971             MOV.W   @R1,R0                          ;
14047 0000224A C841              4972             TST     #(BIT6+BIT0),R0                 ;
14048                            4973             TST_BIT_ON STOPPING_TIM_STOPINI_100     ;動作開始?/停止後の停止?
14049 0000224C 8B1E                   M           BF      STOPPING_TIM_STOPINI_100
14050                            4974     
14051                            4975     ;;2010-08-20    MOV.W   #_SYS_STOPPING_TIM,R2
14052 0000224E D113              4976             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14053 00002250 6211              4977             MOV.W   @R1,R2                          ;
14054                            4978     
14055 00002252 D113              4979             MOV.L   #_STOPPING_STOP_TIM,R1  ;//停止を測定するタイマ
14056 00002254 2121              4980             MOV.W   R2,@R1                  ;
14057                            4981     
14058 00002256 D413              4982             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;RL_OBJ->PV 200609
                                          19
14059 00002258 6146              4983             MOV.L   @R4+,R1                                                 ;
14060 0000225A 6242              4984             MOV.L   @R4,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14061 0000225C D412              4985             MOV.L   #_STOPPING_VLVOFF_POS,R4;//停止処理開始時点の位置
14062 0000225E 2412              4986             MOV.L   R1,@R4                  ;
14063 00002260 1421              4987             MOV.L   R2,@(4,R4)              ;
14064                            4988     
14065 00002262 D412              4989             MOV.L   #_STOPPING_STOP_POS,R4  ;//停止処理測定位置
14066 00002264 2412              4990             MOV.L   R1,@R4                  ;
14067 00002266 1421              4991             MOV.L   R2,@(4,R4)              ;
14068                            4992     
14069 00002268 D10B              4993             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14070 0000226A 9012              4994             MOV.W   #BIT0,R0                ;
14071 0000226C 2101              4995             MOV.W   R0,@R1
14072                            4996     
14073 0000226E 200A              4997             XOR     R0,R0                   ;
14074 00002270 D10F              4998             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14075 00002272 2101              4999             MOV.W   R0,@R1                  ;
14076 00002274 D10F              5000             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14077 00002276 2101              5001             MOV.W   R0,@R1                  ;
14078                            5002     
14079                            5003     ;       ==== 2003-07-09 ========
14080 00002278 D10F              5004             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14081 0000227A 900B              5005             MOV.W   #BIT4,R0                ;
14082 0000227C 2101              5006             MOV.W   R0,@R1                  ;BIT4:起動有り ELSE = 0
14083                            5007     
14084                            5008     
14085                            5009     ;       --2009-07-17 add[不具合対策 ﾌﾞﾚｰｷ角度ｵｰﾊﾞ3]---
14086                            5010             FAR_JSR #_LINK_CLANK_DIG_MAK,R0 ;2009-07-17
14087 0000227E D00F                   M           MOV.L   #_LINK_CLANK_DIG_MAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14088 00002280 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   147
PROGRAM NAME =

14089 00002282 0009                   M           NOP                                     ;
14090                            5011     
14091 00002284 D10E              5012             MOV.L   #_LINK_CLANK_PV,R1      ;//0.1度
14092 00002286 6011              5013             MOV.W   @R1,R0                  ;
14093 00002288 D10E              5014             MOV.L   #_VALV_OFF_DIG_CLANK,R1 ;
14094 0000228A 2101              5015             MOV.W   R0,@R1                  ;
14095                            5016     
14096                            5017     ;       =========================
14097                            5018     
14098 0000228C                   5019     STOPPING_TIM_STOPINI_100:
14099                            5020     
14100                            5021             SUB_END
14101                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14102 0000228C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14103                            5022             M_RTS
14104 0000228E 000B                   M           RTS                             ;RTSの後ろの
14105 00002290 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14106                            5023     
14107                            5024     ;       ***********************************
14108                            5025     ;       ***                             ***
14109                            5026     ;       ***     (測定中)                ***
14110                            5027     ;       ***                             ***
14111                            5028     ;       ***********************************
14112                            5029     
14113                                     ***** BEGIN-POOL *****
14114 00002292 0001                       DATA FOR SOURCE-LINE 4994
14115 00002294 0010                       DATA FOR SOURCE-LINE 5005
14116 00002296 0000                       ALIGNMENT CODE
14117 00002298 00000000                   DATA FOR SOURCE-LINE 4970,4993
14118 0000229C 00000000                   DATA FOR SOURCE-LINE 4976
14119 000022A0 00000000                   DATA FOR SOURCE-LINE 4979
14120 000022A4 00000000                   DATA FOR SOURCE-LINE 4982
14121 000022A8 00000000                   DATA FOR SOURCE-LINE 4985
14122 000022AC 00000000                   DATA FOR SOURCE-LINE 4989
14123 000022B0 00000000                   DATA FOR SOURCE-LINE 4998
14124 000022B4 00000000                   DATA FOR SOURCE-LINE 5000
14125 000022B8 00000000                   DATA FOR SOURCE-LINE 5004
14126 000022BC 00000000                   DATA FOR SOURCE-LINE 5010
14127 000022C0 00000000                   DATA FOR SOURCE-LINE 5012
14128 000022C4 00000000                   DATA FOR SOURCE-LINE 5014
14129                                     ***** END-POOL *****
14130 000022C8                   5030     _STOPPING_TIM_CHK:
14131                            5031             SUB_START
14132 000022C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14133                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14134                            5032     
14135 000022CA D104              5033             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14136 000022CC 9004              5034             MOV.W   #BIT0,R0                ;
14137 000022CE 6011              5035             MOV.W   @R1,R0                  ;
14138 000022D0 C840              5036             TST     #BIT6,R0                ;測定完了?
14139                            5037             TST_BIT_OF STOPPING_TIM_CK050   ;
14140 000022D2 8905                   M           BT      STOPPING_TIM_CK050
14141                            5038             M_BRA   STOPPING_TIM_CK900      ;完了
14142 000022D4 A065                   M           BRA     STOPPING_TIM_CK900
14143 000022D6 0009                   M           NOP
14144                            5039     
14145                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   148
PROGRAM NAME =

14146 000022D8 0001                       DATA FOR SOURCE-LINE 5034
14147 000022DA 0000                       ALIGNMENT CODE
14148 000022DC 00000000                   DATA FOR SOURCE-LINE 5033
14149                                     ***** END-POOL *****
14150 000022E0                   5040     STOPPING_TIM_CK050:                                                     ;
14151 000022E0 C801              5041             TST     #BIT0,R0
14152                            5042             TST_BIT_ON STOPPING_TIM_CK080   ;
14153 000022E2 8B01                   M           BF      STOPPING_TIM_CK080
14154                            5043             M_BRA   STOPPING_TIM_CK900      ;未
14155 000022E4 A05D                   M           BRA     STOPPING_TIM_CK900
14156 000022E6 0009                   M           NOP
14157 000022E8                   5044     STOPPING_TIM_CK080
14158                            5045     
14159                            5046     
14160 000022E8 D114              5047             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14161 000022EA 6211              5048             MOV.W   @R1,R2                  ;
14162 000022EC 7201              5049             ADD     #1,R2                   ;
14163 000022EE 2121              5050             MOV.W   R2,@R1                  ;
14164                            5051     
14165 000022F0 D013              5052             MOV.L   #_LINK_PV_ABSPLS,R0                     ;RL_OBJ->PV20060919
14166 000022F2 6106              5053             MOV.L   @R0+,R1                                                 ;
14167 000022F4 6202              5054             MOV.L   @R0,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14168                            5055     
14169 000022F6 D013              5056             MOV.L   #_STOPPING_VLVOFF_POS,R0                ;//停止処理開始時点の位置
14170 000022F8 6306              5057             MOV.L   @R0+,R3                                 ;
14171 000022FA 6402              5058             MOV.L   @R0,R4                                  ;
14172                            5059     
14173 000022FC D012              5060             MOV.L   #_STOPPING_STOP_POS,R0                  ;
14174 000022FE 6502              5061             MOV.L   @R0,R5                                  ;
14175 00002300 2012              5062             MOV.L   R1,@R0                                  ;
14176 00002302 5601              5063             MOV.L   @(4,R0),R6                              ;
14177 00002304 1021              5064             MOV.L   R2,@(4,R0)                              ;
14178                            5065     
14179                            5066             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R3,DT_ANS_REGL=R4       ;ﾊﾞﾙﾌﾞOFF開始−今
                                          回
14180 00002306 0008                   M           CLRT
14181 00002308 342A                   M           SUBC    R2,R4
14182 0000230A 331A                   M           SUBC    R1,R3
14183                            5067             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;前回−今回
14184 0000230C 0008                   M           CLRT
14185 0000230E 362A                   M           SUBC    R2,R6
14186 00002310 351A                   M           SUBC    R1,R5
14187                            5068     
14188                            5069     
14189                            5070     ;ﾊﾞﾙﾌﾞOFF位置+/-10ﾊﾟﾙｽの範囲では停止中と判断する[2011-08-29]
14190 00002312 6043              5071             MOV     R4,R0                                   ;
14191 00002314 4011              5072             CMP/PZ  R0                                      ;
14192 00002316 8900              5073             BT      STOPPING_TIM_CK100                      ;
14193 00002318 600B              5074             NEG     R0,R0                                   ;
14194 0000231A                   5075     STOPPING_TIM_CK100:                                     ;
14195 0000231A 910D              5076             MOV.W   #D'10,R1                                ;
14196 0000231C 3102              5077             CMP/HS  R0,R1                                   ;
14197 0000231E 8903              5078             BT      STOPPING_TIM_CK120                      ;
14198                            5079     ;       -------------------------------------------------------
14199                            5080     
14200                            5081     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   149
PROGRAM NAME =

14201 00002320 6063              5082             MOV     R6,R0                   ;
14202 00002322 205B              5083             OR      R5,R0                   ;
14203 00002324 2008              5084             TST     R0,R0                   ;
14204                            5085             TST_BIT_ON STOPPING_TIM_CK400   ;
14205 00002326 8B27                   M           BF      STOPPING_TIM_CK400
14206 00002328                   5086     STOPPING_TIM_CK120:
14207                            5087     ;       ===== 停止状態() =====
14208 00002328 D408              5088             MOV.L   #_STOPPING_STOP_TIM,R4                                  ;//停止を測定する
                                          タイマ
14209 0000232A 6041              5089             MOV.W   @R4,R0                                                  ;
14210 0000232C 2008              5090             TST     R0,R0                                                   ;
14211                            5091             TST_BIT_OF STOPPING_TIM_CK200                                   ;
14212 0000232E 890F                   M           BT      STOPPING_TIM_CK200
14213 00002330 70FF              5092             ADD     #-1,R0                                                  ;
14214 00002332 2401              5093             MOV.W   R0,@R4                                                  ;
14215                            5094             M_BRA   STOPPING_TIM_CK900                                      ;
14216 00002334 A035                   M           BRA     STOPPING_TIM_CK900
14217 00002336 0009                   M           NOP
14218                            5095     ;       ====== ﾀｲﾑｱｯﾌﾟ停止=======
14219                                     ***** BEGIN-POOL *****
14220 00002338 000A                       DATA FOR SOURCE-LINE 5076
14221 0000233A 0000                       ALIGNMENT CODE
14222 0000233C 00000000                   DATA FOR SOURCE-LINE 5047
14223 00002340 00000000                   DATA FOR SOURCE-LINE 5052
14224 00002344 00000000                   DATA FOR SOURCE-LINE 5056
14225 00002348 00000000                   DATA FOR SOURCE-LINE 5060
14226 0000234C 00000000                   DATA FOR SOURCE-LINE 5088
14227                                     ***** END-POOL *****
14228 00002350                   5096     STOPPING_TIM_CK200:
14229 00002350 D106              5097             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14230 00002352 6211              5098             MOV.W   @R1,R2                  ;
14231                            5099     
14232                            5100     ;;;2010-08-20   MOV.W   #_SYS_STOPPING_TIM,R4   ;
14233 00002354 D106              5101             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14234 00002356 6411              5102             MOV.W   @R1,R4                          ;
14235                            5103     
14236 00002358 3248              5104             SUB     R4,R2                   ;
14237 0000235A 4211              5105             CMP/PZ  R2                      ;
14238 0000235C 8900              5106             BT      STOPPING_TIM_CK250      ;
14239 0000235E 222A              5107             XOR     R2,R2                   ;
14240 00002360                   5108     STOPPING_TIM_CK250:                     ;
14241                            5109     
14242                            5110             FAR_JSR #_BRKTMCAL_API3_ENDCNF1,R0      ;2012-03-06
14243 00002360 D004                   M           MOV.L   #_BRKTMCAL_API3_ENDCNF1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14244 00002362 400B                   M           JSR     @R0                     ;
14245 00002364 0009                   M           NOP                                     ;
14246                            5111             M_BRA   STOPPING_TIM_CK600      ;
14247 00002366 A013                   M           BRA     STOPPING_TIM_CK600
14248 00002368 0009                   M           NOP
14249                            5112     
14250                            5113     ;       ==== 動作状態 ============
14251                                     ***** BEGIN-POOL *****
14252 0000236A 0000                       ALIGNMENT CODE
14253 0000236C 00000000                   DATA FOR SOURCE-LINE 5097
14254 00002370 00000000                   DATA FOR SOURCE-LINE 5101
14255 00002374 00000000                   DATA FOR SOURCE-LINE 5110
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   150
PROGRAM NAME =

14256                                     ***** END-POOL *****
14257 00002378                   5114     STOPPING_TIM_CK400:
14258                            5115     
14259                            5116     ;;;;2010-08-20  MOV.W   #_SYS_STOPPING_TIM,R0           ;
14260 00002378 D40D              5117             MOV.L   #_WPAR_STOPING_TIM,R4           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14261 0000237A 6041              5118             MOV.W   @R4,R0                          ;
14262                            5119     
14263 0000237C D40D              5120             MOV.L   #_STOPPING_STOP_TIM,R4          ;//停止を測定するタイマ
14264 0000237E 2401              5121             MOV.W   R0,@R4                          ;
14265                            5122     
14266 00002380 235A              5123             XOR     R5,R3                           ;動作方向[[[[[[[[]]]]]]]]]]
14267 00002382 4311              5124             CMP/PZ  R3                              ;
14268 00002384 890D              5125             BT      STOPPING_TIM_CK900              ;同一方向NO 反転した
14269                            5126     
14270                            5127             FAR_JSR #_BRKTMCAL_API4_ENDCNF2,R0      ;2012-03-06
14271 00002386 D00C                   M           MOV.L   #_BRKTMCAL_API4_ENDCNF2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14272 00002388 400B                   M           JSR     @R0                     ;
14273 0000238A 0009                   M           NOP                                     ;
14274                            5128     
14275                            5129     ;       ===== 反転停止 ======
14276 0000238C D10B              5130             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14277 0000238E 6211              5131             MOV.W   @R1,R2                  ;
14278                            5132     
14279 00002390                   5133     STOPPING_TIM_CK600:
14280 00002390 D10B              5134             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14281 00002392 2121              5135             MOV.W   R2,@R1                  ;
14282                            5136     
14283 00002394 D10B              5137             MOV.L   #_STOPPING_TIM_FLG,R1                           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0
                                          測定開始 BIT6:停止中
14284 00002396 900A              5138             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
14285 00002398 2101              5139             MOV.W   R0,@R1                                          ;BIT1~BIT5はその他の処理用
14286                            5140                                                                     ;BIT1:画面へ
14287                            5141     
14288                            5142     ;       ==== 2003-07-09 ========
14289 0000239A D10B              5143             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14290 0000239C 6011              5144             MOV.W   @R1,R0                  ;
14291 0000239E CB20              5145             OR      #(BIT5),R0              ;
14292 000023A0 2101              5146             MOV.W   R0,@R1                  ;BIT5起動有り/完了有り
14293                            5147     ;       =========================
14294                            5148     
14295 000023A2                   5149     STOPPING_TIM_CK900:
14296                            5150     
14297                            5151             FAR_JSR #_STOP_ERR_CHK,R0
14298 000023A2 D00A                   M           MOV.L   #_STOP_ERR_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14299 000023A4 400B                   M           JSR     @R0                     ;
14300 000023A6 0009                   M           NOP                                     ;
14301                            5152     
14302                            5153             SUB_END
14303                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14304 000023A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14305                            5154             M_RTS
14306 000023AA 000B                   M           RTS                             ;RTSの後ろの
14307 000023AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14308                            5155     
14309                            5156     
14310                            5157     ;//     *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   151
PROGRAM NAME =

14311                            5158     ;//     ***     2003-06-13                      ***
14312                            5159     ;//     ***     ニアゼロタイムアウトセット      ***
14313                            5160     ;//     *******************************************
14314                            5161             .EXPORT _SET_NZ_TIM_DAT
14315                            5162             .EXPORT _NZ_TIM_CHK1
14316                                     ***** BEGIN-POOL *****
14317 000023AE 007F                       DATA FOR SOURCE-LINE 5138
14318 000023B0 00000000                   DATA FOR SOURCE-LINE 5117
14319 000023B4 00000000                   DATA FOR SOURCE-LINE 5120
14320 000023B8 00000000                   DATA FOR SOURCE-LINE 5127
14321 000023BC 00000000                   DATA FOR SOURCE-LINE 5130
14322 000023C0 00000000                   DATA FOR SOURCE-LINE 5134
14323 000023C4 00000000                   DATA FOR SOURCE-LINE 5137
14324 000023C8 00000000                   DATA FOR SOURCE-LINE 5143
14325 000023CC 00000000                   DATA FOR SOURCE-LINE 5151
14326                                     ***** END-POOL *****
14327 000023D0                   5163     _SET_NZ_TIM_DAT
14328                            5164             SUB_START
14329 000023D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14330                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14331 000023D2 D109              5165             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14332 000023D4 6011              5166             MOV.W   @R1,R0                          ;
14333 000023D6 2008              5167             TST     R0,R0                           ;
14334                            5168             TST_BIT_ON SET_NZ_TIMDT_010             ;
14335 000023D8 8B00                   M           BF      SET_NZ_TIMDT_010
14336 000023DA 900B              5169             MOV.W   #H'7FFF,R0                      ;
14337 000023DC                   5170     SET_NZ_TIMDT_010
14338 000023DC D107              5171             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14339 000023DE 2101              5172             MOV.W   R0,@R1                          ;
14340                            5173     
14341 000023E0 D107              5174             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;異常(機能は入れない)
14342 000023E2 6011              5175             MOV.W   @R1,R0                          ;
14343 000023E4 2008              5176             TST     R0,R0                           ;
14344                            5177             TST_BIT_ON SET_NZ_TIMDT_020             ;
14345 000023E6 8B00                   M           BF      SET_NZ_TIMDT_020
14346 000023E8 9004              5178             MOV.W   #H'7FFF,R0                      ;
14347 000023EA                   5179     SET_NZ_TIMDT_020                                ;
14348 000023EA D106              5180             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;
14349 000023EC 2101              5181             MOV.W   R0,@R1                          ;
14350                            5182     
14351                            5183             SUB_END
14352                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14353 000023EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14354                            5184             M_RTS
14355 000023F0 000B                   M           RTS                             ;RTSの後ろの
14356 000023F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14357                            5185     
14358                            5186     ;//     *******************************************
14359                            5187     ;//     ***     2003-06-13                      ***
14360                            5188     ;//     ***     ニアゼロタイムアウト            ***
14361                            5189     ;//     *******************************************
14362                                     ***** BEGIN-POOL *****
14363 000023F4 7FFF                       DATA FOR SOURCE-LINE 5169,5178
14364 000023F6 0000                       ALIGNMENT CODE
14365 000023F8 00000000                   DATA FOR SOURCE-LINE 5165
14366 000023FC 00000000                   DATA FOR SOURCE-LINE 5171
14367 00002400 00000000                   DATA FOR SOURCE-LINE 5174
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   152
PROGRAM NAME =

14368 00002404 00000000                   DATA FOR SOURCE-LINE 5180
14369                                     ***** END-POOL *****
14370 00002408                   5190     _NZ_TIM_CHK1
14371                            5191             SUB_START
14372 00002408 4F22                   M           STS.L   PR,@-R15                ;[必要]
14373                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14374 0000240A D10B              5192             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14375 0000240C 6011              5193             MOV.W   @R1,R0                          ;
14376 0000240E 2008              5194             TST     R0,R0                           ;
14377                            5195             TST_BIT_OF NZ_TIM_CK1_100               ;
14378 00002410 8905                   M           BT      NZ_TIM_CK1_100
14379                            5196     
14380 00002412 D10A              5197             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14381 00002414 6011              5198             MOV.W   @R1,R0                          ;
14382 00002416 2008              5199             TST     R0,R0                           ;
14383                            5200             TST_BIT_OF NZ_TIM_CK1_100               ;
14384 00002418 8901                   M           BT      NZ_TIM_CK1_100
14385 0000241A 70FF              5201             ADD     #-1,R0                          ;
14386 0000241C 2101              5202             MOV.W   R0,@R1                          ;
14387 0000241E                   5203     NZ_TIM_CK1_100
14388                            5204     
14389 0000241E D108              5205             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;運転中止(寸動部分)
14390 00002420 6011              5206             MOV.W   @R1,R0                          ;
14391 00002422 2008              5207             TST     R0,R0                           ;
14392                            5208             TST_BIT_OF NZ_TIM_CK1_200               ;
14393 00002424 8905                   M           BT      NZ_TIM_CK1_200
14394                            5209     
14395 00002426 D107              5210             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;運転中止(寸動部分)
14396 00002428 6011              5211             MOV.W   @R1,R0                          ;
14397 0000242A 2008              5212             TST     R0,R0                           ;
14398                            5213             TST_BIT_OF NZ_TIM_CK1_200               ;
14399 0000242C 8901                   M           BT      NZ_TIM_CK1_200
14400 0000242E 70FF              5214             ADD     #-1,R0                          ;
14401 00002430 2101              5215             MOV.W   R0,@R1                          ;
14402 00002432                   5216     NZ_TIM_CK1_200
14403                            5217     
14404                            5218             SUB_END
14405                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14406 00002432 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14407                            5219             M_RTS
14408 00002434 000B                   M           RTS                             ;RTSの後ろの
14409 00002436 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14410                            5220     
14411                            5221     ;       ***********************************
14412                            5222     ;       ***                             ***
14413                            5223     ;       ***     2006-07-28              ***
14414                            5224     ;       ***                             ***
14415                            5225     ;       ***********************************
14416                            5226     ;       ANS R0=0 START // ELSE WAIT
14417                                     ***** BEGIN-POOL *****
14418 00002438 00000000                   DATA FOR SOURCE-LINE 5192
14419 0000243C 00000000                   DATA FOR SOURCE-LINE 5197
14420 00002440 00000000                   DATA FOR SOURCE-LINE 5205
14421 00002444 00000000                   DATA FOR SOURCE-LINE 5210
14422                                     ***** END-POOL *****
14423 00002448                   5227     _ORGIN_MODE_SEL_WAIT:
14424                            5228             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   153
PROGRAM NAME =

14425 00002448 4F22                   M           STS.L   PR,@-R15                ;[必要]
14426                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14427 0000244A 222A              5229             XOR     R2,R2
14428 0000244C D10A              5230             MOV.L   #_MODE_SEL,R1           ;
14429 0000244E 6011              5231             MOV.W   @R1,R0                  ;
14430 00002450 C840              5232             TST     #_W1DUP,R0              ;
14431                            5233             TST_BIT_OF ORGIN_MODE_SEL_WTEND ;
14432 00002452 8921                   M           BT      ORGIN_MODE_SEL_WTEND
14433                            5234     
14434                            5235     
14435                            5236     ;_BRK_SADOU_CHG 2015-09-06
14436                            5237     ;2015-09-06;    ======= 2010-10-25 針の穴===
14437                            5238     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
14438                            5239     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
14439                            5240     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
14440                            5241     ;2015-09-06     TST     R4,R0
14441                            5242     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;off今まで通り
14442                            5243     ;2015-09-06
14443                            5244     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14444                            5245     ;2015-09-06     MOV.W   @R1,R0                          ;
14445                            5246     ;2015-09-06     TST     R0,R0                           ;
14446                            5247     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;
14447                            5248     ;2015-09-06     MOV.W   #1,R2                           ;ﾀｲﾏではないがﾀｲﾏ代わりに入れる
14448                            5249     ;2015-09-06     M_BRA   ORGIN_MODE_SEL_WTEND            ;
14449                            5250     ;2015-09-06
14450                            5251     ;2015-09-06
14451                            5252     ;2015-09-06ORGIN_MODE_SEL_WT030:                                ;
14452                            5253     
14453                            5254     
14454                            5255     
14455                            5256     ;       === 2008-09-16 原点復帰方法ﾚﾍﾞﾙなら即起動===========
14456 00002454 D109              5257             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
14457 00002456 6011              5258             MOV.W   @R1,R0                          ;
14458 00002458 8801              5259             CMP/EQ  #1,R0                           ;ｴｯｼﾞ?
14459 0000245A 8915              5260             BT      ORGIN_MODE_SEL_WT100            ;YES ｴｯｼﾞ
14460                            5261     
14461 0000245C 233A              5262             XOR     R3,R3                           ;(ｻｰﾁ)
14462 0000245E D108              5263             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14463 00002460 6011              5264             MOV.W   @R1,R0                          ;
14464 00002462 9407              5265             MOV.W   #BIT15,R4                       ;
14465 00002464 2048              5266             TST     R4,R0                           ;
14466                            5267             TST_BIT_OF ORGIN_MODE_SEL_WT090         ;
14467 00002466 8900                   M           BT      ORGIN_MODE_SEL_WT090
14468 00002468 9305              5268             MOV.W   #1,R3                           ;待機点位置決め
14469 0000246A                   5269     ORGIN_MODE_SEL_WT090:                           ;
14470 0000246A D106              5270             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14471 0000246C 2131              5271             MOV.W   R3,@R1                          ;
14472 0000246E 222A              5272             XOR     R2,R2                           ;ﾚﾍﾞﾙ
14473                            5273             M_BRA   ORGIN_MODE_SEL_WTEND            ;
14474 00002470 A012                   M           BRA     ORGIN_MODE_SEL_WTEND
14475 00002472 0009                   M           NOP
14476                            5274     ;       ====================================================
14477                            5275     
14478                            5276     
14479                                     ***** BEGIN-POOL *****
14480 00002474 8000                       DATA FOR SOURCE-LINE 5265
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   154
PROGRAM NAME =

14481 00002476 0001                       DATA FOR SOURCE-LINE 5268
14482 00002478 00000000                   DATA FOR SOURCE-LINE 5230
14483 0000247C 00000000                   DATA FOR SOURCE-LINE 5257
14484 00002480 00000000                   DATA FOR SOURCE-LINE 5263
14485 00002484 00000000                   DATA FOR SOURCE-LINE 5270
14486                                     ***** END-POOL *****
14487 00002488                   5277     ORGIN_MODE_SEL_WT100:
14488 00002488 D106              5278             MOV.L   #_WPAR_ORGMOD2_TIM,R1           ;
14489 0000248A 6211              5279             MOV.W   @R1,R2                          ;
14490 0000248C 2228              5280             TST     R2,R2                           ;
14491                            5281             TST_BIT_OF ORGIN_MODE_SEL_WTEND         ;
14492 0000248E 8903                   M           BT      ORGIN_MODE_SEL_WTEND
14493                            5282     
14494                            5283     
14495                            5284             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORGIN_MOD2_START_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
14496 00002490 D105                   M           MOV.L   #_ORGIN_MOD2_START_FLG,R1               ;
14497 00002492 6011                   M           MOV.W   @R1,R0          ;
14498 00002494 CB01                   M           OR      #BIT0,R0                ;
14499 00002496 2101                   M           MOV.W   R0,@R1          ;
14500                            5285     
14501                            5286     
14502 00002498                   5287     ORGIN_MODE_SEL_WTEND:
14503 00002498 D104              5288             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;
14504 0000249A 2121              5289             MOV.W   R2,@R1                  ;
14505 0000249C 6023              5290             MOV     R2,R0                   ;
14506                            5291     
14507                            5292             SUB_END
14508                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14509 0000249E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14510                            5293             M_RTS
14511 000024A0 000B                   M           RTS                             ;RTSの後ろの
14512 000024A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14513                            5294     
14514                            5295             .EXPORT _ORGIN_MODE_FLG_CLR     ;
14515                                     ***** BEGIN-POOL *****
14516 000024A4 00000000                   DATA FOR SOURCE-LINE 5278
14517 000024A8 00000000                   DATA FOR SOURCE-LINE 5284
14518 000024AC 00000000                   DATA FOR SOURCE-LINE 5288
14519                                     ***** END-POOL *****
14520 000024B0                   5296     _ORGIN_MODE_FLG_CLR:
14521                            5297             SUB_START
14522 000024B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14523                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14524 000024B2 200A              5298             XOR     R0,R0                           ;
14525 000024B4 D102              5299             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14526 000024B6 2101              5300             MOV.W   R0,@R1                          ;
14527                            5301             SUB_END
14528                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14529 000024B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14530                            5302             M_RTS
14531 000024BA 000B                   M           RTS                             ;RTSの後ろの
14532 000024BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14533                            5303     
14534                            5304     ;       ***********************************
14535                            5305     ;       ***                             ***
14536                            5306     ;       ***     2015-10-13              ***
14537                            5307     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   155
PROGRAM NAME =

14538                            5308     ;       ***********************************
14539                            5309     ;       ANS R0=0 START // ELSE WAIT
14540                            5310     ;       レベルタイプのみ
14541                                     ***** BEGIN-POOL *****
14542 000024BE 0000                       ALIGNMENT CODE
14543 000024C0 00000000                   DATA FOR SOURCE-LINE 5299
14544                                     ***** END-POOL *****
14545 000024C4                   5311     _ORGIN_MODE_SEL_START:
14546                            5312             SUB_START
14547 000024C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14548                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14549                            5313     
14550 000024C6 D109              5314             MOV.L   #_MODE_SEL,R1           ;
14551 000024C8 6011              5315             MOV.W   @R1,R0                  ;
14552 000024CA C840              5316             TST     #_W1DUP,R0              ;
14553                            5317             TST_BIT_OF ORGIN_MODE_SEL_STEND ;
14554 000024CC 8908                   M           BT      ORGIN_MODE_SEL_STEND
14555                            5318     
14556 000024CE 233A              5319             XOR     R3,R3                           ;(ｻｰﾁ)
14557 000024D0 D107              5320             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14558 000024D2 6011              5321             MOV.W   @R1,R0                          ;
14559 000024D4 9407              5322             MOV.W   #BIT15,R4                       ;
14560 000024D6 2048              5323             TST     R4,R0                           ;
14561                            5324             TST_BIT_OF ORGIN_MODE_SEL_ST090         ;
14562 000024D8 8900                   M           BT      ORGIN_MODE_SEL_ST090
14563 000024DA 9305              5325             MOV.W   #1,R3                           ;待機点位置決め
14564 000024DC                   5326     ORGIN_MODE_SEL_ST090:                           ;
14565 000024DC D105              5327             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14566 000024DE 2131              5328             MOV.W   R3,@R1                          ;
14567 000024E0                   5329     ORGIN_MODE_SEL_STEND:
14568                            5330     
14569                            5331             SUB_END
14570                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14571 000024E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14572                            5332             M_RTS
14573 000024E2 000B                   M           RTS                             ;RTSの後ろの
14574 000024E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14575                            5333     
14576                            5334     
14577                            5335     ;       ***********************************
14578                            5336     ;       ***                             ***
14579                            5337     ;       ***     2006-07-28              ***
14580                            5338     ;       ***     ﾓｰﾄﾞ判定・起動          ***
14581                            5339     ;       ***********************************
14582                            5340     ;       00:EXIT
14583                            5341     ;       55:起動
14584                            5342     ;       FF:WAIT
14585                                     ***** BEGIN-POOL *****
14586 000024E6 8000                       DATA FOR SOURCE-LINE 5322
14587 000024E8 0001                       DATA FOR SOURCE-LINE 5325
14588 000024EA 0000                       ALIGNMENT CODE
14589 000024EC 00000000                   DATA FOR SOURCE-LINE 5314
14590 000024F0 00000000                   DATA FOR SOURCE-LINE 5320
14591 000024F4 00000000                   DATA FOR SOURCE-LINE 5327
14592                                     ***** END-POOL *****
14593 000024F8                   5343     _ORGIN_MODE_START_WAIT:
14594                            5344             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   156
PROGRAM NAME =

14595 000024F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14596                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14597 000024FA D10C              5345             MOV.L   #_MODE_SEL,R1           ;
14598 000024FC 6011              5346             MOV.W   @R1,R0                  ;
14599 000024FE C840              5347             TST     #_W1DUP,R0              ;
14600                            5348             TST_BIT_OF ORGIN_MODE_ST_WT_NOT ;
14601 00002500 892C                   M           BT      ORGIN_MODE_ST_WT_NOT
14602                            5349     
14603 00002502 D10B              5350             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14604 00002504 6011              5351             MOV.W   @R1,R0                          ;
14605 00002506 2008              5352             TST     R0,R0                           ;
14606                            5353             TST_BIT_OF ORGIN_MODE_ST_WT_NOT         ;
14607 00002508 8928                   M           BT      ORGIN_MODE_ST_WT_NOT
14608                            5354     
14609 0000250A D10A              5355             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;//2.0sec
14610 0000250C 6211              5356             MOV.W   @R1,R2                  ;
14611 0000250E 2228              5357             TST     R2,R2                   ;
14612                            5358             TST_BIT_OF ORGIN_MODE_ST_WT100  ;TIME UP 2.0
14613 00002510 8916                   M           BT      ORGIN_MODE_ST_WT100
14614 00002512 72FF              5359             ADD     #-1,R2
14615 00002514 2121              5360             MOV.W   R2,@R1
14616                            5361     
14617 00002516 D108              5362             MOV.L   #_BTTN_FLG,R1                   ;
14618 00002518 6011              5363             MOV.W   @R1,R0                          ;
14619 0000251A C804              5364             TST     #BIT2,R0                        ;両手ON
14620                            5365             TST_BIT_ON ORGIN_MODE_ST_WT_WAIT        ;YES
14621 0000251C 8B1B                   M           BF      ORGIN_MODE_ST_WT_WAIT
14622                            5366     
14623 0000251E 9003              5367             MOV.W   #1,R0                           ;ﾁｮﾝ押し
14624 00002520 D106              5368             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14625 00002522 2101              5369             MOV.W   R0,@R1                          ;
14626                            5370             M_BRA   ORGIN_MODE_ST_WT_START          ;
14627 00002524 A014                   M           BRA     ORGIN_MODE_ST_WT_START
14628 00002526 0009                   M           NOP
14629                            5371     
14630                                     ***** BEGIN-POOL *****
14631 00002528 0001                       DATA FOR SOURCE-LINE 5367
14632 0000252A 0000                       ALIGNMENT CODE
14633 0000252C 00000000                   DATA FOR SOURCE-LINE 5345
14634 00002530 00000000                   DATA FOR SOURCE-LINE 5350
14635 00002534 00000000                   DATA FOR SOURCE-LINE 5355
14636 00002538 00000000                   DATA FOR SOURCE-LINE 5362
14637 0000253C 00000000                   DATA FOR SOURCE-LINE 5368
14638                                     ***** END-POOL *****
14639 00002540                   5372     ORGIN_MODE_ST_WT100                             ;
14640 00002540 200A              5373             XOR     R0,R0                           ;長い押し
14641 00002542 D102              5374             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14642 00002544 2101              5375             MOV.W   R0,@R1                          ;
14643                            5376             M_BRA   ORGIN_MODE_ST_WT_START          ;
14644 00002546 A003                   M           BRA     ORGIN_MODE_ST_WT_START
14645 00002548 0009                   M           NOP
14646                            5377     
14647                            5378     
14648                                     ***** BEGIN-POOL *****
14649 0000254A 0000                       ALIGNMENT CODE
14650 0000254C 00000000                   DATA FOR SOURCE-LINE 5374
14651                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   157
PROGRAM NAME =

14652 00002550                   5379     ORGIN_MODE_ST_WT_START          ;
14653 00002550 E055              5380             MOV.B   #H'55,R0                ;
14654                            5381             M_BRA   ORGIN_MODE_ST_WTEND     ;
14655 00002552 A004                   M           BRA     ORGIN_MODE_ST_WTEND
14656 00002554 0009                   M           NOP
14657 00002556                   5382     ORGIN_MODE_ST_WT_WAIT           ;
14658 00002556 E0FF              5383             MOV.B   #-1,R0
14659                            5384             M_BRA   ORGIN_MODE_ST_WTEND     ;
14660 00002558 A001                   M           BRA     ORGIN_MODE_ST_WTEND
14661 0000255A 0009                   M           NOP
14662                            5385     
14663 0000255C                   5386     ORGIN_MODE_ST_WT_NOT    ;
14664 0000255C 200A              5387             XOR     R0,R0
14665 0000255E                   5388     ORGIN_MODE_ST_WTEND     ;
14666                            5389             SUB_END
14667                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14668 0000255E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14669                            5390             M_RTS
14670 00002560 000B                   M           RTS                             ;RTSの後ろの
14671 00002562 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14672                            5391     
14673                            5392     ;       *******************************************
14674                            5393     ;       ***                                     ***
14675                            5394     ;       ***     通信側にも処理がある            ***
14676                            5395     ;       ***                                     ***
14677                            5396     ;       *******************************************
14678                            5397             .IMPORT         _RENEA_ERR_RESET_INI
14679                            5398             .IMPORT         _LT_RNA_REF_ERR_FLG1    ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
14680                            5399             .IMPORT         _API_X_PRO_SEND_START2  ;
14681                            5400     
14682 00002564                   5401     _RNA_SCIF_ERR_CLR1:
14683                            5402             SUB_START
14684 00002564 4F22                   M           STS.L   PR,@-R15                ;[必要]
14685                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14686                            5403             .AIF    0 EQ    0               ;
14687                            5404 C           .IMPORT _IN_RNA_REF_ERR_FLG1
14688                            5405 C           .IMPORT _IN_RNA_REF_ERR_FLG2
14689                            5406 C   
14690 00002566 D103              5407 C           MOV.L   #_LT_RNA_REF_ERR_FLG1,R1                ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
14691 00002568 6011              5408 C           MOV.W   @R1,R0                                  ;
14692 0000256A C850              5409 C           TST     #(BIT6+BIT4),R0                         ;ﾘﾆｱ異常
14693                            5410 C           TST_BIT_ON RNA_SCIF_ERRCLR1_050                 ;
14694 0000256C 8B04                   M           BF      RNA_SCIF_ERRCLR1_050
14695                            5411 C   
14696                            5412 C   ;;;[温度ﾃｽﾄ用でﾘｾｯﾄ毎に読出たい時用]
14697                            5413 C   ;;;FAR_JSR      #_API_X_PRO_SEND_START2,R0              ;2015-10-15
14698                            5414 C   
14699                            5415 C           M_BRA   RNA_SCIF_ERRCLR1_100                    ;
14700 0000256E A00F                   M           BRA     RNA_SCIF_ERRCLR1_100
14701 00002570 0009                   M           NOP
14702                            5416 C   
14703                                 C   ***** BEGIN-POOL *****
14704 00002572 0000                   C   ALIGNMENT CODE
14705 00002574 00000000               C   DATA FOR SOURCE-LINE 5407
14706                                 C   ***** END-POOL *****
14707 00002578                   5417 C   RNA_SCIF_ERRCLR1_050:
14708                            5418 C           FAR_JSR #_RNA_SCIF_ERR_CLR2,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   158
PROGRAM NAME =

14709 00002578 D003                   M           MOV.L   #_RNA_SCIF_ERR_CLR2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14710 0000257A 400B                   M           JSR     @R0                     ;
14711 0000257C 0009                   M           NOP                                     ;
14712                            5419 C           FAR_JSR #_RENEA_ERR_RESET_INI,R0                ;
14713 0000257E D003                   M           MOV.L   #_RENEA_ERR_RESET_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14714 00002580 400B                   M           JSR     @R0                     ;
14715 00002582 0009                   M           NOP                                     ;
14716                            5420 C           M_BRA   RNA_SCIF_ERRCLR1_200                    ;
14717 00002584 A007                   M           BRA     RNA_SCIF_ERRCLR1_200
14718 00002586 0009                   M           NOP
14719                            5421 C   
14720                                 C   ***** BEGIN-POOL *****
14721 00002588 00000000               C   DATA FOR SOURCE-LINE 5418
14722 0000258C 00000000               C   DATA FOR SOURCE-LINE 5419
14723                                 C   ***** END-POOL *****
14724 00002590                   5422 C   RNA_SCIF_ERRCLR1_100:
14725                            5423 C   
14726                            5424 C           FAR_JSR #_RNA_SCIF_ERR_CLR2,R0
14727 00002590 D002                   M           MOV.L   #_RNA_SCIF_ERR_CLR2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14728 00002592 400B                   M           JSR     @R0                     ;
14729 00002594 0009                   M           NOP                                     ;
14730                            5425 C   
14731 00002596                   5426 C   RNA_SCIF_ERRCLR1_200:
14732                            5427 C   
14733                            5428             .AENDI
14734                            5429             SUB_END
14735                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14736 00002596 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14737                            5430             M_RTS
14738 00002598 000B                   M           RTS                             ;RTSの後ろの
14739 0000259A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14740                            5431     
14741                            5432             .EXPORT _CLRSQ206_BIT11
14742                            5433             .EXPORT _SETSQ206_BIT11
14743                            5434     
14744                                     ***** BEGIN-POOL *****
14745 0000259C 00000000                   DATA FOR SOURCE-LINE 5424
14746                                     ***** END-POOL *****
14747 000025A0                   5435     _CLRSQ206_BIT11:
14748                            5436             SUB_START
14749 000025A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14750                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14751                            5437             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT11),WKRG1=R1,WKRG2=R
                                          4       ;
14752 000025A2 D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
14753 000025A4 6011                   M           MOV.W   @R1,R0          ;
14754 000025A6 9404                   M           MOV.W   #LWORD (~BIT11),R4      ;
14755 000025A8 2049                   M           AND     R4,R0           ;
14756 000025AA 2101                   M           MOV.W   R0,@R1          ;
14757                            5438             SUB_END
14758                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14759 000025AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14760                            5439             M_RTS
14761 000025AE 000B                   M           RTS                             ;RTSの後ろの
14762 000025B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14763                            5440     
14764                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   159
PROGRAM NAME =

14765 000025B2 F7FF                       DATA FOR SOURCE-LINE 5437
14766 000025B4 00000000                   DATA FOR SOURCE-LINE 5437
14767                                     ***** END-POOL *****
14768 000025B8                   5441     _SETSQ206_BIT11:
14769                            5442             SUB_START
14770 000025B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14771                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14772                            5443             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4
                                                  ;
14773 000025BA D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
14774 000025BC 6011                   M           MOV.W   @R1,R0          ;
14775 000025BE 9404                   M           MOV.W   #(BIT11),R4             ;
14776 000025C0 204B                   M           OR      R4,R0           ;
14777 000025C2 2101                   M           MOV.W   R0,@R1          ;
14778                            5444             SUB_END
14779                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14780 000025C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14781                            5445             M_RTS
14782 000025C6 000B                   M           RTS                             ;RTSの後ろの
14783 000025C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14784                            5446     
14785                            5447     
14786                            5448     
14787                            5449     
14788                            5450     ;       ---------------------------
14789                            5451     ;       ---     2007-01-16      ---
14790                            5452     ;       ---------------------------
14791                            5453     ;       ﾚﾍﾞﾙﾀｲﾌﾟのみ対象
14792                            5454     ;
14793                                     ***** BEGIN-POOL *****
14794 000025CA 0800                       DATA FOR SOURCE-LINE 5443
14795 000025CC 00000000                   DATA FOR SOURCE-LINE 5443
14796                                     ***** END-POOL *****
14797 000025D0                   5455     _DRV_START_KEP_WAIT
14798                            5456             SUB_START
14799 000025D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14800                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14801                            5457     
14802                            5458     
14803                            5459     ;_BRK_SADOU_CHG 2015-09-06
14804                            5460     ;;;2015-09-06   MOV.L   #_MODE_SEL,R1                   ;
14805                            5461     ;;;2015-09-06   MOV.W   @R1,R0                          ;
14806                            5462     ;;;2015-09-06   TST     #_W1DUP,R0                      ;
14807                            5463     ;;;2015-09-06   TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
14808                            5464     
14809 000025D2 D109              5465             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
14810 000025D4 6011              5466             MOV.W   @R1,R0                          ;
14811 000025D6 2008              5467             TST     R0,R0
14812                            5468             TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
14813 000025D8 8B1C                   M           BF      DRV_START_KEP_WAIT_NON
14814                            5469     
14815 000025DA D108              5470             MOV.L   #_DRV_START_KEEP,R1             ;FLG
14816 000025DC 6011              5471             MOV.W   @R1,R0                          ;
14817 000025DE C801              5472             TST     #BIT0,R0                        ;
14818                            5473             TST_BIT_ON DRV_START_KEP_WAIT_100       ;
14819 000025E0 8B10                   M           BF      DRV_START_KEP_WAIT_100
14820                            5474     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   160
PROGRAM NAME =

14821                            5475     ;       --- OFF---
14822 000025E2 D107              5476             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14823 000025E4 6011              5477             MOV.W   @R1,R0                          ;
14824 000025E6 2008              5478             TST     R0,R0                           ;
14825                            5479             TST_BIT_OF DRV_START_KEP_WAIT_100
14826 000025E8 890C                   M           BT      DRV_START_KEP_WAIT_100
14827                            5480     
14828 000025EA 9003              5481             MOV.W   #BIT0,R0                        ;
14829 000025EC D103              5482             MOV.L   #_DRV_START_KEEP,R1             ;FLG
14830 000025EE 2101              5483             MOV.W   R0,@R1                          ;
14831                            5484             M_BRA   DRV_START_KEP_WAIT_USE          ;
14832 000025F0 A013                   M           BRA     DRV_START_KEP_WAIT_USE
14833 000025F2 0009                   M           NOP
14834                            5485     
14835                                     ***** BEGIN-POOL *****
14836 000025F4 0001                       DATA FOR SOURCE-LINE 5481
14837 000025F6 0000                       ALIGNMENT CODE
14838 000025F8 00000000                   DATA FOR SOURCE-LINE 5465
14839 000025FC 00000000                   DATA FOR SOURCE-LINE 5470,5482
14840 00002600 00000000                   DATA FOR SOURCE-LINE 5476
14841                                     ***** END-POOL *****
14842 00002604                   5486     DRV_START_KEP_WAIT_100
14843 00002604 D102              5487             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;「「「「ﾛｯｸ解除の遅延時間中?」」」
14844 00002606 6011              5488             MOV.W   @R1,R0                          ;
14845 00002608 2008              5489             TST     R0,R0                           ;
14846                            5490             TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
14847 0000260A 8B06                   M           BF      DRV_START_KEP_WAIT_USE
14848                            5491     ;       -- 起動--
14849                            5492             M_BRA   DRV_START_KEP_WAIT_START
14850 0000260C A009                   M           BRA     DRV_START_KEP_WAIT_START
14851 0000260E 0009                   M           NOP
14852                            5493     
14853                            5494     
14854                                     ***** BEGIN-POOL *****
14855 00002610 00000000                   DATA FOR SOURCE-LINE 5487
14856                                     ***** END-POOL *****
14857 00002614                   5495     DRV_START_KEP_WAIT_NON
14858 00002614 200A              5496             XOR     R0,R0                   ;
14859                            5497             M_BRA   DRV_START_KEP_WAIT_END  ;
14860 00002616 A008                   M           BRA     DRV_START_KEP_WAIT_END
14861 00002618 0009                   M           NOP
14862 0000261A                   5498     DRV_START_KEP_WAIT_USE
14863 0000261A 9001              5499             MOV.W   #1,R0
14864                            5500             M_BRA   DRV_START_KEP_WAIT_END
14865 0000261C A005                   M           BRA     DRV_START_KEP_WAIT_END
14866 0000261E 0009                   M           NOP
14867                            5501     
14868                                     ***** BEGIN-POOL *****
14869 00002620 0001                       DATA FOR SOURCE-LINE 5499
14870                                     ***** END-POOL *****
14871 00002622                   5502     DRV_START_KEP_WAIT_START
14872 00002622 200A              5503             XOR     R0,R0                           ;
14873 00002624 D103              5504             MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
14874 00002626 2101              5505             MOV.W   R0,@R1                          ;
14875 00002628 9002              5506             MOV.W   #H'55,R0                        ;
14876 0000262A                   5507     DRV_START_KEP_WAIT_END
14877                            5508             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   161
PROGRAM NAME =

14878                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14879 0000262A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14880                            5509             M_RTS
14881 0000262C 000B                   M           RTS                             ;RTSの後ろの
14882 0000262E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14883                            5510     
14884                            5511     ;;      ---------------------------
14885                            5512     ;;      ---     2007-01-16      ---
14886                            5513     ;;      ---------------------------
14887                            5514     ;;_DRV_START_KEP_WAIT
14888                            5515     ;;      SUB_START
14889                            5516     ;;
14890                            5517     ;;      -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
14891                            5518     ;;      MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
14892                            5519     ;;      MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
14893                            5520     ;;      MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2秒だから
14894                            5521     ;;      TST     R4,R0
14895                            5522     ;;      TST_BIT_ON DRV_START_KEP_WAIT_050       ;原点復帰でもﾊﾟﾙｽ出力を遅らせる
14896                            5523     ;;
14897                            5524     ;;      MOV.L   #_MODE_SEL,R1                   ;
14898                            5525     ;;      MOV.W   @R1,R0                          ;
14899                            5526     ;;      TST     #_W1DUP,R0                      ;
14900                            5527     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
14901                            5528     ;;
14902                            5529     ;;      MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
14903                            5530     ;;      MOV.W   @R1,R0                          ;
14904                            5531     ;;      TST     R0,R0
14905                            5532     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
14906                            5533     ;;
14907                            5534     ;;DRV_START_KEP_WAIT_050
14908                            5535     ;;
14909                            5536     ;;
14910                            5537     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
14911                            5538     ;;      MOV.W   @R1,R0                          ;
14912                            5539     ;;      TST     #BIT0,R0                        ;
14913                            5540     ;;      TST_BIT_ON DRV_START_KEP_WAIT_100       ;
14914                            5541     ;;
14915                            5542     ;;      --- OFF---
14916                            5543     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14917                            5544     ;;      MOV.W   @R1,R0                          ;
14918                            5545     ;;      TST     R0,R0                           ;
14919                            5546     ;;      TST_BIT_OF DRV_START_KEP_WAIT_100
14920                            5547     ;;
14921                            5548     ;;      MOV.W   #BIT0,R0                        ;
14922                            5549     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
14923                            5550     ;;      MOV.W   R0,@R1                          ;
14924                            5551     ;;      M_BRA   DRV_START_KEP_WAIT_USE          ;
14925                            5552     ;;
14926                            5553     ;;DRV_START_KEP_WAIT_100
14927                            5554     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14928                            5555     ;;      MOV.W   @R1,R0                          ;
14929                            5556     ;;      TST     R0,R0                           ;
14930                            5557     ;;      TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
14931                            5558     ;;      -- 起動--
14932                            5559     ;;      M_BRA   DRV_START_KEP_WAIT_START
14933                            5560     ;;
14934                            5561     ;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   162
PROGRAM NAME =

14935                            5562     ;;DRV_START_KEP_WAIT_NON
14936                            5563     ;;      XOR     R0,R0                   ;
14937                            5564     ;;      M_BRA   DRV_START_KEP_WAIT_END  ;
14938                            5565     ;;DRV_START_KEP_WAIT_USE
14939                            5566     ;;      MOV.W   #1,R0
14940                            5567     ;;      M_BRA   DRV_START_KEP_WAIT_END
14941                            5568     ;;
14942                            5569     ;;DRV_START_KEP_WAIT_START
14943                            5570     ;;      XOR     R0,R0                           ;
14944                            5571     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
14945                            5572     ;;      MOV.W   R0,@R1                          ;
14946                            5573     ;;      MOV.W   #H'55,R0                        ;
14947                            5574     ;;DRV_START_KEP_WAIT_END
14948                            5575     ;;      SUB_END
14949                            5576     ;;      M_RTS
14950                            5577     
14951                            5578     
14952                            5579     ;       ---------------------------
14953                            5580     ;       ---     2007-01-16      ---
14954                            5581     ;       ---------------------------
14955                                     ***** BEGIN-POOL *****
14956 00002630 0055                       DATA FOR SOURCE-LINE 5506
14957 00002632 0000                       ALIGNMENT CODE
14958 00002634 00000000                   DATA FOR SOURCE-LINE 5504
14959                                     ***** END-POOL *****
14960 00002638                   5582     _START_SFTY_LOCK_CLR
14961                            5583             SUB_START
14962 00002638 4F22                   M           STS.L   PR,@-R15                ;[必要]
14963                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14964 0000263A 200A              5584             XOR     R0,R0
14965                            5585     
14966 0000263C D103              5586             MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;ﾛｯｸ釈放の遅延時間
14967 0000263E 2101              5587             MOV.W   R0,@R1                  ;
14968                            5588     
14969                            5589     ;_BRK_SADOU_CHG 2015-09-06
14970                            5590     ;;;2015-09-06廃止       MOV.L   #_SFTY_LOCK_DLYTM,R1    ;位置決め完了の遅延時間
14971                            5591     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
14972                            5592     
14973                            5593     ;;;2015-09-06廃止       MOV.L   #_RDY_SFTY_LOCK,R1      ;FLG
14974                            5594     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
14975                            5595     
14976 00002640 D103              5596             MOV.L   #_DRV_START_KEEP,R1     ;FLG
14977 00002642 2101              5597             MOV.W   R0,@R1                  ;
14978                            5598     
14979                            5599             SUB_END
14980                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14981 00002644 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14982                            5600             M_RTS
14983 00002646 000B                   M           RTS                             ;RTSの後ろの
14984 00002648 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14985                            5601     
14986                            5602     
14987                            5603     
14988                            5604     ;       ***********************************
14989                            5605     ;       ***                             ***
14990                            5606     ;       ***     2007-02-05              ***
14991                            5607     ;       ***     運転完了、中断時        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   163
PROGRAM NAME =

14992                            5608     ;       ***     遮光遅延を働かせる      ***
14993                            5609     ;       ***                             ***
14994                            5610     ;       ***********************************
14995                            5611     ;2015-09-06_BRK_SADOU_CHG EQ 1
14996                            5612     ;;廃止_SFTY_DLY_SET1                            ;安一専用
14997                            5613     ;;廃止  SUB_START
14998                            5614     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
14999                            5615     ;;廃止  MOV.W   @R1,R0                  ;
15000                            5616     ;;廃止
15001                            5617     ;;廃止  MOV.L   #_PAR_SLOCK_DLY2,R1     ;
15002                            5618     ;;廃止  MOV.W   @R1,R1                  ;
15003                            5619     ;;廃止  ADD     R1,R0                   ;
15004                            5620     ;;廃止
15005                            5621     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
15006                            5622     ;;廃止  MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
15007                            5623     ;;廃止  SUB_END
15008                            5624     ;;廃止  M_RTS
15009                            5625     ;;廃止
15010                            5626     ;;廃止_SFTY_DLY_SET2
15011                            5627     ;;廃止  SUB_START
15012                            5628     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
15013                            5629     ;;廃止  MOV.W   @R1,R0                  ;
15014                            5630     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
15015                            5631     ;;廃止  MOV.W   R0,@R1                  ;
15016                            5632     ;;廃止  SUB_END
15017                            5633     ;;廃止  M_RTS
15018                            5634     ;;廃止; ------このNOP4がないと変になる2007-02-26-----------
15019                            5635     ;;廃止  NOP
15020                            5636     ;;廃止  NOP
15021                            5637     ;;廃止  NOP
15022                            5638     ;;廃止  NOP
15023                            5639     
15024                            5640     ;       *******************************************
15025                            5641     ;       ***                                     ***
15026                            5642     ;       ***     ORGIN DIRECT CHECK              ***
15027                            5643     ;       ***     2008-04-28　180度近辺           ***
15028                            5644     ;       ***     2008-05-07  181はパス           ***
15029                            5645     ;       *******************************************
15030                            5646     ;       179,180でON
15031                            5647     ;       178,180,181以外でOFF
15032                            5648     
15033                                     ***** BEGIN-POOL *****
15034 0000264A 0000                       ALIGNMENT CODE
15035 0000264C 00000000                   DATA FOR SOURCE-LINE 5586
15036 00002650 00000000                   DATA FOR SOURCE-LINE 5596
15037                                     ***** END-POOL *****
15038          000006FE          5649     _EQ_ORG_ONDIG   .EQU    179*10  ;
15039          00000708          5650     _EQ_ORG_OFDIG   .EQU    180*10  ;
15040          0000000A          5651     _EQ_ORG_HIS     .EQU    10      ;
15041                            5652     
15042 00002654                   5653             .ALIGN  4                               ;2008-05-07
15043 00002654                   5654     _ORGIN_180CHK
15044                            5655             SUB_START
15045 00002654 4F22                   M           STS.L   PR,@-R15                ;[必要]
15046                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15047                            5656     
15048 00002656 D408              5657             MOV.L   #_INC_ENC360,R4                                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   164
PROGRAM NAME =

                                          同じ)
15049 00002658 6241              5658             MOV.W   @R4,R2                                          ;
15050                            5659     
15051 0000265A 910A              5660             MOV.W   #_EQ_ORG_ONDIG,R1                                       ;179~181
15052 0000265C 930A              5661             MOV.W   #_EQ_ORG_OFDIG,R3                                       ;
15053                            5662             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15054 0000265E 3313                   M           CMP/GE  R1,R3
15055 00002660 8B0C                   M           BF      JMP0100001
15056                                 M   ;       === 0度をはさなまい===
15057 00002662 200A                   M           XOR     R0,R0
15058 00002664 3213                   M           CMP/GE  R1,R2           ;
15059 00002666 8B0F                   M           BF      JMP0200001                      ; PV<SV1
15060 00002668 3323                   M           CMP/GE  R2,R3           ;
15061 0000266A 8B0D                   M           BF      JMP0200001                      ; SV2<PV2 (1)
15062 0000266C E001                   M           MOV     #1,R0           ;
15063                                 M           M_BRA   JMP0200001                      ;
15064 0000266E A00B                   M           BRA     JMP0200001
15065 00002670 0009                   M           NOP
15066                                 M   
15067                                 M   ;       ==== ０度をはさむ====
15068                                 M   ***** BEGIN-POOL *****
15069 00002672 06FE                   M   DATA FOR SOURCE-LINE 5660
15070 00002674 0708                   M   DATA FOR SOURCE-LINE 5661
15071 00002676 0000                   M   ALIGNMENT CODE
15072 00002678 00000000               M   DATA FOR SOURCE-LINE 5657
15073                                 M   ***** END-POOL *****
15074 0000267C                        M   JMP0100001:
15075 0000267C E001                   M           MOV     #1,R0
15076 0000267E 3213                   M           CMP/GE  R1,R2
15077 00002680 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
15078 00002682 3323                   M           CMP/GE  R2,R3           ;
15079 00002684 8900                   M           BT      JMP0200001                      ;
15080 00002686 200A                   M           XOR     R0,R0           ;
15081 00002688                        M   JMP0200001:
15082                            5663     
15083 00002688 2008              5664             TST     R0,R0                                           ;
15084                            5665             TST_BIT_OF ORGIN_180CK_100                              ;範囲内ﾋｽﾃﾘｼｽ中
15085 0000268A 8911                   M           BT      ORGIN_180CK_100
15086                            5666     
15087                            5667             MEM1_BIT0_F_ORSET MEM=_ORIGN_180ARA_FLG,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15088 0000268C D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
15089 0000268E 6041                   M           MOV.W   @R4,R0          ;
15090 00002690 9108                   M           MOV.W   #BIT5,R1                ;
15091 00002692 201B                   M           OR      R1,R0           ;
15092 00002694 2401                   M           MOV.W   R0,@R4          ;
15093                            5668             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15094 00002696 D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
15095 00002698 6041                   M           MOV.W   @R4,R0          ;
15096 0000269A 9103                   M           MOV.W   #BIT5,R1                ;
15097 0000269C 201B                   M           OR      R1,R0           ;
15098 0000269E 2401                   M           MOV.W   R0,@R4          ;
15099                            5669     
15100                            5670     ;;;;    ------- 2009-03-19 不具合(だめ) S05p~現在までの不具合 S05vにて修正
15101                            5671     ;;;;    MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15102                            5672     ;;;;    MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15103                            5673     
15104                            5674     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   165
PROGRAM NAME =

15105                            5675             M_BRA   ORGIN_180CK_300                                 ;
15106 000026A0 A02E                   M           BRA     ORGIN_180CK_300
15107 000026A2 0009                   M           NOP
15108                            5676     
15109                            5677     
15110                                     ***** BEGIN-POOL *****
15111 000026A4 0020                       DATA FOR SOURCE-LINE 5667,5668
15112 000026A6 0000                       ALIGNMENT CODE
15113 000026A8 00000000                   DATA FOR SOURCE-LINE 5667
15114 000026AC 00000000                   DATA FOR SOURCE-LINE 5668
15115                                     ***** END-POOL *****
15116 000026B0                   5678     ORGIN_180CK_100
15117 000026B0 910A              5679             MOV.W   #_EQ_ORG_ONDIG-_EQ_ORG_HIS,R1                   ;178~182
15118 000026B2 930A              5680             MOV.W   #_EQ_ORG_OFDIG+_EQ_ORG_HIS,R3                   ;
15119                            5681             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15120 000026B4 3313                   M           CMP/GE  R1,R3
15121 000026B6 8B09                   M           BF      JMP0100002
15122                                 M   ;       === 0度をはさなまい===
15123 000026B8 200A                   M           XOR     R0,R0
15124 000026BA 3213                   M           CMP/GE  R1,R2           ;
15125 000026BC 8B0C                   M           BF      JMP0200002                      ; PV<SV1
15126 000026BE 3323                   M           CMP/GE  R2,R3           ;
15127 000026C0 8B0A                   M           BF      JMP0200002                      ; SV2<PV2 (1)
15128 000026C2 E001                   M           MOV     #1,R0           ;
15129                                 M           M_BRA   JMP0200002                      ;
15130 000026C4 A008                   M           BRA     JMP0200002
15131 000026C6 0009                   M           NOP
15132                                 M   
15133                                 M   ;       ==== ０度をはさむ====
15134                                 M   ***** BEGIN-POOL *****
15135 000026C8 06F4                   M   DATA FOR SOURCE-LINE 5679
15136 000026CA 0712                   M   DATA FOR SOURCE-LINE 5680
15137                                 M   ***** END-POOL *****
15138 000026CC                        M   JMP0100002:
15139 000026CC E001                   M           MOV     #1,R0
15140 000026CE 3213                   M           CMP/GE  R1,R2
15141 000026D0 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
15142 000026D2 3323                   M           CMP/GE  R2,R3           ;
15143 000026D4 8900                   M           BT      JMP0200002                      ;
15144 000026D6 200A                   M           XOR     R0,R0           ;
15145 000026D8                        M   JMP0200002:
15146 000026D8 2008              5682             TST     R0,R0                                           ;
15147                            5683             TST_BIT_ON ORGIN_180CK_200                              ;範囲内ﾋｽﾃﾘｼｽ中
15148 000026DA 8B11                   M           BF      ORGIN_180CK_200
15149                            5684     
15150                            5685             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15151 000026DC D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
15152 000026DE 6041                   M           MOV.W   @R4,R0          ;
15153 000026E0 9108                   M           MOV.W   #LWORD (~BIT5),R1       ;
15154 000026E2 2019                   M           AND     R1,R0           ;
15155 000026E4 2401                   M           MOV.W   R0,@R4          ;
15156                            5686             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15157 000026E6 D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
15158 000026E8 6041                   M           MOV.W   @R4,R0          ;
15159 000026EA 9103                   M           MOV.W   #LWORD (~BIT5),R1       ;
15160 000026EC 2019                   M           AND     R1,R0           ;
15161 000026EE 2401                   M           MOV.W   R0,@R4          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   166
PROGRAM NAME =

15162                            5687             M_BRA   ORGIN_180CK_300                                 ;
15163 000026F0 A006                   M           BRA     ORGIN_180CK_300
15164 000026F2 0009                   M           NOP
15165                            5688     
15166                            5689     ;       --------- ﾋｽﾃﾘｼｽ中---
15167                                     ***** BEGIN-POOL *****
15168 000026F4 FFDF                       DATA FOR SOURCE-LINE 5685,5686
15169 000026F6 0000                       ALIGNMENT CODE
15170 000026F8 00000000                   DATA FOR SOURCE-LINE 5685
15171 000026FC 00000000                   DATA FOR SOURCE-LINE 5686
15172                                     ***** END-POOL *****
15173 00002700                   5690     ORGIN_180CK_200
15174                            5691     ;       ======== CPUA => CPUB DIRECTION===
15175                            5692             .AIF    0 EQ    0
15176                            5693             .AELSE
15177                            5694             MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15178                            5695             MOV.W   @R1,R0                          ;
15179                            5696             MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15180                            5697             MOV.W   R0,@R1                          ;
15181                            5698             .AENDI
15182                            5699     
15183 00002700                   5700     ORGIN_180CK_300
15184                            5701     
15185                            5702     ;       ======== CPUB => CPUA DIRECTION===
15186                            5703             .AIF    0 EQ    0       ;
15187 00002700 D103              5704 C           MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15188 00002702 6011              5705 C           MOV.W   @R1,R0                          ;
15189 00002704 D103              5706 C           MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15190 00002706 2101              5707 C           MOV.W   R0,@R1                          ;
15191                            5708             .AELSE
15192                            5709             .AENDI
15193                            5710     
15194                            5711     
15195                            5712     
15196                            5713             SUB_END
15197                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15198 00002708 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15199                            5714             M_RTS
15200 0000270A 000B                   M           RTS                             ;RTSの後ろの
15201 0000270C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15202                            5715     
15203                            5716     ;       ***********************************
15204                            5717     ;       ***                             ***
15205                            5718     ;       ***     2008-11-11              ***
15206                            5719     ;       ***                             ***
15207                            5720     ;       ***********************************
15208                            5721     ;       ﾘﾆｱｽｹｰﾙ異常で停止させない場合、ﾘｾｯﾄをｼｰｹﾝｽから行う
15209                            5722             .EXPORT _RNA_ERR_RSTCHK                 ;
15210                                     ***** BEGIN-POOL *****
15211 0000270E 0000                       ALIGNMENT CODE
15212 00002710 00000000                   DATA FOR SOURCE-LINE 5704
15213 00002714 00000000                   DATA FOR SOURCE-LINE 5706
15214                                     ***** END-POOL *****
15215 00002718                   5723             .ALIGN  4                               ;
15216 00002718                   5724     _RNA_ERR_RSTCHK                                 ;
15217                            5725             SUB_START
15218 00002718 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   167
PROGRAM NAME =

15219                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15220                            5726     
15221                            5727     
15222 0000271A D10C              5728             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15223 0000271C 6011              5729             MOV.W   @R1,R0                          ;
15224 0000271E D10C              5730             MOV.L   #_SQ_RNA_ALMRST_OLD,R1          ;
15225 00002720 6211              5731             MOV.W   @R1,R2                          ;
15226 00002722 2101              5732             MOV.W   R0,@R1                          ;
15227 00002724 220A              5733             XOR     R0,R2                           ;EDGE
15228 00002726 2209              5734             AND     R0,R2                           ;ON EDGE
15229                            5735     
15230 00002728 D10A              5736             MOV.L   #_IN_PARAM_RNA_CHK,R1           ;1:ERRを見ない　特殊ﾊﾞｰｼﾞｮﾝ
15231 0000272A 6011              5737             MOV.W   @R1,R0                          ;
15232 0000272C 2008              5738             TST     R0,R0                           ;
15233                            5739             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15234 0000272E 8909                   M           BT      RNA_ERR_RSTCKEXT
15235                            5740     
15236 00002730 D109              5741             MOV.L   #_RNA_RESET_FLG,R1              ;(TIME-OUTを見ないだけ)
15237 00002732 6011              5742             MOV.W   @R1,R0                          ;
15238 00002734 2008              5743             TST     R0,R0                           ;
15239                            5744             TST_BIT_ON RNA_ERR_RSTCKEXT             ;
15240 00002736 8B05                   M           BF      RNA_ERR_RSTCKEXT
15241                            5745     
15242 00002738 9407              5746             MOV.W   #BIT12,R4                       ;
15243 0000273A 2248              5747             TST     R4,R2                           ;
15244                            5748             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15245 0000273C 8902                   M           BT      RNA_ERR_RSTCKEXT
15246                            5749     
15247                            5750             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;(ﾊｰﾄﾞ異常があれば異常ｺﾏﾝﾄﾞを出力する)
15248 0000273E D007                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15249 00002740 400B                   M           JSR     @R0                     ;
15250 00002742 0009                   M           NOP                                     ;
15251                            5751     
15252                            5752     
15253 00002744                   5753     RNA_ERR_RSTCKEXT                ;
15254                            5754             SUB_END
15255                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15256 00002744 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15257                            5755             M_RTS
15258 00002746 000B                   M           RTS                             ;RTSの後ろの
15259 00002748 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15260                            5756     
15261                            5757     
15262                            5758     ;       ***************************************************
15263                            5759     ;       ***                                             ***
15264                            5760     ;       ***     準備完了、未完了の遮光を急停止にする    ***
15265                            5761     ;       ***     このソフトでは停止にしない              ***
15266                            5762     ;       ***     MASKをやめる条件をつくるだけ            ***
15267                            5763     ;       ***     2012-09-25                              ***
15268                            5764     ;       ***************************************************
15269                                     ***** BEGIN-POOL *****
15270 0000274A 1000                       DATA FOR SOURCE-LINE 5746
15271 0000274C 00000000                   DATA FOR SOURCE-LINE 5728
15272 00002750 00000000                   DATA FOR SOURCE-LINE 5730
15273 00002754 00000000                   DATA FOR SOURCE-LINE 5736
15274 00002758 00000000                   DATA FOR SOURCE-LINE 5741
15275 0000275C 00000000                   DATA FOR SOURCE-LINE 5750
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   168
PROGRAM NAME =

15276                                     ***** END-POOL *****
15277 00002760                   5765             .ALIGN  4                               ;
15278 00002760                   5766     _MASK2_SAFTY_MAK:
15279                            5767             SUB_START
15280 00002760 4F22                   M           STS.L   PR,@-R15                ;[必要]
15281                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15282                            5768     
15283 00002762 D10B              5769             MOV.L   #(_PAR_MYUTING_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15284 00002764 6011              5770             MOV.W   @R1,R0                                                  ;
15285 00002766 8801              5771             CMP/EQ  #1,R0                                                   ;
15286 00002768 8B1F              5772             BF      MASK2_SFYSTP500                                         ;ﾐｭｰﾃﾝｸﾞ選択外部SW
                                          を参照しない
15287                            5773     
15288 0000276A D10A              5774             MOV.L   #_SW_DEV_MASK_FLG,R1                                    ;
15289 0000276C 6011              5775             MOV.W   @R1,R0                                                  ;
15290 0000276E C803              5776             TST     #(BIT1+BIT0),R0                                         ;
15291                            5777             TST_BIT_OF MASK2_SFYSTP400                                      ;安全装置の有効・
                                          無効ＳＷ兼ROMパラ含む
15292 00002770 8918                   M           BT      MASK2_SFYSTP400
15293                            5778     
15294 00002772 D109              5779             MOV.L   #_di2_cb_ctl2_dt,R1                                     ;
15295 00002774 6211              5780             MOV.W   @R1,R2                                                  ;
15296 00002776 9409              5781             MOV.W   #_W2WT2,R4                                              ;BIT5
15297 00002778 2249              5782             AND     R4,R2                                                   ;
15298 0000277A D108              5783             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15299 0000277C 2121              5784             MOV.W   R2,@R1                                                  ;
15300                            5785     
15301 0000277E D108              5786             MOV.L   #_SELF_FLG,R1                                           ;//BIT0:ｾﾙﾌﾁｪｯｸ中
15302 00002780 6011              5787             MOV.W   @R1,R0                                                  ;
15303 00002782 C801              5788             TST     #BIT0,R0                                                ;
15304                            5789             TST_BIT_ON MASK2_SFYSTP500                                      ;
15305 00002784 8B11                   M           BF      MASK2_SFYSTP500
15306                            5790     
15307 00002786 9002              5791             MOV.W   #1,R0                                                   ;この時点である一
                                          部を安全一を除き準備完了中もEXQ停止
15308                            5792             M_BRA   MASK2_SFYSTP600                                         ;
15309 00002788 A010                   M           BRA     MASK2_SFYSTP600
15310 0000278A 0009                   M           NOP
15311                            5793     
15312                            5794     
15313                                     ***** BEGIN-POOL *****
15314 0000278C 0020                       DATA FOR SOURCE-LINE 5781
15315 0000278E 0001                       DATA FOR SOURCE-LINE 5791
15316 00002790 00000000                   DATA FOR SOURCE-LINE 5769
15317 00002794 00000000                   DATA FOR SOURCE-LINE 5774
15318 00002798 00000000                   DATA FOR SOURCE-LINE 5779
15319 0000279C 00000000                   DATA FOR SOURCE-LINE 5783
15320 000027A0 00000000                   DATA FOR SOURCE-LINE 5786
15321                                     ***** END-POOL *****
15322 000027A4                   5795     MASK2_SFYSTP400:
15323 000027A4 222A              5796             XOR     R2,R2
15324 000027A6 D104              5797             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15325 000027A8 2121              5798             MOV.W   R2,@R1                                                  ;
15326                            5799     
15327 000027AA                   5800     MASK2_SFYSTP500:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   169
PROGRAM NAME =

15328 000027AA 200A              5801             XOR     R0,R0
15329 000027AC                   5802     MASK2_SFYSTP600:
15330 000027AC D103              5803             MOV.L   #_UPMSK2_MOD,R1         ;//SWを0:参照しない,1:参照する
15331 000027AE 2101              5804             MOV.W   R0,@R1                  ;
15332                            5805     
15333 000027B0                   5806     MASK2_SFYSTPEXT:
15334                            5807     
15335                            5808             SUB_END
15336                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15337 000027B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15338                            5809             M_RTS
15339 000027B2 000B                   M           RTS                             ;RTSの後ろの
15340 000027B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15341                            5810     
15342                                     ***** BEGIN-POOL *****
15343 000027B6 0000                       ALIGNMENT CODE
15344 000027B8 00000000                   DATA FOR SOURCE-LINE 5797
15345 000027BC 00000000                   DATA FOR SOURCE-LINE 5803
15346                                     ***** END-POOL *****
15347 000027C0                   5811     _MASK2_SAFTY_SW_MOV:
15348                            5812             SUB_START
15349 000027C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
15350                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15351 000027C2 D103              5813             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15352 000027C4 6011              5814             MOV.W   @R1,R0                                                  ;
15353 000027C6 D103              5815             MOV.L   #_UPMAK2_MOD_USE_SW,R1                                  ;//0,1(反映ﾀｲﾐﾝｸﾞ
                                          後)
15354 000027C8 2101              5816             MOV.W   R0,@R1                                                  ;
15355                            5817     
15356                            5818             SUB_END
15357                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15358 000027CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15359                            5819             M_RTS
15360 000027CC 000B                   M           RTS                             ;RTSの後ろの
15361 000027CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15362                            5820     
15363                            5821     
15364                            5822     
15365                            5823     
15366                            5824     
15367                            5825     ;       *******************************************
15368                            5826     ;       ***                                     ***
15369                            5827     ;       ***             2014-02-20              ***
15370                            5828     ;       ***             SWによるﾓｰﾄﾞ制限        ***
15371                            5829     ;       *******************************************
15372                                     ***** BEGIN-POOL *****
15373 000027D0 00000000                   DATA FOR SOURCE-LINE 5813
15374 000027D4 00000000                   DATA FOR SOURCE-LINE 5815
15375                                     ***** END-POOL *****
15376 000027D8                   5830     _SFTY_MUTING_MODE_ERR:
15377                            5831             SUB_START
15378 000027D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15379                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15380 000027DA D10C              5832             MOV.L   #(_PAR_MYUTERR_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15381 000027DC 6011              5833             MOV.W   @R1,R0
15382 000027DE 8801              5834             CMP/EQ  #1,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   170
PROGRAM NAME =

15383 000027E0 8B39              5835             BF      SFTY_MUTING_MODER_EXT           ;
15384                            5836     
15385 000027E2 D10B              5837             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15386 000027E4 6011              5838             MOV.W   @R1,R0                                                  ;
15387 000027E6 D10B              5839             MOV.L   #_UPMSK2_MOD_IN_SWOLD,R1        ;//2014-02-20
15388 000027E8 6211              5840             MOV.W   @R1,R2                          ;
15389 000027EA 2101              5841             MOV.W   R0,@R1                          ;
15390 000027EC 220A              5842             XOR     R0,R2                           ;
15391 000027EE 2028              5843             TST     R2,R0                           ;
15392                            5844             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15393 000027F0 8916                   M           BT      SFTY_MUTING_MODER_100
15394                            5845     
15395                            5846     ;       ------無効から有効になった--------
15396 000027F2 D109              5847             MOV.L   #_INP_MODE,R1                   ;
15397 000027F4 6011              5848             MOV.W   @R1,R0                          ;
15398 000027F6 9407              5849             MOV.W   #_W1CNT+_W1OPT,R4               ;
15399 000027F8 2048              5850             TST     R4,R0                           ;
15400                            5851             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15401 000027FA 8911                   M           BT      SFTY_MUTING_MODER_100
15402                            5852     
15403 000027FC 9404              5853             MOV.W   #H'0018,R4                      ;
15404                            5854             FAR_JSR #_EMG_STOP,R0                   ;
15405 000027FE D007                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15406 00002800 400B                   M           JSR     @R0                     ;
15407 00002802 0009                   M           NOP                                     ;
15408                            5855             M_BRA   SFTY_MUTING_MODER_EXT           ;
15409 00002804 A027                   M           BRA     SFTY_MUTING_MODER_EXT
15410 00002806 0009                   M           NOP
15411                            5856     
15412                            5857     
15413                                     ***** BEGIN-POOL *****
15414 00002808 0018                       DATA FOR SOURCE-LINE 5849,5853
15415 0000280A 0000                       ALIGNMENT CODE
15416 0000280C 00000000                   DATA FOR SOURCE-LINE 5832
15417 00002810 00000000                   DATA FOR SOURCE-LINE 5837
15418 00002814 00000000                   DATA FOR SOURCE-LINE 5839
15419 00002818 00000000                   DATA FOR SOURCE-LINE 5847
15420 0000281C 00000000                   DATA FOR SOURCE-LINE 5854
15421                                     ***** END-POOL *****
15422 00002820                   5858     SFTY_MUTING_MODER_100:
15423                            5859     
15424                            5860     ;       -------------------------------------------
15425                            5861     ;       ---             ﾓｰﾄﾞ制限                ---
15426                            5862     ;       -------------------------------------------
15427                            5863     
15428 00002820 D104              5864             MOV.L   #_INP_MODE,R1                           ;
15429 00002822 6011              5865             MOV.W   @R1,R0                                  ;
15430 00002824 C808              5866             TST     #_W1CNT,R0                              ;
15431                            5867             TST_BIT_ON SFTY_MUTING_MODER_200                ;連続
15432 00002826 8B09                   M           BF      SFTY_MUTING_MODER_200
15433                            5868     
15434 00002828 D103              5869             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
15435 0000282A 6011              5870             MOV.W   @R1,R0                                  ;
15436 0000282C C810              5871             TST     #_W1OPT,R0                              ;
15437                            5872             TST_BIT_ON SFTY_MUTING_MODER_200                ;ｵﾌﾟｼｮﾝ
15438 0000282E 8B05                   M           BF      SFTY_MUTING_MODER_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   171
PROGRAM NAME =

15439                            5873             M_BRA   SFTY_MUTING_MODER_EXT                   ;
15440 00002830 A011                   M           BRA     SFTY_MUTING_MODER_EXT
15441 00002832 0009                   M           NOP
15442                            5874     
15443                            5875     
15444                                     ***** BEGIN-POOL *****
15445 00002834 00000000                   DATA FOR SOURCE-LINE 5864
15446 00002838 00000000                   DATA FOR SOURCE-LINE 5869
15447                                     ***** END-POOL *****
15448 0000283C                   5876     SFTY_MUTING_MODER_200:
15449                            5877     
15450 0000283C D108              5878             MOV.L   #_UPMSK2_MOD_IN_SW,R1                   ;//BIT5=0/1(生　待機点2)
15451 0000283E 6011              5879             MOV.W   @R1,R0                                  ;
15452 00002840 2008              5880             TST     R0,R0                                   ;
15453                            5881             TST_BIT_OF SFTY_MUTING_MODER_EXT                ;
15454 00002842 8908                   M           BT      SFTY_MUTING_MODER_EXT
15455                            5882     
15456                            5883             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
                                          ;
15457 00002844 D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
15458 00002846 6011                   M           MOV.W   @R1,R0          ;
15459 00002848 9408                   M           MOV.W   #(BIT4),R4              ;
15460 0000284A 204B                   M           OR      R4,R0           ;
15461 0000284C 2101                   M           MOV.W   R0,@R1          ;
15462 0000284E 9406              5884             MOV.W   #H'2164,R4
                                          ;
15463                            5885             FAR_JSR #_EMG_STOP,R0
                                          ;
15464 00002850 D005                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15465 00002852 400B                   M           JSR     @R0                     ;
15466 00002854 0009                   M           NOP                                     ;
15467                            5886     
15468 00002856                   5887     SFTY_MUTING_MODER_EXT:
15469                            5888     
15470                            5889             SUB_END
15471                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15472 00002856 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15473                            5890             M_RTS
15474 00002858 000B                   M           RTS                             ;RTSの後ろの
15475 0000285A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15476                            5891     
15477                            5892     
15478                            5893     
15479                            5894     
15480                            5895     
15481                            5896     ;       ***************************************************
15482                            5897     ;       ***                                             ***
15483                            5898     ;       ***                                             ***
15484                            5899     ;       ***             制動試験                        ***
15485                            5900     ;       ***                                             ***
15486                            5901     ;       ***             2010-08-20                      ***
15487                            5902     ;       ***                                             ***
15488                            5903     ;       ***************************************************
15489                            5904     ;       ﾊﾟﾗﾒｰﾀ21から
15490                            5905     ;_PAR_SELF_MATH_SEL
15491                            5906     ;       MOV.L   #_SELF_CHK_SEL,R1               ;
15492                            5907     ;       MOV.W   R2,@R1                          ;0:ｾﾙﾌﾁｪｯｸなし
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   172
PROGRAM NAME =

15493                            5908     ;                                               ;BIT0=1:非常停止解除時
15494                            5909     ;                                               ;BIT1=1:動作終了時
15495                            5910     ;       MOV.L   #_SELF_CHK_MATHED,R1            ;
15496                            5911     ;       MOV.W   R3,@R1                          ;項目
15497                            5912     ;       _PAR_SELFCHK_POWSEL     .DATA.W         1       ;0:電源投入時のみPARAM21 1:PARAM21
                                          のﾀｲﾐﾝｸﾞ
15498                            5913     ;
15499                            5914     ;       1回ｾﾙﾌﾁｪｯｸが終了し、起動したら、通常のｾﾙﾌﾁｪｯｸ _SELF_CHK_SEL
15500                            5915     ;       MOV.L   #_SELF_LOCK_FLG,R1
15501                            5916     ;
15502                            5917     ;
15503                            5918     
15504                                     ***** BEGIN-POOL *****
15505 0000285C 0010                       DATA FOR SOURCE-LINE 5883
15506 0000285E 2164                       DATA FOR SOURCE-LINE 5884
15507 00002860 00000000                   DATA FOR SOURCE-LINE 5878
15508 00002864 00000000                   DATA FOR SOURCE-LINE 5883
15509 00002868 00000000                   DATA FOR SOURCE-LINE 5885
15510                                     ***** END-POOL *****
15511 0000286C                   5919             .ALIGN  4
15512 0000286C                   5920     _BRKTST_CTRL:
15513                            5921             SUB_START
15514 0000286C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15515                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15516                            5922     
15517                            5923     ;       ------2011-09-14-------
15518                            5924             FAR_JSR #_BRKTST_INPUT_MAK,R0           ;
15519 0000286E D011                   M           MOV.L   #_BRKTST_INPUT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15520 00002870 400B                   M           JSR     @R0                     ;
15521 00002872 0009                   M           NOP                                     ;
15522                            5925     
15523                            5926     
15524 00002874 D110              5927             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15525 00002876 6011              5928             MOV.W   @R1,R0                          ;
15526 00002878 C801              5929             TST     #BIT0,R0                        ;
15527                            5930             TST_BIT_ON BRKTST_CTL_100               ;
15528 0000287A 8B2B                   M           BF      BRKTST_CTL_100
15529                            5931                                                     ;BIT0=1 START
15530                            5932                                                     ;BIT1=0 起動待ち BIT1=1 起動完了
15531                            5933                                                     ;BIT2=0 起動中   BIT2=1 停止指令ON
15532                            5934                                                     ;BIT3=0 停止待ち BIT3=1 停止完了
15533                            5935                                                     ;BIT4=1:98%到達
15534                            5936                                                     ;BIT5=0:正常 1:速度到達しないまたは停止時
                                          間ｵｰﾊﾞした失敗
15535                            5937                                                     ;BIT6=1 完了(指令OFF待ち)
15536                            5938                                                     ;BIT7=1 完了(このソフトでは使用しない)
15537                            5939     
15538                            5940     
15539                            5941     ;       ========== ILDE =========
15540                            5942     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15541 0000287C D10F              5943             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15542 0000287E 6011              5944             MOV.W   @R1,R0                          ;
15543 00002880 C801              5945             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15544                            5946             TST_BIT_OF BRKTST_CTL_090               ;OFF
15545 00002882 8914                   M           BT      BRKTST_CTL_090
15546                            5947     
15547                            5948     ;       --- ｾﾙﾌﾁｪｯｸ有ならｾﾙﾌﾁｪｯｸ完了後に行う---
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   173
PROGRAM NAME =

15548 00002884 D10E              5949             MOV.L   #_SELF_CHK_SEL,R1               ;
15549 00002886 6011              5950             MOV.W   @R1,R0                          ;
15550 00002888 2008              5951             TST     R0,R0                           ;
15551                            5952             TST_BIT_OF BRKTST_CTL_050               ;SELFﾁｪｯｸ有効？ NO
15552 0000288A 8903                   M           BT      BRKTST_CTL_050
15553                            5953     
15554 0000288C D10D              5954             MOV.L   #_SELF_FLG,R1                   ;//BIT0:ｾﾙﾌﾁｪｯｸ中  BIT7ｾﾙﾌﾁｪｯｸ正常完了
15555 0000288E 6011              5955             MOV.W   @R1,R0                          ;
15556 00002890 C880              5956             TST     #BIT7,R0                        ;
15557                            5957             TST_BIT_OF BRKTST_CTL_090               ;ｾﾙﾌﾁｪｯｸ未完了
15558 00002892 890C                   M           BT      BRKTST_CTL_090
15559 00002894                   5958     BRKTST_CTL_050:
15560                            5959     
15561                            5960             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
15562 00002894 D00C                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15563 00002896 400B                   M           JSR     @R0                     ;
15564 00002898 0009                   M           NOP                                     ;
15565 0000289A 2008              5961             TST     R0,R0                           ;
15566                            5962             TST_BIT_ON BRKTST_CTL_090               ;R0!=0 EXIT
15567 0000289C 8B07                   M           BF      BRKTST_CTL_090
15568                            5963     
15569 0000289E 9008              5964             MOV.W   #BIT0,R0                        ;
15570 000028A0 D105              5965             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15571 000028A2 2101              5966             MOV.W   R0,@R1                          ;
15572                            5967                                                     ;BIT7が変化するときにCALL
15573 000028A4 D109              5968             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15574 000028A6 2101              5969             MOV.W   R0,@R1                          ;2011-09-14
15575                            5970             .AIF    0 EQ    0       ;
15576                            5971 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15577 000028A8 D009                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15578 000028AA 400B                   M           JSR     @R0                     ;
15579 000028AC 0009                   M           NOP                                     ;
15580                            5972             .AENDI
15581                            5973     
15582                            5974     
15583 000028AE                   5975     BRKTST_CTL_090:
15584                            5976             M_BRA   BRKTST_CTL_900                  ;
15585 000028AE A0F5                   M           BRA     BRKTST_CTL_900
15586 000028B0 0009                   M           NOP
15587                            5977     
15588                            5978     
15589                            5979     ;       ------------- 動作中---------------
15590                                     ***** BEGIN-POOL *****
15591 000028B2 0001                       DATA FOR SOURCE-LINE 5964
15592 000028B4 00000000                   DATA FOR SOURCE-LINE 5924
15593 000028B8 00000000                   DATA FOR SOURCE-LINE 5927,5965
15594 000028BC 00000000                   DATA FOR SOURCE-LINE 5943
15595 000028C0 00000000                   DATA FOR SOURCE-LINE 5949
15596 000028C4 00000000                   DATA FOR SOURCE-LINE 5954
15597 000028C8 00000000                   DATA FOR SOURCE-LINE 5960
15598 000028CC 00000000                   DATA FOR SOURCE-LINE 5968
15599 000028D0 00000000                   DATA FOR SOURCE-LINE 5971
15600                                     ***** END-POOL *****
15601 000028D4                   5980     BRKTST_CTL_100:
15602                            5981     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15603 000028D4 D10E              5982             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15604 000028D6 6011              5983             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   174
PROGRAM NAME =

15605 000028D8 C801              5984             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15606                            5985             TST_BIT_ON BRKTST_CTL_200               ;
15607 000028DA 8B39                   M           BF      BRKTST_CTL_200
15608                            5986     
15609 000028DC D10D              5987             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15610 000028DE 6011              5988             MOV.W   @R1,R0                          ;
15611 000028E0 C960              5989             AND     #(BIT6+BIT5),R0                 ;
15612 000028E2 8840              5990             CMP/EQ  #BIT6,R0                        ;異常がなくて正常完了している
15613 000028E4 8922              5991             BT      BRKTST_CTL_150                  ;正常完了状態でのOFF
15614                            5992     
15615                            5993     ;;;;2011-09-14  TST     #BIT6,R0                ;
15616                            5994     ;;;;2011-09-14  TST_BIT_ON BRKTST_CTL_150       ;完了状態でのOFF
15617                            5995     
15618                            5996                                                     ;動作中にモードＯＦＦした、異常停止
15619 000028E6 9411              5997             MOV.W   #H'3490,R4                      ;2010-12-21
15620                            5998             FAR_JSR #_EMG_STOP,R0                   ;
15621 000028E8 D00B                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15622 000028EA 400B                   M           JSR     @R0                     ;
15623 000028EC 0009                   M           NOP                                     ;
15624                            5999     
15625 000028EE 200A              6000             XOR     R0,R0                           ;
15626 000028F0 D108              6001             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15627 000028F2 2101              6002             MOV.W   R0,@R1                          ;
15628                            6003                                                     ;BIT7が変化するときにCALL
15629 000028F4 D109              6004             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15630 000028F6 2101              6005             MOV.W   R0,@R1                          ;2011-09-14
15631                            6006             .AIF    0 EQ    0       ;
15632                            6007 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15633 000028F8 D009                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15634 000028FA 400B                   M           JSR     @R0                     ;
15635 000028FC 0009                   M           NOP                                     ;
15636                            6008             .AENDI
15637                            6009     
15638 000028FE 200A              6010             XOR     R0,R0
15639 00002900 D108              6011             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
15640 00002902 2101              6012             MOV.W   R0,@R1
15641 00002904 D108              6013             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
15642 00002906 2101              6014             MOV.W   R0,@R1
15643                            6015     
15644                            6016             M_BRA   BRKTST_CTL_190
15645 00002908 A018                   M           BRA     BRKTST_CTL_190
15646 0000290A 0009                   M           NOP
15647                            6017     
15648                            6018     ;       --------- 正常完了状態でoffされた----------
15649                                     ***** BEGIN-POOL *****
15650 0000290C 3490                       DATA FOR SOURCE-LINE 5997
15651 0000290E 0000                       ALIGNMENT CODE
15652 00002910 00000000                   DATA FOR SOURCE-LINE 5982
15653 00002914 00000000                   DATA FOR SOURCE-LINE 5987,6001
15654 00002918 00000000                   DATA FOR SOURCE-LINE 5998
15655 0000291C 00000000                   DATA FOR SOURCE-LINE 6004
15656 00002920 00000000                   DATA FOR SOURCE-LINE 6007
15657 00002924 00000000                   DATA FOR SOURCE-LINE 6011
15658 00002928 00000000                   DATA FOR SOURCE-LINE 6013
15659                                     ***** END-POOL *****
15660 0000292C                   6019     BRKTST_CTL_150:
15661                            6020     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   175
PROGRAM NAME =

15662 0000292C 9008              6021             MOV.W   #BIT7,R0                        ;
15663 0000292E D105              6022             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15664 00002930 2101              6023             MOV.W   R0,@R1                          ;
15665                            6024                                                     ;BIT7が変化するときにCALL
15666 00002932 D105              6025             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15667 00002934 2101              6026             MOV.W   R0,@R1                          ;2011-09-14
15668                            6027             .AIF    0 EQ    0       ;
15669                            6028 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15670 00002936 D005                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15671 00002938 400B                   M           JSR     @R0                     ;
15672 0000293A 0009                   M           NOP                                     ;
15673                            6029             .AENDI
15674                            6030     
15675                            6031     
15676 0000293C                   6032     BRKTST_CTL_190:
15677                            6033             M_BRA   BRKTST_CTL_900                  ;
15678 0000293C A0AE                   M           BRA     BRKTST_CTL_900
15679 0000293E 0009                   M           NOP
15680                            6034     
15681                            6035     ;       -------------起動待ち(BIT1=0),起動中(),停止判定待ち-----------------
15682                                     ***** BEGIN-POOL *****
15683 00002940 0080                       DATA FOR SOURCE-LINE 6021
15684 00002942 0000                       ALIGNMENT CODE
15685 00002944 00000000                   DATA FOR SOURCE-LINE 6022
15686 00002948 00000000                   DATA FOR SOURCE-LINE 6025
15687 0000294C 00000000                   DATA FOR SOURCE-LINE 6028
15688                                     ***** END-POOL *****
15689 00002950                   6036     BRKTST_CTL_200:
15690 00002950 D102              6037             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15691 00002952 6011              6038             MOV.W   @R1,R0                          ;
15692                            6039     
15693 00002954 C808              6040             TST     #BIT3,R0                        ;
15694                            6041             TST_BIT_OF BRKTST_CTL_220               ;
15695 00002956 8903                   M           BT      BRKTST_CTL_220
15696                            6042             M_BRA   BRKTST_CTL_500                  ;[停止完了]
15697 00002958 A090                   M           BRA     BRKTST_CTL_500
15698 0000295A 0009                   M           NOP
15699                            6043     
15700                                     ***** BEGIN-POOL *****
15701 0000295C 00000000                   DATA FOR SOURCE-LINE 6037
15702                                     ***** END-POOL *****
15703 00002960                   6044     BRKTST_CTL_220:
15704 00002960 C804              6045             TST     #BIT2,R0                        ;
15705                            6046             TST_BIT_ON BRKTST_CTL_400               ;
15706 00002962 8B6D                   M           BF      BRKTST_CTL_400
15707 00002964 C802              6047             TST     #BIT1,R0                        ;
15708                            6048             TST_BIT_ON BRKTST_CTL_300               ;
15709 00002966 8B35                   M           BF      BRKTST_CTL_300
15710                            6049     
15711                            6050     ;       ---- 起動待ち[BIT1=0]-----
15712                            6051     
15713                            6052     ;       ===============準備完了・未完了処置===========
15714                            6053     ;       --- 2010-10-22 ---------
15715                            6054             FAR_JSR #_BRKTST_RDY_CHK,R0             ;
15716 00002968 D003                   M           MOV.L   #_BRKTST_RDY_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15717 0000296A 400B                   M           JSR     @R0                     ;
15718 0000296C 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   176
PROGRAM NAME =

15719                            6055     
15720 0000296E 2008              6056             TST     R0,R0                           ;
15721                            6057             TST_BIT_OF BRKTST_CTL_250               ;
15722 00002970 8904                   M           BT      BRKTST_CTL_250
15723                            6058             M_BRA   BRKTST_CTL_290                  ;RDY-OFFまたはrdy-onだが(起動不可)
15724 00002972 A024                   M           BRA     BRKTST_CTL_290
15725 00002974 0009                   M           NOP
15726                            6059     
15727                            6060     ;       ---------- 準備完了で”起動受付可能”な状況
15728                                     ***** BEGIN-POOL *****
15729 00002976 0000                       ALIGNMENT CODE
15730 00002978 00000000                   DATA FOR SOURCE-LINE 6054
15731                                     ***** END-POOL *****
15732 0000297C                   6061     BRKTST_CTL_250:
15733                            6062     
15734                            6063             FAR_JSR #_BTTN_START_CHK,R0     ;
15735 0000297C D005                   M           MOV.L   #_BTTN_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15736 0000297E 400B                   M           JSR     @R0                     ;
15737 00002980 0009                   M           NOP                                     ;
15738 00002982 2008              6064             TST     R0,R0                   ;
15739                            6065             TST_BIT_OF BRKTST_CTL_290       ;変化なし
15740 00002984 891B                   M           BT      BRKTST_CTL_290
15741 00002986 8855              6066             CMP/EQ  #H'55,R0                ;
15742 00002988 8908              6067             BT      BRKTST_CTL_260          ;起動
15743                            6068     
15744                            6069     ;       ---------- 失敗-----------
15745                            6070             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
15746 0000298A D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15747 0000298C 400B                   M           JSR     @R0                     ;
15748 0000298E 0009                   M           NOP                                     ;
15749                            6071             M_BRA   BRKTST_CTL_290                  ;
15750 00002990 A015                   M           BRA     BRKTST_CTL_290
15751 00002992 0009                   M           NOP
15752                            6072     
15753                            6073     
15754                                     ***** BEGIN-POOL *****
15755 00002994 00000000                   DATA FOR SOURCE-LINE 6063
15756 00002998 00000000                   DATA FOR SOURCE-LINE 6070
15757                                     ***** END-POOL *****
15758 0000299C                   6074     BRKTST_CTL_260:
15759                            6075             FAR_JSR #_DRV_START_KEP_WAIT,R0                         ;
15760 0000299C D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15761 0000299E 400B                   M           JSR     @R0                     ;
15762 000029A0 0009                   M           NOP                                     ;
15763 000029A2 2008              6076             TST     R0,R0                                           ;
15764                            6077             TST_BIT_OF BRKTST_CTL_290                               ;
15765 000029A4 890B                   M           BT      BRKTST_CTL_290
15766 000029A6 8855              6078             CMP/EQ  #H'55,R0
15767 000029A8 8B09              6079             BF      BRKTST_CTL_290                                  ;"1"ﾛｯｸ解除中待ち
15768                            6080     
15769                            6081             FAR_JSR #_BRKTST_CHKDT_MAK,R0
15770 000029AA D007                   M           MOV.L   #_BRKTST_CHKDT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15771 000029AC 400B                   M           JSR     @R0                     ;
15772 000029AE 0009                   M           NOP                                     ;
15773                            6082             FAR_JSR #_BRKTST_MOTOR_START,R0                                         ;起動
15774 000029B0 D006                   M           MOV.L   #_BRKTST_MOTOR_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15775 000029B2 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   177
PROGRAM NAME =

15776 000029B4 0009                   M           NOP                                     ;
15777                            6083             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
15778 000029B6 D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15779 000029B8 6011                   M           MOV.W   @R1,R0          ;
15780 000029BA CB02                   M           OR      #BIT1,R0                ;
15781 000029BC 2101                   M           MOV.W   R0,@R1          ;
15782 000029BE                   6084     BRKTST_CTL_290:
15783                            6085             M_BRA   BRKTST_CTL_900                                                  ;
15784 000029BE A06D                   M           BRA     BRKTST_CTL_900
15785 000029C0 0009                   M           NOP
15786                            6086     
15787                            6087     ;       ----------------------------------------
15788                                     ***** BEGIN-POOL *****
15789 000029C2 0000                       ALIGNMENT CODE
15790 000029C4 00000000                   DATA FOR SOURCE-LINE 6075
15791 000029C8 00000000                   DATA FOR SOURCE-LINE 6081
15792 000029CC 00000000                   DATA FOR SOURCE-LINE 6082
15793 000029D0 00000000                   DATA FOR SOURCE-LINE 6083
15794                                     ***** END-POOL *****
15795 000029D4                   6088     BRKTST_CTL_300:
15796                            6089     ;       ------ 98%CHKCK----
15797                            6090             FAR_JSR #_BRKTST_SPD_CHK,R0
15798 000029D4 D008                   M           MOV.L   #_BRKTST_SPD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15799 000029D6 400B                   M           JSR     @R0                     ;
15800 000029D8 0009                   M           NOP                                     ;
15801                            6091     
15802                            6092     ;       ---- 起動中・停止指令待ち[BIT2=0]-----
15803                            6093     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15804 000029DA D108              6094             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15805 000029DC 6011              6095             MOV.W   @R1,R0                                                          ;
15806 000029DE C802              6096             TST     #BIT1,R0                                                        ;349.1(停
                                          止指令)
15807                            6097             TST_BIT_OF BRKTST_CTL_350                                               ;
15808 000029E0 8912                   M           BT      BRKTST_CTL_350
15809 000029E2 9408              6098             MOV.W   #H'3491,R4                                                      ;2010-12-2
                                          1
15810                            6099             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
15811 000029E4 D006                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15812 000029E6 400B                   M           JSR     @R0                     ;
15813 000029E8 0009                   M           NOP                                     ;
15814                            6100             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT2,WKREG=R1      ;ちゃんと
                                          した停止
15815 000029EA D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15816 000029EC 6011                   M           MOV.W   @R1,R0          ;
15817 000029EE CB04                   M           OR      #BIT2,R0                ;
15818 000029F0 2101                   M           MOV.W   R0,@R1          ;
15819                            6101             M_BRA   BRKTST_CTL_390
15820 000029F2 A01A                   M           BRA     BRKTST_CTL_390
15821 000029F4 0009                   M           NOP
15822                            6102     
15823                                     ***** BEGIN-POOL *****
15824 000029F6 3491                       DATA FOR SOURCE-LINE 6098
15825 000029F8 00000000                   DATA FOR SOURCE-LINE 6090
15826 000029FC 00000000                   DATA FOR SOURCE-LINE 6094
15827 00002A00 00000000                   DATA FOR SOURCE-LINE 6099
15828 00002A04 00000000                   DATA FOR SOURCE-LINE 6100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   178
PROGRAM NAME =

15829                                     ***** END-POOL *****
15830 00002A08                   6103     BRKTST_CTL_350:
15831 00002A08 D109              6104             MOV.L   #_BTTN_FLG,R1                   ;
15832 00002A0A 6011              6105             MOV.W   @R1,R0                          ;
15833 00002A0C C804              6106             TST     #BIT2,R0                        ;両手ON
15834                            6107             TST_BIT_OF BRKTST_CTL_360               ;両手ONでない
15835 00002A0E 8904                   M           BT      BRKTST_CTL_360
15836                            6108     
15837                            6109             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
15838 00002A10 D008                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15839 00002A12 400B                   M           JSR     @R0                     ;
15840 00002A14 0009                   M           NOP                                     ;
15841 00002A16 2008              6110             TST     R0,R0                           ;
15842                            6111             TST_BIT_OF BRKTST_CTL_390               ;
15843 00002A18 8907                   M           BT      BRKTST_CTL_390
15844                            6112     
15845 00002A1A                   6113     BRKTST_CTL_360                                  ;両手ONでない
15846 00002A1A 9408              6114             MOV.W   #H'3492,R4                      ;2010-12-21
15847                            6115     ;;;;    FAR_JSR #_BRKTST_MOTOR_STOP,R0          ;動作中に運転釦を離したまたは異常が発生し
                                          た
15848                            6116             FAR_JSR #_EMG_STOP,R0                   ;
15849 00002A1C D006                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15850 00002A1E 400B                   M           JSR     @R0                     ;
15851 00002A20 0009                   M           NOP                                     ;
15852                            6117             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT5+BIT2),WKREG=R1       ;B
                                          IT5異常
15853 00002A22 D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15854 00002A24 6011                   M           MOV.W   @R1,R0          ;
15855 00002A26 CB24                   M           OR      #(BIT5+BIT2),R0         ;
15856 00002A28 2101                   M           MOV.W   R0,@R1          ;
15857 00002A2A                   6118     BRKTST_CTL_390:
15858                            6119             M_BRA   BRKTST_CTL_900                  ;
15859 00002A2A A037                   M           BRA     BRKTST_CTL_900
15860 00002A2C 0009                   M           NOP
15861                            6120     
15862                            6121     
15863                            6122     
15864                            6123     
15865                            6124     ;       ----------------------------------------
15866                                     ***** BEGIN-POOL *****
15867 00002A2E 3492                       DATA FOR SOURCE-LINE 6114
15868 00002A30 00000000                   DATA FOR SOURCE-LINE 6104
15869 00002A34 00000000                   DATA FOR SOURCE-LINE 6109
15870 00002A38 00000000                   DATA FOR SOURCE-LINE 6116
15871 00002A3C 00000000                   DATA FOR SOURCE-LINE 6117
15872                                     ***** END-POOL *****
15873 00002A40                   6125     BRKTST_CTL_400:
15874                            6126     ;       ---- 停止指令ON 停止判定待ち[BIT3=0]-----
15875 00002A40 D10B              6127             MOV.L   #_STOPPING_TIM_FLG,R1                                           ;
15876 00002A42 6011              6128             MOV.W   @R1,R0
15877 00002A44 C840              6129             TST     #BIT6,R0                                                        ;
15878                            6130             TST_BIT_OF BRKTST_CTL_490                                               ;
15879 00002A46 8910                   M           BT      BRKTST_CTL_490
15880                            6131     
15881                            6132             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT3,WKREG=R1      ;[停止完了
                                          ]
15882 00002A48 D10A                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   179
PROGRAM NAME =

15883 00002A4A 6011                   M           MOV.W   @R1,R0          ;
15884 00002A4C CB08                   M           OR      #BIT3,R0                ;
15885 00002A4E 2101                   M           MOV.W   R0,@R1          ;
15886                            6133     
15887                            6134     
15888                            6135     ;;;;    MOV.L   #_SQ_CBWK_TOP+_WKSQCB212,R1
15889                            6136     ;;;;    MOV.W   @R1,R0
15890                            6137     ;;;;    MOV.W   #(BIT9+BIT8),R4                                                 ;
15891                            6138     
15892 00002A50 D109              6139             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1
15893 00002A52 6011              6140             MOV.W   @R1,R0
15894 00002A54 940B              6141             MOV.W   #(BIT15+BIT14),R4                                                       ;
15895 00002A56 2048              6142             TST     R4,R0                                                           ;
15896                            6143             TST_BIT_ON BRKTST_CTL_450                                               ;
15897 00002A58 8B03                   M           BF      BRKTST_CTL_450
15898                            6144     
15899 00002A5A D106              6145             MOV.L   #_BRKTST_MOD_FLG,R1                                             ;
15900 00002A5C 6011              6146             MOV.W   @R1,R0                                                          ;
15901 00002A5E C810              6147             TST     #BIT4,R0                                                        ;
15902                            6148             TST_BIT_ON BRKTST_CTL_490                                               ;速度到達
15903 00002A60 8B03                   M           BF      BRKTST_CTL_490
15904                            6149     
15905 00002A62                   6150     BRKTST_CTL_450:
15906                            6151             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT5,WKREG=R1      ;停止ｵｰﾊﾞ
15907 00002A62 D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15908 00002A64 6011                   M           MOV.W   @R1,R0          ;
15909 00002A66 CB20                   M           OR      #BIT5,R0                ;
15910 00002A68 2101                   M           MOV.W   R0,@R1          ;
15911                            6152     
15912 00002A6A                   6153     BRKTST_CTL_490:
15913                            6154             M_BRA   BRKTST_CTL_900                  ;
15914 00002A6A A017                   M           BRA     BRKTST_CTL_900
15915 00002A6C 0009                   M           NOP
15916                            6155     
15917                            6156     
15918                            6157     ;       ---------[正常に停止完了した 異常にして、リセットを待つ]-----------------
15919                                     ***** BEGIN-POOL *****
15920 00002A6E C000                       DATA FOR SOURCE-LINE 6141
15921 00002A70 00000000                   DATA FOR SOURCE-LINE 6127
15922 00002A74 00000000                   DATA FOR SOURCE-LINE 6132,6145,6151
15923 00002A78 00000000                   DATA FOR SOURCE-LINE 6139
15924                                     ***** END-POOL *****
15925 00002A7C                   6158     BRKTST_CTL_500:
15926 00002A7C 9408              6159             MOV.W   #H'3493,R4                                                      ;2010-12-2
                                          1
15927                            6160             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
15928 00002A7E D005                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15929 00002A80 400B                   M           JSR     @R0                     ;
15930 00002A82 0009                   M           NOP                                     ;
15931                            6161             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT6,WKREG=R1      ;bit-set
15932 00002A84 D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15933 00002A86 6011                   M           MOV.W   @R1,R0          ;
15934 00002A88 CB40                   M           OR      #BIT6,R0                ;
15935 00002A8A 2101                   M           MOV.W   R0,@R1          ;
15936                            6162             M_BRA   BRKTST_CTL_900                                                  ;
15937 00002A8C A006                   M           BRA     BRKTST_CTL_900
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   180
PROGRAM NAME =

15938 00002A8E 0009                   M           NOP
15939                            6163     
15940                            6164     
15941                            6165     
15942                            6166     ;       ---------------------------------------------
15943                                     ***** BEGIN-POOL *****
15944 00002A90 3493                       DATA FOR SOURCE-LINE 6159
15945 00002A92 0000                       ALIGNMENT CODE
15946 00002A94 00000000                   DATA FOR SOURCE-LINE 6160
15947 00002A98 00000000                   DATA FOR SOURCE-LINE 6161
15948                                     ***** END-POOL *****
15949 00002A9C                   6167     BRKTST_CTL_900:
15950                            6168     
15951 00002A9C D10C              6169             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15952 00002A9E 6011              6170             MOV.W   @R1,R0                          ;
15953 00002AA0 D10C              6171             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1     ;
15954 00002AA2 6211              6172             MOV.W   @R1,R2                          ;
15955 00002AA4 9411              6173             MOV.W   #H'FF00,R4                      ;
15956 00002AA6 2249              6174             AND     R4,R2
15957 00002AA8 6447              6175             NOT     R4,R4
15958 00002AAA 2049              6176             AND     R4,R0
15959 00002AAC 220B              6177             OR      R0,R2
15960 00002AAE 2121              6178             MOV.W   R2,@R1                          ;
15961                            6179     
15962                            6180     
15963                            6181     
15964                            6182     
15965                            6183     ;       -----------ﾌﾞﾚｰｷﾃｽﾄ時にｽﾄｯﾋﾟﾝｸﾞﾀｲﾏﾘｾｯﾄ
15966 00002AB0 D109              6184             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更
15967 00002AB2 6011              6185             MOV.W   @R1,R0                  ;
15968 00002AB4 940A              6186             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
15969 00002AB6 2048              6187             TST     R4,R0                   ;ONｴｯｼﾞ
15970                            6188             TST_BIT_OF BRKTST_CTL_950       ;
15971 00002AB8 8904                   M           BT      BRKTST_CTL_950
15972                            6189             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB229,LG=W,BIT=~(BIT15+BIT14+BIT13+BIT12),
                                          WKRG1=R1,WKRG2=R4       ;
15973 00002ABA D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1             ;
15974 00002ABC 6011                   M           MOV.W   @R1,R0          ;
15975 00002ABE 9406                   M           MOV.W   #LWORD ~(BIT15+BIT14+BIT13+BIT12),R4    ;
15976 00002AC0 2049                   M           AND     R4,R0           ;
15977 00002AC2 2101                   M           MOV.W   R0,@R1          ;
15978 00002AC4                   6190     BRKTST_CTL_950:
15979                            6191     
15980                            6192     
15981                            6193             SUB_END
15982                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15983 00002AC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15984                            6194             M_RTS
15985 00002AC6 000B                   M           RTS                             ;RTSの後ろの
15986 00002AC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15987                            6195     
15988                            6196     
15989                            6197     
15990                            6198     ;       ***********************************
15991                            6199     ;       ***                             ***
15992                            6200     ;       ***     制動モード条件          ***
15993                            6201     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   181
PROGRAM NAME =

15994                            6202     ;       ***********************************
15995                            6203     ;ANS:R0=0 NOMAL
15996                            6204     ;    R0=-1 ERR
15997                                     ***** BEGIN-POOL *****
15998 00002ACA FF00                       DATA FOR SOURCE-LINE 6173
15999 00002ACC 8000                       DATA FOR SOURCE-LINE 6186
16000 00002ACE 0FFF                       DATA FOR SOURCE-LINE 6189
16001 00002AD0 00000000                   DATA FOR SOURCE-LINE 6169
16002 00002AD4 00000000                   DATA FOR SOURCE-LINE 6171,6189
16003 00002AD8 00000000                   DATA FOR SOURCE-LINE 6184
16004                                     ***** END-POOL *****
16005 00002ADC                   6205     _BRKTST_MODE_CONF:
16006                            6206             SUB_START
16007 00002ADC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16008                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16009                            6207     
16010 00002ADE E2FF              6208             MOV.B   #-1,R2                                  ;
16011                            6209     
16012                            6210     ;;;;2011-09-14  MOV.L   #_INP_MODE,R1                           ;
16013                            6211     ;;;;;   MOV.W   @R1,R0                                  ;
16014                            6212     ;;;;2010-08     TST     #_W1DUP,R0                              ;上死点復帰
16015                            6213     ;;;;2011-09-14  TST     #_W1DIC,R0                              ;段取寸動
16016                            6214     ;;;;2011-09-14  TST_BIT_OF BRKTST_MOD_CF_END                    ;NO END[[[[[[[ここは実行さ
                                          れない CMDを落とすから]]]]]
16017                            6215     
16018 00002AE0 D105              6216             MOV.L   #_emg_err_flg,R1                        ;//異常ﾗｯﾁ
16019 00002AE2 6011              6217             MOV.W   @R1,R0                                  ;
16020 00002AE4 D105              6218             MOV.L   #_exq_err_flg,R1                        ;//異常ﾗｯﾁ
16021 00002AE6 6311              6219             MOV.W   @R1,R3                                  ;
16022 00002AE8 203B              6220             OR      R3,R0                                   ;
16023 00002AEA 2008              6221             TST     R0,R0                                   ;
16024                            6222             TST_BIT_ON BRKTST_MOD_CF_END                    ;
16025 00002AEC 8B00                   M           BF      BRKTST_MOD_CF_END
16026                            6223     
16027 00002AEE 222A              6224             XOR     R2,R2                                   ;
16028 00002AF0                   6225     BRKTST_MOD_CF_END:
16029 00002AF0 6023              6226             MOV     R2,R0                                   ;
16030                            6227             SUB_END
16031                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16032 00002AF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16033                            6228             M_RTS
16034 00002AF4 000B                   M           RTS                             ;RTSの後ろの
16035 00002AF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16036                            6229     
16037                            6230     ;       *******************************************
16038                            6231     ;       ***                                     ***
16039                            6232     ;       ***                                     ***
16040                            6233     ;       ***                                     ***
16041                            6234     ;       *******************************************
16042                                     ***** BEGIN-POOL *****
16043 00002AF8 00000000                   DATA FOR SOURCE-LINE 6216
16044 00002AFC 00000000                   DATA FOR SOURCE-LINE 6218
16045                                     ***** END-POOL *****
16046 00002B00                   6235             .ALIGN  4
16047 00002B00                   6236     _BRKTST_INPUT_MAK:
16048                            6237             SUB_START
16049 00002B00 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   182
PROGRAM NAME =

16050                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16051                            6238     ;       -------- 2011-09-14---
16052 00002B02 D10A              6239             MOV.L   #_INP_MODE,R1                           ;
16053 00002B04 6011              6240             MOV.W   @R1,R0                                  ;
16054 00002B06 C804              6241             TST     #_W1SGL,R0                              ;安全一行程SW
16055                            6242             TST_BIT_OF BRKTST_INPUTMK_100                   ;
16056 00002B08 891A                   M           BT      BRKTST_INPUTMK_100
16057                            6243     
16058 00002B0A D109              6244             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
16059 00002B0C 6011              6245             MOV.W   @R1,R0                                  ;
16060 00002B0E C810              6246             TST     #_W1OPT,R0                              ;OPT
16061                            6247             TST_BIT_ON BRKTST_INPUTMK_100                   ;OPTIONの安全でした
16062 00002B10 8B16                   M           BF      BRKTST_INPUTMK_100
16063                            6248     
16064                            6249     ;;;;    MOV.L   #_CB_SEQ_CB_COM349,R1                           ;これは本当は違う　安全装
                                          置入／切
16065                            6250     ;;;;    MOV.W   @R1,R0                                          ;
16066                            6251     ;;;;    TST     #BIT0,R0                                        ;
16067                            6252     ;;;;    TST_BIT_OF BRKTST_INPUTMK_100                           ;
16068                            6253     
16069 00002B12 D108              6254             MOV.L   #_BRKTST_SW_IN,R1                               ;
16070 00002B14 6011              6255             MOV.W   @R1,R0                                          ;
16071 00002B16 C801              6256             TST     #BIT0,R0                                        ;
16072                            6257             TST_BIT_OF BRKTST_INPUTMK_100                           ;BIT0=BIT1=1でくる
16073 00002B18 8912                   M           BT      BRKTST_INPUTMK_100
16074                            6258     
16075                            6259             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_INPUT_CMD,LG=W,BIT=(BIT0),WKREG=R1  ;[安全一行
                                          程のみonする]
16076 00002B1A D107                   M           MOV.L   #_BRKTST_INPUT_CMD,R1           ;
16077 00002B1C 6011                   M           MOV.W   @R1,R0          ;
16078 00002B1E CB01                   M           OR      #(BIT0),R0              ;
16079 00002B20 2101                   M           MOV.W   R0,@R1          ;
16080                            6260             FAR_JSR #_BRKTST_STOPSIG_MAKE,R0                                        ;
16081 00002B22 D006                   M           MOV.L   #_BRKTST_STOPSIG_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16082 00002B24 400B                   M           JSR     @R0                     ;
16083 00002B26 0009                   M           NOP                                     ;
16084                            6261             M_BRA   BRKTST_INPUTMK_200                                              ;
16085 00002B28 A00F                   M           BRA     BRKTST_INPUTMK_200
16086 00002B2A 0009                   M           NOP
16087                            6262     
16088                                     ***** BEGIN-POOL *****
16089 00002B2C 00000000                   DATA FOR SOURCE-LINE 6239
16090 00002B30 00000000                   DATA FOR SOURCE-LINE 6244
16091 00002B34 00000000                   DATA FOR SOURCE-LINE 6254
16092 00002B38 00000000                   DATA FOR SOURCE-LINE 6259
16093 00002B3C 00000000                   DATA FOR SOURCE-LINE 6260
16094                                     ***** END-POOL *****
16095 00002B40                   6263     BRKTST_INPUTMK_100:
16096 00002B40 200A              6264             XOR     R0,R0                                   ;
16097 00002B42 D103              6265             MOV.L   #_BRKTST_INPUT_CMD,R1                   ;2011-09-14
16098 00002B44 2101              6266             MOV.W   R0,@R1                                  ;
16099 00002B46 D103              6267             MOV.L   #_BRKTST_STR_FLG,R1                     ;
16100 00002B48 2101              6268             MOV.W   R0,@R1                                  ;
16101                            6269     
16102 00002B4A                   6270     BRKTST_INPUTMK_200:
16103                            6271     
16104                            6272             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   183
PROGRAM NAME =

16105                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16106 00002B4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16107                            6273             M_RTS
16108 00002B4C 000B                   M           RTS                             ;RTSの後ろの
16109 00002B4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16110                            6274     
16111                            6275     
16112                            6276     
16113                            6277     ;       ***********************************
16114                            6278     ;       ***                             ***
16115                            6279     ;       ***     制動試験準備完了条件    ***
16116                            6280     ;       ***     2010-10-22              ***
16117                            6281     ;       ***********************************
16118                            6282     ;ANS:R0=0 RDY-ON
16119                            6283     ;    R0=-1 RDY-OFF
16120                            6284     ;       FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
16121                                     ***** BEGIN-POOL *****
16122 00002B50 00000000                   DATA FOR SOURCE-LINE 6265
16123 00002B54 00000000                   DATA FOR SOURCE-LINE 6267
16124                                     ***** END-POOL *****
16125 00002B58                   6285     _BRKTST_RDY_CHK:
16126                            6286             SUB_START
16127 00002B58 4F22                   M           STS.L   PR,@-R15                ;[必要]
16128                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16129                            6287     
16130                            6288     ;       ===========================
16131                            6289     ;       ===     安全装置ﾏｽｸ     ===
16132                            6290     ;       ===========================
16133                            6291     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
16134                            6292     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
16135                            6293     
16136                            6294     ;;;;_BRK_SADOU_CHG 2015-09-06[MCは後から修正]
16137                            6295     ;;;     FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23
16138                            6296     
16139                            6297     ;       -------- 2015-09-06---------
16140 00002B5A D104              6298             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
16141 00002B5C 6011              6299             MOV.W   @R1,R0                                                  ;
16142 00002B5E 8801              6300             CMP/EQ  #1,R0
16143 00002B60 8908              6301             BT      BRKTST_RDY_SFTY_MASK2CHK055                                     ;停止制御
                                          有効
16144                            6302     
16145                            6303             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
16146 00002B62 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16147 00002B64 400B                   M           JSR     @R0                     ;
16148 00002B66 0009                   M           NOP                                     ;
16149                            6304             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100                                     ;
16150 00002B68 A015                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16151 00002B6A 0009                   M           NOP
16152                            6305     
16153                                     ***** BEGIN-POOL *****
16154 00002B6C 00000000                   DATA FOR SOURCE-LINE 6298
16155 00002B70 00000000                   DATA FOR SOURCE-LINE 6303
16156                                     ***** END-POOL *****
16157 00002B74                   6306     BRKTST_RDY_SFTY_MASK2CHK055:
16158                            6307     
16159 00002B74 D104              6308             MOV.L   #_DRV_START_KEEP,R1
16160 00002B76 6011              6309             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   184
PROGRAM NAME =

16161 00002B78 C801              6310             TST     #BIT0,R0                        ;
16162                            6311             TST_BIT_ON BRKTST_RDY_SFTY_MASK2CHK060          ;
16163 00002B7A 8B09                   M           BF      BRKTST_RDY_SFTY_MASK2CHK060
16164                            6312     
16165                            6313             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
16166 00002B7C D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16167 00002B7E 400B                   M           JSR     @R0                     ;
16168 00002B80 0009                   M           NOP                                     ;
16169                            6314             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100             ;
16170 00002B82 A008                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16171 00002B84 0009                   M           NOP
16172                            6315     
16173                                     ***** BEGIN-POOL *****
16174 00002B86 0000                       ALIGNMENT CODE
16175 00002B88 00000000                   DATA FOR SOURCE-LINE 6308
16176 00002B8C 00000000                   DATA FOR SOURCE-LINE 6313
16177                                     ***** END-POOL *****
16178 00002B90                   6316     BRKTST_RDY_SFTY_MASK2CHK060:
16179                            6317             FAR_JSR #_SFTY_MASK_END,R0              ;
16180 00002B90 D011                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16181 00002B92 400B                   M           JSR     @R0                     ;
16182 00002B94 0009                   M           NOP                                     ;
16183 00002B96                   6318     BRKTST_RDY_SFTY_MASK2CHK100:
16184                            6319     
16185                            6320     
16186                            6321     
16187 00002B96 D111              6322             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
16188 00002B98 6011              6323             MOV.W   @R1,R0                  ;
16189 00002B9A C820              6324             TST     #_WORDY,R0              ;RDY
16190                            6325             TST_BIT_ON BRKTST_RDYCK_0200    ;(準備完了ON)
16191 00002B9C 8B2E                   M           BF      BRKTST_RDYCK_0200
16192                            6326     
16193                            6327     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
16194                            6328     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;
16195                            6329     
16196                            6330             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16197 00002B9E D010                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16198 00002BA0 400B                   M           JSR     @R0                     ;
16199 00002BA2 0009                   M           NOP                                     ;
16200 00002BA4 2008              6331             TST     R0,R0                   ;
16201                            6332             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16202 00002BA6 8B41                   M           BF      BRKTST_RDYCHK_OFF
16203                            6333     
16204 00002BA8 D10E              6334             MOV.L   #_BTTN_FLG,R1           ;
16205 00002BAA 6011              6335             MOV.W   @R1,R0                  ;
16206 00002BAC C801              6336             TST     #BIT0,R0                ;両手ﾌﾘ?
16207                            6337             TST_BIT_OF BRKTST_RDYCHK_OFF    ;
16208 00002BAE 893D                   M           BT      BRKTST_RDYCHK_OFF
16209                            6338     
16210 00002BB0 200A              6339             XOR     R0,R0
16211 00002BB2 D10D              6340             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
16212 00002BB4 2101              6341             MOV.W   R0,@R1                  ;
16213                            6342     
16214 00002BB6 920E              6343             MOV.W   #_SYS_BSAME_TIM,R2      ;
16215 00002BB8 D10C              6344             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
16216 00002BBA 2121              6345             MOV.W   R2,@R1                  ;
16217                            6346     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   185
PROGRAM NAME =

16218                            6347             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0          ;
16219 00002BBC D00C                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16220 00002BBE 400B                   M           JSR     @R0                     ;
16221 00002BC0 0009                   M           NOP                                     ;
16222                            6348             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
16223 00002BC2 D00C                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16224 00002BC4 400B                   M           JSR     @R0                     ;
16225 00002BC6 0009                   M           NOP                                     ;
16226 00002BC8 2008              6349             TST     R0,R0                           ;
16227                            6350             TST_BIT_OF BRKTST_RDYCK_0198            ;WAIT
16228 00002BCA 8902                   M           BT      BRKTST_RDYCK_0198
16229                            6351             FAR_JSR #_RDY_ON,R1                     ;準備完了へ遷移
16230 00002BCC D10A                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16231 00002BCE 410B                   M           JSR     @R1                     ;
16232 00002BD0 0009                   M           NOP                                     ;
16233 00002BD2                   6352     BRKTST_RDYCK_0198:                              ;
16234                            6353             M_BRA   BRKTST_RDYCHK_START_WAIT        ;RDY-ON待ち
16235 00002BD2 A02E                   M           BRA     BRKTST_RDYCHK_START_WAIT
16236 00002BD4 0009                   M           NOP
16237                            6354     
16238                            6355     
16239                            6356     
16240                            6357     ;       -------準備完了状態
16241                                     ***** BEGIN-POOL *****
16242 00002BD6 01F4                       DATA FOR SOURCE-LINE 6343
16243 00002BD8 00000000                   DATA FOR SOURCE-LINE 6317
16244 00002BDC 00000000                   DATA FOR SOURCE-LINE 6322
16245 00002BE0 00000000                   DATA FOR SOURCE-LINE 6330
16246 00002BE4 00000000                   DATA FOR SOURCE-LINE 6334
16247 00002BE8 00000000                   DATA FOR SOURCE-LINE 6340
16248 00002BEC 00000000                   DATA FOR SOURCE-LINE 6344
16249 00002BF0 00000000                   DATA FOR SOURCE-LINE 6347
16250 00002BF4 00000000                   DATA FOR SOURCE-LINE 6348
16251 00002BF8 00000000                   DATA FOR SOURCE-LINE 6351
16252                                     ***** END-POOL *****
16253 00002BFC                   6358     BRKTST_RDYCK_0200       ;(準備完了ON状態)
16254                            6359             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16255 00002BFC D003                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16256 00002BFE 400B                   M           JSR     @R0                     ;
16257 00002C00 0009                   M           NOP                                     ;
16258 00002C02 2008              6360             TST     R0,R0                   ;
16259                            6361             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16260 00002C04 8B12                   M           BF      BRKTST_RDYCHK_OFF
16261                            6362             M_BRA   BRKTST_RDYCHK_ON        ;
16262 00002C06 A003                   M           BRA     BRKTST_RDYCHK_ON
16263 00002C08 0009                   M           NOP
16264                            6363     
16265                            6364     
16266                                     ***** BEGIN-POOL *****
16267 00002C0A 0000                       ALIGNMENT CODE
16268 00002C0C 00000000                   DATA FOR SOURCE-LINE 6359
16269                                     ***** END-POOL *****
16270 00002C10                   6365     BRKTST_RDYCHK_ON:
16271                            6366             FAR_JSR #_RDY_ON,R1                                     ;
16272 00002C10 D104                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16273 00002C12 410B                   M           JSR     @R1                     ;
16274 00002C14 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   186
PROGRAM NAME =

16275                            6367             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0                          ;
16276 00002C16 D004                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16277 00002C18 400B                   M           JSR     @R0                     ;
16278 00002C1A 0009                   M           NOP                                     ;
16279 00002C1C 255A              6368             XOR     R5,R5                                           ;
16280                            6369             M_BRA   BRKTST_RDYCHK_END                               ;
16281 00002C1E A009                   M           BRA     BRKTST_RDYCHK_END
16282 00002C20 0009                   M           NOP
16283                            6370     
16284                            6371     
16285                            6372     
16286                                     ***** BEGIN-POOL *****
16287 00002C22 0000                       ALIGNMENT CODE
16288 00002C24 00000000                   DATA FOR SOURCE-LINE 6366
16289 00002C28 00000000                   DATA FOR SOURCE-LINE 6367
16290                                     ***** END-POOL *****
16291 00002C2C                   6373     BRKTST_RDYCHK_OFF:
16292                            6374             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
16293 00002C2C D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16294 00002C2E 400B                   M           JSR     @R0                     ;
16295 00002C30 0009                   M           NOP                                     ;
16296 00002C32                   6375     BRKTST_RDYCHK_START_WAIT:
16297 00002C32 E5FF              6376             MOV     #-1,R5                                          ;起動受付不可
16298 00002C34                   6377     BRKTST_RDYCHK_END:
16299 00002C34 6053              6378             MOV     R5,R0                                           ;
16300                            6379     
16301                            6380             SUB_END
16302                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16303 00002C36 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16304                            6381             M_RTS
16305 00002C38 000B                   M           RTS                             ;RTSの後ろの
16306 00002C3A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16307                            6382     
16308                            6383     
16309                                     ***** BEGIN-POOL *****
16310 00002C3C 00000000                   DATA FOR SOURCE-LINE 6374
16311                                     ***** END-POOL *****
16312 00002C40                   6384     _BRKTST_RDY_OFF_OUT:
16313                            6385             SUB_START
16314 00002C40 4F22                   M           STS.L   PR,@-R15                ;[必要]
16315                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16316                            6386             FAR_JSR #_RDY_OF,R1                     ;
16317 00002C42 D107                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16318 00002C44 410B                   M           JSR     @R1                     ;
16319 00002C46 0009                   M           NOP                                     ;
16320                            6387             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
16321 00002C48 D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16322 00002C4A 400B                   M           JSR     @R0                     ;
16323 00002C4C 0009                   M           NOP                                     ;
16324                            6388             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16325 00002C4E D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16326 00002C50 400B                   M           JSR     @R0                     ;
16327 00002C52 0009                   M           NOP                                     ;
16328 00002C54 200A              6389             XOR     R0,R0                           ;
16329 00002C56 D105              6390             MOV.L   #_DRV_START_KEEP,R1             ;FLG
16330 00002C58 2101              6391             MOV.W   R0,@R1                          ;
16331                            6392             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   187
PROGRAM NAME =

16332                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16333 00002C5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16334                            6393             M_RTS
16335 00002C5C 000B                   M           RTS                             ;RTSの後ろの
16336 00002C5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16337                            6394     
16338                            6395     ;       ***********************************
16339                            6396     ;       ***                             ***
16340                            6397     ;       ***     motor起動               ***
16341                            6398     ;       ***                             ***
16342                            6399     ;       ***********************************
16343                            6400             .IMPORT _BRKTST_POS_START               ;
16344                            6401     ;       --------------<同期ソフトはできないつくり>-----------------------------
16345                                     ***** BEGIN-POOL *****
16346 00002C60 00000000                   DATA FOR SOURCE-LINE 6386
16347 00002C64 00000000                   DATA FOR SOURCE-LINE 6387
16348 00002C68 00000000                   DATA FOR SOURCE-LINE 6388
16349 00002C6C 00000000                   DATA FOR SOURCE-LINE 6390
16350                                     ***** END-POOL *****
16351 00002C70                   6402     _BRKTST_MOTOR_START:
16352                            6403             SUB_START
16353 00002C70 4F22                   M           STS.L   PR,@-R15                ;[必要]
16354                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16355                            6404     
16356                            6405     ;       ===================================
16357                            6406     ;       ===     起動処理                ===
16358                            6407     ;       ===================================
16359                            6408             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
16360 00002C72 D124                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
16361 00002C74 6011                   M           MOV.W   @R1,R0          ;
16362 00002C76 9442                   M           MOV.W   #LWORD (~BIT3),R4       ;
16363 00002C78 2049                   M           AND     R4,R0           ;
16364 00002C7A 2101                   M           MOV.W   R0,@R1          ;
16365                            6409             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
16366 00002C7C D022                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16367 00002C7E 400B                   M           JSR     @R0                     ;
16368 00002C80 0009                   M           NOP                                     ;
16369                            6410             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
16370 00002C82 D022                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16371 00002C84 400B                   M           JSR     @R0                     ;
16372 00002C86 0009                   M           NOP                                     ;
16373                            6411             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
16374 00002C88 D021                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16375 00002C8A 400B                   M           JSR     @R0                     ;
16376 00002C8C 0009                   M           NOP                                     ;
16377                            6412     
16378                            6413     ;       ==== 2004-01-28 ==
16379 00002C8E 200A              6414             XOR     R0,R0
16380 00002C90 D120              6415             MOV.L   #_ENC360_OVER_FLG,R1            ;
16381 00002C92 2101              6416             MOV.W   R0,@R1                          ;
16382                            6417     
16383                            6418             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
16384 00002C94 D020                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16385 00002C96 400B                   M           JSR     @R0                     ;
16386 00002C98 0009                   M           NOP                                     ;
16387                            6419             FAR_JSR #_CB_CTL_START_INI,R0
16388 00002C9A D020                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   188
PROGRAM NAME =

16389 00002C9C 400B                   M           JSR     @R0                     ;
16390 00002C9E 0009                   M           NOP                                     ;
16391                            6420             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
16392 00002CA0 D01F                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16393 00002CA2 400B                   M           JSR     @R0                     ;
16394 00002CA4 0009                   M           NOP                                     ;
16395                            6421     
16396                            6422     ;;;;;   FAR_JSR #_MN_POS_CTRL_START,R0          ;
16397                            6423     
16398                            6424     
16399                            6425             FAR_JSR #_BRKTST_POS_START,R0
16400 00002CA6 D01F                   M           MOV.L   #_BRKTST_POS_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16401 00002CA8 400B                   M           JSR     @R0                     ;
16402 00002CAA 0009                   M           NOP                                     ;
16403                            6426     
16404                            6427     
16405                            6428     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
16406                            6429             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
16407 00002CAC D41E                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
16408 00002CAE 6041                   M           MOV.W   @R4,R0          ;
16409 00002CB0 9126                   M           MOV.W   #LWORD (~BIT5),R1       ;
16410 00002CB2 2019                   M           AND     R1,R0           ;
16411 00002CB4 2401                   M           MOV.W   R0,@R4          ;
16412                            6430             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
16413 00002CB6 D41D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
16414 00002CB8 6041                   M           MOV.W   @R4,R0          ;
16415 00002CBA 9121                   M           MOV.W   #LWORD (~BIT5),R1       ;
16416 00002CBC 2019                   M           AND     R1,R0           ;
16417 00002CBE 2401                   M           MOV.W   R0,@R4          ;
16418                            6431     
16419                            6432     
16420                            6433             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
16421 00002CC0 D11B                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
16422 00002CC2 921E                   M           MOV.W   #BIT0,R2                ;
16423 00002CC4 2121                   M           MOV.W   R2,@R1  ;
16424                            6434             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
16425 00002CC6 D01B                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16426 00002CC8 400B                   M           JSR     @R0                     ;
16427 00002CCA 0009                   M           NOP                                     ;
16428                            6435     
16429                            6436             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16430 00002CCC D01A                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16431 00002CCE 400B                   M           JSR     @R0                     ;
16432 00002CD0 0009                   M           NOP                                     ;
16433                            6437             FAR_JSR #_RDY_OF,R1                     ;
16434 00002CD2 D11A                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16435 00002CD4 410B                   M           JSR     @R1                     ;
16436 00002CD6 0009                   M           NOP                                     ;
16437                            6438     
16438                            6439     ;       ==== 2007-09-07 ちゃんとｾﾙﾌを生かす===
16439                            6440     ;;      .IMPORT _PAR_SELFCHK_POWSEL
16440                            6441     
16441 00002CD8 D119              6442             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
16442 00002CDA 6011              6443             MOV.W   @R1,R0                          ;
16443 00002CDC 8801              6444             CMP/EQ  #1,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   189
PROGRAM NAME =

16444 00002CDE 8908              6445             BT      BRKTST_STR_POW_100              ;"1"ならちゃんとセルフする
16445                            6446     
16446                            6447     ;       ===== 2006-12-06 [1]=====
16447 00002CE0 900F              6448             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
16448 00002CE2 D118              6449             MOV.L   #_SELF_LOCK_FLG,R1              ;
16449 00002CE4 2101              6450             MOV.W   R0,@R1                          ;
16450 00002CE6 222A              6451             XOR     R2,R2                           ;
16451 00002CE8 233A              6452             XOR     R3,R3                           ;
16452 00002CEA D117              6453             MOV.L   #_SELF_CHK_SEL,R1               ;
16453 00002CEC 2121              6454             MOV.W   R2,@R1                          ;
16454 00002CEE D117              6455             MOV.L   #_SELF_CHK_MATHED,R1            ;
16455 00002CF0 2131              6456             MOV.W   R3,@R1                          ;
16456                            6457     
16457 00002CF2                   6458     BRKTST_STR_POW_100
16458                            6459     
16459                            6460     ;       ====== 2007-01-16========
16460                            6461             FAR_JSR #_START_SFTY_LOCK_CLR,R0
16461 00002CF2 D017                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16462 00002CF4 400B                   M           JSR     @R0                     ;
16463 00002CF6 0009                   M           NOP                                     ;
16464                            6462     
16465                            6463     
16466                            6464             SUB_END
16467                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16468 00002CF8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16469                            6465             M_RTS
16470 00002CFA 000B                   M           RTS                             ;RTSの後ろの
16471 00002CFC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16472                            6466     
16473                            6467     
16474                                     ***** BEGIN-POOL *****
16475 00002CFE FFF7                       DATA FOR SOURCE-LINE 6408
16476 00002D00 FFDF                       DATA FOR SOURCE-LINE 6429,6430
16477 00002D02 0001                       DATA FOR SOURCE-LINE 6433,6448
16478 00002D04 00000000                   DATA FOR SOURCE-LINE 6408
16479 00002D08 00000000                   DATA FOR SOURCE-LINE 6409
16480 00002D0C 00000000                   DATA FOR SOURCE-LINE 6410
16481 00002D10 00000000                   DATA FOR SOURCE-LINE 6411
16482 00002D14 00000000                   DATA FOR SOURCE-LINE 6415
16483 00002D18 00000000                   DATA FOR SOURCE-LINE 6418
16484 00002D1C 00000000                   DATA FOR SOURCE-LINE 6419
16485 00002D20 00000000                   DATA FOR SOURCE-LINE 6420
16486 00002D24 00000000                   DATA FOR SOURCE-LINE 6425
16487 00002D28 00000000                   DATA FOR SOURCE-LINE 6429
16488 00002D2C 00000000                   DATA FOR SOURCE-LINE 6430
16489 00002D30 00000000                   DATA FOR SOURCE-LINE 6433
16490 00002D34 00000000                   DATA FOR SOURCE-LINE 6434
16491 00002D38 00000000                   DATA FOR SOURCE-LINE 6436
16492 00002D3C 00000000                   DATA FOR SOURCE-LINE 6437
16493 00002D40 00000000                   DATA FOR SOURCE-LINE 6442
16494 00002D44 00000000                   DATA FOR SOURCE-LINE 6449
16495 00002D48 00000000                   DATA FOR SOURCE-LINE 6453
16496 00002D4C 00000000                   DATA FOR SOURCE-LINE 6455
16497 00002D50 00000000                   DATA FOR SOURCE-LINE 6461
16498                                     ***** END-POOL *****
16499 00002D54                   6468             .ALIGN  4
16500 00002D54                   6469     _BRKTST_CHKDT_MAK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   190
PROGRAM NAME =

16501                            6470             SUB_START
16502 00002D54 4F22                   M           STS.L   PR,@-R15                ;[必要]
16503                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16504 00002D56 D00C              6471             MOV.L   #_LINK_MAX_SPD_PLS,R0   ;
16505 00002D58 6202              6472             MOV.L   @R0,R2                  ;
16506 00002D5A 9414              6473             MOV.W   #_SPD_PER_MAX,R4        ;100.00per
16507                            6474     
16508 00002D5C D00B              6475             MOV.L   #_WPAR_BRKTOUT_SPD,R0           ;出力LATE
16509 00002D5E 6101              6476             MOV.W   @R0,R1                          ;
16510 00002D60 4115              6477             CMP/PL  R1                              ;
16511 00002D62 8900              6478             BT      BRKTST_CHKDTMK_100                      ;
16512 00002D64 6143              6479             MOV     R4,R1                                   ;
16513 00002D66                   6480     BRKTST_CHKDTMK_100:                                     ;
16514                            6481             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
16515 00002D66 D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16516 00002D68 400B                   M           JSR     @R0                     ;
16517 00002D6A 0009                   M           NOP                                     ;
16518 00002D6C D109              6482             MOV.L   #_BRKTST_OUTSPD_PLS,R1          ;
16519 00002D6E 2122              6483             MOV.L   R2,@R1                          ;
16520                            6484     
16521 00002D70 D009              6485             MOV.L   #_WPAR_BRKTCHK_SPD,R0           ;
16522 00002D72 6101              6486             MOV.W   @R0,R1                          ;
16523 00002D74 9407              6487             MOV.W   #_SPD_PER_MAX,R4                ;100.00per
16524                            6488             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
16525 00002D76 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16526 00002D78 400B                   M           JSR     @R0                     ;
16527 00002D7A 0009                   M           NOP                                     ;
16528 00002D7C D107              6489             MOV.L   #_BRKTST_CHKSPD_PLS,R1
16529 00002D7E 2122              6490             MOV.L   R2,@R1                          ;
16530                            6491     
16531                            6492             SUB_END
16532                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16533 00002D80 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16534                            6493             M_RTS
16535 00002D82 000B                   M           RTS                             ;RTSの後ろの
16536 00002D84 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16537                            6494     
16538                            6495     
16539                            6496     
16540                            6497     
16541                            6498     
16542                            6499     ;       ***********************************
16543                            6500     ;       ***                             ***
16544                            6501     ;       ***             速度            ***
16545                            6502     ;       ***                             ***
16546                            6503     ;       ***********************************
16547                                     ***** BEGIN-POOL *****
16548 00002D86 2710                       DATA FOR SOURCE-LINE 6473,6487
16549 00002D88 00000000                   DATA FOR SOURCE-LINE 6471
16550 00002D8C 00000000                   DATA FOR SOURCE-LINE 6475
16551 00002D90 00000000                   DATA FOR SOURCE-LINE 6481,6488
16552 00002D94 00000000                   DATA FOR SOURCE-LINE 6482
16553 00002D98 00000000                   DATA FOR SOURCE-LINE 6485
16554 00002D9C 00000000                   DATA FOR SOURCE-LINE 6489
16555                                     ***** END-POOL *****
16556 00002DA0                   6504             .ALIGN  4
16557 00002DA0                   6505     _BRKTST_SPD_CHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   191
PROGRAM NAME =

16558                            6506             SUB_START
16559 00002DA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16560                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16561 00002DA2 D106              6507             MOV.L   #_ABS_ENC_PLS_SPD,R1    ;
16562 00002DA4 6212              6508             MOV.L   @R1,R2                  ;PV(ABS)
16563 00002DA6 D106              6509             MOV.L   #_BRKTST_CHKSPD_PLS,R1  ;
16564 00002DA8 6012              6510             MOV.L   @R1,R0                  ;SV
16565 00002DAA 3202              6511             CMP/HS  R0,R2                   ;R0=< R2?
16566 00002DAC 8B03              6512             BF      BRKTST_SPDCHK_100       ;NO JUMP
16567                            6513     
16568                            6514             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT4),WKREG=R1    ;BIT4速度ﾗ
                                          ｯﾁ
16569 00002DAE D105                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16570 00002DB0 6011                   M           MOV.W   @R1,R0          ;
16571 00002DB2 CB10                   M           OR      #(BIT4),R0              ;
16572 00002DB4 2101                   M           MOV.W   R0,@R1          ;
16573                            6515     
16574 00002DB6                   6516     BRKTST_SPDCHK_100:
16575                            6517             SUB_END
16576                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16577 00002DB6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16578                            6518             M_RTS
16579 00002DB8 000B                   M           RTS                             ;RTSの後ろの
16580 00002DBA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16581                            6519     
16582                            6520     
16583                            6521     ;       ***********************************
16584                            6522     ;       ***                             ***
16585                            6523     ;       ***     motor停止               ***
16586                            6524     ;       ***                             ***
16587                            6525     ;       ***********************************
16588                                     ***** BEGIN-POOL *****
16589 00002DBC 00000000                   DATA FOR SOURCE-LINE 6507
16590 00002DC0 00000000                   DATA FOR SOURCE-LINE 6509
16591 00002DC4 00000000                   DATA FOR SOURCE-LINE 6514
16592                                     ***** END-POOL *****
16593 00002DC8                   6526             .ALIGN  4
16594                            6527             .IMPORT _EMG_STOP_SPEC;相手には教えない
16595                            6528     
16596 00002DC8                   6529     _BRKTST_MOTOR_STOP:
16597                            6530             SUB_START
16598 00002DC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16599                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16600                            6531             FAR_JSR #_EMG_STOP_SPEC,R0              ;相手には教えない
16601 00002DCA D003                   M           MOV.L   #_EMG_STOP_SPEC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16602 00002DCC 400B                   M           JSR     @R0                     ;
16603 00002DCE 0009                   M           NOP                                     ;
16604                            6532             SUB_END
16605                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16606 00002DD0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16607                            6533             M_RTS
16608 00002DD2 000B                   M           RTS                             ;RTSの後ろの
16609 00002DD4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16610                            6534     
16611                            6535     ;       *******************************************
16612                            6536     ;       ***                                     ***
16613                            6537     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   192
PROGRAM NAME =

16614                            6538     ;       ***                                     ***
16615                            6539     ;       *******************************************
16616                                     ***** BEGIN-POOL *****
16617 00002DD6 0000                       ALIGNMENT CODE
16618 00002DD8 00000000                   DATA FOR SOURCE-LINE 6531
16619                                     ***** END-POOL *****
16620 00002DDC                   6540             .ALIGN  4                               ;
16621 00002DDC                   6541     _BRKTST_STOPSIG_MAKE:
16622                            6542             SUB_START
16623 00002DDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16624                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16625 00002DDE D10D              6543             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16626 00002DE0 6011              6544             MOV.W   @R1,R0                                          ;
16627 00002DE2 C801              6545             TST     #BIT0,R0                                        ;
16628                            6546             TST_BIT_OF BRKTST_STOPSIG_MK300                         ;
16629 00002DE4 8912                   M           BT      BRKTST_STOPSIG_MK300
16630                            6547     
16631 00002DE6 D40C              6548             MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
16632 00002DE8 6542              6549             MOV.L   @R4,R5                                                  ;
16633 00002DEA 5641              6550             MOV.L   @(1*4,R4),R6                                            ;
16634                            6551     
16635 00002DEC D40B              6552             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;
16636 00002DEE 6146              6553             MOV.L   @R4+,R1                                                 ;
16637 00002DF0 6242              6554             MOV.L   @R4,R2                                                  ;
16638                            6555     
16639                            6556             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;R5,R6 - R1,R2 =R5
                                          ,R6<0なら停止
16640 00002DF2 0008                   M           CLRT
16641 00002DF4 362A                   M           SUBC    R2,R6
16642 00002DF6 351A                   M           SUBC    R1,R5
16643 00002DF8 4511              6557             CMP/PZ  R5
16644 00002DFA 8907              6558             BT      BRKTST_STOPSIG_MK300                            ;
16645                            6559     
16646 00002DFC D105              6560             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16647 00002DFE 6011              6561             MOV.W   @R1,R0                                          ;
16648 00002E00 C9FE              6562             AND     #LOW ~BIT0,R0                                   ;
16649 00002E02 2101              6563             MOV.W   R0,@R1                                          ;
16650                            6564     
16651 00002E04 D106              6565             MOV.L   #_BRKTST_INPUT_CMD,R1                           ;2011-09-14
16652 00002E06 6011              6566             MOV.W   @R1,R0                                          ;
16653 00002E08 CB02              6567             OR      #BIT1,R0                                        ;
16654 00002E0A 2101              6568             MOV.W   R0,@R1                                          ;
16655                            6569     
16656 00002E0C                   6570     BRKTST_STOPSIG_MK300:
16657                            6571             SUB_END
16658                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16659 00002E0C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16660                            6572             M_RTS
16661 00002E0E 000B                   M           RTS                             ;RTSの後ろの
16662 00002E10 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16663                            6573     
16664                            6574     
16665                            6575     
16666                            6576     ;       ***********************************
16667                            6577     ;       ***                             ***
16668                            6578     ;       ***     RDY-ON 維持条件         ***
16669                            6579     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   193
PROGRAM NAME =

16670                            6580     ;       ***********************************
16671                            6581     ;       R0=0 RDY ON KEEP
16672                                     ***** BEGIN-POOL *****
16673 00002E12 0000                       ALIGNMENT CODE
16674 00002E14 00000000                   DATA FOR SOURCE-LINE 6543,6560
16675 00002E18 00000000                   DATA FOR SOURCE-LINE 6548
16676 00002E1C 00000000                   DATA FOR SOURCE-LINE 6552
16677 00002E20 00000000                   DATA FOR SOURCE-LINE 6565
16678                                     ***** END-POOL *****
16679 00002E24                   6582     _BRK_RDYON_CONF1:
16680                            6583             SUB_START
16681 00002E24 4F22                   M           STS.L   PR,@-R15                ;[必要]
16682                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16683 00002E26 D108              6584             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
16684 00002E28 6011              6585             MOV.W   @R1,R0                          ;
16685 00002E2A 940C              6586             MOV.W   #BIT14,R4                       ;
16686 00002E2C 2048              6587             TST     R4,R0                           ;
16687                            6588             TST_BIT_ON BRK_RDY_ON_CF_999            ;一旦停止指令
16688 00002E2E 8B11                   M           BF      BRK_RDY_ON_CF_999
16689                            6589     
16690 00002E30 D106              6590             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
16691 00002E32 6011              6591             MOV.W   @R1,R0                          ;
16692 00002E34 C803              6592             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
16693                            6593             TST_BIT_ON BRK_RDY_ON_CF_999            ;
16694 00002E36 8B0D                   M           BF      BRK_RDY_ON_CF_999
16695                            6594     
16696 00002E38 D105              6595             MOV.L   #_CNT_STOP_CMD,R1               ;
16697 00002E3A 6011              6596             MOV.W   @R1,R0                          ;
16698 00002E3C C801              6597             TST     #BIT0,R0                        ;
16699                            6598             TST_BIT_ON BRK_RDY_ON_CF_999            ;BIT0=連続停止,(BIT2:LOT,設定異常)
16700 00002E3E 8B09                   M           BF      BRK_RDY_ON_CF_999
16701                            6599     
16702                            6600     
16703 00002E40                   6601     BRK_RDY_ON_CF_998:
16704 00002E40 200A              6602             XOR     R0,R0                   ;準備完了
16705                            6603             M_BRA   BRK_RDY_ON_CF_EXT               ;
16706 00002E42 A008                   M           BRA     BRK_RDY_ON_CF_EXT
16707 00002E44 0009                   M           NOP
16708                            6604     
16709                                     ***** BEGIN-POOL *****
16710 00002E46 4000                       DATA FOR SOURCE-LINE 6586
16711 00002E48 00000000                   DATA FOR SOURCE-LINE 6584
16712 00002E4C 00000000                   DATA FOR SOURCE-LINE 6590
16713 00002E50 00000000                   DATA FOR SOURCE-LINE 6595
16714                                     ***** END-POOL *****
16715 00002E54                   6605     BRK_RDY_ON_CF_999:
16716 00002E54 E0FF              6606             MOV     #-1,R0                  ;準備未完了
16717 00002E56                   6607     BRK_RDY_ON_CF_EXT:
16718                            6608             SUB_END
16719                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16720 00002E56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16721                            6609             M_RTS
16722 00002E58 000B                   M           RTS                             ;RTSの後ろの
16723 00002E5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16724                            6610     
16725 00002E5C                   6611             .ALIGN  4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   194
PROGRAM NAME =

16726 00002E5C 0009              6612             NOP
16727 00002E5E 0009              6613             NOP
16728 00002E60 0009              6614             NOP
16729 00002E62 0009              6615             NOP
16730                            6616     
16731                            6617     ;       *******************************************
16732                            6618     ;       ***                                     ***
16733                            6619     ;       ***                                     ***
16734                            6620     ;       ***                                     ***
16735                            6621     ;       ***                                     ***
16736                            6622     ;       ***                                     ***
16737                            6623     ;       ***                                     ***
16738                            6624     ;       ***             R02R03新機能            ***
16739                            6625     ;       ***                                     ***
16740                            6626     ;       ***                                     ***
16741                            6627     ;       ***                                     ***
16742                            6628     ;       ***                                     ***
16743                            6629     ;       ***                                     ***
16744                            6630     ;       ***                                     ***
16745                            6631     ;       *******************************************
16746                            6632     
16747                            6633     ;       *******************************************
16748                            6634     ;       ***                                     ***
16749                            6635     ;       ***                                     ***
16750                            6636     ;       ***             外部起動                ***
16751                            6637     ;       ***                                     ***
16752                            6638     ;       ***                                     ***
16753                            6639     ;       *******************************************
16754                            6640             .EXPORT _EXT_DRVBTTN_MODE
16755 00002E64                   6641     _EXT_DRVBTTN_MODE
16756                            6642             SUB_START
16757 00002E64 4F22                   M           STS.L   PR,@-R15                ;[必要]
16758                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16759                            6643     
16760 00002E66 D10D              6644             MOV.L   #(_PAR_EXTDRV_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16761 00002E68 6011              6645             MOV.W   @R1,R0                                                  ;
16762 00002E6A 8801              6646             CMP/EQ  #1,R0                                                   ;
16763 00002E6C 8B12              6647             BF      EXT_DRVBTTN_MOD_END                                     ;
16764                            6648     
16765                            6649             FAR_JSR #_EXT_DRVBTTN_INFO_MAKE,R0              ;
16766 00002E6E D00C                   M           MOV.L   #_EXT_DRVBTTN_INFO_MAKE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16767 00002E70 400B                   M           JSR     @R0                     ;
16768 00002E72 0009                   M           NOP                                     ;
16769                            6650     
16770                            6651     
16771                            6652             FAR_JSR #_EXT_DRVBTTN_MODJG_CONF,R0     ;
16772 00002E74 D00B                   M           MOV.L   #_EXT_DRVBTTN_MODJG_CONF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16773 00002E76 400B                   M           JSR     @R0                     ;
16774 00002E78 0009                   M           NOP                                     ;
16775                            6653     
16776 00002E7A 930E              6654             MOV.W   #BIT15,R3
16777 00002E7C 244A              6655             XOR     R4,R4                           ;
16778 00002E7E D10A              6656             MOV.L   #_EXTDRV_BTTN_USE,R1            ;//SYSPARAM+各条件
16779 00002E80 6011              6657             MOV.W   @R1,R0                          ;
16780 00002E82 2008              6658             TST     R0,R0                           ;
16781                            6659             TST_BIT_OF EXT_DRVBTTN_MOD100           ;
16782 00002E84 8900                   M           BT      EXT_DRVBTTN_MOD100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   195
PROGRAM NAME =

16783 00002E86 6433              6660             MOV     R3,R4                           ;
16784 00002E88                   6661     EXT_DRVBTTN_MOD100
16785                            6662     
16786 00002E88 6337              6663             NOT     R3,R3                           ;
16787 00002E8A D108              6664             MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1     ;
16788 00002E8C 6211              6665             MOV.W   @R1,R2                          ;
16789 00002E8E 2239              6666             AND     R3,R2                           ;
16790 00002E90 224B              6667             OR      R4,R2                           ;
16791 00002E92 2121              6668             MOV.W   R2,@R1                          ;
16792                            6669     
16793                            6670     
16794 00002E94                   6671     EXT_DRVBTTN_MOD_END
16795                            6672     
16796                            6673             SUB_END
16797                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16798 00002E94 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16799                            6674             M_RTS
16800 00002E96 000B                   M           RTS                             ;RTSの後ろの
16801 00002E98 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16802                            6675     
16803                            6676     
16804                            6677     
16805                            6678     ;       ***********************************
16806                            6679     ;       ***                             ***
16807                            6680     ;       ***     釦入力                  ***
16808                            6681     ;       ***                             ***
16809                            6682     ;       ***********************************
16810                                     ***** BEGIN-POOL *****
16811 00002E9A 8000                       DATA FOR SOURCE-LINE 6654
16812 00002E9C 00000000                   DATA FOR SOURCE-LINE 6644
16813 00002EA0 00000000                   DATA FOR SOURCE-LINE 6649
16814 00002EA4 00000000                   DATA FOR SOURCE-LINE 6652
16815 00002EA8 00000000                   DATA FOR SOURCE-LINE 6656
16816 00002EAC 00000000                   DATA FOR SOURCE-LINE 6664
16817                                     ***** END-POOL *****
16818 00002EB0                   6683     _EXT_DRVBTTN_INFO_MAKE:
16819                            6684             SUB_START
16820 00002EB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16821                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16822                            6685     
16823                            6686     ;       ---------- 打ち抜き記憶処理だけ先に行う------------------
16824 00002EB2 255A              6687             XOR     R5,R5
16825 00002EB4 D10D              6688             MOV.L   #_CB_SEQ_CB_COM352,R1           ;//
16826 00002EB6 6011              6689             MOV.W   @R1,R0                          ;
16827 00002EB8 C801              6690             TST     #BIT0,R0                        ;
16828                            6691             TST_BIT_OF EXT_DRVBTTN_INFO_MK100       ;
16829 00002EBA 8907                   M           BT      EXT_DRVBTTN_INFO_MK100
16830                            6692     
16831 00002EBC D10C              6693             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
16832 00002EBE 6511              6694             MOV.W   @R1,R5                          ;自己保持
16833                            6695     
16834 00002EC0 D10C              6696             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
16835 00002EC2 6011              6697             MOV.W   @R1,R0                          ;
16836 00002EC4 940E              6698             MOV.W   #_WOATO,R4                      ;
16837 00002EC6 2048              6699             TST     R4,R0                           ;AUTO ON?
16838                            6700             TST_BIT_OF EXT_DRVBTTN_INFO_MK100
16839 00002EC8 8900                   M           BT      EXT_DRVBTTN_INFO_MK100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   196
PROGRAM NAME =

16840                            6701     
16841 00002ECA E501              6702             MOV.B   #BIT0,R5                        ;
16842                            6703     
16843 00002ECC                   6704     EXT_DRVBTTN_INFO_MK100:
16844 00002ECC D108              6705             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
16845 00002ECE 2151              6706             MOV.W   R5,@R1                          ;
16846                            6707     
16847                            6708     
16848                            6709     ;       -----------------釦入力---------------------------
16849 00002ED0 D109              6710             MOV.L   #_CB_IN_HANYO,R1                        ;//BIT8,9,10,11,12,13 6点(SQ004相
                                          当)
16850 00002ED2 6011              6711             MOV.W   @R1,R0                                  ;(論理あわせ済み信号)
16851 00002ED4 9307              6712             MOV.W   #(BIT11+BIT10),R3                       ;BIT10=N.C　0:運転 BIT11=N.O 1:運
                                          転
16852 00002ED6 2039              6713             AND     R3,R0                                   ;
16853 00002ED8 9406              6714             MOV.W   #(0+BIT10),R4                           ;両手OFF
16854 00002EDA 3040              6715             CMP/EQ  R4,R0                                   ;
16855 00002EDC 8B0E              6716             BF      EXT_DRVBTTN_INFO_MK200                  ;
16856 00002EDE E201              6717             MOV.B   #BIT0,R2                                ;
16857                            6718             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
16858 00002EE0 A014                   M           BRA     EXT_DRVBTTN_INFO_MK400
16859 00002EE2 0009                   M           NOP
16860                            6719     
16861                                     ***** BEGIN-POOL *****
16862 00002EE4 0040                       DATA FOR SOURCE-LINE 6698
16863 00002EE6 0C00                       DATA FOR SOURCE-LINE 6712
16864 00002EE8 0400                       DATA FOR SOURCE-LINE 6714
16865 00002EEA 0000                       ALIGNMENT CODE
16866 00002EEC 00000000                   DATA FOR SOURCE-LINE 6688
16867 00002EF0 00000000                   DATA FOR SOURCE-LINE 6693,6705
16868 00002EF4 00000000                   DATA FOR SOURCE-LINE 6696
16869 00002EF8 00000000                   DATA FOR SOURCE-LINE 6710
16870                                     ***** END-POOL *****
16871 00002EFC                   6720     EXT_DRVBTTN_INFO_MK200
16872 00002EFC 9404              6721             MOV.W   #(BIT11+0),R4                           ;両手ON
16873 00002EFE 3040              6722             CMP/EQ  R4,R0                                   ;
16874 00002F00 8B03              6723             BF      EXT_DRVBTTN_INFO_MK300                  ;
16875 00002F02 E204              6724             MOV.B   #BIT2,R2                                ;
16876                            6725             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
16877 00002F04 A002                   M           BRA     EXT_DRVBTTN_INFO_MK400
16878 00002F06 0009                   M           NOP
16879                            6726     
16880                                     ***** BEGIN-POOL *****
16881 00002F08 0800                       DATA FOR SOURCE-LINE 6721
16882                                     ***** END-POOL *****
16883 00002F0A                   6727     EXT_DRVBTTN_INFO_MK300
16884                            6728     
16885 00002F0A E202              6729             MOV.B   #BIT1,R2                                ;片手ON
16886                            6730     
16887 00002F0C                   6731     EXT_DRVBTTN_INFO_MK400:
16888 00002F0C D107              6732             MOV.L   #_EXT_BTTN_FLG,R1                       ;
16889 00002F0E 2121              6733             MOV.W   R2,@R1                                  ;
16890                            6734                                                             ;BIT10=BIT11=1 1秒で異常
16891                            6735     
16892                            6736     
16893 00002F10 D107              6737             MOV.L   #_EXTDRV_BTTN_USE,R1                    ;//SYSPARAM+各条件
16894 00002F12 6211              6738             MOV.W   @R1,R2                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   197
PROGRAM NAME =

16895 00002F14 2228              6739             TST     R2,R2                                   ;
16896                            6740             TST_BIT_OF EXT_DRVBTTN_INFO_MK410               ;
16897 00002F16 8902                   M           BT      EXT_DRVBTTN_INFO_MK410
16898                            6741     
16899                            6742     ;       ---------- 釦異常ﾁｪｯｸ input R0[実入力]
16900 00002F18 9406              6743             MOV.W   #(BIT11+BIT10),R4                       ;
16901 00002F1A 3040              6744             CMP/EQ  R4,R0                                   ;異常?
16902 00002F1C 890C              6745             BT      EXT_DRVBTTN_INFO_MK420                  ;YES
16903 00002F1E                   6746     EXT_DRVBTTN_INFO_MK410:
16904                            6747             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0             ;
16905 00002F1E D005                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16906 00002F20 400B                   M           JSR     @R0                     ;
16907 00002F22 0009                   M           NOP                                     ;
16908                            6748             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMAL
16909 00002F24 A01B                   M           BRA     EXT_DRVBTTN_INFO_MK500
16910 00002F26 0009                   M           NOP
16911                            6749     
16912                                     ***** BEGIN-POOL *****
16913 00002F28 0C00                       DATA FOR SOURCE-LINE 6743
16914 00002F2A 0000                       ALIGNMENT CODE
16915 00002F2C 00000000                   DATA FOR SOURCE-LINE 6732
16916 00002F30 00000000                   DATA FOR SOURCE-LINE 6737
16917 00002F34 00000000                   DATA FOR SOURCE-LINE 6747
16918                                     ***** END-POOL *****
16919 00002F38                   6750     EXT_DRVBTTN_INFO_MK420:
16920 00002F38 D103              6751             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                ;
16921 00002F3A 6011              6752             MOV.W   @R1,R0                                  ;
16922 00002F3C 2008              6753             TST     R0,R0                                   ;
16923                            6754             TST_BIT_OF EXT_DRVBTTN_INFO_MK450               ;異常
16924 00002F3E 8905                   M           BT      EXT_DRVBTTN_INFO_MK450
16925 00002F40 70FF              6755             ADD     #-1,R0                                  ;
16926 00002F42 2101              6756             MOV.W   R0,@R1                                  ;
16927                            6757             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMALだが
16928 00002F44 A00B                   M           BRA     EXT_DRVBTTN_INFO_MK500
16929 00002F46 0009                   M           NOP
16930                            6758     
16931                                     ***** BEGIN-POOL *****
16932 00002F48 00000000                   DATA FOR SOURCE-LINE 6751
16933                                     ***** END-POOL *****
16934 00002F4C                   6759     EXT_DRVBTTN_INFO_MK450:
16935                            6760     
16936                            6761             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT15),WKRG1=R1,WKRG2=R4
                                          ;
16937 00002F4C D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
16938 00002F4E 6011                   M           MOV.W   @R1,R0          ;
16939 00002F50 9408                   M           MOV.W   #(BIT15),R4             ;
16940 00002F52 204B                   M           OR      R4,R0           ;
16941 00002F54 2101                   M           MOV.W   R0,@R1          ;
16942 00002F56 9406              6762             MOV.W   #H'216F,R4
                                          ;216.15
16943                            6763             FAR_JSR #_EMG_STOP,R0
                                          ;
16944 00002F58 D004                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16945 00002F5A 400B                   M           JSR     @R0                     ;
16946 00002F5C 0009                   M           NOP                                     ;
16947                            6764     
16948 00002F5E                   6765     EXT_DRVBTTN_INFO_MK500:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   198
PROGRAM NAME =

16949                            6766     
16950                            6767     
16951                            6768             SUB_END
16952                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16953 00002F5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16954                            6769             M_RTS
16955 00002F60 000B                   M           RTS                             ;RTSの後ろの
16956 00002F62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16957                            6770     
16958                            6771     
16959                            6772     ;       ***********************************
16960                            6773     ;       ***                             ***
16961                            6774     ;       ***     切替                    ***
16962                            6775     ;       ***                             ***
16963                            6776     ;       ***********************************
16964                                     ***** BEGIN-POOL *****
16965 00002F64 8000                       DATA FOR SOURCE-LINE 6761
16966 00002F66 216F                       DATA FOR SOURCE-LINE 6762
16967 00002F68 00000000                   DATA FOR SOURCE-LINE 6761
16968 00002F6C 00000000                   DATA FOR SOURCE-LINE 6763
16969                                     ***** END-POOL *****
16970 00002F70                   6777     _EXT_DRVBTTN_MODJG_CONF
16971                            6778             SUB_START
16972 00002F70 4F22                   M           STS.L   PR,@-R15                ;[必要]
16973                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16974                            6779     
16975 00002F72 266A              6780             XOR     R6,R6                                                   ;ANS
16976                            6781     
16977                            6782     ;       ----------------------------------------------
16978 00002F74 D10F              6783             MOV.L   #_di1_cb_ctl1_dt,R1                                     ;//
16979 00002F76 6011              6784             MOV.W   @R1,R0                                                  ;
16980 00002F78 C810              6785             TST     #_W1OPT,R0                                              ;OPT
16981                            6786             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500                              ;ｵﾌﾟｼｮﾝ行程ではな
                                          い
16982 00002F7A 8924                   M           BT      EXT_DRVBTTN_MODJG_CF500
16983                            6787     
16984                            6788     ;       ------------[ﾉｯﾁsw=ｵﾌﾟｼｮﾝ行程]----------------------------------
16985                            6789     
16986                            6790     ;       ----------- 352,1=1 外部入力　外部起動ﾓｰﾄﾞ----------------------
16987 00002F7C D10E              6791             MOV.L   #_CB_SEQ_CB_COM352,R1                   ;//2014-09-01
16988 00002F7E 6011              6792             MOV.W   @R1,R0                                  ;
16989 00002F80 C802              6793             TST     #BIT1,R0                                ;
16990                            6794             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300              ;
16991 00002F82 8B1F                   M           BF      EXT_DRVBTTN_MODJG_CF300
16992                            6795     
16993                            6796     ;       ------------[仕様設定107 22.10=1]----------------------------------
16994 00002F84 D10D              6797             MOV.L   #_CB_SEQ_SW_SEL022,R1           ;
16995 00002F86 6011              6798             MOV.W   @R1,R0                          ;
16996 00002F88 9410              6799             MOV.W   #BIT10,R4                       ;107
16997 00002F8A 2048              6800             TST     R4,R0                           ;
16998                            6801             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.10=1 有効
16999 00002F8C 8B1A                   M           BF      EXT_DRVBTTN_MODJG_CF300
17000                            6802     
17001                            6803     
17002 00002F8E 940E              6804             MOV.W   #BIT11,R4                       ;108 22.11
17003 00002F90 2048              6805             TST     R4,R0                           ;
17004                            6806             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500      ;22.11=0 無効
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   199
PROGRAM NAME =

17005 00002F92 8918                   M           BT      EXT_DRVBTTN_MODJG_CF500
17006                            6807     
17007                            6808     ;       ------------[仕様設定108 22.11=1]----------------------------------
17008 00002F94 940C              6809             MOV.W   #(BIT6+BIT4),R4                 ;
17009 00002F96 2048              6810             TST     R4,R0                           ;
17010                            6811             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.6(103) 22.4(101)のどちらかONで有効
17011 00002F98 8B14                   M           BF      EXT_DRVBTTN_MODJG_CF300
17012                            6812     
17013 00002F9A 940A              6813             MOV.W   #(BIT8+BIT7),R4                 ;22.8(105) 22.7(104)の両方OFFで有効
17014 00002F9C 2048              6814             TST     R4,R0                           ;
17015                            6815             TST_BIT_OF EXT_DRVBTTN_MODJG_CF300      ;
17016 00002F9E 8911                   M           BT      EXT_DRVBTTN_MODJG_CF300
17017                            6816     
17018                            6817     ;       打抜記憶
17019 00002FA0 D107              6818             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
17020 00002FA2 6011              6819             MOV.W   @R1,R0                          ;
17021 00002FA4 C801              6820             TST     #BIT0,R0                        ;
17022                            6821             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;有効
17023 00002FA6 8B0D                   M           BF      EXT_DRVBTTN_MODJG_CF300
17024                            6822             M_BRA   EXT_DRVBTTN_MODJG_CF500         ;
17025 00002FA8 A00D                   M           BRA     EXT_DRVBTTN_MODJG_CF500
17026 00002FAA 0009                   M           NOP
17027                            6823     ;       ----------------------------------------------------------------------
17028                            6824     
17029                            6825     
17030                            6826     ;       --------------- 有効----------------------
17031                                     ***** BEGIN-POOL *****
17032 00002FAC 0400                       DATA FOR SOURCE-LINE 6799
17033 00002FAE 0800                       DATA FOR SOURCE-LINE 6804
17034 00002FB0 0050                       DATA FOR SOURCE-LINE 6809
17035 00002FB2 0180                       DATA FOR SOURCE-LINE 6813
17036 00002FB4 00000000                   DATA FOR SOURCE-LINE 6783
17037 00002FB8 00000000                   DATA FOR SOURCE-LINE 6791
17038 00002FBC 00000000                   DATA FOR SOURCE-LINE 6797
17039 00002FC0 00000000                   DATA FOR SOURCE-LINE 6818
17040                                     ***** END-POOL *****
17041 00002FC4                   6827     EXT_DRVBTTN_MODJG_CF300
17042 00002FC4 E601              6828             MOV.B   #BIT0,R6                        ;
17043 00002FC6                   6829     EXT_DRVBTTN_MODJG_CF500
17044 00002FC6 D106              6830             MOV.L   #_EXTDRV_BTTN_USE,R1    ;//SYSPARAM+各条件
17045 00002FC8 6011              6831             MOV.W   @R1,R0                  ;
17046 00002FCA 2161              6832             MOV.W   R6,@R1                  ;NEW=R6
17047                            6833     
17048 00002FCC 206A              6834             XOR     R6,R0                           ;
17049 00002FCE 2069              6835             AND     R6,R0                           ;R0=BIT0
17050 00002FD0 C801              6836             TST     #BIT0,R0                        ;
17051                            6837             TST_BIT_OF EXT_DRVBTTN_MODJG_CF700      ;
17052 00002FD2 8902                   M           BT      EXT_DRVBTTN_MODJG_CF700
17053                            6838     
17054                            6839     ;       ------- 立ち上がり[異常検出タイマプリセット]　-----------
17055                            6840             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0     ;
17056 00002FD4 D003                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17057 00002FD6 400B                   M           JSR     @R0                     ;
17058 00002FD8 0009                   M           NOP                                     ;
17059                            6841     
17060                            6842     
17061 00002FDA                   6843     EXT_DRVBTTN_MODJG_CF700
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   200
PROGRAM NAME =

17062                            6844             SUB_END
17063                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17064 00002FDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17065                            6845             M_RTS
17066 00002FDC 000B                   M           RTS                             ;RTSの後ろの
17067 00002FDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17068                            6846     
17069                            6847     
17070                                     ***** BEGIN-POOL *****
17071 00002FE0 00000000                   DATA FOR SOURCE-LINE 6830
17072 00002FE4 00000000                   DATA FOR SOURCE-LINE 6840
17073                                     ***** END-POOL *****
17074 00002FE8                   6848     _EXT_DRVBTTN_ERRTIM_SET
17075                            6849             SUB_START
17076 00002FE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17077                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17078 00002FEA D103              6850             MOV.L   #(_PAR_BTNER_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1       ;NO=NC=1 THEN 異常
17079 00002FEC 6011              6851             MOV.W   @R1,R0                                                  ;
17080 00002FEE D103              6852             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                                ;
17081 00002FF0 2101              6853             MOV.W   R0,@R1                                                  ;運転ボタン異常時
                                          間１秒
17082                            6854             SUB_END
17083                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17084 00002FF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17085                            6855             M_RTS
17086 00002FF4 000B                   M           RTS                             ;RTSの後ろの
17087 00002FF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17088                            6856     
17089                            6857     
17090                            6858     
17091                            6859     ;       *******************************************
17092                            6860     ;       ***                                     ***
17093                            6861     ;       ***     位置決め一旦停止(自動待機位置)  ***
17094                            6862     ;       ***                                     ***
17095                            6863     ;       *******************************************
17096                            6864     ;       ﾊﾝﾄﾞｼｪｲｸの考え
17097                            6865     ;       ----------- 停止処理側---------------------------------
17098                            6866     ;               [1]運転
17099                            6867     ;               [2]停止判定したCPU(A)            -->[SH4_HD_HLDSTOP1]=-1 -->CPU(B)
17100                            6868     ;               [3]停止状態
17101                            6869     ;               [4]相手CPU同状態(停止)判定待ち   -->[SH4==SH2==-1]
17102                            6870     ;       ----------- 起動処理側---------------------------------
17103                            6871     ;               [5]起動条件待ち->起動条件成立    -->[SH4_HD_HLDSTOP1]=0  -->CPU(B)
17104                            6872     ;               [6]相手CPU同状態(起動)待ち       -->[SH4==SH2==0]
17105                            6873     ;               [7]実起動処理
17106                            6874     ;;      _CPU_AB_DRVHLDSTOP_ON_OUT       ;
17107                            6875     ;;      _CPU_AB_DRVHLDSTOP_OF_OUT       ;
17108                            6876     ;;      _CPU_BA_DRVHLDSTOP_ON_JG        ;
17109                            6877     ;;      _CPU_BA_DRVHLDSTOP_OF_JG        ;
17110                            6878     
17111                            6879     ;       ***************************
17112                            6880     ;       ***                     ***
17113                            6881     ;       ***     停止側処理      ***
17114                            6882     ;       ***                     ***
17115                            6883     ;       ***************************
17116                            6884     ;       //BIT0=1:ﾎｰﾙﾄﾞ停止受付[自分停止ON または相手停止ON]
17117                            6885             .IMPORT _CMP_HOLD_CTLGENSOK
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   201
PROGRAM NAME =

17118                            6886     
17119                                     ***** BEGIN-POOL *****
17120 00002FF8 00000000                   DATA FOR SOURCE-LINE 6850
17121 00002FFC 00000000                   DATA FOR SOURCE-LINE 6852
17122                                     ***** END-POOL *****
17123 00003000                   6887     _POSHLD1_STEP1_STOPCMD_CHK:
17124                            6888             SUB_START
17125 00003000 4F22                   M           STS.L   PR,@-R15                ;[必要]
17126                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17127 00003002 D103              6889             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17128 00003004 6011              6890             MOV.W   @R1,R0                          ;
17129 00003006 C801              6891             TST     #BIT0,R0                        ;
17130                            6892             TST_BIT_OF POSHLD1_STEP1_STOP100        ;
17131 00003008 8904                   M           BT      POSHLD1_STEP1_STOP100
17132                            6893             M_BRA   POSHLD1_STEP1_STOPWAIT          ;BIT0=1:停止側の処理は終了:上のソフトの処
                                          理待ち
17133 0000300A A056                   M           BRA     POSHLD1_STEP1_STOPWAIT
17134 0000300C 0009                   M           NOP
17135                            6894     
17136                            6895     ;       -------------停止信号待ち-----------------------
17137                            6896     ;       自分は範囲でしか停止出力しない
17138                            6897     ;       相手からはいつでも受け付ける
17139                            6898     
17140                                     ***** BEGIN-POOL *****
17141 0000300E 0000                       ALIGNMENT CODE
17142 00003010 00000000                   DATA FOR SOURCE-LINE 6889
17143                                     ***** END-POOL *****
17144 00003014                   6899     POSHLD1_STEP1_STOP100:
17145                            6900             FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;相手CPUから止まれといわれたか
17146 00003014 D00D                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17147 00003016 400B                   M           JSR     @R0                     ;
17148 00003018 0009                   M           NOP                                     ;
17149 0000301A 2008              6901             TST     R0,R0                                   ;
17150                            6902             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17151 0000301C 8B20                   M           BF      POSHLD1_STEP1_STOP150
17152                            6903     
17153 0000301E D10C              6904             MOV.L   #_SEQAB_DP_TOP+151*2,R1                 ;151.8[本仕様有]
17154 00003020 6011              6905             MOV.W   @R1,R0                                  ;
17155 00003022 9411              6906             MOV.W   #BIT8,R4                                ;
17156 00003024 2048              6907             TST     R4,R0                                   ;
17157                            6908             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17158 00003026 8945                   M           BT      POSHLD1_STEP1_STOPNO
17159                            6909     
17160 00003028 D10A              6910             MOV.L   #_SEQAB_DP_TOP+32*2,R1                  ;32.12[入/切]
17161 0000302A 6011              6911             MOV.W   @R1,R0                                  ;
17162 0000302C 940D              6912             MOV.W   #BIT12,R4                               ;
17163 0000302E 2048              6913             TST     R4,R0                                   ;
17164                            6914             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17165 00003030 8940                   M           BT      POSHLD1_STEP1_STOPNO
17166                            6915     
17167 00003032 D109              6916             MOV.L   #_MODE_SEL,R1                   ;
17168 00003034 6011              6917             MOV.W   @R1,R0                          ;
17169 00003036 C81C              6918             TST     #_W1CNT+_W1SGL+_W1OPT,R0        ;
17170                            6919             TST_BIT_OF POSHLD1_STEP1_STOPNO
17171 00003038 893C                   M           BT      POSHLD1_STEP1_STOPNO
17172                            6920     
17173                            6921     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   202
PROGRAM NAME =

17174                            6922             FAR_JSR #_POSHLD1_STOP_CONFCHK,R0
17175 0000303A D008                   M           MOV.L   #_POSHLD1_STOP_CONFCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17176 0000303C 400B                   M           JSR     @R0                     ;
17177 0000303E 0009                   M           NOP                                     ;
17178 00003040 2008              6923             TST     R0,R0                                   ;
17179                            6924             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17180 00003042 8B0D                   M           BF      POSHLD1_STEP1_STOP150
17181                            6925             M_BRA   POSHLD1_STEP1_STOPNO                    ;
17182 00003044 A036                   M           BRA     POSHLD1_STEP1_STOPNO
17183 00003046 0009                   M           NOP
17184                            6926     
17185                            6927     
17186                                     ***** BEGIN-POOL *****
17187 00003048 0100                       DATA FOR SOURCE-LINE 6906
17188 0000304A 1000                       DATA FOR SOURCE-LINE 6912
17189 0000304C 00000000                   DATA FOR SOURCE-LINE 6900
17190 00003050 00000000                   DATA FOR SOURCE-LINE 6904
17191 00003054 00000000                   DATA FOR SOURCE-LINE 6910
17192 00003058 00000000                   DATA FOR SOURCE-LINE 6916
17193 0000305C 00000000                   DATA FOR SOURCE-LINE 6922
17194                                     ***** END-POOL *****
17195 00003060                   6928     POSHLD1_STEP1_STOP150:
17196                            6929     
17197                            6930             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0            ;停止釦を記憶
17198 00003060 D00D                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17199 00003062 400B                   M           JSR     @R0                     ;
17200 00003064 0009                   M           NOP                                     ;
17201                            6931     
17202                            6932     ;       --------- 停止条件成立---------
17203                            6933             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
17204 00003066 D00D                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17205 00003068 400B                   M           JSR     @R0                     ;
17206 0000306A 0009                   M           NOP                                     ;
17207                            6934     
17208                            6935             MOD_LOW_STOP_R0_R1
                                          ;
17209 0000306C D10C                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
17210 0000306E E002                   M           MOV.B   #BIT1,R0                        ;
17211 00003070 2101                   M           MOV.W   R0,@R1                          ;
17212                            6936             FAR_JSR #_CPU_AB_DRVHLDSTOP_ON_OUT,R0
                                          ;
17213 00003072 D00C                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_ON_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17214 00003074 400B                   M           JSR     @R0                     ;
17215 00003076 0009                   M           NOP                                     ;
17216                            6937             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17217 00003078 D10B                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17218 0000307A 6011                   M           MOV.W   @R1,R0          ;
17219 0000307C CB01                   M           OR      #(BIT0),R0              ;
17220 0000307E 2101                   M           MOV.W   R0,@R1          ;
17221                            6938             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_CMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17222 00003080 D10A                   M           MOV.L   #_POS_HOLD_CMD,R1               ;
17223 00003082 6011                   M           MOV.W   @R1,R0          ;
17224 00003084 CB01                   M           OR      #(BIT0),R0              ;
17225 00003086 2101                   M           MOV.W   R0,@R1          ;
17226                            6939             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   203
PROGRAM NAME =

                                          ;待機減速開始
17227 00003088 D109                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17228 0000308A 6011                   M           MOV.W   @R1,R0          ;
17229 0000308C 9403                   M           MOV.W   #(BIT6),R4              ;
17230 0000308E 204B                   M           OR      R4,R0           ;
17231 00003090 2101                   M           MOV.W   R0,@R1          ;
17232                            6940     
17233                            6941             M_BRA   POSHLD1_STEP1_STOPWAIT
17234 00003092 A012                   M           BRA     POSHLD1_STEP1_STOPWAIT
17235 00003094 0009                   M           NOP
17236                            6942     
17237                            6943     
17238                                     ***** BEGIN-POOL *****
17239 00003096 0040                       DATA FOR SOURCE-LINE 6939
17240 00003098 00000000                   DATA FOR SOURCE-LINE 6930
17241 0000309C 00000000                   DATA FOR SOURCE-LINE 6933
17242 000030A0 00000000                   DATA FOR SOURCE-LINE 6935
17243 000030A4 00000000                   DATA FOR SOURCE-LINE 6936
17244 000030A8 00000000                   DATA FOR SOURCE-LINE 6937
17245 000030AC 00000000                   DATA FOR SOURCE-LINE 6938
17246 000030B0 00000000                   DATA FOR SOURCE-LINE 6939
17247                                     ***** END-POOL *****
17248 000030B4                   6944     POSHLD1_STEP1_STOPNO:
17249 000030B4 200A              6945             XOR     R0,R0                   ;何もない(動いていいよ、動くことを妨げない)
17250                            6946             M_BRA   POSHLD1_STEP1_STOPEXT
17251 000030B6 A004                   M           BRA     POSHLD1_STEP1_STOPEXT
17252 000030B8 0009                   M           NOP
17253                            6947     
17254 000030BA                   6948     POSHLD1_STEP1_STOPWAIT:
17255 000030BA E0FF              6949             MOV.B   #-1,R0                  ;停止処理中
17256                            6950             M_BRA   POSHLD1_STEP1_STOPEXT
17257 000030BC A001                   M           BRA     POSHLD1_STEP1_STOPEXT
17258 000030BE 0009                   M           NOP
17259                            6951     
17260 000030C0                   6952     POSHLD1_STEP1_STOPSTOP:
17261 000030C0 E001              6953             MOV.B   #1,R0                   ;停止終了
17262 000030C2                   6954     POSHLD1_STEP1_STOPEXT:
17263                            6955     
17264                            6956             SUB_END
17265                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17266 000030C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17267                            6957             M_RTS
17268 000030C4 000B                   M           RTS                             ;RTSの後ろの
17269 000030C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17270                            6958     
17271                            6959     
17272                            6960     ;       ***********************************************************
17273                            6961     ;       ***     位置決め停止前の停止釦、一旦停止中停止釦の記憶  ***
17274                            6962     ;       ***********************************************************
17275                            6963     ;       1ｻｲｸﾙに2回の停止位置は存在しない
17276 000030C8                   6964     _POSHLD1_STOPBTTNCMD_CHK
17277                            6965             SUB_START
17278 000030C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17279                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17280                            6966     
17281 000030CA D107              6967             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
17282 000030CC 6011              6968             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   204
PROGRAM NAME =

17283 000030CE 2008              6969             TST     R0,R0                           ;
17284                            6970             TST_BIT_ON  POSHLD1_STOPBTTNCMDCK_050
17285 000030D0 8B03                   M           BF      POSHLD1_STOPBTTNCMDCK_050
17286 000030D2 D106              6971             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
17287 000030D4 6011              6972             MOV.W   @R1,R0                          ;
17288 000030D6 2008              6973             TST     R0,R0
17289                            6974             TST_BIT_OF POSHLD1_STOPBTTNCMDCK_100    ;
17290 000030D8 8903                   M           BT      POSHLD1_STOPBTTNCMDCK_100
17291 000030DA                   6975     POSHLD1_STOPBTTNCMDCK_050
17292                            6976             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSHLD1_STOPLATCH,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17293 000030DA D105                   M           MOV.L   #_POSHLD1_STOPLATCH,R1          ;
17294 000030DC 6011                   M           MOV.W   @R1,R0          ;
17295 000030DE CB01                   M           OR      #(BIT0),R0              ;
17296 000030E0 2101                   M           MOV.W   R0,@R1          ;
17297 000030E2                   6977     POSHLD1_STOPBTTNCMDCK_100
17298                            6978     
17299                            6979     
17300                            6980             SUB_END
17301                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17302 000030E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17303                            6981             M_RTS
17304 000030E4 000B                   M           RTS                             ;RTSの後ろの
17305 000030E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17306                            6982     
17307                            6983     
17308                            6984     
17309                                     ***** BEGIN-POOL *****
17310 000030E8 00000000                   DATA FOR SOURCE-LINE 6967
17311 000030EC 00000000                   DATA FOR SOURCE-LINE 6971
17312 000030F0 00000000                   DATA FOR SOURCE-LINE 6976
17313                                     ***** END-POOL *****
17314 000030F4                   6985     _POSHLD1_STOP_CONFCHK:
17315                            6986             SUB_START
17316 000030F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
17317                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17318                            6987     
17319 000030F6 D125              6988             MOV.L   #_POS_HOLDABS_CALCF,R1  ;//1:終了
17320 000030F8 6011              6989             MOV.W   @R1,R0                  ;
17321 000030FA E401              6990             MOV.B   #BIT0,R4                ;
17322 000030FC 2048              6991             TST     R4,R0                   ;
17323                            6992             TST_BIT_OF POSHLD1_STOPCONF_100 ;ﾛｯﾄ変更無し
17324 000030FE 8905                   M           BT      POSHLD1_STOPCONF_100
17325 00003100 6447              6993             NOT     R4,R4                   ;
17326 00003102 2049              6994             AND     R4,R0                   ;
17327 00003104 2101              6995             MOV.W   R0,@R1                  ;
17328                            6996     
17329 00003106 200A              6997             XOR     R0,R0
17330 00003108 D121              6998             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//1:終了
17331 0000310A 2101              6999             MOV.W   R0,@R1                  ;
17332                            7000     
17333 0000310C                   7001     POSHLD1_STOPCONF_100
17334                            7002     
17335 0000310C D121              7003             MOV.L   #_SETX_POS_STEP_MAX,R1          ;
17336 0000310E 6811              7004             MOV.W   @R1,R8                          ;LOOP data 1~10
17337 00003110 7801              7005             ADD     #1,R8                           ;2~11
17338                            7006     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   205
PROGRAM NAME =

17339 00003112 E401              7007             MOV.B   #BIT0,R4                ;
17340 00003114 D61E              7008             MOV.L   #_POSHLD1_CHKLST_FLG,R6 ;//1:終了
17341                            7009     
17342 00003116 D520              7010             MOV.L   #_POSHLD1_STOP_STEP,R5  ;//11個
17343                            7011     
17344 00003118                   7012     POSHLD1_STOPCONF_200LOP
17345 00003118 6361              7013             MOV.W   @R6,R3                          ;毎回読む
17346                            7014     
17347 0000311A 6055              7015             MOV.W   @R5+,R0                         ;
17348 0000311C 2008              7016             TST     R0,R0                           ;
17349                            7017             TST_BIT_OF POSHLD1_STOPCONF_500         ;
17350 0000311E 8954                   M           BT      POSHLD1_STOPCONF_500
17351                            7018     
17352 00003120 2348              7019             TST     R4,R3                           ;終了?
17353                            7020             TST_BIT_ON POSHLD1_STOPCONF_400         ;YES
17354 00003122 8B4B                   M           BF      POSHLD1_STOPCONF_400
17355                            7021     
17356 00003124 70FF              7022             ADD     #-1,R0
17357 00003126 DB1D              7023             MOV.L   #_SETX_POS_SDAT1_CNTSTEP,R11    ;速度連続.LONG
17358 00003128 4008              7024             SHLL2   R0                              ;
17359 0000312A 0CBE              7025             MOV.L   @(R0,R11),R12                   ;指定されている目標行程
17360                            7026     
17361 0000312C D11C              7027             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
17362 0000312E 6011              7028             MOV.W   @R1,R0                          ;
17363 00003130 2008              7029             TST     R0,R0                           ;
17364                            7030             TST_BIT_OF POSHLD1_STOPCONF_STOPNO      ;起動していない
17365 00003132 894A                   M           BT      POSHLD1_STOPCONF_STOPNO
17366                            7031     
17367 00003134 70FF              7032             ADD     #-1,R0
17368 00003136 4008              7033             SHLL2   R0                              ;
17369 00003138 0DBE              7034             MOV.L   @(R0,R11),R13                   ;今回運転している目標行程
17370                            7035     
17371 0000313A 3DC0              7036             CMP/EQ  R12,R13                         ;R12=R13
17372 0000313C 8B3A              7037             BF      POSHLD1_STOPCONF_300            ;
17373                            7038     
17374                            7039             PUSH_REG1       R3                      ;CHKFLG
17375 0000313E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
17376                                 M                                           ;REG=>[SP]
17377                                 M                                           ;"-4" FF,FF,FF,FC
17378                            7040             PUSH_REG1       R4                      ;CHKBIT
17379 00003140 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17380                                 M                                           ;REG=>[SP]
17381                                 M                                           ;"-4" FF,FF,FF,FC
17382                            7041             PUSH_REG1       R5                      ;STEP
17383 00003142 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17384                                 M                                           ;REG=>[SP]
17385                                 M                                           ;"-4" FF,FF,FF,FC
17386                            7042             PUSH_REG1       R6                      ;CHKFLG
17387 00003144 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
17388                                 M                                           ;REG=>[SP]
17389                                 M                                           ;"-4" FF,FF,FF,FC
17390                            7043             PUSH_REG1       R8                      ;CHKFLG
17391 00003146 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
17392                                 M                                           ;REG=>[SP]
17393                                 M                                           ;"-4" FF,FF,FF,FC
17394                            7044     ;       演算
17395                            7045             FAR_JSR #_HOLD1_DNSTART_POSCHK,R0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   206
PROGRAM NAME =

17396 00003148 D016                   M           MOV.L   #_HOLD1_DNSTART_POSCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17397 0000314A 400B                   M           JSR     @R0                     ;
17398 0000314C 0009                   M           NOP                                     ;
17399                            7046     
17400                            7047             POP_REG1        R8
17401                                 M                                   ; RE"+4" 00,00,00,04
17402 0000314E 68F6                   M           MOV.L   @R15+,R8        ;
17403                            7048             POP_REG1        R6
17404                                 M                                   ; RE"+4" 00,00,00,04
17405 00003150 66F6                   M           MOV.L   @R15+,R6        ;
17406                            7049             POP_REG1        R5
17407                                 M                                   ; RE"+4" 00,00,00,04
17408 00003152 65F6                   M           MOV.L   @R15+,R5        ;
17409                            7050             POP_REG1        R4
17410                                 M                                   ; RE"+4" 00,00,00,04
17411 00003154 64F6                   M           MOV.L   @R15+,R4        ;
17412                            7051             POP_REG1        R3
17413                                 M                                   ; RE"+4" 00,00,00,04
17414 00003156 63F6                   M           MOV.L   @R15+,R3        ;
17415                            7052     
17416 00003158 2008              7053             TST     R0,R0
17417                            7054             TST_BIT_OF POSHLD1_STOPCONF_400         ;0:まだ未到達
17418 0000315A 892F                   M           BT      POSHLD1_STOPCONF_400
17419                            7055     
17420 0000315C 8801              7056             CMP/EQ  #1,R0
17421 0000315E 8B2B              7057             BF      POSHLD1_STOPCONF_350            ;-1:MISS[目標位置を超えた] 1:NOMAL 0:まだ
17422                            7058     
17423 00003160 6033              7059             MOV     R3,R0                           ;
17424 00003162 234B              7060             OR      R4,R3                           ;
17425 00003164 2631              7061             MOV.W   R3,@R6                          ;CHKLISTSAVE
17426 00003166 2048              7062             TST     R4,R0                           ;
17427                            7063             TST_BIT_ON POSHLD1_STOPCONF_400         ;前回もＯＮだった
17428 00003168 8B28                   M           BF      POSHLD1_STOPCONF_400
17429                            7064     
17430                            7065     ;       ---------- 前回OFFで今回ON-----------------------
17431 0000316A D10F              7066             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17432 0000316C 6011              7067             MOV.W   @R1,R0                                  ;
17433 0000316E 920B              7068             MOV.W   #BIT12,R2                               ;
17434 00003170 2028              7069             TST     R2,R0                                   ;
17435                            7070             TST_BIT_ON POSHLD1_STOPCONF_STOPSTOP            ;2015-02-20[論理入れ替え]
17436 00003172 8B2D                   M           BF      POSHLD1_STOPCONF_STOPSTOP
17437                            7071     
17438                            7072             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R2;
                                          通過信号
17439 00003174 D10D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17440 00003176 6011                   M           MOV.W   @R1,R0          ;
17441 00003178 9206                   M           MOV.W   #(BIT12),R2             ;
17442 0000317A 202B                   M           OR      R2,R0           ;
17443 0000317C 2101                   M           MOV.W   R0,@R1          ;
17444 0000317E 9004              7073             MOV.W   #D'20,R0                                        ;
17445 00003180 D10B              7074             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1                       ;2015-02-20追加　20msecだ
                                          け再起動または通過時
17446 00003182 2101              7075             MOV.W   R0,@R1                                          ;
17447                            7076             M_BRA   POSHLD1_STOPCONF_400                    ;
17448 00003184 A01A                   M           BRA     POSHLD1_STOPCONF_400
17449 00003186 0009                   M           NOP
17450                            7077     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   207
PROGRAM NAME =

17451                            7078     ;;;;2015-02-20[論理入れ替え]
17452                            7079     ;;;;    TST_BIT_OF POSHLD1_STOPCONF_400                 ;
17453                            7080     ;;;;    M_BRA   POSHLD1_STOPCONF_STOPSTOP
17454                            7081     
17455                            7082     
17456                            7083     
17457                            7084     
17458                            7085     
17459                            7086     
17460                            7087     
17461                            7088     
17462                            7089     
17463                                     ***** BEGIN-POOL *****
17464 00003188 1000                       DATA FOR SOURCE-LINE 7068,7072
17465 0000318A 0014                       DATA FOR SOURCE-LINE 7073
17466 0000318C 00000000                   DATA FOR SOURCE-LINE 6988
17467 00003190 00000000                   DATA FOR SOURCE-LINE 6998,7008
17468 00003194 00000000                   DATA FOR SOURCE-LINE 7003
17469 00003198 00000000                   DATA FOR SOURCE-LINE 7010
17470 0000319C 00000000                   DATA FOR SOURCE-LINE 7023
17471 000031A0 00000000                   DATA FOR SOURCE-LINE 7027
17472 000031A4 00000000                   DATA FOR SOURCE-LINE 7045
17473 000031A8 00000000                   DATA FOR SOURCE-LINE 7066
17474 000031AC 00000000                   DATA FOR SOURCE-LINE 7072
17475 000031B0 00000000                   DATA FOR SOURCE-LINE 7074
17476                                     ***** END-POOL *****
17477 000031B4                   7090     POSHLD1_STOPCONF_300
17478 000031B4 3DC7              7091             CMP/GT  R12,R13                         ;R12[指定]<R13[現状]?
17479 000031B6 8B01              7092             BF      POSHLD1_STOPCONF_400            ;NO! R13[現状]<R12[指定]まだその行程でない
17480                            7093     
17481                            7094     ;       -------------通り過ぎた R12[指定]<R13[現状]----------------
17482 000031B8                   7095     POSHLD1_STOPCONF_350
17483 000031B8 234B              7096             OR      R4,R3                           ;
17484 000031BA 2631              7097             MOV.W   R3,@R6                          ;CHKLISTSAVE
17485                            7098     
17486 000031BC                   7099     POSHLD1_STOPCONF_400
17487 000031BC 4400              7100             SHLL    R4                      ;
17488 000031BE 78FF              7101             ADD     #-1,R8                  ;
17489 000031C0 2888              7102             TST     R8,R8                   ;
17490                            7103             TST_BIT_OF POSHLD1_STOPCONF_499 ;MAX(ここではひっかっかることはない)
17491 000031C2 8901                   M           BT      POSHLD1_STOPCONF_499
17492                            7104             M_BRA   POSHLD1_STOPCONF_200LOP
17493 000031C4 AFA8                   M           BRA     POSHLD1_STOPCONF_200LOP
17494 000031C6 0009                   M           NOP
17495                            7105     
17496 000031C8                   7106     POSHLD1_STOPCONF_499
17497 000031C8 0009              7107             NOP
17498 000031CA                   7108     POSHLD1_STOPCONF_500
17499 000031CA                   7109     POSHLD1_STOPCONF_STOPNO         ;
17500 000031CA 200A              7110             XOR     R0,R0
17501                            7111             M_BRA   POSHLD1_STOPCONF_STOPEND
17502 000031CC A001                   M           BRA     POSHLD1_STOPCONF_STOPEND
17503 000031CE 0009                   M           NOP
17504                            7112     
17505 000031D0                   7113     POSHLD1_STOPCONF_STOPSTOP               ;
17506 000031D0 E001              7114             MOV.B   #BIT0,R0                ;
17507                            7115     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   208
PROGRAM NAME =

17508 000031D2                   7116     POSHLD1_STOPCONF_STOPEND
17509                            7117             SUB_END
17510                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17511 000031D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17512                            7118             M_RTS
17513 000031D4 000B                   M           RTS                             ;RTSの後ろの
17514 000031D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17515                            7119     
17516                            7120     
17517 000031D8                   7121     _HOLD1_DNSTART_POSCHK:
17518                            7122             SUB_START
17519 000031D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17520                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17521 000031DA D106              7123             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
17522 000031DC 6011              7124             MOV.W   @R1,R0                                  ;
17523 000031DE C804              7125             TST     #_DMATH_DNDRIV,R0                       ;ふりこ
17524                            7126             TST_BIT_OF HOLD1_DNSTARTPOSCK100                ;
17525 000031E0 890E                   M           BT      HOLD1_DNSTARTPOSCK100
17526                            7127     
17527 000031E2 D105              7128             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//このフラグでいいのかな？
17528 000031E4 6011              7129             MOV.W   @R1,R0                          ;
17529 000031E6 2008              7130             TST     R0,R0                           ;
17530                            7131             TST_BIT_OF HOLD1_DNSTARTPOSCK100        ;
17531 000031E8 890A                   M           BT      HOLD1_DNSTARTPOSCK100
17532                            7132     
17533 000031EA D404              7133             MOV.L   #_POSHLD1_SDAT2_HOLDPOS,R4;//停止位置
17534 000031EC 6146              7134             MOV.L   @R4+,R1
17535 000031EE 6246              7135             MOV.L   @R4+,R2
17536                            7136             M_BRA   HOLD1_DNSTARTPOSCK200           ;
17537 000031F0 A009                   M           BRA     HOLD1_DNSTARTPOSCK200
17538 000031F2 0009                   M           NOP
17539                            7137     
17540                                     ***** BEGIN-POOL *****
17541 000031F4 00000000                   DATA FOR SOURCE-LINE 7123
17542 000031F8 00000000                   DATA FOR SOURCE-LINE 7128
17543 000031FC 00000000                   DATA FOR SOURCE-LINE 7133
17544                                     ***** END-POOL *****
17545 00003200                   7138     HOLD1_DNSTARTPOSCK100:
17546 00003200 D404              7139             MOV.L   #_POSHLD1_SDAT1_HOLDPOS,R4;//停止位置
17547 00003202 6146              7140             MOV.L   @R4+,R1
17548 00003204 6246              7141             MOV.L   @R4+,R2
17549                            7142     
17550 00003206                   7143     HOLD1_DNSTARTPOSCK200:
17551                            7144             FAR_JSR #_CMP_HOLD_CTLGENSOK,R0         ;R0=01
17552 00003206 D004                   M           MOV.L   #_CMP_HOLD_CTLGENSOK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17553 00003208 400B                   M           JSR     @R0                     ;
17554 0000320A 0009                   M           NOP                                     ;
17555                            7145     
17556                            7146             SUB_END
17557                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17558 0000320C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17559                            7147             M_RTS
17560 0000320E 000B                   M           RTS                             ;RTSの後ろの
17561 00003210 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17562                            7148     
17563                            7149     ;       *******************************************
17564                            7150     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   209
PROGRAM NAME =

17565                            7151     ;       ***     開始側処理                      ***
17566                            7152     ;       ***     (完全に停止した時点)            ***
17567                            7153     ;       ***                                     ***
17568                            7154     ;       *******************************************
17569                            7155     ;
17570                                     ***** BEGIN-POOL *****
17571 00003212 0000                       ALIGNMENT CODE
17572 00003214 00000000                   DATA FOR SOURCE-LINE 7139
17573 00003218 00000000                   DATA FOR SOURCE-LINE 7144
17574                                     ***** END-POOL *****
17575 0000321C                   7156     _POSHLD1_STEP2_START_CHK:
17576                            7157             SUB_START
17577 0000321C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17578                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17579 0000321E D124              7158             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17580 00003220 6011              7159             MOV.W   @R1,R0                          ;
17581 00003222 C801              7160             TST     #BIT0,R0                        ;
17582                            7161             TST_BIT_OF POSHLD1_STEP2_STARTEXT       ;このソフトには関係ないのに呼ばれた
17583 00003224 895D                   M           BT      POSHLD1_STEP2_STARTEXT
17584                            7162     
17585 00003226 C804              7163             TST     #BIT2,R0                        ;
17586                            7164             TST_BIT_ON POSHLD1_STEP2_STARTEXT       ;
17587 00003228 8B5B                   M           BF      POSHLD1_STEP2_STARTEXT
17588                            7165     
17589 0000322A C802              7166             TST     #BIT1,R0                        ;ﾀｲﾏ設定?
17590                            7167             TST_BIT_ON POSHLD1_STEP2_START100       ;
17591 0000322C 8B14                   M           BF      POSHLD1_STEP2_START100
17592                            7168     
17593                            7169     ;       ------------内部停止状態成立-----------
17594 0000322E D121              7170             MOV.L   #_SVP_WTTIM_MAX,R1              ;//ｽﾗｲﾄﾞ自動待機機能  待機時間上限
17595 00003230 6211              7171             MOV.W   @R1,R2                          ;
17596 00003232 9435              7172             MOV.W   #D'100,R4                       ;0.1秒
17597 00003234 324D              7173             DMULS.L R4,R2                           ;
17598 00003236 021A              7174             STS.L   MACL,R2                         ;
17599 00003238 D11F              7175             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17600 0000323A 2122              7176             MOV.L   R2,@R1                          ;
17601                            7177     
17602                            7178             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT1),WKREG=R1          ;
17603 0000323C D11C                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17604 0000323E 6011                   M           MOV.W   @R1,R0          ;
17605 00003240 CB02                   M           OR      #(BIT1),R0              ;
17606 00003242 2101                   M           MOV.W   R0,@R1          ;
17607                            7179             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4 ;
                                          待機停止中
17608 00003244 D11D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17609 00003246 6011                   M           MOV.W   @R1,R0          ;
17610 00003248 942B                   M           MOV.W   #(BIT7),R4              ;
17611 0000324A 204B                   M           OR      R4,R0           ;
17612 0000324C 2101                   M           MOV.W   R0,@R1          ;
17613                            7180             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT6),WKRG1=R1,WKRG2=R4
                                          ;待機減速開始
17614 0000324E D11B                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17615 00003250 6011                   M           MOV.W   @R1,R0          ;
17616 00003252 9427                   M           MOV.W   #LWORD (~BIT6),R4       ;
17617 00003254 2049                   M           AND     R4,R0           ;
17618 00003256 2101                   M           MOV.W   R0,@R1          ;
17619                            7181     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   210
PROGRAM NAME =

17620                            7182     
17621                            7183     
17622 00003258                   7184     POSHLD1_STEP2_START100:
17623                            7185     
17624                            7186     
17625 00003258 D117              7187             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17626 0000325A 6212              7188             MOV.L   @R1,R2                          ;
17627 0000325C 2228              7189             TST     R2,R2                           ;
17628                            7190             TST_BIT_OF POSHLD1_STEP2_START500       ;ﾀｲﾑｱｯﾌﾟ,0設定
17629 0000325E 8937                   M           BT      POSHLD1_STEP2_START500
17630 00003260 72FF              7191             ADD     #-1,R2                          ;
17631 00003262 2122              7192             MOV.L   R2,@R1                          ;
17632                            7193     
17633                            7194     
17634 00003264                   7195     POSHLD1_STEP2_START200:
17635                            7196     ;       --------------------試し------------------------
17636                            7197     ;       "本仕様有／無ｼｰｹﾝｽ+有効/無効sw+角度範囲+停止指令",相手信号
17637 00003264 D116              7198             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17638 00003266 6011              7199             MOV.W   @R1,R0                                  ;
17639 00003268 941D              7200             MOV.W   #BIT12,R4                               ;
17640 0000326A 2048              7201             TST     R4,R0                                   ;
17641                            7202             TST_BIT_ON POSHLD1_STEP2_STARTEXT               ;
17642 0000326C 8B39                   M           BF      POSHLD1_STEP2_STARTEXT
17643                            7203     
17644                            7204     ;       ----------------起動条件成立--------------------------------
17645                            7205             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT2),WKREG=R1
                                          ;
17646 0000326E D110                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17647 00003270 6011                   M           MOV.W   @R1,R0          ;
17648 00003272 CB04                   M           OR      #(BIT2),R0              ;
17649 00003274 2101                   M           MOV.W   R0,@R1          ;
17650                            7206             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_RESTARTCMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;RESTART
17651 00003276 D113                   M           MOV.L   #_POS_HOLD_RESTARTCMD,R1                ;
17652 00003278 6011                   M           MOV.W   @R1,R0          ;
17653 0000327A CB01                   M           OR      #(BIT0),R0              ;
17654 0000327C 2101                   M           MOV.W   R0,@R1          ;
17655                            7207             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                          ;待機停止中
17656 0000327E D10F                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17657 00003280 6011                   M           MOV.W   @R1,R0          ;
17658 00003282 9411                   M           MOV.W   #LWORD (~BIT7),R4       ;
17659 00003284 2049                   M           AND     R4,R0           ;
17660 00003286 2101                   M           MOV.W   R0,@R1          ;
17661                            7208     ;;;;2015-02-20  MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT8),WKRG1=R1,WKR
                                          G2=R4           ;再起動ON
17662                            7209             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12|BIT8),WKRG1=R1,WKRG2
                                          =R4             ;再起動ON
17663 00003288 D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17664 0000328A 6011                   M           MOV.W   @R1,R0          ;
17665 0000328C 940D                   M           MOV.W   #(BIT12|BIT8),R4                ;
17666 0000328E 204B                   M           OR      R4,R0           ;
17667 00003290 2101                   M           MOV.W   R0,@R1          ;
17668                            7210     
17669 00003292 900B              7211             MOV.W   #D'20,R0                                ;
17670 00003294 D10C              7212             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1               ;20msecだけ再起動をONする
17671 00003296 2101              7213             MOV.W   R0,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   211
PROGRAM NAME =

17672 00003298 D10C              7214             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1               ;2015-02-20追加　20msecだけ再起動
                                          または通過時
17673 0000329A 2101              7215             MOV.W   R0,@R1                                  ;
17674                            7216             M_BRA   POSHLD1_STEP2_STARTEXT
                                          ;
17675 0000329C A021                   M           BRA     POSHLD1_STEP2_STARTEXT
17676 0000329E 0009                   M           NOP
17677                            7217     
17678                                     ***** BEGIN-POOL *****
17679 000032A0 0064                       DATA FOR SOURCE-LINE 7172
17680 000032A2 0080                       DATA FOR SOURCE-LINE 7179
17681 000032A4 FFBF                       DATA FOR SOURCE-LINE 7180
17682 000032A6 1000                       DATA FOR SOURCE-LINE 7200
17683 000032A8 FF7F                       DATA FOR SOURCE-LINE 7207
17684 000032AA 1100                       DATA FOR SOURCE-LINE 7209
17685 000032AC 0014                       DATA FOR SOURCE-LINE 7211
17686 000032AE 0000                       ALIGNMENT CODE
17687 000032B0 00000000                   DATA FOR SOURCE-LINE 7158,7178,7205
17688 000032B4 00000000                   DATA FOR SOURCE-LINE 7170
17689 000032B8 00000000                   DATA FOR SOURCE-LINE 7175,7187
17690 000032BC 00000000                   DATA FOR SOURCE-LINE 7179,7180,7207,7209
17691 000032C0 00000000                   DATA FOR SOURCE-LINE 7198
17692 000032C4 00000000                   DATA FOR SOURCE-LINE 7206
17693 000032C8 00000000                   DATA FOR SOURCE-LINE 7212
17694 000032CC 00000000                   DATA FOR SOURCE-LINE 7214
17695                                     ***** END-POOL *****
17696 000032D0                   7218     POSHLD1_STEP2_START500:
17697                            7219     
17698                            7220     
17699 000032D0 D506              7221             MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R5             ;
17700 000032D2 6151              7222             MOV.W   @R5,R1                                  ;
17701 000032D4 9008              7223             MOV.W   #BIT13,R0
17702 000032D6 210B              7224             OR      R0,R1
17703 000032D8 2511              7225             MOV.W   R1,@R5
17704                            7226     
17705 000032DA 9406              7227             MOV.W   #H'224D,R4                              ;2010-12-21
17706                            7228             FAR_JSR #_EXQ_STOP,R0                           ;EXQ_FLG
17707 000032DC D004                   M           MOV.L   #_EXQ_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17708 000032DE 400B                   M           JSR     @R0                     ;
17709 000032E0 0009                   M           NOP                                     ;
17710                            7229     
17711 000032E2                   7230     POSHLD1_STEP2_STARTEXT:
17712                            7231     
17713                            7232             SUB_END
17714                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17715 000032E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17716                            7233             M_RTS
17717 000032E4 000B                   M           RTS                             ;RTSの後ろの
17718 000032E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17719                            7234     
17720                            7235     
17721                                     ***** BEGIN-POOL *****
17722 000032E8 2000                       DATA FOR SOURCE-LINE 7223
17723 000032EA 224D                       DATA FOR SOURCE-LINE 7227
17724 000032EC 00000000                   DATA FOR SOURCE-LINE 7221
17725 000032F0 00000000                   DATA FOR SOURCE-LINE 7228
17726                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   212
PROGRAM NAME =

17727 000032F4                   7236     _POSHLD1_FLG_CLR:
17728                            7237             SUB_START
17729 000032F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
17730                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17731 000032F6 200A              7238             XOR     R0,R0
17732 000032F8 D106              7239             MOV.L   #_POS_HLDSTOP1_FLG,R1   ;
17733 000032FA 2101              7240             MOV.W   R0,@R1                  ;
17734 000032FC D106              7241             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//
17735 000032FE 2101              7242             MOV.W   R0,@R1
17736                            7243     
17737                            7244             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT7|BIT6),WKRG1=R1,WKRG2
                                          =R4     ;
17738 00003300 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17739 00003302 6011                   M           MOV.W   @R1,R0          ;
17740 00003304 9404                   M           MOV.W   #LWORD ~(BIT7|BIT6),R4  ;
17741 00003306 2049                   M           AND     R4,R0           ;
17742 00003308 2101                   M           MOV.W   R0,@R1          ;
17743                            7245     
17744                            7246             SUB_END
17745                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17746 0000330A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17747                            7247             M_RTS
17748 0000330C 000B                   M           RTS                             ;RTSの後ろの
17749 0000330E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17750                            7248     
17751                            7249     
17752                            7250     
17753                            7251     
17754                            7252     
17755                                     ***** BEGIN-POOL *****
17756 00003310 FF3F                       DATA FOR SOURCE-LINE 7244
17757 00003312 0000                       ALIGNMENT CODE
17758 00003314 00000000                   DATA FOR SOURCE-LINE 7239
17759 00003318 00000000                   DATA FOR SOURCE-LINE 7241
17760 0000331C 00000000                   DATA FOR SOURCE-LINE 7244
17761                                     ***** END-POOL *****
17762 00003320                   7253     _POSHLD1_SIG_CHK
17763                            7254             SUB_START
17764 00003320 4F22                   M           STS.L   PR,@-R15                ;[必要]
17765                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17766                            7255     ;       --------- 再起動信号--------------
17767 00003322 D507              7256             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
17768 00003324 6351              7257             MOV.W   @R5,R3
17769 00003326 9409              7258             MOV.W   #BIT8,R4
17770 00003328 2348              7259             TST     R4,R3
17771                            7260             TST_BIT_OF POSHLD1_SIGCHK_200   ;
17772 0000332A 8910                   M           BT      POSHLD1_SIGCHK_200
17773                            7261     
17774 0000332C D105              7262             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;       //100msecだけ再起動をONする
17775 0000332E 6011              7263             MOV.W   @R1,R0                          ;
17776 00003330 2008              7264             TST     R0,R0
17777                            7265             TST_BIT_OF POSHLD1_SIGCHK_100           ;
17778 00003332 8909                   M           BT      POSHLD1_SIGCHK_100
17779 00003334 70FF              7266             ADD     #-1,R0
17780 00003336 2101              7267             MOV.W   R0,@R1
17781                            7268             M_BRA   POSHLD1_SIGCHK_200
17782 00003338 A009                   M           BRA     POSHLD1_SIGCHK_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   213
PROGRAM NAME =

17783 0000333A 0009                   M           NOP
17784                                     ***** BEGIN-POOL *****
17785 0000333C 0100                       DATA FOR SOURCE-LINE 7258
17786 0000333E 0000                       ALIGNMENT CODE
17787 00003340 00000000                   DATA FOR SOURCE-LINE 7256
17788 00003344 00000000                   DATA FOR SOURCE-LINE 7262
17789                                     ***** END-POOL *****
17790 00003348                   7269     POSHLD1_SIGCHK_100
17791 00003348 6447              7270             NOT     R4,R4
17792 0000334A 2349              7271             AND     R4,R3
17793 0000334C 2531              7272             MOV.W   R3,@R5                          ;
17794                            7273     
17795 0000334E                   7274     POSHLD1_SIGCHK_200
17796                            7275     
17797                            7276     
17798                            7277     
17799                            7278     ;       --------- 通過信号2015-02-20--------------
17800 0000334E D507              7279             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
17801 00003350 6351              7280             MOV.W   @R5,R3
17802 00003352 9409              7281             MOV.W   #BIT12,R4
17803 00003354 2348              7282             TST     R4,R3
17804                            7283             TST_BIT_OF POSHLD1_SIGCHK_400   ;
17805 00003356 8910                   M           BT      POSHLD1_SIGCHK_400
17806                            7284     
17807 00003358 D105              7285             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;       //100msecだけ再起動をONする
17808 0000335A 6011              7286             MOV.W   @R1,R0                          ;
17809 0000335C 2008              7287             TST     R0,R0
17810                            7288             TST_BIT_OF POSHLD1_SIGCHK_300           ;
17811 0000335E 8909                   M           BT      POSHLD1_SIGCHK_300
17812 00003360 70FF              7289             ADD     #-1,R0
17813 00003362 2101              7290             MOV.W   R0,@R1
17814                            7291             M_BRA   POSHLD1_SIGCHK_400
17815 00003364 A009                   M           BRA     POSHLD1_SIGCHK_400
17816 00003366 0009                   M           NOP
17817                                     ***** BEGIN-POOL *****
17818 00003368 1000                       DATA FOR SOURCE-LINE 7281
17819 0000336A 0000                       ALIGNMENT CODE
17820 0000336C 00000000                   DATA FOR SOURCE-LINE 7279
17821 00003370 00000000                   DATA FOR SOURCE-LINE 7285
17822                                     ***** END-POOL *****
17823 00003374                   7292     POSHLD1_SIGCHK_300
17824 00003374 6447              7293             NOT     R4,R4
17825 00003376 2349              7294             AND     R4,R3
17826 00003378 2531              7295             MOV.W   R3,@R5                          ;
17827                            7296     
17828 0000337A                   7297     POSHLD1_SIGCHK_400
17829                            7298     
17830                            7299             SUB_END
17831                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17832 0000337A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17833                            7300             M_RTS
17834 0000337C 000B                   M           RTS                             ;RTSの後ろの
17835 0000337E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17836                            7301     
17837                            7302     ;       *******************************************
17838                            7303     ;       ***                                     ***
17839                            7304     ;       ***     複数個で一旦停止を行える構造    ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   214
PROGRAM NAME =

17840                            7305     ;       ***                                     ***
17841                            7306     ;       ***                                     ***
17842                            7307     ;       *******************************************
17843                            7308     ;
17844                            7309     ;
17845                            7310     ;_POS_HLDSTOP1_FLG;     //位置決め状態、準備未完了状態にて行う
17846 00003380                   7311     _POS_HOLD_RESTART_CHK:
17847                            7312             SUB_START
17848 00003380 4F22                   M           STS.L   PR,@-R15                ;[必要]
17849                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17850                            7313             FAR_JSR #_POSHLD1_STEP2_START_CHK,R0            ;ｺﾏﾝﾄﾞで出力
17851 00003382 D003                   M           MOV.L   #_POSHLD1_STEP2_START_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17852 00003384 400B                   M           JSR     @R0                     ;
17853 00003386 0009                   M           NOP                                     ;
17854                            7314     
17855                            7315             SUB_END
17856                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17857 00003388 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17858                            7316             M_RTS
17859 0000338A 000B                   M           RTS                             ;RTSの後ろの
17860 0000338C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17861                            7317     
17862                            7318     
17863                            7319     
17864                            7320     
17865                                     ***** BEGIN-POOL *****
17866 0000338E 0000                       ALIGNMENT CODE
17867 00003390 00000000                   DATA FOR SOURCE-LINE 7313
17868                                     ***** END-POOL *****
17869 00003394                   7321     _HOLD_RESTART_OF_OUT:
17870                            7322             SUB_START
17871 00003394 4F22                   M           STS.L   PR,@-R15                ;[必要]
17872                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17873                            7323             FAR_JSR #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;
17874 00003396 D003                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17875 00003398 400B                   M           JSR     @R0                     ;
17876 0000339A 0009                   M           NOP                                     ;
17877                            7324             SUB_END
17878                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17879 0000339C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17880                            7325             M_RTS
17881 0000339E 000B                   M           RTS                             ;RTSの後ろの
17882 000033A0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17883                            7326     
17884                            7327     
17885                            7328     ;       -----R0=0 RESTART-OK----------
17886                                     ***** BEGIN-POOL *****
17887 000033A2 0000                       ALIGNMENT CODE
17888 000033A4 00000000                   DATA FOR SOURCE-LINE 7323
17889                                     ***** END-POOL *****
17890 000033A8                   7329     _HOLD_RESTART_BA_JG:
17891                            7330             SUB_START
17892 000033A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17893                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17894                            7331             FAR_JSR #_CPU_BA_DRVHLDSTOP_OF_JG,R0    ;R0=0 起動 とりあえず１個
17895 000033AA D003                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_OF_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17896 000033AC 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   215
PROGRAM NAME =

17897 000033AE 0009                   M           NOP                                     ;
17898                            7332             SUB_END
17899                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17900 000033B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17901                            7333             M_RTS
17902 000033B2 000B                   M           RTS                             ;RTSの後ろの
17903 000033B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17904                            7334     
17905                            7335     ;       -----R0=0 RESTART-OK----------
17906                            7336     ;;;;;;;;;;_HOLD_STOP_BA_JG:
17907                            7337     ;;;;;;;;;;      SUB_START
17908                            7338     ;;;;;;;;;;      FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0    ;R0=FFFF 停止 とりあえず1個(複数時
                                          でもどれか１つがFFFFでいいと思う)
17909                            7339     ;;;;;;;;;;      SUB_END
17910                            7340     ;;;;;;;;;       M_RTS
17911                            7341     
17912                            7342     
17913                            7343     
17914                            7344     
17915                                     ***** BEGIN-POOL *****
17916 000033B6 0000                       ALIGNMENT CODE
17917 000033B8 00000000                   DATA FOR SOURCE-LINE 7331
17918                                     ***** END-POOL *****
17919 000033BC                   7345     _POS_HOLD_FLG_CLR:
17920                            7346             SUB_START
17921 000033BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17922                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17923                            7347     
17924 000033BE 200A              7348             XOR     R0,R0
17925 000033C0 D105              7349             MOV.L   #_POS_HOLD_RESTARTCMD,R1
17926 000033C2 2101              7350             MOV.W   R0,@R1
17927 000033C4 D105              7351             MOV.L   #_POS_HOLD_CMD,R1
17928 000033C6 2101              7352             MOV.W   R0,@R1
17929 000033C8 D105              7353             MOV.L   #_POS_HOLD_FLG,R1
17930 000033CA 2101              7354             MOV.W   R0,@R1
17931                            7355     
17932                            7356             FAR_JSR #_POSHLD1_FLG_CLR,R0            ;
17933 000033CC D005                   M           MOV.L   #_POSHLD1_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17934 000033CE 400B                   M           JSR     @R0                     ;
17935 000033D0 0009                   M           NOP                                     ;
17936                            7357     
17937                            7358             SUB_END
17938                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17939 000033D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17940                            7359             M_RTS
17941 000033D4 000B                   M           RTS                             ;RTSの後ろの
17942 000033D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17943                            7360     
17944                            7361     ;
17945                                     ***** BEGIN-POOL *****
17946 000033D8 00000000                   DATA FOR SOURCE-LINE 7349
17947 000033DC 00000000                   DATA FOR SOURCE-LINE 7351
17948 000033E0 00000000                   DATA FOR SOURCE-LINE 7353
17949 000033E4 00000000                   DATA FOR SOURCE-LINE 7356
17950                                     ***** END-POOL *****
17951 000033E8                   7362     _POS_HOLD_FLG_STR2CLR:
17952                            7363             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   216
PROGRAM NAME =

17953 000033E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17954                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17955 000033EA 200A              7364             XOR     R0,R0
17956 000033EC D102              7365             MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
17957 000033EE 2101              7366             MOV.W   R0,@R1                  ;
17958                            7367     
17959                            7368     ;;;;;;;;;;      MOV.L   #_POS_HOLD_RDY_EXITF2,R1;//しょうがない
17960                            7369     ;;;;;;;;;;      MOV.W   R0,@R1                  ;
17961                            7370     
17962                            7371             SUB_END
17963                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17964 000033F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17965                            7372             M_RTS
17966 000033F2 000B                   M           RTS                             ;RTSの後ろの
17967 000033F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17968                            7373     
17969                            7374     ;       ***********************************
17970                            7375     ;       ***     EXQ,EMG時の内部ｸﾘｱ      ***
17971                            7376     ;       ***********************************
17972                                     ***** BEGIN-POOL *****
17973 000033F6 0000                       ALIGNMENT CODE
17974 000033F8 00000000                   DATA FOR SOURCE-LINE 7365
17975                                     ***** END-POOL *****
17976 000033FC                   7377     _POS_HOLD_FLG_EXQ_CLR:
17977                            7378             SUB_START
17978 000033FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17979                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17980                            7379     
17981                            7380             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
17982 000033FE D00E                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17983 00003400 400B                   M           JSR     @R0                     ;
17984 00003402 0009                   M           NOP                                     ;
17985                            7381             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
17986 00003404 D00D                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17987 00003406 400B                   M           JSR     @R0                     ;
17988 00003408 0009                   M           NOP                                     ;
17989                            7382     
17990 0000340A 200A              7383             XOR     R0,R0                           ;
17991 0000340C D10C              7384             MOV.L   #_POSHLD1_STOPLATCH,R1          ;//停止前、停止中に停止釦相当が発生したか?
17992 0000340E 2101              7385             MOV.W   R0,@R1                          ;
17993                            7386     
17994 00003410 D10C              7387             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;251.8   20msecだけ再起動をONする
17995 00003412 2101              7388             MOV.W   R0,@R1                          ;
17996 00003414 D10C              7389             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;251.12  20msecだけ通過時もしくは再起動時O
                                          Nする[2015-02-20]
17997 00003416 2101              7390             MOV.W   R0,@R1                          ;
17998                            7391     
17999                            7392     ;       ---     2015-02-20 BIT9は設定条件       ---
18000                            7393             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT12|BIT8|BIT7|BIT6),WKR
                                          G1=R1,WKRG2=R4  ;
18001 00003418 D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
18002 0000341A 6011                   M           MOV.W   @R1,R0          ;
18003 0000341C 940A                   M           MOV.W   #LWORD ~(BIT12|BIT8|BIT7|BIT6),R4       ;
18004 0000341E 2049                   M           AND     R4,R0           ;
18005 00003420 2101                   M           MOV.W   R0,@R1          ;
18006                            7394     
18007                            7395     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   217
PROGRAM NAME =

18008                            7396             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;DPRAM ｺﾏﾝﾄﾞｸﾘｱ
18009 00003422 D00B                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18010 00003424 400B                   M           JSR     @R0                     ;
18011 00003426 0009                   M           NOP                                     ;
18012                            7397             FAR_JSR #_RDY_HOLDSTP_OF_FLGOUT,R0      ;
18013 00003428 D00A                   M           MOV.L   #_RDY_HOLDSTP_OF_FLGOUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18014 0000342A 400B                   M           JSR     @R0                     ;
18015 0000342C 0009                   M           NOP                                     ;
18016                            7398     
18017                            7399     
18018                            7400     
18019                            7401     
18020                            7402             SUB_END
18021                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18022 0000342E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18023                            7403             M_RTS
18024 00003430 000B                   M           RTS                             ;RTSの後ろの
18025 00003432 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18026                            7404     
18027                            7405     ;EMG,EXQなのでRDY_CHECKは通らないから強制OFF[2015-02-20]
18028                                     ***** BEGIN-POOL *****
18029 00003434 EE3F                       DATA FOR SOURCE-LINE 7393
18030 00003436 0000                       ALIGNMENT CODE
18031 00003438 00000000                   DATA FOR SOURCE-LINE 7380
18032 0000343C 00000000                   DATA FOR SOURCE-LINE 7381
18033 00003440 00000000                   DATA FOR SOURCE-LINE 7384
18034 00003444 00000000                   DATA FOR SOURCE-LINE 7387
18035 00003448 00000000                   DATA FOR SOURCE-LINE 7389
18036 0000344C 00000000                   DATA FOR SOURCE-LINE 7393
18037 00003450 00000000                   DATA FOR SOURCE-LINE 7396
18038 00003454 00000000                   DATA FOR SOURCE-LINE 7397
18039                                     ***** END-POOL *****
18040 00003458                   7406     _RDY_HOLDSTP_OF_FLGOUT:
18041                            7407             SUB_START
18042 00003458 4F22                   M           STS.L   PR,@-R15                ;[必要]
18043                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18044 0000345A 200A              7408             XOR     R0,R0
18045 0000345C D103              7409             MOV.L   #_SH4_HD_HLDSTOP2,R1
18046 0000345E 2101              7410             MOV.W   R0,@R1
18047 00003460 D103              7411             MOV.L   #_SH2_HD_HLDSTOP2,R1
18048 00003462 2101              7412             MOV.W   R0,@R1
18049                            7413             SUB_END
18050                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18051 00003464 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18052                            7414             M_RTS
18053 00003466 000B                   M           RTS                             ;RTSの後ろの
18054 00003468 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18055                            7415     
18056                            7416     
18057                                     ***** BEGIN-POOL *****
18058 0000346A 0000                       ALIGNMENT CODE
18059 0000346C 00000000                   DATA FOR SOURCE-LINE 7409
18060 00003470 00000000                   DATA FOR SOURCE-LINE 7411
18061                                     ***** END-POOL *****
18062 00003474                   7417     _RDY_HOLDSTP_FLGOUT:
18063                            7418             SUB_START
18064 00003474 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   218
PROGRAM NAME =

18065                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18066                            7419     
18067 00003476 D103              7420             MOV.L   #_POS_HOLD_FLG,R1       ;
18068 00003478 6011              7421             MOV.W   @R1,R0                  ;
18069                            7422     
18070                            7423             .AIF    0 EQ    0       ;
18071 0000347A D103              7424 C           MOV.L   #_SH4_HD_HLDSTOP2,R1
18072                            7425             .AELSE
18073                            7426             MOV.L   #_SH2_HD_HLDSTOP2,R1
18074                            7427             .AENDI
18075 0000347C 2101              7428             MOV.W   R0,@R1
18076                            7429     
18077                            7430             SUB_END
18078                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18079 0000347E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18080                            7431             M_RTS
18081 00003480 000B                   M           RTS                             ;RTSの後ろの
18082 00003482 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18083                            7432     
18084                                     ***** BEGIN-POOL *****
18085 00003484 00000000                   DATA FOR SOURCE-LINE 7420
18086 00003488 00000000                   DATA FOR SOURCE-LINE 7424
18087                                     ***** END-POOL *****
18088 0000348C                   7433     _HOLD_STOP_BA_JG:
18089                            7434             SUB_START
18090 0000348C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18091                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18092                            7435     
18093                            7436             .AIF    0 EQ    0       ;
18094 0000348E D102              7437 C           MOV.L   #_SH2_HD_HLDSTOP2,R1
18095                            7438             .AELSE
18096                            7439             MOV.L   #_SH4_HD_HLDSTOP2,R1
18097                            7440             .AENDI
18098 00003490 6011              7441             MOV.W   @R1,R0
18099                            7442     
18100                            7443             SUB_END
18101                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18102 00003492 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18103                            7444             M_RTS
18104 00003494 000B                   M           RTS                             ;RTSの後ろの
18105 00003496 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18106                            7445     
18107                            7446     
18108                            7447     ;       *******************************************
18109                            7448     ;       ***                                     ***
18110                            7449     ;       ***                                     ***
18111                            7450     ;       ***                                     ***
18112                            7451     ;       ***     寸動任意角度起動                ***
18113                            7452     ;       ***                                     ***
18114                            7453     ;       ***                                     ***
18115                            7454     ;       ***                                     ***
18116                            7455     ;       *******************************************
18117                            7456     
18118                            7457     ;       *******************************************
18119                            7458     ;       ***                                     ***
18120                            7459     ;       ***     EMG時ワーククリア               ***
18121                            7460     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   219
PROGRAM NAME =

18122                            7461     ;       *******************************************
18123                            7462     ;       起動時もCALLされる
18124                            7463             .EXPORT _INC_RST_WORK_CLR
18125                                     ***** BEGIN-POOL *****
18126 00003498 00000000                   DATA FOR SOURCE-LINE 7437
18127                                     ***** END-POOL *****
18128 0000349C                   7464     _INC_RST_WORK_CLR
18129                            7465             SUB_START                               ;
18130 0000349C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18131                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18132 0000349E 200A              7466             XOR     R0,R0                           ;
18133 000034A0 D103              7467             MOV.L   #_INC_RESET_STEP,R1             ;//0,1:1ｽﾃｯﾌﾟから起動 2~11
18134 000034A2 2101              7468             MOV.W   R0,@R1                          ;//
18135                            7469     
18136 000034A4 D103              7470             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18137 000034A6 2101              7471             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18138                            7472     
18139                            7473             SUB_END                                 ;
18140                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18141 000034A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18142                            7474             M_RTS                                   ;
18143 000034AA 000B                   M           RTS                             ;RTSの後ろの
18144 000034AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18145                            7475     
18146                            7476     ;       *******************************************
18147                            7477     ;       ***                                     ***
18148                            7478     ;       ***     リセット時の開始行程判断        ***
18149                            7479     ;       ***                                     ***
18150                            7480     ;       *******************************************
18151                            7481             .IMPORT _POS_STEP1_SEARCH               ;
18152                            7482     
18153                                     ***** BEGIN-POOL *****
18154 000034AE 0000                       ALIGNMENT CODE
18155 000034B0 00000000                   DATA FOR SOURCE-LINE 7467
18156 000034B4 00000000                   DATA FOR SOURCE-LINE 7470
18157                                     ***** END-POOL *****
18158 000034B8                   7483     _INC_RSTMODE_CHK
18159                            7484             SUB_START                                                       ;
18160 000034B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
18161                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18162                            7485     
18163                            7486             FAR_JSR #_INC_SPEC_RSTCHK,R0                    ;ｼｽﾊﾟﾗが有効で且つ寸動
18164 000034BA D004                   M           MOV.L   #_INC_SPEC_RSTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18165 000034BC 400B                   M           JSR     @R0                     ;
18166 000034BE 0009                   M           NOP                                     ;
18167                            7487     
18168 000034C0 222A              7488             XOR     R2,R2                                   ;
18169 000034C2 2008              7489             TST     R0,R0
18170                            7490             TST_BIT_ON INC_RSTMODECK020                     ;寸動で且つ、リセット有効
18171 000034C4 8B04                   M           BF      INC_RSTMODECK020
18172                            7491             M_BRA   INC_RSTMODECK499                        ;特殊なﾓｰﾄﾞではない
18173 000034C6 A08A                   M           BRA     INC_RSTMODECK499
18174 000034C8 0009                   M           NOP
18175                            7492     
18176                                     ***** BEGIN-POOL *****
18177 000034CA 0000                       ALIGNMENT CODE
18178 000034CC 00000000                   DATA FOR SOURCE-LINE 7486
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   220
PROGRAM NAME =

18179                                     ***** END-POOL *****
18180 000034D0                   7493     INC_RSTMODECK020
18181                            7494     
18182                            7495     ;       ----------------------------------
18183 000034D0 D104              7496             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18184 000034D2 6011              7497             MOV.W   @R1,R0                                  ;
18185 000034D4 C804              7498             TST     #(_DMATH_DNDRIV),R0                     ;
18186                            7499             TST_BIT_OF INC_RSTMODECK100                     ;振子でない
18187 000034D6 8909                   M           BT      INC_RSTMODECK100
18188                            7500     
18189 000034D8 D403              7501             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
18190 000034DA 6041              7502             MOV.W   @R4,R0
18191 000034DC C890              7503             TST     #(BIT7+BIT4),R0                         ;
18192                            7504             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18193 000034DE 8B7D                   M           BF      INC_RSTMODECK490
18194                            7505             M_BRA   INC_RSTMODECK200                        ;
18195 000034E0 A008                   M           BRA     INC_RSTMODECK200
18196 000034E2 0009                   M           NOP
18197                            7506     
18198                            7507     
18199                                     ***** BEGIN-POOL *****
18200 000034E4 00000000                   DATA FOR SOURCE-LINE 7496
18201 000034E8 00000000                   DATA FOR SOURCE-LINE 7501
18202                                     ***** END-POOL *****
18203 000034EC                   7508     INC_RSTMODECK100
18204 000034EC D412              7509             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
18205 000034EE 6041              7510             MOV.W   @R4,R0                                  ;
18206 000034F0 C810              7511             TST     #BIT4,R0                                ;左側
18207                            7512             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18208 000034F2 8B73                   M           BF      INC_RSTMODECK490
18209                            7513     
18210                            7514     ;       --------- 待機点にいない いままではここはＮＧ区間-----------
18211 000034F4                   7515     INC_RSTMODECK200
18212                            7516     
18213                            7517             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0          ;
18214 000034F4 D011                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18215 000034F6 400B                   M           JSR     @R0                     ;
18216 000034F8 0009                   M           NOP                                     ;
18217                            7518             FAR_JSR #_NOW_INC_DIG_MAK,R0            ;
18218 000034FA D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18219 000034FC 400B                   M           JSR     @R0                     ;
18220 000034FE 0009                   M           NOP                                     ;
18221                            7519     
18222                            7520     
18223 00003500 D110              7521             MOV.L   #_LINK_NOWROT_OFSPLS_P,R1               ;[[[目標]]]
18224 00003502 6712              7522             MOV.L   @R1,R7                                  ;
18225                            7523     
18226                            7524     ;       -------2018-02-10(2018-01-25)[回転で待機点359度のとき 0の場合は問題なし]----------
                                          -
18227                            7525             FAR_JSR #_INC_RST_DATA_CHK,R0                   ;input R7 /output R7
18228 00003504 D010                   M           MOV.L   #_INC_RST_DATA_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18229 00003506 400B                   M           JSR     @R0                     ;
18230 00003508 0009                   M           NOP                                     ;
18231                            7526     ;       -------------- 2018-01-25 追加----------------
18232                            7527     
18233                            7528             FAR_JSR #_POS_STEP1_SEARCH,R0                   ;INPUT R7
18234 0000350A D010                   M           MOV.L   #_POS_STEP1_SEARCH,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   221
PROGRAM NAME =

18235 0000350C 400B                   M           JSR     @R0                     ;
18236 0000350E 0009                   M           NOP                                     ;
18237                            7529                                                             ;OUTPUT R0(R6):ｽﾃｯﾌﾟ R5方向
18238                            7530                                                             ;R2(Sn),R3(Sn_1),R7(入力=目標位置)
18239 00003510 2008              7531             TST     R0,R0                                   ;
18240                            7532             TST_BIT_OF INC_RSTMODECK490                     ;OKにはできない
18241 00003512 8963                   M           BT      INC_RSTMODECK490
18242 00003514 D10E              7533             MOV.L   #_INC_RESET_STEP,R1                     ;
18243 00003516 2101              7534             MOV.W   R0,@R1                                  ;開始行程
18244                            7535     
18245                            7536     ;       -- R5=方向 BIT1=0(正)/1(逆)---
18246 00003518 D10E              7537             MOV.L   #(_PAR_INCMODE_EPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
18247 0000351A 6011              7538             MOV.W   @R1,R0                                                  ;
18248 0000351C 2008              7539             TST     R0,R0                                                   ;
18249                            7540             TST_BIT_OF INC_RSTMODECK280                                     ;
18250 0000351E 8929                   M           BT      INC_RSTMODECK280
18251                            7541     
18252 00003520 E402              7542             MOV.B   #BIT1,R4                                ;
18253 00003522 2548              7543             TST     R4,R5                                   ;
18254                            7544             TST_BIT_OF INC_RSTMODECK240                     ;方向
18255 00003524 8918                   M           BT      INC_RSTMODECK240
18256 00003526 600B              7545             NEG     R0,R0                                   ;
18257 00003528 307C              7546             ADD     R7,R0                                   ;
18258                            7547     
18259                            7548             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R7,MINRG=R0    ;T=1:範囲内　R7 >= R2 => R0(R7-α)
                                          　なら次行程
18260 0000352A 3203                   M           CMP/GE  R0,R2           ;MIN =< DT THEN T=1
18261 0000352C 8B00                   M           BF      JMP0100003                      ;DT < MIN T=0
18262 0000352E 3723                   M           CMP/GE  R2,R7           ;
18263 00003530                        M   JMP0100003                                      ;
18264 00003530 8917              7549             BT      INC_RSTMODECK260                        ;
18265                            7550             M_BRA   INC_RSTMODECK280                        ;範囲内ではない
18266 00003532 A01F                   M           BRA     INC_RSTMODECK280
18267 00003534 0009                   M           NOP
18268                            7551     
18269                                     ***** BEGIN-POOL *****
18270 00003536 0000                       ALIGNMENT CODE
18271 00003538 00000000                   DATA FOR SOURCE-LINE 7509
18272 0000353C 00000000                   DATA FOR SOURCE-LINE 7517
18273 00003540 00000000                   DATA FOR SOURCE-LINE 7518
18274 00003544 00000000                   DATA FOR SOURCE-LINE 7521
18275 00003548 00000000                   DATA FOR SOURCE-LINE 7525
18276 0000354C 00000000                   DATA FOR SOURCE-LINE 7528
18277 00003550 00000000                   DATA FOR SOURCE-LINE 7533
18278 00003554 00000000                   DATA FOR SOURCE-LINE 7537
18279                                     ***** END-POOL *****
18280 00003558                   7552     INC_RSTMODECK240                                        ;
18281 00003558 307C              7553             ADD     R7,R0                                   ;
18282                            7554             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R0,MINRG=R7    ;T=1:範囲内　R7=<R2<=R0(R7+α)なら
                                          次行程
18283 0000355A 3273                   M           CMP/GE  R7,R2           ;MIN =< DT THEN T=1
18284 0000355C 8B00                   M           BF      JMP0100004                      ;DT < MIN T=0
18285 0000355E 3023                   M           CMP/GE  R2,R0           ;
18286 00003560                        M   JMP0100004                                      ;
18287 00003560 8B08              7555             BF      INC_RSTMODECK280                        ;範囲内ではない2016-05-17抜けてい
                                          た
18288                            7556     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   222
PROGRAM NAME =

18289 00003562                   7557     INC_RSTMODECK260                                        ;
18290                            7558     
18291 00003562 D50D              7559             MOV.L   #_INC_RESET_STEP,R5                     ;
18292 00003564 6051              7560             MOV.W   @R5,R0                                  ;
18293 00003566 7001              7561             ADD     #1,R0
18294 00003568 D40C              7562             MOV.L   #_SETX_POS_STEP_MAX,R4                  ;
18295 0000356A 6141              7563             MOV.W   @R4,R1                                  ;
18296 0000356C 7101              7564             ADD     #1,R1                                   ;
18297 0000356E 3103              7565             CMP/GE  R0,R1                                   ;
18298 00003570 8B00              7566             BF      INC_RSTMODECK280                        ;ｵｰﾊﾞしてしまう
18299 00003572 2501              7567             MOV.W   R0,@R5                                  ;
18300                            7568     
18301                            7569     
18302 00003574                   7570     INC_RSTMODECK280
18303 00003574 D10A              7571             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18304 00003576 6011              7572             MOV.W   @R1,R0                                  ;
18305 00003578 C804              7573             TST     #(_DMATH_DNDRIV),R0                     ;
18306                            7574             TST_BIT_OF INC_RSTMODECK300                     ;ふりこではない
18307 0000357A 8921                   M           BT      INC_RSTMODECK300
18308                            7575     
18309                            7576     ;       ------前回がﾓｰｼｮﾝ運転ならその運転の方向を引き継ぐ[2014-11-10]-----
18310 0000357C D109              7577             MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
18311 0000357E 6011              7578             MOV.W   @R1,R0                          ;
18312 00003580 C801              7579             TST     #BIT0,R0                        ;
18313                            7580             TST_BIT_OF INC_RSTMODECK290             ;前はﾓｰｼｮﾝではないorふりこではない
18314 00003582 8915                   M           BT      INC_RSTMODECK290
18315                            7581     
18316 00003584 D108              7582             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向
18317 00003586 6011              7583             MOV.W   @R1,R0                          ;
18318 00003588 C801              7584             TST     #BIT0,R0                        ;
18319                            7585             TST_BIT_OF INC_RSTMODECK300             ;正
18320 0000358A 8919                   M           BT      INC_RSTMODECK300
18321                            7586     
18322                            7587             FAR_JSR #_DNM_DATA_REV_SET,R0           ;逆
18323 0000358C D007                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18324 0000358E 400B                   M           JSR     @R0                     ;
18325 00003590 0009                   M           NOP                                     ;
18326                            7588             M_BRA   INC_RSTMODECK300                ;
18327 00003592 A015                   M           BRA     INC_RSTMODECK300
18328 00003594 0009                   M           NOP
18329                            7589     
18330                            7590     
18331                            7591     
18332                                     ***** BEGIN-POOL *****
18333 00003596 0000                       ALIGNMENT CODE
18334 00003598 00000000                   DATA FOR SOURCE-LINE 7559
18335 0000359C 00000000                   DATA FOR SOURCE-LINE 7562
18336 000035A0 00000000                   DATA FOR SOURCE-LINE 7571
18337 000035A4 00000000                   DATA FOR SOURCE-LINE 7577
18338 000035A8 00000000                   DATA FOR SOURCE-LINE 7582
18339 000035AC 00000000                   DATA FOR SOURCE-LINE 7587
18340                                     ***** END-POOL *****
18341 000035B0                   7592     INC_RSTMODECK290
18342                            7593     
18343 000035B0 930C              7594             MOV.W   #_UPDN_DIRJG_DIG,R3                     ;               .EQU    1800    ;
18344 000035B2 D107              7595             MOV.L   #_INC_ENC360,R1                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   223
PROGRAM NAME =

18345 000035B4 6211              7596             MOV.W   @R1,R2                                  ;
18346 000035B6 3237              7597             CMP/GT  R3,R2                                   ;
18347 000035B8 8B02              7598             BF      INC_RSTMODECK300                        ;
18348                            7599     
18349                            7600     ;       --------0~180-------------
18350                            7601             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
18351 000035BA D006                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18352 000035BC 400B                   M           JSR     @R0                     ;
18353 000035BE 0009                   M           NOP                                     ;
18354                            7602     
18355 000035C0                   7603     INC_RSTMODECK300
18356                            7604     
18357 000035C0 E001              7605             MOV.B   #BIT0,R0                        ;
18358 000035C2 D105              7606             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18359 000035C4 2101              7607             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18360                            7608     
18361                            7609     ;       -----------------------------------------
18362                            7610     ;;;INC_RSTMODECK480
18363 000035C6 E201              7611             MOV.B   #BIT0,R2                        ;
18364                            7612             M_BRA   INC_RSTMODECK500                ;OKして!
18365 000035C8 A00A                   M           BRA     INC_RSTMODECK500
18366 000035CA 0009                   M           NOP
18367                            7613     
18368                            7614     
18369                                     ***** BEGIN-POOL *****
18370 000035CC 0708                       DATA FOR SOURCE-LINE 7594
18371 000035CE 0000                       ALIGNMENT CODE
18372 000035D0 00000000                   DATA FOR SOURCE-LINE 7595
18373 000035D4 00000000                   DATA FOR SOURCE-LINE 7601
18374 000035D8 00000000                   DATA FOR SOURCE-LINE 7606
18375                                     ***** END-POOL *****
18376 000035DC                   7615     INC_RSTMODECK490
18377 000035DC 0009              7616             NOP
18378 000035DE                   7617     INC_RSTMODECK499
18379 000035DE 200A              7618             XOR     R0,R0                           ;通常ｿﾌﾄを流して
18380 000035E0                   7619     INC_RSTMODECK500
18381                            7620     
18382                            7621             SUB_END                                                         ;
18383                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18384 000035E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18385                            7622             M_RTS                                                           ;
18386 000035E2 000B                   M           RTS                             ;RTSの後ろの
18387 000035E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18388                            7623     
18389                            7624     
18390                            7625     
18391                            7626             .EXPORT _INC_SPEC_RSTCHK
18392 000035E6                   7627     _INC_SPEC_RSTCHK
18393                            7628             SUB_START                                                       ;
18394 000035E6 4F22                   M           STS.L   PR,@-R15                ;[必要]
18395                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18396                            7629     
18397 000035E8 D105              7630             MOV.L   #(_PAR_INCMODE_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
18398 000035EA 6011              7631             MOV.W   @R1,R0                                                  ;
18399 000035EC 8801              7632             CMP/EQ  #1,R0                                                   ;
18400 000035EE 8B0B              7633             BF      INC_SPEC_RSTCK100                                       ;
18401                            7634     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   224
PROGRAM NAME =

18402 000035F0 D104              7635             MOV.L   #_INP_MODE,R1                                           ;
18403 000035F2 6011              7636             MOV.W   @R1,R0                                                  ;
18404 000035F4 C802              7637             TST     #_W1INC,R0                                              ;寸動?
18405                            7638             TST_BIT_OF INC_SPEC_RSTCK100                                    ;
18406 000035F6 8907                   M           BT      INC_SPEC_RSTCK100
18407                            7639     
18408 000035F8 E001              7640             MOV.B   #BIT0,R0
18409                            7641             M_BRA   INC_SPEC_RSTCK200
18410 000035FA A006                   M           BRA     INC_SPEC_RSTCK200
18411 000035FC 0009                   M           NOP
18412                            7642     
18413                                     ***** BEGIN-POOL *****
18414 000035FE 0000                       ALIGNMENT CODE
18415 00003600 00000000                   DATA FOR SOURCE-LINE 7630
18416 00003604 00000000                   DATA FOR SOURCE-LINE 7635
18417                                     ***** END-POOL *****
18418 00003608                   7643     INC_SPEC_RSTCK100:
18419 00003608 200A              7644             XOR     R0,R0
18420 0000360A                   7645     INC_SPEC_RSTCK200:
18421                            7646     
18422                            7647     
18423                            7648             SUB_END                                                         ;
18424                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18425 0000360A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18426                            7649             M_RTS                                                           ;
18427 0000360C 000B                   M           RTS                             ;RTSの後ろの
18428 0000360E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18429                            7650     
18430                            7651     ;       -------------- 2018-02-10 追加----------------
18431                            7652     ;       -------------- 2018-01-25 追加----------------
18432 00003610                   7653     _INC_RST_DATA_CHK:
18433                            7654             SUB_START                                                       ;
18434 00003610 4F22                   M           STS.L   PR,@-R15                ;[必要]
18435                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18436                            7655     
18437 00003612 D107              7656             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18438 00003614 6011              7657             MOV.W   @R1,R0                                                  ;
18439 00003616 C801              7658             TST             #_DMATH_CNTROT,R0                               ;
18440                            7659             TST_BIT_OF INC_RSTDAT_CHK230
18441 00003618 8906                   M           BT      INC_RSTDAT_CHK230
18442                            7660     
18443 0000361A D106              7661             MOV.L   #_SETX_UPAREA_PLS,R1                    ;//4;待機点
18444 0000361C 6212              7662             MOV.L   @R1,R2                                                  ;起点(Sn_1)
18445 0000361E 3723              7663             CMP/GE  R2,R7                                                   ;待機点(起点)<=現
                                          在位置:正常
18446 00003620 8902              7664             BT              INC_RSTDAT_CHK230
18447                            7665     
18448 00003622 D105              7666             MOV.L   #_LINK_1ROT_PLS,R1                              ;
18449 00003624 6412              7667             MOV.L   @R1,R4                                                  ;
18450 00003626 374C              7668             ADD             R4,R7                                                   ;
18451 00003628                   7669     INC_RSTDAT_CHK230
18452                            7670     
18453                            7671             SUB_END                                                         ;
18454                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18455 00003628 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18456                            7672             M_RTS                                                           ;
18457 0000362A 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   225
PROGRAM NAME =

18458 0000362C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18459                            7673     
18460                            7674     
18461                            7675     ;       *******************************************
18462                            7676     ;       ***                                     ***
18463                            7677     ;       ***             EPｾﾝｻﾁｪｯｸ               ***
18464                            7678     ;       ***                                     ***
18465                            7679     ;       *******************************************
18466                            7680             .INCLUDE        "ssa_epchk.inc"         ;//
18467                               1 I1  ;       ***********************************
18468                               2 I1  ;       ***                             ***
18469                               3 I1  ;       ***     EPｾﾝｻﾁｪｯｸ               ***
18470                               4 I1  ;       ***                             ***
18471                               5 I1  ;       ***********************************
18472                               6 I1  ;       電源投入時
18473                               7 I1  ;       位置づけはｾﾙﾌﾁｪｯｸだが,独立した機能
18474                               8 I1  ;       ANTI-ONしてから
18475                               9 I1  
18476                              10 I1          .EXPORT         _EPSEN_CLR
18477                              11 I1  
18478                              12 I1          .GLOBAL         _PAR_EPCHK_SEL          ;5 0:EPｾﾝｻﾁｪｯｸしない 1:ﾁｪｯｸする
18479                              13 I1          .GLOBAL         _PAR_EP1STR_DLYTM       ;6 開始遅延時間 ms
18480                              14 I1          .GLOBAL         _PAR_EP2FVINOF_ERTM     ;7 片方ﾘﾚｰOF(0)確認時間兼ﾀｲﾑｱｳﾄ
18481                              15 I1          .GLOBAL         _PAR_EP3BRKON_DLYTM     ;8 ﾌﾞﾚｰｷON出力遅延
18482                              16 I1          .GLOBAL         _PAR_EP4EPINOF_ERTM     ;9 EPｾﾝｻoff確認時間兼ﾀｲﾑｱｳﾄ
18483                              17 I1          .GLOBAL         _PAR_EP5RSTON_DLYTM     ;10 EPｾﾝｻﾘｾｯﾄON遅延時間
18484                              18 I1          .GLOBAL         _PAR_EP6RSTON_JGTM      ;1 ﾘｾｯﾄON時間兼判定時間
18485                              19 I1          .GLOBAL         _PAR_EP6RSTOF_INTTM     ;2 OFFｲﾝﾀ-ﾊﾞﾙ時間
18486                              20 I1          .GLOBAL         _PAR_EP6RST_RETRY       ;3 ﾘｾｯﾄﾘﾄﾗｲ回数
18487                              21 I1          .GLOBAL         _PAR_EP7AB_DLYTM        ;4 CPUA-->CPUBﾃｽﾄ遅延時間
18488                              22 I1          .GLOBAL         _PAR_EP7END_DLYTM       ;5 CPUB-->終了遅延時間
18489                              23 I1  
18490                              24 I1  
18491                              25 I1          .MACRO  STEP_NEXT MEM
18492                              26 I1          MOV.L   #\MEM,R1        ;
18493                              27 I1          MOV.W   @R1,R0          ;
18494                              28 I1          ADD     #1,R0           ;
18495                              29 I1          MOV.W   R0,@R1          ;
18496                              30 I1          .ENDM
18497                              31 I1  
18498                                 I1  ***** BEGIN-POOL *****
18499 0000362E 0000                   I1  ALIGNMENT CODE
18500 00003630 00000000               I1  DATA FOR SOURCE-LINE 7656
18501 00003634 00000000               I1  DATA FOR SOURCE-LINE 7661
18502 00003638 00000000               I1  DATA FOR SOURCE-LINE 7666
18503                                 I1  ***** END-POOL *****
18504 0000363C                     32 I1          .ALIGN  4                               ;
18505 0000363C                     33 I1  _EP_JMP_TBL
18506                              34 I1  
18507 0000363C 00000000            35 I1          .DATA.L         EP_STEP_USE_RY_DATSET_A ;0
18508 00003640 00000000            36 I1          .DATA.L         EP_STEP_USE_RY_A        ;1 片効有効RY-ON,片効きｾﾝｻ確認
18509 00003644 00000000            37 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;2
18510 00003648 00000000            38 I1          .DATA.L         EP_STEP_VALVON_COM      ;3 ﾊﾞﾙﾌﾞON,EPｾﾝｻ確認
18511 0000364C 00000000            39 I1          .DATA.L         EP_STEP_EPSENSIG_A      ;4
18512 00003650 00000000            40 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;5
18513 00003654 00000000            41 I1          .DATA.L         EP_STEP_RESETON_COM     ;6
18514 00003658 00000000            42 I1          .DATA.L         EP_STEP_ENDSIG_A        ;7
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   226
PROGRAM NAME =

18515 0000365C 00000000            43 I1          .DATA.L         EP_STEP_USE_RY_DATSET_B ;8
18516 00003660 00000000            44 I1          .DATA.L         EP_STEP_USE_RY_B        ;9
18517 00003664 00000000            45 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;10
18518 00003668 00000000            46 I1          .DATA.L         EP_STEP_VALVON_COM      ;11
18519 0000366C 00000000            47 I1          .DATA.L         EP_STEP_EPSENSIG_B      ;12
18520 00003670 00000000            48 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;13
18521 00003674 00000000            49 I1          .DATA.L         EP_STEP_RESETON_COM     ;14
18522 00003678 00000000            50 I1          .DATA.L         EP_STEP_ENDSIG_B        ;15
18523 0000367C 00000000            51 I1          .DATA.L         EP_STEP_XX              ;16
18524 00003680 00000000            52 I1          .DATA.L         EP_STEP_XX              ;17
18525 00003684 00000000            53 I1          .DATA.L         EP_STEP_XX              ;18
18526 00003688 00000000            54 I1          .DATA.L         EP_STEP_XX              ;19
18527 0000368C 00000000            55 I1          .DATA.L         EP_STEP_XX              ;20
18528 00003690 00000000            56 I1          .DATA.L         EP_STEP_XX              ;21
18529 00003694 00000000            57 I1          .DATA.L         EP_STEP_XX              ;22
18530 00003698 00000000            58 I1          .DATA.L         EP_STEP_XX              ;23
18531 0000369C 00000000            59 I1          .DATA.L         EP_STEP_XX              ;24
18532 000036A0 00000000            60 I1          .DATA.L         EP_STEP_XX              ;25
18533 000036A4 00000000            61 I1          .DATA.L         EP_STEP_XX              ;26
18534 000036A8 00000000            62 I1          .DATA.L         EP_STEP_XX              ;27
18535 000036AC 00000000            63 I1          .DATA.L         EP_STEP_XX              ;28
18536 000036B0 00000000            64 I1          .DATA.L         EP_STEP_XX              ;29
18537 000036B4 00000000            65 I1          .DATA.L         EP_STEP_XX              ;30
18538 000036B8 00000000            66 I1          .DATA.L         EP_STEP_XX              ;31
18539 000036BC 00000000            67 I1          .DATA.L         EP_STEP_XX              ;32
18540                              68 I1  
18541                              69 I1  
18542                              70 I1  
18543 000036C0                     71 I1          .ALIGN  4                               ;
18544                              72 I1          .EXPORT _EP_SENCER_CHECK
18545 000036C0                     73 I1  _EP_SENCER_CHECK
18546                              74 I1          SUB_START
18547 000036C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18548                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18549                              75 I1  
18550 000036C2 D105                76 I1          MOV.L   #_EPCHK_FLG,R1                  ;
18551 000036C4 6011                77 I1          MOV.W   @R1,R0                          ;
18552 000036C6 2008                78 I1          TST     R0,R0                           ;
18553                              79 I1          TST_BIT_ON EP_SENCER_CK050              ;
18554 000036C8 8B36                   M           BF      EP_SENCER_CK050
18555                              80 I1  
18556 000036CA D104                81 I1          MOV.L   #_EPCHK_COM,R1                  ;
18557 000036CC 6011                82 I1          MOV.W   @R1,R0                          ;
18558 000036CE 2008                83 I1          TST     R0,R0                           ;
18559                              84 I1          TST_BIT_ON EP_SENCER_CK020              ;
18560 000036D0 8B06                   M           BF      EP_SENCER_CK020
18561                              85 I1          M_BRA   EP_SENCER_CKEXT                 ;IDEL
18562 000036D2 A1F8                   M           BRA     EP_SENCER_CKEXT
18563 000036D4 0009                   M           NOP
18564                              86 I1  
18565                              87 I1  ;       --------- 開始処理-----------
18566                                 I1  ***** BEGIN-POOL *****
18567 000036D6 0000                   I1  ALIGNMENT CODE
18568 000036D8 00000000               I1  DATA FOR SOURCE-LINE 76
18569 000036DC 00000000               I1  DATA FOR SOURCE-LINE 81
18570                                 I1  ***** END-POOL *****
18571 000036E0                     88 I1  EP_SENCER_CK020:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   227
PROGRAM NAME =

18572                              89 I1  
18573 000036E0 D102                90 I1          MOV.L   #(_PAR_EPCHK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1      ;
18574 000036E2 6011                91 I1          MOV.W   @R1,R0                                                  ;
18575 000036E4 8801                92 I1          CMP/EQ  #1,R0                                                   ;
18576 000036E6 8903                93 I1          BT      EP_SENCER_CK030                                         ;
18577                              94 I1          M_BRA   EP_SENCER_CK800                                         ;正常終了
18578 000036E8 A1C8                   M           BRA     EP_SENCER_CK800
18579 000036EA 0009                   M           NOP
18580                              95 I1  
18581                              96 I1  
18582                                 I1  ***** BEGIN-POOL *****
18583 000036EC 00000000               I1  DATA FOR SOURCE-LINE 90
18584                                 I1  ***** END-POOL *****
18585 000036F0                     97 I1  EP_SENCER_CK030:
18586                              98 I1  
18587                              99 I1          FAR_JSR #_EP_SENCHK_STOPCONF1,R0        ;
18588 000036F0 D004                   M           MOV.L   #_EP_SENCHK_STOPCONF1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18589 000036F2 400B                   M           JSR     @R0                     ;
18590 000036F4 0009                   M           NOP                                     ;
18591 000036F6 2008               100 I1          TST     R0,R0                           ;
18592                             101 I1          TST_BIT_OF EP_SENCER_CK040              ;
18593 000036F8 8908                   M           BT      EP_SENCER_CK040
18594                             102 I1  
18595 000036FA 200A               103 I1          XOR     R0,R0
18596 000036FC D102               104 I1          MOV.L   #_EPCHK_STS,R1                  ;
18597 000036FE 2101               105 I1          MOV.W   R0,@R1                          ;
18598                             106 I1          M_BRA   EP_SENCER_CK900                 ;
18599 00003700 A1CA                   M           BRA     EP_SENCER_CK900
18600 00003702 0009                   M           NOP
18601                             107 I1  
18602                                 I1  ***** BEGIN-POOL *****
18603 00003704 00000000               I1  DATA FOR SOURCE-LINE 99
18604 00003708 00000000               I1  DATA FOR SOURCE-LINE 104
18605                                 I1  ***** END-POOL *****
18606 0000370C                    108 I1  EP_SENCER_CK040:
18607 0000370C E001               109 I1          MOV.B   #BIT0,R0                ;
18608 0000370E D106               110 I1          MOV.L   #_EPCHK_FLG,R1          ;
18609 00003710 2101               111 I1          MOV.W   R0,@R1                  ;
18610                             112 I1  
18611 00003712 200A               113 I1          XOR     R0,R0                   ;
18612 00003714 D105               114 I1          MOV.L   #_EPCHK_STEP,R1         ;
18613 00003716 2101               115 I1          MOV.W   R0,@R1                  ;
18614                             116 I1  
18615 00003718 E001               117 I1          MOV.B   #BIT0,R0                ;
18616 0000371A D105               118 I1          MOV.L   #_EPCHK_STS,R1          ;
18617 0000371C 2101               119 I1          MOV.W   R0,@R1                  ;
18618                             120 I1  
18619                             121 I1  ;       ---------------------------
18620 0000371E 222A               122 I1          XOR     R2,R2
18621 00003720 D104               123 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
18622 00003722 2121               124 I1          MOV.W   R2,@R1                                                  ;
18623                             125 I1  
18624                             126 I1          M_BRA   EP_SENCER_CKEND         ;
18625 00003724 A1CB                   M           BRA     EP_SENCER_CKEND
18626 00003726 0009                   M           NOP
18627                             127 I1  
18628                             128 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   228
PROGRAM NAME =

18629                                 I1  ***** BEGIN-POOL *****
18630 00003728 00000000               I1  DATA FOR SOURCE-LINE 110
18631 0000372C 00000000               I1  DATA FOR SOURCE-LINE 114
18632 00003730 00000000               I1  DATA FOR SOURCE-LINE 118
18633 00003734 00000000               I1  DATA FOR SOURCE-LINE 123
18634                                 I1  ***** END-POOL *****
18635 00003738                    129 I1  EP_SENCER_CK050:
18636 00003738 C880               130 I1          TST     #BIT7,R0                ;
18637                             131 I1          TST_BIT_OF EP_SENCER_CK100      ;
18638 0000373A 8901                   M           BT      EP_SENCER_CK100
18639                             132 I1          M_BRA   EP_SENCER_CKEND ;
18640 0000373C A1BF                   M           BRA     EP_SENCER_CKEND
18641 0000373E 0009                   M           NOP
18642                             133 I1  
18643                             134 I1  ;       ---------- 処理中---------------
18644 00003740                    135 I1  EP_SENCER_CK100:
18645                             136 I1  
18646                             137 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_DLY_TIM,WKREG1=R1,WKREG2=R4 ;
18647 00003740 D106                   M           MOV.L   #_EPCHK_DLY_TIM,R1              ;SORCE ADRESS SET
18648 00003742 6411                   M           MOV.W   @R1,R4          ;
18649 00003744 2448                   M           TST     R4,R4                   ;
18650 00003746 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
18651 00003748 4410                   M           DT      R4                              ;
18652 0000374A 2141                   M           MOV.W   R4,@R1          ;STORE
18653 0000374C                        M   JMP_0100005:
18654                             138 I1  
18655                             139 I1  ;       -------- 中断条件--------------------
18656                             140 I1          FAR_JSR #_EP_SENCHK_STOPCONF2,R0        ;
18657 0000374C D004                   M           MOV.L   #_EP_SENCHK_STOPCONF2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18658 0000374E 400B                   M           JSR     @R0                     ;
18659 00003750 0009                   M           NOP                                     ;
18660 00003752 2008               141 I1          TST     R0,R0                           ;
18661                             142 I1          TST_BIT_OF EP_SENCER_CK150              ;
18662 00003754 8906                   M           BT      EP_SENCER_CK150
18663                             143 I1          M_BRA   EP_SENCER_CK900                 ;異常
18664 00003756 A19F                   M           BRA     EP_SENCER_CK900
18665 00003758 0009                   M           NOP
18666                             144 I1  
18667                                 I1  ***** BEGIN-POOL *****
18668 0000375A 0000                   I1  ALIGNMENT CODE
18669 0000375C 00000000               I1  DATA FOR SOURCE-LINE 137
18670 00003760 00000000               I1  DATA FOR SOURCE-LINE 140
18671                                 I1  ***** END-POOL *****
18672 00003764                    145 I1  EP_SENCER_CK150:
18673                             146 I1  
18674                             147 I1  ;       -----------遅延時間処理--------
18675 00003764 D102               148 I1          MOV.L   #_EPCHK_DLY_TIM,R1              ;
18676 00003766 6011               149 I1          MOV.W   @R1,R0                          ;
18677 00003768 2008               150 I1          TST     R0,R0                           ;
18678                             151 I1          TST_BIT_OF EP_SENCER_CK200              ;
18679 0000376A 8903                   M           BT      EP_SENCER_CK200
18680                             152 I1          M_BRA   EP_SENCER_CKEND         ;
18681 0000376C A1A7                   M           BRA     EP_SENCER_CKEND
18682 0000376E 0009                   M           NOP
18683                             153 I1  
18684                             154 I1  ;       ---------- 遅延時間中は異常ﾀｲﾏｶｳﾝﾄしない-----------
18685                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   229
PROGRAM NAME =

18686 00003770 00000000               I1  DATA FOR SOURCE-LINE 148
18687                                 I1  ***** END-POOL *****
18688 00003774                    155 I1  EP_SENCER_CK200:
18689                             156 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_ERR_TIM,WKREG1=R1,WKREG2=R4 ;
18690 00003774 D107                   M           MOV.L   #_EPCHK_ERR_TIM,R1              ;SORCE ADRESS SET
18691 00003776 6411                   M           MOV.W   @R1,R4          ;
18692 00003778 2448                   M           TST     R4,R4                   ;
18693 0000377A 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
18694 0000377C 4410                   M           DT      R4                              ;
18695 0000377E 2141                   M           MOV.W   R4,@R1          ;STORE
18696 00003780                        M   JMP_0100006:
18697                             157 I1  
18698 00003780 D105               158 I1          MOV.L   #_EPCHK_STEP,R1                         ;
18699 00003782 6011               159 I1          MOV.W   @R1,R0                                  ;
18700 00003784 C91F               160 I1          AND     #H'1F,R0                                ;MAX 16ｽﾃｯﾌﾟ
18701 00003786 4008               161 I1          SHLL2   R0                                      ;
18702 00003788 D104               162 I1          MOV.L   #_EP_JMP_TBL,R1                         ;
18703 0000378A 310C               163 I1          ADD     R0,R1                                   ;
18704 0000378C 6012               164 I1          MOV.L   @R1,R0                                  ;
18705                             165 I1          REG_JMP WKREG=R0                                ;
18706 0000378E 402B                   M           JMP     @R0
18707 00003790 0009                   M           NOP
18708                             166 I1  
18709                             167 I1  
18710                             168 I1  ;       ---------------------------------------------------
18711                             169 I1  ;       ---     遅延ﾀｲﾏ,有効ﾘﾚｰ,異常ﾀｲﾏｾｯﾄ[STEP0]       ---
18712                             170 I1  ;       ---------------------------------------------------
18713                                 I1  ***** BEGIN-POOL *****
18714 00003792 0000                   I1  ALIGNMENT CODE
18715 00003794 00000000               I1  DATA FOR SOURCE-LINE 156
18716 00003798 00000000               I1  DATA FOR SOURCE-LINE 158
18717 0000379C 00000000               I1  DATA FOR SOURCE-LINE 162
18718                                 I1  ***** END-POOL *****
18719 000037A0                    171 I1  EP_STEP_USE_RY_DATSET_A
18720                             172 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18721 000037A0 D102               173 I1          MOV.L   #(_PAR_EP1STR_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;開始遅延
18722 000037A2 6211               174 I1          MOV.W   @R1,R2                                                  ;
18723 000037A4 D102               175 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
18724 000037A6 2121               176 I1          MOV.W   R2,@R1                                                  ;
18725                             177 I1          M_BRA   EP_STEP_USE_RY_DATSETCOM
18726 000037A8 A008                   M           BRA     EP_STEP_USE_RY_DATSETCOM
18727 000037AA 0009                   M           NOP
18728                             178 I1  
18729                                 I1  ***** BEGIN-POOL *****
18730 000037AC 00000000               I1  DATA FOR SOURCE-LINE 173
18731 000037B0 00000000               I1  DATA FOR SOURCE-LINE 175
18732                                 I1  ***** END-POOL *****
18733 000037B4                    179 I1  EP_STEP_USE_RY_DATSET_B
18734                             180 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18735 000037B4 D106               181 I1          MOV.L   #(_PAR_EP7AB_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;開始遅延
18736 000037B6 6211               182 I1          MOV.W   @R1,R2                                                  ;
18737 000037B8 D106               183 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
18738 000037BA 2121               184 I1          MOV.W   R2,@R1                                                  ;
18739                             185 I1  
18740 000037BC                    186 I1  EP_STEP_USE_RY_DATSETCOM
18741                             187 I1  
18742                             188 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   230
PROGRAM NAME =

18743 000037BC D106               189 I1          MOV.L   #(_PAR_EP2FVINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;片方ﾘﾚｰOF(0)確認
                                          時間兼ﾀｲﾑｱｳﾄ
18744 000037BE 6211               190 I1          MOV.W   @R1,R2                                                  ;
18745 000037C0 D106               191 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
18746 000037C2 2121               192 I1          MOV.W   R2,@R1                                                  ;
18747                             193 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
18748 000037C4 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
18749 000037C6 6011                   M           MOV.W   @R1,R0          ;
18750 000037C8 7001                   M           ADD     #1,R0           ;
18751 000037CA 2101                   M           MOV.W   R0,@R1          ;
18752                             194 I1          M_BRA   EP_SENCER_CKEND                                         ;
18753 000037CC A177                   M           BRA     EP_SENCER_CKEND
18754 000037CE 0009                   M           NOP
18755                             195 I1  
18756                             196 I1  
18757                             197 I1  ;       ---------------------------------------------------
18758                             198 I1  ;       ---     VF-RYの片効ｱﾝｻ待ち，異常CHK[STEP1]      ---
18759                             199 I1  ;       ---------------------------------------------------
18760                             200 I1  ;       ﾀｲﾑｱｯﾌﾟ前に入力を確認し、入力が"L"なら即遷移する,時間内に"L"にならなければ異常
18761                             201 I1  ;       ----------- A:ｽﾃｯﾌﾟ1,B:ｽﾃｯﾌﾟ1----------
18762                                 I1  ***** BEGIN-POOL *****
18763 000037D0 00000000               I1  DATA FOR SOURCE-LINE 181
18764 000037D4 00000000               I1  DATA FOR SOURCE-LINE 183
18765 000037D8 00000000               I1  DATA FOR SOURCE-LINE 189
18766 000037DC 00000000               I1  DATA FOR SOURCE-LINE 191
18767 000037E0 00000000               I1  DATA FOR SOURCE-LINE 193
18768                                 I1  ***** END-POOL *****
18769 000037E4                    202 I1  EP_STEP_USE_RY_A
18770                             203 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT5),WKRG1=R1,WKRG2=R4      ;BIT5=1:A
                                          片効要求
18771 000037E4 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
18772 000037E6 6011                   M           MOV.W   @R1,R0          ;
18773 000037E8 9403                   M           MOV.W   #(BIT5),R4              ;
18774 000037EA 204B                   M           OR      R4,R0           ;
18775 000037EC 2101                   M           MOV.W   R0,@R1          ;
18776                             204 I1          M_BRA   EP_STEP_USE_RY_COM              ;
18777 000037EE A008                   M           BRA     EP_STEP_USE_RY_COM
18778 000037F0 0009                   M           NOP
18779                             205 I1  
18780                             206 I1  
18781                                 I1  ***** BEGIN-POOL *****
18782 000037F2 0020                   I1  DATA FOR SOURCE-LINE 203
18783 000037F4 00000000               I1  DATA FOR SOURCE-LINE 203
18784                                 I1  ***** END-POOL *****
18785 000037F8                    207 I1  EP_STEP_USE_RY_B
18786                             208 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4      ;BIT6=A片
                                          効要求
18787 000037F8 D108                   M           MOV.L   #_EPCHK_STS,R1          ;
18788 000037FA 6011                   M           MOV.W   @R1,R0          ;
18789 000037FC 940C                   M           MOV.W   #(BIT6),R4              ;
18790 000037FE 204B                   M           OR      R4,R0           ;
18791 00003800 2101                   M           MOV.W   R0,@R1          ;
18792 00003802                    209 I1  EP_STEP_USE_RY_COM
18793                             210 I1  
18794                             211 I1          FAR_JSR #_VFRY_IN_CHK,R0                                                ;ANS R0=0(
                                          OFF) R0=BIT14(ON)
18795 00003802 D007                   M           MOV.L   #_VFRY_IN_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   231
PROGRAM NAME =

18796 00003804 400B                   M           JSR     @R0                     ;
18797 00003806 0009                   M           NOP                                     ;
18798                             212 I1  
18799 00003808 2008               213 I1          TST     R0,R0                                                           ;
18800                             214 I1          TST_BIT_ON EP_STEP_USE_RY_COM_150                                       ;
18801 0000380A 8B0D                   M           BF      EP_STEP_USE_RY_COM_150
18802                             215 I1  
18803                             216 I1  ;       ------- OFF発見 ------
18804                             217 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18805 0000380C D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
18806 0000380E 6011                   M           MOV.W   @R1,R0          ;
18807 00003810 7001                   M           ADD     #1,R0           ;
18808 00003812 2101                   M           MOV.W   R0,@R1          ;
18809                             218 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18810 00003814 A153                   M           BRA     EP_SENCER_CKEND
18811 00003816 0009                   M           NOP
18812                             219 I1  
18813                                 I1  ***** BEGIN-POOL *****
18814 00003818 0040                   I1  DATA FOR SOURCE-LINE 208
18815 0000381A 0000                   I1  ALIGNMENT CODE
18816 0000381C 00000000               I1  DATA FOR SOURCE-LINE 208
18817 00003820 00000000               I1  DATA FOR SOURCE-LINE 211
18818 00003824 00000000               I1  DATA FOR SOURCE-LINE 217
18819                                 I1  ***** END-POOL *****
18820 00003828                    220 I1  EP_STEP_USE_RY_COM_150                                                          ;
18821 00003828 D105               221 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
18822 0000382A 6011               222 I1          MOV.W   @R1,R0                                                          ;
18823 0000382C 2008               223 I1          TST     R0,R0                                                           ;
18824                             224 I1          TST_BIT_ON EP_STEP_USE_RY_COM_190                                       ;
18825 0000382E 8B0B                   M           BF      EP_STEP_USE_RY_COM_190
18826                             225 I1  
18827                             226 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT2),WKRG1=R1,WKRG2=R4      ;ﾌｨｰﾄﾞﾊﾞｯｸ
                                          失敗
18828 00003830 D104                   M           MOV.L   #_EPCHK_STS,R1          ;
18829 00003832 6011                   M           MOV.W   @R1,R0          ;
18830 00003834 9403                   M           MOV.W   #(BIT2),R4              ;
18831 00003836 204B                   M           OR      R4,R0           ;
18832 00003838 2101                   M           MOV.W   R0,@R1          ;
18833                             227 I1          M_BRA   EP_SENCER_CK900                                                 ;
18834 0000383A A12D                   M           BRA     EP_SENCER_CK900
18835 0000383C 0009                   M           NOP
18836                             228 I1  
18837                                 I1  ***** BEGIN-POOL *****
18838 0000383E 0004                   I1  DATA FOR SOURCE-LINE 226
18839 00003840 00000000               I1  DATA FOR SOURCE-LINE 221
18840 00003844 00000000               I1  DATA FOR SOURCE-LINE 226
18841                                 I1  ***** END-POOL *****
18842 00003848                    229 I1  EP_STEP_USE_RY_COM_190                                                          ;
18843                             230 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18844 00003848 A139                   M           BRA     EP_SENCER_CKEND
18845 0000384A 0009                   M           NOP
18846                             231 I1  
18847                             232 I1  
18848                             233 I1  
18849                             234 I1  ;       ---------------------------------------------------
18850                             235 I1  ;       ---     遅延ﾀｲﾏ,ﾊﾞﾙﾌﾞON,異常ﾀｲﾏｾｯﾄ[STEP2]       ---
18851                             236 I1  ;       ---------------------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   232
PROGRAM NAME =

18852 0000384C                    237 I1  EP_STEP_VALVON_DATSET
18853                             238 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18854 0000384C D106               239 I1          MOV.L   #(_PAR_EP3BRKON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾌﾞﾚｰｷON出
                                          力遅延
18855 0000384E 6211               240 I1          MOV.W   @R1,R2                                                          ;
18856 00003850 D106               241 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
18857 00003852 2121               242 I1          MOV.W   R2,@R1                                                          ;
18858                             243 I1  
18859                             244 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
18860 00003854 D106               245 I1          MOV.L   #(_PAR_EP4EPINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;ﾊﾞﾙﾌﾞON時間兼ﾀｲﾑｱ
                                          ｳﾄ時間
18861 00003856 6211               246 I1          MOV.W   @R1,R2                                                  ;
18862 00003858 D106               247 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
18863 0000385A 2121               248 I1          MOV.W   R2,@R1                                                  ;
18864                             249 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
18865 0000385C D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
18866 0000385E 6011                   M           MOV.W   @R1,R0          ;
18867 00003860 7001                   M           ADD     #1,R0           ;
18868 00003862 2101                   M           MOV.W   R0,@R1          ;
18869                             250 I1          M_BRA   EP_SENCER_CKEND                                         ;
18870 00003864 A12B                   M           BRA     EP_SENCER_CKEND
18871 00003866 0009                   M           NOP
18872                             251 I1  
18873                             252 I1  
18874                             253 I1  ;       ---------------------------------------------------
18875                             254 I1  ;       ---     ﾊﾞﾙﾌﾞONのｱﾝｻEP待ち，異常CHK[STEP3]      ---
18876                             255 I1  ;       ---------------------------------------------------
18877                             256 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"L"なら遷移,"H"なら異常
18878                             257 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
18879                                 I1  ***** BEGIN-POOL *****
18880 00003868 00000000               I1  DATA FOR SOURCE-LINE 239
18881 0000386C 00000000               I1  DATA FOR SOURCE-LINE 241
18882 00003870 00000000               I1  DATA FOR SOURCE-LINE 245
18883 00003874 00000000               I1  DATA FOR SOURCE-LINE 247
18884 00003878 00000000               I1  DATA FOR SOURCE-LINE 249
18885                                 I1  ***** END-POOL *****
18886 0000387C                    258 I1  EP_STEP_VALVON_COM
18887 0000387C E001               259 I1          MOV.B   #(BIT0),R0                      ;ﾌﾞﾚｰｷ解除
18888 0000387E D10A               260 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
18889 00003880 2101               261 I1          MOV.W   R0,@R1                          ;
18890                             262 I1  
18891                             263 I1  
18892 00003882 D10A               264 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
18893 00003884 6011               265 I1          MOV.W   @R1,R0                                                          ;
18894 00003886 2008               266 I1          TST     R0,R0                                                           ;
18895                             267 I1          TST_BIT_ON EP_STEP_VALV_COM_190                                 ;
18896 00003888 8B20                   M           BF      EP_STEP_VALV_COM_190
18897                             268 I1  
18898                             269 I1  ;       ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ
18899 0000388A 200A               270 I1          XOR     R0,R0                           ;
18900 0000388C D106               271 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
18901 0000388E 2101               272 I1          MOV.W   R0,@R1                          ;
18902                             273 I1  
18903                             274 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
18904 00003890 D007                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18905 00003892 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   233
PROGRAM NAME =

18906 00003894 0009                   M           NOP                                     ;
18907                             275 I1  
18908 00003896 2008               276 I1          TST     R0,R0                                                           ;
18909                             277 I1          TST_BIT_ON EP_STEP_VALV_COM_150                                 ;
18910 00003898 8B0E                   M           BF      EP_STEP_VALV_COM_150
18911                             278 I1  
18912                             279 I1  ;       ------- OFF発見 ------
18913                             280 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18914 0000389A D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
18915 0000389C 6011                   M           MOV.W   @R1,R0          ;
18916 0000389E 7001                   M           ADD     #1,R0           ;
18917 000038A0 2101                   M           MOV.W   R0,@R1          ;
18918                             281 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18919 000038A2 A10C                   M           BRA     EP_SENCER_CKEND
18920 000038A4 0009                   M           NOP
18921                             282 I1  
18922                                 I1  ***** BEGIN-POOL *****
18923 000038A6 0000                   I1  ALIGNMENT CODE
18924 000038A8 00000000               I1  DATA FOR SOURCE-LINE 260,271
18925 000038AC 00000000               I1  DATA FOR SOURCE-LINE 264
18926 000038B0 00000000               I1  DATA FOR SOURCE-LINE 274
18927 000038B4 00000000               I1  DATA FOR SOURCE-LINE 280
18928                                 I1  ***** END-POOL *****
18929 000038B8                    283 I1  EP_STEP_VALV_COM_150                                                            ;
18930                             284 I1  
18931                             285 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻ失敗
18932 000038B8 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
18933 000038BA 6011                   M           MOV.W   @R1,R0          ;
18934 000038BC 9403                   M           MOV.W   #(BIT3),R4              ;
18935 000038BE 204B                   M           OR      R4,R0           ;
18936 000038C0 2101                   M           MOV.W   R0,@R1          ;
18937                             286 I1          M_BRA   EP_SENCER_CK900                                                 ;
18938 000038C2 A0E9                   M           BRA     EP_SENCER_CK900
18939 000038C4 0009                   M           NOP
18940                             287 I1  
18941                                 I1  ***** BEGIN-POOL *****
18942 000038C6 0008                   I1  DATA FOR SOURCE-LINE 285
18943 000038C8 00000000               I1  DATA FOR SOURCE-LINE 285
18944                                 I1  ***** END-POOL *****
18945 000038CC                    288 I1  EP_STEP_VALV_COM_190
18946                             289 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18947 000038CC A0F7                   M           BRA     EP_SENCER_CKEND
18948 000038CE 0009                   M           NOP
18949                             290 I1  
18950                             291 I1  
18951                             292 I1  
18952                             293 I1  ;       ---------------------------------------------------
18953                             294 I1  ;       ---     EP確認完了[STEP4]                       ---
18954                             295 I1  ;       ---------------------------------------------------
18955 000038D0                    296 I1  EP_STEP_EPSENSIG_A:
18956                             297 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4      ;
18957 000038D0 D107                   M           MOV.L   #_EPCHK_STS,R1          ;
18958 000038D2 6011                   M           MOV.W   @R1,R0          ;
18959 000038D4 940A                   M           MOV.W   #(BIT7),R4              ;
18960 000038D6 204B                   M           OR      R4,R0           ;
18961 000038D8 2101                   M           MOV.W   R0,@R1          ;
18962 000038DA 200A               298 I1          XOR     R0,R0                                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   234
PROGRAM NAME =

18963 000038DC D105               299 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;STEP5の前
                                          に行う
18964 000038DE 2101               300 I1          MOV.W   R0,@R1                                                          ;
18965                             301 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18966 000038E0 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
18967 000038E2 6011                   M           MOV.W   @R1,R0          ;
18968 000038E4 7001                   M           ADD     #1,R0           ;
18969 000038E6 2101                   M           MOV.W   R0,@R1          ;
18970                             302 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18971 000038E8 A0E9                   M           BRA     EP_SENCER_CKEND
18972 000038EA 0009                   M           NOP
18973                             303 I1  
18974                                 I1  ***** BEGIN-POOL *****
18975 000038EC 0080                   I1  DATA FOR SOURCE-LINE 297
18976 000038EE 0000                   I1  ALIGNMENT CODE
18977 000038F0 00000000               I1  DATA FOR SOURCE-LINE 297
18978 000038F4 00000000               I1  DATA FOR SOURCE-LINE 299
18979 000038F8 00000000               I1  DATA FOR SOURCE-LINE 301
18980                                 I1  ***** END-POOL *****
18981 000038FC                    304 I1  EP_STEP_EPSENSIG_B:
18982                             305 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT8),WKRG1=R1,WKRG2=R4      ;
18983 000038FC D107                   M           MOV.L   #_EPCHK_STS,R1          ;
18984 000038FE 6011                   M           MOV.W   @R1,R0          ;
18985 00003900 940A                   M           MOV.W   #(BIT8),R4              ;
18986 00003902 204B                   M           OR      R4,R0           ;
18987 00003904 2101                   M           MOV.W   R0,@R1          ;
18988 00003906 200A               306 I1          XOR     R0,R0                                                           ;STEP5の前
                                          に行う
18989 00003908 D105               307 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;
18990 0000390A 2101               308 I1          MOV.W   R0,@R1                                                          ;
18991                             309 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18992 0000390C D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
18993 0000390E 6011                   M           MOV.W   @R1,R0          ;
18994 00003910 7001                   M           ADD     #1,R0           ;
18995 00003912 2101                   M           MOV.W   R0,@R1          ;
18996                             310 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18997 00003914 A0D3                   M           BRA     EP_SENCER_CKEND
18998 00003916 0009                   M           NOP
18999                             311 I1  
19000                             312 I1  
19001                             313 I1  ;       ---------------------------------------------------
19002                             314 I1  ;       ---     EPﾘｾｯﾄON遅延,ﾀｲﾑｱｳﾄ設定[STEP5]          ---
19003                             315 I1  ;       ---------------------------------------------------
19004                                 I1  ***** BEGIN-POOL *****
19005 00003918 0100                   I1  DATA FOR SOURCE-LINE 305
19006 0000391A 0000                   I1  ALIGNMENT CODE
19007 0000391C 00000000               I1  DATA FOR SOURCE-LINE 305
19008 00003920 00000000               I1  DATA FOR SOURCE-LINE 307
19009 00003924 00000000               I1  DATA FOR SOURCE-LINE 309
19010                                 I1  ***** END-POOL *****
19011 00003928                    316 I1  EP_STEP_RESET_DATSET1:
19012 00003928 D104               317 I1          MOV.L   #_EPCHK_RETRY_CNT,R1            ;
19013 0000392A 6011               318 I1          MOV.W   @R1,R0                          ;
19014 0000392C 2008               319 I1          TST     R0,R0                           ;
19015                             320 I1          TST_BIT_ON EP_STEP_RESET_100            ;ﾘﾄﾗｲ
19016 0000392E 8B0B                   M           BF      EP_STEP_RESET_100
19017                             321 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   235
PROGRAM NAME =

19018                             322 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19019 00003930 D103               323 I1          MOV.L   #(_PAR_EP5RSTON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
                                          延時間
19020 00003932 6211               324 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
19021 00003934 D103               325 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19022 00003936 2121               326 I1          MOV.W   R2,@R1                                                          ;
19023                             327 I1          M_BRA   EP_STEP_RESET_DATSET_COM                                        ;
19024 00003938 A00A                   M           BRA     EP_STEP_RESET_DATSET_COM
19025 0000393A 0009                   M           NOP
19026                             328 I1  
19027                                 I1  ***** BEGIN-POOL *****
19028 0000393C 00000000               I1  DATA FOR SOURCE-LINE 317
19029 00003940 00000000               I1  DATA FOR SOURCE-LINE 323
19030 00003944 00000000               I1  DATA FOR SOURCE-LINE 325
19031                                 I1  ***** END-POOL *****
19032 00003948                    329 I1  EP_STEP_RESET_100:
19033                             330 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19034 00003948 D106               331 I1          MOV.L   #(_PAR_EP6RSTOF_INTTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
                                          延時間(ｲﾝﾀｰﾊﾞﾙ時間)
19035 0000394A 6211               332 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
19036 0000394C D106               333 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19037 0000394E 2121               334 I1          MOV.W   R2,@R1                                                          ;
19038                             335 I1  
19039 00003950                    336 I1  EP_STEP_RESET_DATSET_COM:
19040                             337 I1  
19041                             338 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
19042 00003950 D106               339 I1          MOV.L   #(_PAR_EP6RSTON_JGTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1          ;ﾘｾｯﾄON時
                                          間兼ﾀｲﾑｱｳﾄ時間
19043 00003952 6211               340 I1          MOV.W   @R1,R2                                                          ;
19044 00003954 D106               341 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19045 00003956 2121               342 I1          MOV.W   R2,@R1                                                          ;
19046                             343 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19047 00003958 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19048 0000395A 6011                   M           MOV.W   @R1,R0          ;
19049 0000395C 7001                   M           ADD     #1,R0           ;
19050 0000395E 2101                   M           MOV.W   R0,@R1          ;
19051                             344 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19052 00003960 A0AD                   M           BRA     EP_SENCER_CKEND
19053 00003962 0009                   M           NOP
19054                             345 I1  
19055                             346 I1  
19056                             347 I1  
19057                             348 I1  
19058                             349 I1  ;       ---------------------------------------------------
19059                             350 I1  ;       ---     ﾘｾｯﾄONのｱﾝｻEP待ち，異常CHK[STEP6]       ---
19060                             351 I1  ;       ---------------------------------------------------
19061                             352 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"Ｈ"なら遷移,"Ｌ"なら異常　ﾘﾄﾗｲ
19062                             353 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
19063                                 I1  ***** BEGIN-POOL *****
19064 00003964 00000000               I1  DATA FOR SOURCE-LINE 331
19065 00003968 00000000               I1  DATA FOR SOURCE-LINE 333
19066 0000396C 00000000               I1  DATA FOR SOURCE-LINE 339
19067 00003970 00000000               I1  DATA FOR SOURCE-LINE 341
19068 00003974 00000000               I1  DATA FOR SOURCE-LINE 343
19069                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   236
PROGRAM NAME =

19070 00003978                    354 I1  EP_STEP_RESETON_COM
19071                             355 I1  
19072                             356 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4      ;ﾘｾｯﾄｺﾏﾝﾄﾞ
19073 00003978 D10D                   M           MOV.L   #_EPCHK_STS,R1          ;
19074 0000397A 6011                   M           MOV.W   @R1,R0          ;
19075 0000397C 9415                   M           MOV.W   #(BIT9),R4              ;
19076 0000397E 204B                   M           OR      R4,R0           ;
19077 00003980 2101                   M           MOV.W   R0,@R1          ;
19078                             357 I1  
19079 00003982 D10C               358 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19080 00003984 6011               359 I1          MOV.W   @R1,R0                                                          ;
19081 00003986 2008               360 I1          TST     R0,R0                                                           ;
19082                             361 I1          TST_BIT_ON EP_STEP_RESET_COM_190                                        ;
19083 00003988 8B38                   M           BF      EP_STEP_RESET_COM_190
19084                             362 I1  
19085                             363 I1  ;       ------- ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ--------
19086                             364 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9),WKRG1=R1,WKRG2=R4     ;ﾘｾｯﾄOFF
19087 0000398A D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19088 0000398C 6011                   M           MOV.W   @R1,R0          ;
19089 0000398E 940D                   M           MOV.W   #LWORD ~(BIT9),R4       ;
19090 00003990 2049                   M           AND     R4,R0           ;
19091 00003992 2101                   M           MOV.W   R0,@R1          ;
19092                             365 I1  
19093                             366 I1  
19094                             367 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
19095 00003994 D008                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19096 00003996 400B                   M           JSR     @R0                     ;
19097 00003998 0009                   M           NOP                                     ;
19098                             368 I1  
19099 0000399A 2008               369 I1          TST     R0,R0                                                           ;
19100                             370 I1          TST_BIT_OF EP_STEP_RESET_COM_150                                        ;
19101 0000399C 8910                   M           BT      EP_STEP_RESET_COM_150
19102                             371 I1  
19103                             372 I1  ;       ------- ON発見 ------
19104                             373 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19105 0000399E D107                   M           MOV.L   #_EPCHK_STEP,R1 ;
19106 000039A0 6011                   M           MOV.W   @R1,R0          ;
19107 000039A2 7001                   M           ADD     #1,R0           ;
19108 000039A4 2101                   M           MOV.W   R0,@R1          ;
19109                             374 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19110 000039A6 A08A                   M           BRA     EP_SENCER_CKEND
19111 000039A8 0009                   M           NOP
19112                             375 I1  
19113                                 I1  ***** BEGIN-POOL *****
19114 000039AA 0200                   I1  DATA FOR SOURCE-LINE 356
19115 000039AC FDFF                   I1  DATA FOR SOURCE-LINE 364
19116 000039AE 0000                   I1  ALIGNMENT CODE
19117 000039B0 00000000               I1  DATA FOR SOURCE-LINE 356,364
19118 000039B4 00000000               I1  DATA FOR SOURCE-LINE 358
19119 000039B8 00000000               I1  DATA FOR SOURCE-LINE 367
19120 000039BC 00000000               I1  DATA FOR SOURCE-LINE 373
19121                                 I1  ***** END-POOL *****
19122 000039C0                    376 I1  EP_STEP_RESET_COM_150                                                           ;
19123 000039C0 D106               377 I1          MOV.L   #(_PAR_EP6RST_RETRY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;ﾘｾｯﾄﾘﾄﾗｲ
                                          回数
19124 000039C2 6211               378 I1          MOV.W   @R1,R2                                                          ;0:ﾘﾄﾗｲし
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   237
PROGRAM NAME =

                                          ない
19125 000039C4 D506               379 I1          MOV.L   #_EPCHK_RETRY_CNT,R5                                            ;
19126 000039C6 6051               380 I1          MOV.W   @R5,R0                                                          ;
19127 000039C8 3022               381 I1          CMP/HS  R2,R0                                                           ;0(SV)=<0(
                                          PV)
19128 000039CA 890D               382 I1          BT      EP_STEP_RESET_COM_170                                           ;ﾘﾄﾗｲｵｰﾊﾞ
19129 000039CC 7001               383 I1          ADD     #1,R0                                                           ;
19130 000039CE 2501               384 I1          MOV.W   R0,@R5                                                          ;
19131                             385 I1  
19132 000039D0 D104               386 I1          MOV.L   #_EPCHK_STEP,R1                         ;1個前からやり直す
19133 000039D2 6011               387 I1          MOV.W   @R1,R0                                  ;
19134 000039D4 70FF               388 I1          ADD     #-1,R0                                  ;
19135 000039D6 2101               389 I1          MOV.W   R0,@R1                                  ;
19136                             390 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19137 000039D8 A071                   M           BRA     EP_SENCER_CKEND
19138 000039DA 0009                   M           NOP
19139                             391 I1  
19140                             392 I1  
19141                                 I1  ***** BEGIN-POOL *****
19142 000039DC 00000000               I1  DATA FOR SOURCE-LINE 377
19143 000039E0 00000000               I1  DATA FOR SOURCE-LINE 379
19144 000039E4 00000000               I1  DATA FOR SOURCE-LINE 386
19145                                 I1  ***** END-POOL *****
19146 000039E8                    393 I1  EP_STEP_RESET_COM_170                                                           ;終了処理
19147                             394 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻﾘｾｯﾄ
                                          失敗
19148 000039E8 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19149 000039EA 6011                   M           MOV.W   @R1,R0          ;
19150 000039EC 9403                   M           MOV.W   #(BIT4),R4              ;
19151 000039EE 204B                   M           OR      R4,R0           ;
19152 000039F0 2101                   M           MOV.W   R0,@R1          ;
19153                             395 I1          M_BRA   EP_SENCER_CK900                                                 ;
19154 000039F2 A051                   M           BRA     EP_SENCER_CK900
19155 000039F4 0009                   M           NOP
19156                             396 I1  
19157                                 I1  ***** BEGIN-POOL *****
19158 000039F6 0010                   I1  DATA FOR SOURCE-LINE 394
19159 000039F8 00000000               I1  DATA FOR SOURCE-LINE 394
19160                                 I1  ***** END-POOL *****
19161 000039FC                    397 I1  EP_STEP_RESET_COM_190
19162                             398 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19163 000039FC A05F                   M           BRA     EP_SENCER_CKEND
19164 000039FE 0009                   M           NOP
19165                             399 I1  
19166                             400 I1  
19167                             401 I1  
19168                             402 I1  ;       ---------------------------------------------------
19169                             403 I1  ;       ---     CPUA終了,CPUB開始遅延+ﾀｲﾑｱｳﾄ設定[STEP7] ---
19170                             404 I1  ;       ---------------------------------------------------
19171 00003A00                    405 I1  EP_STEP_ENDSIG_A
19172                             406 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT5),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19173 00003A00 D10B                   M           MOV.L   #_EPCHK_STS,R1          ;
19174 00003A02 6011                   M           MOV.W   @R1,R0          ;
19175 00003A04 9411                   M           MOV.W   #LWORD ~(BIT9|BIT5),R4  ;
19176 00003A06 2049                   M           AND     R4,R0           ;
19177 00003A08 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   238
PROGRAM NAME =

19178                             407 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT10),WKRG1=R1,WKRG2=R4             ;A
                                          完了
19179 00003A0A D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19180 00003A0C 6011                   M           MOV.W   @R1,R0          ;
19181 00003A0E 940D                   M           MOV.W   #(BIT10),R4             ;
19182 00003A10 204B                   M           OR      R4,R0           ;
19183 00003A12 2101                   M           MOV.W   R0,@R1          ;
19184                             408 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4              ;B
                                          開始
19185 00003A14 D106                   M           MOV.L   #_EPCHK_STS,R1          ;
19186 00003A16 6011                   M           MOV.W   @R1,R0          ;
19187 00003A18 9409                   M           MOV.W   #(BIT1),R4              ;
19188 00003A1A 204B                   M           OR      R4,R0           ;
19189 00003A1C 2101                   M           MOV.W   R0,@R1          ;
19190                             409 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19191 00003A1E D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19192 00003A20 6011                   M           MOV.W   @R1,R0          ;
19193 00003A22 7001                   M           ADD     #1,R0           ;
19194 00003A24 2101                   M           MOV.W   R0,@R1          ;
19195                             410 I1          M_BRA   EP_SENCER_CKEND                                                         ;
19196 00003A26 A04A                   M           BRA     EP_SENCER_CKEND
19197 00003A28 0009                   M           NOP
19198                             411 I1  
19199                                 I1  ***** BEGIN-POOL *****
19200 00003A2A FDDF                   I1  DATA FOR SOURCE-LINE 406
19201 00003A2C 0400                   I1  DATA FOR SOURCE-LINE 407
19202 00003A2E 0002                   I1  DATA FOR SOURCE-LINE 408
19203 00003A30 00000000               I1  DATA FOR SOURCE-LINE 406,407,408
19204 00003A34 00000000               I1  DATA FOR SOURCE-LINE 409
19205                                 I1  ***** END-POOL *****
19206 00003A38                    412 I1  EP_STEP_ENDSIG_B
19207                             413 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT6),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19208 00003A38 D108                   M           MOV.L   #_EPCHK_STS,R1          ;
19209 00003A3A 6011                   M           MOV.W   @R1,R0          ;
19210 00003A3C 940C                   M           MOV.W   #LWORD ~(BIT9|BIT6),R4  ;
19211 00003A3E 2049                   M           AND     R4,R0           ;
19212 00003A40 2101                   M           MOV.W   R0,@R1          ;
19213                             414 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4     ;
19214 00003A42 D106                   M           MOV.L   #_EPCHK_STS,R1          ;
19215 00003A44 6011                   M           MOV.W   @R1,R0          ;
19216 00003A46 9408                   M           MOV.W   #(BIT11),R4             ;
19217 00003A48 204B                   M           OR      R4,R0           ;
19218 00003A4A 2101                   M           MOV.W   R0,@R1          ;
19219                             415 I1  
19220                             416 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19221 00003A4C D104               417 I1          MOV.L   #(_PAR_EP7END_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;終了遅延
19222 00003A4E 6211               418 I1          MOV.W   @R1,R2                                                          ;
19223 00003A50 D104               419 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19224 00003A52 2121               420 I1          MOV.W   R2,@R1                                                          ;
19225                             421 I1          M_BRA   EP_STEP_RESET_DATSET_COM                                        ;
19226 00003A54 AF7C                   M           BRA     EP_STEP_RESET_DATSET_COM
19227 00003A56 0009                   M           NOP
19228                             422 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19229                                 M   ***** BEGIN-POOL *****
19230 00003A58 FDBF                   M   DATA FOR SOURCE-LINE 413
19231 00003A5A 0800                   M   DATA FOR SOURCE-LINE 414
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   239
PROGRAM NAME =

19232 00003A5C 00000000               M   DATA FOR SOURCE-LINE 413,414
19233 00003A60 00000000               M   DATA FOR SOURCE-LINE 417
19234 00003A64 00000000               M   DATA FOR SOURCE-LINE 419
19235                                 M   ***** END-POOL *****
19236 00003A68 D102                   M           MOV.L   #_EPCHK_STEP,R1 ;
19237 00003A6A 6011                   M           MOV.W   @R1,R0          ;
19238 00003A6C 7001                   M           ADD     #1,R0           ;
19239 00003A6E 2101                   M           MOV.W   R0,@R1          ;
19240                             423 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19241 00003A70 A025                   M           BRA     EP_SENCER_CKEND
19242 00003A72 0009                   M           NOP
19243                             424 I1  
19244                             425 I1  
19245                                 I1  ***** BEGIN-POOL *****
19246 00003A74 00000000               I1  DATA FOR SOURCE-LINE 422
19247                                 I1  ***** END-POOL *****
19248 00003A78                    426 I1  EP_STEP_ENDSIG
19249                             427 I1          M_BRA   EP_SENCER_CK800                                                 ;
19250 00003A78 A000                   M           BRA     EP_SENCER_CK800
19251 00003A7A 0009                   M           NOP
19252                             428 I1  
19253                             429 I1  
19254 00003A7C                    430 I1  EP_STEP_XX:
19255                             431 I1  
19256                             432 I1  ;       -----------正常終了処理--------
19257 00003A7C                    433 I1  EP_SENCER_CK800:
19258                             434 I1  
19259 00003A7C 9006               435 I1          MOV.W   #BIT7,R0                        ;
19260 00003A7E D104               436 I1          MOV.L   #_EPCHK_FLG,R1                  ;
19261 00003A80 2101               437 I1          MOV.W   R0,@R1                          ;
19262                             438 I1  
19263 00003A82 9004               439 I1          MOV.W   #BIT15,R0
19264 00003A84 D103               440 I1          MOV.L   #_EPCHK_STS,R1                  ;BIT15:正常完了
19265 00003A86 2101               441 I1          MOV.W   R0,@R1                          ;
19266                             442 I1  
19267                             443 I1          M_BRA   EP_SENCER_CK950                 ;
19268 00003A88 A014                   M           BRA     EP_SENCER_CK950
19269 00003A8A 0009                   M           NOP
19270                             444 I1  
19271                             445 I1  
19272                             446 I1  ;       -----------異常終了処理--------
19273                                 I1  ***** BEGIN-POOL *****
19274 00003A8C 0080                   I1  DATA FOR SOURCE-LINE 435
19275 00003A8E 8000                   I1  DATA FOR SOURCE-LINE 439
19276 00003A90 00000000               I1  DATA FOR SOURCE-LINE 436
19277 00003A94 00000000               I1  DATA FOR SOURCE-LINE 440
19278                                 I1  ***** END-POOL *****
19279 00003A98                    447 I1  EP_SENCER_CK900:
19280                             448 I1  
19281 00003A98 9418               449 I1          MOV.W   #H'239E,R4              ;2010-12-21
19282                             450 I1          FAR_JSR #_EMG_STOP,R0                   ;
19283 00003A9A D00E                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19284 00003A9C 400B                   M           JSR     @R0                     ;
19285 00003A9E 0009                   M           NOP                                     ;
19286                             451 I1  
19287 00003AA0 200A               452 I1          XOR     R0,R0                                   ;
19288 00003AA2 D10D               453 I1          MOV.L   #_EPCHK_FLG,R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   240
PROGRAM NAME =

19289 00003AA4 2101               454 I1          MOV.W   R0,@R1                                  ;
19290                             455 I1  
19291 00003AA6 D10D               456 I1          MOV.L   #_EPCHK_STS,R1                          ;
19292 00003AA8 6011               457 I1          MOV.W   @R1,R0                                  ;
19293 00003AAA 9410               458 I1          MOV.W   #(BIT4|BIT3|BIT2),R4                    ;異常要因以外をｸﾘｱ
19294 00003AAC 2049               459 I1          AND     R4,R0                                   ;
19295                             460 I1  
19296 00003AAE 940F               461 I1          MOV.W   #BIT14,R4                               ;BIT14異常終了ｾｯﾄ
19297 00003AB0 204B               462 I1          OR      R4,R0                                   ;
19298 00003AB2 2101               463 I1          MOV.W   R0,@R1                                  ;
19299                             464 I1  
19300                             465 I1  ;       -----------終了共通処理--------
19301 00003AB4                    466 I1  EP_SENCER_CK950:
19302 00003AB4 200A               467 I1          XOR     R0,R0                                   ;
19303 00003AB6 D10A               468 I1          MOV.L   #_EPCHK_COM,R1                          ;
19304 00003AB8 2101               469 I1          MOV.W   R0,@R1                                  ;
19305 00003ABA D10A               470 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1                 ;強制ﾊﾞﾙﾌﾞON:OFF
19306 00003ABC 2101               471 I1          MOV.W   R0,@R1                                  ;
19307                             472 I1  
19308                             473 I1  
19309 00003ABE                    474 I1  EP_SENCER_CKEND
19310 00003ABE D107               475 I1          MOV.L   #_EPCHK_STS,R1                  ;
19311 00003AC0 6211               476 I1          MOV.W   @R1,R2                          ;
19312 00003AC2 D109               477 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19313 00003AC4 2121               478 I1          MOV.W   R2,@R1                          ;
19314                             479 I1  
19315 00003AC6                    480 I1  EP_SENCER_CKEXT
19316                             481 I1          SUB_END
19317                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19318 00003AC6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19319                             482 I1          M_RTS
19320 00003AC8 000B                   M           RTS                             ;RTSの後ろの
19321 00003ACA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19322                             483 I1  
19323                             484 I1  
19324                                 I1  ***** BEGIN-POOL *****
19325 00003ACC 239E                   I1  DATA FOR SOURCE-LINE 449
19326 00003ACE 001C                   I1  DATA FOR SOURCE-LINE 458
19327 00003AD0 4000                   I1  DATA FOR SOURCE-LINE 461
19328 00003AD2 0000                   I1  ALIGNMENT CODE
19329 00003AD4 00000000               I1  DATA FOR SOURCE-LINE 450
19330 00003AD8 00000000               I1  DATA FOR SOURCE-LINE 453
19331 00003ADC 00000000               I1  DATA FOR SOURCE-LINE 456,475
19332 00003AE0 00000000               I1  DATA FOR SOURCE-LINE 468
19333 00003AE4 00000000               I1  DATA FOR SOURCE-LINE 470
19334 00003AE8 00000000               I1  DATA FOR SOURCE-LINE 477
19335                                 I1  ***** END-POOL *****
19336 00003AEC                    485 I1  _EP_SENCHK_STOPCONF1:
19337 00003AEC                    486 I1  _EP_SENCHK_STOPCONF2:
19338                             487 I1          SUB_START
19339 00003AEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19340                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19341                             488 I1  
19342 00003AEE D104               489 I1          MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
19343 00003AF0 6011               490 I1          MOV.W   @R1,R0                  ;
19344 00003AF2 D104               491 I1          MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
19345 00003AF4 6211               492 I1          MOV.W   @R1,R2                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   241
PROGRAM NAME =

19346 00003AF6 202B               493 I1          OR      R2,R0                   ;
19347                             494 I1  
19348                             495 I1          SUB_END
19349                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19350 00003AF8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19351                             496 I1          M_RTS
19352 00003AFA 000B                   M           RTS                             ;RTSの後ろの
19353 00003AFC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19354                             497 I1  
19355                             498 I1  
19356                             499 I1  ;       ANS R0=0(OFF) R0=BIT14(ON)
19357                                 I1  ***** BEGIN-POOL *****
19358 00003AFE 0000                   I1  ALIGNMENT CODE
19359 00003B00 00000000               I1  DATA FOR SOURCE-LINE 489
19360 00003B04 00000000               I1  DATA FOR SOURCE-LINE 491
19361                                 I1  ***** END-POOL *****
19362 00003B08                    500 I1  _VFRY_IN_CHK:
19363                             501 I1          SUB_START
19364 00003B08 4F22                   M           STS.L   PR,@-R15                ;[必要]
19365                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19366 00003B0A 9405               502 I1          MOV.W   #BIT14,R4                       ;
19367 00003B0C D103               503 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
19368 00003B0E 6011               504 I1          MOV.W   @R1,R0                          ;
19369 00003B10 2049               505 I1          AND     R4,R0                           ;0orBIT14
19370                             506 I1  
19371                             507 I1          SUB_END
19372                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19373 00003B12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19374                             508 I1          M_RTS
19375 00003B14 000B                   M           RTS                             ;RTSの後ろの
19376 00003B16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19377                             509 I1  
19378                             510 I1  
19379                                 I1  ***** BEGIN-POOL *****
19380 00003B18 4000                   I1  DATA FOR SOURCE-LINE 502
19381 00003B1A 0000                   I1  ALIGNMENT CODE
19382 00003B1C 00000000               I1  DATA FOR SOURCE-LINE 503
19383                                 I1  ***** END-POOL *****
19384 00003B20                    511 I1  _EPSEN_IN_CHK
19385                             512 I1          SUB_START
19386 00003B20 4F22                   M           STS.L   PR,@-R15                ;[必要]
19387                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19388 00003B22 9405               513 I1          MOV.W   #BIT15,R4                       ;
19389 00003B24 D103               514 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
19390 00003B26 6011               515 I1          MOV.W   @R1,R0                          ;
19391 00003B28 2049               516 I1          AND     R4,R0                           ;0orBIT15
19392                             517 I1  
19393                             518 I1          SUB_END
19394                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19395 00003B2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19396                             519 I1          M_RTS
19397 00003B2C 000B                   M           RTS                             ;RTSの後ろの
19398 00003B2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19399                             520 I1  
19400                             521 I1  
19401                                 I1  ***** BEGIN-POOL *****
19402 00003B30 8000                   I1  DATA FOR SOURCE-LINE 513
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   242
PROGRAM NAME =

19403 00003B32 0000                   I1  ALIGNMENT CODE
19404 00003B34 00000000               I1  DATA FOR SOURCE-LINE 514
19405                                 I1  ***** END-POOL *****
19406 00003B38                    522 I1  _EPSEN_CLR
19407                             523 I1          SUB_START
19408 00003B38 4F22                   M           STS.L   PR,@-R15                ;[必要]
19409                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19410                             524 I1  
19411 00003B3A 9408               525 I1          MOV.W   #BIT15,R4
19412 00003B3C D104               526 I1          MOV.L   #_EPCHK_STS,R1                  ;
19413 00003B3E 6011               527 I1          MOV.W   @R1,R0
19414 00003B40 2049               528 I1          AND     R4,R0
19415 00003B42 2101               529 I1          MOV.W   R0,@R1                          ;
19416 00003B44 D103               530 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19417 00003B46 2101               531 I1          MOV.W   R0,@R1                          ;
19418                             532 I1  
19419                             533 I1          SUB_END
19420                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19421 00003B48 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19422                             534 I1          M_RTS
19423 00003B4A 000B                   M           RTS                             ;RTSの後ろの
19424 00003B4C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19425                             535 I1  
19426                            7681     
19427                            7682     
19428                            7683     
19429                                     ***** BEGIN-POOL *****
19430 00003B4E 8000                       DATA FOR SOURCE-LINE 525
19431 00003B50 00000000                   DATA FOR SOURCE-LINE 526
19432 00003B54 00000000                   DATA FOR SOURCE-LINE 530
19433                                     ***** END-POOL *****
19434 00003B58                   7684             .ALIGN  4
19435                            7685     ;       *******************************************
19436                            7686     ;       ***                                     ***
19437                            7687     ;       ***                                     ***
19438                            7688     ;       ***                                     ***
19439                            7689     ;       ***     EXQ,遮光による行程違いのRECOVER ***
19440                            7690     ;       ***             2016-04-16              ***
19441                            7691     ;       ***             2016-01-10              ***
19442                            7692     ;       ***                                     ***
19443                            7693     ;       ***                                     ***
19444                            7694     ;       ***                                     ***
19445                            7695     ;       *******************************************
19446                            7696     ;       リセット時に行う
19447                            7697     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
19448                            7698     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
19449                            7699     ;       このリカバーはハンドシェイク時のみのリカバーとする
19450                            7700     
19451                            7701             .IMPORT _CPUA_SV_STEP                           ;
19452                            7702             .IMPORT _CPUB_SV_STEP                           ;
19453                            7703     
19454                            7704             .IMPORT _EMG_POS_FLG_PROC
19455                            7705     
19456                            7706     
19457 00003B58                   7707     _EXQ_PROC_STEP_RECOVER:
19458                            7708             SUB_START
19459 00003B58 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   243
PROGRAM NAME =

19460                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19461                            7709     
19462                            7710     
19463 00003B5A D117              7711             MOV.L   #_MODE_SEL,R1                           ;
19464 00003B5C 6011              7712             MOV.W   @R1,R0                                  ;
19465                            7713     
19466 00003B5E 942A              7714             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
19467 00003B60 2048              7715             TST     R4,R0                                   ;
19468                            7716             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
19469 00003B62 896B                   M           BT      EXQ_PROC_STEPRECOVER_END1
19470                            7717     
19471 00003B64 D115              7718             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
19472 00003B66 6011              7719             MOV.W   @R1,R0                                  ;
19473                            7720     ;;;;    TST     #_DMATH_CNTROT,R0                       ;
19474                            7721     ;;;;    TST     #(_DMATH_DNDRIV),R0                     ;回転or往復
19475 00003B68 C805              7722             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
19476                            7723             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;
19477 00003B6A 8967                   M           BT      EXQ_PROC_STEPRECOVER_END1
19478                            7724     
19479 00003B6C D114              7725             MOV.L   #_EXQ_LT_GET_FLG,R1                     ;[]
19480 00003B6E 6011              7726             MOV.W   @R1,R0                                  ;
19481 00003B70 2008              7727             TST     R0,R0                                   ;
19482                            7728             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
19483 00003B72 8963                   M           BT      EXQ_PROC_STEPRECOVER_END1
19484                            7729     
19485                            7730     
19486                            7731     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
19487 00003B74 D113              7732             MOV.L   #_EXQ_LT_PROC_CNT1,R1
19488 00003B76 6011              7733             MOV.W   @R1,R0
19489 00003B78 7001              7734             ADD     #1,R0
19490 00003B7A 2101              7735             MOV.W   R0,@R1
19491                            7736     
19492 00003B7C E401              7737             MOV.B   #BIT0,R4
19493 00003B7E D112              7738             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19494 00003B80 6011              7739             MOV.W   @R1,R0
19495 00003B82 204A              7740             XOR     R4,R0
19496 00003B84 2101              7741             MOV.W   R0,@R1
19497                            7742     
19498                            7743     
19499                            7744     ;---------------------------------------------------------
19500                            7745     ;切替条件
19501                            7746     ;       EXQ_LT_GET_FLGがON
19502                            7747     ;       (1)R1:自分が0(emg)でない
19503                            7748     ;       (1)R2:相手も0(emg)でない
19504                            7749     ;         (2-1)自分が最終行程の場合
19505                            7750     ;               (3-1)待機点範囲の場合
19506                            7751     ;                       相手CPUが0または1の場合　
19507                            7752     ;                       自分はEMG処理相当を行う(行程1からはじめる)
19508                            7753     ;               (3-2)待機点範囲でない場合:演算しない
19509                            7754     ;         (2-2)自分が最終行程でない場合
19510                            7755     ;               自分<相手であれば行程を入れ替える
19511                            7756     ;       EXQ_LT_HAND_STEP2_FLG=_CMPSTEP_STEP_END
19512                            7757     
19513                            7758             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
19514 00003B86 D011                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19515 00003B88 400B                   M           JSR     @R0                     ;
19516 00003B8A 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   244
PROGRAM NAME =

19517 00003B8C 6303              7759             MOV     R0,R3                           ;R3!=0:待機点
19518                            7760     
19519 00003B8E D510              7761             MOV.L   #_SV_POS_CTL_STEP,R5            ;
19520 00003B90 6151              7762             MOV.W   @R5,R1                          ;自分
19521                            7763             .AIF    0 EQ    0
19522 00003B92 D610              7764 C           MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
19523                            7765             .AELSE
19524                            7766             MOV.L   #_CPUA_SV_STEP,R6               ;
19525                            7767             .AENDI
19526 00003B94 6261              7768             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
19527 00003B96 2118              7769             TST     R1,R1                           ;CPUA(自分)
19528                            7770             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;[次の工程は１行程から行う]
19529 00003B98 8950                   M           BT      EXQ_PROC_STEPRECOVER_END1
19530                            7771     
19531 00003B9A 2338              7772             TST     R3,R3                           ;待機点？
19532                            7773             TST_BIT_OF EXQ_PROC_STEPRECOVER_200     ;NO!
19533 00003B9C 8950                   M           BT      EXQ_PROC_STEPRECOVER_200
19534                            7774     
19535 00003B9E D40E              7775             MOV.L   #_CPOS_STEP_MAX,R4              ;
19536 00003BA0 6041              7776             MOV.W   @R4,R0                          ;
19537 00003BA2 7001              7777             ADD     #1,R0                           ;
19538 00003BA4 3010              7778             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
19539 00003BA6 8B49              7779             BF      EXQ_PROC_STEPRECOVER_END1       ;NO!(待機点だが最終ステップではない)
19540                            7780     
19541                            7781     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
19542 00003BA8 E001              7782             MOV.B   #1,R0                           ;
19543 00003BAA 2228              7783             TST     R2,R2                           ;
19544                            7784             TST_BIT_OF EXQ_PROC_STEPRECOVER_100     ;(R2=0:次の工程は0から YES:EMG)
19545 00003BAC 8916                   M           BT      EXQ_PROC_STEPRECOVER_100
19546                            7785     
19547 00003BAE 3200              7786             CMP/EQ  R0,R2                           ;
19548 00003BB0 8914              7787             BT      EXQ_PROC_STEPRECOVER_100        ;相手CPU=1です
19549                            7788             M_BRA   EXQ_PROC_STEPRECOVER_END1       ;
19550 00003BB2 A043                   M           BRA     EXQ_PROC_STEPRECOVER_END1
19551 00003BB4 0009                   M           NOP
19552                            7789     
19553                            7790     ;
19554                            7791     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
19555                            7792     ;
19556                            7793     ;待機点での方向変更処理が必要
19557                            7794     ;       「EMGと同じ処理」
19558                                     ***** BEGIN-POOL *****
19559 00003BB6 001E                       DATA FOR SOURCE-LINE 7714
19560 00003BB8 00000000                   DATA FOR SOURCE-LINE 7711
19561 00003BBC 00000000                   DATA FOR SOURCE-LINE 7718
19562 00003BC0 00000000                   DATA FOR SOURCE-LINE 7725
19563 00003BC4 00000000                   DATA FOR SOURCE-LINE 7732
19564 00003BC8 00000000                   DATA FOR SOURCE-LINE 7738
19565 00003BCC 00000000                   DATA FOR SOURCE-LINE 7758
19566 00003BD0 00000000                   DATA FOR SOURCE-LINE 7761
19567 00003BD4 00000000                   DATA FOR SOURCE-LINE 7764
19568 00003BD8 00000000                   DATA FOR SOURCE-LINE 7775
19569                                     ***** END-POOL *****
19570 00003BDC                   7795     EXQ_PROC_STEPRECOVER_100:
19571                            7796     
19572 00003BDC D105              7797             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
19573 00003BDE 6011              7798             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   245
PROGRAM NAME =

19574 00003BE0 C804              7799             TST     #_DMATH_DNDRIV,R0               ;
19575                            7800             TST_BIT_ON EXQ_PROC_STEPRECOVER_150     ;
19576 00003BE2 8B0D                   M           BF      EXQ_PROC_STEPRECOVER_150
19577                            7801     
19578                            7802             FAR_JSR #_EMG_POS_FLG_PROC,R0           ;振り子以外なら非常停止と同じ処理でいい
19579 00003BE4 D004                   M           MOV.L   #_EMG_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19580 00003BE6 400B                   M           JSR     @R0                     ;
19581 00003BE8 0009                   M           NOP                                     ;
19582                            7803             FAR_JSR #_EMG_CTL_FLG_PROC,R0           ;
19583 00003BEA D004                   M           MOV.L   #_EMG_CTL_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19584 00003BEC 400B                   M           JSR     @R0                     ;
19585 00003BEE 0009                   M           NOP                                     ;
19586                            7804             M_BRA   EXQ_PROC_STEPRECOVER_180        ;
19587 00003BF0 A00C                   M           BRA     EXQ_PROC_STEPRECOVER_180
19588 00003BF2 0009                   M           NOP
19589                            7805     
19590                                     ***** BEGIN-POOL *****
19591 00003BF4 00000000                   DATA FOR SOURCE-LINE 7797
19592 00003BF8 00000000                   DATA FOR SOURCE-LINE 7802
19593 00003BFC 00000000                   DATA FOR SOURCE-LINE 7803
19594                                     ***** END-POOL *****
19595 00003C00                   7806     EXQ_PROC_STEPRECOVER_150:
19596                            7807             FAR_JSR #_DNM_CYCLE_END,R0              ;
19597 00003C00 D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19598 00003C02 400B                   M           JSR     @R0                     ;
19599 00003C04 0009                   M           NOP                                     ;
19600                            7808             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
19601 00003C06 D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19602 00003C08 400B                   M           JSR     @R0                     ;
19603 00003C0A 0009                   M           NOP                                     ;
19604 00003C0C                   7809     EXQ_PROC_STEPRECOVER_180:
19605                            7810             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
19606 00003C0C D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19607 00003C0E 400B                   M           JSR     @R0                     ;
19608 00003C10 0009                   M           NOP                                     ;
19609                            7811     
19610                            7812     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
19611 00003C12 D108              7813             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
19612 00003C14 6011              7814             MOV.W   @R1,R0                          ;
19613 00003C16 7001              7815             ADD     #1,R0                           ;
19614 00003C18 2101              7816             MOV.W   R0,@R1                          ;
19615                            7817     
19616 00003C1A E402              7818             MOV.B   #BIT1,R4
19617 00003C1C D106              7819             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19618 00003C1E 6011              7820             MOV.W   @R1,R0
19619 00003C20 204A              7821             XOR     R4,R0
19620 00003C22 2101              7822             MOV.W   R0,@R1
19621                            7823     ;       ------ﾃﾞﾊﾞｯｸ--------
19622                            7824             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
19623 00003C24 A030                   M           BRA     EXQ_PROC_STEPRECOVER_END
19624 00003C26 0009                   M           NOP
19625                            7825     
19626                            7826     
19627                            7827     ;       ==============================================
19628                                     ***** BEGIN-POOL *****
19629 00003C28 00000000                   DATA FOR SOURCE-LINE 7807
19630 00003C2C 00000000                   DATA FOR SOURCE-LINE 7808
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   246
PROGRAM NAME =

19631 00003C30 00000000                   DATA FOR SOURCE-LINE 7810
19632 00003C34 00000000                   DATA FOR SOURCE-LINE 7813
19633 00003C38 00000000                   DATA FOR SOURCE-LINE 7819
19634                                     ***** END-POOL *****
19635 00003C3C                   7828     EXQ_PROC_STEPRECOVER_END1       ;
19636                            7829             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
19637 00003C3C A024                   M           BRA     EXQ_PROC_STEPRECOVER_END
19638 00003C3E 0009                   M           NOP
19639                            7830     
19640                            7831     
19641                            7832     ;       ---------------------途中行程-----------------------
19642 00003C40                   7833     EXQ_PROC_STEPRECOVER_200:                       ;NO!
19643                            7834     
19644 00003C40 D109              7835             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;[HANDｼｪｲｸ中]
19645 00003C42 6011              7836             MOV.W   @R1,R0                          ;
19646 00003C44 2008              7837             TST     R0,R0                           ;
19647                            7838             TST_BIT_OF EXQ_PROC_STEPRECOVER_END     ;
19648 00003C46 891F                   M           BT      EXQ_PROC_STEPRECOVER_END
19649                            7839     
19650 00003C48 6151              7840             MOV.W   @R5,R1                          ;CPUA(自分)
19651 00003C4A 6261              7841             MOV.W   @R6,R2                          ;CPUB 2BYTE
19652                            7842     
19653                            7843     
19654 00003C4C 3216              7844             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
19655 00003C4E 8911              7845             BT      EXQ_PROC_STEPRECOVER_250        ;YES
19656                            7846     
19657                            7847     
19658 00003C50 D106              7848             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
19659 00003C52 6011              7849             MOV.W   @R1,R0                          ;
19660 00003C54 7001              7850             ADD     #1,R0                           ;
19661 00003C56 2101              7851             MOV.W   R0,@R1                          ;
19662                            7852     
19663 00003C58 E408              7853             MOV.B   #BIT3,R4
19664 00003C5A D105              7854             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19665 00003C5C 6011              7855             MOV.W   @R1,R0
19666 00003C5E 204A              7856             XOR     R4,R0
19667 00003C60 2101              7857             MOV.W   R0,@R1
19668                            7858             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
19669 00003C62 A011                   M           BRA     EXQ_PROC_STEPRECOVER_END
19670 00003C64 0009                   M           NOP
19671                            7859     
19672                            7860     
19673                            7861     ;       ------------- 行程変更実地
19674                                     ***** BEGIN-POOL *****
19675 00003C66 0000                       ALIGNMENT CODE
19676 00003C68 00000000                   DATA FOR SOURCE-LINE 7835
19677 00003C6C 00000000                   DATA FOR SOURCE-LINE 7848
19678 00003C70 00000000                   DATA FOR SOURCE-LINE 7854
19679                                     ***** END-POOL *****
19680 00003C74                   7862     EXQ_PROC_STEPRECOVER_250:                       ;NO!
19681 00003C74 2521              7863             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
19682                            7864     
19683                            7865     ;       ------ 必要があれば目標位置演算-------------
19684                            7866     
19685 00003C76 D106              7867             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
19686 00003C78 6011              7868             MOV.W   @R1,R0                          ;
19687 00003C7A 7001              7869             ADD     #1,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   247
PROGRAM NAME =

19688 00003C7C 2101              7870             MOV.W   R0,@R1                          ;
19689                            7871     
19690 00003C7E E404              7872             MOV.B   #BIT2,R4
19691 00003C80 D104              7873             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19692 00003C82 6011              7874             MOV.W   @R1,R0
19693 00003C84 204A              7875             XOR     R4,R0
19694 00003C86 2101              7876             MOV.W   R0,@R1
19695                            7877     
19696                            7878     
19697                            7879     
19698 00003C88                   7880     EXQ_PROC_STEPRECOVER_END:
19699                            7881     
19700                            7882             SUB_END
19701                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19702 00003C88 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19703                            7883             M_RTS
19704 00003C8A 000B                   M           RTS                             ;RTSの後ろの
19705 00003C8C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19706                            7884     
19707                            7885     
19708                            7886     
19709                            7887     
19710                            7888             .IMPORT _DNM_CYCLE_END          ;
19711                            7889             .IMPORT _CYC_END_POS_FLG_CLR
19712                            7890     
19713                            7891     ;       *******************************************
19714                            7892     ;       ***     待機点かどうかのチェック        ***
19715                            7893     ;       *******************************************
19716                            7894     ;       ANS R0
19717                            7895     ;       MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(BIT0),WKREG=R1      ;
19718                            7896     
19719                                     ***** BEGIN-POOL *****
19720 00003C8E 0000                       ALIGNMENT CODE
19721 00003C90 00000000                   DATA FOR SOURCE-LINE 7867
19722 00003C94 00000000                   DATA FOR SOURCE-LINE 7873
19723                                     ***** END-POOL *****
19724 00003C98                   7897     _RECOVER_WAIT_AREA_CHK:
19725                            7898             SUB_START
19726 00003C98 4F22                   M           STS.L   PR,@-R15                ;[必要]
19727                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19728                            7899             PUSH_REG1 R1
19729 00003C9A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19730                                 M                                           ;REG=>[SP]
19731                                 M                                           ;"-4" FF,FF,FF,FC
19732                            7900             PUSH_REG1 R2
19733 00003C9C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19734                                 M                                           ;REG=>[SP]
19735                                 M                                           ;"-4" FF,FF,FF,FC
19736                            7901             PUSH_REG1 R3
19737 00003C9E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
19738                                 M                                           ;REG=>[SP]
19739                                 M                                           ;"-4" FF,FF,FF,FC
19740                            7902             PUSH_REG1 R4
19741 00003CA0 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
19742                                 M                                           ;REG=>[SP]
19743                                 M                                           ;"-4" FF,FF,FF,FC
19744 00003CA2 233A              7903             XOR     R3,R3                           ;ANS R3=0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   248
PROGRAM NAME =

19745                            7904     
19746 00003CA4 D104              7905             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
19747 00003CA6 6011              7906             MOV.W   @R1,R0                          ;
19748 00003CA8 C804              7907             TST     #_DMATH_DNDRIV,R0               ;
19749                            7908             TST_BIT_OF RECOVER_WAIT_AREACHK_100     ;
19750 00003CAA 8909                   M           BT      RECOVER_WAIT_AREACHK_100
19751                            7909     
19752                            7910              .AIF   1 EQ 1  ;
19753                            7911 C   ;       -------- 2016-10-31 ADD 二重回路対策
19754                            7912              .AENDI
19755                            7913     
19756                            7914     ;;;信号変更 2016-10-31
19757 00003CAC D103              7915             MOV.L   #_DNM_RST_SPEC_AREASIG,R1
19758 00003CAE 6011              7916             MOV.W   @R1,R0                          ;
19759 00003CB0 C801              7917             TST     #BIT0,R0
19760                            7918             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
19761 00003CB2 8B0D                   M           BF      RECOVER_WAIT_AREACHK_200
19762                            7919     
19763                            7920     ;;;信号変更     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1
19764                            7921     ;;;信号変更     MOV.W   @R1,R0                          ;
19765                            7922     ;;;信号変更     MOV.W   #BIT7,R4                        ;
19766                            7923     ;;;信号変更     TST     R4,R0                           ;
19767                            7924     ;;;信号変更     TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
19768                            7925     
19769                            7926     ;;;;記述ミス    MOV.L   #_M_LINK_AREASIG,R4             ;
19770                            7927     ;;;;記述ミス    MOV.W   @R4,R0                          ;
19771                            7928     ;;;;記述ミス    TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
19772                            7929             M_BRA   RECOVER_WAIT_AREACHK_END
19773 00003CB4 A00D                   M           BRA     RECOVER_WAIT_AREACHK_END
19774 00003CB6 0009                   M           NOP
19775                            7930     
19776                                     ***** BEGIN-POOL *****
19777 00003CB8 00000000                   DATA FOR SOURCE-LINE 7905
19778 00003CBC 00000000                   DATA FOR SOURCE-LINE 7915
19779                                     ***** END-POOL *****
19780 00003CC0                   7931     RECOVER_WAIT_AREACHK_100
19781 00003CC0 D402              7932             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲(ふりこでは使えない
                                          )
19782 00003CC2 6041              7933             MOV.W   @R4,R0                          ;
19783 00003CC4 C810              7934             TST     #BIT4,R0                        ;
19784                            7935             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
19785 00003CC6 8B03                   M           BF      RECOVER_WAIT_AREACHK_200
19786                            7936             M_BRA   RECOVER_WAIT_AREACHK_END
19787 00003CC8 A003                   M           BRA     RECOVER_WAIT_AREACHK_END
19788 00003CCA 0009                   M           NOP
19789                            7937     
19790                            7938     
19791                                     ***** BEGIN-POOL *****
19792 00003CCC 00000000                   DATA FOR SOURCE-LINE 7932
19793                                     ***** END-POOL *****
19794 00003CD0                   7939     RECOVER_WAIT_AREACHK_200
19795 00003CD0 E301              7940             MOV.B   #BIT0,R3
19796 00003CD2                   7941     RECOVER_WAIT_AREACHK_END
19797 00003CD2 6033              7942             MOV     R3,R0                           ;ANS R0=0 R0=BIT0(待機点範囲)
19798                            7943             POP_REG1 R4
19799                                 M                                   ; RE"+4" 00,00,00,04
19800 00003CD4 64F6                   M           MOV.L   @R15+,R4        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   249
PROGRAM NAME =

19801                            7944             POP_REG1 R3
19802                                 M                                   ; RE"+4" 00,00,00,04
19803 00003CD6 63F6                   M           MOV.L   @R15+,R3        ;
19804                            7945             POP_REG1 R2
19805                                 M                                   ; RE"+4" 00,00,00,04
19806 00003CD8 62F6                   M           MOV.L   @R15+,R2        ;
19807                            7946             POP_REG1 R1
19808                                 M                                   ; RE"+4" 00,00,00,04
19809 00003CDA 61F6                   M           MOV.L   @R15+,R1        ;
19810                            7947     
19811                            7948             SUB_END
19812                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19813 00003CDC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19814                            7949             M_RTS
19815 00003CDE 000B                   M           RTS                             ;RTSの後ろの
19816 00003CE0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19817                            7950     
19818                            7951     
19819                            7952     
19820                            7953     ;       *******************************************
19821                            7954     ;       ***                                     ***
19822                            7955     ;       ***                                     ***
19823                            7956     ;       ***     2016-10-31(2016-06-21)          ***
19824                            7957     ;       ***                                     ***
19825                            7958     ;       *******************************************
19826                            7959              .AIF   1 EQ 1  ;
19827                            7960 C   ;       -------- 2016-10-31 ADD 二重回路対策
19828                            7961              .AENDI
19829                            7962     
19830 00003CE2                   7963     _DNM_OBJ_AREA_SIG2:             ;振り子の場合の目標の待機点信号
19831                            7964             SUB_START
19832 00003CE2 4F22                   M           STS.L   PR,@-R15                ;[必要]
19833                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19834                            7965     
19835 00003CE4 D10C              7966             MOV.L   #_MODE_SEL,R1                           ;
19836 00003CE6 6011              7967             MOV.W   @R1,R0                                  ;
19837 00003CE8 C81E              7968             TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
19838                            7969             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;
19839 00003CEA 893D                   M           BT      DNMOBJ_ARASIG2_150
19840                            7970     
19841 00003CEC D10B              7971             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
19842 00003CEE 6011              7972             MOV.W   @R1,R0                                  ;
19843 00003CF0 C804              7973             TST     #_DMATH_DNDRIV,R0                       ;
19844                            7974             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;ふりこじゃない
19845 00003CF2 8939                   M           BT      DNMOBJ_ARASIG2_150
19846                            7975     
19847 00003CF4 D10A              7976             MOV.L   #_BRKTST_SW_IN,R1                       ;
19848 00003CF6 6011              7977             MOV.W   @R1,R0                                  ;
19849 00003CF8 C801              7978             TST     #BIT0,R0                                ;
19850                            7979             TST_BIT_ON DNMOBJ_ARASIG2_150                   ;
19851 00003CFA 8B35                   M           BF      DNMOBJ_ARASIG2_150
19852                            7980     
19853 00003CFC D409              7981             MOV.L   #_DNM_SETX_LINK_UP_POS_DN,R4            ;ﾘﾝｸ(範囲比較)
19854 00003CFE 6141              7982             MOV.W   @R4,R1                                  ;待機点-α
19855 00003D00 D409              7983             MOV.L   #_DNM_SETX_LINK_UP_POS_UP,R4            ;
19856 00003D02 6341              7984             MOV.W   @R4,R3                                  ;待機点+α
19857 00003D04 D409              7985             MOV.L   #_INC_ENC360,R4                         ;PG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   250
PROGRAM NAME =

19858 00003D06 6241              7986             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
19859                            7987             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
19860 00003D08 D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19861 00003D0A 400B                   M           JSR     @R0                     ;
19862 00003D0C 0009                   M           NOP                                     ;
19863 00003D0E 4511              7988             CMP/PZ  R5                                      ;
19864 00003D10 8B10              7989             BF      DNMOBJ_ARASIG2_100                      ;
19865                            7990             M_BRA   DNMOBJ_ARASIG2_120_SET
19866 00003D12 A019                   M           BRA     DNMOBJ_ARASIG2_120_SET
19867 00003D14 0009                   M           NOP
19868                            7991     
19869                            7992     
19870                                     ***** BEGIN-POOL *****
19871 00003D16 0000                       ALIGNMENT CODE
19872 00003D18 00000000                   DATA FOR SOURCE-LINE 7966
19873 00003D1C 00000000                   DATA FOR SOURCE-LINE 7971
19874 00003D20 00000000                   DATA FOR SOURCE-LINE 7976
19875 00003D24 00000000                   DATA FOR SOURCE-LINE 7981
19876 00003D28 00000000                   DATA FOR SOURCE-LINE 7983
19877 00003D2C 00000000                   DATA FOR SOURCE-LINE 7985
19878 00003D30 00000000                   DATA FOR SOURCE-LINE 7987
19879                                     ***** END-POOL *****
19880 00003D34                   7993     DNMOBJ_ARASIG2_100:
19881 00003D34 D407              7994             MOV.L   #_SETX_LINK_UP_POS_DN,R4                ;ﾘﾝｸ(範囲比較)
19882 00003D36 6141              7995             MOV.W   @R4,R1                                  ;待機点-α
19883 00003D38 D407              7996             MOV.L   #_SETX_LINK_UP_POS_UP,R4                ;
19884 00003D3A 6341              7997             MOV.W   @R4,R3                                  ;待機点+α
19885 00003D3C D407              7998             MOV.L   #_INC_ENC360,R4                         ;PG
19886 00003D3E 6241              7999             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
19887                            8000             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
19888 00003D40 D007                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19889 00003D42 400B                   M           JSR     @R0                     ;
19890 00003D44 0009                   M           NOP                                     ;
19891 00003D46 8B0F              8001             BF      DNMOBJ_ARASIG2_150                      ;
19892 00003D48                   8002     DNMOBJ_ARASIG2_120_SET:
19893                            8003     
19894                            8004             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(BIT0),WKREG=R1      ;
19895 00003D48 D106                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
19896 00003D4A 6011                   M           MOV.W   @R1,R0          ;
19897 00003D4C CB01                   M           OR      #(BIT0),R0              ;
19898 00003D4E 2101                   M           MOV.W   R0,@R1          ;
19899                            8005             M_BRA   DNMOBJ_ARASIG2_200
19900 00003D50 A00E                   M           BRA     DNMOBJ_ARASIG2_200
19901 00003D52 0009                   M           NOP
19902                            8006     
19903                                     ***** BEGIN-POOL *****
19904 00003D54 00000000                   DATA FOR SOURCE-LINE 7994
19905 00003D58 00000000                   DATA FOR SOURCE-LINE 7996
19906 00003D5C 00000000                   DATA FOR SOURCE-LINE 7998
19907 00003D60 00000000                   DATA FOR SOURCE-LINE 8000
19908 00003D64 00000000                   DATA FOR SOURCE-LINE 8004
19909                                     ***** END-POOL *****
19910 00003D68                   8007     DNMOBJ_ARASIG2_150:
19911                            8008     
19912                            8009             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(~BIT0),WKREG=R1    ;
19913 00003D68 D103                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
19914 00003D6A 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   251
PROGRAM NAME =

19915 00003D6C C9FE                   M           AND     #LOW (~BIT0),R0         ;
19916 00003D6E 2101                   M           MOV.W   R0,@R1          ;
19917                            8010     
19918 00003D70                   8011     DNMOBJ_ARASIG2_200:
19919                            8012     
19920                            8013             SUB_END
19921                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19922 00003D70 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19923                            8014             M_RTS
19924 00003D72 000B                   M           RTS                             ;RTSの後ろの
19925 00003D74 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19926                            8015     
19927                            8016     
19928                            8017     ;       *******************************************
19929                            8018     ;       ***                                     ***
19930                            8019     ;       ***     EXQ発生時　ﾊﾝﾄﾞｼｪｲｸ中かﾁｪｯｸ     ***
19931                            8020     ;       ***     2016-01-10[]                    ***
19932                            8021     ;       ***     2016-04-15                      ***
19933                            8022     ;       *******************************************
19934                            8023             .EXPORT _API_EXQ_STEP_STS_GET
19935                                     ***** BEGIN-POOL *****
19936 00003D76 0000                       ALIGNMENT CODE
19937 00003D78 00000000                   DATA FOR SOURCE-LINE 8009
19938                                     ***** END-POOL *****
19939 00003D7C                   8024     _API_EXQ_STEP_STS_GET
19940                            8025             SUB_START
19941 00003D7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19942                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19943                            8026     
19944 00003D7E D106              8027             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
19945 00003D80 6011              8028             MOV.W   @R1,R0                          ;
19946 00003D82 2008              8029             TST     R0,R0                           ;
19947                            8030             TST_BIT_ON API_EXQ_STEP_STSGET_EXT      ;
19948 00003D84 8B05                   M           BF      API_EXQ_STEP_STSGET_EXT
19949 00003D86 E001              8031             MOV.B   #BIT0,R0                        ;
19950 00003D88 2101              8032             MOV.W   R0,@R1                          ;
19951                            8033     
19952 00003D8A D104              8034             MOV.L   #_CMPSTEP_STEP_END,R1   ;(HAND)
19953 00003D8C 6011              8035             MOV.W   @R1,R0                          ;
19954 00003D8E D104              8036             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
19955 00003D90 2101              8037             MOV.W   R0,@R1                          ;
19956                            8038     
19957                            8039     
19958 00003D92                   8040     API_EXQ_STEP_STSGET_EXT
19959                            8041     
19960                            8042             SUB_END
19961                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19962 00003D92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19963                            8043             M_RTS
19964 00003D94 000B                   M           RTS                             ;RTSの後ろの
19965 00003D96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19966                            8044     
19967                            8045     
19968                            8046     ;       *******************************************
19969                            8047     ;       ***                                     ***
19970                            8048     ;       ***     クリア                          ***
19971                            8049     ;       ***     2016-01-10                      ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   252
PROGRAM NAME =

19972                            8050     ;       *******************************************
19973                            8051             .EXPORT _API_EXQ_STEP_FLGCLR
19974                                     ***** BEGIN-POOL *****
19975 00003D98 00000000                   DATA FOR SOURCE-LINE 8027
19976 00003D9C 00000000                   DATA FOR SOURCE-LINE 8034
19977 00003DA0 00000000                   DATA FOR SOURCE-LINE 8036
19978                                     ***** END-POOL *****
19979 00003DA4                   8052     _API_EXQ_STEP_FLGCLR
19980                            8053             SUB_START
19981 00003DA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
19982                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19983 00003DA6 200A              8054             XOR     R0,R0
19984 00003DA8 D103              8055             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
19985 00003DAA 2101              8056             MOV.W   R0,@R1                          ;
19986 00003DAC D103              8057             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
19987 00003DAE 2101              8058             MOV.W   R0,@R1                          ;
19988                            8059     
19989                            8060             SUB_END
19990                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19991 00003DB0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19992                            8061             M_RTS
19993 00003DB2 000B                   M           RTS                             ;RTSの後ろの
19994 00003DB4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19995                            8062     
19996                            8063     
19997                            8064     
19998                            8065     ;       *******************************************
19999                            8066     ;       ***                                     ***
20000                            8067     ;       ***     リセット処理                    ***
20001                            8068     ;       ***     2016-10-31(2016-05-11)          ***
20002                            8069     ;       ***                                     ***
20003                            8070     ;       *******************************************
20004                            8071              .AIF   1 EQ 1  ;
20005                            8072 C   ;       -------- 2016-10-31 ADD 二重回路対策
20006                            8073              .AENDI
20007                                     ***** BEGIN-POOL *****
20008 00003DB6 0000                       ALIGNMENT CODE
20009 00003DB8 00000000                   DATA FOR SOURCE-LINE 8055
20010 00003DBC 00000000                   DATA FOR SOURCE-LINE 8057
20011                                     ***** END-POOL *****
20012 00003DC0                   8074     _POSCTRL_CANSEL_RESET:
20013                            8075             SUB_START
20014 00003DC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
20015                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20016 00003DC2 D10E              8076             MOV.L   #_POSCANSEL_CMD,R1              ;
20017 00003DC4 6011              8077             MOV.W   @R1,R0                          ;
20018 00003DC6 2008              8078             TST     R0,R0                           ;
20019                            8079             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
20020 00003DC8 8913                   M           BT      POSCTRL_CANSEL_RST_EXT
20021                            8080     
20022 00003DCA D10D              8081             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
20023 00003DCC 6011              8082             MOV.W   @R1,R0                          ;
20024 00003DCE 9413              8083             MOV.W   #BIT11,R4                       ;
20025 00003DD0 2048              8084             TST     R4,R0                           ;指令OFF
20026                            8085             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;
20027 00003DD2 8B0E                   M           BF      POSCTRL_CANSEL_RST_EXT
20028                            8086     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   253
PROGRAM NAME =

20029 00003DD4 D10B              8087             MOV.L   #_di1_cb_ctl1_dt,R1             ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼ
                                          ｰｹﾝｽがﾘｾｯﾄでｸﾘｱするため)
20030 00003DD6 6011              8088             MOV.W   @R1,R0                          ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFし
                                          ない)
20031 00003DD8 940F              8089             MOV.W   #_W1RST,R4                      ;ﾘｾｯﾄ釦
20032 00003DDA 2048              8090             TST     R4,R0                           ;ONｴｯｼﾞ
20033                            8091             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
20034 00003DDC 8909                   M           BT      POSCTRL_CANSEL_RST_EXT
20035                            8092     
20036 00003DDE 200A              8093             XOR     R0,R0                           ;
20037 00003DE0 D106              8094             MOV.L   #_POSCANSEL_CMD,R1              ;
20038 00003DE2 2101              8095             MOV.W   R0,@R1                          ;
20039                            8096     
20040 00003DE4 D108              8097             MOV.L   #_reset_flg,R1                  ;
20041 00003DE6 6011              8098             MOV.W   @R1,R0                          ;
20042 00003DE8 2008              8099             TST     R0,R0                           ;
20043                            8100             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;EXQ,EMG
20044 00003DEA 8B02                   M           BF      POSCTRL_CANSEL_RST_EXT
20045                            8101     
20046                            8102             FAR_JSR #_POSCAN_PROC_STEP_RECOVER,R0   ;
20047 00003DEC D007                   M           MOV.L   #_POSCAN_PROC_STEP_RECOVER,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20048 00003DEE 400B                   M           JSR     @R0                     ;
20049 00003DF0 0009                   M           NOP                                     ;
20050                            8103     
20051                            8104     
20052 00003DF2                   8105     POSCTRL_CANSEL_RST_EXT:
20053                            8106     
20054                            8107             SUB_END
20055                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20056 00003DF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20057                            8108             M_RTS
20058 00003DF4 000B                   M           RTS                             ;RTSの後ろの
20059 00003DF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20060                            8109     
20061                            8110     
20062                            8111     
20063                            8112     ;       *******************************************
20064                            8113     ;       ***                                     ***
20065                            8114     ;       ***                                     ***
20066                            8115     ;       ***                                     ***
20067                            8116     ;       ***     EXQ,遮光による行程違いのRECOVER ***
20068                            8117     ;       ***     2016-10-31                      ***
20069                            8118     ;       ***                                     ***
20070                            8119     ;       ***                                     ***
20071                            8120     ;       *******************************************
20072                            8121     ;       リセット時に行う
20073                            8122     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
20074                            8123     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
20075                            8124     ;       このリカバーはハンドシェイク時のみのリカバーとする
20076                            8125              .AIF   1 EQ 1  ;
20077                            8126 C   ;       -------- 2016-10-31 ADD 二重回路対策
20078                            8127              .AENDI
20079                            8128     
20080                            8129     
20081                                     ***** BEGIN-POOL *****
20082 00003DF8 0800                       DATA FOR SOURCE-LINE 8083
20083 00003DFA 8000                       DATA FOR SOURCE-LINE 8089
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   254
PROGRAM NAME =

20084 00003DFC 00000000                   DATA FOR SOURCE-LINE 8076,8094
20085 00003E00 00000000                   DATA FOR SOURCE-LINE 8081
20086 00003E04 00000000                   DATA FOR SOURCE-LINE 8087
20087 00003E08 00000000                   DATA FOR SOURCE-LINE 8097
20088 00003E0C 00000000                   DATA FOR SOURCE-LINE 8102
20089                                     ***** END-POOL *****
20090 00003E10                   8130     _POSCAN_PROC_STEP_RECOVER:
20091                            8131             SUB_START
20092 00003E10 4F22                   M           STS.L   PR,@-R15                ;[必要]
20093                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20094                            8132     
20095                            8133     
20096 00003E12 D115              8134             MOV.L   #_MODE_SEL,R1                           ;
20097 00003E14 6011              8135             MOV.W   @R1,R0                                  ;
20098                            8136     
20099 00003E16 9426              8137             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
20100 00003E18 2048              8138             TST     R4,R0                                   ;
20101                            8139             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1
20102 00003E1A 8953                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20103                            8140     
20104 00003E1C D113              8141             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20105 00003E1E 6011              8142             MOV.W   @R1,R0                                  ;
20106 00003E20 C805              8143             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
20107                            8144             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;
20108 00003E22 894F                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20109                            8145     
20110                            8146     
20111                            8147     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
20112 00003E24 D112              8148             MOV.L   #_EXQ_LT_PROC_CNT1,R1
20113 00003E26 6011              8149             MOV.W   @R1,R0
20114 00003E28 7001              8150             ADD     #1,R0
20115 00003E2A 2101              8151             MOV.W   R0,@R1
20116                            8152     
20117 00003E2C E401              8153             MOV.B   #BIT0,R4
20118 00003E2E D111              8154             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20119 00003E30 6011              8155             MOV.W   @R1,R0
20120 00003E32 204A              8156             XOR     R4,R0
20121 00003E34 2101              8157             MOV.W   R0,@R1
20122                            8158     
20123                            8159     
20124                            8160     ;---------------------------------------------------------
20125                            8161     ;切替条件
20126                            8162     ;       (1)R1:自分が0(emg)でない
20127                            8163     ;       (1)R2:相手も0(emg)でない
20128                            8164     ;         (2-1)自分が最終行程の場合
20129                            8165     ;               (3-1)待機点範囲の場合
20130                            8166     ;                       相手CPUが0または1の場合　
20131                            8167     ;                       自分はEMG処理相当を行う(行程1からはじめる)
20132                            8168     ;               (3-2)待機点範囲でない場合:演算しない
20133                            8169     ;         (2-2)自分が最終行程でない場合
20134                            8170     ;               自分<相手であれば行程を入れ替える
20135                            8171     
20136                            8172             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
20137 00003E36 D010                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20138 00003E38 400B                   M           JSR     @R0                     ;
20139 00003E3A 0009                   M           NOP                                     ;
20140 00003E3C 6303              8173             MOV     R0,R3                           ;R3!=0:待機点
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   255
PROGRAM NAME =

20141                            8174     
20142 00003E3E D50F              8175             MOV.L   #_SV_POS_CTL_STEP,R5            ;
20143 00003E40 6151              8176             MOV.W   @R5,R1                          ;自分
20144                            8177             .AIF    0 EQ    0
20145 00003E42 D60F              8178 C           MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
20146                            8179             .AELSE
20147                            8180             MOV.L   #_CPUA_SV_STEP,R6               ;
20148                            8181             .AENDI
20149 00003E44 6261              8182             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
20150 00003E46 2118              8183             TST     R1,R1                           ;CPUA(自分)
20151                            8184             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;[次の工程は１行程から行う]
20152 00003E48 893C                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20153                            8185     
20154 00003E4A 2338              8186             TST     R3,R3                           ;待機点？
20155                            8187             TST_BIT_OF POSCAN_PROCSTEPRECOVER_200   ;NO!
20156 00003E4C 893C                   M           BT      POSCAN_PROCSTEPRECOVER_200
20157                            8188     
20158 00003E4E D40D              8189             MOV.L   #_CPOS_STEP_MAX,R4              ;
20159 00003E50 6041              8190             MOV.W   @R4,R0                          ;
20160 00003E52 7001              8191             ADD     #1,R0                           ;
20161 00003E54 3010              8192             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
20162 00003E56 8B35              8193             BF      POSCAN_PROCSTEPRECOVER_END1     ;NO!(待機点だが最終ステップではない)
20163                            8194     
20164                            8195     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
20165 00003E58 E001              8196             MOV.B   #1,R0                           ;
20166 00003E5A 2228              8197             TST     R2,R2                           ;
20167                            8198             TST_BIT_OF POSCAN_PROCSTEPRECOVER_100   ;(R2=0:次の工程は0から YES:EMG)
20168 00003E5C 8914                   M           BT      POSCAN_PROCSTEPRECOVER_100
20169                            8199     
20170 00003E5E 3200              8200             CMP/EQ  R0,R2                           ;
20171 00003E60 8912              8201             BT      POSCAN_PROCSTEPRECOVER_100      ;相手CPU=1です
20172                            8202             M_BRA   POSCAN_PROCSTEPRECOVER_END1     ;
20173 00003E62 A02F                   M           BRA     POSCAN_PROCSTEPRECOVER_END1
20174 00003E64 0009                   M           NOP
20175                            8203     
20176                            8204     ;
20177                            8205     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
20178                            8206     ;待機点での方向変更処理が必要
20179                            8207     ;       「EMGと同じ処理」
20180                                     ***** BEGIN-POOL *****
20181 00003E66 001E                       DATA FOR SOURCE-LINE 8137
20182 00003E68 00000000                   DATA FOR SOURCE-LINE 8134
20183 00003E6C 00000000                   DATA FOR SOURCE-LINE 8141
20184 00003E70 00000000                   DATA FOR SOURCE-LINE 8148
20185 00003E74 00000000                   DATA FOR SOURCE-LINE 8154
20186 00003E78 00000000                   DATA FOR SOURCE-LINE 8172
20187 00003E7C 00000000                   DATA FOR SOURCE-LINE 8175
20188 00003E80 00000000                   DATA FOR SOURCE-LINE 8178
20189 00003E84 00000000                   DATA FOR SOURCE-LINE 8189
20190                                     ***** END-POOL *****
20191 00003E88                   8208     POSCAN_PROCSTEPRECOVER_100:
20192                            8209             FAR_JSR #_DNM_CYCLE_END,R0              ;
20193 00003E88 D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20194 00003E8A 400B                   M           JSR     @R0                     ;
20195 00003E8C 0009                   M           NOP                                     ;
20196                            8210             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
20197 00003E8E D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   256
PROGRAM NAME =

20198 00003E90 400B                   M           JSR     @R0                     ;
20199 00003E92 0009                   M           NOP                                     ;
20200                            8211             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
20201 00003E94 D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20202 00003E96 400B                   M           JSR     @R0                     ;
20203 00003E98 0009                   M           NOP                                     ;
20204                            8212     
20205                            8213     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
20206 00003E9A D108              8214             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
20207 00003E9C 6011              8215             MOV.W   @R1,R0                          ;
20208 00003E9E 7001              8216             ADD     #1,R0                           ;
20209 00003EA0 2101              8217             MOV.W   R0,@R1                          ;
20210                            8218     
20211 00003EA2 E402              8219             MOV.B   #BIT1,R4
20212 00003EA4 D106              8220             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20213 00003EA6 6011              8221             MOV.W   @R1,R0
20214 00003EA8 204A              8222             XOR     R4,R0
20215 00003EAA 2101              8223             MOV.W   R0,@R1
20216                            8224     ;       ------ﾃﾞﾊﾞｯｸ--------
20217                            8225             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20218 00003EAC A033                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20219 00003EAE 0009                   M           NOP
20220                            8226     
20221                            8227     
20222                            8228     ;       ==============================================
20223                                     ***** BEGIN-POOL *****
20224 00003EB0 00000000                   DATA FOR SOURCE-LINE 8209
20225 00003EB4 00000000                   DATA FOR SOURCE-LINE 8210
20226 00003EB8 00000000                   DATA FOR SOURCE-LINE 8211
20227 00003EBC 00000000                   DATA FOR SOURCE-LINE 8214
20228 00003EC0 00000000                   DATA FOR SOURCE-LINE 8220
20229                                     ***** END-POOL *****
20230 00003EC4                   8229     POSCAN_PROCSTEPRECOVER_END1     ;
20231                            8230             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20232 00003EC4 A027                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20233 00003EC6 0009                   M           NOP
20234                            8231     
20235                            8232     
20236                            8233     ;       ---------------------途中行程-----------------------
20237 00003EC8                   8234     POSCAN_PROCSTEPRECOVER_200:                     ;NO!
20238 00003EC8 6151              8235             MOV.W   @R5,R1                          ;CPUA(自分)
20239 00003ECA 6261              8236             MOV.W   @R6,R2                          ;CPUB 2BYTE
20240                            8237     
20241 00003ECC 3216              8238             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
20242 00003ECE 890F              8239             BT      POSCAN_PROCSTEPRECOVER_250      ;YES
20243                            8240     
20244                            8241     
20245 00003ED0 D105              8242             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
20246 00003ED2 6011              8243             MOV.W   @R1,R0                          ;
20247 00003ED4 7001              8244             ADD     #1,R0                           ;
20248 00003ED6 2101              8245             MOV.W   R0,@R1                          ;
20249                            8246     
20250 00003ED8 E408              8247             MOV.B   #BIT3,R4
20251 00003EDA D104              8248             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20252 00003EDC 6011              8249             MOV.W   @R1,R0
20253 00003EDE 204A              8250             XOR     R4,R0
20254 00003EE0 2101              8251             MOV.W   R0,@R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   257
PROGRAM NAME =

20255                            8252             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20256 00003EE2 A018                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20257 00003EE4 0009                   M           NOP
20258                            8253     
20259                            8254     
20260                            8255     ;       ------------- 行程変更実地
20261                                     ***** BEGIN-POOL *****
20262 00003EE6 0000                       ALIGNMENT CODE
20263 00003EE8 00000000                   DATA FOR SOURCE-LINE 8242
20264 00003EEC 00000000                   DATA FOR SOURCE-LINE 8248
20265                                     ***** END-POOL *****
20266 00003EF0                   8256     POSCAN_PROCSTEPRECOVER_250:                     ;NO!
20267                            8257     ;       -------2016-07-16---------------
20268                            8258             PUSH_REG1 R2
20269 00003EF0 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20270                                 M                                           ;REG=>[SP]
20271                                 M                                           ;"-4" FF,FF,FF,FC
20272                            8259             PUSH_REG1 R5
20273 00003EF2 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
20274                                 M                                           ;REG=>[SP]
20275                                 M                                           ;"-4" FF,FF,FF,FC
20276                            8260             FAR_JSR #_ROT_CNTMODE_CHK,R0
20277 00003EF4 D009                   M           MOV.L   #_ROT_CNTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20278 00003EF6 400B                   M           JSR     @R0                     ;
20279 00003EF8 0009                   M           NOP                                     ;
20280                            8261             POP_REG1 R5
20281                                 M                                   ; RE"+4" 00,00,00,04
20282 00003EFA 65F6                   M           MOV.L   @R15+,R5        ;
20283                            8262             POP_REG1 R2
20284                                 M                                   ; RE"+4" 00,00,00,04
20285 00003EFC 62F6                   M           MOV.L   @R15+,R2        ;
20286                            8263     ;       -------------------------------
20287                            8264     
20288 00003EFE 2008              8265             TST     R0,R0
20289                            8266             TST_BIT_ON POSCAN_PROCSTEPRECOVER_END   ;
20290 00003F00 8B09                   M           BF      POSCAN_PROCSTEPRECOVER_END
20291                            8267     
20292 00003F02 2521              8268             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
20293                            8269     
20294                            8270     ;       ------ 必要があれば目標位置演算-------------
20295 00003F04 D106              8271             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
20296 00003F06 6011              8272             MOV.W   @R1,R0                          ;
20297 00003F08 7001              8273             ADD     #1,R0                           ;
20298 00003F0A 2101              8274             MOV.W   R0,@R1                          ;
20299                            8275     
20300 00003F0C E404              8276             MOV.B   #BIT2,R4
20301 00003F0E D105              8277             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20302 00003F10 6011              8278             MOV.W   @R1,R0
20303 00003F12 204A              8279             XOR     R4,R0
20304 00003F14 2101              8280             MOV.W   R0,@R1
20305                            8281     
20306                            8282     
20307 00003F16                   8283     POSCAN_PROCSTEPRECOVER_END:
20308                            8284     
20309                            8285             SUB_END
20310                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20311 00003F16 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   258
PROGRAM NAME =

20312                            8286             M_RTS
20313 00003F18 000B                   M           RTS                             ;RTSの後ろの
20314 00003F1A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20315                            8287     
20316                                     ***** BEGIN-POOL *****
20317 00003F1C 00000000                   DATA FOR SOURCE-LINE 8260
20318 00003F20 00000000                   DATA FOR SOURCE-LINE 8271
20319 00003F24 00000000                   DATA FOR SOURCE-LINE 8277
20320                                     ***** END-POOL *****
20321 00003F28                   8288     _ROT_CNTMODE_CHK:
20322                            8289             SUB_START
20323 00003F28 4F22                   M           STS.L   PR,@-R15                ;[必要]
20324                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20325                            8290     
20326 00003F2A 9416              8291             MOV.W   #1,R4   ;
20327 00003F2C 3140              8292             CMP/EQ  R4,R1   ;自分はSTEP1
20328 00003F2E 8B1F              8293             BF      ROT_CNTMODCHK_100               ;変更可能(自分が1でない)
20329                            8294     
20330 00003F30 D40B              8295             MOV.L   #_CPOS_STEP_MAX,R4              ;
20331 00003F32 6041              8296             MOV.W   @R4,R0                          ;
20332 00003F34 7001              8297             ADD     #1,R0                           ;
20333 00003F36 3020              8298             CMP/EQ  R2,R0                           ;相手が最終行程
20334 00003F38 8B1A              8299             BF      ROT_CNTMODCHK_100               ;変更可能(相手が最終ｽﾃｯﾌﾟではない)
20335                            8300     
20336 00003F3A D10A              8301             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
20337 00003F3C 6011              8302             MOV.W   @R1,R0                          ;
20338 00003F3E C801              8303             TST     #(_DMATH_CNTROT),R0             ;回転
20339                            8304             TST_BIT_OF ROT_CNTMODCHK_100            ;NO! 変更可能
20340 00003F40 8916                   M           BT      ROT_CNTMODCHK_100
20341                            8305     
20342                            8306     ;待機点Vﾓｰﾄﾞ
20343 00003F42 D109              8307             MOV.L   #_SETX_POS_MOD_FLG1,R1          ;
20344 00003F44 6011              8308             MOV.W   @R1,R0                          ;
20345 00003F46 C905              8309             AND     #(BIT2+BIT0),R0                 ;
20346 00003F48 8805              8310             CMP/EQ  #(BIT2+BIT0),R0                 ;
20347 00003F4A 8B11              8311             BF      ROT_CNTMODCHK_100               ;回転,連続で待機点停止無し? NO
20348                            8312     
20349                            8313     
20350 00003F4C D107              8314             MOV.L   #_LINK_CLANK_PV,R1              ;
20351 00003F4E 6011              8315             MOV.W   @R1,R0                          ;
20352 00003F50 9404              8316             MOV.W   #D'600,R4                       ;60.0
20353 00003F52 3042              8317             CMP/HS  R4,R0                           ;
20354 00003F54 890C              8318             BT      ROT_CNTMODCHK_100               ;60<ｸﾗﾝｸ角度が大きい
20355                            8319             M_BRA   ROT_CNTMODCHK_200               ;0~60度だ.
20356 00003F56 A00E                   M           BRA     ROT_CNTMODCHK_200
20357 00003F58 0009                   M           NOP
20358                            8320     
20359                                     ***** BEGIN-POOL *****
20360 00003F5A 0001                       DATA FOR SOURCE-LINE 8291
20361 00003F5C 0258                       DATA FOR SOURCE-LINE 8316
20362 00003F5E 0000                       ALIGNMENT CODE
20363 00003F60 00000000                   DATA FOR SOURCE-LINE 8295
20364 00003F64 00000000                   DATA FOR SOURCE-LINE 8301
20365 00003F68 00000000                   DATA FOR SOURCE-LINE 8307
20366 00003F6C 00000000                   DATA FOR SOURCE-LINE 8314
20367                                     ***** END-POOL *****
20368 00003F70                   8321     ROT_CNTMODCHK_100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   259
PROGRAM NAME =

20369 00003F70 200A              8322             XOR     R0,R0                   ;変更する
20370                            8323             M_BRA   ROT_CNTMODCHK_END       ;
20371 00003F72 A001                   M           BRA     ROT_CNTMODCHK_END
20372 00003F74 0009                   M           NOP
20373                            8324     
20374 00003F76                   8325     ROT_CNTMODCHK_200:
20375 00003F76 E001              8326             MOV.B   #1,R0                   ;変更しない
20376 00003F78                   8327     ROT_CNTMODCHK_END:
20377                            8328             SUB_END
20378                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20379 00003F78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20380                            8329             M_RTS
20381 00003F7A 000B                   M           RTS                             ;RTSの後ろの
20382 00003F7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20383                            8330     
20384                            8331     
20385                            8332     
20386                            8333             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   260

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ANTI_CHK_0100                    P             000006C2   7651*
ANTI_CHK_0130                    P             000006F4   7681  7690*
ANTI_CHK_0150                    P             00000720   7649  7711*
ANTI_CHK_0500                    P             00000740   7628  7739*
ANTI_CHK_EXIT                    P             00000754   7638  7695  7719  7726  7744  7754*
API_EXQ_STEP_STSGET_EXT          P             00003D92  19948 19958*
BIT0                                      EQU  00000001     15* 2029  2333  2348  6267  6291  6323  6644  6704  6721  6753  6767 
                                                          6869  7070  7299  7350  7380  7388  7397  7502  7662  7684  7723  7742 
                                                          7809  7832  7903  7967  8070  8161  8287  8517  8672  9211  9342  9384 
                                                          9654  9824 10000 10007 10164 10194 10250 10303 10319 10467 10511 10565 
                                                         10627 10643 10730 10737 11812 11870 12152 12235 12400 12428 12446 12668 
                                                         12669 12693 12694 12725 12842 13178 13247 13308 13456 13888 13978 14047 
                                                         14070 14136 14151 14284 14498 14817 14828 15290 15303 15526 15543 15569 
                                                         15605 16071 16078 16161 16206 16422 16447 16627 16648 16692 16698 16827 
                                                         16841 16856 17021 17042 17050 17129 17219 17224 17295 17321 17339 17506 
                                                         17581 17653 18312 18318 18357 18363 18408 18607 18615 18887 19492 19759 
                                                         19795 19849 19897 19915 19949 20117 20345 20346 
BIT1                                      EQU  00000002     16* 2030  2334  2349  6361  6449  6721  6753  6767  7070  7510  7821 
                                                          7847  8867  8963  9113  9211  9540  9932 10397 10524 10581 10671 10821 
                                                         10828 10872 10920 10955 11020 12149 12207 12235 12400 12428 12446 13326 
                                                         13337 13473 13485 14284 15290 15707 15780 15806 16653 16692 16885 16989 
                                                         17210 17589 17605 18252 19187 19616 20211 
BIT10                                     EQU  00000400     25* 2359  7089  7123  7187 10283 12544 13947 16851 16853 16900 16996 
                                                         19181 
BIT11                                     EQU  00000800     26* 2360  7089  7134  8890  9425 10436 10996 13090 14754 14775 16851 
                                                         16872 16900 17002 19216 20024 
BIT12                                     EQU  00001000     27* 2365  7089  7139  8890  9425 13090 15242 15975 17162 17433 17441 
                                                         17639 17665 17802 18003 
BIT13                                     EQU  00002000     28* 2366  7089  7118 13981 15975 17701 
BIT14                                     EQU  00004000     29* 2367  7089  9197 15894 15975 16685 19296 19366 
BIT15                                     EQU  00008000     30* 2368 13947 13960 14464 14559 15894 15975 16776 16939 19263 19388 
                                                         19411 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2031  2335  2350  2370  6353  6549  6721  7070  7523  9348  9569 
                                                          9899 10034 10218 10371 10461 10561 10756 10845 10908 12531 13353 13365 
                                                         13501 13513 14284 14619 15704 15817 15833 15855 16875 17585 17648 18830 
                                                         19293 19690 20300 20345 20346 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2032  2336  2351  2371  6721  7070  7223  7535  8223  8602  9461 
                                                          9477 10946 11219 14284 15693 15884 16362 18934 19293 19663 20250 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   261

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT4                                      EQU  00000010     19* 2337  2352  2372  6721  6919  6973  6994  7070  7548  9435 10942 
                                                         10949 11826 11831 12253 12668 12669 12693 12694 12842 14081 14284 14692 
                                                         15459 15901 16571 17008 18191 18206 19150 19293 19783 
BIT5                                      EQU  00000020     20* 2338  2353  2373  6721  7070  7561 11831 12009 12253 13960 14284 
                                                         14291 15090 15096 15153 15159 15611 15855 15909 16409 16415 18773 19175 
BIT6                                      EQU  00000040     21* 2339  2354  2374  6721  7070  7572 14047 14138 14284 14692 15611 
                                                         15612 15877 15934 17008 17229 17616 17740 18003 18789 19210 
BIT7                                      EQU  00000080     22* 2340  2355  2375  6923  7647  7679 11197 13017 15556 15662 17013 
                                                         17610 17658 17740 18003 18191 18636 18959 19259 
BIT8                                      EQU  00000100     23* 2341  2356  7205  7227  9799  9858 13097 17013 17155 17665 17769 
                                                         18003 18985 
BIT9                                      EQU  00000200     24* 2342  2357  7205  9799 11205 13116 19075 19089 19175 19210 
BRKTST_CHKDTMK_100               P             00002D66  16511 16513*
BRKTST_CTL_050                   P             00002894  15552 15559*
BRKTST_CTL_090                   P             000028AE  15545 15558 15567 15583*
BRKTST_CTL_100                   P             000028D4  15528 15601*
BRKTST_CTL_150                   P             0000292C  15613 15660*
BRKTST_CTL_190                   P             0000293C  15645 15676*
BRKTST_CTL_200                   P             00002950  15607 15689*
BRKTST_CTL_220                   P             00002960  15695 15703*
BRKTST_CTL_250                   P             0000297C  15722 15732*
BRKTST_CTL_260                   P             0000299C  15742 15758*
BRKTST_CTL_290                   P             000029BE  15724 15740 15750 15765 15767 15782*
BRKTST_CTL_300                   P             000029D4  15709 15795*
BRKTST_CTL_350                   P             00002A08  15808 15830*
BRKTST_CTL_360                   P             00002A1A  15835 15845*
BRKTST_CTL_390                   P             00002A2A  15820 15843 15857*
BRKTST_CTL_400                   P             00002A40  15706 15873*
BRKTST_CTL_450                   P             00002A62  15897 15905*
BRKTST_CTL_490                   P             00002A6A  15879 15903 15912*
BRKTST_CTL_500                   P             00002A7C  15697 15925*
BRKTST_CTL_900                   P             00002A9C  15585 15678 15784 15859 15914 15937 15949*
BRKTST_CTL_950                   P             00002AC4  15971 15978*
BRKTST_INPUTMK_100               P             00002B40  16056 16062 16073 16095*
BRKTST_INPUTMK_200               P             00002B4A  16085 16102*
BRKTST_MOD_CF_END                P             00002AF0  16025 16028*
BRKTST_RDYCHK_END                P             00002C34  16281 16298*
BRKTST_RDYCHK_OFF                P             00002C2C  16202 16208 16260 16291*
BRKTST_RDYCHK_ON                 P             00002C10  16262 16270*
BRKTST_RDYCHK_START_WAIT         P             00002C32  16235 16296*
BRKTST_RDYCK_0198                P             00002BD2  16228 16233*
BRKTST_RDYCK_0200                P             00002BFC  16191 16253*
BRKTST_RDY_SFTY_MASK2CHK055      P             00002B74  16143 16157*
BRKTST_RDY_SFTY_MASK2CHK060      P             00002B90  16163 16178*
BRKTST_RDY_SFTY_MASK2CHK100      P             00002B96  16150 16170 16183*
BRKTST_SPDCHK_100                P             00002DB6  16566 16574*
BRKTST_STOPSIG_MK300             P             00002E0C  16629 16644 16656*
BRKTST_STR_POW_100               P             00002CF2  16444 16457*
BRK_RDY_ON_CF_998                P             00002E40  16703*
BRK_RDY_ON_CF_999                P             00002E54  16688 16694 16700 16715*
BRK_RDY_ON_CF_EXT                P             00002E56  16706 16717*
BTTN_DRVSEP_CHK_CLR              P             00000E4C   9350  9360*
BTTN_DRVSEP_CHK_END              P             00000E52   9344  9364*
BTTN_START_CK100                 P             00000E66   9386  9396*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   262

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BTTN_START_CK150                 P             00000E90   9403  9419*
BTTN_START_CK180                 P             00000EA2   9428  9438*
BTTN_START_CK190                 P             00000EB4   9437  9451*
BTTN_START_CK192                 P             00000ED4   9456  9472*
BTTN_START_CK195                 P             00000EDE   9465  9480*
BTTN_START_CK200                 P             00000EF8   9487  9498*
BTTN_START_CK220                 P             00000EFA   9406  9441  9500*
BTTN_START_CK300                 P             00000EFE   9489  9505*
BTTN_START_CK320                 P             00000F3C   9536  9542  9564*
BTTN_START_CK350                 P             00000F68   9571  9599*
BTTN_START_CK550                 P             00000F78   9552  9580  9589  9613*
BTTN_START_CK570                 P             00000F7E   9352  9550  9606  9618*
BTTN_START_CK599                 P             00000F84   9510  9587  9604  9623*
BTTN_START_CKEXT                 P             00000F86   9616  9621  9625*
CMPAB_NEAR_END_PC_100            P             00001EFC  13307 13324*
CMPAB_NEAR_END_PC_200            P             00001F24  13328 13351*
CMPAB_NEAR_END_PC_ED             P             00001F46  13370 13378*
CMPAB_NEAR_END_PC_NG             P             00001F44  13315 13335 13344 13363 13376*
CMPAB_NEAR_END_PC_OK             P             00001F3A  13355 13367*
CNT_SPM_DSPCK050                 P             00001EC4  13240 13245 13251*
CONT_LOT_CHK050                  P             00001C98  12746 12749*
CONT_MD_CHK050                   P             00001E14  13100 13114*
CONT_MD_CHK100                   P             00001E1E  13085 13093 13104 13119 13122*
CTRL_UP_HOLD_CK_200              P             00001A08  11969 11984*
CTRL_UP_HOLD_CK_300              P             00001A10  11987 11993*
CTRL_UP_HOLD_CK_400              P             00001A1C  11971 11989 11996 12005*
CTRL_UP_HOLD_CK_700              P             00001A30  12000 12013 12020*
CTRL_UP_HOLD_CK_END              P             00001A38  11946 12002 12011 12015 12033*
CTRL_UP_HOLD_CK_ST00             P             00001944  11794 11809*
CTRL_UP_HOLD_CK_ST20             P             00001954  11814 11822*
CTRL_UP_HOLD_CK_ST40             P             00001964  11828 11833*
CTRL_UP_HOLD_CK_ST50             P             00001980  11855 11866*
CTRL_UP_HOLD_CK_STAA             P             00001936  11788 11795*
CTRL_UP_HOLD_CK_ST_EXT           P             00001988  11797 11816 11840 11864 11880*
CTRL_UP_LOT_CK_200               P             00001D5C  12895 12909*
CTRL_UP_LOT_CK_300               P             00001D64  12912 12918*
CTRL_UP_LOT_CK_400               P             00001D70  12914 12921 12931*
CTRL_UP_LOT_CK_700               P             00001D78  12925 12934 12938*
CTRL_UP_LOT_CK_END               P             00001D80  12871 12897 12927 12936 12948*
CW_CCW_ESTEPTMCHK_010            P             000018D4  11692 11700*
CW_CCW_ESTEPTMCHK_100            P             000018FE  11727 11729 11733 11736*
CW_CCW_ESTEPTMCHK_200            P             0000190A  11740 11742 11747*
CW_CCW_ESTEPTMCHK_LOP            P             000018E8  11719*11751 
CW_CCW_ESTEPTMCHK_LOPEND         P             0000191C  11694 11722 11758*
CW_CCW_ESTEPTMCHK_START          P             000018C4  11683 11687*
CW_CCW_ESTEP_LOP000              P             0000186C  11608*11678 
CW_CCW_ESTEP_LOP050              P             0000187A  11615 11618*
CW_CCW_ESTEP_LOP150              P             0000189C  11625 11643*
CW_CCW_ESTEP_LOP300              P             000018A8  11622 11657*
CW_CCW_ESTEP_LOP320              P             000018AE  11660 11663*
CW_CCW_ESTEP_LOP340              P             000018B4  11667 11671*
CW_CCW_ESTEP_LOP400              P             000018B6  11630 11634 11647 11651 11673*
CW_CCW_ESTEP_LOPEND              P             000018C0  11611 11681*
DEBUG_CMPERR_STSMK10             P             00000642   7501  7503*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   263

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DEBUG_CMPERR_STSMK100            P             00000674   7560  7562*
DEBUG_CMPERR_STSMK150            P             0000067E   7571  7573*
DEBUG_CMPERR_STSMK20             P             0000064C   7509  7511*
DEBUG_CMPERR_STSMK40             P             00000656   7522  7524*
DEBUG_CMPERR_STSMK60             P             00000660   7534  7536*
DEBUG_CMPERR_STSMK80             P             0000066A   7547  7549*
DNMOBJ_ARASIG2_100               P             00003D34  19864 19880*
DNMOBJ_ARASIG2_120_SET           P             00003D48  19866 19892*
DNMOBJ_ARASIG2_150               P             00003D68  19839 19845 19851 19891 19910*
DNMOBJ_ARASIG2_200               P             00003D70  19900 19918*
DRV_START_ININW1_050             P             00001E88  13172 13194*
DRV_START_ININW1_100             P             00001E8E  13182 13198*
DRV_START_KEP_WAIT_100           P             00002604  14819 14826 14842*
DRV_START_KEP_WAIT_END           P             0000262A  14860 14865 14876*
DRV_START_KEP_WAIT_NON           P             00002614  14813 14857*
DRV_START_KEP_WAIT_START         P             00002622  14850 14871*
DRV_START_KEP_WAIT_USE           P             0000261A  14832 14847 14862*
EP_SENCER_CK020                  P             000036E0  18560 18571*
EP_SENCER_CK030                  P             000036F0  18576 18585*
EP_SENCER_CK040                  P             0000370C  18593 18606*
EP_SENCER_CK050                  P             00003738  18554 18635*
EP_SENCER_CK100                  P             00003740  18638 18644*
EP_SENCER_CK150                  P             00003764  18662 18672*
EP_SENCER_CK200                  P             00003774  18679 18688*
EP_SENCER_CK800                  P             00003A7C  18578 19250 19257*
EP_SENCER_CK900                  P             00003A98  18599 18664 18834 18938 19154 19279*
EP_SENCER_CK950                  P             00003AB4  19268 19301*
EP_SENCER_CKEND                  P             00003ABE  18625 18640 18681 18753 18810 18844 18870 18919 18947 18971 18997 19052 
                                                         19110 19137 19163 19196 19241 19309*
EP_SENCER_CKEXT                  P             00003AC6  18562 19315*
EP_STEP_ENDSIG                   P             00003A78  19248*
EP_STEP_ENDSIG_A                 P             00003A00  18514 19171*
EP_STEP_ENDSIG_B                 P             00003A38  18522 19206*
EP_STEP_EPSENSIG_A               P             000038D0  18511 18955*
EP_STEP_EPSENSIG_B               P             000038FC  18519 18981*
EP_STEP_RESETON_COM              P             00003978  18513 18521 19070*
EP_STEP_RESET_100                P             00003948  19016 19032*
EP_STEP_RESET_COM_150            P             000039C0  19101 19122*
EP_STEP_RESET_COM_170            P             000039E8  19128 19146*
EP_STEP_RESET_COM_190            P             000039FC  19083 19161*
EP_STEP_RESET_DATSET1            P             00003928  18512 18520 19011*
EP_STEP_RESET_DATSET_COM         P             00003950  19024 19039*19226 
EP_STEP_USE_RY_A                 P             000037E4  18508 18769*
EP_STEP_USE_RY_B                 P             000037F8  18516 18785*
EP_STEP_USE_RY_COM               P             00003802  18777 18792*
EP_STEP_USE_RY_COM_150           P             00003828  18801 18820*
EP_STEP_USE_RY_COM_190           P             00003848  18825 18842*
EP_STEP_USE_RY_DATSETCOM         P             000037BC  18726 18740*
EP_STEP_USE_RY_DATSET_A          P             000037A0  18507 18719*
EP_STEP_USE_RY_DATSET_B          P             000037B4  18515 18733*
EP_STEP_VALVON_COM               P             0000387C  18510 18518 18886*
EP_STEP_VALVON_DATSET            P             0000384C  18509 18517 18852*
EP_STEP_VALV_COM_150             P             000038B8  18910 18929*
EP_STEP_VALV_COM_190             P             000038CC  18896 18945*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   264

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

EP_STEP_XX                       P             00003A7C  18523 18524 18525 18526 18527 18528 18529 18530 18531 18532 18533 18534 
                                                         18535 18536 18537 18538 18539 19254*
EXQ_PROC_STEPRECOVER_100         P             00003BDC  19545 19548 19570*
EXQ_PROC_STEPRECOVER_150         P             00003C00  19576 19595*
EXQ_PROC_STEPRECOVER_180         P             00003C0C  19587 19604*
EXQ_PROC_STEPRECOVER_200         P             00003C40  19533 19642*
EXQ_PROC_STEPRECOVER_250         P             00003C74  19655 19680*
EXQ_PROC_STEPRECOVER_END         P             00003C88  19623 19637 19648 19669 19698*
EXQ_PROC_STEPRECOVER_END1        P             00003C3C  19469 19477 19483 19529 19539 19550 19635*
EXT_DRVBTTN_INFO_MK100           P             00002ECC  16829 16839 16843*
EXT_DRVBTTN_INFO_MK200           P             00002EFC  16855 16871*
EXT_DRVBTTN_INFO_MK300           P             00002F0A  16874 16883*
EXT_DRVBTTN_INFO_MK400           P             00002F0C  16858 16877 16887*
EXT_DRVBTTN_INFO_MK410           P             00002F1E  16897 16903*
EXT_DRVBTTN_INFO_MK420           P             00002F38  16902 16919*
EXT_DRVBTTN_INFO_MK450           P             00002F4C  16924 16934*
EXT_DRVBTTN_INFO_MK500           P             00002F5E  16909 16928 16948*
EXT_DRVBTTN_MOD100               P             00002E88  16782 16784*
EXT_DRVBTTN_MODJG_CF300          P             00002FC4  16991 16999 17011 17016 17023 17041*
EXT_DRVBTTN_MODJG_CF500          P             00002FC6  16982 17005 17025 17043*
EXT_DRVBTTN_MODJG_CF700          P             00002FDA  17052 17061*
EXT_DRVBTTN_MOD_END              P             00002E94  16763 16794*
HOLD1_DNSTARTPOSCK100            P             00003200  17525 17531 17545*
HOLD1_DNSTARTPOSCK200            P             00003206  17537 17550*
H_BYTE                                    EQU  00000000     82*
INC_RSTDAT_CHK230                P             00003628  18441 18446 18451*
INC_RSTMODECK020                 P             000034D0  18171 18180*
INC_RSTMODECK100                 P             000034EC  18187 18203*
INC_RSTMODECK200                 P             000034F4  18195 18211*
INC_RSTMODECK240                 P             00003558  18255 18280*
INC_RSTMODECK260                 P             00003562  18264 18289*
INC_RSTMODECK280                 P             00003574  18250 18266 18287 18298 18302*
INC_RSTMODECK290                 P             000035B0  18314 18341*
INC_RSTMODECK300                 P             000035C0  18307 18320 18327 18347 18355*
INC_RSTMODECK490                 P             000035DC  18193 18208 18241 18376*
INC_RSTMODECK499                 P             000035DE  18173 18378*
INC_RSTMODECK500                 P             000035E0  18365 18380*
INC_SPEC_RSTCK100                P             00003608  18400 18406 18418*
INC_SPEC_RSTCK200                P             0000360A  18410 18420*
JMP0100001                       P             0000267C  15055 15074*
JMP0100002                       P             000026CC  15121 15138*
JMP0100003                       P             00003530  18261 18263*
JMP0100004                       P             00003560  18284 18286*
JMP0200001                       P             00002688  15059 15061 15064 15077 15079 15081*
JMP0200002                       P             000026D8  15125 15127 15130 15141 15143 15145*
JMP10000000                      P             00001F70  13455 13471*
JMP20000000                      P             00001F98  13475 13499*
JMP_0100005                      P             0000374C  18650 18653*
JMP_0100006                      P             00003780  18693 18696*
JMP_ED00000                      P             00001FBA  13518 13526*
JMP_NG00000                      P             00001FB8  13463 13483 13492 13511 13524*
JMP_OK00000                      P             00001FAE  13503 13515*
LOT_CNTCNT_050                   P             00001C58  12670 12680*
LOT_CNTCNT_080                   P             00001C6C  12695 12704*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   265

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

LOT_CNTCNT_200                   P             00001C9A  12664 12672 12697 12712 12721 12753*
L_BYTE                                    EQU  00000001     81*
MASK2_SFYSTP400                  P             000027A4  15292 15322*
MASK2_SFYSTP500                  P             000027AA  15286 15305 15327*
MASK2_SFYSTP600                  P             000027AC  15309 15329*
MASK2_SFYSTPEXT                  P             000027B0  15333*
MODE_CCC_STOPCHK                 P             000012F4  10439 10450*
MODE_CCC_STPCMP_120              P             00001310  10463 10469*
MODE_CCS_STPCMP_105              P             00001380  10507 10545*
MODE_CCS_STPCMP_120              P             0000138E  10563 10569*
MODE_CCS_STPCMP_140              P             000013F0  10577 10624*
MODE_CCS_STPCMP_145              P             000013F8  10583 10590 10604 10634*
MODE_CCS_STPCMP_200              P             00001448  10606 10629 10701*
MODE_CCS_STPCMP_250              P             0000145E  10726 10734*
MODE_CCS_STPCMP_270              P             00001466  10740*
MODE_CCS_STPCMP_280              P             00001466  10753*
MODE_CCS_STPCMP_300              P             00001474  10531 10645 10686 10732 10758 10766*
MODE_CHG_050                     P             00000446   7074  7076*
MODE_CHG_080                     P             00000470   7093  7111*
MODE_CHG_080_SGL                 P             000004B4   7121  7176*
MODE_CHG_080_SNG                 P             000004BE   7126  7186*
MODE_CHG_100                     P             000004CC   7084  7198*
MODE_CHG_150                     P             000004E4   7201  7216*
MODE_CHG_200                     P             00000504   7219  7239*
MODE_CHG_800                     P             00000506   7080  7098  7158  7169  7180  7191  7209  7226  7230  7241*
MODE_CHG_EXT                     P             0000050A   7244*
MODE_CHG_OPT050                  P             000004A0   7137  7142  7154*
MODE_CHG_OPT090                  P             000004AA   7132  7144  7165*
MODE_CNTCNF1_STPCHK_210          P             000011A8  10141 10151*
MODE_CNTCNF1_STPCHK_220          P             000011B0  10145 10158*
MODE_CNTCNF1_STPCHK_250          P             000011B8  10157 10167*
MODE_CNTCOM1_STPCMP_100          P             0000116C  10081 10089 10097 10105*
MODE_CNTCOM2_STPCHK_280          P             000011F0  10204 10214*
MODE_CNTCOM2_STPCHK_300          P             000011FE  10196 10206 10220 10227*
MODE_CNT_STPCHK_050              P             0000106C   9861  9873*
MODE_CNT_STPCHK_080              P             00001076   9865  9891*
MODE_CNT_STPCHK_120              P             00001050   9810  9855*
MODE_CNT_STPCHK_150              P             0000108A   9831  9921*
MODE_CNT_STPCHK_199              P             000010BC   9802  9894  9952*
MODE_CNT_STPCHK_200              P             000010C2   9820  9957*
MODE_CNT_STPCHK_210              P             000010DC   9964  9976*
MODE_CNT_STPCHK_220              P             000010EC   9968  9996*
MODE_CNT_STPCHK_250              P             000010F4   9982  9993 10003*
MODE_CNT_STPCHK_280              P             00001124  10017 10030*
MODE_CNT_STPCHK_300              P             00001132   9901  9912  9940 10009 10019 10036 10047*
MODE_CNT_STPCMP_100              P             00000FF4   9743  9751  9759  9766*
MODE_CSS_STOPCHK_START           P             00001330  10441 10493*
MODE_CSS_STOPCK1000              P             00001474  10478 10768*
MODE_CTL_100                     P             00000540   7301  7310*
MODE_CTL_ET900                   P             000005BA   7358  7364  7399  7424*
MODE_CTL_EXIT                    P             000005CE   7303  7343  7352  7382  7390  7432  7444*
MODE_DUP_STPCHK100               P             00001550  10904 10938*
MODE_DUP_STPCHK200               P             0000156C  10910 10928 10944 10948 10962*
MODE_INC_STPCHK_000              P             000014D4  10798 10815 10842*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   266

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

MODE_INC_STPCHK_050              P             000014E6  10796 10823 10832 10862*
MODE_INC_STPCHK_100              P             000014F8  10830 10847 10858 10879*
MODE_SGL_STPCHK_050              P             0000124C  10286 10300*
MODE_SGL_STPCHK_080              P             0000128C  10315 10347*
MODE_SGL_STPCHK_100              P             0000129C  10305 10360*
MODE_SGL_STPCHK_150              P             000012AE  10336 10386*
MODE_SGL_STPCHK_200              P             000012C0  10292 10353 10373 10383 10406*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEWMASK_SELSTOPCHK400            P             00001B2E  12332 12354*
NEWMASK_SELSTOPCHK500            P             00001B4C  12339 12345 12351 12371*
NEWMASK_SELSTOPCHKEND            P             00001B52  12360 12376*
NZ_TIM_CK1_100                   P             0000241E  14378 14384 14387*
NZ_TIM_CK1_200                   P             00002432  14393 14399 14402*
OPT_SGL_SFTY_MASKCHK_080         P             00001BFC  12547 12568*
OPT_SGL_SFTY_MASKCHK_100         P             00001C0C  12540 12586*
OPT_SGL_SFTY_MASKCHK_400         P             00001C28  12556 12576 12604 12610 12620*
OPT_SGL_SFTY_MASKCHK_500         P             00001C2E  12526 12533 12554 12578 12612 12627*
OPT_SGL_SFTY_MASKCHK_END         P             00001C30  12623 12629*
ORGIN_180CK_100                  P             000026B0  15085 15116*
ORGIN_180CK_200                  P             00002700  15148 15173*
ORGIN_180CK_300                  P             00002700  15106 15163 15183*
ORGIN_MODE_SEL_ST090             P             000024DC  14562 14564*
ORGIN_MODE_SEL_STEND             P             000024E0  14554 14567*
ORGIN_MODE_SEL_WT090             P             0000246A  14467 14469*
ORGIN_MODE_SEL_WT100             P             00002488  14459 14487*
ORGIN_MODE_SEL_WTEND             P             00002498  14432 14474 14492 14502*
ORGIN_MODE_START_WT10            P             000008C0   8033  8043*
ORGIN_MODE_ST_WT100              P             00002540  14613 14639*
ORGIN_MODE_ST_WTEND              P             0000255E  14655 14660 14665*
ORGIN_MODE_ST_WT_NOT             P             0000255C  14601 14607 14663*
ORGIN_MODE_ST_WT_START           P             00002550  14627 14644 14652*
ORGIN_MODE_ST_WT_WAIT            P             00002556  14621 14657*
P                                P        SCT  00000000   5865*
POSCAN_PROCSTEPRECOVER_100       P             00003E88  20168 20171 20191*
POSCAN_PROCSTEPRECOVER_200       P             00003EC8  20156 20237*
POSCAN_PROCSTEPRECOVER_250       P             00003EF0  20242 20266*
POSCAN_PROCSTEPRECOVER_END       P             00003F16  20218 20232 20256 20290 20307*
POSCAN_PROCSTEPRECOVER_END1      P             00003EC4  20102 20108 20152 20162 20173 20230*
POSCTRL_CANSEL_RST_EXT           P             00003DF2  20020 20027 20034 20044 20052*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   267

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POSHLD1_SIGCHK_100               P             00003348  17778 17790*
POSHLD1_SIGCHK_200               P             0000334E  17772 17782 17795*
POSHLD1_SIGCHK_300               P             00003374  17811 17823*
POSHLD1_SIGCHK_400               P             0000337A  17805 17815 17828*
POSHLD1_STEP1_STOP100            P             00003014  17131 17144*
POSHLD1_STEP1_STOP150            P             00003060  17151 17180 17195*
POSHLD1_STEP1_STOPEXT            P             000030C2  17251 17257 17262*
POSHLD1_STEP1_STOPNO             P             000030B4  17158 17165 17171 17182 17248*
POSHLD1_STEP1_STOPSTOP           P             000030C0  17260*
POSHLD1_STEP1_STOPWAIT           P             000030BA  17133 17234 17254*
POSHLD1_STEP2_START100           P             00003258  17591 17622*
POSHLD1_STEP2_START200           P             00003264  17634*
POSHLD1_STEP2_START500           P             000032D0  17629 17696*
POSHLD1_STEP2_STARTEXT           P             000032E2  17583 17587 17642 17675 17711*
POSHLD1_STOPBTTNCMDCK_050        P             000030DA  17285 17291*
POSHLD1_STOPBTTNCMDCK_100        P             000030E2  17290 17297*
POSHLD1_STOPCONF_100             P             0000310C  17324 17333*
POSHLD1_STOPCONF_200LOP          P             00003118  17344*17493 
POSHLD1_STOPCONF_300             P             000031B4  17372 17477*
POSHLD1_STOPCONF_350             P             000031B8  17421 17482*
POSHLD1_STOPCONF_400             P             000031BC  17354 17418 17428 17448 17479 17486*
POSHLD1_STOPCONF_499             P             000031C8  17491 17496*
POSHLD1_STOPCONF_500             P             000031CA  17350 17498*
POSHLD1_STOPCONF_STOPEND         P             000031D2  17502 17508*
POSHLD1_STOPCONF_STOPNO          P             000031CA  17365 17499*
POSHLD1_STOPCONF_STOPSTOP        P             000031D0  17436 17505*
POS_CANSEL_STPCHK_END            P             000015CE  11030 11044*
POS_CANSEL_STPCHK_MOV            P             000015CC  11000 11042*
RDY_CHK_0030                     P             0000087C   7975  7986*
RDY_CHK_0050                     P             00000880   7969  7991*
RDY_CHK_0060                     P             0000089C   8003  8013*
RDY_CHK_0070                     P             000008C4   8031  8048*
RDY_CHK_0120                     P             00000958   8190  8200*
RDY_CHK_0150                     P             000009A0   8314  8323*
RDY_CHK_0198                     P             000009C2   8342  8347*
RDY_CHK_0199                     P             00000A04   8273  8289  8321  8374*
RDY_CHK_0200                     P             00000A1C   8192  8396*
RDY_CHK_0200_START               P             00000AEC   8551  8585*
RDY_CHK_0200_START_WAIT          P             00000ABC   8005  8538*
RDY_CHK_0200_START_WT2           P             00000AE8   8559  8570  8580*
RDY_CHK_0220                     P             00000A8C   7907  8035  8455  8482  8503*
RDY_CHK_0280                     P             00000A70   8444  8467*
RDY_CHK_0290                     P             00000BA4   8494  8738*
RDY_CHK_0290A                    P             00000A84   8428  8446  8492*
RDY_CHK_0299                     P             00000BB8   8499  8572  8745  8755*
RDY_CHK_0299A                    P             00000A88   8412  8430  8497*
RDY_CHK_0399                     P             00000BD0   8045  8484  8527  8582  8712  8747  8775*
RDY_CHK_0500                     P             00000BE4   7988  8792*
RDY_CHK_0505                     P             00000C0C   8817  8827*
RDY_CHK_0510                     P             00000C20   8839  8847*
RDY_CHK_0520                     P             00000C30   8854  8862*
RDY_CHK_0525                     P             00000C40   8869  8876*
RDY_CHK_0530                     P             00000C64   8893  8909*
RDY_CHK_0600                     P             00000C74   8888  8921*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   268

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RDY_CHK_0650                     P             00000C88   8925  8938*
RDY_CHK_0700                     P             00000CC4   8942  9001*
RDY_CHK_0750                     P             00000CE0   9005  9021*
RDY_CHK_0950                     P             00000CF4   9025  9037*
RDY_CHK_1000                     P             00000CFA   7928  8819  8841  8856  8871  8900  8915  8931  8991  9015  9031  9047*
RDY_CHK_1200                     P             00000D2C   7935  7977  9078*
RDY_CHK_CYCL_END                 P             00000D4C   9091  9101*
RDY_CHK_END_COM                  P             00000D6A   9093  9109  9115  9132*
RDY_CHK_EXIT                     P             00000D8E   7940  8349  8385  8777  9058  9068  9085  9162*
RDY_HOLDCHK_0100                 P             00000798   7798  7820*
RDY_HOLDCHK_0200                 P             000007D0   7823  7861*
RDY_HOLDCHK_1000                 P             00000834   7812  7834  7921*
RDY_HOLDCHK_1200                 P             00000844   7926  7933*
RDY_HOLDCHK_1999                 P             00000848   7842  7850  7876  7884  7897  7938*
RDY_HOLDCHK_END                  P             0000084C   7804  7943*
RDY_ON_CF_998                    P             00000DFE   9227  9255*
RDY_ON_CF_999                    P             00000E24   9200  9213  9240  9273*
RDY_ON_CF_EXT                    P             00000E26   9258  9275*
RDY_SFTY_MASK2CHK050             P             000008EC   8093  8121*
RDY_SFTY_MASK2CHK055             P             00000920   8136  8157*
RDY_SFTY_MASK2CHK060             P             0000093C   8163  8177*
RDY_SFTY_MASK2CHK100             P             00000942   8143  8170  8182*
RECOVER_WAIT_AREACHK_100         P             00003CC0  19750 19780*
RECOVER_WAIT_AREACHK_200         P             00003CD0  19761 19785 19794*
RECOVER_WAIT_AREACHK_END         P             00003CD2  19773 19787 19796*
RESET_CHK_100                    P             0000003E   6263  6281*
RESET_CHK_200                    P             00000058   6288  6305*
RESET_CHK_250                    P             00000074   6319  6326*
RESET_CHK_300                    P             000000AC   6310  6348*
RESET_CHK_305                    P             000000B4   6355  6360*
RESET_CHK_325                    P             00000102   6395  6422*
RESET_CHK_330                    P             00000134   6421  6440*
RESET_CHK_350                    P             000001A0   6479  6516*
RESET_CHK_399                    P             000001A6   6499  6523*
RESET_CHK_400                    P             000001B8   6363  6537*
RESET_CHK_500                    P             000001F8   6357  6578*
RESET_CHK_EXT                    P             00000250   6328  6424  6529  6543  6564  6583  6652*
RNA_ERR_RSTCKEXT                 P             00002744  15234 15240 15245 15253*
RNA_SCIF_ERRCLR1_050             P             00002578  14694 14707*
RNA_SCIF_ERRCLR1_100             P             00002590  14700 14724*
RNA_SCIF_ERRCLR1_200             P             00002596  14717 14731*
ROT_CNTMODCHK_100                P             00003F70  20328 20334 20340 20347 20354 20368*
ROT_CNTMODCHK_200                P             00003F76  20356 20374*
ROT_CNTMODCHK_END                P             00003F78  20371 20376*
RST_CONFCK_005                   P             000002C4   6716  6726*
RST_CONFCK_010                   P             000002D4   6706  6712  6725  6736*
RST_CONFCK_015_OK                P             00000322   6781  6804*
RST_CONFCK_020                   P             00000348   6787  6824*
RST_CONFCK_050                   P             0000035C   6854*
RST_CONFCK_055                   P             000003A4   6888  6906*
RST_CONFCK_060                   P             000003D0   6925  6941*
RST_CONFCK_080                   P             000003F0   6915  6970*
RST_CONFCK_BRK100                P             0000040C   6871  6991*
RST_CONFCK_END                   P             00000430   7016  7020*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   269

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RST_CONFCK_NG                    P             00000428   6728  6931  6962  6982  7003  7013*
RST_CONFCK_NG70                  P             000003E0   6748  6755  6769  6798  6835  6956*
RST_CONFCK_OK                    P             0000042E   6806  6859  6890  6921  6947  6975  6996  7018*
RST_MOD_POSEND_100               P             0000177A  11407*
RST_MOD_POSEND_200               P             00001782  11413*
SELF_FORCE_POW_100               P             00000FA8   9651  9664*
SET_NZ_TIMDT_010                 P             000023DC  14335 14337*
SET_NZ_TIMDT_020                 P             000023EA  14345 14347*
SFTY_MASK_ED_100                 P             00001B98  12430 12443*
SFTY_MASK_ED_200                 P             00001BA6  12436 12452*
SFTY_MUTING_MODER_100            P             00002820  15393 15401 15422*
SFTY_MUTING_MODER_200            P             0000283C  15432 15438 15448*
SFTY_MUTING_MODER_EXT            P             00002856  15383 15409 15440 15454 15468*
SGL_UP_HOLD_MASK050              P             00000CAC   8965  8989*
STEP_SIG_DSP050                  P             000021F4  13941 13945 13959*
STEP_SIG_DSP100                  P             000021FC  13935 13968*
STEP_SIG_DSP200                  P             00002204  13921 13949 13962 13973*
STEP_SIG_DSP300                  P             00002210  13980 13983*
STOPPING_TIM_CK050               P             000022E0  14140 14150*
STOPPING_TIM_CK080               P             000022E8  14153 14157*
STOPPING_TIM_CK100               P             0000231A  14192 14194*
STOPPING_TIM_CK120               P             00002328  14197 14206*
STOPPING_TIM_CK200               P             00002350  14212 14228*
STOPPING_TIM_CK250               P             00002360  14238 14240*
STOPPING_TIM_CK400               P             00002378  14205 14257*
STOPPING_TIM_CK600               P             00002390  14247 14279*
STOPPING_TIM_CK900               P             000023A2  14142 14155 14216 14268 14295*
STOPPING_TIM_STOPINI_100         P             0000228C  14049 14098*
SV_UP_HLDCHK_0050                P             000017BC  11448 11458*
SV_UP_HLDCHK_0100                P             000017CC  11463 11471*
SV_UP_HLDCHK_0190                P             000017EC  11465 11490*
SV_UP_HLDCHK_0200                P             000017F4  11493 11499*
SV_UP_HLDCHK_0290                P             000017F8  11495 11512*
SV_UP_HLDCHK_0295                P             000017FC  11501 11516*
SV_UP_HLDCHK_0300                P             00001824  11515 11540*
SV_UP_HLDCHK_0900                P             00001836  11451 11481 11529 11551*
UP_HOLD_ARA_MASK480              P             00001AC4  12192 12202*
UP_HOLD_ARA_MASK500              P             00001ACC  12151 12154 12174 12199 12211*
UP_HOLD_MASKSPDCHK_COM           P             00001A78  12086 12100*
UP_HOLD_MASKSPDCHK_END           P             00001A96  12120 12130*
UP_HOLD_MASKSPDCHK_FWD           P             00001A5E  12064 12081*
UP_HOLD_MASKSPDCHK_NG            P             00001A94  12072 12084 12098 12109 12128*
UP_HOLD_MASKSPDCHK_REV           P             00001A74  12068 12079 12095*
UP_HOLD_MASKSPDCHK_STR           P             00001A84  12117*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3425 16561 
_ABS_OUT_PLS_SPD                          IMPT 00000000   3435 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   270

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACCERR_ACC_HENSA                         IMPT 00000000   4442 
_ACCERR_ACC_OBJ                           IMPT 00000000   4441 
_ACCERR_ACC_PV                            IMPT 00000000   4440 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4451 
_ACCERR_ERR_CNT                           IMPT 00000000   4443 
_ACCESS_ERR1                              IMPT 00000000   3521 
_ACC_MONITOR_DAT1                         IMPT 00000000   4254 
_ACC_MONITOR_DAT2                         IMPT 00000000   4255 
_ACC_MONITOR_DAT3                         IMPT 00000000   4256 
_ACC_MONITOR_DAT4                         IMPT 00000000   4257 
_ACC_MONITOR_DAT5                         IMPT 00000000   4258 
_ACC_MONITOR_DAT6                         IMPT 00000000   4259 
_ACC_MONITOR_DAT7                         IMPT 00000000   4260 
_ACC_MONITOR_DAT8                         IMPT 00000000   4261 
_ACC_REST_ABS_PLS                         IMPT 00000000   4211 
_ACC_REST_FLG                             IMPT 00000000   4212 
_ANTI_CHEAK                      P             000006A8   7368  7619*
_ANTI_OF                                  IMPT 00000000   5887  7747 
_ANTI_ON                                  IMPT 00000000   5886  7657 
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6090  9153 11158 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6089  8675 16425 
_API_ENDHAND_SIGCHK                       IMPT 00000000   6205 10378 10853 
_API_EXQ_STEP_FLGCLR             P        EXPT 00003DA4   6525 19973 19979*
_API_EXQ_STEP_STS_GET            P        EXPT 00003D7C  19934 19939*
_API_X_PRO_SEND_START2                    IMPT 00000000  14680 
_AUTO_OF                                  IMPT 00000000   5889  9144  9827 10322 10514 10636 11057 
_AUTO_ON                                  IMPT 00000000   5888  9954 10133 10288 10349 10718 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3668 
_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3661 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3666 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3665 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3662 
_BASE_TIM010MS                            IMPT 00000000   2483 
_BASE_TIM100MS                            IMPT 00000000   2484 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4427 
_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4426 
_BBN_MESURE_POINT                         IMPT 00000000   4421 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4411 
_BBN_MESURE_PSPD                          IMPT 00000000   4413 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4412 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4407 
_BBN_MESURE_SSPD                          IMPT 00000000   4409 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4408 
_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4425 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4419 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4416 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4418 
_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4415 
_BBN_SET_TIME                             IMPT 00000000   4422 
_BKTMCL_ACCDAT                            IMPT 00000000   4613 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4614 
_BKTMCL_ACCPOINT                          IMPT 00000000   4616 
_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4630 
_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4638 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   271

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4637 
_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4643 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4644 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4645 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4640 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4648 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4649 
_BKTMCL_ENC_DIR                           IMPT 00000000   4621 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4620 
_BKTMCL_POINTMAX                          IMPT 00000000   4617 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4632 
_BKTMCL_SPDBUF                            IMPT 00000000   4612 
_BKTMCL_STOP_SPD                          IMPT 00000000   4636 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4629 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4631 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4625 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4626 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4628 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3414 
_BRK1_CHKDLY_TM                           IMPT 00000000   3402 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3410 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3409 
_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3408 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3407 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3405 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3406 
_BRK1_SV_DN_ACC                           IMPT 00000000   3413 
_BRK2_CHKDLY_TM                           IMPT 00000000   3403 
_BRK2_SV_DN_ACC                           IMPT 00000000   3415 
_BRKTMCAL_API1_STR                        IMPT 00000000   6182 14020 
_BRKTMCAL_API3_ENDCNF1                    IMPT 00000000   6184 14243 
_BRKTMCAL_API4_ENDCNF2                    IMPT 00000000   6185 14271 
_BRKTMCAL_STG1_STOPINI                    IMPT 00000000   6183 11235 
_BRKTST_AREA_SIG                          IMPT 00000000   4152  6992 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4162 
_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4163 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4160 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4161 
_BRKTST_CHKDT_MAK                P             00002D54  15770 16500*
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4142 16528 16563 
_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4155 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4154 
_BRKTST_CTRL                     P             0000286C   7314 15512*
_BRKTST_INPUT_CMD                         IMPT 00000000   4145  6867 15541 15603 15804 16076 16097 16651 
_BRKTST_INPUT_MAK                P             00002B00  15519 16047*
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4157 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4156 
_BRKTST_MODE_CONF                P             00002ADC  15562 15838 16005*
_BRKTST_MOD_FLG                           IMPT 00000000   4140  7386 15524 15570 15609 15626 15663 15690 15778 15815 15853 15882 
                                                         15899 15907 15932 15951 16569 
_BRKTST_MOTOR_START              P             00002C70  15774 16351*
_BRKTST_MOTOR_STOP               P             00002DC8  15811 15928 16596*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4141 16518 
_BRKTST_POS_START                         IMPT 00000000  16343 16400 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   272

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BRKTST_RDY_CHK                  P             00002B58  15716 16125*
_BRKTST_RDY_OFF_OUT              P             00002C40  15746 16293 16312*
_BRKTST_SPD_CHK                  P             00002DA0  15798 16557*
_BRKTST_STOPSIG_MAKE             P             00002DDC  16081 16621*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4149 16631 
_BRKTST_STR_FLG                           IMPT 00000000   4150 16099 16625 16646 
_BRKTST_SW_IN                             IMPT 00000000   4151  6702 11784 16069 19847 
_BRK_CHK_COM                              IMPT 00000000   3399 
_BRK_CHK_FLG                              IMPT 00000000   3400 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6061  8523  9925 10389 10519 10666 10865 10913 11013 11242 17204 
_BRK_RDYON_CONF1                 P             00002E24  16197 16255 16679*
_BTTN_FLG                                 IMPT 00000000   2551  8285  9346  9382  9567  9897 10369 10459 10559 10826 10843 10906 
                                                         14617 15831 16204 
_BTTN_ON_TIME                             IMPT 00000000   3691 
_BTTN_START_CHK                  P             00000E2C   8423  9334*15735 
_BVLV_CTL_FLG                             IMPT 00000000   4799 
_BVLV_CTL_ON                              IMPT 00000000   4800 
_BVLV_START_IN                            IMPT 00000000   4803 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3172 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2897 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2896 
_CALC_MISS_FLG1                           IMPT 00000000   3774 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2078*
_CALC_PLS_MMIN_L32                        EQU  00000001   2079*
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2074*
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2075*
_CALC_ROT_MAX                             EQU  60000000   2070*
_CAM_CNT_CHG_FLG                          IMPT 00000000   3271 11108 
_CAM_CTL_STEP                             IMPT 00000000   2627 
_CAM_DT_FLG                               EQU  0000000E   2188*
_CAM_INF_D1                               EQU  00000010   2189*
_CAM_INF_D2                               EQU  00000012   2190*
_CAM_NOW_DIG                              IMPT 00000000   3268 
_CAM_OF_DGT                               EQU  0000000C   2187*
_CAM_OF_DIG                               EQU  00000008   2184* 2185 
_CAM_OF_DIR                               EQU  0000000A   2186*
_CAM_OF_STP                               EQU  00000006   2183*
_CAM_OF_TIM                               EQU  00000008   2185*
_CAM_OLD_DIG                              IMPT 00000000   3269 
_CAM_ON_DIG                               EQU  00000002   2181*
_CAM_ON_DIR                               EQU  00000004   2182*
_CAM_ON_STP                               EQU  00000000   2180*
_CAM_OUTPUT_DT                            IMPT 00000000   3262 
_CAM_OUTPUT_SW                            IMPT 00000000   3260 
_CAM_POS_CTL_STEP                         IMPT 00000000   3270 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3027 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3028 
_CAM_SELECT_SW                            IMPT 00000000   3261 
_CAM_START_FLG                            IMPT 00000000   3263 
_CAM_START_MODE                           IMPT 00000000   3264 
_CAM_STEP_MAX                             IMPT 00000000   3267 
_CAM_STEP_NO                              IMPT 00000000   3265 
_CAM_STEP_NO_OLD                          IMPT 00000000   3266 
_CAM_STRCUT                               EQU  00000014   2179*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   273

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CBA_STS_BKUP_SAVE                        IMPT 00000000   6178 15577 15633 15670 
_CBSTS_LOAD_FLG                           IMPT 00000000   4562 
_CBSTS_SAVE_CMDWK                         IMPT 00000000   4570 
_CBSTS_SAVE_DAT                           IMPT 00000000   4579 15573 15629 15666 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_CTL_START_INI                P             00001D88   8630 12964*16388 
_CB_ERR_INFO_MEM                          EQU  00000080    138*
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_INT_START_OK                          IMPT 00000000   2480 
_CB_IN_HANYO                              IMPT 00000000   4838 16849 
_CB_SEQ_CB_COM340                         IMPT 00000000   3013  9195 16683 17431 17637 20022 
_CB_SEQ_CB_COM345                         IMPT 00000000   3016 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5433 
_CB_SEQ_CB_COM346                         IMPT 00000000   3017 
_CB_SEQ_CB_COM347                         IMPT 00000000   3018 
_CB_SEQ_CB_COM348                         IMPT 00000000   3019 
_CB_SEQ_CB_COM349                         IMPT 00000000   3020 19367 19389 
_CB_SEQ_CB_COM350                         IMPT 00000000   3022 
_CB_SEQ_CB_COM351                         IMPT 00000000   3023 
_CB_SEQ_CB_COM352                         IMPT 00000000   3024 16825 16987 
_CB_SEQ_CB_COM356                         IMPT 00000000   5285 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3014  9538 10819 14462 14557 15222 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3015 
_CB_SEQ_SW_SEL022                         IMPT 00000000   3008 16994 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3009 
_CB_SEQ_SW_SEL028                         IMPT 00000000   3010  7087  7203  7221  9433  9797  9856 12529 13095 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3011 
_CB_SEQ_SW_SEL058                         IMPT 00000000   4888 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_PARAM000                          IMPT 00000000   6132  8133 11689 11852 12104 15283 15380 16140 16760 17078 18246 18397 
                                                         18573 18721 18735 18743 18854 18860 19019 19034 19042 19123 19221 
_CB_TIME                                  EQU  0000000A   1997* 2010  2011  2012  2017 
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3513 10566 10641 10728 
_CHKPOSANSDIG                             IMPT 00000000   4733 
_CHKPOSWORK1                              IMPT 00000000   4720 
_CHKPOSWORK2                              IMPT 00000000   4721 
_CHKPOSWORKANS                            IMPT 00000000   4726 
_CHKSPDANSPER                             IMPT 00000000   4725 
_CHKSPDPERWORK1                           IMPT 00000000   4728 
_CHKSPDPERWORK2                           IMPT 00000000   4729 
_CHKSPDPOSINFO                            IMPT 00000000   4731 
_CHKSPDPOSOFS                             IMPT 00000000   4732 
_CHKSPDWORK1                              IMPT 00000000   4718 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   274

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CHKSPDWORK2                              IMPT 00000000   4719 
_CHKSPDWORKANS                            IMPT 00000000   4722 
_CHKSPDWORKTMAX                           IMPT 00000000   4724 
_CHKSPDWORKVMAX                           IMPT 00000000   4723 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4251 
_CHK_CLK_SIG                              IMPT 00000000   4764 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   4000 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   3999 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   3216 
_CLRSQ206_BIT11                  P        EXPT 000025A0  14741 14747*
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2763 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2762 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3580 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3574 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3577 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3571 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3579 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3573 
_CMP2_NOW_NG_CNT                          IMPT 00000000   3581 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3575 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3578 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3572 
_CMPAB_NEAR_END_PROC             P        EXPT 00001ED8  13273 13295*
_CMPAB_STEP_END_PROC             P        EXPT 00001F4E  13274 13438*
_CMPCYC_END_CLR                  P        EXPT 00002148  13284 13825*
_CMPCYC_START_CLR                P        EXPT 0000212C  13283 13798*
_CMPEMG_EXQ_FLG_CLR              P        EXPT 000020A0   6464 11224 13286 13713*
_CMPSTEP_CNT_STOP                         IMPT 00000000   2671 13672 13760 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2667 13572 13754 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2666 13549 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2670 13303 13646 13758 
_CMPSTEP_POS_START                        IMPT 00000000   2668  7971  7999  8518  9061 13594 
_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2669 13622 13756 
_CMPSTEP_STEP_END                         IMPT 00000000   2672  7567  9908 13451 13696 13762 19952 
_CMPSTP_CNT_STOP_CLR             P        EXPT 0000205C  13281 13660*
_CMPSTP_CTRL_BUSY_CLR            P        EXPT 00001FE0  13277 13564*13834 
_CMPSTP_CTRL_REDY_CLR            P        EXPT 00001FC2   8380  8680  8761 13276 13541*13718 13830 16325 16430 
_CMPSTP_NEAR_ZERO_CLR            P        EXPT 00002040  13280 13638*13868 
_CMPSTP_POS_START_CLR            P        EXPT 00001FFC   8376  8757 13278 13586*13722 13838 16321 
_CMPSTP_SFTY_AUTO_CLR            P        EXPT 00002018  13279 13608*13807 
_CMPSTP_STEP_END_CLR             P        EXPT 00002084  13282 13688*13864 
_CMP_ERR_CHK_STSA                         IMPT 00000000   2880 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2881 
_CMP_ERR_STEP_A                           IMPT 00000000   2886 
_CMP_ERR_STEP_B                           IMPT 00000000   2887 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2882 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2883 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2884 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2885 
_CMP_ERR_TIM1                             IMPT 00000000   2583 
_CMP_HOLD_CTLGENSOK                       IMPT 00000000  17117 17552 
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3684 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3889 
_CMP_RECOVER_FLG                          IMPT 00000000   3994  9822 10317 10509 13042 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   275

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3685 
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2585 
_CNTREST_HOS_RESET                        IMPT 00000000   6077 11272 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3671 13766 
_CNT_CYCL_DISP_ST                P             00001E98   7952 11248 13212*
_CNT_GRF_I_DATA                           IMPT 00000000   5426 
_CNT_GRF_POINT                            IMPT 00000000   5428 
_CNT_GRF_Y_DATA                           IMPT 00000000   5427 
_CNT_MODE_CNT_SIG_OUT            P             00001CBC  12759 12783*13130 
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3938 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3677 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3678 
_CNT_SPM_DISP_CHK                P             00001EAC   7959  8803 13232*
_CNT_STOP_CMD                             IMPT 00000000   2506  9236  9978 10153 10722 16696 17281 
_CNT_STOP_CMD_BEF1                        IMPT 00000000   4388 
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3658 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5341 
_CNT_STOP_LNGTH                           IMPT 00000000   3664 
_CNT_STOP_WAIT_TIM                        IMPT 00000000   5340  9989 
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3953 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3954 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3936 
_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3955 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3950 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3951 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3952 
_CNT_SYNC_STS_FLG                         IMPT 00000000   3937 
_CONT_MOD_CNT_PV                          IMPT 00000000   3084  9874 12742 12809 13126 
_CONT_MOD_TIM_PV                          IMPT 00000000   3086  9862 13124 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3670 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3331 
_COP_DIG_SIG_FLG                          IMPT 00000000   3330 
_COP_OLD_ENC3600                          IMPT 00000000   3349 
_CPOS_BANK_USELFUL                        IMPT 00000000   3657 
_CPOS_CTL_MATH                            IMPT 00000000   2747  7427 10572 
_CPOS_DND_DIGTOP                          IMPT 00000000   3766 
_CPOS_DND_PLSTOP                          IMPT 00000000   3767 
_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3765 
_CPOS_DND_STOP_SW                         IMPT 00000000   3763 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3764 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4823 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4825 
_CPOS_MOD_FLG1                            IMPT 00000000   2746 10032 10216 10754 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2744 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3659 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2741 
_CPOS_SDAT1_INF1                          IMPT 00000000   2742 
_CPOS_SDAT1_NUM                           IMPT 00000000   2743 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2738 
_CPOS_SDAT1_SPD                           IMPT 00000000   2739 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2745 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3660 
_CPOS_SDAT1_TIM                           IMPT 00000000   2740 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2766 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   276

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPOS_SDAT1_UP_POS                        IMPT 00000000   2767 
_CPOS_STEP_MAX                            IMPT 00000000   2748  9747 10013 10085 10200 13931 19535 20158 20330 
_CPOS_UPAREA_PLS                          IMPT 00000000   2761 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5064 
_CPUA_CONT_MOD_CNT_PV                     IMPT 00000000   6215 12812 
_CPUA_LOT_CHK_FLG                         IMPT 00000000   6211 12792 
_CPUA_LOT_CNT_FLG                         IMPT 00000000   6213 12802 
_CPUA_SV_STEP                             IMPT 00000000  19451 
_CPUBX_MEM1_BUF                           IMPT 00000000   5442 
_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5441 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5440 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5451 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5453 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5452 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5448 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5449 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5447 
_CPUB_CONT_MOD_CNT_PV                     IMPT 00000000   6216  9883 
_CPUB_DBG_MONI_CNT                        IMPT 00000000   6217 
_CPUB_DBG_MONI_STP                        IMPT 00000000   7466 
_CPUB_LOT_CHK_FLG                         IMPT 00000000   6212 12687 
_CPUB_LOT_CNT_FLG                         IMPT 00000000   6214 
_CPUB_PARAM_ERR_NO                        IMPT 00000000   5162 
_CPUB_SV_STEP                             IMPT 00000000  19452 19522 20145 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5161 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5444 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5443 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5055 
_CPUD_CHK_TIME                            IMPT 00000000   5056 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5151 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5152 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   5934 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   5930 13569 13727 
_CPU_AB_BSY_ON_OUT                        IMPT 00000000   5932 
_CPU_AB_CED_OF_JG                         IMPT 00000000   5997 13506 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   5993 13693 13749 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   5995 13459 
_CPU_AB_CST_OF_JG                         IMPT 00000000   5986  9738 10076 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   5980 13665 13741 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   5981  9762 10101 13669 13745 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   5983 10254 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   5984 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   6012 17874 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   6011 17213 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   5952 13614 13732 
_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   5953  9935 10400 10527 10675 10875 10923 10958 11023 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   5972 13358 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   5968 13643 13737 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   5970 13311 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   5923 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   5919 13546 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   5921  8333 16219 16276 
_CPU_AB_STR_OF_JG                         IMPT 00000000   5945 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   5941 13591 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   277

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPU_AB_STR_ON_OUT                        IMPT 00000000   5943  8514 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   5931 
_CPU_BA_BSY_ON_JG                         IMPT 00000000   5933 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   5994 13488 
_CPU_BA_CED_ON_JG                         IMPT 00000000   5996 13478 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   5982 
_CPU_BA_CST_ON_JG                         IMPT 00000000   5985 
_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   6014 17895 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   6013 17146 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   5955 13618 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   5954  9815 10310 10502 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   5969 13340 
_CPU_BA_NZR_ON_JG                         IMPT 00000000   5971 13330 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   5920 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   5922  8337  8564  8740 16223 
_CPU_BA_STEP_LOAD                         IMPT 00000000   6004  9755 10093 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   5942  9064 
_CPU_BA_STR_ON_JG                         IMPT 00000000   5944  8546  9080 
_CPU_SV_HAND_IN                           IMPT 00000000   2508 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2509 
_CPU_SV_HAND_OUT                          IMPT 00000000   2511 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3956 
_CTL_ENC360                               IMPT 00000000   2520 
_CTL_ENC360_OLD                           IMPT 00000000   4040 
_CTRL_UP_HOLD_CHK                P             00001924   8945  9007 11773*
_CW_CCW_ENDSTEP_SERACH           P             0000184C  11473 11519 11542 11587*
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4298 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4299 
_CYCLE_TIME_DAT                           IMPT 00000000   3000 
_CYCLE_TIME_FLG                           IMPT 00000000   3002 
_CYCLE_TIME_PV                            IMPT 00000000   3001 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6052  6491 
_CYCL_DSP_CNT_PV                          IMPT 00000000   3465 11254 13175 13241 
_CYCL_DSP_DISENB                          IMPT 00000000   3464 13179 13196 13217 13248 
_CYCL_START_CNT                           IMPT 00000000   2764 
_CYC_END_POS_FLG_CLR                      IMPT 00000000  19601 19711 20197 
_DAIHAI_CALC_WORK1                        IMPT 00000000   4339 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4348 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4350 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4351 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4352 
_DAIHAI_CALC_WORK2                        IMPT 00000000   4340 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4341 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4342 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4343 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4344 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4345 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4346 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4347 
_DAI_CMP_SMPSTART                         IMPT 00000000   2944 
_DAI_HOSEI1_FLG                           IMPT 00000000   2934 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6060  7434 
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   6049  6366 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5085 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   278

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5086 
_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5091 
_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5087 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5092 
_DBG_CNT_GPOSINT                          IMPT 00000000   3595 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3589 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3588 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3590 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5324 
_DBG_DNM_END_CNT                          IMPT 00000000   5323 
_DBG_DNM_STR_CNT                          IMPT 00000000   5322 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3229 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3231 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3228 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3230 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3598 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3602 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3610 
_DBG_STEP12_CHG_SPD                       IMPT 00000000   3606 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3592 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3599 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3603 
_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3611 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3607 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3593 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3600 
_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3614 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3604 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3612 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3608 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3594 
_DEBUG_CMPERR_STSMAK             P             00000634   7451  7492*
_DEBUG_ENC360_STS                         IMPT 00000000   4652 
_DEBUG_ENC360_STS2                        IMPT 00000000   4653 
_DEBUG_MOD_CODE                           IMPT 00000000   5083 
_DEBUG_SIGNAL_OFF                         IMPT 00000000  11358 11369 
_DEF_DAI_POS_PV                           IMPT 00000000   2973 
_DG_PS_INF_CHK1                           EQU  00000000   2197*
_DG_PS_INF_CHK2                           EQU  0000003C   2202*
_DG_PS_INF_CONT                           EQU  00000004   2198*
_DG_PS_INF_LATE                           EQU  00000010   2201*
_DG_PS_INF_STLK                           EQU  0000000C   2200*
_DG_PS_INF_UNIT                           EQU  00000008   2199*
_DIG_AREA_CHK0                            IMPT 00000000   6036 
_DIG_AREA_CHK1                            IMPT 00000000   6037 10600 11960 12886 19860 19888 
_DIR_FLG                                  IMPT 00000000   4052 
_DISP_ENC360                              IMPT 00000000   2524 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3003  6642 
_DISP_SV_DG_DAT                           IMPT 00000000   3315 
_DISP_SV_MM_DAT                           IMPT 00000000   3316 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   6019 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   6020 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   6033 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   6021 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   279

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   6034 
_DMATH_CNTROT                             EQU  00000001   2029* 7430 10575 12062 18439 19475 20106 20338 
_DMATH_DNDRIV                             EQU  00000004   2031* 6913  7430 10575 11491 11985 12070 12197 12910 17523 18185 18305 
                                                         19475 19574 19748 19843 20106 
_DMATH_REVRSE                             EQU  00000002   2030*11513 11994 12066 12197 12919 
_DMATH_UPDRIV                             EQU  00000008   2032*11461 11967 12893 
_DNDINC_CTRL_STEP                         IMPT 00000000   3762 
_DND_CALC_WORK                            IMPT 00000000   2790 
_DND_OVERCHK_DIG                          IMPT 00000000   4252 
_DNM_ACC_CALFLG                           IMPT 00000000   4222 
_DNM_CTL_INC3600                          IMPT 00000000   4090 10593 11952 12878 
_DNM_CYCLE_END                            IMPT 00000000  19597 19710 20193 
_DNM_DATA_REV_SET                         IMPT 00000000   6202  6943 18323 18351 
_DNM_DEBUG_CNT                            IMPT 00000000   4693 
_DNM_DEBUG_STS1                           IMPT 00000000   4692 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4088 
_DNM_DIR_CHG_TIM                          IMPT 00000000   4089 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5049 18316 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4128 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4086 17527 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4087 
_DNM_DIR_SET_FLG                          IMPT 00000000   4085 12075 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4741 
_DNM_OBJ_AREA_SIG2               P             00003CE2   6240 19830*
_DNM_RESET_AREA                           IMPT 00000000   5004  6917 18189 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5314 19757 19895 19913 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4084 
_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4082 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4083 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4081 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4457 
_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4098 19853 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4097 19855 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5029 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4093 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4092 
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4094 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4096 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4095 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5134 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5143 
_DPCHK_ERR_SIG                            IMPT 00000000   5133 
_DPCHK_WR_COD                             IMPT 00000000   5135 
_DPSQ022                                  EQU  0000002C   2084*
_DPSQ024                                  EQU  00000030   2085*
_DPSQ028                                  EQU  00000038   2086*
_DPSQ029                                  EQU  0000003A   2087*
_DPSQ058                                  EQU  00000074   2088*
_DPSQ287                                  EQU  0000023E   2099*
_DPSQ288                                  EQU  00000240   2100*
_DPSQ340                                  EQU  000002A8   2090*
_DPSQ341                                  EQU  000002AA   2091*
_DPSQ356                                  EQU  000002C8   2092*
_DPSQ358                                  EQU  000002CC   2093*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   280

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DPSQ359                                  EQU  000002CE   2094*
_DPSQ367                                  EQU  000002DE   2095*
_DPSQ368                                  EQU  000002E0   2096*
_DPSQ369                                  EQU  000002E2   2097*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2966 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2958 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2965 
_DRVHOS_IDO_BUF                           IMPT 00000000   2970 
_DRVHOS_IDO_CNT                           IMPT 00000000   2961 
_DRVHOS_IDO_POINT                         IMPT 00000000   2959 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2969 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2967 
_DRVHOS_USE_FLG                           IMPT 00000000   2956 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2957 
_DRVHOS_WORK_BUF                          IMPT 00000000   2971 
_DRV_ACT_FLG                              IMPT 00000000   2657  7830  7965  8671  9149 11153 16421 
_DRV_START_INI_NEW1              P             00001E44  13029 13153*
_DRV_START_KEEP                           IMPT 00000000   3988  8159  8772  9340  9362 14815 14829 14873 14976 16159 16329 
_DRV_START_KEP_WAIT              P             000025D0   8439 14797*15760 
_DT_100PER_0                              EQU  00000064   2001*
_DT_100PER_1                              EQU  000003E8   2000*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3325 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3324 
_DUM_SET1_DIG_TOP                         IMPT 00000000   3323 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5110 
_DUM_SET2_SPD_TOP                         IMPT 00000000   5111 
_DUM_UPAREA_DIG0                          IMPT 00000000   3322 
_DURING_TIM_FX                            IMPT 00000000   4655 11287 
_ELSE_CPU_START_POS_PRESET       P             00000FC0   9687*
_ELSE_ERR_FLG1                            IMPT 00000000   2579 
_ELSE_ERR_FLG2                            IMPT 00000000   2580 
_EMG_CTL_FLG_PROC                P        EXPT 00001600   6150 11088*19583 
_EMG_OUT                                  IMPT 00000000   5874  6274 
_EMG_POS_FLG_PROC                         IMPT 00000000  19454 19579 
_EMG_SCANCUT_FLG                          IMPT 00000000   4777 
_EMG_STOP                                 IMPT 00000000   6087 15405 15464 15621 15849 16944 19283 
_EMG_STOP_SPEC                            IMPT 00000000  16594 16601 
_ENC360_BITERR_CNT                        IMPT 00000000   2544 
_ENC360_BITFLW_CNT                        IMPT 00000000   2543 
_ENC360_BITNML_CNT                        IMPT 00000000   2545 
_ENC360_HEX                               IMPT 00000000   2519 
_ENC360_INDT                              IMPT 00000000   2518 
_ENC360_INOLD                             IMPT 00000000   2517 
_ENC360_LINK_AREASIG                      IMPT 00000000   3637 
_ENC360_OVER_ENC                          IMPT 00000000   3529 
_ENC360_OVER_FLG                          IMPT 00000000   3528  8621 11117 16380 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3431 
_ENCPLS_DELT                              IMPT 00000000   3427 
_ENCPLS_POINT_SEL                         IMPT 00000000   3430 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3428 
_ENCPLS_SPD_POINT                         IMPT 00000000   3429 
_ENCPLS_SPD_TOTAL                         IMPT 00000000   3423 
_ENC_PLS_SPD                              IMPT 00000000   3424 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   281

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ENC_PLS_SPD_DIR                          IMPT 00000000   3426 12057 
_ENC_SYSRST_CMD                           IMPT 00000000   2535 
_ENC_TIMEXT_FLG                           IMPT 00000000   2536 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5101 
_END_CMD_LATCH                            IMPT 00000000   2630  7922  9054  9087 
_EPCHK_COM                                IMPT 00000000   4923  7377  7683 18556 19303 
_EPCHK_DLY_TIM                            IMPT 00000000   4926 18621 18647 18675 18723 18737 18856 19021 19036 19223 
_EPCHK_ERR_TIM                            IMPT 00000000   4927 18690 18745 18821 18862 18892 19044 19079 
_EPCHK_FLG                                IMPT 00000000   4924  7297  7375  7677  7687 18550 18608 19260 19288 
_EPCHK_FORCE_VONCMD                       IMPT 00000000   4930 18888 18900 19305 
_EPCHK_RETRY_CNT                          IMPT 00000000   4928 18963 18989 19012 19125 
_EPCHK_STEP                               IMPT 00000000   4925 18612 18698 18748 18805 18865 18914 18966 18992 19047 19105 19132 
                                                         19191 19236 
_EPCHK_STOP_DISENB                        IMPT 00000000   5247 
_EPCHK_STS                                IMPT 00000000   4929 18596 18616 18771 18787 18828 18932 18957 18983 19073 19087 19148 
                                                         19173 19179 19185 19208 19214 19264 19291 19310 19412 
_EPSEN_CLR                       P        EXPT 00003B38  18476 19406*
_EPSEN_IN_CHK                    P             00003B20  18904 19095 19384*
_EP_JMP_TBL                      P             0000363C  18505*18702 
_EP_SENCER_CHECK                 P        EXPT 000036C0   7294 18544 18545*
_EP_SENCHK_STOPCONF1             P             00003AEC  18588 19336*
_EP_SENCHK_STOPCONF2             P             00003AEC  18657 19337*
_EQ_CNT_DISP_STCNT                        EQU  00000002  13151*13174 
_EQ_DND_MAX                               EQU  00000002   2034*
_EQ_ORG_HIS                               EQU  0000000A  15040*15117 15118 
_EQ_ORG_OFDIG                             EQU  00000708  15039*15052 15118 
_EQ_ORG_ONDIG                             EQU  000006FE  15038*15051 15117 
_EQ_STEP_MAX                              EQU  00000005   2027*13943 
_EQ_STEP_MX2                              EQU  0000000A   2028*
_ERRCHK_ENC360                            IMPT 00000000   4604 
_ERR_FIRST_ST                             IMPT 00000000   4992 
_ERR_INFO_A01                             EQU  00000020   2253*
_ERR_INFO_A02                             EQU  00000022   2254*
_ERR_INFO_A03                             EQU  00000024   2255*
_ERR_INFO_A04                             EQU  00000026   2256*
_ERR_INFO_A05                             EQU  00000028   2257*
_ERR_INFO_A06                             EQU  0000002A   2258*
_ERR_INFO_A07                             EQU  0000002C   2259*
_ERR_INFO_A08                             EQU  0000002E   2260*
_ERR_INFO_B01                             EQU  00000030   2261*
_ERR_INFO_B02                             EQU  00000032   2262*
_ERR_INFO_B03                             EQU  00000034   2263*
_ERR_INFO_B04                             EQU  00000036   2264*
_ERR_INFO_B05                             EQU  00000038   2265*
_ERR_INFO_B06                             EQU  0000003A   2266*
_ERR_INFO_B07                             EQU  0000003C   2267*
_ERR_INFO_B08                             EQU  0000003E   2268*
_ERR_INFO_C01                             EQU  00000000   2245*
_ERR_INFO_C02                             EQU  00000004   2246*
_ERR_INFO_C03                             EQU  00000008   2247*
_ERR_INFO_C04                             EQU  0000000C   2248*
_ERR_INFO_C05                             EQU  00000010   2249*
_ERR_INFO_C06                             EQU  00000014   2250*
_ERR_INFO_C07                             EQU  00000018   2251*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   282

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ERR_INFO_C08                             EQU  0000001C   2252*
_ERR_INFO_DLY_TIM                         IMPT 00000000   3523 
_ERR_INFO_RST_CLR                         IMPT 00000000   6071  6618 
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3524 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3525 
_ERR_LEV_IN2                              IMPT 00000000   4277  6249 
_ERR_LEV_IN3                              IMPT 00000000   4278  6252 
_ERR_LEV_IN4                              IMPT 00000000   4279  6255 
_ERR_LEV_IN5                              IMPT 00000000   4280  6258 
_ERR_LEV_IN6                              IMPT 00000000   4281 
_EXQ_CTL_FLG_PROC                P        EXPT 00001658   6151 11093 11144*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5298 19644 19954 19984 
_EXQ_LT_GET_FLG                           IMPT 00000000   5297 19479 19944 19986 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5299 19487 20112 
_EXQ_LT_PROC_CNT2                         IMPT 00000000   5300 19611 20206 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5301 19685 20295 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5302 19658 20245 
_EXQ_OUT                                  IMPT 00000000   5875  6298 
_EXQ_PROC_STEP_RECOVER           P             00003B58   6519 19457*
_EXQ_STOP                                 IMPT 00000000   6191 17707 
_EXQ_STOP_LEV_POS_CLR                     IMPT 00000000   6073 11260 
_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4846 16920 17080 
_EXTDRV_BTTN_USE                          IMPT 00000000   4839 16778 16893 17044 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4840 16831 16844 17019 
_EXT_BTTN_FLG                             IMPT 00000000   4843 16888 
_EXT_DRVBTTN_ERRTIM_SET          P             00002FE8  16905 17056 17074*
_EXT_DRVBTTN_INFO_MAKE           P             00002EB0  16766 16818*
_EXT_DRVBTTN_MODE                P        EXPT 00002E64  16754 16755*
_EXT_DRVBTTN_MODJG_CONF          P             00002F70  16772 16970*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   6026 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   6027 
_FPU_POS_HOKAN1                           IMPT 00000000   6039 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   6024 16515 16525 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   6025 
_FPU_TIM_HOKAN1                           IMPT 00000000   6040 
_FRCYCL_OF                                IMPT 00000000   5890  9158 12403 
_FRCYCL_ON                                IMPT 00000000   5891 12449 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3570 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3569 
_FREQ_SV_SPD                              IMPT 00000000   3502 
_FR_CYL_MASK_FLG                          IMPT 00000000   2629 12398 12444 
_FULCLS_ELSE_STS                          IMPT 00000000   4829 
_FULCLS_MATHED                            IMPT 00000000   4819 
_FULCLS_TIM_SETFLG                        IMPT 00000000   4827 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3065 
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4659 
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4660 
_FUL_CLS_RNADIG                           EQU  00000320   2005*
_FUL_DATA_INIT                            IMPT 00000000   6057 13872 
_FWD_REV_STSIG_OFF                        IMPT 00000000   6068 
_GMN_HANYO_DI1                            IMPT 00000000   5359 
_GMN_HANYO_OUT1_SQ                        IMPT 00000000   5360 
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3868 
_GPOSIN_HOS_RESET                         IMPT 00000000   6076 11266 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   283

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3944 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3945 
_HENSA_OVR_ENCPOS                         IMPT 00000000   2865 
_HENSA_OVR_OUTPLS                         IMPT 00000000   2864 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   6022 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   6023 
_HIST_DAT_SEND_COM                        IMPT 00000000   5420 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5419  6609 
_HIST_EVENT_COD                           IMPT 00000000   5421 
_HIST_KEP_SEND_COM                        IMPT 00000000   5422 
_HOLD1_DNSTART_POSCHK            P             000031D8  17396 17517*
_HOLD_RESTART_BA_JG              P             000033A8   7892 17890*
_HOLD_RESTART_OF_OUT             P             00003394   7888 17869*18009 
_HOLD_STOP_BA_JG                 P             0000348C   7837 18088*
_INCENC_ADD                               EQU  00000000   2056*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2686 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2685 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2687 
_INCHEN_ADD                               EQU  00000000   2055*
_INCREV_ADD                               EQU  00000000   2060*
_INCRNA_ADD                               EQU  00000000   2057*
_INCSTP_ADD                               EQU  00000000   2058*
_INC_ABS_ORGWORK                          IMPT 00000000   2912 
_INC_ABS_ORGWORK2                         IMPT 00000000   4331 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4332 
_INC_ENC360                               IMPT 00000000   2523 15048 18344 19857 19885 
_INC_ENC_MM_POS                           IMPT 00000000   2707 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2688 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4333 
_INC_RESET_STEP                           IMPT 00000000   5044 18133 18242 18291 
_INC_RESET_USE_F                          IMPT 00000000   5045 18136 18358 
_INC_RSTMODE_CHK                 P             000034B8   6883 18158*
_INC_RST_DATA_CHK                P             00003610  18228 18432*
_INC_RST_WORK_CLR                P        EXPT 0000349C  18124 18128*
_INC_SPEC_RSTCHK                 P        EXPT 000035E6  18164 18391 18392*
_INC_STOP_CNT                             IMPT 00000000   3243 
_INFO_CHK1_COD                            EQU  5AA51234   2195*
_INFO_CHK2_COD                            EQU  4321A55A   2196*
_INPUT_MODE_SW                            IMPT 00000000   2578 
_INP_ERR_FLG                              IMPT 00000000   4595 
_INP_MODE                                 IMPT 00000000   2610  6708  6744  6776  7242 11408 15396 15428 16052 18402 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5109 
_INT1MS_SCAN_02MS                         IMPT 00000000   4270 
_INT1MS_SCAN_03MS                         IMPT 00000000   4271 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4272 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4273 
_INT1MS_SCAN_10MS                         IMPT 00000000   4274 
_INT_CLS_CTL_FLG                          IMPT 00000000   2831 11065 11182 
_INT_CLS_DYL_TIM                          IMPT 00000000   2832 
_INT_CYC_DRV_STS                          IMPT 00000000   2830 
_INT_DND_CTL_STEP                         IMPT 00000000   2826 
_INT_DND_NEG_STEP                         IMPT 00000000   2834 
_INT_DND_STEP_FLG                         IMPT 00000000   2829 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2843 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   284

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_INT_POS_CTL_FLAG                         IMPT 00000000   2827 15639 
_INT_POS_CTL_STEP                         IMPT 00000000   2824  9745 10011 10083 10198 10585 11106 11790 11941 12866 13929 17361 
_INT_POS_STEP_FLG                         IMPT 00000000   2828 
_INT_SFY_INP_DAT                          IMPT 00000000   3630 
_INT_STP_INP_DAT                          IMPT 00000000   3631 
_INT_STP_INP_DAT1                         IMPT 00000000   3632 
_INT_STP_INP_DAT2                         IMPT 00000000   3633 
_INT_STP_INP_DAT3                         IMPT 00000000   3634 
_IN_PARAM_RNA_CHK                         IMPT 00000000   4027 15230 
_IN_POS_GPOINT_POS                        IMPT 00000000   3929 
_IN_RDY_FLG                               IMPT 00000000   2618  7395  7661  7740  9128 11122 
_IN_RNA_REF_ERR_FLG1                      IMPT 00000000  14687 
_IN_RNA_REF_ERR_FLG2                      IMPT 00000000  14688 
_IRQ_EMG_CNT                              IMPT 00000000   3624 
_IRQ_EMG_FLG                              IMPT 00000000   3623 
_IRQ_EMG_STP_CLR                          IMPT 00000000   6074  6468 
_IRQ_SFY_CNT                              IMPT 00000000   3626 
_IRQ_SFY_FLG                              IMPT 00000000   3625 
_IRQ_STP_CNT                              IMPT 00000000   3628 
_IRQ_STP_FLG                              IMPT 00000000   3627 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4185 
_KAJLIV_TTL_POINT                         IMPT 00000000   4184 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4182 
_KJPHOS_CAL_PRS                           IMPT 00000000   2993 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   2985 
_KJPHOS_IDO_BUF                           IMPT 00000000   2988 
_KJPHOS_IDO_CNT                           IMPT 00000000   2982 
_KJPHOS_IDO_POINT                         IMPT 00000000   2981 
_KJPHOS_IDO_TOTAL                         IMPT 00000000   2987 
_KJPHOS_SAMPLING1                         IMPT 00000000   6168  7440 
_KJPHOS_SIG_CLR                           IMPT 00000000   6167  6375 
_KJPHOS_USE_FLG                           IMPT 00000000   2980 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   2984 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4816 
_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4817 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4815 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   2991 
_KJYUU_IN_DAT_PV                          IMPT 00000000   2990 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   2992 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4826 
_KJYU_CMP_CMD                             IMPT 00000000   4885 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4891 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4890 
_KJ_AREATRD_SIG                           IMPT 00000000   4867 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4868 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3748 
_KJ_AREA_SIG                              IMPT 00000000   3747 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2471 
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3663 
_LINK_1000ROT_PLS                         IMPT 00000000   4203 
_LINK_1ROT_PLS                            IMPT 00000000   2758 18448 
_LINK_2ROT_PLS                            IMPT 00000000   4200 
_LINK_3ROT_PLS                            IMPT 00000000   4201 
_LINK_4ROT_PLS                            IMPT 00000000   4202 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   285

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LINK_CLANK_DIG_MAK                       IMPT 00000000   6175 14087 
_LINK_CLANK_PV                            IMPT 00000000   3480 14091 20350 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3033 16504 
_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2681 
_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2680 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2682 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2683 18223 
_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2752 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2751 
_LINK_POS_OFFSET1                         IMPT 00000000   2845 
_LINK_POS_OFFSET2                         IMPT 00000000   2846 
_LINK_PV_ABSPLS                           IMPT 00000000   2844 14058 14165 16635 
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2805 
_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2813 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2814 
_LNGTH_ADD_DATA                           IMPT 00000000   2839 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2840 
_LONG_BIT_TBL0                            IMPT 00000000   6098 13969 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3467 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3468 
_LOT_CHK_FLG                              IMPT 00000000   2650 12666 12789 12840 
_LOT_CNT_CNT                     P             00001C38   7408 12654*
_LOT_CNT_FLG                              IMPT 00000000   2648 10625 12708 12723 12799 12845 
_LOT_SIG_FLG_CLR                 P        EXPT 00001CF4   6481 12826 12836*19606 20201 
_LOT_SIG_SET                              IMPT 00000000  12653 12737 
_LSA1_FILETR_TIM                          IMPT 00000000   3729 
_LSA2_FILETR_TIM                          IMPT 00000000   3730 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3735 
_LSA_ENC_DIG                              IMPT 00000000   3722 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3723 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3724 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3725 
_LSA_ERRCLR_INI                           IMPT 00000000   6066  6379 
_LSA_ERR_SIG                              IMPT 00000000   3734 
_LSA_SIG_DT                               IMPT 00000000   3726 
_LSA_SIG_DT2                              IMPT 00000000   4051 
_LSA_SIG_OLD_DT                           IMPT 00000000   3727 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3728 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3586 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4459 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4460 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4461 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4462 
_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3565 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3564 
_LSI_LOAD_PLS                             IMPT 00000000   5171 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3554 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3555 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3556 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3537 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3550 
_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3548 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3547 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3551 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   286

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3557 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3558 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3559 
_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3560 
_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3561 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3538 
_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3648 
_LSI_SET_SPD_MINLMT                       IMPT 00000000   3649 
_LSI_SET_SPD_SV                           IMPT 00000000   3647 
_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3498 
_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3497 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3499 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3500 
_LT_RNA_REF_ERR_FLG1                      IMPT 00000000  14679 14690 
_MAIN_CLK                                 IMPT 00000000   4763 
_MAIN_START_OK                            IMPT 00000000   2481 
_MASK2_SAFTY_MAK                 P             00002760   7330 15278*
_MASK2_SAFTY_SW_MOV              P             000027C0   8117 15347*
_MCN_DBG_COD11                            EQU  00000063   2230*
_MCN_DBG_COD21                            EQU  00000059   2232*
_MCN_DBG_COD22                            EQU  00000058   2233*
_MCN_DBG_COD23                            EQU  00000058   2234*
_MCN_DBG_COD31                            EQU  0000004F   2236*
_MCN_DBG_COD32                            EQU  0000004E   2237*
_MCN_DBG_COD33                            EQU  0000004D   2238*
_MCN_FUJI_DBG1                            EQU  000004D2   2240*
_MISS_KEN_CAM_IN                          IMPT 00000000   5376 
_MISS_KEN_CAM_OF_EDG                      IMPT 00000000   5377 
_MISS_KEN_CNT_STOP_SQ                     IMPT 00000000   5379 
_MISS_KEN_DI                              IMPT 00000000   5372 
_MISS_KEN_DI_REC_ON                       IMPT 00000000   5373 
_MISS_KEN_EMG_STOP_SQ                     IMPT 00000000   5380 
_MISS_KEN_INIT_FLG                        IMPT 00000000   5369 
_MISS_KEN_INIT_TIM                        IMPT 00000000   5370 
_MNWR_POS_CMD                             IMPT 00000000   2774  8850  8865  9931 10396 10523 10670 10871 10919 10954 11019 15641 
                                                         17209 
_MN_POS_CTRL_ACT                          IMPT 00000000   6045  9049 
_MN_POS_CTRL_START                        IMPT 00000000   6044  8640 
_MODE_AREA_MAKE                  P        EXPT 00000514   6158  7263*
_MODE_CHANGE                     P        EXPT 00000438   6156  7054*
_MODE_CNTCNF1_STOP_CHK           P             00001188  10127*10456 
_MODE_CNTCOM1_STOP_CHK           P             00001140  10070*10452 10495 
_MODE_CNTCOM2_STOP_CHK           P             000011C8  10187*10472 
_MODE_CNT_STOP_CHK               P             00000FC8   8911  9733*
_MODE_CSS_STOP_CHK               P             000012DC   8896 10429*
_MODE_CTRL                       P        EXPT 00000524   6157  7287*
_MODE_DIC_STOP_CHK               P             000014A8   9040 10806*
_MODE_DUP_STOP_CHK               P             00001514   9027 10896*
_MODE_INC_STOP_CHK               P             00001494   8927 10788*
_MODE_OPT_STOP_CHK               P             00001494   9011 10787*
_MODE_SEL                                 IMPT 00000000   2611  7634  8309  8884  9104  9222  9398  9423  9532 10281 10434 11410 
                                                         11443 12542 12660 13081 13168 13236 14428 14550 14597 17167 19463 19835 
                                                         20096 
_MODE_SGL_STOP_CHK               P             0000122C   8957 10276*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   287

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_MONI_CPUAB_PLSDELT                       IMPT 00000000   3904 
_MONI_DISP_MOD                            IMPT 00000000   5424 
_MONI_RDY_STEP                            IMPT 00000000   4985  7995  8017  8053  8204  8261  8279  8294  9205  9218  9232  9251 
_MONI_RESET_STEP                          IMPT 00000000   4984  6741  6760  6773  6791  6801  6827  6839  6863  6876  6928  6959 
                                                          6979  7000 
_MONI_SELF_STS1                           IMPT 00000000   4986 
_MONI_SELF_STS2                           IMPT 00000000   4987 
_MOT_REP_CNT                              IMPT 00000000   5031 
_MOT_REP_F                                IMPT 00000000   5030 13976 
_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5048 18310 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2584 
_MOV_ERR_FLG1                             IMPT 00000000   2581 
_MRTION_SEL                               IMPT 00000000   2616 
_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   6030 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   6029 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   6031 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4712 12329 12523 
_M_LINK_AREASIG                           IMPT 00000000   2690  6971 10579 11824 18204 19781 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2798 
_NEAR_IN_FLG                              IMPT 00000000   2673 13876 
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4311 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4309 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4310 
_NEG_DND_STOP_POS_END_F                   IMPT 00000000   5388 
_NEG_DND_STOP_USE_F                       IMPT 00000000   5387 
_NEG_EXITTIM                              IMPT 00000000   4681 
_NEWMASK_SEL_STOPMSK             P             00001B0C   8139  8166 11177 12323*16146 16166 
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3566 
_NEW_TEP_CNT                              IMPT 00000000   3794 
_NOW_INC_DIG_MAK                          IMPT 00000000   6093 18218 
_NOW_MOTREP_DIR                           IMPT 00000000   5032 
_NOW_POS_PRESET_OUTPLS                    IMPT 00000000   6046  6401 
_NZ_TIM_CHK1                     P        EXPT 00002408  14315 14370*
_NZ_TIM_OUT_PV1                           IMPT 00000000   3382 10792 14338 14380 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3383 14348 14395 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3380 14331 14374 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3381 14341 14389 
_OBJDIG_CLANK                             IMPT 00000000   4684 
_OBJ_ENC360                               IMPT 00000000   2525 
_OLD_RNAORG_POS1                          IMPT 00000000   2512 
_OPT_SGL_SFTY_MASK_CHK           P             00001BB4  12169 12516*
_ORGIN2_STEP_FLG                          IMPT 00000000   4320 
_ORGIN_180CHK                    P             00002654   8059 15043*
_ORGIN_END_FLG1                           IMPT 00000000   3055 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3818 14503 14609 
_ORGIN_MOD2_SEL                           IMPT 00000000   3817 14470 14565 14624 14641 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3819 14496 14525 14603 
_ORGIN_MODE_FLG_CLR              P        EXPT 000024B0   8509 11007 11279 14514 14520*
_ORGIN_MODE_SEL_START            P             000024C4   8450 14545*
_ORGIN_MODE_SEL_WAIT             P             00002448   8477 14423*
_ORGIN_MODE_START_WAIT           P             000024F8   8026 14593*
_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4376 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4377 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4378 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   288

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2588  6794 
_ORG_DRV_CNT_PV                           IMPT 00000000   3454 13164 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2587  6831 
_ORG_END_SIG_CLR                          IMPT 00000000   6050  6370 
_ORG_FIRST_OBJPLS                         IMPT 00000000   3046 
_ORG_PRESET_TIM                           IMPT 00000000   2596  6398 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3455 10940 11189 13159 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3047 
_ORIGN_180ARA_FLG                         IMPT 00000000   4012 15088 15151 15187 16407 
_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3650 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3441 
_OUTPLS_DELT                              IMPT 00000000   3437 
_OUTPLS_DIV                               IMPT 00000000   2848 
_OUTPLS_MOD                               IMPT 00000000   2847 
_OUTPLS_POINT_SEL                         IMPT 00000000   3440 
_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3438 
_OUTPLS_SPD_POINT                         IMPT 00000000   3439 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3433 
_OUT_PLS_SPD                              IMPT 00000000   3434 
_OUT_PLS_SPD_DIR                          IMPT 00000000   3436 
_OVER1_JGDIG                              EQU  00000032   2039*
_OVERH_CALC_USE                           IMPT 00000000   4678 
_OVERH_MODE_SEL                           IMPT 00000000   4676 
_OVERLIDE_DT_SEL                          IMPT 00000000   3866 
_OVERLID_DEF_SET                          IMPT 00000000   6173  6636 
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3893 
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3856 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3854 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3855 
_OVER_RIDE_USEFUL                         IMPT 00000000   3888 
_OVER_RID_UPDN_LAT_DTMK                   IMPT 00000000   6171  8595 
_OVER_UPDN_DBGCNT                         IMPT 00000000   3890 
_OVRLIDE_LATE_MAX                         EQU  00000064   2271*
_PAR_BRKDISE_TIM                          IMPT 00000000   6121 
_PAR_BRKLOCK_TIM                          IMPT 00000000   6122 
_PAR_BTNER_TM                             IMPT 00000000   6139 17078 
_PAR_EP1STR_DLYTM                         IMPT 00000000  18479 18721 
_PAR_EP2FVINOF_ERTM                       IMPT 00000000  18480 18743 
_PAR_EP3BRKON_DLYTM                       IMPT 00000000  18481 18854 
_PAR_EP4EPINOF_ERTM                       IMPT 00000000  18482 18860 
_PAR_EP5RSTON_DLYTM                       IMPT 00000000  18483 19019 
_PAR_EP6RSTOF_INTTM                       IMPT 00000000  18485 19034 
_PAR_EP6RSTON_JGTM                        IMPT 00000000  18484 19042 
_PAR_EP6RST_RETRY                         IMPT 00000000  18486 19123 
_PAR_EP7AB_DLYTM                          IMPT 00000000  18487 18735 
_PAR_EP7END_DLYTM                         IMPT 00000000  18488 19221 
_PAR_EPCHK_SEL                            IMPT 00000000  18478 18573 
_PAR_EXTDRV_SEL                           IMPT 00000000   6138 16760 
_PAR_INCMODE_EPLS                         IMPT 00000000   6145 18246 
_PAR_INCMODE_SEL                          IMPT 00000000   6144 18397 
_PAR_MYUTERR_SEL                          IMPT 00000000   6140 15380 
_PAR_MYUTING_SEL                          IMPT 00000000   6135 15283 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6203  8133 16140 
_PAR_ORGDRV_CNT                           IMPT 00000000   6117 13162 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   289

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PAR_ORGDRV_MOD                           IMPT 00000000   6116 10901 14456 
_PAR_SELFCHK_POWSEL                       IMPT 00000000   9642  9648 16441 
_PAR_SELF_WAIT_TM                         IMPT 00000000   6123 
_PAR_SFTY_BRKSEL                          IMPT 00000000   6120 
_PAR_SLOCK_DLY2                           IMPT 00000000   6124 
_PAR_UPCHK_SEL1                           IMPT 00000000   6128 11689 11852 
_PAR_UPMASK_SPD                           IMPT 00000000   6131 12104 
_PLSOUTEND_FLG                            IMPT 00000000   5194 
_PLSOUTEND_PVPLS                          IMPT 00000000   5192 
_PLSOUTEND_SHIN                           IMPT 00000000   5193 
_PLS_OUTPUT_FLG                           IMPT 00000000   3373 
_PLS_OUT_END_STS                          IMPT 00000000   4746 
_PON_ERR_WAIT_TIM                         IMPT 00000000   5124 
_POSCANSEL_CMD                            IMPT 00000000   5313 10994 20016 20037 
_POSCAN_PROC_STEP_RECOVER        P             00003E10  20047 20090*
_POSCTL_CALC_ERR                          IMPT 00000000   3841 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3897 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3896 
_POSCTL_RL_PLS                            IMPT 00000000   3828 
_POSCTL_RL_SPD                            IMPT 00000000   3832 
_POSCTL_SET_SPD                           IMPT 00000000   3830 
_POSCTL_STEP_CMD                          IMPT 00000000   3839 
_POSCTL_STEP_FLG                          IMPT 00000000   3840 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3835 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3837 
_POSCTL_SV_PLS                            IMPT 00000000   3827 
_POSCTL_SV_SPD                            IMPT 00000000   3831 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3834 
_POSCTRL_CANSEL_RESET            P             00003DC0   7324 20012*
_POSHLD1_CHKLST_FLG                       IMPT 00000000   4979 17330 17340 17734 
_POSHLD1_FLG_CLR                 P             000032F4  17727*17933 
_POSHLD1_GENSKPOSWK                       IMPT 00000000   4958 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4959 
_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   4961 17546 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   4962 17533 
_POSHLD1_SIG_CHK                 P             00003320   7789 17762*
_POSHLD1_STEP1_STOPCMD_CHK       P             00003000   8812 17123*
_POSHLD1_STEP2_START_CHK         P             0000321C  17575*17851 
_POSHLD1_STOPBTTNCMD_CHK         P             000030C8   7826  7863 17198 17276*
_POSHLD1_STOPLATCH                        IMPT 00000000   4967  9960 10137 17293 17991 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4956 
_POSHLD1_STOP_CONFCHK            P             000030F4  17175 17314*
_POSHLD1_STOP_STEP                        IMPT 00000000   4955 17342 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4954 
_POSHLD_SET_DN_ACC                        IMPT 00000000   4966 
_POSINER_FLG                              IMPT 00000000   4907 
_POSINER_MOSTPV_POS                       IMPT 00000000   4903 
_POSINER_OLDPV_POS                        IMPT 00000000   4902 
_POSINER_PV_POS                           IMPT 00000000   4901 
_POSINER_RETRY_CNT                        IMPT 00000000   4909 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4910 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4911 
_POSINER_STS                              IMPT 00000000   4908 
_POSINER_SV_OVRPOS                        IMPT 00000000   4905 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   290

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POSINER_SV_POS                           IMPT 00000000   4904 
_POSINER_SV_STPPOS                        IMPT 00000000   4906 
_POSLSI_CHK_CNT                           IMPT 00000000   2857 
_POSLSI_CHK_DLT                           IMPT 00000000   2858 
_POSLSI_CHK_RESTPLS                       IMPT 00000000   2851 
_POSLSI_CHK_STS                           IMPT 00000000   2859 
_POSLSI_CMP_DATA                          IMPT 00000000   2841 
_POSLSI_DELT_POS                          IMPT 00000000   2842 
_POSLSI_DRIV_SHIN                         IMPT 00000000   2850 
_POSLSI_DRV_FRQ                           IMPT 00000000   3567 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2855 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2853 
_POS_CALC_ERR_FLG1                        IMPT 00000000   3540 
_POS_CALC_ERR_FLG2                        IMPT 00000000   3541 
_POS_CALC_ERR_INF1                        IMPT 00000000   3544 
_POS_CALC_ERR_INF2                        IMPT 00000000   3545 
_POS_CANSEL_CLR                  P             000015D4  11003 11052*
_POS_CANSEL_STOP_CHK             P             00001580   8834 10981*
_POS_CMP_1STEP_START_INI         P        EXPT 00002170  13287 13803 13859*
_POS_CTRL_SQ_STS                          IMPT 00000000   2821  8068 11210 13035 13886 
_POS_DRV_DIRECT                           IMPT 00000000   2815 
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5213 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5212 
_POS_END_WAIT_TIM                         IMPT 00000000   5203 
_POS_FRQ_SPDMAX                           IMPT 00000000   3039 
_POS_GPOINT_POS                           IMPT 00000000   3930 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4938 17599 17625 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4939 17127 17217 17579 17603 17646 17732 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4940 17670 17774 17994 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4941 17445 17672 17807 17996 
_POS_HOLDABS_CALCF                        IMPT 00000000   4978 17319 
_POS_HOLD_CMD                             IMPT 00000000   4973  7800  7878 17222 17927 
_POS_HOLD_FLG                             IMPT 00000000   4974  7794  7807  7845 17929 18067 
_POS_HOLD_FLG_CLR                P             000033BC   7899 17919*17982 
_POS_HOLD_FLG_EXQ_CLR            P             000033FC  11293 17976*
_POS_HOLD_FLG_STR2CLR            P        EXPT 000033E8   6200  8417  8648 17951*17986 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   4975  7904  8555 17956 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   4976 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   4972  7872 17651 17925 
_POS_HOLD_RESTART_CHK            P             00003380   7868 17846*
_POS_LSI_ABSPLS                           IMPT 00000000   2903 
_POS_LSI_ACCLT1                           IMPT 00000000   3043 
_POS_LSI_ACCLT2                           IMPT 00000000   3044 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3539 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3543 
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3061 
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3060 
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2907 
_POS_LSI_OFFSET1                          IMPT 00000000   2905 
_POS_LSI_OFFSET2                          IMPT 00000000   2906 
_POS_LSI_OLDCNT                           IMPT 00000000   2909 
_POS_LSI_SLOW_STOP                        IMPT 00000000   6069 
_POS_LSI_SPDBAS                           IMPT 00000000   3042 
_POS_LSI_SPDLAT                           IMPT 00000000   3041 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   291

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_LSI_SPDMAX                           IMPT 00000000   3040 
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2902 
_POS_STEP1_SEARCH                         IMPT 00000000  18151 18234 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3492 
_PRD_DAI_POS0                             IMPT 00000000   3490 
_PRD_DAI_POS1                             IMPT 00000000   3491 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3978 
_PRESET_PV_FLGCLR                         IMPT 00000000   6092  6411 
_PS_DG_INF_CHK1                           EQU  00000000   2204*
_PS_DG_INF_CHK2                           EQU  0000003C   2209*
_PS_DG_INF_CONT                           EQU  00000004   2205*
_PS_DG_INF_LATE                           EQU  00000010   2208*
_PS_DG_INF_STLK                           EQU  0000000C   2207*
_PS_DG_INF_UNIT                           EQU  00000008   2206*
_PS_TIME                                  EQU  00000002   1998*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3241 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3445 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3446 
_PVP_WTJUD_AGL                            IMPT 00000000   6197 
_PVP_WTJUD_POS                            IMPT 00000000   6198 
_PVP_WTJUD_SNO                            IMPT 00000000   6196 
_PVX_AMPERR_TIM1                          IMPT 00000000   3179 
_PVX_AMPERR_TIM2                          IMPT 00000000   3180 
_PVX_AMPERR_TIM3                          IMPT 00000000   3181 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4736 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4717 
_PVX_DAI_POS0                             IMPT 00000000   2923 
_PVX_DAI_POS1                             IMPT 00000000   2924 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4701 
_PVX_DYHITO_POS                           IMPT 00000000   2931 
_PVX_IAMP_VLT                             IMPT 00000000   3182 
_PVX_INPPOS_TIM1                          IMPT 00000000   3155 
_PVX_MOTINS_AG2                           IMPT 00000000   4521 
_PVX_MOTINS_AG2X                          IMPT 00000000   4522 
_PVX_MOTINS_AG3                           IMPT 00000000   4527 
_PVX_MOTINS_AG3X                          IMPT 00000000   4528 
_PVX_MOTINS_AGL                           IMPT 00000000   4524 
_PVX_MOTINS_AGLX                          IMPT 00000000   4525 
_PVX_MOTINS_DAN                           IMPT 00000000   4532 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4533 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4531 
_PVX_MOTINS_INF                           IMPT 00000000   4535 
_PVX_MOTINS_POS                           IMPT 00000000   4518 
_PVX_MOTINS_PS2                           IMPT 00000000   4517 
_PVX_MOTINS_PS3                           IMPT 00000000   4519 
_PVX_RNA_STLORK                           IMPT 00000000   2925 
_PV_ENC_SPD_PER                           IMPT 00000000   3443 12106 
_PV_OUT_SPD_PER                           IMPT 00000000   3444 
_RDYON_CONF1                     P             00000DC0   8268  8407  9191*
_RDY_CHEAK                       P             00000768   7416  7780*
_RDY_HOLDSTP_FLGOUT              P             00003474   7420 18062*
_RDY_HOLDSTP_OF_FLGOUT           P             00003458  18013 18040*
_RDY_OF                                   IMPT 00000000   5885  8684  8765 16317 16434 
_RDY_ON                                   IMPT 00000000   5884  8344 16230 16272 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   292

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RDY_SFTY_LOCK                            IMPT 00000000   3714 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3715 14822 14843 14966 
_RECOVER_WAIT_AREA_CHK           P             00003C98  19514 19724*20137 
_RENEA_ERR_RESET_INI                      IMPT 00000000  14678 14713 
_REP_CAMOBJ_DIG                           IMPT 00000000   5033 
_RESET_CHEAK                     P        EXPT 00000000   6155  6229*
_RESET_CONF_CHK                  P             000002A4   6416  6696*
_RESET_END_OUT                            IMPT 00000000   5877  6590 
_RESET_ERR_SEQ_CLR                        IMPT 00000000   6054  6452  6600 
_RESET_ERR_SEQ_CLR1                       IMPT 00000000   6055 
_RESET_ERR_SEQ_CLR2                       IMPT 00000000   6056  6604 
_RESET_OUT                                IMPT 00000000   5876  6456  6556 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2715 
_RESET_ROTNUM_ZR                          IMPT 00000000   2714 
_REVCHK_DRIV_SHIN                         IMPT 00000000   4602 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4603 
_REVMOD_REVDN_DIG                         IMPT 00000000   4605 
_REV_CALC_WORK0                           IMPT 00000000   3232 
_REV_CALC_WORK1                           IMPT 00000000   3233 
_REV_CALC_WORK2                           IMPT 00000000   3234 
_REV_ERR_FLG                              IMPT 00000000   5234 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5237 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5238 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4601 
_REV_LATCH_ENCPOS                         IMPT 00000000   2873 
_REV_LATCH_OUTPLS                         IMPT 00000000   2872 
_REV_LATCH_RNAPOS                         IMPT 00000000   2874 
_RM1_CHK_OLDSTS                           IMPT 00000000   5058 
_RM1_CHK_TIME                             IMPT 00000000   5059 
_RM2_CHK_OLDSTS                           IMPT 00000000   5061 
_RM2_CHK_TIME                             IMPT 00000000   5062 
_RNAREV_ADD                               EQU  00000000   2061*
_RNASTP_ADD                               EQU  00000000   2059*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2964 
_RNA_ABS_MAXPOS                           IMPT 00000000   2943 
_RNA_ABS_MD2_C1                           IMPT 00000000   4335 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4336 
_RNA_ABS_MD2_C2                           IMPT 00000000   4337 
_RNA_ABS_MD_DT0                           IMPT 00000000   2927 
_RNA_ABS_MD_DT1                           IMPT 00000000   2928 
_RNA_ABS_MEMORG                           IMPT 00000000   2920 
_RNA_ABS_MINPOS                           IMPT 00000000   2942 
_RNA_ABS_ORGWORK                          IMPT 00000000   2911 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4329 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4330 
_RNA_ABS_POS                              IMPT 00000000   2919 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2941 
_RNA_ABS_WKMINPOS                         IMPT 00000000   2940 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4476 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4469 
_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4471 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4470 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4473 
_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4472 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   293

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_BBN_SET_TIME                         IMPT 00000000   4475 
_RNA_CMD_RD_CNT                           IMPT 00000000   2538 
_RNA_CMD_SND_CNT                          IMPT 00000000   2537 
_RNA_COM_ERR_CNT                          IMPT 00000000   2530 
_RNA_COM_NML_CNT                          IMPT 00000000   2531 
_RNA_CTL_POS0                             IMPT 00000000   2929 
_RNA_CTL_POS1                             IMPT 00000000   2930 
_RNA_ENC360                               IMPT 00000000   2522 
_RNA_ERR_RSTCHK                  P        EXPT 00002718  15209 15216*
_RNA_HOS_DELT                             IMPT 00000000   2932 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4488 
_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2706 
_RNA_OLD_STEP                             IMPT 00000000   4491 
_RNA_POS_OFFSET1                          IMPT 00000000   2917 
_RNA_POS_OFFSET2                          IMPT 00000000   2918 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4028 
_RNA_PROTOCOL_X                           IMPT 00000000   4031 
_RNA_RESET_FLG                            IMPT 00000000   2533 15236 
_RNA_RESET_TIM                            IMPT 00000000   2534 
_RNA_SCIF_ERR_CLR1               P             00002564   6406 14682*15248 
_RNA_SCIF_ERR_CLR2                        IMPT 00000000   6085 14709 14727 
_RNA_STLORK                               IMPT 00000000   2922 
_RNA_STLORK_HALF                          IMPT 00000000   4327 
_RNA_STOP_CNT                             IMPT 00000000   3242 
_RNA_TECH_POINT                           IMPT 00000000   4487 
_RNA_TECH_POSBUF                          IMPT 00000000   4486 
_ROOT_MAIN_INP                            IMPT 00000000   5430 
_ROOT_MAIN_OUT                            IMPT 00000000   5431 
_ROT_CNTMODE_CHK                 P             00003F28  20277 20321*
_RST_DLY_TM                               EQU  000000C8   2017* 6553 
_RST_ERR_CHK_ERR                          IMPT 00000000   2878 
_RST_ERR_CHK_FLG                          IMPT 00000000   2876 11186 
_RST_MOD_POS_END                 P             00001778   6586 11391*
_RST_MOD_POS_START               P             00001764   6460 11363*
_SAME_TIM                                 IMPT 00000000   2658  8329  9394  9506 16215 
_SCAN_DBG_CNT                             IMPT 00000000   4782 
_SCAN_SMP_SIG                             IMPT 00000000   4769 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4760 
_SCAN_TIM_IN                              IMPT 00000000   4765 
_SCAN_TIM_POINT                           IMPT 00000000   4761 
_SCAN_TIM_TOTAL                           IMPT 00000000   4759 
_SDATCLS_OBJMM                            IMPT 00000000   3067 
_SDATCLS_OBJPLS                           IMPT 00000000   3066 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3068 
_SDATCLS_TRG_STEP                         IMPT 00000000   3070 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3069 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2760 
_SELFCHK_LOCK_SET                P             00000F8C   8692  9643*
_SELF_AD_LATCH                            IMPT 00000000   3703 
_SELF_BRK_LOCK                            IMPT 00000000   3699 
_SELF_CHK_MATHED                          IMPT 00000000   3698  9661 16454 
_SELF_CHK_SEL                             IMPT 00000000   2605  9111  9659 15548 16452 
_SELF_COM                                 IMPT 00000000   2603  7347  7667  7722 
_SELF_FIRST_END_FLG                       IMPT 00000000   3696 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   294

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SELF_FLG                                 IMPT 00000000   2601  7345  7645  7671  7751 15301 15554 
_SELF_LOCK_FLG                            IMPT 00000000   3983  9655 16448 
_SELF_MOV_LENGTH                          IMPT 00000000   3706 
_SELF_MOV_SPEED                           IMPT 00000000   3707 
_SELF_SECOND_ACT_FLG                      IMPT 00000000   3701 
_SELF_SECOND_STEP                         IMPT 00000000   3702 
_SELF_START_CONF                          IMPT 00000000   6042  7714 
_SELF_START_POS_LATCH                     IMPT 00000000   3705 
_SELF_START_WAIT_TM                       IMPT 00000000   2604 
_SELF_TIMING_SIG                          IMPT 00000000   3697  6485  9123 
_SEQAB_DP_TOP                             IMPT 00000000   6190 17153 17160 
_SET1_ACCLAT_TIM1                         IMPT 00000000   3142 
_SET1_AMP100P_VLT                         IMPT 00000000   3176 
_SET1_ARACHK_LNG1                         IMPT 00000000   3157 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4919 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4914 
_SET1_ATSLID_COEF1                        IMPT 00000000   4917 
_SET1_ATSLID_COEF2                        IMPT 00000000   4918 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4915 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4916 
_SET1_BREAK_DIG                           IMPT 00000000   3478 
_SET1_BREAK_TIM1                          IMPT 00000000   3476 
_SET1_CNT_CNT                             IMPT 00000000   3085 13120 
_SET1_CNT_TIM                             IMPT 00000000   3083 13101 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3168 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3169 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3170 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3187 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3189 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3188 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3191 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3190 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3193 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3192 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3195 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3194 
_SET1_DNAREA_INPX                         IMPT 00000000   3145 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3149 
_SET1_DNAREA_JUDG                         IMPT 00000000   3119 
_SET1_DNDINC_SPD1                         IMPT 00000000   3128 
_SET1_DND_DIGTOP                          IMPT 00000000   3757 
_SET1_DND_PLSTOP                          IMPT 00000000   3758 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3756 
_SET1_DND_STOP_SW                         IMPT 00000000   3755 
_SET1_DND_UPPLS                           IMPT 00000000   3759 
_SET1_EJECAM_OFR                          IMPT 00000000   5022 
_SET1_EJECAM_ONR                          IMPT 00000000   5021 
_SET1_ENC360_HOS1                         IMPT 00000000   3159 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3171 
_SET1_INCDIR_SEL1                         IMPT 00000000   3100 
_SET1_INCENC_ELNG                         IMPT 00000000   3162 
_SET1_INCHEN_ELNG                         IMPT 00000000   3161 
_SET1_INCPLS_1REV                         IMPT 00000000   3097 
_SET1_INCPLS_HOSM                         IMPT 00000000   3102 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   295

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_INCPLS_HOSN                         IMPT 00000000   3101 
_SET1_INCPOS_KP01                         IMPT 00000000   3140 
_SET1_INCREV_ELNG                         IMPT 00000000   3166 
_SET1_INCRNA_ELNG                         IMPT 00000000   3163 
_SET1_INCSTP_ELNG                         IMPT 00000000   3164 
_SET1_INPPOS_TIM1                         IMPT 00000000   3154 
_SET1_INTLIM_AGL                          IMPT 00000000   4944 
_SET1_INTLIM_PLS                          IMPT 00000000   4946 
_SET1_KAJAREA_ENO                         IMPT 00000000   4855 
_SET1_KAJAREA_SEL                         IMPT 00000000   4869 
_SET1_KAJAREA_SNO                         IMPT 00000000   4854 
_SET1_KATTCH_EAG                          IMPT 00000000   4877 
_SET1_KATTCH_SAG                          IMPT 00000000   4876 
_SET1_KATTCH_SPD                          IMPT 00000000   4545 
_SET1_KJEND_DIG1                          IMPT 00000000   3746 
_SET1_KJEND_DIG2                          IMPT 00000000   4858 
_SET1_KJEND_STEP1                         IMPT 00000000   3745 
_SET1_KJSTR_DIG1                          IMPT 00000000   3744 
_SET1_KJSTR_DIG2                          IMPT 00000000   4857 
_SET1_KJSTR_STEP1                         IMPT 00000000   3743 
_SET1_LSAABN_AGL1                         IMPT 00000000   3732 
_SET1_LSAABN_AGL2                         IMPT 00000000   3733 
_SET1_MAX_KJYU                            IMPT 00000000   4188 
_SET1_MISCAM_OFR                          IMPT 00000000   5024 
_SET1_MISCAM_ONR                          IMPT 00000000   5023 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3114 
_SET1_MOTREP_CNT                          IMPT 00000000   5014 
_SET1_MOTREP_SPD                          IMPT 00000000   5013 
_SET1_MOTREP_STGE                         IMPT 00000000   5012 
_SET1_MOTREP_STGS                         IMPT 00000000   5011 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5010 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3104 
_SET1_MRTION_SEL1                         IMPT 00000000   3197  7267 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3198 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3175 
_SET1_OBJARA_INPX                         IMPT 00000000   3146 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3150 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3152 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3222 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3208 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3203 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3211 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3215 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3256 
_SET1_OVERLIDE_COF                        IMPT 00000000   3867 
_SET1_PLSAHI_PLS                          IMPT 00000000   3783 
_SET1_PLSALO_PLS                          IMPT 00000000   3782 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3258 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3259 
_SET1_REVDAT_SPD1                         IMPT 00000000   3131 
_SET1_REVDAT_SPD2                         IMPT 00000000   3134 
_SET1_REVDAT_SPD3                         IMPT 00000000   3135 
_SET1_RNADIR_SEL1                         IMPT 00000000   3099 
_SET1_RNAORG_POS1                         IMPT 00000000   3115 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   296

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_RNAPOS_KP01                         IMPT 00000000   3141 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3116 
_SET1_RNAPOS_MINP                         IMPT 00000000   3117 
_SET1_RNAREV_ELNG                         IMPT 00000000   3167 
_SET1_RNASTP_ELNG                         IMPT 00000000   3165 
_SET1_ROTCAM_OFR                          IMPT 00000000   5020 
_SET1_ROTCAM_ONR                          IMPT 00000000   5019 
_SET1_RPARAM_TOP1                         IMPT 00000000   3093 
_SET1_SSCURV_TIM1                         IMPT 00000000   3143 
_SET1_STDINC_SPD1                         IMPT 00000000   3130 
_SET1_TEPCTL_SPD1                         IMPT 00000000   3790 
_SET1_TEPLAT_DAT1                         IMPT 00000000   3137 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3138 
_SET1_UPAREA_DIG0                         IMPT 00000000   3221 
_SET1_UPAREA_DIG1                         IMPT 00000000   3158 
_SET1_UPAREA_INPX                         IMPT 00000000   3144 
_SET1_UPAREA_INPXPLS                      IMPT 00000000   3148 
_SET1_UPAREA_JUDG                         IMPT 00000000   3118 
_SET1_UPAREA_PLS0                         IMPT 00000000   3206 
_SET1_UPAREA_PLS1                         IMPT 00000000   3207 
_SET1_UPAREA_POS0                         IMPT 00000000   3202 
_SET1_UPAREA_POS1                         IMPT 00000000   3038 
_SET1_UPAREA_SPD0                         IMPT 00000000   3210 
_SET1_UPAREA_SPD1                         IMPT 00000000   3129 
_SET1_UPAREA_TIM0                         IMPT 00000000   3214 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3132 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4187 
_SET2_INTLIM_AGL                          IMPT 00000000   4945 
_SET2_INTLIM_PLS                          IMPT 00000000   4947 
_SET360_UPAREA_DIG1                       IMPT 00000000   4043 
_SET360_UPAREA_PLS1                       IMPT 00000000   4044 
_SETC_KJEND_DIG1                          IMPT 00000000   4126 
_SETC_KJEND_DIG2                          IMPT 00000000   4865 
_SETC_KJSTR_DIG1                          IMPT 00000000   4125 
_SETC_KJSTR_DIG2                          IMPT 00000000   4864 
_SETD_DEGSPD_MAX                          IMPT 00000000   3294 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4236 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4237 
_SETSQ206_BIT11                  P        EXPT 000025B8  14742 14768*
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4107 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4106 
_SETXY_UPAREA_DIG                         IMPT 00000000   4102 
_SETXY_UPAREA_PLS                         IMPT 00000000   4101 
_SETX_ACCERR_DLY1                         IMPT 00000000   4444 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4439 
_SETX_ACCERR_SEL                          IMPT 00000000   4449 
_SETX_BANK_USELFUL                        IMPT 00000000   3656 
_SETX_BREAK_DIG2                          IMPT 00000000   4172 
_SETX_BREAK_TIM2                          IMPT 00000000   4173 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3124 
_SETX_DAIPOS_MINP                         IMPT 00000000   3125 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3120 
_SETX_DNAREA_JG_PLS                       IMPT 00000000   3121 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3063 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   297

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3064 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4822 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4456 
_SETX_INCPLS_HOSM                         IMPT 00000000   3103 
_SETX_KJEND_DIG1                          IMPT 00000000   4121 
_SETX_KJEND_DIG2                          IMPT 00000000   4861 
_SETX_KJSTR_DIG1                          IMPT 00000000   4120 
_SETX_KJSTR_DIG2                          IMPT 00000000   4860 
_SETX_KJYUCLS_OBJ                         IMPT 00000000   4824 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5114 
_SETX_LINK_UP_POS_DN                      IMPT 00000000   2701 19881 
_SETX_LINK_UP_POS_UP                      IMPT 00000000   2700 19883 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4433 
_SETX_MOTREP_DIR                          IMPT 00000000   5028 
_SETX_OUTPLS_HOSA                         IMPT 00000000   3111 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3112 
_SETX_OVERH_AMP                           IMPT 00000000   4675 
_SETX_OVERH_LNGTH                         IMPT 00000000   4674 
_SETX_POS_CTL_MATH                        IMPT 00000000   2734  6911 11459 11965 12060 12195 12891 17521 18183 18303 18437 19471 
                                                         19572 19746 19841 20104 20336 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2733 20343 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2725 17357 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2726 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2722 11599 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2723 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2724 11711 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2732 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2728 
_SETX_POS_STEP_MAX                        IMPT 00000000   2735 11591 11706 17335 18294 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4489 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4490 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4948 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4949 
_SETX_UPAREA_DIG                          IMPT 00000000   3036 10597 11957 12883 
_SETX_UPAREA_PLS                          IMPT 00000000   3034 11616 18443 
_SETX_UPAREA_RNA                          IMPT 00000000   3035 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3051 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3053 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3050 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3052 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4455 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3109 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3108 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3107 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3106 
_SETY_KJEND_DIG1                          IMPT 00000000   4123 
_SETY_KJEND_DIG2                          IMPT 00000000   4863 
_SETY_KJSTR_DIG1                          IMPT 00000000   4122 
_SETY_KJSTR_DIG2                          IMPT 00000000   4862 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4951 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4952 
_SET_ACC_OVRLIDE                          IMPT 00000000   3878 
_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3846 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3844 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   298

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET_DN_ACC_LATE                          IMPT 00000000   3895 
_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3870 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3869 
_SET_NZ_TIM_DAT                  P        EXPT 000023D0  13880 14314 14327*
_SET_PV_ABS_TO_OBJ                        IMPT 00000000   6172  6383  6560  6632 18214 
_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3858 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3857 
_SET_SPDBAS_PLS                           IMPT 00000000   3845 
_SET_SPD_OVRLIDE                          IMPT 00000000   3877 
_SET_UP_ACC_LATE                          IMPT 00000000   3894 
_SET_UP_TIM                               IMPT 00000000   2659  8325  9452  9501  9576  9600 16211 
_SFTYCHK_CLANK_DEG                        IMPT 00000000   5180 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5181 
_SFTYCHK_RNA_POS                          IMPT 00000000   3374 
_SFTY_CTL_IN_DAT                          IMPT 00000000   2553 
_SFTY_IN_DAT                              IMPT 00000000   2552  6751  9209 16690 
_SFTY_LOCK_DLYTM                          IMPT 00000000   3977 
_SFTY_MASK_END                   P             00001B7C   8179  8625 11914 12356 12422*16180 16384 
_SFTY_MASK_START                 P             00001B5C   8968 12373 12394*12432 
_SFTY_MUTING_MODE_ERR            P             000027D8   7334 15376*
_SH2_ADD_PLS                              IMPT 00000000   5618 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5578 
_SH2_CNT_REST_HF                          IMPT 00000000   5589 
_SH2_CNT_REST_PLS                         IMPT 00000000   5573 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5626 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5627 
_SH2_HD_CNT_STOP                          IMPT 00000000   6112  7527 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6104 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6102 
_SH2_HD_HLDSTOP2                          IMPT 00000000   7772 18047 18094 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6110 
_SH2_HD_POS_START                         IMPT 00000000   6106 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6108 
_SH2_HD_STEP_END                          IMPT 00000000   6114  7553 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5574 
_SH2_LOT_CNT_A                            IMPT 00000000   5585 
_SH2_LOT_STEP_A                           IMPT 00000000   5586 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5580 
_SH2_NOW_STEP                             IMPT 00000000   5624 
_SH2_PLSI_ACCS                            IMPT 00000000   5582 
_SH2_PLSI_LATE                            IMPT 00000000   5583 
_SH2_REST_PLS_RL                          IMPT 00000000   5576 
_SH2_REST_PLS_SR                          IMPT 00000000   5575 
_SH2_REST_RL_HF                           IMPT 00000000   5588 
_SH2_REST_SR_HF                           IMPT 00000000   5587 
_SH2_STEP1_FRQ                            IMPT 00000000   5606 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5601 
_SH2_STEP1_REST_P                         IMPT 00000000   5596 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5591 
_SH2_STEP1_TIM                            IMPT 00000000   5611 
_SH2_STEP2_FRQ                            IMPT 00000000   5607 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5602 
_SH2_STEP2_REST_P                         IMPT 00000000   5597 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5592 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   299

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP2_TIM                            IMPT 00000000   5612 
_SH2_STEP3_FRQ                            IMPT 00000000   5608 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5603 
_SH2_STEP3_REST_P                         IMPT 00000000   5598 
_SH2_STEP3_SV_PLS                         IMPT 00000000   5593 
_SH2_STEP3_TIM                            IMPT 00000000   5613 
_SH2_STEP4_FRQ                            IMPT 00000000   5609 
_SH2_STEP4_PV_PLS                         IMPT 00000000   5604 
_SH2_STEP4_REST_P                         IMPT 00000000   5599 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5594 
_SH2_STEP4_TIM                            IMPT 00000000   5614 
_SH2_STEP5_FRQ                            IMPT 00000000   5610 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5605 
_SH2_STEP5_REST_P                         IMPT 00000000   5600 
_SH2_STEP5_SV_PLS                         IMPT 00000000   5595 
_SH2_STEP5_TIM                            IMPT 00000000   5615 
_SH2_STEP_FRQ                             IMPT 00000000   5622 
_SH2_STEP_PV_PLS                          IMPT 00000000   5620 
_SH2_STEP_REST_P                          IMPT 00000000   5621 
_SH2_STEP_SV_PLS                          IMPT 00000000   5619 
_SH2_STEP_TIM                             IMPT 00000000   5623 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5579 
_SH2_TOTAL_PLS                            IMPT 00000000   5617 
_SH4_ADD_PLS                              IMPT 00000000   5561 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5523 
_SH4_CNT_REST_HF                          IMPT 00000000   5533 
_SH4_CNT_REST_PLS                         IMPT 00000000   5519 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5569 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5570 
_SH4_HD_CNT_STOP                          IMPT 00000000   6111  7515 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6103 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6101 
_SH4_HD_HLDSTOP2                          IMPT 00000000   7771 18045 18071 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6109 
_SH4_HD_POS_START                         IMPT 00000000   6105 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6107 
_SH4_HD_STEP_END                          IMPT 00000000   6113  7540 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5520 
_SH4_LOT_CNT_A                            IMPT 00000000   5529 
_SH4_LOT_STEP_A                           IMPT 00000000   5530 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5525 
_SH4_NOW_STEP                             IMPT 00000000   5567 
_SH4_ORG_DIR_REV                          IMPT 00000000   6188 15189 
_SH4_PLSI_ACCS                            IMPT 00000000   5527 
_SH4_PLSI_LATE                            IMPT 00000000   5528 
_SH4_REST_PLS_RL                          IMPT 00000000   5522 
_SH4_REST_PLS_SR                          IMPT 00000000   5521 
_SH4_REST_RL_HF                           IMPT 00000000   5532 
_SH4_REST_SR_HF                           IMPT 00000000   5531 
_SH4_STEP1_FRQ                            IMPT 00000000   5550 
_SH4_STEP1_PV_PLS                         IMPT 00000000   5545 
_SH4_STEP1_REST_P                         IMPT 00000000   5540 
_SH4_STEP1_SV_PLS                         IMPT 00000000   5535 
_SH4_STEP1_TIM                            IMPT 00000000   5555 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   300

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP2_FRQ                            IMPT 00000000   5551 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5546 
_SH4_STEP2_REST_P                         IMPT 00000000   5541 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5536 
_SH4_STEP2_TIM                            IMPT 00000000   5556 
_SH4_STEP3_FRQ                            IMPT 00000000   5552 
_SH4_STEP3_PV_PLS                         IMPT 00000000   5547 
_SH4_STEP3_REST_P                         IMPT 00000000   5542 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5537 
_SH4_STEP3_TIM                            IMPT 00000000   5557 
_SH4_STEP4_FRQ                            IMPT 00000000   5553 
_SH4_STEP4_PV_PLS                         IMPT 00000000   5548 
_SH4_STEP4_REST_P                         IMPT 00000000   5543 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5538 
_SH4_STEP4_TIM                            IMPT 00000000   5558 
_SH4_STEP5_FRQ                            IMPT 00000000   5554 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5549 
_SH4_STEP5_REST_P                         IMPT 00000000   5544 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5539 
_SH4_STEP5_TIM                            IMPT 00000000   5559 
_SH4_STEP_FRQ                             IMPT 00000000   5565 
_SH4_STEP_PV_PLS                          IMPT 00000000   5563 
_SH4_STEP_REST_P                          IMPT 00000000   5564 
_SH4_STEP_SV_PLS                          IMPT 00000000   5562 
_SH4_STEP_TIM                             IMPT 00000000   5566 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5524 
_SH4_TOTAL_PLS                            IMPT 00000000   5560 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4006 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4007 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000   9679 
_SINKAKU_INF                              IMPT 00000000   3275 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3277 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3276 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3279 
_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3278 
_SINWK_CALC_SCAN                          IMPT 00000000   3287 
_SIN_RCAMOF_SW1                           IMPT 00000000   3303 
_SIN_RCAMON_SW1                           IMPT 00000000   3302 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3282 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3306 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3281 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3305 
_SLIDALM_CHK_FLG                          IMPT 00000000   4364 
_SLIDALM_CHK_POS                          IMPT 00000000   4366 
_SLIDALM_CHK_TIM                          IMPT 00000000   4365 
_SLIDALM_POS_MINAS                        IMPT 00000000   4368 
_SLIDALM_POS_PULAS                        IMPT 00000000   4367 
_SPD_PER_MAX                              EQU  00002710   1999*16506 16523 
_SPLCHK_FLG                               IMPT 00000000   4998 
_SPLCHK_TIM                               IMPT 00000000   4999 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5071 
_SQ_CBWK_TOP                              IMPT 00000000   6099  7576  8221  8600  9459  9475 11195 11203 11217 13015 13986 14752 
                                                         14773 15094 15157 15457 15892 15953 15973 16360 16413 16787 16937 17227 
                                                         17439 17608 17614 17656 17663 17699 17738 17767 17800 18001 19312 19416 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   301

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         19493 19617 19664 19691 20118 20212 20251 20301 
_SQ_OVERH_CMP                             IMPT 00000000   4677 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4026 15224 
_START_ACK_COD                            EQU  00004321    213*
_START_CNT_INFO_OUT              P             00001DDC   8401 12974 13075*
_START_FLG_AFTER_EMG                      IMPT 00000000   3356 
_START_REQ_COD                            EQU  00009876    212*
_START_SFTY_LOCK_CLR             P             00002638   8699 11170 14960*16461 
_STEP_CMPERR_TIMX1                        IMPT 00000000   5333 
_STEP_SIG_DISP                   P        EXPT 000021C0   6161  8798 13924*
_STEP_SIG_DSP_CLR                P        EXPT 000021B8   6160  9134 11112 13915*
_STOPCHK_INC_POS                          IMPT 00000000   3240 
_STOPCHK_RNA_POS                          IMPT 00000000   3239 
_STOPPING_STOP_POS                        IMPT 00000000   2637 14065 14173 
_STOPPING_STOP_TIM                        IMPT 00000000   2639 14055 14208 14263 
_STOPPING_TIM_CHK                P        EXPT 000022C8   6165 14130*
_STOPPING_TIM_FLG                         IMPT 00000000   2638 14013 14045 14069 14135 14283 15875 
_STOPPING_TIM_MOV_INI            P        EXPT 00002228   6163  8634 14009*16392 
_STOPPING_TIM_PV1                         IMPT 00000000   2640 14074 14160 14229 14276 
_STOPPING_TIM_PV2                         IMPT 00000000   2641 14076 14280 
_STOPPING_TIM_STOP_INI           P        EXPT 00002244   6164 11229 14041*
_STOPPING_VLVOFF_POS                      IMPT 00000000   2636 14061 14169 
_STOP_360ENC_DIG                          IMPT 00000000   4059 
_STOP_ERR_CHK                             IMPT 00000000   6065 14298 
_STOP_ERR_LATCH                           IMPT 00000000   3477 14080 14289 
_STOP_LATCH                               IMPT 00000000   2619  7505 10248 10683 11063 
_STOP_LATCH_B                             IMPT 00000000   2620  7497  9998 10005 10162 10192 10465 10681 10735 11061 17286 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2870 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2868 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2867 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2869 
_STOP_LTH_OUT                    P        EXPT 0000120C  10039 10223 10239 10244*10761 
_STP_RST_FLG_PROC                P        EXPT 00001750   6152 11340*
_STR_ENC3600_DIG                          IMPT 00000000   2787 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2788 
_SVCHK_SCAN                               IMPT 00000000   4696 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3225 
_SVP_INTLIM_AGL                           IMPT 00000000   6193 
_SVP_INTLIM_POS                           IMPT 00000000   6194 
_SVP_INTLIM_SNO                           IMPT 00000000   6192 
_SVP_WTTIM_MAX                            IMPT 00000000   6195 17594 
_SVX_DNM_MAXSPM                           IMPT 00000000   4245 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3531 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3532 
_SV_CHG_FLG1                              IMPT 00000000   3318 
_SV_CHG_FLG2                              IMPT 00000000   3319 
_SV_CONST_SUB_PV                          IMPT 00000000   3946 
_SV_DAT_ERR1                              IMPT 00000000   3320 
_SV_OBJ360                                IMPT 00000000   3503 
_SV_POS_CTL_STEP                          IMPT 00000000   2820 19519 20142 
_SV_REAL_PLS                              IMPT 00000000   3947 
_SV_REAL_SUB_PV                           IMPT 00000000   3948 
_SV_UP_HOLD_CHK                  P             000017A4   8607 11439*16366 
_SW_DEV_MASK_FLG                          IMPT 00000000   2628 12426 15288 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   302

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SYS_BSAME_TIM                            EQU  000001F4   2010* 8328  9393 16214 
_SYS_SETUP_TIM                            EQU  000007D0   2011* 9499 
_SYS_STOPPING_TIM                         EQU  00000032   2012*
_TABLE_ERR_FLG                            IMPT 00000000   2485 
_TBL_ANS_ACCTIM                           IMPT 00000000   4241 
_TBL_ANS_ACC_SEL                          IMPT 00000000   4243 
_TBL_ANS_MAXSPM                           IMPT 00000000   4242 
_TBL_USE_POS0                             IMPT 00000000   4240 
_TECH2_KJYU_DIG                           IMPT 00000000   4508 
_TECH2_KJYU_LNG                           IMPT 00000000   4506 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4499 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4500 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4501 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4502 
_TECH2_KJYU_LT2PLS                        IMPT 00000000   4503 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4504 
_TECH2_KJYU_PLS                           IMPT 00000000   4507 
_TECH2_KJYU_PLSX                          IMPT 00000000   4505 
_TECH2_KN_FLG                             IMPT 00000000   4509 
_TECH_USED_F                              IMPT 00000000   4546 
_TECH_WK_DIG1                             IMPT 00000000   4539 
_TECH_WK_DIG2                             IMPT 00000000   4540 
_TECH_WK_DIG3                             IMPT 00000000   4541 
_TECH_WK_DIG4                             IMPT 00000000   4542 
_TECH_WK_PLS1                             IMPT 00000000   4538 
_TEPA_PLSCNT_CHK                          IMPT 00000000   6082  7402 
_TEPA_PLSCNT_CLR                          IMPT 00000000   6081  6624  7653  9389 
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4402 
_TEPA_START_CHK                           IMPT 00000000   6080  9545 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3804 
_TEP_CHG_SPD1                             IMPT 00000000   3808 
_TEP_CHG_SPD2                             IMPT 00000000   3809 
_TEP_CNTSMP_TIM                           IMPT 00000000   4752 
_TEP_DND_SPD_PLS                          IMPT 00000000   4751 
_TEP_FLG_CLR                              IMPT 00000000   6079  6628  8075 
_TEP_INPLS_FLG                            IMPT 00000000   3799 
_TEP_IN_ADD                               IMPT 00000000   3793 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3806 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3805 
_TEP_MODE_DRV                             IMPT 00000000   3795 10811 14809 
_TEP_POS_ADD_CNT                          IMPT 00000000   3791 
_TEP_REVPLS_LT_FLG                        IMPT 00000000   4753 
_TEP_STEP_FLG                             IMPT 00000000   3796 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3803 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3802 
_TEP_STEP_WTTM                            IMPT 00000000   3797 
_TIM_1MSEC                                EQU  0000000A   1996* 2010  2011  2012  2017 
_TIM_CNT010MS_DT                          EQU  0000000A   2326*
_TIM_CNT100MS_DT                          EQU  00000064   2327*
_TIM_SEC                                  EQU  00002710   1995*
_TMP_SCI_DEBUG                            IMPT 00000000   5275 
_TRD_CLR_CMD                              IMPT 00000000   5407  6613 
_TRD_DP_MOV_CNT                           IMPT 00000000   5413 
_TRD_DP_MOV_FLG                           IMPT 00000000   5412 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   303

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TRD_EVENT_COD                            IMPT 00000000   5402 
_TRD_EVENT_LATCH                          IMPT 00000000   5404 
_TRD_LATE_PV                              IMPT 00000000   5409 
_TRD_LATE_SV                              IMPT 00000000   5408 
_TRD_POINT_END                            IMPT 00000000   5406 
_TRD_POINT_EVENT                          IMPT 00000000   5405 
_TRD_SMP_DAT1                             IMPT 00000000   5393 
_TRD_SMP_DAT2                             IMPT 00000000   5394 
_TRD_SMP_DAT3                             IMPT 00000000   5395 
_TRD_SMP_DAT4                             IMPT 00000000   5396 
_TRD_SMP_DAT5                             IMPT 00000000   5397 
_TRD_SMP_DAT6                             IMPT 00000000   5398 
_TRD_SMP_DAT7                             IMPT 00000000   5399 
_TRD_SMP_DAT8                             IMPT 00000000   5400 
_TRD_SMP_FLG                              IMPT 00000000   5410 
_TRD_SMP_POINT                            IMPT 00000000   5401 
_UP360_CHK_LIST                           IMPT 00000000   4041 
_UP360_JGDIG                              EQU  00000028   2038*
_UPDN_DIRJG_DIG                           EQU  00000708   2004*18343 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5225 
_UPLIMIT_START_F                          IMPT 00000000   4707 
_UPLIMIT_SV_SPD                           IMPT 00000000   4706 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4667 12347 12606 15353 
_UPMSK2_DRVSEL                            IMPT 00000000   4669 12188 
_UPMSK2_MATH                              IMPT 00000000   4668 12335 
_UPMSK2_MOD                               IMPT 00000000   4665  8089 12341 12572 12600 15330 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4666 15298 15324 15351 15385 15450 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4670 15387 
_UP_AREA_DATCHK                           IMPT 00000000   6048 
_UP_HOLD_AREA_MASK               P             00001A9C   8951 12143*
_UP_HOLD_DIG                              IMPT 00000000   2625 10595 11955 12881 
_UP_HOLD_FLG                              IMPT 00000000   2626  8961 10301 11810 11829 11868 12007 12147 12205 12233 12251 
_UP_HOLD_FLG_CLR1                P             00001AE4   8611  9139 11097 11910 12229*16370 
_UP_HOLD_FLG_CLR2                P             00001AF8   8615 11101 12247*16374 
_UP_HOLD_MASK_SPDCHK             P             00001A40  11859 12052*
_UP_HOLD_MISS                    P             000019A4  10329 11905*
_UP_HOLD_SIG_MAK                 P             000019C0  11835 11937*
_UP_HOLD_STEP                             IMPT 00000000   2622 10587 11522 11545 11943 12868 
_UP_HOLD_STEP1                            IMPT 00000000   2623 11476 11524 11547 
_UP_HOLD_STEP2                            IMPT 00000000   2624 11478 11526 11549 
_UP_LOT_SIG_MAK                  P             00001D14  12715 12862*
_VALV_OFF_DIG_CLANK                       IMPT 00000000   3479 14093 
_VALV_ON_FLG                              IMPT 00000000   4053 
_VFRY_IN_CHK                     P             00003B08  18795 19362*
_VIB_DLY_TIM                              IMPT 00000000   4195 
_VIB_GET_SET_TIM                          IMPT 00000000   4192 
_VIB_PV_UP_TIM                            IMPT 00000000   4194 
_VIB_STEP_COM                             IMPT 00000000   4191 
_VIB_STEP_FLG                             IMPT 00000000   4190 
_VIB_USE_SET_TIM                          IMPT 00000000   4193 
_VON1_OF                                  IMPT 00000000   5879 
_VON1_ON                                  IMPT 00000000   5878 
_VON2_OF                                  IMPT 00000000   5881 
_VON2_ON                                  IMPT 00000000   5880 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   304

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_VON3_OF                                  IMPT 00000000   5883 
_VON3_ON                                  IMPT 00000000   5882 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2351* 7155  7199  8311  8886  9400 11445 13083 13170 13238 15398 15430 
                                                         17169 19466 19837 20099 
_W1DIC                                    EQU  00000020   2353* 6784  9106  9224  9534 12662 
_W1DUP                                    EQU  00000040   2354* 6710  6778  9023  9106  9224 12662 14430 14552 14599 
_W1END                                    EQU  00000080   2355*
_W1INC                                    EQU  00000002   2349* 7217  8923  9106  9224 11445 18404 19466 19837 20099 
_W1LNC                                    EQU  00000400   2359*
_W1LNO                                    EQU  00000800   2360*
_W1OFF                                    EQU  00000001   2348* 6746  7075  7078  7095  7166  7636 
_W1OPT                                    EQU  00000010   2352* 6723  7082  9003 11445 12538 15398 15436 16060 16980 17169 19466 
                                                         19837 20099 
_W1REV                                    EQU  00004000   2367*
_W1RNC                                    EQU  00000100   2356*
_W1RNO                                    EQU  00000200   2357*
_W1RST                                    EQU  00008000   2368* 6392  6540 15968 20031 
_W1SGL                                    EQU  00000004   2350* 6714  7178  7188  8940 11445 16054 17169 19466 19837 20099 
_W1SNC                                    EQU  00001000   2365*
_W1SNO                                    EQU  00002000   2366*
_W2LS1                                    EQU  00000004   2370*
_W2LS2                                    EQU  00000008   2371*
_W2SUP                                    EQU  00000080   2375* 8318  9484  9584 
_W2WT1                                    EQU  00000010   2372*
_W2WT2                                    EQU  00000020   2373*15296 
_W2WT3                                    EQU  00000040   2374*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5075 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4813 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4811 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4812 
_WFSYS_MAX_STEP_SEL                       IMPT 00000000   3511 13938 
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3510  7129 
_WKSQCB200                                EQU  00000000   2104*
_WKSQCB201                                EQU  00000002   2105*
_WKSQCB202                                EQU  00000004   2106*
_WKSQCB203                                EQU  00000006   2107*
_WKSQCB204                                EQU  00000008   2108*
_WKSQCB205                                EQU  0000000A   2109*
_WKSQCB206                                EQU  0000000C   2110* 8221  8600  9459  9475 11195 11203 11217 13015 14752 14773 16360 
_WKSQCB207                                EQU  0000000E   2111*15094 15157 16413 
_WKSQCB208                                EQU  00000010   2112*
_WKSQCB209                                EQU  00000012   2113*
_WKSQCB210                                EQU  00000014   2114*13986 
_WKSQCB211                                EQU  00000016   2115*
_WKSQCB212                                EQU  00000018   2116*
_WKSQCB213                                EQU  0000001A   2117*
_WKSQCB214                                EQU  0000001C   2118*
_WKSQCB215                                EQU  0000001E   2119*
_WKSQCB216                                EQU  00000020   2120*15457 16937 
_WKSQCB217                                EQU  00000022   2121*
_WKSQCB218                                EQU  00000024   2122*
_WKSQCB219                                EQU  00000026   2123*
_WKSQCB220                                EQU  00000028   2124*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   305

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB221                                EQU  0000002A   2125*
_WKSQCB222                                EQU  0000002C   2126*
_WKSQCB223                                EQU  0000002E   2127*
_WKSQCB224                                EQU  00000030   2128*17699 
_WKSQCB225                                EQU  00000032   2129*
_WKSQCB226                                EQU  00000034   2130*
_WKSQCB227                                EQU  00000036   2131*16787 
_WKSQCB228                                EQU  00000038   2132*
_WKSQCB229                                EQU  0000003A   2133*15892 15953 15973 
_WKSQCB230                                EQU  0000003C   2134*
_WKSQCB231                                EQU  0000003E   2135*
_WKSQCB232                                EQU  00000040   2136*
_WKSQCB233                                EQU  00000042   2137*
_WKSQCB234                                EQU  00000044   2138*
_WKSQCB235                                EQU  00000046   2139*
_WKSQCB236                                EQU  00000048   2140*
_WKSQCB237                                EQU  0000004A   2141*
_WKSQCB238                                EQU  0000004C   2142*
_WKSQCB239                                EQU  0000004E   2143*19312 19416 
_WKSQCB240                                EQU  00000050   2144*
_WKSQCB241                                EQU  00000052   2145*
_WKSQCB242                                EQU  00000054   2146*
_WKSQCB243                                EQU  00000056   2147*
_WKSQCB244                                EQU  00000058   2148*
_WKSQCB245                                EQU  0000005A   2149*
_WKSQCB246                                EQU  0000005C   2150*
_WKSQCB247                                EQU  0000005E   2151*
_WKSQCB248                                EQU  00000060   2152*
_WKSQCB249                                EQU  00000062   2153*
_WKSQCB250                                EQU  00000064   2154*
_WKSQCB251                                EQU  00000066   2155*17227 17439 17608 17614 17656 17663 17738 17767 17800 18001 
_WKSQCB252                                EQU  00000068   2156*
_WKSQCB253                                EQU  0000006A   2157*
_WKSQCB254                                EQU  0000006C   2158*
_WKSQCB255                                EQU  0000006E   2159*
_WKSQCB256                                EQU  00000070   2160*
_WKSQCB257                                EQU  00000072   2161* 7576 
_WKSQCB258                                EQU  00000074   2162*
_WKSQCB259                                EQU  00000076   2163*19493 19617 19664 19691 20118 20212 20251 20301 
_WKSQCB260                                EQU  00000078   2164*
_WKSQCB261                                EQU  0000007A   2165*
_WKSQCB262                                EQU  0000007C   2166*
_WKSQCB263                                EQU  0000007E   2167*
_WKSQCB264                                EQU  00000080   2168*
_WKSQCB265                                EQU  00000082   2169*
_WKSQCB266                                EQU  00000084   2170*
_WKSQCB267                                EQU  00000086   2171*
_WKSQCB268                                EQU  00000088   2172*
_WKSQCB269                                EQU  0000008A   2173*
_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3522 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3300 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3299 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3285 
_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3292 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   306

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3293 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3284 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3290 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3291 
_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3297 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3296 
_WOANT                                    EQU  00000010   2337* 7626 
_WOATO                                    EQU  00000040   2339* 9807 16836 
_WOFCY                                    EQU  00000080   2340*
_WOQST                                    EQU  00000001   2333*
_WORCY                                    EQU  00000100   2341*
_WORDY                                    EQU  00000020   2338* 8188 16189 
_WORST                                    EQU  00000200   2342*
_WOVN1                                    EQU  00000002   2334*
_WOVN2                                    EQU  00000004   2335*
_WOVN3                                    EQU  00000008   2336*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4588 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4396 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4397 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4146 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4148 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4147 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4113 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4114 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4111 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4112 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4117 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4118 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4115 
_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4116 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4689 
_WPARX_ELSE_ORGPLS                        IMPT 00000000   4688 
_WPAR_360STP_HAB                          IMPT 00000000   4038 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3964 
_WPAR_ACC_MATHED                          IMPT 00000000   4208 
_WPAR_ANAIN_SEL                           IMPT 00000000   3962 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4635 
_WPAR_BRK1_ACCTM                          IMPT 00000000   3393 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3392 
_WPAR_BRK2_ACCTM                          IMPT 00000000   3394 
_WPAR_BRKTCHK_SPD                         IMPT 00000000   4136 16521 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4135 16508 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4395 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3391 
_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4289 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4290 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3335 
_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3336 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3333 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3334 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4300 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3340 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3341 
_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3338 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   307

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3339 
_WPAR_COP_SDG1                            IMPT 00000000   3345 
_WPAR_COP_SDG2                            IMPT 00000000   3346 
_WPAR_COP_ZDG1                            IMPT 00000000   3343 
_WPAR_COP_ZDG2                            IMPT 00000000   3344 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4037 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4354 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2953 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2950 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2951 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2954 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2949 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2952 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3397 
_WPAR_ILNGERR_LNG                         IMPT 00000000   3396 
_WPAR_INCOVER_LNG                         IMPT 00000000   3362 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3363 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3364 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3365 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3369 13025 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3367 13023 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3368 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4183 
_WPAR_LSA_FILTIM                          IMPT 00000000   3731 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4036 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4319 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3816 14488 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4379 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3865 
_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3371 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4137 12551 
_WPAR_SLDALM_LNG                          IMPT 00000000   4361 
_WPAR_SLDALM_TIM                          IMPT 00000000   4362 
_WPAR_STOPING_TIM                         IMPT 00000000   4206 14052 14233 14260 
_WPAR_ZERO_SPD                            IMPT 00000000   3390 
_WPVX_KAJLIV_TTL                          IMPT 00000000   4186 
_WPV_ABS_AD_DATA                          IMPT 00000000   3970 
_WPV_AD_DATA                              IMPT 00000000   3969 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5390 
_WPV_CB_STS_POINT                         IMPT 00000000   5415 
_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5391 
_WPV_CB_TRD_POINT                         IMPT 00000000   5416 
_WPV_POWER_MONI                           IMPT 00000000   3971 
_WPV_POWER_ON_CNT                         IMPT 00000000   5417 
_WPV_SCAN_MAX01                           IMPT 00000000   4771 
_WPV_SCAN_MAX10                           IMPT 00000000   4770 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4767 
_WPV_SCAN_TIM_REAL                        IMPT 00000000   4766 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2215*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2216*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2217*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2218*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4103 
_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4105 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   308

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4104 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2697 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2699 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2698 
_WXPV_ERR_DISP                            IMPT 00000000   3641 
_W_PARAM_TOP                              IMPT 00000000   4554  8133 11689 11852 12104 15283 15380 16140 16760 17078 18246 18397 
                                                         18573 18721 18735 18743 18854 18860 19019 19034 19042 19123 19221 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5272 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5267 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5260 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5265 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5264 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5273 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5261 
_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5263 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5271 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5262 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5268 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   6041 
_ZERO_INCENC                              EQU  00000000   2047*
_ZERO_INCHEN                              EQU  00000000   2046*
_ZERO_INCREV                              EQU  00000000   2051*
_ZERO_INCRNA                              EQU  00000001   2048*
_ZERO_INCSTP                              EQU  00000000   2049*
_ZERO_RNAREV                              EQU  00000001   2052*
_ZERO_RNASTP                              EQU  00000001   2050*
_cbsys_tbl_err                            IMPT 00000000   4228 
_di1_cb_ctl1                              IMPT 00000000   2490 
_di1_cb_ctl1_dt                           IMPT 00000000   2498  6389  6538  6719  7068 12536 15434 15966 16058 16978 20029 
_di1_cb_ctl1_of                           IMPT 00000000   2500 
_di1_cb_ctl1_on                           IMPT 00000000   2499 
_di2_cb_ctl2                              IMPT 00000000   2491 
_di2_cb_ctl2_dt                           IMPT 00000000   2502  8316  9582 15294 
_di2_cb_ctl2_of                           IMPT 00000000   2504 
_di2_cb_ctl2_on                           IMPT 00000000   2503  9482 
_di3_cb_inp1                              IMPT 00000000   2492  6764 
_di3_cb_inp1_dt                           IMPT 00000000   2496 
_di4_cb_inp2                              IMPT 00000000   2493 
_dq1_cb_out1                              IMPT 00000000   2494  7624  8186  9805 16187 16834 
_emg_err_flg                              IMPT 00000000   2574  6312  6475  6855  7354 11416 16018 19342 
_emg_lev_flg                              IMPT 00000000   2573  6247  6264 
_exq_err_flg                              IMPT 00000000   2577  6314  7360 11418 16020 19344 
_exq_lev_flg                              IMPT 00000000   2575  6284 
_pass_err_flg1                            IMPT 00000000   2571  6654 
_pass_err_flg2                            IMPT 00000000   2572 
_reset_dly_tim                            IMPT 00000000   2595  6552  6579 
_reset_flg                                IMPT 00000000   2594  6246  6322  6447  6547  6594  7339 11345 20040 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:25:10                                                  PAGE   309

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    000003F7E        
