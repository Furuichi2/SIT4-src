*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     位置決め                                ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 5994                              38     
 5995 00000000                     39             .SECTION        P,CODE                  ;
 5996                              40     
 5997                              41     
 5998          00000014            42     _SGL_CMPERR_CNTMAX      .EQU    20      ;2;(600回確認済み) 2005-04-14(4/18)
 5999          000007D0            43     _PLS_ERR_HABPLS1        .EQU    2000    ;2000pls
 6000                              44     
 6001                              45     
 6002          00001770            46     _SYNC_ERR_HABPLS1       .EQU    6000    ;2000pls(連続の異常範囲)
 6003          000007D0            47     _SYNC_ERR_HOSHAB        .EQU    2000    ;500pls(この範囲にある時補正はしない) 1msec=MAX500
                                          pls
 6004          00000064            48     _SYNC_ERR_HOSHAB_M      .EQU    100     ;100pls(この範囲にある時補正はしない)
 6005                              49     
 6006          00000064            50     _SYNC_GEN_HOS_ERR       .EQU    100     ;<==1000
 6007          00000001            51     _SYNC_GEN_HOS_HAB       .EQU    1       ;<==10
 6008          00000001            52     _SYNC_GEN_HOS_ADD       .EQU    1       ;
 6009                              53     
 6010          00000003            54     _LSI_RETRY_ERR_MAX      .EQU    3       ;
 6011          0000000A            55     _LSI_CMP_ERR_MAX        .EQU    10      ;
 6012                              56     
 6013                              57     
 6014          0000000F            58     _LSI_G_HOS_SPD          .EQU    15      ;500K=65535 250K=32767 1%=327 0.1%=32 (15代わった
                                          ら)
 6015          00080000            59     _DBG_XOR_SIG            .EQU    BIT3*H'10000    ;
 6016                              60     
 6017                              61     ;;2015-07-07 移動 _OVRLIDE_LATE_MAX     .EQU    100             ;1~100% 2006-09-19
 6018          00E4E1C0            62     _GENSOK_LNGTH_MAX       .EQU    30*500000       ;30秒×500,000HZ=E4,E1C0 2006-09-19
 6019          000003E8            63     _ACC_UNIT               .EQU    1000            ;1msec
 6020                              64     
 6021                              65     _CMP_ERR_SPEC_ENB       .DEFINE "0"     ;//noなら新ｱｸｾｽ部のLSI異常を見ない
 6022                              66     _OBJ_PLS_CTL_TYP        .DEFINE "1"     ;//
 6023                              67     
 6024                              68     
 6025                              69     ;       ***********************************
 6026                              70     ;       ***     2010-10-05              ***
 6027                              71     ;       ***********************************
 6028                              72     _X_SET_PV_ABS_TO_OBJ                    .DEFINE "_dum_SET_PV_ABS_TO_OBJ"        ;
 6029                              73     _X_LINK_PV_ABSPLS                       .DEFINE "_LINK_RL_OBJ_ABSPLS"           ;
 6030                              74     
 6031                              75             .IMPORT _PV_POWER_ON_CNT                        ;
 6032                              76             .IMPORT _CPU_CTRL_CLK                           ;
 6033                              77     
 6034                              78             .IMPORT _SVP_MACINE_SEL1
 6035                              79             .IMPORT _CHK_DNM_SPEC_MOD1
 6036                              80     
 6037                              81     
 6038                              82     ;       //      ***********************************
 6039                              83     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 6040                              84     ;       //      ***********************************
 6041                              85     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE     2
PROGRAM NAME =

 6042                              86     
 6043                              87             .IMPORT         _CPOS_INI1_DTMOV1;ssa_dtmk.src
 6044                              88             .IMPORT         _CPOS_INI1_DTMOV2;ssa_dtmk.src
 6045                              89             .IMPORT         _CPOS_ROT_NUM_SET;ssa_dtmk.src
 6046                              90             .IMPORT         _CPOS_ABS_POS_SET;ssa_dtmk.src
 6047                              91             .IMPORT         _CPOS_SPD_DTMOV
 6048                              92             .IMPORT         _CPOS_TIM_DTMOV
 6049                              93     
 6050                              94             .IMPORT         _HLDCAM_ABS_POS_SET             ;ssa_dtmk.src 2014-08-30
 6051                              95             .IMPORT         _HLDCAM_BANK2_ABS_POS_SET       ;ssa_dtmk.src 2014-08-30
 6052                              96     
 6053                              97     
 6054                              98             .IMPORT         _DIG_LNGTH_CALC1;ssa_sca1.src
 6055                              99     ;;;;    .IMPORT         _POS_INC_TO_OUT_CHG_MOD 使用されない
 6056                             100     ;;;;    .IMPORT         _POS_OUT_TO_INC_CHG　使用されない
 6057                             101     
 6058                             102             .IMPORT         _ORGIN_MODE_INI         ;ssa_else.src
 6059                             103             .IMPORT         _ORGIN_MODE_SMP         ;
 6060                             104             .IMPORT         _ORGIN_MODE_END         ;
 6061                             105     ;;;;;   .IMPORT         _ORGIN2_MODE_END        ;
 6062                             106     
 6063                             107             .IMPORT         _LOT_SIG_SET            ;
 6064                             108     
 6065                             109             .IMPORT         _CYCLE_TIME_REFLASH_START
 6066                             110             .IMPORT         _CYCLE_TIME_REFLASH_END
 6067                             111             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6068                             112     
 6069                             113             .IMPORT         _NOW_INC_DIG_MAK        ;DTMK
 6070                             114     
 6071                             115             .IMPORT _DAT_MOSTPOS_SIG_CLR
 6072                             116             .IMPORT _DAI_MOSTPOS_SMPINI
 6073                             117             .IMPORT _DAI_MOSTPOS_SMPLE
 6074                             118             .IMPORT _DAI_MOSTPOS_CMPARE
 6075                             119     
 6076                             120             .IMPORT _DAI_FULL_SCALE_SMP_INI ;
 6077                             121             .IMPORT _DAI_FULL_SCALE_SMPLE   ;
 6078                             122             .IMPORT _DAI_FULL_SCALE_SMP_END ;
 6079                             123     
 6080                             124             .IMPORT _ORG_END_SIG_CLR;
 6081                             125     
 6082                             126             .IMPORT _CMPAB_NEAR_END_PROC    ;
 6083                             127             .IMPORT _CMPAB_STEP_END_PROC    ;
 6084                             128     
 6085                             129             .IMPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
 6086                             130             .IMPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
 6087                             131             .IMPORT _CMPSTP_POS_START_CLR;//起動したい
 6088                             132             .IMPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6089                             133             .IMPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
 6090                             134             .IMPORT _CMPSTP_CNT_STOP_CLR;//連続停止
 6091                             135             .IMPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
 6092                             136             .IMPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6093                             137             .IMPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6094                             138     
 6095                             139             .IMPORT _CMPEMG_EXQ_FLG_CLR;
 6096                             140             .IMPORT _POS_CMP_1STEP_START_INI
 6097                             141     
 6098                             142             .IMPORT _STOP_LTH_OUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE     3
PROGRAM NAME =

 6099                             143             .IMPORT _LOT_SIG_FLG_CLR                        ;通常の連続
 6100                             144             .IMPORT _STOPPING_TIM_STOP_INI
 6101                             145     
 6102                             146             .IMPORT _POS_OVER_RUN_CHK1      ;[S01m 2003-04-03]
 6103                             147     
 6104                             148             .IMPORT         _BRK_ERR_WORK_CLR1              ;ERR1.SRC
 6105                             149     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6106                             150     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6107                             151     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6108                             152             .IMPORT         _BRK_ERR_CHK_START4             ;
 6109                             153     
 6110                             154             .IMPORT         _SET_NZ_TIM_DAT
 6111                             155             .IMPORT         _NZ_TIM_CHK1
 6112                             156     
 6113                             157     ;       ======= 2004-12-20 ==
 6114                             158             .IMPORT         _BANK2_CPOS_ABS_POS_SET ;2004-12-20 ssa_dtmk
 6115                             159             .IMPORT         _BANK2_TO_BANK1_MOV     ;
 6116                             160     
 6117                             161     ;       ======= 2006-07-28 ==
 6118                             162             .IMPORT _DND_POS_START_DAT_INI
 6119                             163     
 6120                             164             .AIF    0 EQ    0
 6121                             165 C   
 6122                             166 C           .IMPORT _VIB_PLS_OUT_ON         ;2010-08-23加振動制御 ssa_kjyu.inc
 6123                             167 C           .IMPORT _VIB_PLS_OUT_OF         ;2010-08-23加振動制御 ssa_kjyu.inc
 6124                             168 C   
 6125                             169 C           .IMPORT _API_IVW_CYC_START                      ;2010-09-21
 6126                             170 C           .IMPORT _API_IVW_CYC_END                        ;2010-09-21
 6127                             171 C   
 6128                             172 C   ;;;;;2012-10-19 .IMPORT _OVERH_CYC_START                        ;2012-09-25
 6129                             173 C           .IMPORT _OVERH_CYC_END                          ;2012-09-25
 6130                             174 C   
 6131                             175             .AENDI
 6132                             176     
 6133                             177             .IMPORT _API_BREAK_VALV_FLG_ON
 6134                             178             .IMPORT _API_BREAK_VALV_FLG_OF
 6135                             179     
 6136                             180     ;       //      ***********************************
 6137                             181     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6138                             182     ;       //      ***********************************
 6139                             183             .IMPORT         _LONG_BIT_TBL0
 6140                             184             .IMPORT         _SQ_CBWK_TOP
 6141                             185     ;       ====================================
 6142                             186             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6143                             187             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6144                             188             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6145                             189             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6146                             190             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6147                             191             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6148                             192             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6149                             193             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6150                             194             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6151                             195             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6152                             196             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6153                             197             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6154                             198             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6155                             199             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE     4
PROGRAM NAME =

 6156                             200     
 6157                             201     ;       ==== 2003-07-09 ===
 6158                             202             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更
 6159                             203             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6160                             204     
 6161                             205             .GLOBAL         _PAR_INSERT_SMPTM       ;2012-09-25
 6162                             206             .GLOBAL         _CB_SYS_PARAM000        ;2012-09-25
 6163                             207             .GLOBAL         _PAR_INCSPD_UPLMT       ;
 6164                             208             .GLOBAL         _PAR_STOPTIM_SEL        ;
 6165                             209     
 6166                             210     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT1         ;
 6167                             211     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT1         ;
 6168                             212     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT2         ;
 6169                             213     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT2         ;
 6170                             214     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT3         ;
 6171                             215     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT3         ;
 6172                             216     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT4         ;
 6173                             217     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT4         ;
 6174                             218     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT5         ;
 6175                             219     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT5         ;
 6176                             220     
 6177                             221             .IMPORT         _PVP_CB_A_VER           ;
 6178                             222             .IMPORT         _SH4_GPOINT_LNG         ;
 6179                             223             .IMPORT         _SH2_GPOINT_LNG         ;
 6180                             224     
 6181                             225             .IMPORT         _KJPHOS_SMPINI          ;2004-07-05
 6182                             226             .IMPORT         _KJPHOS_SMPLING_END1    ;2004-07-05
 6183                             227     
 6184                             228             .IMPORT         _ORIGIN_POS_CHK_INI2    ;2011-03-23 待機点移動完了
 6185                             229     
 6186                             230             .IMPORT         _UP_ACCERR_START_INI    ;2011-08-29
 6187                             231     
 6188                             232             .IMPORT         _PVPAB_KAJLIV_TTL               ;//荷重生（TON）(1word)
 6189                             233     
 6190                             234     
 6191                             235             .IMPORT         _POS_HOLD_FLG_STR2CLR           ;2014-09-12
 6192                             236     
 6193                             237     ;       //      ***********************************
 6194                             238     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6195                             239     ;       //      ***********************************
 6196                             240             .EXPORT         _INT_POS_CTRL           ;-->ssa_k.src
 6197                             241             .EXPORT         _INT_POS_DATA_REF       ;-->ssa_k.src
 6198                             242     
 6199                             243             .EXPORT         _EMG_POS_FLG_PROC
 6200                             244             .EXPORT         _EXQ_POS_FLG_PROC
 6201                             245     
 6202                             246             .EXPORT         _MN_POS_CTRL_START              ;===>ssa_ctrl
 6203                             247             .EXPORT         _MN_POS_CTRL_ACT                ;===>ssa_ctrl
 6204                             248     
 6205                             249             .EXPORT         _FWD_REV_STSIG_OFF      ;SSA_CTRL1 2004-01-26
 6206                             250             .EXPORT         _POS_LSI_SLOW_STOP      ;SSA_CTRL1 2004-01-26
 6207                             251     
 6208                             252             .EXPORT _POS_LSI_START_INITAL           ;SPEED,LATE
 6209                             253             .EXPORT _POS_LSI_TOP_SPEED_SET  ;SPEED
 6210                             254             .EXPORT _LENGH_ADD_CALC         ;
 6211                             255             .EXPORT _LENGH_ADD_CALC_SV_TYPE ;
 6212                             256     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE     5
PROGRAM NAME =

 6213                             257             .EXPORT _POS_LENGTH_ADD_DATA    ;
 6214                             258             .EXPORT _POS_PLS_OUTPUT_DATA    ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
 6215                             259             .EXPORT _FWD_REV_START          ;起動
 6216                             260             .EXPORT _LOD_POS_STS_REG        ;
 6217                             261             .EXPORT _LOD_POS_STS_REG_POR    ;
 6218                             262             .EXPORT _FWD_REV_STSIG_OFF_SPEC ;
 6219                             263     
 6220                             264             .EXPORT _SET_PV_ABS_TO_OBJ      ;20060919
 6221                             265             .EXPORT _CHG_LSI_LATE_TO_PLS    ;20060919
 6222                             266             .EXPORT _OVERLID_DEF_SET        ;20060919
 6223                             267     
 6224                             268             .IMPORT _DIG01_CHG_DN_DATA_MAKE ;[20091007下振子]
 6225                             269     
 6226                             270             .IMPORT         _DIG36000_CHG_RENEA1            ;360.00度-->0.001mm
 6227                             271             .IMPORT _SVP_OBJECT_SPD_TOP     ;01段目移動速度
 6228                             272             .IMPORT _SVP_UPAREA_SPD0        ;0.1%　戻り速度
 6229                             273     
 6230                             274     ;       ------
 6231                             275             .IMPORT _CYCLE_SPD1             ;
 6232                             276     
 6233                             277             .IMPORT _INC_RST_WORK_CLR       ;
 6234                             278     
 6235                             279     ;;;     _BRK_SADOU_CHG EQ 1
 6236                             280     ;       ------ 2015-09-06(H2W 2015-03-15,H1F 2015-07-14)-------
 6237                             281     ;       -------- 2015-07-14------
 6238                             282             .IMPORT _PAR_MYUBRK_TIM1        ;[H1F=未作or無][H2W=2015-03-16 行程終了時　ﾐｭｰﾃﾝｸﾞ
                                          切替時間]
 6239                             283             .IMPORT _PAR_MYUBRK_TIM2        ;[H1F=未作or無][H2W=2015-03-16 終了時　ﾐｭｰﾃﾝｸﾞ切替
                                          時間]
 6240                             284             .IMPORT _PAR_MYU_BRK_SEL        ;[H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK
                                          :LOCK]
 6241                             285             .IMPORT _PAR_SELF_WAIT_TM       ;P22ｾﾙﾌﾁｪｯｸまたは位置決めからﾛｯｸ開始遅延時間(停止
                                          確認用)
 6242                             286     
 6243                             287     ;       ***************************************************
 6244                             288     ;       ***                                             ***
 6245                             289     ;       ***                                             ***
 6246                             290     ;       ***                                             ***
 6247                             291     ;       ***             位置決めＬＳＩアクセス          ***
 6248                             292     ;       ***                                             ***
 6249                             293     ;       ***                                             ***
 6250                             294     ;       ***                                             ***
 6251                             295     ;       ***************************************************
 6252                             296     ;       ?加減速時間の演算と指令周波数の演算
 6253                             297     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
 6254                             298     ;       "_poslsi1_top"
 6255                             299     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
 6256                             300     ;       *速度周波数の演算
 6257                             301     ;       *ベース周波数=1?
 6258                             302     ;       *加速時間
 6259                             303     ;       *急停止の時間
 6260                             304     ;       ***********************************
 6261                             305     ;       ***                             ***
 6262                             306     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
 6263                             307     ;       ***                             ***
 6264                             308     ;       ***********************************
 6265                             309     ;       25MHZ*1/N*1/LATE=65535
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE     6
PROGRAM NAME =

 6266                             310             .IMPORT _poslsi1_top
 6267                             311     ;;;;_PLS_OUTPUT_MAX             .EQU    H'7FFF  ;
 6268          00FFFFFF           312     _PLS_OUTPUT_MAX         .EQU    H'00FFFFFF;128倍までは余裕あり
 6269          00000000           313     _PLSI_CH1               .equ    0
 6270          00000030           314     _PLSI_CH2               .equ    h'30
 6271                             315     
 6272          00000000           316     _PLS_BitComdL           .equ    h'0     ;R/W
 6273                             317     ;;_PLS_BitComdH         .equ    h'2     ;R/W
 6274          00000004           318     _PLS_BitInfoL           .equ    h'4     ;R
 6275                             319     ;;_PLS_BitInfoH         .equ    h'6     ;R
 6276          00000008           320     _PLS_TopFreqL           .EQU    H'8     ;R/W ﾄｯﾌﾟ周波数
 6277                             321     ;;_PLS_TopFreqH         .EQU    H'A     ;R/W
 6278          0000000C           322     _PLS_BasFreqL           .EQU    H'C     ;R/W ﾍﾞｰｽ周波数
 6279                             323     ;;_PLS_BasFreqH         .EQU    H'E     ;R/W
 6280          00000010           324     _PLS_NowFreqL           .EQU    H'10    ;R/W 現在周波数
 6281                             325     ;;_PLS_NowFreqH         .EQU    H'12    ;R/W
 6282          00000014           326     _PLS_OutPposL           .EQU    H'14    ;R/W 指令ﾊﾟﾙｽ数(これに払い出したいﾃﾞｰﾀを入れる:残
                                          量ｶｳﾝﾀでもある)
 6283                             327     ;;_PLS_OutPposH         .EQU    H'16    ;R/W
 6284          00000018           328     _PLS_GNpointL           .EQU    H'18    ;R/W 減速点
 6285                             329     ;;_PLS_GNpointH         .EQU    H'1A    ;R/W
 6286          0000001C           330     _PLS_AccLate1           .EQU    H'1C    ;R/W 通常運転加減速(減速指令時)
 6287          0000001E           331     _PLS_AccLate2           .EQU    H'1E    ;R/W 急停止加減速(急停止指令時)
 6288          00000020           332     _PLS_SpedLate           .EQU    H'20    ;R/W 周波数のLATE
 6289          00000022           333     _PLS_OutcntPS           .EQU    H'22    ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(1回の起動での払出ﾊﾟﾙｽ数up-cnt)
 6290          00000024           334     _PLS_NowPos1L           .equ    h'24
 6291                             335     ;;_PLS_NowPos1H         .equ    h'26
 6292          00000028           336     _PLS_NowPos2            .equ    h'28
 6293          0000002A           337     _PLS_CtrlReg            .equ    h'2A
 6294                             338     
 6295                             339     
 6296          00000000           340     _PLSI_CH_COM            .EQU    0
 6297          0000007E           341     _PLS_LTCHReg            .EQU    H'7E    ;LATCH
 6298                             342     
 6299                             343     ;       *******************************************
 6300                             344     ;       ***                                     ***
 6301                             345     ;       ***     DE LATCH                        ***
 6302                             346     ;       ***     32BIT ﾃﾞｰﾀを読み込む時のラッチ  ***
 6303                             347     ;       ***                                     ***
 6304                             348     ;       *******************************************
 6305                             349             .MACRO  PLS_READ_LATCH          ;ﾚｼﾞｽﾀ破壊せず
 6306                             350             PUSH_REG1 R0                                            ;
 6307                             351             MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
 6308                             352             MOV.W   @R0,R0                                          ;
 6309                             353             POP_REG1 R0                                             ;
 6310                             354             .ENDM
 6311                             355     
 6312                             356     ;       ***************************************************
 6313                             357     ;       ***     *CSを一旦上げてWAITを作成する為         ***
 6314                             358     ;       ***************************************************
 6315                             359             .MACRO  POS_LSI_WORD_DUM_LOD    ;ﾚｼﾞｽﾀ破壊せず
 6316                             360             PUSH_REG1 R0
 6317                             361             MOV.L   #_PVP_CB_A_VER,R0       ;
 6318                             362             MOV.W   @R0,R0
 6319                             363             POP_REG1 R0
 6320                             364             .ENDM
 6321                             365     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE     7
PROGRAM NAME =

 6322                             366             .MACRO  POSLSI_RD_WR_WAIT_NOP
 6323                             367             NOP
 6324                             368             NOP
 6325                             369             NOP
 6326                             370             NOP
 6327                             371             NOP
 6328                             372             NOP
 6329                             373             NOP
 6330                             374             NOP
 6331                             375             NOP
 6332                             376             NOP
 6333                             377             .ENDM
 6334                             378     
 6335                             379             .MACRO  TIM_CNT_ADD MEM,LG,ADR_REG,DAT_REG,LATE
 6336                             380             MOV.L   #\MEM,\ADR_REG          ;
 6337                             381             MOV.\LG @\ADR_REG,\DAT_REG      ;
 6338                             382             ADD     #\LATE,\DAT_REG         ;
 6339                             383             MOV.\LG \DAT_REG,@\ADR_REG      ;
 6340                             384             .ENDM
 6341                             385     
 6342                             386             .MACRO  eSHi_SET_MEM_MOV SRC,L1,DST,L2
 6343                             387             PUSH_REG1 R0
 6344                             388             PUSH_REG1 R1
 6345                             389             MOV.L   #\SRC,R1        ;
 6346                             390             MOV.\L1 @R1,R0          ;
 6347                             391             MOV.L   #\DST,R1        ;
 6348                             392             MOV.\L2 R0,@R1          ;
 6349                             393             POP_REG1 R1
 6350                             394             POP_REG1 R0
 6351                             395             .ENDM
 6352                             396     
 6353                             397             .MACRO  eSHi_SET_REG_MOV DST,L1,SETREG,WKREG1
 6354                             398             PUSH_REG1 \WKREG1               ;
 6355                             399             MOV.L   #\DST,\WKREG1           ;
 6356                             400             MOV.\L1 \SETREG,@\WKREG1        ;
 6357                             401             POP_REG1 \WKREG1                ;
 6358                             402             .ENDM
 6359                             403     
 6360                             404             .MACRO  eSHi_SET_IM_MOV DST,L1,WKREG1,WKREG2,IMD
 6361                             405             PUSH_REG1 \WKREG1               ;
 6362                             406             PUSH_REG1 \WKREG2               ;
 6363                             407             MOV.W   #\IMD,\WKREG2           ;
 6364                             408             MOV.L   #\DST,\WKREG1           ;
 6365                             409             MOV.\L1 \WKREG2,@\WKREG1        ;
 6366                             410             POP_REG1 \WKREG2                ;
 6367                             411             POP_REG1 \WKREG1                ;
 6368                             412             .ENDM
 6369                             413     
 6370                             414     
 6371                             415     
 6372                             416     ;       *******************************************
 6373                             417     ;       ***     WRITEｱｸｾｽ開始時にON(H)          ***
 6374                             418     ;       *******************************************
 6375                             419     
 6376                             420             .AIF    0 EQ    0
 6377                             421 C           .IMPORT _PDTRA
 6378                             422             .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE     8
PROGRAM NAME =

 6379                             423     
 6380                             424             .MACRO  DEBUG_LSI_ACS_ON2_BIT BITDT
 6381                             425     
 6382                             426             .AIF    0 EQ    0
 6383                             427     ;;      (波形測定時)
 6384                             428             PUSH_REG1 R0
 6385                             429             PUSH_REG1 R1
 6386                             430             PUSH_REG1 R2
 6387                             431             MOV.L   #_PDTRA,R1                      ;
 6388                             432             MOV.W   @R1,R0                          ;
 6389                             433             MOV.W   #\BITDT,R2                      ;
 6390                             434             OR      R2,R0                           ;
 6391                             435             MOV.W   R0,@R1                          ;
 6392                             436     
 6393                             437             POP_REG1 R2
 6394                             438             POP_REG1 R1
 6395                             439             POP_REG1 R0
 6396                             440             .AENDI
 6397                             441     
 6398                             442             .ENDM
 6399                             443     
 6400                             444             .MACRO  DEBUG_LSI_ACS_OF2_BIT BITDT
 6401                             445     
 6402                             446             .AIF    0 EQ    0
 6403                             447     ;;      (波形測定時)
 6404                             448             PUSH_REG1 R0
 6405                             449             PUSH_REG1 R1
 6406                             450             PUSH_REG1 R2
 6407                             451             MOV.L   #_PDTRA,R1                      ;
 6408                             452             MOV.W   @R1,R0                          ;
 6409                             453             MOV.W   #LWORD ~\BITDT,R2               ;
 6410                             454             AND     R2,R0                           ;
 6411                             455             MOV.W   R0,@R1                          ;
 6412                             456             POP_REG1 R2
 6413                             457             POP_REG1 R1
 6414                             458             POP_REG1 R0
 6415                             459             .AENDI
 6416                             460     
 6417                             461             .ENDM
 6418                             462     
 6419                             463     
 6420                             464     
 6421                             465     ;       ***********************************
 6422                             466     ;       ***                             ***
 6423                             467     ;       ***     起動時呼ばれる          ***
 6424                             468     ;       ***                             ***
 6425                             469     ;       ***********************************
 6426                             470     ;
 6427                             471     ;       ・データのラッチ
 6428                             472             .IMPORT _CPUB_HENSA_FLG_CLR             ;2012-02-08
 6429                             473     ;
 6430 00000000                    474             .ALIGN  4                               ;
 6431 00000000                    475     _MN_POS_CTRL_START:             ;ssa_pos1.src
 6432                             476             SUB_START
 6433 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6434                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6435                             477     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE     9
PROGRAM NAME =

 6436                             478     
 6437                             479     ;       ----------2014-11-10------------
 6438 00000002 222A               480             XOR     R2,R2
 6439 00000004 D12C               481             MOV.L   #_CPOS_CTL_MATH,R1                      ;
 6440 00000006 6011               482             MOV.W   @R1,R0                                  ;
 6441 00000008 C804               483             TST     #_DMATH_DNDRIV,R0                       ;往復?
 6442                             484             TST_BIT_OF MN_POSCTL_ST050                      ;違う
 6443 0000000A 8904                   M           BT      MN_POSCTL_ST050
 6444                             485     
 6445 0000000C D12B               486             MOV.L   #_MODE_SEL,R1                           ;
 6446 0000000E 6011               487             MOV.W   @R1,R0                                  ;
 6447 00000010 C81E               488             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0       ;
 6448                             489             TST_BIT_OF MN_POSCTL_ST050                      ;
 6449 00000012 8900                   M           BT      MN_POSCTL_ST050
 6450                             490     
 6451 00000014 E201               491             MOV.B   #BIT0,R2                                ;対象運転開始
 6452                             492     
 6453 00000016                    493     MN_POSCTL_ST050                                         ;
 6454 00000016 D12A               494             MOV.L   #_MOVE_MODE_MATH_LATCH,R1               ;//0:(ふりこ以外 または 段取・原点
                                          モード)1:(ふりこでﾓｰｼｮﾝしていた)
 6455 00000018 2121               495             MOV.W   R2,@R1                                  ;
 6456                             496     ;       --------------------------------------------------
 6457                             497     
 6458                             498     ;       -------- 2013-02-08-------
 6459                             499     ;;;;;   MOV.L   #_CPOS_CTL_MATH,R1              ;
 6460                             500     ;;;;;   MOV.W   @R1,R0                          ;
 6461                             501     ;;;;;   TST     #_DMATH_DNDRIV,R0               ; 往復?
 6462                             502     ;;;;;   TST_BIT_OF MN_POSCTL_ST200              ;
 6463                             503     
 6464                             504             FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
 6465 0000001A D02A                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6466 0000001C 400B                   M           JSR     @R0                     ;
 6467 0000001E 0009                   M           NOP                                     ;
 6468                             505     
 6469                             506     ;;;;;MN_POSCTL_ST200:                           ;
 6470                             507     
 6471                             508     ;       --------------- 2014-09-12 [HLD後の起動なので再演算しない]-------
 6472                             509     ;;;;収集が付かないのでSET_PV_ABS_TO_OBJの中で抜ける     MOV.L   #_POS_HOLD_RDY_EXITF,R1
                                          ;
 6473                             510     ;;;;収集が付かないので  MOV.W   @R1,R0                          ;
 6474                             511     ;;;;収集が付かないので  TST     #BIT0,R0                        ;
 6475                             512     ;;;;収集が付かないので  TST_BIT_ON MN_POSCTL_START_050          ;
 6476                             513     
 6477                             514     ;       ======== 20060919 ======================
 6478                             515     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
 6479                             516     ;;;;;;  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
 6480                             517     ;       =======================================
 6481                             518     
 6482                             519     ;;;;収集が付かないので  M_BRA   MN_POSCTL_START_060             ;
 6483                             520     ;;;;収集が付かないので
 6484                             521     ;;;;収集が付かないのでMN_POSCTL_START_050:
 6485                             522     ;;;;収集が付かないので  NOP
 6486                             523     ;;;;収集が付かないのでMN_POSCTL_START_060:
 6487                             524     
 6488                             525             FAR_JSR #_PRESET_PV_ABS_TO_OBJ,R0       ;
 6489 00000020 D029                   M           MOV.L   #_PRESET_PV_ABS_TO_OBJ,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    10
PROGRAM NAME =

 6490 00000022 400B                   M           JSR     @R0                     ;
 6491 00000024 0009                   M           NOP                                     ;
 6492                             526     
 6493                             527     
 6494                             528     
 6495                             529     
 6496                             530     
 6497                             531     ;       --------------2013-02-15 寸動制限------------
 6498                             532             FAR_JSR #_INC_UPLIMT_CALC,R0    ;
 6499 00000026 D029                   M           MOV.L   #_INC_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6500 00000028 400B                   M           JSR     @R0                     ;
 6501 0000002A 0009                   M           NOP                                     ;
 6502                             533     
 6503                             534     
 6504                             535     ;       === 2005-04-14-E(4/18) ====
 6505                             536             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
 6506 0000002C D028                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6507 0000002E 400B                   M           JSR     @R0                     ;
 6508 00000030 0009                   M           NOP                                     ;
 6509                             537     
 6510                             538     ;       ----- [2009-10-07下振子]-----
 6511                             539             FAR_JSR #_DNM_CYCLE_START,R0    ;
 6512 00000032 D028                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6513 00000034 400B                   M           JSR     @R0                     ;
 6514 00000036 0009                   M           NOP                                     ;
 6515                             540     
 6516                             541             FAR_JSR #_CPOS_INI1_DTMOV1,R0           ;//運転ﾃﾞｰﾀﾗｯﾁ
 6517 00000038 D027                   M           MOV.L   #_CPOS_INI1_DTMOV1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6518 0000003A 400B                   M           JSR     @R0                     ;
 6519 0000003C 0009                   M           NOP                                     ;
 6520                             542             FAR_JSR #_DND_POS_START_DAT_INI,R0      ;2006-07-28
 6521 0000003E D027                   M           MOV.L   #_DND_POS_START_DAT_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6522 00000040 400B                   M           JSR     @R0                     ;
 6523 00000042 0009                   M           NOP                                     ;
 6524                             543     
 6525                             544             FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
 6526 00000044 D026                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6527 00000046 400B                   M           JSR     @R0                     ;
 6528 00000048 0009                   M           NOP                                     ;
 6529                             545             FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
 6530 0000004A D026                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6531 0000004C 400B                   M           JSR     @R0                     ;
 6532 0000004E 0009                   M           NOP                                     ;
 6533                             546     
 6534 00000050 222A               547             XOR     R2,R2
 6535 00000052 D125               548             MOV.L   #_INT_DND_CTL_STEP,R1;
 6536 00000054 2121               549             MOV.W   R2,@R1
 6537 00000056 D125               550             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
 6538 00000058 2121               551             MOV.W   R2,@R1
 6539                             552     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 6540 0000005A 200A               553             XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
 6541 0000005C D124               554             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 6542 0000005E 2101               555             MOV.W   R0,@R1                          ;
 6543                             556     
 6544                             557     ;       === 2004-12-20 ===
 6545 00000060 D124               558             MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    11
PROGRAM NAME =

 6546 00000062 2101               559             MOV.W   R0,@R1                          ;
 6547                             560     
 6548                             561             FAR_JSR #_CNTREST_HOS_RESET,R1  ;
 6549 00000064 D124                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6550 00000066 410B                   M           JSR     @R1                     ;
 6551 00000068 0009                   M           NOP                                     ;
 6552                             562     
 6553                             563     ;       === 2004-01-26 CCS===
 6554 0000006A 200A               564             XOR     R0,R0
 6555 0000006C D123               565             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
 6556 0000006E 2101               566             MOV.W   R0,@R1                          ;
 6557                             567     
 6558                             568     
 6559                             569     ;       ====== 一旦停止信号OFF=====
 6560                             570             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
 6561 00000070 D123                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 6562 00000072 6011                   M           MOV.W   @R1,R0          ;
 6563 00000074 941F                   M           MOV.W   #LWORD (~BIT9),R4       ;
 6564 00000076 2049                   M           AND     R4,R0           ;
 6565 00000078 2101                   M           MOV.W   R0,@R1          ;
 6566                             571     
 6567                             572             FAR_JSR #_CMPCYC_START_CLR,R0           ;
 6568 0000007A D022                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6569 0000007C 400B                   M           JSR     @R0                     ;
 6570 0000007E 0009                   M           NOP                                     ;
 6571                             573             FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
 6572 00000080 D021                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6573 00000082 400B                   M           JSR     @R0                     ;
 6574 00000084 0009                   M           NOP                                     ;
 6575                             574             FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
 6576 00000086 D021                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6577 00000088 400B                   M           JSR     @R0                     ;
 6578 0000008A 0009                   M           NOP                                     ;
 6579                             575     
 6580                             576             FAR_JSR #_MOTION_CYCLE_START,R0         ;
 6581 0000008C D020                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6582 0000008E 400B                   M           JSR     @R0                     ;
 6583 00000090 0009                   M           NOP                                     ;
 6584                             577     
 6585                             578             FAR_JSR #_POS_LSI_WORK_STOP2,R0
 6586 00000092 D020                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6587 00000094 400B                   M           JSR     @R0                     ;
 6588 00000096 0009                   M           NOP                                     ;
 6589                             579     
 6590 00000098 200A               580             XOR     R0,R0                   ;
 6591 0000009A D11F               581             MOV.L   #_INT_CYC_DRV_STS,R1    ;
 6592 0000009C 2101               582             MOV.W   R0,@R1                  ;
 6593 0000009E D11F               583             MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
 6594 000000A0 2101               584             MOV.W   R0,@R1                  ;
 6595 000000A2 D11F               585             MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
 6596 000000A4 2101               586             MOV.W   R0,@R1                  ;
 6597 000000A6 D11F               587             MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
 6598 000000A8 2101               588             MOV.W   R0,@R1                  ;
 6599                             589     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
 6600                             590     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    12
PROGRAM NAME =

 6601                             591     
 6602                             592     ;;      FAR_JSR #_CPOS_INI1_DTMOV1,R0   ;//運転ﾃﾞｰﾀﾗｯﾁ
 6603                             593     
 6604 000000AA D104               594             MOV.L   #_MODE_SEL,R1                                           ;
 6605 000000AC 6011               595             MOV.W   @R1,R0                                                  ;
 6606 000000AE C81E               596             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0                       ;
 6607                             597             TST_BIT_OF MN_POSCTL_START_110                                  ;
 6608 000000B0 893A                   M           BT      MN_POSCTL_START_110
 6609                             598             M_BRA   MN_POSCTL_START_500                                     ;寸動,安一,連続
 6610 000000B2 A07B                   M           BRA     MN_POSCTL_START_500
 6611 000000B4 0009                   M           NOP
 6612                                     ***** BEGIN-POOL *****
 6613 000000B6 FDFF                       DATA FOR SOURCE-LINE 570
 6614 000000B8 00000000                   DATA FOR SOURCE-LINE 481
 6615 000000BC 00000000                   DATA FOR SOURCE-LINE 486,594
 6616 000000C0 00000000                   DATA FOR SOURCE-LINE 494
 6617 000000C4 00000000                   DATA FOR SOURCE-LINE 504
 6618 000000C8 00000000                   DATA FOR SOURCE-LINE 525
 6619 000000CC 00000000                   DATA FOR SOURCE-LINE 532
 6620 000000D0 00000000                   DATA FOR SOURCE-LINE 536
 6621 000000D4 00000000                   DATA FOR SOURCE-LINE 539
 6622 000000D8 00000000                   DATA FOR SOURCE-LINE 541
 6623 000000DC 00000000                   DATA FOR SOURCE-LINE 542
 6624 000000E0 00000000                   DATA FOR SOURCE-LINE 544
 6625 000000E4 00000000                   DATA FOR SOURCE-LINE 545
 6626 000000E8 00000000                   DATA FOR SOURCE-LINE 548
 6627 000000EC 00000000                   DATA FOR SOURCE-LINE 550
 6628 000000F0 00000000                   DATA FOR SOURCE-LINE 554
 6629 000000F4 00000000                   DATA FOR SOURCE-LINE 558
 6630 000000F8 00000000                   DATA FOR SOURCE-LINE 561
 6631 000000FC 00000000                   DATA FOR SOURCE-LINE 565
 6632 00000100 00000000                   DATA FOR SOURCE-LINE 570
 6633 00000104 00000000                   DATA FOR SOURCE-LINE 572
 6634 00000108 00000000                   DATA FOR SOURCE-LINE 573
 6635 0000010C 00000000                   DATA FOR SOURCE-LINE 574
 6636 00000110 00000000                   DATA FOR SOURCE-LINE 576
 6637 00000114 00000000                   DATA FOR SOURCE-LINE 578
 6638 00000118 00000000                   DATA FOR SOURCE-LINE 581
 6639 0000011C 00000000                   DATA FOR SOURCE-LINE 583
 6640 00000120 00000000                   DATA FOR SOURCE-LINE 585
 6641 00000124 00000000                   DATA FOR SOURCE-LINE 587
 6642                                     ***** END-POOL *****
 6643 00000128                    599     MN_POSCTL_START_110:
 6644                             600     
 6645                             601     ;       === 待機点作成(最寄)  :上死点復帰の場合は360ｴﾝｺｰﾀﾞから算出する  ;
 6646 00000128 C840               602             TST     #(_W1DUP),R0                                            ;
 6647                             603             TST_BIT_ON MN_POSCTL_START_200                                  ;強制上昇
 6648 0000012A 8B07                   M           BF      MN_POSCTL_START_200
 6649                             604     
 6650                             605     ;       === 段取モード========
 6651                             606             FAR_JSR #_MN_DNDINC_START,R0            ;2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化
 6652 0000012C D002                   M           MOV.L   #_MN_DNDINC_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6653 0000012E 400B                   M           JSR     @R0                     ;
 6654 00000130 0009                   M           NOP                                     ;
 6655                             607             M_BRA   MN_POSCTL_START_800             ;
 6656 00000132 A064                   M           BRA     MN_POSCTL_START_800
 6657 00000134 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    13
PROGRAM NAME =

 6658                             608     
 6659                             609     ;;      -- 2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化--
 6660                             610     ;;      MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 6661                             611     ;;      MOV.W   @R1,R0                          ;
 6662                             612     ;;      CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 6663                             613     ;;      BF      MN_POSCTL_START_150             ;
 6664                             614     ;;
 6665                             615     ;;      ====== 反転/段取寸動===
 6666                             616     ;;      FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 6667                             617     ;;      FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 6668                             618     ;;      M_BRA   MN_POSCTL_START_180             ;
 6669                             619     ;;
 6670                             620     ;;MN_POSCTL_START_150:
 6671                             621     ;;      ====== 回転/段取寸動===
 6672                             622     ;;      +/-MAX位置を目標とする                                  ;
 6673                             623     ;;      === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 6674                             624     ;;      FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 6675                             625     ;;      MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 6676                             626     ;;      MOV.W   @R1,R0
 6677                             627     ;;      FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 6678                             628     ;;MN_POSCTL_START_180:
 6679                             629     ;;      FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 6680                             630     ;;      M_BRA   MN_POSCTL_START_800                             ;
 6681                             631     
 6682                             632     
 6683                             633     ;       ===================================
 6684                             634     ;       ===     (原点復帰開始処理)      ===
 6685                             635     ;       ===================================
 6686                             636     ;2008-09-16(論理変更　ﾚﾍﾞﾙ動作も活かす)
 6687                                     ***** BEGIN-POOL *****
 6688 00000136 0000                       ALIGNMENT CODE
 6689 00000138 00000000                   DATA FOR SOURCE-LINE 606
 6690                                     ***** END-POOL *****
 6691 0000013C                    637     MN_POSCTL_START_200:                                                    ;
 6692 0000013C D10B               638             MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6693 0000013E 6011               639             MOV.W   @R1,R0                          ;
 6694 00000140 C801               640             TST     #BIT0,R0                        ;
 6695                             641             TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6696 00000142 891D                   M           BT      MN_POSCTL_START_220
 6697                             642     
 6698                             643     ;       --------[2014-09-18]-----------
 6699 00000144 D10A               644             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R1
 6700 00000146 6011               645             MOV.W   @R1,R0                          ;
 6701 00000148 C801               646             TST     #BIT0,R0                        ;
 6702                             647             TST_BIT_OF MN_POSCTL_START_220          ;1:ﾓｰｼｮﾝ運転可能=待機動作もｻｰﾁ無し可能
 6703 0000014A 8919                   M           BT      MN_POSCTL_START_220
 6704                             648     
 6705                             649     ;       --------------------------------
 6706                             650     
 6707 0000014C D109               651             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6708 0000014E 6011               652             MOV.W   @R1,R0                          ;
 6709 00000150 2008               653             TST     R0,R0                           ;
 6710                             654             TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6711 00000152 8915                   M           BT      MN_POSCTL_START_220
 6712                             655     
 6713 00000154 D108               656             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    14
PROGRAM NAME =

 6714 00000156 6011               657             MOV.W   @R1,R0                          ;
 6715 00000158 9406               658             MOV.W   #BIT15,R4                       ;
 6716 0000015A 2048               659             TST     R4,R0                           ;
 6717                             660             TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6718 0000015C 8910                   M           BT      MN_POSCTL_START_220
 6719                             661     
 6720                             662             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6721 0000015E D007                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6722 00000160 400B                   M           JSR     @R0                     ;
 6723 00000162 0009                   M           NOP                                     ;
 6724                             663                                                     ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6725                             664                                                     ;
 6726                             665             M_BRA   MN_POSCTL_START_800             ;
 6727 00000164 A04B                   M           BRA     MN_POSCTL_START_800
 6728 00000166 0009                   M           NOP
 6729                             666     
 6730                             667     ;;;;----------- 2008-09-16 論理変更
 6731                             668     ;;;;2006-11-21
 6732                             669     ;;;;MN_POSCTL_START_200:                                                        ;
 6733                             670     ;;;;    MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 6734                             671     ;;;;    MOV.W   @R1,R0                          ;
 6735                             672     ;;;;    MOV.W   #BIT15,R4                       ;
 6736                             673     ;;;;    TST     R4,R0                           ;
 6737                             674     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6738                             675     ;;;;
 6739                             676     ;;;;    ============ 2006-07-28=========
 6740                             677     ;;;;    MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6741                             678     ;;;;    MOV.W   @R1,R0                          ;
 6742                             679     ;;;;    TST     R0,R0                           ;
 6743                             680     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6744                             681     ;;;;
 6745                             682     ;;;;    MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6746                             683     ;;;;    MOV.W   @R1,R0                          ;
 6747                             684     ;;;;    TST     #BIT0,R0                        ;
 6748                             685     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6749                             686     ;;;;
 6750                             687     ;;;;    FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6751                             688     ;;;;                                            ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6752                             689     ;;;;                                            ;
 6753                             690     ;;;;    M_BRA   MN_POSCTL_START_800             ;
 6754                             691     
 6755                             692     
 6756                             693     
 6757                             694     ;----------- 2006-11-21 論理変更
 6758                             695     ;;;MN_POSCTL_START_200:                                                 ;
 6759                             696     ;;;     ============ 2006-07-28=========
 6760                             697     ;;;     MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6761                             698     ;;;     MOV.W   @R1,R0                          ;
 6762                             699     ;;;     TST     R0,R0                           ;
 6763                             700     ;;;     TST_BIT_ON MN_POSCTL_START_210          ;
 6764                             701     ;;;
 6765                             702     ;;;     ============2004-05-24=========================
 6766                             703     ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    15
PROGRAM NAME =

 6767                             704     ;;;     MOV.W   @R1,R0                          ;
 6768                             705     ;;;     MOV.W   #BIT15,R4                       ;
 6769                             706     ;;;     TST     R4,R0                           ;
 6770                             707     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6771                             708     ;;;MN_POSCTL_START_210:                                                 ;
 6772                             709     ;;;     MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6773                             710     ;;;     MOV.W   @R1,R0                          ;
 6774                             711     ;;;     TST     #BIT0,R0                        ;
 6775                             712     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6776                             713     ;;;
 6777                             714     ;;;     FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6778                             715     ;;;                                             ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6779                             716     ;;;                                             ;
 6780                             717     ;;;     M_BRA   MN_POSCTL_START_800             ;
 6781                             718     
 6782                             719     ;       ----------------- ｻｰﾁﾀｲﾌﾟ-----------------------
 6783                                     ***** BEGIN-POOL *****
 6784 00000168 8000                       DATA FOR SOURCE-LINE 658
 6785 0000016A 0000                       ALIGNMENT CODE
 6786 0000016C 00000000                   DATA FOR SOURCE-LINE 638
 6787 00000170 00000000                   DATA FOR SOURCE-LINE 644
 6788 00000174 00000000                   DATA FOR SOURCE-LINE 651
 6789 00000178 00000000                   DATA FOR SOURCE-LINE 656
 6790 0000017C 00000000                   DATA FOR SOURCE-LINE 662
 6791                                     ***** END-POOL *****
 6792 00000180                    720     MN_POSCTL_START_220:
 6793 00000180 D106               721             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
 6794 00000182 200A               722             XOR     R0,R0                           ;
 6795 00000184 2101               723             MOV.W   R0,@R1                          ;
 6796                             724     
 6797                             725     ;       ===============================================
 6798                             726     ;       ==== 上死点復帰・待機点復帰====
 6799                             727     ;       今の位置から上死点＋３度を目指す
 6800                             728     ;       今の位置から上死点−３度を目指す
 6801                             729             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R1       ;
 6802 00000186 D106                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6803 00000188 410B                   M           JSR     @R1                     ;
 6804 0000018A 0009                   M           NOP                                     ;
 6805                             730             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
 6806 0000018C D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6807 0000018E 440B                   M           JSR     @R4                     ;
 6808 00000190 0009                   M           NOP                                     ;
 6809                             731             FAR_JSR #_ORG_END_SIG_CLR,R0            ;
 6810 00000192 D005                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6811 00000194 400B                   M           JSR     @R0                     ;
 6812 00000196 0009                   M           NOP                                     ;
 6813                             732             M_BRA   MN_POSCTL_START_800             ;
 6814 00000198 A031                   M           BRA     MN_POSCTL_START_800
 6815 0000019A 0009                   M           NOP
 6816                             733     
 6817                                     ***** BEGIN-POOL *****
 6818 0000019C 00000000                   DATA FOR SOURCE-LINE 721
 6819 000001A0 00000000                   DATA FOR SOURCE-LINE 729
 6820 000001A4 00000000                   DATA FOR SOURCE-LINE 730
 6821 000001A8 00000000                   DATA FOR SOURCE-LINE 731
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    16
PROGRAM NAME =

 6822                                     ***** END-POOL *****
 6823 000001AC                    734     MN_POSCTL_START_500:                            ;
 6824                             735             FAR_JSR #_CPOS_INI1_DTMOV2,R0           ;
 6825 000001AC D009                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6826 000001AE 400B                   M           JSR     @R0                     ;
 6827 000001B0 0009                   M           NOP                                     ;
 6828                             736     
 6829                             737     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 6830                             738     ;;      XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
 6831                             739     ;;      MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 6832                             740     ;;      MOV.W   R0,@R1                          ;
 6833                             741     
 6834                             742     ;(急停止の場合はSV_POS_CTL_SEPは0ではない ok!)
 6835                             743     ;(ｻｲｸﾙ停止では、回転数を演算する必要はない)
 6836                             744     
 6837                             745     ;
 6838                             746     ;       === 待機点作成(方向あり)====
 6839 000001B2 D109               747             MOV.L   #_SV_POS_CTL_STEP,R1            ;
 6840 000001B4 6011               748             MOV.W   @R1,R0                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
 6841                             749     
 6842 000001B6 2008               750             TST     R0,R0                           ;
 6843                             751             TST_BIT_ON MN_POSCTL_START_600          ;(ﾘｾｯﾄ時に待機点を決定する)
 6844 000001B8 8B1E                   M           BF      MN_POSCTL_START_600
 6845                             752     ;;;;;;;;;;STEP=0:非常停止後の起動
 6846                             753     ;;;;;;;;;;2014-09-19    ----------- [2009-10-07下振子]
 6847                             754     ;;;;;;;;;;2014-09-19    MOV.L   #_CPOS_CTL_MATH,R1              ;
 6848                             755     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 6849                             756     ;;;;;;;;;;2014-09-19    TST     #_DMATH_DNDRIV,R0               ; 往復?
 6850                             757     ;;;;;;;;;;2014-09-19    TST_BIT_OF MN_POSCTL_START_520          ;
 6851                             758     ;;;;;;;;;;2014-09-19    MOV.L   #_DNM_DIR_SET_FLG,R1            ;(この論理はよくない)
 6852                             759     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 6853                             760     ;;;;;;;;;;2014-09-19    TST     R0,R0                           ;
 6854                             761     ;;;;;;;;;;2014-09-19    TST_BIT_ON MN_POSCTL_START_540          ;DNM_DIR_NOW_FLG
 6855                             762     ;;;;;;;;;;2014-09-19MN_POSCTL_START_520:                                ;
 6856                             763     ;;;;;;;;;;2014-09-19 目標位置から演算するから不要に思える.待機点を跨ぐなら別
 6857                             764     
 6858                             765     ;       ------------ これがいまのところインターロックではたらいていなそう(20091007コメント
                                          )----------
 6859 000001BA D108               766             MOV.L   #_INT_CYC_DRV_STS,R1            ;SV=0非常停止またはｻｲｸﾙ停止(BIT0=1:ｻｲｸﾙ停
                                          止)
 6860 000001BC 6011               767             MOV.W   @R1,R0                          ;
 6861 000001BE C801               768             TST     #BIT0,R0                        ;
 6862                             769             TST_BIT_ON MN_POSCTL_START_540          ;(これがうまくとれていない ｻｲｸﾙ停止時は演
                                          算しない)
 6863 000001C0 8B12                   M           BF      MN_POSCTL_START_540
 6864                             770     
 6865                             771     ;       ---------- 非常停止後の起動-----------
 6866                             772             FAR_JSR #_NEXT_CYCL_START2,R0                   ;(((((何の起動??)))))
 6867 000001C2 D007                   M           MOV.L   #_NEXT_CYCL_START2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6868 000001C4 400B                   M           JSR     @R0                     ;
 6869 000001C6 0009                   M           NOP                                     ;
 6870                             773             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 6871 000001C8 D006                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6872 000001CA 400B                   M           JSR     @R0                     ;
 6873 000001CC 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    17
PROGRAM NAME =

 6874                             774     
 6875                             775     
 6876                             776     ;
 6877                             777     
 6878                             778     
 6879                             779             M_BRA   MN_POSCTL_START_600                     ;
 6880 000001CE A013                   M           BRA     MN_POSCTL_START_600
 6881 000001D0 0009                   M           NOP
 6882                             780     
 6883                             781     ;       -------遮光停止でこれをやった場合で　待機点を越えていたら以外にだめ？(コメント2009
                                          1007)--------
 6884                             782     ;       遮光による停止、またはサイクルＥＮＤ後の自動起動
 6885                             783     
 6886                                     ***** BEGIN-POOL *****
 6887 000001D2 0000                       ALIGNMENT CODE
 6888 000001D4 00000000                   DATA FOR SOURCE-LINE 735
 6889 000001D8 00000000                   DATA FOR SOURCE-LINE 747
 6890 000001DC 00000000                   DATA FOR SOURCE-LINE 766
 6891 000001E0 00000000                   DATA FOR SOURCE-LINE 772
 6892 000001E4 00000000                   DATA FOR SOURCE-LINE 773
 6893                                     ***** END-POOL *****
 6894 000001E8                    784     MN_POSCTL_START_540:                                    ;
 6895 000001E8 D114               785             MOV.L   #_LINK_OBJROT_NUM_ZR,R1                 ;//NOW ROTATION 番号
 6896 000001EA 6212               786             MOV.L   @R1,R2                                  ;+0
 6897                             787             FAR_JSR #_NEXT_CYCL_START1,R0                   ;(連続時は転送でも良いがとりあえず
                                          このまま残す)
 6898 000001EC D014                   M           MOV.L   #_NEXT_CYCL_START1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6899 000001EE 400B                   M           JSR     @R0                     ;
 6900 000001F0 0009                   M           NOP                                     ;
 6901                             788             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 6902 000001F2 D014                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6903 000001F4 400B                   M           JSR     @R0                     ;
 6904 000001F6 0009                   M           NOP                                     ;
 6905 000001F8                    789     MN_POSCTL_START_600:                            ;
 6906 000001F8 0009               790             NOP                                     ;何もしないくて良いはず
 6907 000001FA 0009               791             NOP                                     ;
 6908 000001FC 0009               792             NOP                                     ;
 6909 000001FE                    793     MN_POSCTL_START_800:                            ;
 6910                             794     
 6911                             795     
 6912 000001FE 901A               796             MOV.W   #BIT0,R0                        ;起動
 6913 00000200 D111               797             MOV.L   #_MNWR_POS_CMD,R1               ;
 6914 00000202 2101               798             MOV.W   R0,@R1                          ;
 6915                             799     
 6916                             800     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
 6917                             801             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
 6918 00000204 D411                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
 6919 00000206 6041                   M           MOV.W   @R4,R0          ;
 6920 00000208 9116                   M           MOV.W   #LWORD (~BIT5),R1       ;
 6921 0000020A 2019                   M           AND     R1,R0           ;
 6922 0000020C 2401                   M           MOV.W   R0,@R4          ;
 6923                             802             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
 6924 0000020E D410                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
 6925 00000210 6041                   M           MOV.W   @R4,R0          ;
 6926 00000212 9111                   M           MOV.W   #LWORD (~BIT5),R1       ;
 6927 00000214 2019                   M           AND     R1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    18
PROGRAM NAME =

 6928 00000216 2401                   M           MOV.W   R0,@R4          ;
 6929                             803     
 6930                             804     
 6931                             805     ;       --------2011-05-11　起動時　本当は.160度手前.....----
 6932                             806             FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
 6933 00000218 D00E                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6934 0000021A 400B                   M           JSR     @R0                     ;
 6935 0000021C 0009                   M           NOP                                     ;
 6936                             807     
 6937                             808     
 6938                             809     ;       -2012-05-30 反転
 6939                             810             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
 6940 0000021E D00E                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6941 00000220 400B                   M           JSR     @R0                     ;
 6942 00000222 0009                   M           NOP                                     ;
 6943                             811     
 6944                             812     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
 6945                             813             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
 6946                             814 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
 6947 00000224 D00D                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6948 00000226 400B                   M           JSR     @R0                     ;
 6949 00000228 0009                   M           NOP                                     ;
 6950                             815 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
 6951 0000022A D00D                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6952 0000022C 400B                   M           JSR     @R0                     ;
 6953 0000022E 0009                   M           NOP                                     ;
 6954                             816             .AENDI
 6955                             817     
 6956                             818             SUB_END
 6957                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6958 00000230 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6959                             819             M_RTS
 6960 00000232 000B                   M           RTS                             ;RTSの後ろの
 6961 00000234 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6962                             820     
 6963                             821     
 6964                             822     ;       ***********************************
 6965                             823     ;       ***     運転中に呼ばれる        ***
 6966                             824     ;       ***********************************
 6967                             825     ;       FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 6968                             826     ;                                               ;<寸動等の停止 -->準備未完了へ "FF">
 6969                             827     ;                                               ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 6970                             828     ;
 6971                             829     ;       ・１回転分のデータを作成するだけ
 6972                             830     ;       ・位置決め完了を見るだけ
 6973                             831     ;
 6974                                     ***** BEGIN-POOL *****
 6975 00000236 0001                       DATA FOR SOURCE-LINE 796
 6976 00000238 FFDF                       DATA FOR SOURCE-LINE 801,802
 6977 0000023A 0000                       ALIGNMENT CODE
 6978 0000023C 00000000                   DATA FOR SOURCE-LINE 785
 6979 00000240 00000000                   DATA FOR SOURCE-LINE 787
 6980 00000244 00000000                   DATA FOR SOURCE-LINE 788
 6981 00000248 00000000                   DATA FOR SOURCE-LINE 797
 6982 0000024C 00000000                   DATA FOR SOURCE-LINE 801
 6983 00000250 00000000                   DATA FOR SOURCE-LINE 802
 6984 00000254 00000000                   DATA FOR SOURCE-LINE 806
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    19
PROGRAM NAME =

 6985 00000258 00000000                   DATA FOR SOURCE-LINE 810
 6986 0000025C 00000000                   DATA FOR SOURCE-LINE 814
 6987 00000260 00000000                   DATA FOR SOURCE-LINE 815
 6988                                     ***** END-POOL *****
 6989 00000264                    832             .ALIGN  4                               ;
 6990 00000264                    833     _MN_POS_CTRL_ACT:                               ;ssa_pos1.src
 6991                             834             SUB_START
 6992 00000264 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6993                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6994                             835     
 6995 00000266 D103               836             MOV.L   #_INT_CYC_DRV_STS,R1            ;
 6996 00000268 6011               837             MOV.W   @R1,R0                          ;
 6997 0000026A C840               838             TST     #BIT6,R0                        ;工程終了
 6998                             839             TST_BIT_OF MN_POS_CTLACT_100            ;(位置決め完了 NO!)
 6999 0000026C 8904                   M           BT      MN_POS_CTLACT_100
 7000                             840             M_BRA   MN_POS_CTLACT_800               ;
 7001 0000026E A029                   M           BRA     MN_POS_CTLACT_800
 7002 00000270 0009                   M           NOP
 7003                             841     
 7004                                     ***** BEGIN-POOL *****
 7005 00000272 0000                       ALIGNMENT CODE
 7006 00000274 00000000                   DATA FOR SOURCE-LINE 836
 7007                                     ***** END-POOL *****
 7008 00000278                    842     MN_POS_CTLACT_100:                              ;
 7009                             843     
 7010                             844     
 7011                             845     ;;;     _BRK_SADOU_CHG EQ 1
 7012                             846     ;       ------------2015-09-06 ﾌﾞﾚｰｷ作動(H2W 2015-03-16,H1F 2015-07-14)-----------------
 7013 00000278 D104               847             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1                    ;[
                                          H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK:LOCK]
 7014 0000027A 6011               848             MOV.W   @R1,R0                                  ;
 7015 0000027C 8801               849             CMP/EQ  #1,R0
 7016 0000027E 8B09               850             BF      MN_POS_CTLACT_130                       ;
 7017                             851     
 7018                             852     ;       -------------2015-09-06 (2015-07-14)-------------------------
 7019                             853     ;       ｲﾝﾎﾟｼﾞｼｮﾝから位置決め完了(ﾌﾞﾚｰｷまでの遅延)
 7020                             854             FAR_JSR #_POS_ENDWAIT_TIM_SET,R0                ;[安一,連続のAUTO それ以外でとるか
                                          ]
 7021 00000280 D003                   M           MOV.L   #_POS_ENDWAIT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7022 00000282 400B                   M           JSR     @R0                     ;
 7023 00000284 0009                   M           NOP                                     ;
 7024                             855             M_BRA   MN_POS_CTLACT_150                                       ;
 7025 00000286 A008                   M           BRA     MN_POS_CTLACT_150
 7026 00000288 0009                   M           NOP
 7027                             856     
 7028                                     ***** BEGIN-POOL *****
 7029 0000028A 0000                       ALIGNMENT CODE
 7030 0000028C 00000000                   DATA FOR SOURCE-LINE 847
 7031 00000290 00000000                   DATA FOR SOURCE-LINE 854
 7032                                     ***** END-POOL *****
 7033 00000294                    857     MN_POS_CTLACT_130:                                      ;
 7034                             858     ;       --------------2015-09-06(2015-07-14)------------------------
 7035                             859             FAR_JSR #_POS_ENDMYUT_TIM_SET,R0                ;終了から動力遮断するorﾐｭｰﾃﾝｸﾞにす
                                          る時間
 7036 00000294 D007                   M           MOV.L   #_POS_ENDMYUT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7037 00000296 400B                   M           JSR     @R0                     ;
 7038 00000298 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    20
PROGRAM NAME =

 7039                             860     ;       -------------------------------------------------
 7040 0000029A                    861     MN_POS_CTLACT_150:                                      ;
 7041                             862     
 7042                             863     
 7043                             864     
 7044                             865     
 7045                             866     
 7046                             867     
 7047 0000029A D107               868             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7048 0000029C 6011               869             MOV.W   @R1,R0                          ;
 7049 0000029E C805               870             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;[20091007下振子]
 7050                             871             TST_BIT_OF DAI_CHK01_200                ;
 7051 000002A0 8902                   M           BT      DAI_CHK01_200
 7052                             872             FAR_JSR #_DAI_FULL_SCALE_SMPLE,R0       ;2003-02-03
 7053 000002A2 D006                   M           MOV.L   #_DAI_FULL_SCALE_SMPLE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7054 000002A4 400B                   M           JSR     @R0                     ;
 7055 000002A6 0009                   M           NOP                                     ;
 7056 000002A8                    873     DAI_CHK01_200:
 7057                             874     
 7058                             875             FAR_JSR #_MOST_DISP_DAT_SMP,R0          ;
 7059 000002A8 D005                   M           MOV.L   #_MOST_DISP_DAT_SMP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7060 000002AA 400B                   M           JSR     @R0                     ;
 7061 000002AC 0009                   M           NOP                                     ;
 7062                             876             M_BRA   MN_POS_CTLACT_CONTINUE          ;
 7063 000002AE A01D                   M           BRA     MN_POS_CTLACT_CONTINUE
 7064 000002B0 0009                   M           NOP
 7065                             877     
 7066                                     ***** BEGIN-POOL *****
 7067 000002B2 0000                       ALIGNMENT CODE
 7068 000002B4 00000000                   DATA FOR SOURCE-LINE 859
 7069 000002B8 00000000                   DATA FOR SOURCE-LINE 868
 7070 000002BC 00000000                   DATA FOR SOURCE-LINE 872
 7071 000002C0 00000000                   DATA FOR SOURCE-LINE 875
 7072                                     ***** END-POOL *****
 7073 000002C4                    878     MN_POS_CTLACT_800:
 7074 000002C4 200A               879             XOR     R0,R0                           ;ｻｲｸﾙ停止
 7075 000002C6 D106               880             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
 7076 000002C8 2101               881             MOV.W   R0,@R1                          ;
 7077                             882     
 7078                             883     ;;;     _BRK_SADOU_CHG EQ 1
 7079                             884     ;       --------2015-09-06(2015-07-14)----------------
 7080 000002CA D106               885             MOV.L   #_POS_END_WAIT_TIM,R1           ;
 7081 000002CC 6011               886             MOV.W   @R1,R0                          ;
 7082 000002CE 2008               887             TST     R0,R0                           ;
 7083                             888             TST_BIT_ON MN_POS_CTLACT_CONTINUE       ;(位置決め完了を待つ---遮光時は動力遮断状
                                          態だから大丈夫)
 7084 000002D0 8B0C                   M           BF      MN_POS_CTLACT_CONTINUE
 7085                             889     ;       -----------------------------------------
 7086                             890     
 7087                             891     
 7088 000002D2 D105               892             MOV.L   #_INT_CYC_DRV_STS,R1    ;//BIT0:CYCLE　END()
 7089 000002D4 6011               893             MOV.W   @R1,R0
 7090 000002D6 C801               894             TST     #BIT0,R0                        ;(わざとｻｲｸﾙ停止にしない)
 7091                             895             TST_BIT_ON MN_POS_CTLACT_CYCLE_END      ;
 7092 000002D8 8B0E                   M           BF      MN_POS_CTLACT_CYCLE_END
 7093                             896             M_BRA   MN_POS_CTLACT_STOP_END          ;
 7094 000002DA A00A                   M           BRA     MN_POS_CTLACT_STOP_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    21
PROGRAM NAME =

 7095 000002DC 0009                   M           NOP
 7096                             897     
 7097                             898     
 7098                                     ***** BEGIN-POOL *****
 7099 000002DE 0000                       ALIGNMENT CODE
 7100 000002E0 00000000                   DATA FOR SOURCE-LINE 880
 7101 000002E4 00000000                   DATA FOR SOURCE-LINE 885
 7102 000002E8 00000000                   DATA FOR SOURCE-LINE 892
 7103                                     ***** END-POOL *****
 7104 000002EC                    899     MN_POS_CTLACT_CONTINUE:
 7105 000002EC 200A               900             XOR     R0,R0
 7106                             901             M_BRA   MN_POS_CTLACT_EXIT
 7107 000002EE A004                   M           BRA     MN_POS_CTLACT_EXIT
 7108 000002F0 0009                   M           NOP
 7109                             902     
 7110 000002F2                    903     MN_POS_CTLACT_STOP_END:
 7111 000002F2 E0FF               904             MOV     #-1,R0
 7112                             905             M_BRA   MN_POS_CTLACT_EXIT
 7113 000002F4 A001                   M           BRA     MN_POS_CTLACT_EXIT
 7114 000002F6 0009                   M           NOP
 7115 000002F8                    906     MN_POS_CTLACT_CYCLE_END:
 7116 000002F8 E055               907             MOV     #H'55,R0        ;CYCLE END
 7117 000002FA                    908     MN_POS_CTLACT_EXIT:
 7118                             909             SUB_END
 7119                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7120 000002FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7121                             910             M_RTS
 7122 000002FC 000B                   M           RTS                             ;RTSの後ろの
 7123 000002FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7124                             911     
 7125                             912     
 7126                             913     
 7127                             914     
 7128                             915     ;       ***********************************
 7129                             916     ;       ***                             ***
 7130                             917     ;       ***     2015-09-06              ***
 7131                             918     ;       ***     2015-07-14              ***
 7132                             919     ;       ***                             ***
 7133                             920     ;       ***********************************
 7134                             921     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動
 7135                             922     ;;;     _BRK_SADOU_CHG EQ 1
 7136 00000300                    923     _POS_ENDWAIT_TIM_SET
 7137                             924             SUB_START
 7138 00000300 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7139                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7140                             925     
 7141                             926     
 7142                             927     ;       --------------------------------------------
 7143 00000302 D109               928             MOV.L   #(_PAR_MYUBRK_TIM2-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[PNO.95][H2W=2015
                                          -03-16 寸動終了時ﾀｲﾏ]
 7144 00000304 6211               929             MOV.W   @R1,R2                          ;
 7145                             930     
 7146 00000306 D109               931             MOV.L   #_MODE_SEL,R1                   ;
 7147 00000308 6011               932             MOV.W   @R1,R0                          ;
 7148 0000030A C81C               933             TST     #(_W1OPT+_W1CNT+_W1SGL),R0      ;
 7149                             934             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;
 7150 0000030C 8906                   M           BT      POS_ENDWAIT_TIMSET_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    22
PROGRAM NAME =

 7151                             935     
 7152 0000030E D108               936             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 7153 00000310 6011               937             MOV.W   @R1,R0                          ;
 7154 00000312 9408               938             MOV.W   #_WOATO,R4                      ;AUTO
 7155 00000314 2048               939             TST     R4,R0                           ;
 7156                             940             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;[AUTOじゃない]
 7157 00000316 8901                   M           BT      POS_ENDWAIT_TIMSET_END
 7158                             941     
 7159                             942     ;       ----------- 1ｻｲｸﾙ停止時用 2015-07-14--------
 7160 00000318 D106               943             MOV.L   #(_PAR_MYUBRK_TIM1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[H2W=2015-03-14
                                          行程終了時　ﾐｭｰﾃﾝｸﾞ切替時間]
 7161 0000031A 6211               944             MOV.W   @R1,R2                          ;[PNO.94]
 7162                             945                                                     ;
 7163                             946     
 7164 0000031C                    947     POS_ENDWAIT_TIMSET_END
 7165 0000031C D106               948             MOV.L   #_POS_END_WAIT_TIM,R1           ;[位置決め完了遅延時間==動力遮断を伸ばす時
                                          間]
 7166 0000031E 2121               949             MOV.W   R2,@R1
 7167                             950     
 7168                             951     
 7169                             952     
 7170                             953             SUB_END
 7171                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7172 00000320 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7173                             954             M_RTS
 7174 00000322 000B                   M           RTS                             ;RTSの後ろの
 7175 00000324 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7176                             955     
 7177                             956     
 7178                             957     
 7179                             958     ;       ***********************************
 7180                             959     ;       ***                             ***
 7181                             960     ;       ***     2015-07-14              ***
 7182                             961     ;       ***                             ***
 7183                             962     ;       ***********************************
 7184                             963     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動しない
 7185                             964     ;       P22　ﾊﾟﾙｽ出力完了~ﾌﾞﾚｰｷをかけても良い時間
 7186                             965     ;       ﾐｭｰﾃﾝｸﾞ中はﾐｭｰﾃﾝｸﾞ継続時間
 7187                             966     ;       ﾐｭｰﾃﾝｸﾞしない状態では動力遮断時間
 7188                             967     ;
 7189                             968     ;       今までは遮光を検知しない時間=ﾐｭｰﾃﾝｸﾞ継続時間相当
 7190                             969     ;
 7191                             970     
 7192                                     ***** BEGIN-POOL *****
 7193 00000326 0040                       DATA FOR SOURCE-LINE 938
 7194 00000328 00000000                   DATA FOR SOURCE-LINE 928
 7195 0000032C 00000000                   DATA FOR SOURCE-LINE 931
 7196 00000330 00000000                   DATA FOR SOURCE-LINE 936
 7197 00000334 00000000                   DATA FOR SOURCE-LINE 943
 7198 00000338 00000000                   DATA FOR SOURCE-LINE 948
 7199                                     ***** END-POOL *****
 7200 0000033C                    971     _POS_ENDMYUT_TIM_SET:
 7201                             972             SUB_START
 7202 0000033C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7203                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7204                             973     
 7205 0000033E D10C               974             MOV.L   #(_PAR_SELF_WAIT_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;P22ｾﾙﾌﾁｪｯｸまたは
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    23
PROGRAM NAME =

                                          位置決めからﾛｯｸ開始遅延時間(停止確認用)
 7206 00000340 6211               975             MOV.W   @R1,R2                  ;
 7207 00000342 233A               976             XOR     R3,R3
 7208                             977     
 7209                             978     
 7210 00000344 D10B               979             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 7211 00000346 6011               980             MOV.W   @R1,R0                  ;
 7212 00000348 C804               981             TST     #_W1SGL,R0              ;
 7213                             982             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7214 0000034A 890A                   M           BT      POS_ENDMYUTTIM_STOP
 7215                             983     
 7216 0000034C D10A               984             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
 7217 0000034E 6011               985             MOV.W   @R1,R0                  ;
 7218 00000350 C802               986             TST     #BIT1,R0                ;
 7219                             987             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7220 00000352 8906                   M           BT      POS_ENDMYUTTIM_STOP
 7221                             988     
 7222 00000354 D109               989             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
 7223 00000356 6011               990             MOV.W   @R1,R0                  ;
 7224 00000358 C803               991             TST     #(BIT1+BIT0),R0         ;
 7225                             992             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;
 7226 0000035A 8902                   M           BT      POS_ENDMYUTTIM_STOP
 7227                             993     
 7228                             994     
 7229                             995     ;       ---     ﾐｭｰﾃﾝｸﾞする     ---
 7230 0000035C                    996     POS_ENDMYUTTIM_KEEP:
 7231 0000035C 6023               997             MOV     R2,R0                   ;
 7232 0000035E 6233               998             MOV     R3,R2                   ;
 7233 00000360 6303               999             MOV     R0,R3                   ;
 7234                            1000     
 7235                            1001     ;       ---     ﾐｭｰﾃﾝｸﾞじゃない ---
 7236 00000362                   1002     POS_ENDMYUTTIM_STOP
 7237 00000362 D107              1003             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1     ;//終了後この時間であれば動力遮断する時間
 7238 00000364 2121              1004             MOV.W   R2,@R1                          ;
 7239 00000366 D107              1005             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1     ;//終了後上昇無効を継続する時間
 7240 00000368 2131              1006             MOV.W   R3,@R1                          ;
 7241                            1007     
 7242                            1008     
 7243                            1009     
 7244                            1010             SUB_END
 7245                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7246 0000036A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7247                            1011             M_RTS
 7248 0000036C 000B                   M           RTS                             ;RTSの後ろの
 7249 0000036E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7250                            1012     
 7251                            1013     ;       ***********************************
 7252                            1014     ;       ***                             ***
 7253                            1015     ;       ***     2015-07-14              ***
 7254                            1016     ;       ***                             ***
 7255                            1017     ;       ***     一応ｸﾘｱしておく         ***
 7256                            1018     ;       ***********************************
 7257                                     ***** BEGIN-POOL *****
 7258 00000370 00000000                   DATA FOR SOURCE-LINE 974
 7259 00000374 00000000                   DATA FOR SOURCE-LINE 979
 7260 00000378 00000000                   DATA FOR SOURCE-LINE 984
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    24
PROGRAM NAME =

 7261 0000037C 00000000                   DATA FOR SOURCE-LINE 989
 7262 00000380 00000000                   DATA FOR SOURCE-LINE 1003
 7263 00000384 00000000                   DATA FOR SOURCE-LINE 1005
 7264                                     ***** END-POOL *****
 7265 00000388                   1019     _POS_END_MYUTIG_TIMER_CLR
 7266                            1020             SUB_START
 7267 00000388 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7268                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7269 0000038A 200A              1021             XOR     R0,R0
 7270 0000038C D104              1022             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1;    //終了後この時間であれば動力遮断する時間
 7271 0000038E 2101              1023             MOV.W   R0,@R1
 7272                            1024     
 7273 00000390 D104              1025             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1;    //終了後上昇無効を継続する時間
 7274 00000392 2101              1026             MOV.W   R0,@R1
 7275                            1027     
 7276 00000394 D104              1028             MOV.L   #_POS_END_WAIT_TIM,R1;          //[位置決め完了遅延時間==動力遮断を伸ばす
                                          時間]
 7277 00000396 2101              1029             MOV.W   R0,@R1
 7278                            1030             SUB_END
 7279                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7280 00000398 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7281                            1031             M_RTS
 7282 0000039A 000B                   M           RTS                             ;RTSの後ろの
 7283 0000039C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7284                            1032     
 7285                            1033     
 7286                            1034     ;;;LENGTH_ADD[2]=LINK_SV_OBJ_ABSPLS[2]-LINK_RL_OBJ_ABSPLS[2];//abs停止目標位置-ﾘｱﾙﾀｲﾑ目標
                                          絶対位置
 7287                            1035     ;       ***********************************
 7288                            1036     ;       ***                             ***
 7289                            1037     ;       ***     ﾓｰﾄﾞに関わるｻﾌﾞﾙｰﾁﾝ     ***
 7290                            1038     ;       ***                             ***
 7291                            1039     ;       ***********************************
 7292                            1040     
 7293                            1041     
 7294                            1042     
 7295                            1043     ;;;;;;@@@@@@@@@@
 7296                            1044     
 7297                            1045     ;       ***********************************
 7298                            1046     ;       ***                             ***
 7299                            1047     ;       ***     上死点復帰              ***
 7300                            1048     ;       ***     速度設定                ***
 7301                            1049     ;       ***                             ***
 7302                            1050     ;       ***********************************
 7303                                     ***** BEGIN-POOL *****
 7304 0000039E 0000                       ALIGNMENT CODE
 7305 000003A0 00000000                   DATA FOR SOURCE-LINE 1022
 7306 000003A4 00000000                   DATA FOR SOURCE-LINE 1025
 7307 000003A8 00000000                   DATA FOR SOURCE-LINE 1028
 7308                                     ***** END-POOL *****
 7309 000003AC                   1051             .ALIGN  4                               ;
 7310 000003AC                   1052     _DNDUPS_SPD_SET:
 7311                            1053             SUB_START
 7312 000003AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7313                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7314 000003AE D103              1054             MOV.L   #_SET1_UPAREA_SPD1,R1   ;
 7315 000003B0 6212              1055             MOV.L   @R1,R2                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    25
PROGRAM NAME =

 7316 000003B2 D103              1056             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7317 000003B4 2122              1057             MOV.L   R2,@R1                  ;
 7318                            1058             SUB_END
 7319                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7320 000003B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7321                            1059             M_RTS
 7322 000003B8 000B                   M           RTS                             ;RTSの後ろの
 7323 000003BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7324                            1060     
 7325                                     ***** BEGIN-POOL *****
 7326 000003BC 00000000                   DATA FOR SOURCE-LINE 1054
 7327 000003C0 00000000                   DATA FOR SOURCE-LINE 1056
 7328                                     ***** END-POOL *****
 7329 000003C4                   1061             .ALIGN  4                               ;
 7330 000003C4                   1062     _DNDUPS_CLEEP_SPD_SET:
 7331                            1063             SUB_START
 7332 000003C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7333                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7334 000003C6 D103              1064             MOV.L   #_SET1_UPCLEEP_SPD,R1   ;
 7335 000003C8 6212              1065             MOV.L   @R1,R2                  ;
 7336 000003CA D103              1066             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7337 000003CC 2122              1067             MOV.L   R2,@R1                  ;
 7338                            1068             SUB_END
 7339                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7340 000003CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7341                            1069             M_RTS
 7342 000003D0 000B                   M           RTS                             ;RTSの後ろの
 7343 000003D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7344                            1070     
 7345                            1071     
 7346                            1072     
 7347                            1073     ;       ***********************************
 7348                            1074     ;       ***                             ***
 7349                            1075     ;       ***     2006-07-28              ***
 7350                            1076     ;       ***                             ***
 7351                            1077     ;       ***********************************
 7352                                     ***** BEGIN-POOL *****
 7353 000003D4 00000000                   DATA FOR SOURCE-LINE 1064
 7354 000003D8 00000000                   DATA FOR SOURCE-LINE 1066
 7355                                     ***** END-POOL *****
 7356 000003DC                   1078             .ALIGN  4                               ;
 7357 000003DC                   1079     _MN_DNDINC_START:
 7358                            1080             SUB_START
 7359 000003DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7360                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7361 000003DE D104              1081             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
 7362 000003E0 6011              1082             MOV.W   @R1,R0                          ;
 7363 000003E2 2008              1083             TST     R0,R0                           ;
 7364                            1084             TST_BIT_OF DNDINC_ST_100                ;
 7365 000003E4 8908                   M           BT      DNDINC_ST_100
 7366                            1085     
 7367                            1086             FAR_JSR #_MN_TEP_START,R0
 7368 000003E6 D003                   M           MOV.L   #_MN_TEP_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7369 000003E8 400B                   M           JSR     @R0                     ;
 7370 000003EA 0009                   M           NOP                                     ;
 7371                            1087             M_BRA   DNDINC_ST_END                           ;
 7372 000003EC A04F                   M           BRA     DNDINC_ST_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    26
PROGRAM NAME =

 7373 000003EE 0009                   M           NOP
 7374                            1088     
 7375                                     ***** BEGIN-POOL *****
 7376 000003F0 00000000                   DATA FOR SOURCE-LINE 1081
 7377 000003F4 00000000                   DATA FOR SOURCE-LINE 1086
 7378                                     ***** END-POOL *****
 7379 000003F8                   1089     DNDINC_ST_100:
 7380 000003F8 D107              1090             MOV.L   #_CPOS_DND_STOP_SW,R1           ;
 7381 000003FA 6011              1091             MOV.W   @R1,R0                          ;
 7382 000003FC C803              1092             TST     #(BIT1+BIT0),R0                 ;停止有り?
 7383                            1093             TST_BIT_OF DNDINC_ST_520                ;
 7384 000003FE 8929                   M           BT      DNDINC_ST_520
 7385                            1094     
 7386 00000400 D106              1095             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 7387 00000402 6011              1096             MOV.W   @R1,R0                                  ;
 7388 00000404 8802              1097             CMP/EQ  #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
 7389 00000406 8B0F              1098             BF      DNDINC_ST_350                           ;
 7390                            1099     
 7391                            1100     ;       ====== 反転/段取寸動===
 7392                            1101             FAR_JSR #_DND_LNK_STEP_CHECK1,R0                ;//<どの工程から開始するか> CHEAK
 7393 00000408 D005                   M           MOV.L   #_DND_LNK_STEP_CHECK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7394 0000040A 400B                   M           JSR     @R0                     ;
 7395 0000040C 0009                   M           NOP                                     ;
 7396                            1102             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                 ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
 7397 0000040E D105                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7398 00000410 410B                   M           JSR     @R1                     ;
 7399 00000412 0009                   M           NOP                                     ;
 7400                            1103             M_BRA   DNDINC_ST_380                           ;
 7401 00000414 A011                   M           BRA     DNDINC_ST_380
 7402 00000416 0009                   M           NOP
 7403                            1104     
 7404                                     ***** BEGIN-POOL *****
 7405 00000418 00000000                   DATA FOR SOURCE-LINE 1090
 7406 0000041C 00000000                   DATA FOR SOURCE-LINE 1095
 7407 00000420 00000000                   DATA FOR SOURCE-LINE 1101
 7408 00000424 00000000                   DATA FOR SOURCE-LINE 1102
 7409                                     ***** END-POOL *****
 7410 00000428                   1105     DNDINC_ST_350:
 7411                            1106     ;       ====== 回転/段取寸動===
 7412                            1107     ;       +/-MAX位置を目標とする                                  ;
 7413                            1108     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 7414                            1109             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7415 00000428 D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7416 0000042A 410B                   M           JSR     @R1                     ;
 7417 0000042C 0009                   M           NOP                                     ;
 7418                            1110             FAR_JSR #_DNDINC_STEP_MAKE,R1                           ;
 7419 0000042E D106                   M           MOV.L   #_DNDINC_STEP_MAKE,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7420 00000430 410B                   M           JSR     @R1                     ;
 7421 00000432 0009                   M           NOP                                     ;
 7422                            1111             FAR_JSR #_DNDINC_MAKE_OBJPOS,R1                         ;
 7423 00000434 D105                   M           MOV.L   #_DNDINC_MAKE_OBJPOS,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7424 00000436 410B                   M           JSR     @R1                     ;
 7425 00000438 0009                   M           NOP                                     ;
 7426                            1112     
 7427 0000043A                   1113     DNDINC_ST_380:
 7428                            1114             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    27
PROGRAM NAME =

 7429 0000043A D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7430 0000043C 440B                   M           JSR     @R4                     ;
 7431 0000043E 0009                   M           NOP                                     ;
 7432                            1115             M_BRA   DNDINC_ST_END                                   ;
 7433 00000440 A025                   M           BRA     DNDINC_ST_END
 7434 00000442 0009                   M           NOP
 7435                            1116     
 7436                            1117     
 7437                            1118     ;       -------- 今までのソフトをそのまま流す-------------
 7438                                     ***** BEGIN-POOL *****
 7439 00000444 00000000                   DATA FOR SOURCE-LINE 1109
 7440 00000448 00000000                   DATA FOR SOURCE-LINE 1110
 7441 0000044C 00000000                   DATA FOR SOURCE-LINE 1111
 7442 00000450 00000000                   DATA FOR SOURCE-LINE 1114
 7443                                     ***** END-POOL *****
 7444 00000454                   1119     DNDINC_ST_520:
 7445 00000454 D105              1120             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 7446 00000456 6011              1121             MOV.W   @R1,R0                          ;
 7447 00000458 8802              1122             CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 7448 0000045A 8B0D              1123             BF      DNDINC_ST_550           ;
 7449                            1124     
 7450                            1125     ;       ====== 反転/段取寸動===
 7451                            1126             FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 7452 0000045C D004                   M           MOV.L   #_DND_LNK_STEP_CHECK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7453 0000045E 400B                   M           JSR     @R0                     ;
 7454 00000460 0009                   M           NOP                                     ;
 7455                            1127             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 7456 00000462 D104                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7457 00000464 410B                   M           JSR     @R1                     ;
 7458 00000466 0009                   M           NOP                                     ;
 7459                            1128             M_BRA   DNDINC_ST_580           ;
 7460 00000468 A00E                   M           BRA     DNDINC_ST_580
 7461 0000046A 0009                   M           NOP
 7462                            1129     
 7463                                     ***** BEGIN-POOL *****
 7464 0000046C 00000000                   DATA FOR SOURCE-LINE 1120
 7465 00000470 00000000                   DATA FOR SOURCE-LINE 1126
 7466 00000474 00000000                   DATA FOR SOURCE-LINE 1127
 7467                                     ***** END-POOL *****
 7468 00000478                   1130     DNDINC_ST_550:
 7469                            1131     ;       ====== 回転/段取寸動===
 7470                            1132     ;       +/-MAX位置を目標とする                                  ;
 7471                            1133     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 7472                            1134             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7473 00000478 D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7474 0000047A 410B                   M           JSR     @R1                     ;
 7475 0000047C 0009                   M           NOP                                     ;
 7476 0000047E D106              1135             MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 7477 00000480 6011              1136             MOV.W   @R1,R0
 7478                            1137             FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 7479 00000482 D406                   M           MOV.L   #_LINK_P_M_MAX,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7480 00000484 440B                   M           JSR     @R4                     ;
 7481 00000486 0009                   M           NOP                                     ;
 7482 00000488                   1138     DNDINC_ST_580:
 7483                            1139             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 7484 00000488 D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    28
PROGRAM NAME =

 7485 0000048A 440B                   M           JSR     @R4                     ;
 7486 0000048C 0009                   M           NOP                                     ;
 7487 0000048E                   1140     DNDINC_ST_END:
 7488                            1141             SUB_END
 7489                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7490 0000048E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7491                            1142             M_RTS
 7492 00000490 000B                   M           RTS                             ;RTSの後ろの
 7493 00000492 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7494                            1143     
 7495                            1144     
 7496                            1145     
 7497                            1146     ;       ***********************************
 7498                            1147     ;       ***                             ***
 7499                            1148     ;       ***     段取寸動(回転仕様)      ***
 7500                            1149     ;       ***     方向                    ***
 7501                            1150     ;       ***     目標位置abs             ***
 7502                            1151     ;       ***                             ***
 7503                            1152     ;       ***********************************
 7504                            1153     ;       ANS R0          BIT0
 7505                            1154     ;                       BIT1=1:EQU ｲｺｰﾙ時は逆転から始める
 7506                            1155     ;       ｼｰｹﾝｽﾋﾞｯﾄから決定
 7507                            1156     ;       (増加方向ならMAX)
 7508                            1157     ;       (減少方向ならMIN)
 7509                            1158     ;
 7510                                     ***** BEGIN-POOL *****
 7511 00000494 00000000                   DATA FOR SOURCE-LINE 1134
 7512 00000498 00000000                   DATA FOR SOURCE-LINE 1135
 7513 0000049C 00000000                   DATA FOR SOURCE-LINE 1137
 7514 000004A0 00000000                   DATA FOR SOURCE-LINE 1139
 7515                                     ***** END-POOL *****
 7516 000004A4                   1159             .ALIGN  4                               ;
 7517 000004A4                   1160     _DNDINC_DIRECT_MAKE1:
 7518                            1161             SUB_START
 7519 000004A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7520                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7521 000004A6 D006              1162             MOV.L   #_CTL_ENC360,R0                 ;//360.0度(いまのところ不要)
 7522 000004A8 6101              1163             MOV.W   @R0,R1                          ;
 7523 000004AA D406              1164             MOV.L   #_STR_ENC3600_DIG,R4            ;//運転開始時の360.0角度
 7524 000004AC 2411              1165             MOV.W   R1,@R4                          ;
 7525                            1166     
 7526 000004AE D106              1167             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 7527 000004B0 6011              1168             MOV.W   @R1,R0                          ;
 7528 000004B2 C901              1169             AND     #BIT0,R0                        ;(BIT0=0正転　BIT0=1逆転)
 7529                            1170     
 7530 000004B4 D105              1171             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 7531 000004B6 2101              1172             MOV.W   R0,@R1
 7532                            1173             SUB_END
 7533                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7534 000004B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7535                            1174             M_RTS
 7536 000004BA 000B                   M           RTS                             ;RTSの後ろの
 7537 000004BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7538                            1175     
 7539                            1176     ;       ***********************************
 7540                            1177     ;       ***                             ***
 7541                            1178     ;       ***     段取寸動(反転仕様)      ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    29
PROGRAM NAME =

 7542                            1179     ;       ***     方向                    ***
 7543                            1180     ;       ***     目標位置abs             ***
 7544                            1181     ;       ***                             ***
 7545                            1182     ;       ***********************************
 7546                            1183     ;       <1>EXQ,EMG後の運転なら180を通らない方向待機点に向かう方向で,
 7547                            1184     ;          待機点を目指して運転開始
 7548                            1185     ;          待機点まで辿りついたら、一旦停止する。<FLG=0-->1>
 7549                            1186     ;
 7550                            1187     ;       <2>FLG=1
 7551                            1188     ;          下降から開始する.下限位置を目指す
 7552                            1189     ;          下限位置まで辿りついたら、一旦停止する。<FLG=1-->2>
 7553                            1190     ;
 7554                            1191     ;       <3>FLG=2
 7555                            1192     ;          上昇から開始する.待機位置を目指す
 7556                            1193     ;          待機位置まで辿りついたら、一旦停止する。<FLG=2-->1>
 7557                            1194     ;
 7558                            1195     ;
 7559                            1196     ;
 7560                            1197     ;       *******************************************
 7561                            1198     ;       ***                                     ***
 7562                            1199     ;       ***     運転釦による起動                ***
 7563                            1200     ;       ***     INT_DND_NEG_STEPを作成          ***
 7564                            1201     ;       ***                                     ***
 7565                            1202     ;       *******************************************
 7566                                     ***** BEGIN-POOL *****
 7567 000004BE 0000                       ALIGNMENT CODE
 7568 000004C0 00000000                   DATA FOR SOURCE-LINE 1162
 7569 000004C4 00000000                   DATA FOR SOURCE-LINE 1164
 7570 000004C8 00000000                   DATA FOR SOURCE-LINE 1167
 7571 000004CC 00000000                   DATA FOR SOURCE-LINE 1171
 7572                                     ***** END-POOL *****
 7573 000004D0                   1203             .ALIGN  4                               ;
 7574 000004D0                   1204     _DND_LNK_STEP_CHECK1:
 7575                            1205             SUB_START
 7576 000004D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7577                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7578                            1206     ;       ------- 2007-01-23-----
 7579 000004D2 D107              1207             MOV.L   #_CB_SEQ_CB_SEL342,R1                           ;342
 7580 000004D4 6011              1208             MOV.W   @R1,R0                                          ;
 7581 000004D6 C808              1209             TST     #BIT3,R0                                        ;342.3
 7582                            1210             TST_BIT_OF DND_LNK_STEP_CK1_100                         ;OFF(往復運転　今までの)
 7583 000004D8 8907                   M           BT      DND_LNK_STEP_CK1_100
 7584                            1211     
 7585 000004DA E201              1212             MOV     #1,R2                                           ;
 7586 000004DC D105              1213             MOV.L   #_CB_SEQ_CB_SEL341,R1                           ;341.0=0 上昇
 7587 000004DE 6011              1214             MOV.W   @R1,R0                                          ;
 7588 000004E0 C801              1215             TST     #BIT0,R0                                        ;
 7589                            1216             TST_BIT_OF DND_LNK_STEP_CK1_050                         ;
 7590 000004E2 8900                   M           BT      DND_LNK_STEP_CK1_050
 7591 000004E4 E202              1217             MOV     #2,R2                                           ;
 7592 000004E6                   1218     DND_LNK_STEP_CK1_050:                                           ;
 7593 000004E6 D104              1219             MOV.L   #_INT_DND_NEG_STEP,R1                           ;
 7594 000004E8 2121              1220             MOV.W   R2,@R1                                          ;
 7595                            1221     
 7596 000004EA                   1222     DND_LNK_STEP_CK1_100:
 7597                            1223     ;       ---------------------------
 7598                            1224     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    30
PROGRAM NAME =

 7599                            1225             SUB_END
 7600                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7601 000004EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7602                            1226             M_RTS
 7603 000004EC 000B                   M           RTS                             ;RTSの後ろの
 7604 000004EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7605                            1227     
 7606                                     ***** BEGIN-POOL *****
 7607 000004F0 00000000                   DATA FOR SOURCE-LINE 1207
 7608 000004F4 00000000                   DATA FOR SOURCE-LINE 1213
 7609 000004F8 00000000                   DATA FOR SOURCE-LINE 1219
 7610                                     ***** END-POOL *****
 7611 000004FC                   1228             .ALIGN  4                               ;
 7612 000004FC                   1229     _DND_LNKPLS_OBJMAK1:
 7613                            1230             SUB_START
 7614 000004FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7615                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7616 000004FE D109              1231             MOV.L   #_INT_DND_NEG_STEP,R1           ;
 7617 00000500 6011              1232             MOV.W   @R1,R0                          ;
 7618 00000502 8801              1233             CMP/EQ  #1,R0                           ;
 7619 00000504 8918              1234             BT      DND_LNKPLS_OBJ_DNPOS1           ;下死点を目標に動作
 7620 00000506 8802              1235             CMP/EQ  #2,R0                           ;
 7621 00000508 89FF              1236             BT      DND_LNKPLS_OBJ_UPPOS1           ;待機点を目標に動作
 7622                            1237     
 7623                            1238     ;       === 方向を判別して待機点を目指す ===
 7624 0000050A                   1239     DND_LNKPLS_OBJ_UPPOS1:
 7625 0000050A                   1240     DND_LNKPLS_OBJ_UPPOS0:
 7626                            1241     ;;;ｵﾘｷﾞﾅﾙｿﾌﾄ    MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 7627 0000050A D007              1242             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(上死点)
 7628 0000050C 6202              1243             MOV.L   @R0,R2                                  ;
 7629                            1244     ;       ==== 2004-05-23====
 7630 0000050E D007              1245             MOV.L   #_PAR_WTSEL_USE,R0
 7631 00000510 6001              1246             MOV.W   @R0,R0                                  ;
 7632 00000512 8801              1247             CMP/EQ  #1,R0                                   ;待機点選択使用時は上死点ではない
 7633 00000514 8B01              1248             BF      DND_LNKPLS_OBJ_CHG050                   ;
 7634 00000516 D006              1249             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;上死点固定(上死点)
 7635 00000518 6202              1250             MOV.L   @R0,R2                                  ;
 7636 0000051A                   1251     DND_LNKPLS_OBJ_CHG050:
 7637                            1252     ;       ===================
 7638                            1253     
 7639                            1254             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 7640 0000051A D006                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7641 0000051C 400B                   M           JSR     @R0                     ;
 7642 0000051E 0009                   M           NOP                                     ;
 7643                            1255             M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 7644 00000520 A00F                   M           BRA     DND_LNKPLS_OBJMK1_END
 7645 00000522 0009                   M           NOP
 7646                            1256     
 7647                                     ***** BEGIN-POOL *****
 7648 00000524 00000000                   DATA FOR SOURCE-LINE 1231
 7649 00000528 00000000                   DATA FOR SOURCE-LINE 1242
 7650 0000052C 00000000                   DATA FOR SOURCE-LINE 1245
 7651 00000530 00000000                   DATA FOR SOURCE-LINE 1249
 7652 00000534 00000000                   DATA FOR SOURCE-LINE 1254
 7653                                     ***** END-POOL *****
 7654 00000538                   1257     DND_LNKPLS_OBJ_DNPOS1:
 7655 00000538 D003              1258             MOV.L   #_SETX_DNAREA_JG_PLS,R0                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    31
PROGRAM NAME =

 7656 0000053A 6202              1259             MOV.L   @R0,R2                                  ;
 7657                            1260             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 7658 0000053C D003                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7659 0000053E 400B                   M           JSR     @R0                     ;
 7660 00000540 0009                   M           NOP                                     ;
 7661 00000542                   1261     DND_LNKPLS_OBJMK1_END:
 7662                            1262             SUB_END
 7663                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7664 00000542 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7665                            1263             M_RTS
 7666 00000544 000B                   M           RTS                             ;RTSの後ろの
 7667 00000546 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7668                            1264     
 7669                            1265     ;       *******************************************
 7670                            1266     ;       ***                                     ***
 7671                            1267     ;       ***             Input R2                ***
 7672                            1268     ;       ***             ﾘﾝｸ(内部制御)ﾊﾟﾙｽ       ***
 7673                            1269     ;       ***                                     ***
 7674                            1270     ;       *******************************************
 7675                            1271     ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
 7676                            1272     ;       MOV.L   @R4,R2                                  ;
 7677                            1273     ;
 7678                                     ***** BEGIN-POOL *****
 7679 00000548 00000000                   DATA FOR SOURCE-LINE 1258
 7680 0000054C 00000000                   DATA FOR SOURCE-LINE 1260
 7681                                     ***** END-POOL *****
 7682 00000550                   1274             .ALIGN  4                               ;
 7683 00000550                   1275     _LNKPLS_OBJ_DAT_MAK1:
 7684                            1276             SUB_START
 7685 00000550 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7686                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7687                            1277             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;
 7688 00000552 D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7689 00000554 400B                   M           JSR     @R0                     ;
 7690 00000556 0009                   M           NOP                                     ;
 7691                            1278     
 7692                            1279             PUSH_REG1 R2
 7693 00000558 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 7694                                 M                                           ;REG=>[SP]
 7695                                 M                                           ;"-4" FF,FF,FF,FC
 7696                            1280     
 7697                            1281     
 7698                            1282             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 7699 0000055A D00A                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7700 0000055C 400B                   M           JSR     @R0                     ;
 7701 0000055E 0009                   M           NOP                                     ;
 7702                            1283     
 7703                            1284             POP_REG1 R2
 7704                                 M                                   ; RE"+4" 00,00,00,04
 7705 00000560 62F6                   M           MOV.L   @R15+,R2        ;
 7706                            1285     ;       === 目標角度(R2) ====
 7707                            1286     
 7708                            1287     ;;      MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 7709                            1288     ;;      MOV.L   @R0,R2                                  ;
 7710                            1289     
 7711 00000562 D409              1290             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 7712 00000564 6142              1291             MOV.L   @R4,R1                                  ;現在 ***.* pls
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    32
PROGRAM NAME =

 7713                            1292                                                             ;目標 ***.* pls
 7714 00000566 D409              1293             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 7715 00000568 6342              1294             MOV.L   @R4,R3                                  ;
 7716                            1295     ;
 7717                            1296     ;       ===== R3~R2の範囲にR1がいれば正転===
 7718                            1297             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 7719 0000056A 3233                   M           CMP/GE  R3,R2
 7720 0000056C 8B10                   M           BF      JMP0100000
 7721                                 M   ;       === 0度をはさなまい===
 7722 0000056E 200A                   M           XOR     R0,R0
 7723 00000570 3133                   M           CMP/GE  R3,R1           ;
 7724 00000572 8B13                   M           BF      JMP0200000                      ; PV<SV1
 7725 00000574 3213                   M           CMP/GE  R1,R2           ;
 7726 00000576 8B11                   M           BF      JMP0200000                      ; SV2<PV2 (1)
 7727 00000578 E001                   M           MOV     #1,R0           ;
 7728                                 M           M_BRA   JMP0200000                      ;
 7729 0000057A A00F                   M           BRA     JMP0200000
 7730 0000057C 0009                   M           NOP
 7731                                 M   
 7732                                 M   ;       ==== ０度をはさむ====
 7733                                 M   ***** BEGIN-POOL *****
 7734 0000057E 0000                   M   ALIGNMENT CODE
 7735 00000580 00000000               M   DATA FOR SOURCE-LINE 1277
 7736 00000584 00000000               M   DATA FOR SOURCE-LINE 1282
 7737 00000588 00000000               M   DATA FOR SOURCE-LINE 1290
 7738 0000058C 00000000               M   DATA FOR SOURCE-LINE 1293
 7739                                 M   ***** END-POOL *****
 7740 00000590                        M   JMP0100000:
 7741 00000590 E001                   M           MOV     #1,R0
 7742 00000592 3133                   M           CMP/GE  R3,R1
 7743 00000594 8902                   M           BT      JMP0200000                      ;SV1=<PV=<360
 7744 00000596 3213                   M           CMP/GE  R1,R2           ;
 7745 00000598 8900                   M           BT      JMP0200000                      ;
 7746 0000059A 200A                   M           XOR     R0,R0           ;
 7747 0000059C                        M   JMP0200000:
 7748 0000059C 233A              1298             XOR     R3,R3
 7749 0000059E 2008              1299             TST     R0,R0
 7750                            1300             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_150               ;
 7751 000005A0 8B00                   M           BF      LNKPLS_OBJ_DAT_MK1_150
 7752 000005A2 E3FF              1301             MOV     #-1,R3
 7753 000005A4                   1302     LNKPLS_OBJ_DAT_MK1_150:                                 ;R2
 7754                            1303     
 7755 000005A4 2338              1304             TST     R3,R3                                   ;正転
 7756                            1305             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_300               ;逆転 JUMP
 7757 000005A6 8B0D                   M           BF      LNKPLS_OBJ_DAT_MK1_300
 7758                            1306     ;       ==== 正転方向でいく ====
 7759 000005A8 3218              1307             SUB     R1,R2                                   ;
 7760 000005AA 4211              1308             CMP/PZ  R2
 7761 000005AC 8915              1309             BT      LNKPLS_OBJ_DAT_MK1_500                  ;R2 >= 0(R2は符号付距離)
 7762 000005AE D504              1310             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 7763 000005B0 6452              1311             MOV.L   @R5,R4                                  ;
 7764 000005B2 324C              1312             ADD     R4,R2                                   ;
 7765 000005B4 4211              1313             CMP/PZ  R2
 7766 000005B6 8910              1314             BT      LNKPLS_OBJ_DAT_MK1_500          ;
 7767 000005B8 222A              1315             XOR     R2,R2                                   ;
 7768                            1316             M_BRA   LNKPLS_OBJ_DAT_MK1_500                  ;
 7769 000005BA A00E                   M           BRA     LNKPLS_OBJ_DAT_MK1_500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    33
PROGRAM NAME =

 7770 000005BC 0009                   M           NOP
 7771                            1317     
 7772                                     ***** BEGIN-POOL *****
 7773 000005BE 0000                       ALIGNMENT CODE
 7774 000005C0 00000000                   DATA FOR SOURCE-LINE 1310
 7775                                     ***** END-POOL *****
 7776 000005C4                   1318     LNKPLS_OBJ_DAT_MK1_300:                         ;R2
 7777 000005C4 3218              1319             SUB     R1,R2                                   ;300-270
 7778 000005C6 622B              1320             NEG     R2,R2                                   ;
 7779 000005C8 4211              1321             CMP/PZ  R2
 7780 000005CA 8905              1322             BT      LNKPLS_OBJ_DAT_MK1_400                  ;R2 >= 0(R2は符号付距離)
 7781 000005CC D514              1323             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 7782 000005CE 6452              1324             MOV.L   @R5,R4                                  ;
 7783 000005D0 324C              1325             ADD     R4,R2                                   ;
 7784 000005D2 4211              1326             CMP/PZ  R2
 7785 000005D4 8900              1327             BT      LNKPLS_OBJ_DAT_MK1_400                  ;
 7786 000005D6 222A              1328             XOR     R2,R2                                   ;
 7787 000005D8                   1329     LNKPLS_OBJ_DAT_MK1_400:                         ;
 7788 000005D8 622B              1330             NEG     R2,R2                                   ;
 7789 000005DA                   1331     LNKPLS_OBJ_DAT_MK1_500:                         ;
 7790 000005DA 255A              1332             XOR     R5,R5                                   ;
 7791 000005DC 6623              1333             MOV     R2,R6                                   ;
 7792 000005DE 4211              1334             CMP/PZ  R2                                      ;
 7793 000005E0 8900              1335             BT      LNKPLS_OBJ_DAT_MK1_600                  ;
 7794 000005E2 E5FF              1336             MOV     #-1,R5                                  ;
 7795 000005E4                   1337     LNKPLS_OBJ_DAT_MK1_600:                                 ;
 7796                            1338     
 7797 000005E4 D40F              1339             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
 7798 000005E6 6146              1340             MOV.L   @R4+,R1                                 ;
 7799 000005E8 6242              1341             MOV.L   @R4,R2                                  ;
 7800                            1342             PUSH_REG1 R1
 7801 000005EA 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 7802                                 M                                           ;REG=>[SP]
 7803                                 M                                           ;"-4" FF,FF,FF,FC
 7804                            1343             PUSH_REG1 R2
 7805 000005EC 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 7806                                 M                                           ;REG=>[SP]
 7807                                 M                                           ;"-4" FF,FF,FF,FC
 7808                            1344             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 7809 000005EE 0008                   M           CLRT
 7810 000005F0 326E                   M           ADDC    R6,R2
 7811 000005F2 315E                   M           ADDC    R5,R1
 7812                            1345     
 7813 000005F4 D40C              1346             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 7814 000005F6 2412              1347             MOV.L   R1,@R4                                          ;
 7815 000005F8 1421              1348             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 7816                            1349             POP_REG1 R6
 7817                                 M                                   ; RE"+4" 00,00,00,04
 7818 000005FA 66F6                   M           MOV.L   @R15+,R6        ;
 7819                            1350             POP_REG1 R5
 7820                                 M                                   ; RE"+4" 00,00,00,04
 7821 000005FC 65F6                   M           MOV.L   @R15+,R5        ;
 7822                            1351     
 7823                            1352             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 7824 000005FE 0008                   M           CLRT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    34
PROGRAM NAME =

 7825 00000600 326A                   M           SUBC    R6,R2
 7826 00000602 315A                   M           SUBC    R5,R1
 7827 00000604 233A              1353             XOR     R3,R3
 7828 00000606 4111              1354             CMP/PZ  R1                              ;
 7829 00000608 8900              1355             BT      LNKPLS_OBJ_DAT_MK1_750          ;
 7830 0000060A E301              1356             MOV     #BIT0,R3                        ;
 7831 0000060C                   1357     LNKPLS_OBJ_DAT_MK1_750:                         ;
 7832 0000060C D107              1358             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 7833 0000060E 2131              1359             MOV.W   R3,@R1                          ;
 7834                            1360     
 7835 00000610 D107              1361             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 7836 00000612 6011              1362             MOV.W   @R1,R0                  ;
 7837 00000614 C9FE              1363             AND     #LOW ~BIT0,R0           ;
 7838 00000616 203B              1364             OR      R3,R0                   ;
 7839 00000618 2101              1365             MOV.W   R0,@R1                  ;
 7840                            1366     
 7841                            1367             SUB_END
 7842                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7843 0000061A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7844                            1368             M_RTS
 7845 0000061C 000B                   M           RTS                             ;RTSの後ろの
 7846 0000061E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7847                            1369     
 7848                            1370     
 7849                            1371     
 7850                            1372     
 7851                            1373     
 7852                            1374     
 7853                            1375     
 7854                            1376     
 7855                            1377     
 7856                            1378     
 7857                            1379     
 7858                            1380     
 7859                            1381     
 7860                            1382     
 7861                            1383     
 7862                            1384     
 7863                            1385     ;       ***********************************
 7864                            1386     ;       ***                             ***
 7865                            1387     ;       ***     段取寸動                ***
 7866                            1388     ;       ***     速度設定                ***
 7867                            1389     ;       ***                             ***
 7868                            1390     ;       ***********************************
 7869                                     ***** BEGIN-POOL *****
 7870 00000620 00000000                   DATA FOR SOURCE-LINE 1323
 7871 00000624 00000000                   DATA FOR SOURCE-LINE 1339
 7872 00000628 00000000                   DATA FOR SOURCE-LINE 1346
 7873 0000062C 00000000                   DATA FOR SOURCE-LINE 1358
 7874 00000630 00000000                   DATA FOR SOURCE-LINE 1361
 7875                                     ***** END-POOL *****
 7876 00000634                   1391             .ALIGN  4                               ;
 7877 00000634                   1392     _DNDINC_SPD_SET:
 7878                            1393             SUB_START
 7879 00000634 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7880                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7881                            1394     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    35
PROGRAM NAME =

 7882                            1395     ;       --------2011-09-20-
 7883                            1396             PUSH_REG1 R0    ;2011-09-20
 7884 00000636 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 7885                                 M                                           ;REG=>[SP]
 7886                                 M                                           ;"-4" FF,FF,FF,FC
 7887                            1397     
 7888                            1398     
 7889                            1399     ;;;;2016-04-16  MOV.L   #_SET1_DNDINC_SPD1,R1   ;
 7890                            1400     ;;;;2016-04-16  MOV.L   @R1,R2                  ;
 7891                            1401     
 7892                            1402             FAR_JSR #_DND_SPD_SEQ_SET,R0            ;2016-04-16
 7893 00000638 D008                   M           MOV.L   #_DND_SPD_SEQ_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7894 0000063A 400B                   M           JSR     @R0                     ;
 7895 0000063C 0009                   M           NOP                                     ;
 7896                            1403     
 7897                            1404     ;       ---------------------------
 7898 0000063E D108              1405             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 7899 00000640 6011              1406             MOV.W   @R1,R0                          ;
 7900 00000642 C840              1407             TST     #BIT6,R0                        ;
 7901                            1408             TST_BIT_OF DNDINC_SPDSET_100            ;
 7902 00000644 8904                   M           BT      DNDINC_SPDSET_100
 7903                            1409     
 7904 00000646 D107              1410             MOV.L   #_WPARX_BRKTST_DNDLMT,R1        ;
 7905 00000648 6012              1411             MOV.L   @R1,R0                          ;
 7906                            1412     
 7907 0000064A 3202              1413             CMP/HS  R0,R2                           ;R0<R2
 7908 0000064C 8B00              1414             BF      DNDINC_SPDSET_100               ;NO JUMP(R2=<R0)
 7909 0000064E 6203              1415             MOV     R0,R2                           ;最大値での制限
 7910 00000650                   1416     DNDINC_SPDSET_100:
 7911                            1417     ;       ---------------------------
 7912                            1418     
 7913 00000650 D105              1419             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
 7914 00000652 2122              1420             MOV.L   R2,@R1                          ;
 7915                            1421     
 7916                            1422             POP_REG1 R0     ;2011-09-20
 7917                                 M                                   ; RE"+4" 00,00,00,04
 7918 00000654 60F6                   M           MOV.L   @R15+,R0        ;
 7919                            1423     
 7920                            1424             SUB_END
 7921                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7922 00000656 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7923                            1425             M_RTS
 7924 00000658 000B                   M           RTS                             ;RTSの後ろの
 7925 0000065A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7926                            1426     
 7927                            1427     
 7928                            1428     ;       *******************************************
 7929                            1429     ;       ***                                     ***
 7930                            1430     ;       ***     2016-04-16 段取速度SEQ変更      ***
 7931                            1431     ;       ***                                     ***
 7932                            1432     ;       *******************************************
 7933                                     ***** BEGIN-POOL *****
 7934 0000065C 00000000                   DATA FOR SOURCE-LINE 1402
 7935 00000660 00000000                   DATA FOR SOURCE-LINE 1405
 7936 00000664 00000000                   DATA FOR SOURCE-LINE 1410
 7937 00000668 00000000                   DATA FOR SOURCE-LINE 1419
 7938                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    36
PROGRAM NAME =

 7939 0000066C                   1433     _DND_SPD_SEQ_SET:
 7940                            1434             SUB_START
 7941 0000066C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7942                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7943                            1435     
 7944 0000066E D10C              1436             MOV.L   #_SET1_DNDINC_SPD1,R1           ;
 7945 00000670 6212              1437             MOV.L   @R1,R2                          ;
 7946                            1438     
 7947 00000672 D10C              1439             MOV.L   #_CB_SEQ_CB_COM356,R1           ;
 7948 00000674 6011              1440             MOV.W   @R1,R0                          ;
 7949 00000676 C880              1441             TST     #BIT7,R0                        ;356.7
 7950                            1442             TST_BIT_OF DND_SPD_SEQSET_END           ;
 7951 00000678 890D                   M           BT      DND_SPD_SEQSET_END
 7952                            1443     
 7953 0000067A C97F              1444             AND     #H'7F,R0                        ;
 7954 0000067C 2008              1445             TST     R0,R0                           ;
 7955                            1446             TST_BIT_OF DND_SPD_SEQSET_END           ;指定速度=0
 7956 0000067E 890A                   M           BT      DND_SPD_SEQSET_END
 7957                            1447     
 7958 00000680 940C              1448             MOV.W   #D'100,R4                       ;100%単位
 7959 00000682 3046              1449             CMP/HI  R4,R0                           ;R4 < R0
 7960 00000684 8B00              1450             BF      DND_SPD_SEQSET_100              ;NO!
 7961 00000686 6043              1451             MOV     R4,R0                           ;
 7962 00000688                   1452     DND_SPD_SEQSET_100:                             ;
 7963 00000688 6203              1453             MOV     R0,R2                           ;
 7964 0000068A D007              1454             MOV.L   #_LINK_MAX_SPD_PLS,R0           ;
 7965 0000068C 6102              1455             MOV.L   @R0,R1                          ;data(R2) *R1/R4
 7966 0000068E 9405              1456             MOV.W   #D'100,R4                       ;100%単位
 7967                            1457             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
 7968 00000690 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7969 00000692 400B                   M           JSR     @R0                     ;
 7970 00000694 0009                   M           NOP                                     ;
 7971                            1458     
 7972 00000696                   1459     DND_SPD_SEQSET_END:
 7973                            1460     
 7974                            1461             SUB_END
 7975                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7976 00000696 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7977                            1462             M_RTS
 7978 00000698 000B                   M           RTS                             ;RTSの後ろの
 7979 0000069A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7980                            1463     
 7981                            1464     
 7982                            1465     
 7983                            1466     
 7984                            1467     
 7985                            1468     
 7986                            1469     ;       *******************************************
 7987                            1470     ;       ***                                     ***
 7988                            1471     ;       ***     今の回転上の上死点+3．0を目指す ***
 7989                            1472     ;       ***     本当は最寄の上死点の+3を目指す  ***
 7990                            1473     ;       *******************************************
 7991                            1474     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
 7992                            1475     ;                                           -180度以下相当のパルスなら +1回転
 7993                            1476             .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 7994                            1477             .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    37
PROGRAM NAME =

 7995                            1478     
 7996                            1479     
 7997                            1480     
 7998                            1481     
 7999                            1482     ;       *******************************************
 8000                            1483     ;       ***                                     ***
 8001                            1484     ;       ***     今の回転上の上死点-3．0を目指す ***
 8002                            1485     ;       ***     本当は最寄の上死点の+3を目指す  ***
 8003                            1486     ;       *******************************************
 8004                            1487     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
 8005                            1488     ;                                           -180度以下相当のパルスなら +1回転
 8006                            1489     ;;      .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 8007                            1490     ;;      .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
 8008                                     ***** BEGIN-POOL *****
 8009 0000069C 0064                       DATA FOR SOURCE-LINE 1448,1456
 8010 0000069E 0000                       ALIGNMENT CODE
 8011 000006A0 00000000                   DATA FOR SOURCE-LINE 1436
 8012 000006A4 00000000                   DATA FOR SOURCE-LINE 1439
 8013 000006A8 00000000                   DATA FOR SOURCE-LINE 1454
 8014 000006AC 00000000                   DATA FOR SOURCE-LINE 1457
 8015                                     ***** END-POOL *****
 8016 000006B0                   1491             .ALIGN  4                               ;
 8017 000006B0                   1492     _LINK_UPPLS_A_OBJMAK1:
 8018                            1493             SUB_START
 8019 000006B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8020                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8021                            1494     
 8022                            1495     
 8023                            1496             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8024 000006B2 D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8025 000006B4 400B                   M           JSR     @R0                     ;
 8026 000006B6 0009                   M           NOP                                     ;
 8027                            1497     
 8028                            1498     ;       === 目標角度 ====
 8029 000006B8 D010              1499             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(1回目は上死点)
 8030 000006BA 6202              1500             MOV.L   @R0,R2                                  ;これは反転でも回転で待機点選択有
                                          りでも同じ
 8031 000006BC D010              1501             MOV.L   #_ORG_FIRST_OBJPLS,R0                   ;[-ﾏｲﾅｽﾃﾞｰﾀ]
 8032 000006BE 6102              1502             MOV.L   @R0,R1                                  ;
 8033 000006C0 321C              1503             ADD     R1,R2                                   ;
 8034 000006C2 D510              1504             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8035 000006C4 6452              1505             MOV.L   @R5,R4                                  ;
 8036                            1506     
 8037                            1507     ;;;2011-03-22[0度不具合]        CMP/HI  R2,R4                                   ;R2 < R4
 8038 000006C6 3423              1508             CMP/GE  R2,R4                                   ;R2 < R4
 8039 000006C8 8900              1509             BT      LINK_UPPLS_A_OBJMK1_100                 ;
 8040 000006CA 3248              1510             SUB     R4,R2                                   ;
 8041 000006CC                   1511     LINK_UPPLS_A_OBJMK1_100:                                ;R2
 8042                            1512     
 8043                            1513     ;       ------ 2011-03-22--------
 8044 000006CC 4211              1514             CMP/PZ  R2
 8045 000006CE 8900              1515             BT      LINK_UPPLS_A_OBJMK1_110                 ;
 8046 000006D0 324C              1516             ADD     R4,R2                                   ;
 8047 000006D2                   1517     LINK_UPPLS_A_OBJMK1_110:                                ;
 8048                            1518     
 8049                            1519     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    38
PROGRAM NAME =

 8050                            1520     
 8051                            1521     
 8052                            1522     
 8053 000006D2 D40D              1523             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8054 000006D4 6142              1524             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8055                            1525                                                             ;目標 ***.* pls
 8056 000006D6 D40D              1526             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8057 000006D8 6342              1527             MOV.L   @R4,R3                                  ;
 8058                            1528     
 8059                            1529     ;       ===========2008-04-28 =======
 8060                            1530     ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R0             ;
 8061                            1531     
 8062 000006DA D00D              1532             MOV.L   #_ORIGN_180ARA_FLG,R0   ;
 8063 000006DC 6001              1533             MOV.W   @R0,R0                                  ;
 8064 000006DE C820              1534             TST     #BIT5,R0                                ;
 8065                            1535             TST_BIT_ON LINK_UPPLS_A_OBJMK1_145              ;逆転固定
 8066 000006E0 8B21                   M           BF      LINK_UPPLS_A_OBJMK1_145
 8067                            1536     ;       ================================
 8068                            1537     
 8069                            1538     
 8070                            1539     ;       ===== R3~R2の範囲にR1がいれば正転===
 8071                            1540             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 8072 000006E2 3233                   M           CMP/GE  R3,R2
 8073 000006E4 8B16                   M           BF      JMP0100001
 8074                                 M   ;       === 0度をはさなまい===
 8075 000006E6 200A                   M           XOR     R0,R0
 8076 000006E8 3133                   M           CMP/GE  R3,R1           ;
 8077 000006EA 8B19                   M           BF      JMP0200001                      ; PV<SV1
 8078 000006EC 3213                   M           CMP/GE  R1,R2           ;
 8079 000006EE 8B17                   M           BF      JMP0200001                      ; SV2<PV2 (1)
 8080 000006F0 E001                   M           MOV     #1,R0           ;
 8081                                 M           M_BRA   JMP0200001                      ;
 8082 000006F2 A015                   M           BRA     JMP0200001
 8083 000006F4 0009                   M           NOP
 8084                                 M   
 8085                                 M   ;       ==== ０度をはさむ====
 8086                                 M   ***** BEGIN-POOL *****
 8087 000006F6 0000                   M   ALIGNMENT CODE
 8088 000006F8 00000000               M   DATA FOR SOURCE-LINE 1496
 8089 000006FC 00000000               M   DATA FOR SOURCE-LINE 1499
 8090 00000700 00000000               M   DATA FOR SOURCE-LINE 1501
 8091 00000704 00000000               M   DATA FOR SOURCE-LINE 1504
 8092 00000708 00000000               M   DATA FOR SOURCE-LINE 1523
 8093 0000070C 00000000               M   DATA FOR SOURCE-LINE 1526
 8094 00000710 00000000               M   DATA FOR SOURCE-LINE 1532
 8095                                 M   ***** END-POOL *****
 8096 00000714                        M   JMP0100001:
 8097 00000714 E001                   M           MOV     #1,R0
 8098 00000716 3133                   M           CMP/GE  R3,R1
 8099 00000718 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
 8100 0000071A 3213                   M           CMP/GE  R1,R2           ;
 8101 0000071C 8900                   M           BT      JMP0200001                      ;
 8102 0000071E 200A                   M           XOR     R0,R0           ;
 8103 00000720                        M   JMP0200001:
 8104 00000720 233A              1541             XOR     R3,R3
 8105 00000722 2008              1542             TST     R0,R0
 8106                            1543             TST_BIT_ON LINK_UPPLS_A_OBJMK1_150              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    39
PROGRAM NAME =

 8107 00000724 8B00                   M           BF      LINK_UPPLS_A_OBJMK1_150
 8108 00000726                   1544     LINK_UPPLS_A_OBJMK1_145:                                ;R2
 8109 00000726 E3FF              1545             MOV     #-1,R3
 8110 00000728                   1546     LINK_UPPLS_A_OBJMK1_150:                                ;R2
 8111                            1547     
 8112 00000728 2338              1548             TST     R3,R3                                   ;正転
 8113                            1549             TST_BIT_ON LINK_UPPLS_A_OBJMK1_300              ;逆転 JUMP
 8114 0000072A 8B0D                   M           BF      LINK_UPPLS_A_OBJMK1_300
 8115                            1550     ;       ==== 正転方向でいく ====
 8116 0000072C 3218              1551             SUB     R1,R2                                   ;
 8117 0000072E 4211              1552             CMP/PZ  R2
 8118 00000730 8915              1553             BT      LINK_UPPLS_A_OBJMK1_500                 ;R2 >= 0(R2は符号付距離)
 8119 00000732 D504              1554             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8120 00000734 6452              1555             MOV.L   @R5,R4                                  ;
 8121 00000736 324C              1556             ADD     R4,R2                                   ;
 8122 00000738 4211              1557             CMP/PZ  R2
 8123 0000073A 8910              1558             BT      LINK_UPPLS_A_OBJMK1_500         ;
 8124 0000073C 222A              1559             XOR     R2,R2                                   ;
 8125                            1560             M_BRA   LINK_UPPLS_A_OBJMK1_500                 ;
 8126 0000073E A00E                   M           BRA     LINK_UPPLS_A_OBJMK1_500
 8127 00000740 0009                   M           NOP
 8128                            1561     
 8129                                     ***** BEGIN-POOL *****
 8130 00000742 0000                       ALIGNMENT CODE
 8131 00000744 00000000                   DATA FOR SOURCE-LINE 1554
 8132                                     ***** END-POOL *****
 8133 00000748                   1562     LINK_UPPLS_A_OBJMK1_300:                                ;R2
 8134 00000748 3218              1563             SUB     R1,R2                                   ;300-270
 8135 0000074A 622B              1564             NEG     R2,R2                                   ;
 8136 0000074C 4211              1565             CMP/PZ  R2
 8137 0000074E 8905              1566             BT      LINK_UPPLS_A_OBJMK1_400                 ;R2 >= 0(R2は符号付距離)
 8138 00000750 D514              1567             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8139 00000752 6452              1568             MOV.L   @R5,R4                                  ;
 8140 00000754 324C              1569             ADD     R4,R2                                   ;
 8141 00000756 4211              1570             CMP/PZ  R2
 8142 00000758 8900              1571             BT      LINK_UPPLS_A_OBJMK1_400         ;
 8143 0000075A 222A              1572             XOR     R2,R2                                   ;
 8144 0000075C                   1573     LINK_UPPLS_A_OBJMK1_400:                                ;
 8145 0000075C 622B              1574             NEG     R2,R2                                   ;
 8146 0000075E                   1575     LINK_UPPLS_A_OBJMK1_500:                                ;
 8147 0000075E 255A              1576             XOR     R5,R5
 8148 00000760 6623              1577             MOV     R2,R6                                   ;
 8149 00000762 4211              1578             CMP/PZ  R2                                      ;
 8150 00000764 8900              1579             BT      LINK_UPPLS_A_OBJMK1_600                 ;
 8151 00000766 E5FF              1580             MOV     #-1,R5                                  ;
 8152 00000768                   1581     LINK_UPPLS_A_OBJMK1_600:                                ;
 8153                            1582     
 8154                            1583     
 8155 00000768 D40F              1584             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 8156 0000076A 6146              1585             MOV.L   @R4+,R1                                                 ;
 8157 0000076C 6242              1586             MOV.L   @R4,R2                                                  ;
 8158                            1587             PUSH_REG1 R1
 8159 0000076E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8160                                 M                                           ;REG=>[SP]
 8161                                 M                                           ;"-4" FF,FF,FF,FC
 8162                            1588             PUSH_REG1 R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    40
PROGRAM NAME =

 8163 00000770 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8164                                 M                                           ;REG=>[SP]
 8165                                 M                                           ;"-4" FF,FF,FF,FC
 8166                            1589             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8167 00000772 0008                   M           CLRT
 8168 00000774 326E                   M           ADDC    R6,R2
 8169 00000776 315E                   M           ADDC    R5,R1
 8170                            1590     
 8171 00000778 D40C              1591             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8172 0000077A 2412              1592             MOV.L   R1,@R4                                          ;
 8173 0000077C 1421              1593             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8174                            1594             POP_REG1 R6
 8175                                 M                                   ; RE"+4" 00,00,00,04
 8176 0000077E 66F6                   M           MOV.L   @R15+,R6        ;
 8177                            1595             POP_REG1 R5
 8178                                 M                                   ; RE"+4" 00,00,00,04
 8179 00000780 65F6                   M           MOV.L   @R15+,R5        ;
 8180                            1596             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8181 00000782 0008                   M           CLRT
 8182 00000784 326A                   M           SUBC    R6,R2
 8183 00000786 315A                   M           SUBC    R5,R1
 8184 00000788 233A              1597             XOR     R3,R3
 8185 0000078A 4111              1598             CMP/PZ  R1                              ;+
 8186 0000078C 8900              1599             BT      LINK_UPPLS_A_OBJMK1_700         ;
 8187 0000078E E301              1600             MOV     #BIT0,R3
 8188 00000790                   1601     LINK_UPPLS_A_OBJMK1_700:                                ;
 8189 00000790 D107              1602             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8190 00000792 2131              1603             MOV.W   R3,@R1                          ;
 8191                            1604     
 8192 00000794 D107              1605             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8193 00000796 6011              1606             MOV.W   @R1,R0                  ;
 8194 00000798 C9FE              1607             AND     #LOW ~BIT0,R0           ;
 8195 0000079A 203B              1608             OR      R3,R0                   ;
 8196 0000079C 2101              1609             MOV.W   R0,@R1                  ;
 8197                            1610     
 8198                            1611             SUB_END
 8199                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8200 0000079E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8201                            1612             M_RTS
 8202 000007A0 000B                   M           RTS                             ;RTSの後ろの
 8203 000007A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8204                            1613     
 8205                            1614     
 8206                            1615     ;       ***************************************************
 8207                            1616     ;       ***                                             ***
 8208                            1617     ;       ***     １回目の目標位置+6.0を目指す            ***
 8209                            1618     ;       ***                                             ***
 8210                            1619     ;       ***************************************************
 8211                                     ***** BEGIN-POOL *****
 8212 000007A4 00000000                   DATA FOR SOURCE-LINE 1567
 8213 000007A8 00000000                   DATA FOR SOURCE-LINE 1584
 8214 000007AC 00000000                   DATA FOR SOURCE-LINE 1591
 8215 000007B0 00000000                   DATA FOR SOURCE-LINE 1602
 8216 000007B4 00000000                   DATA FOR SOURCE-LINE 1605
 8217                                     ***** END-POOL *****
 8218 000007B8                   1620             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    41
PROGRAM NAME =

 8219 000007B8                   1621     _LINK_UPPLS_A_OBJMAK2:
 8220                            1622             SUB_START
 8221 000007B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8222                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8223                            1623             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 8224 000007BA D013                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8225 000007BC 400B                   M           JSR     @R0                     ;
 8226 000007BE 0009                   M           NOP                                     ;
 8227                            1624     
 8228 000007C0 D412              1625             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8229 000007C2 6142              1626             MOV.L   @R4,R1                                          ;
 8230 000007C4 5241              1627             MOV.L   @(1*4,R4),R2                                    ;目標位置ｾｯﾄ
 8231 000007C6 D412              1628             MOV.L   #_ORG_SECOND_OBJPLS,R4                          ;
 8232 000007C8 6642              1629             MOV.L   @R4,R6                                          ;
 8233 000007CA 255A              1630             XOR     R5,R5                                           ;
 8234 000007CC 4611              1631             CMP/PZ  R6
 8235 000007CE 8900              1632             BT      LINK_UPPLS_A_OBJMK2_030                         ;あり得ない
 8236 000007D0 75FF              1633             ADD     #-1,R5                                          ;
 8237 000007D2                   1634     LINK_UPPLS_A_OBJMK2_030:                                                ;
 8238                            1635             FAR_JSR #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;
 8239 000007D2 D010                   M           MOV.L   #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8240 000007D4 400B                   M           JSR     @R0                     ;
 8241 000007D6 0009                   M           NOP                                     ;
 8242                            1636     
 8243 000007D8 D40C              1637             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8244 000007DA 2412              1638             MOV.L   R1,@R4                                          ;
 8245 000007DC 1421              1639             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8246                            1640     
 8247 000007DE D40E              1641             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)       ;
 8248 000007E0 6546              1642             MOV.L   @R4+,R5                                                         ;
 8249 000007E2 6642              1643             MOV.L   @R4,R6                                                          ;
 8250                            1644             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8251 000007E4 0008                   M           CLRT
 8252 000007E6 326A                   M           SUBC    R6,R2
 8253 000007E8 315A                   M           SUBC    R5,R1
 8254 000007EA 233A              1645             XOR     R3,R3
 8255 000007EC 4111              1646             CMP/PZ  R1                              ;
 8256 000007EE 8900              1647             BT      LINK_UPPLS_A_OBJMK2_050         ;
 8257 000007F0 E301              1648             MOV     #BIT0,R3                        ;
 8258 000007F2                   1649     LINK_UPPLS_A_OBJMK2_050:                                ;
 8259 000007F2 D10A              1650             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8260 000007F4 2131              1651             MOV.W   R3,@R1                          ;
 8261                            1652     
 8262 000007F6 D10A              1653             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8263 000007F8 6011              1654             MOV.W   @R1,R0                  ;
 8264 000007FA C9FE              1655             AND     #LOW ~BIT0,R0           ;
 8265 000007FC 203B              1656             OR      R3,R0                   ;
 8266 000007FE 2101              1657             MOV.W   R0,@R1                  ;
 8267                            1658     
 8268                            1659             SUB_END
 8269                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8270 00000800 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8271                            1660             M_RTS
 8272 00000802 000B                   M           RTS                             ;RTSの後ろの
 8273 00000804 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    42
PROGRAM NAME =

 8274                            1661     
 8275                            1662     ;       ***************************************************
 8276                            1663     ;       ***                                             ***
 8277                            1664     ;       ***     今の回転上の待機点を目指す              ***
 8278                            1665     ;       ***     本当は正転する待機点を目指す            ***
 8279                            1666     ;       ***************************************************
 8280                            1667     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 8281                            1668     ;
 8282                                     ***** BEGIN-POOL *****
 8283 00000806 0000                       ALIGNMENT CODE
 8284 00000808 00000000                   DATA FOR SOURCE-LINE 1623
 8285 0000080C 00000000                   DATA FOR SOURCE-LINE 1625,1637
 8286 00000810 00000000                   DATA FOR SOURCE-LINE 1628
 8287 00000814 00000000                   DATA FOR SOURCE-LINE 1635
 8288 00000818 00000000                   DATA FOR SOURCE-LINE 1641
 8289 0000081C 00000000                   DATA FOR SOURCE-LINE 1650
 8290 00000820 00000000                   DATA FOR SOURCE-LINE 1653
 8291                                     ***** END-POOL *****
 8292 00000824                   1669             .ALIGN  4                               ;
 8293 00000824                   1670     _LINK_UPPLS_A_OBJMAK3:
 8294                            1671             SUB_START
 8295 00000824 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8296                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8297                            1672     
 8298                            1673     
 8299                            1674             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
 8300 00000826 D009                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8301 00000828 400B                   M           JSR     @R0                     ;
 8302 0000082A 0009                   M           NOP                                     ;
 8303                            1675     
 8304                            1676     
 8305                            1677             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8306 0000082C D008                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8307 0000082E 400B                   M           JSR     @R0                     ;
 8308 00000830 0009                   M           NOP                                     ;
 8309                            1678     
 8310                            1679     ;       ----------- 2014-09-18 -----------------
 8311                            1680             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 8312 00000832 D008                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8313 00000834 400B                   M           JSR     @R0                     ;
 8314 00000836 0009                   M           NOP                                     ;
 8315                            1681     
 8316                            1682     
 8317                            1683     ;;2014-09-18　SELECT1へ移動;    -------2012-10-19 別目的　ふりこ退避
 8318                            1684     ;;2014-09-18　SELECT1へ移動     MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 8319                            1685     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 8320                            1686     ;;2014-09-18　SELECT1へ移動     TST     #BIT5,R0                        ;
 8321                            1687     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_050      ;R2
 8322                            1688     ;;2014-09-18　SELECT1へ移動
 8323                            1689     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好き
                                          なとこ
 8324                            1690     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 8325                            1691     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
 8326                            1692     ;;2014-09-18　SELECT1へ移動
 8327                            1693     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_050:
 8328                            1694     ;;2014-09-18　SELECT1へ移動;    -----------------------------
 8329                            1695     ;;2014-09-18　SELECT1へ移動
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    43
PROGRAM NAME =

 8330                            1696     ;;2014-09-18　SELECT1へ移動     MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 8331                            1697     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 8332                            1698     ;;2014-09-18　SELECT1へ移動     TST     #BIT0,R0                        ;
 8333                            1699     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_100A     ;R2
 8334                            1700     ;;2014-09-18　SELECT1へ移動
 8335                            1701     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機
                                          点X
 8336                            1702     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 8337                            1703     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
 8338                            1704     ;;2014-09-18　SELECT1へ移動
 8339                            1705     ;;2014-09-18　SELECT1へ移動
 8340                            1706     ;;2014-09-18　SELECT1へ移動;    === 目標角度 ====
 8341                            1707     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_100A:                            ;R2
 8342                            1708     ;;2014-09-18　SELECT1へ移動     MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機
                                          点
 8343                            1709     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 8344                            1710     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_110B:                            ;R2
 8345                            1711     ;;;2011-05-11   MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 8346                            1712     ;;;2011-05-11   MOV.L   @R0,R2                                  ;
 8347                            1713     
 8348                            1714     
 8349                            1715     ;       ===========2008-04-28 =======
 8350 00000838 D007              1716             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 8351 0000083A 6001              1717             MOV.W   @R0,R0                                  ;
 8352 0000083C C920              1718             AND     #BIT5,R0                                ;
 8353                            1719     
 8354                            1720             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4               ;input R2(目標),R0=0(自動判別) R0!
                                          =0(BIT5=1)逆転固定
 8355 0000083E D407                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8356 00000840 440B                   M           JSR     @R4                     ;
 8357 00000842 0009                   M           NOP                                     ;
 8358                            1721     
 8359                            1722             SUB_END
 8360                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8361 00000844 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8362                            1723             M_RTS
 8363 00000846 000B                   M           RTS                             ;RTSの後ろの
 8364 00000848 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8365                            1724     
 8366                            1725     
 8367                            1726     
 8368                            1727     ;       *******************************************
 8369                            1728     ;       ***                                     ***
 8370                            1729     ;       ***     待機点位置決めの目標位置選択    ***
 8371                            1730     ;       ***                                     ***
 8372                            1731     ;       *******************************************
 8373                            1732     ;       2014-09-18 ｻﾌﾞﾙｰﾁﾝ化しただけ
 8374                            1733     ;
 8375                            1734     ;       ANS R0=0:強制書き換え無し R2=待機点
 8376                            1735     ;       ANS R0=1:強制書き換え有り R2=変更目標
 8377                            1736     ;
 8378                            1737     ;
 8379                                     ***** BEGIN-POOL *****
 8380 0000084A 0000                       ALIGNMENT CODE
 8381 0000084C 00000000                   DATA FOR SOURCE-LINE 1674
 8382 00000850 00000000                   DATA FOR SOURCE-LINE 1677
 8383 00000854 00000000                   DATA FOR SOURCE-LINE 1680
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    44
PROGRAM NAME =

 8384 00000858 00000000                   DATA FOR SOURCE-LINE 1716
 8385 0000085C 00000000                   DATA FOR SOURCE-LINE 1720
 8386                                     ***** END-POOL *****
 8387 00000860                   1738     _LINK_UPPLS_OBJ_SELECT1
 8388                            1739             SUB_START
 8389 00000860 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8390                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8391                            1740     
 8392                            1741     ;       -------2012-10-19 別目的　ふりこ退避
 8393 00000862 D104              1742             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 8394 00000864 6011              1743             MOV.W   @R1,R0                          ;
 8395 00000866 C820              1744             TST     #BIT5,R0                        ;
 8396                            1745             TST_BIT_OF LINK_UPPLS_OBJ_SEL_050       ;R2
 8397 00000868 8908                   M           BT      LINK_UPPLS_OBJ_SEL_050
 8398                            1746     
 8399 0000086A D003              1747             MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好きなとこ
 8400 0000086C 6202              1748             MOV.L   @R0,R2                                  ;
 8401                            1749             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 8402 0000086E A019                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 8403 00000870 0009                   M           NOP
 8404                            1750     
 8405                                     ***** BEGIN-POOL *****
 8406 00000872 0000                       ALIGNMENT CODE
 8407 00000874 00000000                   DATA FOR SOURCE-LINE 1742
 8408 00000878 00000000                   DATA FOR SOURCE-LINE 1747
 8409                                     ***** END-POOL *****
 8410 0000087C                   1751     LINK_UPPLS_OBJ_SEL_050:
 8411                            1752     ;       -----------------------------
 8412                            1753     
 8413 0000087C D103              1754             MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 8414 0000087E 6011              1755             MOV.W   @R1,R0                          ;
 8415 00000880 C801              1756             TST     #BIT0,R0                        ;
 8416                            1757             TST_BIT_OF LINK_UPPLS_OBJ_SEL_100A      ;R2
 8417 00000882 8907                   M           BT      LINK_UPPLS_OBJ_SEL_100A
 8418                            1758     
 8419 00000884 D002              1759             MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機点X
 8420 00000886 6202              1760             MOV.L   @R0,R2                                  ;
 8421                            1761             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 8422 00000888 A00C                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 8423 0000088A 0009                   M           NOP
 8424                            1762     
 8425                            1763     
 8426                            1764     ;       === 目標角度(通常の待機点) ====
 8427                                     ***** BEGIN-POOL *****
 8428 0000088C 00000000                   DATA FOR SOURCE-LINE 1754
 8429 00000890 00000000                   DATA FOR SOURCE-LINE 1759
 8430                                     ***** END-POOL *****
 8431 00000894                   1765     LINK_UPPLS_OBJ_SEL_100A:                                ;R2
 8432 00000894 D002              1766             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 8433 00000896 6202              1767             MOV.L   @R0,R2                                  ;
 8434 00000898 200A              1768             XOR     R0,R0                                   ;強制書換無し
 8435                            1769             M_BRA   LINK_UPPLS_OBJ_SEL_END                  ;
 8436 0000089A A004                   M           BRA     LINK_UPPLS_OBJ_SEL_END
 8437 0000089C 0009                   M           NOP
 8438                            1770     
 8439                                     ***** BEGIN-POOL *****
 8440 0000089E 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    45
PROGRAM NAME =

 8441 000008A0 00000000                   DATA FOR SOURCE-LINE 1766
 8442                                     ***** END-POOL *****
 8443 000008A4                   1771     LINK_UPPLS_OBJ_SEL_110B:                                ;
 8444 000008A4 E0FF              1772             MOV.B   #-1,R0                                  ;強制書換有り
 8445                            1773     
 8446 000008A6                   1774     LINK_UPPLS_OBJ_SEL_END:                         ;R2
 8447                            1775     
 8448                            1776             SUB_END
 8449                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8450 000008A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8451                            1777             M_RTS
 8452 000008A8 000B                   M           RTS                             ;RTSの後ろの
 8453 000008AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8454                            1778     
 8455                            1779     
 8456                            1780     
 8457                            1781     
 8458                            1782     ;       ***************************************************
 8459                            1783     ;       ***                                             ***
 8460                            1784     ;       ***     待機位置決めの方向判別＋目標＋方向      ***
 8461                            1785     ;       ***     R2:目標位置ｵﾌｾｯﾄﾊﾟﾙｽ相当の角度          ***
 8462                            1786     ;       ***     R0=0自動判別　R0=BIT5逆転固定           ***
 8463                            1787     ;       ***                                             ***
 8464                            1788     ;       ***************************************************
 8465                            1789     ;
 8466                            1790     ;input R2(目標),R0=0(自動判別) R0!=0(BIT5=1)逆転固定
 8467                            1791     
 8468                            1792     
 8469 000008AC                   1793     _UPPLS1_OBJMAK_COMMON:
 8470                            1794             SUB_START
 8471 000008AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8472                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8473                            1795     
 8474 000008AE D408              1796             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8475 000008B0 6142              1797             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8476                            1798                                                             ;目標 ***.* pls
 8477 000008B2 D408              1799             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8478 000008B4 6342              1800             MOV.L   @R4,R3                                  ;
 8479                            1801     
 8480                            1802     
 8481                            1803     ;;;;    TST     #BIT5,R0                        ;
 8482 000008B6 2008              1804             TST     R0,R0                           ;
 8483                            1805             TST_BIT_ON UPPLS1_OBJMAK_COM_145        ;逆転固定(1回起動した場合は0になるのでｻｰﾁ
                                          完了時は0)
 8484 000008B8 8B17                   M           BF      UPPLS1_OBJMAK_COM_145
 8485                            1806     
 8486                            1807     ;       ===== R3[下死点]~R2[待機点]の範囲にR1がいれば正転===
 8487                            1808             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 8488 000008BA 3233                   M           CMP/GE  R3,R2
 8489 000008BC 8B0C                   M           BF      JMP0100002
 8490                                 M   ;       === 0度をはさなまい===
 8491 000008BE 200A                   M           XOR     R0,R0
 8492 000008C0 3133                   M           CMP/GE  R3,R1           ;
 8493 000008C2 8B0F                   M           BF      JMP0200002                      ; PV<SV1
 8494 000008C4 3213                   M           CMP/GE  R1,R2           ;
 8495 000008C6 8B0D                   M           BF      JMP0200002                      ; SV2<PV2 (1)
 8496 000008C8 E001                   M           MOV     #1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    46
PROGRAM NAME =

 8497                                 M           M_BRA   JMP0200002                      ;
 8498 000008CA A00B                   M           BRA     JMP0200002
 8499 000008CC 0009                   M           NOP
 8500                                 M   
 8501                                 M   ;       ==== ０度をはさむ====
 8502                                 M   ***** BEGIN-POOL *****
 8503 000008CE 0000                   M   ALIGNMENT CODE
 8504 000008D0 00000000               M   DATA FOR SOURCE-LINE 1796
 8505 000008D4 00000000               M   DATA FOR SOURCE-LINE 1799
 8506                                 M   ***** END-POOL *****
 8507 000008D8                        M   JMP0100002:
 8508 000008D8 E001                   M           MOV     #1,R0
 8509 000008DA 3133                   M           CMP/GE  R3,R1
 8510 000008DC 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
 8511 000008DE 3213                   M           CMP/GE  R1,R2           ;
 8512 000008E0 8900                   M           BT      JMP0200002                      ;
 8513 000008E2 200A                   M           XOR     R0,R0           ;
 8514 000008E4                        M   JMP0200002:
 8515 000008E4 233A              1809             XOR     R3,R3
 8516 000008E6 2008              1810             TST     R0,R0
 8517                            1811             TST_BIT_ON UPPLS1_OBJMAK_COM_150                ;
 8518 000008E8 8B00                   M           BF      UPPLS1_OBJMAK_COM_150
 8519 000008EA                   1812     UPPLS1_OBJMAK_COM_145:                          ;R2
 8520 000008EA E3FF              1813             MOV     #-1,R3
 8521 000008EC                   1814     UPPLS1_OBJMAK_COM_150:                          ;R2
 8522                            1815     
 8523 000008EC 2338              1816             TST     R3,R3                                   ;正転
 8524                            1817             TST_BIT_ON UPPLS1_OBJMAK_COM_300                ;逆転 JUMP
 8525 000008EE 8B0D                   M           BF      UPPLS1_OBJMAK_COM_300
 8526                            1818     ;       ==== 正転方向でいく ====
 8527 000008F0 3218              1819             SUB     R1,R2                                   ;
 8528 000008F2 4211              1820             CMP/PZ  R2
 8529 000008F4 8915              1821             BT      UPPLS1_OBJMAK_COM_500                   ;R2 >= 0(R2は符号付距離)
 8530 000008F6 D504              1822             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8531 000008F8 6452              1823             MOV.L   @R5,R4                                  ;
 8532 000008FA 324C              1824             ADD     R4,R2                                   ;
 8533 000008FC 4211              1825             CMP/PZ  R2
 8534 000008FE 8910              1826             BT      UPPLS1_OBJMAK_COM_500           ;
 8535 00000900 222A              1827             XOR     R2,R2                                   ;
 8536                            1828             M_BRA   UPPLS1_OBJMAK_COM_500                   ;
 8537 00000902 A00E                   M           BRA     UPPLS1_OBJMAK_COM_500
 8538 00000904 0009                   M           NOP
 8539                            1829     
 8540                                     ***** BEGIN-POOL *****
 8541 00000906 0000                       ALIGNMENT CODE
 8542 00000908 00000000                   DATA FOR SOURCE-LINE 1822
 8543                                     ***** END-POOL *****
 8544 0000090C                   1830     UPPLS1_OBJMAK_COM_300:                          ;R2
 8545 0000090C 3218              1831             SUB     R1,R2                                   ;300-270
 8546 0000090E 622B              1832             NEG     R2,R2                                   ;
 8547 00000910 4211              1833             CMP/PZ  R2
 8548 00000912 8905              1834             BT      UPPLS1_OBJMAK_COM_400                   ;R2 >= 0(R2は符号付距離)
 8549 00000914 D514              1835             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8550 00000916 6452              1836             MOV.L   @R5,R4                                  ;
 8551 00000918 324C              1837             ADD     R4,R2                                   ;
 8552 0000091A 4211              1838             CMP/PZ  R2
 8553 0000091C 8900              1839             BT      UPPLS1_OBJMAK_COM_400                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    47
PROGRAM NAME =

 8554 0000091E 222A              1840             XOR     R2,R2                                   ;
 8555 00000920                   1841     UPPLS1_OBJMAK_COM_400:                          ;
 8556 00000920 622B              1842             NEG     R2,R2                                   ;
 8557 00000922                   1843     UPPLS1_OBJMAK_COM_500:                          ;
 8558 00000922 255A              1844             XOR     R5,R5                                   ;
 8559 00000924 6623              1845             MOV     R2,R6                                   ;
 8560 00000926 4211              1846             CMP/PZ  R2                                      ;
 8561 00000928 8900              1847             BT      UPPLS1_OBJMAK_COM_600                   ;
 8562 0000092A E5FF              1848             MOV     #-1,R5                                  ;
 8563 0000092C                   1849     UPPLS1_OBJMAK_COM_600:                          ;
 8564                            1850     
 8565                            1851     
 8566 0000092C D40F              1852             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 8567 0000092E 6146              1853             MOV.L   @R4+,R1                                                 ;
 8568 00000930 6242              1854             MOV.L   @R4,R2                                                  ;
 8569                            1855             PUSH_REG1 R1
 8570 00000932 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8571                                 M                                           ;REG=>[SP]
 8572                                 M                                           ;"-4" FF,FF,FF,FC
 8573                            1856             PUSH_REG1 R2
 8574 00000934 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8575                                 M                                           ;REG=>[SP]
 8576                                 M                                           ;"-4" FF,FF,FF,FC
 8577                            1857             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8578 00000936 0008                   M           CLRT
 8579 00000938 326E                   M           ADDC    R6,R2
 8580 0000093A 315E                   M           ADDC    R5,R1
 8581                            1858     
 8582 0000093C D40C              1859             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8583 0000093E 2412              1860             MOV.L   R1,@R4                                          ;
 8584 00000940 1421              1861             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8585                            1862             POP_REG1 R6
 8586                                 M                                   ; RE"+4" 00,00,00,04
 8587 00000942 66F6                   M           MOV.L   @R15+,R6        ;
 8588                            1863             POP_REG1 R5
 8589                                 M                                   ; RE"+4" 00,00,00,04
 8590 00000944 65F6                   M           MOV.L   @R15+,R5        ;
 8591                            1864     
 8592                            1865             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8593 00000946 0008                   M           CLRT
 8594 00000948 326A                   M           SUBC    R6,R2
 8595 0000094A 315A                   M           SUBC    R5,R1
 8596 0000094C 233A              1866             XOR     R3,R3
 8597 0000094E 4111              1867             CMP/PZ  R1                              ;
 8598 00000950 8900              1868             BT      UPPLS1_OBJMAK_COM_750           ;
 8599 00000952 E301              1869             MOV     #BIT0,R3                        ;
 8600 00000954                   1870     UPPLS1_OBJMAK_COM_750:                          ;
 8601 00000954 D107              1871             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8602 00000956 2131              1872             MOV.W   R3,@R1                          ;
 8603                            1873     
 8604 00000958 D107              1874             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8605 0000095A 6011              1875             MOV.W   @R1,R0                  ;
 8606 0000095C C9FE              1876             AND     #LOW ~BIT0,R0           ;
 8607 0000095E 203B              1877             OR      R3,R0                   ;
 8608 00000960 2101              1878             MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    48
PROGRAM NAME =

 8609                            1879     
 8610                            1880             SUB_END
 8611                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8612 00000962 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8613                            1881             M_RTS
 8614 00000964 000B                   M           RTS                             ;RTSの後ろの
 8615 00000966 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8616                            1882     
 8617                            1883     
 8618                            1884     
 8619                            1885     
 8620                            1886     ;       ***************************************************
 8621                            1887     ;       ***                                             ***
 8622                            1888     ;       ***     シーケンスによる運転方向の決定          ***
 8623                            1889     ;       ***                                             ***
 8624                            1890     ;       ***************************************************
 8625                            1891     ;       Input   R0 ==0 正転
 8626                            1892     ;               R0 !=0(BIT13)逆転
 8627                            1893     ;       2004-07-01
 8628                            1894     ;
 8629                                     ***** BEGIN-POOL *****
 8630 00000968 00000000                   DATA FOR SOURCE-LINE 1835
 8631 0000096C 00000000                   DATA FOR SOURCE-LINE 1852
 8632 00000970 00000000                   DATA FOR SOURCE-LINE 1859
 8633 00000974 00000000                   DATA FOR SOURCE-LINE 1871
 8634 00000978 00000000                   DATA FOR SOURCE-LINE 1874
 8635                                     ***** END-POOL *****
 8636 0000097C                   1895             .ALIGN  4                               ;
 8637 0000097C                   1896     _LINK_DIR_OBJMAK3:
 8638                            1897             SUB_START
 8639 0000097C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8640                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8641                            1898     
 8642                            1899             PUSH_REG1 R0
 8643 0000097E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 8644                                 M                                           ;REG=>[SP]
 8645                                 M                                           ;"-4" FF,FF,FF,FC
 8646                            1900     
 8647                            1901     
 8648                            1902             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 8649 00000980 D00E                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8650 00000982 400B                   M           JSR     @R0                     ;
 8651 00000984 0009                   M           NOP                                     ;
 8652                            1903     
 8653                            1904             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8654 00000986 D00E                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8655 00000988 400B                   M           JSR     @R0                     ;
 8656 0000098A 0009                   M           NOP                                     ;
 8657                            1905     
 8658                            1906     ;       === 目標角度() ====
 8659 0000098C D00D              1907             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 8660 0000098E 6202              1908             MOV.L   @R0,R2                                  ;
 8661 00000990 D40D              1909             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8662 00000992 6142              1910             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8663                            1911                                                             ;目標 ***.* pls
 8664                            1912     
 8665                            1913             POP_REG1 R0                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    49
PROGRAM NAME =

 8666                                 M                                   ; RE"+4" 00,00,00,04
 8667 00000994 60F6                   M           MOV.L   @R15+,R0        ;
 8668                            1914     
 8669 00000996 2008              1915             TST     R0,R0                                   ;
 8670                            1916             TST_BIT_ON LINK_DIR_OBJMK3_300                  ;
 8671 00000998 8B1C                   M           BF      LINK_DIR_OBJMK3_300
 8672                            1917     ;       ==== 正転方向でいく ====
 8673 0000099A 3218              1918             SUB     R1,R2                                   ;
 8674 0000099C 4211              1919             CMP/PZ  R2
 8675 0000099E 8905              1920             BT      LINK_DIR_OBJMK3_250                             ;R2 >= 0(R2は符号付距離)
 8676 000009A0 D50A              1921             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8677 000009A2 6452              1922             MOV.L   @R5,R4                                  ;
 8678 000009A4 324C              1923             ADD     R4,R2                                   ;
 8679 000009A6 4211              1924             CMP/PZ  R2
 8680 000009A8 8900              1925             BT      LINK_DIR_OBJMK3_250                     ;
 8681 000009AA 222A              1926             XOR     R2,R2                                   ;
 8682 000009AC                   1927     LINK_DIR_OBJMK3_250:                                    ;
 8683                            1928             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0!=0 NEAR ZERO
 8684 000009AC D008                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8685 000009AE 400B                   M           JSR     @R0                     ;
 8686 000009B0 0009                   M           NOP                                     ;
 8687 000009B2 2008              1929             TST     R0,R0                                   ;
 8688                            1930             TST_BIT_OF LINK_DIR_OBJMK3_280                  ;NOT NEAR ZERO JUMP
 8689 000009B4 8900                   M           BT      LINK_DIR_OBJMK3_280
 8690 000009B6 222A              1931             XOR     R2,R2                                   ;
 8691 000009B8                   1932     LINK_DIR_OBJMK3_280:
 8692                            1933             M_BRA   LINK_DIR_OBJMK3_500                             ;
 8693 000009B8 A01D                   M           BRA     LINK_DIR_OBJMK3_500
 8694 000009BA 0009                   M           NOP
 8695                            1934     
 8696                            1935     ;       ====逆転方向でいく=====
 8697                                     ***** BEGIN-POOL *****
 8698 000009BC 00000000                   DATA FOR SOURCE-LINE 1902
 8699 000009C0 00000000                   DATA FOR SOURCE-LINE 1904
 8700 000009C4 00000000                   DATA FOR SOURCE-LINE 1907
 8701 000009C8 00000000                   DATA FOR SOURCE-LINE 1909
 8702 000009CC 00000000                   DATA FOR SOURCE-LINE 1921
 8703 000009D0 00000000                   DATA FOR SOURCE-LINE 1928
 8704                                     ***** END-POOL *****
 8705 000009D4                   1936     LINK_DIR_OBJMK3_300:                                    ;R2
 8706 000009D4 3218              1937             SUB     R1,R2                                   ;
 8707 000009D6 622B              1938             NEG     R2,R2                                   ;
 8708 000009D8 4211              1939             CMP/PZ  R2                                      ;
 8709 000009DA 8905              1940             BT      LINK_DIR_OBJMK3_400                             ;R2 >= 0(R2は符号付距離)
 8710 000009DC D517              1941             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8711 000009DE 6452              1942             MOV.L   @R5,R4                                  ;
 8712 000009E0 324C              1943             ADD     R4,R2                                   ;
 8713 000009E2 4211              1944             CMP/PZ  R2
 8714 000009E4 8900              1945             BT      LINK_DIR_OBJMK3_400                     ;
 8715 000009E6 222A              1946             XOR     R2,R2                                   ;
 8716 000009E8                   1947     LINK_DIR_OBJMK3_400:                                    ;R2 ≦NERA-ZERO or  1REV-NEAR≦R2
                                          なら R2=0とする
 8717                            1948     
 8718                            1949             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0=0 NOT NEAR ZERO
 8719 000009E8 D015                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8720 000009EA 400B                   M           JSR     @R0                     ;
 8721 000009EC 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    50
PROGRAM NAME =

 8722 000009EE 2008              1950             TST     R0,R0                                   ;
 8723                            1951             TST_BIT_OF LINK_DIR_OBJMK3_450                  ;
 8724 000009F0 8900                   M           BT      LINK_DIR_OBJMK3_450
 8725 000009F2 222A              1952             XOR     R2,R2                                   ;
 8726 000009F4                   1953     LINK_DIR_OBJMK3_450:                                    ;
 8727                            1954     
 8728 000009F4 622B              1955             NEG     R2,R2                                   ;
 8729 000009F6                   1956     LINK_DIR_OBJMK3_500:                                    ;R2:+/-
 8730 000009F6 255A              1957             XOR     R5,R5                                   ;
 8731 000009F8 6623              1958             MOV     R2,R6                                   ;
 8732 000009FA 4211              1959             CMP/PZ  R2                                      ;
 8733 000009FC 8900              1960             BT      LINK_DIR_OBJMK3_600                     ;
 8734 000009FE E5FF              1961             MOV     #-1,R5                                  ;
 8735 00000A00                   1962     LINK_DIR_OBJMK3_600:                                    ;
 8736                            1963     
 8737                            1964     
 8738 00000A00 D410              1965             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 8739 00000A02 6146              1966             MOV.L   @R4+,R1                                                 ;
 8740 00000A04 6242              1967             MOV.L   @R4,R2                                                  ;
 8741                            1968             PUSH_REG1 R1
 8742 00000A06 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8743                                 M                                           ;REG=>[SP]
 8744                                 M                                           ;"-4" FF,FF,FF,FC
 8745                            1969             PUSH_REG1 R2
 8746 00000A08 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8747                                 M                                           ;REG=>[SP]
 8748                                 M                                           ;"-4" FF,FF,FF,FC
 8749                            1970             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8750 00000A0A 0008                   M           CLRT
 8751 00000A0C 326E                   M           ADDC    R6,R2
 8752 00000A0E 315E                   M           ADDC    R5,R1
 8753 00000A10 D40D              1971             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8754 00000A12 2412              1972             MOV.L   R1,@R4                                          ;
 8755 00000A14 1421              1973             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8756                            1974             POP_REG1 R6
 8757                                 M                                   ; RE"+4" 00,00,00,04
 8758 00000A16 66F6                   M           MOV.L   @R15+,R6        ;
 8759                            1975             POP_REG1 R5
 8760                                 M                                   ; RE"+4" 00,00,00,04
 8761 00000A18 65F6                   M           MOV.L   @R15+,R5        ;
 8762                            1976     
 8763                            1977             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8764 00000A1A 0008                   M           CLRT
 8765 00000A1C 326A                   M           SUBC    R6,R2
 8766 00000A1E 315A                   M           SUBC    R5,R1
 8767 00000A20 233A              1978             XOR     R3,R3
 8768 00000A22 4111              1979             CMP/PZ  R1                              ;
 8769 00000A24 8900              1980             BT      LINK_DIR_OBJMK3_750             ;
 8770 00000A26 E301              1981             MOV     #BIT0,R3                        ;
 8771 00000A28                   1982     LINK_DIR_OBJMK3_750:                            ;
 8772 00000A28 D108              1983             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8773 00000A2A 2131              1984             MOV.W   R3,@R1                          ;
 8774                            1985     
 8775 00000A2C D108              1986             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8776 00000A2E 6011              1987             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    51
PROGRAM NAME =

 8777 00000A30 C9FE              1988             AND     #LOW ~BIT0,R0           ;
 8778 00000A32 203B              1989             OR      R3,R0                   ;
 8779 00000A34 2101              1990             MOV.W   R0,@R1                  ;
 8780                            1991     
 8781                            1992             SUB_END
 8782                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8783 00000A36 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8784                            1993             M_RTS
 8785 00000A38 000B                   M           RTS                             ;RTSの後ろの
 8786 00000A3A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8787                            1994     
 8788                            1995     ;       ***************************************************
 8789                            1996     ;       ***                                             ***
 8790                            1997     ;       ***     今の回転上の待機点を目指す              ***
 8791                            1998     ;       ***     本当は正転する待機点を目指す            ***
 8792                            1999     ;       ***************************************************
 8793                            2000     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 8794                            2001     ;
 8795                                     ***** BEGIN-POOL *****
 8796 00000A3C 00000000                   DATA FOR SOURCE-LINE 1941
 8797 00000A40 00000000                   DATA FOR SOURCE-LINE 1949
 8798 00000A44 00000000                   DATA FOR SOURCE-LINE 1965
 8799 00000A48 00000000                   DATA FOR SOURCE-LINE 1971
 8800 00000A4C 00000000                   DATA FOR SOURCE-LINE 1983
 8801 00000A50 00000000                   DATA FOR SOURCE-LINE 1986
 8802                                     ***** END-POOL *****
 8803 00000A54                   2002             .ALIGN  4                               ;
 8804 00000A54                   2003     _LINK_UPPLS_DNDRIV:
 8805                            2004             SUB_START
 8806 00000A54 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8807                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8808                            2005     
 8809                            2006             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8810 00000A56 D005                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8811 00000A58 400B                   M           JSR     @R0                     ;
 8812 00000A5A 0009                   M           NOP                                     ;
 8813                            2007     
 8814                            2008     ;       ----------- 2014-09-18 -----------------
 8815                            2009             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 8816 00000A5C D004                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8817 00000A5E 400B                   M           JSR     @R0                     ;
 8818 00000A60 0009                   M           NOP                                     ;
 8819 00000A62 2008              2010             TST     R0,R0                                   ;
 8820                            2011             TST_BIT_OF LINK_UPPLSDN_DRV050                  ;強制書き換えなし
 8821 00000A64 8906                   M           BT      LINK_UPPLSDN_DRV050
 8822                            2012             M_BRA   LINK_UPPLSDN_DRV130                     ;
 8823 00000A66 A01B                   M           BRA     LINK_UPPLSDN_DRV130
 8824 00000A68 0009                   M           NOP
 8825                            2013     
 8826                            2014     
 8827                                     ***** BEGIN-POOL *****
 8828 00000A6A 0000                       ALIGNMENT CODE
 8829 00000A6C 00000000                   DATA FOR SOURCE-LINE 2006
 8830 00000A70 00000000                   DATA FOR SOURCE-LINE 2009
 8831                                     ***** END-POOL *****
 8832 00000A74                   2015     LINK_UPPLSDN_DRV050:
 8833                            2016             PUSH_REG1 R2                                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    52
PROGRAM NAME =

 8834 00000A74 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8835                                 M                                           ;REG=>[SP]
 8836                                 M                                           ;"-4" FF,FF,FF,FC
 8837                            2017             FAR_JSR #_AREACHK_0DIG_TO_180,R0                ;ANS:R0
 8838 00000A76 D007                   M           MOV.L   #_AREACHK_0DIG_TO_180,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8839 00000A78 400B                   M           JSR     @R0                     ;
 8840 00000A7A 0009                   M           NOP                                     ;
 8841                            2018             POP_REG1 R2                                     ;R2;右側待機点
 8842                                 M                                   ; RE"+4" 00,00,00,04
 8843 00000A7C 62F6                   M           MOV.L   @R15+,R2        ;
 8844                            2019     
 8845 00000A7E 2008              2020             TST     R0,R0                                   ;
 8846                            2021             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;0~180度：右半球
 8847 00000A80 8B0E                   M           BF      LINK_UPPLSDN_DRV130
 8848                            2022     
 8849 00000A82 D005              2023             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 8850 00000A84 6001              2024             MOV.W   @R0,R0                                  ;
 8851 00000A86 C820              2025             TST     #BIT5,R0                                ;
 8852                            2026             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;181~182度：右半球
 8853 00000A88 8B0A                   M           BF      LINK_UPPLSDN_DRV130
 8854                            2027     
 8855                            2028     
 8856 00000A8A D004              2029             MOV.L   #_DNM_SETX_UPAREA_PLS,R0                ;//4;左半球待機点
 8857 00000A8C 6202              2030             MOV.L   @R0,R2                                  ;
 8858                            2031             M_BRA   LINK_UPPLSDN_DRV130                     ;
 8859 00000A8E A007                   M           BRA     LINK_UPPLSDN_DRV130
 8860 00000A90 0009                   M           NOP
 8861                            2032     
 8862                            2033     
 8863                            2034     ;       --------------- INPUT:R2----------
 8864                                     ***** BEGIN-POOL *****
 8865 00000A92 0000                       ALIGNMENT CODE
 8866 00000A94 00000000                   DATA FOR SOURCE-LINE 2017
 8867 00000A98 00000000                   DATA FOR SOURCE-LINE 2023
 8868 00000A9C 00000000                   DATA FOR SOURCE-LINE 2029
 8869                                     ***** END-POOL *****
 8870 00000AA0                   2035     LINK_UPPLSDN_DRV130:
 8871 00000AA0 200A              2036             XOR     R0,R0                                   ;
 8872                            2037             M_BRA   LINK_UPPLSDN_DRV140
 8873 00000AA2 A001                   M           BRA     LINK_UPPLSDN_DRV140
 8874 00000AA4 0009                   M           NOP
 8875 00000AA6                   2038     LINK_UPPLSDN_DRV135:
 8876 00000AA6 E020              2039             MOV.B   #BIT5,R0                                ;
 8877                            2040     
 8878 00000AA8                   2041     LINK_UPPLSDN_DRV140:
 8879                            2042     
 8880                            2043             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4
 8881 00000AA8 D402                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8882 00000AAA 440B                   M           JSR     @R4                     ;
 8883 00000AAC 0009                   M           NOP                                     ;
 8884                            2044     
 8885                            2045     
 8886                            2046             SUB_END
 8887                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8888 00000AAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8889                            2047             M_RTS
 8890 00000AB0 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    53
PROGRAM NAME =

 8891 00000AB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8892                            2048     
 8893                            2049     
 8894                                     ***** BEGIN-POOL *****
 8895 00000AB4 00000000                   DATA FOR SOURCE-LINE 2043
 8896                                     ***** END-POOL *****
 8897 00000AB8                   2050     _AREACHK_0DIG_TO_180:
 8898                            2051             SUB_START
 8899 00000AB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8900                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8901                            2052     
 8902 00000ABA D006              2053             MOV.L   #_SET1_UPAREA_DIG1,R0
 8903 00000ABC 6101              2054             MOV.W   @R0,R1                  ;0度相当
 8904                            2055     
 8905 00000ABE D006              2056             MOV.L   #_INC_ENC360,R0         ;ｸﾗﾝｸ変換前角度
 8906 00000AC0 6201              2057             MOV.W   @R0,R2                  ;
 8907                            2058     
 8908 00000AC2 9305              2059             MOV.W   #_UPDN_DIRJG_DIG,R3     ;
 8909                            2060     
 8910                            2061             FAR_JSR #_DIG_AREA_CHK0,R0      ;R1<= R2 <= R3 THEN R0=1
 8911 00000AC4 D005                   M           MOV.L   #_DIG_AREA_CHK0,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8912 00000AC6 400B                   M           JSR     @R0                     ;
 8913 00000AC8 0009                   M           NOP                                     ;
 8914                            2062     
 8915                            2063     
 8916                            2064             SUB_END
 8917                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8918 00000ACA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8919                            2065             M_RTS
 8920 00000ACC 000B                   M           RTS                             ;RTSの後ろの
 8921 00000ACE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8922                            2066     
 8923                            2067     
 8924                            2068     ;       ***********************************
 8925                            2069     ;       ***                             ***
 8926                            2070     ;       ***     R2：移動距離            ***
 8927                            2071     ;       ***                             ***
 8928                            2072     ;       ***********************************
 8929                            2073     ;       ANS R0
 8930                            2074     ;       MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8931                            2075     ;       MOV.L   @R5,R4                                  ;
 8932                            2076     ;LINK_DIR_OBJMK3_400:                                   ;
 8933                            2077     ;       R2 ≦NEAR(1)  or  1REV-NEAR≦R2(-1)
 8934                            2078     ;       NEAR<R2<1REV-NEAR THEN R0=0
 8935                            2079     
 8936                                     ***** BEGIN-POOL *****
 8937 00000AD0 0708                       DATA FOR SOURCE-LINE 2059
 8938 00000AD2 0000                       ALIGNMENT CODE
 8939 00000AD4 00000000                   DATA FOR SOURCE-LINE 2053
 8940 00000AD8 00000000                   DATA FOR SOURCE-LINE 2056
 8941 00000ADC 00000000                   DATA FOR SOURCE-LINE 2061
 8942                                     ***** END-POOL *****
 8943 00000AE0                   2080             .ALIGN  4                               ;
 8944 00000AE0                   2081     _OBJ_NEAR_CHK1:
 8945                            2082             SUB_START
 8946 00000AE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8947                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    54
PROGRAM NAME =

 8948 00000AE2 200A              2083             XOR     R0,R0
 8949 00000AE4 D505              2084             MOV.L   #_SET1_OBJARA_INPXPLS,R5                ;
 8950 00000AE6 6451              2085             MOV.W   @R5,R4                                  ;
 8951 00000AE8 9507              2086             MOV.W   #D'100,R5                               ;min 100pls
 8952 00000AEA 3453              2087             CMP/GE  R5,R4                                   ;
 8953 00000AEC 8900              2088             BT      OBJ_NEAR_CK_030                         ;
 8954 00000AEE 6453              2089             MOV     R5,R4                                   ;
 8955 00000AF0                   2090     OBJ_NEAR_CK_030:                                        ;
 8956                            2091     
 8957 00000AF0 3247              2092             CMP/GT  R4,R2                                   ;
 8958 00000AF2 8905              2093             BT      OBJ_NEAR_CK_050                         ;R4 < R2 JUMP
 8959 00000AF4 E001              2094             MOV     #1,R0                                   ;R2≦R4
 8960                            2095             M_BRA   OBJ_NEAR_CK_EXT                         ;ﾆｱｾﾞﾛ幅
 8961 00000AF6 A009                   M           BRA     OBJ_NEAR_CK_EXT
 8962 00000AF8 0009                   M           NOP
 8963                            2096     
 8964                                     ***** BEGIN-POOL *****
 8965 00000AFA 0064                       DATA FOR SOURCE-LINE 2086
 8966 00000AFC 00000000                   DATA FOR SOURCE-LINE 2084
 8967                                     ***** END-POOL *****
 8968 00000B00                   2097     OBJ_NEAR_CK_050:
 8969 00000B00 D504              2098             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8970 00000B02 6552              2099             MOV.L   @R5,R5                                  ;
 8971 00000B04 3548              2100             SUB     R4,R5                                   ;
 8972 00000B06 3527              2101             CMP/GT  R2,R5                                   ;R2<R5(1ROT-)
 8973 00000B08 8900              2102             BT      OBJ_NEAR_CK_EXT                         ;
 8974 00000B0A E0FF              2103             MOV     #-1,R0                                  ;
 8975 00000B0C                   2104     OBJ_NEAR_CK_EXT:
 8976                            2105             SUB_END
 8977                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8978 00000B0C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8979                            2106             M_RTS
 8980 00000B0E 000B                   M           RTS                             ;RTSの後ろの
 8981 00000B10 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8982                            2107     
 8983                            2108     
 8984                            2109     
 8985                            2110     
 8986                            2111     ;       *******************************************
 8987                            2112     ;       ***     回転ﾊﾟﾙｽR1,R2+ｵﾌｾｯﾄR5,R6        ***
 8988                            2113     ;       ***     LIMIT MAX/MIN                   ***
 8989                            2114     ;       *******************************************
 8990                            2115     ;       Input R1,R2,R5,R6
 8991                            2116     ;       Output R1,R2
 8992                            2117     ;       Keep R5,R6
 8993                                     ***** BEGIN-POOL *****
 8994 00000B12 0000                       ALIGNMENT CODE
 8995 00000B14 00000000                   DATA FOR SOURCE-LINE 2098
 8996                                     ***** END-POOL *****
 8997 00000B18                   2118             .ALIGN  4                               ;
 8998 00000B18                   2119     _ADDR56_R12_ANS_R12_LIMIT_MAX_MIN:
 8999                            2120             SUB_START
 9000 00000B18 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9001                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9002                            2121             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2               ;
 9003 00000B1A 0008                   M           CLRT
 9004 00000B1C 326E                   M           ADDC    R6,R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    55
PROGRAM NAME =

 9005 00000B1E 315E                   M           ADDC    R5,R1
 9006                            2122             MAX_MIN8B       DT_REGH=R1,DT_REGL=R2,WKRG1=R0,WKRG2=R4,                ;
 9007                            2123     +                       MAX_H=_CALC_PLS_PMAX_H32,MAX_L=_CALC_PLS_PMAX_L32,      ;
 9008                            2124     +                       MIN_H=_CALC_PLS_MMIN_H32,MIN_L=_CALC_PLS_MMIN_L32       ;
 9009 00000B20 0008                   M           CLRT
 9010 00000B22 D00B                   M           MOV.L   #_CALC_PLS_PMAX_L32,R0
 9011 00000B24 302A                   M           SUBC    R2,R0           ;
 9012 00000B26 D00B                   M           MOV.L   #_CALC_PLS_PMAX_H32,R0
 9013 00000B28 301A                   M           SUBC    R1,R0           ;
 9014 00000B2A 4011                   M           CMP/PZ  R0                      ;
 9015 00000B2C 8901                   M           BT      JMP0100003                      ;DATA=<MAX
 9016 00000B2E D208                   M           MOV.L   #_CALC_PLS_PMAX_L32,R2  ;data >= max
 9017 00000B30 D108                   M           MOV.L   #_CALC_PLS_PMAX_H32,R1  ;LIMIT
 9018 00000B32                        M   JMP0100003                                      ;
 9019 00000B32 0008                   M           CLRT
 9020 00000B34 D008                   M           MOV.L   #_CALC_PLS_MMIN_L32,R0          ;
 9021 00000B36 302A                   M           SUBC    R2,R0           ;
 9022 00000B38 D408                   M           MOV.L   #_CALC_PLS_MMIN_H32,R4          ;
 9023 00000B3A 341A                   M           SUBC    R1,R4           ;
 9024 00000B3C 4415                   M           CMP/PL  R4                      ;
 9025 00000B3E 8B04                   M           BF      JMP0200003                      ;"-" R3 < 0 THEN OK!
 9026 00000B40 240B                   M           OR      R0,R4           ;
 9027 00000B42 2448                   M           TST     R4,R4           ;
 9028                                 M           TST_BIT_OF JMP0200003           ;
 9029 00000B44 8901                   M           BT      JMP0200003
 9030 00000B46 D204                   M           MOV.L   #_CALC_PLS_MMIN_L32,R2  ;data < min
 9031 00000B48 D104                   M           MOV.L   #_CALC_PLS_MMIN_H32,R1  ;LIMIT
 9032 00000B4A                        M   JMP0200003:
 9033                            2125             SUB_END
 9034                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9035 00000B4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9036                            2126             M_RTS
 9037 00000B4C 000B                   M           RTS                             ;RTSの後ろの
 9038 00000B4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9039                            2127     
 9040                            2128     
 9041                            2129     ;       ***********************************
 9042                            2130     ;       ***                             ***
 9043                            2131     ;       ***     最大正転値・最小値      ***
 9044                            2132     ;       ***                             ***
 9045                            2133     ;       ***********************************
 9046                            2134     ;       Input R0 BIT0=0正転 BIT0=1逆転
 9047                                     ***** BEGIN-POOL *****
 9048 00000B50 FFFFFFFF                   DATA FOR SOURCE-LINE 2122,2122
 9049 00000B54 3FFFFFFF                   DATA FOR SOURCE-LINE 2122,2122
 9050 00000B58 00000001                   DATA FOR SOURCE-LINE 2122,2122
 9051 00000B5C C0000000                   DATA FOR SOURCE-LINE 2122,2122
 9052                                     ***** END-POOL *****
 9053 00000B60                   2135             .ALIGN  4                               ;
 9054 00000B60                   2136     _LINK_P_M_MAX:
 9055                            2137             SUB_START
 9056 00000B60 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9057                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9058                            2138     
 9059 00000B62 D106              2139             MOV.L   #_CALC_PLS_PMAX_H32,R1  ;
 9060 00000B64 D206              2140             MOV.L   #_CALC_PLS_PMAX_L32,R2  ;
 9061                            2141     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    56
PROGRAM NAME =

 9062 00000B66 C801              2142             TST     #BIT0,R0                ;
 9063                            2143             TST_BIT_OF LINK_PM_MX50
 9064 00000B68 8901                   M           BT      LINK_PM_MX50
 9065 00000B6A D106              2144             MOV.L   #_CALC_PLS_MMIN_H32,R1  ;
 9066 00000B6C D206              2145             MOV.L   #_CALC_PLS_MMIN_L32,R2  ;
 9067                            2146     
 9068 00000B6E                   2147     LINK_PM_MX50:                   ;
 9069 00000B6E D407              2148             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
 9070 00000B70 2412              2149             MOV.L   R1,@R4                          ;
 9071 00000B72 1421              2150             MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
 9072                            2151             SUB_END
 9073                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9074 00000B74 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9075                            2152             M_RTS
 9076 00000B76 000B                   M           RTS                             ;RTSの後ろの
 9077 00000B78 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9078                            2153     
 9079                            2154     ;       ***************************************************
 9080                            2155     ;       ***                                             ***
 9081                            2156     ;       ***     はじめから待機点目標位置への位置決め    ***
 9082                            2157     ;       ***     2004-05-24(ﾒｲﾝ側での目標位置作成)       ***
 9083                            2158     ;       ***                                             ***
 9084                            2159     ;       ***************************************************
 9085                                     ***** BEGIN-POOL *****
 9086 00000B7A 0000                       ALIGNMENT CODE
 9087 00000B7C 3FFFFFFF                   DATA FOR SOURCE-LINE 2139
 9088 00000B80 FFFFFFFF                   DATA FOR SOURCE-LINE 2140
 9089 00000B84 C0000000                   DATA FOR SOURCE-LINE 2144
 9090 00000B88 00000001                   DATA FOR SOURCE-LINE 2145
 9091 00000B8C 00000000                   DATA FOR SOURCE-LINE 2148
 9092                                     ***** END-POOL *****
 9093 00000B90                   2160             .ALIGN  4                               ;
 9094 00000B90                   2161     _ORGIN_OBJ_POS_CTRL_ST1:                        ;
 9095                            2162             SUB_START
 9096 00000B90 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9097                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9098 00000B92 D109              2163             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
 9099 00000B94 900C              2164             MOV.W   #BIT0,R0                        ;
 9100 00000B96 2101              2165             MOV.W   R0,@R1                          ;
 9101                            2166     
 9102 00000B98 D108              2167             MOV.L   #_CB_SEQ_CB_COM346,R1           ;2004-07-01
 9103 00000B9A 6011              2168             MOV.W   @R1,R0                          ;
 9104 00000B9C 9109              2169             MOV.W   #BIT14,R1                       ;
 9105 00000B9E 2018              2170             TST     R1,R0                           ;
 9106                            2171             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_100     ;BIT14=0 自動判別
 9107 00000BA0 8910                   M           BT      ORGIN_OBJ_POS_CTLST1_100
 9108                            2172     
 9109 00000BA2 9107              2173             MOV.W   #BIT13,R1                       ;
 9110 00000BA4 2019              2174             AND     R1,R0
 9111                            2175             FAR_JSR #_LINK_DIR_OBJMAK3,R1           ;Input R0 R0==0/R0!=0(BIT13)
 9112 00000BA6 D106                   M           MOV.L   #_LINK_DIR_OBJMAK3,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9113 00000BA8 410B                   M           JSR     @R1                     ;
 9114 00000BAA 0009                   M           NOP                                     ;
 9115                            2176             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
 9116 00000BAC A01B                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
 9117 00000BAE 0009                   M           NOP
 9118                            2177     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    57
PROGRAM NAME =

 9119                            2178     
 9120                                     ***** BEGIN-POOL *****
 9121 00000BB0 0001                       DATA FOR SOURCE-LINE 2164
 9122 00000BB2 4000                       DATA FOR SOURCE-LINE 2169
 9123 00000BB4 2000                       DATA FOR SOURCE-LINE 2173
 9124 00000BB6 0000                       ALIGNMENT CODE
 9125 00000BB8 00000000                   DATA FOR SOURCE-LINE 2163
 9126 00000BBC 00000000                   DATA FOR SOURCE-LINE 2167
 9127 00000BC0 00000000                   DATA FOR SOURCE-LINE 2175
 9128                                     ***** END-POOL *****
 9129 00000BC4                   2179     ORGIN_OBJ_POS_CTLST1_100:
 9130                            2180     ;       --------- 2014-09-18-------------
 9131 00000BC4 D104              2181             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 9132 00000BC6 6011              2182             MOV.W   @R1,R0                          ;
 9133 00000BC8 C804              2183             TST     #(_DMATH_DNDRIV),R0             ;
 9134                            2184             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_150     ;ふりこ以外
 9135 00000BCA 8909                   M           BT      ORGIN_OBJ_POS_CTLST1_150
 9136                            2185     
 9137                            2186     ;       -------- ふりこ範囲確認--------------
 9138                            2187     ;       待機点+0~181までは右半球
 9139                            2188             FAR_JSR #_LINK_UPPLS_DNDRIV,R0          ;
 9140 00000BCC D003                   M           MOV.L   #_LINK_UPPLS_DNDRIV,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9141 00000BCE 400B                   M           JSR     @R0                     ;
 9142 00000BD0 0009                   M           NOP                                     ;
 9143                            2189             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
 9144 00000BD2 A008                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
 9145 00000BD4 0009                   M           NOP
 9146                            2190     
 9147                            2191     
 9148                            2192     
 9149                            2193     
 9150                                     ***** BEGIN-POOL *****
 9151 00000BD6 0000                       ALIGNMENT CODE
 9152 00000BD8 00000000                   DATA FOR SOURCE-LINE 2181
 9153 00000BDC 00000000                   DATA FOR SOURCE-LINE 2188
 9154                                     ***** END-POOL *****
 9155 00000BE0                   2194     ORGIN_OBJ_POS_CTLST1_150:
 9156                            2195             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;自動で方向判別(2004-05-24)
 9157 00000BE0 D005                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9158 00000BE2 400B                   M           JSR     @R0                     ;
 9159 00000BE4 0009                   M           NOP                                     ;
 9160 00000BE6                   2196     ORGIN_OBJ_POS_CTLST1_200:                       ;
 9161                            2197     
 9162                            2198     
 9163                            2199             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
 9164 00000BE6 D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9165 00000BE8 440B                   M           JSR     @R4                     ;
 9166 00000BEA 0009                   M           NOP                                     ;
 9167                            2200             FAR_JSR #_ORG_END_SIG_CLR,R0            ;206.4 OFF
 9168 00000BEC D004                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9169 00000BEE 400B                   M           JSR     @R0                     ;
 9170 00000BF0 0009                   M           NOP                                     ;
 9171                            2201     
 9172                            2202             SUB_END
 9173                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9174 00000BF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9175                            2203             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    58
PROGRAM NAME =

 9176 00000BF4 000B                   M           RTS                             ;RTSの後ろの
 9177 00000BF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9178                            2204     
 9179                                     ***** BEGIN-POOL *****
 9180 00000BF8 00000000                   DATA FOR SOURCE-LINE 2195
 9181 00000BFC 00000000                   DATA FOR SOURCE-LINE 2199
 9182 00000C00 00000000                   DATA FOR SOURCE-LINE 2200
 9183                                     ***** END-POOL *****
 9184 00000C04                   2205             .ALIGN  4                               ;
 9185 00000C04                   2206     _ORGIN_OBJ_POS_CTRL_ST2:                                ;
 9186                            2207             SUB_START
 9187 00000C04 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9188                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9189 00000C06 D105              2208             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
 9190 00000C08 6011              2209             MOV.W   @R1,R0                          ;
 9191 00000C0A C801              2210             TST     #BIT0,R0                        ;
 9192                            2211             TST_BIT_OF ORGIN_OBJ_POSCTLST2_EXT      ;(待機点位置決め中 NO! JUMP)
 9193 00000C0C 8903                   M           BT      ORGIN_OBJ_POSCTLST2_EXT
 9194                            2212     
 9195 00000C0E D104              2213             MOV.L   #_INT_DND_CTL_STEP,R1           ;
 9196 00000C10 6011              2214             MOV.W   @R1,R0                          ;
 9197 00000C12 CB02              2215             OR      #BIT1,R0                        ;
 9198 00000C14 2101              2216             MOV.W   R0,@R1                          ;
 9199                            2217     
 9200 00000C16                   2218     ORGIN_OBJ_POSCTLST2_EXT                         ;
 9201                            2219     
 9202                            2220             SUB_END
 9203                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9204 00000C16 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9205                            2221             M_RTS
 9206 00000C18 000B                   M           RTS                             ;RTSの後ろの
 9207 00000C1A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9208                            2222     
 9209                            2223     
 9210                            2224     
 9211                            2225     ;       ***************************************************
 9212                            2226     ;       ***                                             ***
 9213                            2227     ;       ***                                             ***
 9214                            2228     ;       ***                                             ***
 9215                            2229     ;       ***                                             ***
 9216                            2230     ;       ***             位置決め200usec割込             ***
 9217                            2231     ;       ***             1msecでも可能                   ***
 9218                            2232     ;       ***                                             ***
 9219                            2233     ;       ***                                             ***
 9220                            2234     ;       ***                                             ***
 9221                            2235     ;       ***                                             ***
 9222                            2236     ;       ***************************************************
 9223                            2237     ;       停止ﾀｲﾏの処理・多段全てを行う
 9224                            2238     ;       即停止状態
 9225                            2239     ;       ここではﾊﾟﾙｽの払出しﾊﾟﾙｽの積算は行う
 9226                            2240     ;       _INT_POS_CTL_FLAG
 9227                            2241     ;               0000,0000:IDEL()
 9228                            2242     ;                       BIT0:(INITAL完了)
 9229                            2243     ;                             BIT0=1で払いﾃﾞｰﾀ作成,起動中
 9230                            2244     ;                       BIT2:減速停止ﾗｯﾁ(払出停止待ち)
 9231                            2245     ;                       BIT3:急停止ﾗｯﾁ(払出停止待ち)
 9232                            2246     ;                       BIT4:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    59
PROGRAM NAME =

 9233                            2247     ;                       BIT6:位置決め完了(ﾆｱｾﾞﾛ)--->IDELへ
 9234                            2248     ;
 9235                            2249     ;       S2b     INT_POS_STEP_FLG(ｽﾃｯﾌﾟ,段取共通);
 9236                            2250     ;                               BIT0:1ｽﾃｯﾌﾟﾃﾞｰﾀ作成完了 :
 9237                            2251     ;                               BIT1:払い出し開始       :
 9238                            2252     ;                               BIT2:
 9239                            2253     ;                               BIT3:ﾀｲﾏ測定中
 9240                            2254     ;                               BIT4:完了
 9241                                     ***** BEGIN-POOL *****
 9242 00000C1C 00000000                   DATA FOR SOURCE-LINE 2208
 9243 00000C20 00000000                   DATA FOR SOURCE-LINE 2213
 9244                                     ***** END-POOL *****
 9245 00000C24                   2255             .ALIGN  4                               ;
 9246 00000C24                   2256     _INT_POS_CTRL:
 9247                            2257             SUB_START
 9248 00000C24 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9249                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9250                            2258     
 9251                            2259             FAR_JSR #_ERR_INFO_DT_IN0,R0    ;
 9252 00000C26 D006                   M           MOV.L   #_ERR_INFO_DT_IN0,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9253 00000C28 400B                   M           JSR     @R0                     ;
 9254 00000C2A 0009                   M           NOP                                     ;
 9255                            2260     
 9256                            2261     ;------------------　[2015-04-08]---------------
 9257                            2262             FAR_JSR #_ENDHAND_WAIT_TIMCNT,R0        ;
 9258 00000C2C D005                   M           MOV.L   #_ENDHAND_WAIT_TIMCNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9259 00000C2E 400B                   M           JSR     @R0                     ;
 9260 00000C30 0009                   M           NOP                                     ;
 9261                            2263     
 9262 00000C32 D105              2264             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 9263 00000C34 6011              2265             MOV.W   @R1,R0                  ;
 9264 00000C36 2008              2266             TST     R0,R0                   ;
 9265                            2267             TST_BIT_OF INT_POSCTL_CHK00     ;
 9266 00000C38 8908                   M           BT      INT_POSCTL_CHK00
 9267                            2268             M_BRA   INT_POSCTL_0910         ;
 9268 00000C3A A224                   M           BRA     INT_POSCTL_0910
 9269 00000C3C 0009                   M           NOP
 9270                            2269     
 9271                            2270     
 9272                                     ***** BEGIN-POOL *****
 9273 00000C3E 0000                       ALIGNMENT CODE
 9274 00000C40 00000000                   DATA FOR SOURCE-LINE 2259
 9275 00000C44 00000000                   DATA FOR SOURCE-LINE 2262
 9276 00000C48 00000000                   DATA FOR SOURCE-LINE 2264
 9277                                     ***** END-POOL *****
 9278 00000C4C                   2271     INT_POSCTL_CHK00:
 9279                            2272     
 9280                            2273     ;       ------- 2010-08-20[制動モード]
 9281 00000C4C D104              2274             MOV.L   #_BRKTST_MOD_FLG,R1     ;
 9282 00000C4E 6011              2275             MOV.W   @R1,R0                  ;
 9283 00000C50 C801              2276             TST     #BIT0,R0                ;
 9284                            2277             TST_BIT_OF INT_POSCTL_CHK10     ;
 9285 00000C52 8909                   M           BT      INT_POSCTL_CHK10
 9286                            2278     
 9287                            2279             FAR_JSR #_BRKTST_POS_CTL,R0     ;
 9288 00000C54 D003                   M           MOV.L   #_BRKTST_POS_CTL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9289 00000C56 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    60
PROGRAM NAME =

 9290 00000C58 0009                   M           NOP                                     ;
 9291                            2280     
 9292                            2281             M_BRA   INT_POSCTL_0910         ;
 9293 00000C5A A214                   M           BRA     INT_POSCTL_0910
 9294 00000C5C 0009                   M           NOP
 9295                            2282     
 9296                                     ***** BEGIN-POOL *****
 9297 00000C5E 0000                       ALIGNMENT CODE
 9298 00000C60 00000000                   DATA FOR SOURCE-LINE 2274
 9299 00000C64 00000000                   DATA FOR SOURCE-LINE 2279
 9300                                     ***** END-POOL *****
 9301 00000C68                   2283     INT_POSCTL_CHK10:
 9302                            2284     
 9303                            2285     
 9304                            2286     
 9305                            2287     
 9306                            2288     
 9307                            2289             FAR_JSR #_GAMEN_OVER_RIDE,R0            ;MAIN LOOP DATA 1 CHECK
 9308 00000C68 D00D                   M           MOV.L   #_GAMEN_OVER_RIDE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9309 00000C6A 400B                   M           JSR     @R0                     ;
 9310 00000C6C 0009                   M           NOP                                     ;
 9311                            2290             FAR_JSR #_OVER_LIDE_SEQREF,R0           ;SEQ       DATA 1 CHKEAK
 9312 00000C6E D00D                   M           MOV.L   #_OVER_LIDE_SEQREF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9313 00000C70 400B                   M           JSR     @R0                     ;
 9314 00000C72 0009                   M           NOP                                     ;
 9315                            2291             FAR_JSR #_SET_OVER_RIDE,R0              ;
 9316 00000C74 D00C                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9317 00000C76 400B                   M           JSR     @R0                     ;
 9318 00000C78 0009                   M           NOP                                     ;
 9319                            2292     
 9320                            2293     ;;      --------- 2006-10-16---
 9321                            2294     ;;      MOV.L   #_OVER_RIDE_USEFUL,R1
 9322                            2295     ;;      MOV.W   @R1,R0
 9323                            2296     ;;      TST     #BIT0,R0
 9324                            2297     ;;      TST_BIT_OF OVERRIDE_CHG050
 9325                            2298     ;;      FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;速度ﾘｱﾙﾀｲﾑ
 9326                            2299     ;;OVERRIDE_CHG050
 9327                            2300     
 9328                            2301     
 9329                            2302     
 9330                            2303     
 9331                            2304     ;       ------------------------------------------
 9332                            2305     ;       ------ 2010-10-07 ------------------------
 9333                            2306     ;       ------------------------------------------
 9334                            2307     ;       -----ふりこの場合待機点でのみ速度反映 ----
 9335                            2308             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
 9336 00000C7A D00C                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9337 00000C7C 400B                   M           JSR     @R0                     ;
 9338 00000C7E 0009                   M           NOP                                     ;
 9339 00000C80 2008              2309             TST     R0,R0                           ;
 9340                            2310             TST_BIT_ON OVERRIDE_CHG050              ;ふりこだ!
 9341 00000C82 8B06                   M           BF      OVERRIDE_CHG050
 9342                            2311     ;       ---------------------------------------
 9343                            2312     
 9344                            2313     
 9345 00000C84 D10A              2314             MOV.L   #_OVER_RIDE_USEFUL,R1
 9346 00000C86 6011              2315             MOV.W   @R1,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    61
PROGRAM NAME =

 9347 00000C88 C803              2316             TST     #(BIT1+BIT0),R0                 ;SEQ
 9348                            2317             TST_BIT_OF OVERRIDE_CHG050
 9349 00000C8A 8902                   M           BT      OVERRIDE_CHG050
 9350                            2318     
 9351                            2319             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
 9352 00000C8C D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9353 00000C8E 400B                   M           JSR     @R0                     ;
 9354 00000C90 0009                   M           NOP                                     ;
 9355                            2320     
 9356 00000C92                   2321     OVERRIDE_CHG050
 9357                            2322     
 9358                            2323     ;;;;;;;;;;;;;   2015-11-15 ちゃんとした場所で対応
 9359                            2324     ;;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
 9360                            2325     ;;;;;;;;;;;;;   MOV.L   #_MODE_SEL,R1                           ;
 9361                            2326     ;;;;;;;;;;;;;   MOV.W   @R1,R0                                  ;
 9362                            2327     ;;;;;;;;;;;;;   TST     #_W1INC+_W1SGL,R0                       ;
 9363                            2328     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;（段取でもある)
 9364                            2329     ;;;;;;;;;;;;;
 9365                            2330     ;;;;;;;;;;;;;   FAR_JSR #_API_ENDHAND_SIGCHK,R0                 ;
 9366                            2331     ;;;;;;;;;;;;;   TST     R0,R0
 9367                            2332     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;
 9368                            2333     ;;;;;;;;;;;;;   M_BRA   FORCE_STEPEND_HAND100                   ;
 9369                            2334     ;;;;;;;;;;;;;FORCE_STEPEND_HAND100EXT
 9370                            2335     
 9371                            2336     
 9372                            2337     
 9373 00000C92 D509              2338             MOV.L   #_INT_CYC_DRV_STS,R5            ;//BIT0:CYCLE　END()
 9374 00000C94 6051              2339             MOV.W   @R5,R0                          ;
 9375 00000C96 C840              2340             TST     #BIT6,R0                        ;位置決め完了?
 9376                            2341             TST_BIT_OF INT_POSCTL_0020              ;
 9377 00000C98 8910                   M           BT      INT_POSCTL_0020
 9378                            2342             M_BRA   INT_POSCTL_0700
 9379 00000C9A A1DB                   M           BRA     INT_POSCTL_0700
 9380 00000C9C 0009                   M           NOP
 9381                            2343     
 9382                                     ***** BEGIN-POOL *****
 9383 00000C9E 0000                       ALIGNMENT CODE
 9384 00000CA0 00000000                   DATA FOR SOURCE-LINE 2289
 9385 00000CA4 00000000                   DATA FOR SOURCE-LINE 2290
 9386 00000CA8 00000000                   DATA FOR SOURCE-LINE 2291
 9387 00000CAC 00000000                   DATA FOR SOURCE-LINE 2308
 9388 00000CB0 00000000                   DATA FOR SOURCE-LINE 2314
 9389 00000CB4 00000000                   DATA FOR SOURCE-LINE 2319
 9390 00000CB8 00000000                   DATA FOR SOURCE-LINE 2338
 9391                                     ***** END-POOL *****
 9392 00000CBC                   2344     INT_POSCTL_0020:
 9393 00000CBC D502              2345             MOV.L   #_INT_POS_CTL_FLAG,R5           ;
 9394 00000CBE 6051              2346             MOV.W   @R5,R0                          ;
 9395 00000CC0 C85C              2347             TST     #(BIT6+BIT4+BIT3+BIT2),R0       ;
 9396                            2348             TST_BIT_OF INT_POSCTL_0040              ;
 9397 00000CC2 8903                   M           BT      INT_POSCTL_0040
 9398                            2349             M_BRA   INT_POSCTL_0300                 ;
 9399 00000CC4 A196                   M           BRA     INT_POSCTL_0300
 9400 00000CC6 0009                   M           NOP
 9401                            2350     
 9402                                     ***** BEGIN-POOL *****
 9403 00000CC8 00000000                   DATA FOR SOURCE-LINE 2345
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    62
PROGRAM NAME =

 9404                                     ***** END-POOL *****
 9405 00000CCC                   2351     INT_POSCTL_0040:
 9406 00000CCC C801              2352             TST     #BIT0,R0                ;
 9407                            2353             TST_BIT_OF INT_POSCTL_0045      ;
 9408 00000CCE 8901                   M           BT      INT_POSCTL_0045
 9409                            2354             M_BRA   INT_POSCTL_0200 ;起動処理 BIT0
 9410 00000CD0 A10A                   M           BRA     INT_POSCTL_0200
 9411 00000CD2 0009                   M           NOP
 9412 00000CD4                   2355     INT_POSCTL_0045:
 9413                            2356     
 9414                            2357     ;       ===================
 9415 00000CD4 D603              2358             MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
 9416 00000CD6 6061              2359             MOV.W   @R6,R0                  ;
 9417 00000CD8 C907              2360             AND     #(BIT2+BIT1+BIT0),R0    ;
 9418 00000CDA 8801              2361             CMP/EQ  #BIT0,R0                ;
 9419 00000CDC 8904              2362             BT      INT_POSCTL_0048         ;001
 9420                            2363             M_BRA   INT_POSCTL_0190         ;EXIT
 9421 00000CDE A0E4                   M           BRA     INT_POSCTL_0190
 9422 00000CE0 0009                   M           NOP
 9423                            2364     ;       ==== 通常の位置決め起動コマンド状態
 9424                                     ***** BEGIN-POOL *****
 9425 00000CE2 0000                       ALIGNMENT CODE
 9426 00000CE4 00000000                   DATA FOR SOURCE-LINE 2358
 9427                                     ***** END-POOL *****
 9428 00000CE8                   2365     INT_POSCTL_0048:
 9429                            2366     
 9430 00000CE8 222A              2367             XOR     R2,R2
 9431 00000CEA D111              2368             MOV.L   #_INT_POS_STEP_FLG,R1   ;
 9432 00000CEC 2121              2369             MOV.W   R2,@R1                  ;
 9433 00000CEE D111              2370             MOV.L   #_INT_DND_CTL_STEP,R1;
 9434 00000CF0 2121              2371             MOV.W   R2,@R1
 9435 00000CF2 D111              2372             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
 9436 00000CF4 2121              2373             MOV.W   R2,@R1                  ;
 9437                            2374     
 9438                            2375     ;       ===========================
 9439 00000CF6 D111              2376             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
 9440 00000CF8 2121              2377             MOV.W   R2,@R1                          ;
 9441                            2378     ;       ===========================
 9442                            2379     
 9443                            2380     
 9444                            2381     ;       -------- 2014-09-26 寸動--------------
 9445 00000CFA D111              2382             MOV.L   #_INC_RESET_USE_F,R1    ;//STEPを参照して!
 9446 00000CFC 6011              2383             MOV.W   @R1,R0                  ;
 9447 00000CFE 2008              2384             TST     R0,R0                   ;
 9448                            2385             TST_BIT_OF INT_POSCTL_0080      ;
 9449 00000D00 8906                   M           BT      INT_POSCTL_0080
 9450                            2386     
 9451 00000D02 D110              2387             MOV.L   #_INC_RESET_STEP,R1     ;
 9452 00000D04 6411              2388             MOV.W   @R1,R4
 9453 00000D06 D110              2389             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
 9454 00000D08 2141              2390             MOV.W   R4,@R1                  ;
 9455                            2391     
 9456                            2392             FAR_JSR #_INC_RST_WORK_CLR,R0
 9457 00000D0A D010                   M           MOV.L   #_INC_RST_WORK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9458 00000D0C 400B                   M           JSR     @R0                     ;
 9459 00000D0E 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    63
PROGRAM NAME =

 9460                            2393     
 9461 00000D10                   2394     INT_POSCTL_0080
 9462                            2395     ;       ------ ﾓｰｼｮﾝ運転 --------
 9463 00000D10 D10D              2396             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
 9464 00000D12 6411              2397             MOV.W   @R1,R4                  ;
 9465 00000D14 D20E              2398             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
 9466 00000D16 2241              2399             MOV.W   R4,@R2                  ;
 9467                            2400     
 9468                            2401     
 9469                            2402     
 9470                            2403     
 9471                            2404     
 9472                            2405     
 9473                            2406     
 9474 00000D18                   2407     INT_POSCTL_0100:
 9475                            2408     ;       ===========================================
 9476                            2409     ;       ===             起動処理                ===
 9477                            2410     ;       ===========================================
 9478                            2411     ;;2002-09-05    FAR_JSR #_POS_LSI_START_INITAL,R0       ;
 9479                            2412     
 9480                            2413     ;       ----------- 2012-05-17 反転のタイマ継続処理CHK---------
 9481                            2414             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0                                     ;
 9482 00000D18 D00E                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9483 00000D1A 400B                   M           JSR     @R0                     ;
 9484 00000D1C 0009                   M           NOP                                     ;
 9485 00000D1E 2008              2415             TST     R0,R0                                                           ;
 9486                            2416             TST_BIT_OF INT_POSCTL_0102                                              ;
 9487 00000D20 891C                   M           BT      INT_POSCTL_0102
 9488                            2417             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;必要があ
                                          ればここでつじつまあわせ
 9489 00000D22 D10D                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 9490 00000D24 6011                   M           MOV.W   @R1,R0          ;
 9491 00000D26 CB01                   M           OR      #BIT0,R0                ;
 9492 00000D28 2101                   M           MOV.W   R0,@R1          ;
 9493                            2418             M_BRA   INT_POSCTL_0190                                                 ;
 9494 00000D2A A0BE                   M           BRA     INT_POSCTL_0190
 9495 00000D2C 0009                   M           NOP
 9496                                     ***** BEGIN-POOL *****
 9497 00000D2E 0000                       ALIGNMENT CODE
 9498 00000D30 00000000                   DATA FOR SOURCE-LINE 2368
 9499 00000D34 00000000                   DATA FOR SOURCE-LINE 2370
 9500 00000D38 00000000                   DATA FOR SOURCE-LINE 2372
 9501 00000D3C 00000000                   DATA FOR SOURCE-LINE 2376
 9502 00000D40 00000000                   DATA FOR SOURCE-LINE 2382
 9503 00000D44 00000000                   DATA FOR SOURCE-LINE 2387
 9504 00000D48 00000000                   DATA FOR SOURCE-LINE 2389,2396
 9505 00000D4C 00000000                   DATA FOR SOURCE-LINE 2392
 9506 00000D50 00000000                   DATA FOR SOURCE-LINE 2398
 9507 00000D54 00000000                   DATA FOR SOURCE-LINE 2414
 9508 00000D58 00000000                   DATA FOR SOURCE-LINE 2417
 9509                                     ***** END-POOL *****
 9510 00000D5C                   2419     INT_POSCTL_0102:
 9511                            2420     
 9512                            2421     
 9513                            2422     
 9514                            2423     
 9515 00000D5C D108              2424             MOV.L   #_MODE_SEL,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    64
PROGRAM NAME =

 9516 00000D5E 6011              2425             MOV.W   @R1,R0                          ;
 9517 00000D60 C860              2426             TST     #(_W1DUP+_W1DIC),R0             ;
 9518                            2427             TST_BIT_ON INT_POSCTL_0120              ;
 9519 00000D62 8B5B                   M           BF      INT_POSCTL_0120
 9520                            2428     
 9521                            2429     
 9522                            2430             .AIF    1 EQ 1
 9523 00000D64 D107              2431 C           MOV.L   #_START_FLG_AFTER_EMG,R1        ;???
 9524 00000D66 9009              2432 C           MOV.W   #1,R0                           ;
 9525 00000D68 2101              2433 C           MOV.W   R0,@R1                          ;
 9526                            2434             .AENDI
 9527                            2435     
 9528                            2436     
 9529                            2437     ;       -------------繰り返し 2014-09-22 ---------------
 9530 00000D6A D107              2438             MOV.L   #_MOT_REP_F,R1                          ;
 9531 00000D6C 6011              2439             MOV.W   @R1,R0                                  ;
 9532 00000D6E C801              2440             TST     #BIT0,R0                                ;
 9533                            2441             TST_BIT_OF INT_POSCTL_0102A                     ;
 9534 00000D70 890E                   M           BT      INT_POSCTL_0102A
 9535                            2442     
 9536                            2443     ;       -------- 繰り返しの待機点戻り工程--------------
 9537                            2444             FAR_JSR #_MOT_REPSTART_CALC,R0                  ;
 9538 00000D72 D006                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9539 00000D74 400B                   M           JSR     @R0                     ;
 9540 00000D76 0009                   M           NOP                                     ;
 9541                            2445             M_BRA   INT_POSCTL_0115
 9542 00000D78 A044                   M           BRA     INT_POSCTL_0115
 9543 00000D7A 0009                   M           NOP
 9544                            2446     
 9545                            2447     
 9546                                     ***** BEGIN-POOL *****
 9547 00000D7C 0001                       DATA FOR SOURCE-LINE 2432
 9548 00000D7E 0000                       ALIGNMENT CODE
 9549 00000D80 00000000                   DATA FOR SOURCE-LINE 2424
 9550 00000D84 00000000                   DATA FOR SOURCE-LINE 2431
 9551 00000D88 00000000                   DATA FOR SOURCE-LINE 2438
 9552 00000D8C 00000000                   DATA FOR SOURCE-LINE 2444
 9553                                     ***** END-POOL *****
 9554 00000D90                   2448     INT_POSCTL_0102A:
 9555                            2449     
 9556 00000D90 D00C              2450             MOV.L   #_CPOS_CTL_MATH,R0                      ;
 9557 00000D92 6001              2451             MOV.W   @R0,R0                                  ;
 9558 00000D94 C805              2452             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復[2011-03-23]
 9559                            2453             TST_BIT_OF INT_POSCTL_0110
 9560 00000D96 892F                   M           BT      INT_POSCTL_0110
 9561                            2454     ;       ===== 回転時の起動===
 9562                            2455             FAR_JSR #_HIST_INFO_DT_IN1,R0           ;起動前の目標停止位置
 9563 00000D98 D00B                   M           MOV.L   #_HIST_INFO_DT_IN1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9564 00000D9A 400B                   M           JSR     @R0                     ;
 9565 00000D9C 0009                   M           NOP                                     ;
 9566                            2456     
 9567                            2457             FAR_JSR #_POS_LSI_START_INITAL,R0       ;[本当にふりこはここを通していいのかな2011
                                          -03-23]
 9568 00000D9E D00B                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9569 00000DA0 400B                   M           JSR     @R0                     ;
 9570 00000DA2 0009                   M           NOP                                     ;
 9571                            2458     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    65
PROGRAM NAME =

 9572                            2459             FAR_JSR #_ERR_INFO_DT_CHK1,R0           ;POS_LSI_START_INITALでｸﾘｱされるﾃﾞｰﾀが0か
                                          ？
 9573 00000DA4 D00A                   M           MOV.L   #_ERR_INFO_DT_CHK1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9574 00000DA6 400B                   M           JSR     @R0                     ;
 9575 00000DA8 0009                   M           NOP                                     ;
 9576                            2460             FAR_JSR #_ERR_INFO_DT_IN1,R0            ;2004-01-28(今一)
 9577 00000DAA D00A                   M           MOV.L   #_ERR_INFO_DT_IN1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9578 00000DAC 400B                   M           JSR     @R0                     ;
 9579 00000DAE 0009                   M           NOP                                     ;
 9580                            2461     
 9581 00000DB0 D109              2462             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
 9582 00000DB2 6011              2463             MOV.W   @R1,R0                          ;
 9583 00000DB4 C801              2464             TST     #BIT0,R0                        ;
 9584                            2465             TST_BIT_ON INT_POSCTL_0103              ;上死停止有り
 9585 00000DB6 8B13                   M           BF      INT_POSCTL_0103
 9586                            2466     
 9587                            2467             FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<停止からの起動か実ﾊﾟﾙｽ
                                          から>
 9588 00000DB8 D008                   M           MOV.L   #_POS_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9589 00000DBA 400B                   M           JSR     @R0                     ;
 9590 00000DBC 0009                   M           NOP                                     ;
 9591                            2468     
 9592                            2469             M_BRA   INT_POSCTL_0105
 9593 00000DBE A012                   M           BRA     INT_POSCTL_0105
 9594 00000DC0 0009                   M           NOP
 9595                                     ***** BEGIN-POOL *****
 9596 00000DC2 0000                       ALIGNMENT CODE
 9597 00000DC4 00000000                   DATA FOR SOURCE-LINE 2450
 9598 00000DC8 00000000                   DATA FOR SOURCE-LINE 2455
 9599 00000DCC 00000000                   DATA FOR SOURCE-LINE 2457
 9600 00000DD0 00000000                   DATA FOR SOURCE-LINE 2459
 9601 00000DD4 00000000                   DATA FOR SOURCE-LINE 2460
 9602 00000DD8 00000000                   DATA FOR SOURCE-LINE 2462
 9603 00000DDC 00000000                   DATA FOR SOURCE-LINE 2467
 9604                                     ***** END-POOL *****
 9605 00000DE0                   2470     INT_POSCTL_0103:                                ;上死停止なし
 9606                            2471             FAR_JSR #_POS_CNT_BANK_DTMAK1,R0        ;これは必ずSVから演算(2004-12-20)もう１回
                                          転先になる
 9607 00000DE0 D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9608 00000DE2 400B                   M           JSR     @R0                     ;
 9609 00000DE4 0009                   M           NOP                                     ;
 9610                            2472     
 9611 00000DE6                   2473     INT_POSCTL_0105:
 9612                            2474     
 9613                            2475             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-28(data-smp-only)
 9614 00000DE6 D003                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9615 00000DE8 400B                   M           JSR     @R0                     ;
 9616 00000DEA 0009                   M           NOP                                     ;
 9617                            2476             M_BRA   INT_POSCTL_0115                 ;
 9618 00000DEC A00A                   M           BRA     INT_POSCTL_0115
 9619 00000DEE 0009                   M           NOP
 9620                            2477     
 9621                                     ***** BEGIN-POOL *****
 9622 00000DF0 00000000                   DATA FOR SOURCE-LINE 2471
 9623 00000DF4 00000000                   DATA FOR SOURCE-LINE 2475
 9624                                     ***** END-POOL *****
 9625 00000DF8                   2478     INT_POSCTL_0110:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    66
PROGRAM NAME =

 9626                            2479     ;       ===== 反転時の起動===
 9627                            2480             FAR_JSR #_POS_LSI_START_INITL2,R0       ;
 9628 00000DF8 D005                   M           MOV.L   #_POS_LSI_START_INITL2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9629 00000DFA 400B                   M           JSR     @R0                     ;
 9630 00000DFC 0009                   M           NOP                                     ;
 9631                            2481             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0      ;目標位置に対して少しパルスを減らす 2011-0
                                          2-19
 9632 00000DFE D005                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9633 00000E00 400B                   M           JSR     @R0                     ;
 9634 00000E02 0009                   M           NOP                                     ;
 9635                            2482     
 9636                            2483     
 9637 00000E04                   2484     INT_POSCTL_0115:
 9638                            2485             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12
 9639 00000E04 D004                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9640 00000E06 400B                   M           JSR     @R0                     ;
 9641 00000E08 0009                   M           NOP                                     ;
 9642                            2486             M_BRA   INT_POSCTL_0140                 ;
 9643 00000E0A A029                   M           BRA     INT_POSCTL_0140
 9644 00000E0C 0009                   M           NOP
 9645                            2487     
 9646                            2488     
 9647                            2489     ;       ------------段取、原点復帰、手動パルサ
 9648                                     ***** BEGIN-POOL *****
 9649 00000E0E 0000                       ALIGNMENT CODE
 9650 00000E10 00000000                   DATA FOR SOURCE-LINE 2480
 9651 00000E14 00000000                   DATA FOR SOURCE-LINE 2481
 9652 00000E18 00000000                   DATA FOR SOURCE-LINE 2485
 9653                                     ***** END-POOL *****
 9654 00000E1C                   2490     INT_POSCTL_0120:                                ;
 9655                            2491     ;       ---------- 2006-07-28------
 9656 00000E1C D108              2492             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
 9657 00000E1E 6011              2493             MOV.W   @R1,R0                          ;
 9658 00000E20 2008              2494             TST     R0,R0                           ;
 9659                            2495             TST_BIT_OF INT_POSCTL_0130              ;
 9660 00000E22 8917                   M           BT      INT_POSCTL_0130
 9661                            2496     ;;;;;   FAR_JSR #_POS_LSI_START_INITAL,R0       ;手動パルサ
 9662                            2497             FAR_JSR #_POS_LSI_START_INITAL_TEP,R0   ;2013-06-13
 9663 00000E24 D007                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9664 00000E26 400B                   M           JSR     @R0                     ;
 9665 00000E28 0009                   M           NOP                                     ;
 9666 00000E2A D107              2498             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
 9667 00000E2C 6212              2499             MOV.L   @R1,R2                          ;
 9668                            2500             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
 9669 00000E2E D107                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9670 00000E30 410B                   M           JSR     @R1                     ;
 9671 00000E32 0009                   M           NOP                                     ;
 9672                            2501             FAR_JSR #_TEP_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
 9673 00000E34 D006                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9674 00000E36 400B                   M           JSR     @R0                     ;
 9675 00000E38 0009                   M           NOP                                     ;
 9676                            2502             M_BRA   INT_POSCTL_0140                 ;
 9677 00000E3A A011                   M           BRA     INT_POSCTL_0140
 9678 00000E3C 0009                   M           NOP
 9679                            2503     
 9680                                     ***** BEGIN-POOL *****
 9681 00000E3E 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    67
PROGRAM NAME =

 9682 00000E40 00000000                   DATA FOR SOURCE-LINE 2492
 9683 00000E44 00000000                   DATA FOR SOURCE-LINE 2497
 9684 00000E48 00000000                   DATA FOR SOURCE-LINE 2498
 9685 00000E4C 00000000                   DATA FOR SOURCE-LINE 2500
 9686 00000E50 00000000                   DATA FOR SOURCE-LINE 2501
 9687                                     ***** END-POOL *****
 9688 00000E54                   2504     INT_POSCTL_0130:                                ;
 9689                            2505             FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
 9690 00000E54 D016                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9691 00000E56 400B                   M           JSR     @R0                     ;
 9692 00000E58 0009                   M           NOP                                     ;
 9693                            2506             FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
 9694 00000E5A D016                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9695 00000E5C 400B                   M           JSR     @R0                     ;
 9696 00000E5E 0009                   M           NOP                                     ;
 9697                            2507     
 9698                            2508     
 9699 00000E60                   2509     INT_POSCTL_0140:                                ;
 9700                            2510             FAR_JSR #_POS_LENGTH_ADD_DATA,R0
 9701 00000E60 D015                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9702 00000E62 400B                   M           JSR     @R0                     ;
 9703 00000E64 0009                   M           NOP                                     ;
 9704                            2511             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
 9705 00000E66 D015                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9706 00000E68 400B                   M           JSR     @R0                     ;
 9707 00000E6A 0009                   M           NOP                                     ;
 9708                            2512     
 9709                            2513     ;;;;;   FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
 9710                            2514             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
 9711 00000E6C D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9712 00000E6E 400B                   M           JSR     @R0                     ;
 9713 00000E70 0009                   M           NOP                                     ;
 9714                            2515     
 9715                            2516     ;       == 2004-03 ===
 9716                            2517             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
 9717 00000E72 D014                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9718 00000E74 400B                   M           JSR     @R0                     ;
 9719 00000E76 0009                   M           NOP                                     ;
 9720 00000E78 9019              2518             MOV.W   #D'2,R0                 ;
 9721 00000E7A D113              2519             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
 9722 00000E7C 2101              2520             MOV.W   R0,@R1                          ;
 9723                            2521     
 9724                            2522             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
 9725 00000E7E D013                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9726 00000E80 400B                   M           JSR     @R0                     ;
 9727 00000E82 0009                   M           NOP                                     ;
 9728                            2523             FAR_JSR #_FWD_REV_START,R1              ;起動
 9729 00000E84 D112                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9730 00000E86 410B                   M           JSR     @R1                     ;
 9731 00000E88 0009                   M           NOP                                     ;
 9732                            2524     
 9733                            2525     ;       -------- 2010-09-27 ふりこ情報--------
 9734                            2526             FAR_JSR #_DNM_START_ACC_CALC,R0
 9735 00000E8A D012                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9736 00000E8C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    68
PROGRAM NAME =

 9737 00000E8E 0009                   M           NOP                                     ;
 9738                            2527     
 9739                            2528             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
 9740 00000E90 D111                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 9741 00000E92 6011                   M           MOV.W   @R1,R0          ;
 9742 00000E94 CB01                   M           OR      #BIT0,R0                ;
 9743 00000E96 2101                   M           MOV.W   R0,@R1          ;
 9744                            2529     
 9745                            2530             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
 9746 00000E98 D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9747 00000E9A 400B                   M           JSR     @R0                     ;
 9748 00000E9C 0009                   M           NOP                                     ;
 9749                            2531     
 9750                            2532             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
 9751 00000E9E D010                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9752 00000EA0 400B                   M           JSR     @R0                     ;
 9753 00000EA2 0009                   M           NOP                                     ;
 9754                            2533     
 9755                            2534     ;       ---------------- 起動 2011-09-01 -------------------
 9756                            2535             FAR_JSR #_UP_ACCERR_START_INI,R0
 9757 00000EA4 D00F                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9758 00000EA6 400B                   M           JSR     @R0                     ;
 9759 00000EA8 0009                   M           NOP                                     ;
 9760                            2536     
 9761 00000EAA                   2537     INT_POSCTL_0190:
 9762                            2538             M_BRA   INT_POSCTL_0800                 ;
 9763 00000EAA A0DC                   M           BRA     INT_POSCTL_0800
 9764 00000EAC 0009                   M           NOP
 9765                            2539     
 9766                                     ***** BEGIN-POOL *****
 9767 00000EAE 0002                       DATA FOR SOURCE-LINE 2518
 9768 00000EB0 00000000                   DATA FOR SOURCE-LINE 2505
 9769 00000EB4 00000000                   DATA FOR SOURCE-LINE 2506
 9770 00000EB8 00000000                   DATA FOR SOURCE-LINE 2510
 9771 00000EBC 00000000                   DATA FOR SOURCE-LINE 2511
 9772 00000EC0 00000000                   DATA FOR SOURCE-LINE 2514
 9773 00000EC4 00000000                   DATA FOR SOURCE-LINE 2517
 9774 00000EC8 00000000                   DATA FOR SOURCE-LINE 2519
 9775 00000ECC 00000000                   DATA FOR SOURCE-LINE 2522
 9776 00000ED0 00000000                   DATA FOR SOURCE-LINE 2523
 9777 00000ED4 00000000                   DATA FOR SOURCE-LINE 2526
 9778 00000ED8 00000000                   DATA FOR SOURCE-LINE 2528
 9779 00000EDC 00000000                   DATA FOR SOURCE-LINE 2530
 9780 00000EE0 00000000                   DATA FOR SOURCE-LINE 2532
 9781 00000EE4 00000000                   DATA FOR SOURCE-LINE 2535
 9782                                     ***** END-POOL *****
 9783 00000EE8                   2540     INT_POSCTL_0200:
 9784                            2541     ;       ===========================================
 9785                            2542     ;       ===                                     ===
 9786                            2543     ;       ===             起動中                  ===
 9787                            2544     ;       ===                                     ===
 9788                            2545     ;       ===========================================
 9789 00000EE8 D609              2546             MOV.L   #_MNWR_POS_CMD,R6                                               ;
 9790 00000EEA 6061              2547             MOV.W   @R6,R0                                                          ;
 9791 00000EEC 2008              2548             TST     R0,R0                                                           ;ﾊﾟﾙｽ払出
                                          即停止
 9792                            2549             TST_BIT_ON INT_POSCTL_0220                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    69
PROGRAM NAME =

 9793 00000EEE 8B19                   M           BF      INT_POSCTL_0220
 9794                            2550             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
 9795 00000EF0 D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 9796 00000EF2 6011                   M           MOV.W   @R1,R0          ;
 9797 00000EF4 CB08                   M           OR      #BIT3,R0                ;
 9798 00000EF6 2101                   M           MOV.W   R0,@R1          ;
 9799                            2551             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
 9800 00000EF8 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9801 00000EFA 400B                   M           JSR     @R0                     ;
 9802 00000EFC 0009                   M           NOP                                     ;
 9803                            2552             FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
 9804 00000EFE D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9805 00000F00 400B                   M           JSR     @R0                     ;
 9806 00000F02 0009                   M           NOP                                     ;
 9807                            2553             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
 9808 00000F04 D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9809 00000F06 400B                   M           JSR     @R0                     ;
 9810 00000F08 0009                   M           NOP                                     ;
 9811                            2554             M_BRA   INT_POSCTL_0800                                                 ;
 9812 00000F0A A0AC                   M           BRA     INT_POSCTL_0800
 9813 00000F0C 0009                   M           NOP
 9814                            2555     
 9815                                     ***** BEGIN-POOL *****
 9816 00000F0E 0000                       ALIGNMENT CODE
 9817 00000F10 00000000                   DATA FOR SOURCE-LINE 2546
 9818 00000F14 00000000                   DATA FOR SOURCE-LINE 2550
 9819 00000F18 00000000                   DATA FOR SOURCE-LINE 2551
 9820 00000F1C 00000000                   DATA FOR SOURCE-LINE 2552
 9821 00000F20 00000000                   DATA FOR SOURCE-LINE 2553
 9822                                     ***** END-POOL *****
 9823 00000F24                   2556     INT_POSCTL_0220:                                                                ;
 9824 00000F24 C802              2557             TST     #BIT1,R0                                                        ;減速停止ｺ
                                          ﾏﾝﾄﾞ
 9825                            2558             TST_BIT_OF INT_POSCTL_0240                                              ;
 9826 00000F26 8917                   M           BT      INT_POSCTL_0240
 9827                            2559             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT2,WKREG=R1    ;
 9828 00000F28 D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 9829 00000F2A 6011                   M           MOV.W   @R1,R0          ;
 9830 00000F2C CB04                   M           OR      #BIT2,R0                ;
 9831 00000F2E 2101                   M           MOV.W   R0,@R1          ;
 9832                            2560             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
 9833 00000F30 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9834 00000F32 400B                   M           JSR     @R0                     ;
 9835 00000F34 0009                   M           NOP                                     ;
 9836                            2561             FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
 9837 00000F36 D006                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9838 00000F38 400B                   M           JSR     @R0                     ;
 9839 00000F3A 0009                   M           NOP                                     ;
 9840                            2562             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
 9841 00000F3C D005                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9842 00000F3E 400B                   M           JSR     @R0                     ;
 9843 00000F40 0009                   M           NOP                                     ;
 9844                            2563             M_BRA   INT_POSCTL_0800                                                 ;
 9845 00000F42 A090                   M           BRA     INT_POSCTL_0800
 9846 00000F44 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    70
PROGRAM NAME =

 9847                            2564     
 9848                                     ***** BEGIN-POOL *****
 9849 00000F46 0000                       ALIGNMENT CODE
 9850 00000F48 00000000                   DATA FOR SOURCE-LINE 2559
 9851 00000F4C 00000000                   DATA FOR SOURCE-LINE 2560
 9852 00000F50 00000000                   DATA FOR SOURCE-LINE 2561
 9853 00000F54 00000000                   DATA FOR SOURCE-LINE 2562
 9854                                     ***** END-POOL *****
 9855 00000F58                   2565     INT_POSCTL_0240:
 9856                            2566     ;       ==========(位置決め完了・継続) ==========
 9857 00000F58 D109              2567             MOV.L   #_INT_POS_STEP_FLG,R1                                           ;//ｽﾃｯﾌﾟ,
                                          段取り共通
 9858 00000F5A 6011              2568             MOV.W   @R1,R0                                                          ;
 9859 00000F5C C840              2569             TST     #BIT6,R0                                                        ;工程終了
 9860                            2570             TST_BIT_OF INT_POSCTL_0250                                              ;
 9861 00000F5E 8919                   M           BT      INT_POSCTL_0250
 9862                            2571             FAR_JSR #_CYC_END_POS_FLG_SET,R0                                        ;
 9863 00000F60 D008                   M           MOV.L   #_CYC_END_POS_FLG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9864 00000F62 400B                   M           JSR     @R0                     ;
 9865 00000F64 0009                   M           NOP                                     ;
 9866                            2572             FAR_JSR #_CYC_END_POS_FLG_CLR,R0                                        ;
 9867 00000F66 D008                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9868 00000F68 400B                   M           JSR     @R0                     ;
 9869 00000F6A 0009                   M           NOP                                     ;
 9870                            2573     
 9871                            2574              .AIF   1 EQ 1  ;
 9872                            2575 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9873                            2576              .AENDI
 9874                            2577     ;       ---------2016-06-13[3]
 9875                            2578             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
 9876 00000F6C D007                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9877 00000F6E 400B                   M           JSR     @R0                     ;
 9878 00000F70 0009                   M           NOP                                     ;
 9879                            2579     
 9880                            2580             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
 9881 00000F72 D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 9882 00000F74 6011                   M           MOV.W   @R1,R0          ;
 9883 00000F76 CB40                   M           OR      #BIT6,R0                ;
 9884 00000F78 2101                   M           MOV.W   R0,@R1          ;
 9885                            2581             M_BRA   INT_POSCTL_0800                                                 ;
 9886 00000F7A A074                   M           BRA     INT_POSCTL_0800
 9887 00000F7C 0009                   M           NOP
 9888                            2582     
 9889                            2583     
 9890                                     ***** BEGIN-POOL *****
 9891 00000F7E 0000                       ALIGNMENT CODE
 9892 00000F80 00000000                   DATA FOR SOURCE-LINE 2567
 9893 00000F84 00000000                   DATA FOR SOURCE-LINE 2571
 9894 00000F88 00000000                   DATA FOR SOURCE-LINE 2572
 9895 00000F8C 00000000                   DATA FOR SOURCE-LINE 2578
 9896 00000F90 00000000                   DATA FOR SOURCE-LINE 2580
 9897                                     ***** END-POOL *****
 9898 00000F94                   2584     INT_POSCTL_0250:
 9899 00000F94 D105              2585             MOV.L   #_MODE_SEL,R1                   ;
 9900 00000F96 6011              2586             MOV.W   @R1,R0                          ;
 9901 00000F98 C820              2587             TST     #_W1DIC,R0                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    71
PROGRAM NAME =

 9902                            2588             TST_BIT_ON INT_POSCTL_0260              ;段取
 9903 00000F9A 8B0B                   M           BF      INT_POSCTL_0260
 9904                            2589     
 9905 00000F9C C840              2590             TST     #_W1DUP,R0                      ;
 9906                            2591             TST_BIT_ON INT_POSCTL_0260              ;待機点復帰
 9907 00000F9E 8B09                   M           BF      INT_POSCTL_0260
 9908                            2592     
 9909                            2593     
 9910                            2594             FAR_JSR #_POS_ALL_STEP_CTRL,R0          ;ﾓｰｼｮﾝ
 9911 00000FA0 D003                   M           MOV.L   #_POS_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9912 00000FA2 400B                   M           JSR     @R0                     ;
 9913 00000FA4 0009                   M           NOP                                     ;
 9914                            2595     
 9915                            2596             M_BRA   INT_POSCTL_0280                 ;
 9916 00000FA6 A008                   M           BRA     INT_POSCTL_0280
 9917 00000FA8 0009                   M           NOP
 9918                            2597     
 9919                                     ***** BEGIN-POOL *****
 9920 00000FAA 0000                       ALIGNMENT CODE
 9921 00000FAC 00000000                   DATA FOR SOURCE-LINE 2585
 9922 00000FB0 00000000                   DATA FOR SOURCE-LINE 2594
 9923                                     ***** END-POOL *****
 9924 00000FB4                   2598     INT_POSCTL_0260:                                ;
 9925                            2599             FAR_JSR #_DND_ALL_STEP_CTRL,R0          ;(((((((((((段取毎スキャン)))))))))))))))
 9926 00000FB4 D00A                   M           MOV.L   #_DND_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9927 00000FB6 400B                   M           JSR     @R0                     ;
 9928 00000FB8 0009                   M           NOP                                     ;
 9929 00000FBA                   2600     INT_POSCTL_0280:
 9930                            2601             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
 9931 00000FBA D00A                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9932 00000FBC 400B                   M           JSR     @R0                     ;
 9933 00000FBE 0009                   M           NOP                                     ;
 9934                            2602     
 9935                            2603     ;       === FLAG SET(REST-PLS REFLASH-END)====
 9936                            2604             eSHi_SET_IM_MOV DST=_SH4_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
 9937                                 M           PUSH_REG1 R1            ;
 9938 00000FC0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 9939                                 M                                           ;REG=>[SP]
 9940                                 M                                           ;"-4" FF,FF,FF,FC
 9941                                 M           PUSH_REG1 R0            ;
 9942 00000FC2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 9943                                 M                                           ;REG=>[SP]
 9944                                 M                                           ;"-4" FF,FF,FF,FC
 9945 00000FC4 900B                   M           MOV.W   #1,R0           ;
 9946 00000FC6 D108                   M           MOV.L   #_SH4_REST_RL_HF,R1             ;
 9947 00000FC8 2101                   M           MOV.W   R0,@R1  ;
 9948                                 M           POP_REG1 R0             ;
 9949                                 M                                   ; RE"+4" 00,00,00,04
 9950 00000FCA 60F6                   M           MOV.L   @R15+,R0        ;
 9951                                 M           POP_REG1 R1             ;
 9952                                 M                                   ; RE"+4" 00,00,00,04
 9953 00000FCC 61F6                   M           MOV.L   @R15+,R1        ;
 9954                            2605     
 9955                            2606     
 9956                            2607     ;       === 2004-01-28===
 9957                            2608             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
 9958 00000FCE D007                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    72
PROGRAM NAME =

 9959 00000FD0 400B                   M           JSR     @R0                     ;
 9960 00000FD2 0009                   M           NOP                                     ;
 9961                            2609             FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
 9962 00000FD4 D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9963 00000FD6 400B                   M           JSR     @R0                     ;
 9964 00000FD8 0009                   M           NOP                                     ;
 9965                            2610     
 9966                            2611             .AIF 0  EQ 1    ;2006-09-19
 9967                            2612             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
 9968                            2613             .AENDI
 9969                            2614     
 9970                            2615             M_BRA   INT_POSCTL_0800
 9971 00000FDA A044                   M           BRA     INT_POSCTL_0800
 9972 00000FDC 0009                   M           NOP
 9973                            2616     
 9974                            2617     
 9975                            2618     ;       ***************************************************
 9976                            2619     ;       ***             終わりへ向かう状態              ***
 9977                            2620     ;       ***************************************************
 9978                                     ***** BEGIN-POOL *****
 9979 00000FDE 0001                       DATA FOR SOURCE-LINE 2604
 9980 00000FE0 00000000                   DATA FOR SOURCE-LINE 2599
 9981 00000FE4 00000000                   DATA FOR SOURCE-LINE 2601
 9982 00000FE8 00000000                   DATA FOR SOURCE-LINE 2604
 9983 00000FEC 00000000                   DATA FOR SOURCE-LINE 2608
 9984 00000FF0 00000000                   DATA FOR SOURCE-LINE 2609
 9985                                     ***** END-POOL *****
 9986 00000FF4                   2621     INT_POSCTL_0300:
 9987 00000FF4 C840              2622             TST     #BIT6,R0                        ;
 9988                            2623             TST_BIT_ON INT_POSCTL_0700              ;(位置決め完了状態)起動指令OFF待ち
 9989 00000FF6 8B2D                   M           BF      INT_POSCTL_0700
 9990 00000FF8 C808              2624             TST     #BIT3,R0                        ;
 9991                            2625             TST_BIT_ON INT_POSCTL_0500              ;急停止の払出待ち
 9992 00000FFA 8B1B                   M           BF      INT_POSCTL_0500
 9993 00000FFC C804              2626             TST     #BIT2,R0                        ;
 9994                            2627             TST_BIT_ON INT_POSCTL_0320              ;減速停止の払出待ち
 9995 00000FFE 8B01                   M           BF      INT_POSCTL_0320
 9996                            2628             M_BRA   INT_POSCTL_0900                 ;ｱｲﾄﾞﾙ
 9997 00001000 A032                   M           BRA     INT_POSCTL_0900
 9998 00001002 0009                   M           NOP
 9999                            2629     
10000 00001004                   2630     INT_POSCTL_0320:
10001                            2631     ;       ===========================================
10002                            2632     ;       ===             減速停止中              ===
10003                            2633     ;       ===========================================
10004 00001004 D607              2634             MOV.L   #_MNWR_POS_CMD,R6               ;
10005 00001006 6061              2635             MOV.W   @R6,R0                          ;
10006 00001008 2008              2636             TST     R0,R0                           ;ﾊﾟﾙｽ払出即停止
10007                            2637             TST_BIT_ON INT_POSCTL_0500              ;
10008 0000100A 8B13                   M           BF      INT_POSCTL_0500
10009                            2638             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;起動信号一定時間ONしたらOFF:但し払い出し
                                          中が立つ
10010 0000100C D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10011 0000100E 400B                   M           JSR     @R0                     ;
10012 00001010 0009                   M           NOP                                     ;
10013                            2639             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
10014 00001012 D006                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    73
PROGRAM NAME =

10015 00001014 400B                   M           JSR     @R0                     ;
10016 00001016 0009                   M           NOP                                     ;
10017                            2640             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;急停止へ
10018 00001018 D105                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10019 0000101A 6011                   M           MOV.W   @R1,R0          ;
10020 0000101C CB08                   M           OR      #BIT3,R0                ;
10021 0000101E 2101                   M           MOV.W   R0,@R1          ;
10022                            2641             M_BRA   INT_POSCTL_0800                 ;
10023 00001020 A021                   M           BRA     INT_POSCTL_0800
10024 00001022 0009                   M           NOP
10025                            2642     
10026                            2643     ;       ===========================================
10027                            2644     ;       ===             急停止中                ===
10028                            2645     ;       ===========================================
10029                                     ***** BEGIN-POOL *****
10030 00001024 00000000                   DATA FOR SOURCE-LINE 2634
10031 00001028 00000000                   DATA FOR SOURCE-LINE 2638
10032 0000102C 00000000                   DATA FOR SOURCE-LINE 2639
10033 00001030 00000000                   DATA FOR SOURCE-LINE 2640
10034                                     ***** END-POOL *****
10035 00001034                   2646     INT_POSCTL_0500:
10036                            2647             FAR_JSR #_LOD_POS_STS_REG_SLOW,R1       ;
10037 00001034 D105                   M           MOV.L   #_LOD_POS_STS_REG_SLOW,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10038 00001036 410B                   M           JSR     @R1                     ;
10039 00001038 0009                   M           NOP                                     ;
10040 0000103A C804              2648             TST     #BIT2,R0                        ;停止?
10041                            2649             TST_BIT_OF INT_POSCTL_0800              ;
10042 0000103C 8913                   M           BT      INT_POSCTL_0800
10043                            2650             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
10044 0000103E D104                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10045 00001040 6011                   M           MOV.W   @R1,R0          ;
10046 00001042 CB40                   M           OR      #BIT6,R0                ;
10047 00001044 2101                   M           MOV.W   R0,@R1          ;
10048                            2651             M_BRA   INT_POSCTL_0800         ;
10049 00001046 A00E                   M           BRA     INT_POSCTL_0800
10050 00001048 0009                   M           NOP
10051                            2652     
10052                            2653     
10053                            2654     
10054                            2655     ;       ===========================================
10055                            2656     ;       ===             位置決め完了待ち        ===
10056                            2657     ;       ===========================================
10057                                     ***** BEGIN-POOL *****
10058 0000104A 0000                       ALIGNMENT CODE
10059 0000104C 00000000                   DATA FOR SOURCE-LINE 2647
10060 00001050 00000000                   DATA FOR SOURCE-LINE 2650
10061                                     ***** END-POOL *****
10062 00001054                   2658     INT_POSCTL_0700:                                        ;
10063 00001054 D512              2659             MOV.L   #_INT_CYC_DRV_STS,R5    ;//BIT0:CYCLE　END()
10064 00001056 6051              2660             MOV.W   @R5,R0                  ;
10065 00001058 C840              2661             TST     #BIT6,R0                ;
10066                            2662             TST_BIT_ON INT_POSCTL_0900      ;
10067 0000105A 8B05                   M           BF      INT_POSCTL_0900
10068 0000105C CB40              2663             OR      #BIT6,R0                ;
10069 0000105E 2501              2664             MOV.W   R0,@R5                  ;位置決め完了SET
10070                            2665     ;       ===========================     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    74
PROGRAM NAME =

10071                            2666     ;       ===     運転終了        ===     ;
10072                            2667     ;       ===========================     ;
10073                            2668             FAR_JSR #_INT_POS_CTL_END,R0    ;
10074 00001060 D010                   M           MOV.L   #_INT_POS_CTL_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10075 00001062 400B                   M           JSR     @R0                     ;
10076 00001064 0009                   M           NOP                                     ;
10077 00001066                   2669     INT_POSCTL_0800:
10078 00001066 0009              2670             NOP
10079 00001068                   2671     INT_POSCTL_0900:
10080                            2672             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG1,W    ,_POS_CALC_ERR_INF1,W,R1,R2,R3
                                          ;
10081 00001068 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1
10082 0000106A 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10083 0000106C D30F                   M           MOV.L   #_POS_CALC_ERR_INF1,R3  ;DST_ADR
10084 0000106E 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10085                            2673             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG2,W    ,_POS_CALC_ERR_INF2,W,R1,R2,R3
                                          ;
10086 00001070 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1
10087 00001072 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10088 00001074 D30F                   M           MOV.L   #_POS_CALC_ERR_INF2,R3  ;DST_ADR
10089 00001076 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10090                            2674             MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_FLG1,W ,_POS_LSI_ACS_ERR_INF1,W,R1,R2,R3
                                          ;
10091 00001078 D10F                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1
10092 0000107A 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10093 0000107C D30F                   M           MOV.L   #_POS_LSI_ACS_ERR_INF1,R3       ;DST_ADR
10094 0000107E 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10095                            2675     
10096                            2676     
10097                            2677     
10098                            2678             FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[S01m 2003-04-03]
10099 00001080 D00F                   M           MOV.L   #_POS_OVER_RUN_CHK1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10100 00001082 400B                   M           JSR     @R0                     ;
10101 00001084 0009                   M           NOP                                     ;
10102                            2679     
10103 00001086                   2680     INT_POSCTL_0910:
10104                            2681     
10105                            2682     
10106                            2683     ;;;2011-09-14移動[ﾌﾞﾚｰｷﾃｽﾄ中はｵｰﾊﾞﾗﾝを見ない]   FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[
                                          S01m 2003-04-03]
10107                            2684     
10108                            2685     
10109                            2686     
10110                            2687     
10111                            2688             FAR_JSR #_ERR_STOP_MOV_CHK,R0           ;FLG=R0
10112 00001086 D00F                   M           MOV.L   #_ERR_STOP_MOV_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10113 00001088 400B                   M           JSR     @R0                     ;
10114 0000108A 0009                   M           NOP                                     ;
10115 0000108C 2008              2689             TST     R0,R0                           ;
10116                            2690             TST_BIT_ON INT_POSCTL_0920              ;
10117 0000108E 8B1D                   M           BF      INT_POSCTL_0920
10118                            2691             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT1),WKRG1=R1,WKRG2=R4
10119 00001090 D10D                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
10120 00001092 6011                   M           MOV.W   @R1,R0          ;
10121 00001094 9403                   M           MOV.W   #LWORD (~BIT1),R4       ;
10122 00001096 2049                   M           AND     R4,R0           ;
10123 00001098 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    75
PROGRAM NAME =

10124                            2692             M_BRA   INT_POSCTL_0950                 ;
10125 0000109A A01C                   M           BRA     INT_POSCTL_0950
10126 0000109C 0009                   M           NOP
10127                                     ***** BEGIN-POOL *****
10128 0000109E FFFD                       DATA FOR SOURCE-LINE 2691
10129 000010A0 00000000                   DATA FOR SOURCE-LINE 2659
10130 000010A4 00000000                   DATA FOR SOURCE-LINE 2668
10131 000010A8 00000000                   DATA FOR SOURCE-LINE 2672
10132 000010AC 00000000                   DATA FOR SOURCE-LINE 2672
10133 000010B0 00000000                   DATA FOR SOURCE-LINE 2673
10134 000010B4 00000000                   DATA FOR SOURCE-LINE 2673
10135 000010B8 00000000                   DATA FOR SOURCE-LINE 2674
10136 000010BC 00000000                   DATA FOR SOURCE-LINE 2674
10137 000010C0 00000000                   DATA FOR SOURCE-LINE 2678
10138 000010C4 00000000                   DATA FOR SOURCE-LINE 2688
10139 000010C8 00000000                   DATA FOR SOURCE-LINE 2691
10140                                     ***** END-POOL *****
10141 000010CC                   2693     INT_POSCTL_0920:
10142                            2694             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4
10143 000010CC D115                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
10144 000010CE 6011                   M           MOV.W   @R1,R0          ;
10145 000010D0 9426                   M           MOV.W   #(BIT1),R4              ;
10146 000010D2 204B                   M           OR      R4,R0           ;
10147 000010D4 2101                   M           MOV.W   R0,@R1          ;
10148 000010D6                   2695     INT_POSCTL_0950:
10149                            2696     
10150                            2697     ;       ------ 2006-09-19 -------
10151                            2698             FAR_JSR #_MONI_SEINOU_CMP_OUTPUT,R0                     ;制御(_SH_POSCTL_RL_ABSPLS
                                          )を使用している注意
10152 000010D6 D014                   M           MOV.L   #_MONI_SEINOU_CMP_OUTPUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10153 000010D8 400B                   M           JSR     @R0                     ;
10154 000010DA 0009                   M           NOP                                     ;
10155                            2699             FAR_JSR #_RL_POS_DATA_CHK,R0                            ;
10156 000010DC D013                   M           MOV.L   #_RL_POS_DATA_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10157 000010DE 400B                   M           JSR     @R0                     ;
10158 000010E0 0009                   M           NOP                                     ;
10159                            2700     
10160                            2701             FAR_JSR #_CNT_HOSEI_CHK_CALC,R0                         ;
10161 000010E2 D013                   M           MOV.L   #_CNT_HOSEI_CHK_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10162 000010E4 400B                   M           JSR     @R0                     ;
10163 000010E6 0009                   M           NOP                                     ;
10164                            2702     
10165                            2703     ;       ----------------------------------------------
10166                            2704             FAR_JSR #_PLS_LSI_CTRL,R0                       ;
10167 000010E8 D012                   M           MOV.L   #_PLS_LSI_CTRL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10168 000010EA 400B                   M           JSR     @R0                     ;
10169 000010EC 0009                   M           NOP                                     ;
10170                            2705     
10171                            2706     
10172                            2707     ;       ------2012-05-15---------------
10173 000010EE D112              2708             MOV.L   #_DURING_TIM_FX,R1              ;ﾓﾆﾀ
10174 000010F0 6211              2709             MOV.W   @R1,R2                          ;
10175 000010F2 622C              2710             EXTU.B  R2,R2                           ;
10176                            2711     
10177 000010F4 D111              2712             MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
10178 000010F6 6011              2713             MOV.W   @R1,R0                          ;
10179 000010F8 4018              2714             SHLL8   R0                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    76
PROGRAM NAME =

10180 000010FA 220B              2715             OR      R0,R2                           ;
10181                            2716     
10182 000010FC D110              2717             MOV.L   #_SQ_CBWK_TOP+_WKSQCB231,R1     ;
10183 000010FE 2121              2718             MOV.W   R2,@R1                          ;
10184                            2719     
10185                            2720     ;       ------2012-10-01---------------
10186 00001100 D110              2721             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
10187 00001102 6211              2722             MOV.W   @R1,R2                          ;
10188 00001104 622C              2723             EXTU.B  R2,R2                           ;
10189                            2724     
10190 00001106 D110              2725             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
10191 00001108 6011              2726             MOV.W   @R1,R0                          ;
10192 0000110A 4018              2727             SHLL8   R0                              ;
10193 0000110C 220B              2728             OR      R0,R2                           ;
10194                            2729     
10195 0000110E D10F              2730             MOV.L   #_SQ_CBWK_TOP+_WKSQCB232,R1     ;
10196 00001110 2121              2731             MOV.W   R2,@R1                          ;
10197                            2732     
10198                            2733     
10199                            2734     ;----------2013-08-20
10200 00001112 D10F              2735             MOV.L   #_POSCTL_STEP_FLG,R1            ;
10201 00001114 6211              2736             MOV.W   @R1,R2                          ;
10202 00001116 D10F              2737             MOV.L   #_SQ_CBWK_TOP+_WKSQCB233,R1     ;
10203 00001118 2121              2738             MOV.W   R2,@R1                          ;
10204                            2739     
10205                            2740     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+0,R1
10206                            2741     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
10207                            2742     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB234,R1     ;
10208                            2743     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
10209                            2744     ;;;;;;;;;;;;;;;;;;;2015-07-07
10210                            2745     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+2,R1
10211                            2746     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
10212                            2747     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB235,R1     ;
10213                            2748     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
10214                            2749     
10215                            2750     
10216                            2751     
10217                            2752             SUB_END
10218                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10219 0000111A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10220                            2753             M_RTS
10221 0000111C 000B                   M           RTS                             ;RTSの後ろの
10222 0000111E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10223                            2754     
10224                            2755     ;       ***********************************
10225                            2756     ;       ***                             ***
10226                            2757     ;       ***     INT                     ***
10227                            2758     ;       ***                             ***
10228                            2759     ;       ***********************************
10229                                     ***** BEGIN-POOL *****
10230 00001120 0002                       DATA FOR SOURCE-LINE 2694
10231 00001122 0000                       ALIGNMENT CODE
10232 00001124 00000000                   DATA FOR SOURCE-LINE 2694
10233 00001128 00000000                   DATA FOR SOURCE-LINE 2698
10234 0000112C 00000000                   DATA FOR SOURCE-LINE 2699
10235 00001130 00000000                   DATA FOR SOURCE-LINE 2701
10236 00001134 00000000                   DATA FOR SOURCE-LINE 2704
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    77
PROGRAM NAME =

10237 00001138 00000000                   DATA FOR SOURCE-LINE 2708
10238 0000113C 00000000                   DATA FOR SOURCE-LINE 2712
10239 00001140 00000000                   DATA FOR SOURCE-LINE 2717
10240 00001144 00000000                   DATA FOR SOURCE-LINE 2721
10241 00001148 00000000                   DATA FOR SOURCE-LINE 2725
10242 0000114C 00000000                   DATA FOR SOURCE-LINE 2730
10243 00001150 00000000                   DATA FOR SOURCE-LINE 2735
10244 00001154 00000000                   DATA FOR SOURCE-LINE 2737
10245                                     ***** END-POOL *****
10246 00001158                   2760             .ALIGN  4                               ;
10247 00001158                   2761     _INT_POS_CTL_END:
10248                            2762             SUB_START
10249 00001158 4F22                   M           STS.L   PR,@-R15                ;[必要]
10250                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10251 0000115A 200A              2763             XOR     R0,R0
10252 0000115C D10D              2764             MOV.L   #_INT_POS_CTL_FLAG,R1;
10253 0000115E 2101              2765             MOV.W   R0,@R1
10254 00001160 D10D              2766             MOV.L   #_INT_POS_STEP_FLG,R1;
10255 00001162 2101              2767             MOV.W   R0,@R1
10256 00001164 D10D              2768             MOV.L   #_INT_POS_CTL_STEP,R1;
10257 00001166 2101              2769             MOV.W   R0,@R1
10258                            2770     ;       ===========================
10259 00001168 D10D              2771             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
10260 0000116A 2101              2772             MOV.W   R0,@R1                          ;
10261                            2773     ;       ===========================
10262                            2774     
10263 0000116C D10D              2775             MOV.L   #_INT_DND_CTL_STEP,R1;
10264 0000116E 2101              2776             MOV.W   R0,@R1
10265 00001170 D10D              2777             MOV.L   #_INT_DND_STEP_FLG,R1;
10266 00001172 2101              2778             MOV.W   R0,@R1
10267                            2779     
10268 00001174 D10D              2780             MOV.L   #_LNGTH_ADD_DATA,R1;[2];//符号付き
10269 00001176 2102              2781             MOV.L   R0,@R1
10270 00001178 1101              2782             MOV.L   R0,@(4,R1)
10271                            2783     
10272 0000117A D10D              2784             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1;[2];//符号つき TOTAL=TOTAL+ADD ADD_DATA<=0
10273 0000117C 2102              2785             MOV.L   R0,@R1
10274 0000117E 1101              2786             MOV.L   R0,@(4,R1)
10275                            2787     
10276 00001180 D10C              2788             MOV.L   #_POSLSI_CMP_DATA,R1;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
10277 00001182 2102              2789             MOV.L   R0,@R1
10278                            2790     
10279 00001184 D10C              2791             MOV.L   #_POSLSI_DELT_POS,R1;//変化分
10280 00001186 2102              2792             MOV.L   R0,@R1
10281                            2793     
10282 00001188 D10C              2794             MOV.L   #_OUTPLS_MOD,R1         ;
10283 0000118A 2102              2795             MOV.L   R0,@R1                  ;
10284                            2796             SUB_END
10285                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10286 0000118C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10287                            2797             M_RTS
10288 0000118E 000B                   M           RTS                             ;RTSの後ろの
10289 00001190 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10290                            2798     
10291                            2799     
10292                            2800     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    78
PROGRAM NAME =

10293                            2801     
10294                            2802     ;       ***********************************
10295                            2803     ;       ***                             ***
10296                            2804     ;       ***     移動距離と速度          ***
10297                            2805     ;       ***                             ***
10298                            2806     ;       ***********************************
10299                                     ***** BEGIN-POOL *****
10300 00001192 0000                       ALIGNMENT CODE
10301 00001194 00000000                   DATA FOR SOURCE-LINE 2764
10302 00001198 00000000                   DATA FOR SOURCE-LINE 2766
10303 0000119C 00000000                   DATA FOR SOURCE-LINE 2768
10304 000011A0 00000000                   DATA FOR SOURCE-LINE 2771
10305 000011A4 00000000                   DATA FOR SOURCE-LINE 2775
10306 000011A8 00000000                   DATA FOR SOURCE-LINE 2777
10307 000011AC 00000000                   DATA FOR SOURCE-LINE 2780
10308 000011B0 00000000                   DATA FOR SOURCE-LINE 2784
10309 000011B4 00000000                   DATA FOR SOURCE-LINE 2788
10310 000011B8 00000000                   DATA FOR SOURCE-LINE 2791
10311 000011BC 00000000                   DATA FOR SOURCE-LINE 2794
10312                                     ***** END-POOL *****
10313 000011C0                   2807             .ALIGN  4
10314 000011C0                   2808     _POS_1STEP_DATA_MAK1:
10315                            2809             SUB_START
10316 000011C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10317                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10318                            2810             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;DUMMY CALL
10319 000011C2 D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10320 000011C4 400B                   M           JSR     @R0                     ;
10321 000011C6 0009                   M           NOP                                     ;
10322                            2811     
10323 000011C8 D211              2812             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
10324 000011CA 6021              2813             MOV.W   @R2,R0                          ;
10325 000011CC 70FF              2814             ADD     #-1,R0                          ;
10326 000011CE 4008              2815             SHLL2   R0                              ;
10327 000011D0 D410              2816             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
10328 000011D2 024E              2817             MOV.L   @(R0,R4),R2                     ;
10329 000011D4 D110              2818             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10330 000011D6 2122              2819             MOV.L   R2,@R1                          ;
10331                            2820     
10332                            2821     
10333                            2822             PUSH_REG1       R0
10334 000011D8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10335                                 M                                           ;REG=>[SP]
10336                                 M                                           ;"-4" FF,FF,FF,FC
10337                            2823             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10338 000011DA D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10339 000011DC 410B                   M           JSR     @R1                     ;
10340 000011DE 0009                   M           NOP                                     ;
10341                            2824             POP_REG1        R0                      ;R0=*4
10342                                 M                                   ; RE"+4" 00,00,00,04
10343 000011E0 60F6                   M           MOV.L   @R15+,R0        ;
10344 000011E2 4000              2825             SHLL    R0                              ;*2
10345 000011E4 D40E              2826             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
10346 000011E6 340C              2827             ADD     R0,R4                   ;
10347 000011E8 6146              2828             MOV.L   @R4+,R1                 ;
10348 000011EA 6242              2829             MOV.L   @R4,R2                  ;(目標位置)
10349                            2830             FAR_JSR #_LENGH_ADD_CALC,R0     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    79
PROGRAM NAME =

10350 000011EC D00D                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10351 000011EE 400B                   M           JSR     @R0                     ;
10352 000011F0 0009                   M           NOP                                     ;
10353                            2831     
10354 000011F2 233A              2832             XOR     R3,R3                   ;
10355 000011F4 4111              2833             CMP/PZ  R1                      ;+正転?
10356 000011F6 8900              2834             BT      POS_1STEP_DATMK1_050    ;
10357 000011F8 E301              2835             MOV     #BIT0,R3                ;
10358 000011FA                   2836     POS_1STEP_DATMK1_050:
10359 000011FA D10B              2837             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
10360 000011FC 6011              2838             MOV.W   @R1,R0                  ;
10361 000011FE C9FE              2839             AND     #LOW ~BIT0,R0           ;
10362 00001200 203B              2840             OR      R3,R0                   ;
10363 00001202 2101              2841             MOV.W   R0,@R1                  ;
10364                            2842             SUB_END
10365                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10366 00001204 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10367                            2843             M_RTS
10368 00001206 000B                   M           RTS                             ;RTSの後ろの
10369 00001208 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10370                            2844     
10371                            2845     
10372                            2846     ;       ***********************************
10373                            2847     ;       ***                             ***
10374                            2848     ;       ***     移動距離と速度          ***
10375                            2849     ;       ***     反転用                  ***
10376                            2850     ;       ***     2011-02-19              ***
10377                            2851     ;       ***                             ***
10378                            2852     ;       ***********************************
10379                            2853     ;
10380                            2854     ;       ・上昇のときはBEFOREしない
10381                            2855     ;       ・
10382                            2856     
10383                                     ***** BEGIN-POOL *****
10384 0000120A 0000                       ALIGNMENT CODE
10385 0000120C 00000000                   DATA FOR SOURCE-LINE 2810
10386 00001210 00000000                   DATA FOR SOURCE-LINE 2812
10387 00001214 00000000                   DATA FOR SOURCE-LINE 2816
10388 00001218 00000000                   DATA FOR SOURCE-LINE 2818
10389 0000121C 00000000                   DATA FOR SOURCE-LINE 2823
10390 00001220 00000000                   DATA FOR SOURCE-LINE 2826
10391 00001224 00000000                   DATA FOR SOURCE-LINE 2830
10392 00001228 00000000                   DATA FOR SOURCE-LINE 2837
10393                                     ***** END-POOL *****
10394 0000122C                   2857             .ALIGN  4
10395 0000122C                   2858     _POS_1STEP_DATA_MAK1CL:
10396                            2859             SUB_START
10397 0000122C 4F22                   M           STS.L   PR,@-R15                ;[必要]
10398                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10399                            2860     ;----------------------------------------
10400                            2861             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;
10401 0000122E D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10402 00001230 400B                   M           JSR     @R0                     ;
10403 00001232 0009                   M           NOP                                     ;
10404                            2862     
10405 00001234 D20F              2863             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
10406 00001236 6021              2864             MOV.W   @R2,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    80
PROGRAM NAME =

10407 00001238 70FF              2865             ADD     #-1,R0                          ;
10408 0000123A 4008              2866             SHLL2   R0                              ;
10409 0000123C D40E              2867             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
10410 0000123E 024E              2868             MOV.L   @(R0,R4),R2                     ;
10411 00001240 D10E              2869             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10412 00001242 2122              2870             MOV.L   R2,@R1                          ;
10413                            2871     
10414                            2872     
10415                            2873             PUSH_REG1       R0
10416 00001244 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10417                                 M                                           ;REG=>[SP]
10418                                 M                                           ;"-4" FF,FF,FF,FC
10419                            2874             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10420 00001246 D10E                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10421 00001248 410B                   M           JSR     @R1                     ;
10422 0000124A 0009                   M           NOP                                     ;
10423                            2875             POP_REG1        R0                      ;R0=*4
10424                                 M                                   ; RE"+4" 00,00,00,04
10425 0000124C 60F6                   M           MOV.L   @R15+,R0        ;
10426                            2876     
10427                            2877             PUSH_REG1 R0                            ;2012-10-05
10428 0000124E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10429                                 M                                           ;REG=>[SP]
10430                                 M                                           ;"-4" FF,FF,FF,FC
10431                            2878     
10432 00001250 4000              2879             SHLL    R0                              ;*2
10433 00001252 D40C              2880             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
10434 00001254 340C              2881             ADD     R0,R4                           ;
10435 00001256 6146              2882             MOV.L   @R4+,R1                         ;
10436 00001258 6242              2883             MOV.L   @R4,R2                          ;(目標位置)
10437                            2884     
10438                            2885             POP_REG1 R0                             ;2012-10-05
10439                                 M                                   ; RE"+4" 00,00,00,04
10440 0000125A 60F6                   M           MOV.L   @R15+,R0        ;
10441                            2886     
10442                            2887     
10443                            2888     ;       --------------------
10444 0000125C D40A              2889             MOV.L   #_CPOS_SDAT1_INF1,R4            ;
10445 0000125E 340C              2890             ADD     R0,R4                           ;
10446 00001260 6042              2891             MOV.L   @R4,R0                          ;
10447 00001262 C802              2892             TST     #BIT1,R0                        ;
10448                            2893             TST_BIT_OF POS_1STEP_DATMK1CL_020       ;正
10449 00001264 8914                   M           BT      POS_1STEP_DATMK1CL_020
10450                            2894     
10451                            2895     ;       ------------逆転[手前減速位置演算をしない]-------------
10452 00001266 D409              2896             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
10453 00001268 2412              2897             MOV.L   R1,@R4                          ;
10454 0000126A 1421              2898             MOV.L   R2,@(4,R4)                      ;save
10455                            2899             M_BRA   POS_1STEP_DATMK1CL_040          ;
10456 0000126C A013                   M           BRA     POS_1STEP_DATMK1CL_040
10457 0000126E 0009                   M           NOP
10458                            2900     
10459                                     ***** BEGIN-POOL *****
10460 00001270 00000000                   DATA FOR SOURCE-LINE 2861
10461 00001274 00000000                   DATA FOR SOURCE-LINE 2863
10462 00001278 00000000                   DATA FOR SOURCE-LINE 2867
10463 0000127C 00000000                   DATA FOR SOURCE-LINE 2869
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    81
PROGRAM NAME =

10464 00001280 00000000                   DATA FOR SOURCE-LINE 2874
10465 00001284 00000000                   DATA FOR SOURCE-LINE 2880
10466 00001288 00000000                   DATA FOR SOURCE-LINE 2889
10467 0000128C 00000000                   DATA FOR SOURCE-LINE 2896
10468                                     ***** END-POOL *****
10469 00001290                   2901     POS_1STEP_DATMK1CL_020:
10470                            2902     ;       ============== input R1,R2 ===============
10471                            2903             FAR_JSR #_FUL_BEFOR_CALC,R0             ;[引いた結果が前段や待機点より小さくなる場
                                          合はそれより引かない]
10472 00001290 D008                   M           MOV.L   #_FUL_BEFOR_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10473 00001292 400B                   M           JSR     @R0                     ;
10474 00001294 0009                   M           NOP                                     ;
10475                            2904     ;       ============== output R1,R2  =============
10476 00001296                   2905     POS_1STEP_DATMK1CL_040:
10477                            2906     
10478                            2907     
10479                            2908     
10480                            2909             FAR_JSR #_LENGH_ADD_CALC,R0             ;
10481 00001296 D008                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10482 00001298 400B                   M           JSR     @R0                     ;
10483 0000129A 0009                   M           NOP                                     ;
10484                            2910     
10485 0000129C 233A              2911             XOR     R3,R3                           ;
10486 0000129E 4111              2912             CMP/PZ  R1                              ;+正転?
10487 000012A0 8900              2913             BT      POS_1STEP_DATMK1CL_050          ;
10488 000012A2 E301              2914             MOV     #BIT0,R3                        ;
10489 000012A4                   2915     POS_1STEP_DATMK1CL_050:
10490 000012A4 D105              2916             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
10491 000012A6 6011              2917             MOV.W   @R1,R0                          ;
10492 000012A8 C9FE              2918             AND     #LOW ~BIT0,R0                   ;
10493 000012AA 203B              2919             OR      R3,R0                           ;
10494 000012AC 2101              2920             MOV.W   R0,@R1                          ;
10495                            2921     ;       ----------------------------------------
10496                            2922             SUB_END
10497                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10498 000012AE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10499                            2923             M_RTS
10500 000012B0 000B                   M           RTS                             ;RTSの後ろの
10501 000012B2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10502                            2924     
10503                            2925     ;       *******************************************
10504                            2926     ;       ***     input R1,R2 /Output R1,R2       ***
10505                            2927     ;       *******************************************
10506                                     ***** BEGIN-POOL *****
10507 000012B4 00000000                   DATA FOR SOURCE-LINE 2903
10508 000012B8 00000000                   DATA FOR SOURCE-LINE 2909
10509 000012BC 00000000                   DATA FOR SOURCE-LINE 2916
10510                                     ***** END-POOL *****
10511 000012C0                   2928             .ALIGN  4                               ;
10512 000012C0                   2929     _FUL_BEFOR_CALC:
10513                            2930             SUB_START
10514 000012C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10515                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10516                            2931             PUSH_REG1 R0
10517 000012C2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10518                                 M                                           ;REG=>[SP]
10519                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    82
PROGRAM NAME =

10520                            2932             PUSH_REG1 R3
10521 000012C4 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
10522                                 M                                           ;REG=>[SP]
10523                                 M                                           ;"-4" FF,FF,FF,FC
10524                            2933             PUSH_REG1 R4
10525 000012C6 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
10526                                 M                                           ;REG=>[SP]
10527                                 M                                           ;"-4" FF,FF,FF,FC
10528                            2934             PUSH_REG1 R5
10529 000012C8 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
10530                                 M                                           ;REG=>[SP]
10531                                 M                                           ;"-4" FF,FF,FF,FC
10532                            2935             PUSH_REG1 R6
10533 000012CA 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
10534                                 M                                           ;REG=>[SP]
10535                                 M                                           ;"-4" FF,FF,FF,FC
10536                            2936     
10537 000012CC D508              2937             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
10538 000012CE 2512              2938             MOV.L   R1,@R5                                  ;
10539 000012D0 1521              2939             MOV.L   R2,@(4,R5)                              ;save
10540                            2940     
10541 000012D2 D408              2941             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
10542 000012D4 6642              2942             MOV.L   @R4,R6                          ;
10543 000012D6 255A              2943             XOR     R5,R5                           ;
10544 000012D8 2668              2944             TST     R6,R6                           ;
10545                            2945             TST_BIT_OF FUL_BEFOR_CAL500             ;
10546 000012DA 8914                   M           BT      FUL_BEFOR_CAL500
10547                            2946     
10548 000012DC D306              2947             MOV.L   #_INT_POS_CTL_STEP,R3           ;//内部制御工程1~11
10549 000012DE 6031              2948             MOV.W   @R3,R0                          ;
10550 000012E0 D306              2949             MOV.L   #_CPOS_STEP_MAX,R3              ;
10551 000012E2 6431              2950             MOV.W   @R3,R4                          ;
10552 000012E4 7401              2951             ADD     #1,R4                           ;
10553 000012E6 3040              2952             CMP/EQ  R4,R0                           ;
10554 000012E8 8B0A              2953             BF      FUL_BEFOR_CAL100                ;（この論理では戻り工程は１つだけになる）
10555                            2954             M_BRA   FUL_BEFOR_CAL500                ;戻り工程は演算しない
10556 000012EA A00C                   M           BRA     FUL_BEFOR_CAL500
10557 000012EC 0009                   M           NOP
10558                            2955     
10559                                     ***** BEGIN-POOL *****
10560 000012EE 0000                       ALIGNMENT CODE
10561 000012F0 00000000                   DATA FOR SOURCE-LINE 2937
10562 000012F4 00000000                   DATA FOR SOURCE-LINE 2941
10563 000012F8 00000000                   DATA FOR SOURCE-LINE 2947
10564 000012FC 00000000                   DATA FOR SOURCE-LINE 2949
10565                                     ***** END-POOL *****
10566 00001300                   2956     FUL_BEFOR_CAL100:
10567                            2957     
10568                            2958             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
10569 00001300 0008                   M           CLRT
10570 00001302 326A                   M           SUBC    R6,R2
10571 00001304 315A                   M           SUBC    R5,R1
10572                            2959     
10573 00001306                   2960     FUL_BEFOR_CAL500:
10574                            2961             POP_REG1 R6
10575                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    83
PROGRAM NAME =

10576 00001306 66F6                   M           MOV.L   @R15+,R6        ;
10577                            2962             POP_REG1 R5
10578                                 M                                   ; RE"+4" 00,00,00,04
10579 00001308 65F6                   M           MOV.L   @R15+,R5        ;
10580                            2963             POP_REG1 R4
10581                                 M                                   ; RE"+4" 00,00,00,04
10582 0000130A 64F6                   M           MOV.L   @R15+,R4        ;
10583                            2964             POP_REG1 R3
10584                                 M                                   ; RE"+4" 00,00,00,04
10585 0000130C 63F6                   M           MOV.L   @R15+,R3        ;
10586                            2965             POP_REG1 R0
10587                                 M                                   ; RE"+4" 00,00,00,04
10588 0000130E 60F6                   M           MOV.L   @R15+,R0        ;
10589                            2966     
10590                            2967             SUB_END
10591                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10592 00001310 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10593                            2968             M_RTS
10594 00001312 000B                   M           RTS                             ;RTSの後ろの
10595 00001314 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10596                            2969     
10597                            2970     
10598 00001318                   2971             .ALIGN  4                               ;
10599 00001318                   2972     _FUL_START_FUL_OBJ_SET
10600                            2973             SUB_START
10601 00001318 4F22                   M           STS.L   PR,@-R15                ;[必要]
10602                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10603                            2974     
10604 0000131A D509              2975             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
10605 0000131C 6152              2976             MOV.L   @R5,R1                                  ;
10606 0000131E 5251              2977             MOV.L   @(4,R5),R2                              ;save
10607                            2978     
10608 00001320 D408              2979             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
10609 00001322 1410              2980             MOV.L   R1,@(0,R4)
10610 00001324 1421              2981             MOV.L   R2,@(4,R4)                              ;
10611                            2982     
10612 00001326 D408              2983             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
10613 00001328 1410              2984             MOV.L   R1,@(0,R4)
10614 0000132A 1421              2985             MOV.L   R2,@(4,R4)                              ;
10615                            2986     
10616                            2987     ;       ---------------リアルタイム目標位置-----------
10617 0000132C D407              2988             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
10618 0000132E 1410              2989             MOV.L   R1,@(0,R4)
10619 00001330 1421              2990             MOV.L   R2,@(4,R4)                              ;
10620                            2991     
10621 00001332 D407              2992             MOV.L   #_POSCTL_RL_PLS,R4                      ;
10622 00001334 1410              2993             MOV.L   R1,@(0,R4)
10623 00001336 1421              2994             MOV.L   R2,@(4,R4)                              ;
10624                            2995             SUB_END
10625                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10626 00001338 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10627                            2996             M_RTS
10628 0000133A 000B                   M           RTS                             ;RTSの後ろの
10629 0000133C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10630                            2997     
10631                            2998     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    84
PROGRAM NAME =

10632                            2999     ;       ***********************************
10633                            3000     ;       ***                             ***
10634                            3001     ;       ***     移動距離と速度          ***
10635                            3002     ;       ***     ふりこ・回転の通常      ***
10636                            3003     ;       ***                             ***
10637                            3004     ;       ***********************************
10638                            3005     ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
10639                            3006     ;       が
10640                            3007     ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
10641                            3008     ;       になっているだけ
10642                            3009     ;
10643                            3010     
10644                                     ***** BEGIN-POOL *****
10645 0000133E 0000                       ALIGNMENT CODE
10646 00001340 00000000                   DATA FOR SOURCE-LINE 2975
10647 00001344 00000000                   DATA FOR SOURCE-LINE 2979
10648 00001348 00000000                   DATA FOR SOURCE-LINE 2983
10649 0000134C 00000000                   DATA FOR SOURCE-LINE 2988
10650 00001350 00000000                   DATA FOR SOURCE-LINE 2992
10651                                     ***** END-POOL *****
10652 00001354                   3011             .ALIGN  4                               ;
10653 00001354                   3012     _POS_1STEP_DATA_MAK2:
10654                            3013             SUB_START
10655 00001354 4F22                   M           STS.L   PR,@-R15                ;[必要]
10656                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10657                            3014     
10658                            3015             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測を取り込まない
10659 00001356 D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10660 00001358 400B                   M           JSR     @R0                     ;
10661 0000135A 0009                   M           NOP                                     ;
10662                            3016     
10663 0000135C D211              3017             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
10664 0000135E 6021              3018             MOV.W   @R2,R0                          ;
10665 00001360 70FF              3019             ADD     #-1,R0                          ;
10666 00001362 4008              3020             SHLL2   R0                              ;
10667 00001364 D410              3021             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
10668 00001366 024E              3022             MOV.L   @(R0,R4),R2                     ;
10669 00001368 D110              3023             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10670 0000136A 2122              3024             MOV.L   R2,@R1                          ;
10671                            3025     
10672                            3026             PUSH_REG1       R0
10673 0000136C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10674                                 M                                           ;REG=>[SP]
10675                                 M                                           ;"-4" FF,FF,FF,FC
10676                            3027             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10677 0000136E D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10678 00001370 410B                   M           JSR     @R1                     ;
10679 00001372 0009                   M           NOP                                     ;
10680                            3028             POP_REG1        R0                      ;R0=*4
10681                                 M                                   ; RE"+4" 00,00,00,04
10682 00001374 60F6                   M           MOV.L   @R15+,R0        ;
10683 00001376 4000              3029             SHLL    R0                              ;*2
10684 00001378 D40E              3030             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
10685 0000137A 340C              3031             ADD     R0,R4                   ;
10686 0000137C 6146              3032             MOV.L   @R4+,R1                 ;
10687 0000137E 6242              3033             MOV.L   @R4,R2                  ;(目標位置)
10688                            3034             FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    85
PROGRAM NAME =

10689 00001380 D00D                   M           MOV.L   #_LENGH_ADD_CALC_SV_TYPE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10690 00001382 400B                   M           JSR     @R0                     ;
10691 00001384 0009                   M           NOP                                     ;
10692                            3035     
10693 00001386 233A              3036             XOR     R3,R3                   ;
10694 00001388 4111              3037             CMP/PZ  R1                      ;+正転?
10695 0000138A 8900              3038             BT      POS_1STEP_DATMK2_050    ;
10696 0000138C E301              3039             MOV     #BIT0,R3                ;
10697 0000138E                   3040     POS_1STEP_DATMK2_050:
10698 0000138E D10B              3041             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
10699 00001390 6011              3042             MOV.W   @R1,R0                  ;
10700 00001392 C9FE              3043             AND     #LOW ~BIT0,R0           ;
10701 00001394 203B              3044             OR      R3,R0                   ;
10702 00001396 2101              3045             MOV.W   R0,@R1                  ;
10703                            3046             SUB_END
10704                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10705 00001398 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10706                            3047             M_RTS
10707 0000139A 000B                   M           RTS                             ;RTSの後ろの
10708 0000139C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10709                            3048     
10710                            3049     ;       ***********************************
10711                            3050     ;       ***                             ***
10712                            3051     ;       ***     移動距離と速度          ***
10713                            3052     ;       ***                             ***
10714                            3053     ;       ***********************************
10715                            3054     ;;;;;未使用みたい       .ALIGN  4                               ;
10716                            3055     ;;;;;未使用みたい_POS_1STEP_DATA_MAK3:
10717                            3056     ;;;;;未使用みたい       SUB_START
10718                            3057     ;;;;;未使用みたい       FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
10719                            3058     ;;;;;未使用みたい
10720                            3059     ;;;;;未使用みたい       MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
10721                            3060     ;;;;;未使用みたい       MOV.W   @R2,R0                          ;
10722                            3061     ;;;;;未使用みたい       ADD     #-1,R0                          ;
10723                            3062     ;;;;;未使用みたい       SHLL2   R0                              ;
10724                            3063     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COP
                                          Y
10725                            3064     ;;;;;未使用みたい       MOV.L   @(R0,R4),R2                     ;
10726                            3065     ;;;;;未使用みたい       MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10727                            3066     ;;;;;未使用みたい       MOV.L   R2,@R1                          ;
10728                            3067     ;;;;;未使用みたい
10729                            3068     ;;;;;未使用みたい       PUSH_REG1       R0
10730                            3069     ;;;;;未使用みたい       FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10731                            3070     ;;;;;未使用みたい       POP_REG1        R0                      ;R0=*4
10732                            3071     ;;;;;未使用みたい       SHLL    R0                              ;*2
10733                            3072     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
10734                            3073     ;;;;;未使用みたい       ADD     R0,R4                   ;
10735                            3074     ;;;;;未使用みたい       MOV.L   @R4+,R1                 ;
10736                            3075     ;;;;;未使用みたい       MOV.L   @R4,R2                  ;(目標位置)
10737                            3076     ;;;;;未使用みたい
10738                            3077     ;;;;;未使用みたい       FAR_JSR #_FUL_CLS_LENGH_ADD_CALC,R0
10739                            3078     ;;;;;未使用みたい
10740                            3079     ;;;;;未使用みたい       XOR     R3,R3                   ;
10741                            3080     ;;;;;未使用みたい       CMP/PZ  R1                      ;+正転?
10742                            3081     ;;;;;未使用みたい       BT      POS_1STEP_DATMK3_050    ;
10743                            3082     ;;;;;未使用みたい       MOV     #BIT0,R3                ;
10744                            3083     ;;;;;未使用みたいPOS_1STEP_DATMK3_050:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    86
PROGRAM NAME =

10745                            3084     ;;;;;未使用みたい       MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
10746                            3085     ;;;;;未使用みたい       MOV.W   @R1,R0                  ;
10747                            3086     ;;;;;未使用みたい       AND     #LOW ~BIT0,R0           ;
10748                            3087     ;;;;;未使用みたい       OR      R3,R0                   ;
10749                            3088     ;;;;;未使用みたい       MOV.W   R0,@R1                  ;
10750                            3089     ;;;;;未使用みたい       SUB_END
10751                            3090     ;;;;;未使用みたい       M_RTS
10752                            3091     
10753                            3092     ;       ***********************************
10754                            3093     ;       ***                             ***
10755                            3094     ;       ***     初回起動                ***
10756                            3095     ;       ***                             ***
10757                            3096     ;       ***********************************
10758                            3097     ;
10759                                     ***** BEGIN-POOL *****
10760 0000139E 0000                       ALIGNMENT CODE
10761 000013A0 00000000                   DATA FOR SOURCE-LINE 3015
10762 000013A4 00000000                   DATA FOR SOURCE-LINE 3017
10763 000013A8 00000000                   DATA FOR SOURCE-LINE 3021
10764 000013AC 00000000                   DATA FOR SOURCE-LINE 3023
10765 000013B0 00000000                   DATA FOR SOURCE-LINE 3027
10766 000013B4 00000000                   DATA FOR SOURCE-LINE 3030
10767 000013B8 00000000                   DATA FOR SOURCE-LINE 3034
10768 000013BC 00000000                   DATA FOR SOURCE-LINE 3041
10769                                     ***** END-POOL *****
10770 000013C0                   3098             .ALIGN  4                               ;
10771 000013C0                   3099     _DND_1STEP_DATA_MAK1:
10772                            3100             SUB_START
10773 000013C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10774                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10775 000013C2 D10B              3101             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10776 000013C4 6212              3102             MOV.L   @R1,R2                          ;
10777                            3103     
10778                            3104             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10779 000013C6 D10B                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10780 000013C8 410B                   M           JSR     @R1                     ;
10781 000013CA 0009                   M           NOP                                     ;
10782                            3105     
10783 000013CC D50A              3106             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;(はじめの起動分はﾒｲﾝで作られている)
10784 000013CE 6152              3107             MOV.L   @R5,R1                          ;
10785 000013D0 5251              3108             MOV.L   @(4,R5),R2                      ;
10786                            3109             FAR_JSR #_LENGH_ADD_CALC,R0             ;ANS R1,R2
10787 000013D2 D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10788 000013D4 400B                   M           JSR     @R0                     ;
10789 000013D6 0009                   M           NOP                                     ;
10790 000013D8 233A              3110             XOR     R3,R3                           ;
10791 000013DA 4111              3111             CMP/PZ  R1                              ;+正転?
10792 000013DC 8900              3112             BT      DND_1STEP_DATMK1_050            ;
10793 000013DE E301              3113             MOV     #BIT0,R3                        ;
10794 000013E0                   3114     DND_1STEP_DATMK1_050:
10795 000013E0 D107              3115             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
10796 000013E2 6011              3116             MOV.W   @R1,R0                  ;
10797 000013E4 C9FE              3117             AND     #LOW ~BIT0,R0           ;
10798 000013E6 203B              3118             OR      R3,R0                   ;
10799 000013E8 2101              3119             MOV.W   R0,@R1                  ;
10800                            3120             SUB_END
10801                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    87
PROGRAM NAME =

10802 000013EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10803                            3121             M_RTS
10804 000013EC 000B                   M           RTS                             ;RTSの後ろの
10805 000013EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10806                            3122     
10807                            3123     
10808                            3124     
10809                            3125     ;       ***********************************
10810                            3126     ;       ***                             ***
10811                            3127     ;       ***     ﾓｰｼｮﾝ全工程             ***
10812                            3128     ;       ***                             ***
10813                            3129     ;       ***********************************
10814                            3130     ;       ======== 停止待ち(速度変更)     0000,0000       ====
10815                            3131     ;       ======== ﾀｲﾏ計測                BIT0            ====
10816                            3132     ;       ======== 再起動/終了            BIT1            ====
10817                            3133     ;       ======== BIT6;終了
10818                                     ***** BEGIN-POOL *****
10819 000013F0 00000000                   DATA FOR SOURCE-LINE 3101
10820 000013F4 00000000                   DATA FOR SOURCE-LINE 3104
10821 000013F8 00000000                   DATA FOR SOURCE-LINE 3106
10822 000013FC 00000000                   DATA FOR SOURCE-LINE 3109
10823 00001400 00000000                   DATA FOR SOURCE-LINE 3115
10824                                     ***** END-POOL *****
10825 00001404                   3134             .ALIGN  4                               ;
10826 00001404                   3135     _POS_ALL_STEP_CTRL:
10827                            3136             SUB_START
10828 00001404 4F22                   M           STS.L   PR,@-R15                ;[必要]
10829                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10830                            3137     
10831                            3138     ;;;;;;;;;;;;;   2015-11-15 ちゃんとした場所で対応
10832                            3139     ;;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
10833                            3140     ;;;;;;;;;;;;;   MOV.L   #_MODE_SEL,R1                           ;
10834                            3141     ;;;;;;;;;;;;;   MOV.W   @R1,R0                                  ;
10835                            3142     ;;;;;;;;;;;;;   TST     #_W1INC+_W1SGL,R0                       ;
10836                            3143     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND200EXT             ;（段取でもある)
10837                            3144     ;;;;;;;;;;;;;
10838                            3145     ;;;;;;;;;;;;;   FAR_JSR #_API_ENDHAND_SIGCHK,R0         ;
10839                            3146     ;;;;;;;;;;;;;   TST     R0,R0                           ;
10840                            3147     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND200EXT     ;
10841                            3148     ;;;;;;;;;;;;;   M_BRA   FORCE_STEPEND_HAND200           ;
10842                            3149     ;;;;;;;;;;;;;FORCE_STEPEND_HAND200EXT
10843                            3150     
10844                            3151     
10845                            3152     ;       ==== 停止した場合、次の工程の起動、工程がなくなれば終わり====
10846                            3153     ;       停止はﾊﾟﾙｽ払出
10847 00001406 D103              3154             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
10848 00001408 6011              3155             MOV.W   @R1,R0                          ;BIT
10849 0000140A C840              3156             TST     #BIT6,R0                        ;
10850                            3157             TST_BIT_OF POS_ALLSTEPCTL_020           ;
10851 0000140C 8904                   M           BT      POS_ALLSTEPCTL_020
10852                            3158             M_BRA   POS_ALLSTEPCTL_900              ;位置決め完了
10853 0000140E A2F4                   M           BRA     POS_ALLSTEPCTL_900
10854 00001410 0009                   M           NOP
10855                            3159     
10856                                     ***** BEGIN-POOL *****
10857 00001412 0000                       ALIGNMENT CODE
10858 00001414 00000000                   DATA FOR SOURCE-LINE 3154
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    88
PROGRAM NAME =

10859                                     ***** END-POOL *****
10860 00001418                   3160     POS_ALLSTEPCTL_020:
10861 00001418 C803              3161             TST     #(BIT1+BIT0),R0         ;
10862                            3162             TST_BIT_OF POS_ALLSTEPCTL_100   ;BIT0:ﾀｲﾏ制御開始
10863 0000141A 8901                   M           BT      POS_ALLSTEPCTL_100
10864                            3163             M_BRA   POS_ALLSTEPCTL_300      ;BIT1:次の回転起動
10865 0000141C A136                   M           BRA     POS_ALLSTEPCTL_300
10866 0000141E 0009                   M           NOP
10867                            3164     
10868 00001420                   3165     POS_ALLSTEPCTL_100:
10869                            3166     
10870                            3167     
10871                            3168     ;       ----------- 2012-05-17 全モード,(反転)タイマ継続処理CHK---------
10872                            3169             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0             ;
10873 00001420 D003                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10874 00001422 400B                   M           JSR     @R0                     ;
10875 00001424 0009                   M           NOP                                     ;
10876 00001426 2008              3170             TST     R0,R0                                   ;
10877                            3171             TST_BIT_OF POS_ALLSTEPCTL_101                   ;
10878 00001428 8904                   M           BT      POS_ALLSTEPCTL_101
10879                            3172             M_BRA   POS_ALLSTEPCTL_230                      ;
10880 0000142A A0CB                   M           BRA     POS_ALLSTEPCTL_230
10881 0000142C 0009                   M           NOP
10882                            3173     
10883                                     ***** BEGIN-POOL *****
10884 0000142E 0000                       ALIGNMENT CODE
10885 00001430 00000000                   DATA FOR SOURCE-LINE 3169
10886                                     ***** END-POOL *****
10887 00001434                   3174     POS_ALLSTEPCTL_101:
10888                            3175     
10889 00001434 D105              3176             MOV.L   #_CPOS_CTL_MATH,R1                      ;
10890 00001436 6011              3177             MOV.W   @R1,R0                                  ;
10891 00001438 C805              3178             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
10892                            3179             TST_BIT_ON POS_ALLSTEPCTL_120                   ;YES
10893 0000143A 8B0D                   M           BF      POS_ALLSTEPCTL_120
10894                            3180     
10895                            3181     
10896                            3182             FAR_JSR #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾌﾙｸﾛｰｽﾞ,ﾌﾙｸﾛｰｽﾞのｵｰﾌﾟﾝ時は中でﾁｪｯ
                                          ｸする
10897 0000143C D004                   M           MOV.L   #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10898 0000143E 400B                   M           JSR     @R0                     ;
10899 00001440 0009                   M           NOP                                     ;
10900 00001442 2008              3183             TST     R0,R0                                   ;
10901                            3184             TST_BIT_OF POS_ALLSTEPCTL_105                   ;
10902 00001444 8906                   M           BT      POS_ALLSTEPCTL_105
10903                            3185             M_BRA   POS_ALLSTEPCTL_230                      ;(BIT2=1)
10904 00001446 A0BD                   M           BRA     POS_ALLSTEPCTL_230
10905 00001448 0009                   M           NOP
10906                            3186     
10907                                     ***** BEGIN-POOL *****
10908 0000144A 0000                       ALIGNMENT CODE
10909 0000144C 00000000                   DATA FOR SOURCE-LINE 3176
10910 00001450 00000000                   DATA FOR SOURCE-LINE 3182
10911                                     ***** END-POOL *****
10912 00001454                   3187     POS_ALLSTEPCTL_105:
10913                            3188             M_BRA   POS_ALLSTEPCTL_900                      ;
10914 00001454 A2D1                   M           BRA     POS_ALLSTEPCTL_900
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    89
PROGRAM NAME =

10915 00001456 0009                   M           NOP
10916                            3189     
10917 00001458                   3190     POS_ALLSTEPCTL_120:
10918                            3191     ;       ======== 2003-07-01 ======
10919                            3192             FAR_JSR #_BRK_ERR_CHK_START4,R0         ;
10920 00001458 D018                   M           MOV.L   #_BRK_ERR_CHK_START4,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10921 0000145A 400B                   M           JSR     @R0                     ;
10922 0000145C 0009                   M           NOP                                     ;
10923                            3193     
10924                            3194     
10925                            3195     
10926                            3196     
10927                            3197     ;       ===========================================
10928                            3198     ;       === 回転はニアゼロをチェックする        ===
10929                            3199     ;       ===========================================
10930                            3200             FAR_JSR #_OPEN_ROT_NEAR1_ZERO_CHK,R0    ;
10931 0000145E D018                   M           MOV.L   #_OPEN_ROT_NEAR1_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10932 00001460 400B                   M           JSR     @R0                     ;
10933 00001462 0009                   M           NOP                                     ;
10934                            3201     
10935                            3202     
10936                            3203             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
10937 00001464 D117                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10938 00001466 410B                   M           JSR     @R1                     ;
10939 00001468 0009                   M           NOP                                     ;
10940 0000146A C804              3204             TST     #BIT2,R0                        ;停止?
10941                            3205             TST_BIT_ON POS_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
10942 0000146C 8B5A                   M           BF      POS_ALLSTEPCTL_200
10943                            3206     
10944                            3207     ;       ===========================================
10945                            3208     ;       ===     払出中                          ===
10946                            3209     ;       ===========================================
10947                            3210     
10948                            3211     ;       ===================================================
10949                            3212     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
10950                            3213     ;       ===================================================
10951                            3214             .AIF    1 EQ 1  ;YES:曲線ﾃｰﾌﾞﾙ(CPUAと同じ) NO:直線タイプ 2013-03-06
10952                            3215 C   ;"CPUBがふりこカーブが有効な場合 遅延時間を生かしSPMを変更できるようにする"
10953                            3216 C   ;;2013-02-08    CPUB_CURVSEL[6]
10954                            3217 C   ;;2013-02-08    CPUA=CPUB=ﾃｰﾌﾞﾙｶｰﾌﾞ時に生かし、遅延時間を有効にする
10955                            3218 C   
10956                            3219 C           FAR_JSR #_DNMODE_ENDWAIT_TIM_SET,R0     ;[[[2013-03-24復活]]]
10957 0000146E D016                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10958 00001470 400B                   M           JSR     @R0                     ;
10959 00001472 0009                   M           NOP                                     ;
10960                            3220 C   
10961                            3221             .AENDI
10962                            3222     
10963                            3223     
10964                            3224             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT4),WKREG=R1  ;2012-12-1
                                          0 DEBUG
10965 00001474 D115                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
10966 00001476 6011                   M           MOV.W   @R1,R0          ;
10967 00001478 C9EF                   M           AND     #LOW ~(BIT4),R0         ;
10968 0000147A 2101                   M           MOV.W   R0,@R1          ;
10969                            3225     
10970                            3226     ;       ===== 払出中のBUSYﾁｪｯｸ ======
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    90
PROGRAM NAME =

10971                            3227             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
10972 0000147C D014                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10973 0000147E 400B                   M           JSR     @R0                     ;
10974 00001480 0009                   M           NOP                                     ;
10975                            3228     ;       ===== 払出中 ======
10976                            3229     ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
10977                            3230             FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
10978 00001482 D014                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10979 00001484 400B                   M           JSR     @R0                     ;
10980 00001486 0009                   M           NOP                                     ;
10981                            3231     
10982                            3232     
10983                            3233     ;       ======== 回転の連続・ﾀｲﾏ=0処理====
10984 00001488 D113              3234             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10985 0000148A 6011              3235             MOV.W   @R1,R0                          ;
10986 0000148C C801              3236             TST     #BIT0,R0                        ;
10987                            3237             TST_BIT_ON POS_ALLSTEPCTL_190           ;
10988 0000148E 8B3C                   M           BF      POS_ALLSTEPCTL_190
10989                            3238     
10990                            3239     ;       ========== 2004-01-26 連続寸動一工程/連続一工程 ======
10991 00001490 D112              3240             MOV.L   #_WFSYS_OPT_CNT_SEL,R1          ;SEL=1 連寸一、連続一行程有効
10992 00001492 6011              3241             MOV.W   @R1,R0                          ;
10993 00001494 8801              3242             CMP/EQ  #1,R0                           ;
10994 00001496 8B29              3243             BF      POS_ALLSTEPCTL_189              ;
10995                            3244     
10996 00001498 D111              3245             MOV.L   #_MODE_SEL,R1                   ;
10997 0000149A 6011              3246             MOV.W   @R1,R0                          ;
10998 0000149C C808              3247             TST     #_W1CNT,R0                      ;
10999                            3248             TST_BIT_OF POS_ALLSTEPCTL_189           ;
11000 0000149E 8925                   M           BT      POS_ALLSTEPCTL_189
11001 000014A0 910A              3249             MOV.W   #(BIT12+BIT11),R1               ;
11002 000014A2 2018              3250             TST     R1,R0                           ;
11003                            3251             TST_BIT_OF POS_ALLSTEPCTL_189           ;(通常連続)
11004 000014A4 8922                   M           BT      POS_ALLSTEPCTL_189
11005                            3252     
11006                            3253     
11007                            3254     ;       ==============20071106======================
11008 000014A6 D10F              3255             MOV.L   #_CPOS_BANK_USELFUL,R1          ;大バグ
11009 000014A8 6011              3256             MOV.W   @R1,R0                          ;
11010 000014AA C801              3257             TST     #BIT0,R0                        ;
11011                            3258             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
11012 000014AC 892C                   M           BT      POS_ALLSTEPCTL_189A
11013                            3259     
11014                            3260     ;;      FAR_JSR #_CCS_STEP_NEXT_CHK,R0          ;
11015                            3261             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;
11016 000014AE D00E                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11017 000014B0 400B                   M           JSR     @R0                     ;
11018 000014B2 0009                   M           NOP                                     ;
11019                            3262             M_BRA   POS_ALLSTEPCTL_190              ;
11020 000014B4 A029                   M           BRA     POS_ALLSTEPCTL_190
11021 000014B6 0009                   M           NOP
11022                            3263     ;       ===========================================
11023                            3264     
11024                            3265     
11025                                     ***** BEGIN-POOL *****
11026 000014B8 1800                       DATA FOR SOURCE-LINE 3249
11027 000014BA 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    91
PROGRAM NAME =

11028 000014BC 00000000                   DATA FOR SOURCE-LINE 3192
11029 000014C0 00000000                   DATA FOR SOURCE-LINE 3200
11030 000014C4 00000000                   DATA FOR SOURCE-LINE 3203
11031 000014C8 00000000                   DATA FOR SOURCE-LINE 3219
11032 000014CC 00000000                   DATA FOR SOURCE-LINE 3224
11033 000014D0 00000000                   DATA FOR SOURCE-LINE 3227
11034 000014D4 00000000                   DATA FOR SOURCE-LINE 3230
11035 000014D8 00000000                   DATA FOR SOURCE-LINE 3234
11036 000014DC 00000000                   DATA FOR SOURCE-LINE 3240
11037 000014E0 00000000                   DATA FOR SOURCE-LINE 3245
11038 000014E4 00000000                   DATA FOR SOURCE-LINE 3255
11039 000014E8 00000000                   DATA FOR SOURCE-LINE 3261
11040                                     ***** END-POOL *****
11041 000014EC                   3266     POS_ALLSTEPCTL_189:                             ;
11042                            3267     
11043 000014EC D104              3268             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
11044 000014EE 6011              3269             MOV.W   @R1,R0                          ;
11045 000014F0 C801              3270             TST     #BIT0,R0                        ;
11046                            3271             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
11047 000014F2 8909                   M           BT      POS_ALLSTEPCTL_189A
11048                            3272             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;(連続の上死点停止なし)
11049 000014F4 D003                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11050 000014F6 400B                   M           JSR     @R0                     ;
11051 000014F8 0009                   M           NOP                                     ;
11052                            3273             M_BRA   POS_ALLSTEPCTL_190              ;
11053 000014FA A006                   M           BRA     POS_ALLSTEPCTL_190
11054 000014FC 0009                   M           NOP
11055                            3274     
11056                                     ***** BEGIN-POOL *****
11057 000014FE 0000                       ALIGNMENT CODE
11058 00001500 00000000                   DATA FOR SOURCE-LINE 3268
11059 00001504 00000000                   DATA FOR SOURCE-LINE 3272
11060                                     ***** END-POOL *****
11061 00001508                   3275     POS_ALLSTEPCTL_189A:                                    ;
11062                            3276     ;;;;未使用      FAR_JSR #_CNT_STEP_NEXT_CHK,R0          ;<ここはくせもの>
11063 00001508 0009              3277             NOP                                             ;安一、寸動、上死点停止付連続、一
                                          工程
11064 0000150A                   3278     POS_ALLSTEPCTL_190:                                     ;
11065                            3279     
11066                            3280     ;       ==== 2003-06-13===
11067                            3281             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
11068 0000150A D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11069 0000150C 6011                   M           MOV.W   @R1,R0          ;
11070 0000150E C9FE                   M           AND     #LOW ~BIT0,R0           ;
11071 00001510 2101                   M           MOV.W   R0,@R1          ;
11072                            3282             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
11073 00001512 D003                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11074 00001514 400B                   M           JSR     @R0                     ;
11075 00001516 0009                   M           NOP                                     ;
11076                            3283     
11077                            3284             M_BRA   POS_ALLSTEPCTL_900              ;
11078 00001518 A26F                   M           BRA     POS_ALLSTEPCTL_900
11079 0000151A 0009                   M           NOP
11080                            3285     
11081                            3286     ;       ===========================
11082                            3287     ;       ===     払出停止        ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    92
PROGRAM NAME =

11083                            3288     ;       ===     回転時          ===
11084                            3289     ;       ===========================
11085                                     ***** BEGIN-POOL *****
11086 0000151C 00000000                   DATA FOR SOURCE-LINE 3281
11087 00001520 00000000                   DATA FOR SOURCE-LINE 3282
11088                                     ***** END-POOL *****
11089 00001524                   3290     POS_ALLSTEPCTL_200:
11090                            3291             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT1,WKREG=R1 ;2012-12-10 DEB
                                          UG
11091 00001524 D112                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11092 00001526 6011                   M           MOV.W   @R1,R0          ;
11093 00001528 CB02                   M           OR      #BIT1,R0                ;
11094 0000152A 2101                   M           MOV.W   R0,@R1          ;
11095                            3292     
11096                            3293     
11097 0000152C D111              3294             MOV.L   #_CNT_PLSOUT_STOP_CNT,R1
11098 0000152E 6011              3295             MOV.W   @R1,R0
11099 00001530 7001              3296             ADD     #1,R0                           ;
11100 00001532 2101              3297             MOV.W   R0,@R1                          ;
11101                            3298             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0  ;2004-03-03
11102 00001534 D010                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11103 00001536 400B                   M           JSR     @R0                     ;
11104 00001538 0009                   M           NOP                                     ;
11105                            3299     
11106                            3300     
11107 0000153A D110              3301             MOV.L   #_NEAR_IN_FLG,R1                ;
11108 0000153C 6011              3302             MOV.W   @R1,R0                          ;
11109 0000153E 2008              3303             TST     R0,R0                           ;
11110                            3304             TST_BIT_ON POS_ALLSTEPCTL_220           ;ﾆｱｾﾞﾛOK
11111 00001540 8B26                   M           BF      POS_ALLSTEPCTL_220
11112                            3305     
11113                            3306     
11114                            3307             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;ﾆｱｾﾞﾛ代わり
11115 00001542 D00F                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11116 00001544 400B                   M           JSR     @R0                     ;
11117 00001546 0009                   M           NOP                                     ;
11118 00001548 2008              3308             TST     R0,R0
11119                            3309             TST_BIT_OF POS_ALLSTEPCTL_210           ;
11120 0000154A 8903                   M           BT      POS_ALLSTEPCTL_210
11121 0000154C D10B              3310             MOV.L   #_NEAR_IN_FLG,R1                ;ﾆｱｾﾞﾛ扱い
11122 0000154E 6011              3311             MOV.W   @R1,R0                          ;
11123 00001550 CB01              3312             OR      #BIT0,R0                        ;
11124 00001552 2101              3313             MOV.W   R0,@R1                          ;
11125 00001554                   3314     POS_ALLSTEPCTL_210:                             ;
11126                            3315     
11127                            3316             FAR_JSR #_NZ_TIM_CHK1,R0                ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏｶｳﾝﾄﾀﾞｳﾝ
11128 00001554 D00B                   M           MOV.L   #_NZ_TIM_CHK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11129 00001556 400B                   M           JSR     @R0                     ;
11130 00001558 0009                   M           NOP                                     ;
11131                            3317     
11132                            3318     
11133                            3319     ;       -----------2012-03-06ｲﾝﾎﾟｼﾞ異常ﾁｪｯｸ------------------------------
11134 0000155A D10B              3320             MOV.L   #_NZ_TIM_OUT_PV2,R1                                     ;
11135 0000155C 6011              3321             MOV.W   @R1,R0                                                  ;
11136 0000155E 2008              3322             TST     R0,R0                                                   ;
11137                            3323             TST_BIT_ON POS_ALLSTEPCTL_211                                   ;
11138 00001560 8B03                   M           BF      POS_ALLSTEPCTL_211
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    93
PROGRAM NAME =

11139                            3324             MEM1_BIT0_TO_BIT7_ORSET MEM=_INP_ERR_FLG,LG=W,BIT=BIT0,WKREG=R1 ;
11140 00001562 D10A                   M           MOV.L   #_INP_ERR_FLG,R1                ;
11141 00001564 6011                   M           MOV.W   @R1,R0          ;
11142 00001566 CB01                   M           OR      #BIT0,R0                ;
11143 00001568 2101                   M           MOV.W   R0,@R1          ;
11144 0000156A                   3325     POS_ALLSTEPCTL_211:                                                     ;
11145                            3326     
11146                            3327             M_BRA   POS_ALLSTEPCTL_900              ;
11147 0000156A A246                   M           BRA     POS_ALLSTEPCTL_900
11148 0000156C 0009                   M           NOP
11149                            3328     
11150                                     ***** BEGIN-POOL *****
11151 0000156E 0000                       ALIGNMENT CODE
11152 00001570 00000000                   DATA FOR SOURCE-LINE 3291
11153 00001574 00000000                   DATA FOR SOURCE-LINE 3294
11154 00001578 00000000                   DATA FOR SOURCE-LINE 3298
11155 0000157C 00000000                   DATA FOR SOURCE-LINE 3301,3310
11156 00001580 00000000                   DATA FOR SOURCE-LINE 3307
11157 00001584 00000000                   DATA FOR SOURCE-LINE 3316
11158 00001588 00000000                   DATA FOR SOURCE-LINE 3320
11159 0000158C 00000000                   DATA FOR SOURCE-LINE 3324
11160                                     ***** END-POOL *****
11161 00001590                   3329     POS_ALLSTEPCTL_220:
11162                            3330     
11163                            3331     ;       ===================================================
11164                            3332     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
11165                            3333     ;       ===================================================
11166                            3334     
11167                            3335     ;;;;    ===========================================
11168                            3336     ;;;;    ===     ふりこの終了遅延ﾀｲﾏ2013-02-08   ===
11169                            3337     ;;;;    ===     CPUB_CURVSEL[5]                 ===
11170                            3338     ;;;;    ===========================================
11171                            3339             FAR_JSR #_DNMODE_ENDWAIT_TIM_CHK,R0     ;[[[2013-03-24復活]]]
11172 00001590 D003                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11173 00001592 400B                   M           JSR     @R0                     ;
11174 00001594 0009                   M           NOP                                     ;
11175 00001596 2008              3340             TST     R0,R0                           ;[[[2013-03-24復活]]]
11176                            3341             TST_BIT_OF POS_ALLSTEPCTL_225           ;[[[2013-03-24復活]]]
11177 00001598 8904                   M           BT      POS_ALLSTEPCTL_225
11178                            3342             M_BRA   POS_ALLSTEPCTL_900              ;[[[2013-03-24復活]]]
11179 0000159A A22E                   M           BRA     POS_ALLSTEPCTL_900
11180 0000159C 0009                   M           NOP
11181                            3343     
11182                                     ***** BEGIN-POOL *****
11183 0000159E 0000                       ALIGNMENT CODE
11184 000015A0 00000000                   DATA FOR SOURCE-LINE 3339
11185                                     ***** END-POOL *****
11186 000015A4                   3344     POS_ALLSTEPCTL_225:
11187                            3345     
11188                            3346     ;       =====================================================
11189                            3347     
11190                            3348     
11191                            3349             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT2,WKREG=R1 ;2012-12-10 DEB
                                          UG
11192 000015A4 D105                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11193 000015A6 6011                   M           MOV.W   @R1,R0          ;
11194 000015A8 CB04                   M           OR      #BIT2,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    94
PROGRAM NAME =

11195 000015AA 2101                   M           MOV.W   R0,@R1          ;
11196                            3350     
11197                            3351             FAR_JSR #_CMPAB_NEAR_END_PROC,R0        ;ｵｰﾌﾟﾝ時ﾆｱｾﾞﾛの終わり
11198 000015AC D004                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11199 000015AE 400B                   M           JSR     @R0                     ;
11200 000015B0 0009                   M           NOP                                     ;
11201 000015B2 2008              3352             TST     R0,R0                           ;
11202                            3353             TST_BIT_ON POS_ALLSTEPCTL_230           ;
11203 000015B4 8B06                   M           BF      POS_ALLSTEPCTL_230
11204                            3354             M_BRA   POS_ALLSTEPCTL_900              ;
11205 000015B6 A220                   M           BRA     POS_ALLSTEPCTL_900
11206 000015B8 0009                   M           NOP
11207                            3355     
11208                                     ***** BEGIN-POOL *****
11209 000015BA 0000                       ALIGNMENT CODE
11210 000015BC 00000000                   DATA FOR SOURCE-LINE 3349
11211 000015C0 00000000                   DATA FOR SOURCE-LINE 3351
11212                                     ***** END-POOL *****
11213 000015C4                   3356     POS_ALLSTEPCTL_230:
11214                            3357     
11215                            3358     ;       ===============================================
11216                            3359             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT3,WKREG=R1 ;2012-12-10 DEB
                                          UG
11217 000015C4 D121                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11218 000015C6 6011                   M           MOV.W   @R1,R0          ;
11219 000015C8 CB08                   M           OR      #BIT3,R0                ;
11220 000015CA 2101                   M           MOV.W   R0,@R1          ;
11221                            3360             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
11222 000015CC D120                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11223 000015CE 6011                   M           MOV.W   @R1,R0          ;
11224 000015D0 C9FE                   M           AND     #LOW ~BIT0,R0           ;
11225 000015D2 2101                   M           MOV.W   R0,@R1          ;
11226                            3361     
11227                            3362     ;       =====================
11228                            3363     ;       ===== 状態遷移時=====
11229                            3364     ;       =====================
11230                            3365     ;       ==========================
11231                            3366     ;       ===== ﾌﾙｸﾛｰｽﾞ信号ｸﾘｱ======
11232                            3367     ;       ==========================
11233                            3368             FAR_JSR #_FUL_DATA_INIT,R0      ;R0,R1 USED
11234 000015D4 D01F                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11235 000015D6 400B                   M           JSR     @R0                     ;
11236 000015D8 0009                   M           NOP                                     ;
11237                            3369     ;       ===============================================
11238                            3370             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
11239 000015DA D11F                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
11240 000015DC 6011                   M           MOV.W   @R1,R0          ;
11241 000015DE C9FE                   M           AND     #LOW ~BIT0,R0           ;
11242 000015E0 2101                   M           MOV.W   R0,@R1          ;
11243                            3371     ;       ===============================================
11244                            3372             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾌﾗｸﾞｸﾘｱしたい
11245 000015E2 D01E                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11246 000015E4 400B                   M           JSR     @R0                     ;
11247 000015E6 0009                   M           NOP                                     ;
11248                            3373     ;       ===============================================
11249                            3374             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    95
PROGRAM NAME =

11250 000015E8 D01D                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11251 000015EA 400B                   M           JSR     @R0                     ;
11252 000015EC 0009                   M           NOP                                     ;
11253                            3375     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
11254                            3376             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
11255 000015EE D118                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11256 000015F0 6011                   M           MOV.W   @R1,R0          ;
11257 000015F2 C9FE                   M           AND     #LOW ~BIT0,R0           ;
11258 000015F4 2101                   M           MOV.W   R0,@R1          ;
11259                            3377     
11260                            3378     
11261 000015F6 D21B              3379             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
11262 000015F8 6021              3380             MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
11263 000015FA 70FF              3381             ADD     #-1,R0                  ;
11264 000015FC D41A              3382             MOV.L   #_CPOS_SDAT1_TIM,R4     ;
11265 000015FE 4008              3383             SHLL2   R0                      ;
11266 00001600 014E              3384             MOV.L   @(R0,R4),R1             ;
11267                            3385     
11268                            3386     ;       ----------------------------
11269 00001602 D41A              3387             MOV.L   #_MOT_REP_F,R4                  ;//BIT0(ﾘﾋﾟｰﾄ動作
11270 00001604 6041              3388             MOV.W   @R4,R0                          ;
11271 00001606 C801              3389             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ動作直後の停止
11272                            3390             TST_BIT_OF POS_ALLSTEPCTL_REP231        ;
11273 00001608 8900                   M           BT      POS_ALLSTEPCTL_REP231
11274 0000160A 211A              3391             XOR     R1,R1                           ;
11275 0000160C                   3392     POS_ALLSTEPCTL_REP231:                          ;
11276                            3393     
11277                            3394     
11278                            3395     
11279                            3396     
11280                            3397     
11281                            3398     
11282                            3399     
11283                            3400     
11284                            3401     
11285 0000160C D418              3402             MOV.L   #_MODE_SEL,R4           ;
11286 0000160E 6041              3403             MOV.W   @R4,R0                  ;
11287 00001610 C808              3404             TST     #_W1CNT,R0              ;
11288                            3405             TST_BIT_ON POS_ALLSTEPCTL_280   ;
11289 00001612 8B07                   M           BF      POS_ALLSTEPCTL_280
11290                            3406     
11291                            3407     ;       == 連続以外は最終工程は0固定 ==
11292                            3408     
11293 00001614 D213              3409             MOV.L   #_INT_POS_CTL_STEP,R2   ;1~5,6
11294 00001616 6021              3410             MOV.W   @R2,R0                  ;
11295 00001618 D216              3411             MOV.L   #_CPOS_STEP_MAX,R2      ;
11296 0000161A 6421              3412             MOV.W   @R2,R4                  ;
11297 0000161C 7401              3413             ADD     #1,R4                   ;
11298 0000161E 3400              3414             CMP/EQ  R0,R4                   ;R0 =< R4(MAX)
11299 00001620 8B00              3415             BF      POS_ALLSTEPCTL_280      ;最終工程ではない
11300 00001622 211A              3416             XOR     R1,R1                   ;最終工程
11301 00001624                   3417     POS_ALLSTEPCTL_280:                     ;
11302                            3418     
11303                            3419             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
11304                            3420 C   ;2015-03-15
11305 00001624 D014              3421 C           MOV.L   #_FULCLS_TIM_SETFLG,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    96
PROGRAM NAME =

11306 00001626 6001              3422 C           MOV.W   @R0,R0                          ;
11307 00001628 C802              3423 C           TST     #BIT1,R0                        ;
11308                            3424 C           TST_BIT_OF POS_ALLSTEPCTL_285           ;
11309 0000162A 8900                   M           BT      POS_ALLSTEPCTL_285
11310 0000162C 211A              3425 C           XOR     R1,R1                           ;ﾀｲﾏ=0にする
11311 0000162E                   3426 C   POS_ALLSTEPCTL_285:                             ;
11312                            3427             .AENDI
11313                            3428     
11314                            3429     ;       input R1
11315                            3430             FAR_JSR #_DURING_TIM_PRESET_CALC,R0     ;2014-05-30 ﾀｲﾏ継続
11316 0000162E D013                   M           MOV.L   #_DURING_TIM_PRESET_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11317 00001630 400B                   M           JSR     @R0                     ;
11318 00001632 0009                   M           NOP                                     ;
11319                            3431     ;;;2014-05-30   MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
11320                            3432     ;;;2014-05-30   MOV.L   R1,@R4                                                          ;
11321                            3433     
11322                            3434             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
11323 00001634 D112                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
11324 00001636 6011                   M           MOV.W   @R1,R0          ;
11325 00001638 CB01                   M           OR      #BIT0,R0                ;
11326 0000163A 2101                   M           MOV.W   R0,@R1          ;
11327                            3435     
11328                            3436     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
11329                            3437             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
11330                            3438 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
11331 0000163C D011                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11332 0000163E 400B                   M           JSR     @R0                     ;
11333 00001640 0009                   M           NOP                                     ;
11334                            3439             .AENDI
11335                            3440     
11336                            3441     ;       ===================
11337                            3442     ;       ===     CAM1    ===
11338                            3443     ;       ===================
11339                            3444             FAR_JSR #_CAM_1STEP_END_SIG1,R0 ;
11340 00001642 D011                   M           MOV.L   #_CAM_1STEP_END_SIG1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11341 00001644 400B                   M           JSR     @R0                     ;
11342 00001646 0009                   M           NOP                                     ;
11343                            3445             M_BRA   POS_ALLSTEPCTL_900      ;
11344 00001648 A1D7                   M           BRA     POS_ALLSTEPCTL_900
11345 0000164A 0009                   M           NOP
11346                            3446     
11347                            3447     
11348                            3448     ;       ====<<<<2段目以降の起動処理>>>====
11349                                     ***** BEGIN-POOL *****
11350 0000164C 00000000                   DATA FOR SOURCE-LINE 3359
11351 00001650 00000000                   DATA FOR SOURCE-LINE 3360,3376
11352 00001654 00000000                   DATA FOR SOURCE-LINE 3368
11353 00001658 00000000                   DATA FOR SOURCE-LINE 3370
11354 0000165C 00000000                   DATA FOR SOURCE-LINE 3372
11355 00001660 00000000                   DATA FOR SOURCE-LINE 3374
11356 00001664 00000000                   DATA FOR SOURCE-LINE 3379,3409
11357 00001668 00000000                   DATA FOR SOURCE-LINE 3382
11358 0000166C 00000000                   DATA FOR SOURCE-LINE 3387
11359 00001670 00000000                   DATA FOR SOURCE-LINE 3402
11360 00001674 00000000                   DATA FOR SOURCE-LINE 3411
11361 00001678 00000000                   DATA FOR SOURCE-LINE 3421
11362 0000167C 00000000                   DATA FOR SOURCE-LINE 3430
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    97
PROGRAM NAME =

11363 00001680 00000000                   DATA FOR SOURCE-LINE 3434
11364 00001684 00000000                   DATA FOR SOURCE-LINE 3438
11365 00001688 00000000                   DATA FOR SOURCE-LINE 3444
11366                                     ***** END-POOL *****
11367 0000168C                   3449     POS_ALLSTEPCTL_300:
11368 0000168C C802              3450             TST     #BIT1,R0                ;
11369                            3451             TST_BIT_ON POS_ALLSTEPCTL_400   ;
11370 0000168E 8B3B                   M           BF      POS_ALLSTEPCTL_400
11371                            3452     
11372                            3453     ;       ==== 各段一旦停止機能====
11373 00001690 D106              3454             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
11374 00001692 6011              3455             MOV.W   @R1,R0                          ;
11375 00001694 9408              3456             MOV.W   #BIT13,R4                       ;
11376 00001696 2048              3457             TST     R4,R0                           ;
11377                            3458             TST_BIT_OF POS_ALLSTEPCTL_310           ;
11378 00001698 890C                   M           BT      POS_ALLSTEPCTL_310
11379                            3459             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4
11380 0000169A D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
11381 0000169C 6011                   M           MOV.W   @R1,R0          ;
11382 0000169E 9404                   M           MOV.W   #(BIT9),R4              ;
11383 000016A0 204B                   M           OR      R4,R0           ;
11384 000016A2 2101                   M           MOV.W   R0,@R1          ;
11385                            3460             M_BRA   POS_ALLSTEPCTL_900              ;
11386 000016A4 A1A9                   M           BRA     POS_ALLSTEPCTL_900
11387 000016A6 0009                   M           NOP
11388                            3461     
11389                                     ***** BEGIN-POOL *****
11390 000016A8 2000                       DATA FOR SOURCE-LINE 3456
11391 000016AA 0200                       DATA FOR SOURCE-LINE 3459
11392 000016AC 00000000                   DATA FOR SOURCE-LINE 3454
11393 000016B0 00000000                   DATA FOR SOURCE-LINE 3459
11394                                     ***** END-POOL *****
11395 000016B4                   3462     POS_ALLSTEPCTL_310:
11396                            3463             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
11397 000016B4 D10A                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11398 000016B6 6011                   M           MOV.W   @R1,R0          ;
11399 000016B8 9411                   M           MOV.W   #LWORD (~BIT9),R4       ;
11400 000016BA 2049                   M           AND     R4,R0           ;
11401 000016BC 2101                   M           MOV.W   R0,@R1          ;
11402                            3464     
11403                            3465     
11404                            3466     ;       --------反転及び全動作 タイマ計測から再開
11405                            3467             MEM1_BIT0_TO_BIT7_ORSET MEM=_DURING_TIM_FX,LG=W,BIT=BIT0,WKREG=R1       ;する
11406 000016BE D109                   M           MOV.L   #_DURING_TIM_FX,R1              ;
11407 000016C0 6011                   M           MOV.W   @R1,R0          ;
11408 000016C2 CB01                   M           OR      #BIT0,R0                ;
11409 000016C4 2101                   M           MOV.W   R0,@R1          ;
11410                            3468     
11411                            3469             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
11412 000016C6 D108                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
11413 000016C8 6412                   M           MOV.L   @R1,R4          ;
11414 000016CA 2448                   M           TST     R4,R4                   ;
11415 000016CC 8901                   M           BT      JMP_0100004                     ;ZERO THEN JUMP
11416 000016CE 4410                   M           DT      R4                              ;
11417 000016D0 2142                   M           MOV.L   R4,@R1          ;STORE
11418 000016D2                        M   JMP_0100004:
11419                            3470     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    98
PROGRAM NAME =

11420 000016D2 D405              3471             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
11421 000016D4 6142              3472             MOV.L   @R4,R1                  ;
11422 000016D6 2118              3473             TST     R1,R1                   ;
11423                            3474             TST_BIT_OF POS_ALLSTEPCTL_320   ;
11424 000016D8 8908                   M           BT      POS_ALLSTEPCTL_320
11425                            3475             M_BRA   POS_ALLSTEPCTL_900      ;
11426 000016DA A18E                   M           BRA     POS_ALLSTEPCTL_900
11427 000016DC 0009                   M           NOP
11428                            3476     
11429                                     ***** BEGIN-POOL *****
11430 000016DE FDFF                       DATA FOR SOURCE-LINE 3463
11431 000016E0 00000000                   DATA FOR SOURCE-LINE 3463
11432 000016E4 00000000                   DATA FOR SOURCE-LINE 3467
11433 000016E8 00000000                   DATA FOR SOURCE-LINE 3469,3471
11434                                     ***** END-POOL *****
11435 000016EC                   3477     POS_ALLSTEPCTL_320:
11436                            3478     ;;;     ===================
11437                            3479     ;;;     ===     CAM2    ===
11438                            3480     ;;;     ===================
11439                            3481     ;;;     FAR_JSR #_CAM_1STEP_END_SIG2,R0 ;
11440                            3482     
11441                            3483             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
11442 000016EC D104                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
11443 000016EE 6011                   M           MOV.W   @R1,R0          ;
11444 000016F0 CB02                   M           OR      #BIT1,R0                ;
11445 000016F2 2101                   M           MOV.W   R0,@R1          ;
11446                            3484     
11447                            3485     ;       --------反転及び全モードタイマ時はタイマ処理から再開をクリア[2/]------
11448                            3486             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
11449 000016F4 200A                   M           XOR     R0,R0           ;
11450 000016F6 D103                   M           MOV.L   #_DURING_TIM_FX,R1      ;
11451 000016F8 2101                   M           MOV.W   R0,@R1          ;
11452                            3487             M_BRA   POS_ALLSTEPCTL_900                      ;
11453 000016FA A17E                   M           BRA     POS_ALLSTEPCTL_900
11454 000016FC 0009                   M           NOP
11455                            3488     
11456                            3489     
11457                            3490     ;       ======= 次の起動の演算または終了の判断=====
11458                                     ***** BEGIN-POOL *****
11459 000016FE 0000                       ALIGNMENT CODE
11460 00001700 00000000                   DATA FOR SOURCE-LINE 3483
11461 00001704 00000000                   DATA FOR SOURCE-LINE 3486
11462                                     ***** END-POOL *****
11463 00001708                   3491     POS_ALLSTEPCTL_400:
11464                            3492              .AIF   1 EQ 1  ;
11465                            3493 C   ;       -------- 2016-10-31 ADD 二重回路対策
11466                            3494              .AENDI
11467                            3495     
11468                            3496     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
11469 00001708 D110              3497             MOV.L   #_CMPSTEP_STEP_END,R1           ;
11470 0000170A 6011              3498             MOV.W   @R1,R0                          ;
11471 0000170C 2008              3499             TST     R0,R0                           ;
11472                            3500             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
11473 0000170E 8B12                   M           BF      POS_ALLSTEPCTL_415
11474                            3501     
11475                            3502     ;       --2016-10-31(2016-08-12)(CMPERR対策)---------
11476 00001710 D10F              3503             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE    99
PROGRAM NAME =

11477 00001712 6011              3504             MOV.W   @R1,R0                          ;
11478 00001714 2008              3505             TST     R0,R0                           ;
11479                            3506             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
11480 00001716 8B0E                   M           BF      POS_ALLSTEPCTL_415
11481                            3507     
11482                            3508     
11483                            3509     
11484                            3510     ;       === ﾌﾙｸﾛｰｽﾞ・回転共にこれで止める　連続・回転・停止なしのみここ以外
11485 00001718 D10E              3511             MOV.L   #_MODE_SEL,R1                   ;
11486 0000171A 6011              3512             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
11487 0000171C C808              3513             TST     #_W1CNT,R0                      ;
11488                            3514             TST_BIT_OF POS_ALLSTEPCTL_415           ;
11489 0000171E 890A                   M           BT      POS_ALLSTEPCTL_415
11490                            3515     
11491                            3516     ;       ===== 2004-12-20 ===
11492 00001720 D10D              3517             MOV.L   #_CPOS_MOD_FLG1,R1              ;
11493 00001722 6011              3518             MOV.W   @R1,R0                          ;
11494 00001724 C804              3519             TST     #BIT2,R0                        ;
11495                            3520             TST_BIT_ON POS_ALLSTEPCTL_415           ;
11496 00001726 8B06                   M           BF      POS_ALLSTEPCTL_415
11497                            3521     
11498 00001728 D10C              3522             MOV.L   #_STOP_LATCH_B,R1               ;
11499 0000172A 6011              3523             MOV.W   @R1,R0                          ;
11500 0000172C 2008              3524             TST     R0,R0                           ;
11501                            3525             TST_BIT_OF POS_ALLSTEPCTL_415           ;
11502 0000172E 8902                   M           BT      POS_ALLSTEPCTL_415
11503                            3526             FAR_JSR #_STOP_LTH_OUT,R0               ;自分を止めるのが目的
11504 00001730 D00B                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11505 00001732 400B                   M           JSR     @R0                     ;
11506 00001734 0009                   M           NOP                                     ;
11507                            3527     
11508 00001736                   3528     POS_ALLSTEPCTL_415:                             ;
11509                            3529     
11510                            3530     ;       ===================================
11511                            3531     ;       ===     二重回路対策            ===
11512                            3532     ;       ===     工程完了                ===
11513                            3533     ;       ===================================
11514                            3534     ;;;;;;;;;;;;;FORCE_STEPEND_HAND200:                             ;[2015-04-08]
11515                            3535     
11516                            3536              .AIF   1 EQ 1  ;
11517                            3537 C   ;       -------- 2016-10-31 ADD 二重回路対策
11518                            3538              .AENDI
11519 00001736 9008              3539             MOV.W   #D'5,R0                         ;CPUAがCPUBの開始に反応しないかどうかの確
                                          認(2016-08-26)
11520 00001738 D105              3540             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
11521 0000173A 2101              3541             MOV.W   R0,@R1                          ;ﾊﾝﾄﾞｼｪｲｸ終了後2msecだけ停止釦を検知しない
11522                            3542     
11523                            3543             FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
11524 0000173C D009                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11525 0000173E 400B                   M           JSR     @R0                     ;
11526 00001740 0009                   M           NOP                                     ;
11527 00001742 2008              3544             TST     R0,R0                           ;
11528                            3545             TST_BIT_ON POS_ALLSTEPCTL_420           ;
11529 00001744 8B10                   M           BF      POS_ALLSTEPCTL_420
11530                            3546             M_BRA   POS_ALLSTEPCTL_900              ;
11531 00001746 A158                   M           BRA     POS_ALLSTEPCTL_900
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   100
PROGRAM NAME =

11532 00001748 0009                   M           NOP
11533                                     ***** BEGIN-POOL *****
11534 0000174A 0005                       DATA FOR SOURCE-LINE 3539
11535 0000174C 00000000                   DATA FOR SOURCE-LINE 3497
11536 00001750 00000000                   DATA FOR SOURCE-LINE 3503,3540
11537 00001754 00000000                   DATA FOR SOURCE-LINE 3511
11538 00001758 00000000                   DATA FOR SOURCE-LINE 3517
11539 0000175C 00000000                   DATA FOR SOURCE-LINE 3522
11540 00001760 00000000                   DATA FOR SOURCE-LINE 3526
11541 00001764 00000000                   DATA FOR SOURCE-LINE 3543
11542                                     ***** END-POOL *****
11543 00001768                   3547     POS_ALLSTEPCTL_420:                             ;
11544                            3548             FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
11545 00001768 D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11546 0000176A 400B                   M           JSR     @R0                     ;
11547 0000176C 0009                   M           NOP                                     ;
11548                            3549     
11549                            3550     ;       ===================
11550                            3551     ;       ===     CAM2    ===
11551                            3552     ;       ===================
11552                            3553             FAR_JSR #_CAM_1STEP_END_SIG2,R0         ;
11553 0000176E D00B                   M           MOV.L   #_CAM_1STEP_END_SIG2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11554 00001770 400B                   M           JSR     @R0                     ;
11555 00001772 0009                   M           NOP                                     ;
11556                            3554     
11557                            3555     
11558                            3556     ;       ====== 次の工程演算[繰り返しCHK] ======
11559                            3557             FAR_JSR #_MOT_REP_STEPCHK,R0            ;ﾘﾋﾟｰﾄ開始(通常工程->ﾘﾋﾟｰﾄ戻工程,ﾘﾋﾟｰﾄ戻->
                                          ﾘﾋﾟｰﾄ開始工程)
11560 00001774 D00A                   M           MOV.L   #_MOT_REP_STEPCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11561 00001776 400B                   M           JSR     @R0                     ;
11562 00001778 0009                   M           NOP                                     ;
11563                            3558     
11564 0000177A D50A              3559             MOV.L   #_MOT_REP_F,R5                  ;//BIT1(ﾚﾋﾟｰﾄ演算しろ),BIT2(ﾘﾋﾟｰﾄ戻実行中)
11565 0000177C 6051              3560             MOV.W   @R5,R0                          ;
11566 0000177E C804              3561             TST     #BIT2,R0                        ;
11567                            3562             TST_BIT_OF POS_ALLSTEPCTL_428           ;ﾘﾋﾟｰﾄから通常の開始工程に切り替えろ?
11568 00001780 8918                   M           BT      POS_ALLSTEPCTL_428
11569 00001782 C901              3563             AND     #(BIT0),R0                      ;BIT3,BIT2:CLR
11570 00001784 2501              3564             MOV.W   R0,@R5                          ;
11571 00001786 D408              3565             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
11572 00001788 6141              3566             MOV.W   @R4,R1                          ;
11573 0000178A D508              3567             MOV.L   #_INT_POS_CTL_STEP,R5           ;//内部制御工程1~11
11574 0000178C 2511              3568             MOV.W   R1,@R5                          ;
11575 0000178E D008              3569             MOV.L   #_SV_POS_CTL_STEP,R0            ;//1msec 制御上の見かけ
11576 00001790 2011              3570             MOV.W   R1,@R0                          ;
11577                            3571             M_BRA   POS_ALLSTEPCTL_580              ;工程番号から位置演算
11578 00001792 A090                   M           BRA     POS_ALLSTEPCTL_580
11579 00001794 0009                   M           NOP
11580                            3572     
11581                            3573     
11582                                     ***** BEGIN-POOL *****
11583 00001796 0000                       ALIGNMENT CODE
11584 00001798 00000000                   DATA FOR SOURCE-LINE 3548
11585 0000179C 00000000                   DATA FOR SOURCE-LINE 3553
11586 000017A0 00000000                   DATA FOR SOURCE-LINE 3557
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   101
PROGRAM NAME =

11587 000017A4 00000000                   DATA FOR SOURCE-LINE 3559
11588 000017A8 00000000                   DATA FOR SOURCE-LINE 3565
11589 000017AC 00000000                   DATA FOR SOURCE-LINE 3567
11590 000017B0 00000000                   DATA FOR SOURCE-LINE 3569
11591                                     ***** END-POOL *****
11592 000017B4                   3574     POS_ALLSTEPCTL_428
11593 000017B4 C802              3575             TST     #BIT1,R0                        ;
11594                            3576             TST_BIT_OF POS_ALLSTEPCTL_430           ;
11595 000017B6 890D                   M           BT      POS_ALLSTEPCTL_430
11596 000017B8 C901              3577             AND     #(BIT0),R0                      ;BIT1:CLR BIT3:ふりこ時に使用される
11597 000017BA 2501              3578             MOV.W   R0,@R5                          ;
11598                            3579     
11599                            3580             FAR_JSR #_DEBUG_BRK_POINT2,R0           ;
11600 000017BC D003                   M           MOV.L   #_DEBUG_BRK_POINT2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11601 000017BE 400B                   M           JSR     @R0                     ;
11602 000017C0 0009                   M           NOP                                     ;
11603                            3581     
11604                            3582             FAR_JSR #_MOT_REPSTART_CALC,R0          ;
11605 000017C2 D003                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11606 000017C4 400B                   M           JSR     @R0                     ;
11607 000017C6 0009                   M           NOP                                     ;
11608                            3583             M_BRA   POS_ALLSTEPCTL_590              ;位置演算後の処理
11609 000017C8 A0BB                   M           BRA     POS_ALLSTEPCTL_590
11610 000017CA 0009                   M           NOP
11611                            3584     
11612                            3585     
11613                                     ***** BEGIN-POOL *****
11614 000017CC 00000000                   DATA FOR SOURCE-LINE 3580
11615 000017D0 00000000                   DATA FOR SOURCE-LINE 3582
11616                                     ***** END-POOL *****
11617 000017D4                   3586     POS_ALLSTEPCTL_430:                             ;
11618                            3587     ;       ====== 次の工程演算 ======
11619 000017D4 D509              3588             MOV.L   #_INT_POS_CTL_STEP,R5   ;//内部制御工程1~11
11620 000017D6 6051              3589             MOV.W   @R5,R0                  ;
11621 000017D8 70FF              3590             ADD     #-1,R0                  ;
11622 000017DA 4008              3591             SHLL2   R0                      ;
11623 000017DC D708              3592             MOV.L   #_CPOS_SDAT1_CNTSTEP,R7 ;
11624 000017DE 017E              3593             MOV.L   @(R0,R7),R1             ;この工程の最後のｽﾃｯﾌﾟ
11625 000017E0 D608              3594             MOV.L   #_CPOS_STEP_MAX,R6      ;//設定
11626 000017E2 6461              3595             MOV.W   @R6,R4                  ;
11627 000017E4 7401              3596             ADD     #1,R4                   ;
11628 000017E6 3142              3597             CMP/HS  R4,R1                   ;R4=(<)R1:NOW 最終工程?
11629 000017E8 8912              3598             BT      POS_ALLSTEPCTL_450      ;YES 最終工程だった JUMP
11630 000017EA 7101              3599             ADD     #1,R1                   ;
11631 000017EC 2511              3600             MOV.W   R1,@R5                  ;NEXT ｾｯﾄ
11632                            3601     
11633                            3602     ;       =======================================
11634 000017EE D406              3603             MOV.L   #_CAM_CNT_CHG_FLG,R4            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
11635 000017F0 200A              3604             XOR     R0,R0                           ;
11636 000017F2 2401              3605             MOV.W   R0,@R4                          ;
11637                            3606     ;       =========================================
11638                            3607     
11639                            3608     ;       =================================================
11640 000017F4 D005              3609             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
11641 000017F6 2011              3610             MOV.W   R1,@R0                  ;
11642                            3611     ;       ================================================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   102
PROGRAM NAME =

11643                            3612     ;       === 次の工程への処理===         ;
11644                            3613             M_BRA   POS_ALLSTEPCTL_580      ;
11645 000017F8 A05D                   M           BRA     POS_ALLSTEPCTL_580
11646 000017FA 0009                   M           NOP
11647                            3614     
11648                            3615     ;====通常の安一等の最終工程,連続停止の最終行程もここ 2004-03-03
11649                                     ***** BEGIN-POOL *****
11650 000017FC 00000000                   DATA FOR SOURCE-LINE 3588
11651 00001800 00000000                   DATA FOR SOURCE-LINE 3592
11652 00001804 00000000                   DATA FOR SOURCE-LINE 3594
11653 00001808 00000000                   DATA FOR SOURCE-LINE 3603
11654 0000180C 00000000                   DATA FOR SOURCE-LINE 3609
11655                                     ***** END-POOL *****
11656 00001810                   3616     POS_ALLSTEPCTL_450:
11657                            3617             FAR_JSR #_MOTION_CYCLE_END,R0           ;
11658 00001810 D00D                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11659 00001812 400B                   M           JSR     @R0                     ;
11660 00001814 0009                   M           NOP                                     ;
11661                            3618     
11662                            3619             .AIF    0 EQ    0
11663                            3620 C           FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
11664 00001816 D00D                   M           MOV.L   #_API_IVW_CYC_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11665 00001818 400B                   M           JSR     @R0                     ;
11666 0000181A 0009                   M           NOP                                     ;
11667                            3621 C   
11668                            3622             .AENDI
11669                            3623     
11670                            3624             FAR_JSR #_MOTION_CYCLE_ED2,R0           ;連続のVﾓｰﾄﾞがここを通過している
11671 0000181C D00C                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11672 0000181E 400B                   M           JSR     @R0                     ;
11673 00001820 0009                   M           NOP                                     ;
11674                            3625             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
11675 00001822 D00C                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11676 00001824 400B                   M           JSR     @R0                     ;
11677 00001826 0009                   M           NOP                                     ;
11678                            3626     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT1,R0
11679                            3627     
11680                            3628     
11681                            3629     ;       == 非常停止解除(ｻｲｸﾙ運転),1CYCLEND ==
11682 00001828 D10B              3630             MOV.L   #_MODE_SEL,R1                   ;
11683 0000182A 6011              3631             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
11684 0000182C C80A              3632             TST     #(_W1CNT+_W1INC),R0             ;
11685                            3633             TST_BIT_OF POS_ALLSTEPCTL_600X          ;終了
11686 0000182E 8909                   M           BT      POS_ALLSTEPCTL_600X
11687                            3634     
11688 00001830 C802              3635             TST     #(_W1INC),R0                    ;
11689                            3636             TST_BIT_ON POS_ALLSTEPCTL_530           ;開始
11690 00001832 8B17                   M           BF      POS_ALLSTEPCTL_530
11691                            3637     
11692                            3638     ;       === 連続 ===
11693 00001834 D109              3639             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11694 00001836 6011              3640             MOV.W   @R1,R0                          ;
11695 00001838 C801              3641             TST     #BIT0,R0                        ;
11696                            3642             TST_BIT_ON POS_ALLSTEPCTL_600X          ;終了
11697 0000183A 8B03                   M           BF      POS_ALLSTEPCTL_600X
11698                            3643     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   103
PROGRAM NAME =

11699                            3644              .AIF   1 EQ 1  ;
11700                            3645 C   ;       -------- 2016-10-31 ADD 二重回路対策
11701                            3646              .AENDI
11702                            3647     ;;;2016-10-31   M_BRA   POS_ALLSTEPCTL_550              ;(連続のＶﾓｰﾄﾞでの最終工程から最初
                                          の行程) 停止付の処理
11703                            3648     
11704                            3649     ;       ----------- 2016-10-31(2016-07-31)(CMPERR対策)--------
11705                            3650             .AIF    0 EQ    0
11706 0000183C D108              3651 C           MOV.L   #_SH2_HD_CNT_STOP,R1            ;
11707                            3652             .AELSE
11708                            3653             MOV.L   #_SH4_HD_CNT_STOP,R1            ;
11709                            3654             .AENDI
11710 0000183E 6011              3655             MOV.W   @R1,R0                          ;
11711 00001840 2008              3656             TST     R0,R0                           ;
11712                            3657             TST_BIT_OF POS_ALLSTEPCTL_550           ;(連続のＶﾓｰﾄﾞでの最終工程から最初の行程)
                                          停止付の処理
11713 00001842 8919                   M           BT      POS_ALLSTEPCTL_550
11714                            3658     ;;;;2016-08-24  XOR     R0,R0                           ;相手の信号を受け付けた場合,相手の
                                          信号をOFFしておく
11715                            3659     ;;;;2016-08-24  MOV.W   R0,@R1                          ;不要
11716                            3660     
11717 00001844                   3661     POS_ALLSTEPCTL_600X             ;終了
11718                            3662             M_BRA   POS_ALLSTEPCTL_600              ;終了
11719 00001844 A0C4                   M           BRA     POS_ALLSTEPCTL_600
11720 00001846 0009                   M           NOP
11721                            3663     
11722                            3664     
11723                                     ***** BEGIN-POOL *****
11724 00001848 00000000                   DATA FOR SOURCE-LINE 3617
11725 0000184C 00000000                   DATA FOR SOURCE-LINE 3620
11726 00001850 00000000                   DATA FOR SOURCE-LINE 3624
11727 00001854 00000000                   DATA FOR SOURCE-LINE 3625
11728 00001858 00000000                   DATA FOR SOURCE-LINE 3630
11729 0000185C 00000000                   DATA FOR SOURCE-LINE 3639
11730 00001860 00000000                   DATA FOR SOURCE-LINE 3651
11731                                     ***** END-POOL *****
11732 00001864                   3665     POS_ALLSTEPCTL_530:                             ;
11733 00001864 D103              3666             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
11734 00001866 6111              3667             MOV.W   @R1,R1                          ;.3
11735 00001868 9203              3668             MOV.W   #BIT3,R2                        ;
11736 0000186A 2128              3669             TST     R2,R1
11737                            3670             TST_BIT_OF POS_ALLSTEPCTL_550           ;
11738 0000186C 8904                   M           BT      POS_ALLSTEPCTL_550
11739                            3671             M_BRA   POS_ALLSTEPCTL_600              ;終了 寸動一工程
11740 0000186E A0AF                   M           BRA     POS_ALLSTEPCTL_600
11741 00001870 0009                   M           NOP
11742                            3672     
11743                            3673     ;       === 継続運転<> ==
11744                                     ***** BEGIN-POOL *****
11745 00001872 0008                       DATA FOR SOURCE-LINE 3668
11746 00001874 00000000                   DATA FOR SOURCE-LINE 3666
11747                                     ***** END-POOL *****
11748 00001878                   3674     POS_ALLSTEPCTL_550:                             ;
11749                            3675             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT4,WKREG=R1 ;2012-12-10 DEB
                                          UG
11750 00001878 D11A                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11751 0000187A 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   104
PROGRAM NAME =

11752 0000187C CB10                   M           OR      #BIT4,R0                ;
11753 0000187E 2101                   M           MOV.W   R0,@R1          ;
11754                            3676             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT3+BIT2+BIT1+BIT0),WKREG
                                          =R1     ;2012-12-10 DEBUG
11755 00001880 D118                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11756 00001882 6011                   M           MOV.W   @R1,R0          ;
11757 00001884 C9F0                   M           AND     #LOW ~(BIT3+BIT2+BIT1+BIT0),R0          ;
11758 00001886 2101                   M           MOV.W   R0,@R1          ;
11759                            3677     
11760                            3678              .AIF   1 EQ 1  ;
11761                            3679 C   ;       -------- 2016-10-31 ADD 二重回路対策
11762                            3680              .AENDI
11763                            3681     ;       ---------連続及び寸動の継続時の１サイクル終了はここ
11764                            3682             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
11765 00001888 D017                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11766 0000188A 400B                   M           JSR     @R0                     ;
11767 0000188C 0009                   M           NOP                                     ;
11768                            3683     
11769                            3684     ;       ----- [2009-10-07下振子]-----
11770                            3685             FAR_JSR #_DNM_CYCLE_START,R0            ;連続の次のｻｲｸﾙ開始はここ
11771 0000188E D017                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11772 00001890 400B                   M           JSR     @R0                     ;
11773 00001892 0009                   M           NOP                                     ;
11774                            3686     
11775 00001894 200A              3687             XOR     R0,R0                           ;
11776                            3688     ;       =======================================
11777 00001896 D116              3689             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
11778 00001898 2101              3690             MOV.W   R0,@R1                          ;
11779                            3691     ;       =========================================
11780 0000189A D116              3692             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
11781 0000189C 2101              3693             MOV.W   R0,@R1                          ;
11782 0000189E D116              3694             MOV.L   #_LINK_OBJROT_NUM_ZR,R1         ;//NOW ROTATION 番号
11783 000018A0 6212              3695             MOV.L   @R1,R2                          ;+0
11784                            3696     ;;;;    FAR_JSR #_NEXT_CYCL_START1,R0           ;回転なら+1
11785                            3697             FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0    ;2004-12-20::::連続/寸動の上死点停止付処理
11786 000018A2 D016                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11787 000018A4 400B                   M           JSR     @R0                     ;
11788 000018A6 0009                   M           NOP                                     ;
11789                            3698     
11790 000018A8 D115              3699             MOV.L   #_SV_POS_CTL_STEP,R1            ;//1msec 制御上の見かけ
11791 000018AA 6411              3700             MOV.W   @R1,R4                          ;
11792 000018AC D215              3701             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11793 000018AE 2241              3702             MOV.W   R4,@R2                          ;
11794                            3703     
11795                            3704     
11796                            3705             FAR_JSR #_MOTION_CYCLE_START,R0         ;1回転
11797 000018B0 D015                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11798 000018B2 400B                   M           JSR     @R0                     ;
11799 000018B4 0009                   M           NOP                                     ;
11800                            3706     
11801                            3707     
11802                            3708     
11803                            3709     ;       ==== 通常の行程切替,連続の停止付１回転====
11804                            3710     ;       (((((連続Vﾓｰﾄﾞではここは通らない))))))))
11805 000018B6                   3711     POS_ALLSTEPCTL_580:                             ;<====
11806                            3712     ;       ====== 2007-09-15未出荷　(SIT3:2007-09-15)(COP2:2007-07-07) =============
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   105
PROGRAM NAME =

11807                            3713             FAR_JSR #_POS_LSI_START_INITAL,R0
11808 000018B6 D015                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11809 000018B8 400B                   M           JSR     @R0                     ;
11810 000018BA 0009                   M           NOP                                     ;
11811                            3714     
11812                            3715             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測から設定に取り込まない
11813 000018BC D014                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11814 000018BE 400B                   M           JSR     @R0                     ;
11815 000018C0 0009                   M           NOP                                     ;
11816                            3716     
11817                            3717             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;20060919:
11818 000018C2 D014                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11819 000018C4 400B                   M           JSR     @R0                     ;
11820 000018C6 0009                   M           NOP                                     ;
11821                            3718     
11822 000018C8 D113              3719             MOV.L   #_CPOS_CTL_MATH,R1              ;
11823 000018CA 6011              3720             MOV.W   @R1,R0                          ;
11824 000018CC C801              3721             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
11825                            3722             TST_BIT_OF POS_ALLSTEPCTL_585           ;
11826 000018CE 8935                   M           BT      POS_ALLSTEPCTL_585
11827                            3723     ;       ====== 回転時はこれ==========
11828 000018D0 D112              3724             MOV.L   #_CPOS_BANK_USELFUL,R1          ;2004-12-20
11829 000018D2 6011              3725             MOV.W   @R1,R0                          ;
11830 000018D4 C801              3726             TST     #BIT0,R0                        ;
11831                            3727             TST_BIT_ON POS_ALLSTEPCTL_583           ;<====
11832 000018D6 8B25                   M           BF      POS_ALLSTEPCTL_583
11833                            3728             FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;_LNGTH,SHIN,SPEED<設定から求める>
11834 000018D8 D011                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11835 000018DA 400B                   M           JSR     @R0                     ;
11836 000018DC 0009                   M           NOP                                     ;
11837                            3729             M_BRA   POS_ALLSTEPCTL_590              ;[]
11838 000018DE A030                   M           BRA     POS_ALLSTEPCTL_590
11839 000018E0 0009                   M           NOP
11840                            3730     
11841                                     ***** BEGIN-POOL *****
11842 000018E2 0000                       ALIGNMENT CODE
11843 000018E4 00000000                   DATA FOR SOURCE-LINE 3675,3676
11844 000018E8 00000000                   DATA FOR SOURCE-LINE 3682
11845 000018EC 00000000                   DATA FOR SOURCE-LINE 3685
11846 000018F0 00000000                   DATA FOR SOURCE-LINE 3689
11847 000018F4 00000000                   DATA FOR SOURCE-LINE 3692
11848 000018F8 00000000                   DATA FOR SOURCE-LINE 3694
11849 000018FC 00000000                   DATA FOR SOURCE-LINE 3697
11850 00001900 00000000                   DATA FOR SOURCE-LINE 3699
11851 00001904 00000000                   DATA FOR SOURCE-LINE 3701
11852 00001908 00000000                   DATA FOR SOURCE-LINE 3705
11853 0000190C 00000000                   DATA FOR SOURCE-LINE 3713
11854 00001910 00000000                   DATA FOR SOURCE-LINE 3715
11855 00001914 00000000                   DATA FOR SOURCE-LINE 3717
11856 00001918 00000000                   DATA FOR SOURCE-LINE 3719
11857 0000191C 00000000                   DATA FOR SOURCE-LINE 3724
11858 00001920 00000000                   DATA FOR SOURCE-LINE 3728
11859                                     ***** END-POOL *****
11860 00001924                   3731     POS_ALLSTEPCTL_583                              ;
11861                            3732     ;       === 連続の上死点ﾀｲﾏなし===
11862                            3733             FAR_JSR #_POS_CNT_BANK_DTMAK3,R0        ;ﾀｲﾏ停止後の起動
11863 00001924 D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK3,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   106
PROGRAM NAME =

11864 00001926 400B                   M           JSR     @R0                     ;
11865 00001928 0009                   M           NOP                                     ;
11866                            3734             FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0     ;
11867 0000192A D003                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11868 0000192C 400B                   M           JSR     @R0                     ;
11869 0000192E 0009                   M           NOP                                     ;
11870                            3735             M_BRA   POS_ALLSTEPCTL_590              ;
11871 00001930 A007                   M           BRA     POS_ALLSTEPCTL_590
11872 00001932 0009                   M           NOP
11873                            3736     
11874                                     ***** BEGIN-POOL *****
11875 00001934 00000000                   DATA FOR SOURCE-LINE 3733
11876 00001938 00000000                   DATA FOR SOURCE-LINE 3734
11877                                     ***** END-POOL *****
11878 0000193C                   3737     POS_ALLSTEPCTL_585:                             ;<<<<<<<<<<<<<<<<<<
11879                            3738     
11880                            3739             FAR_JSR #_POS_1STEP_DATA_MAK_SEL,R0     ;2011-11-18 _POS_1STEP_DATA_MAK1CL/POS_1ST
                                          EP_DATA_MAK2の切り替え
11881 0000193C D016                   M           MOV.L   #_POS_1STEP_DATA_MAK_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11882 0000193E 400B                   M           JSR     @R0                     ;
11883 00001940 0009                   M           NOP                                     ;
11884                            3740     
11885                            3741                                                     ;基本的には一致した状態(本当は最終工程だけ
                                          )
11886                            3742     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
11887                            3743     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
11888                            3744     
11889 00001942                   3745     POS_ALLSTEPCTL_590:                             ;
11890                            3746     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ==== 2003-07-14 回転の停止時間変更 ===
11891                            3747     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 2014-08-30
11892                            3748     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   #_SV_CHG_FLG2,R1                ;
11893                            3749     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   @R1,R0                          ;
11894                            3750     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST     R0,R0                           ;
11895                            3751     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST_BIT_ON POS_ALLSTEPCTL_900           ;次の起動をかけな
                                          い
11896                            3752     
11897                            3753     ;       ===(次ｽﾃｯﾌﾟ起動)===
11898                            3754             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-27(data-smp only)
11899 00001942 D016                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11900 00001944 400B                   M           JSR     @R0                     ;
11901 00001946 0009                   M           NOP                                     ;
11902                            3755     
11903                            3756             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
11904 00001948 D015                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11905 0000194A 400B                   M           JSR     @R0                     ;
11906 0000194C 0009                   M           NOP                                     ;
11907                            3757             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(data-smp only)
11908 0000194E D015                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11909 00001950 400B                   M           JSR     @R0                     ;
11910 00001952 0009                   M           NOP                                     ;
11911                            3758     
11912                            3759     
11913                            3760     ;;;;;;  FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
11914                            3761     ;;;;;(連続のＶﾓｰﾄﾞもここを通過してきているので安全一行程だけ)
11915                            3762             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   107
PROGRAM NAME =

11916 00001954 D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11917 00001956 400B                   M           JSR     @R0                     ;
11918 00001958 0009                   M           NOP                                     ;
11919                            3763     
11920                            3764     ;       == 2004-03 ===
11921                            3765             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;"SGL"
11922 0000195A D014                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11923 0000195C 400B                   M           JSR     @R0                     ;
11924 0000195E 0009                   M           NOP                                     ;
11925 00001960 9018              3766             MOV.W   #D'2,R0                 ;
11926 00001962 D113              3767             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
11927 00001964 2101              3768             MOV.W   R0,@R1                          ;
11928                            3769     
11929                            3770             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;"SGL"
11930 00001966 D013                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11931 00001968 400B                   M           JSR     @R0                     ;
11932 0000196A 0009                   M           NOP                                     ;
11933                            3771             FAR_JSR #_FWD_REV_START,R1              ;起動
11934 0000196C D112                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11935 0000196E 410B                   M           JSR     @R1                     ;
11936 00001970 0009                   M           NOP                                     ;
11937                            3772     
11938                            3773     ;       -------- 2010-09-27 ふりこ情報--------
11939                            3774             FAR_JSR #_DNM_START_ACC_CALC,R0
11940 00001972 D012                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11941 00001974 400B                   M           JSR     @R0                     ;
11942 00001976 0009                   M           NOP                                     ;
11943                            3775     
11944                            3776             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
11945 00001978 D011                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11946 0000197A 400B                   M           JSR     @R0                     ;
11947 0000197C 0009                   M           NOP                                     ;
11948                            3777     
11949 0000197E 200A              3778             XOR     R0,R0                           ;
11950 00001980 D110              3779             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
11951 00001982 2101              3780             MOV.W   R0,@R1                          ;Q
11952                            3781     
11953                            3782     ;       ==== ﾆｱｾﾞﾛ,ﾊﾝﾄﾞｼｪｲｸ終了,ｸﾛｰｽﾞﾌﾗｸﾞCLR ===
11954                            3783             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
11955 00001984 D010                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11956 00001986 400B                   M           JSR     @R0                     ;
11957 00001988 0009                   M           NOP                                     ;
11958                            3784     
11959                            3785     ;       ---------------- 起動 2011-09-01 -------------------
11960                            3786             FAR_JSR #_UP_ACCERR_START_INI,R0
11961 0000198A D010                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11962 0000198C 400B                   M           JSR     @R0                     ;
11963 0000198E 0009                   M           NOP                                     ;
11964                            3787     
11965                            3788             M_BRA   POS_ALLSTEPCTL_900              ;
11966 00001990 A033                   M           BRA     POS_ALLSTEPCTL_900
11967 00001992 0009                   M           NOP
11968                            3789     
11969                                     ***** BEGIN-POOL *****
11970 00001994 0002                       DATA FOR SOURCE-LINE 3766
11971 00001996 0000                       ALIGNMENT CODE
11972 00001998 00000000                   DATA FOR SOURCE-LINE 3739
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   108
PROGRAM NAME =

11973 0000199C 00000000                   DATA FOR SOURCE-LINE 3754
11974 000019A0 00000000                   DATA FOR SOURCE-LINE 3756
11975 000019A4 00000000                   DATA FOR SOURCE-LINE 3757
11976 000019A8 00000000                   DATA FOR SOURCE-LINE 3762
11977 000019AC 00000000                   DATA FOR SOURCE-LINE 3765
11978 000019B0 00000000                   DATA FOR SOURCE-LINE 3767
11979 000019B4 00000000                   DATA FOR SOURCE-LINE 3770
11980 000019B8 00000000                   DATA FOR SOURCE-LINE 3771
11981 000019BC 00000000                   DATA FOR SOURCE-LINE 3774
11982 000019C0 00000000                   DATA FOR SOURCE-LINE 3776
11983 000019C4 00000000                   DATA FOR SOURCE-LINE 3779
11984 000019C8 00000000                   DATA FOR SOURCE-LINE 3783
11985 000019CC 00000000                   DATA FOR SOURCE-LINE 3786
11986                                     ***** END-POOL *****
11987 000019D0                   3790     POS_ALLSTEPCTL_600:
11988                            3791             FAR_JSR #_MOTION_CYCLE_END,R0                   ;2回目通る
11989 000019D0 D00C                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11990 000019D2 400B                   M           JSR     @R0                     ;
11991 000019D4 0009                   M           NOP                                     ;
11992                            3792             FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
11993 000019D6 D00C                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11994 000019D8 400B                   M           JSR     @R0                     ;
11995 000019DA 0009                   M           NOP                                     ;
11996                            3793             FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
11997 000019DC D00B                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11998 000019DE 400B                   M           JSR     @R0                     ;
11999 000019E0 0009                   M           NOP                                     ;
12000                            3794     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT2,R0
12001                            3795     
12002                            3796             .AIF    0 EQ    0
12003                            3797 C           FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
12004 000019E2 D00B                   M           MOV.L   #_API_IVW_CYC_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12005 000019E4 400B                   M           JSR     @R0                     ;
12006 000019E6 0009                   M           NOP                                     ;
12007                            3798             .AENDI
12008                            3799     
12009                            3800             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
12010 000019E8 D10A                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12011 000019EA 6011                   M           MOV.W   @R1,R0          ;
12012 000019EC CB40                   M           OR      #BIT6,R0                ;
12013 000019EE 2101                   M           MOV.W   R0,@R1          ;
12014                            3801     
12015                            3802     ;       ======ｻｲｸﾙ停止状態ON==========================
12016 000019F0 D109              3803             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
12017 000019F2 6011              3804             MOV.W   @R1,R0                                  ;
12018 000019F4 9404              3805             MOV.W   #BIT7,R4                                ;
12019 000019F6 204B              3806             OR      R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
                                          る
12020 000019F8 2101              3807             MOV.W   R0,@R1                                  ;
12021                            3808     ;       ===============================================
12022 000019FA                   3809     POS_ALLSTEPCTL_900:
12023                            3810     
12024                            3811     
12025                            3812     
12026                            3813     
12027                            3814     
12028                            3815     ;       ------- 2012-12-10 DEBUG-----------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   109
PROGRAM NAME =

12029                            3816     ;;;2014-09-14   MOV.L   #_DNM_DEBUG_STS1,R1
12030                            3817     ;;;2014-09-14   MOV.W   @R1,R2
12031                            3818     ;;;2014-09-14   MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
12032                            3819     ;;;2014-09-14   MOV.W   R2,@R1                          ;ﾃﾞﾊﾞｯｸ専用
12033                            3820     
12034                            3821     
12035                            3822             SUB_END
12036                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12037 000019FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12038                            3823             M_RTS
12039 000019FC 000B                   M           RTS                             ;RTSの後ろの
12040 000019FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12041                            3824     
12042                            3825     
12043                            3826     
12044                            3827     
12045                            3828     
12046                            3829     
12047                                     ***** BEGIN-POOL *****
12048 00001A00 0080                       DATA FOR SOURCE-LINE 3805
12049 00001A02 0000                       ALIGNMENT CODE
12050 00001A04 00000000                   DATA FOR SOURCE-LINE 3791
12051 00001A08 00000000                   DATA FOR SOURCE-LINE 3792
12052 00001A0C 00000000                   DATA FOR SOURCE-LINE 3793
12053 00001A10 00000000                   DATA FOR SOURCE-LINE 3797
12054 00001A14 00000000                   DATA FOR SOURCE-LINE 3800
12055 00001A18 00000000                   DATA FOR SOURCE-LINE 3803
12056                                     ***** END-POOL *****
12057 00001A1C                   3830     _DEBUG_BRK_POINT1
12058                            3831             SUB_START
12059 00001A1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12060                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12061                            3832     ;       -------debug break-point set----------
12062                            3833             PUSH_REG1 R0
12063 00001A1E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
12064                                 M                                           ;REG=>[SP]
12065                                 M                                           ;"-4" FF,FF,FF,FC
12066                            3834             PUSH_REG1 R1
12067 00001A20 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12068                                 M                                           ;REG=>[SP]
12069                                 M                                           ;"-4" FF,FF,FF,FC
12070 00001A22 D107              3835             MOV.L   #_di2_cb_ctl2,R1        ;
12071 00001A24 6011              3836             MOV.W   @R1,R0                  ;
12072 00001A26 C880              3837             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12073                            3838             TST_BIT_OF DEBUG_BRK_PNT1_100
12074 00001A28 8904                   M           BT      DEBUG_BRK_PNT1_100
12075                            3839     
12076 00001A2A 0009              3840             NOP
12077 00001A2C 0009              3841             NOP
12078 00001A2E 0009              3842             NOP
12079 00001A30 0009              3843             NOP
12080 00001A32 0009              3844             NOP
12081                            3845     
12082                            3846     
12083 00001A34                   3847     DEBUG_BRK_PNT1_100
12084                            3848     
12085                            3849     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   110
PROGRAM NAME =

12086                            3850             POP_REG1 R1
12087                                 M                                   ; RE"+4" 00,00,00,04
12088 00001A34 61F6                   M           MOV.L   @R15+,R1        ;
12089                            3851             POP_REG1 R0
12090                                 M                                   ; RE"+4" 00,00,00,04
12091 00001A36 60F6                   M           MOV.L   @R15+,R0        ;
12092                            3852             SUB_END
12093                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12094 00001A38 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12095                            3853             M_RTS
12096 00001A3A 000B                   M           RTS                             ;RTSの後ろの
12097 00001A3C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12098                            3854     
12099                                     ***** BEGIN-POOL *****
12100 00001A3E 0000                       ALIGNMENT CODE
12101 00001A40 00000000                   DATA FOR SOURCE-LINE 3835
12102                                     ***** END-POOL *****
12103 00001A44                   3855     _DEBUG_BRK_POINT2
12104                            3856             SUB_START
12105 00001A44 4F22                   M           STS.L   PR,@-R15                ;[必要]
12106                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12107                            3857     ;       -------debug break-point set----------
12108                            3858             PUSH_REG1 R0
12109 00001A46 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
12110                                 M                                           ;REG=>[SP]
12111                                 M                                           ;"-4" FF,FF,FF,FC
12112                            3859             PUSH_REG1 R1
12113 00001A48 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12114                                 M                                           ;REG=>[SP]
12115                                 M                                           ;"-4" FF,FF,FF,FC
12116 00001A4A D107              3860             MOV.L   #_di2_cb_ctl2,R1        ;
12117 00001A4C 6011              3861             MOV.W   @R1,R0                  ;
12118 00001A4E C880              3862             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12119                            3863             TST_BIT_OF DEBUG_BRK_PNT2_100
12120 00001A50 8904                   M           BT      DEBUG_BRK_PNT2_100
12121                            3864     
12122 00001A52 0009              3865             NOP
12123 00001A54 0009              3866             NOP
12124 00001A56 0009              3867             NOP
12125 00001A58 0009              3868             NOP
12126 00001A5A 0009              3869             NOP
12127                            3870     
12128                            3871     
12129 00001A5C                   3872     DEBUG_BRK_PNT2_100
12130                            3873     
12131                            3874     
12132                            3875             POP_REG1 R1
12133                                 M                                   ; RE"+4" 00,00,00,04
12134 00001A5C 61F6                   M           MOV.L   @R15+,R1        ;
12135                            3876             POP_REG1 R0
12136                                 M                                   ; RE"+4" 00,00,00,04
12137 00001A5E 60F6                   M           MOV.L   @R15+,R0        ;
12138                            3877             SUB_END
12139                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12140 00001A60 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12141                            3878             M_RTS
12142 00001A62 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   111
PROGRAM NAME =

12143 00001A64 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12144                            3879     
12145                                     ***** BEGIN-POOL *****
12146 00001A66 0000                       ALIGNMENT CODE
12147 00001A68 00000000                   DATA FOR SOURCE-LINE 3860
12148                                     ***** END-POOL *****
12149 00001A6C                   3880     _DEBUG_BRK_POINT3
12150                            3881             SUB_START
12151 00001A6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12152                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12153                            3882     ;       -------debug break-point set----------
12154                            3883             PUSH_REG1 R0
12155 00001A6E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
12156                                 M                                           ;REG=>[SP]
12157                                 M                                           ;"-4" FF,FF,FF,FC
12158                            3884             PUSH_REG1 R1
12159 00001A70 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12160                                 M                                           ;REG=>[SP]
12161                                 M                                           ;"-4" FF,FF,FF,FC
12162 00001A72 D107              3885             MOV.L   #_di2_cb_ctl2,R1        ;
12163 00001A74 6011              3886             MOV.W   @R1,R0                  ;
12164 00001A76 C880              3887             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12165                            3888             TST_BIT_OF DEBUG_BRK_PNT3_100
12166 00001A78 8904                   M           BT      DEBUG_BRK_PNT3_100
12167                            3889     
12168 00001A7A 0009              3890             NOP
12169 00001A7C 0009              3891             NOP
12170 00001A7E 0009              3892             NOP
12171 00001A80 0009              3893             NOP
12172 00001A82 0009              3894             NOP
12173                            3895     
12174                            3896     
12175 00001A84                   3897     DEBUG_BRK_PNT3_100
12176                            3898     
12177                            3899     
12178                            3900             POP_REG1 R1
12179                                 M                                   ; RE"+4" 00,00,00,04
12180 00001A84 61F6                   M           MOV.L   @R15+,R1        ;
12181                            3901             POP_REG1 R0
12182                                 M                                   ; RE"+4" 00,00,00,04
12183 00001A86 60F6                   M           MOV.L   @R15+,R0        ;
12184                            3902             SUB_END
12185                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12186 00001A88 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12187                            3903             M_RTS
12188 00001A8A 000B                   M           RTS                             ;RTSの後ろの
12189 00001A8C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12190                            3904     
12191                            3905     
12192                            3906     ;       *******************************************************************
12193                            3907     ;       ***                                                             ***
12194                            3908     ;       ***     反転時のフルクローズ後の工程（戻り）は目標位置ではだめ  ***
12195                            3909     ;       ***                                                             ***
12196                            3910     ;       *******************************************************************
12197                            3911     ;       2011-02-18 (2010-10-05 はMCのよるソフト)
12198                            3912     ;
12199                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   112
PROGRAM NAME =

12200 00001A8E 0000                       ALIGNMENT CODE
12201 00001A90 00000000                   DATA FOR SOURCE-LINE 3885
12202                                     ***** END-POOL *****
12203 00001A94                   3913             .ALIGN  4                               ;
12204 00001A94                   3914     _POS_1STEP_DATA_MAK_SEL:
12205                            3915             SUB_START
12206 00001A94 4F22                   M           STS.L   PR,@-R15                ;[必要]
12207                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12208                            3916     
12209 00001A96 D104              3917             MOV.L   #_CPOS_CTL_MATH,R1                      ;
12210 00001A98 6011              3918             MOV.W   @R1,R0                                  ;
12211 00001A9A C805              3919             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
12212                            3920             TST_BIT_ON POS_1STEP_DATA_MKSL100               ;YES
12213 00001A9C 8B08                   M           BF      POS_1STEP_DATA_MKSL100
12214                            3921     
12215                            3922     ;;;     FAR_JSR #_POS_1STEP_DATA_MAK1,R0                ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
12216                            3923             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0              ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
12217 00001A9E D003                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12218 00001AA0 400B                   M           JSR     @R0                     ;
12219 00001AA2 0009                   M           NOP                                     ;
12220                            3924             M_BRA   POS_1STEP_DATA_MKSL200                  ;
12221 00001AA4 A007                   M           BRA     POS_1STEP_DATA_MKSL200
12222 00001AA6 0009                   M           NOP
12223                            3925     
12224                            3926     
12225                                     ***** BEGIN-POOL *****
12226 00001AA8 00000000                   DATA FOR SOURCE-LINE 3917
12227 00001AAC 00000000                   DATA FOR SOURCE-LINE 3923
12228                                     ***** END-POOL *****
12229 00001AB0                   3927     POS_1STEP_DATA_MKSL100:
12230                            3928             FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;目標位置タイプ　2010-10-05
12231 00001AB0 D002                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12232 00001AB2 400B                   M           JSR     @R0                     ;
12233 00001AB4 0009                   M           NOP                                     ;
12234 00001AB6                   3929     POS_1STEP_DATA_MKSL200:
12235                            3930                                                             ;基本的には一致した状態(本当は最終
                                          工程だけ)
12236                            3931     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
12237                            3932     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
12238                            3933     
12239                            3934     
12240                            3935             SUB_END
12241                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12242 00001AB6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12243                            3936             M_RTS
12244 00001AB8 000B                   M           RTS                             ;RTSの後ろの
12245 00001ABA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12246                            3937     
12247                            3938     
12248                            3939     
12249                            3940     
12250                            3941     
12251                            3942     ;       *******************************************
12252                            3943     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   113
PROGRAM NAME =

12253                            3944     ;       ***                                     ***
12254                            3945     ;       ***                                     ***
12255                            3946     ;       ***     JUMP処理短縮のｻﾌﾞﾙｰﾁﾝ化         ***
12256                            3947     ;       ***     2009-10-07                      ***
12257                            3948     ;       ***                                     ***
12258                            3949     ;       ***                                     ***
12259                            3950     ;       *******************************************
12260                                     ***** BEGIN-POOL *****
12261 00001ABC 00000000                   DATA FOR SOURCE-LINE 3928
12262                                     ***** END-POOL *****
12263 00001AC0                   3951     _CNT_NEAR_TIM_CHK:
12264                            3952             SUB_START
12265 00001AC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
12266                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12267                            3953             SUB_END
12268                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12269 00001AC2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12270                            3954             M_RTS
12271 00001AC4 000B                   M           RTS                             ;RTSの後ろの
12272 00001AC6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12273                            3955     
12274 00001AC8                   3956     _POS_ALLSTEP_STOP_SPD_CHK:
12275                            3957             SUB_START
12276 00001AC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
12277                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12278                            3958             SUB_END
12279                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12280 00001ACA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12281                            3959             M_RTS
12282 00001ACC 000B                   M           RTS                             ;RTSの後ろの
12283 00001ACE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12284                            3960     
12285 00001AD0                   3961     _NEAR_ZERO_IN_CHK:
12286                            3962             SUB_START
12287 00001AD0 4F22                   M           STS.L   PR,@-R15                ;[必要]
12288                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12289                            3963             SUB_END
12290                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12291 00001AD2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12292                            3964             M_RTS
12293 00001AD4 000B                   M           RTS                             ;RTSの後ろの
12294 00001AD6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12295                            3965     
12296 00001AD8                   3966     _PLSOUT_STEP_END_TIMSET
12297                            3967             SUB_START
12298 00001AD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
12299                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12300                            3968             SUB_END
12301                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12302 00001ADA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12303                            3969             M_RTS
12304 00001ADC 000B                   M           RTS                             ;RTSの後ろの
12305 00001ADE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12306                            3970     
12307 00001AE0                   3971     _WAIT_TIM_CNT:
12308                            3972             SUB_START
12309 00001AE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   114
PROGRAM NAME =

12310                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12311                            3973             SUB_END
12312                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12313 00001AE2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12314                            3974             M_RTS
12315 00001AE4 000B                   M           RTS                             ;RTSの後ろの
12316 00001AE6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12317                            3975     
12318                            3976     
12319                            3977     ;       ***********************************
12320                            3978     ;       ***                             ***
12321                            3979     ;       ***     次のｻｲｸﾙ演算            ***
12322                            3980     ;       ***                             ***
12323                            3981     ;       ***********************************
12324                            3982     
12325                            3983     ;       ***************************
12326                            3984     ;       ***     Input R2 回転   ***
12327                            3985     ;       ***************************
12328                            3986     ;       ==かならず正転方向から運転を始める
12329                            3987     ;       ==(今の目標位置＝現在位置）は待機点と正転方向の第一目標位置の間にあるか？(正転動作
                                          から始める)０を
12330                            3988     ;       (1)待機点が第一目標位置より小さい場合（普通の設定 目標位置は１回転足されていない）
                                          ０をはさまない
12331                            3989     ;          @待機点と目標位置の範囲内なら足さない
12332                            3990     ;          A　@以外で１８０度(上昇ホールドだけど)〜０度（３６００）の範囲なら＋１する
12333                            3991     ;          Bそれ以外は戻すからそのまま
12334                            3992     ;       (2)待機点が第一目標位置より大きい場合（普通の設定 目標位置は１回転足されている）：
                                          ０をはさむ
12335                            3993     ;          @待機点〜０の間はそのまま
12336                            3994     ;          A０を含む ０〜第一目標位置の間は−１する
12337                            3995     ;          Bそのままにしておく
12338                            3996     
12339                            3997     ;       パルスで考える
12340                            3998     ;
12341                            3999     ;       0ﾊﾟﾙｽから待機点ﾊﾟﾙｽ間はそのまま
12342                            4000     ;       待機ﾊﾟﾙｽ~SV間
12343                            4001     ;
12344                            4002     ;       第一目標位置が360度を越えない場合(またがない場合)
12345                            4003     ;       第一目標位置が360度を越える場合(またぐ場合)
12346                            4004     ;
12347                            4005     ;
12348                            4006     ;       0_______ORG_____SV________359.9
12349                            4007     ;         PV1       PV2     PV3
12350                            4008     ;         *PV1:そのままの回転 PV2:そのまま　PV3 回転+1
12351                            4009     ;
12352                            4010     ;       0_______ORG_______________360.0_______SV______719.9
12353                            4011     ;          PV2          PV1              PV3-2   PV3-1
12354                            4012     ;          PV+360.0
12355                            4013     ;         PV1:そのまま (PV2はない)
12356                            4014     ;         PV3-1:そのまま
12357                            4015     ;         PV3-2: "-1"
12358                            4016     ;       "Input R2"
12359 00001AE8                   4017             .ALIGN  4                               ;
12360 00001AE8                   4018     _NEXT_CYCL_START2:                              ;[正方向から開始する運転の１回目の起動]
12361                            4019             SUB_START                               ;
12362 00001AE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
12363                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   115
PROGRAM NAME =

12364                            4020     
12365                            4021             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
12366 00001AEA D00E                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12367 00001AEC 400B                   M           JSR     @R0                     ;
12368 00001AEE 0009                   M           NOP                                     ;
12369 00001AF0 D40D              4022             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
12370 00001AF2 6242              4023             MOV.L   @R4,R2                                  ;
12371                            4024     
12372 00001AF4 D40D              4025             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;"(目標)"
12373 00001AF6 6942              4026             MOV.L   @R4,R9                                  ;
12374 00001AF8 D10D              4027             MOV.L   #_CPOS_UPAREA_PLS,R1                    ;//4;待機点
12375 00001AFA 6812              4028             MOV.L   @R1,R8                                  ;
12376 00001AFC D10D              4029             MOV.L   #_LINK_1ROT_PLS,R1                      ;待機点より小さかったら+１回転
12377 00001AFE 6712              4030             MOV.L   @R1,R7                                  ;反転時もこの論理でＯＫ
12378                            4031     
12379                            4032     ;;;;2014-09-19 振子の逆待機点からの開始
12380                            4033     ;;;;2014-09-19  MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10             ;
12381 00001B00 DA0D              4034             MOV.L   #_CPOS_SDAT1_OFSPOS,R10         ;
12382 00001B02 63A2              4035             MOV.L   @R10,R3                                 ;1ｽﾃｯﾌﾟ目
12383                            4036     
12384                            4037     ;       ------INC_RESET_USE_F;//STEPを参照して　2014-09-26----------
12385 00001B04 D10D              4038             MOV.L   #_INC_RESET_USE_F,R1            ;
12386 00001B06 6011              4039             MOV.W   @R1,R0                          ;
12387 00001B08 2008              4040             TST     R0,R0                           ;
12388                            4041             TST_BIT_ON POS_START_ROT_CAL_900        ;
12389 00001B0A 8B2B                   M           BF      POS_START_ROT_CAL_900
12390                            4042     ;       ----------------------------------------------------------
12391                            4043     
12392                            4044     
12393                            4045     ;       ----- 2014-09-19　ふりこ反対側待機点からの初起動-----------
12394 00001B0C D10C              4046             MOV.L   #_CPOS_CTL_MATH,R1                      ;
12395 00001B0E 6011              4047             MOV.W   @R1,R0                                  ;
12396 00001B10 C804              4048             TST     #(_DMATH_DNDRIV),R0                     ;往復
12397                            4049             TST_BIT_OF POS_START_ROT_CAL_100                ;
12398 00001B12 8919                   M           BT      POS_START_ROT_CAL_100
12399                            4050     
12400 00001B14 D10B              4051             MOV.L   #_DNM_DIR_NOW_FLG,R1                    ;//このフラグでいいのかな？
12401 00001B16 6011              4052             MOV.W   @R1,R0                                  ;
12402 00001B18 2008              4053             TST     R0,R0                                   ;
12403                            4054             TST_BIT_OF POS_START_ROT_CAL_100                ;ふりこの通常側からの起動
12404 00001B1A 8915                   M           BT      POS_START_ROT_CAL_100
12405                            4055     
12406                            4056     ;-------いいのかな?
12407 00001B1C 3833              4057             CMP/GE  R3,R8                                   ;目標=<待機点
12408 00001B1E 8921              4058             BT      POS_START_ROT_CAL_900                   ;逆転から始まる
12409                            4059             M_BRA   POS_START_ROT_CAL_999                   ;-1回転
12410 00001B20 A02E                   M           BRA     POS_START_ROT_CAL_999
12411 00001B22 0009                   M           NOP
12412                            4060     
12413                            4061     
12414                            4062     
12415                            4063     ;---------------- 今までの回転、反転、ふりこ右側待機・・正転から始まる-----------
12416                                     ***** BEGIN-POOL *****
12417 00001B24 00000000                   DATA FOR SOURCE-LINE 4021
12418 00001B28 00000000                   DATA FOR SOURCE-LINE 4022
12419 00001B2C 00000000                   DATA FOR SOURCE-LINE 4025
12420 00001B30 00000000                   DATA FOR SOURCE-LINE 4027
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   116
PROGRAM NAME =

12421 00001B34 00000000                   DATA FOR SOURCE-LINE 4029
12422 00001B38 00000000                   DATA FOR SOURCE-LINE 4034
12423 00001B3C 00000000                   DATA FOR SOURCE-LINE 4038
12424 00001B40 00000000                   DATA FOR SOURCE-LINE 4046
12425 00001B44 00000000                   DATA FOR SOURCE-LINE 4051
12426                                     ***** END-POOL *****
12427 00001B48                   4064     POS_START_ROT_CAL_100:
12428 00001B48 3373              4065             CMP/GE  R7,R3                                   ;1REV =< SV
12429 00001B4A 8903              4066             BT      POS_START_ROT_CAL_200                   ;
12430                            4067     ;       ======= 0度をはさまない ====
12431 00001B4C 3937              4068             CMP/GT  R3,R9                                   ;
12432 00001B4E 890F              4069             BT      POS_START_ROT_CAL_950                   ;待機(R8)<SV(R3)<NOW
12433                            4070             M_BRA   POS_START_ROT_CAL_900                   ;
12434 00001B50 A008                   M           BRA     POS_START_ROT_CAL_900
12435 00001B52 0009                   M           NOP
12436                            4071     
12437                            4072     ;       ====== ０度を挟む===
12438 00001B54                   4073     POS_START_ROT_CAL_200:
12439 00001B54 3897              4074             CMP/GT  R9,R8                                   ;待機点以下?
12440 00001B56 8B05              4075             BF      POS_START_ROT_CAL_900                   ;NO! 待機点~360度
12441 00001B58 6593              4076             MOV     R9,R5
12442 00001B5A 357C              4077             ADD     R7,R5                                   ;1REV+NOW
12443 00001B5C 3537              4078             CMP/GT  R3,R5                                   ;SV < NOW
12444 00001B5E 8901              4079             BT      POS_START_ROT_CAL_900                   ;YES
12445                            4080             M_BRA   POS_START_ROT_CAL_999                   ;
12446 00001B60 A00E                   M           BRA     POS_START_ROT_CAL_999
12447 00001B62 0009                   M           NOP
12448                            4081     
12449                            4082     
12450                            4083     
12451                            4084     ;       ===== そのまま =====
12452 00001B64                   4085     POS_START_ROT_CAL_900
12453 00001B64 D401              4086             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
12454 00001B66 6242              4087             MOV.L   @R4,R2                                  ;
12455                            4088             M_BRA   NEXT_CYCL_STR1_050                      ;
12456 00001B68 A018                   M           BRA     NEXT_CYCL_STR1_050
12457 00001B6A 0009                   M           NOP
12458                            4089     
12459                            4090     ;       ===== +1 =====
12460                                     ***** BEGIN-POOL *****
12461 00001B6C 00000000                   DATA FOR SOURCE-LINE 4086
12462                                     ***** END-POOL *****
12463 00001B70                   4091     POS_START_ROT_CAL_950
12464 00001B70 D402              4092             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
12465 00001B72 6242              4093             MOV.L   @R4,R2                                  ;
12466 00001B74 7201              4094             ADD     #1,R2                                   ;
12467                            4095             M_BRA   NEXT_CYCL_STR1_050                      ;
12468 00001B76 A011                   M           BRA     NEXT_CYCL_STR1_050
12469 00001B78 0009                   M           NOP
12470                            4096     
12471                            4097     ;       ===== -1 =====
12472                                     ***** BEGIN-POOL *****
12473 00001B7A 0000                       ALIGNMENT CODE
12474 00001B7C 00000000                   DATA FOR SOURCE-LINE 4092
12475                                     ***** END-POOL *****
12476 00001B80                   4098     POS_START_ROT_CAL_999
12477 00001B80 D402              4099             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   117
PROGRAM NAME =

12478 00001B82 6242              4100             MOV.L   @R4,R2                                  ;
12479 00001B84 72FF              4101             ADD     #-1,R2                                  ;
12480                            4102             M_BRA   NEXT_CYCL_STR1_050                      ;
12481 00001B86 A009                   M           BRA     NEXT_CYCL_STR1_050
12482 00001B88 0009                   M           NOP
12483                            4103     
12484                                     ***** BEGIN-POOL *****
12485 00001B8A 0000                       ALIGNMENT CODE
12486 00001B8C 00000000                   DATA FOR SOURCE-LINE 4099
12487                                     ***** END-POOL *****
12488 00001B90                   4104             .ALIGN  4                               ;
12489 00001B90                   4105     _NEXT_CYCL_START1:
12490                            4106             SUB_START
12491 00001B90 4F22                   M           STS.L   PR,@-R15                ;[必要]
12492                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12493 00001B92 D111              4107             MOV.L   #_CPOS_CTL_MATH,R1              ;
12494 00001B94 6011              4108             MOV.W   @R1,R0                          ;
12495 00001B96 C801              4109             TST     #_DMATH_CNTROT,R0               ;回転?
12496                            4110             TST_BIT_OF NEXT_CYCL_STR1_050
12497 00001B98 8900                   M           BT      NEXT_CYCL_STR1_050
12498 00001B9A 7201              4111             ADD     #1,R2                           ;回転数+1<反転>
12499 00001B9C                   4112     NEXT_CYCL_STR1_050:
12500                            4113     
12501                            4114     ;       === 2004-12-20====
12502 00001B9C D40F              4115             MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R4
12503 00001B9E 2422              4116             MOV.L   R2,@R4
12504                            4117     
12505 00001BA0 9418              4118             MOV.W   #1,R4
12506 00001BA2 D10F              4119             MOV.L   #_SV_POS_CTL_STEP,R1            ;
12507 00001BA4 2141              4120             MOV.W   R4,@R1                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
12508                            4121             PUSH_REG1 R2
12509 00001BA6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
12510                                 M                                           ;REG=>[SP]
12511                                 M                                           ;"-4" FF,FF,FF,FC
12512                            4122             FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
12513 00001BA8 D10E                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12514 00001BAA 410B                   M           JSR     @R1                     ;
12515 00001BAC 0009                   M           NOP                                     ;
12516                            4123             POP_REG1 R2
12517                                 M                                   ; RE"+4" 00,00,00,04
12518 00001BAE 62F6                   M           MOV.L   @R15+,R2        ;
12519                            4124             FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
12520 00001BB0 D10D                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12521 00001BB2 410B                   M           JSR     @R1                     ;
12522 00001BB4 0009                   M           NOP                                     ;
12523                            4125     
12524                            4126     ;       =====2003-07-09 速度============
12525                            4127             FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
12526 00001BB6 D00D                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12527 00001BB8 400B                   M           JSR     @R0                     ;
12528 00001BBA 0009                   M           NOP                                     ;
12529                            4128     ;       ===== 2003-07-14 TIME ======
12530                            4129             FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
12531 00001BBC D00C                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12532 00001BBE 400B                   M           JSR     @R0                     ;
12533 00001BC0 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   118
PROGRAM NAME =

12534                            4130     
12535                            4131     
12536                            4132     ;       --------2012-05-15 反転、全モードのタイマ時はタイマ処理から再開をクリア[3/]　次ｻｲｸ
                                          ﾙ開始----
12537                            4133     ;       基本的にはなくてすむはずかな?
12538                            4134             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
12539 00001BC2 200A                   M           XOR     R0,R0           ;
12540 00001BC4 D10B                   M           MOV.L   #_DURING_TIM_FX,R1      ;
12541 00001BC6 2101                   M           MOV.W   R0,@R1          ;
12542                            4135     
12543                            4136     
12544                            4137     ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
12545                            4138             FAR_JSR #_HLDCAM_ABS_POS_SET,R1         ;
12546 00001BC8 D10B                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12547 00001BCA 410B                   M           JSR     @R1                     ;
12548 00001BCC 0009                   M           NOP                                     ;
12549                            4139     
12550                            4140     
12551                            4141     
12552                            4142             SUB_END
12553                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12554 00001BCE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12555                            4143             M_RTS
12556 00001BD0 000B                   M           RTS                             ;RTSの後ろの
12557 00001BD2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12558                            4144     
12559                            4145     
12560                            4146     
12561                            4147     
12562                            4148     
12563                            4149     
12564                            4150     
12565                            4151     
12566                            4152     
12567                            4153     
12568                            4154     
12569                            4155     
12570                            4156     
12571                            4157     
12572                            4158     
12573                            4159     
12574                            4160     
12575                            4161     
12576                            4162     
12577                            4163     ;       ***********************************************************
12578                            4164     ;       ***                                                     ***
12579                            4165     ;       ***     連続速度中の速度と連続内のｽﾃｯﾌﾟ切り替え         ***
12580                            4166     ;       ***                                                     ***
12581                            4167     ;       ***********************************************************
12582                            4168     ;       連続だ。自分の切り替え位置を超えたら＋１する。もし、ＭＡＸステップを超えたら１にす
                                          る
12583                            4169     ;
12584                            4170     ;
12585                                     ***** BEGIN-POOL *****
12586 00001BD4 0001                       DATA FOR SOURCE-LINE 4118
12587 00001BD6 0000                       ALIGNMENT CODE
12588 00001BD8 00000000                   DATA FOR SOURCE-LINE 4107
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   119
PROGRAM NAME =

12589 00001BDC 00000000                   DATA FOR SOURCE-LINE 4115
12590 00001BE0 00000000                   DATA FOR SOURCE-LINE 4119
12591 00001BE4 00000000                   DATA FOR SOURCE-LINE 4122
12592 00001BE8 00000000                   DATA FOR SOURCE-LINE 4124
12593 00001BEC 00000000                   DATA FOR SOURCE-LINE 4127
12594 00001BF0 00000000                   DATA FOR SOURCE-LINE 4129
12595 00001BF4 00000000                   DATA FOR SOURCE-LINE 4134
12596 00001BF8 00000000                   DATA FOR SOURCE-LINE 4138
12597                                     ***** END-POOL *****
12598 00001BFC                   4171             .ALIGN  4                               ;
12599 00001BFC                   4172     _SPD_STEP_CHG_FWD:
12600                            4173             SUB_START
12601 00001BFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12602                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12603 00001BFE DB12              4174             MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
12604 00001C00 69B1              4175             MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
12605 00001C02 6793              4176             MOV     R9,R7                                                   ;
12606 00001C04 77FF              4177             ADD     #-1,R7                                                  ;
12607 00001C06 4708              4178             SHLL2   R7                                                      ;
12608 00001C08 6273              4179             MOV     R7,R2
12609 00001C0A 4200              4180             SHLL    R2
12610 00001C0C D00F              4181             MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
12611 00001C0E 302C              4182             ADD     R2,R0
12612 00001C10 6106              4183             MOV.L   @R0+,R1                                                 ;位置
12613 00001C12 6202              4184             MOV.L   @R0,R2                                                  ;
12614                            4185     
12615 00001C14 D40E              4186             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
12616 00001C16 6546              4187             MOV.L   @R4+,R5                                                 ;
12617 00001C18 6642              4188             MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
12618                            4189     
12619 00001C1A D00E              4190             MOV.L   #_CPOS_SDAT1_INF1,R0            ;[12];          //SETX-->起動時COPY
12620 00001C1C 007E              4191             MOV.L   @(R0,R7),R0                     ;BIT0=1連続
12621 00001C1E C801              4192             TST     #BIT0,R0                        ;
12622                            4193             TST_BIT_OF SPD_STEP_CHGFWD_EXT          ;連続? NO EXIT
12623 00001C20 894B                   M           BT      SPD_STEP_CHGFWD_EXT
12624 00001C22 C802              4194             TST     #BIT1,R0                        ;
12625                            4195             TST_BIT_ON SPD_STEP_CHGFWD_100          ;逆転方向 THEN JUMP
12626 00001C24 8B1E                   M           BF      SPD_STEP_CHGFWD_100
12627                            4196     ;       ===== 正転方向 =======
12628                            4197             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;(ｲｺｰﾙでは切り替え
                                          ない)
12629 00001C26 0008                   M           CLRT
12630 00001C28 326A                   M           SUBC    R6,R2
12631 00001C2A 315A                   M           SUBC    R5,R1
12632 00001C2C 4111              4198             CMP/PZ  R1                              ;
12633 00001C2E 8B1E              4199             BF      SPD_STEP_CHGFWD_200             ;"-":超えた
12634                            4200     
12635                            4201     ;       ====== 2013-04-14 反転手前処理[反転手前で止めるため、その区間に停止がある場合の処
                                          理]======
12636 00001C30 D109              4202             MOV.L   #_CPOS_CTL_MATH,R1                      ;
12637 00001C32 6011              4203             MOV.W   @R1,R0                                  ;
12638 00001C34 C805              4204             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
12639                            4205             TST_BIT_ON SPD_STEP_CHGFWD_090                  ;
12640 00001C36 8B13                   M           BF      SPD_STEP_CHGFWD_090
12641                            4206     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   120
PROGRAM NAME =

12642                            4207             FAR_JSR #_REV_BEFORE_CHGKOUTEICHK,R0            ;反転
12643 00001C38 D008                   M           MOV.L   #_REV_BEFORE_CHGKOUTEICHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12644 00001C3A 400B                   M           JSR     @R0                     ;
12645 00001C3C 0009                   M           NOP                                     ;
12646 00001C3E 2008              4208             TST     R0,R0                                   ;
12647                            4209             TST_BIT_OF SPD_STEP_CHGFWD_090                  ;
12648 00001C40 890E                   M           BT      SPD_STEP_CHGFWD_090
12649 00001C42 6923              4210             MOV     R2,R9                                   ;行程
12650                            4211             M_BRA   SPD_STEP_CHGFWD_202                     ;2013-04-14追加
12651 00001C44 A014                   M           BRA     SPD_STEP_CHGFWD_202
12652 00001C46 0009                   M           NOP
12653                            4212     
12654                                     ***** BEGIN-POOL *****
12655 00001C48 00000000                   DATA FOR SOURCE-LINE 4174
12656 00001C4C 00000000                   DATA FOR SOURCE-LINE 4181
12657 00001C50 00000000                   DATA FOR SOURCE-LINE 4186
12658 00001C54 00000000                   DATA FOR SOURCE-LINE 4190
12659 00001C58 00000000                   DATA FOR SOURCE-LINE 4202
12660 00001C5C 00000000                   DATA FOR SOURCE-LINE 4207
12661                                     ***** END-POOL *****
12662 00001C60                   4213     SPD_STEP_CHGFWD_090:
12663                            4214             M_BRA   SPD_STEP_CHGFWD_EXT             ;SV-PV >=0 EXIT (SV >= PV)
12664 00001C60 A02B                   M           BRA     SPD_STEP_CHGFWD_EXT
12665 00001C62 0009                   M           NOP
12666                            4215     
12667                            4216     
12668 00001C64                   4217     SPD_STEP_CHGFWD_100:
12669                            4218     ;       ===== 逆転方向 =======
12670                            4219             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;(ｲｺｰﾙでは切り替え
                                          ない)
12671 00001C64 0008                   M           CLRT
12672 00001C66 362A                   M           SUBC    R2,R6
12673 00001C68 351A                   M           SUBC    R1,R5
12674 00001C6A 4511              4220             CMP/PZ  R5                              ;
12675 00001C6C 8925              4221             BT      SPD_STEP_CHGFWD_EXT             ;PV-SV >=0 EXIT (PV >= SV)
12676 00001C6E                   4222     SPD_STEP_CHGFWD_200:
12677 00001C6E 7901              4223             ADD     #1,R9                           ;NEXT STEP SET
12678                            4224     
12679 00001C70                   4225     SPD_STEP_CHGFWD_202:                            ;2013-04-14追加
12680 00001C70 D105              4226             MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
12681 00001C72 6211              4227             MOV.W   @R1,R2                          ;
12682 00001C74 7201              4228             ADD     #1,R2                           ;
12683 00001C76 3292              4229             CMP/HS  R9,R2                           ;STEP+1=<MAX
12684 00001C78 890A              4230             BT      SPD_STEP_CHGFWD_250             ;
12685                            4231     
12686                            4232     ;       === 何の意味のチェックだろう？最大工程＋１＜管理ステップの意味？
12687                            4233             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT3,WKREG=R3      ;
12688 00001C7A D304                   M           MOV.L   #_POSLSI_CHK_STS,R3             ;
12689 00001C7C 6031                   M           MOV.W   @R3,R0          ;
12690 00001C7E CB08                   M           OR      #BIT3,R0                ;
12691 00001C80 2301                   M           MOV.W   R0,@R3          ;
12692                            4234             M_BRA   SPD_STEP_CHGFWD_EXT                                             ;
12693 00001C82 A01A                   M           BRA     SPD_STEP_CHGFWD_EXT
12694 00001C84 0009                   M           NOP
12695                            4235     
12696                                     ***** BEGIN-POOL *****
12697 00001C86 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   121
PROGRAM NAME =

12698 00001C88 00000000                   DATA FOR SOURCE-LINE 4226
12699 00001C8C 00000000                   DATA FOR SOURCE-LINE 4233
12700                                     ***** END-POOL *****
12701 00001C90                   4236     SPD_STEP_CHGFWD_250:                            ;
12702 00001C90 2B91              4237             MOV.W   R9,@R11                         ;ﾀｲﾏLOAD
12703                            4238     ;       ==========================================
12704                            4239     ;       =================================================
12705 00001C92 D00B              4240             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
12706 00001C94 2091              4241             MOV.W   R9,@R0                  ;
12707                            4242     ;       ================================================
12708 00001C96 79FF              4243             ADD     #-1,R9                          ;
12709 00001C98 4908              4244             SHLL2   R9                              ;
12710 00001C9A D00A              4245             MOV.L   #_CPOS_SDAT1_SPD,R0             ;
12711 00001C9C 029E              4246             MOV.L   @(R0,R9),R2                     ;
12712 00001C9E D10A              4247             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
12713 00001CA0 2122              4248             MOV.L   R2,@R1                          ;
12714                            4249             FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1     ;
12715 00001CA2 D10A                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12716 00001CA4 410B                   M           JSR     @R1                     ;
12717 00001CA6 0009                   M           NOP                                     ;
12718                            4250     
12719                            4251     
12720                            4252     ;       =======================================
12721 00001CA8 D109              4253             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
12722 00001CAA 200A              4254             XOR     R0,R0                           ;
12723 00001CAC 2101              4255             MOV.W   R0,@R1                          ;
12724                            4256     ;       =========================================
12725                            4257             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_END,R0
12726 00001CAE D009                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_END,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12727 00001CB0 400B                   M           JSR     @R0                     ;
12728 00001CB2 0009                   M           NOP                                     ;
12729                            4258             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0
12730 00001CB4 D008                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12731 00001CB6 400B                   M           JSR     @R0                     ;
12732 00001CB8 0009                   M           NOP                                     ;
12733                            4259     
12734                            4260             .AIF    0 EQ    0
12735                            4261             .AELSE
12736                            4262             FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
12737                            4263             .AENDI
12738                            4264     
12739                            4265     
12740 00001CBA                   4266     SPD_STEP_CHGFWD_EXT:
12741                            4267             SUB_END
12742                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12743 00001CBA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12744                            4268             M_RTS
12745 00001CBC 000B                   M           RTS                             ;RTSの後ろの
12746 00001CBE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12747                            4269     
12748                            4270     
12749                            4271     
12750                            4272     
12751                            4273     ;       === 2004-01-26 連続寸動一工程　===
12752                            4274     ;       == _CCS_STEP_NEXT_CHK ===
12753                            4275     ;;;;;;;;;;;;;;不要ですね20060930        .INCLUDE        "ssa_ccss.inc"          ; //
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   122
PROGRAM NAME =

12754                            4276     
12755                            4277     
12756                            4278     ;       *******************************************
12757                            4279     ;       ***                                     ***
12758                            4280     ;       ***             段取/待機点復帰         ***
12759                            4281     ;       ***                                     ***
12760                            4282     ;       *******************************************
12761                                     ***** BEGIN-POOL *****
12762 00001CC0 00000000                   DATA FOR SOURCE-LINE 4240
12763 00001CC4 00000000                   DATA FOR SOURCE-LINE 4245
12764 00001CC8 00000000                   DATA FOR SOURCE-LINE 4247
12765 00001CCC 00000000                   DATA FOR SOURCE-LINE 4249
12766 00001CD0 00000000                   DATA FOR SOURCE-LINE 4253
12767 00001CD4 00000000                   DATA FOR SOURCE-LINE 4257
12768 00001CD8 00000000                   DATA FOR SOURCE-LINE 4258
12769                                     ***** END-POOL *****
12770          000001F4          4283     _EQ_STOP_START_WAIT_ORG         .EQU    D'500   ;100mec(3000sec)
12771          00000064          4284     _EQ_STOP_START_WAIT_DND         .EQU    D'100   ;
12772                            4285     ;
12773                            4286     ;       ==============
12774 00001CDC                   4287             .ALIGN  4                               ;
12775 00001CDC                   4288     _DND_ALL_STEP_CTRL:
12776                            4289             SUB_START
12777 00001CDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12778                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12779 00001CDE D106              4290             MOV.L   #_MODE_SEL,R1                   ;
12780 00001CE0 6011              4291             MOV.W   @R1,R0                          ;
12781 00001CE2 C840              4292             TST     #_W1DUP,R0              ;
12782                            4293             TST_BIT_ON DND_ALLSTEPCTL_020   ;原点復帰
12783 00001CE4 8B24                   M           BF      DND_ALLSTEPCTL_020
12784                            4294     
12785                            4295     ;       ------ 2006-07-28 -----
12786 00001CE6 D105              4296             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
12787 00001CE8 6011              4297             MOV.W   @R1,R0                          ;
12788 00001CEA 2008              4298             TST     R0,R0                           ;
12789                            4299             TST_BIT_OF DND_ALLSTEPCTL_005           ;
12790 00001CEC 890A                   M           BT      DND_ALLSTEPCTL_005
12791                            4300             FAR_JSR #_DND_TEP_STEP_CTRL,R0          ;
12792 00001CEE D004                   M           MOV.L   #_DND_TEP_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12793 00001CF0 400B                   M           JSR     @R0                     ;
12794 00001CF2 0009                   M           NOP                                     ;
12795                            4301             M_BRA   DND_ALLSTEPCTL_900              ;
12796 00001CF4 A17D                   M           BRA     DND_ALLSTEPCTL_900
12797 00001CF6 0009                   M           NOP
12798                            4302     
12799                                     ***** BEGIN-POOL *****
12800 00001CF8 00000000                   DATA FOR SOURCE-LINE 4290
12801 00001CFC 00000000                   DATA FOR SOURCE-LINE 4296
12802 00001D00 00000000                   DATA FOR SOURCE-LINE 4300
12803                                     ***** END-POOL *****
12804 00001D04                   4303     DND_ALLSTEPCTL_005:
12805                            4304     
12806 00001D04 D104              4305             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
12807 00001D06 6011              4306             MOV.W   @R1,R0                          ;
12808 00001D08 C802              4307             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
12809                            4308             TST_BIT_OF DND_ALLSTEPCTL_010           ;
12810 00001D0A 8909                   M           BT      DND_ALLSTEPCTL_010
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   123
PROGRAM NAME =

12811                            4309     
12812                            4310     ;       ==== 反転段取寸動========
12813                            4311             FAR_JSR #_DND_NEG_STEP_CTRL,R0          ;
12814 00001D0C D003                   M           MOV.L   #_DND_NEG_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12815 00001D0E 400B                   M           JSR     @R0                     ;
12816 00001D10 0009                   M           NOP                                     ;
12817                            4312             M_BRA   DND_ALLSTEPCTL_900
12818 00001D12 A16E                   M           BRA     DND_ALLSTEPCTL_900
12819 00001D14 0009                   M           NOP
12820                            4313     
12821                                     ***** BEGIN-POOL *****
12822 00001D16 0000                       ALIGNMENT CODE
12823 00001D18 00000000                   DATA FOR SOURCE-LINE 4305
12824 00001D1C 00000000                   DATA FOR SOURCE-LINE 4311
12825                                     ***** END-POOL *****
12826 00001D20                   4314     DND_ALLSTEPCTL_010:
12827                            4315             FAR_JSR #_DND_ROT_STEP_CTRL,R0          ;[]
12828 00001D20 D002                   M           MOV.L   #_DND_ROT_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12829 00001D22 400B                   M           JSR     @R0                     ;
12830 00001D24 0009                   M           NOP                                     ;
12831                            4316             M_BRA   DND_ALLSTEPCTL_900
12832 00001D26 A164                   M           BRA     DND_ALLSTEPCTL_900
12833 00001D28 0009                   M           NOP
12834                            4317     
12835                            4318     ;       ================================
12836                            4319     ;       ======== 待機点復帰 ============
12837                            4320     ;       ================================
12838                                     ***** BEGIN-POOL *****
12839 00001D2A 0000                       ALIGNMENT CODE
12840 00001D2C 00000000                   DATA FOR SOURCE-LINE 4315
12841                                     ***** END-POOL *****
12842 00001D30                   4321     DND_ALLSTEPCTL_020:
12843 00001D30 D102              4322             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
12844 00001D32 6011              4323             MOV.W   @R1,R0                          ;BIT
12845 00001D34 C840              4324             TST     #BIT6,R0                        ;
12846                            4325             TST_BIT_OF DND_ALLSTEPCTL_050           ;
12847 00001D36 8903                   M           BT      DND_ALLSTEPCTL_050
12848                            4326             M_BRA   DND_ALLSTEPCTL_900              ;位置決め完了
12849 00001D38 A15B                   M           BRA     DND_ALLSTEPCTL_900
12850 00001D3A 0009                   M           NOP
12851                            4327     
12852                                     ***** BEGIN-POOL *****
12853 00001D3C 00000000                   DATA FOR SOURCE-LINE 4322
12854                                     ***** END-POOL *****
12855 00001D40                   4328     DND_ALLSTEPCTL_050:
12856                            4329     ;       ===== 2004-05-23 =======
12857                            4330             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST2,R0     ;.BIT1
12858 00001D40 D008                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12859 00001D42 400B                   M           JSR     @R0                     ;
12860 00001D44 0009                   M           NOP                                     ;
12861                            4331     ;       ========================
12862                            4332     
12863                            4333     
12864 00001D46 D108              4334             MOV.L   #_INT_DND_CTL_STEP,R1           ;
12865 00001D48 6011              4335             MOV.W   @R1,R0                          ;
12866 00001D4A C802              4336             TST     #BIT1,R0
12867                            4337             TST_BIT_ON DND_ALLSTEPCTL_060           ;第３工程中　EXIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   124
PROGRAM NAME =

12868 00001D4C 8B04                   M           BF      DND_ALLSTEPCTL_060
12869 00001D4E C801              4338             TST     #BIT0,R0                        ;
12870                            4339             TST_BIT_OF DND_ALLSTEPCTL_060           ;第２工程前
12871 00001D50 8902                   M           BT      DND_ALLSTEPCTL_060
12872                            4340             FAR_JSR #_ORGIN_MODE_SMP,R0             ;SMPLING
12873 00001D52 D006                   M           MOV.L   #_ORGIN_MODE_SMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12874 00001D54 400B                   M           JSR     @R0                     ;
12875 00001D56 0009                   M           NOP                                     ;
12876 00001D58                   4341     DND_ALLSTEPCTL_060:                             ;
12877                            4342     
12878 00001D58 D105              4343             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
12879 00001D5A 6011              4344             MOV.W   @R1,R0                          ;BIT
12880 00001D5C C803              4345             TST     #(BIT1+BIT0),R0                 ;
12881                            4346             TST_BIT_OF DND_ALLSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
12882 00001D5E 8909                   M           BT      DND_ALLSTEPCTL_100
12883                            4347             M_BRA   DND_ALLSTEPCTL_300              ;BIT1:次の回転起動
12884 00001D60 A024                   M           BRA     DND_ALLSTEPCTL_300
12885 00001D62 0009                   M           NOP
12886                            4348     
12887                                     ***** BEGIN-POOL *****
12888 00001D64 00000000                   DATA FOR SOURCE-LINE 4330
12889 00001D68 00000000                   DATA FOR SOURCE-LINE 4334
12890 00001D6C 00000000                   DATA FOR SOURCE-LINE 4340
12891 00001D70 00000000                   DATA FOR SOURCE-LINE 4343
12892                                     ***** END-POOL *****
12893 00001D74                   4349     DND_ALLSTEPCTL_100:
12894                            4350             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
12895 00001D74 D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12896 00001D76 410B                   M           JSR     @R1                     ;
12897 00001D78 0009                   M           NOP                                     ;
12898 00001D7A C804              4351             TST     #BIT2,R0                        ;停止?
12899                            4352             TST_BIT_ON DND_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
12900 00001D7C 8B08                   M           BF      DND_ALLSTEPCTL_200
12901                            4353             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
12902 00001D7E D003                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12903 00001D80 400B                   M           JSR     @R0                     ;
12904 00001D82 0009                   M           NOP                                     ;
12905                            4354             M_BRA   DND_ALLSTEPCTL_900              ;
12906 00001D84 A135                   M           BRA     DND_ALLSTEPCTL_900
12907 00001D86 0009                   M           NOP
12908                            4355     
12909                            4356     
12910                            4357     ;       ====== 停止 =====
12911                            4358             .IMPORT _PAR_START_WAIT_DND                     ;段取時切替WAIT時間
12912                                     ***** BEGIN-POOL *****
12913 00001D88 00000000                   DATA FOR SOURCE-LINE 4350
12914 00001D8C 00000000                   DATA FOR SOURCE-LINE 4353
12915                                     ***** END-POOL *****
12916 00001D90                   4359     DND_ALLSTEPCTL_200:
12917 00001D90 9107              4360             MOV.W   #_EQ_STOP_START_WAIT_ORG,R1             ;段取時切替WAIT時間
12918 00001D92 D404              4361             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
12919 00001D94 2412              4362             MOV.L   R1,@R4                  ;
12920                            4363     
12921                            4364             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1
12922 00001D96 D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
12923 00001D98 6011                   M           MOV.W   @R1,R0          ;
12924 00001D9A CB01                   M           OR      #BIT0,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   125
PROGRAM NAME =

12925 00001D9C 2101                   M           MOV.W   R0,@R1          ;
12926                            4365             M_BRA   DND_ALLSTEPCTL_900      ;
12927 00001D9E A128                   M           BRA     DND_ALLSTEPCTL_900
12928 00001DA0 0009                   M           NOP
12929                            4366     
12930                                     ***** BEGIN-POOL *****
12931 00001DA2 01F4                       DATA FOR SOURCE-LINE 4360
12932 00001DA4 00000000                   DATA FOR SOURCE-LINE 4361
12933 00001DA8 00000000                   DATA FOR SOURCE-LINE 4364
12934                                     ***** END-POOL *****
12935 00001DAC                   4367     DND_ALLSTEPCTL_300:
12936 00001DAC C802              4368             TST     #BIT1,R0                ;
12937                            4369             TST_BIT_ON DND_ALLSTEPCTL_400   ;
12938 00001DAE 8B13                   M           BF      DND_ALLSTEPCTL_400
12939                            4370     
12940                            4371             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
12941 00001DB0 D107                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
12942 00001DB2 6412                   M           MOV.L   @R1,R4          ;
12943 00001DB4 2448                   M           TST     R4,R4                   ;
12944 00001DB6 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
12945 00001DB8 4410                   M           DT      R4                              ;
12946 00001DBA 2142                   M           MOV.L   R4,@R1          ;STORE
12947 00001DBC                        M   JMP_0100005:
12948 00001DBC D404              4372             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
12949 00001DBE 6142              4373             MOV.L   @R4,R1                  ;
12950 00001DC0 2118              4374             TST     R1,R1                   ;
12951                            4375             TST_BIT_ON DND_ALLSTEPCTL_320   ;DND_ALLSTEPCTL_900     ;
12952 00001DC2 8B03                   M           BF      DND_ALLSTEPCTL_320
12953                            4376             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
12954 00001DC4 D103                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
12955 00001DC6 6011                   M           MOV.W   @R1,R0          ;
12956 00001DC8 CB02                   M           OR      #BIT1,R0                ;
12957 00001DCA 2101                   M           MOV.W   R0,@R1          ;
12958 00001DCC                   4377     DND_ALLSTEPCTL_320:
12959                            4378             M_BRA   DND_ALLSTEPCTL_900      ;
12960 00001DCC A111                   M           BRA     DND_ALLSTEPCTL_900
12961 00001DCE 0009                   M           NOP
12962                            4379     
12963                            4380     
12964                            4381     ;       ======= 次の起動の演算または終了の判断=====
12965                                     ***** BEGIN-POOL *****
12966 00001DD0 00000000                   DATA FOR SOURCE-LINE 4371,4372
12967 00001DD4 00000000                   DATA FOR SOURCE-LINE 4376
12968                                     ***** END-POOL *****
12969 00001DD8                   4382     DND_ALLSTEPCTL_400:
12970 00001DD8 D502              4383             MOV.L   #_INT_DND_CTL_STEP,R5   ;
12971 00001DDA 6051              4384             MOV.W   @R5,R0                  ;
12972 00001DDC C802              4385             TST     #BIT1,R0                ;BIT0=1 FIRST END BIT1=1 SECOND END
12973                            4386             TST_BIT_OF DND_ALLSTEPCTL_420   ;
12974 00001DDE 8903                   M           BT      DND_ALLSTEPCTL_420
12975                            4387             M_BRA   DND_ALLSTEPCTL_600      ;YES 最終工程だった JUMP
12976 00001DE0 A0F6                   M           BRA     DND_ALLSTEPCTL_600
12977 00001DE2 0009                   M           NOP
12978                                     ***** BEGIN-POOL *****
12979 00001DE4 00000000                   DATA FOR SOURCE-LINE 4383
12980                                     ***** END-POOL *****
12981 00001DE8                   4388     DND_ALLSTEPCTL_420:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   126
PROGRAM NAME =

12982                            4389     
12983                            4390     
12984 00001DE8 C801              4391             TST     #BIT0,R0                        ;
12985                            4392             TST_BIT_OF DND_ALLSTEPCTL_425           ;
12986 00001DEA 8901                   M           BT      DND_ALLSTEPCTL_425
12987                            4393             M_BRA   DND_ALLSTEPCTL_500              ;
12988 00001DEC A0A0                   M           BRA     DND_ALLSTEPCTL_500
12989 00001DEE 0009                   M           NOP
12990 00001DF0                   4394     DND_ALLSTEPCTL_425:
12991                            4395     
12992                            4396     ;       ===========================
12993                            4397     ;       ===     2003-07-09      ===
12994                            4398     ;       ===========================
12995                            4399     ;       BIT0=0のままでn往復動作を行う
12996 00001DF0 D113              4400             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
12997 00001DF2 6011              4401             MOV.W   @R1,R0                          ;
12998 00001DF4 2008              4402             TST     R0,R0                           ;
12999                            4403             TST_BIT_OF DND_ALLSTEPCTL_450           ;(今までのｿﾌﾄを流す)
13000 00001DF6 8975                   M           BT      DND_ALLSTEPCTL_450
13001                            4404     ;
13002                            4405     ;       == _ORG_RDY_CTL_FLG BIT0 を使用する ===
13003 00001DF8 D512              4406             MOV.L   #_ORG_RDY_CTL_FLG,R5            ;[2工程/3工程の切り替えﾌﾗｸﾞ]
13004 00001DFA 6051              4407             MOV.W   @R5,R0                          ;
13005 00001DFC C801              4408             TST     #BIT0,R0                        ;
13006                            4409             TST_BIT_ON DND_ORGIN_STEP_050           ;
13007 00001DFE 8B35                   M           BF      DND_ORGIN_STEP_050
13008 00001E00 CB01              4410             OR      #BIT0,R0                        ;
13009 00001E02 2501              4411             MOV.W   R0,@R5                          ;
13010                            4412     
13011                            4413     ;       ===== 第２工程開始(補正なし "+") ======
13012                            4414     ;       ======== 20060919 ======================
13013                            4415     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
13014                            4416             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
13015 00001E04 D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13016 00001E06 400B                   M           JSR     @R0                     ;
13017 00001E08 0009                   M           NOP                                     ;
13018                            4417     ;       =======================================
13019                            4418             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
13020 00001E0A D010                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13021 00001E0C 400B                   M           JSR     @R0                     ;
13022 00001E0E 0009                   M           NOP                                     ;
13023                            4419             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;ANS R2
13024 00001E10 D00F                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13025 00001E12 400B                   M           JSR     @R0                     ;
13026 00001E14 0009                   M           NOP                                     ;
13027                            4420             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13028 00001E16 D10F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13029 00001E18 410B                   M           JSR     @R1                     ;
13030 00001E1A 0009                   M           NOP                                     ;
13031                            4421     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
13032 00001E1C D50E              4422             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
13033 00001E1E 6152              4423             MOV.L   @R5,R1                          ;
13034 00001E20 5251              4424             MOV.L   @(4,R5),R2                      ;
13035                            4425             FAR_JSR #_LENGH_ADD_CALC,R0             ;
13036 00001E22 D00E                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13037 00001E24 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   127
PROGRAM NAME =

13038 00001E26 0009                   M           NOP                                     ;
13039                            4426             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13040 00001E28 D00D                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13041 00001E2A 400B                   M           JSR     @R0                     ;
13042 00001E2C 0009                   M           NOP                                     ;
13043                            4427             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13044 00001E2E D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13045 00001E30 400B                   M           JSR     @R0                     ;
13046 00001E32 0009                   M           NOP                                     ;
13047                            4428             FAR_JSR #_FWD_REV_START,R1              ;起動
13048 00001E34 D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13049 00001E36 410B                   M           JSR     @R1                     ;
13050 00001E38 0009                   M           NOP                                     ;
13051                            4429             M_BRA   DND_ORGIN_STEP_100              ;
13052 00001E3A A038                   M           BRA     DND_ORGIN_STEP_100
13053 00001E3C 0009                   M           NOP
13054                            4430     
13055                                     ***** BEGIN-POOL *****
13056 00001E3E 0000                       ALIGNMENT CODE
13057 00001E40 00000000                   DATA FOR SOURCE-LINE 4400
13058 00001E44 00000000                   DATA FOR SOURCE-LINE 4406
13059 00001E48 00000000                   DATA FOR SOURCE-LINE 4416
13060 00001E4C 00000000                   DATA FOR SOURCE-LINE 4418
13061 00001E50 00000000                   DATA FOR SOURCE-LINE 4419
13062 00001E54 00000000                   DATA FOR SOURCE-LINE 4420
13063 00001E58 00000000                   DATA FOR SOURCE-LINE 4422
13064 00001E5C 00000000                   DATA FOR SOURCE-LINE 4425
13065 00001E60 00000000                   DATA FOR SOURCE-LINE 4426
13066 00001E64 00000000                   DATA FOR SOURCE-LINE 4427
13067 00001E68 00000000                   DATA FOR SOURCE-LINE 4428
13068                                     ***** END-POOL *****
13069 00001E6C                   4431     DND_ORGIN_STEP_050:
13070 00001E6C C9FE              4432             AND     #LOW ~BIT0,R0                   ;
13071 00001E6E 2501              4433             MOV.W   R0,@R5                          ;BIT0 CLR
13072                            4434     ;       ===== 第3工程開始(補正なし "-") ======
13073                            4435     ;       ======== 20060919 ======================
13074                            4436     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
13075                            4437             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
13076 00001E70 D011                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13077 00001E72 400B                   M           JSR     @R0                     ;
13078 00001E74 0009                   M           NOP                                     ;
13079                            4438     ;       =======================================
13080                            4439             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R0       ;
13081 00001E76 D011                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13082 00001E78 400B                   M           JSR     @R0                     ;
13083 00001E7A 0009                   M           NOP                                     ;
13084                            4440             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
13085 00001E7C D010                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13086 00001E7E 400B                   M           JSR     @R0                     ;
13087 00001E80 0009                   M           NOP                                     ;
13088                            4441             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13089 00001E82 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13090 00001E84 410B                   M           JSR     @R1                     ;
13091 00001E86 0009                   M           NOP                                     ;
13092                            4442     
13093                            4443     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   128
PROGRAM NAME =

13094 00001E88 D50F              4444             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
13095 00001E8A 6152              4445             MOV.L   @R5,R1                          ;
13096 00001E8C 5251              4446             MOV.L   @(4,R5),R2                      ;
13097                            4447             FAR_JSR #_LENGH_ADD_CALC,R0             ;
13098 00001E8E D00F                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13099 00001E90 400B                   M           JSR     @R0                     ;
13100 00001E92 0009                   M           NOP                                     ;
13101                            4448             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13102 00001E94 D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13103 00001E96 400B                   M           JSR     @R0                     ;
13104 00001E98 0009                   M           NOP                                     ;
13105                            4449             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13106 00001E9A D00E                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13107 00001E9C 400B                   M           JSR     @R0                     ;
13108 00001E9E 0009                   M           NOP                                     ;
13109                            4450             FAR_JSR #_FWD_REV_START,R1              ;起動
13110 00001EA0 D10D                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13111 00001EA2 410B                   M           JSR     @R1                     ;
13112 00001EA4 0009                   M           NOP                                     ;
13113                            4451     
13114 00001EA6 D10D              4452             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13115 00001EA8 6011              4453             MOV.W   @R1,R0                          ;
13116 00001EAA 70FF              4454             ADD     #-1,R0                          ;
13117 00001EAC 2101              4455             MOV.W   R0,@R1                          ;
13118 00001EAE                   4456     DND_ORGIN_STEP_100:
13119 00001EAE 200A              4457             XOR     R0,R0                           ;
13120 00001EB0 D10B              4458             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
13121 00001EB2 2101              4459             MOV.W   R0,@R1                          ;Q
13122                            4460     
13123                            4461             M_BRA   DND_ALLSTEPCTL_900              ;
13124 00001EB4 A09D                   M           BRA     DND_ALLSTEPCTL_900
13125 00001EB6 0009                   M           NOP
13126                            4462     
13127                            4463     
13128                            4464     ;       ===== 通常の最後の原点復帰（最終回数目）====
13129                                     ***** BEGIN-POOL *****
13130 00001EB8 00000000                   DATA FOR SOURCE-LINE 4437
13131 00001EBC 00000000                   DATA FOR SOURCE-LINE 4439
13132 00001EC0 00000000                   DATA FOR SOURCE-LINE 4440
13133 00001EC4 00000000                   DATA FOR SOURCE-LINE 4441
13134 00001EC8 00000000                   DATA FOR SOURCE-LINE 4444
13135 00001ECC 00000000                   DATA FOR SOURCE-LINE 4447
13136 00001ED0 00000000                   DATA FOR SOURCE-LINE 4448
13137 00001ED4 00000000                   DATA FOR SOURCE-LINE 4449
13138 00001ED8 00000000                   DATA FOR SOURCE-LINE 4450
13139 00001EDC 00000000                   DATA FOR SOURCE-LINE 4452
13140 00001EE0 00000000                   DATA FOR SOURCE-LINE 4458
13141                                     ***** END-POOL *****
13142 00001EE4                   4465     DND_ALLSTEPCTL_450:
13143                            4466     ;       ===== 第２工程開始(補正開始) ======
13144                            4467             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
13145 00001EE4 D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13146 00001EE6 400B                   M           JSR     @R0                     ;
13147 00001EE8 0009                   M           NOP                                     ;
13148                            4468             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
13149 00001EEA D00B                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13150 00001EEC 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   129
PROGRAM NAME =

13151 00001EEE 0009                   M           NOP                                     ;
13152                            4469             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;
13153 00001EF0 D00A                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13154 00001EF2 400B                   M           JSR     @R0                     ;
13155 00001EF4 0009                   M           NOP                                     ;
13156                            4470             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13157 00001EF6 D10A                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13158 00001EF8 410B                   M           JSR     @R1                     ;
13159 00001EFA 0009                   M           NOP                                     ;
13160                            4471     
13161                            4472             FAR_JSR #_ORGIN_MODE_INI,R0     ;
13162 00001EFC D009                   M           MOV.L   #_ORGIN_MODE_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13163 00001EFE 400B                   M           JSR     @R0                     ;
13164 00001F00 0009                   M           NOP                                     ;
13165 00001F02 D509              4473             MOV.L   #_INT_DND_CTL_STEP,R5   ;
13166 00001F04 6051              4474             MOV.W   @R5,R0                  ;
13167 00001F06 CB01              4475             OR      #BIT0,R0                ;
13168 00001F08 2501              4476             MOV.W   R0,@R5                  ;
13169                            4477     
13170                            4478     ;       ======= 原点出し時のｲﾝﾀｰﾛｯｸ =======
13171 00001F0A 200A              4479             XOR     R0,R0                           ;
13172 00001F0C D107              4480             MOV.L   #_RST_ERR_CHK_FLG,R1            ;[ｲﾆｼｬﾙを異常側で再演算する]
13173 00001F0E 2101              4481             MOV.W   R0,@R1                          ;
13174                            4482             M_BRA   DND_ALLSTEPCTL_580              ;
13175 00001F10 A024                   M           BRA     DND_ALLSTEPCTL_580
13176 00001F12 0009                   M           NOP
13177                            4483     
13178                                     ***** BEGIN-POOL *****
13179 00001F14 00000000                   DATA FOR SOURCE-LINE 4467
13180 00001F18 00000000                   DATA FOR SOURCE-LINE 4468
13181 00001F1C 00000000                   DATA FOR SOURCE-LINE 4469
13182 00001F20 00000000                   DATA FOR SOURCE-LINE 4470
13183 00001F24 00000000                   DATA FOR SOURCE-LINE 4472
13184 00001F28 00000000                   DATA FOR SOURCE-LINE 4473
13185 00001F2C 00000000                   DATA FOR SOURCE-LINE 4480
13186                                     ***** END-POOL *****
13187 00001F30                   4484     DND_ALLSTEPCTL_500:
13188                            4485     ;       ===== 第2工程終了（サーチ作業完了） ======
13189                            4486             FAR_JSR #_ORGIN_MODE_END,R0             ;
13190 00001F30 D018                   M           MOV.L   #_ORGIN_MODE_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13191 00001F32 400B                   M           JSR     @R0                     ;
13192 00001F34 0009                   M           NOP                                     ;
13193                            4487             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
13194 00001F36 D018                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13195 00001F38 400B                   M           JSR     @R0                     ;
13196 00001F3A 0009                   M           NOP                                     ;
13197                            4488             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;(待機点への移動)
13198 00001F3C D017                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13199 00001F3E 400B                   M           JSR     @R0                     ;
13200 00001F40 0009                   M           NOP                                     ;
13201                            4489     
13202                            4490             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
13203 00001F42 D017                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13204 00001F44 400B                   M           JSR     @R0                     ;
13205 00001F46 0009                   M           NOP                                     ;
13206                            4491             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13207 00001F48 D116                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   130
PROGRAM NAME =

13208 00001F4A 410B                   M           JSR     @R1                     ;
13209 00001F4C 0009                   M           NOP                                     ;
13210                            4492     
13211                            4493     ;;;2003-07-14   FAR_JSR #_DNDUPS_SPD_SET,R0     ;
13212                            4494     ;       ===== 第３工程開始 ======
13213 00001F4E D516              4495             MOV.L   #_INT_DND_CTL_STEP,R5           ;
13214 00001F50 6051              4496             MOV.W   @R5,R0                          ;
13215 00001F52 CB02              4497             OR      #BIT1,R0                        ;
13216 00001F54 2501              4498             MOV.W   R0,@R5                          ;
13217                            4499     
13218                            4500     
13219                            4501             FAR_JSR #_DNDUPS_SPD_SET,R0             ;2011-03-22[最後の目標位置へは上昇復帰速度
                                          ]
13220 00001F56 D015                   M           MOV.L   #_DNDUPS_SPD_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13221 00001F58 400B                   M           JSR     @R0                     ;
13222 00001F5A 0009                   M           NOP                                     ;
13223                            4502     
13224                            4503     
13225 00001F5C                   4504     DND_ALLSTEPCTL_580:
13226 00001F5C D114              4505             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
13227 00001F5E 6212              4506             MOV.L   @R1,R2                          ;
13228                            4507             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
13229 00001F60 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13230 00001F62 410B                   M           JSR     @R1                     ;
13231 00001F64 0009                   M           NOP                                     ;
13232                            4508     
13233 00001F66 D513              4509             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
13234 00001F68 6152              4510             MOV.L   @R5,R1                          ;
13235 00001F6A 5251              4511             MOV.L   @(4,R5),R2                      ;
13236                            4512             FAR_JSR #_LENGH_ADD_CALC,R0             ;Input R1,R2
13237 00001F6C D012                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13238 00001F6E 400B                   M           JSR     @R0                     ;
13239 00001F70 0009                   M           NOP                                     ;
13240                            4513             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13241 00001F72 D012                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13242 00001F74 400B                   M           JSR     @R0                     ;
13243 00001F76 0009                   M           NOP                                     ;
13244                            4514             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13245 00001F78 D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13246 00001F7A 400B                   M           JSR     @R0                     ;
13247 00001F7C 0009                   M           NOP                                     ;
13248                            4515             FAR_JSR #_FWD_REV_START,R1              ;起動
13249 00001F7E D111                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13250 00001F80 410B                   M           JSR     @R1                     ;
13251 00001F82 0009                   M           NOP                                     ;
13252                            4516     
13253                            4517             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
13254 00001F84 D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13255 00001F86 400B                   M           JSR     @R0                     ;
13256 00001F88 0009                   M           NOP                                     ;
13257                            4518     
13258 00001F8A 200A              4519             XOR     R0,R0                           ;
13259 00001F8C D10F              4520             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
13260 00001F8E 2101              4521             MOV.W   R0,@R1                          ;Q
13261                            4522             M_BRA   DND_ALLSTEPCTL_900              ;
13262 00001F90 A02F                   M           BRA     DND_ALLSTEPCTL_900
13263 00001F92 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   131
PROGRAM NAME =

13264                            4523     
13265                                     ***** BEGIN-POOL *****
13266 00001F94 00000000                   DATA FOR SOURCE-LINE 4486
13267 00001F98 00000000                   DATA FOR SOURCE-LINE 4487
13268 00001F9C 00000000                   DATA FOR SOURCE-LINE 4488
13269 00001FA0 00000000                   DATA FOR SOURCE-LINE 4490
13270 00001FA4 00000000                   DATA FOR SOURCE-LINE 4491,4507
13271 00001FA8 00000000                   DATA FOR SOURCE-LINE 4495
13272 00001FAC 00000000                   DATA FOR SOURCE-LINE 4501
13273 00001FB0 00000000                   DATA FOR SOURCE-LINE 4505
13274 00001FB4 00000000                   DATA FOR SOURCE-LINE 4509
13275 00001FB8 00000000                   DATA FOR SOURCE-LINE 4512
13276 00001FBC 00000000                   DATA FOR SOURCE-LINE 4513
13277 00001FC0 00000000                   DATA FOR SOURCE-LINE 4514
13278 00001FC4 00000000                   DATA FOR SOURCE-LINE 4515
13279 00001FC8 00000000                   DATA FOR SOURCE-LINE 4517
13280 00001FCC 00000000                   DATA FOR SOURCE-LINE 4520
13281                                     ***** END-POOL *****
13282 00001FD0                   4524     DND_ALLSTEPCTL_600:
13283                            4525             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
13284 00001FD0 D109                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13285 00001FD2 6011                   M           MOV.W   @R1,R0          ;
13286 00001FD4 CB40                   M           OR      #BIT6,R0                ;
13287 00001FD6 2101                   M           MOV.W   R0,@R1          ;
13288                            4526     
13289                            4527     ;       == 2003-07-09 ==(_INT_DND_STEP_FLG.BIT6でも代替OK) ===
13290                            4528             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORG_RDY_CTL_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
13291 00001FD8 D108                   M           MOV.L   #_ORG_RDY_CTL_FLG,R1            ;
13292 00001FDA 6011                   M           MOV.W   @R1,R0          ;
13293 00001FDC CB08                   M           OR      #BIT3,R0                ;
13294 00001FDE 2101                   M           MOV.W   R0,@R1          ;
13295                            4529     
13296                            4530     
13297                            4531     
13298                            4532     ;       ====2004-09-27(中型ではこれは206.4=1)====
13299                            4533             FAR_JSR #_DND_ORGIN_SIG_FORCE_ON,R0
13300 00001FE0 D007                   M           MOV.L   #_DND_ORGIN_SIG_FORCE_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13301 00001FE2 400B                   M           JSR     @R0                     ;
13302 00001FE4 0009                   M           NOP                                     ;
13303                            4534     
13304                            4535     ;       ------------2011-03-22-------
13305                            4536     ;;;;;;  FAR_JSR #_ORGIN2_MODE_END,R0
13306                            4537             FAR_JSR #_ORIGIN_POS_CHK_INI2,R0        ;待機点移動完了
13307 00001FE6 D007                   M           MOV.L   #_ORIGIN_POS_CHK_INI2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13308 00001FE8 400B                   M           JSR     @R0                     ;
13309 00001FEA 0009                   M           NOP                                     ;
13310                            4538     
13311                            4539     ;       --------- 2014-08-05----------
13312                            4540             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
13313 00001FEC D006                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13314 00001FEE 400B                   M           JSR     @R0                     ;
13315 00001FF0 0009                   M           NOP                                     ;
13316                            4541     
13317                            4542     
13318                            4543     
13319                            4544     
13320                            4545     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   132
PROGRAM NAME =

13321 00001FF2                   4546     DND_ALLSTEPCTL_900:
13322                            4547             SUB_END
13323                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13324 00001FF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13325                            4548             M_RTS
13326 00001FF4 000B                   M           RTS                             ;RTSの後ろの
13327 00001FF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13328                            4549     
13329                            4550     ;       ***************************************************
13330                            4551     ;       ***                                             ***
13331                            4552     ;       ***     中型の目標位置決め原点でも206.4=1にする ***
13332                            4553     ;       ***                                             ***
13333                            4554     ;       ***************************************************
13334                            4555     ;       ====2004-09-27(中型ではこれは206.4=1)====
13335                                     ***** BEGIN-POOL *****
13336 00001FF8 00000000                   DATA FOR SOURCE-LINE 4525
13337 00001FFC 00000000                   DATA FOR SOURCE-LINE 4528
13338 00002000 00000000                   DATA FOR SOURCE-LINE 4533
13339 00002004 00000000                   DATA FOR SOURCE-LINE 4537
13340 00002008 00000000                   DATA FOR SOURCE-LINE 4540
13341                                     ***** END-POOL *****
13342 0000200C                   4556             .ALIGN  4                               ;
13343 0000200C                   4557     _DND_ORGIN_SIG_FORCE_ON:
13344                            4558             SUB_START
13345 0000200C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13346                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13347 0000200E D00A              4559             MOV.L   #_PAR_WTSEL_USE,R0                      ;
13348 00002010 6001              4560             MOV.W   @R0,R0                                  ;
13349 00002012 8801              4561             CMP/EQ  #1,R0                                   ;待機点選択を中型で認識
13350 00002014 8B0C              4562             BF      DND_ORGIN_SIG_FORON_EXT                 ;中型? NO
13351                            4563     
13352 00002016 D109              4564             MOV.L   #_MODE_SEL,R1                           ;
13353 00002018 6011              4565             MOV.W   @R1,R0                                  ;
13354 0000201A C840              4566             TST     #_W1DUP,R0                              ;
13355                            4567             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;原点? NO
13356 0000201C 8908                   M           BT      DND_ORGIN_SIG_FORON_EXT
13357                            4568     
13358 0000201E D108              4569             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1                  ;
13359 00002020 6011              4570             MOV.W   @R1,R0                                  ;
13360 00002022 C801              4571             TST     #BIT0,R0                                ;
13361                            4572             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;目標位置決め? NO
13362 00002024 8904                   M           BT      DND_ORGIN_SIG_FORON_EXT
13363                            4573     
13364                            4574             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
13365 00002026 D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
13366 00002028 6011                   M           MOV.W   @R1,R0          ;
13367 0000202A 9404                   M           MOV.W   #(BIT4),R4              ;
13368 0000202C 204B                   M           OR      R4,R0           ;
13369 0000202E 2101                   M           MOV.W   R0,@R1          ;
13370 00002030                   4575     DND_ORGIN_SIG_FORON_EXT:
13371                            4576             SUB_END
13372                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13373 00002030 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13374                            4577             M_RTS
13375 00002032 000B                   M           RTS                             ;RTSの後ろの
13376 00002034 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13377                            4578     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   133
PROGRAM NAME =

13378                            4579     ;       ***********************************
13379                            4580     ;       ***                             ***
13380                            4581     ;       ***     段取寸動反転仕様        ***
13381                            4582     ;       ***                             ***
13382                            4583     ;       ***********************************
13383                            4584     ;
13384                            4585             .INCLUDE        "ssa_dnd1.inc"          ; //
13385                               1 I1  ;       ***********************************
13386                               2 I1  ;       ***                             ***
13387                               3 I1  ;       ***     段取寸動コントロール    ***
13388                               4 I1  ;       ***                             ***
13389                               5 I1  ;       ***********************************
13390                               6 I1  ;       ***********************************
13391                               7 I1  ;       ***                             ***
13392                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
13393                               9 I1  ;       ***                             ***
13394                              10 I1  ;       ***********************************
13395                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
13396                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
13397                              13 I1  ;       ======== 再起動/終了            BIT1            ====
13398                              14 I1  ;       ======== BIT6;終了
13399                                 I1  ***** BEGIN-POOL *****
13400 00002036 0010                   I1  DATA FOR SOURCE-LINE 4574
13401 00002038 00000000               I1  DATA FOR SOURCE-LINE 4559
13402 0000203C 00000000               I1  DATA FOR SOURCE-LINE 4564
13403 00002040 00000000               I1  DATA FOR SOURCE-LINE 4569
13404 00002044 00000000               I1  DATA FOR SOURCE-LINE 4574
13405                                 I1  ***** END-POOL *****
13406 00002048                     15 I1  _DND_NEG_STEP_CTRL:
13407                              16 I1          SUB_START
13408 00002048 4F22                   M           STS.L   PR,@-R15                ;[必要]
13409                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13410                              17 I1  
13411 0000204A D103                18 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;段取り共通
13412 0000204C 6011                19 I1          MOV.W   @R1,R0                          ;
13413 0000204E C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
13414                              21 I1          TST_BIT_OF DND_NEGSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
13415 00002050 8904                   M           BT      DND_NEGSTEPCTL_100
13416                              22 I1          M_BRA   DND_NEGSTEPCTL_300              ;BIT1:次の回転起動
13417 00002052 A021                   M           BRA     DND_NEGSTEPCTL_300
13418 00002054 0009                   M           NOP
13419                              23 I1  
13420                                 I1  ***** BEGIN-POOL *****
13421 00002056 0000                   I1  ALIGNMENT CODE
13422 00002058 00000000               I1  DATA FOR SOURCE-LINE 18
13423                                 I1  ***** END-POOL *****
13424 0000205C                     24 I1  DND_NEGSTEPCTL_100:
13425                              25 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
13426 0000205C D004                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13427 0000205E 400B                   M           JSR     @R0                     ;
13428 00002060 0009                   M           NOP                                     ;
13429                              26 I1  
13430                              27 I1          FAR_JSR #_LOD_POS_STS_REG,R1    ;
13431 00002062 D104                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13432 00002064 410B                   M           JSR     @R1                     ;
13433 00002066 0009                   M           NOP                                     ;
13434 00002068 C804                28 I1          TST     #BIT2,R0                ;停止?
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   134
PROGRAM NAME =

13435                              29 I1          TST_BIT_ON DND_NEGSTEPCTL_200   ;YES 停止中 1:停止 0:払出中
13436 0000206A 8B05                   M           BF      DND_NEGSTEPCTL_200
13437                              30 I1          M_BRA   DND_NEGSTEPCTL_900      ;
13438 0000206C A05E                   M           BRA     DND_NEGSTEPCTL_900
13439 0000206E 0009                   M           NOP
13440                              31 I1  
13441                              32 I1  ;       ===========================
13442                              33 I1  ;       ===     払出停止        ===
13443                              34 I1  ;       ===     回転時          ===
13444                              35 I1  ;       ===========================
13445                                 I1  ***** BEGIN-POOL *****
13446 00002070 00000000               I1  DATA FOR SOURCE-LINE 25
13447 00002074 00000000               I1  DATA FOR SOURCE-LINE 27
13448                                 I1  ***** END-POOL *****
13449 00002078                     36 I1  DND_NEGSTEPCTL_200:
13450                              37 I1  ;       >>>> 切替ﾀｲﾏｾｯﾄ <<<<
13451                              38 I1  ;       ===============================================
13452                              39 I1  ;;;2014-05-30   MOV.L   #_PAR_START_WAIT_DND,R1                                 ;段取時切
                                          替WAIT時間
13453 00002078 D104                40 I1          MOV.L   #(_PAR_START_WAIT_DND-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;段取時切替WAIT時
                                          間
13454 0000207A 6111                41 I1          MOV.W   @R1,R1                                  ;
13455                              42 I1  
13456 0000207C D404                43 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
13457 0000207E 2412                44 I1          MOV.L   R1,@R4                                                          ;
13458                              45 I1  ;       FLG=(BIT0):ｾｯﾄ                                                          ;
13459                              46 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;ﾀｲﾏ起動
13460 00002080 D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13461 00002082 6011                   M           MOV.W   @R1,R0          ;
13462 00002084 CB01                   M           OR      #BIT0,R0                ;
13463 00002086 2101                   M           MOV.W   R0,@R1          ;
13464                              47 I1          M_BRA   DND_NEGSTEPCTL_900                                              ;
13465 00002088 A050                   M           BRA     DND_NEGSTEPCTL_900
13466 0000208A 0009                   M           NOP
13467                              48 I1  
13468                                 I1  ***** BEGIN-POOL *****
13469 0000208C 00000000               I1  DATA FOR SOURCE-LINE 40
13470 00002090 00000000               I1  DATA FOR SOURCE-LINE 43
13471 00002094 00000000               I1  DATA FOR SOURCE-LINE 46
13472                                 I1  ***** END-POOL *****
13473 00002098                     49 I1  DND_NEGSTEPCTL_300:
13474 00002098 C802                50 I1          TST     #BIT1,R0                ;
13475                              51 I1          TST_BIT_ON DND_NEGSTEPCTL_400   ;
13476 0000209A 8B15                   M           BF      DND_NEGSTEPCTL_400
13477                              52 I1  
13478                              53 I1  ;       ===== 切替ﾀｲﾏ待ち ====
13479                              54 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
13480 0000209C D105                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
13481 0000209E 6412                   M           MOV.L   @R1,R4          ;
13482 000020A0 2448                   M           TST     R4,R4                   ;
13483 000020A2 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
13484 000020A4 4410                   M           DT      R4                              ;
13485 000020A6 2142                   M           MOV.L   R4,@R1          ;STORE
13486 000020A8                        M   JMP_0100006:
13487                              55 I1  
13488 000020A8 D402                56 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
13489 000020AA 6142                57 I1          MOV.L   @R4,R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   135
PROGRAM NAME =

13490 000020AC 2118                58 I1          TST     R1,R1                   ;
13491                              59 I1          TST_BIT_OF DND_NEGSTEPCTL_320   ;
13492 000020AE 8903                   M           BT      DND_NEGSTEPCTL_320
13493                              60 I1          M_BRA   DND_NEGSTEPCTL_900      ;
13494 000020B0 A03C                   M           BRA     DND_NEGSTEPCTL_900
13495 000020B2 0009                   M           NOP
13496                              61 I1  
13497                                 I1  ***** BEGIN-POOL *****
13498 000020B4 00000000               I1  DATA FOR SOURCE-LINE 54,56
13499                                 I1  ***** END-POOL *****
13500 000020B8                     62 I1  DND_NEGSTEPCTL_320:
13501                              63 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
13502 000020B8 D102                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13503 000020BA 6011                   M           MOV.W   @R1,R0          ;
13504 000020BC CB02                   M           OR      #BIT1,R0                ;
13505 000020BE 2101                   M           MOV.W   R0,@R1          ;
13506                              64 I1          M_BRA   DND_NEGSTEPCTL_900              ;
13507 000020C0 A034                   M           BRA     DND_NEGSTEPCTL_900
13508 000020C2 0009                   M           NOP
13509                              65 I1  
13510                              66 I1  
13511                              67 I1  ;       ======= 次の起動 =====
13512                                 I1  ***** BEGIN-POOL *****
13513 000020C4 00000000               I1  DATA FOR SOURCE-LINE 63
13514                                 I1  ***** END-POOL *****
13515 000020C8                     68 I1  DND_NEGSTEPCTL_400:
13516                              69 I1  ;       ===================================
13517                              70 I1  ;       ===     二重回路対策            ===
13518                              71 I1  ;       ===     工程完了                ===
13519                              72 I1  ;       ===================================
13520                              73 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
13521 000020C8 D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13522 000020CA 400B                   M           JSR     @R0                     ;
13523 000020CC 0009                   M           NOP                                     ;
13524 000020CE 2008                74 I1          TST     R0,R0                           ;
13525                              75 I1          TST_BIT_ON DND_NEGSTEPCTL_420           ;
13526 000020D0 8B04                   M           BF      DND_NEGSTEPCTL_420
13527                              76 I1          M_BRA   DND_NEGSTEPCTL_900              ;
13528 000020D2 A02B                   M           BRA     DND_NEGSTEPCTL_900
13529 000020D4 0009                   M           NOP
13530                              77 I1  
13531                                 I1  ***** BEGIN-POOL *****
13532 000020D6 0000                   I1  ALIGNMENT CODE
13533 000020D8 00000000               I1  DATA FOR SOURCE-LINE 73
13534                                 I1  ***** END-POOL *****
13535 000020DC                     78 I1  DND_NEGSTEPCTL_420:                             ;
13536                              79 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
13537 000020DC D004                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13538 000020DE 400B                   M           JSR     @R0                     ;
13539 000020E0 0009                   M           NOP                                     ;
13540                              80 I1  
13541                              81 I1  ;       ====  次の動作の演算 =====
13542 000020E2 D504                82 I1          MOV.L   #_INT_DND_NEG_STEP,R5           ;
13543 000020E4 6051                83 I1          MOV.W   @R5,R0                          ;
13544 000020E6 8801                84 I1          CMP/EQ  #1,R0                           ;
13545 000020E8 8B06                85 I1          BF      DND_NEGSTEPCTL_440              ;もし0or2なら待機点なので1へ遷移
13546 000020EA E002                86 I1          MOV     #2,R0                           ;もし1(目標位置への動作)なら2へ（待機点）
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   136
PROGRAM NAME =

13547                              87 I1          M_BRA   DND_NEGSTEPCTL_460              ;
13548 000020EC A005                   M           BRA     DND_NEGSTEPCTL_460
13549 000020EE 0009                   M           NOP
13550                                 I1  ***** BEGIN-POOL *****
13551 000020F0 00000000               I1  DATA FOR SOURCE-LINE 79
13552 000020F4 00000000               I1  DATA FOR SOURCE-LINE 82
13553                                 I1  ***** END-POOL *****
13554 000020F8                     88 I1  DND_NEGSTEPCTL_440:                             ;
13555 000020F8 E001                89 I1          MOV     #1,R0                           ;もし0or2(待機点への動作)なら1
13556 000020FA                     90 I1  DND_NEGSTEPCTL_460:                             ;
13557 000020FA 2501                91 I1          MOV.W   R0,@R5                          ;
13558                              92 I1          FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;<<>>
13559 000020FC D00D                   M           MOV.L   #_DND_LNK_STEP_CHECK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13560 000020FE 400B                   M           JSR     @R0                     ;
13561 00002100 0009                   M           NOP                                     ;
13562                              93 I1          FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
13563 00002102 D10D                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13564 00002104 410B                   M           JSR     @R1                     ;
13565 00002106 0009                   M           NOP                                     ;
13566                              94 I1  
13567                              95 I1  ;       ===================
13568                              96 I1  ;       ===     起動    ===
13569                              97 I1  ;       ===================
13570 00002108                     98 I1  DND_NEGSTEPCTL_580:
13571                              99 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
13572 00002108 D00C                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13573 0000210A 400B                   M           JSR     @R0                     ;
13574 0000210C 0009                   M           NOP                                     ;
13575                             100 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13576 0000210E D00C                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13577 00002110 400B                   M           JSR     @R0                     ;
13578 00002112 0009                   M           NOP                                     ;
13579                             101 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13580 00002114 D00B                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13581 00002116 400B                   M           JSR     @R0                     ;
13582 00002118 0009                   M           NOP                                     ;
13583                             102 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
13584 0000211A D10B                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13585 0000211C 410B                   M           JSR     @R1                     ;
13586 0000211E 0009                   M           NOP                                     ;
13587 00002120 200A               103 I1          XOR     R0,R0                           ;
13588 00002122 D10A               104 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
13589 00002124 2101               105 I1          MOV.W   R0,@R1                          ;Q
13590                             106 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
13591 00002126 D00A                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13592 00002128 400B                   M           JSR     @R0                     ;
13593 0000212A 0009                   M           NOP                                     ;
13594                             107 I1  
13595 0000212C                    108 I1  DND_NEGSTEPCTL_900:
13596                             109 I1          SUB_END
13597                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13598 0000212C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13599                             110 I1          M_RTS
13600 0000212E 000B                   M           RTS                             ;RTSの後ろの
13601 00002130 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13602                             111 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   137
PROGRAM NAME =

13603                             112 I1  
13604                             113 I1  
13605                            4586     
13606                            4587     ;       *******************************************
13607                            4588     ;       ***                                     ***
13608                            4589     ;       ***     段取寸動正転・逆転停止仕様      ***
13609                            4590     ;       ***                                     ***
13610                            4591     ;       *******************************************
13611                            4592     ;
13612                            4593             .INCLUDE        "ssa_dnd2.inc"          ; //
13613                               1 I1  ;       ***********************************
13614                               2 I1  ;       ***                             ***
13615                               3 I1  ;       ***     段取寸動コントロール    ***
13616                               4 I1  ;       ***                             ***
13617                               5 I1  ;       ***********************************
13618                               6 I1  ;       ***********************************
13619                               7 I1  ;       ***                             ***
13620                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
13621                               9 I1  ;       ***                             ***
13622                              10 I1  ;       ***********************************
13623                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
13624                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
13625                              13 I1  ;       ======== 再起動/終了            BIT1            ====
13626                              14 I1  ;       ======== BIT6;終了
13627                                 I1  ***** BEGIN-POOL *****
13628 00002132 0000                   I1  ALIGNMENT CODE
13629 00002134 00000000               I1  DATA FOR SOURCE-LINE 92
13630 00002138 00000000               I1  DATA FOR SOURCE-LINE 93
13631 0000213C 00000000               I1  DATA FOR SOURCE-LINE 99
13632 00002140 00000000               I1  DATA FOR SOURCE-LINE 100
13633 00002144 00000000               I1  DATA FOR SOURCE-LINE 101
13634 00002148 00000000               I1  DATA FOR SOURCE-LINE 102
13635 0000214C 00000000               I1  DATA FOR SOURCE-LINE 104
13636 00002150 00000000               I1  DATA FOR SOURCE-LINE 106
13637                                 I1  ***** END-POOL *****
13638 00002154                     15 I1  _DND_ROT_STEP_CTRL:
13639                              16 I1          SUB_START
13640 00002154 4F22                   M           STS.L   PR,@-R15                ;[必要]
13641                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13642                              17 I1  
13643 00002156 D103                18 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
13644 00002158 6011                19 I1          MOV.W   @R1,R0                          ;
13645 0000215A C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
13646                              21 I1          TST_BIT_ON DND_ROTSTEPCTL_050           ;
13647 0000215C 8B04                   M           BF      DND_ROTSTEPCTL_050
13648                              22 I1          M_BRA   DND_ROTSTEPCTL_EXT              ;
13649 0000215E A043                   M           BRA     DND_ROTSTEPCTL_EXT
13650 00002160 0009                   M           NOP
13651                              23 I1  
13652                                 I1  ***** BEGIN-POOL *****
13653 00002162 0000                   I1  ALIGNMENT CODE
13654 00002164 00000000               I1  DATA FOR SOURCE-LINE 18
13655                                 I1  ***** END-POOL *****
13656 00002168                     24 I1  DND_ROTSTEPCTL_050:
13657 00002168 D106                25 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;
13658 0000216A 6011                26 I1          MOV.W   @R1,R0                          ;
13659 0000216C C820                27 I1          TST     #BIT5,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   138
PROGRAM NAME =

13660                              28 I1          TST_BIT_ON DND_ROTSTEPCTL_080           ;終了
13661 0000216E 8B07                   M           BF      DND_ROTSTEPCTL_080
13662                              29 I1  
13663                              30 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
13664 00002170 D005                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13665 00002172 400B                   M           JSR     @R0                     ;
13666 00002174 0009                   M           NOP                                     ;
13667                              31 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
13668 00002176 D105                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13669 00002178 410B                   M           JSR     @R1                     ;
13670 0000217A 0009                   M           NOP                                     ;
13671 0000217C C804                32 I1          TST     #BIT2,R0                        ;停止?
13672                              33 I1          TST_BIT_ON DND_ROTSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
13673 0000217E 8B07                   M           BF      DND_ROTSTEPCTL_200
13674 00002180                     34 I1  DND_ROTSTEPCTL_080:
13675                              35 I1          M_BRA   DND_ROTSTEPCTL_900              ;
13676 00002180 A031                   M           BRA     DND_ROTSTEPCTL_900
13677 00002182 0009                   M           NOP
13678                              36 I1  
13679                              37 I1  ;       ===========================
13680                              38 I1  ;       ===     払出停止        ===
13681                              39 I1  ;       ===     回転時          ===
13682                              40 I1  ;       ===========================
13683                                 I1  ***** BEGIN-POOL *****
13684 00002184 00000000               I1  DATA FOR SOURCE-LINE 25
13685 00002188 00000000               I1  DATA FOR SOURCE-LINE 30
13686 0000218C 00000000               I1  DATA FOR SOURCE-LINE 31
13687                                 I1  ***** END-POOL *****
13688 00002190                     41 I1  DND_ROTSTEPCTL_200:
13689 00002190                     42 I1  DND_ROTSTEPCTL_400:
13690                              43 I1  ;       ===================================
13691                              44 I1  ;       ===     二重回路対策            ===
13692                              45 I1  ;       ===     工程完了                ===
13693                              46 I1  ;       ===================================
13694                              47 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
13695 00002190 D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13696 00002192 400B                   M           JSR     @R0                     ;
13697 00002194 0009                   M           NOP                                     ;
13698 00002196 2008                48 I1          TST     R0,R0                           ;
13699                              49 I1          TST_BIT_ON DND_ROTSTEPCTL_420           ;
13700 00002198 8B04                   M           BF      DND_ROTSTEPCTL_420
13701                              50 I1          M_BRA   DND_ROTSTEPCTL_900              ;
13702 0000219A A024                   M           BRA     DND_ROTSTEPCTL_900
13703 0000219C 0009                   M           NOP
13704                              51 I1  
13705                                 I1  ***** BEGIN-POOL *****
13706 0000219E 0000                   I1  ALIGNMENT CODE
13707 000021A0 00000000               I1  DATA FOR SOURCE-LINE 47
13708                                 I1  ***** END-POOL *****
13709 000021A4                     52 I1  DND_ROTSTEPCTL_420:                             ;
13710                              53 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
13711 000021A4 D006                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13712 000021A6 400B                   M           JSR     @R0                     ;
13713 000021A8 0009                   M           NOP                                     ;
13714                              54 I1  
13715                              55 I1  ;       ====  工程を進めて終了する =====
13716 000021AA D506                56 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   139
PROGRAM NAME =

13717 000021AC 6351                57 I1          MOV.W   @R5,R3                          ;
13718 000021AE D106                58 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
13719 000021B0 6011                59 I1          MOV.W   @R1,R0                          ;
13720 000021B2 C903                60 I1          AND     #(BIT1+BIT0),R0                 ;
13721 000021B4 8803                61 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
13722 000021B6 8909                62 I1          BT      DND_ROTSTEPCTL_440              ;
13723 000021B8 E301                63 I1          MOV     #1,R3                           ;
13724                              64 I1          M_BRA   DND_ROTSTEPCTL_500              ;
13725 000021BA A00C                   M           BRA     DND_ROTSTEPCTL_500
13726 000021BC 0009                   M           NOP
13727                                 I1  ***** BEGIN-POOL *****
13728 000021BE 0000                   I1  ALIGNMENT CODE
13729 000021C0 00000000               I1  DATA FOR SOURCE-LINE 53
13730 000021C4 00000000               I1  DATA FOR SOURCE-LINE 56
13731 000021C8 00000000               I1  DATA FOR SOURCE-LINE 58
13732                                 I1  ***** END-POOL *****
13733 000021CC                     65 I1  DND_ROTSTEPCTL_440:                             ;
13734 000021CC 7301                66 I1          ADD     #1,R3                           ;
13735 000021CE 920E                67 I1          MOV.W   #2,R2                           ;
13736 000021D0 3326                68 I1          CMP/HI  R2,R3                           ;
13737 000021D2 8B00                69 I1          BF      DND_ROTSTEPCTL_500              ;
13738 000021D4 930C                70 I1          MOV.W   #1,R3                           ;
13739 000021D6                     71 I1  DND_ROTSTEPCTL_500:                             ;
13740 000021D6 2531                72 I1          MOV.W   R3,@R5                          ;
13741                              73 I1  
13742                              74 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1    ;BIT5=1 EN
                                          D
13743 000021D8 D106                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13744 000021DA 6011                   M           MOV.W   @R1,R0          ;
13745 000021DC CB20                   M           OR      #BIT5,R0                ;
13746 000021DE 2101                   M           MOV.W   R0,@R1          ;
13747                              75 I1  
13748                              76 I1  ;       --------- 2014-08-05----------
13749                              77 I1          FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
13750 000021E0 D005                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13751 000021E2 400B                   M           JSR     @R0                     ;
13752 000021E4 0009                   M           NOP                                     ;
13753                              78 I1  
13754 000021E6                     79 I1  DND_ROTSTEPCTL_900:
13755 000021E6 0009                80 I1          NOP
13756 000021E8                     81 I1  DND_ROTSTEPCTL_EXT:
13757                              82 I1          SUB_END
13758                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13759 000021E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13760                              83 I1          M_RTS
13761 000021EA 000B                   M           RTS                             ;RTSの後ろの
13762 000021EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13763                              84 I1  
13764                              85 I1  ;       ***********************************
13765                              86 I1  ;       ***                             ***
13766                              87 I1  ;       ***     初起動時のエリア作成    ***
13767                              88 I1  ;       ***                             ***
13768                              89 I1  ;       ***********************************
13769                                 I1  ***** BEGIN-POOL *****
13770 000021EE 0002                   I1  DATA FOR SOURCE-LINE 67
13771 000021F0 0001                   I1  DATA FOR SOURCE-LINE 70
13772 000021F2 0000                   I1  ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   140
PROGRAM NAME =

13773 000021F4 00000000               I1  DATA FOR SOURCE-LINE 74
13774 000021F8 00000000               I1  DATA FOR SOURCE-LINE 77
13775                                 I1  ***** END-POOL *****
13776          00000014            90 I1  _DND_AREA_HIS           .EQU    20              ;2.0DIG
13777 000021FC                     91 I1  _DNDINC_STEP_MAKE:
13778                              92 I1          SUB_START
13779 000021FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13780                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13781 000021FE D50B                93 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
13782 00002200 6351                94 I1          MOV.W   @R5,R3                          ;
13783 00002202 2338                95 I1          TST     R3,R3                           ;
13784                              96 I1          TST_BIT_OF DNDINC_STEP_MK100            ;再計算
13785 00002204 891C                   M           BT      DNDINC_STEP_MK100
13786                              97 I1  
13787 00002206 D10A                98 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
13788 00002208 6011                99 I1          MOV.W   @R1,R0                          ;
13789 0000220A D10A               100 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
13790 0000220C 6211               101 I1          MOV.W   @R1,R2
13791 0000220E 2101               102 I1          MOV.W   R0,@R1                          ;
13792 00002210 220A               103 I1          XOR     R0,R2                           ;
13793 00002212 2228               104 I1          TST     R2,R2                           ;
13794                             105 I1          TST_BIT_ON DNDINC_STEP_MK100            ;SW変更有り　再計算
13795 00002214 8B14                   M           BF      DNDINC_STEP_MK100
13796                             106 I1  
13797 00002216 D108               107 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
13798 00002218 6011               108 I1          MOV.W   @R1,R0                          ;
13799 0000221A D108               109 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
13800 0000221C 6211               110 I1          MOV.W   @R1,R2                          ;
13801 0000221E 2101               111 I1          MOV.W   R0,@R1                          ;
13802 00002220 220A               112 I1          XOR     R0,R2                           ;
13803 00002222 2228               113 I1          TST     R2,R2                           ;
13804                             114 I1          TST_BIT_ON DNDINC_STEP_MK100            ;DIRD変更有り　再計算
13805 00002224 8B0C                   M           BF      DNDINC_STEP_MK100
13806                             115 I1          M_BRA   DNDINC_STEP_MK150
13807 00002226 A027                   M           BRA     DNDINC_STEP_MK150
13808 00002228 0009                   M           NOP
13809                             116 I1  
13810                             117 I1  ;;20060919      M_BRA   DNDINC_STEP_MK300               ;
13811                             118 I1  
13812                             119 I1  
13813                             120 I1  ;       -------- 開始計算--------
13814                                 I1  ***** BEGIN-POOL *****
13815 0000222A 0000                   I1  ALIGNMENT CODE
13816 0000222C 00000000               I1  DATA FOR SOURCE-LINE 93
13817 00002230 00000000               I1  DATA FOR SOURCE-LINE 98
13818 00002234 00000000               I1  DATA FOR SOURCE-LINE 100
13819 00002238 00000000               I1  DATA FOR SOURCE-LINE 107
13820 0000223C 00000000               I1  DATA FOR SOURCE-LINE 109
13821                                 I1  ***** END-POOL *****
13822 00002240                    121 I1  DNDINC_STEP_MK100:
13823 00002240 D108               122 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
13824 00002242 6011               123 I1          MOV.W   @R1,R0                          ;
13825 00002244 D108               124 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
13826 00002246 2101               125 I1          MOV.W   R0,@R1                          ;
13827                             126 I1  
13828 00002248 D108               127 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
13829 0000224A 6211               128 I1          MOV.W   @R1,R2                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   141
PROGRAM NAME =

13830 0000224C D108               129 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
13831 0000224E 2121               130 I1          MOV.W   R2,@R1                          ;
13832                             131 I1  
13833 00002250 C903               132 I1          AND     #(BIT1+BIT0),R0                 ;
13834 00002252 8803               133 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
13835 00002254 8910               134 I1          BT      DNDINC_STEP_MK150               ;
13836                             135 I1  
13837 00002256 D507               136 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
13838 00002258 9302               137 I1          MOV.W   #1,R3                           ;STEP=1
13839 0000225A 2531               138 I1          MOV.W   R3,@R5                          ;
13840                             139 I1          M_BRA   DNDINC_STEP_MK300               ;
13841 0000225C A061                   M           BRA     DNDINC_STEP_MK300
13842 0000225E 0009                   M           NOP
13843                             140 I1  
13844                                 I1  ***** BEGIN-POOL *****
13845 00002260 0001                   I1  DATA FOR SOURCE-LINE 137
13846 00002262 0000                   I1  ALIGNMENT CODE
13847 00002264 00000000               I1  DATA FOR SOURCE-LINE 122
13848 00002268 00000000               I1  DATA FOR SOURCE-LINE 124
13849 0000226C 00000000               I1  DATA FOR SOURCE-LINE 127
13850 00002270 00000000               I1  DATA FOR SOURCE-LINE 129
13851 00002274 00000000               I1  DATA FOR SOURCE-LINE 136
13852                                 I1  ***** END-POOL *****
13853 00002278                    141 I1  DNDINC_STEP_MK150:
13854 00002278 D10B               142 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
13855 0000227A 6011               143 I1          MOV.W   @R1,R0
13856 0000227C 2008               144 I1          TST     R0,R0                           ;
13857                             145 I1          TST_BIT_ON DNDINC_STEP_MK180            ;
13858 0000227E 8B19                   M           BF      DNDINC_STEP_MK180
13859                             146 I1  
13860 00002280 940F               147 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
13861 00002282 D10A               148 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
13862 00002284 6211               149 I1          MOV.W   @R1,R2                                                  ;
13863                             150 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;dig-2.0
13864 00002286 3248                   M           SUB     R4,R2
13865 00002288 4211                   M           CMP/PZ  R2
13866 0000228A 8901                   M           BT      JMP0100007                      ;
13867 0000228C 910A                   M           MOV.W   #3600,R1
13868 0000228E 321C                   M           ADD     R1,R2           ;
13869 00002290                        M   JMP0100007                                      ;
13870                             151 I1  
13871 00002290 D107               152 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1        ;
13872 00002292 6311               153 I1          MOV.W   @R1,R3                          ;
13873                             154 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;dig-2.0
13874 00002294 3348                   M           SUB     R4,R3
13875 00002296 4311                   M           CMP/PZ  R3
13876 00002298 8901                   M           BT      JMP0100008                      ;
13877 0000229A 9103                   M           MOV.W   #3600,R1
13878 0000229C 331C                   M           ADD     R1,R3           ;
13879 0000229E                        M   JMP0100008                                      ;
13880                             155 I1          M_BRA   DNDINC_STEP_MK200
13881 0000229E A018                   M           BRA     DNDINC_STEP_MK200
13882 000022A0 0009                   M           NOP
13883                             156 I1  
13884                                 I1  ***** BEGIN-POOL *****
13885 000022A2 0014                   I1  DATA FOR SOURCE-LINE 147
13886 000022A4 0E10                   I1  DATA FOR SOURCE-LINE 150,154
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   142
PROGRAM NAME =

13887 000022A6 0000                   I1  ALIGNMENT CODE
13888 000022A8 00000000               I1  DATA FOR SOURCE-LINE 142
13889 000022AC 00000000               I1  DATA FOR SOURCE-LINE 148
13890 000022B0 00000000               I1  DATA FOR SOURCE-LINE 152
13891                                 I1  ***** END-POOL *****
13892 000022B4                    157 I1  DNDINC_STEP_MK180:                                                      ;
13893                             158 I1  
13894 000022B4 9419               159 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
13895 000022B6 D10E               160 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
13896 000022B8 6311               161 I1          MOV.W   @R1,R3                                                  ;
13897                             162 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;
13898 000022BA 334C                   M           ADD     R4,R3
13899 000022BC 9116                   M           MOV.W   #3600,R1
13900 000022BE 3137                   M           CMP/GT  R3,R1           ;359.9<3600
13901 000022C0 8900                   M           BT      JMP0100009                      ;
13902 000022C2 3318                   M           SUB     R1,R3           ;
13903 000022C4                        M   JMP0100009                                      ;
13904                             163 I1  
13905 000022C4 D10B               164 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1                                ;
13906 000022C6 6211               165 I1          MOV.W   @R1,R2                                                  ;
13907                             166 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;
13908 000022C8 324C                   M           ADD     R4,R2
13909 000022CA 910F                   M           MOV.W   #3600,R1
13910 000022CC 3127                   M           CMP/GT  R2,R1           ;359.9<3600
13911 000022CE 8900                   M           BT      JMP0100010                      ;
13912 000022D0 3218                   M           SUB     R1,R2           ;
13913 000022D2                        M   JMP0100010                                      ;
13914                             167 I1  
13915 000022D2                    168 I1  DNDINC_STEP_MK200:                                              ;
13916 000022D2 D109               169 I1          MOV.L   #_INC_ENC360,R1                                 ;
13917 000022D4 6411               170 I1          MOV.W   @R1,R4                                          ;
13918                             171 I1  
13919                             172 I1          DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R4,ANSREG=R0       ;R0 !=0 範囲内
13920 000022D6 3233                   M           CMP/GE  R3,R2
13921 000022D8 8B10                   M           BF      JMP0100011
13922                                 M   ;       === 0度をはさなまい===
13923 000022DA 200A                   M           XOR     R0,R0
13924 000022DC 3433                   M           CMP/GE  R3,R4           ;
13925 000022DE 8B13                   M           BF      JMP0200011                      ; PV<SV1
13926 000022E0 3243                   M           CMP/GE  R4,R2           ;
13927 000022E2 8B11                   M           BF      JMP0200011                      ; SV2<PV2 (1)
13928 000022E4 E001                   M           MOV     #1,R0           ;
13929                                 M           M_BRA   JMP0200011                      ;
13930 000022E6 A00F                   M           BRA     JMP0200011
13931 000022E8 0009                   M           NOP
13932                                 M   
13933                                 M   ;       ==== ０度をはさむ====
13934                                 M   ***** BEGIN-POOL *****
13935 000022EA 0014                   M   DATA FOR SOURCE-LINE 159
13936 000022EC 0E10                   M   DATA FOR SOURCE-LINE 162,166
13937 000022EE 0000                   M   ALIGNMENT CODE
13938 000022F0 00000000               M   DATA FOR SOURCE-LINE 160
13939 000022F4 00000000               M   DATA FOR SOURCE-LINE 164
13940 000022F8 00000000               M   DATA FOR SOURCE-LINE 169
13941                                 M   ***** END-POOL *****
13942 000022FC                        M   JMP0100011:
13943 000022FC E001                   M           MOV     #1,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   143
PROGRAM NAME =

13944 000022FE 3433                   M           CMP/GE  R3,R4
13945 00002300 8902                   M           BT      JMP0200011                      ;SV1=<PV=<360
13946 00002302 3243                   M           CMP/GE  R4,R2           ;
13947 00002304 8900                   M           BT      JMP0200011                      ;
13948 00002306 200A                   M           XOR     R0,R0           ;
13949 00002308                        M   JMP0200011:
13950 00002308 2008               173 I1          TST     R0,R0                                           ;
13951                             174 I1          TST_BIT_OF DNDINC_STEP_MK220                            ;
13952 0000230A 8907                   M           BT      DNDINC_STEP_MK220
13953 0000230C D502               175 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
13954 0000230E 9302               176 I1          MOV.W   #2,R3                                           ;STEP=2 待機点に戻ってきて
                                          いる
13955 00002310 2531               177 I1          MOV.W   R3,@R5                                          ;
13956                             178 I1          M_BRA   DNDINC_STEP_MK300                               ;
13957 00002312 A006                   M           BRA     DNDINC_STEP_MK300
13958 00002314 0009                   M           NOP
13959                                 I1  ***** BEGIN-POOL *****
13960 00002316 0002                   I1  DATA FOR SOURCE-LINE 176
13961 00002318 00000000               I1  DATA FOR SOURCE-LINE 175
13962                                 I1  ***** END-POOL *****
13963 0000231C                    179 I1  DNDINC_STEP_MK220:                                              ;
13964 0000231C D503               180 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
13965 0000231E 9303               181 I1          MOV.W   #1,R3                                           ;STEP=1 待機点を越えている
13966 00002320 2531               182 I1          MOV.W   R3,@R5                                          ;
13967 00002322                    183 I1  DNDINC_STEP_MK300:
13968                             184 I1          SUB_END
13969                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13970 00002322 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13971                             185 I1          M_RTS
13972 00002324 000B                   M           RTS                             ;RTSの後ろの
13973 00002326 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13974                             186 I1  
13975                             187 I1  ;       ***********************************
13976                             188 I1  ;       ***                             ***
13977                             189 I1  ;       ***     工程からの目標位置作成  ***
13978                             190 I1  ;       ***                             ***
13979                             191 I1  ;       ***********************************
13980                                 I1  ***** BEGIN-POOL *****
13981 00002328 0001                   I1  DATA FOR SOURCE-LINE 181
13982 0000232A 0000                   I1  ALIGNMENT CODE
13983 0000232C 00000000               I1  DATA FOR SOURCE-LINE 180
13984                                 I1  ***** END-POOL *****
13985 00002330                    192 I1  _DNDINC_MAKE_OBJPOS:
13986                             193 I1          SUB_START
13987 00002330 4F22                   M           STS.L   PR,@-R15                ;[必要]
13988                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13989                             194 I1  
13990 00002332 D104               195 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
13991 00002334 6011               196 I1          MOV.W   @R1,R0                          ;
13992 00002336 C903               197 I1          AND     #(BIT1+BIT0),R0                 ;
13993 00002338 8803               198 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
13994 0000233A 8905               199 I1          BT      DNDINC_MAKOBJPOS_100            ;
13995                             200 I1  
13996 0000233C C801               201 I1          TST     #BIT0,R0                        ;待機点のみ
13997                             202 I1          TST_BIT_ON DNDINC_MAKOBJPOS_120         ;YES
13998 0000233E 8B08                   M           BF      DNDINC_MAKOBJPOS_120
13999                             203 I1          M_BRA   DNDINC_MAKOBJPOS_150            ;途中位置
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   144
PROGRAM NAME =

14000 00002340 A010                   M           BRA     DNDINC_MAKOBJPOS_150
14001 00002342 0009                   M           NOP
14002                             204 I1  
14003                                 I1  ***** BEGIN-POOL *****
14004 00002344 00000000               I1  DATA FOR SOURCE-LINE 195
14005                                 I1  ***** END-POOL *****
14006 00002348                    205 I1  DNDINC_MAKOBJPOS_100:
14007 00002348 D104               206 I1          MOV.L   #_DNDINC_CTRL_STEP,R1           ;
14008 0000234A 6311               207 I1          MOV.W   @R1,R3                          ;
14009 0000234C 9205               208 I1          MOV.W   #2,R2                           ;
14010 0000234E 3230               209 I1          CMP/EQ  R3,R2
14011 00002350 8B08               210 I1          BF      DNDINC_MAKOBJPOS_150            ;
14012 00002352                    211 I1  DNDINC_MAKOBJPOS_120:
14013 00002352 D103               212 I1          MOV.L   #_CPOS_DND_PLSTOP+0*4,R1        ;
14014 00002354 6212               213 I1          MOV.L   @R1,R2                          ;STEP2=待機点に戻る
14015                             214 I1          M_BRA   DNDINC_MAKOBJPOS_200            ;
14016 00002356 A007                   M           BRA     DNDINC_MAKOBJPOS_200
14017 00002358 0009                   M           NOP
14018                             215 I1  
14019                                 I1  ***** BEGIN-POOL *****
14020 0000235A 0002                   I1  DATA FOR SOURCE-LINE 208
14021 0000235C 00000000               I1  DATA FOR SOURCE-LINE 206
14022 00002360 00000000               I1  DATA FOR SOURCE-LINE 212
14023                                 I1  ***** END-POOL *****
14024 00002364                    216 I1  DNDINC_MAKOBJPOS_150:
14025 00002364 D104               217 I1          MOV.L   #_CPOS_DND_PLSTOP+1*4,R1        ;
14026 00002366 6212               218 I1          MOV.L   @R1,R2                          ;STEP1=待機点から次へ出発
14027                             219 I1  
14028 00002368                    220 I1  DNDINC_MAKOBJPOS_200:
14029 00002368 D104               221 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14030 0000236A 6011               222 I1          MOV.W   @R1,R0
14031                             223 I1          FAR_JSR #_LNKPLS_OBJ_DAT_MAK2,R1        ;
14032 0000236C D104                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK2,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14033 0000236E 410B                   M           JSR     @R1                     ;
14034 00002370 0009                   M           NOP                                     ;
14035                             224 I1  
14036                             225 I1  
14037                             226 I1          SUB_END
14038                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14039 00002372 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14040                             227 I1          M_RTS
14041 00002374 000B                   M           RTS                             ;RTSの後ろの
14042 00002376 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14043                             228 I1  
14044                             229 I1  ;       *******************************************
14045                             230 I1  ;       ***                                     ***
14046                             231 I1  ;       ***     Input R2                        ***
14047                             232 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
14048                             233 I1  ;       ***     Input R0 DIRECT                 ***
14049                             234 I1  ;       ***     方向固定                        ***
14050                             235 I1  ;       ***                                     ***
14051                             236 I1  ;       *******************************************
14052                             237 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
14053                             238 I1  ;       MOV.L   @R4,R2                                  ;
14054                             239 I1  
14055                                 I1  ***** BEGIN-POOL *****
14056 00002378 00000000               I1  DATA FOR SOURCE-LINE 217
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   145
PROGRAM NAME =

14057 0000237C 00000000               I1  DATA FOR SOURCE-LINE 221
14058 00002380 00000000               I1  DATA FOR SOURCE-LINE 223
14059                                 I1  ***** END-POOL *****
14060 00002384                    240 I1  _LNKPLS_OBJ_DAT_MAK2:
14061                             241 I1          SUB_START
14062 00002384 4F22                   M           STS.L   PR,@-R15                ;[必要]
14063                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14064                             242 I1          PUSH_REG1 R0                                    ;SHIN
14065 00002386 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
14066                                 M                                           ;REG=>[SP]
14067                                 M                                           ;"-4" FF,FF,FF,FC
14068                             243 I1          PUSH_REG1 R2                                    ;1ROT DATA
14069 00002388 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
14070                                 M                                           ;REG=>[SP]
14071                                 M                                           ;"-4" FF,FF,FF,FC
14072                             244 I1  
14073                             245 I1  ;;      MOV.L   #_LINK_PV_ABSPLS,R4             ;
14074                             246 I1  ;;      MOV.L   @R4+,R1                                 ;
14075                             247 I1  ;;      MOV.L   @R4,R2                                  ;
14076                             248 I1  ;;      MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
14077                             249 I1  ;;      MOV.L   R1,@(0,R4)                              ;
14078                             250 I1  ;;      MOV.L   R2,@(4,R4)                              ;
14079                             251 I1  
14080                             252 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
14081 0000238A D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14082 0000238C 400B                   M           JSR     @R0                     ;
14083 0000238E 0009                   M           NOP                                     ;
14084                             253 I1  
14085                             254 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
14086 00002390 D00F                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14087 00002392 400B                   M           JSR     @R0                     ;
14088 00002394 0009                   M           NOP                                     ;
14089                             255 I1  
14090                             256 I1  
14091                             257 I1  ;       === 目標角度() ====
14092 00002396 D40F               258 I1          MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;[目標側の位置]
14093 00002398 6142               259 I1          MOV.L   @R4,R1                                  ;現在 ***.* pls "+"data
14094                             260 I1                                                          ;目標 ***.* pls
14095                             261 I1          POP_REG1 R2                                     ;
14096                                 M                                   ; RE"+4" 00,00,00,04
14097 0000239A 62F6                   M           MOV.L   @R15+,R2        ;
14098                             262 I1          POP_REG1 R0                                     ;
14099                                 M                                   ; RE"+4" 00,00,00,04
14100 0000239C 60F6                   M           MOV.L   @R15+,R0        ;
14101 0000239E 2008               263 I1          TST     R0,R0                                   ;
14102                             264 I1          TST_BIT_ON LNKPLS_OBJ_DAT_MK2_100               ;DIRECT MINAS
14103 000023A0 8B20                   M           BF      LNKPLS_OBJ_DAT_MK2_100
14104                             265 I1  ;--------FWD-----------
14105 000023A2 3218               266 I1          SUB     R1,R2                                   ;R1(PV) < R2(SV);
14106 000023A4 4215               267 I1          CMP/PL  R2                                      ;
14107 000023A6 8908               268 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;YES
14108 000023A8 D50B               269 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
14109 000023AA 6452               270 I1          MOV.L   @R5,R4                                  ;
14110 000023AC 324C               271 I1          ADD     R4,R2                                   ;
14111 000023AE 4211               272 I1          CMP/PZ  R2
14112 000023B0 8903               273 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;0,+
14113                             274 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   146
PROGRAM NAME =

14114 000023B2 D10A                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14115 000023B4 410B                   M           JSR     @R1                     ;
14116 000023B6 0009                   M           NOP                                     ;
14117 000023B8 222A               275 I1          XOR     R2,R2                                   ;
14118 000023BA                    276 I1  LNKPLS_OBJ_DAT_MK2_050                                  ;+1REV
14119                             277 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
14120 000023BA D109               278 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
14121 000023BC 6311               279 I1          MOV.W   @R1,R3                                  ;
14122 000023BE 3233               280 I1          CMP/GE  R3,R2                                   ;
14123 000023C0 8902               281 I1          BT      LNKPLS_OBJ_DAT_MK2_080                  ;
14124 000023C2 D505               282 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
14125 000023C4 6452               283 I1          MOV.L   @R5,R4                                  ;
14126 000023C6 324C               284 I1          ADD     R4,R2                                   ;
14127 000023C8                    285 I1  LNKPLS_OBJ_DAT_MK2_080                                  ;
14128                             286 I1          M_BRA   LNKPLS_OBJ_DAT_MK2_300                  ;
14129 000023C8 A020                   M           BRA     LNKPLS_OBJ_DAT_MK2_300
14130 000023CA 0009                   M           NOP
14131                             287 I1  
14132                             288 I1  
14133                             289 I1  ;--------REV-----------
14134                                 I1  ***** BEGIN-POOL *****
14135 000023CC 00000000               I1  DATA FOR SOURCE-LINE 252
14136 000023D0 00000000               I1  DATA FOR SOURCE-LINE 254
14137 000023D4 00000000               I1  DATA FOR SOURCE-LINE 258
14138 000023D8 00000000               I1  DATA FOR SOURCE-LINE 269,282
14139 000023DC 00000000               I1  DATA FOR SOURCE-LINE 274
14140 000023E0 00000000               I1  DATA FOR SOURCE-LINE 278
14141                                 I1  ***** END-POOL *****
14142 000023E4                    290 I1  LNKPLS_OBJ_DAT_MK2_100:                                 ;R2
14143 000023E4 3218               291 I1          SUB     R1,R2                                   ;R1(PV) > R2(SV)
14144 000023E6 4211               292 I1          CMP/PZ  R2                                      ;
14145 000023E8 8B02               293 I1          BF      LNKPLS_OBJ_DAT_MK2_150                  ;YES
14146 000023EA D51D               294 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;"0,+"
14147 000023EC 6452               295 I1          MOV.L   @R5,R4                                  ;
14148 000023EE 3248               296 I1          SUB     R4,R2                                   ;
14149 000023F0                    297 I1  LNKPLS_OBJ_DAT_MK2_150                                  ;-1REV
14150 000023F0 4215               298 I1          CMP/PL  R2                                      ;
14151 000023F2 8B03               299 I1          BF      LNKPLS_OBJ_DAT_MK2_200                  ;0,"-"
14152                             300 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
14153 000023F4 D11B                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14154 000023F6 410B                   M           JSR     @R1                     ;
14155 000023F8 0009                   M           NOP                                     ;
14156 000023FA 222A               301 I1          XOR     R2,R2                                   ;
14157 000023FC                    302 I1  LNKPLS_OBJ_DAT_MK2_200                                  ;
14158                             303 I1  
14159                             304 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
14160 000023FC D11A               305 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
14161 000023FE 6311               306 I1          MOV.W   @R1,R3                                  ;
14162 00002400 633B               307 I1          NEG     R3,R3                                   ;
14163 00002402 3233               308 I1          CMP/GE  R3,R2                                   ;-2000
14164 00002404 8B02               309 I1          BF      LNKPLS_OBJ_DAT_MK2_280                  ;
14165 00002406 D516               310 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
14166 00002408 6452               311 I1          MOV.L   @R5,R4                                  ;
14167 0000240A 3248               312 I1          SUB     R4,R2                                   ;
14168 0000240C                    313 I1  LNKPLS_OBJ_DAT_MK2_280                                  ;
14169                             314 I1  ;       ---------------------------------------------------
14170                             315 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   147
PROGRAM NAME =

14171                             316 I1  
14172 0000240C                    317 I1  LNKPLS_OBJ_DAT_MK2_300                                  ;
14173 0000240C 255A               318 I1          XOR     R5,R5                                   ;
14174 0000240E 6623               319 I1          MOV     R2,R6                                   ;R5,R6
14175 00002410 4211               320 I1          CMP/PZ  R2                                      ;
14176 00002412 8900               321 I1          BT      LNKPLS_OBJ_DAT_MK2_600                  ;
14177 00002414 E5FF               322 I1          MOV     #-1,R5                                  ;
14178 00002416                    323 I1  LNKPLS_OBJ_DAT_MK2_600:                                 ;
14179                             324 I1  
14180                             325 I1  
14181 00002416 D415               326 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
14182 00002418 6146               327 I1          MOV.L   @R4+,R1                                 ;
14183 0000241A 6242               328 I1          MOV.L   @R4,R2                                  ;
14184                             329 I1          PUSH_REG1 R1
14185 0000241C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
14186                                 M                                           ;REG=>[SP]
14187                                 M                                           ;"-4" FF,FF,FF,FC
14188                             330 I1          PUSH_REG1 R2
14189 0000241E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
14190                                 M                                           ;REG=>[SP]
14191                                 M                                           ;"-4" FF,FF,FF,FC
14192                             331 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
14193 00002420 0008                   M           CLRT
14194 00002422 326E                   M           ADDC    R6,R2
14195 00002424 315E                   M           ADDC    R5,R1
14196                             332 I1  
14197 00002426 D412               333 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
14198 00002428 2412               334 I1          MOV.L   R1,@R4                                          ;
14199 0000242A 1421               335 I1          MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
14200                             336 I1          POP_REG1 R6
14201                                 M                                   ; RE"+4" 00,00,00,04
14202 0000242C 66F6                   M           MOV.L   @R15+,R6        ;
14203                             337 I1          POP_REG1 R5
14204                                 M                                   ; RE"+4" 00,00,00,04
14205 0000242E 65F6                   M           MOV.L   @R15+,R5        ;
14206                             338 I1  
14207                             339 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
14208 00002430 0008                   M           CLRT
14209 00002432 326A                   M           SUBC    R6,R2
14210 00002434 315A                   M           SUBC    R5,R1
14211 00002436 233A               340 I1          XOR     R3,R3
14212 00002438 4111               341 I1          CMP/PZ  R1                              ;
14213 0000243A 8900               342 I1          BT      LNKPLS_OBJ_DAT_MK2_750          ;
14214 0000243C E301               343 I1          MOV     #BIT0,R3                        ;
14215 0000243E                    344 I1  LNKPLS_OBJ_DAT_MK2_750:                         ;
14216 0000243E D10D               345 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
14217 00002440 6211               346 I1          MOV.W   @R1,R2                          ;
14218 00002442 2131               347 I1          MOV.W   R3,@R1                          ;
14219 00002444 223A               348 I1          XOR     R3,R2                           ;
14220 00002446 2228               349 I1          TST     R2,R2                           ;
14221                             350 I1          TST_BIT_OF LNKPLS_OBJ_DAT_MK2_800       ;
14222 00002448 8902                   M           BT      LNKPLS_OBJ_DAT_MK2_800
14223                             351 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
14224 0000244A D106                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14225 0000244C 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   148
PROGRAM NAME =

14226 0000244E 0009                   M           NOP                                     ;
14227 00002450                    352 I1  LNKPLS_OBJ_DAT_MK2_800:                         ;
14228                             353 I1  
14229 00002450 D109               354 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
14230 00002452 6011               355 I1          MOV.W   @R1,R0                          ;
14231 00002454 C9FE               356 I1          AND     #LOW ~BIT0,R0                   ;
14232 00002456 203B               357 I1          OR      R3,R0                           ;
14233 00002458 2101               358 I1          MOV.W   R0,@R1                          ;
14234                             359 I1  
14235                             360 I1          SUB_END
14236                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14237 0000245A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14238                             361 I1          M_RTS
14239 0000245C 000B                   M           RTS                             ;RTSの後ろの
14240 0000245E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14241                             362 I1  
14242                             363 I1  
14243                            4594     
14244                            4595     
14245                            4596     ;       *******************************************
14246                            4597     ;       ***                                     ***
14247                            4598     ;       ***     手動パルサ仕様                  ***
14248                            4599     ;       ***                                     ***
14249                            4600     ;       *******************************************
14250                            4601     ;       0.5秒以内に2ﾊﾟﾙｽ以上増えたら起動
14251                            4602     ;
14252                            4603     ;
14253                            4604             .INCLUDE        "ssa_tep1.inc"          ; //
14254                               1 I1  ;       ***********************************
14255                               2 I1  ;       ***                             ***
14256                               3 I1  ;       ***     手動パルサコントロール  ***
14257                               4 I1  ;       ***                             ***
14258                               5 I1  ;       ***********************************
14259                               6 I1  ;       両手offで終了
14260                               7 I1  ;       符号チェンジ
14261                               8 I1  ;       符号チェンジによる停止指令
14262                               9 I1  ;       停止待ち
14263                              10 I1  ;
14264                              11 I1  ;       +方向動作中にｶｳﾝﾀが"-1以下"になったら+動作完了後"-"に戻す：ｶｳﾝﾀの更新,0CLRは行なわ
                                          ない
14265                              12 I1  ;       -方向動作中にｶｳﾝﾀが"+1以上"になったら-動作完了後"+"に進める:
14266                              13 I1  ;
14267                              14 I1  ;       (1)DIRECTIONﾌﾗｸﾞとｶｳﾝﾀを比較する
14268                              15 I1  ;       (2-1)同じ方向にﾊﾟﾙｽが増えたらｶｳﾝﾀ→位置決めLSIに足しこむ.ｶｳﾝﾀ=0とする
14269                              16 I1  ;       (2-2)逆方向に増えたらﾊﾟﾙｽ払い出しを待つ
14270                              17 I1  ;BIT1   (>3-1)残りﾊﾟﾙｽ=0になったら指令をOFFする。：：：ｽﾃｯﾌﾟｼｰｹﾝｽ開始
14271                              18 I1  ;BIT2   (>3-2)位置決め完了したら10msecWAITする
14272                              19 I1  ;BIT6   (>3-3)起動演算を行なう
14273                              20 I1  ;
14274                              21 I1  ;       TEP_STEP_FLG
14275                              22 I1  ;               .BIT0 払出完了
14276                              23 I1  ;               .BIT1 5msecWAIT
14277                              24 I1  ;
14278                              25 I1  ;
14279                              26 I1  ;       plsData-->start-on
14280                              27 I1          .EXPORT _TEP_FLG_CLR
14281                              28 I1          .EXPORT _TEPA_START_CHK                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   149
PROGRAM NAME =

14282                              29 I1          .EXPORT _TEPA_PLSCNT_CLR                ;
14283                              30 I1          .EXPORT _TEPA_PLSCNT_CHK                ;
14284                              31 I1  
14285                              32 I1          .IMPORT _PAR_TEP_WATTIM         ;3 1~50msec
14286                              33 I1          .IMPORT _PAR_TEP_BEFPLS         ;4 10pls
14287                              34 I1          .IMPORT _PAR_TEP_MINSPD         ;
14288                              35 I1  
14289                              36 I1  ;;;;まだ組み込まない    .IMPORT _SH4toSH2_TEPSIG        ;
14290                              37 I1  ;;;;まだ組み込まない    .IMPORT _SH2toSH4_TEPSIG        ;
14291                              38 I1  
14292                              39 I1  
14293                                 I1  ***** BEGIN-POOL *****
14294 00002460 00000000               I1  DATA FOR SOURCE-LINE 294,310
14295 00002464 00000000               I1  DATA FOR SOURCE-LINE 300,351
14296 00002468 00000000               I1  DATA FOR SOURCE-LINE 305
14297 0000246C 00000000               I1  DATA FOR SOURCE-LINE 326
14298 00002470 00000000               I1  DATA FOR SOURCE-LINE 333
14299 00002474 00000000               I1  DATA FOR SOURCE-LINE 345
14300 00002478 00000000               I1  DATA FOR SOURCE-LINE 354
14301                                 I1  ***** END-POOL *****
14302 0000247C                     40 I1  _DND_TEP_STEP_CTRL:
14303                              41 I1          SUB_START
14304 0000247C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14305                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14306                              42 I1  
14307                              43 I1  ;       -------- 2013-06-05 -----------------------------
14308                              44 I1          DN_TIME LG=W,MEM_ADR=_TEP_CNTSMP_TIM,WKREG1=R1,WKREG2=R2        ;定周期
14309 0000247E D107                   M           MOV.L   #_TEP_CNTSMP_TIM,R1             ;SORCE ADRESS SET
14310 00002480 6211                   M           MOV.W   @R1,R2          ;
14311 00002482 2228                   M           TST     R2,R2                   ;
14312 00002484 8901                   M           BT      JMP_0100012                     ;ZERO THEN JUMP
14313 00002486 4210                   M           DT      R2                              ;
14314 00002488 2121                   M           MOV.W   R2,@R1          ;STORE
14315 0000248A                        M   JMP_0100012:
14316                              45 I1  
14317                              46 I1  
14318                              47 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0            ;
14319 0000248A D005                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14320 0000248C 400B                   M           JSR     @R0                     ;
14321 0000248E 0009                   M           NOP                                     ;
14322                              48 I1  
14323 00002490 D104                49 I1          MOV.L   #_TEP_STEP_FLG,R1               ;
14324 00002492 6011                50 I1          MOV.W   @R1,R0                          ;
14325 00002494 C802                51 I1          TST     #BIT1,R0                        ;
14326                              52 I1          TST_BIT_OF DND_TEPSTEPCTL_020           ;
14327 00002496 8907                   M           BT      DND_TEPSTEPCTL_020
14328                              53 I1          M_BRA   DND_TEPSTEPCTL_400              ;
14329 00002498 A056                   M           BRA     DND_TEPSTEPCTL_400
14330 0000249A 0009                   M           NOP
14331                                 I1  ***** BEGIN-POOL *****
14332 0000249C 00000000               I1  DATA FOR SOURCE-LINE 44
14333 000024A0 00000000               I1  DATA FOR SOURCE-LINE 47
14334 000024A4 00000000               I1  DATA FOR SOURCE-LINE 49
14335                                 I1  ***** END-POOL *****
14336 000024A8                     54 I1  DND_TEPSTEPCTL_020:
14337                              55 I1  
14338 000024A8 C801                56 I1          TST     #BIT0,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   150
PROGRAM NAME =

14339                              57 I1          TST_BIT_ON DND_TEPSTEPCTL_200           ;
14340 000024AA 8B23                   M           BF      DND_TEPSTEPCTL_200
14341                              58 I1  
14342                              59 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
14343 000024AC D00B                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14344 000024AE 400B                   M           JSR     @R0                     ;
14345 000024B0 0009                   M           NOP                                     ;
14346                              60 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
14347 000024B2 D10B                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14348 000024B4 410B                   M           JSR     @R1                     ;
14349 000024B6 0009                   M           NOP                                     ;
14350 000024B8 C804                61 I1          TST     #BIT2,R0                        ;停止?
14351                              62 I1          TST_BIT_OF DND_TEPSTEPCTL_180           ;NO 停止中? 0:払出中 1:停止
14352 000024BA 890D                   M           BT      DND_TEPSTEPCTL_180
14353                              63 I1  
14354                              64 I1  
14355                              65 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
14356 000024BC D009                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14357 000024BE 400B                   M           JSR     @R0                     ;
14358 000024C0 0009                   M           NOP                                     ;
14359                              66 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
14360                              67 I1  
14361                              68 I1  ;       ------ ILDE[0,0] 1回だけではないよ！！--------
14362 000024C2 D109                69 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
14363 000024C4 6212                70 I1          MOV.L   @R1,R2                                                          ;
14364 000024C6 2228                71 I1          TST     R2,R2                                                           ;
14365                              72 I1          TST_BIT_OF DND_TEPSTEPCTL_180                                           ;
14366 000024C8 8906                   M           BT      DND_TEPSTEPCTL_180
14367                              73 I1                                                                                  ;ﾊﾟﾙｽ有り
                                          遷移1
14368                              74 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;2013-05-2
                                          6
14369 000024CA D008                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14370 000024CC 400B                   M           JSR     @R0                     ;
14371 000024CE 0009                   M           NOP                                     ;
14372                              75 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;[この時点
                                          でﾊﾟﾙｽ設定していない]
14373 000024D0 D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
14374 000024D2 6011                   M           MOV.W   @R1,R0          ;
14375 000024D4 CB01                   M           OR      #BIT0,R0                ;
14376 000024D6 2101                   M           MOV.W   R0,@R1          ;
14377                              76 I1  
14378 000024D8                     77 I1  DND_TEPSTEPCTL_180:
14379                              78 I1          M_BRA   DND_TEPSTEPCTL_900              ;
14380 000024D8 A057                   M           BRA     DND_TEPSTEPCTL_900
14381 000024DA 0009                   M           NOP
14382                              79 I1  
14383                              80 I1  ;       -------------- 払い出し待ち------------
14384                                 I1  ***** BEGIN-POOL *****
14385 000024DC 00000000               I1  DATA FOR SOURCE-LINE 59
14386 000024E0 00000000               I1  DATA FOR SOURCE-LINE 60
14387 000024E4 00000000               I1  DATA FOR SOURCE-LINE 65
14388 000024E8 00000000               I1  DATA FOR SOURCE-LINE 69
14389 000024EC 00000000               I1  DATA FOR SOURCE-LINE 74
14390 000024F0 00000000               I1  DATA FOR SOURCE-LINE 75
14391                                 I1  ***** END-POOL *****
14392 000024F4                     81 I1  DND_TEPSTEPCTL_200:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   151
PROGRAM NAME =

14393                              82 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0                                     ;
14394 000024F4 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14395 000024F6 400B                   M           JSR     @R0                     ;
14396 000024F8 0009                   M           NOP                                     ;
14397                              83 I1          FAR_JSR #_LOD_POS_STS_REG,R1                                            ;
14398 000024FA D10A                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14399 000024FC 410B                   M           JSR     @R1                     ;
14400 000024FE 0009                   M           NOP                                     ;
14401 00002500 C804                84 I1          TST     #BIT2,R0                                                        ;停止?
14402                              85 I1          TST_BIT_OF DND_TEPSTEPCTL_220                                           ;NO 停止中
                                          ? 0:払出中 1:停止
14403 00002502 8919                   M           BT      DND_TEPSTEPCTL_220
14404                              86 I1  
14405                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1        ;[払い出し
                                          完了 遷移2]
14406 00002504 D108                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
14407 00002506 6011                   M           MOV.W   @R1,R0          ;
14408 00002508 CB02                   M           OR      #BIT1,R0                ;
14409 0000250A 2101                   M           MOV.W   R0,@R1          ;
14410                              88 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0                                          ;
14411 0000250C D007                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14412 0000250E 400B                   M           JSR     @R0                     ;
14413 00002510 0009                   M           NOP                                     ;
14414                              89 I1  
14415                              90 I1  
14416                              91 I1  ;       ------- 2013-06-05 払出完了開始遅延100ms--------
14417 00002512 D107                92 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1                                           ;//2013-06
                                          -05
14418 00002514 6211                93 I1          MOV.W   @R1,R2                                                          ;
14419 00002516 D107                94 I1          MOV.L   #_TEP_STEP_WTTM,R1                                              ;
14420 00002518 2121                95 I1          MOV.W   R2,@R1                                                          ;
14421                              96 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
14422 0000251A A036                   M           BRA     DND_TEPSTEPCTL_900
14423 0000251C 0009                   M           NOP
14424                              97 I1  
14425                                 I1  ***** BEGIN-POOL *****
14426 0000251E 0000                   I1  ALIGNMENT CODE
14427 00002520 00000000               I1  DATA FOR SOURCE-LINE 82
14428 00002524 00000000               I1  DATA FOR SOURCE-LINE 83
14429 00002528 00000000               I1  DATA FOR SOURCE-LINE 87
14430 0000252C 00000000               I1  DATA FOR SOURCE-LINE 88
14431 00002530 00000000               I1  DATA FOR SOURCE-LINE 92
14432 00002534 00000000               I1  DATA FOR SOURCE-LINE 94
14433                                 I1  ***** END-POOL *****
14434 00002538                     98 I1  DND_TEPSTEPCTL_220:                                                             ;
14435                              99 I1  ;       2013-05-20 動作中の加算                                         ;
14436                             100 I1  
14437                             101 I1          FAR_JSR #_TEPA_ADD_LSI,R0                                       ;
14438 00002538 D002                   M           MOV.L   #_TEPA_ADD_LSI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14439 0000253A 400B                   M           JSR     @R0                     ;
14440 0000253C 0009                   M           NOP                                     ;
14441                             102 I1  
14442 0000253E                    103 I1  DND_TEPSTEPCTL_290:                                                     ;
14443                             104 I1          M_BRA   DND_TEPSTEPCTL_900                                      ;
14444 0000253E A024                   M           BRA     DND_TEPSTEPCTL_900
14445 00002540 0009                   M           NOP
14446                             105 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   152
PROGRAM NAME =

14447                             106 I1  
14448                             107 I1  ;       -------- 遅延待ち--------
14449                                 I1  ***** BEGIN-POOL *****
14450 00002542 0000                   I1  ALIGNMENT CODE
14451 00002544 00000000               I1  DATA FOR SOURCE-LINE 101
14452                                 I1  ***** END-POOL *****
14453 00002548                    108 I1  DND_TEPSTEPCTL_400:
14454 00002548 D103               109 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
14455 0000254A 6011               110 I1          MOV.W   @R1,R0                                          ;
14456 0000254C 2008               111 I1          TST     R0,R0                                           ;
14457                             112 I1          TST_BIT_OF DND_TEPSTEPCTL_420                           ;
14458 0000254E 8905                   M           BT      DND_TEPSTEPCTL_420
14459 00002550 70FF               113 I1          ADD     #-1,R0                                          ;
14460 00002552 2101               114 I1          MOV.W   R0,@R1                                          ;
14461                             115 I1  
14462                             116 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0                         ;
14463                             117 I1          M_BRA   DND_TEPSTEPCTL_900                              ;
14464 00002554 A019                   M           BRA     DND_TEPSTEPCTL_900
14465 00002556 0009                   M           NOP
14466                             118 I1  
14467                             119 I1  
14468                                 I1  ***** BEGIN-POOL *****
14469 00002558 00000000               I1  DATA FOR SOURCE-LINE 109
14470                                 I1  ***** END-POOL *****
14471 0000255C                    120 I1  DND_TEPSTEPCTL_420:                                             ;
14472                             121 I1  
14473                             122 I1  ;       ---- ﾀｲﾏ中にﾊﾟﾙｽがあった。再起動[BIT1->BIT0]--------
14474 0000255C D106               123 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
14475 0000255E 6012               124 I1          MOV.L   @R1,R0                                                          ;
14476 00002560 2008               125 I1          TST     R0,R0                                                           ;
14477                             126 I1          TST_BIT_OF DND_TEPSTEPCTL_800                                           ;
14478 00002562 890F                   M           BT      DND_TEPSTEPCTL_800
14479                             127 I1  
14480                             128 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;
14481 00002564 D005                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14482 00002566 400B                   M           JSR     @R0                     ;
14483 00002568 0009                   M           NOP                                     ;
14484                             129 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
14485 0000256A D105                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
14486 0000256C 6011                   M           MOV.W   @R1,R0          ;
14487 0000256E CB01                   M           OR      #BIT0,R0                ;
14488 00002570 2101                   M           MOV.W   R0,@R1          ;
14489                             130 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
14490 00002572 A00A                   M           BRA     DND_TEPSTEPCTL_900
14491 00002574 0009                   M           NOP
14492                             131 I1  
14493                             132 I1  
14494                             133 I1  ;       --------- 完全なﾀｲﾑｱｯﾌﾟ-------
14495                                 I1  ***** BEGIN-POOL *****
14496 00002576 0000                   I1  ALIGNMENT CODE
14497 00002578 00000000               I1  DATA FOR SOURCE-LINE 123
14498 0000257C 00000000               I1  DATA FOR SOURCE-LINE 128
14499 00002580 00000000               I1  DATA FOR SOURCE-LINE 129
14500                                 I1  ***** END-POOL *****
14501 00002584                    134 I1  DND_TEPSTEPCTL_800:
14502                             135 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;[遷移0]
14503 00002584 D003                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   153
PROGRAM NAME =

14504 00002586 400B                   M           JSR     @R0                     ;
14505 00002588 0009                   M           NOP                                     ;
14506                             136 I1  
14507                             137 I1  
14508 0000258A                    138 I1  DND_TEPSTEPCTL_900:
14509 0000258A 0009               139 I1          NOP
14510 0000258C                    140 I1  DND_TEPSTEPCTL_EXT:
14511                             141 I1          SUB_END
14512                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14513 0000258C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14514                             142 I1          M_RTS
14515 0000258E 000B                   M           RTS                             ;RTSの後ろの
14516 00002590 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14517                             143 I1  
14518                             144 I1  
14519                             145 I1  ;       ***********************************
14520                             146 I1  ;       ***                             ***
14521                             147 I1  ;       ***     起動処理                ***
14522                             148 I1  ;       ***                             ***
14523                             149 I1  ;       ***********************************
14524                                 I1  ***** BEGIN-POOL *****
14525 00002592 0000                   I1  ALIGNMENT CODE
14526 00002594 00000000               I1  DATA FOR SOURCE-LINE 135
14527                                 I1  ***** END-POOL *****
14528 00002598                    150 I1  _MN_TEP_START
14529                             151 I1          SUB_START
14530 00002598 4F22                   M           STS.L   PR,@-R15                ;[必要]
14531                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14532                             152 I1          FAR_JSR #_TEP_START_INIT1,R0                    ;
14533 0000259A D00D                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14534 0000259C 400B                   M           JSR     @R0                     ;
14535 0000259E 0009                   M           NOP                                     ;
14536                             153 I1  
14537                             154 I1  ;;;;;;2014-09-14        MOV.L   #_LINK_PV_ABSPLS,R4             ;
14538                             155 I1  ;;;;;;2014-09-14        MOV.L   @R4+,R1                                 ;
14539                             156 I1  ;;;;;;2014-09-14        MOV.L   @R4,R2                                  ;
14540                             157 I1  
14541 000025A0 D40C               158 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
14542 000025A2 5140               159 I1          MOV.L   @(0,R4),R1                              ;
14543 000025A4 5241               160 I1          MOV.L   @(4,R4),R2                              ;
14544 000025A6 D40C               161 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
14545 000025A8 2412               162 I1          MOV.L   R1,@R4                                  ;
14546 000025AA 1421               163 I1          MOV.L   R2,@(1*4,R4)                            ;目標位置ｾｯﾄ
14547                             164 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
14548 000025AC D00B                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14549 000025AE 400B                   M           JSR     @R0                     ;
14550 000025B0 0009                   M           NOP                                     ;
14551                             165 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0                    ;
14552 000025B2 D00B                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14553 000025B4 400B                   M           JSR     @R0                     ;
14554 000025B6 0009                   M           NOP                                     ;
14555                             166 I1  ;       --- 位置データを作らない---- FAR_JSR #_TEP_SV_OBJ_MAK,R0
14556                             167 I1  
14557                             168 I1  
14558                             169 I1          FAR_JSR #_DNDINC_SPD_SET,R4                             ;とりあえずこれは触らない[
                                          ]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   154
PROGRAM NAME =

14559 000025B8 D40A                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14560 000025BA 440B                   M           JSR     @R4                     ;
14561 000025BC 0009                   M           NOP                                     ;
14562                             170 I1  
14563                             171 I1  ;       ---------- 2013-06-05
14564 000025BE 200A               172 I1          XOR     R0,R0                                           ;
14565 000025C0 D109               173 I1          MOV.L   #_TEP_CNTSMP_TIM,R1                             ;
14566 000025C2 2101               174 I1          MOV.W   R0,@R1                                          ;
14567 000025C4 D109               175 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
14568 000025C6 2101               176 I1          MOV.W   R0,@R1                                          ;
14569                             177 I1  
14570                             178 I1  
14571                             179 I1  
14572                             180 I1  
14573                             181 I1          SUB_END
14574                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14575 000025C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14576                             182 I1          M_RTS
14577 000025CA 000B                   M           RTS                             ;RTSの後ろの
14578 000025CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14579                             183 I1  
14580                             184 I1  ;       ***********************************
14581                             185 I1  ;       ***                             ***
14582                             186 I1  ;       ***     再起動処理              ***
14583                             187 I1  ;       ***                             ***
14584                             188 I1  ;       ***********************************
14585                             189 I1  ;       <<<<<<<<<<<100msecの速度で動作させる>>>>>>>>>>
14586                             190 I1  ;
14587                                 I1  ***** BEGIN-POOL *****
14588 000025CE 0000                   I1  ALIGNMENT CODE
14589 000025D0 00000000               I1  DATA FOR SOURCE-LINE 152
14590 000025D4 00000000               I1  DATA FOR SOURCE-LINE 158
14591 000025D8 00000000               I1  DATA FOR SOURCE-LINE 161
14592 000025DC 00000000               I1  DATA FOR SOURCE-LINE 164
14593 000025E0 00000000               I1  DATA FOR SOURCE-LINE 165
14594 000025E4 00000000               I1  DATA FOR SOURCE-LINE 169
14595 000025E8 00000000               I1  DATA FOR SOURCE-LINE 173
14596 000025EC 00000000               I1  DATA FOR SOURCE-LINE 175
14597                                 I1  ***** END-POOL *****
14598 000025F0                    191 I1  _INT_TEP_RESTART
14599                             192 I1          SUB_START
14600 000025F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14601                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14602                             193 I1  
14603                             194 I1  
14604 000025F2 222A               195 I1          XOR     R2,R2
14605 000025F4 D117               196 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
14606 000025F6 2121               197 I1          MOV.W   R2,@R1                          ;
14607                             198 I1  
14608                             199 I1  ;       --------- 2013-06-19 -----------------
14609                             200 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
14610 000025F8 D017                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14611 000025FA 400B                   M           JSR     @R0                     ;
14612 000025FC 0009                   M           NOP                                     ;
14613                             201 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
14614                             202 I1  
14615                             203 I1  ;       --------- 2013-06-05 -----------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   155
PROGRAM NAME =

14616                             204 I1          FAR_JSR #_TEP_SPD_CALC1,R0                      ;
14617 000025FE D017                   M           MOV.L   #_TEP_SPD_CALC1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14618 00002600 400B                   M           JSR     @R0                     ;
14619 00002602 0009                   M           NOP                                     ;
14620                             205 I1          FAR_JSR #_TEP_SPD_SET,R0                        ;
14621 00002604 D016                   M           MOV.L   #_TEP_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14622 00002606 400B                   M           JSR     @R0                     ;
14623 00002608 0009                   M           NOP                                     ;
14624                             206 I1  
14625                             207 I1  ;;;2013-06-05   FAR_JSR #_DNDINC_SPD_SET,R4             ;
14626                             208 I1  
14627                             209 I1  ;;;;;;  FAR_JSR #_POS_LSI_START_INITAL,R0                                       ;
14628                             210 I1          FAR_JSR #_POS_LSI_START_INITAL_TEP,R0                                   ;2013-06-1
                                          3
14629 0000260A D016                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14630 0000260C 400B                   M           JSR     @R0                     ;
14631 0000260E 0009                   M           NOP                                     ;
14632                             211 I1  
14633 00002610 D115               212 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                                         ;目標速度
14634 00002612 6212               213 I1          MOV.L   @R1,R2                                                          ;
14635                             214 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1                                      ;
14636 00002614 D115                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14637 00002616 410B                   M           JSR     @R1                     ;
14638 00002618 0009                   M           NOP                                     ;
14639                             215 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                                        ;
14640 0000261A D015                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14641 0000261C 400B                   M           JSR     @R0                     ;
14642 0000261E 0009                   M           NOP                                     ;
14643                             216 I1  
14644                             217 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                                        ;
14645 00002620 D014                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14646 00002622 400B                   M           JSR     @R0                     ;
14647 00002624 0009                   M           NOP                                     ;
14648                             218 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0                                       ;(停止時か
                                          らの起動の場合のみ有効・安一のみ)
14649 00002626 D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14650 00002628 400B                   M           JSR     @R0                     ;
14651 0000262A 0009                   M           NOP                                     ;
14652                             219 I1          FAR_JSR #_FWD_REV_START,R1                                              ;起動
14653 0000262C D113                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14654 0000262E 410B                   M           JSR     @R1                     ;
14655 00002630 0009                   M           NOP                                     ;
14656                             220 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
14657 00002632 D113                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
14658 00002634 6011                   M           MOV.W   @R1,R0          ;
14659 00002636 CB01                   M           OR      #BIT0,R0                ;
14660 00002638 2101                   M           MOV.W   R0,@R1          ;
14661                             221 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                          ;
14662 0000263A D012                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14663 0000263C 400B                   M           JSR     @R0                     ;
14664 0000263E 0009                   M           NOP                                     ;
14665                             222 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0                                    ;
14666 00002640 D011                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14667 00002642 400B                   M           JSR     @R0                     ;
14668 00002644 0009                   M           NOP                                     ;
14669                             223 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;
14670 00002646 D011                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   156
PROGRAM NAME =

14671 00002648 400B                   M           JSR     @R0                     ;
14672 0000264A 0009                   M           NOP                                     ;
14673                             224 I1          SUB_END
14674                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14675 0000264C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14676                             225 I1          M_RTS
14677 0000264E 000B                   M           RTS                             ;RTSの後ろの
14678 00002650 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14679                             226 I1  
14680                             227 I1  
14681                             228 I1  ;;;;;;;;2013-06-05元元未使用    ***********************************
14682                             229 I1  ;;;;;;;;        ***                             ***
14683                             230 I1  ;;;;;;;;        ***     再ADD                   ***
14684                             231 I1  ;;;;;;;;        ***                             ***
14685                             232 I1  ;;;;;;;;;       ***********************************
14686                             233 I1  ;;;;;;;;_TEP_ADD_OBJMAK:
14687                             234 I1  ;;;;;;;;        SUB_START
14688                             235 I1  ;;;;;;;;        FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;
14689                             236 I1  ;;;;;;;;        FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
14690                             237 I1  ;;;;;;;;        FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14691                             238 I1  ;;;;;;;;        FAR_JSR #_TEP_START_INIT1,R0                    ;
14692                             239 I1  ;;;;;;;;        SUB_END
14693                             240 I1  ;;;;;;;;        M_RTS
14694                             241 I1  
14695                             242 I1  
14696                                 I1  ***** BEGIN-POOL *****
14697 00002652 0000                   I1  ALIGNMENT CODE
14698 00002654 00000000               I1  DATA FOR SOURCE-LINE 196
14699 00002658 00000000               I1  DATA FOR SOURCE-LINE 200
14700 0000265C 00000000               I1  DATA FOR SOURCE-LINE 204
14701 00002660 00000000               I1  DATA FOR SOURCE-LINE 205
14702 00002664 00000000               I1  DATA FOR SOURCE-LINE 210
14703 00002668 00000000               I1  DATA FOR SOURCE-LINE 212
14704 0000266C 00000000               I1  DATA FOR SOURCE-LINE 214
14705 00002670 00000000               I1  DATA FOR SOURCE-LINE 215
14706 00002674 00000000               I1  DATA FOR SOURCE-LINE 217
14707 00002678 00000000               I1  DATA FOR SOURCE-LINE 218
14708 0000267C 00000000               I1  DATA FOR SOURCE-LINE 219
14709 00002680 00000000               I1  DATA FOR SOURCE-LINE 220
14710 00002684 00000000               I1  DATA FOR SOURCE-LINE 221
14711 00002688 00000000               I1  DATA FOR SOURCE-LINE 222
14712 0000268C 00000000               I1  DATA FOR SOURCE-LINE 223
14713                                 I1  ***** END-POOL *****
14714 00002690                    243 I1  _TEP_START_INIT1
14715                             244 I1          SUB_START
14716 00002690 4F22                   M           STS.L   PR,@-R15                ;[必要]
14717                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14718                             245 I1  
14719                             246 I1          MEM1_0CLR MEM=_TEP_STEP_FLG,LG=W,WKREG1=R1,CLRREG=R0            ;
14720 00002692 D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
14721 00002694 200A                   M           XOR     R0,R0           ;
14722 00002696 2101                   M           MOV.W   R0,@R1  ;
14723                             247 I1          MEM1_0CLR MEM=_TEP_POS_ADD_CNT,LG=L,WKREG1=R1,CLRREG=R0         ;
14724 00002698 D106                   M           MOV.L   #_TEP_POS_ADD_CNT,R1            ;
14725 0000269A 200A                   M           XOR     R0,R0           ;
14726 0000269C 2102                   M           MOV.L   R0,@R1  ;
14727                             248 I1  ;       2013-06-20
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   157
PROGRAM NAME =

14728                             249 I1          MEM1_0CLR MEM=_TEP_INPLS_FLG,LG=W,WKREG1=R1,CLRREG=R0           ;
14729 0000269E D106                   M           MOV.L   #_TEP_INPLS_FLG,R1              ;
14730 000026A0 200A                   M           XOR     R0,R0           ;
14731 000026A2 2101                   M           MOV.W   R0,@R1  ;
14732                             250 I1  
14733                             251 I1  ;;;;;;;;2013-06-05      MEM1_0CLR MEM=_TEP_POS_ADD_CNTOLD,LG=L,WKREG1=R1,CLRREG=R0      ;
14734                             252 I1  
14735                             253 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0  ;2013-07-19
14736 000026A4 D005                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14737 000026A6 400B                   M           JSR     @R0                     ;
14738 000026A8 0009                   M           NOP                                     ;
14739                             254 I1  
14740                             255 I1          SUB_END
14741                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14742 000026AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14743                             256 I1          M_RTS
14744 000026AC 000B                   M           RTS                             ;RTSの後ろの
14745 000026AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14746                             257 I1  
14747                             258 I1  
14748                             259 I1  ;       *******************************************
14749                             260 I1  ;       ***                                     ***
14750                             261 I1  ;       ***             倍率                    ***
14751                             262 I1  ;       ***                                     ***
14752                             263 I1  ;       *******************************************
14753                             264 I1  ;       Output R2:NEW CUNTER
14754                             265 I1  ;       Output R3:OLD CUNTER
14755                             266 I1  ;       起動時はR2,R3は使用しない
14756                                 I1  ***** BEGIN-POOL *****
14757 000026B0 00000000               I1  DATA FOR SOURCE-LINE 246
14758 000026B4 00000000               I1  DATA FOR SOURCE-LINE 247
14759 000026B8 00000000               I1  DATA FOR SOURCE-LINE 249
14760 000026BC 00000000               I1  DATA FOR SOURCE-LINE 253
14761                                 I1  ***** END-POOL *****
14762 000026C0                    267 I1  _TEP_ADD_PLS_MAK:
14763                             268 I1          SUB_START
14764 000026C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14765                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14766                             269 I1  
14767                             270 I1  ;       ----------- DIRECT作成 2013-06-20--------
14768 000026C2 D415               271 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
14769 000026C4 6241               272 I1          MOV.W   @R4,R2                          ;
14770 000026C6 2228               273 I1          TST     R2,R2                           ;
14771                             274 I1          TST_BIT_OF TEP_ADD_PLSMK_030            ;
14772 000026C8 8907                   M           BT      TEP_ADD_PLSMK_030
14773                             275 I1  
14774 000026CA 9021               276 I1          MOV.W   #BIT4,R0                        ;
14775 000026CC 4211               277 I1          CMP/PZ  R2
14776 000026CE 8900               278 I1          BT      TEP_ADD_PLSMK_020               ;FWD
14777 000026D0 901F               279 I1          MOV.W   #BIT5,R0                        ;REV
14778 000026D2                    280 I1  TEP_ADD_PLSMK_020:
14779 000026D2 D112               281 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
14780 000026D4 6211               282 I1          MOV.W   @R1,R2                          ;
14781 000026D6 220B               283 I1          OR      R0,R2                           ;
14782 000026D8 2121               284 I1          MOV.W   R2,@R1                          ;
14783 000026DA                    285 I1  TEP_ADD_PLSMK_030:
14784                             286 I1  ;       -----------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   158
PROGRAM NAME =

14785                             287 I1  
14786                             288 I1  
14787 000026DA D311               289 I1          MOV.L   #_SET1_PLSALO_PLS,R3            ;//パルサ倍率低
14788 000026DC D111               290 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14789 000026DE 6011               291 I1          MOV.W   @R1,R0                          ;
14790 000026E0 C804               292 I1          TST     #BIT2,R0                        ;0:LOW 1:HIGH
14791                             293 I1          TST_BIT_OF TEP_ADD_PLSMK_050            ;
14792 000026E2 8900                   M           BT      TEP_ADD_PLSMK_050
14793 000026E4 D310               294 I1          MOV.L   #_SET1_PLSAHI_PLS,R3            ;パルサ倍率高
14794 000026E6                    295 I1  TEP_ADD_PLSMK_050:
14795 000026E6 6131               296 I1          MOV.W   @R3,R1                          ;
14796 000026E8 9414               297 I1          MOV.W   #D'1000,R4                      ;
14797 000026EA 3412               298 I1          CMP/HS  R1,R4                           ;
14798 000026EC 8900               299 I1          BT      TEP_ADD_PLSMK_100               ;
14799 000026EE 6143               300 I1          MOV     R4,R1                           ;
14800 000026F0                    301 I1  TEP_ADD_PLSMK_100:                              ;
14801 000026F0 2118               302 I1          TST     R1,R1                           ;
14802                             303 I1          TST_BIT_ON TEP_ADD_PLSMK_150            ;
14803 000026F2 8B00                   M           BF      TEP_ADD_PLSMK_150
14804 000026F4 E101               304 I1          MOV     #1,R1                           ;
14805 000026F6                    305 I1  TEP_ADD_PLSMK_150:                              ;
14806                             306 I1  
14807 000026F6 200A               307 I1          XOR     R0,R0
14808 000026F8 D407               308 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
14809 000026FA 6241               309 I1          MOV.W   @R4,R2                          ;
14810 000026FC 2401               310 I1          MOV.W   R0,@R4                          ;0CLR
14811                             311 I1                                                  ;R2
14812                             312 I1  
14813 000026FE 212F               313 I1          MULS.W  R2,R1                           ;
14814 00002700 021A               314 I1          STS     MACL,R2                         ;
14815 00002702 D10A               315 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
14816 00002704 6312               316 I1          MOV.L   @R1,R3                          ;
14817 00002706 323C               317 I1          ADD     R3,R2                           ;
14818 00002708 2122               318 I1          MOV.L   R2,@R1                          ;R3:OLD R2:NEW
14819                             319 I1  ;;;;;;;2013-06-05       MOV.L   #_TEP_POS_ADD_CNTOLD,R1         ;[[[[[[[[使用していない]]]
                                          ]]]]]]]]]]]]]
14820                             320 I1  ;;;;;;;2013-06-05       MOV.L   R3,@R1                          ;
14821                             321 I1  
14822                             322 I1          SUB_END
14823                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14824 0000270A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14825                             323 I1          M_RTS
14826 0000270C 000B                   M           RTS                             ;RTSの後ろの
14827 0000270E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14828                             324 I1  
14829                             325 I1  ;       *******************************************
14830                             326 I1  ;       ***                                     ***
14831                             327 I1  ;       ***     位置決め側                      ***
14832                             328 I1  ;       ***     起動時の位置作成                ***
14833                             329 I1  ;       ***     再起動時の位置作成              ***
14834                             330 I1  ;       ***                                     ***
14835                             331 I1  ;       *******************************************
14836                                 I1  ***** BEGIN-POOL *****
14837 00002710 0010                   I1  DATA FOR SOURCE-LINE 276
14838 00002712 0020                   I1  DATA FOR SOURCE-LINE 279
14839 00002714 03E8                   I1  DATA FOR SOURCE-LINE 297
14840 00002716 0000                   I1  ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   159
PROGRAM NAME =

14841 00002718 00000000               I1  DATA FOR SOURCE-LINE 271,308
14842 0000271C 00000000               I1  DATA FOR SOURCE-LINE 281
14843 00002720 00000000               I1  DATA FOR SOURCE-LINE 289
14844 00002724 00000000               I1  DATA FOR SOURCE-LINE 290
14845 00002728 00000000               I1  DATA FOR SOURCE-LINE 294
14846 0000272C 00000000               I1  DATA FOR SOURCE-LINE 315
14847                                 I1  ***** END-POOL *****
14848 00002730                    332 I1  _TEP_1STEP_DATA_MAK1:
14849                             333 I1          SUB_START
14850 00002730 4F22                   M           STS.L   PR,@-R15                ;[必要]
14851                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14852                             334 I1  
14853 00002732 D008               335 I1          MOV.L   #_CPOS_CTL_MATH,R0              ;
14854 00002734 6001               336 I1          MOV.W   @R0,R0                          ;
14855                             337 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
14856 00002736 C805               338 I1          TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;[2009-10-07下振子]
14857                             339 I1          TST_BIT_ON TEP_1STEP_DATMK1_080         ;
14858 00002738 8B17                   M           BF      TEP_1STEP_DATMK1_080
14859                             340 I1  
14860                             341 I1          FAR_JSR #_NEG_TEPA_AREA_CHK,R0          ;反転モードのエリア
14861 0000273A D007                   M           MOV.L   #_NEG_TEPA_AREA_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14862 0000273C 400B                   M           JSR     @R0                     ;
14863 0000273E 0009                   M           NOP                                     ;
14864 00002740 2008               342 I1          TST     R0,R0                           ;
14865                             343 I1          TST_BIT_OF TEP_1STEP_DATMK1_080         ;+/- OK
14866 00002742 8912                   M           BT      TEP_1STEP_DATMK1_080
14867                             344 I1  
14868 00002744 D105               345 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
14869 00002746 6212               346 I1          MOV.L   @R1,R2                          ;
14870 00002748 4211               347 I1          CMP/PZ  R2                              ;
14871 0000274A 8909               348 I1          BT      TEP_1STEP_DATMK1_050            ;
14872                             349 I1  ;       ------ "-" PLS入ってきた----
14873 0000274C 4011               350 I1          CMP/PZ  R0                              ;
14874 0000274E 8909               351 I1          BT      TEP_1STEP_DATMK1_070            ;+のみ許可
14875                             352 I1          M_BRA   TEP_1STEP_DATMK1_080            ;-:OK
14876 00002750 A00B                   M           BRA     TEP_1STEP_DATMK1_080
14877 00002752 0009                   M           NOP
14878                             353 I1  
14879                             354 I1  ;       ------ + PLS----
14880                                 I1  ***** BEGIN-POOL *****
14881 00002754 00000000               I1  DATA FOR SOURCE-LINE 335
14882 00002758 00000000               I1  DATA FOR SOURCE-LINE 341
14883 0000275C 00000000               I1  DATA FOR SOURCE-LINE 345
14884                                 I1  ***** END-POOL *****
14885 00002760                    355 I1  TEP_1STEP_DATMK1_050:
14886 00002760 4015               356 I1          CMP/PL  R0                              ;"+"OK?
14887 00002762 8902               357 I1          BT      TEP_1STEP_DATMK1_080            ;YES OK
14888 00002764                    358 I1  TEP_1STEP_DATMK1_070:
14889 00002764 D116               359 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
14890 00002766 200A               360 I1          XOR     R0,R0                           ;
14891 00002768 2102               361 I1          MOV.L   R0,@R1                          ;
14892                             362 I1  
14893                             363 I1  ;       -----------ふりこ・回転の通常　及び反転の位置カット後の処理------------
14894 0000276A                    364 I1  TEP_1STEP_DATMK1_080:
14895 0000276A D416               365 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
14896 0000276C 6142               366 I1          MOV.L   @R4,R1                                                  ;
14897 0000276E 5241               367 I1          MOV.L   @(1*4,R4),R2                                            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   160
PROGRAM NAME =

14898                             368 I1  
14899 00002770 D013               369 I1          MOV.L   #_TEP_POS_ADD_CNT,R0                                    ;位置決め側使用デ
                                          ータ
14900 00002772 6602               370 I1          MOV.L   @R0,R6                                                  ;
14901                             371 I1          EXTS_4B_TO_8B REG8B_H=R5,REG4B=R6                               ;
14902 00002774 255A                   M           XOR     R5,R5
14903 00002776 4611                   M           CMP/PZ  R6
14904 00002778 8900                   M           BT      JMP0100013              ;
14905 0000277A 75FF                   M           ADD     #-1,R5  ;
14906 0000277C                        M   JMP0100013:
14907                                 M   
14908                             372 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2
14909 0000277C 0008                   M           CLRT
14910 0000277E 326E                   M           ADDC    R6,R2
14911 00002780 315E                   M           ADDC    R5,R1
14912                             373 I1  
14913                             374 I1  ;;      ------2007-01-23 LIMIT R1,R2(OBJ) R5,R6(DELT):反転の時---------------
14914                             375 I1  ;;      MOV.L   #_CPOS_CTL_MATH,R0              ;
14915                             376 I1  ;;      MOV.W   @R0,R0                          ;
14916                             377 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
14917                             378 I1  ;;      TST_BIT_ON TEP_1STEP_DATMK1_200         ;
14918                             379 I1  ;;
14919                             380 I1  ;;      --(反転)--
14920                             381 I1  ;;      MOV.L   #_TEP_POS_ADD_CNT,R0            ;位置決め側使用データ
14921                             382 I1  ;;      MOV.L   @R0,R0                          ;
14922                             383 I1  ;;      CMP/PZ  R0                              ;
14923                             384 I1  ;;      BT      TEP_1STEP_DATMK1_100            ;
14924                             385 I1  ;;      ----- MINAS LIMIT -------
14925                             386 I1  ;;
14926                             387 I1  ;;
14927                             388 I1  ;;TEP_1STEP_DATMK1_100:
14928                             389 I1  ;;      ----- PLAS LIMIT -------
14929                             390 I1  ;;
14930                             391 I1  ;;
14931                             392 I1  ;;
14932                             393 I1  ;;
14933                             394 I1  ;;TEP_1STEP_DATMK1_200:
14934 00002782 D410               395 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
14935 00002784 2412               396 I1          MOV.L   R1,@R4                                  ;
14936 00002786 1421               397 I1          MOV.L   R2,@(1*4,R4)                            ;
14937 00002788 D40F               398 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
14938 0000278A 2412               399 I1          MOV.L   R1,@R4                                  ;
14939 0000278C 1421               400 I1          MOV.L   R2,@(4,R4)                              ;
14940                             401 I1  
14941 0000278E D40F               402 I1          MOV.L   #_LNGTH_ADD_DATA,R4                     ;//符号付き
14942 00002790 2452               403 I1          MOV.L   R5,@R4                                  ;
14943 00002792 1461               404 I1          MOV.L   R6,@(4,R4)                              ;
14944                             405 I1  
14945 00002794 D40E               406 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                  ;//符号付き
14946 00002796 2452               407 I1          MOV.L   R5,@R4                                  ;
14947 00002798 1461               408 I1          MOV.L   R6,@(4,R4)                              ;
14948                             409 I1  
14949 0000279A 233A               410 I1          XOR     R3,R3                                   ;
14950 0000279C 4511               411 I1          CMP/PZ  R5                                      ;
14951 0000279E 8900               412 I1          BT      TEP_1STEP_DATMK1_100                    ;
14952 000027A0 930C               413 I1          MOV.W   #BIT0,R3                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   161
PROGRAM NAME =

14953 000027A2                    414 I1  TEP_1STEP_DATMK1_100:
14954 000027A2 D10C               415 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
14955 000027A4 2131               416 I1          MOV.W   R3,@R1                                  ;
14956                             417 I1  
14957 000027A6 D10C               418 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1                   ;
14958 000027A8 6011               419 I1          MOV.W   @R1,R0                                  ;
14959 000027AA C9FE               420 I1          AND     #LOW ~BIT0,R0                           ;
14960 000027AC 203B               421 I1          OR      R3,R0                                   ;
14961 000027AE 2101               422 I1          MOV.W   R0,@R1                                  ;
14962                             423 I1  
14963                             424 I1  ;       ---------- 2013-06-20 ------------
14964 000027B0 200A               425 I1          XOR     R0,R0                           ;
14965 000027B2 D10A               426 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
14966 000027B4 2101               427 I1          MOV.W   R0,@R1                          ;
14967                             428 I1  
14968                             429 I1          SUB_END
14969                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14970 000027B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14971                             430 I1          M_RTS
14972 000027B8 000B                   M           RTS                             ;RTSの後ろの
14973 000027BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14974                             431 I1  
14975                             432 I1  
14976                             433 I1  
14977                             434 I1  ;       *******************************************
14978                             435 I1  ;       ***                                     ***
14979                             436 I1  ;       ***     手動パルサの反転のリミット      ***
14980                             437 I1  ;       ***     2007-01-23                      ***
14981                             438 I1  ;       *******************************************
14982                             439 I1  ;       0~165が動作範囲とする
14983                             440 I1  ;       180~0~165までは+側を受け付ける(=165~180まではﾌﾟﾗｽを受付けない)
14984                             441 I1  ;       0~165~180までは-側を受け付ける(=180~0まではﾏｲﾅｽを受付けない)
14985                             442 I1  ;       実測で0~165の範囲は+/-受け付ける
14986                             443 I1  ;
14987                             444 I1  ;
14988                             445 I1  ;       180
14989                             446 I1  ;
14990                             447 I1  ;
14991                             448 I1  ;
14992                             449 I1  ;
14993                             450 I1  ;       MOV.L   #_INC_LINK_NOWROT_OFSPLS_P,R4                   ;これを使用するか
14994                             451 I1  ;       MOV.L   @R4,R2                                          ;
14995                             452 I1  ;
14996                             453 I1  ;       0(+/-)ok
14997                             454 I1  ;       1(+)ok
14998                             455 I1  ;       -1(-)ok
14999                             456 I1  ;
15000                                 I1  ***** BEGIN-POOL *****
15001 000027BC 0001                   I1  DATA FOR SOURCE-LINE 413
15002 000027BE 0000                   I1  ALIGNMENT CODE
15003 000027C0 00000000               I1  DATA FOR SOURCE-LINE 359,369
15004 000027C4 00000000               I1  DATA FOR SOURCE-LINE 365,395
15005 000027C8 00000000               I1  DATA FOR SOURCE-LINE 398
15006 000027CC 00000000               I1  DATA FOR SOURCE-LINE 402
15007 000027D0 00000000               I1  DATA FOR SOURCE-LINE 406
15008 000027D4 00000000               I1  DATA FOR SOURCE-LINE 415
15009 000027D8 00000000               I1  DATA FOR SOURCE-LINE 418
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   162
PROGRAM NAME =

15010 000027DC 00000000               I1  DATA FOR SOURCE-LINE 426
15011                                 I1  ***** END-POOL *****
15012          00000064           457 I1  _TEP_DNPOS_HIS  .EQU    100     ;10.0度
15013                             458 I1  
15014 000027E0                    459 I1  _NEG_TEPA_AREA_CHK:
15015                             460 I1          SUB_START
15016 000027E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
15017                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15018                             461 I1  
15019                             462 I1  
15020 000027E2 D40D               463 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
15021 000027E4 6142               464 I1          MOV.L   @R4,R1                          ;
15022                             465 I1  ;;;;    MOV.L   #_SETX_LINK_UP_POS_DN,R4        ;ﾘﾝｸ(範囲比較)
15023                             466 I1  ;;;;    MOV.W   @R4,R3                          ;待機点-α
15024                             467 I1  
15025 000027E6 D40D               468 I1          MOV.L   #_SET1_UPAREA_DIG1,R4           ;ﾘﾝｸ(範囲比較)
15026 000027E8 6341               469 I1          MOV.W   @R4,R3                          ;待機点
15027 000027EA D40D               470 I1          MOV.L   #_INC_ENC360,R4                 ;
15028 000027EC 6241               471 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
15029                             472 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(ﾏｲﾅｽを受け付けない)
15030 000027EE D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15031 000027F0 400B                   M           JSR     @R0                     ;
15032 000027F2 0009                   M           NOP                                     ;
15033 000027F4 4511               473 I1          CMP/PZ  R5                              ;
15034 000027F6 891C               474 I1          BT      NEG_TEPA_ARACHK200              ;+のみ可能
15035                             475 I1  
15036                             476 I1  
15037 000027F8 D40B               477 I1          MOV.L   #_SETX_DNAREA_JG_LNK,R4         ;反転設定不可範囲LINK 度
15038 000027FA 6142               478 I1          MOV.L   @R4,R1                          ;
15039 000027FC D406               479 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
15040 000027FE 6342               480 I1          MOV.L   @R4,R3                          ;
15041 00002800 9009               481 I1          MOV.W   #_TEP_DNPOS_HIS,R0              ;10.0
15042 00002802 330C               482 I1          ADD     R0,R3                           ;10.0は..
15043 00002804 D406               483 I1          MOV.L   #_INC_ENC360,R4                 ;
15044 00002806 6241               484 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
15045                             485 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(+受け付けない)
15046 00002808 D006                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15047 0000280A 400B                   M           JSR     @R0                     ;
15048 0000280C 0009                   M           NOP                                     ;
15049 0000280E 890D               486 I1          BT      NEG_TEPA_ARACHK100              ;
15050                             487 I1  
15051 00002810 200A               488 I1          XOR     R0,R0                           ;
15052                             489 I1          M_BRA   NEG_TEPA_ARACHK300              ;+/- OK
15053 00002812 A00F                   M           BRA     NEG_TEPA_ARACHK300
15054 00002814 0009                   M           NOP
15055                             490 I1  
15056                             491 I1  ;       -------- -を受け付ける=====
15057                                 I1  ***** BEGIN-POOL *****
15058 00002816 0064                   I1  DATA FOR SOURCE-LINE 481
15059 00002818 00000000               I1  DATA FOR SOURCE-LINE 463,479
15060 0000281C 00000000               I1  DATA FOR SOURCE-LINE 468
15061 00002820 00000000               I1  DATA FOR SOURCE-LINE 470,483
15062 00002824 00000000               I1  DATA FOR SOURCE-LINE 472,485
15063 00002828 00000000               I1  DATA FOR SOURCE-LINE 477
15064                                 I1  ***** END-POOL *****
15065 0000282C                    492 I1  NEG_TEPA_ARACHK100:
15066 0000282C E0FF               493 I1          MOV     #-1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   163
PROGRAM NAME =

15067                             494 I1          M_BRA   NEG_TEPA_ARACHK300              ;
15068 0000282E A001                   M           BRA     NEG_TEPA_ARACHK300
15069 00002830 0009                   M           NOP
15070                             495 I1  
15071                             496 I1  ;       -------- +を受け付ける=====
15072 00002832                    497 I1  NEG_TEPA_ARACHK200:
15073 00002832 E001               498 I1          MOV     #1,R0                           ;
15074 00002834                    499 I1  NEG_TEPA_ARACHK300:
15075                             500 I1  
15076                             501 I1  
15077                             502 I1          SUB_END
15078                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15079 00002834 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15080                             503 I1          M_RTS
15081 00002836 000B                   M           RTS                             ;RTSの後ろの
15082 00002838 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15083                             504 I1  
15084                             505 I1  
15085                             506 I1  
15086                             507 I1  ;       ***********************************
15087                             508 I1  ;       ***                             ***
15088                             509 I1  ;       ***     手動パルサフラグ        ***
15089                             510 I1  ;       ***                             ***
15090                             511 I1  ;       ***********************************
15091 0000283A                    512 I1  _TEP_FLG_CLR
15092                             513 I1          SUB_START
15093 0000283A 4F22                   M           STS.L   PR,@-R15                ;[必要]
15094                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15095 0000283C 200A               514 I1          XOR     R0,R0
15096 0000283E D102               515 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
15097 00002840 2101               516 I1          MOV.W   R0,@R1                  ;
15098                             517 I1          SUB_END
15099                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15100 00002842 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15101                             518 I1          M_RTS
15102 00002844 000B                   M           RTS                             ;RTSの後ろの
15103 00002846 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15104                             519 I1  
15105                                 I1  ***** BEGIN-POOL *****
15106 00002848 00000000               I1  DATA FOR SOURCE-LINE 515
15107                                 I1  ***** END-POOL *****
15108 0000284C                    520 I1  _TEP_FLG_START
15109                             521 I1          SUB_START
15110 0000284C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15111                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15112 0000284E 9004               522 I1          MOV.W   #BIT0,R0
15113 00002850 D102               523 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
15114 00002852 2101               524 I1          MOV.W   R0,@R1                  ;
15115                             525 I1          SUB_END
15116                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15117 00002854 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15118                             526 I1          M_RTS
15119 00002856 000B                   M           RTS                             ;RTSの後ろの
15120 00002858 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15121                             527 I1  
15122                             528 I1  ;       ***********************************
15123                             529 I1  ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   164
PROGRAM NAME =

15124                             530 I1  ;       ***     手動パルサ起動条件      ***
15125                             531 I1  ;       ***     起動=1                  ***
15126                             532 I1  ;       ***                             ***
15127                             533 I1  ;       ***********************************
15128                             534 I1  ;------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
15129                             535 I1  ;
15130                                 I1  ***** BEGIN-POOL *****
15131 0000285A 0001                   I1  DATA FOR SOURCE-LINE 522
15132 0000285C 00000000               I1  DATA FOR SOURCE-LINE 523
15133                                 I1  ***** END-POOL *****
15134 00002860                    536 I1  _TEPA_START_CHK:
15135                             537 I1          SUB_START
15136 00002860 4F22                   M           STS.L   PR,@-R15                ;[必要]
15137                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15138                             538 I1  
15139 00002862 D10A               539 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
15140 00002864 6011               540 I1          MOV.W   @R1,R0                          ;
15141 00002866 2008               541 I1          TST     R0,R0                           ;
15142                             542 I1          TST_BIT_ON TEPA_STARTCHK_NG             ;手パが先になった
15143 00002868 8B0B                   M           BF      TEPA_STARTCHK_NG
15144                             543 I1  
15145 0000286A D109               544 I1          MOV.L   #_BTTN_FLG,R1                   ;
15146 0000286C 6011               545 I1          MOV.W   @R1,R0                          ;
15147 0000286E C802               546 I1          TST     #BIT1,R0                        ;
15148                             547 I1          TST_BIT_OF TEPA_STARTCHK_NG             ;
15149 00002870 8907                   M           BT      TEPA_STARTCHK_NG
15150                             548 I1  
15151 00002872 D108               549 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
15152 00002874 6211               550 I1          MOV.W   @R1,R2                          ;
15153 00002876 4211               551 I1          CMP/PZ  R2                              ;
15154 00002878 8900               552 I1          BT      TEPA_STARTCHK_050               ;
15155 0000287A 622B               553 I1          NEG     R2,R2                           ;
15156 0000287C                    554 I1  TEPA_STARTCHK_050:
15157 0000287C 9104               555 I1          MOV.W   #D'1,R1                         ;1で良いか
15158 0000287E 3213               556 I1          CMP/GE  R1,R2                           ;
15159 00002880 890A               557 I1          BT      TEPA_STARTCHK_OK                ;
15160 00002882                    558 I1  TEPA_STARTCHK_NG:
15161 00002882 200A               559 I1          XOR     R0,R0                           ;
15162                             560 I1          M_BRA   TEPA_STARTCHK_END               ;
15163 00002884 A00C                   M           BRA     TEPA_STARTCHK_END
15164 00002886 0009                   M           NOP
15165                             561 I1  
15166                                 I1  ***** BEGIN-POOL *****
15167 00002888 0001                   I1  DATA FOR SOURCE-LINE 555
15168 0000288A 0000                   I1  ALIGNMENT CODE
15169 0000288C 00000000               I1  DATA FOR SOURCE-LINE 539
15170 00002890 00000000               I1  DATA FOR SOURCE-LINE 544
15171 00002894 00000000               I1  DATA FOR SOURCE-LINE 549
15172                                 I1  ***** END-POOL *****
15173 00002898                    562 I1  TEPA_STARTCHK_OK:
15174                             563 I1          FAR_JSR #_TEP_FLG_START,R0              ;
15175 00002898 D003                   M           MOV.L   #_TEP_FLG_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15176 0000289A 400B                   M           JSR     @R0                     ;
15177 0000289C 0009                   M           NOP                                     ;
15178 0000289E E001               564 I1          MOV     #1,R0                           ;
15179 000028A0                    565 I1  TEPA_STARTCHK_END:
15180                             566 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   165
PROGRAM NAME =

15181                             567 I1          SUB_END
15182                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15183 000028A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15184                             568 I1          M_RTS
15185 000028A2 000B                   M           RTS                             ;RTSの後ろの
15186 000028A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15187                             569 I1  
15188                             570 I1  ;;;     ------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
15189                             571 I1  ;;;_TEPA_START_CHK:
15190                             572 I1  ;;;     SUB_START
15191                             573 I1  ;;;
15192                             574 I1  ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15193                             575 I1  ;;;     MOV.W   @R1,R0                          ;
15194                             576 I1  ;;;     TST     #BIT1,R0                        ;
15195                             577 I1  ;;;     TST_BIT_OF TEPA_STARTCHK_NG             ;無効
15196                             578 I1  ;;;
15197                             579 I1  ;;;     MOV.L   #_TEP_IN_ADD,R1                 ;
15198                             580 I1  ;;;     MOV.W   @R1,R2                          ;
15199                             581 I1  ;;;     CMP/PZ  R2                              ;
15200                             582 I1  ;;;     BT      TEPA_STARTCHK_050               ;
15201                             583 I1  ;;;     NEG     R2,R2                           ;
15202                             584 I1  ;;;TEPA_STARTCHK_050:
15203                             585 I1  ;;;     MOV.W   #D'1,R1                         ;1で良いか
15204                             586 I1  ;;;     CMP/GE  R1,R2                           ;
15205                             587 I1  ;;;     BT      TEPA_STARTCHK_OK                ;
15206                             588 I1  ;;;TEPA_STARTCHK_NG:
15207                             589 I1  ;;;     XOR     R0,R0                           ;
15208                             590 I1  ;;;     M_BRA   TEPA_STARTCHK_END               ;
15209                             591 I1  ;;;
15210                             592 I1  ;;;TEPA_STARTCHK_OK:
15211                             593 I1  ;;;     FAR_JSR #_TEP_FLG_START,R0              ;
15212                             594 I1  ;;;     MOV     #1,R0                           ;
15213                             595 I1  ;;;TEPA_STARTCHK_END:
15214                             596 I1  ;;;
15215                             597 I1  ;;;     SUB_END
15216                             598 I1  ;;;     M_RTS
15217                             599 I1  
15218                             600 I1  ;       ***********************************
15219                             601 I1  ;       ***                             ***
15220                             602 I1  ;       ***     手動パルサ遷移時の      ***
15221                             603 I1  ;       ***     パルスクリア            ***
15222                             604 I1  ;       ***                             ***
15223                             605 I1  ;       ***********************************
15224                             606 I1          .IMPORT         _PVP_CPUA_TEPPLS
15225                             607 I1          .IMPORT         _PVP_CPUB_TEPPLS
15226                             608 I1  
15227                                 I1  ***** BEGIN-POOL *****
15228 000028A6 0000                   I1  ALIGNMENT CODE
15229 000028A8 00000000               I1  DATA FOR SOURCE-LINE 563
15230                                 I1  ***** END-POOL *****
15231 000028AC                    609 I1  _TEPA_PLSCNT_CLR
15232                             610 I1          SUB_START
15233 000028AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15234                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15235                             611 I1  
15236                             612 I1          .AIF    0 EQ    0       ;
15237 000028AE D106               613 C           MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   166
PROGRAM NAME =

15238 000028B0 6211               614 C           MOV.W   @R1,R2                          ;
15239                             615             .AELSE
15240                             616             MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
15241                             617             MOV.W   @R1,R2                          ;
15242                             618             .AENDI
15243                             619 I1  
15244 000028B2 D106               620 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
15245 000028B4 2121               621 I1          MOV.W   R2,@R1                          ;
15246                             622 I1  
15247 000028B6 222A               623 I1          XOR     R2,R2
15248 000028B8 D105               624 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
15249 000028BA 2121               625 I1          MOV.W   R2,@R1                          ;
15250                             626 I1  
15251 000028BC D105               627 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;位置決め側使用データ
15252 000028BE 2122               628 I1          MOV.L   R2,@R1                          ;
15253                             629 I1  
15254                             630 I1          SUB_END
15255                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15256 000028C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15257                             631 I1          M_RTS
15258 000028C2 000B                   M           RTS                             ;RTSの後ろの
15259 000028C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15260                             632 I1  
15261                             633 I1  ;       ***********************************
15262                             634 I1  ;       ***                             ***
15263                             635 I1  ;       ***     手動ﾊﾟﾙｻの増分ﾁｪｯｸ      ***
15264                             636 I1  ;       ***                             ***
15265                             637 I1  ;       ***                             ***
15266                             638 I1  ;       ***********************************
15267                                 I1  ***** BEGIN-POOL *****
15268 000028C6 0000                   I1  ALIGNMENT CODE
15269 000028C8 00000000               I1  DATA FOR SOURCE-LINE 613
15270 000028CC 00000000               I1  DATA FOR SOURCE-LINE 620
15271 000028D0 00000000               I1  DATA FOR SOURCE-LINE 624
15272 000028D4 00000000               I1  DATA FOR SOURCE-LINE 627
15273                                 I1  ***** END-POOL *****
15274 000028D8                    639 I1  _TEPA_PLSCNT_CHK:
15275                             640 I1          SUB_START
15276 000028D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15277                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15278                             641 I1  
15279                             642 I1          .AIF    0 EQ    0       ;
15280 000028DA D10C               643 C           MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
15281 000028DC 6211               644 C           MOV.W   @R1,R2                          ;
15282                             645             .AELSE
15283                             646             MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
15284                             647             MOV.W   @R1,R2                          ;
15285                             648             .AENDI
15286                             649 I1  
15287 000028DE D10C               650 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
15288 000028E0 6311               651 I1          MOV.W   @R1,R3                          ;
15289 000028E2 2121               652 I1          MOV.W   R2,@R1                          ;
15290 000028E4 3238               653 I1          SUB     R3,R2                           ;
15291 000028E6 D10B               654 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
15292 000028E8 2121               655 I1          MOV.W   R2,@R1                          ;
15293                             656 I1  
15294                             657 I1  ;       ------ 2011-07-04 追加　運転釦が先--
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   167
PROGRAM NAME =

15295 000028EA 2228               658 I1          TST     R2,R2                           ;変化あり?
15296                             659 I1          TST_BIT_OF TEPA_PLSCNTCHK_100           ;
15297 000028EC 890A                   M           BT      TEPA_PLSCNTCHK_100
15298                             660 I1  
15299 000028EE D10A               661 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
15300 000028F0 6011               662 I1          MOV.W   @R1,R0                          ;
15301 000028F2 2008               663 I1          TST     R0,R0
15302                             664 I1          TST_BIT_ON TEPA_PLSCNTCHK_050           ;
15303 000028F4 8B03                   M           BF      TEPA_PLSCNTCHK_050
15304                             665 I1  
15305 000028F6 D109               666 I1          MOV.L   #_BTTN_FLG,R1                   ;
15306 000028F8 6011               667 I1          MOV.W   @R1,R0                          ;
15307 000028FA C802               668 I1          TST     #BIT1,R0                        ;
15308                             669 I1          TST_BIT_ON TEPA_PLSCNTCHK_100           ;
15309 000028FC 8B02                   M           BF      TEPA_PLSCNTCHK_100
15310                             670 I1  
15311 000028FE                    671 I1  TEPA_PLSCNTCHK_050:
15312                             672 I1  
15313 000028FE 9004               673 I1          MOV.W   #D'51,R0                        ;50*10=0.5秒
15314 00002900 D105               674 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
15315 00002902 2101               675 I1          MOV.W   R0,@R1                          ;
15316                             676 I1  
15317 00002904                    677 I1  TEPA_PLSCNTCHK_100:
15318                             678 I1  
15319                             679 I1  
15320                             680 I1          SUB_END
15321                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15322 00002904 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15323                             681 I1          M_RTS
15324 00002906 000B                   M           RTS                             ;RTSの後ろの
15325 00002908 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15326                             682 I1  
15327                             683 I1  
15328                             684 I1  ;       *******************************************
15329                             685 I1  ;       ***                                     ***
15330                             686 I1  ;       ***     2013-05-26                      ***
15331                             687 I1  ;       ***                                     ***
15332                             688 I1  ;       *******************************************
15333                             689 I1  ;       10ﾊﾟﾙｽ,方向無視----→修正必要
15334                                 I1  ***** BEGIN-POOL *****
15335 0000290A 0033                   I1  DATA FOR SOURCE-LINE 673
15336 0000290C 00000000               I1  DATA FOR SOURCE-LINE 643
15337 00002910 00000000               I1  DATA FOR SOURCE-LINE 650
15338 00002914 00000000               I1  DATA FOR SOURCE-LINE 654
15339 00002918 00000000               I1  DATA FOR SOURCE-LINE 661,674
15340 0000291C 00000000               I1  DATA FOR SOURCE-LINE 666
15341                                 I1  ***** END-POOL *****
15342 00002920                    690 I1  _TEPA_ADD_LSI:
15343                             691 I1          SUB_START
15344 00002920 4F22                   M           STS.L   PR,@-R15                ;[必要]
15345                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15346                             692 I1  
15347                             693 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
15348                             694 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;[自分のインターロック]
15349                             695 I1  ;;まだ組み込まない .AELSE
15350                             696 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
15351                             697 I1  ;;まだ組み込まない .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   168
PROGRAM NAME =

15352                             698 I1  
15353 00002922 D509               699 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R5  ;
15354 00002924 6051               700 I1          MOV.W   @R5,R0                          ;
15355 00002926 2008               701 I1          TST     R0,R0                           ;
15356                             702 I1          TST_BIT_ON TEPA_ADDLSI_025              ;停止
15357 00002928 8B22                   M           BF      TEPA_ADDLSI_025
15358                             703 I1  
15359                             704 I1  ;       ---------- 2013-06-20 ------------
15360 0000292A 222A               705 I1          XOR     R2,R2
15361 0000292C D107               706 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15362 0000292E 6011               707 I1          MOV.W   @R1,R0                          ;
15363 00002930 2121               708 I1          MOV.W   R2,@R1                          ;
15364                             709 I1  
15365 00002932 2008               710 I1          TST     R0,R0                                   ;
15366                             711 I1          TST_BIT_OF TEPA_ADDLSI_030                      ;
15367 00002934 8924                   M           BT      TEPA_ADDLSI_030
15368                             712 I1  
15369 00002936 D106               713 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
15370 00002938 6211               714 I1          MOV.W   @R1,R2                                  ;
15371 0000293A E401               715 I1          MOV.B   #BIT0,R4                                ;
15372 0000293C 2248               716 I1          TST     R4,R2                                   ;DIRCT +
15373                             717 I1          TST_BIT_ON TEPA_ADDLSI_010                      ;
15374 0000293E 8B09                   M           BF      TEPA_ADDLSI_010
15375                             718 I1  
15376 00002940 C820               719 I1          TST     #BIT5,R0                                ;逆転有り?
15377                             720 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
15378 00002942 8B0B                   M           BF      TEPA_ADDLSI_020
15379                             721 I1          M_BRA   TEPA_ADDLSI_030                         ;
15380 00002944 A01C                   M           BRA     TEPA_ADDLSI_030
15381 00002946 0009                   M           NOP
15382                             722 I1  
15383                             723 I1  
15384                                 I1  ***** BEGIN-POOL *****
15385 00002948 00000000               I1  DATA FOR SOURCE-LINE 699
15386 0000294C 00000000               I1  DATA FOR SOURCE-LINE 706
15387 00002950 00000000               I1  DATA FOR SOURCE-LINE 713
15388                                 I1  ***** END-POOL *****
15389 00002954                    724 I1  TEPA_ADDLSI_010:
15390 00002954 C810               725 I1          TST     #BIT4,R0                                ;正転有り?
15391                             726 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
15392 00002956 8B01                   M           BF      TEPA_ADDLSI_020
15393                             727 I1          M_BRA   TEPA_ADDLSI_030                         ;
15394 00002958 A012                   M           BRA     TEPA_ADDLSI_030
15395 0000295A 0009                   M           NOP
15396                             728 I1  
15397 0000295C                    729 I1  TEPA_ADDLSI_020:
15398                             730 I1          FAR_JSR #_TEP_SPD_CALC3,R0                      ;
15399 0000295C D005                   M           MOV.L   #_TEP_SPD_CALC3,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15400 0000295E 400B                   M           JSR     @R0                     ;
15401 00002960 0009                   M           NOP                                     ;
15402                             731 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
15403 00002962 D005                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15404 00002964 400B                   M           JSR     @R0                     ;
15405 00002966 0009                   M           NOP                                     ;
15406                             732 I1  ;;まだ組み込まないFAR_JSR       #_TEP_CPUAB_HAND_STOP,R0                ;2013-06-19
15407                             733 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_REVPLS_LT_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
15408 00002968 D104                   M           MOV.L   #_TEP_REVPLS_LT_FLG,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   169
PROGRAM NAME =

15409 0000296A 6011                   M           MOV.W   @R1,R0          ;
15410 0000296C CB01                   M           OR      #BIT0,R0                ;
15411 0000296E 2101                   M           MOV.W   R0,@R1          ;
15412                             734 I1  
15413 00002970                    735 I1  TEPA_ADDLSI_025:
15414                             736 I1          M_BRA   TEPA_ADDLSI_EXT                         ;
15415 00002970 A02A                   M           BRA     TEPA_ADDLSI_EXT
15416 00002972 0009                   M           NOP
15417                             737 I1  
15418                             738 I1  ;       ---------------------------------------------------
15419                                 I1  ***** BEGIN-POOL *****
15420 00002974 00000000               I1  DATA FOR SOURCE-LINE 730
15421 00002978 00000000               I1  DATA FOR SOURCE-LINE 731
15422 0000297C 00000000               I1  DATA FOR SOURCE-LINE 733
15423                                 I1  ***** END-POOL *****
15424 00002980                    739 I1  TEPA_ADDLSI_030
15425                             740 I1  ;       ----------- 復活 2013-06-05--------
15426 00002980 D113               741 I1          MOV.L   #_TEP_CNTSMP_TIM,R1             ;
15427 00002982 6011               742 I1          MOV.W   @R1,R0                          ;
15428 00002984 2008               743 I1          TST     R0,R0                           ;
15429                             744 I1          TST_BIT_ON TEPA_ADDLSI_EXT              ;
15430 00002986 8B1F                   M           BF      TEPA_ADDLSI_EXT
15431                             745 I1  
15432                             746 I1  ;       -----------------------------------
15433 00002988 D012               747 I1          MOV.L   #_TEP_STEP_SVSMPTM,R0           ;
15434 0000298A 6201               748 I1          MOV.W   @R0,R2                          ;
15435 0000298C 2121               749 I1          MOV.W   R2,@R1                          ;
15436                             750 I1  ;       -----------------------------------
15437 0000298E D112               751 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                    ;
15438 00002990 6012               752 I1          MOV.L   @R1,R0                                  ;
15439 00002992 2008               753 I1          TST     R0,R0                                   ;
15440                             754 I1          TST_BIT_OF TEPA_ADDLSI_EXT                      ;
15441 00002994 8918                   M           BT      TEPA_ADDLSI_EXT
15442                             755 I1  
15443                             756 I1  
15444                             757 I1          FAR_JSR #_LOAD_REST_PLS,R0                                      ;LOAD PLS
15445 00002996 D011                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15446 00002998 400B                   M           JSR     @R0                     ;
15447 0000299A 0009                   M           NOP                                     ;
15448                             758 I1  
15449 0000299C D110               759 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1                                   ;SYS_PARA 10PLS
15450 0000299E 6411               760 I1          MOV.W   @R1,R4
15451                             761 I1  
15452 000029A0 3406               762 I1          CMP/HI  R0,R4                                                   ;10pls以下 R0<10
15453 000029A2 8911               763 I1          BT      TEPA_ADDLSI_EXT                                         ;"二重回路HAND対象
                                          "
15454                             764 I1                                                                          ;難しい
15455                             765 I1  
15456                             766 I1  ;       ---------パルス加算処理 2013-06-05 --------------
15457                             767 I1          FAR_JSR #_TEP_SPD_CALC2,R0                      ;
15458 000029A4 D00F                   M           MOV.L   #_TEP_SPD_CALC2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15459 000029A6 400B                   M           JSR     @R0                     ;
15460 000029A8 0009                   M           NOP                                     ;
15461                             768 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
15462 000029AA D00F                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15463 000029AC 400B                   M           JSR     @R0                     ;
15464 000029AE 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   170
PROGRAM NAME =

15465                             769 I1  
15466                             770 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;CNT=0 CLR,目標変更
15467 000029B0 D00E                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15468 000029B2 400B                   M           JSR     @R0                     ;
15469 000029B4 0009                   M           NOP                                     ;
15470                             771 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
15471 000029B6 D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15472 000029B8 400B                   M           JSR     @R0                     ;
15473 000029BA 0009                   M           NOP                                     ;
15474                             772 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
15475 000029BC D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15476 000029BE 400B                   M           JSR     @R0                     ;
15477 000029C0 0009                   M           NOP                                     ;
15478                             773 I1  
15479 000029C2 200A               774 I1          XOR     R0,R0
15480 000029C4 D104               775 I1          MOV.L   #_TEP_POS_ADD_CNT,R1
15481 000029C6 2102               776 I1          MOV.L   R0,@R1
15482                             777 I1  
15483                             778 I1  
15484 000029C8                    779 I1  TEPA_ADDLSI_EXT:
15485                             780 I1  
15486                             781 I1          SUB_END
15487                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15488 000029C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15489                             782 I1          M_RTS
15490 000029CA 000B                   M           RTS                             ;RTSの後ろの
15491 000029CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15492                             783 I1  
15493                             784 I1  ;       ***********************************
15494                             785 I1  ;       ***                             ***
15495                             786 I1  ;       ***     初起動時のエリア作成    ***
15496                             787 I1  ;       ***                             ***
15497                             788 I1  ;       ***********************************
15498                             789 I1  ;;2013-05-26 _DNDTEP_STEP_MAKE:
15499                             790 I1  ;;2013-05-26    SUB_START
15500                             791 I1  ;;2013-05-26    SUB_END
15501                             792 I1  ;;2013-05-26    M_RTS
15502                             793 I1  
15503                             794 I1  ;       ***********************************
15504                             795 I1  ;       ***                             ***
15505                             796 I1  ;       ***     工程からの目標位置作成  ***
15506                             797 I1  ;       ***                             ***
15507                             798 I1  ;       ***********************************
15508                             799 I1  ;;2013-05-26_DNDTEP_MAKE_OBJPOS:
15509                             800 I1  ;;2013-05-26    SUB_START
15510                             801 I1  ;;2013-05-26
15511                             802 I1  ;;2013-05-26
15512                             803 I1  ;;2013-05-26    SUB_END
15513                             804 I1  ;;2013-05-26    M_RTS
15514                             805 I1  
15515                                 I1  ***** BEGIN-POOL *****
15516 000029CE 0000                   I1  ALIGNMENT CODE
15517 000029D0 00000000               I1  DATA FOR SOURCE-LINE 741
15518 000029D4 00000000               I1  DATA FOR SOURCE-LINE 747
15519 000029D8 00000000               I1  DATA FOR SOURCE-LINE 751,775
15520 000029DC 00000000               I1  DATA FOR SOURCE-LINE 757
15521 000029E0 00000000               I1  DATA FOR SOURCE-LINE 759
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   171
PROGRAM NAME =

15522 000029E4 00000000               I1  DATA FOR SOURCE-LINE 767
15523 000029E8 00000000               I1  DATA FOR SOURCE-LINE 768
15524 000029EC 00000000               I1  DATA FOR SOURCE-LINE 770
15525 000029F0 00000000               I1  DATA FOR SOURCE-LINE 771
15526 000029F4 00000000               I1  DATA FOR SOURCE-LINE 772
15527                                 I1  ***** END-POOL *****
15528 000029F8                    806 I1  _TEP_SPD_CALC1:
15529                             807 I1          SUB_START
15530 000029F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15531                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15532 000029FA D306               808 I1          MOV.L   #_TEP_STEP_SVWTTM1,R3   ;//2013-06-05
15533 000029FC 6431               809 I1          MOV.W   @R3,R4                  ;
15534                             810 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;ANS=TEP1
15535 000029FE D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15536 00002A00 400B                   M           JSR     @R0                     ;
15537 00002A02 0009                   M           NOP                                     ;
15538                             811 I1  
15539 00002A04 D105               812 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
15540 00002A06 6212               813 I1          MOV.L   @R1,R2                  ;
15541 00002A08 D105               814 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
15542 00002A0A 2122               815 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
15543                             816 I1  
15544                             817 I1          SUB_END
15545                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15546 00002A0C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15547                             818 I1          M_RTS
15548 00002A0E 000B                   M           RTS                             ;RTSの後ろの
15549 00002A10 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15550                             819 I1  
15551                                 I1  ***** BEGIN-POOL *****
15552 00002A12 0000                   I1  ALIGNMENT CODE
15553 00002A14 00000000               I1  DATA FOR SOURCE-LINE 808
15554 00002A18 00000000               I1  DATA FOR SOURCE-LINE 810
15555 00002A1C 00000000               I1  DATA FOR SOURCE-LINE 812
15556 00002A20 00000000               I1  DATA FOR SOURCE-LINE 814
15557                                 I1  ***** END-POOL *****
15558 00002A24                    820 I1  _TEP_SPD_CALC2:
15559                             821 I1          SUB_START
15560 00002A24 4F22                   M           STS.L   PR,@-R15                ;[必要]
15561                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15562                             822 I1  
15563 00002A26 D106               823 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
15564 00002A28 6212               824 I1          MOV.L   @R1,R2                  ;
15565 00002A2A D106               825 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
15566 00002A2C 2122               826 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
15567                             827 I1  
15568 00002A2E D306               828 I1          MOV.L   #_TEP_STEP_SVSMPTM,R3
15569 00002A30 6431               829 I1          MOV.W   @R3,R4                  ;
15570                             830 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;
15571 00002A32 D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15572 00002A34 400B                   M           JSR     @R0                     ;
15573 00002A36 0009                   M           NOP                                     ;
15574                             831 I1          SUB_END
15575                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15576 00002A38 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15577                             832 I1          M_RTS
15578 00002A3A 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   172
PROGRAM NAME =

15579 00002A3C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15580                             833 I1  
15581                             834 I1  
15582                                 I1  ***** BEGIN-POOL *****
15583 00002A3E 0000                   I1  ALIGNMENT CODE
15584 00002A40 00000000               I1  DATA FOR SOURCE-LINE 823
15585 00002A44 00000000               I1  DATA FOR SOURCE-LINE 825
15586 00002A48 00000000               I1  DATA FOR SOURCE-LINE 828
15587 00002A4C 00000000               I1  DATA FOR SOURCE-LINE 830
15588                                 I1  ***** END-POOL *****
15589 00002A50                    835 I1  _TEP_SPD_CALC_COM
15590                             836 I1          SUB_START
15591 00002A50 4F22                   M           STS.L   PR,@-R15                ;[必要]
15592                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15593                             837 I1  
15594 00002A52 D30E               838 I1          MOV.L   #_TEP_POS_ADD_CNT,R3            ;
15595 00002A54 6232               839 I1          MOV.L   @R3,R2                          ;
15596 00002A56 4211               840 I1          CMP/PZ  R2
15597 00002A58 8900               841 I1          BT      TEP_SPD_CALCCOM_100                     ;
15598 00002A5A 622B               842 I1          NEG     R2,R2                                   ;
15599 00002A5C                    843 I1  TEP_SPD_CALCCOM_100
15600                             844 I1  
15601 00002A5C 9114               845 I1          MOV.W   #D'1000,R1                              ;
15602                             846 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;10PLS:100msec
15603 00002A5E D00C                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15604 00002A60 400B                   M           JSR     @R0                     ;
15605 00002A62 0009                   M           NOP                                     ;
15606                             847 I1  
15607 00002A64 2228               848 I1          TST     R2,R2                                   ;
15608                             849 I1          TST_BIT_ON TEP_SPD_CALCCOM_200                  ;
15609 00002A66 8B00                   M           BF      TEP_SPD_CALCCOM_200
15610 00002A68 920F               850 I1          MOV.W   #1,R2                                   ;
15611 00002A6A                    851 I1  TEP_SPD_CALCCOM_200
15612                             852 I1  
15613                             853 I1  
15614 00002A6A D10A               854 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
15615 00002A6C 6312               855 I1          MOV.L   @R1,R3                  ;
15616                             856 I1  
15617                             857 I1  ;       -----------MAX LIMIT----------
15618 00002A6E 3322               858 I1          CMP/HS  R2,R3
15619 00002A70 8900               859 I1          BT      TEP_SPD_CALCCOM_300
15620 00002A72 6233               860 I1          MOV     R3,R2                   ;
15621 00002A74                    861 I1  TEP_SPD_CALCCOM_300
15622                             862 I1  
15623                             863 I1  
15624                             864 I1  ;       ---------- MIN LIMIT -------------
15625 00002A74 D108               865 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1    ;
15626 00002A76 6312               866 I1          MOV.L   @R1,R3                  ;PLS/S
15627                             867 I1  
15628 00002A78 3232               868 I1          CMP/HS  R3,R2
15629 00002A7A 8900               869 I1          BT      TEP_SPD_CALCCOM_400
15630 00002A7C 6233               870 I1          MOV     R3,R2                   ;
15631 00002A7E                    871 I1  TEP_SPD_CALCCOM_400
15632                             872 I1  
15633 00002A7E D107               873 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
15634 00002A80 2122               874 I1          MOV.L   R2,@R1                  ;
15635                             875 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   173
PROGRAM NAME =

15636                             876 I1          SUB_END
15637                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15638 00002A82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15639                             877 I1          M_RTS
15640 00002A84 000B                   M           RTS                             ;RTSの後ろの
15641 00002A86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15642                             878 I1  
15643                             879 I1  ;       -----------------------------------
15644                                 I1  ***** BEGIN-POOL *****
15645 00002A88 03E8                   I1  DATA FOR SOURCE-LINE 845
15646 00002A8A 0001                   I1  DATA FOR SOURCE-LINE 850
15647 00002A8C 00000000               I1  DATA FOR SOURCE-LINE 838
15648 00002A90 00000000               I1  DATA FOR SOURCE-LINE 846
15649 00002A94 00000000               I1  DATA FOR SOURCE-LINE 854
15650 00002A98 00000000               I1  DATA FOR SOURCE-LINE 865
15651 00002A9C 00000000               I1  DATA FOR SOURCE-LINE 873
15652                                 I1  ***** END-POOL *****
15653 00002AA0                    880 I1  _TEP_SPD_CALC3:
15654                             881 I1          SUB_START
15655 00002AA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
15656                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15657 00002AA2 D104               882 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
15658 00002AA4 6212               883 I1          MOV.L   @R1,R2                  ;
15659 00002AA6 D104               884 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
15660 00002AA8 2122               885 I1          MOV.L   R2,@R1                  ;
15661 00002AAA D104               886 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
15662 00002AAC 2122               887 I1          MOV.L   R2,@R1                  ;
15663                             888 I1          SUB_END
15664                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15665 00002AAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15666                             889 I1          M_RTS
15667 00002AB0 000B                   M           RTS                             ;RTSの後ろの
15668 00002AB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15669                             890 I1  
15670                             891 I1  
15671                             892 I1  
15672                                 I1  ***** BEGIN-POOL *****
15673 00002AB4 00000000               I1  DATA FOR SOURCE-LINE 882
15674 00002AB8 00000000               I1  DATA FOR SOURCE-LINE 884
15675 00002ABC 00000000               I1  DATA FOR SOURCE-LINE 886
15676                                 I1  ***** END-POOL *****
15677 00002AC0                    893 I1  _TEP_SPD_SET:
15678                             894 I1          SUB_START
15679 00002AC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
15680                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15681                             895 I1  
15682 00002AC2 D103               896 I1          MOV.L   #_TEP_CHG_SPD1,R1                       ;
15683 00002AC4 6212               897 I1          MOV.L   @R1,R2                                  ;
15684                             898 I1  
15685 00002AC6 D103               899 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
15686 00002AC8 2122               900 I1          MOV.L   R2,@R1                                  ;
15687                             901 I1  
15688                             902 I1          SUB_END
15689                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15690 00002ACA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15691                             903 I1          M_RTS
15692 00002ACC 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   174
PROGRAM NAME =

15693 00002ACE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15694                             904 I1  
15695                                 I1  ***** BEGIN-POOL *****
15696 00002AD0 00000000               I1  DATA FOR SOURCE-LINE 896
15697 00002AD4 00000000               I1  DATA FOR SOURCE-LINE 899
15698                                 I1  ***** END-POOL *****
15699 00002AD8                    905 I1  _TEP_SPD_SET_CHG:
15700                             906 I1          SUB_START
15701 00002AD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15702                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15703                             907 I1  
15704                             908 I1  ;;;;    MOV.L   #_TEP_CHG_SPD1,R1                       ;
15705                             909 I1  ;;;;    MOV.L   @R1,R2                                  ;
15706                             910 I1  
15707 00002ADA D105               911 I1          MOV.L   #_TEP_CHG_SPD2,R1                       ;
15708 00002ADC 6212               912 I1          MOV.L   @R1,R2                                  ;
15709                             913 I1  
15710 00002ADE D105               914 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
15711 00002AE0 2122               915 I1          MOV.L   R2,@R1                                  ;
15712                             916 I1  
15713                             917 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;input R2
15714 00002AE2 D105                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15715 00002AE4 410B                   M           JSR     @R1                     ;
15716 00002AE6 0009                   M           NOP                                     ;
15717                             918 I1  
15718                             919 I1          SUB_END
15719                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15720 00002AE8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15721                             920 I1          M_RTS
15722 00002AEA 000B                   M           RTS                             ;RTSの後ろの
15723 00002AEC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15724                             921 I1  
15725                             922 I1  
15726                             923 I1  
15727                             924 I1  
15728                             925 I1  ;       ***************************************************
15729                             926 I1  ;       ***                                             ***
15730                             927 I1  ;       ***                                             ***
15731                             928 I1  ;       ***                                             ***
15732                             929 I1  ;       ***                                             ***
15733                             930 I1  ;       ***************************************************
15734                             931 I1          .EXPORT _TEP_DTMAK
15735                                 I1  ***** BEGIN-POOL *****
15736 00002AEE 0000                   I1  ALIGNMENT CODE
15737 00002AF0 00000000               I1  DATA FOR SOURCE-LINE 911
15738 00002AF4 00000000               I1  DATA FOR SOURCE-LINE 914
15739 00002AF8 00000000               I1  DATA FOR SOURCE-LINE 917
15740                                 I1  ***** END-POOL *****
15741 00002AFC                    932 I1  _TEP_DTMAK:
15742                             933 I1          SUB_START
15743 00002AFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15744                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15745                             934 I1  
15746                             935 I1  ;       ------------------------------------
15747 00002AFE D117               936 I1          MOV.L   #(_PAR_TEP_BEFPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
15748 00002B00 6411               937 I1          MOV.W   @R1,R4                                                  ;
15749 00002B02 9027               938 I1          MOV.W   #D'10,R0                                                ;MIN PLS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   175
PROGRAM NAME =

15750 00002B04 3402               939 I1          CMP/HS  R0,R4                                                   ;R4(10PLS)=< R0
15751 00002B06 8900               940 I1          BT      TEP_SYS_SET080                                          ;
15752 00002B08 6403               941 I1          MOV     R0,R4                                                   ;
15753 00002B0A                    942 I1  TEP_SYS_SET080:
15754 00002B0A D115               943 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1
15755 00002B0C 2141               944 I1          MOV.W   R4,@R1
15756                             945 I1  
15757                             946 I1  ;       --------------2013-06-05 -----------
15758 00002B0E 9222               947 I1          MOV.W   #D'100,R2                                               ;DEF 100msec
15759 00002B10 D114               948 I1          MOV.L   #(_PAR_TEP_WATTIM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
15760 00002B12 6011               949 I1          MOV.W   @R1,R0                                                  ;
15761 00002B14 2008               950 I1          TST     R0,R0                                                   ;
15762                             951 I1          TST_BIT_OF TEP_SYS_SET100                                       ;
15763 00002B16 8900                   M           BT      TEP_SYS_SET100
15764 00002B18 6203               952 I1          MOV     R0,R2                                                   ;
15765 00002B1A                    953 I1  TEP_SYS_SET100:
15766 00002B1A D113               954 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
15767 00002B1C 2121               955 I1          MOV.W   R2,@R1                  ;
15768                             956 I1  
15769 00002B1E D112               957 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
15770 00002B20 6211               958 I1          MOV.W   @R1,R2                  ;
15771 00002B22 4201               959 I1          SHLR    R2                      ;
15772 00002B24 D111               960 I1          MOV.L   #_TEP_STEP_SVSMPTM,R1   ;
15773 00002B26 2121               961 I1          MOV.W   R2,@R1                  ;1/2時間
15774                             962 I1  
15775                             963 I1  ;       ---------- 最小速度兼自起動速度
15776 00002B28 D111               964 I1          MOV.L   #(_PAR_TEP_MINSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
15777 00002B2A 6211               965 I1          MOV.W   @R1,R2                                                  ;
15778 00002B2C 2228               966 I1          TST     R2,R2                                                   ;
15779                             967 I1          TST_BIT_ON TEP_SYS_SET200                                       ;
15780 00002B2E 8B00                   M           BF      TEP_SYS_SET200
15781 00002B30 9212               968 I1          MOV.W   #1,R2                                                   ;0.01%
15782 00002B32                    969 I1  TEP_SYS_SET200:                                                         ;
15783                             970 I1          FAR_JSR #_CYCLE_SPD1,R0                                         ;
15784 00002B32 D010                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15785 00002B34 400B                   M           JSR     @R0                     ;
15786 00002B36 0009                   M           NOP                                     ;
15787 00002B38 D10F               971 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1                                    ;
15788 00002B3A 2122               972 I1          MOV.L   R2,@R1                                                  ;PLS/S
15789                             973 I1  
15790 00002B3C D00F               974 I1          MOV.L   #_POS_LSI_SPDMAX,R0                             ;
15791 00002B3E 6102               975 I1          MOV.L   @R0,R1                                          ;
15792 00002B40 D00F               976 I1          MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
15793 00002B42 6402               977 I1          MOV.L   @R0,R4                                          ;
15794                             978 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
15795 00002B44 D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15796 00002B46 400B                   M           JSR     @R0                     ;
15797 00002B48 0009                   M           NOP                                     ;
15798 00002B4A D10F               979 I1          MOV.L   #_TEP_MIN_SPD_FRQ,R1                            ;//自起動速度
15799 00002B4C 2122               980 I1          MOV.L   R2,@R1                                          ;
15800                             981 I1  
15801                             982 I1  
15802                             983 I1          SUB_END
15803                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15804 00002B4E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15805                             984 I1          M_RTS
15806 00002B50 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   176
PROGRAM NAME =

15807 00002B52 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15808                             985 I1  
15809                             986 I1  ;
15810                             987 I1  ;;まだ組み込まない_TEP_CPUAB_HAND
15811                             988 I1  ;;まだ組み込まない      SUB_START
15812                             989 I1  ;;まだ組み込まない      XOR     R0,R0
15813                             990 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
15814                             991 I1  ;;まだ組み込まない      MOV.W   @R5,R1                  ;
15815                             992 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R6    ;
15816                             993 I1  ;;まだ組み込まない      MOV.W   @R6,R2                  ;
15817                             994 I1  ;;まだ組み込まない      CMP/EQ  R1,R2                   ;
15818                             995 I1  ;;まだ組み込まない      BF      TEP_CPUAB_HDEXT         ;
15819                             996 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                        ;
15820                             997 I1  ;;まだ組み込まないTEP_CPUAB_HDEXT
15821                             998 I1  ;;まだ組み込まない
15822                             999 I1  ;;まだ組み込まない      SUB_END
15823                            1000 I1  ;;まだ組み込まない      M_RTS
15824                            1001 I1  
15825                            1002 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_CLR
15826                            1003 I1  ;;まだ組み込まない      SUB_START
15827                            1004 I1  ;;まだ組み込まない      XOR     R0,R0
15828                            1005 I1  ;;まだ組み込まない
15829                            1006 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
15830                            1007 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
15831                            1008 I1  ;;まだ組み込まない .AELSE
15832                            1009 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
15833                            1010 I1  ;;まだ組み込まない .AENDI
15834                            1011 I1  ;;まだ組み込まない      MOV.W   R0,@R5
15835                            1012 I1  ;;まだ組み込まない
15836                            1013 I1  ;;まだ組み込まない      SUB_END
15837                            1014 I1  ;;まだ組み込まない      M_RTS
15838                            1015 I1  
15839                            1016 I1  
15840                            1017 I1  ;*******************************************
15841                            1018 I1  
15842                            1019 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_STOP
15843                            1020 I1  ;;まだ組み込まない      SUB_START
15844                            1021 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                ;
15845                            1022 I1  ;;まだ組み込まない
15846                            1023 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
15847                            1024 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
15848                            1025 I1  ;;まだ組み込まない .AELSE
15849                            1026 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
15850                            1027 I1  ;;まだ組み込まない .AENDI
15851                            1028 I1  ;;まだ組み込まない      MOV.W   R0,@R5
15852                            1029 I1  ;;まだ組み込まない
15853                            1030 I1  ;;まだ組み込まない      SUB_END
15854                            1031 I1  ;;まだ組み込まない      M_RTS
15855                            1032 I1  
15856                            1033 I1  
15857                            1034 I1  ;       *******************************************
15858                            1035 I1  ;       ***                                     ***
15859                            1036 I1  ;       ***     停止させる信号のクリア          ***
15860                            1037 I1  ;       ***                                     ***
15861                            1038 I1  ;       *******************************************
15862                            1039 I1  ;
15863                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   177
PROGRAM NAME =

15864 00002B54 000A                   I1  DATA FOR SOURCE-LINE 938
15865 00002B56 0064                   I1  DATA FOR SOURCE-LINE 947
15866 00002B58 0001                   I1  DATA FOR SOURCE-LINE 968
15867 00002B5A 0000                   I1  ALIGNMENT CODE
15868 00002B5C 00000000               I1  DATA FOR SOURCE-LINE 936
15869 00002B60 00000000               I1  DATA FOR SOURCE-LINE 943
15870 00002B64 00000000               I1  DATA FOR SOURCE-LINE 948
15871 00002B68 00000000               I1  DATA FOR SOURCE-LINE 954,957
15872 00002B6C 00000000               I1  DATA FOR SOURCE-LINE 960
15873 00002B70 00000000               I1  DATA FOR SOURCE-LINE 964
15874 00002B74 00000000               I1  DATA FOR SOURCE-LINE 970
15875 00002B78 00000000               I1  DATA FOR SOURCE-LINE 971
15876 00002B7C 00000000               I1  DATA FOR SOURCE-LINE 974
15877 00002B80 00000000               I1  DATA FOR SOURCE-LINE 976
15878 00002B84 00000000               I1  DATA FOR SOURCE-LINE 978
15879 00002B88 00000000               I1  DATA FOR SOURCE-LINE 979
15880                                 I1  ***** END-POOL *****
15881 00002B8C                   1040 I1  _TEP_REVPLS_LT_CLR
15882                            1041 I1          SUB_START
15883 00002B8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15884                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15885 00002B8E 200A              1042 I1          XOR     R0,R0                   ;
15886 00002B90 D102              1043 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R1  ;
15887 00002B92 2101              1044 I1          MOV.W   R0,@R1                  ;
15888                            1045 I1          SUB_END
15889                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15890 00002B94 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15891                            1046 I1          M_RTS
15892 00002B96 000B                   M           RTS                             ;RTSの後ろの
15893 00002B98 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15894                            1047 I1  
15895                            1048 I1  ;       *******************************************
15896                            1049 I1  ;       ***                                     ***
15897                            1050 I1  ;       ***     Input R2                        ***
15898                            1051 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
15899                            1052 I1  ;       ***     Input R0 DIRECT                 ***
15900                            1053 I1  ;       ***     方向固定                        ***
15901                            1054 I1  ;       ***                                     ***
15902                            1055 I1  ;       *******************************************
15903                            1056 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
15904                            1057 I1  ;       MOV.L   @R4,R2                                  ;
15905                            1058 I1  ;
15906                            1059 I1  
15907                            4605     
15908                            4606     
15909                            4607     
15910                            4608     
15911                            4609     
15912                            4610     ;       ***********************************
15913                            4611     ;       ***                             ***
15914                            4612     ;       ***     目標位置→LENGTH        ***
15915                            4613     ;       ***                             ***
15916                            4614     ;       ***********************************
15917                            4615     ;       Input R1,R2(目標位置)
15918                            4616     ;       Output R1,R2
15919                                     ***** BEGIN-POOL *****
15920 00002B9A 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   178
PROGRAM NAME =

15921 00002B9C 00000000                   DATA FOR SOURCE-LINE 1043
15922                                     ***** END-POOL *****
15923 00002BA0                   4617             .ALIGN  4                               ;
15924 00002BA0                   4618     _LENGH_ADD_CALC:
15925                            4619             SUB_START
15926 00002BA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
15927                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15928 00002BA2 D50B              4620             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
15929 00002BA4 2512              4621             MOV.L   R1,@R5                          ;
15930 00002BA6 1521              4622             MOV.L   R2,@(4,R5)                      ;
15931                            4623     
15932                            4624     ;       ===2004-12-20 ===================
15933                            4625             PUSH_REG1 R5
15934 00002BA8 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
15935                                 M                                           ;REG=>[SP]
15936                                 M                                           ;"-4" FF,FF,FF,FC
15937 00002BAA D50A              4626             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
15938 00002BAC 2512              4627             MOV.L   R1,@R5                          ;
15939 00002BAE 1521              4628             MOV.L   R2,@(4,R5)                      ;
15940                            4629             POP_REG1 R5
15941                                 M                                   ; RE"+4" 00,00,00,04
15942 00002BB0 65F6                   M           MOV.L   @R15+,R5        ;
15943                            4630     ;       =================================
15944                            4631     
15945                            4632     ;;;;2014-09-12ﾃﾞﾝｼﾞｬﾗｽか?       MOV.L   #_LINK_PV_ABSPLS,R4             ;(ﾌﾙｸﾛｰｽﾞ時は対象
                                          を変える)
15946 00002BB2 D409              4633             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;2014-09-14
15947 00002BB4 6546              4634             MOV.L   @R4+,R5                         ;
15948 00002BB6 6642              4635             MOV.L   @R4,R6                          ;
15949                            4636             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
15950 00002BB8 0008                   M           CLRT
15951 00002BBA 326A                   M           SUBC    R6,R2
15952 00002BBC 315A                   M           SUBC    R5,R1
15953 00002BBE D407              4637             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
15954 00002BC0 2412              4638             MOV.L   R1,@R4                          ;
15955 00002BC2 1421              4639             MOV.L   R2,@(4,R4)                      ;
15956                            4640     
15957                            4641     ;       ==== MONITOR 2004-01-28 ====
15958 00002BC4 D406              4642             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
15959 00002BC6 2412              4643             MOV.L   R1,@R4                          ;
15960 00002BC8 1421              4644             MOV.L   R2,@(4,R4)                      ;
15961                            4645     
15962                            4646     
15963                            4647     
15964                            4648             SUB_END
15965                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15966 00002BCA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15967                            4649             M_RTS
15968 00002BCC 000B                   M           RTS                             ;RTSの後ろの
15969 00002BCE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15970                            4650     
15971                                     ***** BEGIN-POOL *****
15972 00002BD0 00000000                   DATA FOR SOURCE-LINE 4620
15973 00002BD4 00000000                   DATA FOR SOURCE-LINE 4626
15974 00002BD8 00000000                   DATA FOR SOURCE-LINE 4633
15975 00002BDC 00000000                   DATA FOR SOURCE-LINE 4637
15976 00002BE0 00000000                   DATA FOR SOURCE-LINE 4642
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   179
PROGRAM NAME =

15977                                     ***** END-POOL *****
15978 00002BE4                   4651             .ALIGN  4                               ;
15979 00002BE4                   4652     _LENGH_ADD_CALC_SV_TYPE:
15980                            4653             SUB_START
15981 00002BE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
15982                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15983 00002BE6 D40B              4654             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
15984 00002BE8 6542              4655             MOV.L   @R4,R5                          ;OLD_LOAD
15985 00002BEA 5641              4656             MOV.L   @(4,R4),R6                      ;
15986 00002BEC 2412              4657             MOV.L   R1,@R4                          ;
15987 00002BEE 1421              4658             MOV.L   R2,@(4,R4)                      ;NEW SAVE
15988                            4659     ;       ===2004-12-20 ===================
15989                            4660             PUSH_REG1 R4
15990 00002BF0 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
15991                                 M                                           ;REG=>[SP]
15992                                 M                                           ;"-4" FF,FF,FF,FC
15993 00002BF2 D409              4661             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
15994 00002BF4 2412              4662             MOV.L   R1,@R4                          ;
15995 00002BF6 1421              4663             MOV.L   R2,@(4,R4)                      ;
15996                            4664             POP_REG1 R4
15997                                 M                                   ; RE"+4" 00,00,00,04
15998 00002BF8 64F6                   M           MOV.L   @R15+,R4        ;
15999                            4665     ;       =================================
16000                            4666     
16001                            4667             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
16002 00002BFA 0008                   M           CLRT
16003 00002BFC 326A                   M           SUBC    R6,R2
16004 00002BFE 315A                   M           SUBC    R5,R1
16005 00002C00 D406              4668             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
16006 00002C02 2412              4669             MOV.L   R1,@R4                          ;
16007 00002C04 1421              4670             MOV.L   R2,@(4,R4)                      ;
16008                            4671     ;       ==== MONITOR 2004-01-28 ====
16009 00002C06 D406              4672             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
16010 00002C08 2412              4673             MOV.L   R1,@R4                          ;
16011 00002C0A 1421              4674             MOV.L   R2,@(4,R4)                      ;
16012                            4675     
16013                            4676             SUB_END
16014                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16015 00002C0C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16016                            4677             M_RTS
16017 00002C0E 000B                   M           RTS                             ;RTSの後ろの
16018 00002C10 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16019                            4678     
16020                            4679     ;       ===== BANK LENGTH ADD ====
16021                                     ***** BEGIN-POOL *****
16022 00002C12 0000                       ALIGNMENT CODE
16023 00002C14 00000000                   DATA FOR SOURCE-LINE 4654
16024 00002C18 00000000                   DATA FOR SOURCE-LINE 4661
16025 00002C1C 00000000                   DATA FOR SOURCE-LINE 4668
16026 00002C20 00000000                   DATA FOR SOURCE-LINE 4672
16027                                     ***** END-POOL *****
16028 00002C24                   4680             .ALIGN  4                               ;
16029 00002C24                   4681     _BANK_LENGH_ADD_CALC_SV_TYPE:
16030                            4682             SUB_START
16031 00002C24 4F22                   M           STS.L   PR,@-R15                ;[必要]
16032                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16033 00002C26 D40B              4683             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   180
PROGRAM NAME =

16034 00002C28 6542              4684             MOV.L   @R4,R5                          ;OLD_LOAD
16035 00002C2A 5641              4685             MOV.L   @(4,R4),R6                      ;
16036 00002C2C 2412              4686             MOV.L   R1,@R4                          ;
16037 00002C2E 1421              4687             MOV.L   R2,@(4,R4)                      ;NEW SAVE
16038                            4688             PUSH_REG1 R4
16039 00002C30 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
16040                                 M                                           ;REG=>[SP]
16041                                 M                                           ;"-4" FF,FF,FF,FC
16042 00002C32 D409              4689             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16043 00002C34 2412              4690             MOV.L   R1,@R4                          ;
16044 00002C36 1421              4691             MOV.L   R2,@(4,R4)                      ;
16045                            4692             POP_REG1 R4
16046                                 M                                   ; RE"+4" 00,00,00,04
16047 00002C38 64F6                   M           MOV.L   @R15+,R4        ;
16048                            4693     
16049                            4694     
16050                            4695     
16051                            4696             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
16052 00002C3A 0008                   M           CLRT
16053 00002C3C 326A                   M           SUBC    R6,R2
16054 00002C3E 315A                   M           SUBC    R5,R1
16055 00002C40 D406              4697             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
16056 00002C42 2412              4698             MOV.L   R1,@R4                          ;
16057 00002C44 1421              4699             MOV.L   R2,@(4,R4)                      ;
16058                            4700     ;       ==== MONITOR 2004-01-28 ====
16059 00002C46 D406              4701             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
16060 00002C48 2412              4702             MOV.L   R1,@R4                          ;
16061 00002C4A 1421              4703             MOV.L   R2,@(4,R4)                      ;
16062                            4704     
16063                            4705             SUB_END
16064                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16065 00002C4C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16066                            4706             M_RTS
16067 00002C4E 000B                   M           RTS                             ;RTSの後ろの
16068 00002C50 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16069                            4707     
16070                            4708     
16071                            4709     ;       ***********************************
16072                            4710     ;       ***     STOP MEM CLR            ***
16073                            4711     ;       ***********************************
16074                                     ***** BEGIN-POOL *****
16075 00002C52 0000                       ALIGNMENT CODE
16076 00002C54 00000000                   DATA FOR SOURCE-LINE 4683
16077 00002C58 00000000                   DATA FOR SOURCE-LINE 4689
16078 00002C5C 00000000                   DATA FOR SOURCE-LINE 4697
16079 00002C60 00000000                   DATA FOR SOURCE-LINE 4701
16080                                     ***** END-POOL *****
16081 00002C64                   4712             .ALIGN  4                               ;
16082 00002C64                   4713     _POS_LSI_WORK_STOP_CLR:
16083                            4714             SUB_START
16084 00002C64 4F22                   M           STS.L   PR,@-R15                ;[必要]
16085                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16086                            4715     
16087 00002C66 200A              4716             XOR     R0,R0
16088 00002C68 D105              4717             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1                         ;//符号つき TOTAL=TOTAL+AD
                                          D ADD_DATA<=0
16089 00002C6A 2102              4718             MOV.L   R0,@R1                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   181
PROGRAM NAME =

16090 00002C6C 1101              4719             MOV.L   R0,@(4,R1)                                      ;
16091 00002C6E D105              4720             MOV.L   #_LNGTH_ADD_DATA,R1                             ;//符号付き
16092 00002C70 2102              4721             MOV.L   R0,@R1                                          ;
16093 00002C72 1101              4722             MOV.L   R0,@(4,R1)                                      ;
16094 00002C74 D104              4723             MOV.L   #_OUTPLS_MOD,R1                                 ;
16095 00002C76 2102              4724             MOV.L   R0,@R1                                          ;
16096                            4725     
16097                            4726             SUB_END
16098                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16099 00002C78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16100                            4727             M_RTS
16101 00002C7A 000B                   M           RTS                             ;RTSの後ろの
16102 00002C7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16103                            4728     
16104                            4729     ;       *******************************************
16105                            4730     ;       ***                                     ***
16106                            4731     ;       *******************************************
16107                                     ***** BEGIN-POOL *****
16108 00002C7E 0000                       ALIGNMENT CODE
16109 00002C80 00000000                   DATA FOR SOURCE-LINE 4717
16110 00002C84 00000000                   DATA FOR SOURCE-LINE 4720
16111 00002C88 00000000                   DATA FOR SOURCE-LINE 4723
16112                                     ***** END-POOL *****
16113 00002C8C                   4732             .ALIGN  4                               ;
16114 00002C8C                   4733     _POS_LSI_WORK_STOP2;
16115                            4734             SUB_START
16116 00002C8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16117                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16118                            4735             FAR_JSR #_OutputPLS_REG_CLR,R0          ;
16119 00002C8E D004                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16120 00002C90 400B                   M           JSR     @R0                     ;
16121 00002C92 0009                   M           NOP                                     ;
16122 00002C94 200A              4736             XOR     R0,R0                           ;
16123 00002C96 D103              4737             MOV.L   #_POSLSI_CMP_DATA,R1            ;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
16124 00002C98 2102              4738             MOV.L   R0,@R1                          ;
16125                            4739             SUB_END
16126                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16127 00002C9A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16128                            4740             M_RTS
16129 00002C9C 000B                   M           RTS                             ;RTSの後ろの
16130 00002C9E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16131                            4741     ;       ***********************************
16132                            4742     ;       ***                             ***
16133                            4743     ;       ***                             ***
16134                            4744     ;       ***                             ***
16135                            4745     ;       ***********************************
16136                                     ***** BEGIN-POOL *****
16137 00002CA0 00000000                   DATA FOR SOURCE-LINE 4735
16138 00002CA4 00000000                   DATA FOR SOURCE-LINE 4737
16139                                     ***** END-POOL *****
16140 00002CA8                   4746             .ALIGN  4
16141 00002CA8                   4747     _EMG_POS_FLG_PROC:
16142                            4748             SUB_START
16143 00002CA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16144                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16145                            4749             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
16146 00002CAA D013                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   182
PROGRAM NAME =

16147 00002CAC 400B                   M           JSR     @R0                     ;
16148 00002CAE 0009                   M           NOP                                     ;
16149                            4750     
16150 00002CB0 9021              4751             MOV.W   #BIT6,R0                        ;位置決め完了
16151 00002CB2 D112              4752             MOV.L   #_INT_CYC_DRV_STS,R1            ;//BIT0=1(終了:ﾃﾞｰﾀ保証あり)
16152 00002CB4 2101              4753             MOV.W   R0,@R1                          ;
16153                            4754     
16154 00002CB6 D112              4755             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
16155 00002CB8 200A              4756             XOR     R0,R0                           ;
16156 00002CBA 2101              4757             MOV.W   R0,@R1                          ;
16157                            4758     
16158                            4759     ;;      .AIF    1 EQ 1  ;
16159                            4760     ;;      .AENDI
16160 00002CBC 200A              4761             XOR     R0,R0
16161 00002CBE D111              4762             MOV.L   #_INT_DND_NEG_STEP,R1           ;//2003-01-27 1 EQ 1    ;
16162 00002CC0 2101              4763             MOV.W   R0,@R1                          ;
16163 00002CC2 D111              4764             MOV.L   #_DNDINC_CTRL_STEP,R1           ;2006-07-28
16164 00002CC4 2101              4765             MOV.W   R0,@R1                          ;
16165                            4766     
16166                            4767             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
16167 00002CC6 D011                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16168 00002CC8 400B                   M           JSR     @R0                     ;
16169 00002CCA 0009                   M           NOP                                     ;
16170                            4768             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
16171 00002CCC D010                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16172 00002CCE 400B                   M           JSR     @R0                     ;
16173 00002CD0 0009                   M           NOP                                     ;
16174                            4769     
16175                            4770     ;       ---     [2009-10-07下振子]      ---
16176                            4771             FAR_JSR #_DNM_DATA_CLR,R0                       ;
16177 00002CD2 D010                   M           MOV.L   #_DNM_DATA_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16178 00002CD4 400B                   M           JSR     @R0                     ;
16179 00002CD6 0009                   M           NOP                                     ;
16180                            4772     
16181                            4773     ;       ------------寸動からの上限指令 2013-02-15--
16182 00002CD8 200A              4774             XOR     R0,R0                   ;
16183 00002CDA D10F              4775             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
16184 00002CDC 2101              4776             MOV.W   R0,@R1                  ;
16185                            4777     
16186                            4778     ;       ------------ 2013-07-13
16187                            4779             FAR_JSR #_EXQ_POS_FLG_PROC,R0
16188 00002CDE D00F                   M           MOV.L   #_EXQ_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16189 00002CE0 400B                   M           JSR     @R0                     ;
16190 00002CE2 0009                   M           NOP                                     ;
16191                            4780     
16192                            4781     ;       --------- 2013-07-18
16193 00002CE4 200A              4782             XOR     R0,R0
16194 00002CE6 D10E              4783             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
16195 00002CE8 2101              4784             MOV.W   R0,@R1                                  ;
16196                            4785     
16197                            4786     ;       --------- 2014-09-22 繰返---------------
16198                            4787             FAR_JSR #_MOT_REP_CLR,R0
16199 00002CEA D00E                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16200 00002CEC 400B                   M           JSR     @R0                     ;
16201 00002CEE 0009                   M           NOP                                     ;
16202                            4788     
16203                            4789             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   183
PROGRAM NAME =

16204                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16205 00002CF0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16206                            4790             M_RTS
16207 00002CF2 000B                   M           RTS                             ;RTSの後ろの
16208 00002CF4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16209                            4791     
16210                            4792     
16211                                     ***** BEGIN-POOL *****
16212 00002CF6 0040                       DATA FOR SOURCE-LINE 4751
16213 00002CF8 00000000                   DATA FOR SOURCE-LINE 4749
16214 00002CFC 00000000                   DATA FOR SOURCE-LINE 4752
16215 00002D00 00000000                   DATA FOR SOURCE-LINE 4755
16216 00002D04 00000000                   DATA FOR SOURCE-LINE 4762
16217 00002D08 00000000                   DATA FOR SOURCE-LINE 4764
16218 00002D0C 00000000                   DATA FOR SOURCE-LINE 4767
16219 00002D10 00000000                   DATA FOR SOURCE-LINE 4768
16220 00002D14 00000000                   DATA FOR SOURCE-LINE 4771
16221 00002D18 00000000                   DATA FOR SOURCE-LINE 4775
16222 00002D1C 00000000                   DATA FOR SOURCE-LINE 4779
16223 00002D20 00000000                   DATA FOR SOURCE-LINE 4783
16224 00002D24 00000000                   DATA FOR SOURCE-LINE 4787
16225                                     ***** END-POOL *****
16226 00002D28                   4793             .ALIGN  4
16227 00002D28                   4794     _EXQ_POS_FLG_PROC:
16228                            4795             SUB_START
16229 00002D28 4F22                   M           STS.L   PR,@-R15                ;[必要]
16230                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16231                            4796     
16232 00002D2A D118              4797             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
16233 00002D2C 200A              4798             XOR     R0,R0                   ;
16234 00002D2E 2101              4799             MOV.W   R0,@R1                  ;
16235                            4800             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
16236 00002D30 D017                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16237 00002D32 400B                   M           JSR     @R0                     ;
16238 00002D34 0009                   M           NOP                                     ;
16239                            4801             FAR_JSR #_POS_LSI_EMG_STOP,R0                   ;急停止
16240 00002D36 D017                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16241 00002D38 400B                   M           JSR     @R0                     ;
16242 00002D3A 0009                   M           NOP                                     ;
16243                            4802     
16244                            4803     ;       ==========================
16245 00002D3C 200A              4804             XOR     R0,R0                           ;
16246 00002D3E D116              4805             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
16247 00002D40 2101              4806             MOV.W   R0,@R1                          ;
16248                            4807     
16249 00002D42 200A              4808             XOR     R0,R0                           ;
16250                            4809             REG_MOV_TO_MEM  DST_ADR=_POS_LSI_ACS_ERR_FLG1   ,L1=W,DT_REG=R0,WKREG1=R1       ;L
                                          SI異常
16251 00002D44 D115                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1       ;DST_ADR
16252 00002D46 2101                   M           MOV.W   R0,@R1  ;DST_ADR
16253                            4810             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
16254 00002D48 D115                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1  ;DST_ADR
16255 00002D4A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
16256                            4811             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
16257 00002D4C D115                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1  ;DST_ADR
16258 00002D4E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
16259                            4812     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   184
PROGRAM NAME =

16260                            4813             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0
16261 00002D50 D015                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16262 00002D52 400B                   M           JSR     @R0                     ;
16263 00002D54 0009                   M           NOP                                     ;
16264                            4814     
16265                            4815             .AIF    0 EQ    0
16266                            4816 C   
16267                            4817 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
16268 00002D56 D015                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16269 00002D58 400B                   M           JSR     @R0                     ;
16270 00002D5A 0009                   M           NOP                                     ;
16271                            4818             .AENDI
16272                            4819     
16273                            4820     
16274                            4821             .AIF    0 EQ    0
16275                            4822 C           FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
16276 00002D5C D014                   M           MOV.L   #_API_IVW_CYC_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16277 00002D5E 400B                   M           JSR     @R0                     ;
16278 00002D60 0009                   M           NOP                                     ;
16279                            4823             .AENDI
16280                            4824     
16281                            4825     ;       -2012-05-30 反転
16282                            4826             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
16283 00002D62 D014                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16284 00002D64 400B                   M           JSR     @R0                     ;
16285 00002D66 0009                   M           NOP                                     ;
16286                            4827     
16287                            4828     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
16288                            4829             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
16289                            4830 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
16290 00002D68 D013                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16291 00002D6A 400B                   M           JSR     @R0                     ;
16292 00002D6C 0009                   M           NOP                                     ;
16293                            4831 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
16294 00002D6E D013                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16295 00002D70 400B                   M           JSR     @R0                     ;
16296 00002D72 0009                   M           NOP                                     ;
16297                            4832             .AENDI
16298                            4833     
16299                            4834     ;       --------- 2013-07-18
16300 00002D74 200A              4835             XOR     R0,R0
16301 00002D76 D112              4836             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
16302 00002D78 2101              4837             MOV.W   R0,@R1                                  ;
16303                            4838     
16304                            4839             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
16305 00002D7A D012                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16306 00002D7C 400B                   M           JSR     @R0                     ;
16307 00002D7E 0009                   M           NOP                                     ;
16308                            4840     
16309                            4841     ;       -------- 2015-09-06(2015-07-14)-----------
16310                            4842     ;;;     _BRK_SADOU_CHG EQ 1
16311                            4843             FAR_JSR #_POS_END_MYUTIG_TIMER_CLR,R0
16312 00002D80 D011                   M           MOV.L   #_POS_END_MYUTIG_TIMER_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16313 00002D82 400B                   M           JSR     @R0                     ;
16314 00002D84 0009                   M           NOP                                     ;
16315                            4844     
16316                            4845             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   185
PROGRAM NAME =

16317                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16318 00002D86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16319                            4846             M_RTS
16320 00002D88 000B                   M           RTS                             ;RTSの後ろの
16321 00002D8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16322                            4847     
16323                            4848     ;       ***********************************
16324                            4849     ;       ***                             ***
16325                            4850     ;       ***     ﾜｰｸﾌﾗｸﾞ関係ｸﾘｱ          ***
16326                            4851     ;       ***                             ***
16327                            4852     ;       ***********************************
16328                            4853     ;       1ｻｲｸﾙ終了時
16329                                     ***** BEGIN-POOL *****
16330 00002D8C 00000000                   DATA FOR SOURCE-LINE 4797
16331 00002D90 00000000                   DATA FOR SOURCE-LINE 4800
16332 00002D94 00000000                   DATA FOR SOURCE-LINE 4801
16333 00002D98 00000000                   DATA FOR SOURCE-LINE 4805
16334 00002D9C 00000000                   DATA FOR SOURCE-LINE 4809
16335 00002DA0 00000000                   DATA FOR SOURCE-LINE 4810
16336 00002DA4 00000000                   DATA FOR SOURCE-LINE 4811
16337 00002DA8 00000000                   DATA FOR SOURCE-LINE 4813
16338 00002DAC 00000000                   DATA FOR SOURCE-LINE 4817
16339 00002DB0 00000000                   DATA FOR SOURCE-LINE 4822
16340 00002DB4 00000000                   DATA FOR SOURCE-LINE 4826
16341 00002DB8 00000000                   DATA FOR SOURCE-LINE 4830
16342 00002DBC 00000000                   DATA FOR SOURCE-LINE 4831
16343 00002DC0 00000000                   DATA FOR SOURCE-LINE 4836
16344 00002DC4 00000000                   DATA FOR SOURCE-LINE 4839
16345 00002DC8 00000000                   DATA FOR SOURCE-LINE 4843
16346                                     ***** END-POOL *****
16347 00002DCC                   4854             .ALIGN  4
16348                            4855             .EXPORT _CYC_END_POS_FLG_CLR            ;2016-04-18
16349 00002DCC                   4856     _CYC_END_POS_FLG_CLR:
16350                            4857             SUB_START
16351 00002DCC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16352                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16353 00002DCE 200A              4858             XOR     R0,R0                           ;
16354 00002DD0 D102              4859             MOV.L   #_SV_POS_CTL_STEP,R1            ;
16355 00002DD2 2101              4860             MOV.W   R0,@R1                          ;
16356                            4861     
16357                            4862     
16358                            4863             SUB_END
16359                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16360 00002DD4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16361                            4864             M_RTS
16362 00002DD6 000B                   M           RTS                             ;RTSの後ろの
16363 00002DD8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16364                            4865     ;       ***********************************
16365                            4866     ;       ***                             ***
16366                            4867     ;       ***     ﾜｰｸﾌﾗｸﾞ関係SET          ***
16367                            4868     ;       ***                             ***
16368                            4869     ;       ***********************************
16369                            4870     ;       1ｻｲｸﾙ終了時     CYCL=BIT0,SV_STEP=0
16370                            4871     ;       非常停止復帰時  CYCL=0  ,SV_STEP=0
16371                                     ***** BEGIN-POOL *****
16372 00002DDA 0000                       ALIGNMENT CODE
16373 00002DDC 00000000                   DATA FOR SOURCE-LINE 4859
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   186
PROGRAM NAME =

16374                                     ***** END-POOL *****
16375 00002DE0                   4872             .ALIGN  4                               ;
16376 00002DE0                   4873     _CYC_END_POS_FLG_SET:
16377                            4874             SUB_START
16378 00002DE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16379                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16380                            4875             MEM1_DATA_SET MEM=_INT_CYC_DRV_STS,LG=W,DATA=(BIT6+BIT0),WKREG1=R1,WKREG2=R2    ;ｻ
                                          ｲｸﾙｴﾝﾄﾞ(次回運転まで有効)
16381 00002DE2 D103                   M           MOV.L   #_INT_CYC_DRV_STS,R1            ;
16382 00002DE4 9203                   M           MOV.W   #(BIT6+BIT0),R2         ;
16383 00002DE6 2121                   M           MOV.W   R2,@R1  ;
16384                            4876             SUB_END
16385                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16386 00002DE8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16387                            4877             M_RTS
16388 00002DEA 000B                   M           RTS                             ;RTSの後ろの
16389 00002DEC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16390                            4878     
16391                            4879     ;       ***************************************************
16392                            4880     ;       ***                                             ***
16393                            4881     ;       ***                                             ***
16394                            4882     ;       ***                                             ***
16395                            4883     ;       ***             位置決めＬＳＩアクセス          ***
16396                            4884     ;       ***                                             ***
16397                            4885     ;       ***                                             ***
16398                            4886     ;       ***                                             ***
16399                            4887     ;       ***************************************************
16400                            4888     ;       ?加減速時間の演算と指令周波数の演算
16401                            4889     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
16402                            4890     ;       "_poslsi1_top"
16403                            4891     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
16404                            4892     ;       *速度周波数の演算
16405                            4893     ;       *ベース周波数=1?
16406                            4894     ;       *加速時間
16407                            4895     ;       *急停止の時間
16408                            4896     ;       ***********************************
16409                            4897     ;       ***                             ***
16410                            4898     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
16411                            4899     ;       ***                             ***
16412                            4900     ;       ***********************************
16413                            4901     ;       25MHZ*1/N*1/LATE=65535
16414                            4902     
16415                            4903             .EXPORT _POS_LSI_HARD_INITAL
16416                            4904             .EXPORT _POS_LSI_DATA_INITAL
16417                            4905     
16418                            4906             .MACRO  POS_LSI_CMD_WR ADR_REG,DAT_REG
16419                            4907             SWAP.W  \DAT_REG,\DAT_REG                               ;
16420                            4908     
16421                            4909             MOV.W   \DAT_REG,@\ADR_REG
16422                            4910             ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
16423                            4911             SWAP.W  \DAT_REG,\DAT_REG                               ;
16424                            4912             POS_LSI_WORD_DUM_LOD                                    ;
16425                            4913             MOV.W   \DAT_REG,@\ADR_REG                              ;HIGH WORD SAVE
16426                            4914             POS_LSI_WORD_DUM_LOD                                    ;
16427                            4915             .ENDM
16428                            4916     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   187
PROGRAM NAME =

16429                            4917             .MACRO  POS_LSI_BIT_SET_LG ADR,MEM
16430                            4918             MOV.L   #\MEM,R6                                        ;
16431                            4919             MOV.L   @R6,R5                                          ;
16432                            4920             OR      R4,R5                                           ;
16433                            4921             MOV.L   R5,@R6                                          ;SAVE
16434                            4922     
16435                            4923             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
16436                            4924             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
16437                            4925             .ENDM
16438                            4926     
16439                            4927     
16440                            4928             .MACRO  POS_LSI_BIT_CLR_LG ADR,MEM
16441                            4929             MOV.L   #\MEM,R6                                        ;
16442                            4930             MOV.L   @R6,R5                                          ;
16443                            4931             AND     R4,R5                                           ;
16444                            4932             MOV.L   R5,@R6                                          ;SAVE
16445                            4933     
16446                            4934             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
16447                            4935             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
16448                            4936             .ENDM
16449                            4937     
16450                            4938     ;AND R3 対象BIT
16451                            4939     ;OR  R4 転送BIT
16452                            4940             .MACRO  POS_LSI_BIT_MOV_LG ADR,MEM
16453                            4941             MOV.L   #\MEM,R6                                        ;
16454                            4942             MOV.L   @R6,R5                                          ;
16455                            4943             NOT     R3,R3                                           ;
16456                            4944             AND     R3,R5                                           ;
16457                            4945             OR      R4,R5                                           ;
16458                            4946             MOV.L   R5,@R6                                          ;SAVE
16459                            4947     
16460                            4948             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
16461                            4949             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
16462                            4950             .ENDM
16463                            4951     
16464                            4952     
16465                            4953     
16466                            4954     ;       ***************************************************
16467                            4955     ;       ***     位置決めＬＳＩ 32BIT DATA WRITE         ***
16468                            4956     ;       ***     払出ﾊﾟﾙｽ設定
16469                            4957     ;       ********************************************
16470                            4958     
16471                            4959             .MACRO  POS_LSI_32BIT_DAT_SET ADR,ADR_REG,DAT_REG
16472                            4960             PUSH_REG1 \ADR_REG
16473                            4961             PUSH_REG1 \DAT_REG
16474                            4962             POS_LSI_WORD_DUM_LOD                                    ;
16475                            4963             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,\ADR_REG           ;
16476                            4964             MOV.W   \DAT_REG,@\ADR_REG                              ;(LOW)
16477                            4965             ADD     #2,\ADR_REG                                     ;
16478                            4966             SWAP.W  \DAT_REG,\DAT_REG                               ;
16479                            4967             POS_LSI_WORD_DUM_LOD                                    ;
16480                            4968             MOV.W   \DAT_REG,@\ADR_REG                              ;(HIGH)
16481                            4969             POS_LSI_WORD_DUM_LOD                                    ;
16482                            4970             POP_REG1 \DAT_REG
16483                            4971             POP_REG1 \ADR_REG
16484                            4972             .ENDM
16485                            4973     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   188
PROGRAM NAME =

16486                            4974     
16487                            4975     ;       *******************************************
16488                            4976     ;       ***                                     ***
16489                            4977     ;       ***                                     ***
16490                            4978     ;       ***                                     ***
16491                            4979     ;       *******************************************
16492                                     ***** BEGIN-POOL *****
16493 00002DEE 0041                       DATA FOR SOURCE-LINE 4875
16494 00002DF0 00000000                   DATA FOR SOURCE-LINE 4875
16495                                     ***** END-POOL *****
16496 00002DF4                   4980             .ALIGN  4                               ;
16497 00002DF4                   4981     _POS_LSI_HARD_INITAL:
16498                            4982             SUB_START
16499 00002DF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16500                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16501                            4983     ;       ==========================================
16502 00002DF6 D60E              4984             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R6         ;
16503                            4985             .AIF    1 EQ 1          ;2006-09-19
16504 00002DF8 9519              4986 C           MOV.W   #H'100*(B'01000011)+(B'11000100),R5
16505                            4987 C                                                                   ;B相進み
16506                            4988 C                                                                   ;BIT7,BIT6=1,1 +OT,-OT無効
16507                            4989 C                                                                   ;BIT9,BIT8=1,1 自動加減速
                                          無効
16508                            4990 C                                                                   ;BIT14         外部ｹﾞｰﾄ無
                                          効
16509                            4991             .AELSE
16510                            4992             MOV.W   #H'100*(B'01000000)+(B'11000100),R5
16511                            4993                                                                     ;B相進み
16512                            4994                                                                     ;BIT7,BIT6=1   +OT,-OT無効
16513                            4995                                                                     ;BIT9,BIT8=0,0 自動加減速
                                          有効
16514                            4996                                                                     ;BIT14         外部ｹﾞｰﾄ無
                                          効
16515                            4997             .AENDI
16516 00002DFA 2651              4998             MOV.W   R5,@R6                                          ;
16517                            4999     ;BIT0=0(正転PLS/逆転PLS 2PLS MODE)
16518                            5000     ;BIT1=0 帰還有効
16519                            5001     ;BIT2=1 A相進み
16520                            5002     ;BIT4,3=0 90位相;
16521                            5003     ;BIT13=0速度16ﾋﾞｯﾄ　=1:20ﾋﾞｯﾄ
16522                            5004     ;
16523                            5005     ;       ======= ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽｶｳﾝﾄ開始    ============
16524 00002DFC D50D              5006             MOV.L   #BIT2,R5                                        ;
16525 00002DFE D60E              5007             MOV.L   #_LSI_BUF_PLS_BitComdL,R6                       ;
16526 00002E00 2652              5008             MOV.L   R5,@R6                                          ;MOTROLA 32BIT DATA
16527                            5009     
16528 00002E02 D40C              5010             MOV.L   #BIT2,R4                                                ;
16529                            5011             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;BIT2(BIT18)
16530 00002E04 D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
16531 00002E06 6562                   M           MOV.L   @R6,R5                                          ;
16532 00002E08 254B                   M           OR      R4,R5                                           ;
16533 00002E0A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
16534                                 M   
16535 00002E0C D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
16536                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
16537 00002E0E 6559                   M           SWAP.W  R5,R5                           ;
16538                                 M   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   189
PROGRAM NAME =

16539 00002E10 2651                   M           MOV.W   R5,@R6
16540 00002E12 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
16541 00002E14 6559                   M           SWAP.W  R5,R5                           ;
16542                                 M           POS_LSI_WORD_DUM_LOD                                    ;
16543                                 M           PUSH_REG1 R0
16544 00002E16 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16545                                 M                                           ;REG=>[SP]
16546                                 M                                           ;"-4" FF,FF,FF,FC
16547 00002E18 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
16548 00002E1A 6001                   M           MOV.W   @R0,R0
16549                                 M           POP_REG1 R0
16550                                 M                                   ; RE"+4" 00,00,00,04
16551 00002E1C 60F6                   M           MOV.L   @R15+,R0        ;
16552 00002E1E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
16553                                 M           POS_LSI_WORD_DUM_LOD                                    ;
16554                                 M           PUSH_REG1 R0
16555 00002E20 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16556                                 M                                           ;REG=>[SP]
16557                                 M                                           ;"-4" FF,FF,FF,FC
16558 00002E22 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
16559 00002E24 6001                   M           MOV.W   @R0,R0
16560                                 M           POP_REG1 R0
16561                                 M                                   ; RE"+4" 00,00,00,04
16562 00002E26 60F6                   M           MOV.L   @R15+,R0        ;
16563                            5012     
16564                            5013             SUB_END
16565                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16566 00002E28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16567                            5014             M_RTS
16568 00002E2A 000B                   M           RTS                             ;RTSの後ろの
16569 00002E2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16570                            5015     
16571                            5016     ;       ***********************************
16572                            5017     ;       ***                             ***
16573                            5018     ;       ***     ﾒｲﾝﾃﾞｰﾀ受信後           ***
16574                            5019     ;       ***                             ***
16575                            5020     ;       ***********************************
16576                                     ***** BEGIN-POOL *****
16577 00002E2E 43C4                       DATA FOR SOURCE-LINE 4986
16578 00002E30 00000000                   DATA FOR SOURCE-LINE 4984
16579 00002E34 00000004                   DATA FOR SOURCE-LINE 5006,5010
16580 00002E38 00000000                   DATA FOR SOURCE-LINE 5007,5011
16581 00002E3C 00000000                   DATA FOR SOURCE-LINE 5011
16582 00002E40 00000000                   DATA FOR SOURCE-LINE 5011,5011
16583                                     ***** END-POOL *****
16584 00002E44                   5021             .ALIGN  4                               ;
16585 00002E44                   5022     _POS_LSI_DATA_INITAL:
16586                            5023             SUB_START
16587 00002E44 4F22                   M           STS.L   PR,@-R15                ;[必要]
16588                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16589                            5024             FAR_JSR #_POS_LSI_SPDLATE_SET,R0        ;(本当は1回だけ)
16590 00002E46 D006                   M           MOV.L   #_POS_LSI_SPDLATE_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16591 00002E48 400B                   M           JSR     @R0                     ;
16592 00002E4A 0009                   M           NOP                                     ;
16593                            5025             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;(本当は1回だけ)
16594 00002E4C D005                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   190
PROGRAM NAME =

16595 00002E4E 400B                   M           JSR     @R0                     ;
16596 00002E50 0009                   M           NOP                                     ;
16597                            5026             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
16598 00002E52 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
16599 00002E54 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
16600 00002E56 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
16601 00002E58 2322                   M           MOV.L   R2,@R3  ;DST_ADR
16602                            5027     
16603                            5028     
16604                            5029     
16605                            5030     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速(意味無し)
16606                            5031     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
16607                            5032     
16608                            5033             SUB_END
16609                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16610 00002E5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16611                            5034             M_RTS
16612 00002E5C 000B                   M           RTS                             ;RTSの後ろの
16613 00002E5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16614                            5035     
16615                            5036     
16616                            5037     ;       ***********************************
16617                            5038     ;       ***                             ***
16618                            5039     ;       ***     起動前ｲﾆｼｬﾙ             ***
16619                            5040     ;       ***                             ***
16620                            5041     ;       ***********************************
16621                                     ***** BEGIN-POOL *****
16622 00002E60 00000000                   DATA FOR SOURCE-LINE 5024
16623 00002E64 00000000                   DATA FOR SOURCE-LINE 5025
16624 00002E68 00000000                   DATA FOR SOURCE-LINE 5026
16625 00002E6C 00000000                   DATA FOR SOURCE-LINE 5026
16626                                     ***** END-POOL *****
16627 00002E70                   5042             .ALIGN  4                               ;
16628 00002E70                   5043     _POS_LSI_START_INITAL:
16629                            5044             SUB_START
16630 00002E70 4F22                   M           STS.L   PR,@-R15                ;[必要]
16631                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16632                            5045     
16633                            5046     ;       ===== 本当は不要だけど、ﾃﾞﾊﾞｯｸ完了までは======
16634                            5047     
16635                            5048     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
16636                            5049             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;
16637 00002E72 D006                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16638 00002E74 400B                   M           JSR     @R0                     ;
16639 00002E76 0009                   M           NOP                                     ;
16640                            5050             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
16641 00002E78 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
16642 00002E7A 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
16643 00002E7C D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
16644 00002E7E 2322                   M           MOV.L   R2,@R3  ;DST_ADR
16645                            5051     
16646                            5052     
16647                            5053     
16648                            5054     
16649                            5055     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
16650                            5056     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
16651                            5057             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   191
PROGRAM NAME =

16652 00002E80 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16653 00002E82 400B                   M           JSR     @R0                     ;
16654 00002E84 0009                   M           NOP                                     ;
16655                            5058     
16656                            5059             SUB_END
16657                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16658 00002E86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16659                            5060             M_RTS
16660 00002E88 000B                   M           RTS                             ;RTSの後ろの
16661 00002E8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16662                            5061     ;       ***********************************
16663                            5062     ;       ***                             ***
16664                            5063     ;       ***     起動前ｲﾆｼｬﾙ             ***
16665                            5064     ;       ***                             ***
16666                            5065     ;       ***********************************
16667                                     ***** BEGIN-POOL *****
16668 00002E8C 00000000                   DATA FOR SOURCE-LINE 5049
16669 00002E90 00000000                   DATA FOR SOURCE-LINE 5050
16670 00002E94 00000000                   DATA FOR SOURCE-LINE 5050
16671 00002E98 00000000                   DATA FOR SOURCE-LINE 5057
16672                                     ***** END-POOL *****
16673 00002E9C                   5066             .ALIGN  4                               ;
16674 00002E9C                   5067     _POS_LSI_START_INITL2:
16675                            5068             SUB_START
16676 00002E9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16677                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16678                            5069     
16679                            5070     
16680                            5071     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
16681                            5072             FAR_JSR #_POS_LSI_CLS_BAS_SPD_SET,R0    ;
16682 00002E9E D006                   M           MOV.L   #_POS_LSI_CLS_BAS_SPD_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16683 00002EA0 400B                   M           JSR     @R0                     ;
16684 00002EA2 0009                   M           NOP                                     ;
16685                            5073             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
16686 00002EA4 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
16687 00002EA6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
16688 00002EA8 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
16689 00002EAA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
16690                            5074     
16691                            5075     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
16692                            5076     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
16693                            5077             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
16694 00002EAC D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16695 00002EAE 400B                   M           JSR     @R0                     ;
16696 00002EB0 0009                   M           NOP                                     ;
16697                            5078     
16698                            5079             SUB_END
16699                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16700 00002EB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16701                            5080             M_RTS
16702 00002EB4 000B                   M           RTS                             ;RTSの後ろの
16703 00002EB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16704                            5081     
16705                            5082     ;       ***********************************
16706                            5083     ;       ***                             ***
16707                            5084     ;       ***     起動前ｲﾆｼｬﾙ             ***
16708                            5085     ;       ***     2013-06-13              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   192
PROGRAM NAME =

16709                            5086     ;       ***********************************
16710                                     ***** BEGIN-POOL *****
16711 00002EB8 00000000                   DATA FOR SOURCE-LINE 5072
16712 00002EBC 00000000                   DATA FOR SOURCE-LINE 5073
16713 00002EC0 00000000                   DATA FOR SOURCE-LINE 5073
16714 00002EC4 00000000                   DATA FOR SOURCE-LINE 5077
16715                                     ***** END-POOL *****
16716 00002EC8                   5087             .ALIGN  4                               ;
16717 00002EC8                   5088     _POS_LSI_START_INITAL_TEP:
16718                            5089             SUB_START
16719 00002EC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16720                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16721                            5090     
16722                            5091             FAR_JSR #_POS_LSI_TEP_BAS_SPEED_SET,R0
16723 00002ECA D006                   M           MOV.L   #_POS_LSI_TEP_BAS_SPEED_SET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16724 00002ECC 400B                   M           JSR     @R0                     ;
16725 00002ECE 0009                   M           NOP                                     ;
16726                            5092             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
16727 00002ED0 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
16728 00002ED2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
16729 00002ED4 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
16730 00002ED6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
16731                            5093             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
16732 00002ED8 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16733 00002EDA 400B                   M           JSR     @R0                     ;
16734 00002EDC 0009                   M           NOP                                     ;
16735                            5094     
16736                            5095             SUB_END
16737                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16738 00002EDE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16739                            5096             M_RTS
16740 00002EE0 000B                   M           RTS                             ;RTSの後ろの
16741 00002EE2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16742                            5097     
16743                            5098     ;       ***********************************
16744                            5099     ;       ***                             ***
16745                            5100     ;       ***     指令ﾊﾟﾙｽﾚｼﾞｽﾀｸﾘｱ        ***
16746                            5101     ;       ***                             ***
16747                            5102     ;       ***********************************
16748                            5103     ;       2004-02-19
16749                                     ***** BEGIN-POOL *****
16750 00002EE4 00000000                   DATA FOR SOURCE-LINE 5091
16751 00002EE8 00000000                   DATA FOR SOURCE-LINE 5092
16752 00002EEC 00000000                   DATA FOR SOURCE-LINE 5092
16753 00002EF0 00000000                   DATA FOR SOURCE-LINE 5093
16754                                     ***** END-POOL *****
16755 00002EF4                   5104             .ALIGN  4                               ;
16756 00002EF4                   5105     _OutputPLS_REG_CLR:
16757                            5106             SUB_START
16758 00002EF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16759                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16760                            5107             PUSH_ALL
16761                                 M           PUSH_REG1       R0      ;
16762 00002EF6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16763                                 M                                           ;REG=>[SP]
16764                                 M                                           ;"-4" FF,FF,FF,FC
16765                                 M           PUSH_REG1       R1      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   193
PROGRAM NAME =

16766 00002EF8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
16767                                 M                                           ;REG=>[SP]
16768                                 M                                           ;"-4" FF,FF,FF,FC
16769                                 M           PUSH_REG1       R2      ;
16770 00002EFA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
16771                                 M                                           ;REG=>[SP]
16772                                 M                                           ;"-4" FF,FF,FF,FC
16773                                 M           PUSH_REG1       R3      ;
16774 00002EFC 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
16775                                 M                                           ;REG=>[SP]
16776                                 M                                           ;"-4" FF,FF,FF,FC
16777                                 M           PUSH_REG1       R4      ;
16778 00002EFE 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
16779                                 M                                           ;REG=>[SP]
16780                                 M                                           ;"-4" FF,FF,FF,FC
16781                                 M           PUSH_REG1       R5      ;
16782 00002F00 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
16783                                 M                                           ;REG=>[SP]
16784                                 M                                           ;"-4" FF,FF,FF,FC
16785                                 M           PUSH_REG1       R6      ;
16786 00002F02 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
16787                                 M                                           ;REG=>[SP]
16788                                 M                                           ;"-4" FF,FF,FF,FC
16789                                 M           PUSH_REG1       R7      ;
16790 00002F04 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
16791                                 M                                           ;REG=>[SP]
16792                                 M                                           ;"-4" FF,FF,FF,FC
16793                                 M           PUSH_REG1       R8      ;
16794 00002F06 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
16795                                 M                                           ;REG=>[SP]
16796                                 M                                           ;"-4" FF,FF,FF,FC
16797                                 M           PUSH_REG1       R9      ;
16798 00002F08 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
16799                                 M                                           ;REG=>[SP]
16800                                 M                                           ;"-4" FF,FF,FF,FC
16801                                 M           PUSH_REG1       R10     ;
16802 00002F0A 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
16803                                 M                                           ;REG=>[SP]
16804                                 M                                           ;"-4" FF,FF,FF,FC
16805                                 M           PUSH_REG1       R11     ;
16806 00002F0C 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
16807                                 M                                           ;REG=>[SP]
16808                                 M                                           ;"-4" FF,FF,FF,FC
16809                                 M           PUSH_REG1       R12     ;
16810 00002F0E 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
16811                                 M                                           ;REG=>[SP]
16812                                 M                                           ;"-4" FF,FF,FF,FC
16813                                 M           PUSH_REG1       R13     ;
16814 00002F10 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
16815                                 M                                           ;REG=>[SP]
16816                                 M                                           ;"-4" FF,FF,FF,FC
16817                                 M           PUSH_REG1       R14     ;
16818 00002F12 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
16819                                 M                                           ;REG=>[SP]
16820                                 M                                           ;"-4" FF,FF,FF,FC
16821                                 M           PUSH_MACHL              ;
16822 00002F14 4F02                   M           STS.L   MACH,@-R15
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   194
PROGRAM NAME =

16823 00002F16 4F12                   M           STS.L   MACL,@-R15
16824                                 M           PUSH_SYS_REG    GBR     ;
16825 00002F18 4F13                   M           STC.L   GBR,@-R15
16826                                 M           .AIF    2 EQ 3
16827                                             .AELSE
16828                                 C           PUSH_FPU_ALL            ;2001-07-08
16829                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
16830 00002F1A 4F52                   M           STS.L   FPUL,@-R15
16831 00002F1C 4F62                   M           STS.L   FPSCR,@-R15
16832                                 M                   PUSH_FPU_REG1 FR0       ;
16833 00002F1E FF0B                   M           FMOV.S  FR0,@-R15
16834                                 M                   PUSH_FPU_REG1 FR1       ;
16835 00002F20 FF1B                   M           FMOV.S  FR1,@-R15
16836                                 M                   PUSH_FPU_REG1 FR2       ;
16837 00002F22 FF2B                   M           FMOV.S  FR2,@-R15
16838                                 M                   PUSH_FPU_REG1 FR3       ;
16839 00002F24 FF3B                   M           FMOV.S  FR3,@-R15
16840                                 M                   PUSH_FPU_REG1 FR4       ;
16841 00002F26 FF4B                   M           FMOV.S  FR4,@-R15
16842                                 M           .AENDI
16843 00002F28 200A              5108             XOR     R0,R0                                   ;
16844 00002F2A D127              5109             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;//CLR処理そのもの
16845 00002F2C 2101              5110             MOV.W   R0,@R1                                  ;
16846                            5111     
16847                            5112             TIM_CNT_ADD MEM=_LSI_PLSCLR_AC_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
16848 00002F2E D127                   M           MOV.L   #_LSI_PLSCLR_AC_CNT1,R1         ;
16849 00002F30 6012                   M           MOV.L   @R1,R0  ;
16850 00002F32 7001                   M           ADD     #1,R0           ;
16851 00002F34 2102                   M           MOV.L   R0,@R1  ;
16852                            5113     
16853                            5114     
16854 00002F36                   5115     OutputPLS_REGCLR_LOP:
16855                            5116             FAR_JSR #_LOAD_REST_PLS,R0
16856 00002F36 D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16857 00002F38 400B                   M           JSR     @R0                     ;
16858 00002F3A 0009                   M           NOP                                     ;
16859 00002F3C D425              5117             MOV.L   #(BIT12*H'10000),R4                                             ;
16860                            5118             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
16861 00002F3E D626                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
16862 00002F40 6562                   M           MOV.L   @R6,R5                                          ;
16863 00002F42 254B                   M           OR      R4,R5                                           ;
16864 00002F44 2652                   M           MOV.L   R5,@R6                                          ;SAVE
16865                                 M   
16866 00002F46 D625                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
16867                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
16868 00002F48 6559                   M           SWAP.W  R5,R5                           ;
16869                                 M   
16870 00002F4A 2651                   M           MOV.W   R5,@R6
16871 00002F4C 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
16872 00002F4E 6559                   M           SWAP.W  R5,R5                           ;
16873                                 M           POS_LSI_WORD_DUM_LOD                                    ;
16874                                 M           PUSH_REG1 R0
16875 00002F50 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16876                                 M                                           ;REG=>[SP]
16877                                 M                                           ;"-4" FF,FF,FF,FC
16878 00002F52 D023                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   195
PROGRAM NAME =

16879 00002F54 6001                   M           MOV.W   @R0,R0
16880                                 M           POP_REG1 R0
16881                                 M                                   ; RE"+4" 00,00,00,04
16882 00002F56 60F6                   M           MOV.L   @R15+,R0        ;
16883 00002F58 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
16884                                 M           POS_LSI_WORD_DUM_LOD                                    ;
16885                                 M           PUSH_REG1 R0
16886 00002F5A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16887                                 M                                           ;REG=>[SP]
16888                                 M                                           ;"-4" FF,FF,FF,FC
16889 00002F5C D020                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
16890 00002F5E 6001                   M           MOV.W   @R0,R0
16891                                 M           POP_REG1 R0
16892                                 M                                   ; RE"+4" 00,00,00,04
16893 00002F60 60F6                   M           MOV.L   @R15+,R0        ;
16894                            5119     
16895                            5120     ;(DE LATCHしない)       FAR_JSR #_LOAD_REST_PLS,R0                              ;
16896                            5121             POS_LSI_WORD_DUM_LOD                                                    ;
16897                                 M           PUSH_REG1 R0
16898 00002F62 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16899                                 M                                           ;REG=>[SP]
16900                                 M                                           ;"-4" FF,FF,FF,FC
16901 00002F64 D01E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
16902 00002F66 6001                   M           MOV.W   @R0,R0
16903                                 M           POP_REG1 R0
16904                                 M                                   ; RE"+4" 00,00,00,04
16905 00002F68 60F6                   M           MOV.L   @R15+,R0        ;
16906                            5122             POSLSI_RD_WR_WAIT_NOP                                                   ;
16907 00002F6A 0009                   M           NOP
16908 00002F6C 0009                   M           NOP
16909 00002F6E 0009                   M           NOP
16910 00002F70 0009                   M           NOP
16911 00002F72 0009                   M           NOP
16912 00002F74 0009                   M           NOP
16913 00002F76 0009                   M           NOP
16914 00002F78 0009                   M           NOP
16915 00002F7A 0009                   M           NOP
16916 00002F7C 0009                   M           NOP
16917                            5123     
16918 00002F7E D119              5124             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                        ;R/W 指令ﾊ
                                          ﾟﾙｽ数
16919 00002F80 6015              5125             MOV.W   @R1+,R0                                                         ;
16920                            5126             POS_LSI_WORD_DUM_LOD                                                    ;
16921                                 M           PUSH_REG1 R0
16922 00002F82 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16923                                 M                                           ;REG=>[SP]
16924                                 M                                           ;"-4" FF,FF,FF,FC
16925 00002F84 D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
16926 00002F86 6001                   M           MOV.W   @R0,R0
16927                                 M           POP_REG1 R0
16928                                 M                                   ; RE"+4" 00,00,00,04
16929 00002F88 60F6                   M           MOV.L   @R15+,R0        ;
16930 00002F8A 6011              5127             MOV.W   @R1,R0                                                          ;
16931                            5128             POS_LSI_WORD_DUM_LOD                                                    ;
16932                                 M           PUSH_REG1 R0
16933 00002F8C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16934                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   196
PROGRAM NAME =

16935                                 M                                           ;"-4" FF,FF,FF,FC
16936 00002F8E D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
16937 00002F90 6001                   M           MOV.W   @R0,R0
16938                                 M           POP_REG1 R0
16939                                 M                                   ; RE"+4" 00,00,00,04
16940 00002F92 60F6                   M           MOV.L   @R15+,R0        ;
16941                            5129     
16942 00002F94 D414              5130             MOV.L   #~(BIT12*H'10000),R4                                            ;
16943                            5131             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
16944 00002F96 D610                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
16945 00002F98 6562                   M           MOV.L   @R6,R5                                          ;
16946 00002F9A 2549                   M           AND     R4,R5                                           ;
16947 00002F9C 2652                   M           MOV.L   R5,@R6                                          ;SAVE
16948                                 M   
16949 00002F9E D60F                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
16950                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
16951 00002FA0 6559                   M           SWAP.W  R5,R5                           ;
16952                                 M   
16953 00002FA2 2651                   M           MOV.W   R5,@R6
16954 00002FA4 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
16955 00002FA6 6559                   M           SWAP.W  R5,R5                           ;
16956                                 M           POS_LSI_WORD_DUM_LOD                                    ;
16957                                 M           PUSH_REG1 R0
16958 00002FA8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16959                                 M                                           ;REG=>[SP]
16960                                 M                                           ;"-4" FF,FF,FF,FC
16961 00002FAA D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
16962 00002FAC 6001                   M           MOV.W   @R0,R0
16963                                 M           POP_REG1 R0
16964                                 M                                   ; RE"+4" 00,00,00,04
16965 00002FAE 60F6                   M           MOV.L   @R15+,R0        ;
16966 00002FB0 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
16967                                 M           POS_LSI_WORD_DUM_LOD                                    ;
16968                                 M           PUSH_REG1 R0
16969 00002FB2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
16970                                 M                                           ;REG=>[SP]
16971                                 M                                           ;"-4" FF,FF,FF,FC
16972 00002FB4 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
16973 00002FB6 6001                   M           MOV.W   @R0,R0
16974                                 M           POP_REG1 R0
16975                                 M                                   ; RE"+4" 00,00,00,04
16976 00002FB8 60F6                   M           MOV.L   @R15+,R0        ;
16977                            5132             FAR_JSR #_LOAD_REST_PLS,R0
16978 00002FBA D005                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16979 00002FBC 400B                   M           JSR     @R0                     ;
16980 00002FBE 0009                   M           NOP                                     ;
16981                            5133     
16982 00002FC0 2008              5134             TST     R0,R0                                   ;払出ﾊﾟﾙｽｸﾘｱ完了
16983                            5135             TST_BIT_ON OutputPLS_REGCLR_100                 ;
16984 00002FC2 8B13                   M           BF      OutputPLS_REGCLR_100
16985                            5136             M_BRA   OutputPLS_REGCLR_END                    ;
16986 00002FC4 A056                   M           BRA     OutputPLS_REGCLR_END
16987 00002FC6 0009                   M           NOP
16988                                     ***** BEGIN-POOL *****
16989 00002FC8 00000000                   DATA FOR SOURCE-LINE 5109
16990 00002FCC 00000000                   DATA FOR SOURCE-LINE 5112
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   197
PROGRAM NAME =

16991 00002FD0 00000000                   DATA FOR SOURCE-LINE 5116,5132
16992 00002FD4 10000000                   DATA FOR SOURCE-LINE 5117
16993 00002FD8 00000000                   DATA FOR SOURCE-LINE 5118,5131
16994 00002FDC 00000000                   DATA FOR SOURCE-LINE 5118,5131
16995 00002FE0 00000000                   DATA FOR SOURCE-LINE 5118,5118,5121,5126,5128,5131,5131
16996 00002FE4 00000000                   DATA FOR SOURCE-LINE 5124
16997 00002FE8 EFFFFFFF                   DATA FOR SOURCE-LINE 5130
16998                                     ***** END-POOL *****
16999 00002FEC                   5137     OutputPLS_REGCLR_100:
17000                            5138     
17001                            5139     ;       ==== ﾘｾｯﾄｺﾏﾝﾄﾞによるﾘｾｯﾄ失敗=====
17002                            5140             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
17003 00002FEC D111                   M           MOV.L   #_LSI_PLSCLR_NG_CNT1,R1         ;
17004 00002FEE 6012                   M           MOV.L   @R1,R0  ;
17005 00002FF0 7001                   M           ADD     #1,R0           ;
17006 00002FF2 2102                   M           MOV.L   R0,@R1  ;
17007                            5141     
17008                            5142             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
17009 00002FF4 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17010 00002FF6 400B                   M           JSR     @R0                     ;
17011 00002FF8 0009                   M           NOP                                     ;
17012 00002FFA 600B              5143             NEG     R0,R0                                                   ;
17013                            5144             POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R0   ;
17014                                 M           PUSH_REG1 R1
17015 00002FFC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
17016                                 M                                           ;REG=>[SP]
17017                                 M                                           ;"-4" FF,FF,FF,FC
17018                                 M           PUSH_REG1 R0
17019 00002FFE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17020                                 M                                           ;REG=>[SP]
17021                                 M                                           ;"-4" FF,FF,FF,FC
17022                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17023                                 M           PUSH_REG1 R0
17024 00003000 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17025                                 M                                           ;REG=>[SP]
17026                                 M                                           ;"-4" FF,FF,FF,FC
17027 00003002 D00E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17028 00003004 6001                   M           MOV.W   @R0,R0
17029                                 M           POP_REG1 R0
17030                                 M                                   ; RE"+4" 00,00,00,04
17031 00003006 60F6                   M           MOV.L   @R15+,R0        ;
17032 00003008 D10D                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
17033 0000300A 2101                   M           MOV.W   R0,@R1                          ;(LOW)
17034 0000300C 7102                   M           ADD     #2,R1                                   ;
17035 0000300E 6009                   M           SWAP.W  R0,R0                           ;
17036                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17037                                 M           PUSH_REG1 R0
17038 00003010 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17039                                 M                                           ;REG=>[SP]
17040                                 M                                           ;"-4" FF,FF,FF,FC
17041 00003012 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17042 00003014 6001                   M           MOV.W   @R0,R0
17043                                 M           POP_REG1 R0
17044                                 M                                   ; RE"+4" 00,00,00,04
17045 00003016 60F6                   M           MOV.L   @R15+,R0        ;
17046 00003018 2101                   M           MOV.W   R0,@R1                          ;(HIGH)
17047                                 M           POS_LSI_WORD_DUM_LOD                                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   198
PROGRAM NAME =

17048                                 M           PUSH_REG1 R0
17049 0000301A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17050                                 M                                           ;REG=>[SP]
17051                                 M                                           ;"-4" FF,FF,FF,FC
17052 0000301C D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17053 0000301E 6001                   M           MOV.W   @R0,R0
17054                                 M           POP_REG1 R0
17055                                 M                                   ; RE"+4" 00,00,00,04
17056 00003020 60F6                   M           MOV.L   @R15+,R0        ;
17057                                 M           POP_REG1 R0
17058                                 M                                   ; RE"+4" 00,00,00,04
17059 00003022 60F6                   M           MOV.L   @R15+,R0        ;
17060                                 M           POP_REG1 R1
17061                                 M                                   ; RE"+4" 00,00,00,04
17062 00003024 61F6                   M           MOV.L   @R15+,R1        ;
17063                            5145     
17064                            5146             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
17065 00003026 D004                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17066 00003028 400B                   M           JSR     @R0                     ;
17067 0000302A 0009                   M           NOP                                     ;
17068 0000302C 2008              5147             TST     R0,R0                                                   ;
17069                            5148             TST_BIT_ON OutputPLS_REGCLR_150                                 ;
17070 0000302E 8B09                   M           BF      OutputPLS_REGCLR_150
17071                            5149             M_BRA   OutputPLS_REGCLR_END                                    ;
17072 00003030 A020                   M           BRA     OutputPLS_REGCLR_END
17073 00003032 0009                   M           NOP
17074                            5150     
17075                                     ***** BEGIN-POOL *****
17076 00003034 00000000                   DATA FOR SOURCE-LINE 5140
17077 00003038 00000000                   DATA FOR SOURCE-LINE 5142,5146
17078 0000303C 00000000                   DATA FOR SOURCE-LINE 5144,5144,5144
17079 00003040 00000000                   DATA FOR SOURCE-LINE 5144
17080                                     ***** END-POOL *****
17081 00003044                   5151     OutputPLS_REGCLR_150:
17082                            5152             TIM_CNT_ADD MEM=_LSI_PLSCLR_RETRY_CNT1,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
17083 00003044 D107                   M           MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;
17084 00003046 6011                   M           MOV.W   @R1,R0  ;
17085 00003048 7001                   M           ADD     #1,R0           ;
17086 0000304A 2101                   M           MOV.W   R0,@R1  ;
17087 0000304C D105              5153             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1
                                          ;
17088 0000304E 6011              5154             MOV.W   @R1,R0
                                          ;
17089 00003050 9107              5155             MOV.W   #_LSI_RETRY_ERR_MAX,R1
                                          ;
17090 00003052 3016              5156             CMP/HI  R1,R0
                                          ;10=< R0
17091 00003054 890A              5157             BT      OutputPLS_REGCLR_ERR
                                          ;
17092                            5158             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
17093 00003056 D104                   M           MOV.L   #_LSI_PLSCLR_NG_CNT2,R1         ;
17094 00003058 6012                   M           MOV.L   @R1,R0  ;
17095 0000305A 7001                   M           ADD     #1,R0           ;
17096 0000305C 2102                   M           MOV.L   R0,@R1  ;
17097                            5159             M_BRA   OutputPLS_REGCLR_LOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   199
PROGRAM NAME =

                                          ;
17098 0000305E AF6A                   M           BRA     OutputPLS_REGCLR_LOP
17099 00003060 0009                   M           NOP
17100                            5160     
17101                                     ***** BEGIN-POOL *****
17102 00003062 0003                       DATA FOR SOURCE-LINE 5155
17103 00003064 00000000                   DATA FOR SOURCE-LINE 5152,5153
17104 00003068 00000000                   DATA FOR SOURCE-LINE 5158
17105                                     ***** END-POOL *****
17106 0000306C                   5161     OutputPLS_REGCLR_ERR:
17107                            5162     ;       == 異常ﾌﾗｸﾞ==
17108                            5163             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT1+BIT0),WKREG=R1
                                          ;
17109 0000306C D10F                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
17110 0000306E 6011                   M           MOV.W   @R1,R0          ;
17111 00003070 CB03                   M           OR      #(BIT1+BIT0),R0         ;
17112 00003072 2101                   M           MOV.W   R0,@R1          ;
17113                            5164     
17114 00003074                   5165     OutputPLS_REGCLR_END:
17115                            5166             POP_ALL
17116                                 M           .AIF    2 EQ 3
17117                                             .AELSE
17118                                 C           POP_FPU_ALL             ;2001-07-08
17119                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
17120 00003074 F4F9                   M           FMOV.S  @R15+,FR4
17121                                 M                   POP_FPU_REG1 FR3        ;
17122 00003076 F3F9                   M           FMOV.S  @R15+,FR3
17123                                 M                   POP_FPU_REG1 FR2        ;
17124 00003078 F2F9                   M           FMOV.S  @R15+,FR2
17125                                 M                   POP_FPU_REG1 FR1        ;
17126 0000307A F1F9                   M           FMOV.S  @R15+,FR1
17127                                 M                   POP_FPU_REG1 FR0        ;
17128 0000307C F0F9                   M           FMOV.S  @R15+,FR0
17129                                 M                   POP_SYS_FPU             ;
17130 0000307E 4F66                   M           LDS.L   @R15+,FPSCR
17131 00003080 4F56                   M           LDS.L   @R15+,FPUL
17132                                 M           .AENDI
17133                                 M           POP_SYS_REG     GBR     ;
17134 00003082 4F17                   M           LDC.L   @R15+,GBR
17135                                 M           POP_MACHL               ;
17136 00003084 4F16                   M           LDS.L   @R15+,MACL
17137 00003086 4F06                   M           LDS.L   @R15+,MACH
17138                                 M           POP_REG1        R14     ;
17139                                 M                                   ; RE"+4" 00,00,00,04
17140 00003088 6EF6                   M           MOV.L   @R15+,R14        ;
17141                                 M           POP_REG1        R13     ;
17142                                 M                                   ; RE"+4" 00,00,00,04
17143 0000308A 6DF6                   M           MOV.L   @R15+,R13        ;
17144                                 M           POP_REG1        R12     ;
17145                                 M                                   ; RE"+4" 00,00,00,04
17146 0000308C 6CF6                   M           MOV.L   @R15+,R12        ;
17147                                 M           POP_REG1        R11     ;
17148                                 M                                   ; RE"+4" 00,00,00,04
17149 0000308E 6BF6                   M           MOV.L   @R15+,R11        ;
17150                                 M           POP_REG1        R10     ;
17151                                 M                                   ; RE"+4" 00,00,00,04
17152 00003090 6AF6                   M           MOV.L   @R15+,R10        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   200
PROGRAM NAME =

17153                                 M           POP_REG1        R9      ;
17154                                 M                                   ; RE"+4" 00,00,00,04
17155 00003092 69F6                   M           MOV.L   @R15+,R9        ;
17156                                 M           POP_REG1        R8      ;
17157                                 M                                   ; RE"+4" 00,00,00,04
17158 00003094 68F6                   M           MOV.L   @R15+,R8        ;
17159                                 M           POP_REG1        R7      ;
17160                                 M                                   ; RE"+4" 00,00,00,04
17161 00003096 67F6                   M           MOV.L   @R15+,R7        ;
17162                                 M           POP_REG1        R6      ;
17163                                 M                                   ; RE"+4" 00,00,00,04
17164 00003098 66F6                   M           MOV.L   @R15+,R6        ;
17165                                 M           POP_REG1        R5      ;
17166                                 M                                   ; RE"+4" 00,00,00,04
17167 0000309A 65F6                   M           MOV.L   @R15+,R5        ;
17168                                 M           POP_REG1        R4      ;
17169                                 M                                   ; RE"+4" 00,00,00,04
17170 0000309C 64F6                   M           MOV.L   @R15+,R4        ;
17171                                 M           POP_REG1        R3      ;
17172                                 M                                   ; RE"+4" 00,00,00,04
17173 0000309E 63F6                   M           MOV.L   @R15+,R3        ;
17174                                 M           POP_REG1        R2      ;
17175                                 M                                   ; RE"+4" 00,00,00,04
17176 000030A0 62F6                   M           MOV.L   @R15+,R2        ;
17177                                 M           POP_REG1        R1      ;
17178                                 M                                   ; RE"+4" 00,00,00,04
17179 000030A2 61F6                   M           MOV.L   @R15+,R1        ;
17180                                 M           POP_REG1        R0      ;
17181                                 M                                   ; RE"+4" 00,00,00,04
17182 000030A4 60F6                   M           MOV.L   @R15+,R0        ;
17183                            5167             SUB_END
17184                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17185 000030A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17186                            5168             M_RTS
17187 000030A8 000B                   M           RTS                             ;RTSの後ろの
17188 000030AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17189                            5169     
17190                            5170     ;       ***********************************
17191                            5171     ;       ***                             ***
17192                            5172     ;       ***     急停止                  ***
17193                            5173     ;       ***                             ***
17194                            5174     ;       ***********************************
17195                                     ***** BEGIN-POOL *****
17196 000030AC 00000000                   DATA FOR SOURCE-LINE 5163
17197                                     ***** END-POOL *****
17198 000030B0                   5175             .ALIGN  4                               ;
17199 000030B0                   5176     _POS_LSI_EMG_STOP                       ;急停止
17200                            5177             SUB_START
17201 000030B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17202                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17203                            5178     
17204                            5179             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
17205 000030B2 D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17206 000030B4 400B                   M           JSR     @R0                     ;
17207 000030B6 0009                   M           NOP                                     ;
17208                            5180     
17209                            5181             FAR_JSR #_LOD_POS_STS_REG,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   201
PROGRAM NAME =

17210 000030B8 D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17211 000030BA 400B                   M           JSR     @R0                     ;
17212 000030BC 0009                   M           NOP                                     ;
17213 000030BE C804              5182             TST     #BIT2,R0                ;
17214                            5183             TST_BIT_ON POS_LSI_EMGSTOP_END
17215 000030C0 8B05                   M           BF      POS_LSI_EMGSTOP_END
17216                            5184     
17217                            5185             .AIF    1 EQ 1          ;2006-09-19
17218                            5186 C           FAR_JSR #_SPD_CTL_EMG_STOP,R0                           ;
17219 000030C2 D006                   M           MOV.L   #_SPD_CTL_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17220 000030C4 400B                   M           JSR     @R0                     ;
17221 000030C6 0009                   M           NOP                                     ;
17222                            5187 C           FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
17223 000030C8 D005                   M           MOV.L   #_POS_LSI_EMG_STOP_CMD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17224 000030CA 400B                   M           JSR     @R0                     ;
17225 000030CC 0009                   M           NOP                                     ;
17226                            5188 C   
17227                            5189             .AELSE
17228                            5190             FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
17229                            5191             .AENDI
17230                            5192     
17231 000030CE                   5193     POS_LSI_EMGSTOP_END:
17232                            5194     
17233                            5195             SUB_END
17234                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17235 000030CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17236                            5196             M_RTS
17237 000030D0 000B                   M           RTS                             ;RTSの後ろの
17238 000030D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17239                            5197     ;       ***********************************
17240                            5198     ;       ***                             ***
17241                            5199     ;       ***     減速停止                ***
17242                            5200     ;       ***                             ***
17243                            5201     ;       ***********************************
17244                                     ***** BEGIN-POOL *****
17245 000030D4 00000000                   DATA FOR SOURCE-LINE 5179
17246 000030D8 00000000                   DATA FOR SOURCE-LINE 5181
17247 000030DC 00000000                   DATA FOR SOURCE-LINE 5186
17248 000030E0 00000000                   DATA FOR SOURCE-LINE 5187
17249                                     ***** END-POOL *****
17250 000030E4                   5202             .ALIGN  4                               ;
17251 000030E4                   5203     _POS_LSI_SLOW_STOP                      ;急停止
17252                            5204             SUB_START
17253 000030E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
17254                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17255                            5205     
17256                            5206             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
17257 000030E6 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17258 000030E8 400B                   M           JSR     @R0                     ;
17259 000030EA 0009                   M           NOP                                     ;
17260                            5207     
17261                            5208             FAR_JSR #_LOD_POS_STS_REG,R0
17262 000030EC D006                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17263 000030EE 400B                   M           JSR     @R0                     ;
17264 000030F0 0009                   M           NOP                                     ;
17265 000030F2 C804              5209             TST     #BIT2,R0                        ;
17266                            5210             TST_BIT_ON POS_LSI_SLWSTOP_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   202
PROGRAM NAME =

17267 000030F4 8B02                   M           BF      POS_LSI_SLWSTOP_END
17268                            5211     
17269                            5212             .AIF    1 EQ 1          ;2006-09-19
17270                            5213 C           FAR_JSR #_SPD_CTL_SLOW_STOP,R0          ;
17271 000030F6 D005                   M           MOV.L   #_SPD_CTL_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17272 000030F8 400B                   M           JSR     @R0                     ;
17273 000030FA 0009                   M           NOP                                     ;
17274                            5214             .AELSE
17275                            5215             FAR_JSR #_POS_LSI_SLOW_STOP_CMD,R0      ;
17276                            5216             .AENDI
17277                            5217     
17278                            5218     
17279 000030FC                   5219     POS_LSI_SLWSTOP_END:
17280                            5220     
17281                            5221             SUB_END
17282                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17283 000030FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17284                            5222             M_RTS
17285 000030FE 000B                   M           RTS                             ;RTSの後ろの
17286 00003100 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17287                            5223     
17288                            5224     ;       ---------------------------------------------------
17289                            5225     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
17290                            5226     ;       ---     EMG                                     ---
17291                            5227     ;       ---------------------------------------------------
17292                                     ***** BEGIN-POOL *****
17293 00003102 0000                       ALIGNMENT CODE
17294 00003104 00000000                   DATA FOR SOURCE-LINE 5206
17295 00003108 00000000                   DATA FOR SOURCE-LINE 5208
17296 0000310C 00000000                   DATA FOR SOURCE-LINE 5213
17297                                     ***** END-POOL *****
17298 00003110                   5228             .ALIGN  4                               ;
17299 00003110                   5229     _POS_LSI_EMG_STOP_CMD:
17300                            5230             SUB_START
17301 00003110 4F22                   M           STS.L   PR,@-R15                ;[必要]
17302                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17303 00003112 D417              5231             MOV.L   #(BIT11*H'10000),R4                                     ;
17304                            5232             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
17305 00003114 D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17306 00003116 6562                   M           MOV.L   @R6,R5                                          ;
17307 00003118 254B                   M           OR      R4,R5                                           ;
17308 0000311A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17309                                 M   
17310 0000311C D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17311                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17312 0000311E 6559                   M           SWAP.W  R5,R5                           ;
17313                                 M   
17314 00003120 2651                   M           MOV.W   R5,@R6
17315 00003122 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17316 00003124 6559                   M           SWAP.W  R5,R5                           ;
17317                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17318                                 M           PUSH_REG1 R0
17319 00003126 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17320                                 M                                           ;REG=>[SP]
17321                                 M                                           ;"-4" FF,FF,FF,FC
17322 00003128 D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   203
PROGRAM NAME =

17323 0000312A 6001                   M           MOV.W   @R0,R0
17324                                 M           POP_REG1 R0
17325                                 M                                   ; RE"+4" 00,00,00,04
17326 0000312C 60F6                   M           MOV.L   @R15+,R0        ;
17327 0000312E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17328                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17329                                 M           PUSH_REG1 R0
17330 00003130 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17331                                 M                                           ;REG=>[SP]
17332                                 M                                           ;"-4" FF,FF,FF,FC
17333 00003132 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17334 00003134 6001                   M           MOV.W   @R0,R0
17335                                 M           POP_REG1 R0
17336                                 M                                   ; RE"+4" 00,00,00,04
17337 00003136 60F6                   M           MOV.L   @R15+,R0        ;
17338 00003138 0009              5233             NOP
17339                            5234             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
17340 0000313A D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17341 0000313C 400B                   M           JSR     @R0                     ;
17342 0000313E 0009                   M           NOP                                     ;
17343 00003140 0009              5235             NOP
17344 00003142 D410              5236             MOV.L   #~(BIT11*H'10000),R4            ;
17345                            5237             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
17346 00003144 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17347 00003146 6562                   M           MOV.L   @R6,R5                                          ;
17348 00003148 2549                   M           AND     R4,R5                                           ;
17349 0000314A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17350                                 M   
17351 0000314C D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17352                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17353 0000314E 6559                   M           SWAP.W  R5,R5                           ;
17354                                 M   
17355 00003150 2651                   M           MOV.W   R5,@R6
17356 00003152 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17357 00003154 6559                   M           SWAP.W  R5,R5                           ;
17358                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17359                                 M           PUSH_REG1 R0
17360 00003156 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17361                                 M                                           ;REG=>[SP]
17362                                 M                                           ;"-4" FF,FF,FF,FC
17363 00003158 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17364 0000315A 6001                   M           MOV.W   @R0,R0
17365                                 M           POP_REG1 R0
17366                                 M                                   ; RE"+4" 00,00,00,04
17367 0000315C 60F6                   M           MOV.L   @R15+,R0        ;
17368 0000315E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17369                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17370                                 M           PUSH_REG1 R0
17371 00003160 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17372                                 M                                           ;REG=>[SP]
17373                                 M                                           ;"-4" FF,FF,FF,FC
17374 00003162 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17375 00003164 6001                   M           MOV.W   @R0,R0
17376                                 M           POP_REG1 R0
17377                                 M                                   ; RE"+4" 00,00,00,04
17378 00003166 60F6                   M           MOV.L   @R15+,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   204
PROGRAM NAME =

17379                            5238             SUB_END
17380                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17381 00003168 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17382                            5239             M_RTS
17383 0000316A 000B                   M           RTS                             ;RTSの後ろの
17384 0000316C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17385                            5240     
17386                            5241     ;       ---------------------------------------------------
17387                            5242     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
17388                            5243     ;       ---     SLOW                                    ---
17389                            5244     ;       ---------------------------------------------------
17390                                     ***** BEGIN-POOL *****
17391 0000316E 0000                       ALIGNMENT CODE
17392 00003170 08000000                   DATA FOR SOURCE-LINE 5231
17393 00003174 00000000                   DATA FOR SOURCE-LINE 5232,5237
17394 00003178 00000000                   DATA FOR SOURCE-LINE 5232,5237
17395 0000317C 00000000                   DATA FOR SOURCE-LINE 5232,5232,5237,5237
17396 00003180 00000000                   DATA FOR SOURCE-LINE 5234
17397 00003184 F7FFFFFF                   DATA FOR SOURCE-LINE 5236
17398                                     ***** END-POOL *****
17399 00003188                   5245             .ALIGN  4                               ;
17400 00003188                   5246     _POS_LSI_SLOW_STOP_CMD
17401                            5247             SUB_START
17402 00003188 4F22                   M           STS.L   PR,@-R15                ;[必要]
17403                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17404 0000318A D417              5248             MOV.L   #(BIT10*H'10000),R4             ;
17405                            5249             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
17406 0000318C D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17407 0000318E 6562                   M           MOV.L   @R6,R5                                          ;
17408 00003190 254B                   M           OR      R4,R5                                           ;
17409 00003192 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17410                                 M   
17411 00003194 D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17412                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17413 00003196 6559                   M           SWAP.W  R5,R5                           ;
17414                                 M   
17415 00003198 2651                   M           MOV.W   R5,@R6
17416 0000319A 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17417 0000319C 6559                   M           SWAP.W  R5,R5                           ;
17418                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17419                                 M           PUSH_REG1 R0
17420 0000319E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17421                                 M                                           ;REG=>[SP]
17422                                 M                                           ;"-4" FF,FF,FF,FC
17423 000031A0 D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17424 000031A2 6001                   M           MOV.W   @R0,R0
17425                                 M           POP_REG1 R0
17426                                 M                                   ; RE"+4" 00,00,00,04
17427 000031A4 60F6                   M           MOV.L   @R15+,R0        ;
17428 000031A6 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17429                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17430                                 M           PUSH_REG1 R0
17431 000031A8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17432                                 M                                           ;REG=>[SP]
17433                                 M                                           ;"-4" FF,FF,FF,FC
17434 000031AA D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   205
PROGRAM NAME =

17435 000031AC 6001                   M           MOV.W   @R0,R0
17436                                 M           POP_REG1 R0
17437                                 M                                   ; RE"+4" 00,00,00,04
17438 000031AE 60F6                   M           MOV.L   @R15+,R0        ;
17439 000031B0 0009              5250             NOP
17440                            5251             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
17441 000031B2 D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17442 000031B4 400B                   M           JSR     @R0                     ;
17443 000031B6 0009                   M           NOP                                     ;
17444 000031B8 0009              5252             NOP
17445 000031BA D410              5253             MOV.L   #~(BIT10*H'10000),R4            ;
17446                            5254             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
17447 000031BC D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17448 000031BE 6562                   M           MOV.L   @R6,R5                                          ;
17449 000031C0 2549                   M           AND     R4,R5                                           ;
17450 000031C2 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17451                                 M   
17452 000031C4 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17453                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17454 000031C6 6559                   M           SWAP.W  R5,R5                           ;
17455                                 M   
17456 000031C8 2651                   M           MOV.W   R5,@R6
17457 000031CA 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17458 000031CC 6559                   M           SWAP.W  R5,R5                           ;
17459                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17460                                 M           PUSH_REG1 R0
17461 000031CE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17462                                 M                                           ;REG=>[SP]
17463                                 M                                           ;"-4" FF,FF,FF,FC
17464 000031D0 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17465 000031D2 6001                   M           MOV.W   @R0,R0
17466                                 M           POP_REG1 R0
17467                                 M                                   ; RE"+4" 00,00,00,04
17468 000031D4 60F6                   M           MOV.L   @R15+,R0        ;
17469 000031D6 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17470                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17471                                 M           PUSH_REG1 R0
17472 000031D8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17473                                 M                                           ;REG=>[SP]
17474                                 M                                           ;"-4" FF,FF,FF,FC
17475 000031DA D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17476 000031DC 6001                   M           MOV.W   @R0,R0
17477                                 M           POP_REG1 R0
17478                                 M                                   ; RE"+4" 00,00,00,04
17479 000031DE 60F6                   M           MOV.L   @R15+,R0        ;
17480                            5255     
17481                            5256             SUB_END
17482                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17483 000031E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17484                            5257             M_RTS
17485 000031E2 000B                   M           RTS                             ;RTSの後ろの
17486 000031E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17487                            5258     
17488                            5259     ;       ***********************************
17489                            5260     ;       ***                             ***
17490                            5261     ;       ***     速度変更有効            ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   206
PROGRAM NAME =

17491                            5262     ;       ***                             ***
17492                            5263     ;       ***********************************
17493                            5264     
17494                            5265     
17495                            5266     ;       ***********************************
17496                            5267     ;       ***                             ***
17497                            5268     ;       ***     起動                    ***
17498                            5269     ;       ***                             ***
17499                            5270     ;       ***********************************
17500                            5271     
17501                                     ***** BEGIN-POOL *****
17502 000031E6 0000                       ALIGNMENT CODE
17503 000031E8 04000000                   DATA FOR SOURCE-LINE 5248
17504 000031EC 00000000                   DATA FOR SOURCE-LINE 5249,5254
17505 000031F0 00000000                   DATA FOR SOURCE-LINE 5249,5254
17506 000031F4 00000000                   DATA FOR SOURCE-LINE 5249,5249,5254,5254
17507 000031F8 00000000                   DATA FOR SOURCE-LINE 5251
17508 000031FC FBFFFFFF                   DATA FOR SOURCE-LINE 5253
17509                                     ***** END-POOL *****
17510 00003200                   5272             .ALIGN  4                               ;
17511 00003200                   5273     _FWD_REV_START:
17512                            5274             SUB_START
17513 00003200 4F22                   M           STS.L   PR,@-R15                ;[必要]
17514                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17515                            5275             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
17516 00003202 D025                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17517 00003204 400B                   M           JSR     @R0                     ;
17518 00003206 0009                   M           NOP                                     ;
17519                            5276     
17520 00003208 D124              5277             MOV.L   #_POSLSI_DRIV_SHIN,R1
17521 0000320A 6011              5278             MOV.W   @R1,R0                                          ;
17522 0000320C D324              5279             MOV.L   #(BIT3*H'10000),R3                              ;
17523 0000320E 244A              5280             XOR     R4,R4                                           ;
17524 00003210 C801              5281             TST     #BIT0,R0                                        ;
17525                            5282             TST_BIT_OF FWD_REV_STR_050                              ;
17526 00003212 8900                   M           BT      FWD_REV_STR_050
17527 00003214 6433              5283             MOV     R3,R4                                           ;
17528 00003216                   5284     FWD_REV_STR_050:                                                ;
17529                            5285     ;       =============================
17530 00003216 D123              5286             MOV.L   #_SVP_MACINE_SEL1,R1                            ;
17531 00003218 6011              5287             MOV.W   @R1,R0                                          ;
17532 0000321A 913B              5288             MOV.W   #D'8765,R1                                      ;
17533 0000321C 3010              5289             CMP/EQ  R1,R0                                           ;
17534 0000321E 8B01              5290             BF      FWD_REV_STR_055                                 ;
17535 00003220 D01F              5291             MOV.L   #_DBG_XOR_SIG,R0                                ;
17536 00003222 240A              5292             XOR     R0,R4                                           ;
17537 00003224                   5293     FWD_REV_STR_055:                                                ;
17538                            5294     
17539                            5295     ;       ==方向選択==
17540                            5296             POS_LSI_BIT_MOV_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
17541 00003224 D620                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17542 00003226 6562                   M           MOV.L   @R6,R5                                          ;
17543 00003228 6337                   M           NOT     R3,R3                                           ;
17544 0000322A 2539                   M           AND     R3,R5                                           ;
17545 0000322C 254B                   M           OR      R4,R5                                           ;
17546 0000322E 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17547                                 M   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   207
PROGRAM NAME =

17548 00003230 D61E                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17549                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17550 00003232 6559                   M           SWAP.W  R5,R5                           ;
17551                                 M   
17552 00003234 2651                   M           MOV.W   R5,@R6
17553 00003236 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17554 00003238 6559                   M           SWAP.W  R5,R5                           ;
17555                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17556                                 M           PUSH_REG1 R0
17557 0000323A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17558                                 M                                           ;REG=>[SP]
17559                                 M                                           ;"-4" FF,FF,FF,FC
17560 0000323C D01C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17561 0000323E 6001                   M           MOV.W   @R0,R0
17562                                 M           POP_REG1 R0
17563                                 M                                   ; RE"+4" 00,00,00,04
17564 00003240 60F6                   M           MOV.L   @R15+,R0        ;
17565 00003242 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17566                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17567                                 M           PUSH_REG1 R0
17568 00003244 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17569                                 M                                           ;REG=>[SP]
17570                                 M                                           ;"-4" FF,FF,FF,FC
17571 00003246 D01A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17572 00003248 6001                   M           MOV.W   @R0,R0
17573                                 M           POP_REG1 R0
17574                                 M                                   ; RE"+4" 00,00,00,04
17575 0000324A 60F6                   M           MOV.L   @R15+,R0        ;
17576                            5297             POS_LSI_WORD_DUM_LOD                                                    ;
17577                                 M           PUSH_REG1 R0
17578 0000324C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17579                                 M                                           ;REG=>[SP]
17580                                 M                                           ;"-4" FF,FF,FF,FC
17581 0000324E D018                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17582 00003250 6001                   M           MOV.W   @R0,R0
17583                                 M           POP_REG1 R0
17584                                 M                                   ; RE"+4" 00,00,00,04
17585 00003252 60F6                   M           MOV.L   @R15+,R0        ;
17586                            5298     
17587                            5299     ;       == 起動 ===                                                             ;
17588 00003254 D417              5300             MOV.L   #(BIT2*H'10000),R4                                              ;
17589                            5301             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;;起動 ONｴ
                                          ｯｼﾞ
17590 00003256 D614                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17591 00003258 6562                   M           MOV.L   @R6,R5                                          ;
17592 0000325A 254B                   M           OR      R4,R5                                           ;
17593 0000325C 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17594                                 M   
17595 0000325E D613                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17596                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17597 00003260 6559                   M           SWAP.W  R5,R5                           ;
17598                                 M   
17599 00003262 2651                   M           MOV.W   R5,@R6
17600 00003264 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17601 00003266 6559                   M           SWAP.W  R5,R5                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   208
PROGRAM NAME =

17602                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17603                                 M           PUSH_REG1 R0
17604 00003268 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17605                                 M                                           ;REG=>[SP]
17606                                 M                                           ;"-4" FF,FF,FF,FC
17607 0000326A D011                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17608 0000326C 6001                   M           MOV.W   @R0,R0
17609                                 M           POP_REG1 R0
17610                                 M                                   ; RE"+4" 00,00,00,04
17611 0000326E 60F6                   M           MOV.L   @R15+,R0        ;
17612 00003270 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17613                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17614                                 M           PUSH_REG1 R0
17615 00003272 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17616                                 M                                           ;REG=>[SP]
17617                                 M                                           ;"-4" FF,FF,FF,FC
17618 00003274 D00E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17619 00003276 6001                   M           MOV.W   @R0,R0
17620                                 M           POP_REG1 R0
17621                                 M                                   ; RE"+4" 00,00,00,04
17622 00003278 60F6                   M           MOV.L   @R15+,R0        ;
17623                            5302             POS_LSI_WORD_DUM_LOD                                                    ;
17624                                 M           PUSH_REG1 R0
17625 0000327A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17626                                 M                                           ;REG=>[SP]
17627                                 M                                           ;"-4" FF,FF,FF,FC
17628 0000327C D00C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17629 0000327E 6001                   M           MOV.W   @R0,R0
17630                                 M           POP_REG1 R0
17631                                 M                                   ; RE"+4" 00,00,00,04
17632 00003280 60F6                   M           MOV.L   @R15+,R0        ;
17633                            5303     
17634                            5304             FAR_JSR #_SPD_CTL_START,R0
17635 00003282 D00D                   M           MOV.L   #_SPD_CTL_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17636 00003284 400B                   M           JSR     @R0                     ;
17637 00003286 0009                   M           NOP                                     ;
17638                            5305     
17639                            5306     
17640                            5307             .AIF    0 EQ    0
17641                            5308 C   
17642                            5309 C           FAR_JSR #_VIB_PLS_OUT_ON,R0     ;2010-08-23加振動制御
17643 00003288 D00C                   M           MOV.L   #_VIB_PLS_OUT_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17644 0000328A 400B                   M           JSR     @R0                     ;
17645 0000328C 0009                   M           NOP                                     ;
17646                            5310             .AENDI
17647                            5311     
17648                            5312     
17649                            5313     
17650                            5314     
17651                            5315             SUB_END
17652                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17653 0000328E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17654                            5316             M_RTS
17655 00003290 000B                   M           RTS                             ;RTSの後ろの
17656 00003292 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17657                            5317     
17658                            5318     ;       ==== 起動信号OFF ====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   209
PROGRAM NAME =

17659                                     ***** BEGIN-POOL *****
17660 00003294 223D                       DATA FOR SOURCE-LINE 5288
17661 00003296 0000                       ALIGNMENT CODE
17662 00003298 00000000                   DATA FOR SOURCE-LINE 5275
17663 0000329C 00000000                   DATA FOR SOURCE-LINE 5277
17664 000032A0 00080000                   DATA FOR SOURCE-LINE 5279,5291
17665 000032A4 00000000                   DATA FOR SOURCE-LINE 5286
17666 000032A8 00000000                   DATA FOR SOURCE-LINE 5296,5301
17667 000032AC 00000000                   DATA FOR SOURCE-LINE 5296,5301
17668 000032B0 00000000                   DATA FOR SOURCE-LINE 5296,5296,5297,5301,5301,5302
17669 000032B4 00040000                   DATA FOR SOURCE-LINE 5300
17670 000032B8 00000000                   DATA FOR SOURCE-LINE 5304
17671 000032BC 00000000                   DATA FOR SOURCE-LINE 5309
17672                                     ***** END-POOL *****
17673 000032C0                   5319             .ALIGN  4                               ;
17674 000032C0                   5320     _FWD_REV_STSIG_OFF:
17675                            5321             SUB_START
17676 000032C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17677                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17678 000032C2 D40B              5322             MOV.L   #~(BIT2*H'10000),R4             ;
17679                            5323             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
17680 000032C4 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17681 000032C6 6562                   M           MOV.L   @R6,R5                                          ;
17682 000032C8 2549                   M           AND     R4,R5                                           ;
17683 000032CA 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17684                                 M   
17685 000032CC D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17686                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17687 000032CE 6559                   M           SWAP.W  R5,R5                           ;
17688                                 M   
17689 000032D0 2651                   M           MOV.W   R5,@R6
17690 000032D2 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17691 000032D4 6559                   M           SWAP.W  R5,R5                           ;
17692                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17693                                 M           PUSH_REG1 R0
17694 000032D6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17695                                 M                                           ;REG=>[SP]
17696                                 M                                           ;"-4" FF,FF,FF,FC
17697 000032D8 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17698 000032DA 6001                   M           MOV.W   @R0,R0
17699                                 M           POP_REG1 R0
17700                                 M                                   ; RE"+4" 00,00,00,04
17701 000032DC 60F6                   M           MOV.L   @R15+,R0        ;
17702 000032DE 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17703                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17704                                 M           PUSH_REG1 R0
17705 000032E0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17706                                 M                                           ;REG=>[SP]
17707                                 M                                           ;"-4" FF,FF,FF,FC
17708 000032E2 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17709 000032E4 6001                   M           MOV.W   @R0,R0
17710                                 M           POP_REG1 R0
17711                                 M                                   ; RE"+4" 00,00,00,04
17712 000032E6 60F6                   M           MOV.L   @R15+,R0        ;
17713                            5324             SUB_END
17714                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   210
PROGRAM NAME =

17715 000032E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17716                            5325             M_RTS
17717 000032EA 000B                   M           RTS                             ;RTSの後ろの
17718 000032EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17719                            5326     
17720                            5327     ;       =====================
17721                            5328     ;       ==== 起動信号OFF ====
17722                            5329     ;       =====================
17723                            5330     ;       残ﾊﾟﾙｽがなくなってから指令OFF
17724                                     ***** BEGIN-POOL *****
17725 000032EE 0000                       ALIGNMENT CODE
17726 000032F0 FFFBFFFF                   DATA FOR SOURCE-LINE 5322
17727 000032F4 00000000                   DATA FOR SOURCE-LINE 5323
17728 000032F8 00000000                   DATA FOR SOURCE-LINE 5323
17729 000032FC 00000000                   DATA FOR SOURCE-LINE 5323,5323
17730                                     ***** END-POOL *****
17731 00003300                   5331             .ALIGN  4                               ;
17732 00003300                   5332     _FWD_REV_STSIG_OFF_SPEC:
17733                            5333             SUB_START
17734 00003300 4F22                   M           STS.L   PR,@-R15                ;[必要]
17735                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17736                            5334             PUSH_REG1 R0
17737 00003302 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17738                                 M                                           ;REG=>[SP]
17739                                 M                                           ;"-4" FF,FF,FF,FC
17740                            5335             FAR_JSR #_LOAD_REST_PLS,R0
17741 00003304 D00E                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17742 00003306 400B                   M           JSR     @R0                     ;
17743 00003308 0009                   M           NOP                                     ;
17744 0000330A 6103              5336             MOV     R0,R1                                           ;
17745                            5337             POP_REG1 R0
17746                                 M                                   ; RE"+4" 00,00,00,04
17747 0000330C 60F6                   M           MOV.L   @R15+,R0        ;
17748                            5338     
17749 0000330E 2118              5339             TST     R1,R1                           ;
17750                            5340             TST_BIT_ON FWD_REV_STSIG_OFSPEC_050     ;
17751 00003310 8B12                   M           BF      FWD_REV_STSIG_OFSPEC_050
17752 00003312 D40C              5341             MOV.L   #~(BIT2*H'10000),R4             ;
17753                            5342             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
17754 00003314 D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17755 00003316 6562                   M           MOV.L   @R6,R5                                          ;
17756 00003318 2549                   M           AND     R4,R5                                           ;
17757 0000331A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17758                                 M   
17759 0000331C D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17760                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17761 0000331E 6559                   M           SWAP.W  R5,R5                           ;
17762                                 M   
17763 00003320 2651                   M           MOV.W   R5,@R6
17764 00003322 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17765 00003324 6559                   M           SWAP.W  R5,R5                           ;
17766                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17767                                 M           PUSH_REG1 R0
17768 00003326 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17769                                 M                                           ;REG=>[SP]
17770                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   211
PROGRAM NAME =

17771 00003328 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17772 0000332A 6001                   M           MOV.W   @R0,R0
17773                                 M           POP_REG1 R0
17774                                 M                                   ; RE"+4" 00,00,00,04
17775 0000332C 60F6                   M           MOV.L   @R15+,R0        ;
17776 0000332E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17777                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17778                                 M           PUSH_REG1 R0
17779 00003330 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17780                                 M                                           ;REG=>[SP]
17781                                 M                                           ;"-4" FF,FF,FF,FC
17782 00003332 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17783 00003334 6001                   M           MOV.W   @R0,R0
17784                                 M           POP_REG1 R0
17785                                 M                                   ; RE"+4" 00,00,00,04
17786 00003336 60F6                   M           MOV.L   @R15+,R0        ;
17787 00003338                   5343     FWD_REV_STSIG_OFSPEC_050:
17788                            5344             SUB_END
17789                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17790 00003338 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17791                            5345             M_RTS
17792 0000333A 000B                   M           RTS                             ;RTSの後ろの
17793 0000333C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17794                            5346     
17795                            5347     ;       ***********************************
17796                            5348     ;       ***     ｽﾃｰﾀｽLOAD               ***
17797                            5349     ;       ***********************************
17798                            5350     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
17799                                     ***** BEGIN-POOL *****
17800 0000333E 0000                       ALIGNMENT CODE
17801 00003340 00000000                   DATA FOR SOURCE-LINE 5335
17802 00003344 FFFBFFFF                   DATA FOR SOURCE-LINE 5341
17803 00003348 00000000                   DATA FOR SOURCE-LINE 5342
17804 0000334C 00000000                   DATA FOR SOURCE-LINE 5342
17805 00003350 00000000                   DATA FOR SOURCE-LINE 5342,5342
17806                                     ***** END-POOL *****
17807 00003354                   5351             .ALIGN  4                               ;
17808 00003354                   5352     _LOD_POS_STS_REG:
17809                            5353             SUB_START
17810 00003354 4F22                   M           STS.L   PR,@-R15                ;[必要]
17811                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17812                            5354             PUSH_REG1 R2
17813 00003356 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
17814                                 M                                           ;REG=>[SP]
17815                                 M                                           ;"-4" FF,FF,FF,FC
17816                            5355     
17817                            5356             FAR_JSR #_LOD_POS_STS_REG_IN,R0 ;ANS R0
17818 00003358 D003                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17819 0000335A 400B                   M           JSR     @R0                     ;
17820 0000335C 0009                   M           NOP                                     ;
17821                            5357     
17822                            5358             POP_REG1 R2
17823                                 M                                   ; RE"+4" 00,00,00,04
17824 0000335E 62F6                   M           MOV.L   @R15+,R2        ;
17825                            5359             SUB_END
17826                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17827 00003360 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   212
PROGRAM NAME =

17828                            5360             M_RTS
17829 00003362 000B                   M           RTS                             ;RTSの後ろの
17830 00003364 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17831                            5361     
17832                            5362     
17833                            5363     ;       ***********************************
17834                            5364     ;       ***     ｽﾃｰﾀｽLOAD               ***
17835                            5365     ;       ***********************************
17836                            5366     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
17837                                     ***** BEGIN-POOL *****
17838 00003366 0000                       ALIGNMENT CODE
17839 00003368 00000000                   DATA FOR SOURCE-LINE 5356
17840                                     ***** END-POOL *****
17841 0000336C                   5367             .ALIGN  4                               ;
17842 0000336C                   5368     _LOD_POS_STS_REG_POR:
17843 0000336C                   5369     _LOD_POS_STS_REG_SLOW:
17844                            5370             SUB_START
17845 0000336C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17846                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17847                            5371             PUSH_REG1 R2
17848 0000336E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
17849                                 M                                           ;REG=>[SP]
17850                                 M                                           ;"-4" FF,FF,FF,FC
17851                            5372     
17852                            5373             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;ANS R0
17853 00003370 D007                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17854 00003372 400B                   M           JSR     @R0                     ;
17855 00003374 0009                   M           NOP                                     ;
17856 00003376 C804              5374             TST     #BIT2,R0                        ;
17857                            5375             TST_BIT_ON LOD_POS_STS_REGSLOW_END      ;
17858 00003378 8B05                   M           BF      LOD_POS_STS_REGSLOW_END
17859 0000337A D206              5376             MOV.L   #_POSCTL_STEP_FLG,R2            ;
17860 0000337C 6421              5377             MOV.W   @R2,R4                          ;
17861 0000337E 9206              5378             MOV.W   #BIT6,R2                        ;
17862 00003380 2428              5379             TST     R2,R4                           ;
17863                            5380             TST_BIT_OF LOD_POS_STS_REGSLOW_END      ;
17864 00003382 8900                   M           BT      LOD_POS_STS_REGSLOW_END
17865 00003384 CB04              5381             OR      #BIT2,R0                        ;
17866                            5382     
17867 00003386                   5383     LOD_POS_STS_REGSLOW_END:
17868                            5384             POP_REG1 R2
17869                                 M                                   ; RE"+4" 00,00,00,04
17870 00003386 62F6                   M           MOV.L   @R15+,R2        ;
17871                            5385             SUB_END
17872                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17873 00003388 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17874                            5386             M_RTS
17875 0000338A 000B                   M           RTS                             ;RTSの後ろの
17876 0000338C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17877                            5387     
17878                            5388     
17879                            5389     
17880                            5390     ;       ***********************************
17881                            5391     ;       ***     ｽﾃｰﾀｽLOAD               ***
17882                            5392     ;       ***********************************
17883                            5393     ;       R0 BIT2=1 STOP
17884                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   213
PROGRAM NAME =

17885 0000338E 0040                       DATA FOR SOURCE-LINE 5378
17886 00003390 00000000                   DATA FOR SOURCE-LINE 5373
17887 00003394 00000000                   DATA FOR SOURCE-LINE 5376
17888                                     ***** END-POOL *****
17889 00003398                   5394             .ALIGN  4                               ;
17890 00003398                   5395     _LOD_POS_STS_REG_IN:
17891                            5396             SUB_START
17892 00003398 4F22                   M           STS.L   PR,@-R15                ;[必要]
17893                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17894                            5397             PUSH_REG1 R2
17895 0000339A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
17896                                 M                                           ;REG=>[SP]
17897                                 M                                           ;"-4" FF,FF,FF,FC
17898                            5398     
17899 0000339C D413              5399             MOV.L   #(BIT2*H'10000),R4
17900 0000339E                   5400     LOD_POS_STSRG00:
17901                            5401             POS_LSI_WORD_DUM_LOD                                    ;
17902                                 M           PUSH_REG1 R0
17903 0000339E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17904                                 M                                           ;REG=>[SP]
17905                                 M                                           ;"-4" FF,FF,FF,FC
17906 000033A0 D013                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17907 000033A2 6001                   M           MOV.W   @R0,R0
17908                                 M           POP_REG1 R0
17909                                 M                                   ; RE"+4" 00,00,00,04
17910 000033A4 60F6                   M           MOV.L   @R15+,R0        ;
17911 000033A6 D613              5402             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
17912 000033A8 6065              5403             MOV.W   @R6+,R0                                         ;BIT1:指令ﾊﾟﾙｽ BIT2:ﾊﾟﾙｽ払
                                          出停止中
17913                            5404                                                                     ;BIT2で判断する
17914                            5405             POS_LSI_WORD_DUM_LOD                                    ;
17915                                 M           PUSH_REG1 R0
17916 000033AA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17917                                 M                                           ;REG=>[SP]
17918                                 M                                           ;"-4" FF,FF,FF,FC
17919 000033AC D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17920 000033AE 6001                   M           MOV.W   @R0,R0
17921                                 M           POP_REG1 R0
17922                                 M                                   ; RE"+4" 00,00,00,04
17923 000033B0 60F6                   M           MOV.L   @R15+,R0        ;
17924 000033B2 6261              5406             MOV.W   @R6,R2                                          ;
17925 000033B4 600D              5407             EXTU.W  R0,R0                                           ;LOW
17926 000033B6 622D              5408             EXTU.W  R2,R2                                           ;HIGH
17927 000033B8 4228              5409             SHLL16  R2
17928 000033BA 202B              5410             OR      R2,R0                                           ;
17929 000033BC 0009              5411             NOP
17930                            5412             POS_LSI_WORD_DUM_LOD                                    ;
17931                                 M           PUSH_REG1 R0
17932 000033BE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17933                                 M                                           ;REG=>[SP]
17934                                 M                                           ;"-4" FF,FF,FF,FC
17935 000033C0 D00B                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17936 000033C2 6001                   M           MOV.W   @R0,R0
17937                                 M           POP_REG1 R0
17938                                 M                                   ; RE"+4" 00,00,00,04
17939 000033C4 60F6                   M           MOV.L   @R15+,R0        ;
17940 000033C6 D60B              5413             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   214
PROGRAM NAME =

17941 000033C8 6165              5414             MOV.W   @R6+,R1                                         ;
17942                            5415             POS_LSI_WORD_DUM_LOD                                    ;
17943                                 M           PUSH_REG1 R0
17944 000033CA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17945                                 M                                           ;REG=>[SP]
17946                                 M                                           ;"-4" FF,FF,FF,FC
17947 000033CC D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17948 000033CE 6001                   M           MOV.W   @R0,R0
17949                                 M           POP_REG1 R0
17950                                 M                                   ; RE"+4" 00,00,00,04
17951 000033D0 60F6                   M           MOV.L   @R15+,R0        ;
17952 000033D2 6261              5416             MOV.W   @R6,R2                                          ;
17953 000033D4 611D              5417             EXTU.W  R1,R1                                           ;LOW
17954 000033D6 622D              5418             EXTU.W  R2,R2                                           ;HIGH
17955 000033D8 4228              5419             SHLL16  R2                                              ;
17956 000033DA 212B              5420             OR      R2,R1                                           ;
17957                            5421     
17958 000033DC 201A              5422             XOR     R1,R0                                           ;
17959 000033DE 2048              5423             TST     R4,R0                                           ;
17960                            5424             TST_BIT_ON LOD_POS_STSRG00                              ;R0=R1
17961 000033E0 8BDD                   M           BF      LOD_POS_STSRG00
17962 000033E2 6013              5425             MOV     R1,R0                                           ;BIT2
17963                            5426     
17964                            5427             POP_REG1 R2
17965                                 M                                   ; RE"+4" 00,00,00,04
17966 000033E4 62F6                   M           MOV.L   @R15+,R2        ;
17967                            5428             SUB_END
17968                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17969 000033E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17970                            5429             M_RTS
17971 000033E8 000B                   M           RTS                             ;RTSの後ろの
17972 000033EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17973                            5430     
17974                            5431     
17975                            5432     
17976                            5433     
17977                            5434     
17978                            5435     ;       ***********************************
17979                            5436     ;       ***     現在位置ｶｳﾝﾀLOAD        ***
17980                            5437     ;       ***********************************
17981                            5438             .EXPORT _POS_LSI_CNT_LOAD_R1reg
17982                                     ***** BEGIN-POOL *****
17983 000033EC 00040000                   DATA FOR SOURCE-LINE 5399
17984 000033F0 00000000                   DATA FOR SOURCE-LINE 5401,5405,5412,5415
17985 000033F4 00000000                   DATA FOR SOURCE-LINE 5402,5413
17986                                     ***** END-POOL *****
17987 000033F8                   5439             .ALIGN  4                               ;
17988 000033F8                   5440     _POS_LSI_CNT_LOAD_R1reg:
17989                            5441             SUB_START
17990 000033F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17991                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17992 000033FA D603              5442             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowPos1L,R6        ;
17993 000033FC 6162              5443             MOV.L   @R6,R1                                          ;(とりあえずこのままにして
                                          おく)
17994 000033FE 6119              5444             SWAP.W  R1,R1                                           ;
17995                            5445             SUB_END
17996                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   215
PROGRAM NAME =

17997 00003400 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17998                            5446             M_RTS
17999 00003402 000B                   M           RTS                             ;RTSの後ろの
18000 00003404 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18001                            5447     
18002                            5448     
18003                            5449     
18004                            5450     ;       ***********************************
18005                            5451     ;       ***                             ***
18006                            5452     ;       ***     払出ﾊﾟﾙｽ                ***
18007                            5453     ;       ***                             ***
18008                            5454     ;       ***********************************
18009                            5455     ;       I/F LNGTH_ADD_DATA[2];//符号付き
18010                            5456     ;
18011                            5457     ;       ﾊﾞｯｸﾗｯｼの処理はここで行う
18012                            5458     ;
18013                            5459     ;
18014                                     ***** BEGIN-POOL *****
18015 00003406 0000                       ALIGNMENT CODE
18016 00003408 00000000                   DATA FOR SOURCE-LINE 5442
18017                                     ***** END-POOL *****
18018 0000340C                   5460             .ALIGN  4                               ;
18019 0000340C                   5461     _POS_LENGTH_ADD_DATA
18020                            5462             SUB_START
18021 0000340C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18022                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18023 0000340E D40A              5463             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
18024 00003410 6142              5464             MOV.L   @R4,R1                          ;
18025 00003412 5241              5465             MOV.L   @(4,R4),R2                      ;
18026 00003414 233A              5466             XOR     R3,R3                           ;
18027 00003416 2432              5467             MOV.L   R3,@R4                                                  ;
18028 00003418 1431              5468             MOV.L   R3,@(4,R4)                                              ;(ここでﾊﾞｯｸﾗｯｼ補
                                          正を足しこむ)
18029                            5469     
18030 0000341A D708              5470             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
18031 0000341C 6572              5471             MOV.L   @R7,R5                                                  ;
18032 0000341E 5671              5472             MOV.L   @(4,R7),R6                                              ;
18033                            5473             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
18034 00003420 0008                   M           CLRT
18035 00003422 326E                   M           ADDC    R6,R2
18036 00003424 315E                   M           ADDC    R5,R1
18037 00003426 2712              5474             MOV.L   R1,@R7                                                  ;
18038 00003428 1721              5475             MOV.L   R2,@(4,R7)                                              ;
18039                            5476     
18040                            5477     ;       ===2004-01-28 MONITOR ==
18041 0000342A D705              5478             MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R7;//符号つき
18042 0000342C 2712              5479             MOV.L   R1,@R7                                                  ;
18043 0000342E 1721              5480             MOV.L   R2,@(4,R7)                                              ;
18044                            5481     
18045                            5482             SUB_END
18046                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18047 00003430 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18048                            5483             M_RTS
18049 00003432 000B                   M           RTS                             ;RTSの後ろの
18050 00003434 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18051                            5484     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   216
PROGRAM NAME =

18052                            5485     ;       *******************************************
18053                            5486     ;       ***                                     ***
18054                            5487     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
18055                            5488     ;       ***                                     ***
18056                            5489     ;       *******************************************
18057                            5490     ;       ***********************************************************
18058                            5491     ;       ***     (停止時からの起動の場合のみ有効・安一のみ)      ***
18059                            5492     ;       ***********************************************************
18060                                     ***** BEGIN-POOL *****
18061 00003436 0000                       ALIGNMENT CODE
18062 00003438 00000000                   DATA FOR SOURCE-LINE 5463
18063 0000343C 00000000                   DATA FOR SOURCE-LINE 5470
18064 00003440 00000000                   DATA FOR SOURCE-LINE 5478
18065                                     ***** END-POOL *****
18066 00003444                   5493             .ALIGN  4                               ;
18067 00003444                   5494     _POS_PLSOUT_SET_RETRY:
18068                            5495             SUB_START
18069 00003444 4F22                   M           STS.L   PR,@-R15                ;[必要]
18070                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18071 00003446 D105              5496             MOV.L   #_MODE_SEL,R1                   ;
18072 00003448 6011              5497             MOV.W   @R1,R0                          ;
18073 0000344A 9406              5498             MOV.W   #_W1SGL,R4                      ;
18074 0000344C 2048              5499             TST     R4,R0                           ;
18075                            5500             TST_BIT_ON POS_PLSOUT_SETRY100          ;
18076 0000344E 8B09                   M           BF      POS_PLSOUT_SETRY100
18077                            5501     
18078                            5502             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;
18079 00003450 D003                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18080 00003452 400B                   M           JSR     @R0                     ;
18081 00003454 0009                   M           NOP                                     ;
18082                            5503             M_BRA   POS_PLSOUT_SETRYEXT
18083 00003456 A09E                   M           BRA     POS_PLSOUT_SETRYEXT
18084 00003458 0009                   M           NOP
18085                            5504     
18086                            5505     ;       ===     安全一行程      ===
18087                                     ***** BEGIN-POOL *****
18088 0000345A 0004                       DATA FOR SOURCE-LINE 5498
18089 0000345C 00000000                   DATA FOR SOURCE-LINE 5496
18090 00003460 00000000                   DATA FOR SOURCE-LINE 5502
18091                                     ***** END-POOL *****
18092 00003464                   5506     POS_PLSOUT_SETRY100:
18093 00003464 200A              5507             XOR     R0,R0
18094 00003466 D116              5508             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
18095 00003468 2101              5509             MOV.W   R0,@R1                                  ;
18096                            5510     
18097                            5511             eSHi_SET_MEM_MOV SRC=_LNGTH_TOTAL_OUTPLS+4,L1=L,DST=_SH4_LNGH_ADD_SR,L2=L       ;
18098                                 M           PUSH_REG1 R0
18099 0000346A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18100                                 M                                           ;REG=>[SP]
18101                                 M                                           ;"-4" FF,FF,FF,FC
18102                                 M           PUSH_REG1 R1
18103 0000346C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18104                                 M                                           ;REG=>[SP]
18105                                 M                                           ;"-4" FF,FF,FF,FC
18106 0000346E D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1       ;
18107 00003470 6012                   M           MOV.L   @R1,R0          ;
18108 00003472 D115                   M           MOV.L   #_SH4_LNGH_ADD_SR,R1    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   217
PROGRAM NAME =

18109 00003474 2102                   M           MOV.L   R0,@R1          ;
18110                                 M           POP_REG1 R1
18111                                 M                                   ; RE"+4" 00,00,00,04
18112 00003476 61F6                   M           MOV.L   @R15+,R1        ;
18113                                 M           POP_REG1 R0
18114                                 M                                   ; RE"+4" 00,00,00,04
18115 00003478 60F6                   M           MOV.L   @R15+,R0        ;
18116                            5512             TIM_CNT_ADD MEM=_SH4_LOT_CNT_A,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1                ;+
                                          1
18117 0000347A D114                   M           MOV.L   #_SH4_LOT_CNT_A,R1              ;
18118 0000347C 6011                   M           MOV.W   @R1,R0  ;
18119 0000347E 7001                   M           ADD     #1,R0           ;
18120 00003480 2101                   M           MOV.W   R0,@R1  ;
18121                            5513     
18122                            5514     
18123                            5515     
18124 00003482                   5516     POS_PLSOUT_SETRYLOP:
18125                            5517     
18126 00003482 D713              5518             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
18127 00003484 6172              5519             MOV.L   @R7,R1                                                  ;
18128 00003486 5271              5520             MOV.L   @(4,R7),R2                                              ;払いだしたい量
18129                            5521             PUSH_REG1 R1                                                    ;
18130 00003488 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18131                                 M                                           ;REG=>[SP]
18132                                 M                                           ;"-4" FF,FF,FF,FC
18133                            5522             PUSH_REG1 R2                                                    ;
18134 0000348A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18135                                 M                                           ;REG=>[SP]
18136                                 M                                           ;"-4" FF,FF,FF,FC
18137                            5523             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                                ;
18138 0000348C D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18139 0000348E 400B                   M           JSR     @R0                     ;
18140 00003490 0009                   M           NOP                                     ;
18141                            5524             POP_REG1 R2                                                     ;
18142                                 M                                   ; RE"+4" 00,00,00,04
18143 00003492 62F6                   M           MOV.L   @R15+,R2        ;
18144                            5525             POP_REG1 R1                                                     ;
18145                                 M                                   ; RE"+4" 00,00,00,04
18146 00003494 61F6                   M           MOV.L   @R15+,R1        ;
18147 00003496 6313              5526             MOV     R1,R3                                                   ;
18148 00003498 6423              5527             MOV     R2,R4                                                   ;
18149 0000349A 4311              5528             CMP/PZ  R3                                                      ;"+"
18150 0000349C 8905              5529             BT      POS_PLSOUT_SETRY120                                     ;
18151                            5530             NEG1_64 H_REG=R3,L_REG=R4,WKREG=R0                              ;|R3,R4|
18152 0000349E 6447                   M           NOT     R4,R4                           ;
18153 000034A0 6337                   M           NOT     R3,R3                           ;
18154 000034A2 200A                   M           XOR     R0,R0                           ;
18155 000034A4 0018                   M           SETT
18156 000034A6 340E                   M           ADDC    R0,R4                           ;0+1+R2
18157 000034A8 330E                   M           ADDC    R0,R3                           ;
18158 000034AA                   5531     POS_PLSOUT_SETRY120:
18159 000034AA 2338              5532             TST     R3,R3                                                   ;
18160                            5533             TST_BIT_OF POS_PLSOUT_SETRY130                                  ;
18161 000034AC 8918                   M           BT      POS_PLSOUT_SETRY130
18162                            5534     ;       ====上位LWORDが存在する. 1回転の中にそれがあることはない
18163                            5535     ;       ==== data err ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   218
PROGRAM NAME =

                                          ;
18164                            5536             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CALC_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
18165 000034AE D10A                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1          ;
18166 000034B0 6011                   M           MOV.W   @R1,R0          ;
18167 000034B2 CB05                   M           OR      #(BIT2+BIT0),R0         ;
18168 000034B4 2101                   M           MOV.W   R0,@R1          ;
18169                            5537             FAR_JSR #_OutputPLS_REG_CLR,R0
                                          ;
18170 000034B6 D009                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18171 000034B8 400B                   M           JSR     @R0                     ;
18172 000034BA 0009                   M           NOP                                     ;
18173                            5538             M_BRA   POS_PLSOUT_SETRY900
                                          ;
18174 000034BC A064                   M           BRA     POS_PLSOUT_SETRY900
18175 000034BE 0009                   M           NOP
18176                            5539     
18177                                     ***** BEGIN-POOL *****
18178 000034C0 00000000                   DATA FOR SOURCE-LINE 5508
18179 000034C4 00000000                   DATA FOR SOURCE-LINE 5511
18180 000034C8 00000000                   DATA FOR SOURCE-LINE 5511
18181 000034CC 00000000                   DATA FOR SOURCE-LINE 5512
18182 000034D0 00000000                   DATA FOR SOURCE-LINE 5518
18183 000034D4 00000000                   DATA FOR SOURCE-LINE 5523
18184 000034D8 00000000                   DATA FOR SOURCE-LINE 5536
18185 000034DC 00000000                   DATA FOR SOURCE-LINE 5537
18186                                     ***** END-POOL *****
18187 000034E0                   5540     POS_PLSOUT_SETRY130:
18188                            5541     
18189                            5542             FAR_JSR #_LOAD_REST_PLS,R0                      ;
18190 000034E0 D017                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18191 000034E2 400B                   M           JSR     @R0                     ;
18192 000034E4 0009                   M           NOP                                     ;
18193                            5543             eSHi_SET_REG_MOV DST=_SH4_REST_PLS_SR,L1=L,SETREG=R0,WKREG1=R5
18194                                 M           PUSH_REG1 R5            ;
18195 000034E6 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
18196                                 M                                           ;REG=>[SP]
18197                                 M                                           ;"-4" FF,FF,FF,FC
18198 000034E8 D516                   M           MOV.L   #_SH4_REST_PLS_SR,R5            ;
18199 000034EA 2502                   M           MOV.L   R0,@R5  ;
18200                                 M           POP_REG1 R5             ;
18201                                 M                                   ; RE"+4" 00,00,00,04
18202 000034EC 65F6                   M           MOV.L   @R15+,R5        ;
18203                            5544     
18204 000034EE 3400              5545             CMP/EQ  R0,R4                                   ;
18205 000034F0 894A              5546             BT      POS_PLSOUT_SETRY900                     ;"EQU"
18206 000034F2 7001              5547             ADD     #1,R0                                   ;
18207 000034F4 3400              5548             CMP/EQ  R0,R4                                   ;
18208 000034F6 8947              5549             BT      POS_PLSOUT_SETRY900                     ;
18209 000034F8 70FE              5550             ADD     #-2,R0                                  ;
18210 000034FA 3400              5551             CMP/EQ  R0,R4                                   ;
18211 000034FC 8944              5552             BT      POS_PLSOUT_SETRY900                     ;
18212                            5553     
18213                            5554     ;       ==== ﾍﾞﾘﾌｧｲ異常====
18214                            5555             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT2                ;VERIFAY ERR
18215                                 M   
18216                                 M           .AIF    0 EQ    0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   219
PROGRAM NAME =

18217                                 C   ;;      (波形測定時)
18218                                 C           PUSH_REG1 R0
18219 000034FE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18220                                 M                                           ;REG=>[SP]
18221                                 M                                           ;"-4" FF,FF,FF,FC
18222                                 C           PUSH_REG1 R1
18223 00003500 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18224                                 M                                           ;REG=>[SP]
18225                                 M                                           ;"-4" FF,FF,FF,FC
18226                                 C           PUSH_REG1 R2
18227 00003502 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18228                                 M                                           ;REG=>[SP]
18229                                 M                                           ;"-4" FF,FF,FF,FC
18230 00003504 D110                   C           MOV.L   #_PDTRA,R1                      ;
18231 00003506 6011                   C           MOV.W   @R1,R0                          ;
18232 00003508 9217                   C           MOV.W   #BIT2,R2                        ;
18233 0000350A 202B                   C           OR      R2,R0                           ;
18234 0000350C 2101                   C           MOV.W   R0,@R1                          ;
18235                                 C   
18236                                 C           POP_REG1 R2
18237                                 M                                   ; RE"+4" 00,00,00,04
18238 0000350E 62F6                   M           MOV.L   @R15+,R2        ;
18239                                 C           POP_REG1 R1
18240                                 M                                   ; RE"+4" 00,00,00,04
18241 00003510 61F6                   M           MOV.L   @R15+,R1        ;
18242                                 C           POP_REG1 R0
18243                                 M                                   ; RE"+4" 00,00,00,04
18244 00003512 60F6                   M           MOV.L   @R15+,R0        ;
18245                                 M           .AENDI
18246                                 M   
18247                            5556     
18248                            5557             FAR_JSR #_OutputPLS_REG_CLR,R0                  ;
18249 00003514 D00D                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18250 00003516 400B                   M           JSR     @R0                     ;
18251 00003518 0009                   M           NOP                                     ;
18252 0000351A D70D              5558             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                 ;+/-(0へ向かっていく)
18253 0000351C 2712              5559             MOV.L   R1,@R7                                  ;
18254 0000351E 1721              5560             MOV.L   R2,@(4,R7)                              ;払いだしたい量
18255                            5561     
18256 00003520 D10C              5562             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
18257 00003522 6011              5563             MOV.W   @R1,R0                                  ;
18258 00003524 940A              5564             MOV.W   #_LSI_RETRY_ERR_MAX,R4
                                          ;
18259 00003526 7001              5565             ADD     #1,R0
                                          ;
18260 00003528 2101              5566             MOV.W   R0,@R1
                                          ;
18261 0000352A 3046              5567             CMP/HI  R4,R0
                                          ;3<
18262 0000352C 8916              5568             BT      POS_PLSOUT_SETRYERR
                                          ;
18263                            5569             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
18264 0000352E D10A                   M           MOV.L   #_LSI_PLSSET_NG_CNT1,R1         ;
18265 00003530 6012                   M           MOV.L   @R1,R0  ;
18266 00003532 7001                   M           ADD     #1,R0           ;
18267 00003534 2102                   M           MOV.L   R0,@R1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   220
PROGRAM NAME =

18268                            5570             M_BRA   POS_PLSOUT_SETRYLOP                     ;
18269 00003536 AFA4                   M           BRA     POS_PLSOUT_SETRYLOP
18270 00003538 0009                   M           NOP
18271                            5571     
18272                                     ***** BEGIN-POOL *****
18273 0000353A 0004                       DATA FOR SOURCE-LINE 5555
18274 0000353C 0003                       DATA FOR SOURCE-LINE 5564
18275 0000353E 0000                       ALIGNMENT CODE
18276 00003540 00000000                   DATA FOR SOURCE-LINE 5542
18277 00003544 00000000                   DATA FOR SOURCE-LINE 5543
18278 00003548 00000000                   DATA FOR SOURCE-LINE 5555
18279 0000354C 00000000                   DATA FOR SOURCE-LINE 5557
18280 00003550 00000000                   DATA FOR SOURCE-LINE 5558
18281 00003554 00000000                   DATA FOR SOURCE-LINE 5562
18282 00003558 00000000                   DATA FOR SOURCE-LINE 5569
18283                                     ***** END-POOL *****
18284 0000355C                   5572     POS_PLSOUT_SETRYERR:
18285                            5573             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
18286 0000355C D108                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
18287 0000355E 6011                   M           MOV.W   @R1,R0          ;
18288 00003560 CB05                   M           OR      #(BIT2+BIT0),R0         ;
18289 00003562 2101                   M           MOV.W   R0,@R1          ;
18290                            5574             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT6                ;RETRY ERR
18291                                 M   
18292                                 M           .AIF    0 EQ    0
18293                                 C   ;;      (波形測定時)
18294                                 C           PUSH_REG1 R0
18295 00003564 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18296                                 M                                           ;REG=>[SP]
18297                                 M                                           ;"-4" FF,FF,FF,FC
18298                                 C           PUSH_REG1 R1
18299 00003566 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18300                                 M                                           ;REG=>[SP]
18301                                 M                                           ;"-4" FF,FF,FF,FC
18302                                 C           PUSH_REG1 R2
18303 00003568 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18304                                 M                                           ;REG=>[SP]
18305                                 M                                           ;"-4" FF,FF,FF,FC
18306 0000356A D106                   C           MOV.L   #_PDTRA,R1                      ;
18307 0000356C 6011                   C           MOV.W   @R1,R0                          ;
18308 0000356E 9206                   C           MOV.W   #BIT6,R2                        ;
18309 00003570 202B                   C           OR      R2,R0                           ;
18310 00003572 2101                   C           MOV.W   R0,@R1                          ;
18311                                 C   
18312                                 C           POP_REG1 R2
18313                                 M                                   ; RE"+4" 00,00,00,04
18314 00003574 62F6                   M           MOV.L   @R15+,R2        ;
18315                                 C           POP_REG1 R1
18316                                 M                                   ; RE"+4" 00,00,00,04
18317 00003576 61F6                   M           MOV.L   @R15+,R1        ;
18318                                 C           POP_REG1 R0
18319                                 M                                   ; RE"+4" 00,00,00,04
18320 00003578 60F6                   M           MOV.L   @R15+,R0        ;
18321                                 M           .AENDI
18322                                 M   
18323                            5575             M_BRA   POS_PLSOUT_SETRYEXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   221
PROGRAM NAME =

18324 0000357A A00C                   M           BRA     POS_PLSOUT_SETRYEXT
18325 0000357C 0009                   M           NOP
18326                            5576     
18327                                     ***** BEGIN-POOL *****
18328 0000357E 0040                       DATA FOR SOURCE-LINE 5574
18329 00003580 00000000                   DATA FOR SOURCE-LINE 5573
18330 00003584 00000000                   DATA FOR SOURCE-LINE 5574
18331                                     ***** END-POOL *****
18332 00003588                   5577     POS_PLSOUT_SETRY900:
18333                            5578     ;       === FLAG SET====
18334                            5579             eSHi_SET_IM_MOV DST=_SH4_REST_SR_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
18335                                 M           PUSH_REG1 R1            ;
18336 00003588 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18337                                 M                                           ;REG=>[SP]
18338                                 M                                           ;"-4" FF,FF,FF,FC
18339                                 M           PUSH_REG1 R0            ;
18340 0000358A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18341                                 M                                           ;REG=>[SP]
18342                                 M                                           ;"-4" FF,FF,FF,FC
18343 0000358C 9011                   M           MOV.W   #1,R0           ;
18344 0000358E D10A                   M           MOV.L   #_SH4_REST_SR_HF,R1             ;
18345 00003590 2101                   M           MOV.W   R0,@R1  ;
18346                                 M           POP_REG1 R0             ;
18347                                 M                                   ; RE"+4" 00,00,00,04
18348 00003592 60F6                   M           MOV.L   @R15+,R0        ;
18349                                 M           POP_REG1 R1             ;
18350                                 M                                   ; RE"+4" 00,00,00,04
18351 00003594 61F6                   M           MOV.L   @R15+,R1        ;
18352                            5580     
18353 00003596                   5581     POS_PLSOUT_SETRYEXT:
18354                            5582             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT4                ;VERYFAI ERR OFF付
18355                                 M   
18356                                 M           .AIF    0 EQ    0
18357                                 C   ;;      (波形測定時)
18358                                 C           PUSH_REG1 R0
18359 00003596 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18360                                 M                                           ;REG=>[SP]
18361                                 M                                           ;"-4" FF,FF,FF,FC
18362                                 C           PUSH_REG1 R1
18363 00003598 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18364                                 M                                           ;REG=>[SP]
18365                                 M                                           ;"-4" FF,FF,FF,FC
18366                                 C           PUSH_REG1 R2
18367 0000359A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18368                                 M                                           ;REG=>[SP]
18369                                 M                                           ;"-4" FF,FF,FF,FC
18370 0000359C D107                   C           MOV.L   #_PDTRA,R1                      ;
18371 0000359E 6011                   C           MOV.W   @R1,R0                          ;
18372 000035A0 9208                   C           MOV.W   #LWORD ~BIT4,R2         ;
18373 000035A2 2029                   C           AND     R2,R0                           ;
18374 000035A4 2101                   C           MOV.W   R0,@R1                          ;
18375                                 C           POP_REG1 R2
18376                                 M                                   ; RE"+4" 00,00,00,04
18377 000035A6 62F6                   M           MOV.L   @R15+,R2        ;
18378                                 C           POP_REG1 R1
18379                                 M                                   ; RE"+4" 00,00,00,04
18380 000035A8 61F6                   M           MOV.L   @R15+,R1        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   222
PROGRAM NAME =

18381                                 C           POP_REG1 R0
18382                                 M                                   ; RE"+4" 00,00,00,04
18383 000035AA 60F6                   M           MOV.L   @R15+,R0        ;
18384                                 M           .AENDI
18385                                 M   
18386                            5583     
18387                            5584             SUB_END
18388                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18389 000035AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18390                            5585             M_RTS
18391 000035AE 000B                   M           RTS                             ;RTSの後ろの
18392 000035B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18393                            5586     
18394                            5587     ;       *******************************************
18395                            5588     ;       ***                                     ***
18396                            5589     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
18397                            5590     ;       ***                                     ***
18398                            5591     ;       *******************************************
18399                                     ***** BEGIN-POOL *****
18400 000035B2 0001                       DATA FOR SOURCE-LINE 5579
18401 000035B4 FFEF                       DATA FOR SOURCE-LINE 5582
18402 000035B6 0000                       ALIGNMENT CODE
18403 000035B8 00000000                   DATA FOR SOURCE-LINE 5579
18404 000035BC 00000000                   DATA FOR SOURCE-LINE 5582
18405                                     ***** END-POOL *****
18406 000035C0                   5592             .ALIGN  4                               ;
18407 000035C0                   5593     _POS_PLS_OUTPUT_DATA:
18408                            5594             SUB_START
18409 000035C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18410                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18411                            5595     
18412                            5596     
18413                            5597             FAR_JSR #_LOAD_REST_PLS,R0                                              ;
18414 000035C2 D00D                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18415 000035C4 400B                   M           JSR     @R0                     ;
18416 000035C6 0009                   M           NOP                                     ;
18417 000035C8 6B03              5598             MOV     R0,R11                                                          ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
18418 000035CA D10C              5599             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                         ;
18419 000035CC 21B2              5600             MOV.L   R11,@R1                                                         ;
18420                            5601     
18421 000035CE DC0C              5602             MOV.L   #_PLS_OUTPUT_MAX,R12                                            ;
18422 000035D0 3CB8              5603             SUB     R11,R12                                                         ;
18423 000035D2 4C11              5604             CMP/PZ  R12                                                             ;残り設定
                                          できる距離出力側で
18424 000035D4 8904              5605             BT      POS_PLS_OUTDAT_050                                              ;
18425                            5606             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT0,WKREG=R1       ;
18426 000035D6 D10B                   M           MOV.L   #_POSLSI_CHK_STS,R1             ;
18427 000035D8 6011                   M           MOV.W   @R1,R0          ;
18428 000035DA CB01                   M           OR      #BIT0,R0                ;
18429 000035DC 2101                   M           MOV.W   R0,@R1          ;
18430 000035DE 2CCA              5607             XOR     R12,R12                                                         ;
18431 000035E0                   5608     POS_PLS_OUTDAT_050:                                                             ;R12は出力
                                          ﾊﾟﾙｽﾚﾍﾞﾙ
18432                            5609     ;       ============= 出力ﾊﾟﾙｽ補正============
18433 000035E0 62C3              5610             MOV     R12,R2                                                  ;ﾊﾟﾙｽ列-->ｲﾝｸﾘﾒﾝﾀﾙ
                                          ﾊﾟﾙｽ量
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   223
PROGRAM NAME =

18434                            5611     ;;;;;   FAR_JSR #_POS_OUT_TO_INC_CHG,R0                                 ;
18435 000035E2 6C23              5612             MOV     R2,R12                                                  ;
18436                            5613     
18437                            5614     ;       ==== R12が設定可能量====
18438 000035E4 D708              5615             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
18439 000035E6 6172              5616             MOV.L   @R7,R1                                                  ;
18440 000035E8 5271              5617             MOV.L   @(4,R7),R2                                              ;払いだしたい量
18441 000035EA 6013              5618             MOV     R1,R0                                                   ;
18442 000035EC 202B              5619             OR      R2,R0                                                   ;
18443 000035EE 2008              5620             TST     R0,R0                                                   ;
18444                            5621             TST_BIT_ON POS_PLS_OUTDAT_080                                   ;
18445 000035F0 8B0C                   M           BF      POS_PLS_OUTDAT_080
18446 000035F2 2CCA              5622             XOR     R12,R12                                                 ;位置決めLSIには設
                                          定済み
18447                            5623             M_BRA   POS_PLS_OUTDAT_300                                      ;
18448 000035F4 A027                   M           BRA     POS_PLS_OUTDAT_300
18449 000035F6 0009                   M           NOP
18450                            5624     
18451                                     ***** BEGIN-POOL *****
18452 000035F8 00000000                   DATA FOR SOURCE-LINE 5597
18453 000035FC 00000000                   DATA FOR SOURCE-LINE 5599
18454 00003600 00FFFFFF                   DATA FOR SOURCE-LINE 5602
18455 00003604 00000000                   DATA FOR SOURCE-LINE 5606
18456 00003608 00000000                   DATA FOR SOURCE-LINE 5615
18457                                     ***** END-POOL *****
18458 0000360C                   5625     POS_PLS_OUTDAT_080:                                                     ;
18459                            5626             PUSH_REG1       R1
18460 0000360C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18461                                 M                                           ;REG=>[SP]
18462                                 M                                           ;"-4" FF,FF,FF,FC
18463 0000360E 4111              5627             CMP/PZ  R1                                                      ;
18464 00003610 8905              5628             BT      POS_PLS_OUTDAT_100                                      ;
18465                            5629             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;|R1,R2|
18466 00003612 6227                   M           NOT     R2,R2                           ;
18467 00003614 6117                   M           NOT     R1,R1                           ;
18468 00003616 233A                   M           XOR     R3,R3                           ;
18469 00003618 0018                   M           SETT
18470 0000361A 323E                   M           ADDC    R3,R2                           ;0+1+R2
18471 0000361C 313E                   M           ADDC    R3,R1                           ;
18472 0000361E                   5630     POS_PLS_OUTDAT_100:                                                     ;
18473 0000361E 2118              5631             TST     R1,R1                                                   ;
18474                            5632             TST_BIT_ON POS_PLS_OUTDAT_200                                   ;引いてOK
18475 00003620 8B02                   M           BF      POS_PLS_OUTDAT_200
18476 00003622 32C7              5633             CMP/GT  R12,R2                                                  ;引いてOK
18477 00003624 8900              5634             BT      POS_PLS_OUTDAT_200                                      ;
18478 00003626 6C23              5635             MOV     R2,R12                                                  ;R12(R2)だけ引いて
                                          OK
18479 00003628                   5636     POS_PLS_OUTDAT_200:                                                     ;(引く量の決定)
18480 00003628 200A              5637             XOR     R0,R0                                                   ;
18481                            5638             SUB8B DT_REGH=R0,DT_REGL=R12,DT_ANS_REGH=R1,DT_ANS_REGL=R2      ;
18482 0000362A 0008                   M           CLRT
18483 0000362C 32CA                   M           SUBC    R12,R2
18484 0000362E 310A                   M           SUBC    R0,R1
18485                            5639             POP_REG1 R0
18486                                 M                                   ; RE"+4" 00,00,00,04
18487 00003630 60F6                   M           MOV.L   @R15+,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   224
PROGRAM NAME =

18488 00003632 4011              5640             CMP/PZ  R0
18489 00003634 8905              5641             BT      POS_PLS_OUTDAT_250                                      ;
18490                            5642             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;
18491 00003636 6227                   M           NOT     R2,R2                           ;
18492 00003638 6117                   M           NOT     R1,R1                           ;
18493 0000363A 233A                   M           XOR     R3,R3                           ;
18494 0000363C 0018                   M           SETT
18495 0000363E 323E                   M           ADDC    R3,R2                           ;0+1+R2
18496 00003640 313E                   M           ADDC    R3,R1                           ;
18497 00003642                   5643     POS_PLS_OUTDAT_250:                                                     ;
18498 00003642 2712              5644             MOV.L   R1,@R7                                                  ;
18499 00003644 1721              5645             MOV.L   R2,@(4,R7)                                              ;
18500                            5646     
18501                            5647     ;"R12ADD"
18502 00003646                   5648     POS_PLS_OUTDAT_300:                                                             ;
18503                            5649             FAR_JSR #_LOAD_REST_PLS,R0                                              ;OLD残りﾊﾟ
                                          ﾙｽ
18504 00003646 D028                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18505 00003648 400B                   M           JSR     @R0                     ;
18506 0000364A 0009                   M           NOP                                     ;
18507 0000364C 6403              5650             MOV     R0,R4                                                           ;
18508 0000364E 62C3              5651             MOV     R12,R2                                                          ;
18509                            5652     
18510                            5653             DEBUG_LSI_ACS_ON2_BIT BITDT=(BIT4+BIT0)                                 ;
18511                                 M   
18512                                 M           .AIF    0 EQ    0
18513                                 C   ;;      (波形測定時)
18514                                 C           PUSH_REG1 R0
18515 00003650 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18516                                 M                                           ;REG=>[SP]
18517                                 M                                           ;"-4" FF,FF,FF,FC
18518                                 C           PUSH_REG1 R1
18519 00003652 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18520                                 M                                           ;REG=>[SP]
18521                                 M                                           ;"-4" FF,FF,FF,FC
18522                                 C           PUSH_REG1 R2
18523 00003654 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18524                                 M                                           ;REG=>[SP]
18525                                 M                                           ;"-4" FF,FF,FF,FC
18526 00003656 D125                   C           MOV.L   #_PDTRA,R1                      ;
18527 00003658 6011                   C           MOV.W   @R1,R0                          ;
18528 0000365A 9241                   C           MOV.W   #(BIT4+BIT0),R2                 ;
18529 0000365C 202B                   C           OR      R2,R0                           ;
18530 0000365E 2101                   C           MOV.W   R0,@R1                          ;
18531                                 C   
18532                                 C           POP_REG1 R2
18533                                 M                                   ; RE"+4" 00,00,00,04
18534 00003660 62F6                   M           MOV.L   @R15+,R2        ;
18535                                 C           POP_REG1 R1
18536                                 M                                   ; RE"+4" 00,00,00,04
18537 00003662 61F6                   M           MOV.L   @R15+,R1        ;
18538                                 C           POP_REG1 R0
18539                                 M                                   ; RE"+4" 00,00,00,04
18540 00003664 60F6                   M           MOV.L   @R15+,R0        ;
18541                                 M           .AENDI
18542                                 M   
18543                            5654             .AIF    1               EQ      1       ;YES:WR WAIT 4CLK(NO 3CLK) 2004-02-19
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   225
PROGRAM NAME =

18544                            5655 C           POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R6,DAT_REG=R2           ;製品
18545                                 M           PUSH_REG1 R6
18546 00003666 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
18547                                 M                                           ;REG=>[SP]
18548                                 M                                           ;"-4" FF,FF,FF,FC
18549                                 M           PUSH_REG1 R2
18550 00003668 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18551                                 M                                           ;REG=>[SP]
18552                                 M                                           ;"-4" FF,FF,FF,FC
18553                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18554                                 M           PUSH_REG1 R0
18555 0000366A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18556                                 M                                           ;REG=>[SP]
18557                                 M                                           ;"-4" FF,FF,FF,FC
18558 0000366C D020                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18559 0000366E 6001                   M           MOV.W   @R0,R0
18560                                 M           POP_REG1 R0
18561                                 M                                   ; RE"+4" 00,00,00,04
18562 00003670 60F6                   M           MOV.L   @R15+,R0        ;
18563 00003672 D620                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;
18564 00003674 2621                   M           MOV.W   R2,@R6                          ;(LOW)
18565 00003676 7602                   M           ADD     #2,R6                                   ;
18566 00003678 6229                   M           SWAP.W  R2,R2                           ;
18567                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18568                                 M           PUSH_REG1 R0
18569 0000367A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18570                                 M                                           ;REG=>[SP]
18571                                 M                                           ;"-4" FF,FF,FF,FC
18572 0000367C D01C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18573 0000367E 6001                   M           MOV.W   @R0,R0
18574                                 M           POP_REG1 R0
18575                                 M                                   ; RE"+4" 00,00,00,04
18576 00003680 60F6                   M           MOV.L   @R15+,R0        ;
18577 00003682 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
18578                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18579                                 M           PUSH_REG1 R0
18580 00003684 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18581                                 M                                           ;REG=>[SP]
18582                                 M                                           ;"-4" FF,FF,FF,FC
18583 00003686 D01A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18584 00003688 6001                   M           MOV.W   @R0,R0
18585                                 M           POP_REG1 R0
18586                                 M                                   ; RE"+4" 00,00,00,04
18587 0000368A 60F6                   M           MOV.L   @R15+,R0        ;
18588                                 M           POP_REG1 R2
18589                                 M                                   ; RE"+4" 00,00,00,04
18590 0000368C 62F6                   M           MOV.L   @R15+,R2        ;
18591                                 M           POP_REG1 R6
18592                                 M                                   ; RE"+4" 00,00,00,04
18593 0000368E 66F6                   M           MOV.L   @R15+,R6        ;
18594                            5656             .AELSE
18595                            5657     
18596                            5658     ;       ===== 異常を発生させるよう ======
18597                            5659             PUSH_REG1 R0                                                    ;
18598                            5660             PUSH_REG1 R12                                                   ;
18599                            5661             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R0                ;R/W
18600                            5662             SWAP.W  R12,R12                                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   226
PROGRAM NAME =

18601                            5663             MOV.L   R12,@R0                                                 ;
18602                            5664             POP_REG1 R12                                                    ;
18603                            5665             POP_REG1 R0                                                     ;
18604                            5666             .AENDI
18605                            5667     
18606                            5668             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT0
18607                                 M   
18608                                 M           .AIF    0 EQ    0
18609                                 C   ;;      (波形測定時)
18610                                 C           PUSH_REG1 R0
18611 00003690 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18612                                 M                                           ;REG=>[SP]
18613                                 M                                           ;"-4" FF,FF,FF,FC
18614                                 C           PUSH_REG1 R1
18615 00003692 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18616                                 M                                           ;REG=>[SP]
18617                                 M                                           ;"-4" FF,FF,FF,FC
18618                                 C           PUSH_REG1 R2
18619 00003694 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18620                                 M                                           ;REG=>[SP]
18621                                 M                                           ;"-4" FF,FF,FF,FC
18622 00003696 D115                   C           MOV.L   #_PDTRA,R1                      ;
18623 00003698 6011                   C           MOV.W   @R1,R0                          ;
18624 0000369A 9222                   C           MOV.W   #LWORD ~BIT0,R2         ;
18625 0000369C 2029                   C           AND     R2,R0                           ;
18626 0000369E 2101                   C           MOV.W   R0,@R1                          ;
18627                                 C           POP_REG1 R2
18628                                 M                                   ; RE"+4" 00,00,00,04
18629 000036A0 62F6                   M           MOV.L   @R15+,R2        ;
18630                                 C           POP_REG1 R1
18631                                 M                                   ; RE"+4" 00,00,00,04
18632 000036A2 61F6                   M           MOV.L   @R15+,R1        ;
18633                                 C           POP_REG1 R0
18634                                 M                                   ; RE"+4" 00,00,00,04
18635 000036A4 60F6                   M           MOV.L   @R15+,R0        ;
18636                                 M           .AENDI
18637                                 M   
18638                            5669     
18639                            5670             FAR_JSR #_LOAD_REST_PLS,R0                                              ;NEW残りﾊﾟ
                                          ﾙｽ
18640 000036A6 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18641 000036A8 400B                   M           JSR     @R0                     ;
18642 000036AA 0009                   M           NOP                                     ;
18643 000036AC D112              5671             MOV.L   #_NEW_POSLSI_RESTPLS,R1                                         ;
18644 000036AE 2102              5672             MOV.L   R0,@R1                                                          ;
18645                            5673     
18646                            5674             eSHi_SET_REG_MOV DST=_SH4_REST_PLS_RL,L1=L,SETREG=R0,WKREG1=R1          ;
18647                                 M           PUSH_REG1 R1            ;
18648 000036B0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18649                                 M                                           ;REG=>[SP]
18650                                 M                                           ;"-4" FF,FF,FF,FC
18651 000036B2 D112                   M           MOV.L   #_SH4_REST_PLS_RL,R1            ;
18652 000036B4 2102                   M           MOV.L   R0,@R1  ;
18653                                 M           POP_REG1 R1             ;
18654                                 M                                   ; RE"+4" 00,00,00,04
18655 000036B6 61F6                   M           MOV.L   @R15+,R1        ;
18656                            5675     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   227
PROGRAM NAME =

18657                            5676     
18658                            5677     ;       基本的には
18659                            5678     ;       OLD+SV=NEW
18660                            5679     
18661 000036B8 34CC              5680             ADD     R12,R4                                                  ;
18662 000036BA 6343              5681             MOV     R4,R3                                                   ;
18663 000036BC 9112              5682             MOV.W   #D'500,R1                                               ;200usec(100pls)　
                                          受信割込有り
18664 000036BE 341C              5683             ADD     R1,R4                                                   ;OLD+SV+500<NEW
18665 000036C0 3046              5684             CMP/HI  R4,R0                                                   ;OLD+SV+500<NEW
18666 000036C2 891F              5685             BT      POS_PLS_OUTDAT_320_ERR1                                 ;
18667                            5686     
18668 000036C4 6433              5687             MOV     R3,R4                                                   ;
18669 000036C6 910D              5688             MOV.W   #D'500,R1                                               ;200usec(100pls)
18670 000036C8 3418              5689             SUB     R1,R4                                                   ;
18671 000036CA 4411              5690             CMP/PZ  R4                                                      ;
18672 000036CC 8900              5691             BT      POS_PLS_OUTDAT_320_ECK10                                ;
18673 000036CE 244A              5692             XOR     R4,R4                                                   ;
18674 000036D0                   5693     POS_PLS_OUTDAT_320_ECK10:                                               ;
18675 000036D0 3042              5694             CMP/HS  R4,R0
18676 000036D2 891F              5695             BT      POS_PLS_OUTDAT_320_END                                  ;R4 =< R0 OK
18677                            5696     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ-200 ≧残ﾊﾟﾙｽなら異常(2)      ===
18678                            5697             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
18679 000036D4 D10A                   M           MOV.L   #_LSI_PLSSET_NG_CNT2,R1         ;
18680 000036D6 6012                   M           MOV.L   @R1,R0  ;
18681 000036D8 7001                   M           ADD     #1,R0           ;
18682 000036DA 2102                   M           MOV.L   R0,@R1  ;
18683                            5698     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT3+BIT0),WKREG=R1
                                          ;
18684                            5699             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
18685 000036DC A01E                   M           BRA     POS_PLS_OUTDAT_320_EXT
18686 000036DE 0009                   M           NOP
18687                            5700     
18688                                     ***** BEGIN-POOL *****
18689 000036E0 0011                       DATA FOR SOURCE-LINE 5653
18690 000036E2 FFFE                       DATA FOR SOURCE-LINE 5668
18691 000036E4 01F4                       DATA FOR SOURCE-LINE 5682,5688
18692 000036E6 0000                       ALIGNMENT CODE
18693 000036E8 00000000                   DATA FOR SOURCE-LINE 5649,5670
18694 000036EC 00000000                   DATA FOR SOURCE-LINE 5653,5668
18695 000036F0 00000000                   DATA FOR SOURCE-LINE 5655,5655,5655
18696 000036F4 00000000                   DATA FOR SOURCE-LINE 5655
18697 000036F8 00000000                   DATA FOR SOURCE-LINE 5671
18698 000036FC 00000000                   DATA FOR SOURCE-LINE 5674
18699 00003700 00000000                   DATA FOR SOURCE-LINE 5697
18700                                     ***** END-POOL *****
18701 00003704                   5701     POS_PLS_OUTDAT_320_ERR1:
                                          ;
18702                            5702     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ≦残ﾊﾟﾙｽなら異常(1)   === 500KHZ 200usec=100pls
                                          ;
18703                            5703             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT3,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;ここだとﾘﾄﾗｲできない
18704 00003704 D102                   M           MOV.L   #_LSI_PLSSET_NG_CNT3,R1         ;
18705 00003706 6012                   M           MOV.L   @R1,R0  ;
18706 00003708 7001                   M           ADD     #1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   228
PROGRAM NAME =

18707 0000370A 2102                   M           MOV.L   R0,@R1  ;
18708                            5704     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT4+BIT0),WKREG=R1
                                          ;
18709                            5705             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
18710 0000370C A006                   M           BRA     POS_PLS_OUTDAT_320_EXT
18711 0000370E 0009                   M           NOP
18712                            5706     
18713                                     ***** BEGIN-POOL *****
18714 00003710 00000000                   DATA FOR SOURCE-LINE 5703
18715                                     ***** END-POOL *****
18716 00003714                   5707     POS_PLS_OUTDAT_320_END:                                                                 ;
18717                            5708             TIM_CNT_ADD MEM=_LSI_PLSSET_AC_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1           ;
18718 00003714 D10C                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1         ;
18719 00003716 6012                   M           MOV.L   @R1,R0  ;
18720 00003718 7001                   M           ADD     #1,R0           ;
18721 0000371A 2102                   M           MOV.L   R0,@R1  ;
18722 0000371C                   5709     POS_PLS_OUTDAT_320_EXT:                                                                 ;
18723                            5710     
18724                            5711     
18725                            5712     
18726                            5713             eSHi_SET_MEM_MOV SRC=_INT_POS_CTL_STEP,L1=W,DST=_SH4_LOT_STEP_A,L2=W
18727                                 M           PUSH_REG1 R0
18728 0000371C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18729                                 M                                           ;REG=>[SP]
18730                                 M                                           ;"-4" FF,FF,FF,FC
18731                                 M           PUSH_REG1 R1
18732 0000371E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18733                                 M                                           ;REG=>[SP]
18734                                 M                                           ;"-4" FF,FF,FF,FC
18735 00003720 D10A                   M           MOV.L   #_INT_POS_CTL_STEP,R1   ;
18736 00003722 6011                   M           MOV.W   @R1,R0          ;
18737 00003724 D10A                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;
18738 00003726 2101                   M           MOV.W   R0,@R1          ;
18739                                 M           POP_REG1 R1
18740                                 M                                   ; RE"+4" 00,00,00,04
18741 00003728 61F6                   M           MOV.L   @R15+,R1        ;
18742                                 M           POP_REG1 R0
18743                                 M                                   ; RE"+4" 00,00,00,04
18744 0000372A 60F6                   M           MOV.L   @R15+,R0        ;
18745                            5714     
18746                            5715     
18747                            5716     ;       ======== ものは試し====
18748 0000372C 255A              5717             XOR     R5,R5
18749 0000372E D109              5718             MOV.L   #_POSLSI_DRIV_SHIN,R1
18750 00003730 6011              5719             MOV.W   @R1,R0                                                  ;
18751 00003732 C801              5720             TST     #BIT0,R0
18752                            5721             TST_BIT_OF POS_PLS_OUTDAT_400                                   ;
18753 00003734 8905                   M           BT      POS_PLS_OUTDAT_400
18754                            5722             NEG1_64 H_REG=R5,L_REG=R13,WKREG=R3                             ;
18755 00003736 6DD7                   M           NOT     R13,R13                         ;
18756 00003738 6557                   M           NOT     R5,R5                           ;
18757 0000373A 233A                   M           XOR     R3,R3                           ;
18758 0000373C 0018                   M           SETT
18759 0000373E 3D3E                   M           ADDC    R3,R13                          ;0+1+R2
18760 00003740 353E                   M           ADDC    R3,R5                           ;
18761 00003742                   5723     POS_PLS_OUTDAT_400:                                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   229
PROGRAM NAME =

18762                            5724     
18763                            5725     
18764                            5726             SUB_END
18765                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18766 00003742 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18767                            5727             M_RTS
18768 00003744 000B                   M           RTS                             ;RTSの後ろの
18769 00003746 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18770                            5728     
18771                            5729     
18772                            5730     ;       ***********************************
18773                            5731     ;       ***                             ***
18774                            5732     ;       ***     連続開始                ***
18775                            5733     ;       ***                             ***
18776                            5734     ;       ***********************************
18777                            5735     ;       安全一工程、連続、オプション
18778                            5736     ;       寸動と
18779                            5737     
18780                                     ***** BEGIN-POOL *****
18781 00003748 00000000                   DATA FOR SOURCE-LINE 5708
18782 0000374C 00000000                   DATA FOR SOURCE-LINE 5713
18783 00003750 00000000                   DATA FOR SOURCE-LINE 5713
18784 00003754 00000000                   DATA FOR SOURCE-LINE 5718
18785                                     ***** END-POOL *****
18786 00003758                   5738             .ALIGN  4                               ;
18787 00003758                   5739     _MOTION_CYCLE_START:
18788                            5740             SUB_START
18789 00003758 4F22                   M           STS.L   PR,@-R15                ;[必要]
18790                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18791                            5741     ;;      MOV.L   #_MODE_SEL,R1                   ;
18792                            5742     ;;      MOV.W   @R1,R0                          ;
18793                            5743     ;;      TST     #_W1CNT,R0                      ;
18794                            5744     ;;      TST_BIT_OF MOTION_CYC_ST100             ;
18795                            5745     ;;      FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
18796                            5746     ;;MOTION_CYC_ST100:                             ;
18797                            5747     
18798                            5748     
18799                            5749             FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
18800 0000375A D00E                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18801 0000375C 400B                   M           JSR     @R0                     ;
18802 0000375E 0009                   M           NOP                                     ;
18803                            5750             FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
18804 00003760 D00D                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18805 00003762 400B                   M           JSR     @R0                     ;
18806 00003764 0009                   M           NOP                                     ;
18807                            5751     
18808 00003766 D10D              5752             MOV.L   #_MODE_SEL,R1                   ;
18809 00003768 6011              5753             MOV.W   @R1,R0                          ;
18810 0000376A C81E              5754             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0 ;
18811                            5755             TST_BIT_OF MOTION_CYC_ST200             ;
18812 0000376C 8909                   M           BT      MOTION_CYC_ST200
18813                            5756     
18814 0000376E D10C              5757             MOV.L   #_CPOS_CTL_MATH,R1              ;
18815 00003770 6011              5758             MOV.W   @R1,R0                          ;
18816                            5759     ;;2009-10-07    TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
18817 00003772 C805              5760             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-07_DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   230
PROGRAM NAME =

18818                            5761             TST_BIT_OF DAI_CHK01_100
18819 00003774 8902                   M           BT      DAI_CHK01_100
18820                            5762     
18821                            5763     ;;;2003-02-03   FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;
18822                            5764             FAR_JSR #_DAI_FULL_SCALE_SMP_INI,R0     ;2003-02-03
18823 00003776 D00B                   M           MOV.L   #_DAI_FULL_SCALE_SMP_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18824 00003778 400B                   M           JSR     @R0                     ;
18825 0000377A 0009                   M           NOP                                     ;
18826                            5765     
18827 0000377C                   5766     DAI_CHK01_100
18828                            5767     
18829                            5768             FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
18830 0000377C D00A                   M           MOV.L   #_CYCLE_TIME_REFLASH_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18831 0000377E 400B                   M           JSR     @R0                     ;
18832 00003780 0009                   M           NOP                                     ;
18833                            5769     
18834 00003782                   5770     MOTION_CYC_ST200:                               ;
18835                            5771     
18836                            5772             FAR_JSR #_MOST_DISP_DAT_INI,R0
18837 00003782 D00A                   M           MOV.L   #_MOST_DISP_DAT_INI,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18838 00003784 400B                   M           JSR     @R0                     ;
18839 00003786 0009                   M           NOP                                     ;
18840                            5773     
18841                            5774     ;       ----------------------------------------
18842                            5775             .AIF    0 EQ    0
18843                            5776 C           FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
18844 00003788 D009                   M           MOV.L   #_API_IVW_CYC_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18845 0000378A 400B                   M           JSR     @R0                     ;
18846 0000378C 0009                   M           NOP                                     ;
18847                            5777 C   ;;;;;2012-10-19 削除    FAR_JSR #_OVERH_CYC_START,R0                    ;2012-09-25
18848                            5778             .AENDI
18849                            5779     
18850                            5780             SUB_END
18851                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18852 0000378E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18853                            5781             M_RTS
18854 00003790 000B                   M           RTS                             ;RTSの後ろの
18855 00003792 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18856                            5782     
18857                            5783     ;
18858                            5784     ;       止まる時に１回通る/止まらないときも
18859                            5785     
18860                                     ***** BEGIN-POOL *****
18861 00003794 00000000                   DATA FOR SOURCE-LINE 5749
18862 00003798 00000000                   DATA FOR SOURCE-LINE 5750
18863 0000379C 00000000                   DATA FOR SOURCE-LINE 5752
18864 000037A0 00000000                   DATA FOR SOURCE-LINE 5757
18865 000037A4 00000000                   DATA FOR SOURCE-LINE 5764
18866 000037A8 00000000                   DATA FOR SOURCE-LINE 5768
18867 000037AC 00000000                   DATA FOR SOURCE-LINE 5772
18868 000037B0 00000000                   DATA FOR SOURCE-LINE 5776
18869                                     ***** END-POOL *****
18870 000037B4                   5786             .ALIGN  4                               ;
18871 000037B4                   5787     _MOTION_CYCLE_END:
18872                            5788             SUB_START
18873 000037B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18874                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   231
PROGRAM NAME =

18875                            5789     ;       ======= 描画用 ====
18876                            5790             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
18877 000037B6 D111                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
18878 000037B8 6011                   M           MOV.W   @R1,R0          ;
18879 000037BA CB01                   M           OR      #BIT0,R0                ;
18880 000037BC 2101                   M           MOV.W   R0,@R1          ;
18881                            5791     ;;;;    FAR_JSR #_LOT_SIG_SET,R0                                                ;
18882                            5792     ;;;;    FAR_JSR #_LOT_SIG_FLG_CLR,R0                                            ;
18883                            5793             FAR_JSR #_CYCLE_TIME_REFLASH_END,R0                                     ;
18884 000037BE D010                   M           MOV.L   #_CYCLE_TIME_REFLASH_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18885 000037C0 400B                   M           JSR     @R0                     ;
18886 000037C2 0009                   M           NOP                                     ;
18887                            5794     
18888                            5795     ;       ============================================
18889 000037C4 D10F              5796             MOV.L   #_CPOS_CTL_MATH,R1              ;
18890 000037C6 6011              5797             MOV.W   @R1,R0                          ;
18891                            5798     ;;[20091007下振子]      TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
18892 000037C8 C805              5799             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-0_7DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
18893                            5800             TST_BIT_OF DAI_CHK03_300
18894 000037CA 8908                   M           BT      DAI_CHK03_300
18895                            5801     
18896                            5802             FAR_JSR #_DAI_FULL_SCALE_SMP_END,R0     ;2003-02-03
18897 000037CC D00E                   M           MOV.L   #_DAI_FULL_SCALE_SMP_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18898 000037CE 400B                   M           JSR     @R0                     ;
18899 000037D0 0009                   M           NOP                                     ;
18900                            5803             FAR_JSR #_DAI_MOSTPOS_CMPARE,R0         ;
18901 000037D2 D00E                   M           MOV.L   #_DAI_MOSTPOS_CMPARE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18902 000037D4 400B                   M           JSR     @R0                     ;
18903 000037D6 0009                   M           NOP                                     ;
18904                            5804     
18905                            5805             FAR_JSR #_KJPHOS_SMPLING_END1,R0        ;2004-07-05
18906 000037D8 D00D                   M           MOV.L   #_KJPHOS_SMPLING_END1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18907 000037DA 400B                   M           JSR     @R0                     ;
18908 000037DC 0009                   M           NOP                                     ;
18909                            5806     
18910 000037DE                   5807     DAI_CHK03_300:
18911                            5808     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT4,R0
18912                            5809     
18913                            5810             .AIF    0 EQ    0
18914                            5811 C           .IMPORT _TRD_SIG_SET
18915                            5812 C           FAR_JSR #_TRD_SIG_SET,R0                        ;2006-11-20
18916 000037DE D00D                   M           MOV.L   #_TRD_SIG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18917 000037E0 400B                   M           JSR     @R0                     ;
18918 000037E2 0009                   M           NOP                                     ;
18919                            5813             .AENDI
18920                            5814     
18921                            5815              .AIF   1 EQ 1  ;
18922                            5816 C   ;       -------- 2016-10-31 ADD 二重回路対策
18923                            5817              .AENDI
18924                            5818     ;;;;2016-10-31  FAR_JSR #_DNM_CYCLE_END,R0      ;
18925                            5819     
18926                            5820     ;       ------------- 2007-12-12 ---------------
18927                            5821             FAR_JSR #_CYCL_DOWN_POS_REF,R0          ;
18928 000037E4 D00C                   M           MOV.L   #_CYCL_DOWN_POS_REF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18929 000037E6 400B                   M           JSR     @R0                     ;
18930 000037E8 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   232
PROGRAM NAME =

18931                            5822     
18932                            5823     
18933                            5824             .AIF    0 EQ    0
18934                            5825 C           FAR_JSR #_OVERH_CYC_END,R0                      ;2012-09-25
18935 000037EA D00C                   M           MOV.L   #_OVERH_CYC_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18936 000037EC 400B                   M           JSR     @R0                     ;
18937 000037EE 0009                   M           NOP                                     ;
18938                            5826             .AENDI
18939                            5827     
18940                            5828     ;       ----------- 2014-09-20-----------
18941                            5829             FAR_JSR #_MOT_REP_CLR,R0
18942 000037F0 D00B                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18943 000037F2 400B                   M           JSR     @R0                     ;
18944 000037F4 0009                   M           NOP                                     ;
18945                            5830     
18946                            5831             SUB_END
18947                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18948 000037F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18949                            5832             M_RTS
18950 000037F8 000B                   M           RTS                             ;RTSの後ろの
18951 000037FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18952                            5833     
18953                            5834     
18954                            5835     ;       *******************************************
18955                            5836     ;       ***             2007-12-12              ***
18956                            5837     ;       *******************************************
18957                                     ***** BEGIN-POOL *****
18958 000037FC 00000000                   DATA FOR SOURCE-LINE 5790
18959 00003800 00000000                   DATA FOR SOURCE-LINE 5793
18960 00003804 00000000                   DATA FOR SOURCE-LINE 5796
18961 00003808 00000000                   DATA FOR SOURCE-LINE 5802
18962 0000380C 00000000                   DATA FOR SOURCE-LINE 5803
18963 00003810 00000000                   DATA FOR SOURCE-LINE 5805
18964 00003814 00000000                   DATA FOR SOURCE-LINE 5812
18965 00003818 00000000                   DATA FOR SOURCE-LINE 5821
18966 0000381C 00000000                   DATA FOR SOURCE-LINE 5825
18967 00003820 00000000                   DATA FOR SOURCE-LINE 5829
18968                                     ***** END-POOL *****
18969 00003824                   5838             .ALIGN  4                               ;
18970 00003824                   5839     _CYCL_DOWN_POS_REF:
18971                            5840             SUB_START
18972 00003824 4F22                   M           STS.L   PR,@-R15                ;[必要]
18973                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18974                            5841     ;;      MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
18975                            5842     ;;      MOV.L   @R1,R0                          ;
18976 00003826 D103              5843             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
18977 00003828 6012              5844             MOV.L   @R1,R0                          ;
18978 0000382A D103              5845             MOV.L   #_SHOT_MOST_DOWN_POS,R1
18979 0000382C 2102              5846             MOV.L   R0,@R1                          ;
18980                            5847             SUB_END
18981                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18982 0000382E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18983                            5848             M_RTS
18984 00003830 000B                   M           RTS                             ;RTSの後ろの
18985 00003832 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18986                            5849     
18987                            5850     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   233
PROGRAM NAME =

18988                            5851     ;       ***     どのﾓｰﾄﾞでも1回しかこない       ***
18989                            5852     ;       *******************************************
18990                            5853     ;       止まるとき（安全一、連続停止時２回通る）
18991                            5854     ;
18992                                     ***** BEGIN-POOL *****
18993 00003834 00000000                   DATA FOR SOURCE-LINE 5843
18994 00003838 00000000                   DATA FOR SOURCE-LINE 5845
18995                                     ***** END-POOL *****
18996 0000383C                   5855             .ALIGN  4                               ;
18997 0000383C                   5856     _MOTION_CYCLE_ED2:
18998                            5857             SUB_START
18999 0000383C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19000                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19001                            5858     
19002                            5859     ;       ==========================
19003 0000383E D104              5860             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;//非表示ｶｳﾝﾀ 2->1->0(表示)
19004 00003840 6011              5861             MOV.W   @R1,R0                  ;
19005 00003842 2008              5862             TST     R0,R0                   ;
19006                            5863             TST_BIT_OF MOTCYC_ED2_050       ;
19007 00003844 8901                   M           BT      MOTCYC_ED2_050
19008 00003846 70FF              5864             ADD     #-1,R0                  ;
19009 00003848 2101              5865             MOV.W   R0,@R1                  ;
19010 0000384A                   5866     MOTCYC_ED2_050:
19011                            5867     
19012                            5868     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT5,R0
19013                            5869     
19014                            5870             SUB_END
19015                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19016 0000384A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19017                            5871             M_RTS
19018 0000384C 000B                   M           RTS                             ;RTSの後ろの
19019 0000384E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19020                            5872     
19021                                     ***** BEGIN-POOL *****
19022 00003850 00000000                   DATA FOR SOURCE-LINE 5860
19023                                     ***** END-POOL *****
19024 00003854                   5873             .ALIGN  4                               ;
19025                            5874     ;;;2016-10-31
19026                            5875     ;;;;_DBG_END_CNT1:
19027                            5876     ;;;;    SUB_START
19028                            5877     ;;;;    .AIF    0 EQ    0
19029                            5878     ;;;;    MOV.L   #_PVP_A_LOT_CNT1,R1
19030                            5879     ;;;;    .AELSE
19031                            5880     ;;;;    MOV.L   #_PVP_B_LOT_CNT1,R1
19032                            5881     ;;;;    .AENDI
19033                            5882     ;;;;    MOV.W   @R1,R0
19034                            5883     ;;;;    ADD     #1,R0
19035                            5884     ;;;;    MOV.W   R0,@R1  ;
19036                            5885     ;;;;    SUB_END
19037                            5886     ;;;;    M_RTS
19038                            5887     ;;;;
19039                            5888     ;;;;    .ALIGN  4                               ;
19040                            5889     ;;;;_DBG_END_CNT2:
19041                            5890     ;;;;    SUB_START
19042                            5891     ;;;;    .AIF    0 EQ    0
19043                            5892     ;;;;    MOV.L   #_PVP_A_LOT_CNT2,R1
19044                            5893     ;;;;    .AELSE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   234
PROGRAM NAME =

19045                            5894     ;;;;    MOV.L   #_PVP_B_LOT_CNT2,R1
19046                            5895     ;;;;    .AENDI
19047                            5896     ;;;;    MOV.W   @R1,R0
19048                            5897     ;;;;    ADD     #1,R0
19049                            5898     ;;;;    MOV.W   R0,@R1  ;
19050                            5899     ;;;;    SUB_END
19051                            5900     ;;;;    M_RTS
19052                            5901     ;;;;
19053                            5902     ;;;;_DBG_END_CNT3:
19054                            5903     ;;;;    SUB_START
19055                            5904     ;;;;    .AIF    0 EQ    0
19056                            5905     ;;;;    MOV.L   #_PVP_A_LOT_CNT3,R1
19057                            5906     ;;;;    .AELSE
19058                            5907     ;;;;    MOV.L   #_PVP_B_LOT_CNT3,R1
19059                            5908     ;;;;    .AENDI
19060                            5909     ;;;;    MOV.W   @R1,R0
19061                            5910     ;;;;    ADD     #1,R0
19062                            5911     ;;;;    MOV.W   R0,@R1  ;
19063                            5912     ;;;;    SUB_END
19064                            5913     ;;;;    M_RTS
19065                            5914     ;;;;
19066                            5915     ;;;;_DBG_END_CNT4:
19067                            5916     ;;;;    SUB_START
19068                            5917     ;;;;    .AIF    0 EQ    0
19069                            5918     ;;;;    MOV.L   #_PVP_A_LOT_CNT4,R1
19070                            5919     ;;;;    .AELSE
19071                            5920     ;;;;    MOV.L   #_PVP_B_LOT_CNT4,R1
19072                            5921     ;;;;    .AENDI
19073                            5922     ;;;;    MOV.W   @R1,R0
19074                            5923     ;;;;    ADD     #1,R0
19075                            5924     ;;;;    MOV.W   R0,@R1  ;
19076                            5925     ;;;;    SUB_END
19077                            5926     ;;;;    M_RTS
19078                            5927     ;;;;
19079                            5928     ;;;;_DBG_END_CNT5:
19080                            5929     ;;;;    SUB_START
19081                            5930     ;;;;    .AIF    0 EQ    0
19082                            5931     ;;;;    MOV.L   #_PVP_A_LOT_CNT5,R1
19083                            5932     ;;;;    .AELSE
19084                            5933     ;;;;    MOV.L   #_PVP_B_LOT_CNT5,R1
19085                            5934     ;;;;    MOV.W   @R1,R0
19086                            5935     ;;;;    ADD     #1,R0
19087                            5936     ;;;;    MOV.W   R0,@R1  ;
19088                            5937     ;;;;    .AENDI
19089                            5938     ;;;;    SUB_END
19090                            5939     ;;;;    M_RTS
19091                            5940     ;;;;
19092                            5941     
19093                            5942     
19094                            5943     
19095                            5944     
19096                            5945     ;       ***********************************
19097                            5946     ;       ***     200usec --> 2msec       ***
19098                            5947     ;       ***********************************
19099                            5948     
19100                            5949     ;       ***********************************
19101                            5950     ;       ***     200usec --> 2msec       ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   235
PROGRAM NAME =

19102                            5951     ;       ***********************************
19103 00003854                   5952             .ALIGN  4                               ;
19104 00003854                   5953     _INT_POS_DATA_REF:
19105                            5954             SUB_START
19106 00003854 4F22                   M           STS.L   PR,@-R15                ;[必要]
19107                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19108                            5955             SUB_END
19109                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19110 00003856 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19111                            5956             M_RTS
19112 00003858 000B                   M           RTS                             ;RTSの後ろの
19113 0000385A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19114                            5957     
19115                            5958     
19116                            5959     ;       ***********************************
19117                            5960     ;       ***     払い出しカウント        ***
19118                            5961     ;       ***********************************
19119                            5962             .EXPORT _OUT_UP_DN_TOTAL_CNT
19120 0000385C                   5963             .ALIGN  4                               ;
19121 0000385C                   5964     _OUT_UP_DN_TOTAL_CNT:
19122                            5965             SUB_START
19123 0000385C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19124                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19125                            5966     
19126                            5967     ;;;;;   いらない
19127                            5968     ;;;;;   -2013-04-14 [１段目停止位置＝２段目停止位置などでﾘｱﾙと払出完了のﾀｲﾐﾝｸﾞ用]---------
19128                            5969     ;;;;;   FAR_JSR #_LOD_POS_STS_REG_POR,R0        ;
19129                            5970     ;;;;;   MOV.L   #_PLS_OUT_END_STS,R1            ;
19130                            5971     ;;;;;;  MOV.W   R0,@R1                          ;BIT2=1 ﾊﾟﾙｽ出力完了
19131                            5972     ;       ----------------------------------------------------
19132                            5973     
19133                            5974     
19134                            5975     
19135                            5976     
19136                            5977     
19137                            5978     
19138                            5979     
19139                            5980     
19140                            5981     
19141 0000385E D621              5982             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(
                                          残ﾊﾟﾙｽではない)
19142 00003860 6061              5983             MOV.W   @R6,R0                                                  ;+/-に関わらず+す
                                          るｶｳﾝﾀ
19143                            5984     
19144                            5985     ;       -----------------2007-11-26 前回と同じならもう一度読み込みを行う----------------
19145 00003862 D421              5986             MOV.L   #_CHK_LSI_LOAD_OUT_CNT,R4                               ;
19146 00003864 6141              5987             MOV.W   @R4,R1
19147 00003866 2401              5988             MOV.W   R0,@R4
19148 00003868 3100              5989             CMP/EQ  R0,R1
19149 0000386A 8B01              5990             BF      OUTPLS_CNT_CHK010                                       ;
19150 0000386C D61D              5991             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;
19151 0000386E 6061              5992             MOV.W   @R6,R0                                                  ;
19152 00003870                   5993     OUTPLS_CNT_CHK010:                                                      ;
19153                            5994     
19154                            5995     
19155                            5996     
19156 00003870 9436              5997             MOV.W   #H'FF00,R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   236
PROGRAM NAME =

19157 00003872 6203              5998             MOV     R0,R2
19158 00003874 2249              5999             AND     R4,R2
19159                            6000     
19160 00003876 6161              6001             MOV.W   @R6,R1                                                  ;
19161 00003878 2149              6002             AND     R4,R1
19162 0000387A 3210              6003             CMP/EQ  R1,R2                                                   ;桁　FFFF=>0　上位
                                          8BITが一致している
19163 0000387C 8900              6004             BT      OUTPLS_CNT_CHK020                                       ;
19164 0000387E 6061              6005             MOV.W   @R6,R0                                                  ;
19165 00003880                   6006     OUTPLS_CNT_CHK020:                                                      ;
19166                            6007     
19167                            6008     
19168 00003880 D11A              6009             MOV.L   #_POSLSI_CHK_CNT,R1                                     ;
19169 00003882 6211              6010             MOV.W   @R1,R2                                                  ;
19170 00003884 2101              6011             MOV.W   R0,@R1                                                  ;
19171 00003886 622D              6012             EXTU.W  R2,R2                                                   ;
19172 00003888 600D              6013             EXTU.W  R0,R0                                                   ;
19173 0000388A 3028              6014             SUB     R2,R0                                                   ;
19174 0000388C 600F              6015             EXTS.W  R0,R0                                                   ;
19175 0000388E 4011              6016             CMP/PZ  R0                                                      ;
19176 00003890 8900              6017             BT      OUTPLS_CNT_CHK050                                       ;
19177 00003892 600B              6018             NEG     R0,R0                                                   ;
19178 00003894                   6019     OUTPLS_CNT_CHK050:                                                      ;
19179 00003894 D116              6020             MOV.L   #_POSLSI_CHK_DLT,R1                                     ;変化量 +のみ
19180 00003896 2101              6021             MOV.W   R0,@R1                                                  ;
19181 00003898 D416              6022             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
19182 0000389A 6141              6023             MOV.W   @R4,R1
19183 0000389C 9321              6024             MOV.W   #BIT0,R3                                                ;
19184                            6025     
19185                            6026     
19186 0000389E 255A              6027             XOR     R5,R5                                                   ;
19187 000038A0 6603              6028             MOV     R0,R6                                                   ;
19188                            6029     
19189 000038A2 2138              6030             TST     R3,R1                                                   ;
19190                            6031             TST_BIT_OF OUTPLS_CNT_CHK100                                    ;BIT3=0 "+"
19191 000038A4 8903                   M           BT      OUTPLS_CNT_CHK100
19192 000038A6 666B              6032             NEG     R6,R6                                                   ;
19193 000038A8 4611              6033             CMP/PZ  R6
19194 000038AA 8900              6034             BT      OUTPLS_CNT_CHK100                                       ;
19195 000038AC 75FF              6035             ADD     #-1,R5                                                  ;
19196 000038AE                   6036     OUTPLS_CNT_CHK100:                                                      ;
19197                            6037     
19198                            6038     ;       === 2003-07-01 1msec差分速度算出用 ==
19199 000038AE D312              6039             MOV.L   #_OUTPLS_DELT,R3                        ;符号付
19200 000038B0 2361              6040             MOV.W   R6,@R3                                  ;
19201                            6041     
19202                            6042     ;       =====================================
19203                            6043             PUSH_REG1 R5                                                    ;異常測定用
19204 000038B2 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
19205                                 M                                           ;REG=>[SP]
19206                                 M                                           ;"-4" FF,FF,FF,FC
19207                            6044             PUSH_REG1 R6                                                    ;
19208 000038B4 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
19209                                 M                                           ;REG=>[SP]
19210                                 M                                           ;"-4" FF,FF,FF,FC
19211 000038B6 D311              6045             MOV.L   #_POSLSI_OUTPUT_TOTAL_PLS,R3                            ;
19212 000038B8 6132              6046             MOV.L   @R3,R1                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   237
PROGRAM NAME =

19213 000038BA 5231              6047             MOV.L   @(4,R3),R2                                              ;
19214                            6048             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
19215 000038BC 0008                   M           CLRT
19216 000038BE 326E                   M           ADDC    R6,R2
19217 000038C0 315E                   M           ADDC    R5,R1
19218 000038C2 2312              6049             MOV.L   R1,@R3                                                  ;
19219 000038C4 1321              6050             MOV.L   R2,@(4,R3)                                              ;
19220                            6051             POP_REG1 R6                                                     ;
19221                                 M                                   ; RE"+4" 00,00,00,04
19222 000038C6 66F6                   M           MOV.L   @R15+,R6        ;
19223                            6052             POP_REG1 R5                                                     ;
19224                                 M                                   ; RE"+4" 00,00,00,04
19225 000038C8 65F6                   M           MOV.L   @R15+,R5        ;
19226                            6053     
19227                            6054     ;       =========       20060919 現在位置管理用 =============
19228 000038CA D30D              6055             MOV.L   #_LINK_RL_OBJ_ABSPLS,R3                         ;
19229 000038CC 6132              6056             MOV.L   @R3,R1                                                  ;
19230 000038CE 5231              6057             MOV.L   @(4,R3),R2                                              ;
19231                            6058             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
19232 000038D0 0008                   M           CLRT
19233 000038D2 326E                   M           ADDC    R6,R2
19234 000038D4 315E                   M           ADDC    R5,R1
19235 000038D6 2312              6059             MOV.L   R1,@R3                                                  ;
19236 000038D8 1321              6060             MOV.L   R2,@(4,R3)                                              ;
19237                            6061     
19238                            6062     
19239                            6063     
19240                            6064             SUB_END
19241                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19242 000038DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19243                            6065             M_RTS
19244 000038DC 000B                   M           RTS                             ;RTSの後ろの
19245 000038DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19246                            6066     
19247                            6067     ;       *******************************************
19248                            6068     ;       ***                                     ***
19249                            6069     ;       ***                                     ***
19250                            6070     ;       ***             ニアゼロチェック        ***
19251                            6071     ;       ***                                     ***
19252                            6072     ;       *******************************************
19253                            6073     ;       R0= -1:完了
19254                            6074     ;
19255                                     ***** BEGIN-POOL *****
19256 000038E0 FF00                       DATA FOR SOURCE-LINE 5997
19257 000038E2 0001                       DATA FOR SOURCE-LINE 6024
19258 000038E4 00000000                   DATA FOR SOURCE-LINE 5982,5991
19259 000038E8 00000000                   DATA FOR SOURCE-LINE 5986
19260 000038EC 00000000                   DATA FOR SOURCE-LINE 6009
19261 000038F0 00000000                   DATA FOR SOURCE-LINE 6020
19262 000038F4 00000000                   DATA FOR SOURCE-LINE 6022
19263 000038F8 00000000                   DATA FOR SOURCE-LINE 6039
19264 000038FC 00000000                   DATA FOR SOURCE-LINE 6045
19265 00003900 00000000                   DATA FOR SOURCE-LINE 6055
19266                                     ***** END-POOL *****
19267 00003904                   6075             .ALIGN  4                               ;
19268 00003904                   6076     _OPEN_ROT_NEAR1_ZERO_CHK:
19269                            6077             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   238
PROGRAM NAME =

19270 00003904 4F22                   M           STS.L   PR,@-R15                ;[必要]
19271                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19272                            6078             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
19273 00003906 D008                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19274 00003908 400B                   M           JSR     @R0                     ;
19275 0000390A 0009                   M           NOP                                     ;
19276                            6079     
19277                            6080     ;       =====2009-10-07　連続のふりこ専用ｲﾝﾎﾟｼﾞｼｮﾝ(h2wはふりこ＋反転)
19278 0000390C D107              6081             MOV.L   #_MODE_SEL,R1                   ;
19279 0000390E 6011              6082             MOV.W   @R1,R0                          ;
19280 00003910 C808              6083             TST     #_W1CNT,R0                      ;
19281                            6084             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20       ;
19282 00003912 8911                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
19283                            6085     
19284                            6086     ;       -----2009-10-07 ADD(ふりこの場合の連続ﾓｰﾄﾞのみニアゼロ幅を変える) h2wは反転も-----
                                          -
19285 00003914 D306              6087             MOV.L   #_SET1_OBJARA_INPXPSX,R3                ;ふりこ用2007-11-13
19286 00003916 6431              6088             MOV.W   @R3,R4                                  ;
19287 00003918 2448              6089             TST     R4,R4                                   ;
19288                            6090             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;"0以外"
19289 0000391A 890D                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
19290                            6091     
19291 0000391C D105              6092             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
19292 0000391E 6011              6093             MOV.W   @R1,R0                                  ;
19293                            6094     ;;;h2w  TST     #(_DMATH_REVRSE+_DMATH_DNDRIV),R0       ;DRIVE MATH 反転,ふりこ
19294 00003920 C804              6095             TST     #(_DMATH_DNDRIV),R0                     ;DRIVE MATH ふりこ
19295                            6096             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;
19296 00003922 8909                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
19297                            6097             M_BRA   OPEN_ROT_NEAR1_ZR_CK40
19298 00003924 A00A                   M           BRA     OPEN_ROT_NEAR1_ZR_CK40
19299 00003926 0009                   M           NOP
19300                            6098     
19301                            6099     
19302                                     ***** BEGIN-POOL *****
19303 00003928 00000000                   DATA FOR SOURCE-LINE 6078
19304 0000392C 00000000                   DATA FOR SOURCE-LINE 6081
19305 00003930 00000000                   DATA FOR SOURCE-LINE 6087
19306 00003934 00000000                   DATA FOR SOURCE-LINE 6092
19307                                     ***** END-POOL *****
19308 00003938                   6100     OPEN_ROT_NEAR1_ZR_CK20:
19309 00003938 D307              6101             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
19310 0000393A 6431              6102             MOV.W   @R3,R4                          ;
19311 0000393C                   6103     OPEN_ROT_NEAR1_ZR_CK40:                         ;
19312 0000393C 3423              6104             CMP/GE  R2,R4                           ;R2 =< MAX
19313 0000393E 890F              6105             BT      OPEN_ROT_NEAR1_ZR_CK50          ;
19314                            6106     ;       ==== ﾆｱｾﾞﾛ待ち======
19315                            6107             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
19316 00003940 D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19317 00003942 6011                   M           MOV.W   @R1,R0          ;
19318 00003944 CB01                   M           OR      #BIT0,R0                ;
19319 00003946 2101                   M           MOV.W   R0,@R1          ;
19320                            6108             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
19321 00003948 D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19322 0000394A 6011                   M           MOV.W   @R1,R0          ;
19323 0000394C C9FD                   M           AND     #LOW ~BIT1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   239
PROGRAM NAME =

19324 0000394E 2101                   M           MOV.W   R0,@R1          ;
19325                            6109     ;       ===============================================
19326 00003950 200A              6110             XOR     R0,R0                           ;
19327                            6111             M_BRA   OPEN_ROT_NEAR1_ZR_CK100
19328 00003952 A016                   M           BRA     OPEN_ROT_NEAR1_ZR_CK100
19329 00003954 0009                   M           NOP
19330                            6112     
19331                                     ***** BEGIN-POOL *****
19332 00003956 0000                       ALIGNMENT CODE
19333 00003958 00000000                   DATA FOR SOURCE-LINE 6101
19334 0000395C 00000000                   DATA FOR SOURCE-LINE 6107,6108
19335                                     ***** END-POOL *****
19336 00003960                   6113     OPEN_ROT_NEAR1_ZR_CK50:
19337                            6114     ;       =========[ﾆｱｾﾞﾛ]======================================
19338                            6115             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
19339 00003960 D109                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
19340 00003962 6011                   M           MOV.W   @R1,R0          ;
19341 00003964 CB01                   M           OR      #BIT0,R0                ;
19342 00003966 2101                   M           MOV.W   R0,@R1          ;
19343                            6116             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT0,WKREG=R1 ;2012-12-10 DEB
                                          UG
19344 00003968 D108                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
19345 0000396A 6011                   M           MOV.W   @R1,R0          ;
19346 0000396C CB01                   M           OR      #BIT0,R0                ;
19347 0000396E 2101                   M           MOV.W   R0,@R1          ;
19348                            6117     
19349                            6118     
19350                            6119     
19351                            6120             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
19352 00003970 D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19353 00003972 6011                   M           MOV.W   @R1,R0          ;
19354 00003974 C9FE                   M           AND     #LOW ~BIT0,R0           ;
19355 00003976 2101                   M           MOV.W   R0,@R1          ;
19356                            6121             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
19357 00003978 D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19358 0000397A 6011                   M           MOV.W   @R1,R0          ;
19359 0000397C CB02                   M           OR      #BIT1,R0                ;
19360 0000397E 2101                   M           MOV.W   R0,@R1          ;
19361                            6122     
19362                            6123     ;       ===============================================
19363 00003980 E0FF              6124             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
19364 00003982                   6125     OPEN_ROT_NEAR1_ZR_CK100:                                ;
19365                            6126             SUB_END
19366                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19367 00003982 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19368                            6127             M_RTS
19369 00003984 000B                   M           RTS                             ;RTSの後ろの
19370 00003986 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19371                            6128     
19372                            6129     ;       *******************************************
19373                            6130     ;       ***                                     ***
19374                            6131     ;       ***     反転の戻り工程だけの            ***
19375                            6132     ;       ***             ニアゼロチェック        ***
19376                            6133     ;       ***                                     ***
19377                            6134     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   240
PROGRAM NAME =

19378                            6135     ;       R0= -1:完了
19379                            6136     ;
19380                                     ***** BEGIN-POOL *****
19381 00003988 00000000                   DATA FOR SOURCE-LINE 6115
19382 0000398C 00000000                   DATA FOR SOURCE-LINE 6116
19383 00003990 00000000                   DATA FOR SOURCE-LINE 6120,6121
19384                                     ***** END-POOL *****
19385 00003994                   6137             .ALIGN  4                               ;
19386 00003994                   6138     _OPEN_ROT_NEAR2_ZERO_CHK:
19387                            6139             SUB_START
19388 00003994 4F22                   M           STS.L   PR,@-R15                ;[必要]
19389                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19390                            6140             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
19391 00003996 D00A                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19392 00003998 400B                   M           JSR     @R0                     ;
19393 0000399A 0009                   M           NOP                                     ;
19394 0000399C D309              6141             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
19395 0000399E 6431              6142             MOV.W   @R3,R4                          ;
19396 000039A0 900D              6143             MOV.W   #D'1000,R0                      ;
19397 000039A2 340C              6144             ADD     R0,R4                           ;目標位置+ｲﾝﾎﾟｼﾞｼｮﾝ+1000~-ｲﾝﾎﾟｼﾞｼｮﾝ-1000
19398                            6145     
19399 000039A4 3423              6146             CMP/GE  R2,R4                           ;R2 =< MAX
19400 000039A6 8911              6147             BT      OPEN_ROT_NEAR2_ZR_CK50          ;
19401                            6148     ;       ==== ﾆｱｾﾞﾛ待ち======
19402                            6149             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
19403 000039A8 D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19404 000039AA 6011                   M           MOV.W   @R1,R0          ;
19405 000039AC CB01                   M           OR      #BIT0,R0                ;
19406 000039AE 2101                   M           MOV.W   R0,@R1          ;
19407                            6150             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
19408 000039B0 D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19409 000039B2 6011                   M           MOV.W   @R1,R0          ;
19410 000039B4 C9FD                   M           AND     #LOW ~BIT1,R0           ;
19411 000039B6 2101                   M           MOV.W   R0,@R1          ;
19412                            6151     ;       ===============================================
19413 000039B8 200A              6152             XOR     R0,R0                           ;
19414                            6153             M_BRA   OPEN_ROT_NEAR2_ZR_CK100
19415 000039BA A014                   M           BRA     OPEN_ROT_NEAR2_ZR_CK100
19416 000039BC 0009                   M           NOP
19417                            6154     
19418                                     ***** BEGIN-POOL *****
19419 000039BE 03E8                       DATA FOR SOURCE-LINE 6143
19420 000039C0 00000000                   DATA FOR SOURCE-LINE 6140
19421 000039C4 00000000                   DATA FOR SOURCE-LINE 6141
19422 000039C8 00000000                   DATA FOR SOURCE-LINE 6149,6150
19423                                     ***** END-POOL *****
19424 000039CC                   6155     OPEN_ROT_NEAR2_ZR_CK50:
19425                            6156     ;       =========[ﾆｱｾﾞﾛ]======================================
19426                            6157             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
19427 000039CC D107                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
19428 000039CE 6011                   M           MOV.W   @R1,R0          ;
19429 000039D0 CB01                   M           OR      #BIT0,R0                ;
19430 000039D2 2101                   M           MOV.W   R0,@R1          ;
19431                            6158     
19432                            6159             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   241
PROGRAM NAME =

                                          ﾃｰﾀｽ
19433 000039D4 D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19434 000039D6 6011                   M           MOV.W   @R1,R0          ;
19435 000039D8 C9FE                   M           AND     #LOW ~BIT0,R0           ;
19436 000039DA 2101                   M           MOV.W   R0,@R1          ;
19437                            6160             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
19438 000039DC D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
19439 000039DE 6011                   M           MOV.W   @R1,R0          ;
19440 000039E0 CB02                   M           OR      #BIT1,R0                ;
19441 000039E2 2101                   M           MOV.W   R0,@R1          ;
19442                            6161     
19443                            6162     ;       ===============================================
19444 000039E4 E0FF              6163             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
19445 000039E6                   6164     OPEN_ROT_NEAR2_ZR_CK100:                                ;
19446                            6165             SUB_END
19447                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19448 000039E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19449                            6166             M_RTS
19450 000039E8 000B                   M           RTS                             ;RTSの後ろの
19451 000039EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19452                            6167     
19453                            6168     
19454                            6169     ;       *******************************************
19455                            6170     ;       ***                                     ***
19456                            6171     ;       ***     カムへステップ完了を教える      ***
19457                            6172     ;       ***                                     ***
19458                            6173     ;       *******************************************
19459                            6174     ;       ﾀｲﾏ前
19460                                     ***** BEGIN-POOL *****
19461 000039EC 00000000                   DATA FOR SOURCE-LINE 6157
19462 000039F0 00000000                   DATA FOR SOURCE-LINE 6159,6160
19463                                     ***** END-POOL *****
19464 000039F4                   6175             .ALIGN  4                               ;
19465 000039F4                   6176     _CAM_1STEP_END_SIG1:
19466                            6177             SUB_START
19467 000039F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
19468                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19469 000039F6 D105              6178             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
19470 000039F8 6011              6179             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
19471 000039FA 4008              6180             SHLL2   R0                              ;
19472 000039FC D204              6181             MOV.L   #_LONG_BIT_TBL0,R2              ;
19473 000039FE 320C              6182             ADD     R0,R2                           ;
19474 00003A00 6022              6183             MOV.L   @R2,R0                          ;
19475 00003A02 D104              6184             MOV.L   #_CAM_POS_STEP_END_FLG1,R1      ;//各工程の位置決め完了
19476 00003A04 2101              6185             MOV.W   R0,@R1                          ;
19477                            6186             SUB_END
19478                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19479 00003A06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19480                            6187             M_RTS
19481 00003A08 000B                   M           RTS                             ;RTSの後ろの
19482 00003A0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19483                            6188     
19484                            6189     ;       ﾀｲﾏ後
19485                                     ***** BEGIN-POOL *****
19486 00003A0C 00000000                   DATA FOR SOURCE-LINE 6178
19487 00003A10 00000000                   DATA FOR SOURCE-LINE 6181
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   242
PROGRAM NAME =

19488 00003A14 00000000                   DATA FOR SOURCE-LINE 6184
19489                                     ***** END-POOL *****
19490 00003A18                   6190             .ALIGN  4                               ;
19491 00003A18                   6191     _CAM_1STEP_END_SIG2:
19492                            6192             SUB_START
19493 00003A18 4F22                   M           STS.L   PR,@-R15                ;[必要]
19494                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19495 00003A1A D105              6193             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
19496 00003A1C 6011              6194             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
19497 00003A1E 4008              6195             SHLL2   R0                              ;
19498 00003A20 D204              6196             MOV.L   #_LONG_BIT_TBL0,R2              ;
19499 00003A22 320C              6197             ADD     R0,R2                           ;
19500 00003A24 6022              6198             MOV.L   @R2,R0                          ;
19501 00003A26 D104              6199             MOV.L   #_CAM_POS_STEP_END_FLG2,R1      ;//各工程の位置決め完了
19502 00003A28 2101              6200             MOV.W   R0,@R1                          ;
19503                            6201             SUB_END
19504                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19505 00003A2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19506                            6202             M_RTS
19507 00003A2C 000B                   M           RTS                             ;RTSの後ろの
19508 00003A2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19509                            6203     
19510                            6204     ;       *******************************************
19511                            6205     ;       ***     ANS R1,R2 |目標-現在|=R2        ***
19512                            6206     ;       ***     ANS R0=0 目標>=現在             ***
19513                            6207     ;       *******************************************
19514                            6208     ;       4BYTE MAX +/ 7FFF,FFFF
19515                            6209             .EXPORT _INCENC_SV_HENSA_MAKE
19516                                     ***** BEGIN-POOL *****
19517 00003A30 00000000                   DATA FOR SOURCE-LINE 6193
19518 00003A34 00000000                   DATA FOR SOURCE-LINE 6196
19519 00003A38 00000000                   DATA FOR SOURCE-LINE 6199
19520                                     ***** END-POOL *****
19521 00003A3C                   6210             .ALIGN  4                               ;
19522 00003A3C                   6211     _INCENC_SV_HENSA_MAKE:
19523                            6212             SUB_START
19524 00003A3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19525                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19526 00003A3E D40C              6213             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;//abs停止目標位置
                                          (設定ﾊﾞｯｸﾗｯｼなし)
19527 00003A40 6142              6214             MOV.L   @R4,R1                                                  ;
19528 00003A42 5241              6215             MOV.L   @(1*4,R4),R2                                            ;目標位置
19529 00003A44 D40B              6216             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;20060919
19530 00003A46 6542              6217             MOV.L   @R4,R5                                                  ;
19531 00003A48 5641              6218             MOV.L   @(1*4,R4),R6                                            ;現在位置
19532                            6219             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
19533 00003A4A 0008                   M           CLRT
19534 00003A4C 326A                   M           SUBC    R6,R2
19535 00003A4E 315A                   M           SUBC    R5,R1
19536 00003A50 6013              6220             MOV     R1,R0                           ;
19537 00003A52 4111              6221             CMP/PZ  R1                              ;
19538 00003A54 8905              6222             BT      INCENC_SV_HENSA_MK050           ;
19539                            6223             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3      ;
19540 00003A56 6227                   M           NOT     R2,R2                           ;
19541 00003A58 6117                   M           NOT     R1,R1                           ;
19542 00003A5A 233A                   M           XOR     R3,R3                           ;
19543 00003A5C 0018                   M           SETT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   243
PROGRAM NAME =

19544 00003A5E 323E                   M           ADDC    R3,R2                           ;0+1+R2
19545 00003A60 313E                   M           ADDC    R3,R1                           ;
19546 00003A62                   6224     INCENC_SV_HENSA_MK050:                          ;
19547 00003A62 2118              6225             TST     R1,R1                           ;
19548                            6226             TST_BIT_OF INCENC_SV_HENSA_MK100        ;8byte
19549 00003A64 8900                   M           BT      INCENC_SV_HENSA_MK100
19550 00003A66 D204              6227             MOV.L   #H'7FFFFFFF,R2                  ;
19551 00003A68                   6228     INCENC_SV_HENSA_MK100:                          ;
19552                            6229     
19553                            6230             SUB_END
19554                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19555 00003A68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19556                            6231             M_RTS
19557 00003A6A 000B                   M           RTS                             ;RTSの後ろの
19558 00003A6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19559                            6232     
19560                            6233     ;       ***********************************
19561                            6234     ;       ***     最下死点INITAL          ***
19562                            6235     ;       ***********************************
19563                                     ***** BEGIN-POOL *****
19564 00003A6E 0000                       ALIGNMENT CODE
19565 00003A70 00000000                   DATA FOR SOURCE-LINE 6213
19566 00003A74 00000000                   DATA FOR SOURCE-LINE 6216
19567 00003A78 7FFFFFFF                   DATA FOR SOURCE-LINE 6227
19568                                     ***** END-POOL *****
19569 00003A7C                   6236             .ALIGN  4                               ;
19570 00003A7C                   6237     _MOST_DISP_DAT_INI:
19571                            6238             SUB_START
19572 00003A7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19573                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19574 00003A7E D109              6239             MOV.L   #_CYCL_START_CNT,R1             ;
19575 00003A80 6011              6240             MOV.W   @R1,R0                          ;
19576 00003A82 7001              6241             ADD     #1,R0                           ;
19577 00003A84 2101              6242             MOV.W   R0,@R1                          ;起動回数
19578                            6243     
19579                            6244     ;       ======== 2007-12-12 ====================
19580 00003A86 D108              6245             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
19581 00003A88 6212              6246             MOV.L   @R1,R2                          ;
19582 00003A8A D108              6247             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
19583 00003A8C 2122              6248             MOV.L   R2,@R1                          ;
19584                            6249     ;       =========================================
19585                            6250     
19586                            6251     ;       ====== 最下死点処理======
19587 00003A8E D108              6252             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
19588 00003A90 6012              6253             MOV.L   @R1,R0                          ;
19589 00003A92 D108              6254             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19590 00003A94 2102              6255             MOV.L   R0,@R1                          ;
19591                            6256     
19592 00003A96 D108              6257             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
19593 00003A98 6012              6258             MOV.L   @R1,R0                          ;
19594 00003A9A D108              6259             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19595 00003A9C 2102              6260             MOV.L   R0,@R1                          ;
19596                            6261     ;       =========================
19597                            6262             SUB_END
19598                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19599 00003A9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19600                            6263             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   244
PROGRAM NAME =

19601 00003AA0 000B                   M           RTS                             ;RTSの後ろの
19602 00003AA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19603                            6264     
19604                            6265     ;       ***********************************
19605                            6266     ;       ***     最下死点ｻﾝﾌﾟﾘﾝｸﾞ        ***
19606                            6267     ;       ***********************************
19607                                     ***** BEGIN-POOL *****
19608 00003AA4 00000000                   DATA FOR SOURCE-LINE 6239
19609 00003AA8 00000000                   DATA FOR SOURCE-LINE 6245
19610 00003AAC 00000000                   DATA FOR SOURCE-LINE 6247
19611 00003AB0 00000000                   DATA FOR SOURCE-LINE 6252
19612 00003AB4 00000000                   DATA FOR SOURCE-LINE 6254
19613 00003AB8 00000000                   DATA FOR SOURCE-LINE 6257
19614 00003ABC 00000000                   DATA FOR SOURCE-LINE 6259
19615                                     ***** END-POOL *****
19616 00003AC0                   6268             .ALIGN  4                               ;
19617 00003AC0                   6269     _MOST_DISP_DAT_SMP:
19618                            6270             SUB_START
19619 00003AC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
19620                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19621                            6271     ;       ====== 最下死点処理======
19622 00003AC2 D10D              6272             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
19623 00003AC4 6012              6273             MOV.L   @R1,R0                          ;
19624 00003AC6 D10D              6274             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19625 00003AC8 6212              6275             MOV.L   @R1,R2                          ;
19626 00003ACA 3023              6276             CMP/GE  R2,R0                           ; OLD < NEW(R0)
19627 00003ACC 8900              6277             BT      MOST_DISP_DATSMP_050            ;
19628 00003ACE 6203              6278             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
19629 00003AD0                   6279     MOST_DISP_DATSMP_050:                           ;
19630 00003AD0 2122              6280             MOV.L   R2,@R1                          ;
19631                            6281     
19632 00003AD2 D10B              6282             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
19633 00003AD4 6012              6283             MOV.L   @R1,R0                          ;
19634 00003AD6 D10B              6284             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19635 00003AD8 6212              6285             MOV.L   @R1,R2                          ;
19636 00003ADA 3203              6286             CMP/GE  R0,R2                           ;NEW(R0) < OLD
19637 00003ADC 8900              6287             BT      MOST_DISP_DATSMP_100            ;
19638 00003ADE 6203              6288             MOV     R0,R2                           ;最大値ｻﾝﾌﾟﾘﾝｸﾞ
19639 00003AE0                   6289     MOST_DISP_DATSMP_100:                           ;
19640 00003AE0 2122              6290             MOV.L   R2,@R1                          ;
19641                            6291     ;       =========================
19642                            6292     
19643                            6293     ;       ======== 2007-12-12(RNA_ABS_POSの最小値) ======
19644                            6294     ;       ====== 最下死点処理======
19645 00003AE2 D109              6295             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
19646 00003AE4 6012              6296             MOV.L   @R1,R0                          ;
19647 00003AE6 D109              6297             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;//
19648 00003AE8 6212              6298             MOV.L   @R1,R2                          ;
19649 00003AEA 3023              6299             CMP/GE  R2,R0                           ; OLD < NEW(R0)
19650 00003AEC 8900              6300             BT      MOST_DISP_DATSMP_150            ;
19651 00003AEE 6203              6301             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
19652 00003AF0                   6302     MOST_DISP_DATSMP_150:                           ;
19653 00003AF0 2122              6303             MOV.L   R2,@R1                          ;
19654                            6304     ;       =========================================
19655                            6305     
19656                            6306             SUB_END
19657                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   245
PROGRAM NAME =

19658 00003AF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19659                            6307             M_RTS
19660 00003AF4 000B                   M           RTS                             ;RTSの後ろの
19661 00003AF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19662                            6308     
19663                            6309     ;       ***********************************
19664                            6310     ;       ***                             ***
19665                            6311     ;       ***                             ***
19666                            6312     ;       ***                             ***
19667                            6313     ;       ***********************************
19668                                     ***** BEGIN-POOL *****
19669 00003AF8 00000000                   DATA FOR SOURCE-LINE 6272
19670 00003AFC 00000000                   DATA FOR SOURCE-LINE 6274
19671 00003B00 00000000                   DATA FOR SOURCE-LINE 6282
19672 00003B04 00000000                   DATA FOR SOURCE-LINE 6284
19673 00003B08 00000000                   DATA FOR SOURCE-LINE 6295
19674 00003B0C 00000000                   DATA FOR SOURCE-LINE 6297
19675                                     ***** END-POOL *****
19676 00003B10                   6314             .ALIGN  4                               ;
19677 00003B10                   6315     _CMP_ERR_STS_REF:
19678                            6316             SUB_START
19679 00003B10 4F22                   M           STS.L   PR,@-R15                ;[必要]
19680                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19681                            6317             SUB_END
19682                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19683 00003B12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19684                            6318             M_RTS
19685 00003B14 000B                   M           RTS                             ;RTSの後ろの
19686 00003B16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19687                            6319     
19688                            6320     
19689                            6321     ;       ***********************************
19690                            6322     ;       ***     R0=0:停止 ELSE 動作     ***
19691                            6323     ;       ***********************************
19692                            6324     ;       == R0=0 停止 R0=FF 動作
19693                            6325     ;       USED R4,R1,R0
19694                            6326             .IMPORT _CPUA_PLS_OUTF  ;
19695                            6327             .IMPORT _CPUB_PLS_OUTF  ;
19696                            6328     
19697 00003B18                   6329             .ALIGN  4                               ;
19698 00003B18                   6330     _ERR_STOP_MOV_CHK:
19699                            6331             SUB_START
19700 00003B18 4F22                   M           STS.L   PR,@-R15                ;[必要]
19701                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19702                            6332             FAR_JSR #_LOD_POS_STS_REG,R0            ;停止の判断をこれにする
19703 00003B1A D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19704 00003B1C 400B                   M           JSR     @R0                     ;
19705 00003B1E 0009                   M           NOP                                     ;
19706 00003B20 211A              6333             XOR     R1,R1                           ;
19707 00003B22 C804              6334             TST     #BIT2,R0                        ;
19708                            6335             TST_BIT_ON ERR_STOP_MOVCK050            ;
19709 00003B24 8B00                   M           BF      ERR_STOP_MOVCK050
19710 00003B26 71FF              6336             ADD     #-1,R1
19711 00003B28                   6337     ERR_STOP_MOVCK050:
19712 00003B28 6013              6338             MOV     R1,R0                           ;
19713 00003B2A D104              6339             MOV.L   #_PLS_OUTPUT_FLG,R1             ;//0払い出し停止 1払出中
19714 00003B2C 2101              6340             MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   246
PROGRAM NAME =

19715                            6341     
19716                            6342     ;       ----- 2015-07-14--------
19717                            6343      .AIF   0 EQ    0       ;
19718 00003B2E D104              6344 C           MOV.L   #_CPUA_PLS_OUTF,R1      ;
19719                            6345      .AELSE
19720                            6346             MOV.L   #_CPUB_PLS_OUTF,R1      ;
19721                            6347      .AENDI
19722 00003B30 2101              6348             MOV.W   R0,@R1                          ;
19723                            6349             SUB_END
19724                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19725 00003B32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19726                            6350             M_RTS
19727 00003B34 000B                   M           RTS                             ;RTSの後ろの
19728 00003B36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19729                            6351     
19730                            6352     ;       ***************************************************
19731                            6353     ;       ***                                             ***
19732                            6354     ;       ***                                             ***
19733                            6355     ;       ***                                             ***
19734                            6356     ;       ***                                             ***
19735                            6357     ;       ***             位置決めLSIｱｸｾｽｿﾌﾄ              ***
19736                            6358     ;       ***                                             ***
19737                            6359     ;       ***                                             ***
19738                            6360     ;       ***                                             ***
19739                            6361     ;       ***************************************************
19740                            6362     
19741                            6363     ;       === (2003-07-01 履歴用ﾃﾞｰﾀ作成) ======
19742                            6364             .EXPORT _LOAD_REST_PLS          ;残りﾊﾟﾙｽ
19743                            6365             .EXPORT _LOAD_FREQ_PLS          ;設定ﾊﾟﾙｽ
19744                            6366             .EXPORT _LOAD_NOW_FREQ_PLS      ;現在
19745                            6367             .EXPORT _LOAD_GPOINT_PLS        ;
19746                            6368     
19747                            6369             .EXPORT _LOAD_SPD_LATE          ;
19748                            6370             .EXPORT _LOAD_ACCS1_LATE        ;
19749                            6371             .EXPORT _LOAD_BASE_FREQ_PLS     ;
19750                            6372     
19751                            6373     ;       ***************************************************
19752                            6374     ;       ***                                             ***
19753                            6375     ;       ***             残りﾊﾟﾙｽREAD                    ***
19754                            6376     ;       ***             ANS:R0                          ***
19755                            6377     ;       ***************************************************
19756                            6378     ;       R0以外破壊しない
19757                            6379     ;       "残りﾊﾟﾙｽ"
19758                            6380     ;       減る方向で化けるｹｰｽもある.従って２度読みの古い方側を使用した方が良いか？
19759                            6381     ;       ３度読みでその真ん中は正しい=  >２度読みの古いほうが正しい ==>だめ
19760                            6382     ;       １回目が化けて大きくなって２回目が正常なら発生する
19761                            6383     ;       時間などチェックが必要だ
19762                                     ***** BEGIN-POOL *****
19763 00003B38 00000000                   DATA FOR SOURCE-LINE 6332
19764 00003B3C 00000000                   DATA FOR SOURCE-LINE 6339
19765 00003B40 00000000                   DATA FOR SOURCE-LINE 6344
19766                                     ***** END-POOL *****
19767 00003B44                   6384             .ALIGN  4                               ;
19768 00003B44                   6385     _LOAD_REST_PLS:
19769                            6386             SUB_START
19770 00003B44 4F22                   M           STS.L   PR,@-R15                ;[必要]
19771                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   247
PROGRAM NAME =

19772                            6387             PUSH_REG1 R1
19773 00003B46 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19774                                 M                                           ;REG=>[SP]
19775                                 M                                           ;"-4" FF,FF,FF,FC
19776                            6388             PUSH_REG1 R2
19777 00003B48 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19778                                 M                                           ;REG=>[SP]
19779                                 M                                           ;"-4" FF,FF,FF,FC
19780                            6389             PUSH_REG1 R3
19781 00003B4A 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
19782                                 M                                           ;REG=>[SP]
19783                                 M                                           ;"-4" FF,FF,FF,FC
19784                            6390             PUSH_REG1 R4
19785 00003B4C 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
19786                                 M                                           ;REG=>[SP]
19787                                 M                                           ;"-4" FF,FF,FF,FC
19788 00003B4E E30A              6391             MOV     #D'10,R3                                        ;
19789                            6392     
19790 00003B50                   6393     LOAD_RESTPLS_LOP:
19791                            6394     
19792 00003B50 D109              6395             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
19793                            6396             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
19794 00003B52 D00A                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19795 00003B54 400B                   M           JSR     @R0                     ;
19796 00003B56 0009                   M           NOP                                     ;
19797 00003B58 6403              6397             MOV     R0,R4                                           ;FIRST R0
19798                            6398     
19799 00003B5A D107              6399             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
19800                            6400             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
19801 00003B5C D007                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19802 00003B5E 400B                   M           JSR     @R0                     ;
19803 00003B60 0009                   M           NOP                                     ;
19804 00003B62 6203              6401             MOV     R0,R2                                           ;FIRST R0
19805                            6402     
19806 00003B64 D104              6403             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
19807                            6404             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
19808 00003B66 D005                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19809 00003B68 400B                   M           JSR     @R0                     ;
19810 00003B6A 0009                   M           NOP                                     ;
19811                            6405     
19812                            6406     ;       R0=<R2=<R4
19813 00003B6C 3422              6407             CMP/HS  R2,R4                                           ;R2 =< R4
19814 00003B6E 8B07              6408             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R2>R4)
19815 00003B70 3202              6409             CMP/HS  R0,R2                                           ;R0 =< R2
19816 00003B72 8B05              6410             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R0>R2)
19817                            6411             M_BRA   LOAD_RESTPLS_END                                ;R0(NEW)=<R2(MID)=<R4(OLD)
                                           R2を信用する
19818 00003B74 A00F                   M           BRA     LOAD_RESTPLS_END
19819 00003B76 0009                   M           NOP
19820                            6412     
19821                                     ***** BEGIN-POOL *****
19822 00003B78 00000000                   DATA FOR SOURCE-LINE 6395,6399,6403
19823 00003B7C 00000000                   DATA FOR SOURCE-LINE 6396,6400,6404
19824                                     ***** END-POOL *****
19825 00003B80                   6413     LOAD_RESTPLS_050:                                               ;
19826 00003B80 D109              6414             MOV.L   #_LSI_PLSRD_NG_CNT1,R1                          ;
19827 00003B82 6011              6415             MOV.W   @R1,R0                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   248
PROGRAM NAME =

19828 00003B84 7001              6416             ADD     #1,R0                                           ;
19829 00003B86 2101              6417             MOV.W   R0,@R1                                          ;
19830                            6418     
19831 00003B88 73FF              6419             ADD     #-1,R3                                          ;
19832 00003B8A 4315              6420             CMP/PL  R3                                              ;
19833 00003B8C 89E0              6421             BT      LOAD_RESTPLS_LOP                                ;
19834                            6422     ;       ==== HARD ERR ===
19835                            6423             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT5+BIT0),WKREG=R1
                                          ;R1,R0
19836 00003B8E D107                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
19837 00003B90 6011                   M           MOV.W   @R1,R0          ;
19838 00003B92 CB21                   M           OR      #(BIT5+BIT0),R0         ;
19839 00003B94 2101                   M           MOV.W   R0,@R1          ;
19840                            6424     
19841                            6425     ;;      MOV     R2,R0                                           ;
19842                            6426     ;       ANS.R2
19843 00003B96                   6427     LOAD_RESTPLS_END:
19844 00003B96 6023              6428             MOV     R2,R0                                           ;(3度読みの真ん中をデータ
                                          として使用する)
19845                            6429             POP_REG1 R4
19846                                 M                                   ; RE"+4" 00,00,00,04
19847 00003B98 64F6                   M           MOV.L   @R15+,R4        ;
19848                            6430             POP_REG1 R3
19849                                 M                                   ; RE"+4" 00,00,00,04
19850 00003B9A 63F6                   M           MOV.L   @R15+,R3        ;
19851                            6431             POP_REG1 R2
19852                                 M                                   ; RE"+4" 00,00,00,04
19853 00003B9C 62F6                   M           MOV.L   @R15+,R2        ;
19854                            6432             POP_REG1 R1
19855                                 M                                   ; RE"+4" 00,00,00,04
19856 00003B9E 61F6                   M           MOV.L   @R15+,R1        ;
19857                            6433     
19858                            6434             SUB_END
19859                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19860 00003BA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19861                            6435             M_RTS
19862 00003BA2 000B                   M           RTS                             ;RTSの後ろの
19863 00003BA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19864                            6436     
19865                            6437     ;       ***************************************************
19866                            6438     ;       ***                                             ***
19867                            6439     ;       ***             設定周波数ﾚｼﾞｽﾀREAD             ***
19868                            6440     ;       ***                                             ***
19869                            6441     ;       ***************************************************
19870                            6442     ;       R0以外破壊しない
19871                                     ***** BEGIN-POOL *****
19872 00003BA6 0000                       ALIGNMENT CODE
19873 00003BA8 00000000                   DATA FOR SOURCE-LINE 6414
19874 00003BAC 00000000                   DATA FOR SOURCE-LINE 6423
19875                                     ***** END-POOL *****
19876 00003BB0                   6443             .ALIGN  4                               ;
19877 00003BB0                   6444     _LOAD_FREQ_PLS
19878                            6445             SUB_START
19879 00003BB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
19880                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19881                            6446     
19882                            6447             PUSH_REG1 R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   249
PROGRAM NAME =

19883 00003BB2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19884                                 M                                           ;REG=>[SP]
19885                                 M                                           ;"-4" FF,FF,FF,FC
19886                            6448     
19887 00003BB4 D103              6449             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R1        ;TOP(設定)周波数
19888                            6450             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
19889 00003BB6 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19890 00003BB8 400B                   M           JSR     @R0                     ;
19891 00003BBA 0009                   M           NOP                                     ;
19892                            6451     
19893                            6452             POP_REG1 R1
19894                                 M                                   ; RE"+4" 00,00,00,04
19895 00003BBC 61F6                   M           MOV.L   @R15+,R1        ;
19896                            6453     
19897                            6454             SUB_END
19898                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19899 00003BBE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19900                            6455             M_RTS
19901 00003BC0 000B                   M           RTS                             ;RTSの後ろの
19902 00003BC2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19903                            6456     
19904                            6457     ;       ***********************************
19905                            6458     ;       ***     ベース周波数()          ***
19906                            6459     ;       ***********************************
19907                                     ***** BEGIN-POOL *****
19908 00003BC4 00000000                   DATA FOR SOURCE-LINE 6449
19909 00003BC8 00000000                   DATA FOR SOURCE-LINE 6450
19910                                     ***** END-POOL *****
19911 00003BCC                   6460             .ALIGN  4                               ;
19912 00003BCC                   6461     _LOAD_BASE_FREQ_PLS:
19913                            6462             SUB_START
19914 00003BCC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19915                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19916                            6463             PUSH_REG1 R1
19917 00003BCE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19918                                 M                                           ;REG=>[SP]
19919                                 M                                           ;"-4" FF,FF,FF,FC
19920                            6464     
19921 00003BD0 D103              6465             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R1        ;BASE(設定)周波数
19922                            6466             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
19923 00003BD2 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19924 00003BD4 400B                   M           JSR     @R0                     ;
19925 00003BD6 0009                   M           NOP                                     ;
19926                            6467     
19927                            6468     
19928                            6469             POP_REG1 R1
19929                                 M                                   ; RE"+4" 00,00,00,04
19930 00003BD8 61F6                   M           MOV.L   @R15+,R1        ;
19931                            6470             SUB_END
19932                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19933 00003BDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19934                            6471             M_RTS
19935 00003BDC 000B                   M           RTS                             ;RTSの後ろの
19936 00003BDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19937                            6472     ;       ***********************************
19938                            6473     ;       ***     加速時間()              ***
19939                            6474     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   250
PROGRAM NAME =

19940                                     ***** BEGIN-POOL *****
19941 00003BE0 00000000                   DATA FOR SOURCE-LINE 6465
19942 00003BE4 00000000                   DATA FOR SOURCE-LINE 6466
19943                                     ***** END-POOL *****
19944 00003BE8                   6475             .ALIGN  4                               ;
19945 00003BE8                   6476     _LOAD_ACCS1_LATE:
19946                            6477             SUB_START
19947 00003BE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
19948                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19949                            6478             PUSH_REG1 R1
19950 00003BEA 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19951                                 M                                           ;REG=>[SP]
19952                                 M                                           ;"-4" FF,FF,FF,FC
19953                            6479     
19954                            6480     
19955 00003BEC D102              6481             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R1        ;
19956 00003BEE 6011              6482             MOV.W   @R1,R0                                          ;
19957                            6483     
19958                            6484             POP_REG1 R1
19959                                 M                                   ; RE"+4" 00,00,00,04
19960 00003BF0 61F6                   M           MOV.L   @R15+,R1        ;
19961                            6485             SUB_END
19962                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19963 00003BF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19964                            6486             M_RTS
19965 00003BF4 000B                   M           RTS                             ;RTSの後ろの
19966 00003BF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19967                            6487     
19968                            6488     ;       ***************************
19969                            6489     ;       ***     LATE()          ***
19970                            6490     ;       ***************************
19971                                     ***** BEGIN-POOL *****
19972 00003BF8 00000000                   DATA FOR SOURCE-LINE 6481
19973                                     ***** END-POOL *****
19974 00003BFC                   6491             .ALIGN  4                               ;
19975 00003BFC                   6492     _LOAD_SPD_LATE:
19976                            6493             SUB_START
19977 00003BFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19978                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19979                            6494             PUSH_REG1 R1
19980 00003BFE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19981                                 M                                           ;REG=>[SP]
19982                                 M                                           ;"-4" FF,FF,FF,FC
19983                            6495     
19984 00003C00 D102              6496             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R1        ;
19985 00003C02 6011              6497             MOV.W   @R1,R0                                          ;
19986                            6498     
19987                            6499             POP_REG1 R1
19988                                 M                                   ; RE"+4" 00,00,00,04
19989 00003C04 61F6                   M           MOV.L   @R15+,R1        ;
19990                            6500             SUB_END
19991                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19992 00003C06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19993                            6501             M_RTS
19994 00003C08 000B                   M           RTS                             ;RTSの後ろの
19995 00003C0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19996                            6502     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   251
PROGRAM NAME =

19997                            6503     
19998                            6504     
19999                            6505     ;       ***************************************************
20000                            6506     ;       ***                                             ***
20001                            6507     ;       ***             現在周波数ﾚｼﾞｽﾀREAD             ***
20002                            6508     ;       ***                                             ***
20003                            6509     ;       ***************************************************
20004                            6510     ;       R0以外破壊しない
20005                                     ***** BEGIN-POOL *****
20006 00003C0C 00000000                   DATA FOR SOURCE-LINE 6496
20007                                     ***** END-POOL *****
20008 00003C10                   6511             .ALIGN  4                               ;
20009 00003C10                   6512     _LOAD_NOW_FREQ_PLS
20010                            6513             SUB_START
20011 00003C10 4F22                   M           STS.L   PR,@-R15                ;[必要]
20012                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20013                            6514     
20014                            6515             PUSH_REG1 R1
20015 00003C12 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20016                                 M                                           ;REG=>[SP]
20017                                 M                                           ;"-4" FF,FF,FF,FC
20018                            6516     
20019 00003C14 D103              6517             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowFreqL,R1        ;R/W 現在周波数
20020                            6518             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20021 00003C16 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20022 00003C18 400B                   M           JSR     @R0                     ;
20023 00003C1A 0009                   M           NOP                                     ;
20024                            6519     
20025                            6520             POP_REG1 R1
20026                                 M                                   ; RE"+4" 00,00,00,04
20027 00003C1C 61F6                   M           MOV.L   @R15+,R1        ;
20028                            6521             SUB_END
20029                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20030 00003C1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20031                            6522             M_RTS
20032 00003C20 000B                   M           RTS                             ;RTSの後ろの
20033 00003C22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20034                            6523     
20035                            6524     ;       ***************************************************
20036                            6525     ;       ***                                             ***
20037                            6526     ;       ***             減速距離READ                    ***
20038                            6527     ;       ***                                             ***
20039                            6528     ;       ***************************************************
20040                            6529     ;       R0以外破壊しない
20041                                     ***** BEGIN-POOL *****
20042 00003C24 00000000                   DATA FOR SOURCE-LINE 6517
20043 00003C28 00000000                   DATA FOR SOURCE-LINE 6518
20044                                     ***** END-POOL *****
20045 00003C2C                   6530             .ALIGN  4                               ;
20046 00003C2C                   6531     _LOAD_GPOINT_PLS
20047                            6532             SUB_START
20048 00003C2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20049                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20050                            6533             PUSH_REG1 R1
20051 00003C2E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20052                                 M                                           ;REG=>[SP]
20053                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   252
PROGRAM NAME =

20054                            6534     
20055 00003C30 D103              6535             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_GNpointL,R1        ;R/W 減速点
20056                            6536             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20057 00003C32 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20058 00003C34 400B                   M           JSR     @R0                     ;
20059 00003C36 0009                   M           NOP                                     ;
20060                            6537     
20061                            6538             POP_REG1 R1
20062                                 M                                   ; RE"+4" 00,00,00,04
20063 00003C38 61F6                   M           MOV.L   @R15+,R1        ;
20064                            6539             SUB_END
20065                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20066 00003C3A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20067                            6540             M_RTS
20068 00003C3C 000B                   M           RTS                             ;RTSの後ろの
20069 00003C3E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20070                            6541     
20071                            6542     ;       ***************************************************
20072                            6543     ;       ***                                             ***
20073                            6544     ;       ***             32BITﾚｼﾞｽﾀREAD                  ***
20074                            6545     ;       ***             Input  R1:ADRESS(DESTROY)       ***
20075                            6546     ;       ***             Output R0:data(ﾓﾄﾛｰﾗHEX)        ***
20076                            6547     ;       ***************************************************
20077                                     ***** BEGIN-POOL *****
20078 00003C40 00000000                   DATA FOR SOURCE-LINE 6535
20079 00003C44 00000000                   DATA FOR SOURCE-LINE 6536
20080                                     ***** END-POOL *****
20081 00003C48                   6548             .ALIGN  4                               ;
20082 00003C48                   6549     _LSI_LOAD_32BIT_DATA:
20083                            6550             SUB_START
20084 00003C48 4F22                   M           STS.L   PR,@-R15                ;[必要]
20085                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20086                            6551     ;;      PLS_READ_LATCH                                          ;2004-02-12
20087                            6552     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
20088                            6553     ;;      MOV.W   @R1+,R0                                         ;LOW WORD
20089                            6554     ;;      EXTU.W  R0,R0                                           ;
20090                            6555     ;;
20091                            6556     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
20092                            6557     ;;      MOV.W   @R1,R1                                          ;HIGH WORD
20093                            6558     ;;      EXTU.W  R1,R1                                           ;
20094                            6559     ;;      SHLL16  R1
20095                            6560     ;;      OR      R1,R0                                           ;
20096                            6561     ;;      MOV.L   #_ACCESS_ERR1+4*4,R1                            ;4 5/5
20097                            6562     
20098                            6563             POS_LSI_WORD_DUM_LOD                                    ;CS(A)
20099                                 M           PUSH_REG1 R0
20100 00003C4A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20101                                 M                                           ;REG=>[SP]
20102                                 M                                           ;"-4" FF,FF,FF,FC
20103 00003C4C D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
20104 00003C4E 6001                   M           MOV.W   @R0,R0
20105                                 M           POP_REG1 R0
20106                                 M                                   ; RE"+4" 00,00,00,04
20107 00003C50 60F6                   M           MOV.L   @R15+,R0        ;
20108                            6564             PLS_READ_LATCH                                          ;2004-02-12
20109                                 M           PUSH_REG1 R0                                            ;
20110 00003C52 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   253
PROGRAM NAME =

20111                                 M                                           ;REG=>[SP]
20112                                 M                                           ;"-4" FF,FF,FF,FC
20113 00003C54 D006                   M           MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
20114 00003C56 6001                   M           MOV.W   @R0,R0                                          ;
20115                                 M           POP_REG1 R0                                             ;
20116                                 M                                   ; RE"+4" 00,00,00,04
20117 00003C58 60F6                   M           MOV.L   @R15+,R0        ;
20118                            6565             POS_LSI_WORD_DUM_LOD                                    ;CS(B)
20119                                 M           PUSH_REG1 R0
20120 00003C5A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20121                                 M                                           ;REG=>[SP]
20122                                 M                                           ;"-4" FF,FF,FF,FC
20123 00003C5C D003                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
20124 00003C5E 6001                   M           MOV.W   @R0,R0
20125                                 M           POP_REG1 R0
20126                                 M                                   ; RE"+4" 00,00,00,04
20127 00003C60 60F6                   M           MOV.L   @R15+,R0        ;
20128 00003C62 6012              6566             MOV.L   @R1,R0                                          ;LONG
20129 00003C64 6009              6567             SWAP.W  R0,R0                                           ;
20130                            6568     
20131                            6569             SUB_END
20132                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20133 00003C66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20134                            6570             M_RTS
20135 00003C68 000B                   M           RTS                             ;RTSの後ろの
20136 00003C6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20137                            6571     
20138                            6572     
20139                            6573     ;       *******************************************
20140                            6574     ;       ***     2003-07-01 指令ﾊﾟﾙｽの速度演算   ***
20141                            6575     ;       *******************************************
20142                            6576             .EXPORT _OUT_PLS_SPD_CALC
20143                            6577             .EXPORT _ENC_PLS_SPD_CALC
20144                                     ***** BEGIN-POOL *****
20145 00003C6C 00000000                   DATA FOR SOURCE-LINE 6563,6565
20146 00003C70 00000000                   DATA FOR SOURCE-LINE 6564
20147                                     ***** END-POOL *****
20148 00003C74                   6578             .ALIGN  4                               ;
20149 00003C74                   6579     _OUT_PLS_SPD_CALC:
20150                            6580             SUB_START
20151 00003C74 4F22                   M           STS.L   PR,@-R15                ;[必要]
20152                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20153 00003C76 D109              6581             MOV.L   #_OUTPLS_DELT,R1                        ;符号付
20154 00003C78 6211              6582             MOV.W   @R1,R2                                  ;
20155                            6583     ;;      SHLL    R2
20156                            6584     ;;      SHLL    R2
20157                            6585     ;;      SHLL    R2
20158                            6586     ;;      SHLL    R2                              ;*16
20159                            6587     
20160                            6588     ;       =====================================
20161 00003C7A D509              6589             MOV.L   #_OUTPLS_SPD_TOTAL,R5           ;= R5(ad4)
20162 00003C7C D609              6590             MOV.L   #_OUTPLS_SPD_AVL_TOP,R6         ;= R6(ad2)
20163 00003C7E D10A              6591             MOV.L   #_OUTPLS_POINT_SEL,R1           ;= R7(dt2)=10
20164 00003C80 6711              6592             MOV.W   @R1,R7                          ;
20165                            6593     
20166 00003C82 D80A              6594             MOV.L   #_OUTPLS_SPD_POINT,R8           ;= R8(ad2)
20167 00003C84 D90A              6595             MOV.L   #_OUT_PLS_SPD_DIR,R9            ;= R9(ad2) 0pls/s でも -と+がある
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   254
PROGRAM NAME =

20168 00003C86 DA0B              6596             MOV.L   #_OUTPLS_1000MSEC_LAT,R10       ;= R10(ad2)
20169 00003C88 DB0B              6597             MOV.L   #_OUT_PLS_SPD,R11               ;= R11(ad4)
20170 00003C8A DC0C              6598             MOV.L   #_ABS_OUT_PLS_SPD,R12           ;= R12(ad4)
20171 00003C8C DD0C              6599             MOV.L   #_PV_OUT_SPD_PER,R13            ;= R13(ad2)
20172 00003C8E DE0D              6600             MOV.L   #_PVC_BRK_OUT_SPD,R14           ;= R14(ad2)
20173                            6601     
20174                            6602             FAR_JSR #_DELT_POS_SPD_CHG1,R0          ;ANS R2 ABS_PLS
20175 00003C90 D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20176 00003C92 400B                   M           JSR     @R0                     ;
20177 00003C94 0009                   M           NOP                                     ;
20178                            6603     
20179                            6604             SUB_END
20180                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20181 00003C96 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20182                            6605             M_RTS
20183 00003C98 000B                   M           RTS                             ;RTSの後ろの
20184 00003C9A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20185                            6606     ;       *******************************************
20186                            6607     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
20187                            6608     ;       *******************************************
20188                                     ***** BEGIN-POOL *****
20189 00003C9C 00000000                   DATA FOR SOURCE-LINE 6581
20190 00003CA0 00000000                   DATA FOR SOURCE-LINE 6589
20191 00003CA4 00000000                   DATA FOR SOURCE-LINE 6590
20192 00003CA8 00000000                   DATA FOR SOURCE-LINE 6591
20193 00003CAC 00000000                   DATA FOR SOURCE-LINE 6594
20194 00003CB0 00000000                   DATA FOR SOURCE-LINE 6595
20195 00003CB4 00000000                   DATA FOR SOURCE-LINE 6596
20196 00003CB8 00000000                   DATA FOR SOURCE-LINE 6597
20197 00003CBC 00000000                   DATA FOR SOURCE-LINE 6598
20198 00003CC0 00000000                   DATA FOR SOURCE-LINE 6599
20199 00003CC4 00000000                   DATA FOR SOURCE-LINE 6600
20200 00003CC8 00000000                   DATA FOR SOURCE-LINE 6602
20201                                     ***** END-POOL *****
20202 00003CCC                   6609             .ALIGN  4                               ;
20203 00003CCC                   6610     _ENC_PLS_SPD_CALC:
20204                            6611             SUB_START
20205 00003CCC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20206                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20207                            6612     
20208                            6613     ;       === 2003-07-01 1msec差分速度算出用 ==
20209 00003CCE D109              6614             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
20210 00003CD0 6211              6615             MOV.W   @R1,R2                                  ;R2(dt2)
20211                            6616     ;       =====================================
20212 00003CD2 D509              6617             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
20213 00003CD4 D609              6618             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
20214 00003CD6 D10A              6619             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
20215 00003CD8 6711              6620             MOV.W   @R1,R7                                  ;
20216                            6621     
20217 00003CDA D80A              6622             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
20218 00003CDC D90A              6623             MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
20219 00003CDE DA0B              6624             MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
20220 00003CE0 DB0B              6625             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
20221 00003CE2 DC0C              6626             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
20222 00003CE4 DD0C              6627             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
20223 00003CE6 DE0D              6628             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2) per
20224                            6629             FAR_JSR #_DELT_POS_SPD_CHG1,R0                  ;ANS R2 ABS_PLS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   255
PROGRAM NAME =

20225 00003CE8 D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20226 00003CEA 400B                   M           JSR     @R0                     ;
20227 00003CEC 0009                   M           NOP                                     ;
20228                            6630     
20229                            6631             SUB_END
20230                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20231 00003CEE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20232                            6632             M_RTS
20233 00003CF0 000B                   M           RTS                             ;RTSの後ろの
20234 00003CF2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20235                            6633     
20236                            6634     
20237                            6635     ;       *******************************************
20238                            6636     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
20239                            6637     ;       *******************************************
20240                                     ***** BEGIN-POOL *****
20241 00003CF4 00000000                   DATA FOR SOURCE-LINE 6614
20242 00003CF8 00000000                   DATA FOR SOURCE-LINE 6617
20243 00003CFC 00000000                   DATA FOR SOURCE-LINE 6618
20244 00003D00 00000000                   DATA FOR SOURCE-LINE 6619
20245 00003D04 00000000                   DATA FOR SOURCE-LINE 6622
20246 00003D08 00000000                   DATA FOR SOURCE-LINE 6623
20247 00003D0C 00000000                   DATA FOR SOURCE-LINE 6624
20248 00003D10 00000000                   DATA FOR SOURCE-LINE 6625
20249 00003D14 00000000                   DATA FOR SOURCE-LINE 6626
20250 00003D18 00000000                   DATA FOR SOURCE-LINE 6627
20251 00003D1C 00000000                   DATA FOR SOURCE-LINE 6628
20252 00003D20 00000000                   DATA FOR SOURCE-LINE 6629
20253                                     ***** END-POOL *****
20254 00003D24                   6638             .ALIGN  4                               ;
20255 00003D24                   6639     _ENC_PLS_SPD_CLR:
20256                            6640             SUB_START
20257 00003D24 4F22                   M           STS.L   PR,@-R15                ;[必要]
20258                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20259                            6641     
20260 00003D26 222A              6642             XOR     R2,R2
20261 00003D28 D10A              6643             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
20262 00003D2A 2121              6644             MOV.W   R2,@R1                                  ;
20263                            6645     
20264 00003D2C D50A              6646             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
20265 00003D2E D60B              6647             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
20266 00003D30 D10B              6648             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
20267 00003D32 6711              6649             MOV.W   @R1,R7                                  ;
20268 00003D34 D80B              6650             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
20269                            6651             FAR_JSR #_DELT_POS_SPD_CLR,R0                   ;
20270 00003D36 D00C                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20271 00003D38 400B                   M           JSR     @R0                     ;
20272 00003D3A 0009                   M           NOP                                     ;
20273                            6652     
20274                            6653     ;;;     MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
20275                            6654     ;;;     MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
20276 00003D3C 200A              6655             XOR     R0,R0
20277 00003D3E DB0B              6656             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
20278 00003D40 2B02              6657             MOV.L   R0,@R11
20279 00003D42 DC0B              6658             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
20280 00003D44 2C02              6659             MOV.L   R0,@R12
20281 00003D46 DD0B              6660             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   256
PROGRAM NAME =

20282 00003D48 2D01              6661             MOV.W   R0,@R13
20283 00003D4A DE0B              6662             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2)
20284 00003D4C 2E01              6663             MOV.W   R0,@R14
20285                            6664     
20286                            6665     
20287                            6666             SUB_END
20288                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20289 00003D4E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20290                            6667             M_RTS
20291 00003D50 000B                   M           RTS                             ;RTSの後ろの
20292 00003D52 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20293                            6668     
20294                            6669     ;       .GLOBAL _PV_ENC_SPD_PER;//0~100.00%
20295                            6670     ;       .GLOBAL _PV_OUT_SPD_PER;//0~100.00%
20296                            6671     
20297                            6672     ;_ENCPLS_SPD_TOTAL      = R5(ad4)
20298                            6673     ;_ENC_PLS_SPD_DIR       = R9(ad2) 0pls/s でも -と+がある
20299                            6674     ;_ENCPLS_POINT_SEL      = R7(dt2)=10
20300                            6675     ;_ENCPLS_DELT           = R2(dt2)
20301                            6676     ;_ENCPLS_SPD_AVL_TOP    = R6(ad2)
20302                            6677     ;_ENCPLS_SPD_POINT      = R8(ad2)
20303                            6678     ;_ENCPLS_1000MSEC_LAT   =R10(ad2)
20304                            6679     ;_ENC_PLS_SPD           = R11(ad4)
20305                            6680     ;_ABS_ENC_PLS_SPD       = R12(ad4)
20306                            6681     ;_PV_ENC_SPD_PER        =R13(ad2)
20307                            6682     ;_PVC_ENC_SPD_PER       =R14(ad2)MINLIMIT
20308                            6683     ;R0,R1,R2,R3,R4 WORK
20309                            6684     
20310                            6685     ;       ***********************************************************
20311                            6686     ;       ***                                                     ***
20312                            6687     ;       ***     1msecのﾃﾞｰﾀの移動平均を行う                     ***
20313                            6688     ;       ***     不感帯がないと停止時はｸﾘｱ処理ばかりはしる       ***
20314                            6689     ;       ***     処理の重さだけの話になる                        ***
20315                            6690     ;       ***     (+/-10pls溜まるまで待つか=>やらない)            ***
20316                            6691     ;       ***                                                     ***
20317                            6692     ;       ***********************************************************
20318                                     ***** BEGIN-POOL *****
20319 00003D54 00000000                   DATA FOR SOURCE-LINE 6643
20320 00003D58 00000000                   DATA FOR SOURCE-LINE 6646
20321 00003D5C 00000000                   DATA FOR SOURCE-LINE 6647
20322 00003D60 00000000                   DATA FOR SOURCE-LINE 6648
20323 00003D64 00000000                   DATA FOR SOURCE-LINE 6650
20324 00003D68 00000000                   DATA FOR SOURCE-LINE 6651
20325 00003D6C 00000000                   DATA FOR SOURCE-LINE 6656
20326 00003D70 00000000                   DATA FOR SOURCE-LINE 6658
20327 00003D74 00000000                   DATA FOR SOURCE-LINE 6660
20328 00003D78 00000000                   DATA FOR SOURCE-LINE 6662
20329                                     ***** END-POOL *****
20330 00003D7C                   6693             .ALIGN  4                               ;
20331 00003D7C                   6694     _DELT_POS_SPD_CHG1:
20332                            6695             SUB_START
20333 00003D7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20334                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20335                            6696     
20336 00003D7E 2778              6697             TST     R7,R7                   ;
20337                            6698             TST_BIT_ON DELT_POS_SPDCG1_020  ;
20338 00003D80 8B00                   M           BF      DELT_POS_SPDCG1_020
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   257
PROGRAM NAME =

20339 00003D82 7701              6699             ADD     #1,R7                   ;
20340 00003D84                   6700     DELT_POS_SPDCG1_020:                    ;
20341                            6701     
20342 00003D84 2228              6702             TST     R2,R2                   ;R2=0
20343                            6703             TST_BIT_OF DELT_POS_SPDCG1_200  ;
20344 00003D86 890C                   M           BT      DELT_POS_SPDCG1_200
20345 00003D88 6091              6704             MOV.W   @R9,R0                  ;符号LOAD
20346 00003D8A 4211              6705             CMP/PZ  R2                      ;
20347 00003D8C 8903              6706             BT      DELT_POS_SPDCG1_050     ;"+"
20348 00003D8E 2008              6707             TST     R0,R0                   ;
20349                            6708             TST_BIT_ON DELT_POS_SPDCG1_200  ;"-" CLR処理不要
20350 00003D90 8B07                   M           BF      DELT_POS_SPDCG1_200
20351                            6709             M_BRA   DELT_POS_SPDCG1_100     ;前回-で今回+ ｸﾘｱ必要
20352 00003D92 A002                   M           BRA     DELT_POS_SPDCG1_100
20353 00003D94 0009                   M           NOP
20354                            6710     
20355 00003D96                   6711     DELT_POS_SPDCG1_050:
20356 00003D96 2008              6712             TST     R0,R0                   ;
20357                            6713             TST_BIT_OF DELT_POS_SPDCG1_200  ;今回も前回も+
20358 00003D98 8903                   M           BT      DELT_POS_SPDCG1_200
20359                            6714     
20360                            6715     ;       ====== CLR =======
20361 00003D9A                   6716     DELT_POS_SPDCG1_100:
20362                            6717             FAR_JSR #_DELT_POS_SPD_CLR,R0
20363 00003D9A D020                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20364 00003D9C 400B                   M           JSR     @R0                     ;
20365 00003D9E 0009                   M           NOP                                     ;
20366                            6718     
20367                            6719     
20368 00003DA0 0009              6720             NOP                             ;ﾊﾞﾌｧはｸﾘｱするけど計算は行う
20369                            6721     
20370                            6722     ;       ====================================
20371 00003DA2                   6723     DELT_POS_SPDCG1_200:
20372 00003DA2 6081              6724             MOV.W   @R8,R0                  ;POINTER
20373 00003DA4 4000              6725             SHLL    R0                      ;2Byte
20374 00003DA6 360C              6726             ADD     R0,R6                   ;TOP+POINTER
20375 00003DA8 6161              6727             MOV.W   @R6,R1                  ;OLD LOAD
20376 00003DAA 2621              6728             MOV.W   R2,@R6                  ;NEW SAVE
20377 00003DAC 6352              6729             MOV.L   @R5,R3                  ;TOTAL
20378 00003DAE 332C              6730             ADD     R2,R3                   ;
20379 00003DB0 3318              6731             SUB     R1,R3                   ;
20380 00003DB2 2532              6732             MOV.L   R3,@R5                  ;TOTAL REFLASH
20381 00003DB4 4001              6733             SHLR    R0                      ;
20382 00003DB6 7001              6734             ADD     #1,R0                   ;
20383 00003DB8 3072              6735             CMP/HS  R7,R0                   ;R7(10) =<R0(0~9)
20384 00003DBA 8B00              6736             BF      DELT_POS_SPDCG1_250     ;
20385 00003DBC 200A              6737             XOR     R0,R0                   ;
20386 00003DBE                   6738     DELT_POS_SPDCG1_250:                    ;
20387 00003DBE 2801              6739             MOV.W   R0,@R8                  ;POINTER +1 REFLASH
20388                            6740     ;       ==================================
20389 00003DC0 61A1              6741             MOV.W   @R10,R1                 ;TOTAL(10msec)*100=PLS/S
20390 00003DC2 331D              6742             DMULS.L R1,R3                   ;total*100=pps
20391 00003DC4 021A              6743             STS     MACL,R2                 ;
20392                            6744     
20393 00003DC6 2B22              6745             MOV.L   R2,@R11                 ;_ENC_PLS_SPD 符号付 0.1pps??1PPSでしょう。
20394 00003DC8 2228              6746             TST     R2,R2                   ;
20395                            6747             TST_BIT_OF DELT_POS_SPDCG1_350  ;速度が0なら符号は変えない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   258
PROGRAM NAME =

20396 00003DCA 8905                   M           BT      DELT_POS_SPDCG1_350
20397                            6748     
20398 00003DCC 200A              6749             XOR     R0,R0                   ;
20399 00003DCE 4211              6750             CMP/PZ  R2                      ;+?
20400 00003DD0 8901              6751             BT      DELT_POS_SPDCG1_300     ;
20401 00003DD2 622B              6752             NEG     R2,R2                   ;
20402 00003DD4 E0FF              6753             MOV     #-1,R0                  ;
20403 00003DD6                   6754     DELT_POS_SPDCG1_300:                    ;
20404 00003DD6 2901              6755             MOV.W   R0,@R9                  ;SHIN _ENC_PLS_SPD_DIR
20405 00003DD8                   6756     DELT_POS_SPDCG1_350:                    ;
20406                            6757     
20407                            6758     ;       =========================================
20408 00003DD8 D111              6759             MOV.L   #_WPAR_ZERO_SPD,R1                      ;
20409 00003DDA 6011              6760             MOV.W   @R1,R0                                  ;
20410 00003DDC 3202              6761             CMP/HS  R0,R2                                   ;MIN
20411 00003DDE 8900              6762             BT      DELT_POS_SPDCG1_380                     ;
20412 00003DE0 222A              6763             XOR     R2,R2                                   ;
20413 00003DE2                   6764     DELT_POS_SPDCG1_380:                                    ;
20414 00003DE2 2C22              6765             MOV.L   R2,@R12                 ;_ABS_ENC_PLS_SPD       = R12(ad4)
20415                            6766     
20416                            6767     ;       ==== 速度換算 ======
20417                            6768     ;;;2010-10-22   MOV.L   #_LINK_MAX_SPD_PLS,R0                   ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
20418 00003DE4 D00F              6769             MOV.L   #_SETD_LINK_MAX_SPD_PLS,R0                      ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s[SETD_LINK_MAX_SPD_PLS　ｻｰﾎﾞﾊﾟﾗ]
20419 00003DE6 6402              6770             MOV.L   @R0,R4                                          ;
20420 00003DE8 9115              6771             MOV.W   #_SPD_PER_MAX,R1                                ;100.00per
20421                            6772             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
20422 00003DEA D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20423 00003DEC 400B                   M           JSR     @R0                     ;
20424 00003DEE 0009                   M           NOP                                     ;
20425 00003DF0 9112              6773             MOV.W   #_SPD_PER_MAX*110/100,R1                        ;110.00per
20426                            6774             REG_PMAX_MMIN   DATA_REG=R2,MAX_MIN_REG=R1              ;R1=10000
20427 00003DF2 3123                   M           CMP/GE  R2,R1           ;
20428 00003DF4 8900                   M           BT      JMP0100014                              ;DATA =< MAX
20429 00003DF6 6213                   M           MOV     R1,R2           ;MAX LIMIT
20430 00003DF8                        M   JMP0100014:                                     ;
20431 00003DF8 611B                   M           NEG     R1,R1   ;
20432 00003DFA 3213                   M           CMP/GE  R1,R2           ;
20433 00003DFC 8900                   M           BT      JMP0200014                              ;MIN =< DATA
20434 00003DFE 6213                   M           MOV     R1,R2           ;MIN LIMIT
20435 00003E00                        M   JMP0200014:                                     ;
20436 00003E00 611B                   M           NEG     R1,R1   ;
20437 00003E02 2D21              6775             MOV.W   R2,@R13                                         ;_PV_ENC_SPD_PER
20438                            6776     
20439                            6777     ;       =========================================
20440 00003E04 D109              6778             MOV.L   #_WPAR_BRK_SEL_SPD,R1                   ;%
20441 00003E06 6011              6779             MOV.W   @R1,R0                                  ;
20442 00003E08 3202              6780             CMP/HS  R0,R2                                   ;MIN
20443 00003E0A 8900              6781             BT      DELT_POS_SPDCG1_430                     ;
20444 00003E0C 222A              6782             XOR     R2,R2                                   ;
20445 00003E0E                   6783     DELT_POS_SPDCG1_430:                                    ;
20446 00003E0E 2E21              6784             MOV.W   R2,@R14                                 ;_PVC_BRK_ENC_SPD
20447                            6785     
20448                            6786             SUB_END
20449                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20450 00003E10 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   259
PROGRAM NAME =

20451                            6787             M_RTS
20452 00003E12 000B                   M           RTS                             ;RTSの後ろの
20453 00003E14 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20454                            6788     
20455                            6789     ;       ===== INPUT R5 TOTAL
20456                            6790     ;       ===== INPUT R6 AVL_TOP
20457                            6791     ;       ===== INPUT R7 POINTER MAX
20458                            6792     ;       ===== INPUT R8 POINTER
20459                            6793     ;       DESTROY R0,R1,R4
20460                            6794     ;
20461                                     ***** BEGIN-POOL *****
20462 00003E16 2710                       DATA FOR SOURCE-LINE 6771
20463 00003E18 2AF8                       DATA FOR SOURCE-LINE 6773
20464 00003E1A 0000                       ALIGNMENT CODE
20465 00003E1C 00000000                   DATA FOR SOURCE-LINE 6717
20466 00003E20 00000000                   DATA FOR SOURCE-LINE 6759
20467 00003E24 00000000                   DATA FOR SOURCE-LINE 6769
20468 00003E28 00000000                   DATA FOR SOURCE-LINE 6772
20469 00003E2C 00000000                   DATA FOR SOURCE-LINE 6778
20470                                     ***** END-POOL *****
20471 00003E30                   6795             .ALIGN  4                               ;
20472 00003E30                   6796     _DELT_POS_SPD_CLR:
20473                            6797             SUB_START
20474 00003E30 4F22                   M           STS.L   PR,@-R15                ;[必要]
20475                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20476 00003E32 244A              6798             XOR     R4,R4                   ;
20477 00003E34 2841              6799             MOV.W   R4,@R8                  ;POINTER-CLR
20478 00003E36 2542              6800             MOV.L   R4,@R5                  ;TOTAL-CLR
20479                            6801     
20480 00003E38 6073              6802             MOV     R7,R0                   ;POINTER MAX
20481 00003E3A 6173              6803             MOV     R7,R1                   ;
20482 00003E3C 71FF              6804             ADD     #-1,R1                  ;
20483 00003E3E 4100              6805             SHLL    R1                      ;
20484 00003E40 316C              6806             ADD     R6,R1                   ;TOP+MAX
20485                            6807     
20486 00003E42                   6808     DELT_POS_SPDCG1_150:                    ;
20487 00003E42 2141              6809             MOV.W   R4,@R1                  ;
20488 00003E44 71FE              6810             ADD     #-2,R1                  ;
20489 00003E46 70FF              6811             ADD     #-1,R0                  ;
20490 00003E48 2008              6812             TST     R0,R0                   ;
20491                            6813             TST_BIT_ON DELT_POS_SPDCG1_150  ;
20492 00003E4A 8BFA                   M           BF      DELT_POS_SPDCG1_150
20493                            6814             SUB_END
20494                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20495 00003E4C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20496                            6815             M_RTS
20497 00003E4E 000B                   M           RTS                             ;RTSの後ろの
20498 00003E50 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20499                            6816     
20500                            6817     ;       ***************************
20501                            6818     ;       ***     減速中信号      ***
20502                            6819     ;       ***************************
20503                            6820     ;       TOP周波数ﾚｼﾞｽﾀ >現在周波数ﾚｼﾞｽﾀにて減速中
20504                            6821     ;       ・最終減速かどうかは,最終工程にて判断を行う
20505                            6822     ;       ・停止工程かどうか
20506                            6823     ;       R0,R1,R2,R3,R4,R6
20507                            6824     ;       R0=0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   260
PROGRAM NAME =

20508                            6825             .EXPORT _GENSOK_SIG_MAK         ;
20509 00003E54                   6826             .ALIGN  4                               ;
20510 00003E54                   6827     _GENSOK_SIG_MAK:
20511                            6828             SUB_START
20512 00003E54 4F22                   M           STS.L   PR,@-R15                ;[必要]
20513                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20514                            6829     
20515                            6830             FAR_JSR #_LOD_POS_STS_REG,R0    ;
20516 00003E56 D003                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20517 00003E58 400B                   M           JSR     @R0                     ;
20518 00003E5A 0009                   M           NOP                                     ;
20519 00003E5C C804              6831             TST     #BIT2,R0                ;停止中
20520                            6832             TST_BIT_OF GENSOK_SIGMK_050     ;
20521 00003E5E 8903                   M           BT      GENSOK_SIGMK_050
20522                            6833             M_BRA   GENSOK_SIGMK_OF         ;YES:STOP NOT 減速中
20523 00003E60 A00D                   M           BRA     GENSOK_SIGMK_OF
20524 00003E62 0009                   M           NOP
20525                            6834     
20526                                     ***** BEGIN-POOL *****
20527 00003E64 00000000                   DATA FOR SOURCE-LINE 6830
20528                                     ***** END-POOL *****
20529 00003E68                   6835     GENSOK_SIGMK_050:                       ;
20530 00003E68 D102              6836             MOV.L   #_POSCTL_STEP_FLG,R1    ;
20531 00003E6A 6011              6837             MOV.W   @R1,R0                  ;
20532 00003E6C C806              6838             TST     #(BIT2+BIT1),R0         ;
20533                            6839             TST_BIT_ON GENSOK_SIGMK_ON      ;
20534 00003E6E 8B03                   M           BF      GENSOK_SIGMK_ON
20535                            6840             M_BRA   GENSOK_SIGMK_OF         ;
20536 00003E70 A005                   M           BRA     GENSOK_SIGMK_OF
20537 00003E72 0009                   M           NOP
20538                            6841     
20539                            6842     
20540                                     ***** BEGIN-POOL *****
20541 00003E74 00000000                   DATA FOR SOURCE-LINE 6836
20542                                     ***** END-POOL *****
20543 00003E78                   6843     GENSOK_SIGMK_ON:                        ;
20544 00003E78 E001              6844             MOV     #BIT0,R0
20545                            6845             M_BRA   GENSOK_SIGMK_END        ;
20546 00003E7A A001                   M           BRA     GENSOK_SIGMK_END
20547 00003E7C 0009                   M           NOP
20548 00003E7E                   6846     GENSOK_SIGMK_OF:                        ;
20549 00003E7E 200A              6847             XOR     R0,R0                   ;
20550 00003E80                   6848     GENSOK_SIGMK_END:                       ;
20551                            6849             SUB_END
20552                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20553 00003E80 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20554                            6850             M_RTS
20555 00003E82 000B                   M           RTS                             ;RTSの後ろの
20556 00003E84 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20557                            6851     
20558                            6852     
20559                            6853             .INCLUDE        "ssa_fulc.inc"          ;//ﾌﾙｸﾛｰｽﾞ処理
20560                               1 I1  ;       ***********************************
20561                               2 I1  ;       ***                             ***
20562                               3 I1  ;       ***     フルクローズ関連        ***
20563                               4 I1  ;       ***                             ***
20564                               5 I1  ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   261
PROGRAM NAME =

20565          000003E8             6 I1  _POS_LATE1              .EQU    D'1000  ;100.0%
20566          000003E8             7 I1  _POS_GEN_BEFORE_LNG     .EQU    D'1000  ;1000ﾊﾟﾙｽ
20567          000003E8             8 I1  _POS_LATE_CALC_MAX      .EQU    D'1000  ;1000ﾊﾟﾙｽ
20568                               9 I1  
20569                              10 I1          .IMPORT _PAR_NEGERR_ENB         ;2012-05-30
20570                              11 I1          .IMPORT _PAR_NEG_EXITTIM        ;2012-10-05
20571                              12 I1  
20572                              13 I1          .IMPORT _PAR_KAJYU_HLDSPD       ;1　一旦停止中の荷重制御速度
20573                              14 I1          .IMPORT _PAR_KAJYU_ARASPD       ;2[荷重制御]一旦停止中のromﾊﾟﾗ範囲外 荷重制御速度
                                          pls7/s
20574                              15 I1          .IMPORT _PAR_KAJYU_CHGARA       ;3[荷重制御] 20KNを設定の荷重完了範囲から引くARA->
                                          HLD
20575                              16 I1  
20576                              17 I1          .IMPORT _PAR_NEGCTL_SPDS1       ;
20577                              18 I1  
20578                              19 I1          .IMPORT _PAR_KAJYU_CTIM1        ;2015-06-22周期１
20579                              20 I1          .IMPORT _PAR_KAJYU_CTIM2        ;2015-06-22周期２
20580                              21 I1          .IMPORT _PAR_KAJYU_STPARA       ;2015-06-22出力停止幅
20581                              22 I1          .IMPORT _PAR_KAJYU_FIRST        ;2015-06-22荷重制御開始幅 2015-06-11(H2W/H1F)
20582                              23 I1  
20583                              24 I1          .EXPORT _REVRSE_BASINC_SPDCALC  ;2015-03-15
20584                              25 I1  
20585                              26 I1  ;       ***********************************
20586                              27 I1  ;       ***                             ***
20587                              28 I1  ;       ***     払出中処理              ***
20588                              29 I1  ;       ***     (起動時の)              ***
20589                              30 I1  ;       ***                             ***
20590                              31 I1  ;       ***********************************
20591                              32 I1  ;       ANS     R0=0     (制御状態)
20592                              33 I1  ;               R0.BIT2=1(BUSY完了)
20593                              34 I1  ;
20594                              35 I1  ;_INT_CLS_CTL_FLG,R1    ;
20595                              36 I1  ;BIT0:INIT START
20596                              37 I1  ;BIT1:(反転必要)==>停止待ち<再計算>
20597                              38 I1  ;BIT2:ﾆｱｾﾞﾛに入った<1回目>==>停止待ち<払出=0 待ち>
20598                              39 I1  ;BIT3:ﾆｱｾﾞﾛに入ったまたは停止後の処理(KPに関係なく残ﾊﾟﾙｽ=0なら1ﾊﾟﾙｽずつ足していく)
20599                              40 I1  ;BIT4:
20600                              41 I1  ;BIT5:
20601                              42 I1  ;BIT6:完了
20602                              43 I1  ;残りﾊﾟﾙｽ+AのAの上限は1000ﾊﾟﾙｽとする<>
20603                              44 I1  ;
20604                              45 I1  ;
20605                              46 I1  ;(本当はこの中で多段の動きを考慮して、”Ｖ”指定の処理も必要)
20606                              47 I1  ;
20607                              48 I1  ;;;;    .IMPORT _CPUB_HENSA_FLG_CLR                     ;
20608                              49 I1  
20609 00003E86                     50 I1  _POS_CLS_TYP1_POS_CTL1:
20610                              51 I1          SUB_START
20611 00003E86 4F22                   M           STS.L   PR,@-R15                ;[必要]
20612                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20613                              52 I1  
20614                              53 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
20615                              54 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   @R6,R11                                                 ;(data lat
                                          ch)
20616                              55 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_ACCESS_ERR1+9*4,R6                                    ;**
20617                              56 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    SWAP.W  R11,R11                                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   262
PROGRAM NAME =

20618                              57 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
20619                              58 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   R11,@R1                                                 ;
20620                              59 I1  
20621                              60 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
20622                              61 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
20623 00003E88 D01B                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20624 00003E8A 400B                   M           JSR     @R0                     ;
20625 00003E8C 0009                   M           NOP                                     ;
20626                              62 C           PUSH_REG1 R5                                    ;
20627 00003E8E 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
20628                                 M                                           ;REG=>[SP]
20629                                 M                                           ;"-4" FF,FF,FF,FC
20630                              63 C           PUSH_REG1 R0                                    ;
20631 00003E90 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20632                                 M                                           ;REG=>[SP]
20633                                 M                                           ;"-4" FF,FF,FF,FC
20634                              64 C           FAR_JSR #_KJYU_DATA_INFO_SEL,R0                 ;227.13
20635 00003E92 D01A                   M           MOV.L   #_KJYU_DATA_INFO_SEL,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20636 00003E94 400B                   M           JSR     @R0                     ;
20637 00003E96 0009                   M           NOP                                     ;
20638                              65 C           POP_REG1 R0                                     ;
20639                                 M                                   ; RE"+4" 00,00,00,04
20640 00003E98 60F6                   M           MOV.L   @R15+,R0        ;
20641                              66 C           POP_REG1 R5                                     ;
20642                                 M                                   ; RE"+4" 00,00,00,04
20643 00003E9A 65F6                   M           MOV.L   @R15+,R5        ;
20644                              67 C   
20645                              68 C   ;;;;    FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
20646                              69 C   
20647                              70             .AELSE
20648                              71             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0              ;(目標位置､実測位置作成,R0=R5=ｸﾛｰｽ
                                          ﾞするかどうか？)
20649                              72             .AENDI
20650                              73 I1  
20651                              74 I1  
20652                              75 I1  
20653 00003E9C 2008                76 I1          TST     R0,R0                                   ;
20654                              77 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_NOT             ;R5=工程 R0=0停止工程ではない
20655 00003E9E 8908                   M           BT      POS_CLS_TYP1_POSCTL1_NOT
20656                              78 I1  
20657                              79 I1  ;       ---------------2014-09-22 REPEAT-----------
20658 00003EA0 D117                80 I1          MOV.L   #_MOT_REP_F,R1                          ;//BIT0(ﾘﾋﾟｰﾄ動作
20659 00003EA2 6011                81 I1          MOV.W   @R1,R0                                  ;
20660 00003EA4 C801                82 I1          TST     #BIT0,R0                                ;
20661                              83 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_NOT20           ;
20662 00003EA6 8B07                   M           BF      POS_CLS_TYP1_POSCTL1_NOT20
20663                              84 I1  
20664                              85 I1  
20665 00003EA8 D116                86 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;//設定
20666 00003EAA 6211                87 I1          MOV.W   @R1,R2                                  ;
20667 00003EAC 7201                88 I1          ADD     #1,R2                                   ;
20668 00003EAE 3250                89 I1          CMP/EQ  R5,R2                                   ;
20669 00003EB0 8B3B                90 I1          BF      POS_CLS_TYP1_POSCTL1_000                ;最終工程(戻り)ではない
20670                              91 I1  
20671 00003EB2                     92 I1  POS_CLS_TYP1_POSCTL1_NOT:                               ;
20672                              93 I1  
20673                              94 I1  ;       ===== ｻｲｸﾙﾁｪﾝｼﾞ====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   263
PROGRAM NAME =

20674                              95 I1  ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
20675                              96 I1          FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
20676 00003EB2 D015                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20677 00003EB4 400B                   M           JSR     @R0                     ;
20678 00003EB6 0009                   M           NOP                                     ;
20679                              97 I1  
20680 00003EB8                     98 I1  POS_CLS_TYP1_POSCTL1_NOT20:                             ;
20681                              99 I1  
20682                             100 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
20683 00003EB8 D014                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20684 00003EBA 400B                   M           JSR     @R0                     ;
20685 00003EBC 0009                   M           NOP                                     ;
20686                             101 I1  ;       ===========================================
20687                             102 I1  ;       ===             最終工程                ===
20688                             103 I1  ;       ===========================================
20689                             104 I1  ;       ﾊﾝﾄﾞｼｪｲｸのみ行う
20690                             105 I1  ;;      FAR_JSR #_OPEN_ROT_NEAR_ZERO_CHK,R0             ;
20691                             106 I1  
20692                             107 I1          FAR_JSR #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;(ｵｰﾌﾟﾝでﾆｱｾﾞﾛにいるかどうか)
20693 00003EBE D014                   M           MOV.L   #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20694 00003EC0 400B                   M           JSR     @R0                     ;
20695 00003EC2 0009                   M           NOP                                     ;
20696                             108 I1  
20697                             109 I1  
20698                             110 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
20699 00003EC4 D113                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20700 00003EC6 410B                   M           JSR     @R1                     ;
20701 00003EC8 0009                   M           NOP                                     ;
20702 00003ECA C804               111 I1          TST     #BIT2,R0                                ;
20703                             112 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;払出完了?
20704 00003ECC 892A                   M           BT      TYP1_OPEN_PRC_200
20705                             113 I1  
20706                             114 I1          FAR_JSR #_CPU_BA_NZR_ON_JG,R0                   ;
20707 00003ECE D012                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20708 00003ED0 400B                   M           JSR     @R0                     ;
20709 00003ED2 0009                   M           NOP                                     ;
20710 00003ED4 2008               115 I1          TST     R0,R0                                   ;
20711                             116 I1          TST_BIT_OF TYP1_OPEN_PRC_050                    ;相手側は終わった
20712 00003ED6 8903                   M           BT      TYP1_OPEN_PRC_050
20713 00003ED8 D110               117 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;ﾆｱｾﾞﾛ扱い
20714 00003EDA 6011               118 I1          MOV.W   @R1,R0                                  ;
20715 00003EDC CB01               119 I1          OR      #BIT0,R0                                ;
20716 00003EDE 2101               120 I1          MOV.W   R0,@R1                                  ;
20717 00003EE0                    121 I1  TYP1_OPEN_PRC_050:
20718                             122 I1  
20719 00003EE0 D10E               123 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;
20720 00003EE2 6011               124 I1          MOV.W   @R1,R0                                  ;
20721 00003EE4 2008               125 I1          TST     R0,R0                                   ;
20722                             126 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
20723 00003EE6 891D                   M           BT      TYP1_OPEN_PRC_200
20724                             127 I1  
20725                             128 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
20726 00003EE8 D00D                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20727 00003EEA 400B                   M           JSR     @R0                     ;
20728 00003EEC 0009                   M           NOP                                     ;
20729 00003EEE 2008               129 I1          TST     R0,R0                                   ;
20730                             130 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   264
PROGRAM NAME =

20731 00003EF0 8918                   M           BT      TYP1_OPEN_PRC_200
20732                             131 I1  
20733 00003EF2 E004               132 I1          MOV     #BIT2,R0                                ;
20734                             133 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;ﾆｱｾﾞﾛ+払い出し完了
20735 00003EF4 A1AE                   M           BRA     POS_CLS_TYP1_POSCTL1_END
20736 00003EF6 0009                   M           NOP
20737                             134 I1  
20738                                 I1  ***** BEGIN-POOL *****
20739 00003EF8 00000000               I1  DATA FOR SOURCE-LINE 61
20740 00003EFC 00000000               I1  DATA FOR SOURCE-LINE 64
20741 00003F00 00000000               I1  DATA FOR SOURCE-LINE 80
20742 00003F04 00000000               I1  DATA FOR SOURCE-LINE 86
20743 00003F08 00000000               I1  DATA FOR SOURCE-LINE 96
20744 00003F0C 00000000               I1  DATA FOR SOURCE-LINE 100
20745 00003F10 00000000               I1  DATA FOR SOURCE-LINE 107
20746 00003F14 00000000               I1  DATA FOR SOURCE-LINE 110
20747 00003F18 00000000               I1  DATA FOR SOURCE-LINE 114
20748 00003F1C 00000000               I1  DATA FOR SOURCE-LINE 117,123
20749 00003F20 00000000               I1  DATA FOR SOURCE-LINE 128
20750                                 I1  ***** END-POOL *****
20751 00003F24                    135 I1  TYP1_OPEN_PRC_200
20752 00003F24 200A               136 I1          XOR     R0,R0
20753                             137 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
20754 00003F26 A195                   M           BRA     POS_CLS_TYP1_POSCTL1_END
20755 00003F28 0009                   M           NOP
20756                             138 I1  
20757                             139 I1  
20758                             140 I1  
20759                             141 I1  
20760                             142 I1  ;       ===========================
20761                             143 I1  ;       ===     ﾌﾙｸﾛｰｽﾞ         ===
20762                             144 I1  ;       ===========================
20763 00003F2A                    145 I1  POS_CLS_TYP1_POSCTL1_000:
20764 00003F2A D108               146 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
20765 00003F2C 6011               147 I1          MOV.W   @R1,R0                          ;
20766 00003F2E C801               148 I1          TST     #BIT0,R0                        ;ｸﾛｰｽﾞ処理開始?
20767                             149 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_100     ;
20768 00003F30 8B48                   M           BF      POS_CLS_TYP1_POSCTL1_100
20769                             150 I1  
20770                             151 I1  
20771                             152 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
20772                             153 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   @R1,R0                          ;
20773                             154 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX
                                          量
20774                             155 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   R0,@R1                          ;
20775                             156 I1  
20776                             157 I1  ;;;     ==============2012-10-05[本来の形 2012-05-30では不具合]=============
20777                             158 I1  ;;;     MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
20778                             159 I1  ;;;     MOV.W   @R1,R0                          ;
20779                             160 I1  ;;;     MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R1     ;//目標−手前
20780                             161 I1  ;;;     MOV.L   @R1,R2                          ;
20781                             162 I1  ;;;     ADD     R2,R0                           ;
20782                             163 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
20783                             164 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
20784                             165 I1  ;;;
20785                             166 I1  ;       ====== 2012-10-05 仕様変更 180度を最大追い込みとする====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   265
PROGRAM NAME =

20786                             167 I1          FAR_JSR #_FULCLS_MAXPLS_CALC,R0
20787 00003F32 D007                   M           MOV.L   #_FULCLS_MAXPLS_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20788 00003F34 400B                   M           JSR     @R0                     ;
20789 00003F36 0009                   M           NOP                                     ;
20790                             168 I1  
20791                             169 I1  
20792                             170 I1  
20793                             171 I1  
20794                             172 I1  ;       ===== SIG-OFF[1] =====
20795                             173 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
20796 00003F38 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20797 00003F3A 400B                   M           JSR     @R0                     ;
20798 00003F3C 0009                   M           NOP                                     ;
20799                             174 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;20060930POR
20800 00003F3E D106                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20801 00003F40 410B                   M           JSR     @R1                     ;
20802 00003F42 0009                   M           NOP                                     ;
20803 00003F44 C804               175 I1          TST     #BIT2,R0                                ;
20804                             176 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_050             ;[払い出しパルス終了]
20805 00003F46 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_050
20806                             177 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
20807 00003F48 A183                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
20808 00003F4A 0009                   M           NOP
20809                             178 I1  
20810                             179 I1  ;       =========================
20811                             180 I1  ;       =====(開始条件成立)======
20812                             181 I1  ;       =========================
20813                                 I1  ***** BEGIN-POOL *****
20814 00003F4C 00000000               I1  DATA FOR SOURCE-LINE 146
20815 00003F50 00000000               I1  DATA FOR SOURCE-LINE 167
20816 00003F54 00000000               I1  DATA FOR SOURCE-LINE 173
20817 00003F58 00000000               I1  DATA FOR SOURCE-LINE 174
20818                                 I1  ***** END-POOL *****
20819 00003F5C                    182 I1  POS_CLS_TYP1_POSCTL1_050:
20820 00003F5C E001               183 I1          MOV     #BIT0,R0                                ;
20821 00003F5E D10E               184 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;[step1:ｵｰﾌﾟﾝ後の起動:180度を目指
                                          す]
20822 00003F60 2101               185 I1          MOV.W   R0,@R1                                  ;
20823                             186 I1  
20824                             187 I1  ;       --------- 2012-05-30----------
20825                             188 I1  ;[[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
20826                             189 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0
20827 00003F62 D00E                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20828 00003F64 400B                   M           JSR     @R0                     ;
20829 00003F66 0009                   M           NOP                                     ;
20830                             190 I1  
20831 00003F68 D10D               191 I1          MOV.L   #_PAR_NEG_EXITTIM-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;2 2012-10-5追い込
                                          み失敗の待ち時間
20832 00003F6A 6011               192 I1          MOV.W   @R1,R0                                                  ;
20833 00003F6C D10D               193 I1          MOV.L   #_NEG_EXITTIM,R1                                        ;//超変な針の穴を
                                          通すタイマ  2012-10-05
20834 00003F6E 2101               194 I1          MOV.W   R0,@R1                                                  ;
20835                             195 I1  
20836                             196 I1  
20837                             197 I1  ;       ===ｵｰﾌﾟﾝ出力完了〜ｲﾝﾁﾝｸﾞに切り替わる時のﾓ-ﾀ遅延分のﾀｲﾏ===
20838                             198 I1  ;;;2012-05-30   MOV.W   #D'50,R0                        ;50msec
20839 00003F70 D10D               199 I1          MOV.L   #_FUL_CLS_DLYTM_SV,R1                   ;2012-05-30
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   266
PROGRAM NAME =

20840 00003F72 6011               200 I1          MOV.W   @R1,R0                                  ;2012-05-30
20841 00003F74 D10D               201 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
20842 00003F76 2101               202 I1          MOV.W   R0,@R1                                  ;遅延時間=0
20843                             203 I1  
20844                             204 I1  ;       =====2011-05-11[必要か???]======
20845                             205 I1  ;;;;;;;;;;;;;;;;;;;;;;;;;;2014-09-16悪さをしている      FAR_JSR #_FUL_START_FUL_OBJ_SET,R0
20846                             206 I1  
20847                             207 I1  
20848                             208 I1  ;       ========================
20849                             209 I1  ;       ===== 初期起動==========
20850                             210 I1  ;       ========================
20851                             211 I1  ;       自起動周波数=TOP-SPEED
20852                             212 I1  ;;;;2006-09-30  FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET1,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
20853                             213 I1  ;       -----------------------------
20854                             214 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
20855 00003F78 D00D                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20856 00003F7A 400B                   M           JSR     @R0                     ;
20857 00003F7C 0009                   M           NOP                                     ;
20858                             215 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;2007-07-07
20859 00003F7E D00D                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20860 00003F80 400B                   M           JSR     @R0                     ;
20861 00003F82 0009                   M           NOP                                     ;
20862                             216 I1  ;       -----------------------------
20863                             217 I1  ;;;;;;;;;;;;    FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
20864                             218 I1  ;
20865 00003F84 D10C               219 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
20866 00003F86 6312               220 I1          MOV.L   @R1,R3                                  ;30000ﾊﾟﾙｽでしょう2012-05-30ｺﾒﾝﾄ
20867                             221 I1                                                          ;2012-10-05 2BYTE->4BYTE 型U2B->U4
                                          Bに変更
20868                             222 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
20869 00003F88 D00C                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20870 00003F8A 400B                   M           JSR     @R0                     ;
20871 00003F8C 0009                   M           NOP                                     ;
20872                             223 I1  
20873                             224 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
20874                             225 C   ;       -------2015-03-15[R01:2014-08-20]--------
20875                             226 C           FAR_JSR #_KAJYU_START_UPCHK,R0
20876 00003F8E D00C                   M           MOV.L   #_KAJYU_START_UPCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20877 00003F90 400B                   M           JSR     @R0                     ;
20878 00003F92 0009                   M           NOP                                     ;
20879                             227 I1          .AENDI
20880                             228 I1  
20881                             229 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT   ;
20882 00003F94 A15D                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
20883 00003F96 0009                   M           NOP
20884                             230 I1  
20885                                 I1  ***** BEGIN-POOL *****
20886 00003F98 00000000               I1  DATA FOR SOURCE-LINE 184
20887 00003F9C 00000000               I1  DATA FOR SOURCE-LINE 189
20888 00003FA0 00000000               I1  DATA FOR SOURCE-LINE 191
20889 00003FA4 00000000               I1  DATA FOR SOURCE-LINE 193
20890 00003FA8 00000000               I1  DATA FOR SOURCE-LINE 199
20891 00003FAC 00000000               I1  DATA FOR SOURCE-LINE 201
20892 00003FB0 00000000               I1  DATA FOR SOURCE-LINE 214
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   267
PROGRAM NAME =

20893 00003FB4 00000000               I1  DATA FOR SOURCE-LINE 215
20894 00003FB8 00000000               I1  DATA FOR SOURCE-LINE 219
20895 00003FBC 00000000               I1  DATA FOR SOURCE-LINE 222
20896 00003FC0 00000000               I1  DATA FOR SOURCE-LINE 226
20897                                 I1  ***** END-POOL *****
20898 00003FC4                    231 I1  POS_CLS_TYP1_POSCTL1_100:
20899 00003FC4                    232 I1  POS_CLS_TYP1_POSCTL1_105:                       ;
20900                             233 I1  ;-----------------------とりあえずここ-----------------
20901                             234 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;[2015-07-22]
20902 00003FC4 D10A                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
20903 00003FC6 6412                   M           MOV.L   @R1,R4          ;
20904 00003FC8 2448                   M           TST     R4,R4                   ;
20905 00003FCA 8901                   M           BT      JMP_0100015                     ;ZERO THEN JUMP
20906 00003FCC 4410                   M           DT      R4                              ;
20907 00003FCE 2142                   M           MOV.L   R4,@R1          ;STORE
20908 00003FD0                        M   JMP_0100015:
20909                             235 I1  
20910                             236 I1  
20911                             237 I1  ;       ===========================
20912                             238 I1  ;       ===     最終遷移        ===
20913                             239 I1  ;       ===========================
20914 00003FD0 D108               240 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
20915 00003FD2 6011               241 I1          MOV.W   @R1,R0                                  ;
20916 00003FD4 C840               242 I1          TST     #BIT6,R0                                ;
20917                             243 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_110
20918 00003FD6 8915                   M           BT      POS_CLS_TYP1_POSCTL1_110
20919                             244 I1  
20920                             245 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                        ;
20921 00003FD8 D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20922 00003FDA 410B                   M           JSR     @R1                     ;
20923 00003FDC 0009                   M           NOP                                     ;
20924 00003FDE C804               246 I1          TST     #BIT2,R0                                ;
20925                             247 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_107             ;
20926 00003FE0 8904                   M           BT      POS_CLS_TYP1_POSCTL1_107
20927                             248 I1  
20928                             249 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
20929 00003FE2 D006                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20930 00003FE4 400B                   M           JSR     @R0                     ;
20931 00003FE6 0009                   M           NOP                                     ;
20932 00003FE8 2008               250 I1          TST     R0,R0                                   ;
20933                             251 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_108             ;
20934 00003FEA 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_108
20935 00003FEC                    252 I1  POS_CLS_TYP1_POSCTL1_107:                               ;
20936                             253 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
20937 00003FEC A131                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
20938 00003FEE 0009                   M           NOP
20939                             254 I1  
20940                                 I1  ***** BEGIN-POOL *****
20941 00003FF0 00000000               I1  DATA FOR SOURCE-LINE 234
20942 00003FF4 00000000               I1  DATA FOR SOURCE-LINE 240
20943 00003FF8 00000000               I1  DATA FOR SOURCE-LINE 245
20944 00003FFC 00000000               I1  DATA FOR SOURCE-LINE 249
20945                                 I1  ***** END-POOL *****
20946 00004000                    255 I1  POS_CLS_TYP1_POSCTL1_108:                               ;
20947                             256 I1          M_BRA   POS_CLS_TYP1_POSCTL1_PC_END             ;終了
20948 00004000 A124                   M           BRA     POS_CLS_TYP1_POSCTL1_PC_END
20949 00004002 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   268
PROGRAM NAME =

20950                             257 I1  
20951                             258 I1  ;       ====================================
20952                             259 I1  ;       ===     通常運転or特殊な状態    ====
20953                             260 I1  ;       ====================================
20954 00004004                    261 I1  POS_CLS_TYP1_POSCTL1_110:
20955                             262 I1  
20956                             263 I1  ;       ---------------- 2012-05-30　[[neg]][[払い出して達しなければSQへ出力するが次へ進む
                                          ]]-----------
20957 00004004 D106               264 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
20958 00004006 6011               265 I1          MOV.W   @R1,R0                          ;
20959 00004008 C801               266 I1          TST     #BIT0,R0                        ;
20960                             267 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_112     ;
20961 0000400A 890F                   M           BT      POS_CLS_TYP1_POSCTL1_112
20962 0000400C 9006               268 I1          MOV.W   #(BIT2+BIT0),R0                 ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
20963 0000400E D105               269 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
20964 00004010 2101               270 I1          MOV.W   R0,@R1                          ;
20965                             271 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0    ;
20966 00004012 D005                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20967 00004014 400B                   M           JSR     @R0                     ;
20968 00004016 0009                   M           NOP                                     ;
20969                             272 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OVER98     ;
20970 00004018 A042                   M           BRA     POS_CLS_TYP1_POSCTL1_OVER98
20971 0000401A 0009                   M           NOP
20972                                 I1  ***** BEGIN-POOL *****
20973 0000401C 0005                   I1  DATA FOR SOURCE-LINE 268
20974 0000401E 0000                   I1  ALIGNMENT CODE
20975 00004020 00000000               I1  DATA FOR SOURCE-LINE 264
20976 00004024 00000000               I1  DATA FOR SOURCE-LINE 269
20977 00004028 00000000               I1  DATA FOR SOURCE-LINE 271
20978                                 I1  ***** END-POOL *****
20979 0000402C                    273 I1  POS_CLS_TYP1_POSCTL1_112:
20980                             274 I1  ;       -----------------------------------------
20981 0000402C D102               275 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
20982 0000402E 6011               276 I1          MOV.W   @R1,R0                                  ;
20983 00004030 C806               277 I1          TST     #(BIT2+BIT1),R0                         ;
20984                             278 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_113             ;
20985 00004032 8B03                   M           BF      POS_CLS_TYP1_POSCTL1_113
20986                             279 I1          M_BRA   POS_CLS_TYP1_POSCTL1_200                ;(通常制御)
20987 00004034 A094                   M           BRA     POS_CLS_TYP1_POSCTL1_200
20988 00004036 0009                   M           NOP
20989                             280 I1  
20990                                 I1  ***** BEGIN-POOL *****
20991 00004038 00000000               I1  DATA FOR SOURCE-LINE 275
20992                                 I1  ***** END-POOL *****
20993 0000403C                    281 I1  POS_CLS_TYP1_POSCTL1_113:
20994                             282 I1  
20995                             283 I1  ;       ====== 1回ﾆｱｾﾞﾛに入ってからの処理======
20996                             284 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
20997 0000403C D004                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20998 0000403E 400B                   M           JSR     @R0                     ;
20999 00004040 0009                   M           NOP                                     ;
21000                             285 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21001 00004042 D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21002 00004044 410B                   M           JSR     @R1                     ;
21003 00004046 0009                   M           NOP                                     ;
21004 00004048 C804               286 I1          TST     #BIT2,R0                                ;
21005                             287 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_115             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   269
PROGRAM NAME =

21006 0000404A 8B05                   M           BF      POS_CLS_TYP1_POSCTL1_115
21007                             288 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
21008 0000404C A101                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21009 0000404E 0009                   M           NOP
21010                             289 I1  
21011                                 I1  ***** BEGIN-POOL *****
21012 00004050 00000000               I1  DATA FOR SOURCE-LINE 284
21013 00004054 00000000               I1  DATA FOR SOURCE-LINE 285
21014                                 I1  ***** END-POOL *****
21015 00004058                    290 I1  POS_CLS_TYP1_POSCTL1_115:                               ;
21016 00004058 D103               291 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
21017 0000405A 6011               292 I1          MOV.W   @R1,R0                                  ;遅延時間=0
21018 0000405C 2008               293 I1          TST     R0,R0                                   ;
21019                             294 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_117             ;
21020 0000405E 8905                   M           BT      POS_CLS_TYP1_POSCTL1_117
21021 00004060 70FF               295 I1          ADD     #-1,R0                                  ;
21022 00004062 2101               296 I1          MOV.W   R0,@R1                                  ;
21023                             297 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
21024 00004064 A0F5                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21025 00004066 0009                   M           NOP
21026                                 I1  ***** BEGIN-POOL *****
21027 00004068 00000000               I1  DATA FOR SOURCE-LINE 291
21028                                 I1  ***** END-POOL *****
21029 0000406C                    298 I1  POS_CLS_TYP1_POSCTL1_117:                               ;
21030                             299 I1  
21031                             300 I1  ;       ==== 停止した ====
21032                             301 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21033                             302 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21034 0000406C D008                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21035 0000406E 400B                   M           JSR     @R0                     ;
21036 00004070 0009                   M           NOP                                     ;
21037                             303 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
21038 00004072 D008                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21039 00004074 400B                   M           JSR     @R0                     ;
21040 00004076 0009                   M           NOP                                     ;
21041                             304 C           FAR_JSR #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;[1度ﾆｱｾﾞﾛに入ってからの処理]
21042 00004078 D007                   M           MOV.L   #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21043 0000407A 400B                   M           JSR     @R0                     ;
21044 0000407C 0009                   M           NOP                                     ;
21045                             305 I1          .AENDI
21046                             306 I1  
21047                             307 I1  
21048 0000407E 8800               308 I1          CMP/EQ  #0,R0                                   ;
21049 00004080 8913               309 I1          BT      POS_CLS_TYP1_POSCTL1_ED050              ;[step3]今もﾆｱｾﾞﾛ内なら完了
21050                             310 I1  
21051                             311 I1          FAR_JSR #_OVER_DIG_CHK,R0                       ;
21052 00004082 D006                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21053 00004084 400B                   M           JSR     @R0                     ;
21054 00004086 0009                   M           NOP                                     ;
21055 00004088 2008               312 I1          TST     R0,R0                                   ;
21056                             313 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_OVER99          ;
21057 0000408A 8B0B                   M           BF      POS_CLS_TYP1_POSCTL1_OVER99
21058                             314 I1          M_BRA   POS_CLS_TYP1_POSCTL1_118                ;
21059 0000408C A02C                   M           BRA     POS_CLS_TYP1_POSCTL1_118
21060 0000408E 0009                   M           NOP
21061                             315 I1  
21062                             316 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   270
PROGRAM NAME =

21063                             317 I1  
21064                             318 I1  
21065                             319 I1  ;       ===================================
21066                             320 I1  ;       ==== ﾆｱｾﾞﾛ範囲内 終了決定       ===
21067                             321 I1  ;       ===================================
21068                                 I1  ***** BEGIN-POOL *****
21069 00004090 00000000               I1  DATA FOR SOURCE-LINE 302
21070 00004094 00000000               I1  DATA FOR SOURCE-LINE 303
21071 00004098 00000000               I1  DATA FOR SOURCE-LINE 304
21072 0000409C 00000000               I1  DATA FOR SOURCE-LINE 311
21073                                 I1  ***** END-POOL *****
21074 000040A0                    322 I1  POS_CLS_TYP1_POSCTL1_OVER98:                            ;
21075 000040A0 0009               323 I1          nop
21076 000040A2 0009               324 I1          nop
21077 000040A4                    325 I1  POS_CLS_TYP1_POSCTL1_OVER99:                            ;
21078 000040A4 0009               326 I1          nop
21079 000040A6 0009               327 I1          nop
21080 000040A8 0009               328 I1          nop
21081                             329 I1  
21082 000040AA                    330 I1  POS_CLS_TYP1_POSCTL1_ED050:
21083 000040AA 0009               331 I1          nop
21084 000040AC 0009               332 I1          nop
21085                             333 I1  
21086                             334 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
21087 000040AE D009                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21088 000040B0 400B                   M           JSR     @R0                     ;
21089 000040B2 0009                   M           NOP                                     ;
21090                             335 I1  ;       ====== 二重回路対策<CPUA>===========
21091 000040B4 D108               336 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;やめる事を決定
21092 000040B6 6011               337 I1          MOV.W   @R1,R0                                  ;
21093 000040B8 CB40               338 I1          OR      #BIT6,R0                                ;
21094 000040BA 2101               339 I1          MOV.W   R0,@R1                                  ;
21095                             340 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21096 000040BC D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21097 000040BE 400B                   M           JSR     @R0                     ;
21098 000040C0 0009                   M           NOP                                     ;
21099                             341 I1  
21100                             342 I1  ;       ==================================
21101                             343 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
21102 000040C2 D007                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21103 000040C4 400B                   M           JSR     @R0                     ;
21104 000040C6 0009                   M           NOP                                     ;
21105                             344 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
21106 000040C8 D006                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21107 000040CA 400B                   M           JSR     @R0                     ;
21108 000040CC 0009                   M           NOP                                     ;
21109                             345 I1  ;       ==================================
21110                             346 I1  
21111                             347 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21112 000040CE A0C0                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21113 000040D0 0009                   M           NOP
21114                             348 I1  
21115                             349 I1  ;       ===========================
21116                             350 I1  ;       ====== ｲﾝﾁﾝｸﾞ処理==========
21117                             351 I1  ;       ===========================
21118                                 I1  ***** BEGIN-POOL *****
21119 000040D2 0000                   I1  ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   271
PROGRAM NAME =

21120 000040D4 00000000               I1  DATA FOR SOURCE-LINE 334
21121 000040D8 00000000               I1  DATA FOR SOURCE-LINE 336
21122 000040DC 00000000               I1  DATA FOR SOURCE-LINE 340
21123 000040E0 00000000               I1  DATA FOR SOURCE-LINE 343
21124 000040E4 00000000               I1  DATA FOR SOURCE-LINE 344
21125                                 I1  ***** END-POOL *****
21126 000040E8                    352 I1  POS_CLS_TYP1_POSCTL1_118:                               ;[step3 ﾊﾟﾙｽ出力停止し50msec後毎で
                                          ここにくる]
21127                             353 I1  ;       === 再起動処理(再起動時はKP=1) ====
21128                             354 I1  ;       (方向作成)
21129                             355 I1  ;       (ﾃﾞｰﾀ作成)
21130                             356 I1  
21131                             357 I1  ;       ----------- 2015-06-22[荷重・位置共通]--------------
21132 000040E8 D108               358 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;
21133 000040EA 6011               359 I1          MOV.W   @R1,R0                          ;
21134 000040EC D108               360 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
21135 000040EE 2101               361 I1          MOV.W   R0,@R1                          ;
21136                             362 I1  
21137                             363 I1  
21138                             364 I1  ;       ------- 2015-03-15[R01:2014-07-15] ----------
21139                             365 I1          .AIF    1 EQ    1               ;
21140 000040F0 D108               366 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
21141 000040F2 6011               367 C           MOV.W   @R1,R0                                  ;
21142 000040F4 2008               368 C           TST     R0,R0
21143                             369 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119A            ;位置の速度JUMP
21144 000040F6 8913                   M           BT      POS_CLS_TYP1_POSCTL1_119A
21145                             370 C   
21146                             371 C   ;       -----------2015-06-22--------
21147                             372 C   ;       [未出力[ﾆｱｾﾞﾛ]/再起動ﾊﾟﾙｽ,遅延周期選択追加]
21148                             373 C           FAR_JSR #_RESTART_WAIT_PLS_DATA_SELECT,R0       ;
21149 000040F8 D007                   M           MOV.L   #_RESTART_WAIT_PLS_DATA_SELECT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21150 000040FA 400B                   M           JSR     @R0                     ;
21151 000040FC 0009                   M           NOP                                     ;
21152 000040FE 2008               374 C           TST     R0,R0                                   ;
21153                             375 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119E_EX         ;
21154 00004100 891F                   M           BT      POS_CLS_TYP1_POSCTL1_119E_EX
21155                             376 C   
21156                             377 C           FAR_JSR #_REVRSE_KAJYU_AREACHK_BASSET,R0        ;荷重:_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟ
                                          ﾗから
21157 00004102 D006                   M           MOV.L   #_REVRSE_KAJYU_AREACHK_BASSET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21158 00004104 400B                   M           JSR     @R0                     ;
21159 00004106 0009                   M           NOP                                     ;
21160                             378 C           M_BRA   POS_CLS_TYP1_POSCTL1_119E               ;
21161 00004108 A00D                   M           BRA     POS_CLS_TYP1_POSCTL1_119E
21162 0000410A 0009                   M           NOP
21163                             379 C   
21164                             380 C   
21165                                 C   ***** BEGIN-POOL *****
21166 0000410C 00000000               C   DATA FOR SOURCE-LINE 358
21167 00004110 00000000               C   DATA FOR SOURCE-LINE 360
21168 00004114 00000000               C   DATA FOR SOURCE-LINE 366
21169 00004118 00000000               C   DATA FOR SOURCE-LINE 373
21170 0000411C 00000000               C   DATA FOR SOURCE-LINE 377
21171                                 C   ***** END-POOL *****
21172 00004120                    381 C   POS_CLS_TYP1_POSCTL1_119A:                              ;
21173                             382 C           FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   272
PROGRAM NAME =

21174 00004120 D009                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21175 00004122 400B                   M           JSR     @R0                     ;
21176 00004124 0009                   M           NOP                                     ;
21177 00004126                    383 C   POS_CLS_TYP1_POSCTL1_119E:                              ;
21178                             384 I1          .AENDI
21179                             385 I1  
21180                             386 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;R6破壊
21181 00004126 D009                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21182 00004128 400B                   M           JSR     @R0                     ;
21183 0000412A 0009                   M           NOP                                     ;
21184                             387 I1  
21185                             388 I1  ;       ------ 2015-06-22 ---------
21186                             389 I1  ;;;;    MOV.L   #_SET1_INCPOS_KP01,R1                   ;
21187                             390 I1  ;;;;    MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
21188 0000412C D108               391 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1              ;
21189 0000412E 6311               392 I1          MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
21190                             393 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
21191 00004130 D008                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21192 00004132 400B                   M           JSR     @R0                     ;
21193 00004134 0009                   M           NOP                                     ;
21194 00004136 E005               394 I1          MOV     #(BIT2+BIT0),R0                         ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
21195 00004138 D107               395 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21196 0000413A 2101               396 I1          MOV.W   R0,@R1                                  ;
21197                             397 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
21198 0000413C D007                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21199 0000413E 400B                   M           JSR     @R0                     ;
21200 00004140 0009                   M           NOP                                     ;
21201 00004142                    398 I1  POS_CLS_TYP1_POSCTL1_119E_EX:                           ;
21202                             399 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21203 00004142 A086                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21204 00004144 0009                   M           NOP
21205                             400 I1  
21206                             401 I1  
21207                             402 I1  ;       =========通常運転(ﾆｱｾﾞﾛ待ち) =====
21208                                 I1  ***** BEGIN-POOL *****
21209 00004146 0000                   I1  ALIGNMENT CODE
21210 00004148 00000000               I1  DATA FOR SOURCE-LINE 382
21211 0000414C 00000000               I1  DATA FOR SOURCE-LINE 386
21212 00004150 00000000               I1  DATA FOR SOURCE-LINE 391
21213 00004154 00000000               I1  DATA FOR SOURCE-LINE 393
21214 00004158 00000000               I1  DATA FOR SOURCE-LINE 395
21215 0000415C 00000000               I1  DATA FOR SOURCE-LINE 397
21216                                 I1  ***** END-POOL *****
21217 00004160                    403 I1  POS_CLS_TYP1_POSCTL1_200:
21218                             404 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21219                             405 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21220 00004160 D00C                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21221 00004162 400B                   M           JSR     @R0                     ;
21222 00004164 0009                   M           NOP                                     ;
21223                             406 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
21224 00004166 D00C                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21225 00004168 400B                   M           JSR     @R0                     ;
21226 0000416A 0009                   M           NOP                                     ;
21227                             407 C           FAR_JSR #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0    ;
21228 0000416C D00B                   M           MOV.L   #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21229 0000416E 400B                   M           JSR     @R0                     ;
21230 00004170 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   273
PROGRAM NAME =

21231                             408 C   
21232                             409 I1          .AENDI
21233                             410 I1  
21234                             411 I1  
21235 00004172 8800               412 I1          CMP/EQ  #0,R0                                                   ;
21236 00004174 8B1C               413 I1          BF      POS_CLS_TYP1_POSCTL1_220                                        ;
21237                             414 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;[step2:停
                                          止]
21238 00004176 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21239 00004178 400B                   M           JSR     @R0                     ;
21240 0000417A 0009                   M           NOP                                     ;
21241                             415 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
21242 0000417C D009                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21243 0000417E 400B                   M           JSR     @R0                     ;
21244 00004180 0009                   M           NOP                                     ;
21245                             416 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
21246 00004182 D109                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21247 00004184 6011                   M           MOV.W   @R1,R0          ;
21248 00004186 CB02                   M           OR      #BIT1,R0                ;
21249 00004188 2101                   M           MOV.W   R0,@R1          ;
21250                             417 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
21251 0000418A D008                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21252 0000418C 400B                   M           JSR     @R0                     ;
21253 0000418E 0009                   M           NOP                                     ;
21254                             418 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;ﾆｱｾﾞﾛにはいった
21255 00004190 A05F                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21256 00004192 0009                   M           NOP
21257                             419 I1  
21258                                 I1  ***** BEGIN-POOL *****
21259 00004194 00000000               I1  DATA FOR SOURCE-LINE 405
21260 00004198 00000000               I1  DATA FOR SOURCE-LINE 406
21261 0000419C 00000000               I1  DATA FOR SOURCE-LINE 407
21262 000041A0 00000000               I1  DATA FOR SOURCE-LINE 414
21263 000041A4 00000000               I1  DATA FOR SOURCE-LINE 415
21264 000041A8 00000000               I1  DATA FOR SOURCE-LINE 416
21265 000041AC 00000000               I1  DATA FOR SOURCE-LINE 417
21266                                 I1  ***** END-POOL *****
21267 000041B0                    420 I1  POS_CLS_TYP1_POSCTL1_220:
21268                             421 I1  
21269                             422 I1  ;       input R0
21270                             423 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21271                             424 C   ;       -----------2015-03-15 荷重の場合ニアゼロにならないからここでオーバを見る--------
21272                             425 C           PUSH_REG1 R0
21273 000041B0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21274                                 M                                           ;REG=>[SP]
21275                                 M                                           ;"-4" FF,FF,FF,FC
21276                             426 C           FAR_JSR #_OVER_DIG_CHK,R0
21277 000041B2 D004                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21278 000041B4 400B                   M           JSR     @R0                     ;
21279 000041B6 0009                   M           NOP                                     ;
21280 000041B8 6103               427 C           MOV     R0,R1                                                           ;
21281                             428 C           POP_REG1 R0
21282                                 M                                   ; RE"+4" 00,00,00,04
21283 000041BA 60F6                   M           MOV.L   @R15+,R0        ;
21284                             429 C   
21285 000041BC 2118               430 C           TST     R1,R1
21286                             431 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_222                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   274
PROGRAM NAME =

21287 000041BE 8903                   M           BT      POS_CLS_TYP1_POSCTL1_222
21288                             432 C           M_BRA   POS_CLS_TYP1_POSCTL1_250                        ;
21289 000041C0 A010                   M           BRA     POS_CLS_TYP1_POSCTL1_250
21290 000041C2 0009                   M           NOP
21291                             433 I1          .AENDI
21292                             434 I1  
21293                                 I1  ***** BEGIN-POOL *****
21294 000041C4 00000000               I1  DATA FOR SOURCE-LINE 426
21295                                 I1  ***** END-POOL *****
21296 000041C8                    435 I1  POS_CLS_TYP1_POSCTL1_222:
21297                             436 I1  ;       -----------------------------------------------------------------------
21298                             437 I1  
21299                             438 I1  
21300                             439 I1  
21301                             440 I1  
21302 000041C8 4011               441 I1          CMP/PZ  R0                                      ;+?
21303 000041CA 8B07               442 I1          BF      POS_CLS_TYP1_POSCTL1_240                ;NO ﾏｲﾅｽ
21304                             443 I1  ;       === ＋方向へ行き過ぎている　ﾏｲﾅｽへ向かうべきだ  ;
21305 000041CC D402               444 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
21306 000041CE 6041               445 I1          MOV.W   @R4,R0                                  ;
21307 000041D0 C801               446 I1          TST     #BIT0,R0                                ;
21308                             447 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_260             ;OK
21309 000041D2 8B21                   M           BF      POS_CLS_TYP1_POSCTL1_260
21310                             448 I1          M_BRA   POS_CLS_TYP1_POSCTL1_250                ;
21311 000041D4 A006                   M           BRA     POS_CLS_TYP1_POSCTL1_250
21312 000041D6 0009                   M           NOP
21313                             449 I1  
21314                                 I1  ***** BEGIN-POOL *****
21315 000041D8 00000000               I1  DATA FOR SOURCE-LINE 444
21316                                 I1  ***** END-POOL *****
21317 000041DC                    450 I1  POS_CLS_TYP1_POSCTL1_240:
21318 000041DC D409               451 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
21319 000041DE 6041               452 I1          MOV.W   @R4,R0                                  ;
21320 000041E0 C801               453 I1          TST     #BIT0,R0                                ;
21321                             454 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_260             ;OK
21322 000041E2 8919                   M           BT      POS_CLS_TYP1_POSCTL1_260
21323                             455 I1  
21324                             456 I1  ;       ======== 行き過ぎた ====
21325 000041E4                    457 I1  POS_CLS_TYP1_POSCTL1_250:
21326                             458 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;
21327 000041E4 D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21328 000041E6 400B                   M           JSR     @R0                     ;
21329 000041E8 0009                   M           NOP                                     ;
21330                             459 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
21331 000041EA D008                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21332 000041EC 400B                   M           JSR     @R0                     ;
21333 000041EE 0009                   M           NOP                                     ;
21334                             460 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
21335 000041F0 D107                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21336 000041F2 6011                   M           MOV.W   @R1,R0          ;
21337 000041F4 CB02                   M           OR      #BIT1,R0                ;
21338 000041F6 2101                   M           MOV.W   R0,@R1          ;
21339                             461 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
21340 000041F8 D006                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21341 000041FA 400B                   M           JSR     @R0                     ;
21342 000041FC 0009                   M           NOP                                     ;
21343                             462 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   275
PROGRAM NAME =

21344 000041FE A028                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21345 00004200 0009                   M           NOP
21346                             463 I1  
21347                                 I1  ***** BEGIN-POOL *****
21348 00004202 0000                   I1  ALIGNMENT CODE
21349 00004204 00000000               I1  DATA FOR SOURCE-LINE 451
21350 00004208 00000000               I1  DATA FOR SOURCE-LINE 458
21351 0000420C 00000000               I1  DATA FOR SOURCE-LINE 459
21352 00004210 00000000               I1  DATA FOR SOURCE-LINE 460
21353 00004214 00000000               I1  DATA FOR SOURCE-LINE 461
21354                                 I1  ***** END-POOL *****
21355 00004218                    464 I1  POS_CLS_TYP1_POSCTL1_260:
21356                             465 I1  
21357                             466 I1  ;-------------------------2012-05-30 CHECK ----------------
21358                             467 I1  ;;[[neg]]
21359                             468 I1  ;;[[neg]]       MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
21360                             469 I1  ;;[[neg]]       MOV.W   @R1,R0                                                  ;
21361                             470 I1  ;;[[neg]]       CMP/EQ  #1,R0                                                   ;
21362                             471 I1  ;;[[neg]]       BF      POS_CLS_TYP1_POSCTL1_280                                ;
21363                             472 I1  ;;[[neg]]
21364 00004218 D108               473 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21365 0000421A 6011               474 I1          MOV.W   @R1,R0                                  ;
21366 0000421C C806               475 I1          TST     #(BIT2+BIT1),R0                         ;
21367                             476 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_280             ;(通常制御)
21368 0000421E 8B0A                   M           BF      POS_CLS_TYP1_POSCTL1_280
21369                             477 I1  
21370                             478 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21371 00004220 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21372 00004222 400B                   M           JSR     @R0                     ;
21373 00004224 0009                   M           NOP                                     ;
21374                             479 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21375 00004226 D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21376 00004228 410B                   M           JSR     @R1                     ;
21377 0000422A 0009                   M           NOP                                     ;
21378 0000422C C804               480 I1          TST     #BIT2,R0                                ;
21379                             481 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_280             ;まだﾊﾟﾙｽがある
21380 0000422E 8902                   M           BT      POS_CLS_TYP1_POSCTL1_280
21381                             482 I1  
21382                             483 I1  ;       ---ﾊﾟﾙｽがなくなった---
21383                             484 I1          FAR_JSR #_FULCLS_MAXOVER_ERR_WT,R0              ;2012-05-30/2012-10-05
21384 00004230 D005                   M           MOV.L   #_FULCLS_MAXOVER_ERR_WT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21385 00004232 400B                   M           JSR     @R0                     ;
21386 00004234 0009                   M           NOP                                     ;
21387                             485 I1  
21388                             486 I1  ;       ----------------------------------------------------------
21389 00004236                    487 I1  POS_CLS_TYP1_POSCTL1_280:
21390                             488 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21391 00004236 A00C                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21392 00004238 0009                   M           NOP
21393                             489 I1  
21394                             490 I1  
21395                             491 I1  
21396                                 I1  ***** BEGIN-POOL *****
21397 0000423A 0000                   I1  ALIGNMENT CODE
21398 0000423C 00000000               I1  DATA FOR SOURCE-LINE 473
21399 00004240 00000000               I1  DATA FOR SOURCE-LINE 478
21400 00004244 00000000               I1  DATA FOR SOURCE-LINE 479
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   276
PROGRAM NAME =

21401 00004248 00000000               I1  DATA FOR SOURCE-LINE 484
21402                                 I1  ***** END-POOL *****
21403 0000424C                    492 I1  POS_CLS_TYP1_POSCTL1_PC_END:
21404 0000424C E004               493 I1          MOV     #BIT2,R0                                ;
21405                             494 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
21406 0000424E A001                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21407 00004250 0009                   M           NOP
21408                             495 I1  
21409 00004252                    496 I1  POS_CLS_TYP1_POSCTL1_OUT_WAIT:                          ;
21410 00004252 200A               497 I1          XOR     R0,R0                                   ;まだよ
21411 00004254                    498 I1  POS_CLS_TYP1_POSCTL1_END:
21412                             499 I1          PUSH_REG1 R0
21413 00004254 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21414                                 M                                           ;REG=>[SP]
21415                                 M                                           ;"-4" FF,FF,FF,FC
21416                             500 I1          PUSH_REG1 R1
21417 00004256 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
21418                                 M                                           ;REG=>[SP]
21419                                 M                                           ;"-4" FF,FF,FF,FC
21420 00004258 D104               501 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
21421 0000425A 6011               502 I1          MOV.W   @R1,R0                          ;
21422 0000425C D104               503 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;247.0/247.1
21423 0000425E 2101               504 I1          MOV.W   R0,@R1                          ;
21424                             505 I1          POP_REG1 R1
21425                                 M                                   ; RE"+4" 00,00,00,04
21426 00004260 61F6                   M           MOV.L   @R15+,R1        ;
21427                             506 I1          POP_REG1 R0
21428                                 M                                   ; RE"+4" 00,00,00,04
21429 00004262 60F6                   M           MOV.L   @R15+,R0        ;
21430                             507 I1  
21431                             508 I1          SUB_END
21432                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21433 00004264 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21434                             509 I1          M_RTS
21435 00004266 000B                   M           RTS                             ;RTSの後ろの
21436 00004268 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21437                             510 I1  
21438                             511 I1  
21439                             512 I1  ;       ***************************
21440                             513 I1  ;       ***                     ***
21441                             514 I1  ;       ***     2015-06-22      ***
21442                             515 I1  ;;      ***                     ***
21443                             516 I1  ;       ***************************
21444                             517 I1  ;       出力しない,ﾊﾟﾙｽ,遅延周期を設定
21445                             518 I1  ;       ANS:R0=0:出力しない
21446                             519 I1  ;
21447                                 I1  ***** BEGIN-POOL *****
21448 0000426A 0000                   I1  ALIGNMENT CODE
21449 0000426C 00000000               I1  DATA FOR SOURCE-LINE 501
21450 00004270 00000000               I1  DATA FOR SOURCE-LINE 503
21451                                 I1  ***** END-POOL *****
21452 00004274                    520 I1  _RESTART_WAIT_PLS_DATA_SELECT:
21453                             521 I1          SUB_START
21454 00004274 4F22                   M           STS.L   PR,@-R15                ;[必要]
21455                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21456                             522 I1  
21457                             523 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   277
PROGRAM NAME =

21458                             524 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0                 ;0,1,-1,-2
21459 00004276 D008                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21460 00004278 400B                   M           JSR     @R0                     ;
21461 0000427A 0009                   M           NOP                                     ;
21462 0000427C 2008               525 I1          TST     R0,R0                                   ;
21463                             526 I1          TST_BIT_OF RESTART_WAIT_PLS_DATASEL_END         ;[ﾘｽﾀｰﾄしない]
21464 0000427E 891E                   M           BT      RESTART_WAIT_PLS_DATASEL_END
21465                             527 I1  
21466 00004280 4011               528 I1          CMP/PZ  R0                                      ;+()
21467 00004282 8913               529 I1          BT      RESTART_WAIT_PLS_DATASEL_100            ;
21468                             530 I1  
21469                             531 I1  ;       ---------範囲外---------
21470                             532 I1  ;;;;H2W MOV.L   #_SVP_OUTPLS_HOSA,R1            ;44
21471                             533 I1  
21472 00004284 D105               534 I1          MOV.L   #_PAR_KAJYU_CTIM1-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;368:範囲外
21473 00004286 6011               535 I1          MOV.W   @R1,R0                          ;
21474 00004288 D105               536 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
21475 0000428A 2101               537 I1          MOV.W   R0,@R1                          ;遅延時間=0
21476                             538 I1  
21477 0000428C D105               539 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;31
21478 0000428E 6011               540 I1          MOV.W   @R1,R0                          ;
21479 00004290 D105               541 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
21480 00004292 2101               542 I1          MOV.W   R0,@R1                          ;
21481                             543 I1  
21482                             544 I1          M_BRA   RESTART_WAIT_PLS_DATASEL_OUT            ;
21483 00004294 A012                   M           BRA     RESTART_WAIT_PLS_DATASEL_OUT
21484 00004296 0009                   M           NOP
21485                             545 I1  
21486                             546 I1  ;       ------------ニアゼロ範囲内-------------
21487                                 I1  ***** BEGIN-POOL *****
21488 00004298 00000000               I1  DATA FOR SOURCE-LINE 524
21489 0000429C 00000000               I1  DATA FOR SOURCE-LINE 534
21490 000042A0 00000000               I1  DATA FOR SOURCE-LINE 536
21491 000042A4 00000000               I1  DATA FOR SOURCE-LINE 539
21492 000042A8 00000000               I1  DATA FOR SOURCE-LINE 541
21493                                 I1  ***** END-POOL *****
21494 000042AC                    547 I1  RESTART_WAIT_PLS_DATASEL_100:
21495                             548 I1  
21496                             549 I1  ;;;H2W  MOV.L   #_SVP_OUTPLS_HOSB,R1            ;45
21497 000042AC D105               550 I1          MOV.L   #_PAR_KAJYU_CTIM2-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;369:範囲内
21498 000042AE 6011               551 I1          MOV.W   @R1,R0                          ;
21499 000042B0 D105               552 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
21500 000042B2 2101               553 I1          MOV.W   R0,@R1                          ;遅延時間=0
21501                             554 I1  
21502 000042B4 D105               555 I1          MOV.L   #_SET1_RNAPOS_KP01,R1           ;
21503 000042B6 6011               556 I1          MOV.W   @R1,R0                          ;
21504 000042B8 D105               557 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
21505 000042BA 2101               558 I1          MOV.W   R0,@R1                          ;
21506                             559 I1  
21507 000042BC                    560 I1  RESTART_WAIT_PLS_DATASEL_OUT:
21508 000042BC E001               561 I1          MOV.B   #1,R0                                   ;START
21509 000042BE                    562 I1  RESTART_WAIT_PLS_DATASEL_END:
21510                             563 I1  
21511                             564 I1          SUB_END
21512                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21513 000042BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21514                             565 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   278
PROGRAM NAME =

21515 000042C0 000B                   M           RTS                             ;RTSの後ろの
21516 000042C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21517                             566 I1  
21518                             567 I1  
21519                             568 I1  
21520                             569 I1  ;       *******************************************
21521                             570 I1  ;       ***                                     ***
21522                             571 I1  ;       ***                                     ***
21523                             572 I1  ;       ***                                     ***
21524                             573 I1  ;       ***                                     ***
21525                             574 I1  ;       *******************************************
21526                             575 I1          .IMPORT _POSCHG_LINK_DIG_TO_LINK_PLS            ;
21527                             576 I1          .IMPORT _OBJ_POS_DIG_MAK                        ;2015-03-15[R01:2014-08-20]
21528                             577 I1  
21529                                 I1  ***** BEGIN-POOL *****
21530 000042C4 00000000               I1  DATA FOR SOURCE-LINE 550
21531 000042C8 00000000               I1  DATA FOR SOURCE-LINE 552
21532 000042CC 00000000               I1  DATA FOR SOURCE-LINE 555
21533 000042D0 00000000               I1  DATA FOR SOURCE-LINE 557
21534                                 I1  ***** END-POOL *****
21535 000042D4                    578 I1          .ALIGN  4                                               ;
21536 000042D4                    579 I1  _FULCLS_MAXPLS_CALC:
21537                             580 I1          SUB_START
21538 000042D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
21539                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21540                             581 I1  
21541                             582 I1  ;;;;DEBUG       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21542                             583 I1  ;;;;DEBUG       MOV.W   @R1,R2                          ;
21543                             584 I1  ;;;;DEBUG       M_BRA   FULCLS_MAXPLSCAL_200            ;
21544                             585 I1  
21545                             586 I1  ;       -------- 2015-03-15 -----------
21546                             587 I1          FAR_JSR #_OBJ_POS_DIG_MAK,R0                    ;これがない 2015-03-15[R012014-08-
                                          20]
21547 000042D6 D00A                   M           MOV.L   #_OBJ_POS_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21548 000042D8 400B                   M           JSR     @R0                     ;
21549 000042DA 0009                   M           NOP                                     ;
21550                             588 I1  ;       --------------------------
21551                             589 I1  
21552 000042DC D109               590 I1          MOV.L   #_SV_OBJ360,R1                          ;停止目標位置角度
21553 000042DE 6311               591 I1          MOV.W   @R1,R3                                  ;
21554 000042E0 940D               592 I1          MOV.W   #D'1800,R4                              ;
21555 000042E2 6243               593 I1          MOV     R4,R2                                   ;
21556 000042E4 3238               594 I1          SUB     R3,R2                                   ;
21557 000042E6 4211               595 I1          CMP/PZ  R2                                      ;
21558 000042E8 8900               596 I1          BT      FULCLS_MAXPLSCAL_100                    ;
21559 000042EA 324C               597 I1          ADD     R4,R2                                   ;角度0.1度
21560 000042EC                    598 I1  FULCLS_MAXPLSCAL_100:                                   ;
21561 000042EC 7201               599 I1          ADD     #1,R2                                   ;+0.1度
21562                             600 I1          FAR_JSR #_POSCHG_LINK_DIG_TO_LINK_PLS,R0        ;
21563 000042EE D006                   M           MOV.L   #_POSCHG_LINK_DIG_TO_LINK_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21564 000042F0 400B                   M           JSR     @R0                     ;
21565 000042F2 0009                   M           NOP                                     ;
21566                             601 I1  
21567                             602 I1  
21568                             603 I1  
21569 000042F4                    604 I1  FULCLS_MAXPLSCAL_200:                                   ;
21570 000042F4 D105               605 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   279
PROGRAM NAME =

21571 000042F6 2122               606 I1          MOV.L   R2,@R1                                  ;
21572                             607 I1  
21573                             608 I1  ;;;     MOV.L   #_LINK_NOWROT_OFSPLS_P,R4       ;[[[目標]]]
21574                             609 I1  ;;;     MOV.L   @R4,R2                          ;
21575                             610 I1  ;;;
21576                             611 I1  ;;;     MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
21577                             612 I1  ;;;     MOV.L   R1,@R5                          ;
21578                             613 I1  ;;;     MOV.L   R2,@(4,R5)                      ;
21579                             614 I1  ;;;
21580                             615 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
21581                             616 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
21582                             617 I1  
21583                             618 I1  
21584                             619 I1          SUB_END
21585                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21586 000042F8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21587                             620 I1          M_RTS
21588 000042FA 000B                   M           RTS                             ;RTSの後ろの
21589 000042FC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21590                             621 I1  
21591                             622 I1  
21592                             623 I1  ;       *******************************************
21593                             624 I1  ;       ***             2012-10-05              ***
21594                             625 I1  ;       ***                                     ***
21595                             626 I1  ;       ***     180.0度に達したらEXIT           ***
21596                             627 I1  ;       *******************************************
21597                                 I1  ***** BEGIN-POOL *****
21598 000042FE 0708                   I1  DATA FOR SOURCE-LINE 592
21599 00004300 00000000               I1  DATA FOR SOURCE-LINE 587
21600 00004304 00000000               I1  DATA FOR SOURCE-LINE 590
21601 00004308 00000000               I1  DATA FOR SOURCE-LINE 600
21602 0000430C 00000000               I1  DATA FOR SOURCE-LINE 605
21603                                 I1  ***** END-POOL *****
21604 00004310                    628 I1  _OVER_DIG_CHK:
21605                             629 I1          SUB_START
21606 00004310 4F22                   M           STS.L   PR,@-R15                ;[必要]
21607                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21608 00004312 D108               630 I1          MOV.L   #_INC_ENC360,R1                 ;
21609 00004314 6211               631 I1          MOV.W   @R1,R2                          ;
21610 00004316 900C               632 I1          MOV.W   #D'1798,R0                      ;179.8
21611 00004318 3202               633 I1          CMP/HS  R0,R2                           ;
21612 0000431A 8B11               634 I1          BF      OVER_DIGCHK_NOMAL               ;ｵｰﾊﾞはしていない
21613                             635 I1  
21614 0000431C                    636 I1  OVER_DIGCHK_ERR:
21615                             637 I1          FAR_JSR #_FULCLS_MAXOVER_ERR,R0         ;ﾀｲﾏなし
21616 0000431C D006                   M           MOV.L   #_FULCLS_MAXOVER_ERR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21617 0000431E 400B                   M           JSR     @R0                     ;
21618 00004320 0009                   M           NOP                                     ;
21619 00004322 D106               638 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
21620 00004324 6011               639 I1          MOV.W   @R1,R0                          ;
21621 00004326 C940               640 I1          AND     #BIT6,R0
21622 00004328 2008               641 I1          TST     R0,R0                           ;
21623                             642 I1          TST_BIT_OF OVER_DIGCHK_NOMAL            ;R0=0SET
21624 0000432A 8909                   M           BT      OVER_DIGCHK_NOMAL
21625 0000432C E001               643 I1          MOV.B   #1,R0                           ;R0=1
21626                             644 I1          M_BRA   OVER_DIGCHK_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   280
PROGRAM NAME =

21627 0000432E A008                   M           BRA     OVER_DIGCHK_END
21628 00004330 0009                   M           NOP
21629                                 I1  ***** BEGIN-POOL *****
21630 00004332 0706                   I1  DATA FOR SOURCE-LINE 632
21631 00004334 00000000               I1  DATA FOR SOURCE-LINE 630
21632 00004338 00000000               I1  DATA FOR SOURCE-LINE 637
21633 0000433C 00000000               I1  DATA FOR SOURCE-LINE 638
21634                                 I1  ***** END-POOL *****
21635 00004340                    645 I1  OVER_DIGCHK_NOMAL
21636 00004340 200A               646 I1          XOR     R0,R0
21637 00004342                    647 I1  OVER_DIGCHK_END
21638                             648 I1  
21639                             649 I1          SUB_END
21640                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21641 00004342 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21642                             650 I1          M_RTS
21643 00004344 000B                   M           RTS                             ;RTSの後ろの
21644 00004346 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21645                             651 I1  
21646                             652 I1  
21647                             653 I1  ;       ***************************
21648                             654 I1  ;       ***     2012-05-30      ***
21649                             655 I1  ;       ***     反転オーバ      ***
21650                             656 I1  ;       ***************************
21651                             657 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
21652 00004348                    658 I1          .ALIGN  4                                               ;
21653 00004348                    659 I1  _FULCLS_MAXOVER_ERR:
21654                             660 I1          SUB_START
21655 00004348 4F22                   M           STS.L   PR,@-R15                ;[必要]
21656                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21657                             661 I1          M_BRA   FULCLS_MAXOVER_ERRSET           ;
21658 0000434A A00B                   M           BRA     FULCLS_MAXOVER_ERRSET
21659 0000434C 0009                   M           NOP
21660                             662 I1  
21661 0000434E                    663 I1  _FULCLS_MAXOVER_ERR_WT:
21662                             664 I1          SUB_START
21663 0000434E 4F22                   M           STS.L   PR,@-R15                ;[必要]
21664                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21665                             665 I1  
21666 00004350 D103               666 I1          MOV.L   #_NEG_EXITTIM,R1                ;
21667 00004352 6011               667 I1          MOV.W   @R1,R0                          ;
21668 00004354 2008               668 I1          TST     R0,R0                           ;
21669                             669 I1          TST_BIT_OF FULCLS_MAXOVER_ERRSET        ;
21670 00004356 8905                   M           BT      FULCLS_MAXOVER_ERRSET
21671 00004358 70FF               670 I1          ADD     #-1,R0                          ;
21672 0000435A 2101               671 I1          MOV.W   R0,@R1                          ;
21673                             672 I1          M_BRA   FULCLS_MAXOVER_ERRWAT           ;
21674 0000435C A012                   M           BRA     FULCLS_MAXOVER_ERRWAT
21675 0000435E 0009                   M           NOP
21676                             673 I1  
21677                                 I1  ***** BEGIN-POOL *****
21678 00004360 00000000               I1  DATA FOR SOURCE-LINE 666
21679                                 I1  ***** END-POOL *****
21680 00004364                    674 I1  FULCLS_MAXOVER_ERRSET:
21681 00004364 D109               675 I1          MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
21682 00004366 6011               676 I1          MOV.W   @R1,R0                                                  ;
21683 00004368 8801               677 I1          CMP/EQ  #1,R0                                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   281
PROGRAM NAME =

21684 0000436A 8B0B               678 I1          BF      FULCLS_MAXOVER_ERRWAT                                   ;
21685                             679 I1  
21686                             680 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT6+BIT0),WKREG=R1    ;B
                                          IT6:ERR BIT0:制御
21687 0000436C D108                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
21688 0000436E 6011                   M           MOV.W   @R1,R0          ;
21689 00004370 CB41                   M           OR      #(BIT6+BIT0),R0         ;
21690 00004372 2101                   M           MOV.W   R0,@R1          ;
21691                             681 I1  
21692                             682 I1  
21693                             683 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21694                             684 C   ;       ------2015-03-15[R01:2014-08-20] 荷重制御情報追加-------------
21695 00004374 D107               685 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
21696 00004376 6011               686 C           MOV.W   @R1,R0                                  ;
21697 00004378 8801               687 C           CMP/EQ  #1,R0                                   ;
21698 0000437A 8B03               688 C           BF      FULCLS_MAXOVER_ERRS100                  ;
21699                             689 C   
21700                             690 C           MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT5),WKREG=R1 ;BIT5:荷重
21701 0000437C D104                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
21702 0000437E 6011                   M           MOV.W   @R1,R0          ;
21703 00004380 CB20                   M           OR      #(BIT5),R0              ;
21704 00004382 2101                   M           MOV.W   R0,@R1          ;
21705                             691 C   
21706 00004384                    692 C   FULCLS_MAXOVER_ERRS100:
21707                             693 C   ;       -----------------------------------------------
21708                             694 I1          .AENDI
21709                             695 I1  
21710                             696 I1  
21711 00004384                    697 I1  FULCLS_MAXOVER_ERRWAT:
21712                             698 I1          SUB_END
21713                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21714 00004384 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21715                             699 I1          M_RTS
21716 00004386 000B                   M           RTS                             ;RTSの後ろの
21717 00004388 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21718                             700 I1  
21719                             701 I1  ;       ***************************
21720                             702 I1  ;       ***     2012-05-30      ***
21721                             703 I1  ;       ***     反転オーバCLR   ***
21722                             704 I1  ;       ***************************
21723                             705 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
21724                                 I1  ***** BEGIN-POOL *****
21725 0000438A 0000                   I1  ALIGNMENT CODE
21726 0000438C 00000000               I1  DATA FOR SOURCE-LINE 675
21727 00004390 00000000               I1  DATA FOR SOURCE-LINE 680,690
21728 00004394 00000000               I1  DATA FOR SOURCE-LINE 685
21729                                 I1  ***** END-POOL *****
21730 00004398                    706 I1          .ALIGN  4                                               ;
21731                             707 I1          .EXPORT _FULCLS_MAXOVER_CLR     ;
21732 00004398                    708 I1  _FULCLS_MAXOVER_CLR:
21733                             709 I1          SUB_START
21734 00004398 4F22                   M           STS.L   PR,@-R15                ;[必要]
21735                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21736 0000439A 200A               710 I1          XOR     R0,R0                   ;
21737 0000439C D102               711 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1  ;
21738 0000439E 2101               712 I1          MOV.W   R0,@R1                  ;
21739                             713 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   282
PROGRAM NAME =

21740                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21741 000043A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21742                             714 I1          M_RTS
21743 000043A2 000B                   M           RTS                             ;RTSの後ろの
21744 000043A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21745                             715 I1  
21746                             716 I1  ;       ***************************
21747                             717 I1  ;       ***     2012-05-30      ***
21748                             718 I1  ;       ***     反転オーバINI   ***
21749                             719 I1  ;       ***************************
21750                             720 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
21751                                 I1  ***** BEGIN-POOL *****
21752 000043A6 0000                   I1  ALIGNMENT CODE
21753 000043A8 00000000               I1  DATA FOR SOURCE-LINE 711
21754                                 I1  ***** END-POOL *****
21755 000043AC                    721 I1          .ALIGN  4                                               ;
21756 000043AC                    722 I1  _FULCLS_MAXOVER_STEP_INI:
21757                             723 I1          SUB_START
21758 000043AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
21759                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21760                             724 I1  
21761                             725 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=~BIT0,WKREG=R1 ;
21762 000043AE D103                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
21763 000043B0 6011                   M           MOV.W   @R1,R0          ;
21764 000043B2 C9FE                   M           AND     #LOW ~BIT0,R0           ;
21765 000043B4 2101                   M           MOV.W   R0,@R1          ;
21766                             726 I1  
21767                             727 I1  
21768                             728 I1          SUB_END
21769                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21770 000043B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21771                             729 I1          M_RTS
21772 000043B8 000B                   M           RTS                             ;RTSの後ろの
21773 000043BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21774                             730 I1  
21775                             731 I1  ;       ***********************************
21776                             732 I1  ;       ***                             ***
21777                             733 I1  ;       ***     追い込み達せず信号出力  ***
21778                             734 I1  ;       ***     224.9  各行程           ***
21779                             735 I1  ;       ***     224.10 1回でも          ***
21780                             736 I1  ;       ***                             ***
21781                             737 I1  ;       ***********************************
21782                             738 I1          .EXPORT _FULCLS_OVER_SIG
21783                             739 I1  
21784                                 I1  ***** BEGIN-POOL *****
21785 000043BC 00000000               I1  DATA FOR SOURCE-LINE 725
21786                                 I1  ***** END-POOL *****
21787 000043C0                    740 I1          .ALIGN  4                       ;2012-05-30
21788 000043C0                    741 I1  _FULCLS_OVER_SIG
21789                             742 I1          SUB_START
21790 000043C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
21791                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21792                             743 I1  
21793 000043C2 233A               744 I1          XOR     R3,R3
21794 000043C4 244A               745 I1          XOR     R4,R4
21795 000043C6 D10B               746 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
21796 000043C8 6011               747 I1          MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   283
PROGRAM NAME =

21797 000043CA C840               748 I1          TST     #BIT6,R0                        ;
21798                             749 I1          TST_BIT_OF FULCLS_OVERSG_100            ;異常記憶なし
21799 000043CC 8903                   M           BT      FULCLS_OVERSG_100
21800 000043CE 930D               750 I1          MOV.W   #BIT9,R3                        ;異常有り・リセットまで保持
21801                             751 I1  
21802                             752 I1  
21803                             753 I1  
21804                             754 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21805                             755 C   ;       --2015-03-15[R01:2014-08-20追加]---
21806 000043D0 C820               756 C           TST     #BIT5,R0                        ;荷重?
21807                             757 C           TST_BIT_OF FULCLS_OVERSG_100            ;NO
21808 000043D2 8900                   M           BT      FULCLS_OVERSG_100
21809 000043D4 930B               758 C           MOV.W   #BIT10,R3                       ;
21810                             759 I1          .AENDI
21811                             760 I1  
21812 000043D6                    761 I1  FULCLS_OVERSG_100
21813                             762 I1  
21814                             763 I1  ;;;;;   TST     #BIT0,R0                        ;
21815                             764 I1  ;;;;;   TST_BIT_OF FULCLS_OVERSG_200            ;制御中なし
21816                             765 I1  ;;;;;   MOV.W   #BIT10,R4                       ;異常有り・記憶はしない
21817                             766 I1  ;;;;;FULCLS_OVERSG_200
21818                             767 I1  
21819 000043D6 D108               768 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R1     ;
21820 000043D8 6011               769 I1          MOV.W   @R1,R0                          ;
21821 000043DA 9209               770 I1          MOV.W   #(BIT10+BIT9),R2                ;
21822 000043DC 6227               771 I1          NOT     R2,R2                           ;
21823 000043DE 2029               772 I1          AND     R2,R0                           ;
21824 000043E0 203B               773 I1          OR      R3,R0                           ;
21825 000043E2 204B               774 I1          OR      R4,R0                           ;
21826 000043E4 2101               775 I1          MOV.W   R0,@R1                          ;
21827                             776 I1  
21828                             777 I1          SUB_END
21829                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21830 000043E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21831                             778 I1          M_RTS
21832 000043E8 000B                   M           RTS                             ;RTSの後ろの
21833 000043EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21834                             779 I1  
21835                             780 I1  
21836                             781 I1  ;       ***********************************
21837                             782 I1  ;       ***                             ***
21838                             783 I1  ;       ***     ﾌﾙｸﾛｰｽﾞﾆｱｾﾞﾛ            ***
21839                             784 I1  ;       ***                             ***
21840                             785 I1  ;       ***********************************
21841                             786 I1  ;       ANS R0(ﾌﾙｸﾛｰｽﾞすべきかどうか R0=0しない R0 !=0(工程)ﾌﾙｸﾛｰｽﾞ)
21842                             787 I1  ;       ANS R6 1回転目標ﾊﾟﾙｽ
21843                             788 I1  ;       ANS R7 1回転ﾘﾆｱﾊﾟﾙｽ
21844                             789 I1  ;
21845                             790 I1  ;
21846                             791 I1  ;       設定=0度　==>312度を目標
21847                             792 I1  ;       180より大きい区間は　−扱いで考える(1)
21848                             793 I1  ;       もし1800より大きければ
21849                             794 I1  ;
21850                             795 I1  ;       -1*(3600-現在ﾊﾟﾙｽ)
21851                                 I1  ***** BEGIN-POOL *****
21852 000043EC 0200                   I1  DATA FOR SOURCE-LINE 750
21853 000043EE 0400                   I1  DATA FOR SOURCE-LINE 758
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   284
PROGRAM NAME =

21854 000043F0 0600                   I1  DATA FOR SOURCE-LINE 770
21855 000043F2 0000                   I1  ALIGNMENT CODE
21856 000043F4 00000000               I1  DATA FOR SOURCE-LINE 746
21857 000043F8 00000000               I1  DATA FOR SOURCE-LINE 768
21858                                 I1  ***** END-POOL *****
21859 000043FC                    796 I1          .ALIGN  4                                               ;
21860                             797 I1  ;       Input 工程=R5
21861                             798 I1  ;       Input R7
21862                             799 I1  ;       ANS     R0:0,1,-1
21863                             800 I1  ;       R0      =0 :ﾆｱｾﾞﾛ範囲内
21864                             801 I1  ;               =1 :正(正転運転では行き過ぎている/逆転運転では生きたりない)
21865                             802 I1  ;               =-1:負(正運転では行きたりない    /逆転運転では行き過ぎている)
21866                             803 I1  ;       ANS     R6:ﾘﾆｱPLS現在位置
21867                             804 I1  
21868                             805 I1  ;
21869 000043FC                    806 I1  _POS_CLS_TYP1_NEAR_ZERO_CHEAK:
21870                             807 I1          SUB_START
21871 000043FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
21872                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21873 000043FE D40D               808 I1          MOV.L   #_SDATCLS_TRG_STEP,R4           ;//速度連続の最後のｽﾃｯﾌﾟ
21874 00004400 6041               809 I1          MOV.W   @R4,R0                          ;
21875 00004402 70FF               810 I1          ADD     #-1,R0                          ;
21876 00004404 4008               811 I1          SHLL2   R0                              ;
21877 00004406 4000               812 I1          SHLL    R0                              ;8byte
21878 00004408 D40B               813 I1          MOV.L   #_SDATCLS_OBJ_NEAR_UPDNPLS,R4   ;//+0*4:UP +1*4 DN
21879 0000440A 340C               814 I1          ADD     R0,R4                           ;
21880 0000440C 6346               815 I1          MOV.L   @R4+,R3                         ;目標位置+ALFA(結果"-")
21881 0000440E 6142               816 I1          MOV.L   @R4,R1                          ;目標位置-ALFA
21882 00004410 3313               817 I1          CMP/GE  R1,R3                           ;
21883 00004412 8902               818 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_100    ;
21884 00004414 6013               819 I1          MOV     R1,R0                           ;
21885 00004416 6133               820 I1          MOV     R3,R1                           ;
21886 00004418 6303               821 I1          MOV     R0,R3                           ;
21887 0000441A                    822 I1  POS_CLS_TYP1_NEAR_ZR_CHK_100:                   ;
21888                             823 I1  
21889                             824 I1  ;       ==== 2003-02-21 ===================
21890 0000441A D008               825 I1          MOV.L   #_DBG_REVMOD_UPPLS,R0   ;
21891 0000441C 2032               826 I1          MOV.L   R3,@R0                  ;
21892 0000441E D008               827 I1          MOV.L   #_DBG_REVMOD_DNPLS,R0   ;
21893 00004420 2012               828 I1          MOV.L   R1,@R0                  ;
21894                             829 I1  
21895                             830 I1  ;       ===================================
21896                             831 I1  ;;;     MOV     #1,R0
21897                             832 I1  ;;;     CMP/GT  R3,R6                           ;
21898                             833 I1  ;;;     BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
21899                             834 I1  ;;;
21900                             835 I1  ;;;     MOV     #-1,R0                          ;
21901                             836 I1  ;;;     CMP/GE  R1,R6                           ;R1=< R6 NO
21902                             837 I1  ;;;     BF      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;(範囲内 NO)
21903                             838 I1  ;;;     XOR     R0,R0                           ;
21904                             839 I1  ;;;POS_CLS_TYP1_NEAR_ZR_CHK_200:                        ;
21905                             840 I1  
21906 00004422 E001               841 I1          MOV     #1,R0
21907 00004424 3637               842 I1          CMP/GT  R3,R6                           ;
21908 00004426 890D               843 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
21909                             844 I1  
21910 00004428 E0FF               845 I1          MOV     #-1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   285
PROGRAM NAME =

21911 0000442A 3613               846 I1          CMP/GE  R1,R6                           ;R1=< R6 NO
21912 0000442C 8B0D               847 I1          BF      POS_CLS_TYP1_NEAR_ZR_CHK_201    ;(範囲内 NO)
21913 0000442E 200A               848 I1          XOR     R0,R0                           ;
21914                             849 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
21915 00004430 A00C                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
21916 00004432 0009                   M           NOP
21917                             850 I1  
21918                                 I1  ***** BEGIN-POOL *****
21919 00004434 00000000               I1  DATA FOR SOURCE-LINE 808
21920 00004438 00000000               I1  DATA FOR SOURCE-LINE 813
21921 0000443C 00000000               I1  DATA FOR SOURCE-LINE 825
21922 00004440 00000000               I1  DATA FOR SOURCE-LINE 827
21923                                 I1  ***** END-POOL *****
21924 00004444                    851 I1  POS_CLS_TYP1_NEAR_ZR_CHK_200:                   ;
21925 00004444 0009               852 I1          NOP
21926                             853 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
21927 00004446 A001                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
21928 00004448 0009                   M           NOP
21929 0000444A                    854 I1  POS_CLS_TYP1_NEAR_ZR_CHK_201:                   ;
21930 0000444A 0009               855 I1          NOP
21931 0000444C                    856 I1  POS_CLS_TYP1_NEAR_ZR_CHK_202:                   ;
21932                             857 I1  
21933                             858 I1  ;       ===========================================
21934                             859 I1  ;       === <CPU-Aが終わりを告げたら終わり>     ===
21935                             860 I1  ;       === <CPU-Bが終わりを告げても終わり?>    ===
21936                             861 I1  ;       ===========================================
21937                             862 I1          PUSH_REG1 R2
21938 0000444C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
21939                                 M                                           ;REG=>[SP]
21940                                 M                                           ;"-4" FF,FF,FF,FC
21941                             863 I1          PUSH_REG1 R3
21942 0000444E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
21943                                 M                                           ;REG=>[SP]
21944                                 M                                           ;"-4" FF,FF,FF,FC
21945                             864 I1  
21946                             865 I1          PUSH_REG1 R0
21947 00004450 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21948                                 M                                           ;REG=>[SP]
21949                                 M                                           ;"-4" FF,FF,FF,FC
21950                             866 I1          .AIF    0 EQ    0
21951 00004452 222A               867 C           XOR     R2,R2                           ;CPUAは自分から終わる
21952                             868             .AELSE
21953                             869             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;
21954                             870             MOV     R0,R2                           ;
21955                             871             .AENDI
21956                             872 I1          POP_REG1 R0                             ;
21957                                 M                                   ; RE"+4" 00,00,00,04
21958 00004454 60F6                   M           MOV.L   @R15+,R0        ;
21959                             873 I1  
21960 00004456 2228               874 I1          TST     R2,R2                           ;
21961                             875 I1          TST_BIT_OF POS_CLS_CPUB_TO_CPUA_100     ;
21962 00004458 8900                   M           BT      POS_CLS_CPUB_TO_CPUA_100
21963 0000445A 200A               876 I1          XOR     R0,R0                           ;
21964 0000445C                    877 I1  POS_CLS_CPUB_TO_CPUA_100:                       ;
21965                             878 I1  
21966                             879 I1          POP_REG1 R3
21967                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   286
PROGRAM NAME =

21968 0000445C 63F6                   M           MOV.L   @R15+,R3        ;
21969                             880 I1          POP_REG1 R2
21970                                 M                                   ; RE"+4" 00,00,00,04
21971 0000445E 62F6                   M           MOV.L   @R15+,R2        ;
21972                             881 I1          SUB_END
21973                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21974 00004460 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21975                             882 I1          M_RTS
21976 00004462 000B                   M           RTS                             ;RTSの後ろの
21977 00004464 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21978                             883 I1  
21979                             884 I1  
21980                             885 I1  ;       ***********************************
21981                             886 I1  ;       ***     Input R1,R2             ***
21982                             887 I1  ;       ***********************************
21983                             888 I1  ;       R1,R2 絶対値
21984 00004466                    889 I1  _CLS_POS_LENGTH_ADD_DATA:
21985                             890 I1          SUB_START
21986 00004466 4F22                   M           STS.L   PR,@-R15                ;[必要]
21987                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21988 00004468 D40A               891 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
21989 0000446A 6041               892 I1          MOV.W   @R4,R0                                                  ;
21990 0000446C C801               893 I1          TST     #BIT0,R0                                                ;
21991                             894 I1          TST_BIT_OF CLS_POS_LENGTH_ADDATA_050                            ;
21992 0000446E 8905                   M           BT      CLS_POS_LENGTH_ADDATA_050
21993                             895 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R4                              ;|R1,R2|
21994 00004470 6227                   M           NOT     R2,R2                           ;
21995 00004472 6117                   M           NOT     R1,R1                           ;
21996 00004474 244A                   M           XOR     R4,R4                           ;
21997 00004476 0018                   M           SETT
21998 00004478 324E                   M           ADDC    R4,R2                           ;0+1+R2
21999 0000447A 314E                   M           ADDC    R4,R1                           ;
22000 0000447C                    896 I1  CLS_POS_LENGTH_ADDATA_050:                                              ;
22001 0000447C D706               897 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
22002 0000447E 6572               898 I1          MOV.L   @R7,R5                                                  ;
22003 00004480 5671               899 I1          MOV.L   @(4,R7),R6                                              ;
22004                             900 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
22005 00004482 0008                   M           CLRT
22006 00004484 326E                   M           ADDC    R6,R2
22007 00004486 315E                   M           ADDC    R5,R1
22008 00004488 2712               901 I1          MOV.L   R1,@R7                                                  ;
22009 0000448A 1721               902 I1          MOV.L   R2,@(4,R7)                                              ;
22010                             903 I1          SUB_END
22011                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22012 0000448C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22013                             904 I1          M_RTS
22014 0000448E 000B                   M           RTS                             ;RTSの後ろの
22015 00004490 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22016                             905 I1  
22017                             906 I1  
22018                             907 I1  ;       *******************************************
22019                             908 I1  ;       ***     260から0度の間は"-"になる       ***
22020                             909 I1  ;       *******************************************
22021                             910 I1  ;       R0~R2
22022                             911 I1          .EXPORT _FUL_CLS_OBJPLS_CHK
22023                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   287
PROGRAM NAME =

22024 00004492 0000                   I1  ALIGNMENT CODE
22025 00004494 00000000               I1  DATA FOR SOURCE-LINE 891
22026 00004498 00000000               I1  DATA FOR SOURCE-LINE 897
22027                                 I1  ***** END-POOL *****
22028 0000449C                    912 I1  _FUL_CLS_OBJPLS_CHK:    ;Input R2 もし260~0の間なら"-"のﾊﾟﾙｽになる
22029                             913 I1          SUB_START
22030 0000449C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22031                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22032 0000449E D107               914 I1          MOV.L   #_SETX_FULCLS_AREA_PLS,R1       ;//260.0==>PLS
22033 000044A0 6012               915 I1          MOV.L   @R1,R0                          ;
22034 000044A2 3203               916 I1          CMP/GE  R0,R2                           ;R2 OK
22035 000044A4 8B06               917 I1          BF      FUL_CLS_OBJPLSCK_050            ;
22036 000044A6 D106               918 I1          MOV.L   #_LINK_1ROT_PLS,R1              ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
22037 000044A8 6012               919 I1          MOV.L   @R1,R0                          ;
22038 000044AA 3028               920 I1          SUB     R2,R0                           ;360-359=1
22039 000044AC 620B               921 I1          NEG     R0,R2                           ;-1
22040 000044AE 4215               922 I1          CMP/PL  R2                              ;
22041 000044B0 8B00               923 I1          BF      FUL_CLS_OBJPLSCK_050            ;
22042 000044B2 222A               924 I1          XOR     R2,R2                           ;
22043 000044B4                    925 I1  FUL_CLS_OBJPLSCK_050:                           ;
22044                             926 I1          SUB_END
22045                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22046 000044B4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22047                             927 I1          M_RTS
22048 000044B6 000B                   M           RTS                             ;RTSの後ろの
22049 000044B8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22050                             928 I1  
22051                             929 I1  
22052                             930 I1  
22053                             931 I1  ;       ***********************************
22054                             932 I1  ;       ***                             ***
22055                             933 I1  ;       ***     目標位置→LENGTH        ***
22056                             934 I1  ;       ***                             ***
22057                             935 I1  ;       ***********************************
22058                             936 I1  ;       Input R1,R2(目標位置)
22059                             937 I1  ;       Output R1,R2
22060                             938 I1          .IMPORT _POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS
22061                                 I1  ***** BEGIN-POOL *****
22062 000044BA 0000                   I1  ALIGNMENT CODE
22063 000044BC 00000000               I1  DATA FOR SOURCE-LINE 914
22064 000044C0 00000000               I1  DATA FOR SOURCE-LINE 918
22065                                 I1  ***** END-POOL *****
22066 000044C4                    939 I1  _FUL_CLS_LENGH_ADD_CALC:
22067                             940 I1          SUB_START
22068 000044C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
22069                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22070                             941 I1  
22071 000044C6 D512               942 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
22072 000044C8 2512               943 I1          MOV.L   R1,@R5                                          ;
22073 000044CA 1521               944 I1          MOV.L   R2,@(4,R5)                                      ;絶対目標位置
22074                             945 I1  
22075                             946 I1  ;       == ﾛｯﾄﾃﾞｰﾀを取り除く==                                  ;
22076                             947 I1          FAR_JSR #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;R1,R2+/-回転数 余りパルス
                                          (符号つき)
22077 000044CC D011                   M           MOV.L   #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22078 000044CE 400B                   M           JSR     @R0                     ;
22079 000044D0 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   288
PROGRAM NAME =

22080 000044D2 6233               948 I1          MOV     R3,R2                                           ;ﾊﾟﾙｽ
22081 000044D4 4211               949 I1          CMP/PZ  R2                                              ;
22082 000044D6 8905               950 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
22083 000044D8 D10F               951 I1          MOV.L   #_LINK_1ROT_PLS,R1                              ;<待機点340度   目標30度 3
                                          0-340+360>
22084 000044DA 6412               952 I1          MOV.L   @R1,R4                                          ;               <30>
22085 000044DC 324C               953 I1          ADD     R4,R2                                           ;
22086 000044DE 4211               954 I1          CMP/PZ  R2                                              ;
22087 000044E0 8900               955 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
22088 000044E2 222A               956 I1          XOR     R2,R2                                           ;"演算誤差0":ありえないは
                                          ず?BREAK CHEAK
22089 000044E4                    957 I1  FULCLS_LNG_ADD_CAL200:                                          ;
22090                             958 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0
22091 000044E4 D00D                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22092 000044E6 400B                   M           JSR     @R0                     ;
22093 000044E8 0009                   M           NOP                                     ;
22094                             959 I1          PUSH_REG1 R2
22095 000044EA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
22096                                 M                                           ;REG=>[SP]
22097                                 M                                           ;"-4" FF,FF,FF,FC
22098 000044EC D40C               960 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4                   ;//余り角度 +ﾃﾞｰﾀ
22099 000044EE 6242               961 I1          MOV.L   @R4,R2                                          ;
22100                             962 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;
22101 000044F0 D00A                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22102 000044F2 400B                   M           JSR     @R0                     ;
22103 000044F4 0009                   M           NOP                                     ;
22104 000044F6 6323               963 I1          MOV     R2,R3                           ;
22105                             964 I1          POP_REG1 R2                             ;
22106                                 M                                   ; RE"+4" 00,00,00,04
22107 000044F8 62F6                   M           MOV.L   @R15+,R2        ;
22108                             965 I1  ;       ==== 運転方向(CW/CCW)==
22109 000044FA D10A               966 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
22110 000044FC 6411               967 I1          MOV.W   @R1,R4                          ;ﾀｲﾏLOAD
22111 000044FE 74FF               968 I1          ADD     #-1,R4                          ;
22112 00004500 4408               969 I1          SHLL2   R4                              ;
22113 00004502 D009               970 I1          MOV.L   #_CPOS_SDAT1_INF1,R0            ;
22114 00004504 004E               971 I1          MOV.L   @(R0,R4),R0                     ;BIT1=0 CW
22115 00004506 C802               972 I1          TST     #BIT1,R0                        ;
22116                             973 I1          TST_BIT_ON FULCLS_LNG_ADD_CAL300        ;
22117 00004508 8B10                   M           BF      FULCLS_LNG_ADD_CAL300
22118                             974 I1  ;       ====== 正転運転 ===
22119 0000450A 3238               975 I1          SUB     R3,R2                           ;
22120                             976 I1  ;;      CMP/PZ  R2                              ;
22121                             977 I1  ;;      BT      FULCLS_LNG_ADD_CAL250           ;
22122                             978 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
22123                             979 I1  ;;      MOV.L   @R1,R4                          ;
22124                             980 I1  ;;      ADD     R4,R2                           ;
22125                             981 I1  ;;FULCLS_LNG_ADD_CAL250:                                ;
22126                             982 I1          M_BRA   FULCLS_LNG_ADD_CAL400           ;
22127 0000450C A00F                   M           BRA     FULCLS_LNG_ADD_CAL400
22128 0000450E 0009                   M           NOP
22129                             983 I1  
22130                                 I1  ***** BEGIN-POOL *****
22131 00004510 00000000               I1  DATA FOR SOURCE-LINE 942
22132 00004514 00000000               I1  DATA FOR SOURCE-LINE 947
22133 00004518 00000000               I1  DATA FOR SOURCE-LINE 951
22134 0000451C 00000000               I1  DATA FOR SOURCE-LINE 958,962
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   289
PROGRAM NAME =

22135 00004520 00000000               I1  DATA FOR SOURCE-LINE 960
22136 00004524 00000000               I1  DATA FOR SOURCE-LINE 966
22137 00004528 00000000               I1  DATA FOR SOURCE-LINE 970
22138                                 I1  ***** END-POOL *****
22139 0000452C                    984 I1  FULCLS_LNG_ADD_CAL300:
22140                             985 I1  ;       ====== 逆転運転 ===
22141 0000452C 3238               986 I1          SUB     R3,R2                           ;
22142                             987 I1  ;;      CMP/PL  R2                              ;
22143                             988 I1  ;;      BF      FULCLS_LNG_ADD_CAL350           ;
22144                             989 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
22145                             990 I1  ;;      MOV.L   @R1,R4                          ;
22146                             991 I1  ;;      SUB     R4,R2                           ;
22147                             992 I1  ;;FULCLS_LNG_ADD_CAL350:
22148                             993 I1  ;;      NOP
22149 0000452E                    994 I1  FULCLS_LNG_ADD_CAL400:
22150 0000452E 211A               995 I1          XOR     R1,R1                                           ;
22151 00004530 4211               996 I1          CMP/PZ  R2                                              ;
22152 00004532 8900               997 I1          BT      FULCLS_LNG_ADD_CAL450                           ;
22153 00004534 71FF               998 I1          ADD     #-1,R1                                          ;
22154 00004536                    999 I1  FULCLS_LNG_ADD_CAL450:
22155                            1000 I1  
22156                            1001 I1  ;       ====== 差分======
22157 00004536 D403              1002 I1          MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
22158 00004538 2412              1003 I1          MOV.L   R1,@R4                          ;
22159 0000453A 1421              1004 I1          MOV.L   R2,@(4,R4)                      ;
22160                            1005 I1          SUB_END
22161                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22162 0000453C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22163                            1006 I1          M_RTS
22164 0000453E 000B                   M           RTS                             ;RTSの後ろの
22165 00004540 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22166                            1007 I1  
22167                            1008 I1  
22168                            1009 I1          .EXPORT _FUL_DATA_INIT  ;USED R1,R0
22169                                 I1  ***** BEGIN-POOL *****
22170 00004542 0000                   I1  ALIGNMENT CODE
22171 00004544 00000000               I1  DATA FOR SOURCE-LINE 1002
22172                                 I1  ***** END-POOL *****
22173 00004548                   1010 I1  _FUL_DATA_INIT:
22174                            1011 I1          SUB_START
22175 00004548 4F22                   M           STS.L   PR,@-R15                ;[必要]
22176                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22177 0000454A D103              1012 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22178 0000454C 200A              1013 I1          XOR     R0,R0                                   ;
22179 0000454E 2101              1014 I1          MOV.W   R0,@R1                                  ;
22180                            1015 I1          SUB_END
22181                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22182 00004550 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22183                            1016 I1          M_RTS
22184 00004552 000B                   M           RTS                             ;RTSの後ろの
22185 00004554 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22186                            1017 I1  
22187                            1018 I1  
22188                            1019 I1  ;       ***********************************
22189                            1020 I1  ;       ***                             ***
22190                            1021 I1  ;       ***********************************
22191                            1022 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   290
PROGRAM NAME =

22192                            1023 I1  ;       Input R6:PV
22193                            1024 I1  ;       Input R7:SV
22194                            1025 I1  ;
22195                            1026 I1  ;       Input R3:ｲﾝﾁﾝｸﾞ量
22196                            1027 I1  ;
22197                                 I1  ***** BEGIN-POOL *****
22198 00004556 0000                   I1  ALIGNMENT CODE
22199 00004558 00000000               I1  DATA FOR SOURCE-LINE 1012
22200                                 I1  ***** END-POOL *****
22201 0000455C                   1028 I1  _FUL_PLS_START:
22202                            1029 I1          SUB_START
22203 0000455C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22204                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22205                            1030 I1          PUSH_REG1 R3
22206 0000455E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
22207                                 M                                           ;REG=>[SP]
22208                                 M                                           ;"-4" FF,FF,FF,FC
22209                            1031 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
22210 00004560 D014                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22211 00004562 400B                   M           JSR     @R0                     ;
22212 00004564 0009                   M           NOP                                     ;
22213                            1032 I1  
22214                            1033 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
22215 00004566 D014                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22216 00004568 400B                   M           JSR     @R0                     ;
22217 0000456A 0009                   M           NOP                                     ;
22218                            1034 I1  
22219                            1035 I1  ;       ------2015-03-15
22220                            1036 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22221                            1037 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
22222 0000456C D013                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22223 0000456E 400B                   M           JSR     @R0                     ;
22224 00004570 0009                   M           NOP                                     ;
22225                            1038 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;R7=100,R6=90 OBJ=100KN PV=90KN
22226 00004572 D013                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22227 00004574 400B                   M           JSR     @R0                     ;
22228 00004576 0009                   M           NOP                                     ;
22229                            1039             .AELSE
22230                            1040             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
22231                            1041             .AENDI
22232                            1042 I1  
22233                            1043 I1          POP_REG1 R3
22234                                 M                                   ; RE"+4" 00,00,00,04
22235 00004578 63F6                   M           MOV.L   @R15+,R3        ;
22236 0000457A D412              1044 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                           ;
22237 0000457C 6041              1045 I1          MOV.W   @R4,R0
22238 0000457E C9FE              1046 I1          AND     #LOW ~BIT0,R0                           ;
22239 00004580 6273              1047 I1          MOV     R7,R2                                   ;R7:SV R6:PV
22240 00004582 3268              1048 I1          SUB     R6,R2                                   ;SV_-PV_RNA(偏差)
22241 00004584 4211              1049 I1          CMP/PZ  R2                                      ;
22242 00004586 8900              1050 I1          BT      FUL_PLS_ST120
22243 00004588 CB01              1051 I1          OR      #BIT0,R0                                ;
22244 0000458A                   1052 I1  FUL_PLS_ST120:                                          ;
22245 0000458A 2401              1053 I1          MOV.W   R0,@R4                                  ;方向作成
22246 0000458C 211A              1054 I1          XOR     R1,R1                                   ;R1,R2(絶対ﾊﾟﾙｽ)
22247 0000458E 6233              1055 I1          MOV     R3,R2                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   291
PROGRAM NAME =

22248                            1056 I1          FAR_JSR #_CLS_POS_LENGTH_ADD_DATA,R0            ;
22249 00004590 D00D                   M           MOV.L   #_CLS_POS_LENGTH_ADD_DATA,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22250 00004592 400B                   M           JSR     @R0                     ;
22251 00004594 0009                   M           NOP                                     ;
22252                            1057 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
22253 00004596 D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22254 00004598 400B                   M           JSR     @R0                     ;
22255 0000459A 0009                   M           NOP                                     ;
22256                            1058 I1          FAR_JSR #_FWD_REV_START,R1                      ;起動
22257 0000459C D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22258 0000459E 410B                   M           JSR     @R1                     ;
22259 000045A0 0009                   M           NOP                                     ;
22260 000045A2 0009              1059 I1          NOP
22261 000045A4 0009              1060 I1          NOP
22262 000045A6 0009              1061 I1          NOP
22263                            1062 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
22264 000045A8 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22265 000045AA 400B                   M           JSR     @R0                     ;
22266 000045AC 0009                   M           NOP                                     ;
22267                            1063 I1          SUB_END
22268                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22269 000045AE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22270                            1064 I1          M_RTS
22271 000045B0 000B                   M           RTS                             ;RTSの後ろの
22272 000045B2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22273                            1065 I1  
22274                            1066 I1  
22275                            1067 I1  ;       ***********************************
22276                            1068 I1  ;       ***                             ***
22277                            1069 I1  ;       ***     2013-04-14              ***
22278                            1070 I1  ;       ***     (速度継続中のみCALL)    ***
22279                            1071 I1  ;       ***                             ***
22280                            1072 I1  ;       ***********************************
22281                            1073 I1  ;       位置１　停止位置２　手前にした結果　手前位置＜位置１＜位置２の場合、位置１の手前で
                                          停止する
22282                            1074 I1  ;       ANS     R0=1:切替必要
22283                            1075 I1  ;       ANS     R2=X:切替行程
22284                                 I1  ***** BEGIN-POOL *****
22285 000045B4 00000000               I1  DATA FOR SOURCE-LINE 1031
22286 000045B8 00000000               I1  DATA FOR SOURCE-LINE 1033
22287 000045BC 00000000               I1  DATA FOR SOURCE-LINE 1037
22288 000045C0 00000000               I1  DATA FOR SOURCE-LINE 1038
22289 000045C4 00000000               I1  DATA FOR SOURCE-LINE 1044
22290 000045C8 00000000               I1  DATA FOR SOURCE-LINE 1056
22291 000045CC 00000000               I1  DATA FOR SOURCE-LINE 1057
22292 000045D0 00000000               I1  DATA FOR SOURCE-LINE 1058
22293 000045D4 00000000               I1  DATA FOR SOURCE-LINE 1062
22294                                 I1  ***** END-POOL *****
22295 000045D8                   1076 I1  _REV_BEFORE_CHGKOUTEICHK:
22296                            1077 I1          SUB_START
22297 000045D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
22298                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22299                            1078 I1          PUSH_REG1 R5
22300 000045DA 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
22301                                 M                                           ;REG=>[SP]
22302                                 M                                           ;"-4" FF,FF,FF,FC
22303                            1079 I1          PUSH_REG1 R9
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   292
PROGRAM NAME =

22304 000045DC 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
22305                                 M                                           ;REG=>[SP]
22306                                 M                                           ;"-4" FF,FF,FF,FC
22307                            1080 I1          PUSH_REG1 R11
22308 000045DE 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
22309                                 M                                           ;REG=>[SP]
22310                                 M                                           ;"-4" FF,FF,FF,FC
22311                            1081 I1  
22312 000045E0 DB0F              1082 I1          MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
22313 000045E2 69B1              1083 I1          MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
22314 000045E4 6593              1084 I1          MOV     R9,R5                                                   ;
22315 000045E6 75FF              1085 I1          ADD     #-1,R5                                                  ;
22316 000045E8 4508              1086 I1          SHLL2   R5                                                      ;
22317 000045EA 6253              1087 I1          MOV     R5,R2
22318 000045EC 4200              1088 I1          SHLL    R2
22319 000045EE D00D              1089 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
22320 000045F0 302C              1090 I1          ADD     R2,R0
22321 000045F2 6106              1091 I1          MOV.L   @R0+,R1                                                 ;位置
22322 000045F4 6202              1092 I1          MOV.L   @R0,R2                                                  ;
22323                            1093 I1  
22324 000045F6 255A              1094 I1          XOR     R5,R5                                                   ;
22325 000045F8 D40B              1095 I1          MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4                             ;//目標−手前
22326 000045FA 6642              1096 I1          MOV.L   @R4,R6                                                  ;
22327 000045FC 7601              1097 I1          ADD     #D'1,R6                                         ;
22328                            1098 I1  
22329                            1099 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
22330 000045FE 0008                   M           CLRT
22331 00004600 326A                   M           SUBC    R6,R2
22332 00004602 315A                   M           SUBC    R5,R1
22333                            1100 I1  
22334 00004604 D409              1101 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
22335 00004606 6546              1102 I1          MOV.L   @R4+,R5                                                 ;
22336 00004608 6642              1103 I1          MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
22337                            1104 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
22338 0000460A 0008                   M           CLRT
22339 0000460C 326A                   M           SUBC    R6,R2
22340 0000460E 315A                   M           SUBC    R5,R1
22341                            1105 I1  
22342 00004610 4111              1106 I1          CMP/PZ  R1
22343 00004612 8B0E              1107 I1          BF      REV_BEFORE_CHGKOUTEICK100                               ;"-" 過ぎた
22344                            1108 I1  
22345 00004614 6013              1109 I1          MOV     R1,R0
22346 00004616 202B              1110 I1          OR      R2,R0
22347 00004618 2008              1111 I1          TST     R0,R0
22348                            1112 I1          TST_BIT_OF REV_BEFORE_CHGKOUTEICK090                            ;
22349 0000461A 8909                   M           BT      REV_BEFORE_CHGKOUTEICK090
22350                            1113 I1          M_BRA   REV_BEFORE_CHGKOUTEICK300                               ;
22351 0000461C A016                   M           BRA     REV_BEFORE_CHGKOUTEICK300
22352 0000461E 0009                   M           NOP
22353                            1114 I1  
22354                                 I1  ***** BEGIN-POOL *****
22355 00004620 00000000               I1  DATA FOR SOURCE-LINE 1082
22356 00004624 00000000               I1  DATA FOR SOURCE-LINE 1089
22357 00004628 00000000               I1  DATA FOR SOURCE-LINE 1095
22358 0000462C 00000000               I1  DATA FOR SOURCE-LINE 1101
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   293
PROGRAM NAME =

22359                                 I1  ***** END-POOL *****
22360 00004630                   1115 I1  REV_BEFORE_CHGKOUTEICK090:
22361 00004630 0009              1116 I1          NOP
22362 00004632                   1117 I1  REV_BEFORE_CHGKOUTEICK100:
22363 00004632 6093              1118 I1          MOV     R9,R0                           ;
22364 00004634 70FF              1119 I1          ADD     #-1,R0                          ;
22365 00004636 4008              1120 I1          SHLL2   R0
22366 00004638 D103              1121 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
22367 0000463A 021E              1122 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
22368 0000463C 3922              1123 I1          CMP/HS  R2,R9                           ;
22369 0000463E 8905              1124 I1          BT      REV_BEFORE_CHGKOUTEICK300       ;すでにこの行程
22370                            1125 I1  
22371 00004640                   1126 I1  REV_BEFORE_CHGKOUTEICK200:
22372 00004640 E001              1127 I1          MOV.B   #1,R0                           ;ANS R2,R0
22373                            1128 I1          M_BRA   REV_BEFORE_CHGKOUTEICK400
22374 00004642 A004                   M           BRA     REV_BEFORE_CHGKOUTEICK400
22375 00004644 0009                   M           NOP
22376                            1129 I1  
22377                                 I1  ***** BEGIN-POOL *****
22378 00004646 0000                   I1  ALIGNMENT CODE
22379 00004648 00000000               I1  DATA FOR SOURCE-LINE 1121
22380                                 I1  ***** END-POOL *****
22381 0000464C                   1130 I1  REV_BEFORE_CHGKOUTEICK300:
22382 0000464C 200A              1131 I1          XOR     R0,R0
22383 0000464E                   1132 I1  REV_BEFORE_CHGKOUTEICK400:
22384                            1133 I1  
22385                            1134 I1          POP_REG1 R11
22386                                 M                                   ; RE"+4" 00,00,00,04
22387 0000464E 6BF6                   M           MOV.L   @R15+,R11        ;
22388                            1135 I1          POP_REG1 R9
22389                                 M                                   ; RE"+4" 00,00,00,04
22390 00004650 69F6                   M           MOV.L   @R15+,R9        ;
22391                            1136 I1          POP_REG1 R5
22392                                 M                                   ; RE"+4" 00,00,00,04
22393 00004652 65F6                   M           MOV.L   @R15+,R5        ;
22394                            1137 I1  
22395                            1138 I1          SUB_END
22396                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22397 00004654 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22398                            1139 I1          M_RTS
22399 00004656 000B                   M           RTS                             ;RTSの後ろの
22400 00004658 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22401                            1140 I1  
22402                            1141 I1  
22403                            1142 I1  ;       *******************************************
22404                            1143 I1  ;       ***                                     ***
22405                            1144 I1  ;       ***                                     ***
22406                            1145 I1  ;       ***                                     ***
22407                            1146 I1  ;       ***                                     ***
22408                            1147 I1  ;       ****            荷重−位置変換          ***
22409                            1148 I1  ;       ***                                     ***
22410                            1149 I1  ;       ***                                     ***
22411                            1150 I1  ;       ***                                     ***
22412                            1151 I1  ;       ***                                     ***
22413                            1152 I1  ;       *******************************************
22414                            1153 I1  ;       INPUT
22415                            1154 I1  ;       INPUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   294
PROGRAM NAME =

22416                            1155 I1  ;       OUTPUT
22417                            1156 I1          .IMPORT _SVP_ORGRUP_DEG         ;原点右区間上[荷重ﾃﾞﾊﾞｯｸ]KN
22418                            1157 I1          .IMPORT _SVP_ORGRDN_DEG         ;原点右区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
22419                            1158 I1          .IMPORT _SVP_ORGLUP_DEG         ;原点左区間上[荷重ﾃﾞﾊﾞｯｸ]KN
22420                            1159 I1          .IMPORT _SVP_ORGLDN_DEG         ;原点左区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
22421                            1160 I1  
22422                            1161 I1  
22423                            1162 I1  
22424                            1163 I1  _SVPX_KTBL_MIN_KN       .DEFINE         "_SVP_ORGRUP_DEG"
22425                            1164 I1  _SVPX_KTBL_MIN_PLS      .DEFINE         "_SVP_ORGLUP_DEG"
22426                            1165 I1  
22427                            1166 I1  _SVPX_KTBL_MAX_KN       .DEFINE         "_SVP_ORGRDN_DEG"
22428                            1167 I1  _SVPX_KTBL_MAX_PLS      .DEFINE         "_SVP_ORGLDN_DEG"
22429                            1168 I1  
22430                            1169 I1  ;       R3:Yn_1         R5:Xn_1
22431                            1170 I1  ;       R2:Yn           R4:Xn
22432                            1171 I1  ;       ANS:R2=y        R1:x
22433                            1172 I1  ;       limit R6(Yn)
22434                            1173 I1  
22435 0000465A                   1174 I1  _CLS_KJYU_PLS_CHANGE
22436                            1175 I1          SUB_START
22437 0000465A 4F22                   M           STS.L   PR,@-R15                ;[必要]
22438                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22439                            1176 I1  
22440 0000465C D105              1177 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;//その行程のターゲット
22441 0000465E 6212              1178 I1          MOV.L   @R1,R2                          ;
22442 00004660 D105              1179 I1          MOV.L   #_W4_PV_CTL_KJYU_TTL_P,R1       ;//制御値=ﾌｨﾙﾀ値予定
22443 00004662 6012              1180 I1          MOV.L   @R1,R0                          ;荷重実測
22444 00004664 3208              1181 I1          SUB     R0,R2                           ;
22445 00004666 D105              1182 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1           ;//荷重の偏差
22446 00004668 2122              1183 I1          MOV.L   R2,@R1                          ;
22447                            1184 I1  
22448                            1185 I1  ;       ------KN->PLS換算は不要 KN=PLSにしてしますためコメントにする
22449 0000466A D105              1186 I1          MOV.L   #_KJYUCLS_KN_HENSA_PLS,R1       ;//荷重の偏差相当のパルス
22450 0000466C 2122              1187 I1          MOV.L   R2,@R1                          ;PLS="+":もっと正転していい
22451                            1188 I1  
22452                            1189 I1          SUB_END
22453                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22454 0000466E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22455                            1190 I1          M_RTS
22456 00004670 000B                   M           RTS                             ;RTSの後ろの
22457 00004672 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22458                            1191 I1  
22459                            1192 I1  
22460                            1193 I1  
22461                            1194 I1  
22462                            1195 I1  ;;      FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
22463                            1196 I1  ;;              @この段でフルクロを行うかどうか R0=0　しない R0 != フルクロする
22464                            1197 I1  ;;              AR6:目標停止位置[PLS],R7リニアの実測位置[PLS] 1回転上のオフセットパルス
22465                            1198 I1  ;;
22466                            1199 I1  ;;      FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0                       ;ANS R0,R6(ﾘﾆｱ実測
                                          ﾊﾟﾙｽ),R7(1回転内目標ﾊﾟﾙｽ)
22467                            1200 I1  ;;              @ニアゼロの範囲内 R0=0, ＋側へオーバR0=1,-側へオーバR0=-1
22468                            1201 I1  ;;               CPUBはCPUAがニアゼロならニアＺロと認識
22469                            1202 I1  
22470                            1203 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   295
PROGRAM NAME =

22471                            1204 I1  ;       ***                                     ***
22472                            1205 I1  ;       ***     ﾌﾙｸﾛｰｽﾞを行う段数かチェック     ***
22473                            1206 I1  ;       ***     [ﾘﾆｱ・荷重切替]                 ***
22474                            1207 I1  ;       *******************************************
22475                            1208 I1  ;       最終段の場合はﾌﾙｸﾛｰｽﾞしない。このソフトの上で見ている
22476                            1209 I1  ;       input INT_POS_CTL_STEP,CPOS_SDAT1_CNTSTEP
22477                            1210 I1  ;       ANS R0:0 ﾌﾙｸﾛｰｽﾞしない
22478                            1211 I1  ;             :0以外 ﾌﾙｸﾛｰｽﾞする
22479                            1212 I1  ;       ANS R5:この行程の停止行程
22480                            1213 I1  ;[_POS_CLS_START_CONFは_POS_CLS_TYP1_PROC_CHKの一部]
22481                            1214 I1  ;
22482                                 I1  ***** BEGIN-POOL *****
22483 00004674 00000000               I1  DATA FOR SOURCE-LINE 1177
22484 00004678 00000000               I1  DATA FOR SOURCE-LINE 1179
22485 0000467C 00000000               I1  DATA FOR SOURCE-LINE 1182
22486 00004680 00000000               I1  DATA FOR SOURCE-LINE 1186
22487                                 I1  ***** END-POOL *****
22488 00004684                   1215 I1  _POS_CLS_START_CONF:
22489                            1216 I1          SUB_START
22490 00004684 4F22                   M           STS.L   PR,@-R15                ;[必要]
22491                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22492 00004686 D107              1217 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
22493 00004688 6011              1218 I1          MOV.W   @R1,R0                          ;
22494 0000468A 6503              1219 I1          MOV     R0,R5                           ;工程PUSH
22495 0000468C 70FF              1220 I1          ADD     #-1,R0                          ;
22496 0000468E 4008              1221 I1          SHLL2   R0
22497 00004690 D105              1222 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
22498 00004692 001E              1223 I1          MOV.L   @(R0,R1),R0                     ;現状の工程の目標工程
22499 00004694 D105              1224 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
22500 00004696 2101              1225 I1          MOV.W   R0,@R1
22501                            1226 I1  
22502 00004698 3500              1227 I1          CMP/EQ  R0,R5                           ;停止させる工程でのみﾌﾙｸﾛｰｽﾞは行う
22503 0000469A 8900              1228 I1          BT      POS_CLS_START_050               ;R0=R5 ANS R5=工程,R0
22504 0000469C 200A              1229 I1          XOR     R0,R0                           ;ANS MAK
22505 0000469E                   1230 I1  POS_CLS_START_050:                              ;
22506                            1231 I1  
22507                            1232 I1          SUB_END
22508                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22509 0000469E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22510                            1233 I1          M_RTS
22511 000046A0 000B                   M           RTS                             ;RTSの後ろの
22512 000046A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22513                            1234 I1  
22514                            1235 I1  ;       ***************************************************
22515                            1236 I1  ;       ***                                             ***
22516                            1237 I1  ;       ***     目標位置(ﾊﾟﾙｽ)と制御対象実測作成        ***
22517                            1238 I1  ;       ***     [ﾘﾆｱ・荷重切替]                         ***
22518                            1239 I1  ;       ***                                             ***
22519                            1240 I1  ;       ***************************************************
22520                            1241 I1  ;       input _SDATCLS_TRG_STEP ;//速度連続の最後のｽﾃｯﾌﾟ
22521                            1242 I1  ;       ANS
22522                            1243 I1  ;       R7:目標停止位置
22523                            1244 I1  ;       R6:ﾘﾆｱ位置　または　荷重からの位置
22524                            1245 I1  ;               荷重の場合は(目標荷重-実測荷重)*K+目標位置
22525                            1246 I1  ;                               (完了幅内では+1,0,-1ﾊﾟﾙｽにする)
22526                            1247 I1  ;
22527                            1248 I1  ;[_POS_CLS_OBJPLS_PVPLS_MAKEは_POS_CLS_TYP1_PROC_CHKの一部]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   296
PROGRAM NAME =

22528                            1249 I1  ;
22529                            1250 I1  ;
22530                            1251 I1  ;
22531                                 I1  ***** BEGIN-POOL *****
22532 000046A4 00000000               I1  DATA FOR SOURCE-LINE 1217
22533 000046A8 00000000               I1  DATA FOR SOURCE-LINE 1222
22534 000046AC 00000000               I1  DATA FOR SOURCE-LINE 1224
22535                                 I1  ***** END-POOL *****
22536 000046B0                   1252 I1  _POS_CLS_OBJPLS_PVPLS_MAKE
22537                            1253 I1          SUB_START
22538 000046B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
22539                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22540                            1254 I1  
22541 000046B2 D111              1255 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
22542 000046B4 6011              1256 I1          MOV.W   @R1,R0                          ;[R5]
22543                            1257 I1  
22544 000046B6 D511              1258 I1          MOV.L   #_SDATCLS_UPOBJ_PLS,R5          ;[目標位置=待機点]
22545 000046B8 D111              1259 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
22546 000046BA 6211              1260 I1          MOV.W   @R1,R2                          ;
22547 000046BC 7201              1261 I1          ADD     #1,R2                           ;
22548 000046BE 3023              1262 I1          CMP/GE  R2,R0                           ;MAX=NOW
22549 000046C0 8903              1263 I1          BT      POS_CLS_OBJPVPLSMAK100  ;
22550                            1264 I1  
22551 000046C2 D510              1265 I1          MOV.L   #_SDATCLS_OBJPLS,R5             ;[目標位置=各段設定位置]
22552 000046C4 70FF              1266 I1          ADD     #-1,R0                          ;
22553 000046C6 4008              1267 I1          SHLL2   R0                              ;4BYTE
22554 000046C8 350C              1268 I1          ADD     R0,R5                           ;
22555 000046CA                   1269 I1  POS_CLS_OBJPVPLSMAK100  ;
22556                            1270 I1  
22557 000046CA 6752              1271 I1          MOV.L   @R5,R7                          ;待機点または目標位置(停止)
22558 000046CC 6273              1272 I1          MOV     R7,R2
22559                            1273 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(目標ﾊﾟﾙｽ+/-ﾊﾟﾙｽ変換)
22560 000046CE D00E                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22561 000046D0 400B                   M           JSR     @R0                     ;
22562 000046D2 0009                   M           NOP                                     ;
22563 000046D4 6723              1274 I1          MOV     R2,R7                           ;R7:目標位置;ANS:目標位置(設定ﾚﾍﾞﾙ)
22564                            1275 I1  
22565 000046D6 D40D              1276 I1          MOV.L   #_DBG_REVMOD_OBJPLS,R4          ;
22566 000046D8 2422              1277 I1          MOV.L   R2,@R4                          ;ﾃﾞﾊﾞｯｸ用内部ﾃﾞｰﾀﾓﾆﾀ
22567                            1278 I1  
22568                            1279 I1  ;       ==========R7:停止目標位置============
22569 000046DA D10D              1280 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
22570 000046DC 6011              1281 I1          MOV.W   @R1,R0                          ;
22571 000046DE 2008              1282 I1          TST     R0,R0                           ;
22572                            1283 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK300       ;荷重 JUMP
22573 000046E0 8B1C                   M           BF      POS_CLS_OBJPVPLSMAK300
22574                            1284 I1  
22575                            1285 I1  ;       =====   R6:リニア       ======
22576 000046E2 D40C              1286 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4   ;//余り角度 +ﾃﾞｰﾀ
22577 000046E4 6642              1287 I1          MOV.L   @R4,R6                          ;
22578 000046E6 6263              1288 I1          MOV     R6,R2                           ;
22579                            1289 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(ﾘﾆｱｽｹｰﾙ==>+/-ﾊﾟﾙｽ変換)
22580 000046E8 D007                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22581 000046EA 400B                   M           JSR     @R0                     ;
22582 000046EC 0009                   M           NOP                                     ;
22583 000046EE 6623              1290 I1          MOV     R2,R6                           ;
22584 000046F0 D009              1291 I1          MOV.L   #_DBG_REVMOD_CTLPLS,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   297
PROGRAM NAME =

22585 000046F2 2022              1292 I1          MOV.L   R2,@R0                          ;
22586                            1293 I1          M_BRA   POS_CLS_OBJPVPLSMAK500          ;
22587 000046F4 A01C                   M           BRA     POS_CLS_OBJPVPLSMAK500
22588 000046F6 0009                   M           NOP
22589                            1294 I1  
22590                            1295 I1  
22591                            1296 I1  ;       =====           荷重            ======
22592                                 I1  ***** BEGIN-POOL *****
22593 000046F8 00000000               I1  DATA FOR SOURCE-LINE 1255
22594 000046FC 00000000               I1  DATA FOR SOURCE-LINE 1258
22595 00004700 00000000               I1  DATA FOR SOURCE-LINE 1259
22596 00004704 00000000               I1  DATA FOR SOURCE-LINE 1265
22597 00004708 00000000               I1  DATA FOR SOURCE-LINE 1273,1289
22598 0000470C 00000000               I1  DATA FOR SOURCE-LINE 1276
22599 00004710 00000000               I1  DATA FOR SOURCE-LINE 1280
22600 00004714 00000000               I1  DATA FOR SOURCE-LINE 1286
22601 00004718 00000000               I1  DATA FOR SOURCE-LINE 1291
22602                                 I1  ***** END-POOL *****
22603 0000471C                   1297 I1  POS_CLS_OBJPVPLSMAK300:
22604                            1298 I1  ;;      S4b     KJYUCLS_OBJ_KN;         //各段の荷重目標
22605                            1299 I1  ;;      S4b     KJYUCLS_KN_HENSA;       //荷重の偏差
22606                            1300 I1  ;;      S4b     KJYUCLS_KN_HENSA_PLS;   //荷重の偏差相当のパルス
22607                            1301 I1  
22608                            1302 I1          PUSH_REG1 R7                            ;
22609 0000471C 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
22610                                 M                                           ;REG=>[SP]
22611                                 M                                           ;"-4" FF,FF,FF,FC
22612                            1303 I1          FAR_JSR #_CLS_KJYU_PLS_CHANGE,R0        ;OUTPUT R2:偏差ﾊﾟﾙｽ+/-
22613 0000471E D006                   M           MOV.L   #_CLS_KJYU_PLS_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22614 00004720 400B                   M           JSR     @R0                     ;
22615 00004722 0009                   M           NOP                                     ;
22616                            1304 I1          POP_REG1 R7                             ;
22617                                 M                                   ; RE"+4" 00,00,00,04
22618 00004724 67F6                   M           MOV.L   @R15+,R7        ;
22619                            1305 I1  
22620                            1306 I1  
22621 00004726 2228              1307 I1          TST     R2,R2                           ;
22622                            1308 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK310       ;
22623 00004728 8B00                   M           BF      POS_CLS_OBJPVPLSMAK310
22624                            1309 I1  
22625 0000472A E201              1310 I1          MOV.B   #1,R2                           ;0なら1にする
22626                            1311 I1  
22627 0000472C                   1312 I1  POS_CLS_OBJPVPLSMAK310:                         ;
22628                            1313 I1                                                  ;"R2=2"
22629 0000472C 6673              1314 I1          MOV     R7,R6                           ;OBJ=100PLS
22630 0000472E 3628              1315 I1          SUB     R2,R6                           ;PV = 98PLS
22631                            1316 I1  
22632                            1317 I1  
22633                            1318 I1  
22634                            1319 I1  
22635 00004730                   1320 I1  POS_CLS_OBJPVPLSMAK500:
22636                            1321 I1  
22637                            1322 I1          SUB_END
22638                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22639 00004730 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22640                            1323 I1          M_RTS
22641 00004732 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   298
PROGRAM NAME =

22642 00004734 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22643                            1324 I1  
22644                            1325 I1  ;       ***************************************************
22645                            1326 I1  ;       ***                                             ***
22646                            1327 I1  ;       ***     リニア　ニアゼロまたは荷重ニアゼロ      ***
22647                            1328 I1  ;       ***                                             ***
22648                            1329 I1  ;       ***************************************************
22649                            1330 I1  ;       input   R6:ﾘﾆｱ位置
22650                            1331 I1  ;       ANS     R0:-1,0,1
22651                            1332 I1          .IMPORT _SVP_KAJOBJ_HAB ;荷重完了範囲
22652                            1333 I1  
22653                                 I1  ***** BEGIN-POOL *****
22654 00004736 0000                   I1  ALIGNMENT CODE
22655 00004738 00000000               I1  DATA FOR SOURCE-LINE 1303
22656                                 I1  ***** END-POOL *****
22657 0000473C                   1334 I1  _POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK:
22658                            1335 I1          SUB_START
22659 0000473C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22660                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22661                            1336 I1  
22662 0000473E D104              1337 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
22663 00004740 6011              1338 I1          MOV.W   @R1,R0                          ;
22664 00004742 2008              1339 I1          TST     R0,R0                           ;
22665                            1340 I1          TST_BIT_ON POS_CLS_RNA_KJYU_FIRST_NZ_CHK100     ;
22666 00004744 8B08                   M           BF      POS_CLS_RNA_KJYU_FIRST_NZ_CHK100
22667                            1341 I1  
22668                            1342 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
22669 00004746 D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22670 00004748 400B                   M           JSR     @R0                     ;
22671 0000474A 0009                   M           NOP                                     ;
22672                            1343 I1          M_BRA   POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
22673 0000474C A011                   M           BRA     POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
22674 0000474E 0009                   M           NOP
22675                            1344 I1  
22676                                 I1  ***** BEGIN-POOL *****
22677 00004750 00000000               I1  DATA FOR SOURCE-LINE 1337
22678 00004754 00000000               I1  DATA FOR SOURCE-LINE 1342
22679                                 I1  ***** END-POOL *****
22680 00004758                   1345 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK100:
22681                            1346 I1  
22682                            1347 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
22683 00004758 D007                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22684 0000475A 400B                   M           JSR     @R0                     ;
22685 0000475C 0009                   M           NOP                                     ;
22686                            1348 I1  ;       -2015-06-22
22687 0000475E D107              1349 I1          MOV.L   #(_PAR_KAJYU_FIRST-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
22688 00004760 6311              1350 I1          MOV.W   @R1,R3                                                  ;
22689 00004762 D107              1351 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
22690 00004764 6212              1352 I1          MOV.L   @R1,R2                  ;"+/-"
22691 00004766 4211              1353 I1          CMP/PZ  R2
22692 00004768 8900              1354 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHK120
22693 0000476A 622B              1355 I1          NEG     R2,R2                                   ;
22694 0000476C                   1356 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK120                        ;
22695 0000476C 3236              1357 I1          CMP/HI  R3,R2                                   ;R3<R2
22696 0000476E 8900              1358 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND        ;
22697 00004770 200A              1359 I1          XOR     R0,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   299
PROGRAM NAME =

22698                            1360 I1  
22699 00004772                   1361 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND:
22700                            1362 I1  
22701                            1363 I1          SUB_END
22702                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22703 00004772 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22704                            1364 I1          M_RTS
22705 00004774 000B                   M           RTS                             ;RTSの後ろの
22706 00004776 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22707                            1365 I1  
22708                            1366 I1  
22709                            1367 I1  
22710                            1368 I1  
22711                            1369 I1  
22712                                 I1  ***** BEGIN-POOL *****
22713 00004778 00000000               I1  DATA FOR SOURCE-LINE 1347
22714 0000477C 00000000               I1  DATA FOR SOURCE-LINE 1349
22715 00004780 00000000               I1  DATA FOR SOURCE-LINE 1351
22716                                 I1  ***** END-POOL *****
22717 00004784                   1370 I1  _POS_CLS_RNA_KJYU_NZ_CHEAK:
22718                            1371 I1          SUB_START
22719 00004784 4F22                   M           STS.L   PR,@-R15                ;[必要]
22720                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22721                            1372 I1  
22722 00004786 D104              1373 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
22723 00004788 6011              1374 I1          MOV.W   @R1,R0                          ;
22724 0000478A 2008              1375 I1          TST     R0,R0                           ;
22725                            1376 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK100   ;
22726 0000478C 8B08                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK100
22727                            1377 I1  
22728                            1378 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
22729 0000478E D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22730 00004790 400B                   M           JSR     @R0                     ;
22731 00004792 0009                   M           NOP                                     ;
22732                            1379 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND
22733 00004794 A03F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
22734 00004796 0009                   M           NOP
22735                            1380 I1  
22736                                 I1  ***** BEGIN-POOL *****
22737 00004798 00000000               I1  DATA FOR SOURCE-LINE 1373
22738 0000479C 00000000               I1  DATA FOR SOURCE-LINE 1378
22739                                 I1  ***** END-POOL *****
22740 000047A0                   1381 I1  POS_CLS_RNA_KJYU_NZ_CHK100:
22741                            1382 I1  
22742                            1383 I1  ;       ---------------------------------------------------
22743                            1384 I1          .IMPORT _SEQ_DP_TOP
22744                            1385 I1  
22745 000047A0 D10C              1386 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;[[[[[[[[[[[[
22746 000047A2 6011              1387 I1          MOV.W   @R1,R0                          ;
22747 000047A4 9414              1388 I1          MOV.W   #BIT12,R4                       ;
22748                            1389 I1  
22749 000047A6 2048              1390 I1          TST     R4,R0                           ;
22750                            1391 I1          TST_BIT_OF POS_CLS_RNA_KJYU_NZ_CHK500   ;ﾀｲﾏ中は制御しない
22751 000047A8 8932                   M           BT      POS_CLS_RNA_KJYU_NZ_CHK500
22752                            1392 I1  
22753 000047AA D10B              1393 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;//BIT0:SET BIT1:ﾀｲﾑｱｯﾌﾟ()
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   300
PROGRAM NAME =

22754 000047AC 6011              1394 I1          MOV.W   @R1,R0                          ;
22755 000047AE C802              1395 I1          TST     #BIT1,R0
22756                            1396 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK400   ;
22757 000047B0 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK400
22758                            1397 I1  
22759 000047B2 C801              1398 I1          TST     #BIT0,R0                        ;
22760                            1399 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK200   ;ﾆｱｾﾞﾛに入ったか？
22761 000047B4 8B16                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK200
22762                            1400 I1  
22763                            1401 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
22764 000047B6 D009                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22765 000047B8 400B                   M           JSR     @R0                     ;
22766 000047BA 0009                   M           NOP                                     ;
22767 000047BC 2008              1402 I1          TST     R0,R0                           ;ﾆｱｾﾞﾛか?
22768                            1403 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾆｱｾﾞﾛではない
22769 000047BE 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
22770                            1404 I1  
22771 000047C0 E001              1405 I1          MOV.B   #BIT0,R0                        ;
22772 000047C2 D105              1406 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
22773 000047C4 2101              1407 I1          MOV.W   R0,@R1                          ;
22774                            1408 I1  
22775                            1409 I1          FAR_JSR #_FCLS_NZ_TIM_SET,R0            ;ﾀｲﾏｾｯﾄ
22776 000047C6 D006                   M           MOV.L   #_FCLS_NZ_TIM_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22777 000047C8 400B                   M           JSR     @R0                     ;
22778 000047CA 0009                   M           NOP                                     ;
22779                            1410 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHK490      ;
22780 000047CC A018                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHK490
22781 000047CE 0009                   M           NOP
22782                            1411 I1  
22783                                 I1  ***** BEGIN-POOL *****
22784 000047D0 1000                   I1  DATA FOR SOURCE-LINE 1388
22785 000047D2 0000                   I1  ALIGNMENT CODE
22786 000047D4 00000000               I1  DATA FOR SOURCE-LINE 1386
22787 000047D8 00000000               I1  DATA FOR SOURCE-LINE 1393,1406
22788 000047DC 00000000               I1  DATA FOR SOURCE-LINE 1401
22789 000047E0 00000000               I1  DATA FOR SOURCE-LINE 1409
22790                                 I1  ***** END-POOL *****
22791 000047E4                   1412 I1  POS_CLS_RNA_KJYU_NZ_CHK200:
22792                            1413 I1  
22793                            1414 I1  
22794 000047E4 D404              1415 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4            ;
22795 000047E6 6142              1416 I1          MOV.L   @R4,R1                          ;
22796 000047E8 2118              1417 I1          TST     R1,R1                           ;
22797                            1418 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾀｲﾏ中
22798 000047EA 8B09                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
22799                            1419 I1  
22800                            1420 I1  ;       --------ﾀｲﾑｱｯﾌﾟ------------
22801 000047EC E003              1421 I1          MOV.B   #BIT1+BIT0,R0                   ;
22802 000047EE D103              1422 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
22803 000047F0 2101              1423 I1          MOV.W   R0,@R1                          ;
22804                            1424 I1  
22805 000047F2                   1425 I1  POS_CLS_RNA_KJYU_NZ_CHK400:
22806 000047F2 200A              1426 I1          XOR     R0,R0                           ;完了
22807                            1427 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
22808 000047F4 A00F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
22809 000047F6 0009                   M           NOP
22810                            1428 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   301
PROGRAM NAME =

22811                            1429 I1  
22812                                 I1  ***** BEGIN-POOL *****
22813 000047F8 00000000               I1  DATA FOR SOURCE-LINE 1415
22814 000047FC 00000000               I1  DATA FOR SOURCE-LINE 1422
22815                                 I1  ***** END-POOL *****
22816 00004800                   1430 I1  POS_CLS_RNA_KJYU_NZ_CHK490:
22817                            1431 I1          FAR_JSR #_KJYU_OUT_DIRCT,R0             ;ANS R0=1(戻れ)/-1(進め)　終わらない
22818 00004800 D002                   M           MOV.L   #_KJYU_OUT_DIRCT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22819 00004802 400B                   M           JSR     @R0                     ;
22820 00004804 0009                   M           NOP                                     ;
22821                            1432 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
22822 00004806 A006                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
22823 00004808 0009                   M           NOP
22824                            1433 I1  
22825                            1434 I1  
22826                            1435 I1  ;       --------------------------------------------
22827                                 I1  ***** BEGIN-POOL *****
22828 0000480A 0000                   I1  ALIGNMENT CODE
22829 0000480C 00000000               I1  DATA FOR SOURCE-LINE 1431
22830                                 I1  ***** END-POOL *****
22831 00004810                   1436 I1  POS_CLS_RNA_KJYU_NZ_CHK500:
22832                            1437 I1  
22833                            1438 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;0(完了),1(戻れ),-1(進め)
22834 00004810 D002                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22835 00004812 400B                   M           JSR     @R0                     ;
22836 00004814 0009                   M           NOP                                     ;
22837                            1439 I1  
22838 00004816                   1440 I1  POS_CLS_RNA_KJYU_NZ_CHKEND:
22839                            1441 I1  
22840                            1442 I1  
22841                            1443 I1          SUB_END
22842                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22843 00004816 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22844                            1444 I1          M_RTS
22845 00004818 000B                   M           RTS                             ;RTSの後ろの
22846 0000481A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22847                            1445 I1  
22848                            1446 I1  
22849                            1447 I1  
22850                            1448 I1  ;       *******************************************
22851                            1449 I1  ;       ***                                     ***
22852                            1450 I1  ;       ***     ユーザ設定荷重完了範囲との比較  ***
22853                            1451 I1  ;       ***                                     ***
22854                            1452 I1  ;       *******************************************
22855                                 I1  ***** BEGIN-POOL *****
22856 0000481C 00000000               I1  DATA FOR SOURCE-LINE 1438
22857                                 I1  ***** END-POOL *****
22858 00004820                   1453 I1  _KJYU_NEARZERO_CHK:
22859                            1454 I1          SUB_START
22860 00004820 4F22                   M           STS.L   PR,@-R15                ;[必要]
22861                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22862                            1455 I1  
22863 00004822 D108              1456 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
22864 00004824 6212              1457 I1          MOV.L   @R1,R2                  ;"+/-"
22865                            1458 I1  
22866 00004826 D108              1459 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
22867 00004828 6311              1460 I1          MOV.W   @R1,R3                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   302
PROGRAM NAME =

22868                            1461 I1  
22869 0000482A 643B              1462 I1          NEG     R3,R4                   ;-R4~+R3
22870                            1463 I1  
22871 0000482C E0FF              1464 I1          MOV.B   #-1,R0                          ;手前だ
22872 0000482E 3237              1465 I1          CMP/GT  R3,R2                           ;R3<R2
22873 00004830 8903              1466 I1          BT      KJYU_NEARZERO_CK200             ;まだ荷重が上がっていない
22874                            1467 I1  
22875 00004832 200A              1468 I1          XOR     R0,R0                           ;範囲内
22876 00004834 3243              1469 I1          CMP/GE  R4,R2                           ;
22877 00004836 8900              1470 I1          BT      KJYU_NEARZERO_CK200             ;
22878 00004838 E001              1471 I1          MOV.B   #1,R0                           ;
22879 0000483A                   1472 I1  KJYU_NEARZERO_CK200:
22880                            1473 I1  
22881 0000483A D104              1474 I1          MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
22882 0000483C 2101              1475 I1          MOV.W   R0,@R1                  ;
22883                            1476 I1  
22884                            1477 I1          SUB_END
22885                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22886 0000483E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22887                            1478 I1          M_RTS
22888 00004840 000B                   M           RTS                             ;RTSの後ろの
22889 00004842 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22890                            1479 I1  ;       ***************************************************
22891                            1480 I1  ;       ***                                             ***
22892                            1481 I1  ;       ***     ユーザ設定荷重完了範囲-シスパラとの比較 ***
22893                            1482 I1  ;       ***     [2015-03-15]                            ***
22894                            1483 I1  ;       ***************************************************
22895                            1484 I1  ;;;;;;;;;;_KJYU_NEARZERO2_CHK:
22896                            1485 I1  ;;;;;;;;;;      SUB_START
22897                            1486 I1  ;;;;;;;;;;
22898                            1487 I1  ;;;;;;;;;;      MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足
                                          している
22899                            1488 I1  ;;;;;;;;;;      MOV.L   @R1,R2                  ;"+/-"
22900                            1489 I1  ;;;;;;;;;;
22901                            1490 I1  ;;;;;;;;;;      MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
22902                            1491 I1  ;;;;;;;;;;      MOV.W   @R1,R3                  ;
22903                            1492 I1  ;;;;;;;;;;
22904                            1493 I1  ;;;;;;;;;;      MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
22905                            1494 I1  ;;;;;;;;;;      MOV.W   @R1,R0                                                  ;
22906                            1495 I1  ;;;;;;;;;;      SUB     R0,R3                                                   ;
22907                            1496 I1  ;;;;;;;;;;      CMP/PL  R0                                                      ;
22908                            1497 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK100                                    ;R0=
22909                            1498 I1  ;;;;;;;;;;
22910                            1499 I1  ;;;;;;;;;;      XOR     R0,R0                                                   ;荷重範囲
                                          内(設定が荷重いつでも荷重到達になる)
22911                            1500 I1  ;;;;;;;;;;      M_BRA   KJYU_NEARZERO2_CK200                                    ;
22912                            1501 I1  ;;;;;;;;;;
22913                            1502 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK100                                                  ;
22914                            1503 I1  ;;;;;;;;;;
22915                            1504 I1  ;;;;;;;;;;      NEG     R3,R4                   ;-R4~+R3
22916                            1505 I1  ;;;;;;;;;;
22917                            1506 I1  ;;;;;;;;;;      MOV.B   #-1,R0                          ;手前だ
22918                            1507 I1  ;;;;;;;;;;      CMP/GT  R3,R2                           ;R3<R2
22919                            1508 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;まだ荷重が上がっていない
22920                            1509 I1  ;;;;;;;;;;
22921                            1510 I1  ;;;;;;;;;;      XOR     R0,R0                           ;範囲内
22922                            1511 I1  ;;;;;;;;;;      CMP/GE  R4,R2                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   303
PROGRAM NAME =

22923                            1512 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;
22924                            1513 I1  ;;;;;;;;;;      MOV.B   #1,R0                           ;
22925                            1514 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK200:
22926                            1515 I1  ;;;;;;;;;;
22927                            1516 I1  ;;;;;;;;;;
22928                            1517 I1  ;;;;;;;;;;      SUB_END
22929                            1518 I1  ;;;;;;;;;;      M_RTS
22930                            1519 I1  
22931                            1520 I1  
22932                            1521 I1  ;;;     R0=0 範囲内
22933                            1522 I1  ;;;     R0=1:荷重ｵｰﾊﾞ,R0=-1荷重不足
22934                            1523 I1  ;;;     MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
22935                            1524 I1  ;;;     MOV.W   R0,@R1                  ;
22936                            1525 I1  
22937                            1526 I1  
22938                            1527 I1  ;       ***************************************************
22939                            1528 I1  ;       ***                                             ***
22940                            1529 I1  ;       ***     各種荷重範囲比較                        ***
22941                            1530 I1  ;       ***     2015-06-11                              ***
22942                            1531 I1  ;       ***************************************************
22943                                 I1  ***** BEGIN-POOL *****
22944 00004844 00000000               I1  DATA FOR SOURCE-LINE 1456
22945 00004848 00000000               I1  DATA FOR SOURCE-LINE 1459
22946 0000484C 00000000               I1  DATA FOR SOURCE-LINE 1474
22947                                 I1  ***** END-POOL *****
22948 00004850                   1532 I1  _KJYU_NEARZERO3_CHK:
22949                            1533 I1          SUB_START
22950 00004850 4F22                   M           STS.L   PR,@-R15                ;[必要]
22951                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22952                            1534 I1  
22953 00004852 D10C              1535 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1                                   ;//荷重の偏差　＋
                                          ：目標-実荷重:"+"まだ不足している
22954 00004854 6212              1536 I1          MOV.L   @R1,R2                                                  ;"+/-"
22955 00004856 4211              1537 I1          CMP/PZ  R2                                                      ;
22956 00004858 8900              1538 I1          BT      KJYU_NEARZERO3CHK_100                                   ;
22957 0000485A 622B              1539 I1          NEG     R2,R2                                                   ;
22958 0000485C                   1540 I1  KJYU_NEARZERO3CHK_100:
22959                            1541 I1  
22960 0000485C D10A              1542 I1          MOV.L   #(_PAR_KAJYU_STPARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;[荷重停止範囲] 20
                                          15-06-22
22961 0000485E 6311              1543 I1          MOV.W   @R1,R3                                                  ;
22962 00004860 3322              1544 I1          CMP/HS  R2,R3                                                   ;
22963 00004862 891C              1545 I1          BT      KJYU_NEARZERO3CHK_OUT_OFF                               ;R2<=R3
22964                            1546 I1  
22965 00004864 D109              1547 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1                                     ;荷重完了範囲
22966 00004866 6411              1548 I1          MOV.W   @R1,R4                                                  ;
22967 00004868 6343              1549 I1          MOV     R4,R3                                                   ;
22968                            1550 I1  
22969 0000486A D109              1551 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
22970 0000486C 6011              1552 I1          MOV.W   @R1,R0                                                  ;
22971 0000486E 3308              1553 I1          SUB     R0,R3                                                   ;
22972 00004870 4311              1554 I1          CMP/PZ  R3
22973 00004872 8900              1555 I1          BT      KJYU_NEARZERO3CHK_200                                   ;
22974 00004874 6343              1556 I1          MOV     R4,R3                                                   ;
22975 00004876                   1557 I1  KJYU_NEARZERO3CHK_200:                                                  ;
22976 00004876 3322              1558 I1          CMP/HS  R2,R3                                                   ;R2<=R3 到達範囲?
22977 00004878 8914              1559 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   304
PROGRAM NAME =

22978                            1560 I1  
22979 0000487A 3422              1561 I1          CMP/HS  R2,R4                                                   ;R2<=R4 荷重ニアゼ
                                          ロ範囲?
22980 0000487C 8915              1562 I1          BT      KJYU_NEARZERO3CHK_YES
22981 0000487E E0FE              1563 I1          MOV.B   #-2,R0                                                  ;範囲外
22982                            1564 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
22983 00004880 A014                   M           BRA     KJYU_NEARZERO3CHK_END
22984 00004882 0009                   M           NOP
22985                            1565 I1  
22986                            1566 I1  
22987                                 I1  ***** BEGIN-POOL *****
22988 00004884 00000000               I1  DATA FOR SOURCE-LINE 1535
22989 00004888 00000000               I1  DATA FOR SOURCE-LINE 1542
22990 0000488C 00000000               I1  DATA FOR SOURCE-LINE 1547
22991 00004890 00000000               I1  DATA FOR SOURCE-LINE 1551
22992                                 I1  ***** END-POOL *****
22993 00004894                   1567 I1  KJYU_NEARZERO3_CK100                                                    ;
22994 00004894 3233              1568 I1          CMP/GE  R3,R2                                                   ;
22995 00004896 8905              1569 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;R3<=R2
22996 00004898 E0FF              1570 I1          MOV.B   #-1,R0                                                  ;
22997                            1571 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
22998 0000489A A007                   M           BRA     KJYU_NEARZERO3CHK_END
22999 0000489C 0009                   M           NOP
23000                            1572 I1  
23001                            1573 I1  
23002 0000489E                   1574 I1  KJYU_NEARZERO3CHK_OUT_OFF:
23003 0000489E 200A              1575 I1          XOR     R0,R0                                                   ;一番小さい
23004                            1576 I1          M_BRA   KJYU_NEARZERO3CHK_END
23005 000048A0 A004                   M           BRA     KJYU_NEARZERO3CHK_END
23006 000048A2 0009                   M           NOP
23007                            1577 I1  
23008 000048A4                   1578 I1  KJYU_NEARZERO3CHK_TOUTATU:                                              ;
23009 000048A4 E001              1579 I1          MOV.B   #1,R0                                                   ;二番目小さい
23010                            1580 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23011 000048A6 A001                   M           BRA     KJYU_NEARZERO3CHK_END
23012 000048A8 0009                   M           NOP
23013                            1581 I1  
23014 000048AA                   1582 I1  KJYU_NEARZERO3CHK_YES
23015 000048AA E002              1583 I1          MOV.B   #2,R0                                                   ;三番目小さい
23016                            1584 I1  
23017 000048AC                   1585 I1  KJYU_NEARZERO3CHK_END
23018                            1586 I1          SUB_END
23019                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23020 000048AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23021                            1587 I1          M_RTS
23022 000048AE 000B                   M           RTS                             ;RTSの後ろの
23023 000048B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23024                            1588 I1  
23025                            1589 I1  
23026                            1590 I1  
23027 000048B2                   1591 I1  _KJYU_OUT_DIRCT:
23028                            1592 I1          SUB_START
23029 000048B2 4F22                   M           STS.L   PR,@-R15                ;[必要]
23030                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23031                            1593 I1  
23032 000048B4 D103              1594 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
23033 000048B6 6012              1595 I1          MOV.L   @R1,R0                  ;"+/-"
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   305
PROGRAM NAME =

23034                            1596 I1  
23035 000048B8 4011              1597 I1          CMP/PZ  R0
23036 000048BA 8905              1598 I1          BT      KJYU_OUTDIR100          ;
23037 000048BC E001              1599 I1          MOV.B   #1,R0                   ;R0=1:"+"へ行き過ぎてる 戻れ
23038                            1600 I1          M_BRA   KJYU_OUTDIR200          ;
23039 000048BE A004                   M           BRA     KJYU_OUTDIR200
23040 000048C0 0009                   M           NOP
23041                            1601 I1  
23042                                 I1  ***** BEGIN-POOL *****
23043 000048C2 0000                   I1  ALIGNMENT CODE
23044 000048C4 00000000               I1  DATA FOR SOURCE-LINE 1594
23045                                 I1  ***** END-POOL *****
23046 000048C8                   1602 I1  KJYU_OUTDIR100:
23047 000048C8 E0FF              1603 I1          MOV.B   #-1,R0                  ;R0=-1"-"進め
23048                            1604 I1  
23049 000048CA                   1605 I1  KJYU_OUTDIR200:
23050                            1606 I1  
23051                            1607 I1  
23052                            1608 I1          SUB_END
23053                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23054 000048CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23055                            1609 I1          M_RTS
23056 000048CC 000B                   M           RTS                             ;RTSの後ろの
23057 000048CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23058                            1610 I1  
23059                            1611 I1  ;       *******************************************
23060                            1612 I1  ;       ***                                     ***
23061                            1613 I1  ;       ***                                     ***
23062                            1614 I1  ;       ***                                     ***
23063                            1615 I1  ;       *******************************************
23064                            1616 I1  ;       荷重制御中　タイマ中も制御し続ける 349.12
23065                            1617 I1  ;       ニアゼロ
23066 000048D0                   1618 I1  _FCLS_NZ_TIM_SET
23067                            1619 I1          SUB_START
23068 000048D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
23069                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23070                            1620 I1  
23071                            1621 I1  
23072 000048D2 D205              1622 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
23073 000048D4 6021              1623 I1          MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
23074 000048D6 70FF              1624 I1          ADD     #-1,R0                  ;
23075 000048D8 D404              1625 I1          MOV.L   #_CPOS_SDAT1_TIM,R4     ;
23076 000048DA 4008              1626 I1          SHLL2   R0                      ;
23077 000048DC 014E              1627 I1          MOV.L   @(R0,R4),R1             ;TIM
23078 000048DE D404              1628 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
23079 000048E0 2412              1629 I1          MOV.L   R1,@R4                  ;
23080                            1630 I1  
23081                            1631 I1          SUB_END
23082                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23083 000048E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23084                            1632 I1          M_RTS
23085 000048E4 000B                   M           RTS                             ;RTSの後ろの
23086 000048E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23087                            1633 I1  
23088                            1634 I1  
23089                                 I1  ***** BEGIN-POOL *****
23090 000048E8 00000000               I1  DATA FOR SOURCE-LINE 1622
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   306
PROGRAM NAME =

23091 000048EC 00000000               I1  DATA FOR SOURCE-LINE 1625
23092 000048F0 00000000               I1  DATA FOR SOURCE-LINE 1628
23093                                 I1  ***** END-POOL *****
23094 000048F4                   1635 I1  _FCLS_KJYU_STEPCHG_CLR
23095                            1636 I1          SUB_START
23096 000048F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
23097                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23098 000048F6 200A              1637 I1          XOR     R0,R0
23099 000048F8 D103              1638 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1  ;
23100 000048FA 2101              1639 I1          MOV.W   R0,@R1                  ;
23101                            1640 I1  
23102 000048FC D103              1641 I1          MOV.L   #_FULCLS_MATHED,R1
23103 000048FE 2101              1642 I1          MOV.W   R0,@R1                  ;
23104                            1643 I1  
23105                            1644 I1          SUB_END
23106                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23107 00004900 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23108                            1645 I1          M_RTS
23109 00004902 000B                   M           RTS                             ;RTSの後ろの
23110 00004904 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23111                            1646 I1  
23112                            1647 I1  ;       ***************************************************
23113                            1648 I1  ;       ***                                             ***
23114                            1649 I1  ;       ***                                             ***
23115                            1650 I1  ;       ***                                             ***
23116                            1651 I1  ;       ***************************************************
23117                            1652 I1  ;       どこかで異常検出をする(仕様でないのに荷重ＳＷがＯＮだ)
23118                            1653 I1          .IMPORT _WORD_BIT_TBL1
23119                            1654 I1  
23120                                 I1  ***** BEGIN-POOL *****
23121 00004906 0000                   I1  ALIGNMENT CODE
23122 00004908 00000000               I1  DATA FOR SOURCE-LINE 1638
23123 0000490C 00000000               I1  DATA FOR SOURCE-LINE 1641
23124                                 I1  ***** END-POOL *****
23125 00004910                   1655 I1  _KJYU_DATA_INFO_SEL
23126                            1656 I1          SUB_START
23127 00004910 4F22                   M           STS.L   PR,@-R15                ;[必要]
23128                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23129                            1657 I1  
23130 00004912 D110              1658 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
23131 00004914 6011              1659 I1          MOV.W   @R1,R0                          ;1~10
23132 00004916 2008              1660 I1          TST     R0,R0                           ;
23133                            1661 I1          TST_BIT_OF KJYU_DATA_INFOSL100          ;
23134 00004918 892A                   M           BT      KJYU_DATA_INFOSL100
23135                            1662 I1  
23136 0000491A D10F              1663 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
23137 0000491C 6211              1664 I1          MOV.W   @R1,R2                          ;
23138 0000491E 7201              1665 I1          ADD     #1,R2                           ;
23139 00004920 3200              1666 I1          CMP/EQ  R0,R2                           ;戻り行程?
23140 00004922 8925              1667 I1          BT      KJYU_DATA_INFOSL100             ;
23141                            1668 I1  
23142                            1669 I1  
23143 00004924 70FF              1670 I1          ADD     #-1,R0                          ;
23144 00004926 4000              1671 I1          SHLL    R0                              ;
23145 00004928 D40C              1672 I1          MOV.L   #_WORD_BIT_TBL1,R4              ;R0=0のときにBIT0
23146 0000492A 340C              1673 I1          ADD     R0,R4                           ;
23147 0000492C 6241              1674 I1          MOV.W   @R4,R2                          ;ﾁｪｯｸﾋﾞｯﾄ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   307
PROGRAM NAME =

23148 0000492E D10C              1675 I1          MOV.L   #_CPOS_FULCLS_MATEHD_SW,R1      ;
23149 00004930 6311              1676 I1          MOV.W   @R1,R3                          ;
23150 00004932 2328              1677 I1          TST     R2,R3                           ;
23151                            1678 I1          TST_BIT_OF KJYU_DATA_INFOSL100          ;位置
23152 00004934 891C                   M           BT      KJYU_DATA_INFOSL100
23153                            1679 I1  
23154 00004936 4000              1680 I1          SHLL    R0                              ;*2
23155 00004938 D10A              1681 I1          MOV.L   #_CPOS_KJYUCLS_OBJ,R1           ;
23156 0000493A 310C              1682 I1          ADD     R0,R1                           ;
23157 0000493C 6212              1683 I1          MOV.L   @R1,R2                          ;
23158 0000493E D10A              1684 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;各段の荷重目標
23159 00004940 2122              1685 I1          MOV.L   R2,@R1                          ;
23160                            1686 I1  
23161                            1687 I1          MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=(BIT13),WKRG1=R1,WKRG2=R4
                                          ;
23162 00004942 D10A                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
23163 00004944 6011                   M           MOV.W   @R1,R0          ;
23164 00004946 9404                   M           MOV.W   #(BIT13),R4             ;
23165 00004948 204B                   M           OR      R4,R0           ;
23166 0000494A 2101                   M           MOV.W   R0,@R1          ;
23167                            1688 I1  
23168 0000494C E001              1689 I1          MOV.B   #BIT0,R0                        ;
23169                            1690 I1          M_BRA   KJYU_DATA_INFOSL300             ;
23170 0000494E A015                   M           BRA     KJYU_DATA_INFOSL300
23171 00004950 0009                   M           NOP
23172                            1691 I1  
23173                                 I1  ***** BEGIN-POOL *****
23174 00004952 2000                   I1  DATA FOR SOURCE-LINE 1687
23175 00004954 00000000               I1  DATA FOR SOURCE-LINE 1658
23176 00004958 00000000               I1  DATA FOR SOURCE-LINE 1663
23177 0000495C 00000000               I1  DATA FOR SOURCE-LINE 1672
23178 00004960 00000000               I1  DATA FOR SOURCE-LINE 1675
23179 00004964 00000000               I1  DATA FOR SOURCE-LINE 1681
23180 00004968 00000000               I1  DATA FOR SOURCE-LINE 1684
23181 0000496C 00000000               I1  DATA FOR SOURCE-LINE 1687
23182                                 I1  ***** END-POOL *****
23183 00004970                   1692 I1  KJYU_DATA_INFOSL100
23184                            1693 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=~(BIT13),WKRG1=R1,WKRG2=R4
23185 00004970 D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
23186 00004972 6011                   M           MOV.W   @R1,R0          ;
23187 00004974 9407                   M           MOV.W   #LWORD ~(BIT13),R4      ;
23188 00004976 2049                   M           AND     R4,R0           ;
23189 00004978 2101                   M           MOV.W   R0,@R1          ;
23190 0000497A 200A              1694 I1          XOR     R0,R0
23191 0000497C                   1695 I1  KJYU_DATA_INFOSL300
23192 0000497C D103              1696 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23193 0000497E 2101              1697 I1          MOV.W   R0,@R1                  ;
23194                            1698 I1  
23195                            1699 I1          SUB_END
23196                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23197 00004980 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23198                            1700 I1          M_RTS
23199 00004982 000B                   M           RTS                             ;RTSの後ろの
23200 00004984 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23201                            1701 I1  
23202                            1702 I1  
23203                            1703 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   308
PROGRAM NAME =

23204                            1704 I1  
23205                            1705 I1  
23206                            1706 I1  
23207                            1707 I1  ;       ***************************************************
23208                            1708 I1  ;       ***                                             ***
23209                            1709 I1  ;       ***     １回目の荷重制御開始時に荷重が高いか?   ***
23210                            1710 I1  ;       ***     [2015-03-15]                                    ***
23211                            1711 I1  ;       ***************************************************
23212                                 I1  ***** BEGIN-POOL *****
23213 00004986 DFFF                   I1  DATA FOR SOURCE-LINE 1693
23214 00004988 00000000               I1  DATA FOR SOURCE-LINE 1693
23215 0000498C 00000000               I1  DATA FOR SOURCE-LINE 1696
23216                                 I1  ***** END-POOL *****
23217 00004990                   1712 I1  _KAJYU_START_UPCHK:
23218                            1713 I1          SUB_START
23219 00004990 4F22                   M           STS.L   PR,@-R15                ;[必要]
23220                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23221 00004992 D10B              1714 I1          MOV.L   #_FULCLS_MATHED,R1      ;//0:位置 1:荷重
23222 00004994 6011              1715 I1          MOV.W   @R1,R0                  ;
23223 00004996 8801              1716 I1          CMP/EQ  #1,R0                   ;
23224 00004998 8B0E              1717 I1          BF      KAJYU_START_UPCK_EXT    ;荷重ではない
23225                            1718 I1  
23226 0000499A D10A              1719 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
23227 0000499C 6011              1720 I1          MOV.W   @R1,R0                  ;
23228 0000499E C801              1721 I1          TST     #BIT0,R0                ;
23229                            1722 I1          TST_BIT_ON KAJYU_START_UPCK_EXT ;既にチェック済み
23230 000049A0 8B0A                   M           BF      KAJYU_START_UPCK_EXT
23231 000049A2 CB01              1723 I1          OR      #BIT0,R0                ;
23232 000049A4 2101              1724 I1          MOV.W   R0,@R1                  ;
23233                            1725 I1  
23234 000049A6 D108              1726 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
23235 000049A8 6012              1727 I1          MOV.L   @R1,R0                  ;
23236 000049AA 4011              1728 I1          CMP/PZ  R0                      ;
23237 000049AC 8904              1729 I1          BT      KAJYU_START_UPCK_EXT    ;目標>=実測
23238                            1730 I1  
23239                            1731 I1          MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R4
23240 000049AE D107                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
23241 000049B0 6011                   M           MOV.W   @R1,R0          ;
23242 000049B2 9404                   M           MOV.W   #(BIT12),R4             ;
23243 000049B4 204B                   M           OR      R4,R0           ;
23244 000049B6 2101                   M           MOV.W   R0,@R1          ;
23245                            1732 I1  
23246 000049B8                   1733 I1  KAJYU_START_UPCK_EXT:
23247                            1734 I1  
23248                            1735 I1          SUB_END
23249                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23250 000049B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23251                            1736 I1          M_RTS
23252 000049BA 000B                   M           RTS                             ;RTSの後ろの
23253 000049BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23254                            1737 I1  
23255                            1738 I1  ;       ---------起動、異常-------
23256                            1739 I1          .EXPORT _KAJYU_ELSE_STS_CLR
23257                                 I1  ***** BEGIN-POOL *****
23258 000049BE 1000                   I1  DATA FOR SOURCE-LINE 1731
23259 000049C0 00000000               I1  DATA FOR SOURCE-LINE 1714
23260 000049C4 00000000               I1  DATA FOR SOURCE-LINE 1719
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   309
PROGRAM NAME =

23261 000049C8 00000000               I1  DATA FOR SOURCE-LINE 1726
23262 000049CC 00000000               I1  DATA FOR SOURCE-LINE 1731
23263                                 I1  ***** END-POOL *****
23264 000049D0                   1740 I1  _KAJYU_ELSE_STS_CLR:
23265                            1741 I1          SUB_START
23266 000049D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
23267                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23268                            1742 I1  
23269                            1743 I1          FAR_JSR #_KAJYU_ELSE_STS_FLG_CLR,R0     ;
23270 000049D2 D006                   M           MOV.L   #_KAJYU_ELSE_STS_FLG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23271 000049D4 400B                   M           JSR     @R0                     ;
23272 000049D6 0009                   M           NOP                                     ;
23273                            1744 I1  
23274                            1745 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=~(BIT12),WKRG1=R1,WKRG2=R
                                          4
23275 000049D8 D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
23276 000049DA 6011                   M           MOV.W   @R1,R0          ;
23277 000049DC 9404                   M           MOV.W   #LWORD ~(BIT12),R4      ;
23278 000049DE 2049                   M           AND     R4,R0           ;
23279 000049E0 2101                   M           MOV.W   R0,@R1          ;
23280                            1746 I1  
23281                            1747 I1          SUB_END
23282                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23283 000049E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23284                            1748 I1          M_RTS
23285 000049E4 000B                   M           RTS                             ;RTSの後ろの
23286 000049E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23287                            1749 I1  
23288                                 I1  ***** BEGIN-POOL *****
23289 000049E8 EFFF                   I1  DATA FOR SOURCE-LINE 1745
23290 000049EA 0000                   I1  ALIGNMENT CODE
23291 000049EC 00000000               I1  DATA FOR SOURCE-LINE 1743
23292 000049F0 00000000               I1  DATA FOR SOURCE-LINE 1745
23293                                 I1  ***** END-POOL *****
23294 000049F4                   1750 I1  _KAJYU_ELSE_STS_FLG_CLR:
23295                            1751 I1          SUB_START
23296 000049F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
23297                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23298 000049F6 200A              1752 I1          XOR     R0,R0
23299 000049F8 D102              1753 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
23300 000049FA 2101              1754 I1          MOV.W   R0,@R1                  ;
23301                            1755 I1          SUB_END
23302                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23303 000049FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23304                            1756 I1          M_RTS
23305 000049FE 000B                   M           RTS                             ;RTSの後ろの
23306 00004A00 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23307                            1757 I1  
23308                            1758 I1  
23309                            1759 I1  
23310                            1760 I1  
23311                            1761 I1  
23312                            1762 I1  
23313                            1763 I1  
23314                            1764 I1  
23315                            1765 I1  
23316                            1766 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   310
PROGRAM NAME =

23317                            1767 I1  
23318                            1768 I1  
23319                            1769 I1  
23320                            1770 I1  
23321                            1771 I1  
23322                            1772 I1  
23323                            1773 I1  
23324                            1774 I1  
23325                            1775 I1  ;       H2WではDTMKだがＱ
23326                            1776 I1  ;       ***************************************************
23327                            1777 I1  ;       ***                                             ***
23328                            1778 I1  ;       ***             起動時荷重データ判断            ***
23329                            1779 I1  ;       ***                                             ***
23330                            1780 I1  ;       ***             範囲1                           ***
23331                            1781 I1  ;       ***             範囲2                           ***
23332                            1782 I1  ;       ***************************************************
23333                            1783 I1  ;       "既に荷重範囲に一度は入った前提"
23334                            1784 I1  ;
23335                            1785 I1  
23336                                 I1  ***** BEGIN-POOL *****
23337 00004A02 0000                   I1  ALIGNMENT CODE
23338 00004A04 00000000               I1  DATA FOR SOURCE-LINE 1753
23339                                 I1  ***** END-POOL *****
23340 00004A08                   1786 I1  _REVRSE_KAJYU_AREACHK_BASSET:
23341                            1787 I1          SUB_START
23342 00004A08 4F22                   M           STS.L   PR,@-R15                ;[必要]
23343                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23344 00004A0A D108              1788 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23345 00004A0C 6011              1789 I1          MOV.W   @R1,R0                                                  ;到達範囲
23346 00004A0E 2008              1790 I1          TST     R0,R0                                                   ;
23347                            1791 I1          TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD                          ;最終範囲を使用し
                                          ない
23348 00004A10 8912                   M           BT      REVRSE_KAJYU_AREACK_LASTSPD
23349                            1792 I1  
23350                            1793 I1  ;;;;;2015-06-22
23351                            1794 I1  ;;;;;   FAR_JSR #_KJYU_NEARZERO2_CHK,R0
23352                            1795 I1  ;;;;;   TST     R0,R0                                   ;
23353                            1796 I1  ;;;;;   TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD          ;到達範囲内
23354                            1797 I1  
23355                            1798 I1  ;       速度選択のニアゼロサブルーチン変更
23356                            1799 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0
23357 00004A12 D007                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23358 00004A14 400B                   M           JSR     @R0                     ;
23359 00004A16 0009                   M           NOP                                     ;
23360 00004A18 8800              1800 I1          CMP/EQ  #0,R0
23361 00004A1A 890D              1801 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
23362 00004A1C 8801              1802 I1          CMP/EQ  #1,R0
23363 00004A1E 890B              1803 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
23364                            1804 I1  
23365                            1805 I1          FAR_JSR #_REVRSE_KAJYU1_BASINCSET,R0            ;
23366 00004A20 D004                   M           MOV.L   #_REVRSE_KAJYU1_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23367 00004A22 400B                   M           JSR     @R0                     ;
23368 00004A24 0009                   M           NOP                                     ;
23369                            1806 I1          M_BRA   REVRSE_KAJYU_AREACK_END                 ;
23370 00004A26 A00A                   M           BRA     REVRSE_KAJYU_AREACK_END
23371 00004A28 0009                   M           NOP
23372                            1807 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   311
PROGRAM NAME =

23373                            1808 I1  ;       --------------最後の範囲内の運転--------------
23374                                 I1  ***** BEGIN-POOL *****
23375 00004A2A 0000                   I1  ALIGNMENT CODE
23376 00004A2C 00000000               I1  DATA FOR SOURCE-LINE 1788
23377 00004A30 00000000               I1  DATA FOR SOURCE-LINE 1799
23378 00004A34 00000000               I1  DATA FOR SOURCE-LINE 1805
23379                                 I1  ***** END-POOL *****
23380 00004A38                   1809 I1  REVRSE_KAJYU_AREACK_LASTSPD:
23381                            1810 I1          FAR_JSR #_REVRSE_KAJYU2_BASINCSET,R0
23382 00004A38 D002                   M           MOV.L   #_REVRSE_KAJYU2_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23383 00004A3A 400B                   M           JSR     @R0                     ;
23384 00004A3C 0009                   M           NOP                                     ;
23385                            1811 I1  
23386 00004A3E                   1812 I1  REVRSE_KAJYU_AREACK_END:
23387                            1813 I1  
23388                            1814 I1          SUB_END
23389                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23390 00004A3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23391                            1815 I1          M_RTS
23392 00004A40 000B                   M           RTS                             ;RTSの後ろの
23393 00004A42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23394                            1816 I1  
23395                            1817 I1  
23396                            1818 I1  
23397                            1819 I1  
23398                            1820 I1  ;もしﾊﾟ-ｾﾝﾃﾞｰﾀなら
23399                            1821 I1  ;DATA(%)*MAX(freq)/10000=freq
23400                            1822 I1  ;freq*FFFF/500,000=LATE
23401                            1823 I1  ;
23402                            1824 I1  ;
23403                            1825 I1  ;もしﾚｰﾄ(7pls/s)なら
23404                            1826 I1  ;DATA()*500,000/FFFF=PLS/S
23405                            1827 I1  
23406                            1828 I1  ;       ------ 2014-08-20-------------------------------------------------------------
23407                            1829 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入っていない-----------
23408                                 I1  ***** BEGIN-POOL *****
23409 00004A44 00000000               I1  DATA FOR SOURCE-LINE 1810
23410                                 I1  ***** END-POOL *****
23411 00004A48                   1830 I1  _REVRSE_KAJYU1_BASINCSET:
23412                            1831 I1          SUB_START
23413 00004A48 4F22                   M           STS.L   PR,@-R15                ;[必要]
23414                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23415                            1832 I1  
23416 00004A4A D104              1833 I1          MOV.L   #(_PAR_KAJYU_ARASPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.362
23417 00004A4C 6211              1834 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
23418 00004A4E 2228              1835 I1          TST     R2,R2                                                   ;
23419                            1836 I1          TST_BIT_ON CLSINC1_SEL_020                                      ;
23420 00004A50 8B08                   M           BF      CLSINC1_SEL_020
23421                            1837 I1  
23422                            1838 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
23423 00004A52 D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23424 00004A54 400B                   M           JSR     @R0                     ;
23425 00004A56 0009                   M           NOP                                     ;
23426                            1839 I1          M_BRA   CLSINC1_SEL_END                                         ;
23427 00004A58 A009                   M           BRA     CLSINC1_SEL_END
23428 00004A5A 0009                   M           NOP
23429                            1840 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   312
PROGRAM NAME =

23430                                 I1  ***** BEGIN-POOL *****
23431 00004A5C 00000000               I1  DATA FOR SOURCE-LINE 1833
23432 00004A60 00000000               I1  DATA FOR SOURCE-LINE 1838
23433                                 I1  ***** END-POOL *****
23434 00004A64                   1841 I1  CLSINC1_SEL_020
23435                            1842 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
23436 00004A64 D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23437 00004A66 400B                   M           JSR     @R0                     ;
23438 00004A68 0009                   M           NOP                                     ;
23439                            1843 I1  
23440 00004A6A D103              1844 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
23441 00004A6C 2122              1845 I1          MOV.L   R2,@R1                                                  ;
23442 00004A6E                   1846 I1  CLSINC1_SEL_END
23443                            1847 I1  
23444                            1848 I1          SUB_END
23445                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23446 00004A6E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23447                            1849 I1          M_RTS
23448 00004A70 000B                   M           RTS                             ;RTSの後ろの
23449 00004A72 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23450                            1850 I1  
23451                            1851 I1  
23452                            1852 I1  ;       -------2014-07-14-----------
23453                            1853 I1  ;       ------ 2014-08-20-----------
23454                            1854 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入った-----------
23455                                 I1  ***** BEGIN-POOL *****
23456 00004A74 00000000               I1  DATA FOR SOURCE-LINE 1842
23457 00004A78 00000000               I1  DATA FOR SOURCE-LINE 1844
23458                                 I1  ***** END-POOL *****
23459 00004A7C                   1855 I1  _REVRSE_KAJYU2_BASINCSET:
23460                            1856 I1          SUB_START
23461 00004A7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
23462                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23463                            1857 I1  
23464 00004A7E D104              1858 I1          MOV.L   #(_PAR_KAJYU_HLDSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.361
23465 00004A80 6211              1859 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
23466 00004A82 2228              1860 I1          TST     R2,R2                                                   ;
23467                            1861 I1          TST_BIT_ON CLSINC2_SEL_020                                      ;
23468 00004A84 8B08                   M           BF      CLSINC2_SEL_020
23469                            1862 I1  
23470                            1863 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
23471 00004A86 D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23472 00004A88 400B                   M           JSR     @R0                     ;
23473 00004A8A 0009                   M           NOP                                     ;
23474                            1864 I1          M_BRA   CLSINC2_SEL_END                                         ;
23475 00004A8C A009                   M           BRA     CLSINC2_SEL_END
23476 00004A8E 0009                   M           NOP
23477                            1865 I1  
23478                                 I1  ***** BEGIN-POOL *****
23479 00004A90 00000000               I1  DATA FOR SOURCE-LINE 1858
23480 00004A94 00000000               I1  DATA FOR SOURCE-LINE 1863
23481                                 I1  ***** END-POOL *****
23482 00004A98                   1866 I1  CLSINC2_SEL_020
23483                            1867 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
23484 00004A98 D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   313
PROGRAM NAME =

23485 00004A9A 400B                   M           JSR     @R0                     ;
23486 00004A9C 0009                   M           NOP                                     ;
23487                            1868 I1  
23488 00004A9E D103              1869 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
23489 00004AA0 2122              1870 I1          MOV.L   R2,@R1                                                  ;
23490 00004AA2                   1871 I1  CLSINC2_SEL_END
23491                            1872 I1  
23492                            1873 I1          SUB_END
23493                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23494 00004AA2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23495                            1874 I1          M_RTS
23496 00004AA4 000B                   M           RTS                             ;RTSの後ろの
23497 00004AA6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23498                            1875 I1  
23499                            1876 I1  
23500                            1877 I1  ;       ***********************************
23501                            1878 I1  ;       ***     S01~S09処理             ***
23502                            1879 I1  ;       ***********************************
23503                                 I1  ***** BEGIN-POOL *****
23504 00004AA8 00000000               I1  DATA FOR SOURCE-LINE 1867
23505 00004AAC 00000000               I1  DATA FOR SOURCE-LINE 1869
23506                                 I1  ***** END-POOL *****
23507 00004AB0                   1880 I1  _REVRSE_BASINC_SPDCALC:
23508                            1881 I1          SUB_START
23509 00004AB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
23510                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23511                            1882 I1  
23512                            1883 I1  ;       =======  2012-10-05 =========
23513 00004AB2 D10B              1884 I1          MOV.L   #_CB_SEQ_CB_COM351,R1                                   ;ｲﾝﾁﾝｸﾞ速度選択
23514 00004AB4 6011              1885 I1          MOV.W   @R1,R0                                                  ;
23515 00004AB6 9411              1886 I1          MOV.W   #BIT9+BIT8+BIT7+BIT6+BIT5+BIT4+BIT3+BIT2+BIT1,R4        ;
23516 00004AB8 2048              1887 I1          TST     R4,R0                                                   ;
23517                            1888 I1          TST_BIT_OF CLSINC_SEL_DEF                                       ;
23518 00004ABA 8915                   M           BT      CLSINC_SEL_DEF
23519                            1889 I1  
23520 00004ABC E308              1890 I1          MOV.B   #D'9-1,R3                                                       ;
23521 00004ABE E402              1891 I1          MOV.B   #BIT1,R4                                                ;
23522 00004AC0 D108              1892 I1          MOV.L   #(_PAR_NEGCTL_SPDS1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23523                            1893 I1  
23524 00004AC2                   1894 I1  CLSINC_SEL_050LOP:
23525 00004AC2 2048              1895 I1          TST     R4,R0
23526                            1896 I1          TST_BIT_ON CLSINC_SEL_100       ;
23527 00004AC4 8B04                   M           BF      CLSINC_SEL_100
23528 00004AC6 4400              1897 I1          SHLL    R4
23529 00004AC8 7102              1898 I1          ADD     #2,R1                   ;
23530 00004ACA 73FF              1899 I1          ADD     #-1,R3                  ;
23531 00004ACC 2338              1900 I1          TST     R3,R3                   ;
23532                            1901 I1          TST_BIT_ON CLSINC_SEL_050LOP    ;BIT1~BIT8
23533 00004ACE 8BF8                   M           BF      CLSINC_SEL_050LOP
23534 00004AD0                   1902 I1  CLSINC_SEL_100:
23535 00004AD0 6211              1903 I1          MOV.W   @R1,R2                  ;
23536 00004AD2 2228              1904 I1          TST     R2,R2                   ;
23537                            1905 I1          TST_BIT_ON CLSINC_SEL_300       ;
23538 00004AD4 8B0A                   M           BF      CLSINC_SEL_300
23539 00004AD6 7201              1906 I1          ADD     #1,R2                   ;
23540                            1907 I1          M_BRA   CLSINC_SEL_300          ;
23541 00004AD8 A008                   M           BRA     CLSINC_SEL_300
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   314
PROGRAM NAME =

23542 00004ADA 0009                   M           NOP
23543                            1908 I1  
23544                            1909 I1  
23545                                 I1  ***** BEGIN-POOL *****
23546 00004ADC 03FE                   I1  DATA FOR SOURCE-LINE 1886
23547 00004ADE 0000                   I1  ALIGNMENT CODE
23548 00004AE0 00000000               I1  DATA FOR SOURCE-LINE 1884
23549 00004AE4 00000000               I1  DATA FOR SOURCE-LINE 1892
23550                                 I1  ***** END-POOL *****
23551 00004AE8                   1910 I1  CLSINC_SEL_DEF:
23552 00004AE8 D104              1911 I1          MOV.L   #_POS_LSI_CLSINC_SPDBAS,R1              ;ｲﾝﾁﾝｸﾞ時
23553 00004AEA 6212              1912 I1          MOV.L   @R1,R2
23554 00004AEC                   1913 I1  CLSINC_SEL_300
23555                            1914 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                ;
23556 00004AEC D004                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23557 00004AEE 400B                   M           JSR     @R0                     ;
23558 00004AF0 0009                   M           NOP                                     ;
23559 00004AF2 D104              1915 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1              ;//PLS/S
23560 00004AF4 2122              1916 I1          MOV.L   R2,@R1                                  ;
23561                            1917 I1                                                          ;
23562                            1918 I1  
23563                            1919 I1          SUB_END
23564                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23565 00004AF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23566                            1920 I1          M_RTS
23567 00004AF8 000B                   M           RTS                             ;RTSの後ろの
23568 00004AFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23569                            1921 I1  
23570                            6854     
23571                            6855     
23572                            6856     
23573                            6857     ;       ***************************
23574                            6858     ;       ***                     ***
23575                            6859     ;       ***     異常履歴ﾃﾞｰﾀ    ***
23576                            6860     ;       ***                     ***
23577                            6861     ;       ***************************
23578                                     ***** BEGIN-POOL *****
23579 00004AFC 00000000                   DATA FOR SOURCE-LINE 1911
23580 00004B00 00000000                   DATA FOR SOURCE-LINE 1914
23581 00004B04 00000000                   DATA FOR SOURCE-LINE 1915
23582                                     ***** END-POOL *****
23583 00004B08                   6862             .ALIGN  4                               ;
23584 00004B08                   6863     _HIST_INFO_DT_IN1:
23585                            6864             SUB_START
23586 00004B08 4F22                   M           STS.L   PR,@-R15                ;[必要]
23587                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23588                            6865             PUSH_REG1 R0
23589 00004B0A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
23590                                 M                                           ;REG=>[SP]
23591                                 M                                           ;"-4" FF,FF,FF,FC
23592                            6866             PUSH_REG1 R1
23593 00004B0C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
23594                                 M                                           ;REG=>[SP]
23595                                 M                                           ;"-4" FF,FF,FF,FC
23596                            6867             PUSH_REG1 R2
23597 00004B0E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
23598                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   315
PROGRAM NAME =

23599                                 M                                           ;"-4" FF,FF,FF,FC
23600                            6868     
23601 00004B10 D109              6869             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
23602 00004B12 D20A              6870             MOV.L   #_LT_LINK_SV_OBJ_ABSPLS,R2              ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
23603 00004B14 6016              6871             MOV.L   @R1+,R0                                 ;
23604 00004B16 2202              6872             MOV.L   R0,@R2                                  ;
23605 00004B18 7204              6873             ADD     #4,R2                                   ;
23606 00004B1A 6016              6874             MOV.L   @R1+,R0                                 ;
23607 00004B1C 2202              6875             MOV.L   R0,@R2                                  ;
23608                            6876     
23609 00004B1E D108              6877             MOV.L   #_LINK_PV_ABSPLS,R1             ;
23610 00004B20 D208              6878             MOV.L   #_LT_INT_LINK_RL_OBJ_ABSPLS,R2          ;
23611 00004B22 6016              6879             MOV.L   @R1+,R0                                 ;
23612 00004B24 2202              6880             MOV.L   R0,@R2                                  ;
23613 00004B26 7204              6881             ADD     #4,R2                                   ;
23614 00004B28 6016              6882             MOV.L   @R1+,R0                                 ;
23615 00004B2A 2202              6883             MOV.L   R0,@R2                                  ;
23616                            6884     
23617                            6885             POP_REG1 R2
23618                                 M                                   ; RE"+4" 00,00,00,04
23619 00004B2C 62F6                   M           MOV.L   @R15+,R2        ;
23620                            6886             POP_REG1 R1
23621                                 M                                   ; RE"+4" 00,00,00,04
23622 00004B2E 61F6                   M           MOV.L   @R15+,R1        ;
23623                            6887             POP_REG1 R0
23624                                 M                                   ; RE"+4" 00,00,00,04
23625 00004B30 60F6                   M           MOV.L   @R15+,R0        ;
23626                            6888             SUB_END
23627                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23628 00004B32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23629                            6889             M_RTS
23630 00004B34 000B                   M           RTS                             ;RTSの後ろの
23631 00004B36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23632                            6890     
23633                            6891     ;       ***********************************
23634                            6892     ;       ***                             ***
23635                            6893     ;       ***     異常情報                ***
23636                            6894     ;       ***                             ***
23637                            6895     ;       ***********************************
23638                            6896             .MACRO  DATA_8B_0CHK MEM,ANSBIT
23639                            6897             MOV.L   #\MEM,R1        ;
23640                            6898             MOV.L   @R1+,R2                 ;HIGH
23641                            6899             MOV.L   @R1,R3                  ;LOW
23642                            6900             XOR     R1,R1                   ;
23643                            6901             OR      R3,R2                   ;
23644                            6902             TST     R2,R2                   ;
23645                            6903             TST_BIT_OF JMP01\@              ;ZERO
23646                            6904             MOV.W   #\ANSBIT,R1             ;
23647                            6905     JMP01\@                                 ;
23648                            6906             .ENDM
23649                            6907     
23650                            6908             .MACRO  DATA_4B_0CHK MEM,ANSBIT
23651                            6909             MOV.L   #\MEM,R1        ;
23652                            6910             MOV.L   @R1+,R2                 ;HIGH
23653                            6911             XOR     R1,R1                   ;
23654                            6912             TST     R2,R2                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   316
PROGRAM NAME =

23655                            6913             TST_BIT_OF JMP01\@              ;ZERO
23656                            6914             MOV.W   #\ANSBIT,R1             ;
23657                            6915     JMP01\@                                 ;
23658                            6916             .ENDM
23659                            6917     
23660                            6918     
23661                            6919     ;       ***************************
23662                            6920     ;       ***     data 記憶       ***
23663                            6921     ;       ***************************
23664                                     ***** BEGIN-POOL *****
23665 00004B38 00000000                   DATA FOR SOURCE-LINE 6869
23666 00004B3C 00000000                   DATA FOR SOURCE-LINE 6870
23667 00004B40 00000000                   DATA FOR SOURCE-LINE 6877
23668 00004B44 00000000                   DATA FOR SOURCE-LINE 6878
23669                                     ***** END-POOL *****
23670 00004B48                   6922             .ALIGN  4                               ;
23671 00004B48                   6923     _ERR_INFO_DT_IN0:
23672                            6924             SUB_START
23673 00004B48 4F22                   M           STS.L   PR,@-R15                ;[必要]
23674                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23675 00004B4A D105              6925             MOV.L   #_PV_POWER_ON_CNT,R1                    ;
23676 00004B4C 6011              6926             MOV.W   @R1,R0                                  ;
23677 00004B4E D105              6927             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B01,R1  ;POWER
23678 00004B50 2101              6928             MOV.W   R0,@R1                                  ;
23679                            6929     
23680 00004B52 D105              6930             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B02,R1  ;TIM
23681 00004B54 6011              6931             MOV.W   @R1,R0                                  ;
23682 00004B56 7001              6932             ADD     #1,R0                                   ;
23683 00004B58 2101              6933             MOV.W   R0,@R1                                  ;
23684                            6934             SUB_END
23685                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23686 00004B5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23687                            6935             M_RTS
23688 00004B5C 000B                   M           RTS                             ;RTSの後ろの
23689 00004B5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23690                            6936     
23691                                     ***** BEGIN-POOL *****
23692 00004B60 00000000                   DATA FOR SOURCE-LINE 6925
23693 00004B64 00000000                   DATA FOR SOURCE-LINE 6927
23694 00004B68 00000000                   DATA FOR SOURCE-LINE 6930
23695                                     ***** END-POOL *****
23696 00004B6C                   6937             .ALIGN  4                               ;
23697 00004B6C                   6938     _ERR_INFO_DT_IN1:
23698                            6939             SUB_START
23699 00004B6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
23700                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23701                            6940             PUSH_REG1 R0
23702 00004B6E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
23703                                 M                                           ;REG=>[SP]
23704                                 M                                           ;"-4" FF,FF,FF,FC
23705                            6941             PUSH_REG1 R1
23706 00004B70 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
23707                                 M                                           ;REG=>[SP]
23708                                 M                                           ;"-4" FF,FF,FF,FC
23709                            6942     
23710                            6943     
23711 00004B72 D108              6944             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   317
PROGRAM NAME =

23712 00004B74 6011              6945             MOV.W   @R1,R0                          ;
23713 00004B76 2008              6946             TST     R0,R0                           ;
23714                            6947             TST_BIT_ON ERR_INFO_DTIN1_EXT           ;
23715 00004B78 8B07                   M           BF      ERR_INFO_DTIN1_EXT
23716                            6948     
23717 00004B7A D107              6949             MOV.L   #_MODE_SEL,R1   ;
23718 00004B7C 6011              6950             MOV.W   @R1,R0          ;
23719 00004B7E C804              6951             TST     #_W1SGL,R0      ;
23720                            6952             TST_BIT_OF ERR_INFO_DTIN1_EXT
23721 00004B80 8903                   M           BT      ERR_INFO_DTIN1_EXT
23722                            6953     
23723 00004B82 D106              6954             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
23724 00004B84 6012              6955             MOV.L   @R1,R0                                  ;
23725 00004B86 D106              6956             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C01,R1  ;
23726 00004B88 2102              6957             MOV.L   R0,@R1                                  ;
23727                            6958     
23728 00004B8A                   6959     ERR_INFO_DTIN1_EXT:
23729                            6960     
23730                            6961             POP_REG1 R1
23731                                 M                                   ; RE"+4" 00,00,00,04
23732 00004B8A 61F6                   M           MOV.L   @R15+,R1        ;
23733                            6962             POP_REG1 R0
23734                                 M                                   ; RE"+4" 00,00,00,04
23735 00004B8C 60F6                   M           MOV.L   @R15+,R0        ;
23736                            6963             SUB_END
23737                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23738 00004B8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23739                            6964             M_RTS
23740 00004B90 000B                   M           RTS                             ;RTSの後ろの
23741 00004B92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23742                            6965     
23743                            6966     
23744                            6967     ;       ***************************
23745                            6968     ;       ***     data 記憶       ***
23746                            6969     ;       ***************************
23747                            6970     ;       (data-smp only)
23748                                     ***** BEGIN-POOL *****
23749 00004B94 00000000                   DATA FOR SOURCE-LINE 6944
23750 00004B98 00000000                   DATA FOR SOURCE-LINE 6949
23751 00004B9C 00000000                   DATA FOR SOURCE-LINE 6954
23752 00004BA0 00000000                   DATA FOR SOURCE-LINE 6956
23753                                     ***** END-POOL *****
23754 00004BA4                   6971             .ALIGN  4                               ;
23755 00004BA4                   6972     _ERR_INFO_DT_IN2:
23756                            6973             SUB_START
23757 00004BA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
23758                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23759                            6974             PUSH_REG1 R0
23760 00004BA6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
23761                                 M                                           ;REG=>[SP]
23762                                 M                                           ;"-4" FF,FF,FF,FC
23763                            6975             PUSH_REG1 R1
23764 00004BA8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
23765                                 M                                           ;REG=>[SP]
23766                                 M                                           ;"-4" FF,FF,FF,FC
23767 00004BAA D10E              6976             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   318
PROGRAM NAME =

23768 00004BAC 6011              6977             MOV.W   @R1,R0                          ;
23769 00004BAE 2008              6978             TST     R0,R0                           ;
23770                            6979             TST_BIT_ON ERR_INFO_DTIN2_EXT           ;
23771 00004BB0 8B13                   M           BF      ERR_INFO_DTIN2_EXT
23772                            6980     
23773 00004BB2 D10D              6981             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
23774 00004BB4 6012              6982             MOV.L   @R1,R0                                  ;
23775 00004BB6 D10D              6983             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C02,R1  ;
23776 00004BB8 2102              6984             MOV.L   R0,@R1                                  ;
23777                            6985     
23778 00004BBA D10D              6986             MOV.L   #_LINK_PV_ABSPLS+4,R1           ;
23779 00004BBC 6012              6987             MOV.L   @R1,R0                                  ;
23780 00004BBE D10D              6988             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C03,R1  ;
23781 00004BC0 2102              6989             MOV.L   R0,@R1                                  ;
23782                            6990     
23783 00004BC2 D10D              6991             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
23784 00004BC4 6012              6992             MOV.L   @R1,R0                                  ;
23785 00004BC6 D10D              6993             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;
23786 00004BC8 2102              6994             MOV.L   R0,@R1                                  ;
23787                            6995     
23788                            6996     
23789                            6997     ;       ----- 2010-10-25 ---------------
23790 00004BCA D10D              6998             MOV.L   #_LNGTH_ADD_DATA,R1                     ;
23791 00004BCC 6012              6999             MOV.L   @R1,R0                                  ;
23792 00004BCE D10D              7000             MOV.L   #_CHK_ADD_DATA_LATCH,R1                 ;
23793 00004BD0 2102              7001             MOV.L   R0,@R1                                  ;
23794                            7002     
23795 00004BD2 D109              7003             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
23796 00004BD4 6012              7004             MOV.L   @R1,R0                                  ;
23797 00004BD6 D10C              7005             MOV.L   #_CHK_ADD_DATA_LATCH+4,R1               ;
23798 00004BD8 2102              7006             MOV.L   R0,@R1                                  ;
23799                            7007     
23800                            7008     
23801                            7009     
23802                            7010     
23803                            7011     
23804                            7012     
23805 00004BDA                   7013     ERR_INFO_DTIN2_EXT
23806                            7014     
23807                            7015             POP_REG1 R1
23808                                 M                                   ; RE"+4" 00,00,00,04
23809 00004BDA 61F6                   M           MOV.L   @R15+,R1        ;
23810                            7016             POP_REG1 R0
23811                                 M                                   ; RE"+4" 00,00,00,04
23812 00004BDC 60F6                   M           MOV.L   @R15+,R0        ;
23813                            7017             SUB_END
23814                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23815 00004BDE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23816                            7018             M_RTS
23817 00004BE0 000B                   M           RTS                             ;RTSの後ろの
23818 00004BE2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23819                            7019     
23820                            7020     ;       ***************************
23821                            7021     ;       ***     data 記憶       ***
23822                            7022     ;       ***************************
23823                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   319
PROGRAM NAME =

23824 00004BE4 00000000                   DATA FOR SOURCE-LINE 6976
23825 00004BE8 00000000                   DATA FOR SOURCE-LINE 6981
23826 00004BEC 00000000                   DATA FOR SOURCE-LINE 6983
23827 00004BF0 00000000                   DATA FOR SOURCE-LINE 6986
23828 00004BF4 00000000                   DATA FOR SOURCE-LINE 6988
23829 00004BF8 00000000                   DATA FOR SOURCE-LINE 6991,7003
23830 00004BFC 00000000                   DATA FOR SOURCE-LINE 6993
23831 00004C00 00000000                   DATA FOR SOURCE-LINE 6998
23832 00004C04 00000000                   DATA FOR SOURCE-LINE 7000
23833 00004C08 00000000                   DATA FOR SOURCE-LINE 7005
23834                                     ***** END-POOL *****
23835 00004C0C                   7023             .ALIGN  4                               ;
23836 00004C0C                   7024     _ERR_INFO_DT_IN2A:
23837                            7025             SUB_START
23838 00004C0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
23839                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23840                            7026             SUB_END
23841                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23842 00004C0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23843                            7027             M_RTS
23844 00004C10 000B                   M           RTS                             ;RTSの後ろの
23845 00004C12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23846                            7028     
23847                            7029     ;       ***************************
23848                            7030     ;       ***     data 記憶       ***
23849                            7031     ;       ***************************
23850 00004C14                   7032             .ALIGN  4                               ;
23851 00004C14                   7033     _ERR_INFO_DT_IN3:
23852                            7034             SUB_START
23853 00004C14 4F22                   M           STS.L   PR,@-R15                ;[必要]
23854                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23855                            7035             PUSH_REG1 R0
23856 00004C16 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
23857                                 M                                           ;REG=>[SP]
23858                                 M                                           ;"-4" FF,FF,FF,FC
23859                            7036             PUSH_REG1 R1
23860 00004C18 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
23861                                 M                                           ;REG=>[SP]
23862                                 M                                           ;"-4" FF,FF,FF,FC
23863 00004C1A D106              7037             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
23864 00004C1C 6011              7038             MOV.W   @R1,R0                          ;
23865 00004C1E 2008              7039             TST     R0,R0                           ;
23866                            7040             TST_BIT_ON ERR_INFO_DTIN3_EXT           ;
23867 00004C20 8B03                   M           BF      ERR_INFO_DTIN3_EXT
23868                            7041     
23869 00004C22 D105              7042             MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1               ;
23870 00004C24 6012              7043             MOV.L   @R1,R0                                  ;
23871 00004C26 D105              7044             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C05,R1  ;
23872 00004C28 2102              7045             MOV.L   R0,@R1                                  ;
23873                            7046     
23874 00004C2A                   7047     ERR_INFO_DTIN3_EXT
23875                            7048     
23876                            7049             POP_REG1 R1
23877                                 M                                   ; RE"+4" 00,00,00,04
23878 00004C2A 61F6                   M           MOV.L   @R15+,R1        ;
23879                            7050             POP_REG1 R0
23880                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   320
PROGRAM NAME =

23881 00004C2C 60F6                   M           MOV.L   @R15+,R0        ;
23882                            7051             SUB_END
23883                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23884 00004C2E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23885                            7052             M_RTS
23886 00004C30 000B                   M           RTS                             ;RTSの後ろの
23887 00004C32 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23888                            7053     
23889                            7054     ;       ***********************************
23890                            7055     ;       ***     起動時の残りﾊﾟﾙｽ        ***
23891                            7056     ;       ***********************************
23892                                     ***** BEGIN-POOL *****
23893 00004C34 00000000                   DATA FOR SOURCE-LINE 7037
23894 00004C38 00000000                   DATA FOR SOURCE-LINE 7042
23895 00004C3C 00000000                   DATA FOR SOURCE-LINE 7044
23896                                     ***** END-POOL *****
23897 00004C40                   7057             .ALIGN  4                               ;
23898 00004C40                   7058     _ERR_INFO_DT_IN4:
23899                            7059             SUB_START
23900 00004C40 4F22                   M           STS.L   PR,@-R15                ;[必要]
23901                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23902                            7060             PUSH_REG1 R0
23903 00004C42 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
23904                                 M                                           ;REG=>[SP]
23905                                 M                                           ;"-4" FF,FF,FF,FC
23906                            7061             PUSH_REG1 R1
23907 00004C44 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
23908                                 M                                           ;REG=>[SP]
23909                                 M                                           ;"-4" FF,FF,FF,FC
23910 00004C46 D10A              7062             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
23911 00004C48 6011              7063             MOV.W   @R1,R0                          ;
23912 00004C4A 2008              7064             TST     R0,R0                           ;
23913                            7065             TST_BIT_ON ERR_INFO_DTIN4_EXT           ;
23914 00004C4C 8B0A                   M           BF      ERR_INFO_DTIN4_EXT
23915                            7066     
23916 00004C4E D109              7067             MOV.L   #_MODE_SEL,R1   ;
23917 00004C50 6011              7068             MOV.W   @R1,R0          ;
23918 00004C52 C804              7069             TST     #_W1SGL,R0      ;
23919                            7070             TST_BIT_OF ERR_INFO_DTIN4_EXT
23920 00004C54 8906                   M           BT      ERR_INFO_DTIN4_EXT
23921                            7071     
23922                            7072     ;       ==========
23923                            7073             FAR_JSR #_LOAD_REST_PLS,R0              ;残りﾊﾟﾙｽ
23924 00004C56 D008                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23925 00004C58 400B                   M           JSR     @R0                     ;
23926 00004C5A 0009                   M           NOP                                     ;
23927 00004C5C D107              7074             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1  ;
23928 00004C5E 2102              7075             MOV.L   R0,@R1                                  ;
23929 00004C60 D107              7076             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1  ;
23930 00004C62 2102              7077             MOV.L   R0,@R1                                  ;
23931                            7078     
23932 00004C64                   7079     ERR_INFO_DTIN4_EXT:
23933                            7080             POP_REG1 R1
23934                                 M                                   ; RE"+4" 00,00,00,04
23935 00004C64 61F6                   M           MOV.L   @R15+,R1        ;
23936                            7081             POP_REG1 R0
23937                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   321
PROGRAM NAME =

23938 00004C66 60F6                   M           MOV.L   @R15+,R0        ;
23939                            7082             SUB_END
23940                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23941 00004C68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23942                            7083             M_RTS
23943 00004C6A 000B                   M           RTS                             ;RTSの後ろの
23944 00004C6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23945                            7084     
23946                            7085     ;       ***********************************************************
23947                            7086     ;       ***     TOTAL,ADDが0であること                          ***
23948                            7087     ;       ***********************************************************
23949                                     ***** BEGIN-POOL *****
23950 00004C6E 0000                       ALIGNMENT CODE
23951 00004C70 00000000                   DATA FOR SOURCE-LINE 7062
23952 00004C74 00000000                   DATA FOR SOURCE-LINE 7067
23953 00004C78 00000000                   DATA FOR SOURCE-LINE 7073
23954 00004C7C 00000000                   DATA FOR SOURCE-LINE 7074
23955 00004C80 00000000                   DATA FOR SOURCE-LINE 7076
23956                                     ***** END-POOL *****
23957 00004C84                   7088             .ALIGN  4                               ;
23958 00004C84                   7089     _ERR_INFO_DT_CHK1:
23959                            7090             SUB_START
23960 00004C84 4F22                   M           STS.L   PR,@-R15                ;[必要]
23961                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23962                            7091             PUSH_REG1 R0
23963 00004C86 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
23964                                 M                                           ;REG=>[SP]
23965                                 M                                           ;"-4" FF,FF,FF,FC
23966                            7092             PUSH_REG1 R1
23967 00004C88 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
23968                                 M                                           ;REG=>[SP]
23969                                 M                                           ;"-4" FF,FF,FF,FC
23970                            7093             PUSH_REG1 R2
23971 00004C8A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
23972                                 M                                           ;REG=>[SP]
23973                                 M                                           ;"-4" FF,FF,FF,FC
23974                            7094             PUSH_REG1 R3
23975 00004C8C 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
23976                                 M                                           ;REG=>[SP]
23977                                 M                                           ;"-4" FF,FF,FF,FC
23978                            7095     
23979 00004C8E D11B              7096             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
23980 00004C90 6011              7097             MOV.W   @R1,R0                          ;
23981 00004C92 2008              7098             TST     R0,R0                           ;
23982                            7099             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
23983 00004C94 8B27                   M           BF      ERR_INFO_DTCHK1_EXT
23984                            7100     
23985 00004C96 D11A              7101             MOV.L   #_MODE_SEL,R1   ;
23986 00004C98 6011              7102             MOV.W   @R1,R0          ;
23987 00004C9A C804              7103             TST     #_W1SGL,R0      ;
23988                            7104             TST_BIT_OF ERR_INFO_DTCHK1_EXT
23989 00004C9C 8923                   M           BT      ERR_INFO_DTCHK1_EXT
23990                            7105     
23991 00004C9E D019              7106             MOV.L   #_CPOS_CTL_MATH,R0              ;
23992 00004CA0 6001              7107             MOV.W   @R0,R0                          ;
23993 00004CA2 C801              7108             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
23994                            7109             TST_BIT_OF ERR_INFO_DTCHK1_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   322
PROGRAM NAME =

23995 00004CA4 891F                   M           BT      ERR_INFO_DTCHK1_EXT
23996                            7110     
23997                            7111     ;       -------------2011-09-14---------------
23998 00004CA6 D118              7112             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
23999 00004CA8 6011              7113             MOV.W   @R1,R0                          ;
24000 00004CAA C801              7114             TST     #BIT0,R0                        ;
24001                            7115             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
24002 00004CAC 8B1B                   M           BF      ERR_INFO_DTCHK1_EXT
24003                            7116     
24004                            7117     
24005 00004CAE D117              7118             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
24006 00004CB0 6011              7119             MOV.W   @R1,R0                                          ;
24007                            7120     
24008                            7121             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
24009 00004CB2 D117                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
24010 00004CB4 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24011 00004CB6 6312                   M           MOV.L   @R1,R3                  ;LOW
24012 00004CB8 211A                   M           XOR     R1,R1                   ;
24013 00004CBA 223B                   M           OR      R3,R2                   ;
24014 00004CBC 2228                   M           TST     R2,R2                   ;
24015                                 M           TST_BIT_OF JMP0100016           ;ZERO
24016 00004CBE 8900                   M           BT      JMP0100016
24017 00004CC0 9118                   M           MOV.W   #BIT0,R1                ;
24018 00004CC2                        M   JMP0100016                                      ;
24019 00004CC2 201B              7122             OR      R1,R0                                           ;
24020                            7123     
24021                            7124             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
24022 00004CC4 D113                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
24023 00004CC6 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24024 00004CC8 6312                   M           MOV.L   @R1,R3                  ;LOW
24025 00004CCA 211A                   M           XOR     R1,R1                   ;
24026 00004CCC 223B                   M           OR      R3,R2                   ;
24027 00004CCE 2228                   M           TST     R2,R2                   ;
24028                                 M           TST_BIT_OF JMP0100017           ;ZERO
24029 00004CD0 8900                   M           BT      JMP0100017
24030 00004CD2 9110                   M           MOV.W   #BIT1,R1                ;
24031 00004CD4                        M   JMP0100017                                      ;
24032 00004CD4 201B              7125             OR      R1,R0                                           ;
24033                            7126     
24034                            7127             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
24035 00004CD6 D110                   M           MOV.L   #_OUTPLS_MOD,R1 ;
24036 00004CD8 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24037 00004CDA 211A                   M           XOR     R1,R1                   ;
24038 00004CDC 2228                   M           TST     R2,R2                   ;
24039                                 M           TST_BIT_OF JMP0100018           ;ZERO
24040 00004CDE 8900                   M           BT      JMP0100018
24041 00004CE0 910A                   M           MOV.W   #BIT2,R1                ;
24042 00004CE2                        M   JMP0100018                                      ;
24043                            7128     
24044 00004CE2 D10A              7129             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
24045 00004CE4 2101              7130             MOV.W   R0,@R1                                          ;
24046 00004CE6                   7131     ERR_INFO_DTCHK1_EXT:
24047                            7132     
24048                            7133             POP_REG1 R3
24049                                 M                                   ; RE"+4" 00,00,00,04
24050 00004CE6 63F6                   M           MOV.L   @R15+,R3        ;
24051                            7134             POP_REG1 R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   323
PROGRAM NAME =

24052                                 M                                   ; RE"+4" 00,00,00,04
24053 00004CE8 62F6                   M           MOV.L   @R15+,R2        ;
24054                            7135             POP_REG1 R1
24055                                 M                                   ; RE"+4" 00,00,00,04
24056 00004CEA 61F6                   M           MOV.L   @R15+,R1        ;
24057                            7136             POP_REG1 R0
24058                                 M                                   ; RE"+4" 00,00,00,04
24059 00004CEC 60F6                   M           MOV.L   @R15+,R0        ;
24060                            7137     
24061                            7138     
24062                            7139             SUB_END
24063                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24064 00004CEE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24065                            7140             M_RTS
24066 00004CF0 000B                   M           RTS                             ;RTSの後ろの
24067 00004CF2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24068                            7141     
24069                            7142     ;       ***********************************************************
24070                            7143     ;       ***     TOTAL,ADDが0であること                          ***
24071                            7144     ;       ***********************************************************
24072                            7145     ;       SGL
24073                                     ***** BEGIN-POOL *****
24074 00004CF4 0001                       DATA FOR SOURCE-LINE 7121
24075 00004CF6 0002                       DATA FOR SOURCE-LINE 7124
24076 00004CF8 0004                       DATA FOR SOURCE-LINE 7127
24077 00004CFA 0000                       ALIGNMENT CODE
24078 00004CFC 00000000                   DATA FOR SOURCE-LINE 7096
24079 00004D00 00000000                   DATA FOR SOURCE-LINE 7101
24080 00004D04 00000000                   DATA FOR SOURCE-LINE 7106
24081 00004D08 00000000                   DATA FOR SOURCE-LINE 7112
24082 00004D0C 00000000                   DATA FOR SOURCE-LINE 7118,7129
24083 00004D10 00000000                   DATA FOR SOURCE-LINE 7121
24084 00004D14 00000000                   DATA FOR SOURCE-LINE 7124
24085 00004D18 00000000                   DATA FOR SOURCE-LINE 7127
24086                                     ***** END-POOL *****
24087 00004D1C                   7146             .ALIGN  4                               ;
24088 00004D1C                   7147     _ERR_INFO_DT_CHK2:
24089                            7148             SUB_START
24090 00004D1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24091                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24092                            7149             PUSH_REG1 R0
24093 00004D1E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24094                                 M                                           ;REG=>[SP]
24095                                 M                                           ;"-4" FF,FF,FF,FC
24096                            7150             PUSH_REG1 R1
24097 00004D20 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24098                                 M                                           ;REG=>[SP]
24099                                 M                                           ;"-4" FF,FF,FF,FC
24100                            7151             PUSH_REG1 R2
24101 00004D22 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24102                                 M                                           ;REG=>[SP]
24103                                 M                                           ;"-4" FF,FF,FF,FC
24104                            7152             PUSH_REG1 R3
24105 00004D24 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
24106                                 M                                           ;REG=>[SP]
24107                                 M                                           ;"-4" FF,FF,FF,FC
24108                            7153     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   324
PROGRAM NAME =

24109                            7154     
24110                            7155     
24111 00004D26 D129              7156             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24112 00004D28 6011              7157             MOV.W   @R1,R0                          ;
24113 00004D2A 2008              7158             TST     R0,R0                           ;
24114                            7159             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
24115 00004D2C 8B6F                   M           BF      ERR_INFO_DTCHK2_EXT
24116                            7160     
24117 00004D2E D128              7161             MOV.L   #_MODE_SEL,R1                   ;
24118 00004D30 6011              7162             MOV.W   @R1,R0                          ;
24119 00004D32 C804              7163             TST     #_W1SGL,R0                      ;
24120                            7164             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
24121 00004D34 896B                   M           BT      ERR_INFO_DTCHK2_EXT
24122                            7165     
24123 00004D36 D027              7166             MOV.L   #_CPOS_CTL_MATH,R0              ;
24124 00004D38 6001              7167             MOV.W   @R0,R0                          ;
24125                            7168     ;;;;2010-10-25  TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
24126 00004D3A C805              7169             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2010-10-25 回転+ふりこ
24127                            7170             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
24128 00004D3C 8967                   M           BT      ERR_INFO_DTCHK2_EXT
24129                            7171     
24130                            7172     ;       -------------2011-09-14---------------
24131 00004D3E D126              7173             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
24132 00004D40 6011              7174             MOV.W   @R1,R0                          ;
24133 00004D42 C801              7175             TST     #BIT0,R0                        ;
24134                            7176             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
24135 00004D44 8B63                   M           BF      ERR_INFO_DTCHK2_EXT
24136                            7177     
24137                            7178     
24138 00004D46 D125              7179             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24139 00004D48 6011              7180             MOV.W   @R1,R0                                          ;
24140                            7181     
24141                            7182             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
24142 00004D4A D125                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
24143 00004D4C 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24144 00004D4E 6312                   M           MOV.L   @R1,R3                  ;LOW
24145 00004D50 211A                   M           XOR     R1,R1                   ;
24146 00004D52 223B                   M           OR      R3,R2                   ;
24147 00004D54 2228                   M           TST     R2,R2                   ;
24148                                 M           TST_BIT_OF JMP0100019           ;ZERO
24149 00004D56 8900                   M           BT      JMP0100019
24150 00004D58 9133                   M           MOV.W   #BIT0,R1                ;
24151 00004D5A                        M   JMP0100019                                      ;
24152 00004D5A 201B              7183             OR      R1,R0                                           ;
24153                            7184     
24154                            7185             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
24155 00004D5C D121                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
24156 00004D5E 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24157 00004D60 6312                   M           MOV.L   @R1,R3                  ;LOW
24158 00004D62 211A                   M           XOR     R1,R1                   ;
24159 00004D64 223B                   M           OR      R3,R2                   ;
24160 00004D66 2228                   M           TST     R2,R2                   ;
24161                                 M           TST_BIT_OF JMP0100020           ;ZERO
24162 00004D68 8900                   M           BT      JMP0100020
24163 00004D6A 912B                   M           MOV.W   #BIT1,R1                ;
24164 00004D6C                        M   JMP0100020                                      ;
24165 00004D6C 201B              7186             OR      R1,R0                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   325
PROGRAM NAME =

24166                            7187     
24167                            7188             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
24168 00004D6E D11E                   M           MOV.L   #_OUTPLS_MOD,R1 ;
24169 00004D70 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24170 00004D72 211A                   M           XOR     R1,R1                   ;
24171 00004D74 2228                   M           TST     R2,R2                   ;
24172                                 M           TST_BIT_OF JMP0100021           ;ZERO
24173 00004D76 8900                   M           BT      JMP0100021
24174 00004D78 9125                   M           MOV.W   #BIT2,R1                ;
24175 00004D7A                        M   JMP0100021                                      ;
24176                            7189     
24177 00004D7A D118              7190             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24178 00004D7C 2101              7191             MOV.W   R0,@R1                                          ;
24179                            7192     
24180                            7193     ;       ==== ADD DATA CHK ===
24181 00004D7E D11B              7194             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD_
24182 00004D80 6212              7195             MOV.L   @R1,R2                                  ;
24183 00004D82 4211              7196             CMP/PZ  R2                                      ;
24184 00004D84 8900              7197             BT      ERR_INFO_DTCHK2_050                     ;
24185 00004D86 622B              7198             NEG     R2,R2
24186 00004D88                   7199     ERR_INFO_DTCHK2_050:
24187                            7200     
24188 00004D88 D119              7201             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
24189 00004D8A 6012              7202             MOV.L   @R1,R0                                  ;
24190 00004D8C 911C              7203             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
24191 00004D8E 301C              7204             ADD     R1,R0                                   ;1ROT-PLS+2000
24192 00004D90 3022              7205             CMP/HS  R2,R0                                   ;
24193 00004D92 8903              7206             BT      ERR_INFO_DTCHK2_100                     ;1ROT以下
24194                            7207             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
24195 00004D94 D111                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24196 00004D96 6011                   M           MOV.W   @R1,R0          ;
24197 00004D98 CB10                   M           OR      #BIT4,R0                ;
24198 00004D9A 2101                   M           MOV.W   R0,@R1          ;
24199 00004D9C                   7208     ERR_INFO_DTCHK2_100:
24200                            7209     
24201                            7210     ;       =====もう一個チェックが必要[2010-10-26] ふりこ時の対策 化け方が0000,0000,FFF,FFFF[
                                          +]====
24202 00004D9C D315              7211             MOV.L   #_CHK_ADD_DATA_LATCH,R3         ;
24203 00004D9E 6136              7212             MOV.L   @R3+,R1                         ;
24204 00004DA0 6232              7213             MOV.L   @R3,R2                          ;
24205 00004DA2 4111              7214             CMP/PZ  R1                              ;
24206 00004DA4 8905              7215             BT      ERR_INFO_DTCHK2_150             ;
24207                            7216             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;
24208 00004DA6 6227                   M           NOT     R2,R2                           ;
24209 00004DA8 6117                   M           NOT     R1,R1                           ;
24210 00004DAA 200A                   M           XOR     R0,R0                           ;
24211 00004DAC 0018                   M           SETT
24212 00004DAE 320E                   M           ADDC    R0,R2                           ;0+1+R2
24213 00004DB0 310E                   M           ADDC    R0,R1                           ;
24214 00004DB2                   7217     ERR_INFO_DTCHK2_150:
24215 00004DB2 2118              7218             TST     R1,R1                           ;
24216                            7219             TST_BIT_OF ERR_INFO_DTCHK2_200          ;
24217 00004DB4 8920                   M           BT      ERR_INFO_DTCHK2_200
24218                            7220             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
24219 00004DB6 D109                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   326
PROGRAM NAME =

24220 00004DB8 6011                   M           MOV.W   @R1,R0          ;
24221 00004DBA CB10                   M           OR      #BIT4,R0                ;
24222 00004DBC 2101                   M           MOV.W   R0,@R1          ;
24223                            7221             M_BRA   ERR_INFO_DTCHK2_300             ;
24224 00004DBE A025                   M           BRA     ERR_INFO_DTCHK2_300
24225 00004DC0 0009                   M           NOP
24226                            7222     
24227                                     ***** BEGIN-POOL *****
24228 00004DC2 0001                       DATA FOR SOURCE-LINE 7182
24229 00004DC4 0002                       DATA FOR SOURCE-LINE 7185
24230 00004DC6 0004                       DATA FOR SOURCE-LINE 7188
24231 00004DC8 07D0                       DATA FOR SOURCE-LINE 7203
24232 00004DCA 0000                       ALIGNMENT CODE
24233 00004DCC 00000000                   DATA FOR SOURCE-LINE 7156
24234 00004DD0 00000000                   DATA FOR SOURCE-LINE 7161
24235 00004DD4 00000000                   DATA FOR SOURCE-LINE 7166
24236 00004DD8 00000000                   DATA FOR SOURCE-LINE 7173
24237 00004DDC 00000000                   DATA FOR SOURCE-LINE 7179,7190,7207,7220
24238 00004DE0 00000000                   DATA FOR SOURCE-LINE 7182
24239 00004DE4 00000000                   DATA FOR SOURCE-LINE 7185
24240 00004DE8 00000000                   DATA FOR SOURCE-LINE 7188
24241 00004DEC 00000000                   DATA FOR SOURCE-LINE 7194
24242 00004DF0 00000000                   DATA FOR SOURCE-LINE 7201
24243 00004DF4 00000000                   DATA FOR SOURCE-LINE 7211
24244                                     ***** END-POOL *****
24245 00004DF8                   7223     ERR_INFO_DTCHK2_200:
24246 00004DF8 D109              7224             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
24247 00004DFA 6012              7225             MOV.L   @R1,R0                                  ;
24248 00004DFC 910E              7226             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
24249 00004DFE 301C              7227             ADD     R1,R0                                   ;1ROT-PLS+2000
24250 00004E00 3022              7228             CMP/HS  R2,R0                                   ;
24251 00004E02 8903              7229             BT      ERR_INFO_DTCHK2_300                     ;1ROT以下
24252                            7230             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
24253 00004E04 D107                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24254 00004E06 6011                   M           MOV.W   @R1,R0          ;
24255 00004E08 CB10                   M           OR      #BIT4,R0                ;
24256 00004E0A 2101                   M           MOV.W   R0,@R1          ;
24257 00004E0C                   7231     ERR_INFO_DTCHK2_300:
24258 00004E0C 0009              7232             NOP
24259                            7233     
24260                            7234     
24261                            7235     
24262 00004E0E                   7236     ERR_INFO_DTCHK2_EXT:
24263                            7237     
24264                            7238     
24265                            7239             POP_REG1 R3
24266                                 M                                   ; RE"+4" 00,00,00,04
24267 00004E0E 63F6                   M           MOV.L   @R15+,R3        ;
24268                            7240             POP_REG1 R2
24269                                 M                                   ; RE"+4" 00,00,00,04
24270 00004E10 62F6                   M           MOV.L   @R15+,R2        ;
24271                            7241             POP_REG1 R1
24272                                 M                                   ; RE"+4" 00,00,00,04
24273 00004E12 61F6                   M           MOV.L   @R15+,R1        ;
24274                            7242             POP_REG1 R0
24275                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   327
PROGRAM NAME =

24276 00004E14 60F6                   M           MOV.L   @R15+,R0        ;
24277                            7243             SUB_END
24278                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24279 00004E16 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24280                            7244             M_RTS
24281 00004E18 000B                   M           RTS                             ;RTSの後ろの
24282 00004E1A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24283                            7245     
24284                            7246     ;       *******************************************
24285                            7247     ;       ***     CHEAK ﾚｽﾄﾊﾟﾙｽが減ること/        ***
24286                            7248     ;       *******************************************
24287                                     ***** BEGIN-POOL *****
24288 00004E1C 07D0                       DATA FOR SOURCE-LINE 7226
24289 00004E1E 0000                       ALIGNMENT CODE
24290 00004E20 00000000                   DATA FOR SOURCE-LINE 7224
24291 00004E24 00000000                   DATA FOR SOURCE-LINE 7230
24292                                     ***** END-POOL *****
24293 00004E28                   7249             .ALIGN  4                               ;
24294 00004E28                   7250     _ERR_INFO_DT_CHK3:
24295                            7251             SUB_START
24296 00004E28 4F22                   M           STS.L   PR,@-R15                ;[必要]
24297                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24298                            7252     
24299 00004E2A D10C              7253             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24300 00004E2C 6011              7254             MOV.W   @R1,R0                          ;
24301 00004E2E 2008              7255             TST     R0,R0                           ;
24302                            7256             TST_BIT_ON ERR_INFO_DTCHK3_EXT                  ;
24303 00004E30 8B68                   M           BF      ERR_INFO_DTCHK3_EXT
24304                            7257     
24305 00004E32 D10B              7258             MOV.L   #_MODE_SEL,R1                           ;
24306 00004E34 6011              7259             MOV.W   @R1,R0                                  ;
24307 00004E36 C804              7260             TST     #_W1SGL,R0                              ;
24308                            7261             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
24309 00004E38 8964                   M           BT      ERR_INFO_DTCHK3_EXT
24310                            7262     
24311 00004E3A D00A              7263             MOV.L   #_CPOS_CTL_MATH,R0              ;
24312 00004E3C 6001              7264             MOV.W   @R0,R0                          ;
24313 00004E3E C801              7265             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
24314                            7266             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
24315 00004E40 8960                   M           BT      ERR_INFO_DTCHK3_EXT
24316                            7267     
24317                            7268     ;       -------------2011-09-14---------------
24318 00004E42 D109              7269             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
24319 00004E44 6011              7270             MOV.W   @R1,R0                          ;
24320 00004E46 C801              7271             TST     #BIT0,R0                        ;
24321                            7272             TST_BIT_ON ERR_INFO_DTCHK3_EXT          ;
24322 00004E48 8B5C                   M           BF      ERR_INFO_DTCHK3_EXT
24323                            7273     
24324                            7274     
24325 00004E4A D108              7275             MOV.L   #_ERR_INFO_DLY_TIM,R1                           ;
24326 00004E4C 6011              7276             MOV.W   @R1,R0                                          ;
24327 00004E4E 2008              7277             TST     R0,R0                                           ;
24328                            7278             TST_BIT_OF ERR_INFO_DTCHK3_050                          ;
24329 00004E50 890E                   M           BT      ERR_INFO_DTCHK3_050
24330 00004E52 70FF              7279             ADD     #-1,R0                                          ;
24331 00004E54 2101              7280             MOV.W   R0,@R1                                          ;
24332                            7281             M_BRA   ERR_INFO_DTCHK3_EXT                             ;(ﾚｽﾄﾊﾟﾙｽが安定しないので
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   328
PROGRAM NAME =

                                          その判断はしない)
24333 00004E56 A055                   M           BRA     ERR_INFO_DTCHK3_EXT
24334 00004E58 0009                   M           NOP
24335                            7282     
24336                                     ***** BEGIN-POOL *****
24337 00004E5A 0000                       ALIGNMENT CODE
24338 00004E5C 00000000                   DATA FOR SOURCE-LINE 7253
24339 00004E60 00000000                   DATA FOR SOURCE-LINE 7258
24340 00004E64 00000000                   DATA FOR SOURCE-LINE 7263
24341 00004E68 00000000                   DATA FOR SOURCE-LINE 7269
24342 00004E6C 00000000                   DATA FOR SOURCE-LINE 7275
24343                                     ***** END-POOL *****
24344 00004E70                   7283     ERR_INFO_DTCHK3_050:                                            ;
24345                            7284     
24346                            7285             FAR_JSR #_LOAD_REST_PLS,R0                              ;残りﾊﾟﾙｽ
24347 00004E70 D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24348 00004E72 400B                   M           JSR     @R0                     ;
24349 00004E74 0009                   M           NOP                                     ;
24350 00004E76 D126              7286             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
24351 00004E78 6312              7287             MOV.L   @R1,R3                                          ;
24352 00004E7A 2102              7288             MOV.L   R0,@R1                                          ;NOW =< OLD
24353 00004E7C D125              7289             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C08,R1          ;
24354 00004E7E 2132              7290             MOV.L   R3,@R1                                          ;OLD SAVE
24355                            7291     
24356 00004E80 3302              7292             CMP/HS  R0,R3                                           ;
24357 00004E82 890F              7293             BT      ERR_INFO_DTCHK3_100                             ;
24358                            7294     
24359                            7295             PUSH_REG1 R0                                            ;
24360 00004E84 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24361                                 M                                           ;REG=>[SP]
24362                                 M                                           ;"-4" FF,FF,FF,FC
24363 00004E86 D124              7296             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B03,R1          ;
24364 00004E88 6211              7297             MOV.W   @R1,R2                                          ;
24365 00004E8A 7201              7298             ADD     #1,R2                                           ;
24366 00004E8C 2121              7299             MOV.W   R2,@R1                                          ;
24367                            7300     
24368 00004E8E 3038              7301             SUB     R3,R0                                           ;DELT
24369 00004E90 D122              7302             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B04,R1          ;増分
24370 00004E92 6211              7303             MOV.W   @R1,R2                                          ;
24371 00004E94 3022              7304             CMP/HS  R2,R0                                           ;R2<R0
24372 00004E96 8B00              7305             BF      ERR_INFO_DTCHK3_060                             ;NO R2 > R0
24373 00004E98 2101              7306             MOV.W   R0,@R1                                          ;MAX REFLASH
24374 00004E9A                   7307     ERR_INFO_DTCHK3_060:                                            ;
24375                            7308     
24376                            7309             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT0,WKREG
                                          =R1 ;//位置増加
24377 00004E9A D121                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
24378 00004E9C 6011                   M           MOV.W   @R1,R0          ;
24379 00004E9E CB01                   M           OR      #BIT0,R0                ;
24380 00004EA0 2101                   M           MOV.W   R0,@R1          ;
24381                            7310     
24382                            7311             POP_REG1 R0                                             ;
24383                                 M                                   ; RE"+4" 00,00,00,04
24384 00004EA2 60F6                   M           MOV.L   @R15+,R0        ;
24385 00004EA4                   7312     ERR_INFO_DTCHK3_100:                                            ;
24386                            7313     
24387                            7314     ;       ==== 起動時のRESETより生のﾊﾟﾙｽは小さいか===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   329
PROGRAM NAME =

24388                            7315     ;       R0:読み出したパルス
24389                            7316     
24390 00004EA4 D11F              7317             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1          ;
24391 00004EA6 6212              7318             MOV.L   @R1,R2                                          ;
24392 00004EA8 7201              7319             ADD     #1,R2                                           ;
24393 00004EAA 3202              7320             CMP/HS  R0,R2                                           ;
24394 00004EAC 8907              7321             BT      ERR_INFO_DTCHK3_200                             ;起動時より増えていない
24395                            7322     
24396 00004EAE D11E              7323             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B05,R1          ;
24397 00004EB0 6011              7324             MOV.W   @R1,R0                                          ;
24398 00004EB2 7001              7325             ADD     #1,R0                                           ;
24399 00004EB4 2101              7326             MOV.W   R0,@R1                                          ;
24400                            7327     
24401                            7328             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT1,WKREG
                                          =R1 ;//
24402 00004EB6 D11A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
24403 00004EB8 6011                   M           MOV.W   @R1,R0          ;
24404 00004EBA CB02                   M           OR      #BIT1,R0                ;
24405 00004EBC 2101                   M           MOV.W   R0,@R1          ;
24406                            7329     
24407 00004EBE                   7330     ERR_INFO_DTCHK3_200:
24408                            7331     
24409                            7332     ;       ==== 起動時のADDより生ﾊﾟﾙｽは小さいか===
24410 00004EBE D114              7333             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
24411 00004EC0 6212              7334             MOV.L   @R1,R2                                          ;
24412                            7335     
24413 00004EC2 D11A              7336             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD-PLS
24414 00004EC4 6012              7337             MOV.L   @R1,R0                                  ;
24415 00004EC6 4011              7338             CMP/PZ  R0                                      ;
24416 00004EC8 8900              7339             BT      ERR_INFO_DTCHK3_220                     ;
24417 00004ECA 600B              7340             NEG     R0,R0                                   ;
24418 00004ECC                   7341     ERR_INFO_DTCHK3_220:                                    ;
24419 00004ECC 7001              7342             ADD     #1,R0                                   ;
24420 00004ECE 3022              7343             CMP/HS  R2,R0                                   ;R2<R0
24421 00004ED0 8907              7344             BT      ERR_INFO_DTCHK3_300                     ;
24422                            7345     
24423                            7346             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT2,WKREG
                                          =R1 ;//
24424 00004ED2 D113                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
24425 00004ED4 6011                   M           MOV.W   @R1,R0          ;
24426 00004ED6 CB04                   M           OR      #BIT2,R0                ;
24427 00004ED8 2101                   M           MOV.W   R0,@R1          ;
24428                            7347     
24429 00004EDA D115              7348             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B06,R1          ;
24430 00004EDC 6011              7349             MOV.W   @R1,R0                                          ;
24431 00004EDE 7001              7350             ADD     #1,R0                                           ;
24432 00004EE0 2101              7351             MOV.W   R0,@R1                                          ;
24433                            7352     
24434                            7353     
24435 00004EE2                   7354     ERR_INFO_DTCHK3_300:
24436                            7355     
24437                            7356     ;       ==== ｱｸｾｽ不正異常 =====
24438 00004EE2 9312              7357             MOV.W   #D'10,R3                ;
24439 00004EE4 222A              7358             XOR     R2,R2                   ;
24440 00004EE6 D113              7359             MOV.L   #_ACCESS_ERR1,R1        ;
24441 00004EE8                   7360     ERR_INFO_DTCHK3_350:
24442 00004EE8 6016              7361             MOV.L   @R1+,R0                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   330
PROGRAM NAME =

24443 00004EEA 220B              7362             OR      R0,R2                   ;
24444 00004EEC 73FF              7363             ADD     #-1,R3                  ;
24445 00004EEE 2338              7364             TST     R3,R3                   ;
24446                            7365             TST_BIT_ON ERR_INFO_DTCHK3_350  ;
24447 00004EF0 8BFA                   M           BF      ERR_INFO_DTCHK3_350
24448 00004EF2 2228              7366             TST     R2,R2                   ;
24449                            7367             TST_BIT_OF ERR_INFO_DTCHK3_380  ;
24450 00004EF4 8903                   M           BT      ERR_INFO_DTCHK3_380
24451                            7368             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT3,WKREG
                                          =R1 ;//(不正ｱｸｾｽ有り)
24452 00004EF6 D10A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
24453 00004EF8 6011                   M           MOV.W   @R1,R0          ;
24454 00004EFA CB08                   M           OR      #BIT3,R0                ;
24455 00004EFC 2101                   M           MOV.W   R0,@R1          ;
24456 00004EFE                   7369     ERR_INFO_DTCHK3_380:
24457                            7370     
24458                            7371     
24459                            7372     ;       ==== REST PLS ﾁｪｯｸ(別次元かな)====
24460                            7373             FAR_JSR #_ERR_INFO_DT_CHK3X,R0          ;OVER
24461 00004EFE D00E                   M           MOV.L   #_ERR_INFO_DT_CHK3X,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24462 00004F00 400B                   M           JSR     @R0                     ;
24463 00004F02 0009                   M           NOP                                     ;
24464                            7374     
24465                            7375     
24466 00004F04                   7376     ERR_INFO_DTCHK3_EXT:
24467                            7377     
24468                            7378             SUB_END
24469                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24470 00004F04 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24471                            7379             M_RTS
24472 00004F06 000B                   M           RTS                             ;RTSの後ろの
24473 00004F08 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24474                            7380     
24475                            7381     ;       ***************************************************
24476                            7382     ;       ***                                             ***
24477                            7383     ;       ***     目標位置+2000＜現在位置+RESETPULS       ***
24478                            7384     ;       ***     注意 REST-PLSは20msec後から読み出す     ***
24479                            7385     ;       ***                                             ***
24480                            7386     ;       ***************************************************
24481                                     ***** BEGIN-POOL *****
24482 00004F0A 000A                       DATA FOR SOURCE-LINE 7357
24483 00004F0C 00000000                   DATA FOR SOURCE-LINE 7285
24484 00004F10 00000000                   DATA FOR SOURCE-LINE 7286,7333
24485 00004F14 00000000                   DATA FOR SOURCE-LINE 7289
24486 00004F18 00000000                   DATA FOR SOURCE-LINE 7296
24487 00004F1C 00000000                   DATA FOR SOURCE-LINE 7302
24488 00004F20 00000000                   DATA FOR SOURCE-LINE 7309,7328,7346,7368
24489 00004F24 00000000                   DATA FOR SOURCE-LINE 7317
24490 00004F28 00000000                   DATA FOR SOURCE-LINE 7323
24491 00004F2C 00000000                   DATA FOR SOURCE-LINE 7336
24492 00004F30 00000000                   DATA FOR SOURCE-LINE 7348
24493 00004F34 00000000                   DATA FOR SOURCE-LINE 7359
24494 00004F38 00000000                   DATA FOR SOURCE-LINE 7373
24495                                     ***** END-POOL *****
24496 00004F3C                   7387             .ALIGN  4                               ;
24497 00004F3C                   7388     _ERR_INFO_DT_CHK3X:
24498                            7389             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   331
PROGRAM NAME =

24499 00004F3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24500                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24501                            7390     
24502 00004F3E D103              7391             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
24503 00004F40 6011              7392             MOV.W   @R1,R0                  ;
24504 00004F42 C801              7393             TST     #BIT0,R0                ;
24505                            7394             TST_BIT_OF ERR_INFO_DTCHK3X_100 ;
24506 00004F44 8904                   M           BT      ERR_INFO_DTCHK3X_100
24507                            7395             M_BRA   ERR_INFO_DTCHK3X_200    ;
24508 00004F46 A02F                   M           BRA     ERR_INFO_DTCHK3X_200
24509 00004F48 0009                   M           NOP
24510                            7396     ;       ==== 正転運転 =====
24511                                     ***** BEGIN-POOL *****
24512 00004F4A 0000                       ALIGNMENT CODE
24513 00004F4C 00000000                   DATA FOR SOURCE-LINE 7391
24514                                     ***** END-POOL *****
24515 00004F50                   7397     ERR_INFO_DTCHK3X_100:
24516                            7398             FAR_JSR #_LOAD_REST_PLS,R0                      ;残りﾊﾟﾙｽ R0
24517 00004F50 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24518 00004F52 400B                   M           JSR     @R0                     ;
24519 00004F54 0009                   M           NOP                                     ;
24520                            7399     
24521 00004F56 D110              7400             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24522 00004F58 6216              7401             MOV.L   @R1+,R2                                 ;
24523 00004F5A 6312              7402             MOV.L   @R1,R3                                  ;
24524 00004F5C 211A              7403             XOR     R1,R1
24525 00004F5E 9418              7404             MOV.W   #_PLS_ERR_HABPLS1,R4                    ;2000
24526                            7405             ADD8B DT_REGH=R1,DT_REGL=R4,DT_ANS_REGH=R2,DT_ANS_REGL=R3       ;OBJ+2000=R2,R3
24527 00004F60 0008                   M           CLRT
24528 00004F62 334E                   M           ADDC    R4,R3
24529 00004F64 321E                   M           ADDC    R1,R2
24530                            7406     
24531                            7407     ;;;     MOV.L   #_LINK_RL_OBJ_ABSPLS,R1                                 ;
24532 00004F66 D10D              7408             MOV.L   #_LINK_PV_ABSPLS,R1                                     ;20060919
24533 00004F68 6416              7409             MOV.L   @R1+,R4                                                 ;
24534 00004F6A 6512              7410             MOV.L   @R1,R5                                                  ;
24535 00004F6C 211A              7411             XOR     R1,R1                                                   ;R1,R0(残りﾊﾟﾙｽ)
24536                            7412             ADD8B DT_REGH=R1,DT_REGL=R0,DT_ANS_REGH=R4,DT_ANS_REGL=R5       ;PV+REST=R4,R5
24537 00004F6E 0008                   M           CLRT
24538 00004F70 350E                   M           ADDC    R0,R5
24539 00004F72 341E                   M           ADDC    R1,R4
24540                            7413     
24541                            7414             SUB8B DT_REGH=R4,DT_REGL=R5,DT_ANS_REGH=R2,DT_ANS_REGL=R3
24542 00004F74 0008                   M           CLRT
24543 00004F76 335A                   M           SUBC    R5,R3
24544 00004F78 324A                   M           SUBC    R4,R2
24545                            7415     ;       R2,R3 - R4,R5= R2,R3 >=0 THEN NOMAL
24546 00004F7A 4211              7416             CMP/PZ  R2                      ;
24547 00004F7C 8914              7417             BT      ERR_INFO_DTCHK3X_300    ;
24548                            7418     ;       === "-" ===
24549                            7419             .AIF    0 EQ    0
24550                            7420 C           MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//OVER-RUN
24551 00004F7E D108                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
24552 00004F80 6011                   M           MOV.W   @R1,R0          ;
24553 00004F82 CB10                   M           OR      #BIT4,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   332
PROGRAM NAME =

24554 00004F84 2101                   M           MOV.W   R0,@R1          ;
24555                            7421             .AELSE
24556                            7422             .AENDI
24557 00004F86 D107              7423             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B07,R1          ;
24558 00004F88 6011              7424             MOV.W   @R1,R0                                          ;
24559 00004F8A 7001              7425             ADD     #1,R0                                           ;
24560 00004F8C 2101              7426             MOV.W   R0,@R1                                          ;
24561                            7427     
24562                            7428             M_BRA   ERR_INFO_DTCHK3X_300    ;
24563 00004F8E A00B                   M           BRA     ERR_INFO_DTCHK3X_300
24564 00004F90 0009                   M           NOP
24565                            7429     ;       ==== 逆転運転 =====
24566                                     ***** BEGIN-POOL *****
24567 00004F92 07D0                       DATA FOR SOURCE-LINE 7404
24568 00004F94 00000000                   DATA FOR SOURCE-LINE 7398
24569 00004F98 00000000                   DATA FOR SOURCE-LINE 7400
24570 00004F9C 00000000                   DATA FOR SOURCE-LINE 7408
24571 00004FA0 00000000                   DATA FOR SOURCE-LINE 7420
24572 00004FA4 00000000                   DATA FOR SOURCE-LINE 7423
24573                                     ***** END-POOL *****
24574 00004FA8                   7430     ERR_INFO_DTCHK3X_200:
24575 00004FA8                   7431     ERR_INFO_DTCHK3X_300:
24576                            7432     
24577                            7433             SUB_END
24578                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24579 00004FA8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24580                            7434             M_RTS
24581 00004FAA 000B                   M           RTS                             ;RTSの後ろの
24582 00004FAC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24583                            7435     
24584                            7436     ;       ***********************************
24585                            7437     ;       ***                             ***
24586                            7438     ;       ***     残りﾊﾟﾙｽﾁｪｯｸ            ***
24587                            7439     ;       ***     二重回路                ***
24588                            7440     ;       ***                             ***
24589                            7441     ;       ***********************************
24590                            7442             .MACRO REST_PLSCMP2_ERRCHK1 REG1,REG2,IMD,ERRBIT        ;
24591                            7443             XOR     R0,R0                                           ;
24592                            7444             SUB     \REG1,\REG2                                     ;
24593                            7445             CMP/PZ  \REG2                                           ;
24594                            7446             BT      JMP01\@                                         ;DATA=<MAX
24595                            7447             NEG     \REG2,\REG2                                     ;
24596                            7448     JMP01\@:                                                        ;
24597                            7449             MOV.L   #\IMD,\REG1                                     ;
24598                            7450             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
24599                            7451             BT      JMP02\@                                         ;DATA=<MAX
24600                            7452             MOV.W   #\ERRBIT,R0                                     ;
24601                            7453     JMP02\@:                                                        ;
24602                            7454     
24603                            7455             .ENDM
24604                            7456     
24605                            7457     ;       ---2005-04-14-E(4/18)
24606                            7458             .MACRO REST_PLSCMP2_ERRCHK2 REG1,REG2,IMD,ERRBIT,CNT_ADR,CNT_MAX;
24607                            7459             XOR     R0,R0                                           ;
24608                            7460             SUB     \REG1,\REG2                                     ;
24609                            7461             CMP/PZ  \REG2                                           ;
24610                            7462             BT      JMP01\@                                         ;DATA=<MAX
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   333
PROGRAM NAME =

24611                            7463             NEG     \REG2,\REG2                                     ;
24612                            7464     JMP01\@:                                                        ;
24613                            7465             MOV.L   #\IMD,\REG1                                     ;
24614                            7466             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
24615                            7467             BT      JMP02\@                                         ;DATA=<MAX
24616                            7468             MOV.L   #\CNT_ADR,\REG1                                 ;
24617                            7469             MOV.W   @\REG1,R0                                       ;CNT+1
24618                            7470             ADD     #1,R0                                           ;
24619                            7471             MOV.W   R0,@\REG1                                       ;
24620                            7472             MOV.W   #\CNT_MAX,\REG1                                 ;
24621                            7473             CMP/HS  \REG1,R0                                        ;MAX =< R0
24622                            7474             BF      JMP03\@                                         ;
24623                            7475             MOV.W   #\ERRBIT,R0                                     ;
24624                            7476             M_BRA   JMP04\@                                         ;ERR
24625                            7477     JMP02\@:                                                        ;
24626                            7478             XOR     R0,R0                                           ;
24627                            7479             MOV.L   #\CNT_ADR,\REG1                                 ;
24628                            7480             MOV.W   R0,@\REG1                                       ;0CLR + ANS=0
24629                            7481     JMP03\@:                                                        ;
24630                            7482             XOR     R0,R0                                           ;
24631                            7483     JMP04\@:                                                        ;
24632                            7484             .ENDM
24633                            7485     
24634                            7486     
24635                            7487     
24636                            7488     
24637                            7489     
24638                            7490     
24639                            7491     
24640                            7492     
24641                            7493     
24642                            7494     
24643                            7495     
24644                            7496     ;       ***********************************
24645                            7497     ;       ***     ﾊﾞｯｸｱｯﾌﾟ条件ﾁｪｯｸ        ***
24646                            7498     ;       ***     非常停止の中で呼ばれる  ***
24647                            7499     ;       ***********************************
24648                            7500             .EXPORT _ERR_INFO_BAKUP_START
24649                            7501     
24650                            7502     
24651                            7503     
24652 00004FB0                   7504             .ALIGN  4                               ;
24653 00004FB0                   7505     _ERR_INFO_BAKUP_START
24654                            7506             SUB_START
24655 00004FB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
24656                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24657 00004FB2 D107              7507             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24658 00004FB4 6011              7508             MOV.W   @R1,R0                          ;
24659 00004FB6 2008              7509             TST     R0,R0                           ;
24660                            7510             TST_BIT_ON ERR_INFO_BAKUP_ST_END        ;
24661 00004FB8 8B07                   M           BF      ERR_INFO_BAKUP_ST_END
24662                            7511             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_LATCH,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-LA
                                          TCH
24663 00004FBA D105                   M           MOV.L   #_ERR_INFO_SAVE_LATCH,R1                ;
24664 00004FBC 6011                   M           MOV.W   @R1,R0          ;
24665 00004FBE CB01                   M           OR      #BIT0,R0                ;
24666 00004FC0 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   334
PROGRAM NAME =

24667                            7512             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-STAR
                                          T
24668 00004FC2 D104                   M           MOV.L   #_ERR_INFO_SAVE_FLG,R1          ;
24669 00004FC4 6011                   M           MOV.W   @R1,R0          ;
24670 00004FC6 CB01                   M           OR      #BIT0,R0                ;
24671 00004FC8 2101                   M           MOV.W   R0,@R1          ;
24672                            7513     
24673                            7514     
24674 00004FCA                   7515     ERR_INFO_BAKUP_ST_END
24675                            7516             SUB_END
24676                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24677 00004FCA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24678                            7517             M_RTS
24679 00004FCC 000B                   M           RTS                             ;RTSの後ろの
24680 00004FCE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24681                            7518     
24682                            7519             .EXPORT         _ERR_INFO_RST_CLR
24683                                     ***** BEGIN-POOL *****
24684 00004FD0 00000000                   DATA FOR SOURCE-LINE 7507,7511
24685 00004FD4 00000000                   DATA FOR SOURCE-LINE 7512
24686                                     ***** END-POOL *****
24687 00004FD8                   7520             .ALIGN  4                               ;
24688 00004FD8                   7521     _ERR_INFO_RST_CLR:
24689                            7522             SUB_START
24690 00004FD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
24691                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24692                            7523             FAR_JSR #_ERR_INFO_WK_CLR,R0
24693 00004FDA D005                   M           MOV.L   #_ERR_INFO_WK_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24694 00004FDC 400B                   M           JSR     @R0                     ;
24695 00004FDE 0009                   M           NOP                                     ;
24696                            7524     
24697 00004FE0 200A              7525             XOR     R0,R0
24698 00004FE2 D104              7526             MOV.L   #_ERR_INFO_SAVE_FLG,R1
24699 00004FE4 2101              7527             MOV.W   R0,@R1                          ;
24700                            7528     
24701 00004FE6 D104              7529             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24702 00004FE8 2101              7530             MOV.W   R0,@R1                          ;
24703                            7531             SUB_END
24704                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24705 00004FEA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24706                            7532             M_RTS
24707 00004FEC 000B                   M           RTS                             ;RTSの後ろの
24708 00004FEE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24709                            7533     
24710                            7534     ;       ***************************
24711                            7535     ;       ***                     ***
24712                            7536     ;       ***                     ***
24713                            7537     ;       ***                     ***
24714                            7538     ;       ***************************
24715                                     ***** BEGIN-POOL *****
24716 00004FF0 00000000                   DATA FOR SOURCE-LINE 7523
24717 00004FF4 00000000                   DATA FOR SOURCE-LINE 7526
24718 00004FF8 00000000                   DATA FOR SOURCE-LINE 7529
24719                                     ***** END-POOL *****
24720 00004FFC                   7539             .ALIGN  4                               ;
24721 00004FFC                   7540     _ERR_INFO_WK_CLR:
24722                            7541             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   335
PROGRAM NAME =

24723 00004FFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
24724                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24725 00004FFE 200A              7542             XOR     R0,R0
24726 00005000 D107              7543             MOV.L   #_WK_ERR_INFO_CPU_TOP,R1
24727 00005002 920B              7544             MOV.W   #_CB_ERR_INFO_MEM/4,R2          ;
24728                            7545     
24729 00005004                   7546     ERR_INFO_WKCLR_LOP:
24730 00005004 2102              7547             MOV.L   R0,@R1                          ;
24731 00005006 7104              7548             ADD     #4,R1                           ;
24732 00005008 72FF              7549             ADD     #-1,R2                          ;
24733 0000500A 2228              7550             TST     R2,R2                           ;
24734                            7551             TST_BIT_ON ERR_INFO_WKCLR_LOP           ;
24735 0000500C 8BFA                   M           BF      ERR_INFO_WKCLR_LOP
24736                            7552     
24737                            7553     ;       ------- 2010-10-25---
24738 0000500E D105              7554             MOV.L   #_CHK_ADD_DATA_LATCH,R1         ;
24739 00005010 2102              7555             MOV.L   R0,@R1                          ;
24740 00005012 7104              7556             ADD     #4,R1                           ;
24741 00005014 2102              7557             MOV.L   R0,@R1                          ;
24742                            7558     
24743                            7559             SUB_END
24744                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24745 00005016 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24746                            7560             M_RTS
24747 00005018 000B                   M           RTS                             ;RTSの後ろの
24748 0000501A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24749                            7561     
24750                            7562     ;       ***********************************
24751                            7563     ;       ***                             ***
24752                            7564     ;       ***     １つだけ                ***
24753                            7565     ;       ***     自分の情報を相手に送り  ***
24754                            7566     ;       ***     相手の情報を取り込む    ***
24755                            7567     ;       ***     ﾃﾞｰﾀｸﾞﾗﾌを作成          ***
24756                            7568     ;       ***                             ***
24757                            7569     ;       ***********************************
24758                                     ***** BEGIN-POOL *****
24759 0000501C 0010                       DATA FOR SOURCE-LINE 7544
24760 0000501E 0000                       ALIGNMENT CODE
24761 00005020 00000000                   DATA FOR SOURCE-LINE 7543
24762 00005024 00000000                   DATA FOR SOURCE-LINE 7554
24763                                     ***** END-POOL *****
24764 00005028                   7570             .ALIGN  4                               ;
24765 00005028                   7571     _CHG_STEP_INFO_MAKE_STEP_DAT:
24766                            7572             SUB_START
24767 00005028 4F22                   M           STS.L   PR,@-R15                ;[必要]
24768                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24769                            7573             PUSH_REG1 R0
24770 0000502A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24771                                 M                                           ;REG=>[SP]
24772                                 M                                           ;"-4" FF,FF,FF,FC
24773                            7574             PUSH_REG1 R1
24774 0000502C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24775                                 M                                           ;REG=>[SP]
24776                                 M                                           ;"-4" FF,FF,FF,FC
24777                            7575             PUSH_REG1 R2
24778 0000502E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24779                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   336
PROGRAM NAME =

24780                                 M                                           ;"-4" FF,FF,FF,FC
24781                            7576             PUSH_REG1 R3
24782 00005030 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
24783                                 M                                           ;REG=>[SP]
24784                                 M                                           ;"-4" FF,FF,FF,FC
24785                            7577             PUSH_REG1 R4
24786 00005032 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
24787                                 M                                           ;REG=>[SP]
24788                                 M                                           ;"-4" FF,FF,FF,FC
24789                            7578             FAR_JSR #_LOAD_FREQ_PLS,R0
24790 00005034 D015                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24791 00005036 400B                   M           JSR     @R0                     ;
24792 00005038 0009                   M           NOP                                     ;
24793 0000503A D115              7579             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
24794 0000503C 2101              7580             MOV.W   R0,@R1
                                          ;
24795                            7581             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP_SV_PLS       ,L
                                          ,R1,R2,R3       ;
24796 0000503E D115                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
24797 00005040 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
24798 00005042 D315                   M           MOV.L   #_SH4_STEP_SV_PLS,R3    ;DST_ADR
24799 00005044 2322                   M           MOV.L   R2,@R3  ;DST_ADR
24800                            7582             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP_PV_PLS       ,L
                                          ,R1,R2,R3       ;
24801 00005046 D115                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
24802 00005048 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
24803 0000504A D315                   M           MOV.L   #_SH4_STEP_PV_PLS,R3    ;DST_ADR
24804 0000504C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
24805                            7583             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP_REST_P       ,L
                                          ,R1,R2,R3       ;
24806 0000504E D115                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
24807 00005050 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
24808 00005052 D315                   M           MOV.L   #_SH4_STEP_REST_P,R3    ;DST_ADR
24809 00005054 2322                   M           MOV.L   R2,@R3  ;DST_ADR
24810                            7584             MEM_MOV_TO_MEM  _LNGTH_TOTAL_OUTPLS             ,L      ,_SH4_TOTAL_PLS ,L,R1,R2,R
                                          3       ;
24811 00005056 D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1
24812 00005058 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
24813 0000505A D315                   M           MOV.L   #_SH4_TOTAL_PLS,R3      ;DST_ADR
24814 0000505C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
24815                            7585     ;;      MEM_MOV_TO_MEM  _IN_POS_GPOINT_POS              ,L      ,_SH4_ADD_PLS           ,L
                                          ,R1,R2,R3       ;
24816                            7586     
24817                            7587             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP_FRQ          ,W
                                          ,R1,R2,R3       ;
24818 0000505E D10C                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
24819 00005060 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
24820 00005062 D314                   M           MOV.L   #_SH4_STEP_FRQ,R3       ;DST_ADR
24821 00005064 2321                   M           MOV.W   R2,@R3  ;DST_ADR
24822                            7588             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP_TIM          ,W
                                          ,R1,R2,R3       ;
24823 00005066 D114                   M           MOV.L   #_CPU_CTRL_CLK,R1
24824 00005068 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
24825 0000506A D314                   M           MOV.L   #_SH4_STEP_TIM,R3       ;DST_ADR
24826 0000506C 2321                   M           MOV.W   R2,@R3  ;DST_ADR
24827                            7589             MEM_MOV_TO_MEM  _INT_POS_CTL_STEP               ,W      ,_SH4_NOW_STEP          ,W
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   337
PROGRAM NAME =

                                          ,R1,R2,R3       ;
24828 0000506E D114                   M           MOV.L   #_INT_POS_CTL_STEP,R1
24829 00005070 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
24830 00005072 D314                   M           MOV.L   #_SH4_NOW_STEP,R3       ;DST_ADR
24831 00005074 2321                   M           MOV.W   R2,@R3  ;DST_ADR
24832                            7590     
24833                            7591             FAR_JSR #_DATA_GRF_CNT_DATA_MAKE,R0
24834 00005076 D014                   M           MOV.L   #_DATA_GRF_CNT_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24835 00005078 400B                   M           JSR     @R0                     ;
24836 0000507A 0009                   M           NOP                                     ;
24837                            7592             POP_REG1 R4
24838                                 M                                   ; RE"+4" 00,00,00,04
24839 0000507C 64F6                   M           MOV.L   @R15+,R4        ;
24840                            7593             POP_REG1 R3
24841                                 M                                   ; RE"+4" 00,00,00,04
24842 0000507E 63F6                   M           MOV.L   @R15+,R3        ;
24843                            7594             POP_REG1 R2
24844                                 M                                   ; RE"+4" 00,00,00,04
24845 00005080 62F6                   M           MOV.L   @R15+,R2        ;
24846                            7595             POP_REG1 R1
24847                                 M                                   ; RE"+4" 00,00,00,04
24848 00005082 61F6                   M           MOV.L   @R15+,R1        ;
24849                            7596             POP_REG1 R0
24850                                 M                                   ; RE"+4" 00,00,00,04
24851 00005084 60F6                   M           MOV.L   @R15+,R0        ;
24852                            7597             SUB_END
24853                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24854 00005086 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24855                            7598             M_RTS
24856 00005088 000B                   M           RTS                             ;RTSの後ろの
24857 0000508A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24858                            7599     
24859                            7600     ;       ***********************************
24860                            7601     ;       ***     連続の行程切り替わり    ***
24861                            7602     ;       ***********************************
24862                            7603     ;       行程3->1のときの演算前のﾃﾞｰﾀ を4へ
24863                            7604     ;       ﾓﾆﾀ用
24864                                     ***** BEGIN-POOL *****
24865 0000508C 00000000                   DATA FOR SOURCE-LINE 7578
24866 00005090 00000000                   DATA FOR SOURCE-LINE 7579,7587
24867 00005094 00000000                   DATA FOR SOURCE-LINE 7581
24868 00005098 00000000                   DATA FOR SOURCE-LINE 7581
24869 0000509C 00000000                   DATA FOR SOURCE-LINE 7582
24870 000050A0 00000000                   DATA FOR SOURCE-LINE 7582
24871 000050A4 00000000                   DATA FOR SOURCE-LINE 7583
24872 000050A8 00000000                   DATA FOR SOURCE-LINE 7583
24873 000050AC 00000000                   DATA FOR SOURCE-LINE 7584
24874 000050B0 00000000                   DATA FOR SOURCE-LINE 7584
24875 000050B4 00000000                   DATA FOR SOURCE-LINE 7587
24876 000050B8 00000000                   DATA FOR SOURCE-LINE 7588
24877 000050BC 00000000                   DATA FOR SOURCE-LINE 7588
24878 000050C0 00000000                   DATA FOR SOURCE-LINE 7589
24879 000050C4 00000000                   DATA FOR SOURCE-LINE 7589
24880 000050C8 00000000                   DATA FOR SOURCE-LINE 7591
24881                                     ***** END-POOL *****
24882 000050CC                   7605             .ALIGN  4                               ;
24883 000050CC                   7606     _CHG_STEP_INFO_MAKE_ESTEP_BEFOR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   338
PROGRAM NAME =

24884                            7607             SUB_START
24885 000050CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
24886                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24887                            7608             PUSH_REG1 R0
24888 000050CE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24889                                 M                                           ;REG=>[SP]
24890                                 M                                           ;"-4" FF,FF,FF,FC
24891                            7609             PUSH_REG1 R1
24892 000050D0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24893                                 M                                           ;REG=>[SP]
24894                                 M                                           ;"-4" FF,FF,FF,FC
24895                            7610             PUSH_REG1 R2
24896 000050D2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24897                                 M                                           ;REG=>[SP]
24898                                 M                                           ;"-4" FF,FF,FF,FC
24899                            7611             PUSH_REG1 R3
24900 000050D4 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
24901                                 M                                           ;REG=>[SP]
24902                                 M                                           ;"-4" FF,FF,FF,FC
24903                            7612             FAR_JSR #_LOAD_FREQ_PLS,R0
24904 000050D6 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24905 000050D8 400B                   M           JSR     @R0                     ;
24906 000050DA 0009                   M           NOP                                     ;
24907 000050DC D10F              7613             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
24908 000050DE 2101              7614             MOV.W   R0,@R1
                                          ;
24909                            7615             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP4_SV_PLS      ,L
                                          ,R1,R2,R3       ;
24910 000050E0 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
24911 000050E2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
24912 000050E4 D30F                   M           MOV.L   #_SH4_STEP4_SV_PLS,R3   ;DST_ADR
24913 000050E6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
24914                            7616             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP4_PV_PLS      ,L
                                          ,R1,R2,R3;
24915 000050E8 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
24916 000050EA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
24917 000050EC D30F                   M           MOV.L   #_SH4_STEP4_PV_PLS,R3   ;DST_ADR
24918 000050EE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
24919                            7617             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP4_REST_P      ,L
                                          ,R1,R2,R3;
24920 000050F0 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
24921 000050F2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
24922 000050F4 D30F                   M           MOV.L   #_SH4_STEP4_REST_P,R3   ;DST_ADR
24923 000050F6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
24924                            7618             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP4_FRQ ,W,R1,R2,R
                                          3;
24925 000050F8 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
24926 000050FA 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
24927 000050FC D30E                   M           MOV.L   #_SH4_STEP4_FRQ,R3      ;DST_ADR
24928 000050FE 2321                   M           MOV.W   R2,@R3  ;DST_ADR
24929                            7619             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP4_TIM ,W,R1,R2,R
                                          3;
24930 00005100 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
24931 00005102 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
24932 00005104 D30E                   M           MOV.L   #_SH4_STEP4_TIM,R3      ;DST_ADR
24933 00005106 2321                   M           MOV.W   R2,@R3  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   339
PROGRAM NAME =

24934                            7620     
24935                            7621             POP_REG1 R3
24936                                 M                                   ; RE"+4" 00,00,00,04
24937 00005108 63F6                   M           MOV.L   @R15+,R3        ;
24938                            7622             POP_REG1 R2
24939                                 M                                   ; RE"+4" 00,00,00,04
24940 0000510A 62F6                   M           MOV.L   @R15+,R2        ;
24941                            7623             POP_REG1 R1
24942                                 M                                   ; RE"+4" 00,00,00,04
24943 0000510C 61F6                   M           MOV.L   @R15+,R1        ;
24944                            7624             POP_REG1 R0
24945                                 M                                   ; RE"+4" 00,00,00,04
24946 0000510E 60F6                   M           MOV.L   @R15+,R0        ;
24947                            7625             SUB_END
24948                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24949 00005110 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24950                            7626             M_RTS
24951 00005112 000B                   M           RTS                             ;RTSの後ろの
24952 00005114 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24953                            7627     
24954                            7628     ;       行程3->1のときの演算後のﾃﾞｰﾀ を1へ
24955                                     ***** BEGIN-POOL *****
24956 00005116 0000                       ALIGNMENT CODE
24957 00005118 00000000                   DATA FOR SOURCE-LINE 7612
24958 0000511C 00000000                   DATA FOR SOURCE-LINE 7613,7618
24959 00005120 00000000                   DATA FOR SOURCE-LINE 7615
24960 00005124 00000000                   DATA FOR SOURCE-LINE 7615
24961 00005128 00000000                   DATA FOR SOURCE-LINE 7616
24962 0000512C 00000000                   DATA FOR SOURCE-LINE 7616
24963 00005130 00000000                   DATA FOR SOURCE-LINE 7617
24964 00005134 00000000                   DATA FOR SOURCE-LINE 7617
24965 00005138 00000000                   DATA FOR SOURCE-LINE 7618
24966 0000513C 00000000                   DATA FOR SOURCE-LINE 7619
24967 00005140 00000000                   DATA FOR SOURCE-LINE 7619
24968                                     ***** END-POOL *****
24969 00005144                   7629             .ALIGN  4                               ;
24970 00005144                   7630     _CHG_STEP_INFO_MAKE_ESTEP_AFTER
24971                            7631             SUB_START
24972 00005144 4F22                   M           STS.L   PR,@-R15                ;[必要]
24973                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24974                            7632             PUSH_REG1 R0
24975 00005146 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24976                                 M                                           ;REG=>[SP]
24977                                 M                                           ;"-4" FF,FF,FF,FC
24978                            7633             PUSH_REG1 R1
24979 00005148 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24980                                 M                                           ;REG=>[SP]
24981                                 M                                           ;"-4" FF,FF,FF,FC
24982                            7634             PUSH_REG1 R2
24983 0000514A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24984                                 M                                           ;REG=>[SP]
24985                                 M                                           ;"-4" FF,FF,FF,FC
24986                            7635             PUSH_REG1 R3
24987 0000514C 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
24988                                 M                                           ;REG=>[SP]
24989                                 M                                           ;"-4" FF,FF,FF,FC
24990                            7636             FAR_JSR #_LOAD_FREQ_PLS,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   340
PROGRAM NAME =

24991 0000514E D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24992 00005150 400B                   M           JSR     @R0                     ;
24993 00005152 0009                   M           NOP                                     ;
24994 00005154 D10F              7637             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
24995 00005156 2101              7638             MOV.W   R0,@R1
                                          ;
24996                            7639             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP1_SV_PLS      ,L
                                          ,R1,R2,R3       ;
24997 00005158 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
24998 0000515A 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
24999 0000515C D30F                   M           MOV.L   #_SH4_STEP1_SV_PLS,R3   ;DST_ADR
25000 0000515E 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25001                            7640             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH4_STEP1_PV_PLS      ,L,R1,R2,R
                                          3;
25002 00005160 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25003 00005162 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25004 00005164 D30F                   M           MOV.L   #_SH4_STEP1_PV_PLS,R3   ;DST_ADR
25005 00005166 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25006                            7641             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP1_REST_P      ,L
                                          ,R1,R2,R3;
25007 00005168 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25008 0000516A 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25009 0000516C D30F                   M           MOV.L   #_SH4_STEP1_REST_P,R3   ;DST_ADR
25010 0000516E 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25011                            7642             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP1_FRQ ,W,R1,R2,R
                                          3;
25012 00005170 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25013 00005172 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25014 00005174 D30E                   M           MOV.L   #_SH4_STEP1_FRQ,R3      ;DST_ADR
25015 00005176 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25016                            7643             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP1_TIM ,W,R1,R2,R
                                          3;
25017 00005178 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25018 0000517A 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25019 0000517C D30E                   M           MOV.L   #_SH4_STEP1_TIM,R3      ;DST_ADR
25020 0000517E 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25021                            7644     
25022                            7645             POP_REG1 R3
25023                                 M                                   ; RE"+4" 00,00,00,04
25024 00005180 63F6                   M           MOV.L   @R15+,R3        ;
25025                            7646             POP_REG1 R2
25026                                 M                                   ; RE"+4" 00,00,00,04
25027 00005182 62F6                   M           MOV.L   @R15+,R2        ;
25028                            7647             POP_REG1 R1
25029                                 M                                   ; RE"+4" 00,00,00,04
25030 00005184 61F6                   M           MOV.L   @R15+,R1        ;
25031                            7648             POP_REG1 R0
25032                                 M                                   ; RE"+4" 00,00,00,04
25033 00005186 60F6                   M           MOV.L   @R15+,R0        ;
25034                            7649             SUB_END
25035                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25036 00005188 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25037                            7650             M_RTS
25038 0000518A 000B                   M           RTS                             ;RTSの後ろの
25039 0000518C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25040                            7651     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   341
PROGRAM NAME =

25041                            7652     
25042                            7653     ;       ***********************************
25043                            7654     ;       ***                             ***
25044                            7655     ;       ***********************************
25045                                     ***** BEGIN-POOL *****
25046 0000518E 0000                       ALIGNMENT CODE
25047 00005190 00000000                   DATA FOR SOURCE-LINE 7636
25048 00005194 00000000                   DATA FOR SOURCE-LINE 7637,7642
25049 00005198 00000000                   DATA FOR SOURCE-LINE 7639
25050 0000519C 00000000                   DATA FOR SOURCE-LINE 7639
25051 000051A0 00000000                   DATA FOR SOURCE-LINE 7640
25052 000051A4 00000000                   DATA FOR SOURCE-LINE 7640
25053 000051A8 00000000                   DATA FOR SOURCE-LINE 7641
25054 000051AC 00000000                   DATA FOR SOURCE-LINE 7641
25055 000051B0 00000000                   DATA FOR SOURCE-LINE 7642
25056 000051B4 00000000                   DATA FOR SOURCE-LINE 7643
25057 000051B8 00000000                   DATA FOR SOURCE-LINE 7643
25058                                     ***** END-POOL *****
25059 000051BC                   7656             .ALIGN  4                               ;
25060 000051BC                   7657     _CHG_STEP_INFO_MAKE_STEP_END:
25061                            7658             SUB_START
25062 000051BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
25063                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25064                            7659             PUSH_REG1 R0
25065 000051BE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25066                                 M                                           ;REG=>[SP]
25067                                 M                                           ;"-4" FF,FF,FF,FC
25068                            7660             PUSH_REG1 R1
25069 000051C0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25070                                 M                                           ;REG=>[SP]
25071                                 M                                           ;"-4" FF,FF,FF,FC
25072 000051C2 D104              7661             MOV.L   #_INT_POS_CTL_STEP,R1           ;
25073 000051C4 6011              7662             MOV.W   @R1,R0                          ;
25074 000051C6 8802              7663             CMP/EQ  #2,R0                           ;
25075 000051C8 8B08              7664             BF      CHG_STEP_INFO_MAKSTP_END_010    ;
25076                            7665             FAR_JSR #_CHG_STEP_INFO_MAKE_1STEP_END,R0
25077 000051CA D003                   M           MOV.L   #_CHG_STEP_INFO_MAKE_1STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25078 000051CC 400B                   M           JSR     @R0                     ;
25079 000051CE 0009                   M           NOP                                     ;
25080                            7666             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT
25081 000051D0 A00E                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
25082 000051D2 0009                   M           NOP
25083                            7667     
25084                                     ***** BEGIN-POOL *****
25085 000051D4 00000000                   DATA FOR SOURCE-LINE 7661
25086 000051D8 00000000                   DATA FOR SOURCE-LINE 7665
25087                                     ***** END-POOL *****
25088 000051DC                   7668     CHG_STEP_INFO_MAKSTP_END_010:
25089 000051DC 8803              7669             CMP/EQ  #3,R0                                   ;
25090 000051DE 8B07              7670             BF      CHG_STEP_INFO_MAKSTP_END_020            ;
25091                            7671             FAR_JSR #_CHG_STEP_INFO_MAKE_2STEP_END,R0       ;
25092 000051E0 D002                   M           MOV.L   #_CHG_STEP_INFO_MAKE_2STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25093 000051E2 400B                   M           JSR     @R0                     ;
25094 000051E4 0009                   M           NOP                                     ;
25095                            7672             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT            ;
25096 000051E6 A003                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
25097 000051E8 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   342
PROGRAM NAME =

25098                                     ***** BEGIN-POOL *****
25099 000051EA 0000                       ALIGNMENT CODE
25100 000051EC 00000000                   DATA FOR SOURCE-LINE 7671
25101                                     ***** END-POOL *****
25102 000051F0                   7673     CHG_STEP_INFO_MAKSTP_END_020:
25103                            7674     
25104 000051F0                   7675     CHG_STEP_INFO_MAKSTP_END_EXT:
25105                            7676             POP_REG1 R1
25106                                 M                                   ; RE"+4" 00,00,00,04
25107 000051F0 61F6                   M           MOV.L   @R15+,R1        ;
25108                            7677             POP_REG1 R0
25109                                 M                                   ; RE"+4" 00,00,00,04
25110 000051F2 60F6                   M           MOV.L   @R15+,R0        ;
25111                            7678             SUB_END
25112                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25113 000051F4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25114                            7679             M_RTS
25115 000051F6 000B                   M           RTS                             ;RTSの後ろの
25116 000051F8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25117                            7680     
25118                            7681     
25119                            7682     ;       === 1->2 1の情報を2へ==
25120 000051FC                   7683             .ALIGN  4                               ;
25121 000051FC                   7684     _CHG_STEP_INFO_MAKE_1STEP_END
25122                            7685             SUB_START
25123 000051FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
25124                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25125                            7686             PUSH_REG1 R0
25126 000051FE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25127                                 M                                           ;REG=>[SP]
25128                                 M                                           ;"-4" FF,FF,FF,FC
25129                            7687             PUSH_REG1 R1
25130 00005200 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25131                                 M                                           ;REG=>[SP]
25132                                 M                                           ;"-4" FF,FF,FF,FC
25133                            7688             PUSH_REG1 R2
25134 00005202 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25135                                 M                                           ;REG=>[SP]
25136                                 M                                           ;"-4" FF,FF,FF,FC
25137                            7689             PUSH_REG1 R3
25138 00005204 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25139                                 M                                           ;REG=>[SP]
25140                                 M                                           ;"-4" FF,FF,FF,FC
25141                            7690             FAR_JSR #_LOAD_FREQ_PLS,R0
25142 00005206 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25143 00005208 400B                   M           JSR     @R0                     ;
25144 0000520A 0009                   M           NOP                                     ;
25145 0000520C D10F              7691             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25146 0000520E 2101              7692             MOV.W   R0,@R1
                                          ;
25147                            7693             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP2_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25148 00005210 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25149 00005212 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25150 00005214 D30F                   M           MOV.L   #_SH4_STEP2_SV_PLS,R3   ;DST_ADR
25151 00005216 2322                   M           MOV.L   R2,@R3  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   343
PROGRAM NAME =

25152                            7694             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP2_PV_PLS      ,L
                                          ,R1,R2,R3       ;
25153 00005218 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25154 0000521A 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25155 0000521C D30F                   M           MOV.L   #_SH4_STEP2_PV_PLS,R3   ;DST_ADR
25156 0000521E 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25157                            7695             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP2_REST_P      ,L
                                          ,R1,R2,R3       ;
25158 00005220 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25159 00005222 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25160 00005224 D30F                   M           MOV.L   #_SH4_STEP2_REST_P,R3   ;DST_ADR
25161 00005226 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25162                            7696             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP2_FRQ ,W,R1,R2,R
                                          3       ;
25163 00005228 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25164 0000522A 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25165 0000522C D30E                   M           MOV.L   #_SH4_STEP2_FRQ,R3      ;DST_ADR
25166 0000522E 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25167                            7697             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP2_TIM ,W,R1,R2,R
                                          3       ;
25168 00005230 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25169 00005232 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25170 00005234 D30E                   M           MOV.L   #_SH4_STEP2_TIM,R3      ;DST_ADR
25171 00005236 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25172                            7698             POP_REG1 R3
25173                                 M                                   ; RE"+4" 00,00,00,04
25174 00005238 63F6                   M           MOV.L   @R15+,R3        ;
25175                            7699             POP_REG1 R2
25176                                 M                                   ; RE"+4" 00,00,00,04
25177 0000523A 62F6                   M           MOV.L   @R15+,R2        ;
25178                            7700             POP_REG1 R1
25179                                 M                                   ; RE"+4" 00,00,00,04
25180 0000523C 61F6                   M           MOV.L   @R15+,R1        ;
25181                            7701             POP_REG1 R0
25182                                 M                                   ; RE"+4" 00,00,00,04
25183 0000523E 60F6                   M           MOV.L   @R15+,R0        ;
25184                            7702             SUB_END
25185                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25186 00005240 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25187                            7703             M_RTS
25188 00005242 000B                   M           RTS                             ;RTSの後ろの
25189 00005244 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25190                            7704     
25191                            7705     ;       === 2->3 3の情報 ==
25192                                     ***** BEGIN-POOL *****
25193 00005246 0000                       ALIGNMENT CODE
25194 00005248 00000000                   DATA FOR SOURCE-LINE 7690
25195 0000524C 00000000                   DATA FOR SOURCE-LINE 7691,7696
25196 00005250 00000000                   DATA FOR SOURCE-LINE 7693
25197 00005254 00000000                   DATA FOR SOURCE-LINE 7693
25198 00005258 00000000                   DATA FOR SOURCE-LINE 7694
25199 0000525C 00000000                   DATA FOR SOURCE-LINE 7694
25200 00005260 00000000                   DATA FOR SOURCE-LINE 7695
25201 00005264 00000000                   DATA FOR SOURCE-LINE 7695
25202 00005268 00000000                   DATA FOR SOURCE-LINE 7696
25203 0000526C 00000000                   DATA FOR SOURCE-LINE 7697
25204 00005270 00000000                   DATA FOR SOURCE-LINE 7697
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   344
PROGRAM NAME =

25205                                     ***** END-POOL *****
25206 00005274                   7706             .ALIGN  4                               ;
25207 00005274                   7707     _CHG_STEP_INFO_MAKE_2STEP_END
25208                            7708             SUB_START
25209 00005274 4F22                   M           STS.L   PR,@-R15                ;[必要]
25210                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25211                            7709             PUSH_REG1 R0
25212 00005276 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25213                                 M                                           ;REG=>[SP]
25214                                 M                                           ;"-4" FF,FF,FF,FC
25215                            7710             PUSH_REG1 R1
25216 00005278 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25217                                 M                                           ;REG=>[SP]
25218                                 M                                           ;"-4" FF,FF,FF,FC
25219                            7711             PUSH_REG1 R2
25220 0000527A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25221                                 M                                           ;REG=>[SP]
25222                                 M                                           ;"-4" FF,FF,FF,FC
25223                            7712             PUSH_REG1 R3
25224 0000527C 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25225                                 M                                           ;REG=>[SP]
25226                                 M                                           ;"-4" FF,FF,FF,FC
25227                            7713             FAR_JSR #_LOAD_FREQ_PLS,R0
25228 0000527E D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25229 00005280 400B                   M           JSR     @R0                     ;
25230 00005282 0009                   M           NOP                                     ;
25231 00005284 D10F              7714             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25232 00005286 2101              7715             MOV.W   R0,@R1
                                          ;
25233                            7716             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP3_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25234 00005288 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25235 0000528A 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25236 0000528C D30F                   M           MOV.L   #_SH4_STEP3_SV_PLS,R3   ;DST_ADR
25237 0000528E 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25238                            7717             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH4_STEP3_PV_PLS      ,L,R1,R2,R
                                          3       ;
25239 00005290 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25240 00005292 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25241 00005294 D30F                   M           MOV.L   #_SH4_STEP3_PV_PLS,R3   ;DST_ADR
25242 00005296 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25243                            7718             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP3_REST_P      ,L
                                          ,R1,R2,R3       ;
25244 00005298 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25245 0000529A 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25246 0000529C D30F                   M           MOV.L   #_SH4_STEP3_REST_P,R3   ;DST_ADR
25247 0000529E 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25248                            7719             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP3_FRQ ,W,R1,R2,R
                                          3       ;
25249 000052A0 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25250 000052A2 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25251 000052A4 D30E                   M           MOV.L   #_SH4_STEP3_FRQ,R3      ;DST_ADR
25252 000052A6 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25253                            7720             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP3_TIM ,W,R1,R2,R
                                          3       ;
25254 000052A8 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   345
PROGRAM NAME =

25255 000052AA 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25256 000052AC D30E                   M           MOV.L   #_SH4_STEP3_TIM,R3      ;DST_ADR
25257 000052AE 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25258                            7721     
25259                            7722             POP_REG1 R3
25260                                 M                                   ; RE"+4" 00,00,00,04
25261 000052B0 63F6                   M           MOV.L   @R15+,R3        ;
25262                            7723             POP_REG1 R2
25263                                 M                                   ; RE"+4" 00,00,00,04
25264 000052B2 62F6                   M           MOV.L   @R15+,R2        ;
25265                            7724             POP_REG1 R1
25266                                 M                                   ; RE"+4" 00,00,00,04
25267 000052B4 61F6                   M           MOV.L   @R15+,R1        ;
25268                            7725             POP_REG1 R0
25269                                 M                                   ; RE"+4" 00,00,00,04
25270 000052B6 60F6                   M           MOV.L   @R15+,R0        ;
25271                            7726             SUB_END
25272                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25273 000052B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25274                            7727             M_RTS
25275 000052BA 000B                   M           RTS                             ;RTSの後ろの
25276 000052BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25277                            7728     
25278                            7729     
25279                            7730     
25280                            7731             .EXPORT _MONI_CHG_PROC1
25281                                     ***** BEGIN-POOL *****
25282 000052BE 0000                       ALIGNMENT CODE
25283 000052C0 00000000                   DATA FOR SOURCE-LINE 7713
25284 000052C4 00000000                   DATA FOR SOURCE-LINE 7714,7719
25285 000052C8 00000000                   DATA FOR SOURCE-LINE 7716
25286 000052CC 00000000                   DATA FOR SOURCE-LINE 7716
25287 000052D0 00000000                   DATA FOR SOURCE-LINE 7717
25288 000052D4 00000000                   DATA FOR SOURCE-LINE 7717
25289 000052D8 00000000                   DATA FOR SOURCE-LINE 7718
25290 000052DC 00000000                   DATA FOR SOURCE-LINE 7718
25291 000052E0 00000000                   DATA FOR SOURCE-LINE 7719
25292 000052E4 00000000                   DATA FOR SOURCE-LINE 7720
25293 000052E8 00000000                   DATA FOR SOURCE-LINE 7720
25294                                     ***** END-POOL *****
25295 000052EC                   7732             .ALIGN  4                               ;
25296 000052EC                   7733     _MONI_CHG_PROC1:
25297                            7734             SUB_START
25298 000052EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
25299                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25300                            7735     ;;      MNP_MOV_TO_MEM  _SH4_STEP1_REST_P       ,L,_PVP_MONALM_C01,L,R1,R2,H'3FFFFFF
25301                            7736     ;;      MNP_MOV_TO_MEM  _SH4_STEP1_PV_PLS       ,L,_PVP_MONALM_C02,L,R1,R2,H'3FFFFFF
25302                            7737     ;;      MEM_MOV_TO_MEM  _SH4_STEP1_FRQ          ,W,_PVP_MONALM_A01,W,R1,R2,R3;
25303                            7738     ;;      MEM_MOV_TO_MEM  _SH4_STEP1_TIM          ,W,_PVP_MONALM_A02,W,R1,R2,R3;
25304                            7739     
25305                            7740             SUB_END
25306                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25307 000052EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25308                            7741             M_RTS
25309 000052F0 000B                   M           RTS                             ;RTSの後ろの
25310 000052F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25311                            7742     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   346
PROGRAM NAME =

25312                            7743     
25313                            7744     
25314                            7745     ;       ****************************
25315                            7746     ;       ***                     ****
25316                            7747     ;       ****************************
25317                            7748     
25318                            7749             .IMPORT _PVP_MONALM_C01
25319                            7750             .IMPORT _PVP_MONALM_C02
25320                            7751             .IMPORT _PVP_MONALM_C03
25321                            7752             .IMPORT _PVP_MONALM_C04
25322                            7753             .IMPORT _PVP_MONALM_C05
25323                            7754             .IMPORT _PVP_MONALM_C06
25324                            7755             .IMPORT _PVP_MONALM_C07
25325                            7756             .IMPORT _PVP_MONALM_C08
25326                            7757             .IMPORT _PVP_MONALM_A01
25327                            7758             .IMPORT _PVP_MONALM_A02
25328                            7759             .IMPORT _PVP_MONALM_A03
25329                            7760             .IMPORT _PVP_MONALM_A04
25330                            7761             .IMPORT _PVP_MONALM_A05
25331                            7762             .IMPORT _PVP_MONALM_A06
25332                            7763             .IMPORT _PVP_MONALM_A07
25333                            7764             .IMPORT _PVP_MONALM_A08
25334                            7765             .IMPORT _PVP_MONALM_B01
25335                            7766             .IMPORT _PVP_MONALM_B02
25336                            7767             .IMPORT _PVP_MONALM_B03
25337                            7768             .IMPORT _PVP_MONALM_B04
25338                            7769             .IMPORT _PVP_MONALM_B05
25339                            7770             .IMPORT _PVP_MONALM_B06
25340                            7771             .IMPORT _PVP_MONALM_B07
25341                            7772             .IMPORT _PVP_MONALM_B08
25342                            7773     
25343                            7774             .IMPORT _PVP_MONALM_P01
25344                            7775             .IMPORT _PVP_MONALM_P02
25345                            7776             .IMPORT _PVP_MONALM_P03
25346                            7777             .IMPORT _PVP_MONALM_P04
25347                            7778     
25348                            7779     ;       ***********************************
25349                            7780     ;       ***     NO.15 ERR情報           ***
25350                            7781     ;       ***********************************
25351                            7782     ;;;;;;;;;;;;;;;;;;;
25352                            7783     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI
25353                            7784     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI2
25354                            7785     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
25355                            7786     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI:
25356                            7787     ;;;;;;;;;;;;;;;;;;;     SUB_START
25357                            7788     ;;;;;;;;;;;;;;;;;;;
25358                            7789     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
25359                            7790     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_INF1,W         ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
25360                            7791     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222
25361                            7792     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_RETRY_CNT1,W        ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗
25362                            7793     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_RETRY_CNT1,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ
25363                            7794     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_RETRY_CNT1,W        ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;二重回路のﾘﾄﾗｲ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   347
PROGRAM NAME =

25364                            7795     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT1,L           ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;ﾘｾｯﾄｺﾏﾝﾄﾞ MISS
25365                            7796     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT2,L           ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;-500ﾊﾟﾙｽ
25366                            7797     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT3,L           ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;+500ﾊﾟﾙｽ
25367                            7798     ;;;;;;;;;;;;;;;;;;;
25368                            7799     ;;;;;;;;;;;;;;;;;;;
25369                            7800     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
25370                            7801     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSRD_NG_CNT1,W            ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3       ;
25371                            7802     ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
25372                            7803     ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02         ,L1=W,DT_REG=R0,WK
                                          REG1=R1 ;
25373                            7804     ;;;;;;;;;;;;;;;;;;;
25374                            7805     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT2,L           ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗　TOTAL
25375                            7806     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT1,L           ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ失敗 TOTAL
25376                            7807     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_NG_CNT1,W           ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;二重回路 TOTAL
25377                            7808     ;;;;;;;;;;;;;;;;;;;
25378                            7809     ;;;;;;;;;;;;;;;;;;;
25379                            7810     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_AC_CNT1,L           ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;起動正常回数
25380                            7811     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT2,L           ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;残り演算正常回数
25381                            7812     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_AC_CNT1,W           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;回路正常回数
25382                            7813     ;;;;;;;;;;;;;;;;;;;;;   MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT1,L           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;(NO/USE)
25383                            7814     ;;;;;;;;;;;;;;;;;;;
25384                            7815     ;;;;;;;;;;;;;;;;;;;
25385                            7816     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
25386                            7817     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_LNGH_ADD_SR,L              ,_PVP_MONALM_C01,L
                                          ,R1,R2,R3;
25387                            7818     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_LNGH_ADD_SR,L              ,_PVP_MONALM_C02,L
                                          ,R1,R2,R3;
25388                            7819     ;;;;;;;;;;;;;;;;;;;
25389                            7820     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_SR,L              ,_PVP_MONALM_C03,L
                                          ,R1,R2,R3;
25390                            7821     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_SR,L              ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
25391                            7822     ;;;;;;;;;;;;;;;;;;;
25392                            7823     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_RL,L              ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
25393                            7824     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_RL,L              ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
25394                            7825     ;;;;;;;;;;;;;;;;;;;
25395                            7826     ;;;;;;;;;;;;;;;;;;;
25396                            7827     ;;;;;;;;;;;;;;;;;;;;040304
25397                            7828     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POS_RL,L          ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,ABS
25398                            7829     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POSMAX,L          ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,+側だけ
25399                            7830     ;;;;;;;;;;;;;;;;;;;
25400                            7831     ;;;;;;;;;;;;;;;;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   348
PROGRAM NAME =

25401                            7832     ;;;;;;;;;;;;;;;;;;;
25402                            7833     ;;;;;;;;;;;;;;;;;;;     SUB_END
25403                            7834     ;;;;;;;;;;;;;;;;;;;     M_RTS
25404                            7835     
25405                            7836     ;;;;;;;;;;;;;;;;;;;;    ***********************************
25406                            7837     ;;;;;;;;;;;;;;;;;;;;    ***     NO.16 ERR情報           ***
25407                            7838     ;;;;;;;;;;;;;;;;;;;;    ***********************************
25408                            7839     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
25409                            7840     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI2:
25410                            7841     ;;;;;;;;;;;;;;;;;;;     SUB_START
25411                            7842     ;;;;;;;;;;;;;;;;;;;
25412                            7843     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R1         ;
25413                            7844     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   @R1,R0                                          ;
25414                            7845     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_POS_CTRL_WORD_DAT,R1                          ;
25415                            7846     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   R0,@R1                                          ;
25416                            7847     ;;;;;;;;;;;;;;;;;;;
25417                            7848     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
25418                            7849     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
25419                            7850     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF2,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222(詳細)
25420                            7851     ;;;;;;;;;;;;;;;;;;;
25421                            7852     ;;;;;;;;;;;;;;;;;;;;;;  MEM_MOV_TO_MEM  _POS_CTRL_WORD_DAT,W            ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
25422                            7853     ;;;;;;;;;;;;;;;;;;;
25423                            7854     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_ACC_TOTAL_NG_CNT,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
25424                            7855     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_BAS_TOTAL_NG_CNT,W        ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
25425                            7856     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_TOP_TOTAL_NG_CNT,W        ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
25426                            7857     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_NOW_TOTAL_NG_CNT,W        ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
25427                            7858     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_LAT_TOTAL_NG_CNT,W        ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
25428                            7859     ;;;;;;;;;;;;;;;;;;;
25429                            7860     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
25430                            7861     ;;;;;;;;;;;;;;;;;;;
25431                            7862     ;;;;;;;;;;;;;;;;;;;
25432                            7863     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_ACCS,W                ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
25433                            7864     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_ACCS,W                ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
25434                            7865     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_LATE,W                ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
25435                            7866     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_LATE,W                ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
25436                            7867     ;;;;;;;;;;;;;;;;;;;
25437                            7868     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
25438                            7869     ;;;;;;;;;;;;;;;;;;;
25439                            7870     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_BAS_FRQ_SV,L               ,_PVP_MONALM_C01,L
                                          ,R1,R2,R3;
25440                            7871     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_BAS_FRQ_SV,L               ,_PVP_MONALM_C02,L
                                          ,R1,R2,R3;
25441                            7872     ;;;;;;;;;;;;;;;;;;;
25442                            7873     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_TOP_FRQ_SV,L               ,_PVP_MONALM_C03,L
                                          ,R1,R2,R3;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   349
PROGRAM NAME =

25443                            7874     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_TOP_FRQ_SV,L               ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
25444                            7875     ;;;;;;;;;;;;;;;;;;;
25445                            7876     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_FRQ_PV,L               ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
25446                            7877     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_FRQ_PV,L               ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
25447                            7878     ;;;;;;;;;;;;;;;;;;;
25448                            7879     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_SV_SPD,L                  ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3;設定周波数(MEM)
25449                            7880     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_PLSI_MAX_FRQ,L            ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3;最大周波数
25450                            7881     ;;;;;;;;;;;;;;;;;;;
25451                            7882     ;;;;;;;;;;;;;;;;;;;
25452                            7883     ;;;;;;;;;;;;;;;;;;;
25453                            7884     ;;;;;;;;;;;;;;;;;;;     SUB_END
25454                            7885     ;;;;;;;;;;;;;;;;;;;     M_RTS
25455                            7886     ;;;;;;;;;;;;;;;;;;;
25456                            7887     ;;;;;;;;;;;;;;;;;;;
25457                            7888     ;;;;;;;;;;;;;;;;;;;
25458                            7889     ;       ***********************************
25459                            7890     ;       ***                             ***
25460                            7891     ;       ***     調査機能                ***
25461                            7892     ;       ***                             ***
25462                            7893     ;       ***********************************
25463                            7894     ;
25464                            7895     ;       === 2004-03-04===
25465                            7896     ;       EMG,EXQ
25466 000052F4                   7897             .ALIGN  4                               ;
25467 000052F4                   7898     _LSI_REST_PLS_CHK_STOP_CLR:
25468                            7899             SUB_START
25469 000052F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
25470                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25471                            7900     
25472                            7901     
25473 000052F6 200A              7902             XOR     R0,R0
25474                            7903             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
25475 000052F8 D107                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
25476 000052FA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25477                            7904     
25478                            7905             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
25479 000052FC D107                   M           MOV.L   #_SH4_LOT_CNT_A,R1      ;DST_ADR
25480 000052FE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25481                            7906             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
25482 00005300 D107                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;DST_ADR
25483 00005302 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25484                            7907             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
25485 00005304 D107                   M           MOV.L   #_SH4_REST_SR_HF,R1     ;DST_ADR
25486 00005306 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25487                            7908             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
25488 00005308 D107                   M           MOV.L   #_SH4_REST_RL_HF,R1     ;DST_ADR
25489 0000530A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25490                            7909     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   350
PROGRAM NAME =

25491                            7910             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
25492 0000530C D107                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
25493 0000530E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25494                            7911     
25495                            7912             SUB_END
25496                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25497 00005310 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25498                            7913             M_RTS
25499 00005312 000B                   M           RTS                             ;RTSの後ろの
25500 00005314 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25501                            7914     
25502                            7915     ;       === 2004-03-04===
25503                                     ***** BEGIN-POOL *****
25504 00005316 0000                       ALIGNMENT CODE
25505 00005318 00000000                   DATA FOR SOURCE-LINE 7903
25506 0000531C 00000000                   DATA FOR SOURCE-LINE 7905
25507 00005320 00000000                   DATA FOR SOURCE-LINE 7906
25508 00005324 00000000                   DATA FOR SOURCE-LINE 7907
25509 00005328 00000000                   DATA FOR SOURCE-LINE 7908
25510 0000532C 00000000                   DATA FOR SOURCE-LINE 7910
25511                                     ***** END-POOL *****
25512 00005330                   7916             .ALIGN  4                               ;
25513 00005330                   7917     _LSI_REST_PLS_CHK_START_CLR:
25514                            7918             SUB_START
25515 00005330 4F22                   M           STS.L   PR,@-R15                ;[必要]
25516                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25517                            7919     
25518 00005332 200A              7920             XOR     R0,R0
25519                            7921             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_AC_CNT1     ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          回路正常回数
25520 00005334 D12F                   M           MOV.L   #_LSI_PLSCMP_AC_CNT1,R1 ;DST_ADR
25521 00005336 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25522                            7922             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSSET_AC_CNT2     ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残り演算正常回数
25523 00005338 D12F                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1 ;DST_ADR
25524 0000533A 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25525                            7923     
25526                            7924             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POS_RL    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差,+/-
25527 0000533C D12F                   M           MOV.L   #_LSI_CMPCPUAB_POS_RL,R1        ;DST_ADR
25528 0000533E 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25529                            7925             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POSMAX    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差 MAX
25530 00005340 D12F                   M           MOV.L   #_LSI_CMPCPUAB_POSMAX,R1        ;DST_ADR
25531 00005342 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25532                            7926     
25533                            7927     ;       ==== 上は表示を見やすくするため１サイクルデータにする====
25534                            7928     
25535 00005344 200A              7929             XOR     R0,R0
25536                            7930             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
25537 00005346 D12F                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
25538 00005348 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25539                            7931     
25540 0000534A 200A              7932             XOR     R0,R0
25541                            7933             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   351
PROGRAM NAME =

25542 0000534C D12E                   M           MOV.L   #_SH4_LOT_CNT_A,R1      ;DST_ADR
25543 0000534E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25544                            7934             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
25545 00005350 D12E                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;DST_ADR
25546 00005352 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25547                            7935             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
25548 00005354 D12E                   M           MOV.L   #_SH4_REST_SR_HF,R1     ;DST_ADR
25549 00005356 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25550                            7936             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
25551 00005358 D12E                   M           MOV.L   #_SH4_REST_RL_HF,R1     ;DST_ADR
25552 0000535A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25553                            7937     
25554                            7938             REG_MOV_TO_MEM  DST_ADR=_SH4_LNGH_ADD_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時移動量
25555 0000535C D12E                   M           MOV.L   #_SH4_LNGH_ADD_SR,R1    ;DST_ADR
25556 0000535E 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25557                            7939             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_PLS_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時残ﾊﾟﾙｽ
25558 00005360 D12E                   M           MOV.L   #_SH4_REST_PLS_SR,R1    ;DST_ADR
25559 00005362 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25560                            7940             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_PLS_RL        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 REAL-TIME残ﾊﾟﾙｽ
25561 00005364 D12E                   M           MOV.L   #_SH4_REST_PLS_RL,R1    ;DST_ADR
25562 00005366 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25563                            7941     
25564 00005368 200A              7942             XOR     R0,R0
25565                            7943             REG_MOV_TO_MEM  DST_ADR=_CMP2_BAS_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25566 0000536A D12E                   M           MOV.L   #_CMP2_BAS_NG_CNT,R1    ;DST_ADR
25567 0000536C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25568                            7944             REG_MOV_TO_MEM  DST_ADR=_CMP2_TOP_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25569 0000536E D12E                   M           MOV.L   #_CMP2_TOP_NG_CNT,R1    ;DST_ADR
25570 00005370 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25571                            7945             REG_MOV_TO_MEM  DST_ADR=_CMP2_LAT_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25572 00005372 D12E                   M           MOV.L   #_CMP2_LAT_NG_CNT,R1    ;DST_ADR
25573 00005374 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25574                            7946             REG_MOV_TO_MEM  DST_ADR=_CMP2_ACC_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25575 00005376 D12E                   M           MOV.L   #_CMP2_ACC_NG_CNT,R1    ;DST_ADR
25576 00005378 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25577                            7947             REG_MOV_TO_MEM  DST_ADR=_CMP2_NOW_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25578 0000537A D12E                   M           MOV.L   #_CMP2_NOW_NG_CNT,R1    ;DST_ADR
25579 0000537C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25580                            7948     
25581                            7949     
25582                            7950             FAR_JSR #_CNT_REST_CHK_CLR,R0           ;
25583 0000537E D02E                   M           MOV.L   #_CNT_REST_CHK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25584 00005380 400B                   M           JSR     @R0                     ;
25585 00005382 0009                   M           NOP                                     ;
25586                            7951     
25587                            7952     ;       ======= 連続のチェック ======
25588 00005384 200A              7953             XOR     R0,R0
25589                            7954             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25590 00005386 D12D                   M           MOV.L   #_SH4_STEP1_SV_PLS,R1   ;DST_ADR
25591 00005388 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25592                            7955             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   352
PROGRAM NAME =

25593 0000538A D12D                   M           MOV.L   #_SH4_STEP2_SV_PLS,R1   ;DST_ADR
25594 0000538C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25595                            7956             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25596 0000538E D12D                   M           MOV.L   #_SH4_STEP3_SV_PLS,R1   ;DST_ADR
25597 00005390 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25598                            7957             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25599 00005392 D12D                   M           MOV.L   #_SH4_STEP4_SV_PLS,R1   ;DST_ADR
25600 00005394 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25601                            7958             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25602 00005396 D12D                   M           MOV.L   #_SH4_STEP5_SV_PLS,R1   ;DST_ADR
25603 00005398 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25604                            7959             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          1->2の演算前の残り)
25605 0000539A D12D                   M           MOV.L   #_SH4_STEP1_REST_P,R1   ;DST_ADR
25606 0000539C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25607                            7960             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          2->3)
25608 0000539E D12D                   M           MOV.L   #_SH4_STEP2_REST_P,R1   ;DST_ADR
25609 000053A0 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25610                            7961             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
25611 000053A2 D12D                   M           MOV.L   #_SH4_STEP3_REST_P,R1   ;DST_ADR
25612 000053A4 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25613                            7962             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
25614 000053A6 D12D                   M           MOV.L   #_SH4_STEP4_REST_P,R1   ;DST_ADR
25615 000053A8 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25616                            7963             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
25617 000053AA D12D                   M           MOV.L   #_SH4_STEP5_REST_P,R1   ;DST_ADR
25618 000053AC 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25619                            7964             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25620 000053AE D12D                   M           MOV.L   #_SH4_STEP1_PV_PLS,R1   ;DST_ADR
25621 000053B0 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25622                            7965             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25623 000053B2 D12D                   M           MOV.L   #_SH4_STEP2_PV_PLS,R1   ;DST_ADR
25624 000053B4 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25625                            7966             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25626 000053B6 D12D                   M           MOV.L   #_SH4_STEP3_PV_PLS,R1   ;DST_ADR
25627 000053B8 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25628                            7967             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25629 000053BA D12D                   M           MOV.L   #_SH4_STEP4_PV_PLS,R1   ;DST_ADR
25630 000053BC 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25631                            7968             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25632 000053BE D12D                   M           MOV.L   #_SH4_STEP5_PV_PLS,R1   ;DST_ADR
25633 000053C0 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25634                            7969             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25635 000053C2 D12D                   M           MOV.L   #_SH4_STEP1_FRQ,R1      ;DST_ADR
25636 000053C4 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25637                            7970             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25638 000053C6 D12D                   M           MOV.L   #_SH4_STEP2_FRQ,R1      ;DST_ADR
25639 000053C8 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25640                            7971             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25641 000053CA D12D                   M           MOV.L   #_SH4_STEP3_FRQ,R1      ;DST_ADR
25642 000053CC 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25643                            7972             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25644 000053CE D12D                   M           MOV.L   #_SH4_STEP4_FRQ,R1      ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   353
PROGRAM NAME =

25645 000053D0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25646                            7973             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25647 000053D2 D12D                   M           MOV.L   #_SH4_STEP5_FRQ,R1      ;DST_ADR
25648 000053D4 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25649                            7974             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25650 000053D6 D12D                   M           MOV.L   #_SH4_STEP1_TIM,R1      ;DST_ADR
25651 000053D8 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25652                            7975             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25653 000053DA D12D                   M           MOV.L   #_SH4_STEP2_TIM,R1      ;DST_ADR
25654 000053DC 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25655                            7976             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25656 000053DE D12D                   M           MOV.L   #_SH4_STEP3_TIM,R1      ;DST_ADR
25657 000053E0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25658                            7977             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25659 000053E2 D12D                   M           MOV.L   #_SH4_STEP4_TIM,R1      ;DST_ADR
25660 000053E4 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25661                            7978             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25662 000053E6 D12D                   M           MOV.L   #_SH4_STEP5_TIM,R1      ;DST_ADR
25663 000053E8 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25664                            7979     
25665                            7980             REG_MOV_TO_MEM  DST_ADR=_CNT_GRF_POINT          ,L1=W,DT_REG=R0,WKREG1=R1       ;
25666 000053EA D12D                   M           MOV.L   #_CNT_GRF_POINT,R1      ;DST_ADR
25667 000053EC 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25668                            7981     
25669                            7982             SUB_END
25670                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25671 000053EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25672                            7983             M_RTS
25673 000053F0 000B                   M           RTS                             ;RTSの後ろの
25674 000053F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25675                            7984     
25676                            7985     ;       ***************************************************
25677                            7986     ;       ***                                             ***
25678                            7987     ;       ***             連続残りﾊﾟﾙｽ修正                ***
25679                            7988     ;       ***                                             ***
25680                            7989     ;       ***************************************************
25681                                     ***** BEGIN-POOL *****
25682 000053F4 00000000                   DATA FOR SOURCE-LINE 7921
25683 000053F8 00000000                   DATA FOR SOURCE-LINE 7922
25684 000053FC 00000000                   DATA FOR SOURCE-LINE 7924
25685 00005400 00000000                   DATA FOR SOURCE-LINE 7925
25686 00005404 00000000                   DATA FOR SOURCE-LINE 7930
25687 00005408 00000000                   DATA FOR SOURCE-LINE 7933
25688 0000540C 00000000                   DATA FOR SOURCE-LINE 7934
25689 00005410 00000000                   DATA FOR SOURCE-LINE 7935
25690 00005414 00000000                   DATA FOR SOURCE-LINE 7936
25691 00005418 00000000                   DATA FOR SOURCE-LINE 7938
25692 0000541C 00000000                   DATA FOR SOURCE-LINE 7939
25693 00005420 00000000                   DATA FOR SOURCE-LINE 7940
25694 00005424 00000000                   DATA FOR SOURCE-LINE 7943
25695 00005428 00000000                   DATA FOR SOURCE-LINE 7944
25696 0000542C 00000000                   DATA FOR SOURCE-LINE 7945
25697 00005430 00000000                   DATA FOR SOURCE-LINE 7946
25698 00005434 00000000                   DATA FOR SOURCE-LINE 7947
25699 00005438 00000000                   DATA FOR SOURCE-LINE 7950
25700 0000543C 00000000                   DATA FOR SOURCE-LINE 7954
25701 00005440 00000000                   DATA FOR SOURCE-LINE 7955
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   354
PROGRAM NAME =

25702 00005444 00000000                   DATA FOR SOURCE-LINE 7956
25703 00005448 00000000                   DATA FOR SOURCE-LINE 7957
25704 0000544C 00000000                   DATA FOR SOURCE-LINE 7958
25705 00005450 00000000                   DATA FOR SOURCE-LINE 7959
25706 00005454 00000000                   DATA FOR SOURCE-LINE 7960
25707 00005458 00000000                   DATA FOR SOURCE-LINE 7961
25708 0000545C 00000000                   DATA FOR SOURCE-LINE 7962
25709 00005460 00000000                   DATA FOR SOURCE-LINE 7963
25710 00005464 00000000                   DATA FOR SOURCE-LINE 7964
25711 00005468 00000000                   DATA FOR SOURCE-LINE 7965
25712 0000546C 00000000                   DATA FOR SOURCE-LINE 7966
25713 00005470 00000000                   DATA FOR SOURCE-LINE 7967
25714 00005474 00000000                   DATA FOR SOURCE-LINE 7968
25715 00005478 00000000                   DATA FOR SOURCE-LINE 7969
25716 0000547C 00000000                   DATA FOR SOURCE-LINE 7970
25717 00005480 00000000                   DATA FOR SOURCE-LINE 7971
25718 00005484 00000000                   DATA FOR SOURCE-LINE 7972
25719 00005488 00000000                   DATA FOR SOURCE-LINE 7973
25720 0000548C 00000000                   DATA FOR SOURCE-LINE 7974
25721 00005490 00000000                   DATA FOR SOURCE-LINE 7975
25722 00005494 00000000                   DATA FOR SOURCE-LINE 7976
25723 00005498 00000000                   DATA FOR SOURCE-LINE 7977
25724 0000549C 00000000                   DATA FOR SOURCE-LINE 7978
25725 000054A0 00000000                   DATA FOR SOURCE-LINE 7980
25726                                     ***** END-POOL *****
25727 000054A4                   7990             .ALIGN  4                               ;
25728 000054A4                   7991     _CNT_REST_CHK_CLR:
25729                            7992             SUB_START
25730 000054A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
25731                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25732 000054A6 200A              7993             XOR     R0,R0
25733                            7994             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
25734 000054A8 D10C                   M           MOV.L   #_SH4_CNT_REST_PLS,R1   ;DST_ADR
25735 000054AA 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25736                            7995             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25737 000054AC D10C                   M           MOV.L   #_SH4_CNT_REST_HF,R1    ;DST_ADR
25738 000054AE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25739                            7996     
25740                            7997             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT1      ,L1=L,DT_REG=R0,WKREG1=R1       ;
25741 000054B0 D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT1,R1  ;DST_ADR
25742 000054B2 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25743                            7998             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT2      ,L1=L,DT_REG=R0,WKREG1=R1       ;
25744 000054B4 D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT2,R1  ;DST_ADR
25745 000054B6 2102                   M           MOV.L   R0,@R1  ;DST_ADR
25746                            7999             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
25747 000054B8 D10C                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
25748 000054BA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25749                            8000             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_CHK_CNT2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
25750 000054BC D10C                   M           MOV.L   #_CNT_SYNC_CHK_CNT2,R1  ;DST_ADR
25751 000054BE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25752                            8001     
25753                            8002             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_STS_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
25754 000054C0 D10C                   M           MOV.L   #_CNT_SYNC_STS_FLG,R1   ;DST_ADR
25755 000054C2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25756                            8003             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_ERR_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
25757 000054C4 D10C                   M           MOV.L   #_CNT_SYNC_ERR_FLG,R1   ;DST_ADR
25758 000054C6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   355
PROGRAM NAME =

25759                            8004             REG_MOV_TO_MEM  DST_ADR=_CNT_PLSOUT_STOP_CNT    ,L1=W,DT_REG=R0,WKREG1=R1       ;
25760 000054C8 D10C                   M           MOV.L   #_CNT_PLSOUT_STOP_CNT,R1        ;DST_ADR
25761 000054CA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25762                            8005             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_CNT1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
25763 000054CC D10C                   M           MOV.L   #_CNT_SYNC_HOS_CNT1,R1  ;DST_ADR
25764 000054CE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25765                            8006             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
25766 000054D0 D10C                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
25767 000054D2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25768                            8007     
25769                            8008     
25770                            8009     
25771                            8010             SUB_END
25772                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25773 000054D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25774                            8011             M_RTS
25775 000054D6 000B                   M           RTS                             ;RTSの後ろの
25776 000054D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25777                            8012     
25778                            8013     
25779                            8014     
25780                            8015     
25781                            8016             .EXPORT _EXQ_STOP_LEV_POS_CLR           ;
25782                                     ***** BEGIN-POOL *****
25783 000054DA 0000                       ALIGNMENT CODE
25784 000054DC 00000000                   DATA FOR SOURCE-LINE 7994
25785 000054E0 00000000                   DATA FOR SOURCE-LINE 7995
25786 000054E4 00000000                   DATA FOR SOURCE-LINE 7997
25787 000054E8 00000000                   DATA FOR SOURCE-LINE 7998
25788 000054EC 00000000                   DATA FOR SOURCE-LINE 7999
25789 000054F0 00000000                   DATA FOR SOURCE-LINE 8000
25790 000054F4 00000000                   DATA FOR SOURCE-LINE 8002
25791 000054F8 00000000                   DATA FOR SOURCE-LINE 8003
25792 000054FC 00000000                   DATA FOR SOURCE-LINE 8004
25793 00005500 00000000                   DATA FOR SOURCE-LINE 8005
25794 00005504 00000000                   DATA FOR SOURCE-LINE 8006
25795                                     ***** END-POOL *****
25796 00005508                   8017             .ALIGN  4                               ;
25797 00005508                   8018     _EXQ_STOP_LEV_POS_CLR:
25798                            8019             SUB_START
25799 00005508 4F22                   M           STS.L   PR,@-R15                ;[必要]
25800                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25801 0000550A 200A              8020             XOR     R0,R0
25802                            8021             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
25803 0000550C D104                   M           MOV.L   #_SH4_CNT_REST_HF,R1    ;DST_ADR
25804 0000550E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25805                            8022             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
25806 00005510 D104                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
25807 00005512 2101                   M           MOV.W   R0,@R1  ;DST_ADR
25808                            8023     
25809                            8024     ;       ===== 2005-04-14-E(4/18) ===
25810                            8025             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
25811 00005514 D004                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25812 00005516 400B                   M           JSR     @R0                     ;
25813 00005518 0009                   M           NOP                                     ;
25814                            8026     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   356
PROGRAM NAME =

25815                            8027             SUB_END
25816                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25817 0000551A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25818                            8028             M_RTS
25819 0000551C 000B                   M           RTS                             ;RTSの後ろの
25820 0000551E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25821                            8029     
25822                            8030     ;       ***********************************
25823                            8031     ;       ***                             ***
25824                            8032     ;       ***     連続時の補正ﾃﾞｰﾀ        ***
25825                            8033     ;       ***     (CPU-Bのみ)             ***
25826                            8034     ;       ***********************************
25827                                     ***** BEGIN-POOL *****
25828 00005520 00000000                   DATA FOR SOURCE-LINE 8021
25829 00005524 00000000                   DATA FOR SOURCE-LINE 8022
25830 00005528 00000000                   DATA FOR SOURCE-LINE 8025
25831                                     ***** END-POOL *****
25832 0000552C                   8035             .ALIGN  4                               ;
25833 0000552C                   8036     _CNT_HOS_DT_MAK:
25834                            8037             SUB_START
25835 0000552C 4F22                   M           STS.L   PR,@-R15                ;[必要]
25836                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25837                            8038     ;       CCSのみCALL
25838                            8039             SUB_END
25839                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25840 0000552E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25841                            8040             M_RTS
25842 00005530 000B                   M           RTS                             ;RTSの後ろの
25843 00005532 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25844                            8041     
25845                            8042     
25846                            8043     ;       ***************************
25847                            8044     ;       ***     修正機能        ***
25848                            8045     ;       ***************************
25849 00005534                   8046             .ALIGN  4                               ;
25850 00005534                   8047     _CNT_SYNC_HOS_CALC
25851                            8048             SUB_START
25852 00005534 4F22                   M           STS.L   PR,@-R15                ;[必要]
25853                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25854                            8049     ;       CCSのみCALL
25855                            8050             SUB_END
25856                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25857 00005536 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25858                            8051             M_RTS
25859 00005538 000B                   M           RTS                             ;RTSの後ろの
25860 0000553A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25861                            8052     
25862                            8053     
25863                            8054     
25864                            8055     
25865                            8056     ;       ***************************************************
25866                            8057     ;       ***                                             ***
25867                            8058     ;       ***     回転・連続・ALLVﾓｰﾄﾞ時の減速補正        ***
25868                            8059     ;       ***                                             ***
25869                            8060     ;       ***************************************************
25870                            8061     
25871                            8062     ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   357
PROGRAM NAME =

25872                            8063     ;       ***     急停止・異常時                          ***
25873                            8064     ;       ***************************************************
25874                            8065             .EXPORT _GPOSIN_HOS_RESET
25875 0000553C                   8066             .ALIGN  4                               ;
25876 0000553C                   8067     _GPOSIN_HOS_RESET:
25877                            8068             SUB_START
25878 0000553C 4F22                   M           STS.L   PR,@-R15                ;[必要]
25879                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25880                            8069             SUB_END
25881                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25882 0000553E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25883                            8070             M_RTS
25884 00005540 000B                   M           RTS                             ;RTSの後ろの
25885 00005542 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25886                            8071     
25887                            8072     ;       ***************************************************
25888                            8073     ;       ***     運転開始時                              ***
25889                            8074     ;       ***************************************************
25890 00005544                   8075             .ALIGN  4                               ;
25891 00005544                   8076     _GPOSIN_HOS_DRV_INI:
25892                            8077             SUB_START
25893 00005544 4F22                   M           STS.L   PR,@-R15                ;[必要]
25894                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25895                            8078             SUB_END
25896                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25897 00005546 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25898                            8079             M_RTS
25899 00005548 000B                   M           RTS                             ;RTSの後ろの
25900 0000554A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25901                            8080     
25902                            8081     
25903                            8082     ;       ***********************************
25904                            8083     ;       ***     演算                    ***
25905                            8084     ;       ***********************************
25906                            8085     ;       (1)減速距離+5を基準値とする
25907                            8086     ;       (2)+1/-1以内になるまで補正する
25908                            8087     ;       (3)記憶値から100ﾊﾟﾙｽ以上離れたら再度記憶しなおす
25909 0000554C                   8088             .ALIGN  4                               ;
25910 0000554C                   8089     _GPOINT_HOS_CALC:
25911                            8090             SUB_START
25912 0000554C 4F22                   M           STS.L   PR,@-R15                ;[必要]
25913                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25914                            8091             SUB_END
25915                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25916 0000554E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25917                            8092             M_RTS
25918 00005550 000B                   M           RTS                             ;RTSの後ろの
25919 00005552 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25920                            8093     
25921                            8094     
25922                            8095     
25923                            8096     
25924                            8097     
25925                            8098     
25926                            8099             .EXPORT _DEBUG_SIGNAL_OFF
25927 00005554                   8100             .ALIGN  4                               ;
25928 00005554                   8101     _DEBUG_SIGNAL_OFF:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   358
PROGRAM NAME =

25929                            8102             SUB_START
25930 00005554 4F22                   M           STS.L   PR,@-R15                ;[必要]
25931                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25932                            8103             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT2                ;VERIFAY ERR(OFFない)
25933                                 M   
25934                                 M           .AIF    0 EQ    0
25935                                 C   ;;      (波形測定時)
25936                                 C           PUSH_REG1 R0
25937 00005556 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25938                                 M                                           ;REG=>[SP]
25939                                 M                                           ;"-4" FF,FF,FF,FC
25940                                 C           PUSH_REG1 R1
25941 00005558 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25942                                 M                                           ;REG=>[SP]
25943                                 M                                           ;"-4" FF,FF,FF,FC
25944                                 C           PUSH_REG1 R2
25945 0000555A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25946                                 M                                           ;REG=>[SP]
25947                                 M                                           ;"-4" FF,FF,FF,FC
25948 0000555C D10B                   C           MOV.L   #_PDTRA,R1                      ;
25949 0000555E 6011                   C           MOV.W   @R1,R0                          ;
25950 00005560 9212                   C           MOV.W   #LWORD ~BIT2,R2         ;
25951 00005562 2029                   C           AND     R2,R0                           ;
25952 00005564 2101                   C           MOV.W   R0,@R1                          ;
25953                                 C           POP_REG1 R2
25954                                 M                                   ; RE"+4" 00,00,00,04
25955 00005566 62F6                   M           MOV.L   @R15+,R2        ;
25956                                 C           POP_REG1 R1
25957                                 M                                   ; RE"+4" 00,00,00,04
25958 00005568 61F6                   M           MOV.L   @R15+,R1        ;
25959                                 C           POP_REG1 R0
25960                                 M                                   ; RE"+4" 00,00,00,04
25961 0000556A 60F6                   M           MOV.L   @R15+,R0        ;
25962                                 M           .AENDI
25963                                 M   
25964                            8104             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT6                ;RETRY ERR
25965                                 M   
25966                                 M           .AIF    0 EQ    0
25967                                 C   ;;      (波形測定時)
25968                                 C           PUSH_REG1 R0
25969 0000556C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25970                                 M                                           ;REG=>[SP]
25971                                 M                                           ;"-4" FF,FF,FF,FC
25972                                 C           PUSH_REG1 R1
25973 0000556E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25974                                 M                                           ;REG=>[SP]
25975                                 M                                           ;"-4" FF,FF,FF,FC
25976                                 C           PUSH_REG1 R2
25977 00005570 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25978                                 M                                           ;REG=>[SP]
25979                                 M                                           ;"-4" FF,FF,FF,FC
25980 00005572 D106                   C           MOV.L   #_PDTRA,R1                      ;
25981 00005574 6011                   C           MOV.W   @R1,R0                          ;
25982 00005576 9208                   C           MOV.W   #LWORD ~BIT6,R2         ;
25983 00005578 2029                   C           AND     R2,R0                           ;
25984 0000557A 2101                   C           MOV.W   R0,@R1                          ;
25985                                 C           POP_REG1 R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   359
PROGRAM NAME =

25986                                 M                                   ; RE"+4" 00,00,00,04
25987 0000557C 62F6                   M           MOV.L   @R15+,R2        ;
25988                                 C           POP_REG1 R1
25989                                 M                                   ; RE"+4" 00,00,00,04
25990 0000557E 61F6                   M           MOV.L   @R15+,R1        ;
25991                                 C           POP_REG1 R0
25992                                 M                                   ; RE"+4" 00,00,00,04
25993 00005580 60F6                   M           MOV.L   @R15+,R0        ;
25994                                 M           .AENDI
25995                                 M   
25996                            8105             SUB_END
25997                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25998 00005582 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25999                            8106             M_RTS
26000 00005584 000B                   M           RTS                             ;RTSの後ろの
26001 00005586 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26002                            8107     
26003                            8108     ;       ***************************************************************************
26004                            8109     ;       ***                                                                     ***
26005                            8110     ;       ***     工程を自分が切り替えた時点の自分のデータと相手のデータを収集    ***
26006                            8111     ;       ***     モニタ専用                                                      ***
26007                            8112     ;       ***************************************************************************
26008                                     ***** BEGIN-POOL *****
26009 00005588 FFFB                       DATA FOR SOURCE-LINE 8103
26010 0000558A FFBF                       DATA FOR SOURCE-LINE 8104
26011 0000558C 00000000                   DATA FOR SOURCE-LINE 8103,8104
26012                                     ***** END-POOL *****
26013          000000C8          8113     _CNT_GRF_MAX            .EQU    200     ;MAX 500
26014                            8114     
26015          00000040          8115     _CNT_GRF_1BLOCK         .EQU    64              ;64byte
26016          00000000          8116     _CGRF_iSTEP_SV_PLS              .EQU    0
26017          00000004          8117     _CGRF_iSTEP_PV_PLS              .EQU    4
26018          00000008          8118     _CGRF_iSTEP_REST                .EQU    8
26019          0000000C          8119     _CGRF_iTOTAL_PLS                .EQU    12
26020          00000010          8120     _CGRF_iADD_PLS                  .EQU    16
26021          00000014          8121     _CGRF_GENSOK_LNG1               .EQU    20
26022          00000018          8122     _CGRF_iSTEP_FRQ                 .EQU    24
26023          0000001A          8123     _CGRF_iSTEP_TIM                 .EQU    26
26024          0000001C          8124     _CGRF_iNOW_STEP                 .EQU    28
26025          0000001E          8125     _CGRF_SYNC_STS                  .EQU    30
26026          00000020          8126     _CGRF_SYNC_ERR                  .EQU    32
26027                            8127     
26028          00000024          8128     _CGRF_ySTEP_SV_PLS              .EQU    36
26029          00000028          8129     _CGRF_ySTEP_PV_PLS              .EQU    40
26030          0000002C          8130     _CGRF_ySTEP_REST                .EQU    44
26031          00000030          8131     _CGRF_yTOTAL_PLS                .EQU    48
26032          00000034          8132     _CGRF_yADD_PLS                  .EQU    52
26033          00000038          8133     _CGRF_ySTEP_FRQ                 .EQU    56
26034          0000003C          8134     _CGRF_ySTEP_TIM                 .EQU    60
26035          0000003E          8135     _CGRF_yNOW_STEP                 .EQU    62
26036                            8136     
26037                            8137     
26038                            8138             .MACRO  MEM_MOV2B_GBR   MEM,GBROFS,WKREG1
26039                            8139             MOV.L   #\MEM,\WKREG1           ;
26040                            8140             MOV.W   @\WKREG1,R0             ;
26041                            8141             MOV.W   R0,@(\GBROFS,GBR)       ;
26042                            8142             .ENDM
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   360
PROGRAM NAME =

26043                            8143     
26044                            8144             .MACRO  MEM_MOV4B_GBR   MEM,GBROFS,WKREG1
26045                            8145             MOV.L   #\MEM,\WKREG1           ;
26046                            8146             MOV.W   @\WKREG1+,R0            ;
26047                            8147             MOV.W   R0,@(\GBROFS,GBR)       ;
26048                            8148             MOV.W   @\WKREG1,R0             ;
26049                            8149             MOV.W   R0,@(\GBROFS+2,GBR)     ;
26050                            8150             .ENDM
26051                            8151     
26052                            8152             .MACRO  GBR_MOV2B_MEM   MEM,GBROFS,WKREG1
26053                            8153             MOV.W   @(\GBROFS,GBR),R0       ;
26054                            8154             MOV.L   #\MEM,\WKREG1           ;
26055                            8155             MOV.W   R0,@\WKREG1             ;
26056                            8156             .ENDM
26057                            8157     
26058                            8158             .MACRO  GBR_MOV4B_MEM   MEM,GBROFS,WKREG1
26059                            8159             MOV.W   @(\GBROFS,GBR),R0       ;
26060                            8160             MOV.L   #\MEM,\WKREG1           ;
26061                            8161             MOV.W   R0,@\WKREG1             ;
26062                            8162             MOV.W   @(\GBROFS+2,GBR),R0     ;
26063                            8163             ADD     #2,\WKREG1              ;
26064                            8164             MOV.W   R0,@\WKREG1             ;
26065                            8165             .ENDM
26066                            8166             .MACRO  GBR_MOV4B_MEM_ALMT      MEM,GBROFS,WKREG1,WKREG2
26067                            8167             MOV.W   @(\GBROFS,GBR),R0       ;
26068                            8168             MOV.W   #H'3FF,\WKREG2          ;
26069                            8169             AND     \WKREG2,R0              ;
26070                            8170     
26071                            8171             MOV.L   #\MEM,\WKREG1           ;
26072                            8172             MOV.W   R0,@\WKREG1             ;
26073                            8173             MOV.W   @(\GBROFS+2,GBR),R0     ;
26074                            8174             ADD     #2,\WKREG1              ;
26075                            8175             MOV.W   R0,@\WKREG1             ;
26076                            8176             .ENDM
26077                            8177     
26078                            8178     ;       ===== EMG にも呼ばれる======
26079                            8179             .EXPORT _DATA_GRF_CNT_DATA_MAKE
26080 00005590                   8180             .ALIGN  4                               ;
26081 00005590                   8181     _DATA_GRF_CNT_DATA_MAKE:
26082                            8182             SUB_START
26083 00005590 4F22                   M           STS.L   PR,@-R15                ;[必要]
26084                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26085                            8183             SUB_END
26086                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26087 00005592 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26088                            8184             M_RTS
26089 00005594 000B                   M           RTS                             ;RTSの後ろの
26090 00005596 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26091                            8185     
26092                            8186     
26093                            8187             .INCLUDE "ssa_disp.inc"         ;ﾃﾞﾊﾞｯｸﾓﾆﾀ
26094                               1 I1  ;       *******************************************
26095                               2 I1  ;       ***                                     ***
26096                               3 I1  ;       ***                                     ***
26097                               4 I1  ;       ***                                     ***
26098                               5 I1  ;       ***                                     ***
26099                               6 I1  ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   361
PROGRAM NAME =

26100                               7 I1  ;       ***                                     ***
26101                               8 I1  ;       *******************************************
26102                               9 I1  ;       debug-monitor
26103                              10 I1  ;       ***********************************
26104                              11 I1  ;       ***     表示機能                ***
26105                              12 I1  ;       ***********************************
26106                              13 I1          .EXPORT _MONI_CNT_NOW_INFO_DISP         ;17
26107                              14 I1          .EXPORT _MONI_CNT_HIST_INFO_DISP        ;18
26108                              15 I1  ;       ***********************************
26109                              16 I1  ;       ***     現在値モニタ            ***
26110                              17 I1  ;       ***********************************
26111                              18 I1  ;       ***********************************
26112                              19 I1  ;       ***     NO.17                   ***
26113                              20 I1  ;       ***********************************
26114                              21 I1  
26115                              22 I1  ;       Inout R2 S02 (頁)
26116                              23 I1  ;       Input R3 S03 (詳細)
26117                              24 I1  ;
26118 00005598                     25 I1  _MONI_CNT_NOW_INFO_DISP
26119                              26 I1          SUB_START
26120 00005598 4F22                   M           STS.L   PR,@-R15                ;[必要]
26121                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26122                              27 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R3,R0                           ;
26123                              28 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #00,R0                          ;
26124                              29 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_010       ;
26125                              30 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP1,R0     ;17-00
26126                              31 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
26127                              32 I1  ;;;;;;;;;;;;;;;;;;;
26128                              33 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_010                    ;
26129                              34 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #01,R0                          ;
26130                              35 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_020
26131                              36 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP2,R0     ;17-1
26132                              37 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
26133                              38 I1  ;;;;;;;;;;;;;;;;;;;
26134                              39 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_020                    ;
26135                              40 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #02,R0                          ;
26136                              41 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_030
26137                              42 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP3,R0     ;17-2
26138                              43 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
26139                              44 I1  ;;;;;;;;;;;;;;;;;;;
26140                              45 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_030
26141                              46 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP4,R0     ;17-3
26142                              47 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_EXT                    ;
26143                              48 I1  
26144                              49 I1          SUB_END
26145                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26146 0000559A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26147                              50 I1          M_RTS
26148 0000559C 000B                   M           RTS                             ;RTSの後ろの
26149 0000559E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26150                              51 I1  
26151                              52 I1  ;       ***********************************
26152                              53 I1  ;       ***                             ***
26153                              54 I1  ;       ***     現在値モニタ            ***
26154                              55 I1  ;       ***     17-0-0-1/2              ***
26155                              56 I1  ;       ***                             ***
26156                              57 I1  ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   362
PROGRAM NAME =

26157                              58 I1  ;       ====== 17-0 =====
26158 000055A0                     59 I1  _MONI_CNT_NOW_INFO_DSP1
26159                              60 I1          SUB_START
26160 000055A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26161                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26162                              61 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_POWER_ON_CNT,L1=W,DST=_PVP_MONALM_
                                          P01,L2=W
26163                              62 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_CB_STS_POINT,L1=W,DST=_PVP_MONALM_
                                          P02,L2=W
26164                              63 I1  ;;;;;;;;;;;;;;;;;;;
26165                              64 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08(同じことを確認) =======
26166                              65 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_FRQ          ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
26167                              66 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_FRQ          ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
26168                              67 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_FRQ          ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26169                              68 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_FRQ          ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26170                              69 I1  ;;;;;;;;;;;;;;;;;;;
26171                              70 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_FRQ          ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26172                              71 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_FRQ          ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26173                              72 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_FRQ          ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
26174                              73 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_FRQ          ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
26175                              74 I1  ;;;;;;;;;;;;;;;;;;;
26176                              75 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_TIM          ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
26177                              76 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_TIM          ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
26178                              77 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_TIM          ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
26179                              78 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_TIM          ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
26180                              79 I1  ;;;;;;;;;;;;;;;;;;;
26181                              80 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_TIM          ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26182                              81 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_TIM          ,W      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26183                              82 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_TIM          ,W      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26184                              83 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_TIM          ,W      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26185                              84 I1  ;;;;;;;;;;;;;;;;;;;
26186                              85 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
26187                              86 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
26188                              87 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
26189                              88 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
26190                              89 I1  ;;;;;;;;;;;;;;;;;;;
26191                              90 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_PV_PLS       ,L      ,_PVP_MONA
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   363
PROGRAM NAME =

                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
26192                              91 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
26193                              92 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
26194                              93 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
26195                              94 I1  
26196                              95 I1  
26197                              96 I1          SUB_END
26198                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26199 000055A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26200                              97 I1          M_RTS
26201 000055A4 000B                   M           RTS                             ;RTSの後ろの
26202 000055A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26203                              98 I1  
26204                              99 I1  ;       ***********************************
26205                             100 I1  ;       ***                             ***
26206                             101 I1  ;       ***     現在値モニタ            ***
26207                             102 I1  ;       ***     17-0-1-1/2              ***
26208                             103 I1  ;       ***                             ***
26209                             104 I1  ;       ***********************************
26210                             105 I1  ;       ====== 17-1 =====
26211 000055A8                    106 I1  _MONI_CNT_NOW_INFO_DSP2
26212                             107 I1          SUB_START
26213 000055A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26214                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26215                             108 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26216                             109 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
26217                             110 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
26218                             111 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26219                             112 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26220                             113 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26221                             114 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26222                             115 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
26223                             116 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
26224                             117 I1  ;;;;;;;;;;;;;;;;;;;
26225                             118 I1  ;;;;;;;;;;;;;;;;;;;
26226                             119 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
26227                             120 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
26228                             121 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_FLAG      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
26229                             122 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
26230                             123 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26231                             124 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B06,W
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   364
PROGRAM NAME =

                                          ,R1,R2,R3;
26232                             125 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26233                             126 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26234                             127 I1  ;;;;;;;;;;;;;;;;;;;
26235                             128 I1  ;;;;;;;;;;;;;;;;;;;
26236                             129 I1  ;;;;;;;;;;;;;;;;;;;;    ===========================<<<偏差>>>===========
26237                             130 I1  ;;;;;;;;;;;;;;;;;;;
26238                             131 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _HENSA_OVER_MOVE_CNT            ,L      ,_
                                          PVP_MONALM_C01,L,R1,R2,R3,H'3FFFFFF;
26239                             132 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_OUTPUT_TOTAL_PLS+4      ,L      ,_
                                          PVP_MONALM_C02,L,R1,R2,R3,H'3FFFFFF;
26240                             133 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_HENSA_LATCH+4           ,L      ,_
                                          PVP_MONALM_C03,L,R1,R2,R3,H'3FFFFFF;
26241                             134 I1  ;;;;;;;;;;;;;;;;;;;
26242                             135 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_CONST_SUB_PV                ,L      ,_
                                          PVP_MONALM_C04,L,R1,R2,R3,H'3FFFFFF;
26243                             136 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_SUB_PV                 ,L      ,_
                                          PVP_MONALM_C05,L,R1,R2,R3,H'3FFFFFF;
26244                             137 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_PLS                    ,L      ,_
                                          PVP_MONALM_C06,L,R1,R2,R3,H'3FFFFFF;
26245                             138 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_SV_OBJ_ABSPLS+4           ,L      ,_
                                          PVP_MONALM_C07,L,R1,R2,R3,H'3FFFFFF;
26246                             139 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_PV_ABSPLS+4       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
26247                             140 I1  ;;;;;;;;;;;;;;;;;;;
26248                             141 I1  ;;;;;;;;;;;;;;;;;;;
26249                             142 I1          SUB_END
26250                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26251 000055AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26252                             143 I1          M_RTS
26253 000055AC 000B                   M           RTS                             ;RTSの後ろの
26254 000055AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26255                             144 I1  
26256                             145 I1  
26257                             146 I1  ;       ***********************************
26258                             147 I1  ;       ***                             ***
26259                             148 I1  ;       ***     現在値モニタ            ***
26260                             149 I1  ;       ***     17-0-2-1/2              ***
26261                             150 I1  ;       ***                             ***
26262                             151 I1  ;       ***********************************
26263                             152 I1  ;       ====== 17-2 =====
26264 000055B0                    153 I1  _MONI_CNT_NOW_INFO_DSP3
26265                             154 I1          SUB_START
26266 000055B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26267                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26268                             155 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26269                             156 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_STEP           ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
26270                             157 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_STEP           ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
26271                             158 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _INT_POS_CTL_STEP       ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26272                             159 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SV_POS_CTL_STEP        ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26273                             160 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_PLSOUT_STOP_CNT    ,W      ,_PVP_MONALM_A05,W
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   365
PROGRAM NAME =

                                          ,R1,R2,R3;
26274                             161 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_CNT1      ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26275                             162 I1  ;;;;;;;;;;;;;;;;;;;
26276                             163 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
26277                             164 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26278                             165 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26279                             166 I1  ;;;;;;;;;;;;;;;;;;;
26280                             167 I1  ;;;;;;;;;;;;;;;;;;;
26281                             168 I1  ;;;;;;;;;;;;;;;;;;;
26282                             169 I1  ;;;;;;;;;;;;;;;;;;;;    ======================================
26283                             170 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
26284                             171 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
26285                             172 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
26286                             173 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
26287                             174 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26288                             175 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2      ,L      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26289                             176 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26290                             177 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26291                             178 I1  ;;;;;;;;;;;;;;;;;;;
26292                             179 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_REST_P       ,L      ,_PVP_MONA
                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
26293                             180 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
26294                             181 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_REST_P       ,L      ,_PVP_MONA
                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
26295                             182 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
26296                             183 I1  ;;;;;;;;;;;;;;;;;;;
26297                             184 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_REST_P       ,L      ,_PVP_MONA
                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
26298                             185 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
26299                             186 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_REST_P       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
26300                             187 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
26301                             188 I1  ;;;;;;;;;;;;;;;;;;;
26302                             189 I1  ;;;;;;;;;;;;;;;;;;;
26303                             190 I1  
26304                             191 I1          SUB_END
26305                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26306 000055B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26307                             192 I1          M_RTS
26308 000055B4 000B                   M           RTS                             ;RTSの後ろの
26309 000055B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26310                             193 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   366
PROGRAM NAME =

26311                             194 I1  ;       ***********************************
26312                             195 I1  ;       ***                             ***
26313                             196 I1  ;       ***     現在値モニタ            ***
26314                             197 I1  ;       ***     17-0-3-1/2              ***
26315                             198 I1  ;       ***                             ***
26316                             199 I1  ;       ***********************************
26317          00000000           200 I1  _SH4_4B         .EQU    0
26318          00000004           201 I1  _SH2_4B         .EQU    4
26319          00000000           202 I1  _SH4_8B         .EQU    0
26320          00000008           203 I1  _SH2_8B         .EQU    8
26321                             204 I1  
26322                             205 I1  
26323                             206 I1  ;       ====== 17-3 =====
26324 000055B8                    207 I1  _MONI_CNT_NOW_INFO_DSP4
26325                             208 I1          SUB_START
26326 000055B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26327                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26328                             209 I1  
26329                             210 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_REST_SPD_HOSEI_FLG,W,_PVP_MONALM_A01,W,R1,R2,
                                          R3      ;
26330                             211 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
26331                             212 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26332                             213 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26333                             214 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26334                             215 I1  ;;;;;;;;;;;;;;;;;;;
26335                             216 I1  ;;;;;;;;;;;;;;;;;;;
26336                             217 I1  ;;;;;;;;;;;;;;;;;;;;    -------------------------- HENSAﾃﾞｰﾀ---------
26337                             218 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_MONI_CPUAB_PLSDELT,R1
26338                             219 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(0,R1),R5
                                          ;
26339                             220 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(4,R1),R6
                                          ;
26340                             221 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R5,R0
                                          ;
26341                             222 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;H
26342                             223 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
26343                             224 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A06 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;L
26344                             225 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R6,R0
26345                             226 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26346                             227 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
26347                             228 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26348                             229 I1  ;;;;;;;;;;;;;;;;;;;
26349                             230 I1  ;;;;;;;;;;;;;;;;;;;
26350                             231 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH4_4B,R4
                                          ;CPUA
26351                             232 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
26352                             233 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B01 ,L1=W,DT_REG=R0,WKREG1=R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   367
PROGRAM NAME =

                                          ;
26353                             234 I1  ;;;;;;;;;;;;;;;;;;;
26354                             235 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH2_4B,R4
                                          ;CPU
26355                             236 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
26356                             237 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26357                             238 I1  ;;;;;;;;;;;;;;;;;;;
26358                             239 I1  ;;;;;;;;;;;;;;;;;;;
26359                             240 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH4_4B,R4
                                          ;
26360                             241 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
26361                             242 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26362                             243 I1  ;;;;;;;;;;;;;;;;;;;
26363                             244 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH2_4B,R4
                                          ;
26364                             245 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
26365                             246 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26366                             247 I1  ;;;;;;;;;;;;;;;;;;;
26367                             248 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
26368                             249 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26369                             250 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2,W,_PVP_MONALM_B06,W,R1,R2,R3;
26370                             251 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1,L,_PVP_MONALM_B07,W,R1,R2,R3;
26371                             252 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2,L,_PVP_MONALM_B08,W,R1,R2,R3;
26372                             253 I1  ;;;;;;;;;;;;;;;;;;;
26373                             254 I1  ;;;;;;;;;;;;;;;;;;;
26374                             255 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH4_4B,R4   ;OK
26375                             256 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
26376                             257 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C01 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26377                             258 I1  ;;;;;;;;;;;;;;;;;;;
26378                             259 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH2_4B,R4   ;OK
26379                             260 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
26380                             261 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C02 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26381                             262 I1  ;;;;;;;;;;;;;;;;;;;
26382                             263 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH4_4B,R4 ;
26383                             264 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
26384                             265 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C03 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26385                             266 I1  ;;;;;;;;;;;;;;;;;;;
26386                             267 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH2_4B,R4 ;
26387                             268 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
26388                             269 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C04 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26389                             270 I1  ;;;;;;;;;;;;;;;;;;;
26390                             271 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH4_8B+4,R4              ;20060919
26391                             272 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
26392                             273 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
26393                             274 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   368
PROGRAM NAME =

26394                             275 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C05 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26395                             276 I1  ;;;;;;;;;;;;;;;;;;;
26396                             277 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH2_8B+4,R4              ;20060919
26397                             278 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
26398                             279 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
26399                             280 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
26400                             281 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C06 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26401                             282 I1  ;;;;;;;;;;;;;;;;;;;
26402                             283 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH4_8B+4,R4              ;
26403                             284 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
26404                             285 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
26405                             286 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
26406                             287 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C07 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26407                             288 I1  ;;;;;;;;;;;;;;;;;;;
26408                             289 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH2_8B+4,R4              ;
26409                             290 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
26410                             291 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
26411                             292 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
26412                             293 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C08 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
26413                             294 I1  ;;;;;;;;;;;;;;;;;;;
26414                             295 I1  
26415                             296 I1          SUB_END
26416                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26417 000055BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26418                             297 I1          M_RTS
26419 000055BC 000B                   M           RTS                             ;RTSの後ろの
26420 000055BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26421                             298 I1  
26422                             299 I1  
26423                             300 I1  
26424                             301 I1  ;       =========== C01~C08 =======
26425                             302 I1  
26426                             303 I1  
26427                             304 I1  
26428                             305 I1  ;       ***********************************
26429                             306 I1  ;       ***     履歴モニタ              ***
26430                             307 I1  ;       ***                             ***
26431                             308 I1  ;       ***     18-(0~199)-0/1-1/2      ***
26432                             309 I1  ;       ***                             ***
26433                             310 I1  ;       ***********************************
26434                             311 I1  ;       R2 頁
26435                             312 I1  ;       R3 詳細 0:自分　1:相手
26436 000055C0                    313 I1  _MONI_CNT_HIST_INFO_DISP
26437                             314 I1          SUB_START
26438 000055C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26439                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26440                             315 I1          SUB_END
26441                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26442 000055C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26443                             316 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   369
PROGRAM NAME =

26444 000055C4 000B                   M           RTS                             ;RTSの後ろの
26445 000055C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26446                             317 I1  
26447                            8188     
26448                            8189     ;       ***************************
26449                            8190     ;       ***                     ***
26450                            8191     ;       ***************************
26451                            8192             .EXPORT _HENSA_DAT_MONI_MAK
26452 000055C8                   8193             .ALIGN  4                               ;
26453 000055C8                   8194     _HENSA_DAT_MONI_MAK:
26454                            8195             SUB_START
26455 000055C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26456                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26457                            8196     
26458                            8197     ;       ===== 遅れ分払い出したことにする====
26459 000055CA D30F              8198             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
26460 000055CC 6132              8199             MOV.L   @R3,R1                                                  ;
26461 000055CE 5231              8200             MOV.L   @(4,R3),R2                                              ;
26462                            8201     
26463 000055D0 D00E              8202             MOV.L   #_LINK_PV_ABSPLS,R0                             ;
26464 000055D2 6502              8203             MOV.L   @R0,R5                                                  ;
26465 000055D4 5601              8204             MOV.L   @(4,R0),R6                                              ;
26466                            8205     
26467                            8206             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
26468 000055D6 0008                   M           CLRT
26469 000055D8 326A                   M           SUBC    R6,R2
26470 000055DA 315A                   M           SUBC    R5,R1
26471                            8207     
26472 000055DC D00C              8208             MOV.L   #_SV_CONST_SUB_PV,R0                                    ;
26473 000055DE 4211              8209             CMP/PZ  R2
26474 000055E0 8900              8210             BT      HENSA_DAT_MONMK_050                                     ;
26475 000055E2 622B              8211             NEG     R2,R2
26476 000055E4                   8212     HENSA_DAT_MONMK_050:
26477 000055E4 2022              8213             MOV.L   R2,@R0                                                  ;SV(CONST)-PV=
26478                            8214     
26479                            8215     ;       ===== 遅れ分払い出したことにする====
26480 000055E6 D308              8216             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
26481 000055E8 6132              8217             MOV.L   @R3,R1                                                  ;
26482 000055EA 5231              8218             MOV.L   @(4,R3),R2                                              ;SV-REST-PLS
26483                            8219     
26484 000055EC D109              8220             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
26485 000055EE 6612              8221             MOV.L   @R1,R6                                                  ;
26486 000055F0 255A              8222             XOR     R5,R5                                                   ;
26487                            8223             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
26488 000055F2 0008                   M           CLRT
26489 000055F4 326A                   M           SUBC    R6,R2
26490 000055F6 315A                   M           SUBC    R5,R1
26491 000055F8 4211              8224             CMP/PZ  R2
26492 000055FA 8900              8225             BT      HENSA_DAT_MONMK_100                                     ;
26493 000055FC 622B              8226             NEG     R2,R2
26494 000055FE                   8227     HENSA_DAT_MONMK_100:
26495                            8228     
26496 000055FE D006              8229             MOV.L   #_SV_REAL_SUB_PV,R0
26497 00005600 2022              8230             MOV.L   R2,@R0
26498                            8231     
26499                            8232             SUB_END
26500                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   370
PROGRAM NAME =

26501 00005602 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26502                            8233             M_RTS
26503 00005604 000B                   M           RTS                             ;RTSの後ろの
26504 00005606 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26505                            8234     
26506                            8235     
26507                            8236     
26508                            8237     ;//     ===================================================
26509                            8238     ;//     ===     対策ソフト部分 2005-04-14-E(4/18)       ===
26510                            8239     ;//     ===================================================
26511                            8240             .EXPORT _SGL_CMP_ERR_DT_CLR
26512                                     ***** BEGIN-POOL *****
26513 00005608 00000000                   DATA FOR SOURCE-LINE 8198,8216
26514 0000560C 00000000                   DATA FOR SOURCE-LINE 8202
26515 00005610 00000000                   DATA FOR SOURCE-LINE 8208
26516 00005614 00000000                   DATA FOR SOURCE-LINE 8220
26517 00005618 00000000                   DATA FOR SOURCE-LINE 8229
26518                                     ***** END-POOL *****
26519 0000561C                   8241             .ALIGN  4                               ;
26520 0000561C                   8242     _SGL_CMP_ERR_DT_CLR:
26521                            8243             SUB_START
26522 0000561C 4F22                   M           STS.L   PR,@-R15                ;[必要]
26523                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26524 0000561E 200A              8244             XOR     R0,R0
26525                            8245             REG_MOV_TO_MEM  DST_ADR=_CMP_LNGTH_AD_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26526 00005620 D103                   M           MOV.L   #_CMP_LNGTH_AD_ERR_CNT,R1       ;DST_ADR
26527 00005622 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26528                            8246             REG_MOV_TO_MEM  DST_ADR=_CMP_RESTP_SR_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26529 00005624 D103                   M           MOV.L   #_CMP_RESTP_SR_ERR_CNT,R1       ;DST_ADR
26530 00005626 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26531                            8247             SUB_END
26532                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26533 00005628 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26534                            8248             M_RTS
26535 0000562A 000B                   M           RTS                             ;RTSの後ろの
26536 0000562C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26537                            8249     
26538                            8250             .INCLUDE        "ssa_cntc.inc"          ;//2004-12-15
26539                                 I1  ***** BEGIN-POOL *****
26540 0000562E 0000                   I1  ALIGNMENT CODE
26541 00005630 00000000               I1  DATA FOR SOURCE-LINE 8245
26542 00005634 00000000               I1  DATA FOR SOURCE-LINE 8246
26543                                 I1  ***** END-POOL *****
26544 00005638                      1 I1  _BANK_CNT_STEP_NEXT_CHK:
26545                               2 I1          SUB_START
26546 00005638 4F22                   M           STS.L   PR,@-R15                ;[必要]
26547                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26548                               3 I1  ;       ===== 最終工程で最終目標位置を超えたら次の回転数への切り替えを行う
26549 0000563A DB06                 4 I1          MOV.L   #_INT_POS_CTL_STEP,R11                  ;//内部制御工程1~11
26550 0000563C 60B1                 5 I1          MOV.W   @R11,R0                                 ;
26551 0000563E 70FF                 6 I1          ADD     #-1,R0                                  ;
26552 00005640 4008                 7 I1          SHLL2   R0
26553 00005642 D105                 8 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1                 ;
26554 00005644 021E                 9 I1          MOV.L   @(R0,R1),R2                             ;現状の工程の目標工程
26555 00005646 D105                10 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   371
PROGRAM NAME =

26556 00005648 6311                11 I1          MOV.W   @R1,R3                                  ;
26557 0000564A 7301                12 I1          ADD     #1,R3                                   ;設定+1(帰りも1ｽﾃｯﾌﾟ)
26558 0000564C 3320                13 I1          CMP/EQ  R2,R3                                   ;
26559 0000564E 8907                14 I1          BT      BCNT_STEP_NEXTCHK_100                   ;(最終工程相当)
26560                              15 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;最終工程を行おうとしていないが残
                                          り量を引くことは有り
26561 00005650 A04F                   M           BRA     BCNT_STEP_NEXTCHK_EXT
26562 00005652 0009                   M           NOP
26563                              16 I1                                                          ;...不要
26564                              17 I1  ;       ======= 最終工程相当の状態=======
26565                              18 I1  ;       ======= 減速距離と残り距離=====
26566                                 I1  ***** BEGIN-POOL *****
26567 00005654 00000000               I1  DATA FOR SOURCE-LINE 4
26568 00005658 00000000               I1  DATA FOR SOURCE-LINE 8
26569 0000565C 00000000               I1  DATA FOR SOURCE-LINE 10
26570                                 I1  ***** END-POOL *****
26571 00005660                     19 I1  BCNT_STEP_NEXTCHK_100:
26572 00005660 D408                20 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
26573 00005662 6203                21 I1          MOV     R0,R2                                                   ;
26574 00005664 4200                22 I1          SHLL    R2                                                      ;
26575 00005666 342C                23 I1          ADD     R2,R4                                                   ;
26576 00005668 6146                24 I1          MOV.L   @R4+,R1                                                 ;
26577 0000566A 6242                25 I1          MOV.L   @R4,R2                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
26578                              26 I1  
26579 0000566C D406                27 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
26580 0000566E 6546                28 I1          MOV.L   @R4+,R5                                                 ;
26581 00005670 6642                29 I1          MOV.L   @R4,R6                                                  ;
26582                              30 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
26583 00005672 0008                   M           CLRT
26584 00005674 326A                   M           SUBC    R6,R2
26585 00005676 315A                   M           SUBC    R5,R1
26586                              31 I1  
26587 00005678 4111                32 I1          CMP/PZ  R1
26588 0000567A 8B0B                33 I1          BF      BCNT_STEP_NEXTCHK_200                   ;"-" 超えたJUMP
26589 0000567C 2118                34 I1          TST     R1,R1                                   ;
26590                              35 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_120                ;
26591 0000567E 8905                   M           BT      BCNT_STEP_NEXTCHK_120
26592                              36 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
26593 00005680 A030                   M           BRA     BCNT_STEP_NEXTCHK_CHK
26594 00005682 0009                   M           NOP
26595                                 I1  ***** BEGIN-POOL *****
26596 00005684 00000000               I1  DATA FOR SOURCE-LINE 20
26597 00005688 00000000               I1  DATA FOR SOURCE-LINE 27
26598                                 I1  ***** END-POOL *****
26599 0000568C                     37 I1  BCNT_STEP_NEXTCHK_120:
26600 0000568C 2228                38 I1          TST     R2,R2                                   ;
26601                              39 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_200                ;
26602 0000568E 8901                   M           BT      BCNT_STEP_NEXTCHK_200
26603                              40 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
26604 00005690 A028                   M           BRA     BCNT_STEP_NEXTCHK_CHK
26605 00005692 0009                   M           NOP
26606                              41 I1  
26607                              42 I1  ;       --- 超えた(サイクル変更を行なう)---
26608 00005694                     43 I1  BCNT_STEP_NEXTCHK_200:
26609                              44 I1  ;(停止指令が出ていれば足さない)
26610 00005694 D108                45 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   372
PROGRAM NAME =

26611 00005696 6011                46 I1          MOV.W   @R1,R0                                                  ;
26612 00005698 C804                47 I1          TST     #BIT2,R0                                                ;
26613                              48 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_250                                ;待機点停止しない
                                          運転
26614 0000569A 8B15                   M           BF      BCNT_STEP_NEXTCHK_250
26615                              49 I1  
26616 0000569C D107                50 I1          MOV.L   #_STOP_LATCH_B,R1                                       ;//BIT0:ｽﾄｯﾌﾟ釦
26617 0000569E 6011                51 I1          MOV.W   @R1,R0                                                  ;
26618 000056A0 C801                52 I1          TST     #BIT0,R0                                                ;
26619                              53 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_250                                ;
26620 000056A2 8911                   M           BT      BCNT_STEP_NEXTCHK_250
26621                              54 I1  
26622                              55 I1  ;       ----- 停止ｺﾏﾝﾄﾞON(ありえない) -----
26623                              56 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
26624 000056A4 D106                   M           MOV.L   #_STOP_LATCH,R1         ;
26625 000056A6 6011                   M           MOV.W   @R1,R0          ;
26626 000056A8 CB01                   M           OR      #BIT0,R0                ;
26627 000056AA 2101                   M           MOV.W   R0,@R1          ;
26628                              57 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
26629 000056AC D105                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
26630 000056AE 6011                   M           MOV.W   @R1,R0          ;
26631 000056B0 CB01                   M           OR      #BIT0,R0                ;
26632 000056B2 2101                   M           MOV.W   R0,@R1          ;
26633                              58 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                                   ;
26634 000056B4 A01D                   M           BRA     BCNT_STEP_NEXTCHK_EXT
26635 000056B6 0009                   M           NOP
26636                              59 I1  
26637                              60 I1  
26638                                 I1  ***** BEGIN-POOL *****
26639 000056B8 00000000               I1  DATA FOR SOURCE-LINE 45
26640 000056BC 00000000               I1  DATA FOR SOURCE-LINE 50
26641 000056C0 00000000               I1  DATA FOR SOURCE-LINE 56
26642 000056C4 00000000               I1  DATA FOR SOURCE-LINE 57
26643                                 I1  ***** END-POOL *****
26644 000056C8                     61 I1  BCNT_STEP_NEXTCHK_250:
26645                              62 I1  
26646 000056C8 D104                63 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
26647 000056CA 6011                64 I1          MOV.W   @R1,R0                                                  ;
26648 000056CC C808                65 I1          TST     #BIT3,R0                                                ;
26649                              66 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_300                                ;(停止のない運転時
                                          のみ補正する)
26650 000056CE 89FF                   M           BT      BCNT_STEP_NEXTCHK_300
26651                              67 I1  
26652                              68 I1  ;       ========== 減速点補正(タイマが全くない運転) ============
26653                              69 I1  ;;;     FAR_JSR #_GPOINT_HOS_CALC,R0                    ;CPU-A/B()
26654                              70 I1  ;       ==================================
26655                              71 I1  ;;;;;;;;20060919        .AIF    0 EQ    1       ;
26656                              72 I1  ;;;;;;;;        FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0               ;
26657                              73 I1  ;;;;;;;;        .AENDI                                  ;
26658                              74 I1  
26659                              75 I1  ;       ========== 新残りﾊﾟﾙｽ補正===============
26660                              76 I1  ;       誤差が1000PLSを超えたら周波数を変える 1HZ
26661                              77 I1  ;       誤差が2000PLSを超えたら周波数を変える 2HZ
26662                              78 I1  ;       誤差が3000PLSを超えたら周波数を変える 4HZ
26663                              79 I1  ;
26664                              80 I1  ;
26665                              81 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   373
PROGRAM NAME =

26666                              82 I1  ;       ====================================
26667 000056D0                     83 I1  BCNT_STEP_NEXTCHK_300:
26668                              84 I1  
26669                              85 I1          FAR_JSR #_CNT_VMODE_NEXT_CYCL_START,R0          ;(STOPﾗｯﾁはまずここでﾁｪｯｸされる)
26670 000056D0 D003                   M           MOV.L   #_CNT_VMODE_NEXT_CYCL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26671 000056D2 400B                   M           JSR     @R0                     ;
26672 000056D4 0009                   M           NOP                                     ;
26673                              86 I1  
26674                              87 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;
26675 000056D6 A00C                   M           BRA     BCNT_STEP_NEXTCHK_EXT
26676 000056D8 0009                   M           NOP
26677                              88 I1  
26678                              89 I1  
26679                              90 I1  ;       ====(最終工程相当でここにくる)=====
26680                                 I1  ***** BEGIN-POOL *****
26681 000056DA 0000                   I1  ALIGNMENT CODE
26682 000056DC 00000000               I1  DATA FOR SOURCE-LINE 63
26683 000056E0 00000000               I1  DATA FOR SOURCE-LINE 85
26684                                 I1  ***** END-POOL *****
26685 000056E4                     91 I1  BCNT_STEP_NEXTCHK_CHK:
26686 000056E4 D104                92 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
26687 000056E6 6011                93 I1          MOV.W   @R1,R0                          ;
26688 000056E8 2008                94 I1          TST     R0,R0                           ;
26689                              95 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_EXT        ;
26690 000056EA 8B02                   M           BF      BCNT_STEP_NEXTCHK_EXT
26691                              96 I1  ;       === 停止の減算はどこでも良い====
26692                              97 I1  ;       === 停止がある場合は停止で行うから結局は最終工程相当で引く===
26693                              98 I1          FAR_JSR #_CNT_GPOINT_STOP_TYP2,R0       ;連続停止時減速可能かどうかチェック
26694 000056EC D003                   M           MOV.L   #_CNT_GPOINT_STOP_TYP2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26695 000056EE 400B                   M           JSR     @R0                     ;
26696 000056F0 0009                   M           NOP                                     ;
26697                              99 I1  
26698                             100 I1  
26699 000056F2                    101 I1  BCNT_STEP_NEXTCHK_EXT:
26700                             102 I1          SUB_END
26701                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26702 000056F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26703                             103 I1          M_RTS
26704 000056F4 000B                   M           RTS                             ;RTSの後ろの
26705 000056F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26706                             104 I1  
26707                             105 I1  
26708                             106 I1  
26709                             107 I1  ;       ***********************************
26710                             108 I1  ;       ***                             ***
26711                             109 I1  ;       ***     工程切り替え            ***
26712                             110 I1  ;       ***     data add                ***
26713                             111 I1  ;       ***                             ***
26714                             112 I1  ;       ***********************************
26715                                 I1  ***** BEGIN-POOL *****
26716 000056F8 00000000               I1  DATA FOR SOURCE-LINE 92
26717 000056FC 00000000               I1  DATA FOR SOURCE-LINE 98
26718                                 I1  ***** END-POOL *****
26719 00005700                    113 I1  _CNT_VMODE_NEXT_CYCL_START:
26720                             114 I1          SUB_START
26721 00005700 4F22                   M           STS.L   PR,@-R15                ;[必要]
26722                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   374
PROGRAM NAME =

26723                             115 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0     ;ﾓﾆﾀ用
26724 00005702 D014                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26725 00005704 400B                   M           JSR     @R0                     ;
26726 00005706 0009                   M           NOP                                     ;
26727                             116 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0        ;ﾓﾆﾀ用
26728 00005708 D013                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26729 0000570A 400B                   M           JSR     @R0                     ;
26730 0000570C 0009                   M           NOP                                     ;
26731                             117 I1  
26732                             118 I1          FAR_JSR #_CPU_AB_CST_ON_OUT2,R0                 ;次へいくぞ!
26733 0000570E D013                   M           MOV.L   #_CPU_AB_CST_ON_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26734 00005710 400B                   M           JSR     @R0                     ;
26735 00005712 0009                   M           NOP                                     ;
26736                             119 I1          FAR_JSR #_MOTION_CYCLE_END,R0                   ;
26737 00005714 D012                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26738 00005716 400B                   M           JSR     @R0                     ;
26739 00005718 0009                   M           NOP                                     ;
26740                             120 I1          FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
26741 0000571A D012                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26742 0000571C 400B                   M           JSR     @R0                     ;
26743 0000571E 0009                   M           NOP                                     ;
26744                             121 I1          FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
26745 00005720 D011                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26746 00005722 400B                   M           JSR     @R0                     ;
26747 00005724 0009                   M           NOP                                     ;
26748                             122 I1  ;;2016-10-31    FAR_JSR #_DBG_END_CNT3,R0                       ;
26749                             123 I1  
26750 00005726 200A               124 I1          XOR     R0,R0                                   ;
26751 00005728 D110               125 I1          MOV.L   #_INT_POS_STEP_FLG,R1                   ;//ｽﾃｯﾌﾟ,段取り共通
26752 0000572A 2101               126 I1          MOV.W   R0,@R1                                  ;
26753                             127 I1  
26754                             128 I1          FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0            ;
26755 0000572C D010                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26756 0000572E 400B                   M           JSR     @R0                     ;
26757 00005730 0009                   M           NOP                                     ;
26758                             129 I1  
26759                             130 I1  ;       ------------------2006-12-18----------------------
26760                             131 I1          FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0             ;20060919:
26761 00005732 D010                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26762 00005734 400B                   M           JSR     @R0                     ;
26763 00005736 0009                   M           NOP                                     ;
26764                             132 I1  ;       --------------------------------------------------
26765                             133 I1  
26766 00005738 D10F               134 I1          MOV.L   #_SV_POS_CTL_STEP,R1                    ;//1msec 制御上の見かけ
26767 0000573A 6411               135 I1          MOV.W   @R1,R4                                  ;
26768 0000573C D20F               136 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
26769 0000573E 2241               137 I1          MOV.W   R4,@R2                                  ;
26770                             138 I1  
26771                             139 I1  
26772                             140 I1  ;;      FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;_LNGTH,SHIN,SPEED<設定から求める>
26773                             141 I1  
26774                             142 I1  
26775                             143 I1  ;       ==== 最終工程相当でなければ速度を切り替えるだけ===
26776                             144 I1  ;       LINKX-->LINKは
26777                             145 I1  ;       その前の処理で行われているはずなので不要
26778 00005740 D10F               146 I1          MOV.L   #_CPOS_MOD_FLG1,R1                      ;
26779 00005742 6011               147 I1          MOV.W   @R1,R0                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   375
PROGRAM NAME =

26780 00005744 C808               148 I1          TST     #BIT3,R0                                ;
26781                             149 I1          TST_BIT_ON CNT_VMODE_NEXT_CYCLSTR_050           ;
26782 00005746 8B1F                   M           BF      CNT_VMODE_NEXT_CYCLSTR_050
26783                             150 I1  
26784                             151 I1  ;       === ﾀｲﾏ停止有り ===ここで移動量は作成しない===
26785                             152 I1          FAR_JSR #_CNT_SPD_SET,R0                        ;(これではステップ上の運転開始とは
                                          いえ自起動まで落ちているから良い)
26786 00005748 D00E                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26787 0000574A 400B                   M           JSR     @R0                     ;
26788 0000574C 0009                   M           NOP                                     ;
26789                             153 I1          M_BRA   CNT_VMODE_NEXT_CYCLSTR_100
26790 0000574E A021                   M           BRA     CNT_VMODE_NEXT_CYCLSTR_100
26791 00005750 0009                   M           NOP
26792                             154 I1  
26793                             155 I1  
26794                                 I1  ***** BEGIN-POOL *****
26795 00005752 0000                   I1  ALIGNMENT CODE
26796 00005754 00000000               I1  DATA FOR SOURCE-LINE 115
26797 00005758 00000000               I1  DATA FOR SOURCE-LINE 116
26798 0000575C 00000000               I1  DATA FOR SOURCE-LINE 118
26799 00005760 00000000               I1  DATA FOR SOURCE-LINE 119
26800 00005764 00000000               I1  DATA FOR SOURCE-LINE 120
26801 00005768 00000000               I1  DATA FOR SOURCE-LINE 121
26802 0000576C 00000000               I1  DATA FOR SOURCE-LINE 125
26803 00005770 00000000               I1  DATA FOR SOURCE-LINE 128
26804 00005774 00000000               I1  DATA FOR SOURCE-LINE 131
26805 00005778 00000000               I1  DATA FOR SOURCE-LINE 134
26806 0000577C 00000000               I1  DATA FOR SOURCE-LINE 136
26807 00005780 00000000               I1  DATA FOR SOURCE-LINE 146
26808 00005784 00000000               I1  DATA FOR SOURCE-LINE 152
26809                                 I1  ***** END-POOL *****
26810 00005788                    156 I1  CNT_VMODE_NEXT_CYCLSTR_050:
26811                             157 I1  ;       === ﾀｲﾏ停止全くなし ===ここで移動量を作成===
26812                             158 I1          FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;CNT_SPD
26813 00005788 D014                   M           MOV.L   #_POS_CNT_BANK_DTMAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26814 0000578A 400B                   M           JSR     @R0                     ;
26815 0000578C 0009                   M           NOP                                     ;
26816                             159 I1          FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0             ;
26817 0000578E D014                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26818 00005790 400B                   M           JSR     @R0                     ;
26819 00005792 0009                   M           NOP                                     ;
26820                             160 I1  
26821 00005794                    161 I1  CNT_VMODE_NEXT_CYCLSTR_100:
26822                             162 I1  
26823                             163 I1  
26824                             164 I1  
26825                             165 I1  ;;;だめ FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;
26826                             166 I1  
26827                             167 I1  ;       ==== 2004-03-29 ====
26828                             168 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;OK!
26829 00005794 D013                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26830 00005796 400B                   M           JSR     @R0                     ;
26831 00005798 0009                   M           NOP                                     ;
26832                             169 I1          FAR_JSR #_MOTION_CYCLE_START,R0         ;
26833 0000579A D013                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26834 0000579C 400B                   M           JSR     @R0                     ;
26835 0000579E 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   376
PROGRAM NAME =

26836 000057A0 D112               170 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1    ;       //連続が１ｽﾃｯﾌﾟになった
26837 000057A2 9019               171 I1          MOV.W   #BIT0,R0                ;
26838 000057A4 2101               172 I1          MOV.W   R0,@R1                  ;
26839                             173 I1  
26840                             174 I1  
26841                             175 I1  ;       ==================================
26842                             176 I1          FAR_JSR #_CMPCYC_START_CLR,R0
26843 000057A6 D012                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26844 000057A8 400B                   M           JSR     @R0                     ;
26845 000057AA 0009                   M           NOP                                     ;
26846                             177 I1  ;       ===============================================
26847                             178 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
26848 000057AC D111                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
26849 000057AE 6011                   M           MOV.W   @R1,R0          ;
26850 000057B0 C9FE                   M           AND     #LOW ~BIT0,R0           ;
26851 000057B2 2101                   M           MOV.W   R0,@R1          ;
26852                             179 I1          FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13
26853 000057B4 D010                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26854 000057B6 400B                   M           JSR     @R0                     ;
26855 000057B8 0009                   M           NOP                                     ;
26856                             180 I1  ;       ===============================================
26857                             181 I1          FAR_JSR #_FUL_DATA_INIT,R0
26858 000057BA D010                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26859 000057BC 400B                   M           JSR     @R0                     ;
26860 000057BE 0009                   M           NOP                                     ;
26861                             182 I1  ;       ==================================
26862                             183 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
26863 000057C0 D00F                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26864 000057C2 400B                   M           JSR     @R0                     ;
26865 000057C4 0009                   M           NOP                                     ;
26866                             184 I1  ;       ================<<<2004-03-25>>>==========
26867                             185 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾓﾆﾀ用
26868 000057C6 D00F                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26869 000057C8 400B                   M           JSR     @R0                     ;
26870 000057CA 0009                   M           NOP                                     ;
26871                             186 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾓﾆﾀ用
26872 000057CC D00E                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26873 000057CE 400B                   M           JSR     @R0                     ;
26874 000057D0 0009                   M           NOP                                     ;
26875                             187 I1          SUB_END
26876                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26877 000057D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26878                             188 I1          M_RTS
26879 000057D4 000B                   M           RTS                             ;RTSの後ろの
26880 000057D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26881                             189 I1  
26882                             190 I1  
26883                             191 I1  ;       *******************************************
26884                             192 I1  ;       ***                                     ***
26885                             193 I1  ;       ***                                     ***
26886                             194 I1  ;       *******************************************
26887                             195 I1  ;       ***********************************
26888                             196 I1  ;       ***                             ***
26889                             197 I1  ;       ***     移動距離のみ+SPEED      ***
26890                             198 I1  ;       ***                             ***
26891                             199 I1  ;       ***********************************
26892                             200 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   377
PROGRAM NAME =

26893                             201 I1  ;       が
26894                             202 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
26895                             203 I1  ;       になっているだけ
26896                             204 I1  ;       (回転途中の演算　１回転分)
26897                             205 I1  
26898                             206 I1  ;       ===== タイマ停止後起動時===
26899                                 I1  ***** BEGIN-POOL *****
26900 000057D8 0001                   I1  DATA FOR SOURCE-LINE 171
26901 000057DA 0000                   I1  ALIGNMENT CODE
26902 000057DC 00000000               I1  DATA FOR SOURCE-LINE 158
26903 000057E0 00000000               I1  DATA FOR SOURCE-LINE 159
26904 000057E4 00000000               I1  DATA FOR SOURCE-LINE 168
26905 000057E8 00000000               I1  DATA FOR SOURCE-LINE 169
26906 000057EC 00000000               I1  DATA FOR SOURCE-LINE 170
26907 000057F0 00000000               I1  DATA FOR SOURCE-LINE 176
26908 000057F4 00000000               I1  DATA FOR SOURCE-LINE 178
26909 000057F8 00000000               I1  DATA FOR SOURCE-LINE 179
26910 000057FC 00000000               I1  DATA FOR SOURCE-LINE 181
26911 00005800 00000000               I1  DATA FOR SOURCE-LINE 183
26912 00005804 00000000               I1  DATA FOR SOURCE-LINE 185
26913 00005808 00000000               I1  DATA FOR SOURCE-LINE 186
26914                                 I1  ***** END-POOL *****
26915 0000580C                    207 I1  _POS_CNT_BANK_DTMAK3:                           ;上死点ﾀｲﾏ=0で途中で止まる時
26916                             208 I1          SUB_START
26917 0000580C 4F22                   M           STS.L   PR,@-R15                ;[必要]
26918                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26919                             209 I1  
26920                             210 I1  ;       -------debug break-point set----------
26921                             211 I1          PUSH_REG1 R0
26922 0000580E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26923                                 M                                           ;REG=>[SP]
26924                                 M                                           ;"-4" FF,FF,FF,FC
26925                             212 I1          PUSH_REG1 R1
26926 00005810 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26927                                 M                                           ;REG=>[SP]
26928                                 M                                           ;"-4" FF,FF,FF,FC
26929 00005812 D10C               213 I1          MOV.L   #_di2_cb_ctl2,R1        ;
26930 00005814 6011               214 I1          MOV.W   @R1,R0                  ;
26931 00005816 C880               215 I1          TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
26932                             216 I1          TST_BIT_OF CNTBANK_DBGBRK_100   ;
26933 00005818 8904                   M           BT      CNTBANK_DBGBRK_100
26934                             217 I1  
26935 0000581A 0009               218 I1          NOP
26936 0000581C 0009               219 I1          NOP
26937 0000581E 0009               220 I1          NOP
26938 00005820 0009               221 I1          NOP
26939 00005822 0009               222 I1          NOP
26940                             223 I1  
26941                             224 I1  
26942 00005824                    225 I1  CNTBANK_DBGBRK_100
26943                             226 I1  
26944                             227 I1  
26945                             228 I1          POP_REG1 R1
26946                                 M                                   ; RE"+4" 00,00,00,04
26947 00005824 61F6                   M           MOV.L   @R15+,R1        ;
26948                             229 I1          POP_REG1 R0
26949                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   378
PROGRAM NAME =

26950 00005826 60F6                   M           MOV.L   @R15+,R0        ;
26951                             230 I1  
26952                             231 I1  
26953                             232 I1  
26954                             233 I1  
26955                             234 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
26956 00005828 D007                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26957 0000582A 400B                   M           JSR     @R0                     ;
26958 0000582C 0009                   M           NOP                                     ;
26959                             235 I1  
26960                             236 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
26961 0000582E D007                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26962 00005830 400B                   M           JSR     @R0                     ;
26963 00005832 0009                   M           NOP                                     ;
26964                             237 I1  
26965 00005834 D406               238 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                 ;//起動時,その他で演算 8byte data
26966 00005836 2008               239 I1          TST     R0,R0                                   ;
26967                             240 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM              ;最終工程でなければ
26968 00005838 8932                   M           BT      POS_CNT_BANKDTMAK12_COM
26969                             241 I1  
26970 0000583A D406               242 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4                ;//起動時,その他で演算 8byte data
26971 0000583C 9001               243 I1          MOV.W   #1,R0                                   ;
26972                             244 I1          M_BRA   POS_CNT_BANKDTMAK123_COM                ;最終工程相当なら
26973 0000583E A038                   M           BRA     POS_CNT_BANKDTMAK123_COM
26974 00005840 0009                   M           NOP
26975                             245 I1  
26976                             246 I1  
26977                                 I1  ***** BEGIN-POOL *****
26978 00005842 0001                   I1  DATA FOR SOURCE-LINE 243
26979 00005844 00000000               I1  DATA FOR SOURCE-LINE 213
26980 00005848 00000000               I1  DATA FOR SOURCE-LINE 234
26981 0000584C 00000000               I1  DATA FOR SOURCE-LINE 236
26982 00005850 00000000               I1  DATA FOR SOURCE-LINE 238
26983 00005854 00000000               I1  DATA FOR SOURCE-LINE 242
26984                                 I1  ***** END-POOL *****
26985 00005858                    247 I1  _POS_CNT_BANK_DTMAK2:                                   ;どこにも止まらないとき
26986                             248 I1          SUB_START
26987 00005858 4F22                   M           STS.L   PR,@-R15                ;[必要]
26988                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26989                             249 I1          M_BRA   POS_CNT_BANKDTMAK12_COM
26990 0000585A A021                   M           BRA     POS_CNT_BANKDTMAK12_COM
26991 0000585C 0009                   M           NOP
26992                             250 I1  
26993                             251 I1  ;       ===== 初回の起動時===
26994 0000585E                    252 I1  _POS_CNT_BANK_DTMAK1:
26995                             253 I1          SUB_START
26996 0000585E 4F22                   M           STS.L   PR,@-R15                ;[必要]
26997                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26998                             254 I1  
26999                             255 I1  ;;;;2014-09-14  ----------------------------------------------
27000                             256 I1  ;;;;2014-09-14  MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
27001                             257 I1  ;;;;2014-09-14  MOV.W   @R1,R0                          ;
27002                             258 I1  ;;;;2014-09-14  TST     #BIT0,R0                        ;
27003                             259 I1  ;;;;2014-09-14  TST_BIT_OF POSCNT_BANKDT050             ;
27004                             260 I1  ;;;;2014-09-14
27005                             261 I1  ;;;;2014-09-14  MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
27006                             262 I1  ;;;;2014-09-14  MOV.L   @(0,R4),R1                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   379
PROGRAM NAME =

27007                             263 I1  ;;;;2014-09-14  MOV.L   @(4,R4),R2                      ;
27008                             264 I1  ;;;;2014-09-14  M_BRA   POSCNT_BANKDT075                ;
27009                             265 I1  ;;;;2014-09-14
27010                             266 I1  ;;;;2014-09-14
27011                             267 I1  ;;;;2014-09-14POSCNT_BANKDT050
27012                             268 I1  ;;;;2014-09-14
27013                             269 I1  ;;;;2014-09-14  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
27014                             270 I1  ;;;;2014-09-14
27015                             271 I1  ;;;;2014-09-14  MOV.L   #_LINK_PV_ABSPLS,R4     ;(ﾌﾙｸﾛｰｽﾞ時は対象を変える)
27016                             272 I1  ;;;;2014-09-14  MOV.L   @R4+,R1                         ;
27017                             273 I1  ;;;;2014-09-14  MOV.L   @R4,R2                          ;
27018                             274 I1  ;;;;2014-09-14
27019                             275 I1  ;;;;2014-09-14POSCNT_BANKDT075
27020                             276 I1  
27021 00005860 D409               277 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
27022 00005862 5140               278 I1          MOV.L   @(0,R4),R1                      ;
27023 00005864 5241               279 I1          MOV.L   @(4,R4),R2                      ;
27024                             280 I1  
27025 00005866 D509               281 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
27026 00005868 2512               282 I1          MOV.L   R1,@R5                          ;
27027 0000586A 1521               283 I1          MOV.L   R2,@(4,R5)                      ;
27028 0000586C D508               284 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
27029 0000586E 2512               285 I1          MOV.L   R1,@R5                          ;
27030 00005870 1521               286 I1          MOV.L   R2,@(4,R5)                      ;
27031                             287 I1  
27032 00005872                    288 I1  POSCNT_BANKDT100
27033                             289 I1  
27034                             290 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;上死点タイマなしで止まる時・止まらない時
27035 00005872 D008                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27036 00005874 400B                   M           JSR     @R0                     ;
27037 00005876 0009                   M           NOP                                     ;
27038                             291 I1  
27039 00005878 D407               292 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;
27040 0000587A 2008               293 I1          TST     R0,R0                           ;
27041                             294 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM      ;最終工程でなければ
27042 0000587C 8910                   M           BT      POS_CNT_BANKDTMAK12_COM
27043                             295 I1  
27044 0000587E D407               296 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
27045 00005880 9001               297 I1          MOV.W   #1,R0                           ;
27046                             298 I1          M_BRA   POS_CNT_BANKDTMAK123_COM        ;最終工程相当なら
27047 00005882 A016                   M           BRA     POS_CNT_BANKDTMAK123_COM
27048 00005884 0009                   M           NOP
27049                             299 I1  
27050                             300 I1  
27051                             301 I1  
27052                             302 I1  
27053                             303 I1  
27054                             304 I1  
27055                             305 I1  
27056                             306 I1  
27057                             307 I1  
27058                             308 I1  
27059                             309 I1  
27060                             310 I1  
27061                             311 I1  
27062                                 I1  ***** BEGIN-POOL *****
27063 00005886 0001                   I1  DATA FOR SOURCE-LINE 297
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   380
PROGRAM NAME =

27064 00005888 00000000               I1  DATA FOR SOURCE-LINE 277
27065 0000588C 00000000               I1  DATA FOR SOURCE-LINE 281
27066 00005890 00000000               I1  DATA FOR SOURCE-LINE 284
27067 00005894 00000000               I1  DATA FOR SOURCE-LINE 290
27068 00005898 00000000               I1  DATA FOR SOURCE-LINE 292
27069 0000589C 00000000               I1  DATA FOR SOURCE-LINE 296
27070                                 I1  ***** END-POOL *****
27071 000058A0                    312 I1  POS_CNT_BANKDTMAK12_COM:
27072                             313 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
27073 000058A0 D00B                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27074 000058A2 400B                   M           JSR     @R0                     ;
27075 000058A4 0009                   M           NOP                                     ;
27076                             314 I1  
27077 000058A6 D40B               315 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;//起動時,その他で演算 8byte data
27078 000058A8 2008               316 I1          TST     R0,R0                           ;
27079                             317 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_050      ;
27080 000058AA 8900                   M           BT      POS_CNT_BANKDTMAK12_050
27081 000058AC D40A               318 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
27082 000058AE                    319 I1  POS_CNT_BANKDTMAK12_050:
27083                             320 I1  
27084                             321 I1  
27085                             322 I1  
27086 000058AE D20B               323 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
27087 000058B0 6021               324 I1          MOV.W   @R2,R0                          ;
27088 000058B2                    325 I1  POS_CNT_BANKDTMAK123_COM:
27089 000058B2 70FF               326 I1          ADD     #-1,R0                          ;
27090 000058B4 4008               327 I1          SHLL2   R0                              ;
27091 000058B6 4000               328 I1          SHLL    R0                              ;*2
27092 000058B8 340C               329 I1          ADD     R0,R4                           ;
27093 000058BA 6146               330 I1          MOV.L   @R4+,R1                         ;
27094 000058BC 6242               331 I1          MOV.L   @R4,R2                          ;(目標位置)
27095                             332 I1          FAR_JSR #_POS_CNT_BANK_DTMAK_CM,R0      ;LINKXから計算するADDDATA作成
27096 000058BE D008                   M           MOV.L   #_POS_CNT_BANK_DTMAK_CM,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27097 000058C0 400B                   M           JSR     @R0                     ;
27098 000058C2 0009                   M           NOP                                     ;
27099                             333 I1          FAR_JSR #_CNT_SPD_SET,R0                ;
27100 000058C4 D007                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27101 000058C6 400B                   M           JSR     @R0                     ;
27102 000058C8 0009                   M           NOP                                     ;
27103                             334 I1  
27104                             335 I1  
27105                             336 I1  
27106                             337 I1          SUB_END
27107                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27108 000058CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27109                             338 I1          M_RTS
27110 000058CC 000B                   M           RTS                             ;RTSの後ろの
27111 000058CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27112                             339 I1  
27113                             340 I1  
27114                             341 I1  
27115                             342 I1  
27116                             343 I1  ;       ***************************************************
27117                             344 I1  ;       ***     速度継続結果の最終ステップ相当か        ***
27118                             345 I1  ;       ***************************************************
27119                             346 I1  ;       ANS R0!=0 最終
27120                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   381
PROGRAM NAME =

27121 000058D0 00000000               I1  DATA FOR SOURCE-LINE 313
27122 000058D4 00000000               I1  DATA FOR SOURCE-LINE 315
27123 000058D8 00000000               I1  DATA FOR SOURCE-LINE 318
27124 000058DC 00000000               I1  DATA FOR SOURCE-LINE 323
27125 000058E0 00000000               I1  DATA FOR SOURCE-LINE 332
27126 000058E4 00000000               I1  DATA FOR SOURCE-LINE 333
27127                                 I1  ***** END-POOL *****
27128 000058E8                    347 I1  _POS_CNT_LAST_STEP_CHK:
27129                             348 I1          SUB_START
27130 000058E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
27131                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27132                             349 I1          PUSH_REG1 R1
27133 000058EA 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
27134                                 M                                           ;REG=>[SP]
27135                                 M                                           ;"-4" FF,FF,FF,FC
27136                             350 I1          PUSH_REG1 R2
27137 000058EC 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
27138                                 M                                           ;REG=>[SP]
27139                                 M                                           ;"-4" FF,FF,FF,FC
27140                             351 I1          PUSH_REG1 R3
27141 000058EE 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
27142                                 M                                           ;REG=>[SP]
27143                                 M                                           ;"-4" FF,FF,FF,FC
27144                             352 I1  
27145 000058F0 D209               353 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
27146 000058F2 6021               354 I1          MOV.W   @R2,R0                          ;
27147 000058F4 70FF               355 I1          ADD     #-1,R0                          ;
27148 000058F6 4008               356 I1          SHLL2   R0
27149 000058F8 D108               357 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
27150 000058FA 021E               358 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
27151 000058FC D108               359 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
27152 000058FE 6311               360 I1          MOV.W   @R1,R3                          ;
27153 00005900 7301               361 I1          ADD     #1,R3                           ;設定+1(帰りも1ｽﾃｯﾌﾟ)
27154                             362 I1  
27155 00005902 200A               363 I1          XOR     R0,R0                           ;
27156 00005904 3320               364 I1          CMP/EQ  R2,R3                           ;
27157 00005906 8B00               365 I1          BF      POS_CNT_LASTSTEPCHK_END         ;
27158 00005908 E0FF               366 I1          MOV     #-1,R0                          ;LAST相当
27159 0000590A                    367 I1  POS_CNT_LASTSTEPCHK_END:                        ;
27160                             368 I1  
27161                             369 I1          POP_REG1 R3
27162                                 M                                   ; RE"+4" 00,00,00,04
27163 0000590A 63F6                   M           MOV.L   @R15+,R3        ;
27164                             370 I1          POP_REG1 R2
27165                                 M                                   ; RE"+4" 00,00,00,04
27166 0000590C 62F6                   M           MOV.L   @R15+,R2        ;
27167                             371 I1          POP_REG1 R1
27168                                 M                                   ; RE"+4" 00,00,00,04
27169 0000590E 61F6                   M           MOV.L   @R15+,R1        ;
27170                             372 I1  
27171                             373 I1          SUB_END
27172                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27173 00005910 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27174                             374 I1          M_RTS
27175 00005912 000B                   M           RTS                             ;RTSの後ろの
27176 00005914 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27177                             375 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   382
PROGRAM NAME =

27178                             376 I1  
27179                             377 I1  
27180                             378 I1  ;       ***********************************
27181                             379 I1  ;       ***                             ***
27182                             380 I1  ;       ***     移動距離のみ            ***
27183                             381 I1  ;       ***                             ***
27184                             382 I1  ;       ***********************************
27185                             383 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
27186                             384 I1  ;       が
27187                             385 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
27188                             386 I1  ;       になっているだけ
27189                             387 I1  ;       (回転途中の演算　１回転分)
27190                                 I1  ***** BEGIN-POOL *****
27191 00005916 0000                   I1  ALIGNMENT CODE
27192 00005918 00000000               I1  DATA FOR SOURCE-LINE 353
27193 0000591C 00000000               I1  DATA FOR SOURCE-LINE 357
27194 00005920 00000000               I1  DATA FOR SOURCE-LINE 359
27195                                 I1  ***** END-POOL *****
27196 00005924                    388 I1  _CNT_SPD_SET:
27197                             389 I1          SUB_START
27198 00005924 4F22                   M           STS.L   PR,@-R15                ;[必要]
27199                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27200 00005926 D207               390 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
27201 00005928 6021               391 I1          MOV.W   @R2,R0                                  ;
27202 0000592A 70FF               392 I1          ADD     #-1,R0                                  ;
27203 0000592C 4008               393 I1          SHLL2   R0                                      ;
27204 0000592E D406               394 I1          MOV.L   #_CPOS_SDAT1_SPD,R4                     ;       //SETX-->起動時COPY
27205 00005930 024E               395 I1          MOV.L   @(R0,R4),R2                             ;
27206 00005932 D106               396 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
27207 00005934 2122               397 I1          MOV.L   R2,@R1                                  ;
27208                             398 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;
27209 00005936 D106                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27210 00005938 410B                   M           JSR     @R1                     ;
27211 0000593A 0009                   M           NOP                                     ;
27212                             399 I1          SUB_END
27213                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27214 0000593C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27215                             400 I1          M_RTS
27216 0000593E 000B                   M           RTS                             ;RTSの後ろの
27217 00005940 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27218                             401 I1  
27219                                 I1  ***** BEGIN-POOL *****
27220 00005942 0000                   I1  ALIGNMENT CODE
27221 00005944 00000000               I1  DATA FOR SOURCE-LINE 390
27222 00005948 00000000               I1  DATA FOR SOURCE-LINE 394
27223 0000594C 00000000               I1  DATA FOR SOURCE-LINE 396
27224 00005950 00000000               I1  DATA FOR SOURCE-LINE 398
27225                                 I1  ***** END-POOL *****
27226 00005954                    402 I1  _POS_CNT_BANK_DTMAK_CM:
27227                             403 I1          SUB_START
27228 00005954 4F22                   M           STS.L   PR,@-R15                ;[必要]
27229                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27230                             404 I1  
27231                             405 I1          FAR_JSR #_BANK_LENGH_ADD_CALC_SV_TYPE,R0        ;LINKXのみ+
27232 00005956 D007                   M           MOV.L   #_BANK_LENGH_ADD_CALC_SV_TYPE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27233 00005958 400B                   M           JSR     @R0                     ;
27234 0000595A 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   383
PROGRAM NAME =

27235                             406 I1  
27236 0000595C 233A               407 I1          XOR     R3,R3                           ;
27237 0000595E 4111               408 I1          CMP/PZ  R1                              ;+正転?
27238 00005960 8900               409 I1          BT      POS_CNT_BANKDTMKCM_050          ;
27239 00005962 E301               410 I1          MOV     #BIT0,R3                        ;
27240 00005964                    411 I1  POS_CNT_BANKDTMKCM_050
27241 00005964 D104               412 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
27242 00005966 6011               413 I1          MOV.W   @R1,R0                  ;
27243 00005968 C9FE               414 I1          AND     #LOW ~BIT0,R0           ;
27244 0000596A 203B               415 I1          OR      R3,R0                   ;
27245 0000596C 2101               416 I1          MOV.W   R0,@R1                  ;
27246                             417 I1  
27247 0000596E                    418 I1  POS_CNT_BANKDTMKCM_EXT:
27248                             419 I1          SUB_END
27249                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27250 0000596E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27251                             420 I1          M_RTS
27252 00005970 000B                   M           RTS                             ;RTSの後ろの
27253 00005972 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27254                             421 I1  
27255                             422 I1  
27256                             423 I1  
27257                             424 I1  
27258                             425 I1  
27259                             426 I1  
27260                             427 I1  
27261                             428 I1  
27262                             429 I1  ;       ***************************************************
27263                             430 I1  ;       ***                                             ***
27264                             431 I1  ;       ***     BANK2 ﾃﾞｰﾀ作成                          ***
27265                             432 I1  ;       ***     起動時BANK1ﾃﾞｰﾀを作成直後に呼ばれる     ***
27266                             433 I1  ;       ***     MODE関係なしで呼ばれるのでこの中でﾁｬｯｸ  ***
27267                             434 I1  ;       ***                                             ***
27268                             435 I1  ;       ***************************************************
27269                             436 I1  ;
27270                                 I1  ***** BEGIN-POOL *****
27271 00005974 00000000               I1  DATA FOR SOURCE-LINE 405
27272 00005978 00000000               I1  DATA FOR SOURCE-LINE 412
27273                                 I1  ***** END-POOL *****
27274 0000597C                    437 I1  _START_CNT_BANK2_MAK_CHK:
27275                             438 I1          SUB_START
27276 0000597C 4F22                   M           STS.L   PR,@-R15                ;[必要]
27277                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27278 0000597E D108               439 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
27279 00005980 6011               440 I1          MOV.W   @R1,R0                          ;
27280 00005982 C801               441 I1          TST     #BIT0,R0                        ;
27281                             442 I1          TST_BIT_OF START_CNT_BANK2_MAKCHK_END   ;
27282 00005984 8908                   M           BT      START_CNT_BANK2_MAKCHK_END
27283                             443 I1  
27284 00005986 D107               444 I1          MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R1      ;
27285 00005988 6212               445 I1          MOV.L   @R1,R2                          ;
27286 0000598A 7201               446 I1          ADD     #1,R2                           ;
27287                             447 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
27288 0000598C D006                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27289 0000598E 400B                   M           JSR     @R0                     ;
27290 00005990 0009                   M           NOP                                     ;
27291                             448 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   384
PROGRAM NAME =

27292                             449 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
27293                             450 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
27294 00005992 D006                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27295 00005994 400B                   M           JSR     @R0                     ;
27296 00005996 0009                   M           NOP                                     ;
27297                             451 I1  
27298 00005998                    452 I1  START_CNT_BANK2_MAKCHK_END:
27299                             453 I1          SUB_END
27300                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27301 00005998 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27302                             454 I1          M_RTS
27303 0000599A 000B                   M           RTS                             ;RTSの後ろの
27304 0000599C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27305                             455 I1  
27306                             456 I1  
27307                             457 I1  ;       ***********************************
27308                             458 I1  ;       ***                             ***
27309                             459 I1  ;       ***     工程切り替え            ***
27310                             460 I1  ;       ***     前の機能もここで行う    ***
27311                             461 I1  ;       ***                             ***
27312                             462 I1  ;       ***********************************
27313                             463 I1  ;       Input R2
27314                                 I1  ***** BEGIN-POOL *****
27315 0000599E 0000                   I1  ALIGNMENT CODE
27316 000059A0 00000000               I1  DATA FOR SOURCE-LINE 439
27317 000059A4 00000000               I1  DATA FOR SOURCE-LINE 444
27318 000059A8 00000000               I1  DATA FOR SOURCE-LINE 447
27319 000059AC 00000000               I1  DATA FOR SOURCE-LINE 450
27320                                 I1  ***** END-POOL *****
27321 000059B0                    464 I1  _BANK_CHK_NEXT_CYCL_STR1;
27322                             465 I1          SUB_START
27323 000059B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
27324                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27325                             466 I1  
27326 000059B2 D10F               467 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
27327 000059B4 6011               468 I1          MOV.W   @R1,R0                          ;
27328 000059B6 C801               469 I1          TST     #BIT0,R0                        ;
27329                             470 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_020    ;
27330 000059B8 892A                   M           BT      BANKCHKNEXT_CYCL_STR1_020
27331                             471 I1  
27332 000059BA 9417               472 I1          MOV.W   #1,R4                           ;
27333 000059BC D10D               473 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
27334 000059BE 2141               474 I1          MOV.W   R4,@R1                          ;W
27335                             475 I1  
27336                             476 I1          FAR_JSR #_BANK2_TO_BANK1_MOV,R0         ;
27337 000059C0 D00D                   M           MOV.L   #_BANK2_TO_BANK1_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27338 000059C2 400B                   M           JSR     @R0                     ;
27339 000059C4 0009                   M           NOP                                     ;
27340 000059C6 D10D               477 I1          MOV.L   #_BANK2_LINK_OBJROT_NUM_ZR,R1   ;//NOW ROTATION 番号
27341 000059C8 6212               478 I1          MOV.L   @R1,R2                          ;
27342                             479 I1          PUSH_REG1 R2                            ;
27343 000059CA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
27344                                 M                                           ;REG=>[SP]
27345                                 M                                           ;"-4" FF,FF,FF,FC
27346                             480 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;
27347 000059CC D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27348 000059CE 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   385
PROGRAM NAME =

27349 000059D0 0009                   M           NOP                                     ;
27350                             481 I1          POP_REG1 R2                             ;
27351                                 M                                   ; RE"+4" 00,00,00,04
27352 000059D2 62F6                   M           MOV.L   @R15+,R2        ;
27353 000059D4 7201               482 I1          ADD     #1,R2                           ;NEW-ROT
27354                             483 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
27355 000059D6 D00B                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27356 000059D8 400B                   M           JSR     @R0                     ;
27357 000059DA 0009                   M           NOP                                     ;
27358                             484 I1  
27359                             485 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
27360                             486 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
27361 000059DC D00A                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27362 000059DE 400B                   M           JSR     @R0                     ;
27363 000059E0 0009                   M           NOP                                     ;
27364                             487 I1  
27365                             488 I1  ;--------2011-05-11----
27366                             489 I1          FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
27367 000059E2 D00A                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27368 000059E4 400B                   M           JSR     @R0                     ;
27369 000059E6 0009                   M           NOP                                     ;
27370                             490 I1  
27371                             491 I1  ;--------2011-05-05----
27372                             492 I1  ;;      MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
27373                             493 I1  ;;      MOV.W   @R1,R0                          ;
27374                             494 I1  ;;      TST     R0,R0                           ;
27375                             495 I1  ;;      TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
27376                             496 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
27377                             497 I1  ;;      MOV.W   @R1,R0                          ;
27378                             498 I1  ;;      OR      #BIT0,R0                        ;
27379                             499 I1  ;;      MOV.W   R0,@R1                          ;
27380                             500 I1  ;;BANKCHKNEXT_CYCL_STR1_010:
27381                             501 I1  
27382                             502 I1          M_BRA   BANKCHKNEXT_CYCL_STR1_100       ;
27383 000059E8 A025                   M           BRA     BANKCHKNEXT_CYCL_STR1_100
27384 000059EA 0009                   M           NOP
27385                             503 I1  
27386                                 I1  ***** BEGIN-POOL *****
27387 000059EC 0001                   I1  DATA FOR SOURCE-LINE 472
27388 000059EE 0000                   I1  ALIGNMENT CODE
27389 000059F0 00000000               I1  DATA FOR SOURCE-LINE 467
27390 000059F4 00000000               I1  DATA FOR SOURCE-LINE 473
27391 000059F8 00000000               I1  DATA FOR SOURCE-LINE 476
27392 000059FC 00000000               I1  DATA FOR SOURCE-LINE 477
27393 00005A00 00000000               I1  DATA FOR SOURCE-LINE 480
27394 00005A04 00000000               I1  DATA FOR SOURCE-LINE 483
27395 00005A08 00000000               I1  DATA FOR SOURCE-LINE 486
27396 00005A0C 00000000               I1  DATA FOR SOURCE-LINE 489
27397                                 I1  ***** END-POOL *****
27398 00005A10                    504 I1  BANKCHKNEXT_CYCL_STR1_020:
27399 00005A10 D10E               505 I1          MOV.L   #_CPOS_CTL_MATH,R1              ;
27400 00005A12 6011               506 I1          MOV.W   @R1,R0                          ;
27401 00005A14 C801               507 I1          TST     #_DMATH_CNTROT,R0               ;回転?
27402                             508 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_050
27403 00005A16 8900                   M           BT      BANKCHKNEXT_CYCL_STR1_050
27404 00005A18 7201               509 I1          ADD     #1,R2                           ;回転数+1<反転>
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   386
PROGRAM NAME =

27405 00005A1A                    510 I1  BANKCHKNEXT_CYCL_STR1_050:
27406                             511 I1  
27407 00005A1A 9415               512 I1          MOV.W   #1,R4
27408 00005A1C D10C               513 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
27409 00005A1E 2141               514 I1          MOV.W   R4,@R1                          ;(1だけでいいのか/つくり直す必要があるのか
                                          )
27410                             515 I1          PUSH_REG1 R2
27411 00005A20 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
27412                                 M                                           ;REG=>[SP]
27413                                 M                                           ;"-4" FF,FF,FF,FC
27414                             516 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
27415 00005A22 D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27416 00005A24 410B                   M           JSR     @R1                     ;
27417 00005A26 0009                   M           NOP                                     ;
27418                             517 I1          POP_REG1 R2
27419                                 M                                   ; RE"+4" 00,00,00,04
27420 00005A28 62F6                   M           MOV.L   @R15+,R2        ;
27421                             518 I1          FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
27422 00005A2A D10B                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27423 00005A2C 410B                   M           JSR     @R1                     ;
27424 00005A2E 0009                   M           NOP                                     ;
27425                             519 I1  
27426                             520 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
27427                             521 I1          FAR_JSR #_HLDCAM_ABS_POS_SET,R0         ;2014-08-30
27428 00005A30 D00A                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27429 00005A32 400B                   M           JSR     @R0                     ;
27430 00005A34 0009                   M           NOP                                     ;
27431                             522 I1  
27432 00005A36                    523 I1  BANKCHKNEXT_CYCL_STR1_100:
27433                             524 I1  ;       =====2003-07-09 速度============
27434                             525 I1          FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
27435 00005A36 D00A                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27436 00005A38 400B                   M           JSR     @R0                     ;
27437 00005A3A 0009                   M           NOP                                     ;
27438                             526 I1  ;       ===== 2003-07-14 TIME ======
27439                             527 I1          FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
27440 00005A3C D009                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27441 00005A3E 400B                   M           JSR     @R0                     ;
27442 00005A40 0009                   M           NOP                                     ;
27443                             528 I1  
27444                             529 I1  
27445                             530 I1  
27446                             531 I1          SUB_END
27447                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27448 00005A42 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27449                             532 I1          M_RTS
27450 00005A44 000B                   M           RTS                             ;RTSの後ろの
27451 00005A46 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27452                             533 I1  
27453                             534 I1  ;       ***************************************************
27454                             535 I1  ;       ***                                             ***
27455                             536 I1  ;       ***     2011-05-11                              ***
27456                             537 I1  ;       ***     ロットカウンタUPの1回転前信号           ***
27457                             538 I1  ;       ***     起動時点でこれがONならこの回転で止める  ***
27458                             539 I1  ;       ***                                             ***
27459                             540 I1  ;       ***************************************************
27460                             541 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   387
PROGRAM NAME =

27461                                 I1  ***** BEGIN-POOL *****
27462 00005A48 0001                   I1  DATA FOR SOURCE-LINE 512
27463 00005A4A 0000                   I1  ALIGNMENT CODE
27464 00005A4C 00000000               I1  DATA FOR SOURCE-LINE 505
27465 00005A50 00000000               I1  DATA FOR SOURCE-LINE 513
27466 00005A54 00000000               I1  DATA FOR SOURCE-LINE 516
27467 00005A58 00000000               I1  DATA FOR SOURCE-LINE 518
27468 00005A5C 00000000               I1  DATA FOR SOURCE-LINE 521
27469 00005A60 00000000               I1  DATA FOR SOURCE-LINE 525
27470 00005A64 00000000               I1  DATA FOR SOURCE-LINE 527
27471                                 I1  ***** END-POOL *****
27472 00005A68                    542 I1          .ALIGN  4                               ;
27473 00005A68                    543 I1  _CNT_BEF_LOT_SIGCHK:
27474                             544 I1          SUB_START
27475 00005A68 4F22                   M           STS.L   PR,@-R15                ;[必要]
27476                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27477                             545 I1  
27478 00005A6A D105               546 I1          MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
27479 00005A6C 6011               547 I1          MOV.W   @R1,R0                          ;
27480 00005A6E 2008               548 I1          TST     R0,R0                           ;
27481                             549 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
27482 00005A70 8903                   M           BT      BANKCHKNEXT_CYCL_STR1_010
27483 00005A72 D104               550 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
27484 00005A74 6011               551 I1          MOV.W   @R1,R0                          ;
27485 00005A76 CB01               552 I1          OR      #BIT0,R0                        ;
27486 00005A78 2101               553 I1          MOV.W   R0,@R1                          ;
27487 00005A7A                    554 I1  BANKCHKNEXT_CYCL_STR1_010:
27488                             555 I1  
27489                             556 I1          SUB_END
27490                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27491 00005A7A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27492                             557 I1          M_RTS
27493 00005A7C 000B                   M           RTS                             ;RTSの後ろの
27494 00005A7E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27495                             558 I1  
27496                             559 I1  ;       ***************************************************
27497                             560 I1  ;       ***     停止があるタイプ                        ***
27498                             561 I1  ;       ***     停止がないタイプでも１回転部では可能    ***
27499                             562 I1  ;       ***     BIT3=0 BIT2=1                           ***
27500                             563 I1  ;       ***************************************************
27501                                 I1  ***** BEGIN-POOL *****
27502 00005A80 00000000               I1  DATA FOR SOURCE-LINE 546
27503 00005A84 00000000               I1  DATA FOR SOURCE-LINE 550
27504                                 I1  ***** END-POOL *****
27505 00005A88                    564 I1          .ALIGN  4                               ;
27506 00005A88                    565 I1  _BANK_CNT_STOP_CHK_TYP1
27507                             566 I1          SUB_START
27508 00005A88 4F22                   M           STS.L   PR,@-R15                ;[必要]
27509                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27510                             567 I1  
27511 00005A8A D10F               568 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27512 00005A8C 6011               569 I1          MOV.W   @R1,R0                          ;
27513 00005A8E 2008               570 I1          TST     R0,R0                           ;
27514                             571 I1          TST_BIT_ON BANK_CNT_STOPCHK_TYP1_200    ;停止減算完了
27515 00005A90 8B16                   M           BF      BANK_CNT_STOPCHK_TYP1_200
27516                             572 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   388
PROGRAM NAME =

27517                             573 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
27518 00005A92 D00E                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27519 00005A94 400B                   M           JSR     @R0                     ;
27520 00005A96 0009                   M           NOP                                     ;
27521 00005A98 2008               574 I1          TST     R0,R0                           ;
27522                             575 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200
27523 00005A9A 8911                   M           BT      BANK_CNT_STOPCHK_TYP1_200
27524                             576 I1  
27525                             577 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;
27526 00005A9C D00C                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27527 00005A9E 400B                   M           JSR     @R0                     ;
27528 00005AA0 0009                   M           NOP                                     ;
27529                             578 I1  
27530 00005AA2 D10C               579 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
27531 00005AA4 6011               580 I1          MOV.W   @R1,R0                          ;
27532 00005AA6 C801               581 I1          TST     #BIT0,R0                        ;
27533                             582 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200;
27534 00005AA8 890A                   M           BT      BANK_CNT_STOPCHK_TYP1_200
27535                             583 I1  
27536                             584 I1  ;       ----- 停止ｺﾏﾝﾄﾞON -----
27537                             585 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0     ;(連続ALL-ではこの処理はない：足しにいく処
                                          理にこない)
27538 00005AAA D00B                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27539 00005AAC 400B                   M           JSR     @R0                     ;
27540 00005AAE 0009                   M           NOP                                     ;
27541                             586 I1  
27542                             587 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
27543 00005AB0 D10A                   M           MOV.L   #_STOP_LATCH,R1         ;
27544 00005AB2 6011                   M           MOV.W   @R1,R0          ;
27545 00005AB4 CB01                   M           OR      #BIT0,R0                ;
27546 00005AB6 2101                   M           MOV.W   R0,@R1          ;
27547                             588 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
27548 00005AB8 D103                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27549 00005ABA 6011                   M           MOV.W   @R1,R0          ;
27550 00005ABC CB02                   M           OR      #BIT1,R0                ;
27551 00005ABE 2101                   M           MOV.W   R0,@R1          ;
27552                             589 I1  
27553                             590 I1  
27554                             591 I1  
27555 00005AC0                    592 I1  BANK_CNT_STOPCHK_TYP1_200
27556                             593 I1  
27557                             594 I1          SUB_END
27558                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27559 00005AC0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27560                             595 I1          M_RTS
27561 00005AC2 000B                   M           RTS                             ;RTSの後ろの
27562 00005AC4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27563                             596 I1  
27564                             597 I1  
27565                             598 I1  ;       *******************************************
27566                             599 I1  ;       ***                                     ***
27567                             600 I1  ;       ***     通常運転状態での停止処理        ***
27568                             601 I1  ;       ***                                     ***
27569                             602 I1  ;       *******************************************
27570                                 I1  ***** BEGIN-POOL *****
27571 00005AC6 0000                   I1  ALIGNMENT CODE
27572 00005AC8 00000000               I1  DATA FOR SOURCE-LINE 568,588
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   389
PROGRAM NAME =

27573 00005ACC 00000000               I1  DATA FOR SOURCE-LINE 573
27574 00005AD0 00000000               I1  DATA FOR SOURCE-LINE 577
27575 00005AD4 00000000               I1  DATA FOR SOURCE-LINE 579
27576 00005AD8 00000000               I1  DATA FOR SOURCE-LINE 585
27577 00005ADC 00000000               I1  DATA FOR SOURCE-LINE 587
27578                                 I1  ***** END-POOL *****
27579          000007D0           603 I1  _PROC_2MS_PLS   .EQU    2000    ;2000pls 500KHZ=500pls
27580                             604 I1  
27581 00005AE0                    605 I1  _CNT_GPOINT_STOP_TYP2:
27582                             606 I1          SUB_START
27583 00005AE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
27584                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27585 00005AE2 D11F               607 I1          MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦
27586 00005AE4 6011               608 I1          MOV.W   @R1,R0                                  ;
27587 00005AE6 C801               609 I1          TST     #BIT0,R0                                ;
27588                             610 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;
27589 00005AE8 8937                   M           BT      CNT_GPOINT_STOPTYP2_100
27590                             611 I1  
27591                             612 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0                  ;引きたい量
27592 00005AEA D01E                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27593 00005AEC 400B                   M           JSR     @R0                     ;
27594 00005AEE 0009                   M           NOP                                     ;
27595                             613 I1  
27596                             614 I1  ;;2007-03-02    TST     R0,R0                                   ;
27597                             615 I1  ;;2007-03-02    TST_BIT_ON CNT_GPOINT_STOPTYP2_100              ;減算不可JUMP
27598                             616 I1  
27599                             617 I1  ;       -------- 2007-03-02------
27600                             618 I1          FAR_JSR #_CMP_CNT_CTLGENSOK,R0                  ;
27601 00005AF0 D01D                   M           MOV.L   #_CMP_CNT_CTLGENSOK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27602 00005AF2 400B                   M           JSR     @R0                     ;
27603 00005AF4 0009                   M           NOP                                     ;
27604 00005AF6 88FF               619 I1          CMP/EQ  #-1,R0                                  ;
27605 00005AF8 892F               620 I1          BT      CNT_GPOINT_STOPTYP2_100                 ;減算不可JUMP(ERR)
27606                             621 I1  
27607 00005AFA 2008               622 I1          TST     R0,R0                                   ;
27608                             623 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_050              ;止まれる
27609 00005AFC 8908                   M           BT      CNT_GPOINT_STOPTYP2_050
27610                             624 I1  
27611                             625 I1  ;       ---- 相手CPUはなんていっているの-----
27612                             626 I1          FAR_JSR #_CPU_BA_CST_ON_JG,R0                   ;
27613 00005AFE D01B                   M           MOV.L   #_CPU_BA_CST_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27614 00005B00 400B                   M           JSR     @R0                     ;
27615 00005B02 0009                   M           NOP                                     ;
27616 00005B04 2008               627 I1          TST     R0,R0                                   ;
27617                             628 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;相手は停まるといっていいないJUMP
27618 00005B06 8928                   M           BT      CNT_GPOINT_STOPTYP2_100
27619                             629 I1  
27620                             630 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT1,WKREG=R1     ;bit-set
27621 00005B08 D119                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
27622 00005B0A 6011                   M           MOV.W   @R1,R0          ;
27623 00005B0C CB02                   M           OR      #BIT1,R0                ;
27624 00005B0E 2101                   M           MOV.W   R0,@R1          ;
27625                             631 I1  
27626 00005B10                    632 I1  CNT_GPOINT_STOPTYP2_050:
27627 00005B10 D418               633 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                                       ;
27628 00005B12 6242               634 I1          MOV.L   @R4,R2                                                          ;
27629 00005B14 632B               635 I1          NEG     R2,R3                                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   390
PROGRAM NAME =

27630                             636 I1  
27631                             637 I1          POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
27632                                 M           PUSH_REG1 R1
27633 00005B16 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
27634                                 M                                           ;REG=>[SP]
27635                                 M                                           ;"-4" FF,FF,FF,FC
27636                                 M           PUSH_REG1 R3
27637 00005B18 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
27638                                 M                                           ;REG=>[SP]
27639                                 M                                           ;"-4" FF,FF,FF,FC
27640                                 M           POS_LSI_WORD_DUM_LOD                                    ;
27641                                 M           PUSH_REG1 R0
27642 00005B1A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
27643                                 M                                           ;REG=>[SP]
27644                                 M                                           ;"-4" FF,FF,FF,FC
27645 00005B1C D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
27646 00005B1E 6001                   M           MOV.W   @R0,R0
27647                                 M           POP_REG1 R0
27648                                 M                                   ; RE"+4" 00,00,00,04
27649 00005B20 60F6                   M           MOV.L   @R15+,R0        ;
27650 00005B22 D116                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
27651 00005B24 2131                   M           MOV.W   R3,@R1                          ;(LOW)
27652 00005B26 7102                   M           ADD     #2,R1                                   ;
27653 00005B28 6339                   M           SWAP.W  R3,R3                           ;
27654                                 M           POS_LSI_WORD_DUM_LOD                                    ;
27655                                 M           PUSH_REG1 R0
27656 00005B2A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
27657                                 M                                           ;REG=>[SP]
27658                                 M                                           ;"-4" FF,FF,FF,FC
27659 00005B2C D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
27660 00005B2E 6001                   M           MOV.W   @R0,R0
27661                                 M           POP_REG1 R0
27662                                 M                                   ; RE"+4" 00,00,00,04
27663 00005B30 60F6                   M           MOV.L   @R15+,R0        ;
27664 00005B32 2131                   M           MOV.W   R3,@R1                          ;(HIGH)
27665                                 M           POS_LSI_WORD_DUM_LOD                                    ;
27666                                 M           PUSH_REG1 R0
27667 00005B34 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
27668                                 M                                           ;REG=>[SP]
27669                                 M                                           ;"-4" FF,FF,FF,FC
27670 00005B36 D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
27671 00005B38 6001                   M           MOV.W   @R0,R0
27672                                 M           POP_REG1 R0
27673                                 M                                   ; RE"+4" 00,00,00,04
27674 00005B3A 60F6                   M           MOV.L   @R15+,R0        ;
27675                                 M           POP_REG1 R3
27676                                 M                                   ; RE"+4" 00,00,00,04
27677 00005B3C 63F6                   M           MOV.L   @R15+,R3        ;
27678                                 M           POP_REG1 R1
27679                                 M                                   ; RE"+4" 00,00,00,04
27680 00005B3E 61F6                   M           MOV.L   @R15+,R1        ;
27681                             638 I1  
27682                             639 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;LINK_SV_O
                                          BJ_ABSPLS-ESUB
27683 00005B40 D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27684 00005B42 400B                   M           JSR     @R0                     ;
27685 00005B44 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   391
PROGRAM NAME =

27686                             640 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
27687 00005B46 D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27688 00005B48 400B                   M           JSR     @R0                     ;
27689 00005B4A 0009                   M           NOP                                     ;
27690                             641 I1  
27691                             642 I1  ;;;;    MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
27692                             643 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
27693 00005B4C D10E                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27694 00005B4E 6011                   M           MOV.W   @R1,R0          ;
27695 00005B50 CB02                   M           OR      #BIT1,R0                ;
27696 00005B52 2101                   M           MOV.W   R0,@R1          ;
27697                             644 I1  
27698                             645 I1  ;       ----- 2007-03-02---
27699                             646 I1          FAR_JSR #_STOP_LTH_OUT,R0
27700 00005B54 D00D                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27701 00005B56 400B                   M           JSR     @R0                     ;
27702 00005B58 0009                   M           NOP                                     ;
27703                             647 I1  
27704                             648 I1  
27705 00005B5A                    649 I1  CNT_GPOINT_STOPTYP2_100:
27706                             650 I1          SUB_END
27707                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27708 00005B5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27709                             651 I1          M_RTS
27710 00005B5C 000B                   M           RTS                             ;RTSの後ろの
27711 00005B5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27712                             652 I1  
27713                             653 I1  
27714                             654 I1  ;;_CNT_GPOINT_STOP_TYP2:
27715                             655 I1  ;;      SUB_START
27716                             656 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
27717                             657 I1  ;;      MOV.W   @R1,R0                          ;
27718                             658 I1  ;       TST     #BIT0,R0                        ;
27719                             659 I1  ;;      TST_BIT_OF CNT_GPOINT_STOPTYP2_100      ;
27720                             660 I1  ;;
27721                             661 I1  ;;      FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;引きたい量
27722                             662 I1  ;;
27723                             663 I1  ;;      MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
27724                             664 I1  ;;      MOV.L   @R4,R2                          ;
27725                             665 I1  ;;      NEG     R2,R3                           ;
27726                             666 I1  ;;
27727                             667 I1  ;;      MOV.W   #_PROC_2MS_PLS,R4               ;
27728                             668 I1  ;;      ADD     R4,R2                           ;
27729                             669 I1  ;;      FAR_JSR #_LOAD_GPOINT_PLS,R0            ;2004-12-19
27730                             670 I1  ;;      MOV     R0,R6                           ;R/W 減速点=R6
27731                             671 I1  ;;      ADD     R6,R2                           ;
27732                             672 I1  ;;
27733                             673 I1  ;;      FAR_JSR #_LOAD_REST_PLS,R0                              ;ANS R0
27734                             674 I1  ;;      SUBPLS+GPOSINT+1000PLS ≦残りﾊﾟﾙｽ                       ;
27735                             675 I1  ;;      CMP/GE  R2,R0                                           ;
27736                             676 I1  ;;      BF      CNT_GPOINT_STOPTYP2_100                         ;減算不可JUMP
27737                             677 I1  ;;
27738                             678 I1  ;;      POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
27739                             679 I1  ;;
27740                             680 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;
27741                             681 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
27742                             682 I1  ;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   392
PROGRAM NAME =

27743                             683 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
27744                             684 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
27745                             685 I1  ;;
27746                             686 I1  ;;
27747                             687 I1  ;;CNT_GPOINT_STOPTYP2_100:
27748                             688 I1  ;;
27749                             689 I1  ;;
27750                             690 I1  ;;      SUB_END
27751                             691 I1  ;;      M_RTS
27752                             692 I1  
27753                             693 I1  ;       ***************************
27754                             694 I1  ;       ***     停止演算        ***
27755                             695 I1  ;       ***************************
27756                             696 I1  ;       CASE1:完全連続  --->    止まれる位置：残りパルス≧１回転(SV_OBJ_-最終)＋今の減速点
27757                             697 I1  ;       CASE2:ﾀｲﾏ有り   --->    最終工程相当の動作開始時にﾊﾟﾙｽを足さない(減算処理完了)
27758                             698 I1  ;                               動作中最終工程相当にパルスを減らす(SV-OBJ-最終)
27759                             699 I1  ;(起動時)
27760                                 I1  ***** BEGIN-POOL *****
27761 00005B60 00000000               I1  DATA FOR SOURCE-LINE 607
27762 00005B64 00000000               I1  DATA FOR SOURCE-LINE 612
27763 00005B68 00000000               I1  DATA FOR SOURCE-LINE 618
27764 00005B6C 00000000               I1  DATA FOR SOURCE-LINE 626
27765 00005B70 00000000               I1  DATA FOR SOURCE-LINE 630
27766 00005B74 00000000               I1  DATA FOR SOURCE-LINE 633
27767 00005B78 00000000               I1  DATA FOR SOURCE-LINE 637,637,637
27768 00005B7C 00000000               I1  DATA FOR SOURCE-LINE 637
27769 00005B80 00000000               I1  DATA FOR SOURCE-LINE 639
27770 00005B84 00000000               I1  DATA FOR SOURCE-LINE 640
27771 00005B88 00000000               I1  DATA FOR SOURCE-LINE 643
27772 00005B8C 00000000               I1  DATA FOR SOURCE-LINE 646
27773                                 I1  ***** END-POOL *****
27774 00005B90                    700 I1  _CNT_SUB_DATA_CALC:
27775                             701 I1          SUB_START
27776 00005B90 4F22                   M           STS.L   PR,@-R15                ;[必要]
27777                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27778                             702 I1  
27779 00005B92 D111               703 I1          MOV.L   #_CPOS_STEP_MAX,R1                              ;
27780 00005B94 6011               704 I1          MOV.W   @R1,R0                                          ;+1して-1した計算
27781 00005B96 D411               705 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
27782 00005B98 4008               706 I1          SHLL2   R0                                                      ;
27783 00005B9A 4000               707 I1          SHLL    R0                                                      ;
27784 00005B9C 340C               708 I1          ADD     R0,R4                                                   ;
27785 00005B9E 6546               709 I1          MOV.L   @R4+,R5                                                 ;
27786 00005BA0 6642               710 I1          MOV.L   @R4,R6                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
27787                             711 I1  
27788 00005BA2 D40F               712 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
27789 00005BA4 6146               713 I1          MOV.L   @R4+,R1                                                 ;
27790 00005BA6 6242               714 I1          MOV.L   @R4,R2                                                  ;
27791                             715 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27792 00005BA8 0008                   M           CLRT
27793 00005BAA 326A                   M           SUBC    R6,R2
27794 00005BAC 315A                   M           SUBC    R5,R1
27795                             716 I1  
27796 00005BAE 4111               717 I1          CMP/PZ  R1                              ;
27797 00005BB0 8901               718 I1          BT      CNT_SUB_DATACALC_100            ;
27798 00005BB2 211A               719 I1          XOR     R1,R1                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   393
PROGRAM NAME =

27799 00005BB4 222A               720 I1          XOR     R2,R2                           ;ERR(-)
27800                             721 I1  
27801 00005BB6                    722 I1  CNT_SUB_DATACALC_100:
27802 00005BB6 2118               723 I1          TST     R1,R1                           ;
27803                             724 I1          TST_BIT_ON CNT_SUB_DATACALC_120         ;ERR(over)
27804 00005BB8 8B02                   M           BF      CNT_SUB_DATACALC_120
27805                             725 I1  
27806 00005BBA D10A               726 I1          MOV.L   #H'3FFFFFF,R1                   ;(本当はPLS*2+)
27807 00005BBC 3122               727 I1          CMP/HS  R2,R1                           ;
27808 00005BBE 8905               728 I1          BT      CNT_SUB_DATACALC_150            ;許す
27809 00005BC0                    729 I1  CNT_SUB_DATACALC_120:
27810 00005BC0 211A               730 I1          XOR     R1,R1                           ;
27811 00005BC2 222A               731 I1          XOR     R2,R2                           ;ERR(over)
27812                             732 I1  
27813                             733 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_BANK_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1   ;
27814 00005BC4 D108                   M           MOV.L   #_CNT_BANK_CALC_ERR,R1          ;
27815 00005BC6 6011                   M           MOV.W   @R1,R0          ;
27816 00005BC8 CB01                   M           OR      #BIT0,R0                ;
27817 00005BCA 2101                   M           MOV.W   R0,@R1          ;
27818                             734 I1  
27819 00005BCC                    735 I1  CNT_SUB_DATACALC_150:
27820 00005BCC D407               736 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
27821 00005BCE 2422               737 I1          MOV.L   R2,@R4                          ;
27822                             738 I1  
27823                             739 I1  ;       (目標)-R2(待機点)
27824                             740 I1          SUB_END
27825                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27826 00005BD0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27827                             741 I1          M_RTS
27828 00005BD2 000B                   M           RTS                             ;RTSの後ろの
27829 00005BD4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27830                             742 I1  
27831                             743 I1  
27832                             744 I1  
27833                             745 I1  
27834                             746 I1  
27835                             747 I1  
27836                             748 I1  
27837                             749 I1  
27838                             750 I1  
27839                             751 I1  
27840                             752 I1  
27841                             753 I1  ;       ***********************************
27842                             754 I1  ;       ***     データの減算1           ***
27843                             755 I1  ;       ***********************************
27844                             756 I1  ;       条件はこの上で見る
27845                                 I1  ***** BEGIN-POOL *****
27846 00005BD6 0000                   I1  ALIGNMENT CODE
27847 00005BD8 00000000               I1  DATA FOR SOURCE-LINE 703
27848 00005BDC 00000000               I1  DATA FOR SOURCE-LINE 705
27849 00005BE0 00000000               I1  DATA FOR SOURCE-LINE 712
27850 00005BE4 03FFFFFF               I1  DATA FOR SOURCE-LINE 726
27851 00005BE8 00000000               I1  DATA FOR SOURCE-LINE 733
27852 00005BEC 00000000               I1  DATA FOR SOURCE-LINE 736
27853                                 I1  ***** END-POOL *****
27854 00005BF0                    757 I1  _CNT_STOP_CMD_DATA_SUB1:
27855                             758 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   394
PROGRAM NAME =

27856 00005BF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
27857                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27858                             759 I1  
27859 00005BF2 D410               760 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
27860 00005BF4 6642               761 I1          MOV.L   @R4,R6                                                  ;
27861 00005BF6 255A               762 I1          XOR     R5,R5                                                   ;
27862                             763 I1  
27863 00005BF8 D40F               764 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
27864 00005BFA 6142               765 I1          MOV.L   @R4,R1                                                  ;
27865 00005BFC 5241               766 I1          MOV.L   @(4,R4),R2                                              ;
27866                             767 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27867 00005BFE 0008                   M           CLRT
27868 00005C00 326A                   M           SUBC    R6,R2
27869 00005C02 315A                   M           SUBC    R5,R1
27870 00005C04 2412               768 I1          MOV.L   R1,@R4                                                  ;
27871 00005C06 1421               769 I1          MOV.L   R2,@(4,R4)                                              ;
27872 00005C08 D40C               770 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                                ;
27873 00005C0A 2412               771 I1          MOV.L   R1,@R4                                                  ;
27874 00005C0C 1421               772 I1          MOV.L   R2,@(4,R4)                                              ;
27875                             773 I1  
27876 00005C0E D40C               774 I1          MOV.L   #_LNGTH_ADD_DATA,R4                                     ;//符号付き
27877 00005C10 6142               775 I1          MOV.L   @R4,R1                                                  ;
27878 00005C12 5241               776 I1          MOV.L   @(4,R4),R2                                              ;
27879                             777 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27880 00005C14 0008                   M           CLRT
27881 00005C16 326A                   M           SUBC    R6,R2
27882 00005C18 315A                   M           SUBC    R5,R1
27883                             778 I1  
27884 00005C1A 4111               779 I1          CMP/PZ  R1
27885 00005C1C 8901               780 I1          BT      CNT_STOP_CMD_DATSUB1_100                                ;
27886 00005C1E 211A               781 I1          XOR     R1,R1                                                   ;
27887 00005C20 222A               782 I1          XOR     R2,R2                                                   ;
27888 00005C22                    783 I1  CNT_STOP_CMD_DATSUB1_100:                                               ;
27889                             784 I1  
27890 00005C22 2412               785 I1          MOV.L   R1,@R4                                                  ;
27891 00005C24 1421               786 I1          MOV.L   R2,@(4,R4)                                              ;
27892                             787 I1  
27893 00005C26 D407               788 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                                  ;//符号付き
27894 00005C28 2412               789 I1          MOV.L   R1,@R4                                                  ;
27895 00005C2A 1421               790 I1          MOV.L   R2,@(4,R4)                                              ;
27896                             791 I1  
27897                             792 I1  
27898                             793 I1          SUB_END
27899                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27900 00005C2C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27901                             794 I1          M_RTS
27902 00005C2E 000B                   M           RTS                             ;RTSの後ろの
27903 00005C30 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27904                             795 I1  
27905                             796 I1  
27906                                 I1  ***** BEGIN-POOL *****
27907 00005C32 0000                   I1  ALIGNMENT CODE
27908 00005C34 00000000               I1  DATA FOR SOURCE-LINE 760
27909 00005C38 00000000               I1  DATA FOR SOURCE-LINE 764
27910 00005C3C 00000000               I1  DATA FOR SOURCE-LINE 770
27911 00005C40 00000000               I1  DATA FOR SOURCE-LINE 774
27912 00005C44 00000000               I1  DATA FOR SOURCE-LINE 788
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   395
PROGRAM NAME =

27913                                 I1  ***** END-POOL *****
27914 00005C48                    797 I1  _CNT_STOP_CMD_DATA_SUB2:
27915                             798 I1          SUB_START
27916 00005C48 4F22                   M           STS.L   PR,@-R15                ;[必要]
27917                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27918 00005C4A D40A               799 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
27919 00005C4C 6642               800 I1          MOV.L   @R4,R6                                                  ;
27920 00005C4E 255A               801 I1          XOR     R5,R5                                                   ;
27921                             802 I1  
27922 00005C50 D409               803 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R4                                 ;
27923 00005C52 6142               804 I1          MOV.L   @R4,R1                                                  ;
27924 00005C54 5241               805 I1          MOV.L   @(4,R4),R2                                              ;
27925                             806 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27926 00005C56 0008                   M           CLRT
27927 00005C58 326A                   M           SUBC    R6,R2
27928 00005C5A 315A                   M           SUBC    R5,R1
27929                             807 I1  
27930 00005C5C 4111               808 I1          CMP/PZ  R1                                                      ;
27931 00005C5E 8901               809 I1          BT      CNT_STOP_CMD_DATSUB2_100                                ;
27932 00005C60 211A               810 I1          XOR     R1,R1
27933 00005C62 222A               811 I1          XOR     R2,R2
27934 00005C64                    812 I1  CNT_STOP_CMD_DATSUB2_100:
27935 00005C64 2412               813 I1          MOV.L   R1,@R4                                                  ;
27936 00005C66 1421               814 I1          MOV.L   R2,@(4,R4)                                              ;
27937                             815 I1  
27938 00005C68 D404               816 I1          MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R4                              ;
27939 00005C6A 2412               817 I1          MOV.L   R1,@R4                                                  ;
27940 00005C6C 1421               818 I1          MOV.L   R2,@(4,R4)                                              ;
27941                             819 I1  
27942                             820 I1          SUB_END
27943                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27944 00005C6E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27945                             821 I1          M_RTS
27946 00005C70 000B                   M           RTS                             ;RTSの後ろの
27947 00005C72 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27948                             822 I1  
27949                             823 I1  
27950                            8251     
27951                            8252     
27952                            8253     ;       ***********************************
27953                            8254     ;       ***                             ***
27954                            8255     ;       ***     2006-05-09              ***
27955                            8256     ;       ***                             ***
27956                            8257     ;       ***********************************
27957                            8258             .EXPORT _SELF_POS_START_WORK_CLR
27958                                     ***** BEGIN-POOL *****
27959 00005C74 00000000                   DATA FOR SOURCE-LINE 799
27960 00005C78 00000000                   DATA FOR SOURCE-LINE 803
27961 00005C7C 00000000                   DATA FOR SOURCE-LINE 816
27962                                     ***** END-POOL *****
27963 00005C80                   8259             .ALIGN  4                               ;
27964 00005C80                   8260     _SELF_POS_START_WORK_CLR:
27965                            8261             SUB_START
27966 00005C80 4F22                   M           STS.L   PR,@-R15                ;[必要]
27967                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27968                            8262             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
27969 00005C82 D004                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   396
PROGRAM NAME =

27970 00005C84 400B                   M           JSR     @R0                     ;
27971 00005C86 0009                   M           NOP                                     ;
27972                            8263             FAR_JSR #_POS_LSI_WORK_STOP2,R0
27973 00005C88 D003                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27974 00005C8A 400B                   M           JSR     @R0                     ;
27975 00005C8C 0009                   M           NOP                                     ;
27976                            8264             SUB_END
27977                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27978 00005C8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27979                            8265             M_RTS
27980 00005C90 000B                   M           RTS                             ;RTSの後ろの
27981 00005C92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27982                            8266     
27983                            8267     ;       ***********************************
27984                            8268     ;       ***                             ***
27985                            8269     ;       ***     2006-07-28              ***
27986                            8270     ;       ***                             ***
27987                            8271     ;       ***********************************
27988                                     ***** BEGIN-POOL *****
27989 00005C94 00000000                   DATA FOR SOURCE-LINE 8262
27990 00005C98 00000000                   DATA FOR SOURCE-LINE 8263
27991                                     ***** END-POOL *****
27992 00005C9C                   8272             .ALIGN  4                               ;
27993 00005C9C                   8273     _POS_CALC_MISS0:
27994                            8274             SUB_START
27995 00005C9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
27996                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27997                            8275             PUSH_REG1 R0
27998 00005C9E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
27999                                 M                                           ;REG=>[SP]
28000                                 M                                           ;"-4" FF,FF,FF,FC
28001                            8276             PUSH_REG1 R1
28002 00005CA0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28003                                 M                                           ;REG=>[SP]
28004                                 M                                           ;"-4" FF,FF,FF,FC
28005                            8277             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT0,WKREG=R1      ;
28006 00005CA2 D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28007 00005CA4 6011                   M           MOV.W   @R1,R0          ;
28008 00005CA6 CB01                   M           OR      #BIT0,R0                ;
28009 00005CA8 2101                   M           MOV.W   R0,@R1          ;
28010                            8278             POP_REG1 R1
28011                                 M                                   ; RE"+4" 00,00,00,04
28012 00005CAA 61F6                   M           MOV.L   @R15+,R1        ;
28013                            8279             POP_REG1 R0
28014                                 M                                   ; RE"+4" 00,00,00,04
28015 00005CAC 60F6                   M           MOV.L   @R15+,R0        ;
28016                            8280             SUB_END
28017                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28018 00005CAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28019                            8281             M_RTS
28020 00005CB0 000B                   M           RTS                             ;RTSの後ろの
28021 00005CB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28022                            8282     
28023                                     ***** BEGIN-POOL *****
28024 00005CB4 00000000                   DATA FOR SOURCE-LINE 8277
28025                                     ***** END-POOL *****
28026 00005CB8                   8283             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   397
PROGRAM NAME =

28027 00005CB8                   8284     _POS_CALC_MISS1:
28028                            8285             SUB_START
28029 00005CB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
28030                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28031                            8286             PUSH_REG1 R0
28032 00005CBA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28033                                 M                                           ;REG=>[SP]
28034                                 M                                           ;"-4" FF,FF,FF,FC
28035                            8287             PUSH_REG1 R1
28036 00005CBC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28037                                 M                                           ;REG=>[SP]
28038                                 M                                           ;"-4" FF,FF,FF,FC
28039                            8288             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT1,WKREG=R1      ;
28040 00005CBE D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28041 00005CC0 6011                   M           MOV.W   @R1,R0          ;
28042 00005CC2 CB02                   M           OR      #BIT1,R0                ;
28043 00005CC4 2101                   M           MOV.W   R0,@R1          ;
28044                            8289             POP_REG1 R1
28045                                 M                                   ; RE"+4" 00,00,00,04
28046 00005CC6 61F6                   M           MOV.L   @R15+,R1        ;
28047                            8290             POP_REG1 R0
28048                                 M                                   ; RE"+4" 00,00,00,04
28049 00005CC8 60F6                   M           MOV.L   @R15+,R0        ;
28050                            8291             SUB_END
28051                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28052 00005CCA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28053                            8292             M_RTS
28054 00005CCC 000B                   M           RTS                             ;RTSの後ろの
28055 00005CCE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28056                            8293     
28057                                     ***** BEGIN-POOL *****
28058 00005CD0 00000000                   DATA FOR SOURCE-LINE 8288
28059                                     ***** END-POOL *****
28060 00005CD4                   8294             .ALIGN  4                               ;
28061 00005CD4                   8295     _POS_CALC_MISS2:
28062                            8296             SUB_START
28063 00005CD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
28064                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28065                            8297             PUSH_REG1 R0
28066 00005CD6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28067                                 M                                           ;REG=>[SP]
28068                                 M                                           ;"-4" FF,FF,FF,FC
28069                            8298             PUSH_REG1 R1
28070 00005CD8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28071                                 M                                           ;REG=>[SP]
28072                                 M                                           ;"-4" FF,FF,FF,FC
28073                            8299             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT2,WKREG=R1      ;
28074 00005CDA D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28075 00005CDC 6011                   M           MOV.W   @R1,R0          ;
28076 00005CDE CB04                   M           OR      #BIT2,R0                ;
28077 00005CE0 2101                   M           MOV.W   R0,@R1          ;
28078                            8300             POP_REG1 R1
28079                                 M                                   ; RE"+4" 00,00,00,04
28080 00005CE2 61F6                   M           MOV.L   @R15+,R1        ;
28081                            8301             POP_REG1 R0
28082                                 M                                   ; RE"+4" 00,00,00,04
28083 00005CE4 60F6                   M           MOV.L   @R15+,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   398
PROGRAM NAME =

28084                            8302             SUB_END
28085                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28086 00005CE6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28087                            8303     
28088                            8304             M_RTS
28089 00005CE8 000B                   M           RTS                             ;RTSの後ろの
28090 00005CEA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28091                            8305     ;       ===================================================================
28092                            8306     ;       ====                                                            ===
28093                            8307     ;       ====                                                            ===
28094                            8308     ;       ====                                                            ===
28095                            8309     ;       ====            2006-09-19オーバライド周波数対応                ===
28096                            8310     ;       ====                                                            ===
28097                            8311     ;       ====                                                            ===
28098                            8312     ;       ====                                                            ===
28099                            8313     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
28100                            8314     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
28101                            8315     ;       ====    <3>:減速の補正は行なわない                              ===
28102                            8316     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
28103                            8317     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
28104                            8318     ;       ====                                                            ===
28105                            8319     ;       ====                                                            ===
28106                            8320     ;       ===================================================================
28107                            8321     
28108                            8322     
28109                            8323     
28110                            8324     
28111                            8325     ;       ***************************************************
28112                            8326     ;       ***                                             ***
28113                            8327     ;       ***     SEQからのｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀの取り込み         ***
28114                            8328     ;       ***                                             ***
28115                            8329     ;       ***************************************************
28116                                     ***** BEGIN-POOL *****
28117 00005CEC 00000000                   DATA FOR SOURCE-LINE 8299
28118                                     ***** END-POOL *****
28119 00005CF0                   8330             .ALIGN  4                               ;
28120 00005CF0                   8331     _OVER_LIDE_SEQREF:
28121                            8332             SUB_START
28122 00005CF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
28123                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28124                            8333     
28125 00005CF2 D10A              8334             MOV.L   #_CB_SEQ_CB_COM346,R1
                                          ;
28126 00005CF4 6011              8335             MOV.W   @R1,R0
                                          ;
28127 00005CF6 6503              8336             MOV     R0,R5
                                          ;
28128 00005CF8 C880              8337             TST     #BIT7,R0
                                          ;
28129                            8338             TST_BIT_ON OVER_LIDE_SQRF100
                                          ;
28130 00005CFA 8B15                   M           BF      OVER_LIDE_SQRF100
28131                            8339     
28132 00005CFC D108              8340             MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
28133 00005CFE 6011              8341             MOV.W   @R1,R0                          ;
28134 00005D00 C802              8342             TST     #BIT1,R0                        ;
28135                            8343             TST_BIT_OF OVER_LIDE_SQRF300            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   399
PROGRAM NAME =

28136 00005D02 8935                   M           BT      OVER_LIDE_SQRF300
28137                            8344             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=~BIT1,WKREG=R1
                                          ;//
28138 00005D04 D106                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
28139 00005D06 6011                   M           MOV.W   @R1,R0          ;
28140 00005D08 C9FD                   M           AND     #LOW ~BIT1,R0           ;
28141 00005D0A 2101                   M           MOV.W   R0,@R1          ;
28142                            8345             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB230),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                                  ;
28143 00005D0C D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB230),R1           ;
28144 00005D0E 6011                   M           MOV.W   @R1,R0          ;
28145 00005D10 9403                   M           MOV.W   #LWORD (~BIT7),R4       ;
28146 00005D12 2049                   M           AND     R4,R0           ;
28147 00005D14 2101                   M           MOV.W   R0,@R1          ;
28148                            8346             M_BRA   OVER_LIDE_SQRF300
                                          ;
28149 00005D16 A02B                   M           BRA     OVER_LIDE_SQRF300
28150 00005D18 0009                   M           NOP
28151                            8347     
28152                            8348     
28153                            8349     ;       --- REQ ON(ON EDGE 取込)--------
28154                                     ***** BEGIN-POOL *****
28155 00005D1A FF7F                       DATA FOR SOURCE-LINE 8345
28156 00005D1C 00000000                   DATA FOR SOURCE-LINE 8334
28157 00005D20 00000000                   DATA FOR SOURCE-LINE 8340,8344
28158 00005D24 00000000                   DATA FOR SOURCE-LINE 8345
28159                                     ***** END-POOL *****
28160 00005D28                   8350     OVER_LIDE_SQRF100:
28161 00005D28 D114              8351             MOV.L   #_OVER_RIDE_LATE_FLG,R1                                 ;
28162 00005D2A 6011              8352             MOV.W   @R1,R0                                                  ;
28163 00005D2C C802              8353             TST     #BIT1,R0                                                ;
28164                            8354             TST_BIT_ON OVER_LIDE_SQRF300                                    ;
28165 00005D2E 8B1F                   M           BF      OVER_LIDE_SQRF300
28166                            8355     
28167 00005D30 D113              8356             MOV.L   #_CB_SEQ_CB_COM346,R1                                   ;//20030524
28168 00005D32 6011              8357             MOV.W   @R1,R0                                                  ;T-LINK=>OVER-RIDE
28169 00005D34 941F              8358             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4                ;
28170 00005D36 2049              8359             AND     R4,R0                                                   ;
28171 00005D38 D112              8360             MOV.L   #_OVER_RIDE_LATE_REQ,R1                                 ;//1~127% OVER-RID
                                          E無効時100%
28172 00005D3A 2101              8361             MOV.W   R0,@R1                                                  ;
28173                            8362     ;       ------------ ANS MAKE ----------------------
28174 00005D3C D412              8363             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
28175 00005D3E 2401              8364             MOV.W   R0,@R4                                                          ;
28176 00005D40 D312              8365             MOV.L   #_SQ_CBWK_TOP+_WKSQCB230,R3                                     ;
28177 00005D42 6231              8366             MOV.W   @R3,R2                                                          ;
28178 00005D44 D410              8367             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
28179 00005D46 6041              8368             MOV.W   @R4,R0                                                          ;
28180 00005D48 CB80              8369             OR      #BIT7,R0                                                        ;ANS+ACK
28181 00005D4A 9115              8370             MOV.W   #H'FF00,R1                                                      ;
28182 00005D4C 2219              8371             AND     R1,R2                                                           ;
28183 00005D4E 6117              8372             NOT     R1,R1                                                           ;
28184 00005D50 2019              8373             AND     R1,R0                                                           ;
28185 00005D52 220B              8374             OR      R0,R2                                                           ;
28186 00005D54 2321              8375             MOV.W   R2,@R3                                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   400
PROGRAM NAME =

28187                            8376     
28188 00005D56 D40C              8377             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
28189 00005D58 6041              8378             MOV.W   @R4,R0                                                          ;
28190 00005D5A 2008              8379             TST     R0,R0                                                           ;
28191                            8380             TST_BIT_ON OVER_LIDE_SQRF220                                            ;
28192 00005D5C 8B00                   M           BF      OVER_LIDE_SQRF220
28193 00005D5E E001              8381             MOV     #1,R0                                                           ;
28194 00005D60                   8382     OVER_LIDE_SQRF220:
28195 00005D60 D10B              8383             MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1                                        ;
28196 00005D62 2101              8384             MOV.W   R0,@R1                                                          ;
28197 00005D64 D10B              8385             MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1                                        ;
28198 00005D66 2101              8386             MOV.W   R0,@R1
28199                            8387     
28200                            8388             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=BIT1,WKREG=R4  ;
28201 00005D68 D404                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R4         ;
28202 00005D6A 6041                   M           MOV.W   @R4,R0          ;
28203 00005D6C CB02                   M           OR      #BIT1,R0                ;
28204 00005D6E 2401                   M           MOV.W   R0,@R4          ;
28205                            8389     
28206 00005D70                   8390     OVER_LIDE_SQRF300:
28207                            8391             SUB_END
28208                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28209 00005D70 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28210                            8392             M_RTS
28211 00005D72 000B                   M           RTS                             ;RTSの後ろの
28212 00005D74 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28213                            8393     
28214                            8394     
28215                            8395     
28216                            8396     
28217                            8397     ;       ***********************************
28218                            8398     ;       ***                             ***
28219                            8399     ;       ***     EMG時初期値にする       ***
28220                            8400     ;       ***                             ***
28221                            8401     ;       ***********************************
28222                                     ***** BEGIN-POOL *****
28223 00005D76 007F                       DATA FOR SOURCE-LINE 8358
28224 00005D78 FF00                       DATA FOR SOURCE-LINE 8370
28225 00005D7A 0000                       ALIGNMENT CODE
28226 00005D7C 00000000                   DATA FOR SOURCE-LINE 8351,8388
28227 00005D80 00000000                   DATA FOR SOURCE-LINE 8356
28228 00005D84 00000000                   DATA FOR SOURCE-LINE 8360
28229 00005D88 00000000                   DATA FOR SOURCE-LINE 8363,8367,8377
28230 00005D8C 00000000                   DATA FOR SOURCE-LINE 8365
28231 00005D90 00000000                   DATA FOR SOURCE-LINE 8383
28232 00005D94 00000000                   DATA FOR SOURCE-LINE 8385
28233                                     ***** END-POOL *****
28234 00005D98                   8402             .ALIGN  4                               ;
28235 00005D98                   8403     _OVERLID_DEF_SET:
28236                            8404             SUB_START
28237 00005D98 4F22                   M           STS.L   PR,@-R15                ;[必要]
28238                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28239                            8405             FAR_JSR #_OVERLID_SEQ_DEF_SET,R0
28240 00005D9A D006                   M           MOV.L   #_OVERLID_SEQ_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28241 00005D9C 400B                   M           JSR     @R0                     ;
28242 00005D9E 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   401
PROGRAM NAME =

28243                            8406             FAR_JSR #_OVERLID_GMN_DEF_SET,R0
28244 00005DA0 D005                   M           MOV.L   #_OVERLID_GMN_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28245 00005DA2 400B                   M           JSR     @R0                     ;
28246 00005DA4 0009                   M           NOP                                     ;
28247                            8407             FAR_JSR #_OVERLID_CTL_DEF_SET,R0
28248 00005DA6 D005                   M           MOV.L   #_OVERLID_CTL_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28249 00005DA8 400B                   M           JSR     @R0                     ;
28250 00005DAA 0009                   M           NOP                                     ;
28251                            8408             SUB_END
28252                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28253 00005DAC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28254                            8409             M_RTS
28255 00005DAE 000B                   M           RTS                             ;RTSの後ろの
28256 00005DB0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28257                            8410     
28258                                     ***** BEGIN-POOL *****
28259 00005DB2 0000                       ALIGNMENT CODE
28260 00005DB4 00000000                   DATA FOR SOURCE-LINE 8405
28261 00005DB8 00000000                   DATA FOR SOURCE-LINE 8406
28262 00005DBC 00000000                   DATA FOR SOURCE-LINE 8407
28263                                     ***** END-POOL *****
28264 00005DC0                   8411             .ALIGN  4                               ;
28265 00005DC0                   8412     _OVERLID_SEQ_DEF_SET:
28266                            8413             SUB_START
28267 00005DC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
28268                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28269 00005DC2 9206              8414             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
28270                            8415             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
28271 00005DC4 D103                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1        ;DST_ADR
28272 00005DC6 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28273                            8416             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
28274 00005DC8 D103                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1        ;DST_ADR
28275 00005DCA 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28276                            8417             SUB_END
28277                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28278 00005DCC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28279                            8418             M_RTS
28280 00005DCE 000B                   M           RTS                             ;RTSの後ろの
28281 00005DD0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28282                            8419     
28283                                     ***** BEGIN-POOL *****
28284 00005DD2 0064                       DATA FOR SOURCE-LINE 8414
28285 00005DD4 00000000                   DATA FOR SOURCE-LINE 8415
28286 00005DD8 00000000                   DATA FOR SOURCE-LINE 8416
28287                                     ***** END-POOL *****
28288 00005DDC                   8420             .ALIGN  4                               ;
28289 00005DDC                   8421     _OVERLID_GMN_DEF_SET:
28290                            8422             SUB_START
28291 00005DDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
28292                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28293 00005DDE 9206              8423             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
28294                            8424             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
28295 00005DE0 D103                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
28296 00005DE2 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28297                            8425             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
28298 00005DE4 D103                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
28299 00005DE6 2121                   M           MOV.W   R2,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   402
PROGRAM NAME =

28300                            8426             SUB_END
28301                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28302 00005DE8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28303                            8427             M_RTS
28304 00005DEA 000B                   M           RTS                             ;RTSの後ろの
28305 00005DEC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28306                            8428     
28307                                     ***** BEGIN-POOL *****
28308 00005DEE 0064                       DATA FOR SOURCE-LINE 8423
28309 00005DF0 00000000                   DATA FOR SOURCE-LINE 8424
28310 00005DF4 00000000                   DATA FOR SOURCE-LINE 8425
28311                                     ***** END-POOL *****
28312 00005DF8                   8429             .ALIGN  4                               ;
28313 00005DF8                   8430     _OVERLID_CTL_DEF_SET:
28314                            8431             SUB_START
28315 00005DF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
28316                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28317 00005DFA 920A              8432             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
28318                            8433             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
28319 00005DFC D105                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
28320 00005DFE 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28321                            8434             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
28322 00005E00 D105                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
28323 00005E02 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28324                            8435     
28325                            8436             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_SPD_LAT,L1=W,DT_REG=R2,WKREG1=R1
28326 00005E04 D105                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R1        ;DST_ADR
28327 00005E06 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28328                            8437             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_ACC_LAT,L1=W,DT_REG=R2,WKREG1=R1   ;
28329 00005E08 D105                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R1        ;DST_ADR
28330 00005E0A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28331                            8438             SUB_END
28332                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28333 00005E0C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28334                            8439             M_RTS
28335 00005E0E 000B                   M           RTS                             ;RTSの後ろの
28336 00005E10 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28337                            8440     
28338                            8441     
28339                            8442     ;       ***********************************
28340                            8443     ;       ***                             ***
28341                            8444     ;       ***     2006-07-28              ***
28342                            8445     ;       ***     画面ｵｰﾊﾞﾗｲﾄﾞ            ***
28343                            8446     ;       ***                             ***
28344                            8447     ;       ***********************************
28345                            8448     ;------2013-02-08 ---
28346                            8449             .IMPORT _SVP_OVERLIDE_COF
28347                            8450     
28348                                     ***** BEGIN-POOL *****
28349 00005E12 0064                       DATA FOR SOURCE-LINE 8432
28350 00005E14 00000000                   DATA FOR SOURCE-LINE 8433
28351 00005E18 00000000                   DATA FOR SOURCE-LINE 8434
28352 00005E1C 00000000                   DATA FOR SOURCE-LINE 8436
28353 00005E20 00000000                   DATA FOR SOURCE-LINE 8437
28354                                     ***** END-POOL *****
28355 00005E24                   8451             .ALIGN  4                               ;
28356 00005E24                   8452     _GAMEN_OVER_RIDE:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   403
PROGRAM NAME =

28357                            8453             SUB_START
28358 00005E24 4F22                   M           STS.L   PR,@-R15                ;[必要]
28359                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28360                            8454     
28361                            8455     ;------2013-02-08 ---
28362 00005E26 D108              8456             MOV.L   #_SVP_OVERLIDE_COF,R1           ;
28363 00005E28 6211              8457             MOV.W   @R1,R2                          ;
28364 00005E2A D108              8458             MOV.L   #_SET1_OVERLIDE_COF,R1          ;
28365 00005E2C 2121              8459             MOV.W   R2,@R1                          ;
28366                            8460     ;       ----------------------------
28367                            8461     
28368                            8462     
28369 00005E2E D107              8463             MOV.L   #_SET1_OVERLIDE_COF,R1                                          ;
28370 00005E30 6211              8464             MOV.W   @R1,R2                                                          ;
28371 00005E32 2228              8465             TST     R2,R2                                                           ;
28372                            8466             TST_BIT_ON GAMEN_OVRIDE_100                                             ;
28373 00005E34 8B00                   M           BF      GAMEN_OVRIDE_100
28374 00005E36 9206              8467             MOV.W   #1,R2                                                           ;
28375 00005E38                   8468     GAMEN_OVRIDE_100:                                                               ;
28376                            8469             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
28377 00005E38 D105                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
28378 00005E3A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28379                            8470             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
28380 00005E3C D105                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
28381 00005E3E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28382                            8471             SUB_END
28383                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28384 00005E40 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28385                            8472             M_RTS
28386 00005E42 000B                   M           RTS                             ;RTSの後ろの
28387 00005E44 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28388                            8473     
28389                            8474     ;       ***************************************************
28390                            8475     ;       ***                                             ***
28391                            8476     ;       ***                                             ***
28392                            8477     ;       ***                                             ***
28393                            8478     ;       ***************************************************
28394                                     ***** BEGIN-POOL *****
28395 00005E46 0001                       DATA FOR SOURCE-LINE 8467
28396 00005E48 00000000                   DATA FOR SOURCE-LINE 8456
28397 00005E4C 00000000                   DATA FOR SOURCE-LINE 8458,8463
28398 00005E50 00000000                   DATA FOR SOURCE-LINE 8469
28399 00005E54 00000000                   DATA FOR SOURCE-LINE 8470
28400                                     ***** END-POOL *****
28401 00005E58                   8479             .ALIGN  4                               ;
28402 00005E58                   8480     _SET_OVER_RIDE:
28403                            8481             SUB_START
28404 00005E58 4F22                   M           STS.L   PR,@-R15                ;[必要]
28405                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28406 00005E5A D10D              8482             MOV.L   #_MODE_SEL,R1                                                   ;
28407 00005E5C 6011              8483             MOV.W   @R1,R0                                                          ;
28408 00005E5E C81E              8484             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                                 ;
28409                            8485             TST_BIT_OF SET_OVERID500                                                ;
28410 00005E60 8948                   M           BT      SET_OVERID500
28411                            8486     
28412 00005E62 D10C              8487             MOV.L   #_OVERLIDE_DT_SEL,R1                                            ;画面ｵｰﾊﾞﾗ
                                          ｲﾄﾞ有効
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   404
PROGRAM NAME =

28413 00005E64 6011              8488             MOV.W   @R1,R0                                                          ;
28414 00005E66 8801              8489             CMP/EQ  #1,R0                                                           ;
28415 00005E68 8B20              8490             BF      SET_OVERID200                                                   ;
28416                            8491     ;       ------ 画面ﾃﾞｰﾀ有効--------
28417                            8492             MEM_MOV_TO_MEM  _SET_GMN_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
28418 00005E6A D10B                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1
28419 00005E6C 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
28420 00005E6E D30B                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
28421 00005E70 2321                   M           MOV.W   R2,@R3  ;DST_ADR
28422                            8493             MEM_MOV_TO_MEM  _SET_GMN_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
28423 00005E72 D10B                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1
28424 00005E74 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
28425 00005E76 D30B                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
28426 00005E78 2321                   M           MOV.W   R2,@R3  ;DST_ADR
28427                            8494             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT0,WKREG=R4    ;
28428 00005E7A D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28429 00005E7C 6041                   M           MOV.W   @R4,R0          ;
28430 00005E7E CB01                   M           OR      #BIT0,R0                ;
28431 00005E80 2401                   M           MOV.W   R0,@R4          ;
28432                            8495             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
28433 00005E82 D409                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28434 00005E84 6041                   M           MOV.W   @R4,R0          ;
28435 00005E86 C9FD                   M           AND     #LOW ~BIT1,R0           ;
28436 00005E88 2401                   M           MOV.W   R0,@R4          ;
28437                            8496             M_BRA   SET_OVERID900
28438 00005E8A A040                   M           BRA     SET_OVERID900
28439 00005E8C 0009                   M           NOP
28440                            8497     
28441                                     ***** BEGIN-POOL *****
28442 00005E8E 0000                       ALIGNMENT CODE
28443 00005E90 00000000                   DATA FOR SOURCE-LINE 8482
28444 00005E94 00000000                   DATA FOR SOURCE-LINE 8487
28445 00005E98 00000000                   DATA FOR SOURCE-LINE 8492
28446 00005E9C 00000000                   DATA FOR SOURCE-LINE 8492
28447 00005EA0 00000000                   DATA FOR SOURCE-LINE 8493
28448 00005EA4 00000000                   DATA FOR SOURCE-LINE 8493
28449 00005EA8 00000000                   DATA FOR SOURCE-LINE 8494,8495
28450                                     ***** END-POOL *****
28451 00005EAC                   8498     SET_OVERID200:
28452                            8499             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT0,WKREG=R4  ;
28453 00005EAC D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28454 00005EAE 6041                   M           MOV.W   @R4,R0          ;
28455 00005EB0 C9FE                   M           AND     #LOW ~BIT0,R0           ;
28456 00005EB2 2401                   M           MOV.W   R0,@R4          ;
28457                            8500     
28458                            8501     ;       ===========================
28459                            8502     ;       ===     ｼｰｹﾝｽ           ===
28460                            8503     ;       ===========================
28461 00005EB4 D10A              8504             MOV.L   #_CB_SEQ_CB_COM346,R1                                           ;
28462 00005EB6 6311              8505             MOV.W   @R1,R3                                                          ;
28463 00005EB8 940F              8506             MOV.W   #BIT15,R4                                                       ;
28464 00005EBA 2348              8507             TST     R4,R3                                                           ;
28465                            8508             TST_BIT_OF SET_OVERID500
28466 00005EBC 891A                   M           BT      SET_OVERID500
28467                            8509             MEM_MOV_TO_MEM  _SET_SEQ_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
28468 00005EBE D109                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1
28469 00005EC0 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   405
PROGRAM NAME =

28470 00005EC2 D309                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
28471 00005EC4 2321                   M           MOV.W   R2,@R3  ;DST_ADR
28472                            8510             MEM_MOV_TO_MEM  _SET_SEQ_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
28473 00005EC6 D109                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1
28474 00005EC8 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
28475 00005ECA D309                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
28476 00005ECC 2321                   M           MOV.W   R2,@R3  ;DST_ADR
28477                            8511             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT1,WKREG=R4    ;
28478 00005ECE D403                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28479 00005ED0 6041                   M           MOV.W   @R4,R0          ;
28480 00005ED2 CB02                   M           OR      #BIT1,R0                ;
28481 00005ED4 2401                   M           MOV.W   R0,@R4          ;
28482                            8512             M_BRA   SET_OVERID900                                                   ;
28483 00005ED6 A01A                   M           BRA     SET_OVERID900
28484 00005ED8 0009                   M           NOP
28485                            8513     
28486                                     ***** BEGIN-POOL *****
28487 00005EDA 8000                       DATA FOR SOURCE-LINE 8506
28488 00005EDC 00000000                   DATA FOR SOURCE-LINE 8499,8511
28489 00005EE0 00000000                   DATA FOR SOURCE-LINE 8504
28490 00005EE4 00000000                   DATA FOR SOURCE-LINE 8509
28491 00005EE8 00000000                   DATA FOR SOURCE-LINE 8509
28492 00005EEC 00000000                   DATA FOR SOURCE-LINE 8510
28493 00005EF0 00000000                   DATA FOR SOURCE-LINE 8510
28494                                     ***** END-POOL *****
28495 00005EF4                   8514     SET_OVERID500:
28496 00005EF4 920E              8515             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
28497                            8516             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
28498 00005EF6 D108                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
28499 00005EF8 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28500                            8517             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
28501 00005EFA D108                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
28502 00005EFC 2121                   M           MOV.W   R2,@R1  ;DST_ADR
28503                            8518             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
28504 00005EFE D408                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28505 00005F00 6041                   M           MOV.W   @R4,R0          ;
28506 00005F02 C9FD                   M           AND     #LOW ~BIT1,R0           ;
28507 00005F04 2401                   M           MOV.W   R0,@R4          ;
28508                            8519     
28509                            8520             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
28510 00005F06 D406                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
28511 00005F08 6041                   M           MOV.W   @R4,R0          ;
28512 00005F0A C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
28513 00005F0C 2401                   M           MOV.W   R0,@R4          ;
28514                            8521     
28515 00005F0E                   8522     SET_OVERID900:
28516                            8523     
28517                            8524             SUB_END
28518                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28519 00005F0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28520                            8525             M_RTS
28521 00005F10 000B                   M           RTS                             ;RTSの後ろの
28522 00005F12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28523                            8526     
28524                            8527     
28525                            8528     
28526                            8529     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   406
PROGRAM NAME =

28527                            8530     ;       ***********************************************************
28528                            8531     ;       ***                                                     ***
28529                            8532     ;       ***                                                     ***
28530                            8533     ;       ***                     化石                            ***
28531                            8534     ;       ***                                                     ***
28532                            8535     ;       ***                                                     ***
28533                            8536     ;       ***********************************************************
28534                            8537     
28535                            8538     
28536                            8539     
28537                            8540     
28538                            8541     
28539                            8542     
28540                            8543     
28541                            8544     
28542                            8545     
28543                            8546     
28544                            8547     
28545                            8548     
28546                            8549     
28547                            8550     
28548                            8551     
28549                            8552     
28550                            8553     ;       ***********************************************************
28551                            8554     ;       ***                                                     ***
28552                            8555     ;       ***                                                     ***
28553                            8556     ;       ***                                                     ***
28554                            8557     ;       ***             その他からのＣＡＬＬ                    ***
28555                            8558     ;       ***                                                     ***
28556                            8559     ;       ***                                                     ***
28557                            8560     ;       ***                                                     ***
28558                            8561     ;       ***********************************************************
28559                            8562     ;       *******************************************
28560                            8563     ;       ***                                     ***
28561                            8564     ;       ***             運転釦ON起動時          ***
28562                            8565     ;       ***                                     ***
28563                            8566     ;       *******************************************
28564                            8567             .EXPORT _OVER_RID_UPDN_LAT_DTMK
28565                                     ***** BEGIN-POOL *****
28566 00005F14 0064                       DATA FOR SOURCE-LINE 8515
28567 00005F16 0000                       ALIGNMENT CODE
28568 00005F18 00000000                   DATA FOR SOURCE-LINE 8516
28569 00005F1C 00000000                   DATA FOR SOURCE-LINE 8517
28570 00005F20 00000000                   DATA FOR SOURCE-LINE 8518,8520
28571                                     ***** END-POOL *****
28572 00005F24                   8568             .ALIGN  4                               ;
28573 00005F24                   8569     _OVER_RID_UPDN_LAT_DTMK:
28574                            8570             SUB_START
28575 00005F24 4F22                   M           STS.L   PR,@-R15                ;[必要]
28576                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28577 00005F26 D10B              8571             MOV.L   #_OVER_UPDN_DBGCNT,R1
28578 00005F28 6011              8572             MOV.W   @R1,R0
28579 00005F2A 7001              8573             ADD     #1,R0
28580 00005F2C 2101              8574             MOV.W   R0,@R1                          ;
28581                            8575             FAR_JSR #_SET_OVER_RIDE,R0              ;起動時
28582 00005F2E D00A                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28583 00005F30 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   407
PROGRAM NAME =

28584 00005F32 0009                   M           NOP                                     ;
28585                            8576     
28586                            8577             FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
28587 00005F34 D009                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28588 00005F36 400B                   M           JSR     @R0                     ;
28589 00005F38 0009                   M           NOP                                     ;
28590                            8578             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
28591 00005F3A D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28592 00005F3C 400B                   M           JSR     @R0                     ;
28593 00005F3E 0009                   M           NOP                                     ;
28594                            8579     
28595                            8580     ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
28596                            8581             FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
28597 00005F40 D008                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28598 00005F42 400B                   M           JSR     @R0                     ;
28599 00005F44 0009                   M           NOP                                     ;
28600                            8582             FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
28601 00005F46 D008                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28602 00005F48 400B                   M           JSR     @R0                     ;
28603 00005F4A 0009                   M           NOP                                     ;
28604                            8583     
28605                            8584             SUB_END
28606                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28607 00005F4C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28608                            8585             M_RTS
28609 00005F4E 000B                   M           RTS                             ;RTSの後ろの
28610 00005F50 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28611                            8586     
28612                            8587     
28613                            8588     ;       *******************************************
28614                            8589     ;       ***                                     ***
28615                            8590     ;       ***                                     ***
28616                            8591     ;       ***     起動時及び１回転毎              ***
28617                            8592     ;       ***                                     ***
28618                            8593     ;       ***                                     ***
28619                            8594     ;       *******************************************
28620                                     ***** BEGIN-POOL *****
28621 00005F52 0000                       ALIGNMENT CODE
28622 00005F54 00000000                   DATA FOR SOURCE-LINE 8571
28623 00005F58 00000000                   DATA FOR SOURCE-LINE 8575
28624 00005F5C 00000000                   DATA FOR SOURCE-LINE 8577
28625 00005F60 00000000                   DATA FOR SOURCE-LINE 8578
28626 00005F64 00000000                   DATA FOR SOURCE-LINE 8581
28627 00005F68 00000000                   DATA FOR SOURCE-LINE 8582
28628                                     ***** END-POOL *****
28629 00005F6C                   8595             .ALIGN  4                               ;
28630 00005F6C                   8596     _OVERRIDE_CALC_LATE_SEL:                                                        ;
28631                            8597             SUB_START                                                               ;
28632 00005F6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28633                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28634                            8598     
28635                            8599             MEM_MOV_TO_MEM  _SET_ACC_OVRLIDE,W,_POSCTL_OVER_ACC_LAT,W,R1,R2,R3      ;%
28636 00005F6E D106                   M           MOV.L   #_SET_ACC_OVRLIDE,R1
28637 00005F70 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
28638 00005F72 D306                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R3        ;DST_ADR
28639 00005F74 2321                   M           MOV.W   R2,@R3  ;DST_ADR
28640                            8600             FAR_JSR #_ACCLAT1_SV_MAK_OVR,R0                                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   408
PROGRAM NAME =

28641 00005F76 D006                   M           MOV.L   #_ACCLAT1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28642 00005F78 400B                   M           JSR     @R0                     ;
28643 00005F7A 0009                   M           NOP                                     ;
28644                            8601             FAR_JSR #_ACCBRK1_SV_MAK_OVR,R0                                         ;
28645 00005F7C D005                   M           MOV.L   #_ACCBRK1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28646 00005F7E 400B                   M           JSR     @R0                     ;
28647 00005F80 0009                   M           NOP                                     ;
28648                            8602     
28649                            8603             SUB_END
28650                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28651 00005F82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28652                            8604             M_RTS
28653 00005F84 000B                   M           RTS                             ;RTSの後ろの
28654 00005F86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28655                            8605     
28656                                     ***** BEGIN-POOL *****
28657 00005F88 00000000                   DATA FOR SOURCE-LINE 8599
28658 00005F8C 00000000                   DATA FOR SOURCE-LINE 8599
28659 00005F90 00000000                   DATA FOR SOURCE-LINE 8600
28660 00005F94 00000000                   DATA FOR SOURCE-LINE 8601
28661                                     ***** END-POOL *****
28662 00005F98                   8606             .ALIGN  4                               ;
28663 00005F98                   8607     _OVERRIDE_CALC_SPED_SEL:                                                ;
28664                            8608             SUB_START                                                       ;
28665 00005F98 4F22                   M           STS.L   PR,@-R15                ;[必要]
28666                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28667                            8609     
28668                            8610             MEM_MOV_TO_MEM  _SET_SPD_OVRLIDE,W,_POSCTL_OVER_SPD_LAT,W,R1,R2,R3      ;
28669 00005F9A D103                   M           MOV.L   #_SET_SPD_OVRLIDE,R1
28670 00005F9C 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
28671 00005F9E D303                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R3        ;DST_ADR
28672 00005FA0 2321                   M           MOV.W   R2,@R3  ;DST_ADR
28673                            8611     
28674                            8612             SUB_END
28675                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28676 00005FA2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28677                            8613             M_RTS
28678 00005FA4 000B                   M           RTS                             ;RTSの後ろの
28679 00005FA6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28680                            8614     
28681                            8615     
28682                            8616     
28683                            8617     
28684                            8618     
28685                            8619     
28686                            8620     
28687                            8621     
28688                            8622     
28689                            8623     
28690                            8624     ;       *******************************************
28691                            8625     ;       ***                                     ***
28692                            8626     ;       ***     Input  R1:時間                  ***
28693                            8627     ;       ***     Output R1:時間×100/OVER        ***
28694                            8628     ;       ***                                     ***
28695                            8629     ;       *******************************************
28696                            8630     ;       ===================
28697                            8631     ;       ==== 2005-01-17 ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   409
PROGRAM NAME =

28698                            8632             .EXPORT _OVER_RIDE_ERR_TIMCHG
28699                                     ***** BEGIN-POOL *****
28700 00005FA8 00000000                   DATA FOR SOURCE-LINE 8610
28701 00005FAC 00000000                   DATA FOR SOURCE-LINE 8610
28702                                     ***** END-POOL *****
28703 00005FB0                   8633             .ALIGN  4                               ;
28704 00005FB0                   8634     _OVER_RIDE_ERR_TIMCHG:
28705                            8635             SUB_START
28706 00005FB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
28707                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28708                            8636             PUSH_REG1 R2
28709 00005FB2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28710                                 M                                           ;REG=>[SP]
28711                                 M                                           ;"-4" FF,FF,FF,FC
28712                            8637     
28713 00005FB4 6213              8638             MOV     R1,R2                                           ;R1-->R2
28714                            8639     
28715 00005FB6 D107              8640             MOV.L   #_OVER_RIDE_USEFUL,R1                           ;
28716 00005FB8 6011              8641             MOV.W   @R1,R0                                          ;
28717 00005FBA C801              8642             TST     #BIT0,R0                                        ;
28718                            8643             TST_BIT_OF OVER_RIDE_ERRTIMCHG_100
28719 00005FBC 8904                   M           BT      OVER_RIDE_ERRTIMCHG_100
28720                            8644     
28721 00005FBE D006              8645             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                        ;ｵｰﾊﾞﾗｲﾄﾞ%
28722 00005FC0 6401              8646             MOV.W   @R0,R4                                          ;
28723                            8647     
28724                            8648     ;       ============ 2005-04-06(距離一定) =========
28725                            8649                                                                     ;
28726                            8650             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                        ;
28727 00005FC2 D006                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28728 00005FC4 400B                   M           JSR     @R0                     ;
28729 00005FC6 0009                   M           NOP                                     ;
28730                            8651                                                                     ;
28731                            8652     ;       ===========================================
28732                            8653     
28733 00005FC8                   8654     OVER_RIDE_ERRTIMCHG_100                                         ;
28734 00005FC8 6123              8655             MOV     R2,R1                                           ;
28735                            8656     
28736                            8657             POP_REG1 R2                                             ;ANS:R1
28737                                 M                                   ; RE"+4" 00,00,00,04
28738 00005FCA 62F6                   M           MOV.L   @R15+,R2        ;
28739                            8658             SUB_END
28740                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28741 00005FCC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28742                            8659             M_RTS
28743 00005FCE 000B                   M           RTS                             ;RTSの後ろの
28744 00005FD0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28745                            8660     
28746                            8661     
28747                            8662     ;       *******************************************
28748                            8663     ;       ***                                     ***
28749                            8664     ;       ***     時間の次元                      ***
28750                            8665     ;       ***     2005-01-17                      ***
28751                            8666     ;       ***     Input R2        ANS R2          ***
28752                            8667     ;       *******************************************
28753                            8668     ;       R0,R2 DESTROY
28754                            8669     ;       ANS:R2:_POS_LSI_ACCLT1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   410
PROGRAM NAME =

28755                            8670     ;       (R2)data * 100/SV
28756                            8671     ;       BREAK ERR用
28757                                     ***** BEGIN-POOL *****
28758 00005FD2 0000                       ALIGNMENT CODE
28759 00005FD4 00000000                   DATA FOR SOURCE-LINE 8640
28760 00005FD8 00000000                   DATA FOR SOURCE-LINE 8645
28761 00005FDC 00000000                   DATA FOR SOURCE-LINE 8650
28762                                     ***** END-POOL *****
28763 00005FE0                   8672             .ALIGN  4                               ;
28764 00005FE0                   8673     _OVER_RID_UPDN_LAT_CALC:
28765                            8674             SUB_START
28766 00005FE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
28767                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28768                            8675     
28769                            8676             SUB_END
28770                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28771 00005FE2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28772                            8677             M_RTS
28773 00005FE4 000B                   M           RTS                             ;RTSの後ろの
28774 00005FE6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28775                            8678     
28776                            8679     
28777                            8680     ;       ===================================================================
28778                            8681     ;       ====                                                            ===
28779                            8682     ;       ====                                                            ===
28780                            8683     ;       ====                                                            ===
28781                            8684     ;       ====            2006-09-19オーバライド周波数対応                ===
28782                            8685     ;       ====                                                            ===
28783                            8686     ;       ====                                                            ===
28784                            8687     ;       ====                                                            ===
28785                            8688     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
28786                            8689     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
28787                            8690     ;       ====    <3>:減速の補正は行なわない                              ===
28788                            8691     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
28789                            8692     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
28790                            8693     ;       ====                                                            ===
28791                            8694     ;       ====                                                            ===
28792                            8695     ;       ===================================================================
28793                            8696     
28794                            8697             .EXPORT _PRESET_PV_ABS_TO_OBJ
28795 00005FE8                   8698     _PRESET_PV_ABS_TO_OBJ:
28796                            8699             SUB_START
28797 00005FE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
28798                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28799 00005FEA D106              8700             MOV.L   #_ERR_FIRST_ST,R1
28800 00005FEC 6011              8701             MOV.W   @R1,R0
28801 00005FEE C801              8702             TST     #BIT0,R0
28802                            8703             TST_BIT_ON PRESET_PVABSTOOBJ_100
28803 00005FF0 8B0C                   M           BF      PRESET_PVABSTOOBJ_100
28804                            8704     
28805                            8705             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0                                          ;
28806 00005FF2 D005                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28807 00005FF4 400B                   M           JSR     @R0                     ;
28808 00005FF6 0009                   M           NOP                                     ;
28809                            8706             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_FIRST_ST,LG=W,BIT=BIT0,WKREG=R1        ;
28810 00005FF8 D102                   M           MOV.L   #_ERR_FIRST_ST,R1               ;
28811 00005FFA 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   411
PROGRAM NAME =

28812 00005FFC CB01                   M           OR      #BIT0,R0                ;
28813 00005FFE 2101                   M           MOV.W   R0,@R1          ;
28814                            8707             M_BRA   PRESET_PVABSTOOBJ_EXT                                           ;
28815 00006000 A004                   M           BRA     PRESET_PVABSTOOBJ_EXT
28816 00006002 0009                   M           NOP
28817                            8708     
28818                                     ***** BEGIN-POOL *****
28819 00006004 00000000                   DATA FOR SOURCE-LINE 8700,8706
28820 00006008 00000000                   DATA FOR SOURCE-LINE 8705
28821                                     ***** END-POOL *****
28822 0000600C                   8709     PRESET_PVABSTOOBJ_100:
28823                            8710             .AIF    0 EQ    0
28824                            8711 C   
28825                            8712             .AELSE
28826                            8713     
28827                            8714             FAR_JSR #_CPUB_GET_CPUA_OBJPOS,R0
28828                            8715     
28829                            8716             .AENDI
28830                            8717     
28831                            8718     
28832 0000600C                   8719     PRESET_PVABSTOOBJ_EXT:
28833                            8720             SUB_END
28834                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28835 0000600C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28836                            8721             M_RTS
28837 0000600E 000B                   M           RTS                             ;RTSの後ろの
28838 00006010 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28839                            8722     
28840                            8723     
28841                            8724             .EXPORT _PRESET_PV_FLGCLR
28842 00006012                   8725     _PRESET_PV_FLGCLR
28843                            8726             SUB_START
28844 00006012 4F22                   M           STS.L   PR,@-R15                ;[必要]
28845                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28846 00006014 200A              8727             XOR     R0,R0
28847 00006016 D102              8728             MOV.L   #_ERR_FIRST_ST,R1       ;
28848 00006018 2101              8729             MOV.W   R0,@R1                  ;
28849                            8730     
28850                            8731             SUB_END
28851                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28852 0000601A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28853                            8732             M_RTS
28854 0000601C 000B                   M           RTS                             ;RTSの後ろの
28855 0000601E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28856                            8733     
28857                            8734     
28858                            8735     
28859                            8736     
28860                                     ***** BEGIN-POOL *****
28861 00006020 00000000                   DATA FOR SOURCE-LINE 8728
28862                                     ***** END-POOL *****
28863 00006024                   8737     _CPUB_GET_CPUA_OBJPOS
28864                            8738             SUB_START
28865 00006024 4F22                   M           STS.L   PR,@-R15                ;[必要]
28866                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28867                            8739     
28868                            8740     ;;;;;;;;;;2015-04-08 全ﾓｰﾄﾞ対象
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   412
PROGRAM NAME =

28869                            8741     ;;;;;;;;;;      MOV.L   #_MODE_SEL,R1                           ;
28870                            8742     ;;;;;;;;;;      MOV.W   @R1,R0                                  ;
28871                            8743     ;;;;;;;;;;      TST     #_W1CNT+_W1SGL,R0               ;
28872                            8744     ;;;;;;;;;;      TST_BIT_OF CPUB_GET_OBJPOS_EXT                  ;
28873                            8745     
28874                            8746     
28875 00006026 D409              8747             MOV.L   #_SH_POSCTL_RL_ABSPLS,R4                ;[CPUAのﾃﾞｰﾀをCPUB側で使用する2014
                                          -11-07]
28876 00006028 5140              8748             MOV.L   @(0,R4),R1                              ;
28877 0000602A 5241              8749             MOV.L   @(4,R4),R2                              ;
28878                            8750     
28879 0000602C 5540              8751             MOV.L   @(0,R4),R5                              ;
28880 0000602E 5641              8752             MOV.L   @(4,R4),R6                              ;
28881 00006030 3518              8753             SUB     R1,R5
28882 00006032 3628              8754             SUB     R2,R6                                   ;
28883 00006034 265B              8755             OR      R5,R6                                   ;
28884 00006036 2668              8756             TST     R6,R6                                   ;
28885                            8757             TST_BIT_OF CPUB_GET_OBJPOS_100                  ;8ﾊﾞｲﾄｱｸｾｽ中の問題
28886 00006038 8901                   M           BT      CPUB_GET_OBJPOS_100
28887                            8758     
28888 0000603A 5140              8759             MOV.L   @(0,R4),R1                              ;
28889 0000603C 5241              8760             MOV.L   @(4,R4),R2                              ;
28890                            8761     
28891                            8762     
28892 0000603E                   8763     CPUB_GET_OBJPOS_100
28893 0000603E D404              8764             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
28894 00006040 1410              8765             MOV.L   R1,@(0,R4)
28895 00006042 1421              8766             MOV.L   R2,@(4,R4)
28896                            8767     
28897 00006044                   8768     CPUB_GET_OBJPOS_EXT
28898                            8769     
28899                            8770             SUB_END
28900                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28901 00006044 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28902                            8771             M_RTS
28903 00006046 000B                   M           RTS                             ;RTSの後ろの
28904 00006048 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28905                            8772     
28906                            8773     
28907                            8774     ;       *******************************************
28908                            8775     ;       ***                                     ***
28909                            8776     ;       ***     2006-09-19                      ***
28910                            8777     ;       ***                                     ***
28911                            8778     ;       ***     起動または異常時の位置あわせ    ***
28912                            8779     ;       ***                                     ***
28913                            8780     ;       *******************************************
28914                                     ***** BEGIN-POOL *****
28915 0000604A 0000                       ALIGNMENT CODE
28916 0000604C 00000000                   DATA FOR SOURCE-LINE 8747
28917 00006050 00000000                   DATA FOR SOURCE-LINE 8764
28918                                     ***** END-POOL *****
28919 00006054                   8781             .ALIGN  4                               ;
28920 00006054                   8782     _SET_PV_ABS_TO_OBJ:
28921                            8783             SUB_START
28922 00006054 4F22                   M           STS.L   PR,@-R15                ;[必要]
28923                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28924                            8784             PUSH_REG1 R0                            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   413
PROGRAM NAME =

28925 00006056 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28926                                 M                                           ;REG=>[SP]
28927                                 M                                           ;"-4" FF,FF,FF,FC
28928                            8785             PUSH_REG1 R1
28929 00006058 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28930                                 M                                           ;REG=>[SP]
28931                                 M                                           ;"-4" FF,FF,FF,FC
28932                            8786             PUSH_REG1 R2
28933 0000605A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28934                                 M                                           ;REG=>[SP]
28935                                 M                                           ;"-4" FF,FF,FF,FC
28936                            8787             PUSH_REG1 R4
28937 0000605C 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
28938                                 M                                           ;REG=>[SP]
28939                                 M                                           ;"-4" FF,FF,FF,FC
28940                            8788     
28941                            8789     ;       ----------------------------------------------
28942                            8790     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;//しょうがない
28943                            8791     ;;;;;;; MOV.W   @R1,R0                          ;
28944                            8792     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
28945                            8793     ;;;;;;; MOV.W   @R1,R2                          ;
28946                            8794     ;;;;;;; OR      R2,R0
28947                            8795     ;;;;;;; TST     #BIT0,R0                        ;
28948                            8796     ;;;;;;; TST_BIT_ON SETPVABSTOOBJ_EXT
28949                            8797     
28950 0000605E D406              8798             MOV.L   #_LINK_PV_ABSPLS,R4             ;
28951 00006060 6146              8799             MOV.L   @R4+,R1                                 ;
28952 00006062 6242              8800             MOV.L   @R4,R2                                  ;
28953 00006064 D405              8801             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
28954 00006066 1410              8802             MOV.L   R1,@(0,R4)
28955 00006068 1421              8803             MOV.L   R2,@(4,R4)
28956                            8804     
28957                            8805     ;;;;;;;SETPVABSTOOBJ_EXT:
28958                            8806     
28959                            8807             POP_REG1 R4
28960                                 M                                   ; RE"+4" 00,00,00,04
28961 0000606A 64F6                   M           MOV.L   @R15+,R4        ;
28962                            8808             POP_REG1 R2
28963                                 M                                   ; RE"+4" 00,00,00,04
28964 0000606C 62F6                   M           MOV.L   @R15+,R2        ;
28965                            8809             POP_REG1 R1
28966                                 M                                   ; RE"+4" 00,00,00,04
28967 0000606E 61F6                   M           MOV.L   @R15+,R1        ;
28968                            8810             POP_REG1 R0
28969                                 M                                   ; RE"+4" 00,00,00,04
28970 00006070 60F6                   M           MOV.L   @R15+,R0        ;
28971                            8811             SUB_END
28972                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28973 00006072 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28974                            8812             M_RTS
28975 00006074 000B                   M           RTS                             ;RTSの後ろの
28976 00006076 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28977                            8813     ;       *******************************************
28978                            8814     ;       ***                                     ***
28979                            8815     ;       ***     2006-09-19                      ***
28980                            8816     ;       ***                                     ***
28981                            8817     ;       ***     ﾊﾟﾙｽ管理                        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   414
PROGRAM NAME =

28982                            8818     ;       ***     (位置決め部分での処理)          ***
28983                            8819     ;       ***                                     ***
28984                            8820     ;       *******************************************
28985                            8821     ;       *******************************************
28986                            8822     ;       ***                                     ***
28987                            8823     ;       ***                                     ***
28988                            8824     ;       ***             演算INI                 ***
28989                            8825     ;       ***                                     ***
28990                            8826     ;       ***                                     ***
28991                            8827     ;       ***                                     ***
28992                            8828     ;       *******************************************
28993                                     ***** BEGIN-POOL *****
28994 00006078 00000000                   DATA FOR SOURCE-LINE 8798
28995 0000607C 00000000                   DATA FOR SOURCE-LINE 8801
28996                                     ***** END-POOL *****
28997 00006080                   8829             .ALIGN  4                               ;
28998 00006080                   8830     _PLS_LSI_CTL_INI:
28999                            8831             SUB_START
29000 00006080 4F22                   M           STS.L   PR,@-R15                ;[必要]
29001                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29002                            8832     
29003                            8833     
29004                            8834     
29005                            8835             SUB_END
29006                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29007 00006082 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29008                            8836             M_RTS
29009 00006084 000B                   M           RTS                             ;RTSの後ろの
29010 00006086 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29011                            8837     
29012                            8838     
29013                            8839     ;       *******************************************
29014                            8840     ;       ***                                     ***
29015                            8841     ;       ***                                     ***
29016                            8842     ;       ***             演算END                 ***
29017                            8843     ;       ***             どうするか？            ***
29018                            8844     ;       ***                                     ***
29019                            8845     ;       ***                                     ***
29020                            8846     ;       *******************************************
29021 00006088                   8847             .ALIGN  4                               ;
29022 00006088                   8848     _PLS_LSI_SPEED_OFF:
29023                            8849             SUB_START
29024 00006088 4F22                   M           STS.L   PR,@-R15                ;[必要]
29025                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29026                            8850     
29027                            8851             FAR_JSR #_PLS_LSI_STOP_END,R0                                           ;
29028 0000608A D003                   M           MOV.L   #_PLS_LSI_STOP_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29029 0000608C 400B                   M           JSR     @R0                     ;
29030 0000608E 0009                   M           NOP                                     ;
29031                            8852     
29032                            8853             SUB_END
29033                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29034 00006090 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29035                            8854             M_RTS
29036 00006092 000B                   M           RTS                             ;RTSの後ろの
29037 00006094 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29038                            8855     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   415
PROGRAM NAME =

29039                            8856     ;       ***********************************
29040                            8857     ;       ***                             ***
29041                            8858     ;       ***     SPD * OVER LIMIT-->SPD  ***
29042                            8859     ;       ***                             ***
29043                            8860     ;       ***********************************
29044                            8861     ;       input R2 output R2
29045                                     ***** BEGIN-POOL *****
29046 00006096 0000                       ALIGNMENT CODE
29047 00006098 00000000                   DATA FOR SOURCE-LINE 8851
29048                                     ***** END-POOL *****
29049 0000609C                   8862     _OVER_LIDE_SPD_CALC
29050                            8863             SUB_START
29051 0000609C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29052                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29053 0000609E D307              8864             MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
29054 000060A0 6131              8865             MOV.W   @R3,R1                                  ;
29055 000060A2 940A              8866             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;
29056                            8867             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
29057 000060A4 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29058 000060A6 400B                   M           JSR     @R0                     ;
29059 000060A8 0009                   M           NOP                                     ;
29060 000060AA D106              8868             MOV.L   #_POSCTL_SV_OFS_SPD,R1                  ;//自起動 PLS/S
29061 000060AC 6312              8869             MOV.L   @R1,R3                                  ;
29062 000060AE 3233              8870             CMP/GE  R3,R2                                   ;
29063 000060B0 8900              8871             BT      OVER_LIDE_SPDCAL100                     ;
29064 000060B2 6233              8872             MOV     R3,R2                                   ;
29065 000060B4                   8873     OVER_LIDE_SPDCAL100
29066                            8874     
29067                            8875             SUB_END
29068                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29069 000060B4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29070                            8876             M_RTS
29071 000060B6 000B                   M           RTS                             ;RTSの後ろの
29072 000060B8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29073                            8877     
29074                            8878     
29075                            8879     ;       ***********************************
29076                            8880     ;       ***                             ***
29077                            8881     ;       ***     上限リミット            ***
29078                            8882     ;       ***     2013-02-15              ***
29079                            8883     ;       ***********************************
29080                            8884     ;       input R2[PLS/S] output R2[PLS/S]
29081                            8885     ;
29082                                     ***** BEGIN-POOL *****
29083 000060BA 0064                       DATA FOR SOURCE-LINE 8866
29084 000060BC 00000000                   DATA FOR SOURCE-LINE 8864
29085 000060C0 00000000                   DATA FOR SOURCE-LINE 8867
29086 000060C4 00000000                   DATA FOR SOURCE-LINE 8868
29087                                     ***** END-POOL *****
29088 000060C8                   8886     _SPD_UPLIMT_CALC
29089                            8887             SUB_START
29090 000060C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
29091                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29092 000060CA D106              8888             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
29093 000060CC 6011              8889             MOV.W   @R1,R0                  ;
29094 000060CE 2008              8890             TST     R0,R0                   ;
29095                            8891             TST_BIT_OF SPD_UPLIMT_CALEND    ;LIMITしない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   416
PROGRAM NAME =

29096 000060D0 8904                   M           BT      SPD_UPLIMT_CALEND
29097                            8892     
29098 000060D2 D105              8893             MOV.L   #_UPLIMIT_SV_SPD,R1     ;
29099 000060D4 6312              8894             MOV.L   @R1,R3                  ;
29100 000060D6 3323              8895             CMP/GE  R2,R3                   ;R2=< R3
29101 000060D8 8900              8896             BT      SPD_UPLIMT_CALEND       ;
29102 000060DA 6233              8897             MOV     R3,R2                   ;UP LIMIT
29103 000060DC                   8898     SPD_UPLIMT_CALEND                       ;
29104                            8899             SUB_END
29105                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29106 000060DC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29107                            8900             M_RTS
29108 000060DE 000B                   M           RTS                             ;RTSの後ろの
29109 000060E0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29110                            8901     
29111                            8902     ;       ***********************************************************
29112                            8903     ;       ***                                                     ***
29113                            8904     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
29114                            8905     ;       ***     位置決め部演算                                  ***
29115                            8906     ;       ***********************************************************
29116                            8907     ;       Input   R1,R2:残り距離 +/-
29117                            8908     ;               R11
29118                            8909     ;               R12
29119                            8910     ;
29120                            8911     
29121                            8912     
29122                                     ***** BEGIN-POOL *****
29123 000060E2 0000                       ALIGNMENT CODE
29124 000060E4 00000000                   DATA FOR SOURCE-LINE 8888
29125 000060E8 00000000                   DATA FOR SOURCE-LINE 8893
29126                                     ***** END-POOL *****
29127 000060EC                   8913             .ALIGN  4                               ;
29128 000060EC                   8914     _CMP_POSLSI_CTLGENSOK:
29129                            8915             SUB_START
29130 000060EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29131                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29132                            8916     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
29133 000060EE D40F              8917             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
29134 000060F0 5140              8918             MOV.L   @(0,R4),R1                                              ;
29135 000060F2 5241              8919             MOV.L   @(4,R4),R2                                              ;
29136                            8920     
29137                            8921     ;       ---------------リアルタイム目標位置-----------
29138 000060F4 D40E              8922             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
29139 000060F6 5540              8923             MOV.L   @(0,R4),R5                                              ;
29140 000060F8 5641              8924             MOV.L   @(4,R4),R6                                              ;
29141                            8925             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
29142 000060FA 0008                   M           CLRT
29143 000060FC 326A                   M           SUBC    R6,R2
29144 000060FE 315A                   M           SUBC    R5,R1
29145                            8926     
29146 00006100 D40C              8927             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
29147 00006102 6041              8928             MOV.W   @R4,R0                                                  ;
29148 00006104 C801              8929             TST     #BIT0,R0                                                ;
29149                            8930             TST_BIT_OF CMP_PLSLSI_CTLCAL_200                                        ;正転
29150 00006106 8905                   M           BT      CMP_PLSLSI_CTLCAL_200
29151                            8931             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
29152 00006108 6227                   M           NOT     R2,R2                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   417
PROGRAM NAME =

29153 0000610A 6117                   M           NOT     R1,R1                           ;
29154 0000610C 200A                   M           XOR     R0,R0                           ;
29155 0000610E 0018                   M           SETT
29156 00006110 320E                   M           ADDC    R0,R2                           ;0+1+R2
29157 00006112 310E                   M           ADDC    R0,R1                           ;
29158 00006114                   8932     CMP_PLSLSI_CTLCAL_200:                                                  ;
29159                            8933     
29160                            8934     
29161 00006114 D408              8935             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
29162 00006116 6942              8936             MOV.L   @R4,R9                                                  ;
29163                            8937     
29164 00006118 D408              8938             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
29165 0000611A 6A42              8939             MOV.L   @R4,R10                                                 ;
29166                            8940     
29167 0000611C D408              8941             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
29168 0000611E 6B42              8942             MOV.L   @R4,R11                                                 ;
29169                            8943     
29170                            8944             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
29171 00006120 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29172 00006122 400B                   M           JSR     @R0                     ;
29173 00006124 0009                   M           NOP                                     ;
29174                            8945     
29175                            8946             SUB_END
29176                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29177 00006126 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29178                            8947             M_RTS
29179 00006128 000B                   M           RTS                             ;RTSの後ろの
29180 0000612A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29181                            8948     
29182                            8949     
29183                            8950     ;       ***********************************************************
29184                            8951     ;       ***                                                     ***
29185                            8952     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
29186                            8953     ;       ***     連続切り替え条件演算                            ***
29187                            8954     ;       ***********************************************************
29188                            8955     ;       Input   R1,R2:残り距離 +/-
29189                            8956     ;               R11
29190                            8957     ;               R12
29191                            8958     ;
29192                                     ***** BEGIN-POOL *****
29193 0000612C 00000000                   DATA FOR SOURCE-LINE 8917
29194 00006130 00000000                   DATA FOR SOURCE-LINE 8922
29195 00006134 00000000                   DATA FOR SOURCE-LINE 8927
29196 00006138 00000000                   DATA FOR SOURCE-LINE 8935
29197 0000613C 00000000                   DATA FOR SOURCE-LINE 8938
29198 00006140 00000000                   DATA FOR SOURCE-LINE 8941
29199 00006144 00000000                   DATA FOR SOURCE-LINE 8944
29200                                     ***** END-POOL *****
29201 00006148                   8959             .ALIGN  4                               ;
29202 00006148                   8960     _CMP_CNT_CTLGENSOK:
29203                            8961             SUB_START
29204 00006148 4F22                   M           STS.L   PR,@-R15                ;[必要]
29205                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29206                            8962     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
29207 0000614A D414              8963             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
29208 0000614C 6146              8964             MOV.L   @R4+,R1                                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   418
PROGRAM NAME =

29209 0000614E 6242              8965             MOV.L   @R4,R2                                                  ;
29210                            8966     
29211 00006150 D413              8967             MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
29212 00006152 6442              8968             MOV.L   @R4,R4                                                  ;
29213 00006154 233A              8969             XOR     R3,R3                                                   ;3FFF,FFFF以下
29214 00006156 901F              8970             MOV.W   #_PROC_2MS_PLS,R0                                       ;
29215 00006158 340C              8971             ADD     R0,R4                                                   ;R3,R4
29216                            8972             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-DT = 目標'
29217 0000615A 0008                   M           CLRT
29218 0000615C 324A                   M           SUBC    R4,R2
29219 0000615E 313A                   M           SUBC    R3,R1
29220                            8973     
29221                            8974     ;       ---------------リアルタイム目標位置-----------
29222 00006160 D410              8975             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
29223 00006162 5540              8976             MOV.L   @(0,R4),R5                                              ;
29224 00006164 5641              8977             MOV.L   @(4,R4),R6                                              ;
29225                            8978             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
29226 00006166 0008                   M           CLRT
29227 00006168 326A                   M           SUBC    R6,R2
29228 0000616A 315A                   M           SUBC    R5,R1
29229                            8979     
29230 0000616C D40E              8980             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
29231 0000616E 6041              8981             MOV.W   @R4,R0                                                  ;
29232 00006170 C801              8982             TST     #BIT0,R0                                                ;
29233                            8983             TST_BIT_OF CMP_CNT_CTLCAL_200                                   ;正転
29234 00006172 8905                   M           BT      CMP_CNT_CTLCAL_200
29235                            8984             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
29236 00006174 6227                   M           NOT     R2,R2                           ;
29237 00006176 6117                   M           NOT     R1,R1                           ;
29238 00006178 200A                   M           XOR     R0,R0                           ;
29239 0000617A 0018                   M           SETT
29240 0000617C 320E                   M           ADDC    R0,R2                           ;0+1+R2
29241 0000617E 310E                   M           ADDC    R0,R1                           ;
29242 00006180                   8985     CMP_CNT_CTLCAL_200:                                                     ;
29243                            8986     
29244 00006180 D40A              8987             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
29245 00006182 6942              8988             MOV.L   @R4,R9                                                  ;
29246                            8989     
29247 00006184 D40A              8990             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
29248 00006186 6A42              8991             MOV.L   @R4,R10                                                 ;
29249                            8992     
29250 00006188 D40A              8993             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
29251 0000618A 6B42              8994             MOV.L   @R4,R11                                                 ;
29252                            8995     
29253                            8996             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
29254 0000618C D00A                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29255 0000618E 400B                   M           JSR     @R0                     ;
29256 00006190 0009                   M           NOP                                     ;
29257                            8997             SUB_END
29258                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29259 00006192 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29260                            8998             M_RTS
29261 00006194 000B                   M           RTS                             ;RTSの後ろの
29262 00006196 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29263                            8999     
29264                            9000     ;       ***********************************************************
29265                            9001     ;       ***                                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   419
PROGRAM NAME =

29266                            9002     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
29267                            9003     ;       ***     ブレーキ異常条件演算                            ***
29268                            9004     ;       ***********************************************************
29269                            9005     ;       Input   R1,R2:残り距離 +/-
29270                            9006     ;               R11
29271                            9007     ;               R12
29272                            9008     ;
29273                            9009             .EXPORT _CMP_BRK2_CTLGENSOK
29274                                     ***** BEGIN-POOL *****
29275 00006198 07D0                       DATA FOR SOURCE-LINE 8970
29276 0000619A 0000                       ALIGNMENT CODE
29277 0000619C 00000000                   DATA FOR SOURCE-LINE 8963
29278 000061A0 00000000                   DATA FOR SOURCE-LINE 8967
29279 000061A4 00000000                   DATA FOR SOURCE-LINE 8975
29280 000061A8 00000000                   DATA FOR SOURCE-LINE 8980
29281 000061AC 00000000                   DATA FOR SOURCE-LINE 8987
29282 000061B0 00000000                   DATA FOR SOURCE-LINE 8990
29283 000061B4 00000000                   DATA FOR SOURCE-LINE 8993
29284 000061B8 00000000                   DATA FOR SOURCE-LINE 8996
29285                                     ***** END-POOL *****
29286 000061BC                   9010             .ALIGN  4                               ;
29287 000061BC                   9011     _CMP_BRK2_CTLGENSOK:
29288                            9012             SUB_START
29289 000061BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29290                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29291                            9013     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
29292 000061BE D40F              9014             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
29293 000061C0 6146              9015             MOV.L   @R4+,R1                                                 ;
29294 000061C2 6242              9016             MOV.L   @R4,R2                                                  ;
29295                            9017     
29296                            9018     
29297                            9019     ;       ---------------実測目標位置-----------
29298 000061C4 D40E              9020             MOV.L   #_LINK_PV_ABSPLS,R4             ;
29299 000061C6 5540              9021             MOV.L   @(0,R4),R5                                              ;
29300 000061C8 5641              9022             MOV.L   @(4,R4),R6                                              ;
29301                            9023             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
29302 000061CA 0008                   M           CLRT
29303 000061CC 326A                   M           SUBC    R6,R2
29304 000061CE 315A                   M           SUBC    R5,R1
29305                            9024     
29306 000061D0 D40C              9025             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
29307 000061D2 6041              9026             MOV.W   @R4,R0                                                  ;
29308 000061D4 C801              9027             TST     #BIT0,R0                                                ;
29309                            9028             TST_BIT_OF CMP_BRK2_CTLCAL_200                                  ;正転
29310 000061D6 8905                   M           BT      CMP_BRK2_CTLCAL_200
29311                            9029             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
29312 000061D8 6227                   M           NOT     R2,R2                           ;
29313 000061DA 6117                   M           NOT     R1,R1                           ;
29314 000061DC 200A                   M           XOR     R0,R0                           ;
29315 000061DE 0018                   M           SETT
29316 000061E0 320E                   M           ADDC    R0,R2                           ;0+1+R2
29317 000061E2 310E                   M           ADDC    R0,R1                           ;
29318 000061E4                   9030     CMP_BRK2_CTLCAL_200:                                                    ;
29319 000061E4 D408              9031             MOV.L   #_ABS_ENC_PLS_SPD,R4                                    ;実測
29320 000061E6 6942              9032             MOV.L   @R4,R9                                                  ;
29321                            9033     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   420
PROGRAM NAME =

29322 000061E8 D408              9034             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
29323 000061EA 6A42              9035             MOV.L   @R4,R10                                                 ;
29324                            9036     
29325 000061EC D408              9037             MOV.L   #_BRK2_SV_DN_ACC,R4                                     ;500,000/1000
29326 000061EE 6B42              9038             MOV.L   @R4,R11                                                 ;
29327                            9039     
29328                            9040             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
29329 000061F0 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29330 000061F2 400B                   M           JSR     @R0                     ;
29331 000061F4 0009                   M           NOP                                     ;
29332                            9041             SUB_END
29333                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29334 000061F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29335                            9042             M_RTS
29336 000061F8 000B                   M           RTS                             ;RTSの後ろの
29337 000061FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29338                            9043     
29339                            9044     
29340                            9045     
29341                            9046     
29342                            9047     
29343                            9048     
29344                            9049     ;       *******************************************
29345                            9050     ;       ***                                     ***
29346                            9051     ;       ***     一旦停止                        ***
29347                            9052     ;       ***                                     ***
29348                            9053     ;       *******************************************
29349                                     ***** BEGIN-POOL *****
29350 000061FC 00000000                   DATA FOR SOURCE-LINE 9014
29351 00006200 00000000                   DATA FOR SOURCE-LINE 9020
29352 00006204 00000000                   DATA FOR SOURCE-LINE 9025
29353 00006208 00000000                   DATA FOR SOURCE-LINE 9031
29354 0000620C 00000000                   DATA FOR SOURCE-LINE 9034
29355 00006210 00000000                   DATA FOR SOURCE-LINE 9037
29356 00006214 00000000                   DATA FOR SOURCE-LINE 9040
29357                                     ***** END-POOL *****
29358 00006218                   9054             .ALIGN  4                               ;
29359                            9055             .EXPORT _CMP_HOLD_CTLGENSOK
29360 00006218                   9056     _CMP_HOLD_CTLGENSOK:
29361                            9057             SUB_START
29362 00006218 4F22                   M           STS.L   PR,@-R15                ;[必要]
29363                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29364                            9058     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
29365                            9059     ;;;input        MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
29366                            9060     ;;;     MOV.L   @(0,R4),R1                                              ;
29367                            9061     ;;;     MOV.L   @(4,R4),R2                                              ;
29368                            9062     
29369                            9063     ;       ---------------リアルタイム目標位置-----------
29370 0000621A D40E              9064             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
29371 0000621C 5540              9065             MOV.L   @(0,R4),R5                                              ;
29372 0000621E 5641              9066             MOV.L   @(4,R4),R6                                              ;
29373                            9067             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
29374 00006220 0008                   M           CLRT
29375 00006222 326A                   M           SUBC    R6,R2
29376 00006224 315A                   M           SUBC    R5,R1
29377                            9068     
29378 00006226 D40C              9069             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   421
PROGRAM NAME =

29379 00006228 6041              9070             MOV.W   @R4,R0                                                  ;
29380 0000622A C801              9071             TST     #BIT0,R0                                                ;
29381                            9072             TST_BIT_OF CMP_HODL_CTL200                                      ;正転
29382 0000622C 8905                   M           BT      CMP_HODL_CTL200
29383                            9073             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
29384 0000622E 6227                   M           NOT     R2,R2                           ;
29385 00006230 6117                   M           NOT     R1,R1                           ;
29386 00006232 200A                   M           XOR     R0,R0                           ;
29387 00006234 0018                   M           SETT
29388 00006236 320E                   M           ADDC    R0,R2                           ;0+1+R2
29389 00006238 310E                   M           ADDC    R0,R1                           ;
29390 0000623A                   9074     CMP_HODL_CTL200:                                                        ;
29391                            9075     
29392 0000623A D408              9076             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
29393 0000623C 6942              9077             MOV.L   @R4,R9                                                  ;
29394                            9078     
29395 0000623E D408              9079             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
29396 00006240 6A42              9080             MOV.L   @R4,R10                                                 ;
29397                            9081     
29398                            9082     ;;;;    MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
29399                            9083     ;;;;    MOV.L   @R4,R11                                                 ;
29400                            9084     
29401 00006242 D408              9085             MOV.L   #_POSHLD_SET_DN_ACC,R4                                  ;500,000/1000
29402 00006244 6B42              9086             MOV.L   @R4,R11                                                 ;
29403                            9087     
29404                            9088             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
29405 00006246 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29406 00006248 400B                   M           JSR     @R0                     ;
29407 0000624A 0009                   M           NOP                                     ;
29408                            9089     
29409                            9090             SUB_END
29410                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29411 0000624C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29412                            9091             M_RTS
29413 0000624E 000B                   M           RTS                             ;RTSの後ろの
29414 00006250 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29415                            9092     
29416                            9093     
29417                            9094     
29418                            9095     ;       *******************************************************************
29419                            9096     ;       ***                                                             ***
29420                            9097     ;       ***                                                             ***
29421                            9098     ;       ***                     クラッチ位置決め部                      ***
29422                            9099     ;       ***                                                             ***
29423                            9100     ;       ***                                                             ***
29424                            9101     ;       ***                                                             ***
29425                            9102     ;       *******************************************************************
29426                            9103     
29427                            9104     ;       *******************************************
29428                            9105     ;       ***                                     ***
29429                            9106     ;       ***     PLS/S --> 位置決めLSI           ***
29430                            9107     ;       ***                                     ***
29431                            9108     ;       *******************************************
29432                            9109     ;       _POS_LSI_SPDMAX=FFFF            ;16bit
29433                            9110     ;       _POS_FRQ_SPDMAX=500000          ;500KHZ(500000PLS/S)
29434                            9111     ;       Input R2:設定PLS/S
29435                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   422
PROGRAM NAME =

29436 00006252 0000                       ALIGNMENT CODE
29437 00006254 00000000                   DATA FOR SOURCE-LINE 9064
29438 00006258 00000000                   DATA FOR SOURCE-LINE 9069
29439 0000625C 00000000                   DATA FOR SOURCE-LINE 9076
29440 00006260 00000000                   DATA FOR SOURCE-LINE 9079
29441 00006264 00000000                   DATA FOR SOURCE-LINE 9085
29442 00006268 00000000                   DATA FOR SOURCE-LINE 9088
29443                                     ***** END-POOL *****
29444 0000626C                   9112             .ALIGN  4                               ;
29445 0000626C                   9113     _PLS_LSI_CTL_SPDINI:                                                    ;初回起動時
29446                            9114             SUB_START
29447 0000626C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29448                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29449                            9115     
29450 0000626E D114              9116             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
29451 00006270 2122              9117             MOV.L   R2,@R1                                                          ;
29452                            9118     
29453                            9119             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3          ;開始は自
                                          動起動
29454 00006272 D114                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
29455 00006274 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
29456 00006276 D314                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
29457 00006278 2322                   M           MOV.L   R2,@R3  ;DST_ADR
29458 0000627A D112              9120             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;
29459 0000627C 6212              9121             MOV.L   @R1,R2                                                          ;
29460                            9122     ;       ------ BASE時のみ変換が必要---------
29461                            9123             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                         ;
29462 0000627E D013                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29463 00006280 400B                   M           JSR     @R0                     ;
29464 00006282 0009                   M           NOP                                     ;
29465 00006284 D112              9124             MOV.L   #_FREQ_BAS_SV_SPD,R1                                            ;BASE設定
29466 00006286 2122              9125             MOV.L   R2,@R1                                                          ;
29467                            9126             POS_LSI_32BIT_DAT_SET ADR=_PLS_BasFreqL,ADR_REG=R6,DAT_REG=R2           ;R2 KEEP
29468                                 M           PUSH_REG1 R6
29469 00006288 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
29470                                 M                                           ;REG=>[SP]
29471                                 M                                           ;"-4" FF,FF,FF,FC
29472                                 M           PUSH_REG1 R2
29473 0000628A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29474                                 M                                           ;REG=>[SP]
29475                                 M                                           ;"-4" FF,FF,FF,FC
29476                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29477                                 M           PUSH_REG1 R0
29478 0000628C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29479                                 M                                           ;REG=>[SP]
29480                                 M                                           ;"-4" FF,FF,FF,FC
29481 0000628E D011                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29482 00006290 6001                   M           MOV.W   @R0,R0
29483                                 M           POP_REG1 R0
29484                                 M                                   ; RE"+4" 00,00,00,04
29485 00006292 60F6                   M           MOV.L   @R15+,R0        ;
29486 00006294 D610                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R6                ;
29487 00006296 2621                   M           MOV.W   R2,@R6                          ;(LOW)
29488 00006298 7602                   M           ADD     #2,R6                                   ;
29489 0000629A 6229                   M           SWAP.W  R2,R2                           ;
29490                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29491                                 M           PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   423
PROGRAM NAME =

29492 0000629C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29493                                 M                                           ;REG=>[SP]
29494                                 M                                           ;"-4" FF,FF,FF,FC
29495 0000629E D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29496 000062A0 6001                   M           MOV.W   @R0,R0
29497                                 M           POP_REG1 R0
29498                                 M                                   ; RE"+4" 00,00,00,04
29499 000062A2 60F6                   M           MOV.L   @R15+,R0        ;
29500 000062A4 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
29501                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29502                                 M           PUSH_REG1 R0
29503 000062A6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29504                                 M                                           ;REG=>[SP]
29505                                 M                                           ;"-4" FF,FF,FF,FC
29506 000062A8 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29507 000062AA 6001                   M           MOV.W   @R0,R0
29508                                 M           POP_REG1 R0
29509                                 M                                   ; RE"+4" 00,00,00,04
29510 000062AC 60F6                   M           MOV.L   @R15+,R0        ;
29511                                 M           POP_REG1 R2
29512                                 M                                   ; RE"+4" 00,00,00,04
29513 000062AE 62F6                   M           MOV.L   @R15+,R2        ;
29514                                 M           POP_REG1 R6
29515                                 M                                   ; RE"+4" 00,00,00,04
29516 000062B0 66F6                   M           MOV.L   @R15+,R6        ;
29517                            9127     
29518                            9128     
29519                            9129             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;PLS/S-->
29520 000062B2 D00A                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29521 000062B4 400B                   M           JSR     @R0                     ;
29522 000062B6 0009                   M           NOP                                     ;
29523                            9130             SUB_END
29524                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29525 000062B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29526                            9131             M_RTS
29527 000062BA 000B                   M           RTS                             ;RTSの後ろの
29528 000062BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29529                            9132     
29530                            9133     
29531                                     ***** BEGIN-POOL *****
29532 000062BE 0000                       ALIGNMENT CODE
29533 000062C0 00000000                   DATA FOR SOURCE-LINE 9116
29534 000062C4 00000000                   DATA FOR SOURCE-LINE 9119,9120
29535 000062C8 00000000                   DATA FOR SOURCE-LINE 9119
29536 000062CC 00000000                   DATA FOR SOURCE-LINE 9123
29537 000062D0 00000000                   DATA FOR SOURCE-LINE 9124
29538 000062D4 00000000                   DATA FOR SOURCE-LINE 9126,9126,9126
29539 000062D8 00000000                   DATA FOR SOURCE-LINE 9126
29540 000062DC 00000000                   DATA FOR SOURCE-LINE 9129
29541                                     ***** END-POOL *****
29542 000062E0                   9134             .ALIGN  4                               ;
29543 000062E0                   9135     _PLS_LSI_CTL_SPDCNT:                                                            ;運転中の
                                          速度変動時
29544                            9136             SUB_START
29545 000062E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
29546                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29547 000062E2 D104              9137             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   424
PROGRAM NAME =

29548 000062E4 2122              9138             MOV.L   R2,@R1                                                          ;SAVE 設定
                                          速度
29549                            9139     
29550                            9140             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;
29551 000062E6 D004                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29552 000062E8 400B                   M           JSR     @R0                     ;
29553 000062EA 0009                   M           NOP                                     ;
29554                            9141             SUB_END
29555                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29556 000062EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29557                            9142             M_RTS
29558 000062EE 000B                   M           RTS                             ;RTSの後ろの
29559 000062F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29560                            9143     
29561                            9144     
29562                            9145     ;       -------------------------------------------
29563                            9146     ;       ---     input _POSCTL_RL_SPD            ---
29564                            9147     ;       -------------------------------------------
29565                                     ***** BEGIN-POOL *****
29566 000062F2 0000                       ALIGNMENT CODE
29567 000062F4 00000000                   DATA FOR SOURCE-LINE 9137
29568 000062F8 00000000                   DATA FOR SOURCE-LINE 9140
29569                                     ***** END-POOL *****
29570 000062FC                   9148             .ALIGN  4                               ;
29571 000062FC                   9149     _PLS_LSI_CTL_SPDSET
29572                            9150             SUB_START
29573 000062FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29574                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29575 000062FE D00F              9151             MOV.L   #_POSCTL_RL_SPD,R0                                      ;内部演算リアルタ
                                          イム速度(PLS/S)
29576 00006300 6202              9152             MOV.L   @R0,R2                                                  ;
29577                            9153             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                 ;
29578 00006302 D00F                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29579 00006304 400B                   M           JSR     @R0                     ;
29580 00006306 0009                   M           NOP                                     ;
29581                            9154     
29582 00006308 D60E              9155             MOV.L   #_FREQ_SV_SPD,R6                                        ;2003-07-01(二重化
                                          対象速度)
29583 0000630A 2622              9156             MOV.L   R2,@R6                                                  ;
29584                            9157             POS_LSI_32BIT_DAT_SET ADR=_PLS_TopFreqL,ADR_REG=R6,DAT_REG=R2   ;
29585                                 M           PUSH_REG1 R6
29586 0000630C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
29587                                 M                                           ;REG=>[SP]
29588                                 M                                           ;"-4" FF,FF,FF,FC
29589                                 M           PUSH_REG1 R2
29590 0000630E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29591                                 M                                           ;REG=>[SP]
29592                                 M                                           ;"-4" FF,FF,FF,FC
29593                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29594                                 M           PUSH_REG1 R0
29595 00006310 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29596                                 M                                           ;REG=>[SP]
29597                                 M                                           ;"-4" FF,FF,FF,FC
29598 00006312 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29599 00006314 6001                   M           MOV.W   @R0,R0
29600                                 M           POP_REG1 R0
29601                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   425
PROGRAM NAME =

29602 00006316 60F6                   M           MOV.L   @R15+,R0        ;
29603 00006318 D60C                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R6                ;
29604 0000631A 2621                   M           MOV.W   R2,@R6                          ;(LOW)
29605 0000631C 7602                   M           ADD     #2,R6                                   ;
29606 0000631E 6229                   M           SWAP.W  R2,R2                           ;
29607                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29608                                 M           PUSH_REG1 R0
29609 00006320 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29610                                 M                                           ;REG=>[SP]
29611                                 M                                           ;"-4" FF,FF,FF,FC
29612 00006322 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29613 00006324 6001                   M           MOV.W   @R0,R0
29614                                 M           POP_REG1 R0
29615                                 M                                   ; RE"+4" 00,00,00,04
29616 00006326 60F6                   M           MOV.L   @R15+,R0        ;
29617 00006328 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
29618                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29619                                 M           PUSH_REG1 R0
29620 0000632A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29621                                 M                                           ;REG=>[SP]
29622                                 M                                           ;"-4" FF,FF,FF,FC
29623 0000632C D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29624 0000632E 6001                   M           MOV.W   @R0,R0
29625                                 M           POP_REG1 R0
29626                                 M                                   ; RE"+4" 00,00,00,04
29627 00006330 60F6                   M           MOV.L   @R15+,R0        ;
29628                                 M           POP_REG1 R2
29629                                 M                                   ; RE"+4" 00,00,00,04
29630 00006332 62F6                   M           MOV.L   @R15+,R2        ;
29631                                 M           POP_REG1 R6
29632                                 M                                   ; RE"+4" 00,00,00,04
29633 00006334 66F6                   M           MOV.L   @R15+,R6        ;
29634                            9158             SUB_END
29635                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29636 00006336 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29637                            9159             M_RTS
29638 00006338 000B                   M           RTS                             ;RTSの後ろの
29639 0000633A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29640                            9160     
29641                            9161     
29642                            9162     ;       ***********************************
29643                            9163     ;       ***                             ***
29644                            9164     ;       ***     停止処理                ***
29645                            9165     ;       ***                             ***
29646                            9166     ;       ***********************************
29647                            9167     ;       (1)自起動速度になったらEMGｺﾏﾝﾄﾞを発行する
29648                            9168     ;       (2)速度=0にして残りパルスを0にする
29649                            9169     ;       とりあえず(1)を行なう。
29650                                     ***** BEGIN-POOL *****
29651 0000633C 00000000                   DATA FOR SOURCE-LINE 9151
29652 00006340 00000000                   DATA FOR SOURCE-LINE 9153
29653 00006344 00000000                   DATA FOR SOURCE-LINE 9155
29654 00006348 00000000                   DATA FOR SOURCE-LINE 9157,9157,9157
29655 0000634C 00000000                   DATA FOR SOURCE-LINE 9157
29656                                     ***** END-POOL *****
29657 00006350                   9170             .ALIGN  4                               ;
29658 00006350                   9171     _PLS_LSI_STOP_END:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   426
PROGRAM NAME =

29659                            9172             SUB_START
29660 00006350 4F22                   M           STS.L   PR,@-R15                ;[必要]
29661                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29662 00006352 D41A              9173             MOV.L   #(BIT11*H'10000),R4                                     ;
29663                            9174             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
29664 00006354 D61A                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
29665 00006356 6562                   M           MOV.L   @R6,R5                                          ;
29666 00006358 254B                   M           OR      R4,R5                                           ;
29667 0000635A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
29668                                 M   
29669 0000635C D619                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
29670                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
29671 0000635E 6559                   M           SWAP.W  R5,R5                           ;
29672                                 M   
29673 00006360 2651                   M           MOV.W   R5,@R6
29674 00006362 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
29675 00006364 6559                   M           SWAP.W  R5,R5                           ;
29676                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29677                                 M           PUSH_REG1 R0
29678 00006366 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29679                                 M                                           ;REG=>[SP]
29680                                 M                                           ;"-4" FF,FF,FF,FC
29681 00006368 D017                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29682 0000636A 6001                   M           MOV.W   @R0,R0
29683                                 M           POP_REG1 R0
29684                                 M                                   ; RE"+4" 00,00,00,04
29685 0000636C 60F6                   M           MOV.L   @R15+,R0        ;
29686 0000636E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
29687                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29688                                 M           PUSH_REG1 R0
29689 00006370 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29690                                 M                                           ;REG=>[SP]
29691                                 M                                           ;"-4" FF,FF,FF,FC
29692 00006372 D015                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29693 00006374 6001                   M           MOV.W   @R0,R0
29694                                 M           POP_REG1 R0
29695                                 M                                   ; RE"+4" 00,00,00,04
29696 00006376 60F6                   M           MOV.L   @R15+,R0        ;
29697 00006378 0009              9175             NOP
29698 0000637A 0009              9176             NOP
29699 0000637C 0009              9177             NOP
29700                            9178             PUSH_REG1 R4
29701 0000637E 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
29702                                 M                                           ;REG=>[SP]
29703                                 M                                           ;"-4" FF,FF,FF,FC
29704 00006380 200A              9179             XOR     R0,R0                                                           ;
29705                            9180             REG_MOV_TO_MEM  DST_ADR=_POSCTL_SV_OFS_SPD,L1=L,DT_REG=R0,WKREG1=R1     ;
29706 00006382 D112                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1  ;DST_ADR
29707 00006384 2102                   M           MOV.L   R0,@R1  ;DST_ADR
29708                            9181             POP_REG1 R4                                                             ;
29709                                 M                                   ; RE"+4" 00,00,00,04
29710 00006386 64F6                   M           MOV.L   @R15+,R4        ;
29711 00006388 0009              9182             NOP
29712 0000638A 0009              9183             NOP
29713 0000638C 0009              9184             NOP
29714 0000638E D410              9185             MOV.L   #~(BIT11*H'10000),R4            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   427
PROGRAM NAME =

29715                            9186             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
29716 00006390 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
29717 00006392 6562                   M           MOV.L   @R6,R5                                          ;
29718 00006394 2549                   M           AND     R4,R5                                           ;
29719 00006396 2652                   M           MOV.L   R5,@R6                                          ;SAVE
29720                                 M   
29721 00006398 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
29722                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
29723 0000639A 6559                   M           SWAP.W  R5,R5                           ;
29724                                 M   
29725 0000639C 2651                   M           MOV.W   R5,@R6
29726 0000639E 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
29727 000063A0 6559                   M           SWAP.W  R5,R5                           ;
29728                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29729                                 M           PUSH_REG1 R0
29730 000063A2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29731                                 M                                           ;REG=>[SP]
29732                                 M                                           ;"-4" FF,FF,FF,FC
29733 000063A4 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29734 000063A6 6001                   M           MOV.W   @R0,R0
29735                                 M           POP_REG1 R0
29736                                 M                                   ; RE"+4" 00,00,00,04
29737 000063A8 60F6                   M           MOV.L   @R15+,R0        ;
29738 000063AA 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
29739                                 M           POS_LSI_WORD_DUM_LOD                                    ;
29740                                 M           PUSH_REG1 R0
29741 000063AC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29742                                 M                                           ;REG=>[SP]
29743                                 M                                           ;"-4" FF,FF,FF,FC
29744 000063AE D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
29745 000063B0 6001                   M           MOV.W   @R0,R0
29746                                 M           POP_REG1 R0
29747                                 M                                   ; RE"+4" 00,00,00,04
29748 000063B2 60F6                   M           MOV.L   @R15+,R0        ;
29749                            9187     
29750                            9188             SUB_END
29751                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29752 000063B4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29753                            9189             M_RTS
29754 000063B6 000B                   M           RTS                             ;RTSの後ろの
29755 000063B8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29756                            9190     
29757                            9191     
29758                            9192     
29759                            9193     
29760                            9194     
29761                            9195     
29762                            9196     ;       ***************************************************
29763                            9197     ;       ***                                             ***
29764                            9198     ;       ***     Input R2 PLS/SEC-->LSI(0-FFFF)data      ***
29765                            9199     ;       ***                                             ***
29766                            9200     ;       ***************************************************
29767                            9201     ;       Input R2
29768                            9202             .IMPORT _POS_LSI_FRQ_DATA_MAK
29769                            9203     
29770                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   428
PROGRAM NAME =

29771 000063BA 0000                       ALIGNMENT CODE
29772 000063BC 08000000                   DATA FOR SOURCE-LINE 9173
29773 000063C0 00000000                   DATA FOR SOURCE-LINE 9174,9186
29774 000063C4 00000000                   DATA FOR SOURCE-LINE 9174,9186
29775 000063C8 00000000                   DATA FOR SOURCE-LINE 9174,9174,9186,9186
29776 000063CC 00000000                   DATA FOR SOURCE-LINE 9180
29777 000063D0 F7FFFFFF                   DATA FOR SOURCE-LINE 9185
29778                                     ***** END-POOL *****
29779 000063D4                   9204             .ALIGN  4                               ;
29780 000063D4                   9205     _PLS_CHG_PLS_TO_LSI
29781                            9206             SUB_START
29782 000063D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
29783                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29784                            9207             FAR_JSR #_POS_LSI_FRQ_DATA_MAK,R0                       ;PLS/S → 65535=500KHZ
29785 000063D6 D009                   M           MOV.L   #_POS_LSI_FRQ_DATA_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29786 000063D8 400B                   M           JSR     @R0                     ;
29787 000063DA 0009                   M           NOP                                     ;
29788                            9208     
29789                            9209     ;       ========== MAX ========
29790 000063DC D108              9210             MOV.L   #_LSI_SET_SPD_MAXLMT,R1                                 ;(周波数上のﾘﾐｯﾀ)
29791 000063DE 6312              9211             MOV.L   @R1,R3                                                  ;
29792 000063E0 3322              9212             CMP/HS  R2,R3                                                   ;R2 =< R3
29793 000063E2 8900              9213             BT      PLS_CHG_PLSTOLSI_100                                    ;
29794 000063E4 6233              9214             MOV     R3,R2                                                   ;LIMIT
29795 000063E6                   9215     PLS_CHG_PLSTOLSI_100:
29796                            9216     ;============================ とりあえず策　本当はﾃﾞｰﾀﾚﾍﾞﾙでやるべき==========
29797                            9217     ;       === SIT4は未出荷(SIT3:20070914)(COP2:2007-07-20)===
29798 000063E6 D107              9218             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
29799 000063E8 6011              9219             MOV.W   @R1,R0                          ;
29800 000063EA C801              9220             TST     #BIT0,R0                        ;
29801                            9221             TST_BIT_OF PLS_CHG_PLSTOLSI_120         ;
29802 000063EC 890E                   M           BT      PLS_CHG_PLSTOLSI_120
29803 000063EE C840              9222             TST     #BIT6,R0                        ;
29804                            9223             TST_BIT_ON PLS_CHG_PLSTOLSI_120         ;
29805 000063F0 8B0C                   M           BF      PLS_CHG_PLSTOLSI_120
29806 000063F2 D105              9224             MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1      ;//65535=500KHZ
29807 000063F4 6312              9225             MOV.L   @R1,R3                          ;
29808                            9226             M_BRA   PLS_CHG_PLSTOLSI_150            ;
29809 000063F6 A017                   M           BRA     PLS_CHG_PLSTOLSI_150
29810 000063F8 0009                   M           NOP
29811                            9227     
29812                                     ***** BEGIN-POOL *****
29813 000063FA 0000                       ALIGNMENT CODE
29814 000063FC 00000000                   DATA FOR SOURCE-LINE 9207
29815 00006400 00000000                   DATA FOR SOURCE-LINE 9210
29816 00006404 00000000                   DATA FOR SOURCE-LINE 9218
29817 00006408 00000000                   DATA FOR SOURCE-LINE 9224
29818                                     ***** END-POOL *****
29819 0000640C                   9228     PLS_CHG_PLSTOLSI_120:
29820                            9229     
29821                            9230     ;       -----------2013-06-12-----
29822 0000640C D103              9231             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
29823 0000640E 6011              9232             MOV.W   @R1,R0                          ;
29824 00006410 2008              9233             TST     R0,R0                           ;
29825                            9234             TST_BIT_OF PLS_CHG_PLSTOLSI_130         ;
29826 00006412 8907                   M           BT      PLS_CHG_PLSTOLSI_130
29827                            9235     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   429
PROGRAM NAME =

29828                            9236     
29829                            9237     
29830 00006414 D102              9238             MOV.L   #_TEP_MIN_SPD_FRQ,R1            ;
29831 00006416 6312              9239             MOV.L   @R1,R3                          ;FREQ 500.000/65535= 7.62PLS/S
29832                            9240             M_BRA   PLS_CHG_PLSTOLSI_150            ;
29833 00006418 A006                   M           BRA     PLS_CHG_PLSTOLSI_150
29834 0000641A 0009                   M           NOP
29835                            9241     
29836                                     ***** BEGIN-POOL *****
29837 0000641C 00000000                   DATA FOR SOURCE-LINE 9231
29838 00006420 00000000                   DATA FOR SOURCE-LINE 9238
29839                                     ***** END-POOL *****
29840 00006424                   9242     PLS_CHG_PLSTOLSI_130:
29841                            9243     
29842                            9244     
29843                            9245     ;       ========== MIN ========
29844 00006424 D103              9246             MOV.L   #_POS_LSI_SPDBAS,R1             ;65535=500KHZ
29845 00006426 6312              9247             MOV.L   @R1,R3                          ;
29846 00006428                   9248     PLS_CHG_PLSTOLSI_150:
29847                            9249     
29848 00006428 3232              9250             CMP/HS  R3,R2                                                   ;R3 =< R2
29849 0000642A 8900              9251             BT      PLS_CHG_PLSTOLSI_200                                    ;
29850 0000642C 6233              9252             MOV     R3,R2                                                   ;LIMIT
29851 0000642E                   9253     PLS_CHG_PLSTOLSI_200                                                    ;
29852                            9254             SUB_END
29853                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29854 0000642E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29855                            9255             M_RTS
29856 00006430 000B                   M           RTS                             ;RTSの後ろの
29857 00006432 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29858                            9256     
29859                            9257     ;       *******************************************************************
29860                            9258     ;       ***                                                             ***
29861                            9259     ;       ***                                                             ***
29862                            9260     ;       ***                     データ作成                              ***
29863                            9261     ;       ***                                                             ***
29864                            9262     ;       ***                                                             ***
29865                            9263     ;       ***                                                             ***
29866                            9264     ;       *******************************************************************
29867                            9265     ;       起動時または1CYCLE終了時
29868                            9266     
29869                            9267     
29870                            9268     
29871                            9269     ;       ***********************************
29872                            9270     ;       ***                             ***
29873                            9271     ;       ***     加速度データの作成      ***
29874                            9272     ;       ***     _POSCTL_SV_UP_ACC       ***
29875                            9273     ;       ***                             ***
29876                            9274     ;       ***********************************
29877                            9275     ;       1回転CYCLE
29878                            9276     ;       ｵｰﾊﾞﾗｲﾄﾞなし
29879                            9277             .EXPORT _ACCLAT1_SV_MAK_COM                     ;
29880                            9278     
29881                                     ***** BEGIN-POOL *****
29882 00006434 00000000                   DATA FOR SOURCE-LINE 9246
29883                                     ***** END-POOL *****
29884 00006438                   9279             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   430
PROGRAM NAME =

29885 00006438                   9280     _ACCLAT1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
29886                            9281             SUB_START
29887 00006438 4F22                   M           STS.L   PR,@-R15                ;[必要]
29888                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29889 0000643A D007              9282             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;time* 100/(1~127)
29890 0000643C 6401              9283             MOV.W   @R0,R4                                  ;1~100
29891                            9284     
29892 0000643E D007              9285             MOV.L   #_SET1_ACCLAT_TIM1,R0                   ;
29893 00006440 6201              9286             MOV.W   @R0,R2                                  ;R2:時間
29894                            9287     
29895                            9288             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
29896 00006442 D007                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29897 00006444 400B                   M           JSR     @R0                     ;
29898 00006446 0009                   M           NOP                                     ;
29899                            9289     
29900 00006448 D106              9290             MOV.L   #_SET_UP_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
29901 0000644A 2122              9291             MOV.L   R2,@R1                                          ;
29902 0000644C D106              9292             MOV.L   #_SET_DN_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
29903 0000644E 2122              9293             MOV.L   R2,@R1                                          ;(最終減速専用)
29904                            9294     
29905                            9295             SUB_END
29906                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29907 00006450 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29908                            9296             M_RTS
29909 00006452 000B                   M           RTS                             ;RTSの後ろの
29910 00006454 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29911                            9297     
29912                            9298     ;       -----------------------------------------------------------
29913                            9299     ;       ---     INPUT R2(TIME),R4 OVER-LIDE DATA 1~100,100      ---
29914                            9300     ;       -----------------------------------------------------------
29915                                     ***** BEGIN-POOL *****
29916 00006456 0000                       ALIGNMENT CODE
29917 00006458 00000000                   DATA FOR SOURCE-LINE 9282
29918 0000645C 00000000                   DATA FOR SOURCE-LINE 9285
29919 00006460 00000000                   DATA FOR SOURCE-LINE 9288
29920 00006464 00000000                   DATA FOR SOURCE-LINE 9290
29921 00006468 00000000                   DATA FOR SOURCE-LINE 9292
29922                                     ***** END-POOL *****
29923 0000646C                   9301             .ALIGN  4                               ;
29924 0000646C                   9302     _ACCLAT1_SV_MAK_COM:
29925                            9303             SUB_START
29926 0000646C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29927                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29928                            9304     
29929                            9305             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                ;Input R2,R4 ANS R2
29930 0000646E D008                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29931 00006470 400B                   M           JSR     @R0                     ;
29932 00006472 0009                   M           NOP                                     ;
29933 00006474 D107              9306             MOV.L   #_OVER_LIDE_ANS_TIM,R1                  ;TIME *100*100/1*1 = 10000*
29934 00006476 2122              9307             MOV.L   R2,@R1                                  ;(ﾃﾞﾊﾞｯｸ用)
29935                            9308     ;
29936                            9309     ;       ====時間の次元==>加速度の次元===
29937                            9310     ;;      MOV.L   #_POS_FRQ_SPDMAX,R0                     ;500KHZ(500000PLS/S)
29938                            9311     ;       ------- こっちがわかりよい-------
29939 00006478 6423              9312             MOV     R2,R4                                   ;
29940 0000647A D007              9313             MOV.L   #_LINK_MAX_SPD_PLS,R0                           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   431
PROGRAM NAME =

29941 0000647C 6202              9314             MOV.L   @R0,R2                                          ;
29942                            9315             FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
29943 0000647E D007                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
29944 00006480 400B                   M           JSR     @R0                     ;
29945 00006482 0009                   M           NOP                                     ;
29946                            9316     
29947 00006484 2228              9317             TST     R2,R2                                           ;
29948                            9318             TST_BIT_ON ACCLAT1_SV_MAKCOM_200                        ;
29949 00006486 8B00                   M           BF      ACCLAT1_SV_MAKCOM_200
29950 00006488 E201              9319             MOV     #1,R2                                           ;
29951 0000648A                   9320     ACCLAT1_SV_MAKCOM_200:                                          ;
29952                            9321     
29953                            9322             SUB_END
29954                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29955 0000648A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29956                            9323             M_RTS
29957 0000648C 000B                   M           RTS                             ;RTSの後ろの
29958 0000648E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29959                            9324     
29960                            9325     
29961                            9326     ;       *******************************************
29962                            9327     ;       ***                                     ***
29963                            9328     ;       ***     OVERLIDE 加速度への演算         ***
29964                            9329     ;       ***                                     ***
29965                            9330     ;       *******************************************
29966                            9331     ;       Input R2(ACC時間),R4(0~100per)/OUTPUT R2,R4
29967                                     ***** BEGIN-POOL *****
29968 00006490 00000000                   DATA FOR SOURCE-LINE 9305
29969 00006494 00000000                   DATA FOR SOURCE-LINE 9306
29970 00006498 00000000                   DATA FOR SOURCE-LINE 9313
29971 0000649C 00000000                   DATA FOR SOURCE-LINE 9315
29972                                     ***** END-POOL *****
29973 000064A0                   9332             .ALIGN  4                               ;
29974 000064A0                   9333     _OVRLIDE_LATE_MULDIV:
29975                            9334             SUB_START
29976 000064A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
29977                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29978                            9335     
29979                            9336     ;       ------- 2010-10-06-- ふりこ
29980                            9337             PUSH_REG1 R2
29981 000064A2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29982                                 M                                           ;REG=>[SP]
29983                                 M                                           ;"-4" FF,FF,FF,FC
29984                            9338             PUSH_REG1 R4
29985 000064A4 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
29986                                 M                                           ;REG=>[SP]
29987                                 M                                           ;"-4" FF,FF,FF,FC
29988                            9339             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0
29989 000064A6 D007                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29990 000064A8 400B                   M           JSR     @R0                     ;
29991 000064AA 0009                   M           NOP                                     ;
29992                            9340             POP_REG1 R4
29993                                 M                                   ; RE"+4" 00,00,00,04
29994 000064AC 64F6                   M           MOV.L   @R15+,R4        ;
29995                            9341             POP_REG1 R2
29996                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   432
PROGRAM NAME =

29997 000064AE 62F6                   M           MOV.L   @R15+,R2        ;
29998                            9342     
29999 000064B0 2008              9343             TST     R0,R0
30000                            9344             TST_BIT_ON OVRLIDE_LATMULDIV200         ;ふりこ時時間一定
30001 000064B2 8B0B                   M           BF      OVRLIDE_LATMULDIV200
30002                            9345     
30003                            9346     
30004                            9347     
30005 000064B4 D004              9348             MOV.L   #_WPAR_ACCTYP_SEL,R0                            ;0:加速距離一定(SIT3ｴｸｾﾃﾞｨ
                                          ) 1:加速時間一定 2:加速度一定
30006 000064B6 6001              9349             MOV.W   @R0,R0                                          ;
30007 000064B8 8800              9350             CMP/EQ  #0,R0                                           ;0:距離一定(LATE*LATE)
30008 000064BA 890B              9351             BT      OVRLIDE_LATMULDIV300                            ;
30009 000064BC 8801              9352             CMP/EQ  #1,R0                                           ;
30010 000064BE 8905              9353             BT      OVRLIDE_LATMULDIV200                            ;加速時間一定JUMP
30011                            9354             M_BRA   OVRLIDE_LATMULDIV550                            ;加速度一定
30012 000064C0 A017                   M           BRA     OVRLIDE_LATMULDIV550
30013 000064C2 0009                   M           NOP
30014                            9355     
30015                            9356     
30016                                     ***** BEGIN-POOL *****
30017 000064C4 00000000                   DATA FOR SOURCE-LINE 9339
30018 000064C8 00000000                   DATA FOR SOURCE-LINE 9348
30019                                     ***** END-POOL *****
30020 000064CC                   9357     OVRLIDE_LATMULDIV200:                                           ;
30021 000064CC 9101              9358             MOV.W   #_OVRLIDE_LATE_MAX,R1                           ;R2(時間)*(100 R1)/(PER R4
                                          )加速時間一定
30022                            9359             M_BRA   OVRLIDE_LATMULDIV400                            ;V=Vmax/Tmax V*0.5 Tmax->T
                                          max/0.5
30023 000064CE A005                   M           BRA     OVRLIDE_LATMULDIV400
30024 000064D0 0009                   M           NOP
30025                            9360     
30026                                     ***** BEGIN-POOL *****
30027 000064D2 0064                       DATA FOR SOURCE-LINE 9358
30028                                     ***** END-POOL *****
30029 000064D4                   9361     OVRLIDE_LATMULDIV300:                                           ;
30030 000064D4 6043              9362             MOV     R4,R0                                           ;
30031 000064D6 204E              9363             MULU.W  R4,R0                                           ;
30032 000064D8 041A              9364             STS     MACL,R4                                         ;V*V=2*Vmax/Tmax*S
30033 000064DA 910D              9365             MOV.W   #_OVRLIDE_LATE_MAX*_OVRLIDE_LATE_MAX,R1         ;R2(時間)*(100*100 R1)/(PE
                                          R*PER R4)
30034                            9366     
30035 000064DC                   9367     OVRLIDE_LATMULDIV400:                                           ;
30036                            9368     
30037 000064DC 622D              9369             EXTU.W  R2,R2                                           ;R2(TIME)*R1/R4
30038                            9370             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
30039 000064DE D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30040 000064E0 400B                   M           JSR     @R0                     ;
30041 000064E2 0009                   M           NOP                                     ;
30042                            9371     
30043 000064E4 D406              9372             MOV.L   #H'0000FFFF,R4                                  ;
30044 000064E6 3422              9373             CMP/HS  R2,R4                                           ;
30045 000064E8 8900              9374             BT      OVRLIDE_LATMULDIV500                            ;
30046 000064EA 6243              9375             MOV     R4,R2                                           ;
30047 000064EC                   9376     OVRLIDE_LATMULDIV500                                            ;
30048 000064EC 2228              9377             TST     R2,R2                                           ;
30049                            9378             TST_BIT_ON OVRLIDE_LATMULDIV550                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   433
PROGRAM NAME =

30050 000064EE 8B00                   M           BF      OVRLIDE_LATMULDIV550
30051 000064F0 E201              9379             MOV     #1,R2                                           ;
30052 000064F2                   9380     OVRLIDE_LATMULDIV550:                                           ;
30053                            9381     
30054                            9382             SUB_END
30055                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30056 000064F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30057                            9383             M_RTS
30058 000064F4 000B                   M           RTS                             ;RTSの後ろの
30059 000064F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30060                            9384     
30061                            9385     
30062                            9386     ;       ***********************************
30063                            9387     ;       ***                             ***
30064                            9388     ;       ***     BRK1ﾃﾞｰﾀMAKE            ***
30065                            9389     ;       ***                             ***
30066                            9390     ;       ***********************************
30067                                     ***** BEGIN-POOL *****
30068 000064F8 2710                       DATA FOR SOURCE-LINE 9365
30069 000064FA 0000                       ALIGNMENT CODE
30070 000064FC 00000000                   DATA FOR SOURCE-LINE 9370
30071 00006500 0000FFFF                   DATA FOR SOURCE-LINE 9372
30072                                     ***** END-POOL *****
30073 00006504                   9391             .ALIGN  4                               ;
30074 00006504                   9392     _ACCBRK1_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30075                            9393             SUB_START
30076 00006504 4F22                   M           STS.L   PR,@-R15                ;[必要]
30077                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30078 00006506 9409              9394             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
30079 00006508 D005              9395             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
30080 0000650A 6201              9396             MOV.W   @R0,R2                                  ;
30081                            9397     
30082                            9398             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30083 0000650C D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30084 0000650E 400B                   M           JSR     @R0                     ;
30085 00006510 0009                   M           NOP                                     ;
30086                            9399     
30087 00006512 D105              9400             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
30088 00006514 2122              9401             MOV.L   R2,@R1                                          ;
30089                            9402             SUB_END
30090                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30091 00006516 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30092                            9403             M_RTS
30093 00006518 000B                   M           RTS                             ;RTSの後ろの
30094 0000651A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30095                            9404     
30096                                     ***** BEGIN-POOL *****
30097 0000651C 0064                       DATA FOR SOURCE-LINE 9394
30098 0000651E 0000                       ALIGNMENT CODE
30099 00006520 00000000                   DATA FOR SOURCE-LINE 9395
30100 00006524 00000000                   DATA FOR SOURCE-LINE 9398
30101 00006528 00000000                   DATA FOR SOURCE-LINE 9400
30102                                     ***** END-POOL *****
30103 0000652C                   9405             .ALIGN  4                               ;
30104 0000652C                   9406     _ACCBRK1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30105                            9407             SUB_START
30106 0000652C 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   434
PROGRAM NAME =

30107                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30108 0000652E D006              9408             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;
30109 00006530 6401              9409             MOV.W   @R0,R4                                  ;1~100
30110                            9410     
30111 00006532 D006              9411             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
30112 00006534 6201              9412             MOV.W   @R0,R2                                  ;
30113                            9413     
30114                            9414             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30115 00006536 D006                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30116 00006538 400B                   M           JSR     @R0                     ;
30117 0000653A 0009                   M           NOP                                     ;
30118                            9415     
30119 0000653C D105              9416             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
30120 0000653E 2122              9417             MOV.L   R2,@R1                                          ;
30121                            9418             SUB_END
30122                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30123 00006540 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30124                            9419             M_RTS
30125 00006542 000B                   M           RTS                             ;RTSの後ろの
30126 00006544 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30127                            9420     
30128                            9421     
30129                            9422     ;       ***********************************
30130                            9423     ;       ***                             ***
30131                            9424     ;       ***     BRK2ﾃﾞｰﾀMAKE            ***
30132                            9425     ;       ***                             ***
30133                            9426     ;       ***********************************
30134                                     ***** BEGIN-POOL *****
30135 00006546 0000                       ALIGNMENT CODE
30136 00006548 00000000                   DATA FOR SOURCE-LINE 9408
30137 0000654C 00000000                   DATA FOR SOURCE-LINE 9411
30138 00006550 00000000                   DATA FOR SOURCE-LINE 9414
30139 00006554 00000000                   DATA FOR SOURCE-LINE 9416
30140                                     ***** END-POOL *****
30141 00006558                   9427             .ALIGN  4                               ;
30142 00006558                   9428     _ACCBRK2_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30143                            9429             SUB_START
30144 00006558 4F22                   M           STS.L   PR,@-R15                ;[必要]
30145                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30146 0000655A 9409              9430             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
30147 0000655C D005              9431             MOV.L   #_WPAR_BRK2_ACCTM,R0                    ;//38 msec
30148 0000655E 6201              9432             MOV.W   @R0,R2                                  ;
30149                            9433     
30150                            9434             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30151 00006560 D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30152 00006562 400B                   M           JSR     @R0                     ;
30153 00006564 0009                   M           NOP                                     ;
30154                            9435     
30155 00006566 D105              9436             MOV.L   #_BRK2_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
30156 00006568 2122              9437             MOV.L   R2,@R1                                          ;
30157                            9438     
30158                            9439     
30159                            9440             SUB_END
30160                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30161 0000656A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30162                            9441             M_RTS
30163 0000656C 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   435
PROGRAM NAME =

30164 0000656E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30165                            9442     
30166                            9443     ;       S2b     WPAR_BRK1_ACCTM                 ;//37 msec
30167                            9444     ;       S4b     BRK1_SV_DN_ACC;//目標加速度((PLS/1000)/S/S)
30168                            9445     ;       S4b     BRK1_CAL_DN_ACC;//OVER LIDE 含む
30169                            9446     
30170                            9447     
30171                            9448     ;       *******************************************************************
30172                            9449     ;       ***                                                             ***
30173                            9450     ;       ***                                                             ***
30174                            9451     ;       ***                     演算                                    ***
30175                            9452     ;       ***                                                             ***
30176                            9453     ;       ***                                                             ***
30177                            9454     ;       ***                                                             ***
30178                            9455     ;       *******************************************************************
30179                            9456     
30180                            9457     ;       *******************************************
30181                            9458     ;       ***                                     ***
30182                            9459     ;       ***     2006-09-19                      ***
30183                            9460     ;       ***     演算                            ***
30184                            9461     ;       ***     速度LSI設定→PLS/Sにする        ***
30185                            9462     ;       ***                                     ***
30186                            9463     ;       *******************************************
30187                            9464     ;
30188                                     ***** BEGIN-POOL *****
30189 00006570 0064                       DATA FOR SOURCE-LINE 9430
30190 00006572 0000                       ALIGNMENT CODE
30191 00006574 00000000                   DATA FOR SOURCE-LINE 9431
30192 00006578 00000000                   DATA FOR SOURCE-LINE 9434
30193 0000657C 00000000                   DATA FOR SOURCE-LINE 9436
30194                                     ***** END-POOL *****
30195 00006580                   9465             .ALIGN  4                               ;
30196 00006580                   9466     _CHG_LSI_LATE_TO_PLS            ;2006-09-19
30197                            9467             SUB_START
30198 00006580 4F22                   M           STS.L   PR,@-R15                ;[必要]
30199                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30200 00006582 D005              9468             MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
30201 00006584 6102              9469             MOV.L   @R0,R1                                          ;
30202 00006586 D005              9470             MOV.L   #_POS_LSI_SPDMAX,R0                             ;FFFF
30203 00006588 6402              9471             MOV.L   @R0,R4                                          ;
30204 0000658A 6043              9472             MOV     R4,R0                                           ;
30205                            9473     ;;      ADD     #-1,R0                                          ;
30206                            9474     ;;      ADD     R0,R2                                           ;切上
30207                            9475             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
30208 0000658C D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30209 0000658E 400B                   M           JSR     @R0                     ;
30210 00006590 0009                   M           NOP                                     ;
30211                            9476     
30212                            9477             SUB_END
30213                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30214 00006592 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30215                            9478             M_RTS
30216 00006594 000B                   M           RTS                             ;RTSの後ろの
30217 00006596 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30218                            9479     
30219                            9480     
30220                            9481     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   436
PROGRAM NAME =

30221                            9482     
30222                            9483     ;       ***********************************
30223                            9484     ;       ***                             ***
30224                            9485     ;       ***     起動コマンド            ***
30225                            9486     ;       ***                             ***
30226                            9487     ;       ***********************************
30227                                     ***** BEGIN-POOL *****
30228 00006598 00000000                   DATA FOR SOURCE-LINE 9468
30229 0000659C 00000000                   DATA FOR SOURCE-LINE 9470
30230 000065A0 00000000                   DATA FOR SOURCE-LINE 9475
30231                                     ***** END-POOL *****
30232 000065A4                   9488             .ALIGN  4                               ;
30233 000065A4                   9489     _SPD_CTL_START
30234                            9490             SUB_START
30235 000065A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
30236                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30237                            9491     
30238 000065A6 900F              9492             MOV.W   #1,R0                                                           ;
30239                            9493             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
30240 000065A8 D108                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
30241 000065AA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
30242                            9494     
30243 000065AC D108              9495             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0:起動 BIT6:END
30244 000065AE 6011              9496             MOV.W   @R1,R0                                                          ;
30245 000065B0 C801              9497             TST     #BIT0,R0                                                        ;
30246                            9498             TST_BIT_OF SPD_CTL_ST100                                                ;
30247 000065B2 8903                   M           BT      SPD_CTL_ST100
30248                            9499             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1     ;
30249 000065B4 D107                   M           MOV.L   #_POSCTL_CALC_ERR,R1            ;
30250 000065B6 6011                   M           MOV.W   @R1,R0          ;
30251 000065B8 CB01                   M           OR      #BIT0,R0                ;
30252 000065BA 2101                   M           MOV.W   R0,@R1          ;
30253 000065BC                   9500     SPD_CTL_ST100
30254 000065BC 200A              9501             XOR     R0,R0                   ;
30255                            9502             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
30256 000065BE D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
30257 000065C0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
30258                            9503     
30259                            9504             SUB_END
30260                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30261 000065C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30262                            9505             M_RTS
30263 000065C4 000B                   M           RTS                             ;RTSの後ろの
30264 000065C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30265                            9506     
30266                            9507     ;       -------------------------------------------
30267                            9508     ;       ---                                     ---
30268                            9509     ;       -------------------------------------------
30269                            9510     ;       ***********************************
30270                            9511     ;       ***                             ***
30271                            9512     ;       ***     EMG停止コマンド         ***
30272                            9513     ;       ***                             ***
30273                            9514     ;       ***********************************
30274                                     ***** BEGIN-POOL *****
30275 000065C8 0001                       DATA FOR SOURCE-LINE 9492
30276 000065CA 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   437
PROGRAM NAME =

30277 000065CC 00000000                   DATA FOR SOURCE-LINE 9493
30278 000065D0 00000000                   DATA FOR SOURCE-LINE 9495,9502
30279 000065D4 00000000                   DATA FOR SOURCE-LINE 9499
30280                                     ***** END-POOL *****
30281 000065D8                   9515             .ALIGN  4                               ;
30282 000065D8                   9516     _SPD_CTL_EMG_STOP
30283                            9517             SUB_START
30284 000065D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
30285                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30286 000065DA 9004              9518             MOV.W   #3,R0                                                           ;0:EMG
30287                            9519             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
30288 000065DC D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
30289 000065DE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
30290                            9520             SUB_END
30291                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30292 000065E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30293                            9521             M_RTS
30294 000065E2 000B                   M           RTS                             ;RTSの後ろの
30295 000065E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30296                            9522     
30297                            9523     ;       -------------------------------------------
30298                            9524     ;       ---                                     ---
30299                            9525     ;       -------------------------------------------
30300                            9526     ;       ***********************************
30301                            9527     ;       ***                             ***
30302                            9528     ;       ***     SLOW停止コマンド        ***
30303                            9529     ;       ***                             ***
30304                            9530     ;       ***********************************
30305                                     ***** BEGIN-POOL *****
30306 000065E6 0003                       DATA FOR SOURCE-LINE 9518
30307 000065E8 00000000                   DATA FOR SOURCE-LINE 9519
30308                                     ***** END-POOL *****
30309 000065EC                   9531             .ALIGN  4                               ;
30310 000065EC                   9532     _SPD_CTL_SLOW_STOP
30311                            9533             SUB_START
30312 000065EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30313                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30314 000065EE 9004              9534             MOV.W   #2,R0                                                           ;2:SLOW
30315                            9535             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
30316 000065F0 D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
30317 000065F2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
30318                            9536             SUB_END
30319                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30320 000065F4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30321                            9537             M_RTS
30322 000065F6 000B                   M           RTS                             ;RTSの後ろの
30323 000065F8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30324                            9538     
30325                            9539     
30326                            9540     ;       ***********************************************************
30327                            9541     ;       ***                                                     ***
30328                            9542     ;       ***                                                     ***
30329                            9543     ;       ***                     前回I/F                         ***
30330                            9544     ;       ***                                                     ***
30331                            9545     ;       ***                                                     ***
30332                            9546     ;       ***********************************************************
30333                            9547     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   438
PROGRAM NAME =

30334                            9548     ;       ***     トップ周波数    起動            ***
30335                            9549     ;       *******************************************
30336                            9550     ;       65535へ正規化または7FFFへ正規化
30337                            9551     ;       Input R2:
30338                                     ***** BEGIN-POOL *****
30339 000065FA 0002                       DATA FOR SOURCE-LINE 9534
30340 000065FC 00000000                   DATA FOR SOURCE-LINE 9535
30341                                     ***** END-POOL *****
30342 00006600                   9552             .ALIGN  4                               ;
30343 00006600                   9553     _POS_LSI_TOP_SPEED_SET:
30344                            9554             SUB_START
30345 00006600 4F22                   M           STS.L   PR,@-R15                ;[必要]
30346                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30347                            9555             FAR_JSR #_PLS_LSI_CTL_SPDINI,R0
30348 00006602 D003                   M           MOV.L   #_PLS_LSI_CTL_SPDINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30349 00006604 400B                   M           JSR     @R0                     ;
30350 00006606 0009                   M           NOP                                     ;
30351                            9556             SUB_END
30352                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30353 00006608 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30354                            9557             M_RTS
30355 0000660A 000B                   M           RTS                             ;RTSの後ろの
30356 0000660C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30357                            9558     
30358                            9559     ;       *******************************************
30359                            9560     ;       ***     トップ周波数    速度可変        ***
30360                            9561     ;       *******************************************
30361                                     ***** BEGIN-POOL *****
30362 0000660E 0000                       ALIGNMENT CODE
30363 00006610 00000000                   DATA FOR SOURCE-LINE 9555
30364                                     ***** END-POOL *****
30365 00006614                   9562             .ALIGN  4                               ;
30366 00006614                   9563     _POS_LSI_TOP_SPEED_SETX:
30367                            9564             SUB_START
30368 00006614 4F22                   M           STS.L   PR,@-R15                ;[必要]
30369                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30370                            9565             FAR_JSR #_PLS_LSI_CTL_SPDCNT,R0
30371 00006616 D003                   M           MOV.L   #_PLS_LSI_CTL_SPDCNT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30372 00006618 400B                   M           JSR     @R0                     ;
30373 0000661A 0009                   M           NOP                                     ;
30374                            9566             SUB_END
30375                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30376 0000661C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30377                            9567             M_RTS
30378 0000661E 000B                   M           RTS                             ;RTSの後ろの
30379 00006620 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30380                            9568     
30381                            9569     ;       ***********************************
30382                            9570     ;       ***     ベース周波数            ***
30383                            9571     ;       ***********************************
30384                            9572     ;       (1回だけ)
30385                                     ***** BEGIN-POOL *****
30386 00006622 0000                       ALIGNMENT CODE
30387 00006624 00000000                   DATA FOR SOURCE-LINE 9565
30388                                     ***** END-POOL *****
30389 00006628                   9573             .ALIGN  4                               ;
30390 00006628                   9574     _POS_LSI_BAS_SPEED_SET:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   439
PROGRAM NAME =

30391                            9575             SUB_START
30392 00006628 4F22                   M           STS.L   PR,@-R15                ;[必要]
30393                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30394                            9576             MEM_MOV_TO_MEM  _SET_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3 ;
30395 0000662A D103                   M           MOV.L   #_SET_SPDBAS_PLS,R1
30396 0000662C 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30397 0000662E D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
30398 00006630 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30399                            9577             SUB_END
30400                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30401 00006632 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30402                            9578             M_RTS
30403 00006634 000B                   M           RTS                             ;RTSの後ろの
30404 00006636 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30405                            9579     
30406                            9580     ;       *******************************************
30407                            9581     ;       ***     ベース周波数(HAIF-CLOSE)        ***
30408                            9582     ;       *******************************************
30409                            9583             .EXPORT _POS_LSI_CLS_BAS_SPD_SET
30410                                     ***** BEGIN-POOL *****
30411 00006638 00000000                   DATA FOR SOURCE-LINE 9576
30412 0000663C 00000000                   DATA FOR SOURCE-LINE 9576
30413                                     ***** END-POOL *****
30414 00006640                   9584             .ALIGN  4                               ;
30415 00006640                   9585     _POS_LSI_CLS_BAS_SPD_SET:
30416                            9586             SUB_START
30417 00006640 4F22                   M           STS.L   PR,@-R15                ;[必要]
30418                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30419                            9587             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
30420 00006642 D103                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
30421 00006644 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30422 00006646 D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
30423 00006648 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30424                            9588             SUB_END
30425                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30426 0000664A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30427                            9589             M_RTS
30428 0000664C 000B                   M           RTS                             ;RTSの後ろの
30429 0000664E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30430                            9590     
30431                            9591     
30432                            9592     
30433                            9593     ;       ***********************************
30434                            9594     ;       ***     ベース周波数            ***
30435                            9595     ;       ***********************************
30436                            9596     ;       2013-06-13
30437                            9597             .EXPORT _POS_LSI_TEP_BAS_SPEED_SET
30438                                     ***** BEGIN-POOL *****
30439 00006650 00000000                   DATA FOR SOURCE-LINE 9587
30440 00006654 00000000                   DATA FOR SOURCE-LINE 9587
30441                                     ***** END-POOL *****
30442 00006658                   9598             .ALIGN  4                               ;
30443 00006658                   9599     _POS_LSI_TEP_BAS_SPEED_SET:
30444                            9600             SUB_START
30445 00006658 4F22                   M           STS.L   PR,@-R15                ;[必要]
30446                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30447                            9601             MEM_MOV_TO_MEM  _TEP_MIN_SPD_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   440
PROGRAM NAME =

30448 0000665A D103                   M           MOV.L   #_TEP_MIN_SPD_PLS,R1
30449 0000665C 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30450 0000665E D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
30451 00006660 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30452                            9602             SUB_END
30453                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30454 00006662 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30455                            9603             M_RTS
30456 00006664 000B                   M           RTS                             ;RTSの後ろの
30457 00006666 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30458                            9604     
30459                            9605     
30460                            9606     
30461                            9607     ;
30462                            9608     ;       *******************************************
30463                            9609     ;       ***     トップSPEED=自起動=ｲﾝﾁﾝｸﾞ       ***
30464                            9610     ;       *******************************************
30465                            9611     ;       65535へ正規化または7FFFへ正規化
30466                            9612     ;       Input R2:
30467                            9613             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET1
30468                                     ***** BEGIN-POOL *****
30469 00006668 00000000                   DATA FOR SOURCE-LINE 9601
30470 0000666C 00000000                   DATA FOR SOURCE-LINE 9601
30471                                     ***** END-POOL *****
30472 00006670                   9614             .ALIGN  4                               ;
30473 00006670                   9615     _POS_LSI_CLS_TOP_EQ_BAS_SET1:
30474                            9616             SUB_START
30475 00006670 4F22                   M           STS.L   PR,@-R15                ;[必要]
30476                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30477                            9617             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
30478 00006672 D106                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
30479 00006674 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30480 00006676 D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
30481 00006678 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30482 0000667A D105              9618             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
30483 0000667C 6212              9619             MOV.L   @R1,R2                          ;
30484                            9620             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
30485 0000667E D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30486 00006680 400B                   M           JSR     @R0                     ;
30487 00006682 0009                   M           NOP                                     ;
30488                            9621             SUB_END
30489                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30490 00006684 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30491                            9622             M_RTS
30492 00006686 000B                   M           RTS                             ;RTSの後ろの
30493 00006688 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30494                            9623     
30495                            9624             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET2
30496                                     ***** BEGIN-POOL *****
30497 0000668A 0000                       ALIGNMENT CODE
30498 0000668C 00000000                   DATA FOR SOURCE-LINE 9617
30499 00006690 00000000                   DATA FOR SOURCE-LINE 9617,9618
30500 00006694 00000000                   DATA FOR SOURCE-LINE 9620
30501                                     ***** END-POOL *****
30502 00006698                   9625             .ALIGN  4                               ;
30503 00006698                   9626     _POS_LSI_CLS_TOP_EQ_BAS_SET2:
30504                            9627             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   441
PROGRAM NAME =

30505 00006698 4F22                   M           STS.L   PR,@-R15                ;[必要]
30506                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30507                            9628             MEM_MOV_TO_MEM  _SET_CLSINC_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3  ;
30508 0000669A D106                   M           MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1
30509 0000669C 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30510 0000669E D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
30511 000066A0 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30512 000066A2 D105              9629             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
30513 000066A4 6212              9630             MOV.L   @R1,R2                          ;
30514                            9631             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
30515 000066A6 D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30516 000066A8 400B                   M           JSR     @R0                     ;
30517 000066AA 0009                   M           NOP                                     ;
30518                            9632     
30519                            9633             SUB_END
30520                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30521 000066AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30522                            9634             M_RTS
30523 000066AE 000B                   M           RTS                             ;RTSの後ろの
30524 000066B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30525                            9635     
30526                            9636     ;       ***********************************
30527                            9637     ;       ***     通常加減速              ***
30528                            9638     ;       ***********************************
30529                            9639     ;       (1回だけ):加速度
30530                                     ***** BEGIN-POOL *****
30531 000066B2 0000                       ALIGNMENT CODE
30532 000066B4 00000000                   DATA FOR SOURCE-LINE 9628
30533 000066B8 00000000                   DATA FOR SOURCE-LINE 9628,9629
30534 000066BC 00000000                   DATA FOR SOURCE-LINE 9631
30535                                     ***** END-POOL *****
30536 000066C0                   9640             .ALIGN  4                               ;
30537 000066C0                   9641     _POS_LSI_ACC1_SET:
30538                            9642             SUB_START
30539 000066C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30540                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30541 000066C2 D003              9643             MOV.L   #_POS_LSI_ACCLT1,R0             ;
30542 000066C4 6201              9644             MOV.W   @R0,R2
30543 000066C6 D603              9645             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R6        ;
30544 000066C8 2621              9646             MOV.W   R2,@R6                                          ;
30545                            9647             SUB_END
30546                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30547 000066CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30548                            9648             M_RTS
30549 000066CC 000B                   M           RTS                             ;RTSの後ろの
30550 000066CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30551                            9649     
30552                            9650     ;       ***********************************
30553                            9651     ;       ***     急停止加減速            ***
30554                            9652     ;       ***********************************
30555                            9653     ;       (1回だけ):加速度
30556                                     ***** BEGIN-POOL *****
30557 000066D0 00000000                   DATA FOR SOURCE-LINE 9643
30558 000066D4 00000000                   DATA FOR SOURCE-LINE 9645
30559                                     ***** END-POOL *****
30560 000066D8                   9654             .ALIGN  4                               ;
30561 000066D8                   9655     _POS_LSI_ACC2_SET:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   442
PROGRAM NAME =

30562                            9656             SUB_START
30563 000066D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
30564                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30565 000066DA D003              9657             MOV.L   #_POS_LSI_ACCLT2,R0
30566 000066DC 6201              9658             MOV.W   @R0,R2
30567 000066DE D603              9659             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate2,R6        ;
30568 000066E0 2621              9660             MOV.W   R2,@R6                                          ;
30569                            9661             SUB_END
30570                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30571 000066E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30572                            9662             M_RTS
30573 000066E4 000B                   M           RTS                             ;RTSの後ろの
30574 000066E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30575                            9663     
30576                            9664     ;       ***********************************
30577                            9665     ;       ***     速度LATE                ***
30578                            9666     ;       ***********************************
30579                            9667     ;       (1回だけ):
30580                                     ***** BEGIN-POOL *****
30581 000066E8 00000000                   DATA FOR SOURCE-LINE 9657
30582 000066EC 00000000                   DATA FOR SOURCE-LINE 9659
30583                                     ***** END-POOL *****
30584 000066F0                   9668             .ALIGN  4                               ;
30585 000066F0                   9669     _POS_LSI_SPDLATE_SET:
30586                            9670             SUB_START
30587 000066F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30588                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30589 000066F2 D003              9671             MOV.L   #_POS_LSI_SPDLAT,R0                             ;
30590 000066F4 6201              9672             MOV.W   @R0,R2
30591 000066F6 D603              9673             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R6        ;
30592 000066F8 2621              9674             MOV.W   R2,@R6                                          ;
30593                            9675             SUB_END
30594                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30595 000066FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30596                            9676             M_RTS
30597 000066FC 000B                   M           RTS                             ;RTSの後ろの
30598 000066FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30599                            9677     
30600                            9678     
30601                            9679     
30602                            9680     
30603                            9681     
30604                            9682     ;       ***********************************
30605                            9683     ;       ***                             ***
30606                            9684     ;       ***     REAL TIME MONITOR       ***
30607                            9685     ;       ***                             ***
30608                            9686     ;       ***********************************
30609                            9687     ;       ============== 20060919 DBG=====================
30610                            9688             .GLOBAL         _SH_POSCTL_SV_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
30611                            9689             .GLOBAL         _SH_POSCTL_RL_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
30612                            9690             .GLOBAL         _SH_POSCTL_ACC          ;.SRES  4*2     ;
30613                            9691             .GLOBAL         _SH_POSCTL_OFS          ;.SRES  4*2     ;
30614                            9692             .GLOBAL         _SH_POSCTL_SV_ABSPLS    ;.SRES  8*2     ;
30615                            9693             .GLOBAL         _SH_POSCTL_RL_ABSPLS    ;.SRES  8*2     ;
30616                            9694             .GLOBAL         _SH_POSCTL_PV_ABSPLS    ;.SRES  8*2     ;
30617                            9695             .GLOBAL         _SH_POSCTL_REST_PLS     ;.SRES  4*2     ;
30618                            9696             .GLOBAL         _SH_POSCTL_CAL_REST     ;.SRES  4*2     ;演算(SV-PV)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   443
PROGRAM NAME =

30619                            9697             .GLOBAL         _SH_POSCTL_HENSA        ;.SRES  4*2     ;演算(SV-PV)
30620                            9698             .GLOBAL         _SH_POSCTL_LSIFREQ      ;.SRES  4*2     ;LSI
30621                            9699     
30622                            9700             .AIF    0 EQ    0
30623                                 C   ***** BEGIN-POOL *****
30624 00006700 00000000               C   DATA FOR SOURCE-LINE 9671
30625 00006704 00000000               C   DATA FOR SOURCE-LINE 9673
30626                                 C   ***** END-POOL *****
30627          00000000          9701 C   _SH_2B  .EQU    0
30628          00000000          9702 C   _SH_4B  .EQU    0
30629          00000000          9703 C   _SH_8B  .EQU    0
30630                            9704             .AELSE
30631                            9705     _SH_2B  .EQU    2
30632                            9706     _SH_4B  .EQU    4
30633                            9707     _SH_8B  .EQU    8
30634                            9708             .AENDI
30635                            9709     
30636                            9710     
30637                            9711     
30638                            9712     
30639                            9713     
30640 00006708                   9714             .ALIGN  4                               ;
30641 00006708                   9715     _MONI_SEINOU_CMP_OUTPUT:
30642                            9716             SUB_START
30643 00006708 4F22                   M           STS.L   PR,@-R15                ;[必要]
30644                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30645                            9717     
30646                            9718     ;       設定速度
30647                            9719             MEM_MOV_TO_MEM  _POSCTL_SV_SPD,L        ,_SH_POSCTL_SV_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
30648 0000670A D12E                   M           MOV.L   #_POSCTL_SV_SPD,R1
30649 0000670C 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30650 0000670E D32E                   M           MOV.L   #_SH_POSCTL_SV_SPD+_SH_4B,R3    ;DST_ADR
30651 00006710 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30652                            9720     ;       制御速度
30653                            9721             MEM_MOV_TO_MEM  _POSCTL_RL_SPD,L        ,_SH_POSCTL_RL_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
30654 00006712 D12E                   M           MOV.L   #_POSCTL_RL_SPD,R1
30655 00006714 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30656 00006716 D32E                   M           MOV.L   #_SH_POSCTL_RL_SPD+_SH_4B,R3    ;DST_ADR
30657 00006718 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30658                            9722             MEM_MOV_TO_MEM  _POSCTL_SV_UP_ACC,L     ,_SH_POSCTL_ACC+_SH_4B          ,L,R1,R2,R
                                          3       ;
30659 0000671A D12E                   M           MOV.L   #_POSCTL_SV_UP_ACC,R1
30660 0000671C 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30661 0000671E D32E                   M           MOV.L   #_SH_POSCTL_ACC+_SH_4B,R3       ;DST_ADR
30662 00006720 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30663                            9723             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L    ,_SH_POSCTL_OFS+_SH_4B          ,L,R1,R2,R
                                          3       ;
30664 00006722 D12E                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
30665 00006724 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30666 00006726 D32E                   M           MOV.L   #_SH_POSCTL_OFS+_SH_4B,R3       ;DST_ADR
30667 00006728 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30668                            9724             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS,L   ,_SH_POSCTL_REST_PLS+_SH_4B     ,L,R1,R2,R
                                          3       ;
30669 0000672A D12E                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
30670 0000672C 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   444
PROGRAM NAME =

30671 0000672E D32E                   M           MOV.L   #_SH_POSCTL_REST_PLS+_SH_4B,R3  ;DST_ADR
30672 00006730 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30673                            9725     
30674                            9726     ;       目標位置
30675 00006732 D42E              9727             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
30676 00006734 6146              9728             MOV.L   @R4+,R1                                                 ;
30677 00006736 6242              9729             MOV.L   @R4,R2                                                  ;
30678 00006738 D42D              9730             MOV.L   #_SH_POSCTL_SV_ABSPLS+_SH_8B,R4                         ;
30679 0000673A 1410              9731             MOV.L   R1,@(0,R4)
30680 0000673C 1421              9732             MOV.L   R2,@(4,R4)
30681                            9733     
30682                            9734     ;       ﾘｱﾙﾀｲﾑ目標位置
30683 0000673E D42D              9735             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                                 ;
30684 00006740 6546              9736             MOV.L   @R4+,R5                                                                 ;
30685 00006742 6642              9737             MOV.L   @R4,R6                                                                  ;
30686 00006744 D42C              9738             MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH_8B,R4                                         ;[
                                          CPUB側で使用する2014-11-07]
30687 00006746 1450              9739             MOV.L   R5,@(0,R4)                                                              ;
30688 00006748 1461              9740             MOV.L   R6,@(4,R4)                                                              ;
30689                            9741             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2                       ;
30690 0000674A 0008                   M           CLRT
30691 0000674C 326A                   M           SUBC    R6,R2
30692 0000674E 315A                   M           SUBC    R5,R1
30693                            9742             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_CAL_REST+_SH_4B,L1=L,DT_REG=R2,WKREG1=R1     ;
30694 00006750 D12A                   M           MOV.L   #_SH_POSCTL_CAL_REST+_SH_4B,R1  ;DST_ADR
30695 00006752 2122                   M           MOV.L   R2,@R1  ;DST_ADR
30696                            9743     
30697                            9744     ;       実測位置
30698 00006754 D42A              9745             MOV.L   #_LINK_PV_ABSPLS,R4                                                     ;
30699 00006756 6146              9746             MOV.L   @R4+,R1                                                                 ;
30700 00006758 6242              9747             MOV.L   @R4,R2                                                                  ;
30701 0000675A D42A              9748             MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH_8B,R4                                         ;
30702 0000675C 1410              9749             MOV.L   R1,@(0,R4)                                                              ;
30703 0000675E 1421              9750             MOV.L   R2,@(4,R4)                                                              ;
30704                            9751             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6                       ;
30705 00006760 0008                   M           CLRT
30706 00006762 362A                   M           SUBC    R2,R6
30707 00006764 351A                   M           SUBC    R1,R5
30708                            9752             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_HENSA+_SH_4B,L1=L,DT_REG=R6,WKREG1=R1        ;
30709 00006766 D128                   M           MOV.L   #_SH_POSCTL_HENSA+_SH_4B,R1     ;DST_ADR
30710 00006768 2162                   M           MOV.L   R6,@R1  ;DST_ADR
30711                            9753     
30712                            9754             FAR_JSR #_LOAD_NOW_FREQ_PLS,R0                                                  ;
30713 0000676A D028                   M           MOV.L   #_LOAD_NOW_FREQ_PLS,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30714 0000676C 400B                   M           JSR     @R0                     ;
30715 0000676E 0009                   M           NOP                                     ;
30716                            9755             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_LSIFREQ+_SH_4B,L1=L,DT_REG=R0,WKREG1=R1      ;
30717 00006770 D127                   M           MOV.L   #_SH_POSCTL_LSIFREQ+_SH_4B,R1   ;DST_ADR
30718 00006772 2102                   M           MOV.L   R0,@R1  ;DST_ADR
30719                            9756     
30720                            9757     
30721                            9758     ;       ------------------- 2007-03-02--------------------
30722                            9759             .GLOBAL         _SH_SQ200_IN            ;
30723                            9760             .GLOBAL         _SH_CNTSTOP_FLG         ;
30724 00006774 D127              9761             MOV.L   #_di1_cb_ctl1_dt,R1                     ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
30725 00006776 6211              9762             MOV.W   @R1,R2                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   445
PROGRAM NAME =

30726 00006778 9422              9763             MOV.W   #(BIT11+BIT10+BIT9+BIT8),R4             ;
30727 0000677A 6447              9764             NOT     R4,R4                                   ;
30728 0000677C 2249              9765             AND     R4,R2                                   ;
30729                            9766     
30730 0000677E D126              9767             MOV.L   #_BTTN_FLG,R1                           ;
30731 00006780 6011              9768             MOV.W   @R1,R0                                  ;BIT8,9,10,11
30732 00006782 4018              9769             SHLL8   R0                                      ;BIT8,9,10
30733 00006784 220B              9770             OR      R0,R2                                   ;
30734 00006786 941C              9771             MOV.W   #BIT7,R4                        ;
30735 00006788 6447              9772             NOT     R4,R4                                   ;
30736 0000678A 2249              9773             AND     R4,R2                                   ;
30737                            9774     
30738 0000678C D123              9775             MOV.L   #_CNT_STOP_CMD,R1                       ;
30739 0000678E 6011              9776             MOV.W   @R1,R0                                  ;
30740 00006790 2008              9777             TST     R0,R0                                   ;
30741                            9778             TST_BIT_OF MONI_DI_CHK_050                      ;
30742 00006792 8901                   M           BT      MONI_DI_CHK_050
30743 00006794 9415              9779             MOV.W   #BIT7,R4                                ;
30744 00006796 224B              9780             OR      R4,R2                                   ;
30745 00006798                   9781     MONI_DI_CHK_050:
30746                            9782             REG_MOV_TO_MEM  DST_ADR=_SH_SQ200_IN+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1    ;
30747 00006798 D121                   M           MOV.L   #_SH_SQ200_IN+_SH_2B,R1 ;DST_ADR
30748 0000679A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
30749                            9783     
30750                            9784     
30751 0000679C D121              9785             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
30752 0000679E 6011              9786             MOV.W   @R1,R0                          ;IN
30753 000067A0 C901              9787             AND     #BIT0,R0                        ;
30754 000067A2 4000              9788             SHLL    R0
30755 000067A4 6203              9789             MOV     R0,R2                           ;
30756                            9790     
30757 000067A6 D120              9791             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
30758 000067A8 6011              9792             MOV.W   @R1,R0                          ;LATCH
30759 000067AA C901              9793             AND     #BIT0,R0                        ;
30760 000067AC 220B              9794             OR      R0,R2                           ;
30761                            9795             REG_MOV_TO_MEM  DST_ADR=_SH_CNTSTOP_FLG+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
30762 000067AE D11F                   M           MOV.L   #_SH_CNTSTOP_FLG+_SH_2B,R1      ;DST_ADR
30763 000067B0 2121                   M           MOV.W   R2,@R1  ;DST_ADR
30764                            9796     
30765                            9797             .IMPORT _SH_OUTPLS_DELT
30766 000067B2 D11F              9798             MOV.L   #_OUTPLS_DELT,R1                        ;
30767 000067B4 6211              9799             MOV.W   @R1,R2
30768                            9800             REG_MOV_TO_MEM  DST_ADR=_SH_OUTPLS_DELT+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
30769 000067B6 D11F                   M           MOV.L   #_SH_OUTPLS_DELT+_SH_2B,R1      ;DST_ADR
30770 000067B8 2121                   M           MOV.W   R2,@R1  ;DST_ADR
30771                            9801     
30772                            9802             SUB_END
30773                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30774 000067BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30775                            9803             M_RTS
30776 000067BC 000B                   M           RTS                             ;RTSの後ろの
30777 000067BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30778                            9804     
30779                            9805     
30780                            9806     
30781                            9807     
30782                            9808     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   446
PROGRAM NAME =

30783                            9809     ;       ***                                     ***
30784                            9810     ;       ***                                     ***
30785                            9811     ;       ***                                     ***
30786                            9812     ;       *******************************************
30787                                     ***** BEGIN-POOL *****
30788 000067C0 0F00                       DATA FOR SOURCE-LINE 9763
30789 000067C2 0080                       DATA FOR SOURCE-LINE 9771,9779
30790 000067C4 00000000                   DATA FOR SOURCE-LINE 9719
30791 000067C8 00000000                   DATA FOR SOURCE-LINE 9719
30792 000067CC 00000000                   DATA FOR SOURCE-LINE 9721
30793 000067D0 00000000                   DATA FOR SOURCE-LINE 9721
30794 000067D4 00000000                   DATA FOR SOURCE-LINE 9722
30795 000067D8 00000000                   DATA FOR SOURCE-LINE 9722
30796 000067DC 00000000                   DATA FOR SOURCE-LINE 9723
30797 000067E0 00000000                   DATA FOR SOURCE-LINE 9723
30798 000067E4 00000000                   DATA FOR SOURCE-LINE 9724
30799 000067E8 00000000                   DATA FOR SOURCE-LINE 9724
30800 000067EC 00000000                   DATA FOR SOURCE-LINE 9727
30801 000067F0 00000000                   DATA FOR SOURCE-LINE 9730
30802 000067F4 00000000                   DATA FOR SOURCE-LINE 9735
30803 000067F8 00000000                   DATA FOR SOURCE-LINE 9738
30804 000067FC 00000000                   DATA FOR SOURCE-LINE 9742
30805 00006800 00000000                   DATA FOR SOURCE-LINE 9745
30806 00006804 00000000                   DATA FOR SOURCE-LINE 9748
30807 00006808 00000000                   DATA FOR SOURCE-LINE 9752
30808 0000680C 00000000                   DATA FOR SOURCE-LINE 9754
30809 00006810 00000000                   DATA FOR SOURCE-LINE 9755
30810 00006814 00000000                   DATA FOR SOURCE-LINE 9761
30811 00006818 00000000                   DATA FOR SOURCE-LINE 9767
30812 0000681C 00000000                   DATA FOR SOURCE-LINE 9775
30813 00006820 00000000                   DATA FOR SOURCE-LINE 9782
30814 00006824 00000000                   DATA FOR SOURCE-LINE 9785
30815 00006828 00000000                   DATA FOR SOURCE-LINE 9791
30816 0000682C 00000000                   DATA FOR SOURCE-LINE 9795
30817 00006830 00000000                   DATA FOR SOURCE-LINE 9798
30818 00006834 00000000                   DATA FOR SOURCE-LINE 9800
30819                                     ***** END-POOL *****
30820 00006838                   9813             .ALIGN  4                               ;
30821 00006838                   9814     _RL_POS_DATA_CHK:
30822                            9815             SUB_START
30823 00006838 4F22                   M           STS.L   PR,@-R15                ;[必要]
30824                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30825 0000683A D40B              9816             MOV.L   #_MONI_CPUAB_PLSDELT,R4
30826                            9817             .AIF    0 EQ    0
30827 0000683C D70B              9818 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R7                      ;自分
30828 0000683E D90C              9819 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R9                      ;相手
30829                            9820             .AELSE
30830                            9821             MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R9                      ;相手
30831                            9822             MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R7                      ;自分
30832                            9823             .AENDI
30833                            9824     
30834 00006840                   9825     RL_POSDTCHK_SECOND_RD:
30835 00006840 5590              9826             MOV.L   @(0,R9),R5                                              ;
30836 00006842 5691              9827             MOV.L   @(4,R9),R6                                              ;
30837 00006844 5190              9828             MOV.L   @(0,R9),R1                                              ;
30838 00006846 5291              9829             MOV.L   @(4,R9),R2                                              ;
30839 00006848 3510              9830             CMP/EQ  R1,R5                                                   ;相手
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   447
PROGRAM NAME =

30840 0000684A 8BF9              9831             BF      RL_POSDTCHK_SECOND_RD
30841 0000684C 3620              9832             CMP/EQ  R2,R6                                                   ;
30842 0000684E 8BF7              9833             BF      RL_POSDTCHK_SECOND_RD
30843                            9834     
30844 00006850 5370              9835             MOV.L   @(0,R7),R3                                              ;
30845 00006852 5471              9836             MOV.L   @(4,R7),R4                                              ;
30846                            9837             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2(相手-自分)
30847 00006854 0008                   M           CLRT
30848 00006856 324A                   M           SUBC    R4,R2
30849 00006858 313A                   M           SUBC    R3,R1
30850                            9838     
30851 0000685A D003              9839             MOV.L   #_MONI_CPUAB_PLSDELT,R0                                 ;相手-自分
30852 0000685C 1010              9840             MOV.L   R1,@(0,R0)
30853 0000685E 1021              9841             MOV.L   R2,@(4,R0)                                              ;
30854                            9842     
30855                            9843     
30856                            9844     
30857                            9845             SUB_END
30858                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30859 00006860 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30860                            9846             M_RTS
30861 00006862 000B                   M           RTS                             ;RTSの後ろの
30862 00006864 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30863                            9847     
30864                            9848     ;       ***************************************************
30865                            9849     ;       ***                                             ***
30866                            9850     ;       ***             ためし                          ***
30867                            9851     ;       ***                                             ***
30868                            9852     ;       ***************************************************
30869                            9853     ;       Input R2
30870                                     ***** BEGIN-POOL *****
30871 00006866 0000                       ALIGNMENT CODE
30872 00006868 00000000                   DATA FOR SOURCE-LINE 9816,9839
30873 0000686C 00000000                   DATA FOR SOURCE-LINE 9818
30874 00006870 00000000                   DATA FOR SOURCE-LINE 9819
30875                                     ***** END-POOL *****
30876 00006874                   9854             .ALIGN  4                               ;
30877 00006874                   9855     _CNT_HOSEI_CHK_CALC:
30878                            9856             SUB_START
30879 00006874 4F22                   M           STS.L   PR,@-R15                ;[必要]
30880                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30881                            9857             .AIF    0 EQ    1                       ;ﾊﾟﾙｽ補正
30882                            9858             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
30883                            9859             MOV.W   @R1,R0                          ;
30884                            9860             TST     R0,R0                           ;
30885                            9861             TST_BIT_ON CNT_HOSEI_CHKCAL_050         ;
30886                            9862             MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
30887                            9863             MOV.W   @R1,R0                          ;
30888                            9864             TST     R0,R0                           ;
30889                            9865             TST_BIT_ON CNT_HOSEI_CHKCAL_050                                 ;
30890                            9866     
30891                            9867             MOV.L   #_MODE_SEL,R1                                           ;
30892                            9868             MOV.W   @R1,R0                                                  ;
30893                            9869             TST     #_W1CNT,R0                                              ;
30894                            9870             TST_BIT_OF CNT_HOSEI_CHKCAL_050                                 ;
30895                            9871     
30896                            9872             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   448
PROGRAM NAME =

30897                            9873             MOV.W   @R1,R0                                                  ;
30898                            9874             TST     #BIT3,R0                                                ;
30899                            9875             TST_BIT_ON CNT_HOSEI_CHKCAL_100                                 ;VMODE
30900                            9876     CNT_HOSEI_CHKCAL_050:
30901                            9877             FAR_JSR #_CNTREST_HOS_RESET,R0                                  ;
30902                            9878             M_BRA   CNT_HOSEI_SPDSET_EXT                                    ;
30903                            9879     
30904                            9880     CNT_HOSEI_CHKCAL_100:
30905                            9881             MOV.L   #_MONI_CPUAB_PLSDELT,R0
30906                            9882             MOV.L   @(0,R0),R1                      ;(0or1)
30907                            9883             MOV.L   @(4,R0),R2                      ;
30908                            9884             MOV     R2,R3                           ;+/-
30909                            9885             CMP/PZ  R1                              ;+
30910                            9886             BT      CNT_HOSEI_CHKCAL_200            ;相手-自分
30911                            9887             NEG     R2,R2                           ;
30912                            9888     CNT_HOSEI_CHKCAL_200:                           ;
30913                            9889             FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0       ;
30914                            9890     
30915                            9891     
30916                            9892     CNT_HOSEI_SPDSET_EXT:
30917                            9893             .AENDI
30918                            9894     
30919                            9895     
30920                            9896             SUB_END
30921                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30922 00006876 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30923                            9897             M_RTS
30924 00006878 000B                   M           RTS                             ;RTSの後ろの
30925 0000687A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30926                            9898     
30927                            9899     
30928                            9900     ;       *******************************************
30929                            9901     ;       ***                                     ***
30930                            9902     ;       ***                                     ***
30931                            9903     ;       ***                                     ***
30932                            9904     ;       *******************************************
30933                            9905     ;       HOS1 1000:1000~  1:7HZ
30934                            9906     ;       HOS1 2000:2000~  2:14HZ
30935                            9907     ;       HOS1 3000:3000~  4:28HZ
30936                            9908     ;       HOS1 4000:ERR
30937          00001F40          9909     _SYNC2_ERR_HABPLS1      .EQU    8000    ;16000
30938                            9910     
30939          0000012C          9911     _SYNC2_ERR_HOSHAB1      .EQU    300     ;
30940          00000190          9912     _SYNC2_ERR_HOSHAB2      .EQU    400     ;(100)
30941          000001F4          9913     _SYNC2_ERR_HOSHAB3      .EQU    500     ;(500)
30942          000003E8          9914     _SYNC2_ERR_HOSHAB4      .EQU    1000    ;(500)
30943          000005DC          9915     _SYNC2_ERR_HOSHAB5      .EQU    1500    ;(500)
30944          000007D0          9916     _SYNC2_ERR_HOSHAB6      .EQU    2000    ;(500)
30945          000009C4          9917     _SYNC2_ERR_HOSHAB7      .EQU    2500    ;(500)
30946                            9918     
30947                            9919     
30948          00000001          9920     _SYNC2_HOS_SPD1         .EQU    1       ;
30949          00000004          9921     _SYNC2_HOS_SPD2         .EQU    4       ;
30950          00000008          9922     _SYNC2_HOS_SPD3         .EQU    8       ;
30951          00000020          9923     _SYNC2_HOS_SPD4         .EQU    32      ;
30952          00000040          9924     _SYNC2_HOS_SPD5         .EQU    64      ;
30953          00000080          9925     _SYNC2_HOS_SPD6         .EQU    128     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   449
PROGRAM NAME =

30954          00000100          9926     _SYNC2_HOS_SPD7         .EQU    256     ;2000khz
30955          00000200          9927     _SYNC2_HOS_SPD8         .EQU    512     ;2000khz 2006-10-28
30956                            9928     
30957 0000687C                   9929             .ALIGN  4                               ;
30958 0000687C                   9930     _CNT_SYNC_HOS_SPD_TYP:
30959                            9931             SUB_START
30960 0000687C 4F22                   M           STS.L   PR,@-R15                ;[必要]
30961                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30962                            9932     
30963 0000687E D105              9933             MOV.L   #_CNT_SYNC_HOS_DAT2,R1          ;相手-自分
30964 00006880 2132              9934             MOV.L   R3,@R1                          ;(+/-生ﾃﾞｰﾀ)
30965                            9935     
30966 00006882 9105              9936             MOV.W   #_SYNC2_ERR_HABPLS1,R1          ;
30967 00006884 3122              9937             CMP/HS  R2,R1                           ;
30968 00006886 8909              9938             BT      CNT_SYNCHOS_SPDTYP_080          ;
30969                            9939     
30970                            9940     ;       -------- 2006-10-23--
30971 00006888 E401              9941             MOV     #BIT0,R4                        ;
30972 0000688A D503              9942             MOV.L   #_SYNC2_HOS_SPD8,R5             ;MAX
30973                            9943             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
30974 0000688C A049                   M           BRA     CNT_SYNCHOS_SPDTYP_400
30975 0000688E 0009                   M           NOP
30976                            9944     
30977                            9945     
30978                            9946     ;;;     MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_SYNC_ERR_FLG,LG=W,BIT=(BIT1+BIT0),WKREG=R1     ;S
                                          YNC_ERR
30979                            9947     ;;;
30980                            9948     ;;;     M_BRA   CNT_SYNCHOS_SPDTYP_EXT                                                  ;
30981                            9949     
30982                                     ***** BEGIN-POOL *****
30983 00006890 1F40                       DATA FOR SOURCE-LINE 9936
30984 00006892 0000                       ALIGNMENT CODE
30985 00006894 00000000                   DATA FOR SOURCE-LINE 9933
30986 00006898 00000200                   DATA FOR SOURCE-LINE 9942
30987                                     ***** END-POOL *****
30988 0000689C                   9950     CNT_SYNCHOS_SPDTYP_080:
30989                            9951     
30990 0000689C 9105              9952             MOV.W   #_SYNC2_ERR_HOSHAB1,R1          ;
30991 0000689E 3216              9953             CMP/HI  R1,R2                           ;=<data1(1000)
30992 000068A0 8904              9954             BT      CNT_SYNCHOS_SPDTYP_200          ;R1(1000)<R2(PLS) JUMP
30993 000068A2                   9955     CNT_SYNCHOS_SPDTYP_100:
30994                            9956     ;       === 正常補正なし====
30995 000068A2 244A              9957             XOR     R4,R4                           ;FLG_BIT
30996 000068A4 255A              9958             XOR     R5,R5                           ;data
30997                            9959             M_BRA   CNT_SYNCHOS_SPDTYP_450          ;
30998 000068A6 A043                   M           BRA     CNT_SYNCHOS_SPDTYP_450
30999 000068A8 0009                   M           NOP
31000                            9960     
31001                                     ***** BEGIN-POOL *****
31002 000068AA 012C                       DATA FOR SOURCE-LINE 9952
31003                                     ***** END-POOL *****
31004 000068AC                   9961     CNT_SYNCHOS_SPDTYP_200:
31005 000068AC 9105              9962             MOV.W   #_SYNC2_ERR_HOSHAB2,R1          ;
31006 000068AE 3216              9963             CMP/HI  R1,R2                           ;=<data2(2000)
31007 000068B0 8905              9964             BT      CNT_SYNCHOS_SPDTYP_250          ;R1(2000)<R2(PLS) JUMP
31008 000068B2 E401              9965             MOV     #BIT0,R4                        ;
31009 000068B4 9502              9966             MOV.W   #_SYNC2_HOS_SPD1,R5
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   450
PROGRAM NAME =

31010                            9967             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31011 000068B6 A034                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31012 000068B8 0009                   M           NOP
31013                            9968     
31014                                     ***** BEGIN-POOL *****
31015 000068BA 0190                       DATA FOR SOURCE-LINE 9962
31016 000068BC 0001                       DATA FOR SOURCE-LINE 9966
31017                                     ***** END-POOL *****
31018 000068BE                   9969     CNT_SYNCHOS_SPDTYP_250:
31019 000068BE 9105              9970             MOV.W   #_SYNC2_ERR_HOSHAB3,R1          ;
31020 000068C0 3216              9971             CMP/HI  R1,R2                           ;=<data3(3000)
31021 000068C2 8905              9972             BT      CNT_SYNCHOS_SPDTYP_300          ;R1(3000)<R2(PLS) JUMP
31022 000068C4 E401              9973             MOV     #BIT0,R4                        ;
31023 000068C6 9502              9974             MOV.W   #_SYNC2_HOS_SPD2,R5
31024                            9975             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31025 000068C8 A02B                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31026 000068CA 0009                   M           NOP
31027                            9976     
31028                                     ***** BEGIN-POOL *****
31029 000068CC 01F4                       DATA FOR SOURCE-LINE 9970
31030 000068CE 0004                       DATA FOR SOURCE-LINE 9974
31031                                     ***** END-POOL *****
31032 000068D0                   9977     CNT_SYNCHOS_SPDTYP_300:
31033                            9978     
31034 000068D0 9105              9979             MOV.W   #_SYNC2_ERR_HOSHAB4,R1          ;
31035 000068D2 3216              9980             CMP/HI  R1,R2                           ;=<data4(3000)
31036 000068D4 8905              9981             BT      CNT_SYNCHOS_SPDTYP_310          ;R1(3000)<R2(PLS) JUMP
31037 000068D6 E401              9982             MOV     #BIT0,R4                        ;
31038 000068D8 9502              9983             MOV.W   #_SYNC2_HOS_SPD3,R5
31039                            9984             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31040 000068DA A022                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31041 000068DC 0009                   M           NOP
31042                            9985     
31043                                     ***** BEGIN-POOL *****
31044 000068DE 03E8                       DATA FOR SOURCE-LINE 9979
31045 000068E0 0008                       DATA FOR SOURCE-LINE 9983
31046                                     ***** END-POOL *****
31047 000068E2                   9986     CNT_SYNCHOS_SPDTYP_310:
31048 000068E2 9105              9987             MOV.W   #_SYNC2_ERR_HOSHAB5,R1          ;
31049 000068E4 3216              9988             CMP/HI  R1,R2                           ;=<data4(3000)
31050 000068E6 8905              9989             BT      CNT_SYNCHOS_SPDTYP_320          ;R1(3000)<R2(PLS) JUMP
31051 000068E8 E401              9990             MOV     #BIT0,R4                        ;
31052 000068EA 9502              9991             MOV.W   #_SYNC2_HOS_SPD4,R5
31053                            9992             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31054 000068EC A019                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31055 000068EE 0009                   M           NOP
31056                            9993     
31057                                     ***** BEGIN-POOL *****
31058 000068F0 05DC                       DATA FOR SOURCE-LINE 9987
31059 000068F2 0020                       DATA FOR SOURCE-LINE 9991
31060                                     ***** END-POOL *****
31061 000068F4                   9994     CNT_SYNCHOS_SPDTYP_320:
31062 000068F4 9105              9995             MOV.W   #_SYNC2_ERR_HOSHAB6,R1          ;
31063 000068F6 3216              9996             CMP/HI  R1,R2                           ;=<data4(3000)
31064 000068F8 8905              9997             BT      CNT_SYNCHOS_SPDTYP_330          ;R1(3000)<R2(PLS) JUMP
31065 000068FA E401              9998             MOV     #BIT0,R4                        ;
31066 000068FC 9502              9999             MOV.W   #_SYNC2_HOS_SPD5,R5
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   451
PROGRAM NAME =

31067                           10000             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31068 000068FE A010                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31069 00006900 0009                   M           NOP
31070                           10001     
31071                                     ***** BEGIN-POOL *****
31072 00006902 07D0                       DATA FOR SOURCE-LINE 9995
31073 00006904 0040                       DATA FOR SOURCE-LINE 9999
31074                                     ***** END-POOL *****
31075 00006906                  10002     CNT_SYNCHOS_SPDTYP_330:
31076 00006906 9105             10003             MOV.W   #_SYNC2_ERR_HOSHAB7,R1          ;
31077 00006908 3216             10004             CMP/HI  R1,R2                           ;=<data4(3000)
31078 0000690A 8905             10005             BT      CNT_SYNCHOS_SPDTYP_390          ;R1(3000)<R2(PLS) JUMP
31079 0000690C E401             10006             MOV     #BIT0,R4                        ;
31080 0000690E 9502             10007             MOV.W   #_SYNC2_HOS_SPD6,R5
31081                           10008             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31082 00006910 A007                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31083 00006912 0009                   M           NOP
31084                           10009     
31085                                     ***** BEGIN-POOL *****
31086 00006914 09C4                       DATA FOR SOURCE-LINE 10003
31087 00006916 0080                       DATA FOR SOURCE-LINE 10007
31088                                     ***** END-POOL *****
31089 00006918                  10010     CNT_SYNCHOS_SPDTYP_390:
31090 00006918 E401             10011             MOV     #BIT0,R4                        ;
31091 0000691A 9501             10012             MOV.W   #_SYNC2_HOS_SPD7,R5
31092                           10013             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31093 0000691C A001                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31094 0000691E 0009                   M           NOP
31095                           10014     
31096                                     ***** BEGIN-POOL *****
31097 00006920 0100                       DATA FOR SOURCE-LINE 10012
31098                                     ***** END-POOL *****
31099 00006922                  10015     CNT_SYNCHOS_SPDTYP_400:
31100 00006922 D109             10016             MOV.L   #_CNT_SYNC_CHK_CNT2,R1
31101 00006924 6011             10017             MOV.W   @R1,R0
31102 00006926 7001             10018             ADD     #1,R0
31103 00006928 2101             10019             MOV.W   R0,@R1                          ;
31104                           10020     
31105 0000692A 4311             10021             CMP/PZ  R3                              ;相手-自分= 10 +に溜まっている.速度UP
31106 0000692C 8900             10022             BT      CNT_SYNCHOS_SPDTYP_450          ;          -10 -に溜まっている.速度DN
31107 0000692E 655B             10023             NEG     R5,R5                           ;
31108 00006930                  10024     CNT_SYNCHOS_SPDTYP_450:                         ;
31109 00006930 D106             10025             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
31110 00006932 2141             10026             MOV.W   R4,@R1                          ;
31111 00006934 D106             10027             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
31112 00006936 2152             10028             MOV.L   R5,@R1                          ;
31113                           10029     
31114 00006938                  10030     CNT_SYNCHOS_SPDTYP_EXT:
31115 00006938 D105             10031             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
31116 0000693A 6012             10032             MOV.L   @R1,R0                          ;
31117 0000693C D105             10033             MOV.L   #_CNT_SYNC_HOS_DAT1,R1          ;
31118 0000693E 2102             10034             MOV.L   R0,@R1                          ;
31119                           10035     
31120                           10036             SUB_END
31121                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31122 00006940 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31123                           10037             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   452
PROGRAM NAME =

31124 00006942 000B                   M           RTS                             ;RTSの後ろの
31125 00006944 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31126                           10038     
31127                           10039     ;       ***********************************
31128                           10040     ;       ***                             ***
31129                           10041     ;       ***     速度設定                ***
31130                           10042     ;       ***     FFFF(500Kはありえない)  ***
31131                           10043     ;       ***                             ***
31132                           10044     ;       ***********************************
31133                           10045     ;       input R2 speed
31134                                     ***** BEGIN-POOL *****
31135 00006946 0000                       ALIGNMENT CODE
31136 00006948 00000000                   DATA FOR SOURCE-LINE 10016
31137 0000694C 00000000                   DATA FOR SOURCE-LINE 10025
31138 00006950 00000000                   DATA FOR SOURCE-LINE 10027,10031
31139 00006954 00000000                   DATA FOR SOURCE-LINE 10033
31140                                     ***** END-POOL *****
31141 00006958                  10046             .ALIGN  4                               ;
31142 00006958                  10047     _CNT_REST_HOSEI_SPD_TYP:
31143                           10048             SUB_START
31144 00006958 4F22                   M           STS.L   PR,@-R15                ;[必要]
31145                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31146 0000695A D105             10049             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
31147 0000695C 6011             10050             MOV.W   @R1,R0                          ;
31148 0000695E C801             10051             TST     #BIT0,R0                        ;
31149                           10052             TST_BIT_OF CNT_REST_HOSEI_SPDTYP_EXT    ;
31150 00006960 8902                   M           BT      CNT_REST_HOSEI_SPDTYP_EXT
31151 00006962 D104             10053             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
31152 00006964 6012             10054             MOV.L   @R1,R0                          ;
31153 00006966 320C             10055             ADD     R0,R2                           ;
31154 00006968                  10056     CNT_REST_HOSEI_SPDTYP_EXT:
31155                           10057             SUB_END
31156                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31157 00006968 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31158                           10058             M_RTS
31159 0000696A 000B                   M           RTS                             ;RTSの後ろの
31160 0000696C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31161                           10059     
31162                           10060             .EXPORT _CNTREST_HOS_RESET
31163                                     ***** BEGIN-POOL *****
31164 0000696E 0000                       ALIGNMENT CODE
31165 00006970 00000000                   DATA FOR SOURCE-LINE 10049
31166 00006974 00000000                   DATA FOR SOURCE-LINE 10053
31167                                     ***** END-POOL *****
31168 00006978                  10061             .ALIGN  4                               ;
31169 00006978                  10062     _CNTREST_HOS_RESET
31170                           10063             SUB_START
31171 00006978 4F22                   M           STS.L   PR,@-R15                ;[必要]
31172                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31173 0000697A 200A             10064             XOR     R0,R0
31174                           10065             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_FLG ,L1=W,DT_REG=R0,WKREG1=R1       ;
31175 0000697C D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;DST_ADR
31176 0000697E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31177                           10066             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_DAT ,L1=L,DT_REG=R0,WKREG1=R1       ;
31178 00006980 D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;DST_ADR
31179 00006982 2102                   M           MOV.L   R0,@R1  ;DST_ADR
31180                           10067             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   453
PROGRAM NAME =

31181                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31182 00006984 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31183                           10068             M_RTS
31184 00006986 000B                   M           RTS                             ;RTSの後ろの
31185 00006988 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31186                           10069     
31187                           10070     
31188                           10071     
31189                           10072     ;       *******************************************
31190                           10073     ;       ***                                     ***
31191                           10074     ;       ***     2010-10-05                      ***
31192                           10075     ;       ***                                     ***
31193                           10076     ;       ***                                     ***
31194                           10077     ;       *******************************************
31195                                     ***** BEGIN-POOL *****
31196 0000698A 0000                       ALIGNMENT CODE
31197 0000698C 00000000                   DATA FOR SOURCE-LINE 10065
31198 00006990 00000000                   DATA FOR SOURCE-LINE 10066
31199                                     ***** END-POOL *****
31200 00006994                  10078             .ALIGN  4                               ;
31201 00006994                  10079     _dum_SET_PV_ABS_TO_OBJ:
31202                           10080             SUB_START
31203 00006994 4F22                   M           STS.L   PR,@-R15                ;[必要]
31204                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31205                           10081             SUB_END
31206                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31207 00006996 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31208                           10082             M_RTS
31209 00006998 000B                   M           RTS                             ;RTSの後ろの
31210 0000699A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31211                           10083     
31212                           10084     ;       ***************************************************
31213                           10085     ;       ***                                             ***
31214                           10086     ;       ***     反転のタイマ途中からの再起動            ***
31215                           10087     ;       ***     (安全一、寸動、連続寸動一、連続タイマ)  ***
31216                           10088     ;       ***     2012-05-15                              ***
31217                           10089     ;       ***                                             ***
31218                           10090     ;       ***************************************************
31219                           10091     ;       起動時,
31220                           10092     ;
31221 0000699C                  10093             .ALIGN  4                               ;
31222 0000699C                  10094     _DURING_TIM_CNTINUE_CHK
31223                           10095             SUB_START
31224 0000699C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31225                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31226 0000699E D102             10096             MOV.L   #_DURING_TIM_FX,R1                              ;
31227 000069A0 6011             10097             MOV.W   @R1,R0                                          ;
31228 000069A2                  10098     DURING_TIM_CNTCK_END
31229                           10099             SUB_END
31230                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31231 000069A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31232                           10100             M_RTS
31233 000069A4 000B                   M           RTS                             ;RTSの後ろの
31234 000069A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31235                           10101     
31236                           10102     
31237                           10103     ;       ------------- 再度0から行うか,途中から行うか,ﾀｲﾌﾟｱｯﾌﾟから行うか
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   454
PROGRAM NAME =

31238                           10104     ;       input R1:設定
31239                           10105     ;
31240                                     ***** BEGIN-POOL *****
31241 000069A8 00000000                   DATA FOR SOURCE-LINE 10096
31242                                     ***** END-POOL *****
31243 000069AC                  10106     _DURING_TIM_PRESET_CALC
31244                           10107             SUB_START
31245 000069AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31246                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31247                           10108     
31248 000069AE D007             10109             MOV.L   #_DURING_TIM_FX,R0                                      ;
31249 000069B0 6001             10110             MOV.W   @R0,R0                                                  ;
31250 000069B2 2008             10111             TST     R0,R0                                                   ;
31251                           10112             TST_BIT_OF DURING_TIM_PRECALC200                                ;通常の処理
31252 000069B4 890F                   M           BT      DURING_TIM_PRECALC200
31253                           10113     
31254 000069B6 2118             10114             TST     R1,R1                                                   ;
31255                           10115             TST_BIT_OF DURING_TIM_PRECALC200                                ;ﾃﾞｰﾀが0
31256 000069B8 890D                   M           BT      DURING_TIM_PRECALC200
31257                           10116     
31258 000069BA D005             10117             MOV.L   #(_PAR_STOPTIM_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R0    ;
31259 000069BC 6001             10118             MOV.W   @R0,R0                                                  ;
31260 000069BE 8802             10119             CMP/EQ  #2,R0                                                   ;
31261 000069C0 8908             10120             BT      DURING_TIM_PRECALC100                                   ;"ｸﾘｱ":ﾀｲﾑｱｯﾌﾟから
                                          はじめる
31262                           10121     
31263 000069C2 8801             10122             CMP/EQ  #1,R0                                                   ;
31264 000069C4 8B07             10123             BF      DURING_TIM_PRECALC200                                   ;0:(2,1以外):(設定
                                          をｾｯﾄする)
31265                           10124             M_BRA   DURING_TIM_PRECALCEND                                   ;1:設定しない:継続
31266 000069C6 A008                   M           BRA     DURING_TIM_PRECALCEND
31267 000069C8 0009                   M           NOP
31268                           10125     
31269                           10126     
31270                                     ***** BEGIN-POOL *****
31271 000069CA 0000                       ALIGNMENT CODE
31272 000069CC 00000000                   DATA FOR SOURCE-LINE 10109
31273 000069D0 00000000                   DATA FOR SOURCE-LINE 10117
31274                                     ***** END-POOL *****
31275 000069D4                  10127     DURING_TIM_PRECALC100
31276 000069D4 211A             10128             XOR     R1,R1                                                   ;
31277 000069D6                  10129     DURING_TIM_PRECALC200
31278 000069D6 D402             10130             MOV.L   #_SDAT_WAIT_PVTIM,R4                                    ;
31279 000069D8 2412             10131             MOV.L   R1,@R4                                                  ;
31280 000069DA                  10132     DURING_TIM_PRECALCEND
31281                           10133             SUB_END
31282                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31283 000069DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31284                           10134             M_RTS
31285 000069DC 000B                   M           RTS                             ;RTSの後ろの
31286 000069DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31287                           10135     
31288                           10136     
31289                           10137     
31290                           10138     ;       *******************************************
31291                           10139     ;       ***                                     ***
31292                           10140     ;       ***             2013-02-08              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   455
PROGRAM NAME =

31293                           10141     ;       ***             CPUB_CURVSEL[4]         ***
31294                           10142     ;       *******************************************
31295                           10143     ;;      CPUA=CPUB=TBLCURV時に生かす
31296                           10144             .IMPORT         _PAR_DNMDEND_DLY
31297                           10145     
31298                                     ***** BEGIN-POOL *****
31299 000069E0 00000000                   DATA FOR SOURCE-LINE 10130
31300                                     ***** END-POOL *****
31301 000069E4                  10146     _DNMODE_ENDWAIT_TIM_SET                         ;[[[2013-03-24復活]]]
31302                           10147             SUB_START                               ;[[[2013-03-24復活]]]
31303 000069E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31304                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31305                           10148     
31306 000069E6 D106             10149             MOV.L   #_SETX_POS_CTL_MATH,R1          ;[[[2013-03-24復活]]]
31307 000069E8 6011             10150             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
31308 000069EA C804             10151             TST     #_DMATH_DNDRIV,R0               ;[[[2013-03-24復活]]]
31309                           10152             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
31310 000069EC 890E                   M           BT      DNMODE_ENDWAIT_TIMST100
31311                           10153     
31312 000069EE D105             10154             MOV.L   #_MODE_SEL,R1                   ;[[[2013-03-24復活]]]
31313 000069F0 6011             10155             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
31314 000069F2 C808             10156             TST     #_W1CNT,R0                      ;[[[2013-03-24復活]]]
31315                           10157             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
31316 000069F4 890A                   M           BT      DNMODE_ENDWAIT_TIMST100
31317                           10158     
31318 000069F6 D104             10159             MOV.L   #(_PAR_DNMDEND_DLY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[[[2013-03-24復活
                                          ]]]
31319 000069F8 6011             10160             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
31320                           10161             M_BRA   DNMODE_ENDWAIT_TIMST200                                 ;[[[2013-03-24復活
                                          ]]]
31321 000069FA A008                   M           BRA     DNMODE_ENDWAIT_TIMST200
31322 000069FC 0009                   M           NOP
31323                           10162     
31324                                     ***** BEGIN-POOL *****
31325 000069FE 0000                       ALIGNMENT CODE
31326 00006A00 00000000                   DATA FOR SOURCE-LINE 10149
31327 00006A04 00000000                   DATA FOR SOURCE-LINE 10154
31328 00006A08 00000000                   DATA FOR SOURCE-LINE 10159
31329                                     ***** END-POOL *****
31330 00006A0C                  10163     DNMODE_ENDWAIT_TIMST100                                                 ;[[[2013-03-24復活
                                          ]]]
31331 00006A0C 200A             10164             XOR     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
31332 00006A0E                  10165     DNMODE_ENDWAIT_TIMST200                                                 ;
31333 00006A0E D102             10166             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
                                          ]]]
31334 00006A10 2101             10167             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
31335                           10168                                                                             ;
31336                           10169             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
31337                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31338 00006A12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31339                           10170             M_RTS                                                           ;
31340 00006A14 000B                   M           RTS                             ;RTSの後ろの
31341 00006A16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   456
PROGRAM NAME =

31342                           10171     
31343                                     ***** BEGIN-POOL *****
31344 00006A18 00000000                   DATA FOR SOURCE-LINE 10166
31345                                     ***** END-POOL *****
31346 00006A1C                  10172     _DNMODE_ENDWAIT_TIM_CHK                                                 ;[[[2013-03-24復活
                                          ]]]
31347                           10173             SUB_START                                                       ;[[[2013-03-24復活
                                          ]]]
31348 00006A1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31349                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31350 00006A1E D105             10174             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
                                          ]]]
31351 00006A20 6011             10175             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
31352 00006A22 2008             10176             TST     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
31353                           10177             TST_BIT_OF DNMODE_ENDWAIT_TIMCK_END                             ;ANS R0=0 [[[2013-
                                          03-24復活]]]
31354 00006A24 8902                   M           BT      DNMODE_ENDWAIT_TIMCK_END
31355                           10178                                                                             ;[[[2013-03-24復活
                                          ]]]
31356 00006A26 70FF             10179             ADD     #-1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
31357 00006A28 2101             10180             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
31358 00006A2A E001             10181             MOV.B   #1,R0                                                   ;R0=1 NOT TIM UP[[
                                          [2013-03-24復活]]]
31359                           10182     
31360 00006A2C                  10183     DNMODE_ENDWAIT_TIMCK_END                                                ;[[[2013-03-24復活
                                          ]]]
31361                           10184     
31362                           10185             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
31363                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31364 00006A2C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31365                           10186             M_RTS                                                           ;[[[2013-03-24復活
                                          ]]]
31366 00006A2E 000B                   M           RTS                             ;RTSの後ろの
31367 00006A30 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31368                           10187     
31369                           10188     ;       ***************************************************
31370                           10189     ;       ***                                             ***
31371                           10190     ;       ***             寸動時上限制限をかける          ***
31372                           10191     ;       ***             2013-02-15                      ***
31373                           10192     ;       ***************************************************
31374                                     ***** BEGIN-POOL *****
31375 00006A32 0000                       ALIGNMENT CODE
31376 00006A34 00000000                   DATA FOR SOURCE-LINE 10174
31377                                     ***** END-POOL *****
31378 00006A38                  10193     _INC_UPLIMT_CALC:
31379                           10194             SUB_START
31380 00006A38 4F22                   M           STS.L   PR,@-R15                ;[必要]
31381                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31382 00006A3A D10A             10195             MOV.L   #_MODE_SEL,R1                           ;
31383 00006A3C 6011             10196             MOV.W   @R1,R0                                  ;
31384 00006A3E C802             10197             TST     #(_W1INC),R0                            ;
31385                           10198             TST_BIT_OF INC_UPLIMT_CAL100                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   457
PROGRAM NAME =

31386 00006A40 891A                   M           BT      INC_UPLIMT_CAL100
31387                           10199     
31388 00006A42 D109             10200             MOV.L   #_CB_SEQ_CB_COM349,R1                   ;
31389 00006A44 6011             10201             MOV.W   @R1,R0                                  ;
31390 00006A46 940B             10202             MOV.W   #BIT8,R4                                ;
31391 00006A48 2048             10203             TST     R4,R0                                   ;
31392                           10204             TST_BIT_OF INC_UPLIMT_CAL100                    ;
31393 00006A4A 8915                   M           BT      INC_UPLIMT_CAL100
31394                           10205     
31395 00006A4C D107             10206             MOV.L   #(_PAR_INCSPD_UPLMT-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
31396 00006A4E 6211             10207             MOV.W   @R1,R2                                                  ;
31397                           10208             FAR_JSR #_CYCLE_SPD1,R0                                         ;
31398 00006A50 D007                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31399 00006A52 400B                   M           JSR     @R0                     ;
31400 00006A54 0009                   M           NOP                                     ;
31401 00006A56 D107             10209             MOV.L   #_UPLIMIT_SV_SPD,R1                     ;//(上限共通DATA)PLS/S
31402 00006A58 2122             10210             MOV.L   R2,@R1                                  ;
31403                           10211     
31404 00006A5A 9002             10212             MOV.W   #BIT0,R0                                ;
31405                           10213             M_BRA   INC_UPLIMT_CAL200                       ;
31406 00006A5C A00D                   M           BRA     INC_UPLIMT_CAL200
31407 00006A5E 0009                   M           NOP
31408                           10214     
31409                                     ***** BEGIN-POOL *****
31410 00006A60 0100                       DATA FOR SOURCE-LINE 10202
31411 00006A62 0001                       DATA FOR SOURCE-LINE 10212
31412 00006A64 00000000                   DATA FOR SOURCE-LINE 10195
31413 00006A68 00000000                   DATA FOR SOURCE-LINE 10200
31414 00006A6C 00000000                   DATA FOR SOURCE-LINE 10206
31415 00006A70 00000000                   DATA FOR SOURCE-LINE 10208
31416 00006A74 00000000                   DATA FOR SOURCE-LINE 10209
31417                                     ***** END-POOL *****
31418 00006A78                  10215     INC_UPLIMT_CAL100:
31419 00006A78 200A             10216             XOR     R0,R0
31420 00006A7A                  10217     INC_UPLIMT_CAL200:
31421 00006A7A D102             10218             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
31422 00006A7C 2101             10219             MOV.W   R0,@R1                  ;
31423 00006A7E                  10220     INC_UPLIMT_CALEND:
31424                           10221     
31425                           10222             SUB_END
31426                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31427 00006A7E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31428                           10223             M_RTS
31429 00006A80 000B                   M           RTS                             ;RTSの後ろの
31430 00006A82 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31431                           10224     
31432                           10225     
31433                           10226     ;       *******************************************
31434                           10227     ;       ***                                     ***
31435                           10228     ;       ***     2009-10-07                      ***
31436                           10229     ;       ***     下振子                          ***
31437                           10230     ;       ***     非常停止                        ***
31438                           10231     ;       *******************************************
31439                                     ***** BEGIN-POOL *****
31440 00006A84 00000000                   DATA FOR SOURCE-LINE 10218
31441                                     ***** END-POOL *****
31442 00006A88                  10232             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   458
PROGRAM NAME =

31443 00006A88                  10233     _DNM_DATA_CLR:
31444                           10234             SUB_START
31445 00006A88 4F22                   M           STS.L   PR,@-R15                ;[必要]
31446                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31447                           10235     
31448                           10236              .AIF   1 EQ 1  ;
31449                           10237 C   ;       -------- 2016-10-31 ADD 二重回路対策
31450                           10238              .AENDI
31451                           10239     ;       ---2016-06-13--
31452                           10240             UP_TIME LG=W,MEM_ADR=_DBG_DNM_CLR_CNT,WKREG1=R1,WKREG2=R0
31453 00006A8A D107                   M           MOV.L   #_DBG_DNM_CLR_CNT,R1            ;SORCE ADRESS SET
31454 00006A8C 6011                   M           MOV.W   @R1,R0          ;
31455 00006A8E 7001                   M           ADD     #1,R0                   ;
31456 00006A90 2008                   M           TST     R0,R0                   ;
31457                                 M           TST_BIT_OF JMP_0100022                  ;ZERO THEN JUMP
31458 00006A92 8900                   M           BT      JMP_0100022
31459 00006A94 2101                   M           MOV.W   R0,@R1          ;STORE
31460 00006A96                        M   JMP_0100022:                                    ;
31461                           10241     
31462 00006A96 200A             10242             XOR     R0,R0
31463 00006A98 D104             10243             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
31464 00006A9A 2101             10244             MOV.W   R0,@R1
31465 00006A9C D104             10245             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時
31466 00006A9E 2101             10246             MOV.W   R0,@R1
31467                           10247             SUB_END
31468                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31469 00006AA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31470                           10248             M_RTS
31471 00006AA2 000B                   M           RTS                             ;RTSの後ろの
31472 00006AA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31473                           10249     
31474                           10250     ;       *******************************************
31475                           10251     ;       ***                                     ***
31476                           10252     ;       ***     2014-09-17                      ***
31477                           10253     ;       ***     下振子                          ***
31478                           10254     ;       ***     左待機点からの開始              ***
31479                           10255     ;       ***                                     ***
31480                           10256     ;       *******************************************
31481                           10257     ;       初期値は0：右
31482                           10258             .EXPORT _DNM_DATA_REV_SET
31483                                     ***** BEGIN-POOL *****
31484 00006AA6 0000                       ALIGNMENT CODE
31485 00006AA8 00000000                   DATA FOR SOURCE-LINE 10240
31486 00006AAC 00000000                   DATA FOR SOURCE-LINE 10243
31487 00006AB0 00000000                   DATA FOR SOURCE-LINE 10245
31488                                     ***** END-POOL *****
31489 00006AB4                  10259     _DNM_DATA_REV_SET:
31490                           10260             SUB_START
31491 00006AB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31492                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31493 00006AB6 E001             10261             MOV.B   #BIT0,R0                        ;
31494 00006AB8 D102             10262             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
31495 00006ABA 2101             10263             MOV.W   R0,@R1
31496                           10264     
31497                           10265     ;;;;;;; MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時,次のｻｲｸﾙ起動時 SET_FLG=>NO
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   459
PROGRAM NAME =

                                          W_FLG
31498                           10266     ;;;;;;; MOV.W   R0,@R1
31499                           10267     
31500                           10268             SUB_END
31501                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31502 00006ABC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31503                           10269             M_RTS
31504 00006ABE 000B                   M           RTS                             ;RTSの後ろの
31505 00006AC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31506                           10270     
31507                           10271     
31508                           10272             .EXPORT _DNM_CYCLE_END                  ;2016-04-16
31509                                     ***** BEGIN-POOL *****
31510 00006AC2 0000                       ALIGNMENT CODE
31511 00006AC4 00000000                   DATA FOR SOURCE-LINE 10262
31512                                     ***** END-POOL *****
31513 00006AC8                  10273     _DNM_CYCLE_END:                                 ;
31514                           10274             SUB_START                               ;
31515 00006AC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31516                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31517                           10275     
31518                           10276              .AIF   1 EQ 1  ;
31519                           10277 C   ;       -------- 2016-10-31 ADD 二重回路対策
31520                           10278              .AENDI
31521                           10279     
31522                           10280     ;       ---2016-06-13--
31523                           10281             UP_TIME LG=W,MEM_ADR=_DBG_DNM_END_CNT,WKREG1=R1,WKREG2=R0
31524 00006ACA D10B                   M           MOV.L   #_DBG_DNM_END_CNT,R1            ;SORCE ADRESS SET
31525 00006ACC 6011                   M           MOV.W   @R1,R0          ;
31526 00006ACE 7001                   M           ADD     #1,R0                   ;
31527 00006AD0 2008                   M           TST     R0,R0                   ;
31528                                 M           TST_BIT_OF JMP_0100023                  ;ZERO THEN JUMP
31529 00006AD2 8900                   M           BT      JMP_0100023
31530 00006AD4 2101                   M           MOV.W   R0,@R1          ;STORE
31531 00006AD6                        M   JMP_0100023:                                    ;
31532                           10282     
31533 00006AD6 222A             10283             XOR     R2,R2                           ;
31534 00006AD8 D108             10284             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
31535 00006ADA 6011             10285             MOV.W   @R1,R0                          ;
31536 00006ADC C804             10286             TST     #_DMATH_DNDRIV,R0
31537                           10287             TST_BIT_OF DNM_CYCLE_ED_100             ;
31538 00006ADE 8904                   M           BT      DNM_CYCLE_ED_100
31539                           10288     
31540 00006AE0 D107             10289             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
31541 00006AE2 6011             10290             MOV.W   @R1,R0                          ;
31542 00006AE4 2008             10291             TST     R0,R0                           ;
31543                           10292             TST_BIT_ON DNM_CYCLE_ED_100             ;
31544 00006AE6 8B00                   M           BF      DNM_CYCLE_ED_100
31545 00006AE8 E201             10293             MOV     #1,R2                           ;
31546 00006AEA                  10294     DNM_CYCLE_ED_100:                               ;
31547 00006AEA D106             10295             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
31548 00006AEC 2121             10296             MOV.W   R2,@R1                          ;NEXT-SET
31549                           10297     
31550                           10298     ;       ----------------[2014-11-10 add]---------
31551 00006AEE D106             10299             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1;     //ふりこの場合の前回までの動作方向(今回動
                                          きべき方向)
31552 00006AF0 2121             10300             MOV.W   R2,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   460
PROGRAM NAME =

31553                           10301     ;       ---------------------------------------------
31554                           10302     
31555                           10303             SUB_END
31556                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31557 00006AF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31558                           10304             M_RTS
31559 00006AF4 000B                   M           RTS                             ;RTSの後ろの
31560 00006AF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31561                           10305     
31562                           10306     ;       ***************************************************
31563                           10307     ;       ***                                             ***
31564                           10308     ;       ***     ふりこ　連続の次のサイクル開始          ***
31565                           10309     ;       ***                                             ***
31566                           10310     ;       ***************************************************
31567                           10311     ;       ここでオーバライド演算も追加する(2010-10-05)
31568                           10312     
31569                                     ***** BEGIN-POOL *****
31570 00006AF8 00000000                   DATA FOR SOURCE-LINE 10281
31571 00006AFC 00000000                   DATA FOR SOURCE-LINE 10284
31572 00006B00 00000000                   DATA FOR SOURCE-LINE 10289
31573 00006B04 00000000                   DATA FOR SOURCE-LINE 10295
31574 00006B08 00000000                   DATA FOR SOURCE-LINE 10299
31575                                     ***** END-POOL *****
31576 00006B0C                  10313     _DNM_CYCLE_START:                               ;
31577                           10314             SUB_START                               ;
31578 00006B0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31579                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31580                           10315     
31581                           10316              .AIF   1 EQ 1  ;
31582                           10317 C   ;       -------- 2016-10-31 ADD 二重回路対策
31583                           10318              .AENDI
31584                           10319     ;       ---2016-06-13--
31585                           10320             UP_TIME LG=W,MEM_ADR=_DBG_DNM_STR_CNT,WKREG1=R1,WKREG2=R0
31586 00006B0E D10B                   M           MOV.L   #_DBG_DNM_STR_CNT,R1            ;SORCE ADRESS SET
31587 00006B10 6011                   M           MOV.W   @R1,R0          ;
31588 00006B12 7001                   M           ADD     #1,R0                   ;
31589 00006B14 2008                   M           TST     R0,R0                   ;
31590                                 M           TST_BIT_OF JMP_0100024                  ;ZERO THEN JUMP
31591 00006B16 8900                   M           BT      JMP_0100024
31592 00006B18 2101                   M           MOV.W   R0,@R1          ;STORE
31593 00006B1A                        M   JMP_0100024:                                    ;
31594                           10321     
31595 00006B1A 222A             10322             XOR     R2,R2                           ;
31596 00006B1C D108             10323             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
31597 00006B1E 6011             10324             MOV.W   @R1,R0                          ;
31598 00006B20 C804             10325             TST     #_DMATH_DNDRIV,R0               ;
31599                           10326             TST_BIT_OF DNM_CYCLE_STR_100            ;
31600 00006B22 8917                   M           BT      DNM_CYCLE_STR_100
31601                           10327     
31602 00006B24 D107             10328             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
31603 00006B26 6211             10329             MOV.W   @R1,R2                          ;
31604 00006B28 D107             10330             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
31605 00006B2A 2121             10331             MOV.W   R2,@R1                          ;
31606                           10332     
31607                           10333     ;       ----------------[2014-11-10 add]---------
31608 00006B2C D107             10334             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1;     //ふりこの場合の前回までの動作方向
31609 00006B2E 2121             10335             MOV.W   R2,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   461
PROGRAM NAME =

31610                           10336     ;       ---------------------------------------------
31611                           10337     
31612                           10338             FAR_JSR #_CPOS_INI1_DTMOV2,R0
31613 00006B30 D007                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31614 00006B32 400B                   M           JSR     @R0                     ;
31615 00006B34 0009                   M           NOP                                     ;
31616                           10339             M_BRA   DNM_CYCLE_STR_200               ;
31617 00006B36 A00F                   M           BRA     DNM_CYCLE_STR_200
31618 00006B38 0009                   M           NOP
31619                           10340     
31620                                     ***** BEGIN-POOL *****
31621 00006B3A 0000                       ALIGNMENT CODE
31622 00006B3C 00000000                   DATA FOR SOURCE-LINE 10320
31623 00006B40 00000000                   DATA FOR SOURCE-LINE 10323
31624 00006B44 00000000                   DATA FOR SOURCE-LINE 10328
31625 00006B48 00000000                   DATA FOR SOURCE-LINE 10330
31626 00006B4C 00000000                   DATA FOR SOURCE-LINE 10334
31627 00006B50 00000000                   DATA FOR SOURCE-LINE 10338
31628                                     ***** END-POOL *****
31629 00006B54                  10341     DNM_CYCLE_STR_100:
31630 00006B54 D102             10342             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
31631 00006B56 2121             10343             MOV.W   R2,@R1                          ;
31632                           10344     
31633 00006B58                  10345     DNM_CYCLE_STR_200:
31634                           10346     
31635                           10347     
31636                           10348             SUB_END
31637                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31638 00006B58 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31639                           10349             M_RTS
31640 00006B5A 000B                   M           RTS                             ;RTSの後ろの
31641 00006B5C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31642                           10350     
31643                           10351     ;       ***************************
31644                           10352     ;       ***     1MS-MAINでCALL  ***
31645                           10353     ;       ***************************
31646                           10354             .EXPORT _DNM_MATH_ELSE_DAT_MAKE
31647                           10355     
31648                           10356     
31649                                     ***** BEGIN-POOL *****
31650 00006B5E 0000                       ALIGNMENT CODE
31651 00006B60 00000000                   DATA FOR SOURCE-LINE 10342
31652                                     ***** END-POOL *****
31653 00006B64                  10357     _DNM_MATH_ELSE_DAT_MAKE:
31654                           10358             SUB_START
31655 00006B64 4F22                   M           STS.L   PR,@-R15                ;[必要]
31656                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31657 00006B66 D10D             10359             MOV.L   #_INC_ENC360,R1                                 ;
31658 00006B68 6211             10360             MOV.W   @R1,R2
31659                           10361     
31660 00006B6A D10D             10362             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
31661 00006B6C 6011             10363             MOV.W   @R1,R0                          ;
31662 00006B6E C804             10364             TST     #_DMATH_DNDRIV,R0               ;
31663                           10365             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;
31664 00006B70 890E                   M           BT      DNM_MATH_ELSE_DATMK100
31665                           10366     
31666 00006B72 D10C             10367             MOV.L   #_MODE_SEL,R1                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   462
PROGRAM NAME =

31667 00006B74 6011             10368             MOV.W   @R1,R0                                                  ;
31668 00006B76 C81E             10369             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                         ;
31669                           10370             TST_BIT_OF DNM_MATH_ELSE_DATMK100                               ;
31670 00006B78 890A                   M           BT      DNM_MATH_ELSE_DATMK100
31671                           10371     
31672 00006B7A D10B             10372             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;
31673 00006B7C 6011             10373             MOV.W   @R1,R0                          ;
31674                           10374     
31675                           10375     ;;;;2013-02-15不要      MOV.W   @R1,R3                          ;必ず同じになる
31676                           10376     ;;;;2013-02-15不要      CMP/EQ  R0,R3                           ;
31677                           10377     ;;;;2013-02-15不要      BF      DNM_MATH_ELSE_DATMK050          ;違ったら更新したかったの
                                          かな？
31678                           10378     
31679 00006B7E D10B             10379             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
31680 00006B80 2101             10380             MOV.W   R0,@R1                          ;動作・動かしたいデータが同じ
31681                           10381     
31682                           10382     ;;;;2013-02-15不要      DNM_MATH_ELSE_DATMK050:
31683 00006B82 D10A             10383             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;
31684 00006B84 6011             10384             MOV.W   @R1,R0                          ;
31685 00006B86 2008             10385             TST     R0,R0                           ;
31686                           10386             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;180
31687 00006B88 8902                   M           BT      DNM_MATH_ELSE_DATMK100
31688                           10387     
31689                           10388             FAR_JSR #_DIG01_CHG_DN_DATA_MAKE,R0     ;上限が0度　下限が180で左右同じじゃないとｸ
                                          ﾗﾝｸに戻す必要有り
31690 00006B8A D009                   M           MOV.L   #_DIG01_CHG_DN_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31691 00006B8C 400B                   M           JSR     @R0                     ;
31692 00006B8E 0009                   M           NOP                                     ;
31693                           10389     
31694 00006B90                  10390     DNM_MATH_ELSE_DATMK100:
31695 00006B90 D108             10391             MOV.L   #_DNM_CTL_INC3600,R1            ;//CAM、ﾛｯﾄｶｳﾝﾀ、荷重用
31696 00006B92 2121             10392             MOV.W   R2,@R1                          ;
31697                           10393     
31698                           10394             SUB_END
31699                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31700 00006B94 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31701                           10395             M_RTS
31702 00006B96 000B                   M           RTS                             ;RTSの後ろの
31703 00006B98 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31704                           10396     
31705                           10397     ;       ***********************************
31706                           10398     ;       ***     2015-04-08              ***
31707                           10399     ;       ***     工程集終了ﾊﾝﾄﾞｼｪｲｸ      ***
31708                           10400     ;       ***********************************
31709                                     ***** BEGIN-POOL *****
31710 00006B9A 0000                       ALIGNMENT CODE
31711 00006B9C 00000000                   DATA FOR SOURCE-LINE 10359
31712 00006BA0 00000000                   DATA FOR SOURCE-LINE 10362
31713 00006BA4 00000000                   DATA FOR SOURCE-LINE 10367
31714 00006BA8 00000000                   DATA FOR SOURCE-LINE 10372
31715 00006BAC 00000000                   DATA FOR SOURCE-LINE 10379,10383
31716 00006BB0 00000000                   DATA FOR SOURCE-LINE 10388
31717 00006BB4 00000000                   DATA FOR SOURCE-LINE 10391
31718                                     ***** END-POOL *****
31719 00006BB8                  10401     _ENDHAND_WAIT_TIMCNT
31720                           10402             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   463
PROGRAM NAME =

31721 00006BB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31722                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31723                           10403     
31724 00006BBA D105             10404             MOV.L   #_CMPSTEP_STEP_END,R1           ;
31725 00006BBC 6011             10405             MOV.W   @R1,R0                          ;
31726 00006BBE 2008             10406             TST     R0,R0                           ;
31727                           10407             TST_BIT_ON ENDHAND_WAIT_TIMC100         ;[ﾆｱｾﾞﾛ確認が終わっている]
31728 00006BC0 8B0A                   M           BF      ENDHAND_WAIT_TIMC100
31729 00006BC2 9203             10408             MOV.W   #D'10,R2                        ;10msec
31730 00006BC4 D103             10409             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
31731 00006BC6 2121             10410             MOV.W   R2,@R1                          ;
31732                           10411             M_BRA   ENDHAND_WAIT_TIMC200
31733 00006BC8 A00C                   M           BRA     ENDHAND_WAIT_TIMC200
31734 00006BCA 0009                   M           NOP
31735                           10412     
31736                                     ***** BEGIN-POOL *****
31737 00006BCC 000A                       DATA FOR SOURCE-LINE 10408
31738 00006BCE 0000                       ALIGNMENT CODE
31739 00006BD0 00000000                   DATA FOR SOURCE-LINE 10404
31740 00006BD4 00000000                   DATA FOR SOURCE-LINE 10409
31741                                     ***** END-POOL *****
31742 00006BD8                  10413     ENDHAND_WAIT_TIMC100
31743                           10414             DN_TIME LG=W,MEM_ADR=_ENDHAND_TIMOUT_PV,WKREG1=R1,WKREG2=R2     ;
31744 00006BD8 D104                   M           MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;SORCE ADRESS SET
31745 00006BDA 6211                   M           MOV.W   @R1,R2          ;
31746 00006BDC 2228                   M           TST     R2,R2                   ;
31747 00006BDE 8901                   M           BT      JMP_0100025                     ;ZERO THEN JUMP
31748 00006BE0 4210                   M           DT      R2                              ;
31749 00006BE2 2121                   M           MOV.W   R2,@R1          ;STORE
31750 00006BE4                        M   JMP_0100025:
31751 00006BE4                  10415     ENDHAND_WAIT_TIMC200
31752                           10416             SUB_END
31753                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31754 00006BE4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31755                           10417             M_RTS
31756 00006BE6 000B                   M           RTS                             ;RTSの後ろの
31757 00006BE8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31758                           10418     
31759                           10419     ;       ANS R0!=0 ﾊﾝﾄﾞｼｪｲｸを強制実行
31760                           10420             .EXPORT _API_ENDHAND_SIGCHK
31761                                     ***** BEGIN-POOL *****
31762 00006BEA 0000                       ALIGNMENT CODE
31763 00006BEC 00000000                   DATA FOR SOURCE-LINE 10414
31764                                     ***** END-POOL *****
31765 00006BF0                  10421     _API_ENDHAND_SIGCHK
31766                           10422             SUB_START
31767 00006BF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
31768                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31769 00006BF2 D107             10423             MOV.L   #_CMPSTEP_STEP_END,R1   ;
31770 00006BF4 6011             10424             MOV.W   @R1,R0                  ;
31771 00006BF6 C804             10425             TST     #BIT2,R0                ;
31772                           10426             TST_BIT_ON API_ENDHANDSIGCHK_EXT
31773 00006BF8 8B06                   M           BF      API_ENDHANDSIGCHK_EXT
31774                           10427     
31775 00006BFA C803             10428             TST     #(BIT1+BIT0),R0                 ;
31776                           10429             TST_BIT_OF API_ENDHANDSIGCHK_100        ;
31777 00006BFC 8903                   M           BT      API_ENDHANDSIGCHK_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   464
PROGRAM NAME =

31778                           10430     
31779 00006BFE D105             10431             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
31780 00006C00 6111             10432             MOV.W   @R1,R1                          ;
31781 00006C02 2118             10433             TST     R1,R1                           ;
31782                           10434             TST_BIT_ON API_ENDHANDSIGCHK_EXT        ;TIME ｱｯﾌﾟ前
31783 00006C04 8B00                   M           BF      API_ENDHANDSIGCHK_EXT
31784 00006C06                  10435     API_ENDHANDSIGCHK_100
31785 00006C06 200A             10436             XOR     R0,R0
31786 00006C08                  10437     API_ENDHANDSIGCHK_EXT
31787                           10438     
31788                           10439             SUB_END
31789                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31790 00006C08 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31791                           10440             M_RTS
31792 00006C0A 000B                   M           RTS                             ;RTSの後ろの
31793 00006C0C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31794                           10441     
31795                           10442     ;       *******************************************
31796                           10443     ;       ***                                     ***
31797                           10444     ;       ***                                     ***
31798                           10445     ;       ***                                     ***
31799                           10446     ;       ***     モーション繰り返し              ***
31800                           10447     ;       ***     位置決め部                      ***
31801                           10448     ;       ***                                     ***
31802                           10449     ;       *******************************************
31803                           10450     ;
31804                           10451     ;非常停止,ｻｲｸﾙ終了後の初起動時
31805                           10452     ;非常停止(exqは運転継続だからCLRしない)
31806                           10453     ;ｻｲｸﾙ終了
31807                           10454     ;ﾘﾋﾟｰﾄ終了
31808                           10455     ;[EXQはｸﾘｱしない：運転継続だから]
31809                           10456     ;
31810                           10457     ;BIT0(ﾘﾋﾟｰﾄ戻り中)
31811                           10458     ;BIT1(ﾚﾋﾟｰﾄ戻演算しろ)
31812                           10459     ;BIT2(ﾘﾋﾟｰﾄ戻り→ﾘﾋﾟｰﾄ開始)
31813                           10460     ;
31814                           10461     
31815                                     ***** BEGIN-POOL *****
31816 00006C0E 0000                       ALIGNMENT CODE
31817 00006C10 00000000                   DATA FOR SOURCE-LINE 10423
31818 00006C14 00000000                   DATA FOR SOURCE-LINE 10431
31819                                     ***** END-POOL *****
31820 00006C18                  10462             .ALIGN  4                                       ;
31821 00006C18                  10463     _MOT_REP_CLR                                    ;
31822                           10464             SUB_START
31823 00006C18 4F22                   M           STS.L   PR,@-R15                ;[必要]
31824                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31825 00006C1A 200A             10465             XOR     R0,R0                           ;
31826 00006C1C D103             10466             MOV.L   #_MOT_REP_CNT,R1                ;
31827 00006C1E 2101             10467             MOV.W   R0,@R1                          ;
31828 00006C20 D103             10468             MOV.L   #_MOT_REP_F,R1                  ;
31829 00006C22 2101             10469             MOV.W   R0,@R1                          ;
31830                           10470             SUB_END
31831                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31832 00006C24 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31833                           10471             M_RTS
31834 00006C26 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   465
PROGRAM NAME =

31835 00006C28 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31836                           10472     
31837                           10473     ;       -----------ｽﾃｯﾌﾟ終了時CHECK-------------
31838                                     ***** BEGIN-POOL *****
31839 00006C2A 0000                       ALIGNMENT CODE
31840 00006C2C 00000000                   DATA FOR SOURCE-LINE 10466
31841 00006C30 00000000                   DATA FOR SOURCE-LINE 10468
31842                                     ***** END-POOL *****
31843 00006C34                  10474     _MOT_REP_STEPCHK
31844                           10475             SUB_START
31845 00006C34 4F22                   M           STS.L   PR,@-R15                ;[必要]
31846                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31847                           10476     
31848 00006C36 D108             10477             MOV.L   #_SET1_MOTREP_USEFUL,R1         ;
31849 00006C38 6011             10478             MOV.W   @R1,R0                          ;
31850 00006C3A 2008             10479             TST     R0,R0                           ;
31851                           10480             TST_BIT_OF MOT_REP_STEPCK_EXT           ;
31852 00006C3C 8935                   M           BT      MOT_REP_STEPCK_EXT
31853                           10481     
31854 00006C3E D107             10482             MOV.L   #_MOT_REP_F,R1                  ;
31855 00006C40 6011             10483             MOV.W   @R1,R0                          ;
31856 00006C42 C801             10484             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ戻り実行中?
31857                           10485             TST_BIT_OF MOT_REP_STEPCK_100           ;NO
31858 00006C44 890E                   M           BT      MOT_REP_STEPCK_100
31859                           10486     
31860 00006C46 E004             10487             MOV.B   #BIT2,R0                        ;戻り開始工程演算しろ
31861 00006C48 D104             10488             MOV.L   #_MOT_REP_F,R1                  ;BIT2:CLR
31862 00006C4A 2101             10489             MOV.W   R0,@R1                          ;
31863                           10490     
31864                           10491     
31865                           10492             FAR_JSR #_DEBUG_BRK_POINT1,R0           ;
31866 00006C4C D004                   M           MOV.L   #_DEBUG_BRK_POINT1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31867 00006C4E 400B                   M           JSR     @R0                     ;
31868 00006C50 0009                   M           NOP                                     ;
31869                           10493     
31870                           10494             M_BRA   MOT_REP_STEPCK_EXT              ;
31871 00006C52 A02A                   M           BRA     MOT_REP_STEPCK_EXT
31872 00006C54 0009                   M           NOP
31873                           10495     
31874                           10496     
31875                           10497     
31876                           10498     
31877                                     ***** BEGIN-POOL *****
31878 00006C56 0000                       ALIGNMENT CODE
31879 00006C58 00000000                   DATA FOR SOURCE-LINE 10477
31880 00006C5C 00000000                   DATA FOR SOURCE-LINE 10482,10488
31881 00006C60 00000000                   DATA FOR SOURCE-LINE 10492
31882                                     ***** END-POOL *****
31883 00006C64                  10499     MOT_REP_STEPCK_100
31884 00006C64 D10A             10500             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
31885 00006C66 6011             10501             MOV.W   @R1,R0                          ;
31886 00006C68 D10A             10502             MOV.L   #_SET1_MOTREP_STGE,R1           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
31887 00006C6A 6211             10503             MOV.W   @R1,R2                          ;
31888 00006C6C 3020             10504             CMP/EQ  R2,R0                           ;
31889 00006C6E 8B1C             10505             BF      MOT_REP_STEPCK_EXT              ;終了ｽﾃｯﾌﾟ?
31890                           10506     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   466
PROGRAM NAME =

31891 00006C70 D109             10507             MOV.L   #_SET1_MOTREP_CNT,R1            ;//繰り返し回数
31892 00006C72 6311             10508             MOV.W   @R1,R3                          ;
31893 00006C74 2338             10509             TST     R3,R3                           ;
31894                           10510             TST_BIT_OF MOT_REP_STEPCK_EXT
31895 00006C76 8918                   M           BT      MOT_REP_STEPCK_EXT
31896                           10511     
31897 00006C78 D408             10512             MOV.L   #_MOT_REP_CNT,R4                ;
31898 00006C7A 6241             10513             MOV.W   @R4,R2                          ;
31899 00006C7C 3232             10514             CMP/HS  R3,R2                           ;設定<=CNT
31900 00006C7E 8911             10515             BT      MOT_REP_STEPCK_200              ;終了
31901 00006C80 7201             10516             ADD     #1,R2                           ;
31902 00006C82 2421             10517             MOV.W   R2,@R4                          ;
31903                           10518     
31904                           10519     ;       ------- 戻る----------
31905 00006C84 E003             10520             MOV.B   #(BIT1+BIT0),R0                 ;戻り実行中、戻り演算しろ
31906 00006C86 D106             10521             MOV.L   #_MOT_REP_F,R1                  ;
31907 00006C88 2101             10522             MOV.W   R0,@R1                          ;
31908                           10523             M_BRA   MOT_REP_STEPCK_EXT              ;
31909 00006C8A A00E                   M           BRA     MOT_REP_STEPCK_EXT
31910 00006C8C 0009                   M           NOP
31911                           10524     
31912                           10525     
31913                                     ***** BEGIN-POOL *****
31914 00006C8E 0000                       ALIGNMENT CODE
31915 00006C90 00000000                   DATA FOR SOURCE-LINE 10500
31916 00006C94 00000000                   DATA FOR SOURCE-LINE 10502
31917 00006C98 00000000                   DATA FOR SOURCE-LINE 10507
31918 00006C9C 00000000                   DATA FOR SOURCE-LINE 10512
31919 00006CA0 00000000                   DATA FOR SOURCE-LINE 10521
31920                                     ***** END-POOL *****
31921 00006CA4                  10526     MOT_REP_STEPCK_200
31922                           10527             FAR_JSR #_MOT_REP_CLR,R0                ;
31923 00006CA4 D002                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31924 00006CA6 400B                   M           JSR     @R0                     ;
31925 00006CA8 0009                   M           NOP                                     ;
31926                           10528     
31927 00006CAA                  10529     MOT_REP_STEPCK_EXT
31928                           10530             SUB_END
31929                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31930 00006CAA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31931                           10531             M_RTS
31932 00006CAC 000B                   M           RTS                             ;RTSの後ろの
31933 00006CAE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31934                           10532     
31935                           10533     
31936                                     ***** BEGIN-POOL *****
31937 00006CB0 00000000                   DATA FOR SOURCE-LINE 10527
31938                                     ***** END-POOL *****
31939 00006CB4                  10534     _MOT_REPSTART_CALC:
31940                           10535             SUB_START
31941 00006CB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31942                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31943                           10536     
31944 00006CB6 D108             10537             MOV.L   #_SET1_MOTREP_SPD,R1            ;//一定速度時の速度
31945 00006CB8 6212             10538             MOV.L   @R1,R2                          ;
31946 00006CBA D108             10539             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
31947 00006CBC 2122             10540             MOV.L   R2,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   467
PROGRAM NAME =

31948                           10541     
31949                           10542     
31950                           10543             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
31951 00006CBE D108                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31952 00006CC0 410B                   M           JSR     @R1                     ;
31953 00006CC2 0009                   M           NOP                                     ;
31954                           10544     
31955 00006CC4 D407             10545             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
31956 00006CC6 6041             10546             MOV.W   @R4,R0                          ;
31957 00006CC8 8801             10547             CMP/EQ  #1,R0                           ;
31958 00006CCA 8B0F             10548             BF      MOT_REPSTART_CL050              ;
31959 00006CCC D406             10549             MOV.L   #_CPOS_SDAT1_UP_POS,R4          ;//待機点または各段
31960 00006CCE 6146             10550             MOV.L   @R4+,R1                         ;
31961 00006CD0 6242             10551             MOV.L   @R4,R2                          ;(目標位置)
31962                           10552             M_BRA   MOT_REPSTART_CL100              ;
31963 00006CD2 A012                   M           BRA     MOT_REPSTART_CL100
31964 00006CD4 0009                   M           NOP
31965                           10553     
31966                                     ***** BEGIN-POOL *****
31967 00006CD6 0000                       ALIGNMENT CODE
31968 00006CD8 00000000                   DATA FOR SOURCE-LINE 10537
31969 00006CDC 00000000                   DATA FOR SOURCE-LINE 10539
31970 00006CE0 00000000                   DATA FOR SOURCE-LINE 10543
31971 00006CE4 00000000                   DATA FOR SOURCE-LINE 10545
31972 00006CE8 00000000                   DATA FOR SOURCE-LINE 10549
31973                                     ***** END-POOL *****
31974 00006CEC                  10554     MOT_REPSTART_CL050:
31975 00006CEC 70FE             10555             ADD     #-2,R0
31976 00006CEE 4008             10556             SHLL2   R0
31977 00006CF0 4000             10557             SHLL    R0
31978 00006CF2 D40C             10558             MOV.L   #_CPOS_SDAT1_CHGAPOS,R4         ;8byte
31979 00006CF4 340C             10559             ADD     R0,R4
31980 00006CF6 6146             10560             MOV.L   @R4+,R1                         ;
31981 00006CF8 6242             10561             MOV.L   @R4,R2                          ;(目標位置)
31982 00006CFA                  10562     MOT_REPSTART_CL100:
31983                           10563     
31984                           10564     
31985                           10565     ;       --------- 反転用---------------
31986 00006CFA D40B             10566             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
31987 00006CFC 2412             10567             MOV.L   R1,@R4                          ;
31988 00006CFE 1421             10568             MOV.L   R2,@(4,R4)                      ;save
31989                           10569     
31990 00006D00 D40A             10570             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
31991 00006D02 2412             10571             MOV.L   R1,@R4                          ;
31992 00006D04 1421             10572             MOV.L   R2,@(4,R4)                      ;save
31993                           10573     
31994                           10574     ;       -------- 通常用-----------------
31995                           10575             FAR_JSR #_LENGH_ADD_CALC,R0             ;
31996 00006D06 D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31997 00006D08 400B                   M           JSR     @R0                     ;
31998 00006D0A 0009                   M           NOP                                     ;
31999                           10576     
32000 00006D0C 233A             10577             XOR     R3,R3                           ;
32001 00006D0E 4111             10578             CMP/PZ  R1                              ;+正転?
32002 00006D10 8900             10579             BT      MOT_REPSTART_CL200              ;
32003 00006D12 E301             10580             MOV     #BIT0,R3                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   468
PROGRAM NAME =

32004 00006D14                  10581     MOT_REPSTART_CL200:
32005 00006D14 D107             10582             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
32006 00006D16 6011             10583             MOV.W   @R1,R0                          ;
32007 00006D18 C9FE             10584             AND     #LOW ~BIT0,R0                   ;
32008 00006D1A 203B             10585             OR      R3,R0                           ;
32009 00006D1C 2101             10586             MOV.W   R0,@R1                          ;
32010                           10587     ;       ----------------------------------------
32011                           10588     
32012                           10589             SUB_END
32013                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32014 00006D1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32015                           10590             M_RTS
32016 00006D20 000B                   M           RTS                             ;RTSの後ろの
32017 00006D22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32018                           10591     
32019                           10592     ;       *******************************************
32020                           10593     ;       ***                                     ***
32021                           10594     ;       ***                                     ***
32022                           10595     ;       ***                                     ***
32023                           10596     ;       ***     制動性能試験                    ***
32024                           10597     ;       ***                                     ***
32025                           10598     ;       ***                                     ***
32026                           10599     ;       *******************************************
32027                                     ***** BEGIN-POOL *****
32028 00006D24 00000000                   DATA FOR SOURCE-LINE 10558
32029 00006D28 00000000                   DATA FOR SOURCE-LINE 10566
32030 00006D2C 00000000                   DATA FOR SOURCE-LINE 10570
32031 00006D30 00000000                   DATA FOR SOURCE-LINE 10575
32032 00006D34 00000000                   DATA FOR SOURCE-LINE 10582
32033                                     ***** END-POOL *****
32034 00006D38                  10600             .ALIGN  4                                               ;
32035                           10601             .INCLUDE        "ssa_btst.inc"          ;//2010-08-30
32036                               1 I1  ;       ***********************************
32037                               2 I1  ;       ***                             ***
32038                               3 I1  ;       ***     制動制御                ***
32039                               4 I1  ;       ***     位置決め部              ***
32040                               5 I1  ;       ***                             ***
32041                               6 I1  ;       ***********************************
32042                               7 I1  ;       ------- 2010-08-20[制動モード]
32043                               8 I1          .EXPORT _BRKTST_POS_START
32044                               9 I1  
32045 00006D38                     10 I1          .ALIGN  4                               ;
32046 00006D38                     11 I1  _BRKTST_POS_CTL:
32047                              12 I1          SUB_START
32048 00006D38 4F22                   M           STS.L   PR,@-R15                ;[必要]
32049                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32050 00006D3A D103                13 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32051 00006D3C 6011                14 I1          MOV.W   @R1,R0                          ;
32052 00006D3E C808                15 I1          TST     #BIT3,R0                        ;
32053                              16 I1          TST_BIT_OF BRKTST_POSCTL_0020           ;
32054 00006D40 8904                   M           BT      BRKTST_POSCTL_0020
32055                              17 I1          M_BRA   BRKTST_POSCTL_0800              ;非常停止中
32056 00006D42 A099                   M           BRA     BRKTST_POSCTL_0800
32057 00006D44 0009                   M           NOP
32058                              18 I1  
32059                                 I1  ***** BEGIN-POOL *****
32060 00006D46 0000                   I1  ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   469
PROGRAM NAME =

32061 00006D48 00000000               I1  DATA FOR SOURCE-LINE 13
32062                                 I1  ***** END-POOL *****
32063 00006D4C                     19 I1  BRKTST_POSCTL_0020:
32064 00006D4C C801                20 I1          TST     #BIT0,R0                        ;
32065                              21 I1          TST_BIT_OF BRKTST_POSCTL_0040           ;
32066 00006D4E 8901                   M           BT      BRKTST_POSCTL_0040
32067                              22 I1          M_BRA   BRKTST_POSCTL_0200              ;起動中
32068 00006D50 A064                   M           BRA     BRKTST_POSCTL_0200
32069 00006D52 0009                   M           NOP
32070                              23 I1  
32071                              24 I1  
32072 00006D54                     25 I1  BRKTST_POSCTL_0040:
32073 00006D54 D603                26 I1          MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
32074 00006D56 6061                27 I1          MOV.W   @R6,R0                  ;
32075 00006D58 C907                28 I1          AND     #(BIT2+BIT1+BIT0),R0    ;
32076 00006D5A 8801                29 I1          CMP/EQ  #BIT0,R0                ;
32077 00006D5C 8904                30 I1          BT      BRKTST_POSCTL_0048              ;001
32078                              31 I1          M_BRA   BRKTST_POSCTL_0190              ;EXIT
32079 00006D5E A035                   M           BRA     BRKTST_POSCTL_0190
32080 00006D60 0009                   M           NOP
32081                              32 I1  ;       ==== 通常の位置決め起動コマンド状態
32082                                 I1  ***** BEGIN-POOL *****
32083 00006D62 0000                   I1  ALIGNMENT CODE
32084 00006D64 00000000               I1  DATA FOR SOURCE-LINE 26
32085                                 I1  ***** END-POOL *****
32086 00006D68                     33 I1  BRKTST_POSCTL_0048:
32087                              34 I1  
32088 00006D68 222A                35 I1          XOR     R2,R2
32089 00006D6A D11A                36 I1          MOV.L   #_INT_POS_STEP_FLG,R1   ;
32090 00006D6C 2121                37 I1          MOV.W   R2,@R1                  ;
32091 00006D6E D11A                38 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
32092 00006D70 2121                39 I1          MOV.W   R2,@R1
32093 00006D72 D11A                40 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
32094 00006D74 2121                41 I1          MOV.W   R2,@R1                  ;
32095 00006D76 D11A                42 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
32096 00006D78 2121                43 I1          MOV.W   R2,@R1                          ;
32097                              44 I1  
32098                              45 I1  ;       ------ ﾓｰｼｮﾝ運転 --------
32099 00006D7A D11A                46 I1          MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
32100 00006D7C 6411                47 I1          MOV.W   @R1,R4                  ;
32101 00006D7E D21A                48 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
32102 00006D80 2241                49 I1          MOV.W   R4,@R2                  ;
32103                              50 I1  
32104                              51 I1  
32105                              52 I1          FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
32106 00006D82 D01A                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32107 00006D84 400B                   M           JSR     @R0                     ;
32108 00006D86 0009                   M           NOP                                     ;
32109                              53 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
32110 00006D88 D019                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32111 00006D8A 400B                   M           JSR     @R0                     ;
32112 00006D8C 0009                   M           NOP                                     ;
32113                              54 I1  
32114                              55 I1  
32115                              56 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0
32116 00006D8E D019                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   470
PROGRAM NAME =

32117 00006D90 400B                   M           JSR     @R0                     ;
32118 00006D92 0009                   M           NOP                                     ;
32119                              57 I1          FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
32120 00006D94 D018                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32121 00006D96 400B                   M           JSR     @R0                     ;
32122 00006D98 0009                   M           NOP                                     ;
32123                              58 I1  
32124                              59 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
32125 00006D9A D018                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32126 00006D9C 400B                   M           JSR     @R0                     ;
32127 00006D9E 0009                   M           NOP                                     ;
32128                              60 I1  
32129                              61 I1  ;       == 2004-03 ===
32130                              62 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
32131 00006DA0 D017                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32132 00006DA2 400B                   M           JSR     @R0                     ;
32133 00006DA4 0009                   M           NOP                                     ;
32134 00006DA6 9013                63 I1          MOV.W   #D'2,R0                 ;
32135 00006DA8 D116                64 I1          MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
32136 00006DAA 2101                65 I1          MOV.W   R0,@R1                          ;
32137                              66 I1  
32138                              67 I1          FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
32139 00006DAC D016                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32140 00006DAE 400B                   M           JSR     @R0                     ;
32141 00006DB0 0009                   M           NOP                                     ;
32142                              68 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
32143 00006DB2 D116                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32144 00006DB4 410B                   M           JSR     @R1                     ;
32145 00006DB6 0009                   M           NOP                                     ;
32146                              69 I1  
32147                              70 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
32148 00006DB8 D115                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32149 00006DBA 6011                   M           MOV.W   @R1,R0          ;
32150 00006DBC CB01                   M           OR      #BIT0,R0                ;
32151 00006DBE 2101                   M           MOV.W   R0,@R1          ;
32152                              71 I1  
32153                              72 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
32154 00006DC0 D014                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32155 00006DC2 400B                   M           JSR     @R0                     ;
32156 00006DC4 0009                   M           NOP                                     ;
32157                              73 I1  
32158                              74 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0
32159 00006DC6 D014                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32160 00006DC8 400B                   M           JSR     @R0                     ;
32161 00006DCA 0009                   M           NOP                                     ;
32162                              75 I1  
32163 00006DCC                     76 I1  BRKTST_POSCTL_0190:
32164                              77 I1          M_BRA   BRKTST_POSCTL_0800                      ;
32165 00006DCC A054                   M           BRA     BRKTST_POSCTL_0800
32166 00006DCE 0009                   M           NOP
32167                              78 I1  
32168                              79 I1  ;       ===========================================
32169                              80 I1  ;       ===             起動中                  ===
32170                              81 I1  ;       ===========================================
32171                                 I1  ***** BEGIN-POOL *****
32172 00006DD0 0002                   I1  DATA FOR SOURCE-LINE 63
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   471
PROGRAM NAME =

32173 00006DD2 0000                   I1  ALIGNMENT CODE
32174 00006DD4 00000000               I1  DATA FOR SOURCE-LINE 36
32175 00006DD8 00000000               I1  DATA FOR SOURCE-LINE 38
32176 00006DDC 00000000               I1  DATA FOR SOURCE-LINE 40
32177 00006DE0 00000000               I1  DATA FOR SOURCE-LINE 42
32178 00006DE4 00000000               I1  DATA FOR SOURCE-LINE 46
32179 00006DE8 00000000               I1  DATA FOR SOURCE-LINE 48
32180 00006DEC 00000000               I1  DATA FOR SOURCE-LINE 52
32181 00006DF0 00000000               I1  DATA FOR SOURCE-LINE 53
32182 00006DF4 00000000               I1  DATA FOR SOURCE-LINE 56
32183 00006DF8 00000000               I1  DATA FOR SOURCE-LINE 57
32184 00006DFC 00000000               I1  DATA FOR SOURCE-LINE 59
32185 00006E00 00000000               I1  DATA FOR SOURCE-LINE 62
32186 00006E04 00000000               I1  DATA FOR SOURCE-LINE 64
32187 00006E08 00000000               I1  DATA FOR SOURCE-LINE 67
32188 00006E0C 00000000               I1  DATA FOR SOURCE-LINE 68
32189 00006E10 00000000               I1  DATA FOR SOURCE-LINE 70
32190 00006E14 00000000               I1  DATA FOR SOURCE-LINE 72
32191 00006E18 00000000               I1  DATA FOR SOURCE-LINE 74
32192                                 I1  ***** END-POOL *****
32193 00006E1C                     82 I1  BRKTST_POSCTL_0200:
32194 00006E1C D609                83 I1          MOV.L   #_MNWR_POS_CMD,R6                                               ;
32195 00006E1E 6061                84 I1          MOV.W   @R6,R0                                                          ;
32196 00006E20 8801                85 I1          CMP/EQ  #BIT0,R0                                                        ;
32197 00006E22 8919                86 I1          BT      BRKTST_POSCTL_0240                                              ;
32198                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
32199 00006E24 D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32200 00006E26 6011                   M           MOV.W   @R1,R0          ;
32201 00006E28 CB08                   M           OR      #BIT3,R0                ;
32202 00006E2A 2101                   M           MOV.W   R0,@R1          ;
32203                              88 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
32204 00006E2C D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32205 00006E2E 400B                   M           JSR     @R0                     ;
32206 00006E30 0009                   M           NOP                                     ;
32207                              89 I1          FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
32208 00006E32 D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32209 00006E34 400B                   M           JSR     @R0                     ;
32210 00006E36 0009                   M           NOP                                     ;
32211                              90 I1          FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
32212 00006E38 D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32213 00006E3A 400B                   M           JSR     @R0                     ;
32214 00006E3C 0009                   M           NOP                                     ;
32215                              91 I1          M_BRA   BRKTST_POSCTL_0800                                                      ;
32216 00006E3E A01B                   M           BRA     BRKTST_POSCTL_0800
32217 00006E40 0009                   M           NOP
32218                              92 I1  
32219                              93 I1  
32220                                 I1  ***** BEGIN-POOL *****
32221 00006E42 0000                   I1  ALIGNMENT CODE
32222 00006E44 00000000               I1  DATA FOR SOURCE-LINE 83
32223 00006E48 00000000               I1  DATA FOR SOURCE-LINE 87
32224 00006E4C 00000000               I1  DATA FOR SOURCE-LINE 88
32225 00006E50 00000000               I1  DATA FOR SOURCE-LINE 89
32226 00006E54 00000000               I1  DATA FOR SOURCE-LINE 90
32227                                 I1  ***** END-POOL *****
32228 00006E58                     94 I1  BRKTST_POSCTL_0240:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   472
PROGRAM NAME =

32229                              95 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
32230 00006E58 D009                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32231 00006E5A 400B                   M           JSR     @R0                     ;
32232 00006E5C 0009                   M           NOP                                     ;
32233                              96 I1  
32234                              97 I1  ;       === FLAG SET(REST-PLS REFLASH-END)====
32235                              98 I1          eSHi_SET_IM_MOV DST=_SH4_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
32236                                 M           PUSH_REG1 R1            ;
32237 00006E5E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
32238                                 M                                           ;REG=>[SP]
32239                                 M                                           ;"-4" FF,FF,FF,FC
32240                                 M           PUSH_REG1 R0            ;
32241 00006E60 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
32242                                 M                                           ;REG=>[SP]
32243                                 M                                           ;"-4" FF,FF,FF,FC
32244 00006E62 900C                   M           MOV.W   #1,R0           ;
32245 00006E64 D107                   M           MOV.L   #_SH4_REST_RL_HF,R1             ;
32246 00006E66 2101                   M           MOV.W   R0,@R1  ;
32247                                 M           POP_REG1 R0             ;
32248                                 M                                   ; RE"+4" 00,00,00,04
32249 00006E68 60F6                   M           MOV.L   @R15+,R0        ;
32250                                 M           POP_REG1 R1             ;
32251                                 M                                   ; RE"+4" 00,00,00,04
32252 00006E6A 61F6                   M           MOV.L   @R15+,R1        ;
32253                              99 I1  
32254                             100 I1  
32255                             101 I1  ;       === 2004-01-28===
32256                             102 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
32257 00006E6C D006                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32258 00006E6E 400B                   M           JSR     @R0                     ;
32259 00006E70 0009                   M           NOP                                     ;
32260                             103 I1          FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
32261 00006E72 D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32262 00006E74 400B                   M           JSR     @R0                     ;
32263 00006E76 0009                   M           NOP                                     ;
32264                             104 I1  
32265                             105 I1          .AIF 0  EQ 1    ;2006-09-19
32266                             106             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
32267                             107             .AENDI
32268                             108 I1  
32269                             109 I1  
32270 00006E78                    110 I1  BRKTST_POSCTL_0800:
32271                             111 I1  
32272                             112 I1          SUB_END
32273                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32274 00006E78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32275                             113 I1          M_RTS
32276 00006E7A 000B                   M           RTS                             ;RTSの後ろの
32277 00006E7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32278                             114 I1  
32279                             115 I1  ;       *******************************************
32280                             116 I1  ;       ***                                     ***
32281                             117 I1  ;       ***             目標位置作成            ***
32282                             118 I1  ;       ***                                     ***
32283                             119 I1  ;       *******************************************
32284                                 I1  ***** BEGIN-POOL *****
32285 00006E7E 0001                   I1  DATA FOR SOURCE-LINE 98
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   473
PROGRAM NAME =

32286 00006E80 00000000               I1  DATA FOR SOURCE-LINE 95
32287 00006E84 00000000               I1  DATA FOR SOURCE-LINE 98
32288 00006E88 00000000               I1  DATA FOR SOURCE-LINE 102
32289 00006E8C 00000000               I1  DATA FOR SOURCE-LINE 103
32290                                 I1  ***** END-POOL *****
32291 00006E90                    120 I1          .ALIGN  4                               ;
32292 00006E90                    121 I1  _BRKTST_POS_START:
32293                             122 I1          SUB_START
32294 00006E90 4F22                   M           STS.L   PR,@-R15                ;[必要]
32295                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32296                             123 I1  
32297                             124 I1  ;       ----------2014-11-10------------
32298 00006E92 200A               125 I1          XOR     R0,R0
32299 00006E94 D12C               126 I1          MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
32300 00006E96 2101               127 I1          MOV.W   R0,@R1                          ;
32301                             128 I1  ;       ----------------------------------
32302                             129 I1  
32303                             130 I1  
32304                             131 I1  ;       === 目標位置生成=========
32305                             132 I1          FAR_JSR #_BRKTST_OBJ_MAKE,R0
32306 00006E98 D02C                   M           MOV.L   #_BRKTST_OBJ_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32307 00006E9A 400B                   M           JSR     @R0                     ;
32308 00006E9C 0009                   M           NOP                                     ;
32309                             133 I1  
32310                             134 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
32311 00006E9E D02C                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32312 00006EA0 400B                   M           JSR     @R0                     ;
32313 00006EA2 0009                   M           NOP                                     ;
32314                             135 I1          FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
32315 00006EA4 D02B                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32316 00006EA6 400B                   M           JSR     @R0                     ;
32317 00006EA8 0009                   M           NOP                                     ;
32318                             136 I1  
32319                             137 I1          FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
32320 00006EAA D02B                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32321 00006EAC 400B                   M           JSR     @R0                     ;
32322 00006EAE 0009                   M           NOP                                     ;
32323                             138 I1          FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
32324 00006EB0 D02A                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32325 00006EB2 400B                   M           JSR     @R0                     ;
32326 00006EB4 0009                   M           NOP                                     ;
32327                             139 I1  
32328 00006EB6 222A               140 I1          XOR     R2,R2
32329 00006EB8 D129               141 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
32330 00006EBA 2121               142 I1          MOV.W   R2,@R1
32331 00006EBC D129               143 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
32332 00006EBE 2121               144 I1          MOV.W   R2,@R1
32333                             145 I1  
32334 00006EC0 200A               146 I1          XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
32335 00006EC2 D129               147 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32336 00006EC4 2101               148 I1          MOV.W   R0,@R1                          ;
32337                             149 I1  
32338                             150 I1  ;       === 2004-12-20 ===
32339 00006EC6 D129               151 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
32340 00006EC8 2101               152 I1          MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   474
PROGRAM NAME =

32341                             153 I1  
32342                             154 I1          FAR_JSR #_CNTREST_HOS_RESET,R1  ;
32343 00006ECA D129                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32344 00006ECC 410B                   M           JSR     @R1                     ;
32345 00006ECE 0009                   M           NOP                                     ;
32346                             155 I1  
32347                             156 I1  ;       === 2004-01-26 CCS===
32348 00006ED0 200A               157 I1          XOR     R0,R0
32349 00006ED2 D128               158 I1          MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
32350 00006ED4 2101               159 I1          MOV.W   R0,@R1                          ;
32351                             160 I1  
32352                             161 I1  
32353                             162 I1  ;       ====== 一旦停止信号OFF=====
32354                             163 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
32355 00006ED6 D128                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
32356 00006ED8 6011                   M           MOV.W   @R1,R0          ;
32357 00006EDA 9432                   M           MOV.W   #LWORD (~BIT9),R4       ;
32358 00006EDC 2049                   M           AND     R4,R0           ;
32359 00006EDE 2101                   M           MOV.W   R0,@R1          ;
32360                             164 I1  
32361                             165 I1          FAR_JSR #_CMPCYC_START_CLR,R0           ;
32362 00006EE0 D026                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32363 00006EE2 400B                   M           JSR     @R0                     ;
32364 00006EE4 0009                   M           NOP                                     ;
32365                             166 I1          FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
32366 00006EE6 D026                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32367 00006EE8 400B                   M           JSR     @R0                     ;
32368 00006EEA 0009                   M           NOP                                     ;
32369                             167 I1  
32370                             168 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
32371 00006EEC D025                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32372 00006EEE 400B                   M           JSR     @R0                     ;
32373 00006EF0 0009                   M           NOP                                     ;
32374                             169 I1  
32375                             170 I1          FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
32376 00006EF2 D025                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32377 00006EF4 400B                   M           JSR     @R0                     ;
32378 00006EF6 0009                   M           NOP                                     ;
32379                             171 I1          FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
32380 00006EF8 D024                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32381 00006EFA 400B                   M           JSR     @R0                     ;
32382 00006EFC 0009                   M           NOP                                     ;
32383                             172 I1  
32384                             173 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
32385 00006EFE D024                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32386 00006F00 400B                   M           JSR     @R0                     ;
32387 00006F02 0009                   M           NOP                                     ;
32388                             174 I1  
32389 00006F04 200A               175 I1          XOR     R0,R0                   ;
32390 00006F06 D123               176 I1          MOV.L   #_INT_CYC_DRV_STS,R1    ;
32391 00006F08 2101               177 I1          MOV.W   R0,@R1                  ;
32392 00006F0A D123               178 I1          MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
32393 00006F0C 2101               179 I1          MOV.W   R0,@R1                  ;
32394 00006F0E D123               180 I1          MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
32395 00006F10 2101               181 I1          MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   475
PROGRAM NAME =

32396 00006F12 D123               182 I1          MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
32397 00006F14 2101               183 I1          MOV.W   R0,@R1                  ;
32398                             184 I1  ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
32399                             185 I1  ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
32400                             186 I1  
32401                             187 I1  
32402                             188 I1  
32403                             189 I1  
32404 00006F16 D123               190 I1          MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
32405 00006F18 200A               191 I1          XOR     R0,R0                           ;
32406 00006F1A 2101               192 I1          MOV.W   R0,@R1                          ;
32407                             193 I1  
32408                             194 I1  
32409 00006F1C 9012               195 I1          MOV.W   #BIT0,R0                        ;起動
32410 00006F1E D122               196 I1          MOV.L   #_MNWR_POS_CMD,R1               ;
32411 00006F20 2101               197 I1          MOV.W   R0,@R1                          ;
32412                             198 I1  
32413                             199 I1  ;       --------2009-04-01 起動したらフラグクリア[原点時の]
32414                             200 I1          MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
32415 00006F22 D422                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
32416 00006F24 6041                   M           MOV.W   @R4,R0          ;
32417 00006F26 910E                   M           MOV.W   #LWORD (~BIT5),R1       ;
32418 00006F28 2019                   M           AND     R1,R0           ;
32419 00006F2A 2401                   M           MOV.W   R0,@R4          ;
32420                             201 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
32421 00006F2C D420                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
32422 00006F2E 6041                   M           MOV.W   @R4,R0          ;
32423 00006F30 9109                   M           MOV.W   #LWORD (~BIT5),R1       ;
32424 00006F32 2019                   M           AND     R1,R0           ;
32425 00006F34 2401                   M           MOV.W   R0,@R4          ;
32426                             202 I1  
32427                             203 I1  ;       ------- 起動------------
32428 00006F36 9005               204 I1          MOV.W   #BIT0,R0                ;
32429 00006F38 D11E               205 I1          MOV.L   #_BRKTST_STR_FLG,R1     ;
32430 00006F3A 2101               206 I1          MOV.W   R0,@R1                  ;
32431                             207 I1  
32432                             208 I1          SUB_END
32433                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32434 00006F3C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32435                             209 I1          M_RTS
32436 00006F3E 000B                   M           RTS                             ;RTSの後ろの
32437 00006F40 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32438                             210 I1  
32439                             211 I1  
32440                                 I1  ***** BEGIN-POOL *****
32441 00006F42 FDFF                   I1  DATA FOR SOURCE-LINE 163
32442 00006F44 0001                   I1  DATA FOR SOURCE-LINE 195,204
32443 00006F46 FFDF                   I1  DATA FOR SOURCE-LINE 200,201
32444 00006F48 00000000               I1  DATA FOR SOURCE-LINE 126
32445 00006F4C 00000000               I1  DATA FOR SOURCE-LINE 132
32446 00006F50 00000000               I1  DATA FOR SOURCE-LINE 134
32447 00006F54 00000000               I1  DATA FOR SOURCE-LINE 135
32448 00006F58 00000000               I1  DATA FOR SOURCE-LINE 137
32449 00006F5C 00000000               I1  DATA FOR SOURCE-LINE 138
32450 00006F60 00000000               I1  DATA FOR SOURCE-LINE 141
32451 00006F64 00000000               I1  DATA FOR SOURCE-LINE 143
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   476
PROGRAM NAME =

32452 00006F68 00000000               I1  DATA FOR SOURCE-LINE 147
32453 00006F6C 00000000               I1  DATA FOR SOURCE-LINE 151
32454 00006F70 00000000               I1  DATA FOR SOURCE-LINE 154
32455 00006F74 00000000               I1  DATA FOR SOURCE-LINE 158
32456 00006F78 00000000               I1  DATA FOR SOURCE-LINE 163
32457 00006F7C 00000000               I1  DATA FOR SOURCE-LINE 165
32458 00006F80 00000000               I1  DATA FOR SOURCE-LINE 166
32459 00006F84 00000000               I1  DATA FOR SOURCE-LINE 168
32460 00006F88 00000000               I1  DATA FOR SOURCE-LINE 170
32461 00006F8C 00000000               I1  DATA FOR SOURCE-LINE 171
32462 00006F90 00000000               I1  DATA FOR SOURCE-LINE 173
32463 00006F94 00000000               I1  DATA FOR SOURCE-LINE 176
32464 00006F98 00000000               I1  DATA FOR SOURCE-LINE 178
32465 00006F9C 00000000               I1  DATA FOR SOURCE-LINE 180
32466 00006FA0 00000000               I1  DATA FOR SOURCE-LINE 182
32467 00006FA4 00000000               I1  DATA FOR SOURCE-LINE 190
32468 00006FA8 00000000               I1  DATA FOR SOURCE-LINE 196
32469 00006FAC 00000000               I1  DATA FOR SOURCE-LINE 200
32470 00006FB0 00000000               I1  DATA FOR SOURCE-LINE 201
32471 00006FB4 00000000               I1  DATA FOR SOURCE-LINE 205
32472                                 I1  ***** END-POOL *****
32473 00006FB8                    212 I1          .ALIGN  4                               ;
32474 00006FB8                    213 I1  _BRKTST_OBJ_MAKE
32475                             214 I1          SUB_START
32476 00006FB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
32477                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32478                             215 I1  ;       --------------------------------------------
32479 00006FBA D024               216 I1          MOV.L   #_CTL_ENC360,R0                         ;//360.0度(いまのところ不要)
32480 00006FBC 6101               217 I1          MOV.W   @R0,R1                                  ;
32481 00006FBE D424               218 I1          MOV.L   #_STR_ENC3600_DIG,R4                    ;//運転開始時の360.0角度
32482 00006FC0 2411               219 I1          MOV.W   R1,@R4                                  ;
32483                             220 I1  
32484                             221 I1  ;       -----------------------------------------
32485 00006FC2 D424               222 I1          MOV.L   #_LINK_PV_ABSPLS,R4                     ;
32486 00006FC4 6146               223 I1          MOV.L   @R4+,R1                                 ;
32487 00006FC6 6242               224 I1          MOV.L   @R4,R2                                  ;
32488 00006FC8 D423               225 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
32489 00006FCA 1410               226 I1          MOV.L   R1,@(0,R4)                              ;
32490 00006FCC 1421               227 I1          MOV.L   R2,@(4,R4)                              ;
32491                             228 I1  
32492                             229 I1  ;       ---------- 目標位置設定------
32493 00006FCE D423               230 I1          MOV.L   #_LINK_1ROT_PLS,R4                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
32494 00006FD0 6642               231 I1          MOV.L   @R4,R6                                  ;
32495 00006FD2 255A               232 I1          XOR     R5,R5                                   ;
32496                             233 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
                                          R2
32497 00006FD4 0008                   M           CLRT
32498 00006FD6 326E                   M           ADDC    R6,R2
32499 00006FD8 315E                   M           ADDC    R5,R1
32500                             234 I1  
32501 00006FDA D421               235 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
32502 00006FDC 2412               236 I1          MOV.L   R1,@R4                          ;
32503 00006FDE 1421               237 I1          MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
32504                             238 I1  
32505                             239 I1  
32506                             240 I1  ;       ---------- 方向------
32507 00006FE0 200A               241 I1          XOR     R0,R0                           ;BIT0=0:正
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   477
PROGRAM NAME =

32508 00006FE2 D120               242 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
32509 00006FE4 2101               243 I1          MOV.W   R0,@R1
32510                             244 I1  
32511                             245 I1  
32512                             246 I1  ;       ---------- 目標位置設定------
32513                             247 I1  ;;;;;2011-09-14 MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
32514                             248 I1  ;;;;;2011-09-14 MOV.W   @R1,R0
32515                             249 I1  ;;;;;2011-09-14 FAR_JSR #_LINK_P_M_MAX,R4               ;Input R0:BIT0 DIRECT
32516                             250 I1                                                  ;_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止
                                          目標位置(設定ﾊﾞｯｸﾗｯｼなし)
32517                             251 I1  
32518                             252 I1  
32519                             253 I1  
32520                             254 I1  
32521                             255 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
32522 00006FE6 D020                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32523 00006FE8 400B                   M           JSR     @R0                     ;
32524 00006FEA 0009                   M           NOP                                     ;
32525                             256 I1  
32526                             257 I1  ;       ---------- SPEED SET---------------
32527                             258 I1  ;;      MOV.L   #_FREQ_PLSI_MAX_FRQ,R1  ;
32528                             259 I1  ;;;     MOV.L   #_LINK_MAX_SPD_PLS,R1
32529                             260 I1  
32530 00006FEC D11F               261 I1          MOV.L   #_BRKTST_OUTSPD_PLS,R1  ;
32531 00006FEE 6212               262 I1          MOV.L   @R1,R2                  ;
32532 00006FF0 D11F               263 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
32533 00006FF2 2122               264 I1          MOV.L   R2,@R1                  ;
32534                             265 I1  
32535                             266 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0      ;input R2
32536 00006FF4 D01F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32537 00006FF6 400B                   M           JSR     @R0                     ;
32538 00006FF8 0009                   M           NOP                                     ;
32539                             267 I1  
32540                             268 I1  
32541                             269 I1  
32542                             270 I1  
32543                             271 I1  ;       -------------------ｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀMAX-----------
32544 00006FFA 9226               272 I1          MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
32545                             273 I1          REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
32546 00006FFC D11E                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
32547 00006FFE 2121                   M           MOV.W   R2,@R1  ;DST_ADR
32548                             274 I1          REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
32549 00007000 D11E                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
32550 00007002 2121                   M           MOV.W   R2,@R1  ;DST_ADR
32551                             275 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
32552 00007004 D41E                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
32553 00007006 6041                   M           MOV.W   @R4,R0          ;
32554 00007008 C9FD                   M           AND     #LOW ~BIT1,R0           ;
32555 0000700A 2401                   M           MOV.W   R0,@R4          ;
32556                             276 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
32557 0000700C D41C                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
32558 0000700E 6041                   M           MOV.W   @R4,R0          ;
32559 00007010 C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
32560 00007012 2401                   M           MOV.W   R0,@R4          ;
32561                             277 I1  
32562                             278 I1          FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
32563 00007014 D01B                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   478
PROGRAM NAME =

32564 00007016 400B                   M           JSR     @R0                     ;
32565 00007018 0009                   M           NOP                                     ;
32566                             279 I1          FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
32567 0000701A D01B                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32568 0000701C 400B                   M           JSR     @R0                     ;
32569 0000701E 0009                   M           NOP                                     ;
32570                             280 I1  
32571                             281 I1  ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
32572                             282 I1          FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
32573 00007020 D01A                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32574 00007022 400B                   M           JSR     @R0                     ;
32575 00007024 0009                   M           NOP                                     ;
32576                             283 I1          FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
32577 00007026 D01A                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32578 00007028 400B                   M           JSR     @R0                     ;
32579 0000702A 0009                   M           NOP                                     ;
32580                             284 I1  
32581                             285 I1  
32582                             286 I1  ;       ------------------2011-09-14----------停止位置-----
32583 0000702C D40A               287 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
32584 0000702E 5140               288 I1          MOV.L   @(0,R4),R1
32585 00007030 5241               289 I1          MOV.L   @(4,R4),R2
32586                             290 I1  
32587 00007032 D418               291 I1          MOV.L   #_WPARX_BRKTST_STPLNG,R4                ;//相対ﾊﾟﾙｽ
32588 00007034 6642               292 I1          MOV.L   @R4,R6                                  ;
32589 00007036 255A               293 I1          XOR     R5,R5                                   ;
32590                             294 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
                                          R2
32591 00007038 0008                   M           CLRT
32592 0000703A 326E                   M           ADDC    R6,R2
32593 0000703C 315E                   M           ADDC    R5,R1
32594                             295 I1  
32595 0000703E D416               296 I1          MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
32596 00007040 2412               297 I1          MOV.L   R1,@R4                                                  ;
32597 00007042 1421               298 I1          MOV.L   R2,@(1*4,R4)                                            ;
32598                             299 I1  
32599                             300 I1  
32600                             301 I1          SUB_END
32601                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32602 00007044 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32603                             302 I1          M_RTS
32604 00007046 000B                   M           RTS                             ;RTSの後ろの
32605 00007048 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32606                             303 I1  
32607                           10602     
32608                           10603     
32609                           10604     ;       *******************************************
32610                           10605     ;       ***                                     ***
32611                           10606     ;       ***                                     ***
32612                           10607     ;       ***                                     ***
32613                           10608     ;       ***     ポジショナ- CPUA                ***
32614                           10609     ;       ***                                     ***
32615                           10610     ;       ***                                     ***
32616                           10611     ;       *******************************************
32617                                     ***** BEGIN-POOL *****
32618 0000704A 0064                       DATA FOR SOURCE-LINE 272
32619 0000704C 00000000                   DATA FOR SOURCE-LINE 216
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   479
PROGRAM NAME =

32620 00007050 00000000                   DATA FOR SOURCE-LINE 218
32621 00007054 00000000                   DATA FOR SOURCE-LINE 222
32622 00007058 00000000                   DATA FOR SOURCE-LINE 225,287
32623 0000705C 00000000                   DATA FOR SOURCE-LINE 230
32624 00007060 00000000                   DATA FOR SOURCE-LINE 235
32625 00007064 00000000                   DATA FOR SOURCE-LINE 242
32626 00007068 00000000                   DATA FOR SOURCE-LINE 255
32627 0000706C 00000000                   DATA FOR SOURCE-LINE 261
32628 00007070 00000000                   DATA FOR SOURCE-LINE 263
32629 00007074 00000000                   DATA FOR SOURCE-LINE 266
32630 00007078 00000000                   DATA FOR SOURCE-LINE 273
32631 0000707C 00000000                   DATA FOR SOURCE-LINE 274
32632 00007080 00000000                   DATA FOR SOURCE-LINE 275,276
32633 00007084 00000000                   DATA FOR SOURCE-LINE 278
32634 00007088 00000000                   DATA FOR SOURCE-LINE 279
32635 0000708C 00000000                   DATA FOR SOURCE-LINE 282
32636 00007090 00000000                   DATA FOR SOURCE-LINE 283
32637 00007094 00000000                   DATA FOR SOURCE-LINE 291
32638 00007098 00000000                   DATA FOR SOURCE-LINE 296
32639                                     ***** END-POOL *****
32640 0000709C                  10612             .ALIGN  4                                       ;
32641                           10613             .INCLUDE        "ssa_cop1pos.inc"               ; //
32642                               1 I1  ;       ***********************************
32643                               2 I1  ;       ***                             ***
32644                               3 I1  ;       ***     ﾎﾟｼﾞｼｮﾅ動作             ***
32645                               4 I1  ;       ***                             ***
32646                               5 I1  ;       ***********************************
32647                               6 I1  ;       cpuaだけ
32648                               7 I1  ;
32649                               8 I1  ;       @"自動ﾀﾞｲﾊｲﾄｽﾀｰﾄ":手動ﾀﾞｲﾊｲﾄと同一演算にてﾀﾞｲﾊｲﾄ位置を表示する
32650                               9 I1  ;       A位置比較
32651                              10 I1  ;
32652                              11 I1  ;       341.9
32653                              12 I1          .IMPORT         _SVP_ATSLID_OBJ1        ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
32654                              13 I1          .IMPORT         _SVP_ATSLID_DNOBJ1      ; スライド自動調節　下降停止 0~99
32655                              14 I1          .IMPORT         _SVP_ATSLID_UPOBJ1      ; スライド自動調節　上昇停止 "
32656                              15 I1          .IMPORT         _SVP_ATSLID_BAKLNG      ; スライド自動調節　戻り量   "
32657                              16 I1          .IMPORT         _SVP_ATSLID_COEF1       ; スライド自動調節　制御精度 "
32658                              17 I1          .IMPORT         _SVP_SLPOS_DIR          ;位置決め方向 0(上昇)/1(下降)
32659                              18 I1          .IMPORT         _SVP_SL_TENPOS          ;小数点
32660                              19 I1  
32661                              20 I1  
32662                              21 I1          .EXPORT _POSITIONER_DAIHAITO
32663 0000709C                     22 I1  _POSITIONER_DAIHAITO
32664                              23 I1          SUB_START
32665 0000709C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32666                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32667                              24 I1  
32668 0000709E D506                25 I1          MOV.L   #_POSINER_FLG,R5                ;
32669 000070A0 6051                26 I1          MOV.W   @R5,R0                          ;
32670 000070A2 2008                27 I1          TST     R0,R0                           ;
32671                              28 I1          TST_BIT_ON POSITIONER_DAICTL_100        ;
32672 000070A4 8B26                   M           BF      POSITIONER_DAICTL_100
32673                              29 I1  
32674 000070A6 D105                30 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
32675 000070A8 6011                31 I1          MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   480
PROGRAM NAME =

32676 000070AA 9403                32 I1          MOV.W   #BIT9,R4                        ;
32677 000070AC 2048                33 I1          TST     R4,R0                           ;
32678                              34 I1          TST_BIT_ON POSITIONER_DAICTL_020        ;
32679 000070AE 8B07                   M           BF      POSITIONER_DAICTL_020
32680                              35 I1          M_BRA   POSITIONER_DAICTL_EXT           ;
32681 000070B0 A0E1                   M           BRA     POSITIONER_DAICTL_EXT
32682 000070B2 0009                   M           NOP
32683                              36 I1  
32684                              37 I1  ;       -------------- 起動-----------------
32685                                 I1  ***** BEGIN-POOL *****
32686 000070B4 0200                   I1  DATA FOR SOURCE-LINE 32
32687 000070B6 0000                   I1  ALIGNMENT CODE
32688 000070B8 00000000               I1  DATA FOR SOURCE-LINE 25
32689 000070BC 00000000               I1  DATA FOR SOURCE-LINE 30
32690                                 I1  ***** END-POOL *****
32691 000070C0                     38 I1  POSITIONER_DAICTL_020
32692 000070C0 E001                39 I1          MOV.B   #BIT0,R0                        ;
32693 000070C2 2501                40 I1          MOV.W   R0,@R5                          ;FLG.0=1
32694                              41 I1  
32695                              42 I1  ;       ------------------------------------
32696 000070C4 200A                43 I1          XOR     R0,R0                           ;
32697 000070C6 D107                44 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
32698 000070C8 2101                45 I1          MOV.W   R0,@R1                          ;
32699                              46 I1  
32700                              47 I1  
32701 000070CA E002                48 I1          MOV.B   #BIT1,R0                        ;上昇からの+位置決め中
32702 000070CC D106                49 I1          MOV.L   #_SVP_SLPOS_DIR,R1              ;位置決め方向
32703 000070CE 6411                50 I1          MOV.W   @R1,R4                          ;
32704 000070D0 2448                51 I1          TST     R4,R4                           ;
32705                              52 I1          TST_BIT_OF POSITIONER_DAICTL_040        ;
32706 000070D2 8900                   M           BT      POSITIONER_DAICTL_040
32707 000070D4 E042                53 I1          MOV.B   #BIT6+BIT1,R0                   ;下降からの+位置決め中
32708 000070D6                     54 I1  POSITIONER_DAICTL_040:
32709 000070D6 D105                55 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
32710 000070D8 2101                56 I1          MOV.W   R0,@R1                          ;
32711                              57 I1          FAR_JSR #_POSITIONER_DAI_DATA,R0
32712 000070DA D005                   M           MOV.L   #_POSITIONER_DAI_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32713 000070DC 400B                   M           JSR     @R0                     ;
32714 000070DE 0009                   M           NOP                                     ;
32715                              58 I1          M_BRA   POSITIONER_DAICTL_800
32716 000070E0 A0BE                   M           BRA     POSITIONER_DAICTL_800
32717 000070E2 0009                   M           NOP
32718                              59 I1  
32719                              60 I1  
32720                              61 I1  
32721                              62 I1  ;       ----------------------------------------------
32722                                 I1  ***** BEGIN-POOL *****
32723 000070E4 00000000               I1  DATA FOR SOURCE-LINE 44
32724 000070E8 00000000               I1  DATA FOR SOURCE-LINE 49
32725 000070EC 00000000               I1  DATA FOR SOURCE-LINE 55
32726 000070F0 00000000               I1  DATA FOR SOURCE-LINE 57
32727                                 I1  ***** END-POOL *****
32728 000070F4                     63 I1  POSITIONER_DAICTL_100
32729                              64 I1  
32730 000070F4 D108                65 I1          MOV.L   #_PVX_DAI_POS1,R1               ;ﾀﾞｲﾊｲﾄ表示値・制御値
32731 000070F6 6212                66 I1          MOV.L   @R1,R2                          ;SAVE R2 -->NEXT CALC USED
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   481
PROGRAM NAME =

32732 000070F8 D108                67 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
32733 000070FA 2122                68 I1          MOV.L   R2,@R1                          ;
32734                              69 I1  
32735 000070FC D108                70 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
32736 000070FE 6211                71 I1          MOV.W   @R1,R2                          ;
32737 00007100 9408                72 I1          MOV.W   #BIT9,R4                        ;
32738 00007102 2248                73 I1          TST     R4,R2                           ;
32739                              74 I1          TST_BIT_ON POSITIONER_DAICTL_200        ;
32740 00007104 8B12                   M           BF      POSITIONER_DAICTL_200
32741                              75 I1  
32742                              76 I1  ;       --------------- 指令OFF 終了---------------
32743 00007106 200A                77 I1          XOR     R0,R0                           ;
32744 00007108 D506                78 I1          MOV.L   #_POSINER_FLG,R5                ;
32745 0000710A 2501                79 I1          MOV.W   R0,@R5                          ;
32746 0000710C D106                80 I1          MOV.L   #_POSINER_STS,R1                ;
32747 0000710E 2101                81 I1          MOV.W   R0,@R1                          ;
32748                              82 I1          M_BRA   POSITIONER_DAICTL_800
32749 00007110 A0A6                   M           BRA     POSITIONER_DAICTL_800
32750 00007112 0009                   M           NOP
32751                              83 I1  
32752                              84 I1  ;       -------------- 運転--------------------
32753                                 I1  ***** BEGIN-POOL *****
32754 00007114 0200                   I1  DATA FOR SOURCE-LINE 72
32755 00007116 0000                   I1  ALIGNMENT CODE
32756 00007118 00000000               I1  DATA FOR SOURCE-LINE 65
32757 0000711C 00000000               I1  DATA FOR SOURCE-LINE 67
32758 00007120 00000000               I1  DATA FOR SOURCE-LINE 70
32759 00007124 00000000               I1  DATA FOR SOURCE-LINE 78
32760 00007128 00000000               I1  DATA FOR SOURCE-LINE 80
32761                                 I1  ***** END-POOL *****
32762 0000712C                     85 I1  POSITIONER_DAICTL_200
32763 0000712C D506                86 I1          MOV.L   #_POSINER_FLG,R5                ;
32764 0000712E 6051                87 I1          MOV.W   @R5,R0                          ;
32765 00007130 C802                88 I1          TST     #BIT1,R0                        ;
32766                              89 I1          TST_BIT_ON POSITIONER_DAICTL_300        ;
32767 00007132 8B0D                   M           BF      POSITIONER_DAICTL_300
32768                              90 I1  
32769                              91 I1  ;       ------- 初期演算--------
32770                              92 I1          FAR_JSR #_POSITIONER_DAI_OBJ1MAK,R0                             ;
32771 00007134 D005                   M           MOV.L   #_POSITIONER_DAI_OBJ1MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32772 00007136 400B                   M           JSR     @R0                     ;
32773 00007138 0009                   M           NOP                                     ;
32774                              93 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT1,WKREG=R1 ;
32775 0000713A D103                   M           MOV.L   #_POSINER_FLG,R1                ;
32776 0000713C 6011                   M           MOV.W   @R1,R0          ;
32777 0000713E CB02                   M           OR      #BIT1,R0                ;
32778 00007140 2101                   M           MOV.W   R0,@R1          ;
32779                              94 I1          M_BRA   POSITIONER_DAICTL_800
32780 00007142 A08D                   M           BRA     POSITIONER_DAICTL_800
32781 00007144 0009                   M           NOP
32782                              95 I1  
32783                              96 I1  ;       ----------------------------------------
32784                                 I1  ***** BEGIN-POOL *****
32785 00007146 0000                   I1  ALIGNMENT CODE
32786 00007148 00000000               I1  DATA FOR SOURCE-LINE 86,93
32787 0000714C 00000000               I1  DATA FOR SOURCE-LINE 92
32788                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   482
PROGRAM NAME =

32789 00007150                     97 I1  POSITIONER_DAICTL_300
32790 00007150 C804                98 I1          TST     #BIT2,R0                        ;
32791                              99 I1          TST_BIT_ON POSITIONER_DAICTL_400        ;
32792 00007152 8B15                   M           BF      POSITIONER_DAICTL_400
32793                             100 I1  
32794                             101 I1          FAR_JSR #_POSITIONER_DAI_OBJ1CMP,R0     ;//目標位置+ｵｰﾊﾞ量
32795 00007154 D007                   M           MOV.L   #_POSITIONER_DAI_OBJ1CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32796 00007156 400B                   M           JSR     @R0                     ;
32797 00007158 0009                   M           NOP                                     ;
32798                             102 I1          PUSH_REG1 R0                            ;
32799 0000715A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
32800                                 M                                           ;REG=>[SP]
32801                                 M                                           ;"-4" FF,FF,FF,FC
32802                             103 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
32803 0000715C D106                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32804 0000715E 410B                   M           JSR     @R1                     ;
32805 00007160 0009                   M           NOP                                     ;
32806                             104 I1          POP_REG1 R0
32807                                 M                                   ; RE"+4" 00,00,00,04
32808 00007162 60F6                   M           MOV.L   @R15+,R0        ;
32809 00007164 2008               105 I1          TST     R0,R0
32810                             106 I1          TST_BIT_ON POSITIONER_DAICTL_350
32811 00007166 8B03                   M           BF      POSITIONER_DAICTL_350
32812                             107 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT2,WKREG=R1 ;
32813 00007168 D104                   M           MOV.L   #_POSINER_FLG,R1                ;
32814 0000716A 6011                   M           MOV.W   @R1,R0          ;
32815 0000716C CB04                   M           OR      #BIT2,R0                ;
32816 0000716E 2101                   M           MOV.W   R0,@R1          ;
32817 00007170                    108 I1  POSITIONER_DAICTL_350
32818                             109 I1          M_BRA   POSITIONER_DAICTL_800
32819 00007170 A076                   M           BRA     POSITIONER_DAICTL_800
32820 00007172 0009                   M           NOP
32821                             110 I1  
32822                             111 I1  
32823                             112 I1  ;       ----------------------------------------
32824                                 I1  ***** BEGIN-POOL *****
32825 00007174 00000000               I1  DATA FOR SOURCE-LINE 101
32826 00007178 00000000               I1  DATA FOR SOURCE-LINE 103
32827 0000717C 00000000               I1  DATA FOR SOURCE-LINE 107
32828                                 I1  ***** END-POOL *****
32829 00007180                    113 I1  POSITIONER_DAICTL_400
32830 00007180 C808               114 I1          TST     #BIT3,R0                        ;
32831                             115 I1          TST_BIT_ON POSITIONER_DAICTL_500        ;
32832 00007182 8B2B                   M           BF      POSITIONER_DAICTL_500
32833                             116 I1          FAR_JSR #_POSITIONER_DAI_OBJ2CMP,R0     ;//目標位置+ｵｰﾊﾞ量-すべり
32834 00007184 D00D                   M           MOV.L   #_POSITIONER_DAI_OBJ2CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32835 00007186 400B                   M           JSR     @R0                     ;
32836 00007188 0009                   M           NOP                                     ;
32837                             117 I1          PUSH_REG1 R0                            ;
32838 0000718A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
32839                                 M                                           ;REG=>[SP]
32840                                 M                                           ;"-4" FF,FF,FF,FC
32841                             118 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
32842 0000718C D10C                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32843 0000718E 410B                   M           JSR     @R1                     ;
32844 00007190 0009                   M           NOP                                     ;
32845                             119 I1          POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   483
PROGRAM NAME =

32846                                 M                                   ; RE"+4" 00,00,00,04
32847 00007192 60F6                   M           MOV.L   @R15+,R0        ;
32848 00007194 2008               120 I1          TST     R0,R0
32849                             121 I1          TST_BIT_ON POSITIONER_DAICTL_450
32850 00007196 8B0E                   M           BF      POSITIONER_DAICTL_450
32851                             122 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
32852 00007198 D10A                   M           MOV.L   #_POSINER_FLG,R1                ;
32853 0000719A 6011                   M           MOV.W   @R1,R0          ;
32854 0000719C CB08                   M           OR      #BIT3,R0                ;
32855 0000719E 2101                   M           MOV.W   R0,@R1          ;
32856                             123 I1  
32857                             124 I1  
32858 000071A0 D109               125 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
32859 000071A2 920A               126 I1          MOV.W   #D'1000,R2              ;
32860 000071A4 2121               127 I1          MOV.W   R2,@R1                  ;
32861 000071A6 D109               128 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1;//1000 1秒
32862 000071A8 2121               129 I1          MOV.W   R2,@R1                  ;
32863                             130 I1  
32864                             131 I1  
32865 000071AA D109               132 I1          MOV.L   #_POSINER_PV_POS,R1     ;
32866 000071AC 6212               133 I1          MOV.L   @R1,R2                  ;
32867 000071AE D109               134 I1          MOV.L   #_POSINER_OLDPV_POS,R1  ;
32868 000071B0 2122               135 I1          MOV.L   R2,@R1                  ;
32869 000071B2 D109               136 I1          MOV.L   #_POSINER_MOSTPV_POS,R1 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
32870 000071B4 2122               137 I1          MOV.L   R2,@R1                  ;
32871                             138 I1  
32872 000071B6                    139 I1  POSITIONER_DAICTL_450
32873                             140 I1          M_BRA   POSITIONER_DAICTL_800
32874 000071B6 A053                   M           BRA     POSITIONER_DAICTL_800
32875 000071B8 0009                   M           NOP
32876                             141 I1  
32877                             142 I1  
32878                             143 I1  ;       -------------- 停止待ち------------------
32879                                 I1  ***** BEGIN-POOL *****
32880 000071BA 03E8                   I1  DATA FOR SOURCE-LINE 126
32881 000071BC 00000000               I1  DATA FOR SOURCE-LINE 116
32882 000071C0 00000000               I1  DATA FOR SOURCE-LINE 118
32883 000071C4 00000000               I1  DATA FOR SOURCE-LINE 122
32884 000071C8 00000000               I1  DATA FOR SOURCE-LINE 125
32885 000071CC 00000000               I1  DATA FOR SOURCE-LINE 128
32886 000071D0 00000000               I1  DATA FOR SOURCE-LINE 132
32887 000071D4 00000000               I1  DATA FOR SOURCE-LINE 134
32888 000071D8 00000000               I1  DATA FOR SOURCE-LINE 136
32889                                 I1  ***** END-POOL *****
32890 000071DC                    144 I1  POSITIONER_DAICTL_500
32891 000071DC C810               145 I1          TST     #BIT4,R0                        ;
32892                             146 I1          TST_BIT_ON POSITIONER_DAICTL_800        ;
32893 000071DE 8B3F                   M           BF      POSITIONER_DAICTL_800
32894                             147 I1  
32895                             148 I1          FAR_JSR #_POSITIONER_DAI_STPCHK,R1      ;
32896 000071E0 D10A                   M           MOV.L   #_POSITIONER_DAI_STPCHK,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32897 000071E2 410B                   M           JSR     @R1                     ;
32898 000071E4 0009                   M           NOP                                     ;
32899 000071E6 2008               149 I1          TST     R0,R0                           ;
32900                             150 I1          TST_BIT_OF POSITIONER_DAICTL_590        ;"R0=1 END R0=-1 END(失敗)
32901 000071E8 8935                   M           BT      POSITIONER_DAICTL_590
32902                             151 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   484
PROGRAM NAME =

32903 000071EA 8801               152 I1          CMP/EQ  #1,R0                           ;
32904 000071EC 8B14               153 I1          BF      POSITIONER_DAICTL_530           ;
32905                             154 I1  
32906                             155 I1  ;       正常終了
32907                             156 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
32908 000071EE D108                   M           MOV.L   #_POSINER_FLG,R1                ;
32909 000071F0 6011                   M           MOV.W   @R1,R0          ;
32910 000071F2 CB10                   M           OR      #BIT4,R0                ;
32911 000071F4 2101                   M           MOV.W   R0,@R1          ;
32912                             157 I1  
32913                             158 I1  ;       位置決め完了ON
32914                             159 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
32915                             160 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
32916 000071F6 D107                   M           MOV.L   #_POSINER_STS,R1                ;
32917 000071F8 6011                   M           MOV.W   @R1,R0          ;
32918 000071FA C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
32919 000071FC 2101                   M           MOV.W   R0,@R1          ;
32920                             161 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT0,WKREG=R1 ;
32921 000071FE D105                   M           MOV.L   #_POSINER_STS,R1                ;
32922 00007200 6011                   M           MOV.W   @R1,R0          ;
32923 00007202 CB01                   M           OR      #BIT0,R0                ;
32924 00007204 2101                   M           MOV.W   R0,@R1          ;
32925                             162 I1          M_BRA   POSITIONER_DAICTL_800
32926 00007206 A02B                   M           BRA     POSITIONER_DAICTL_800
32927 00007208 0009                   M           NOP
32928                             163 I1  
32929                             164 I1  
32930                                 I1  ***** BEGIN-POOL *****
32931 0000720A 0000                   I1  ALIGNMENT CODE
32932 0000720C 00000000               I1  DATA FOR SOURCE-LINE 148
32933 00007210 00000000               I1  DATA FOR SOURCE-LINE 156
32934 00007214 00000000               I1  DATA FOR SOURCE-LINE 160,161
32935                                 I1  ***** END-POOL *****
32936 00007218                    165 I1  POSITIONER_DAICTL_530
32937                             166 I1  ;       異常終了
32938 00007218 D10A               167 I1          MOV.L   #_POSINER_RETRY_CNT,R1
32939 0000721A 6211               168 I1          MOV.W   @R1,R2
32940 0000721C 7201               169 I1          ADD     #1,R2
32941 0000721E 2121               170 I1          MOV.W   R2,@R1
32942 00007220 E403               171 I1          MOV.B   #3,R4
32943 00007222 3422               172 I1          CMP/HS  R2,R4                   ;
32944 00007224 8914               173 I1          BT      POSITIONER_DAICTL_550   ;R2=<R4(3) ﾘﾄﾗｲ(通常+ﾘﾄﾗｲ3回=4回までやる)
32945                             174 I1  
32946                             175 I1  ;       異常終了
32947                             176 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
32948 00007226 D108                   M           MOV.L   #_POSINER_FLG,R1                ;
32949 00007228 6011                   M           MOV.W   @R1,R0          ;
32950 0000722A CB10                   M           OR      #BIT4,R0                ;
32951 0000722C 2101                   M           MOV.W   R0,@R1          ;
32952                             177 I1  ;       異常完了ON
32953                             178 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
32954                             179 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
32955 0000722E D107                   M           MOV.L   #_POSINER_STS,R1                ;
32956 00007230 6011                   M           MOV.W   @R1,R0          ;
32957 00007232 C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
32958 00007234 2101                   M           MOV.W   R0,@R1          ;
32959                             180 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT2,WKREG=R1 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   485
PROGRAM NAME =

32960 00007236 D105                   M           MOV.L   #_POSINER_STS,R1                ;
32961 00007238 6011                   M           MOV.W   @R1,R0          ;
32962 0000723A CB04                   M           OR      #BIT2,R0                ;
32963 0000723C 2101                   M           MOV.W   R0,@R1          ;
32964                             181 I1          M_BRA   POSITIONER_DAICTL_800
32965 0000723E A00F                   M           BRA     POSITIONER_DAICTL_800
32966 00007240 0009                   M           NOP
32967                             182 I1  
32968                             183 I1  ;       ----------------ﾘﾄﾗｲ開始-----------
32969                                 I1  ***** BEGIN-POOL *****
32970 00007242 0000                   I1  ALIGNMENT CODE
32971 00007244 00000000               I1  DATA FOR SOURCE-LINE 167
32972 00007248 00000000               I1  DATA FOR SOURCE-LINE 176
32973 0000724C 00000000               I1  DATA FOR SOURCE-LINE 179,180
32974                                 I1  ***** END-POOL *****
32975 00007250                    184 I1  POSITIONER_DAICTL_550
32976 00007250 E001               185 I1          MOV.B   #BIT0,R0                        ;
32977 00007252 D102               186 I1          MOV.L   #_POSINER_FLG,R1                ;
32978 00007254 2101               187 I1          MOV.W   R0,@R1                          ;初期化
32979                             188 I1  
32980 00007256                    189 I1  POSITIONER_DAICTL_590
32981                             190 I1          M_BRA   POSITIONER_DAICTL_800
32982 00007256 A003                   M           BRA     POSITIONER_DAICTL_800
32983 00007258 0009                   M           NOP
32984                             191 I1  
32985                             192 I1  
32986                             193 I1  
32987                             194 I1  ;       -----------------------------------
32988                                 I1  ***** BEGIN-POOL *****
32989 0000725A 0000                   I1  ALIGNMENT CODE
32990 0000725C 00000000               I1  DATA FOR SOURCE-LINE 186
32991                                 I1  ***** END-POOL *****
32992 00007260                    195 I1  POSITIONER_DAICTL_800
32993                             196 I1  
32994                             197 I1  
32995                             198 I1  
32996                             199 I1  
32997                             200 I1  
32998 00007260 D107               201 I1          MOV.L   #_POSINER_STS,R1                        ;
32999 00007262 6011               202 I1          MOV.W   @R1,R0                                  ;
33000 00007264 D107               203 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
33001 00007266 6211               204 I1          MOV.W   @R1,R2                                  ;
33002 00007268 9408               205 I1          MOV.W   #(BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4     ;
33003 0000726A 2049               206 I1          AND     R4,R0
33004 0000726C 6447               207 I1          NOT     R4,R4
33005 0000726E 2249               208 I1          AND     R4,R2
33006 00007270 220B               209 I1          OR      R0,R2
33007 00007272 D104               210 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
33008 00007274 2121               211 I1          MOV.W   R2,@R1                                  ;
33009                             212 I1  
33010                             213 I1  
33011                             214 I1  
33012                             215 I1  
33013                             216 I1  
33014 00007276                    217 I1  POSITIONER_DAICTL_EXT
33015                             218 I1  
33016                             219 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   486
PROGRAM NAME =

33017                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33018 00007276 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33019                             220 I1          M_RTS
33020 00007278 000B                   M           RTS                             ;RTSの後ろの
33021 0000727A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33022                             221 I1  
33023                             222 I1  
33024                             223 I1  ;_SVP_KANDO_A21                         .SRES   4       ;感度
33025                             224 I1  ;_SVP_UPDATA_A21                        .SRES   4       ;上限
33026                             225 I1  ;_SVP_DNDATA_A21                        .SRES   4       ;下限
33027                             226 I1  ;_SVP_GENITI_A21                        .SRES   4       ;現位置
33028                             227 I1  ;_SVP_MODORI_A21                        .SRES   2       ;戻り量
33029                             228 I1  ;_SVP_DNSTOP_A21                        .SRES   2       ;下降停止
33030                             229 I1  ;_SVP_UPSTOP_A21                        .SRES   2       ;上昇停止
33031                             230 I1  ;_SVP_SSEIDO_A21                        .SRES   2       ;制御精度
33032                             231 I1  
33033                             232 I1  
33034                             233 I1  ;_SVP_SLID_POS1         .SRES   4       ;ｽﾗｲﾄﾞ位置　生産
33035                             234 I1  ;_SVP_SLID_POS2         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取1
33036                             235 I1  ;_SVP_SLID_POS3         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取2
33037                             236 I1  ;
33038                             237 I1  ;       ***********************************************************
33039                             238 I1  ;       ***                                                     ***
33040                             239 I1  ;       ***     [上昇から開始]                                  ***
33041                             240 I1  ;       ***     設定+戻り量(現在位置＋戻り量)                   ***
33042                             241 I1  ;       ***     設定+戻り量-下降量(現在位置＋戻り量-下降量)     ***
33043                             242 I1  ;       ***                                                     ***
33044                             243 I1  ;       ***********************************************************
33045                             244 I1  
33046                                 I1  ***** BEGIN-POOL *****
33047 0000727C 003F                   I1  DATA FOR SOURCE-LINE 205
33048 0000727E 0000                   I1  ALIGNMENT CODE
33049 00007280 00000000               I1  DATA FOR SOURCE-LINE 201
33050 00007284 00000000               I1  DATA FOR SOURCE-LINE 203,210
33051                                 I1  ***** END-POOL *****
33052 00007288                    245 I1  _POSITIONER_DAI_OBJ1MAK:
33053                             246 I1          SUB_START
33054 00007288 4F22                   M           STS.L   PR,@-R15                ;[必要]
33055                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33056                             247 I1  
33057 0000728A D109               248 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
33058 0000728C 6212               249 I1          MOV.L   @R1,R2                          ;
33059                             250 I1  
33060 0000728E D109               251 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
33061 00007290 6011               252 I1          MOV.W   @R1,R0                          ;
33062 00007292 2008               253 I1          TST     R0,R0                           ;
33063                             254 I1          TST_BIT_OF POSITIONER_DAIOBJ1MK_100     ;
33064 00007294 8901                   M           BT      POSITIONER_DAIOBJ1MK_100
33065                             255 I1  
33066 00007296 D108               256 I1          MOV.L   #_POSINER_PV_POS,R1             ;
33067 00007298 6212               257 I1          MOV.L   @R1,R2                          ;[R5目標位置]
33068                             258 I1  
33069 0000729A                    259 I1  POSITIONER_DAIOBJ1MK_100:
33070                             260 I1  
33071                             261 I1  ;       in R2
33072                             262 I1  
33073 0000729A D108               263 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   487
PROGRAM NAME =

                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33074 0000729C 6011               264 I1          MOV.W   @R1,R0                          ;
33075 0000729E C840               265 I1          TST     #BIT6,R0                        ;方向
33076                             266 I1          TST_BIT_ON POSITIONER_DAIOBJ1MK_200     ;
33077 000072A0 8B12                   M           BF      POSITIONER_DAIOBJ1MK_200
33078                             267 I1  
33079                             268 I1  ;       ---------- 上昇から開始-----------
33080 000072A2 D107               269 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
33081 000072A4 6312               270 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
33082                             271 I1  
33083 000072A6 D107               272 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
33084 000072A8 6412               273 I1          MOV.L   @R1,R4                          ;0.001mm
33085                             274 I1          M_BRA   POSITIONER_DAIOBJ1MK_300
33086 000072AA A013                   M           BRA     POSITIONER_DAIOBJ1MK_300
33087 000072AC 0009                   M           NOP
33088                             275 I1  
33089                             276 I1  
33090                                 I1  ***** BEGIN-POOL *****
33091 000072AE 0000                   I1  ALIGNMENT CODE
33092 000072B0 00000000               I1  DATA FOR SOURCE-LINE 248
33093 000072B4 00000000               I1  DATA FOR SOURCE-LINE 251
33094 000072B8 00000000               I1  DATA FOR SOURCE-LINE 256
33095 000072BC 00000000               I1  DATA FOR SOURCE-LINE 263
33096 000072C0 00000000               I1  DATA FOR SOURCE-LINE 269
33097 000072C4 00000000               I1  DATA FOR SOURCE-LINE 272
33098                                 I1  ***** END-POOL *****
33099 000072C8                    277 I1  POSITIONER_DAIOBJ1MK_200:
33100                             278 I1  ;       ------- 下降から開始 -------------
33101 000072C8 D10B               279 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
33102 000072CA 6312               280 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
33103 000072CC 633B               281 I1          NEG     R3,R3
33104                             282 I1  
33105 000072CE D10B               283 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 0~99
33106 000072D0 6412               284 I1          MOV.L   @R1,R4                          ;0.001mm
33107 000072D2 644B               285 I1          NEG     R4,R4                           ;
33108                             286 I1  
33109 000072D4                    287 I1  POSITIONER_DAIOBJ1MK_300:
33110                             288 I1  
33111                             289 I1  
33112 000072D4 323C               290 I1          ADD     R3,R2                           ;
33113                             291 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
33114 000072D6 D00A                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33115 000072D8 400B                   M           JSR     @R0                     ;
33116 000072DA 0009                   M           NOP                                     ;
33117                             292 I1  
33118                             293 I1  
33119                             294 I1  ;       -------------停止位置は一定--------------
33120 000072DC D109               295 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
33121 000072DE 2122               296 I1          MOV.L   R2,@R1                          ;
33122                             297 I1  
33123                             298 I1  
33124 000072E0 D109               299 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
33125 000072E2 6212               300 I1          MOV.L   @R1,R2                          ;
33126                             301 I1  
33127 000072E4 324C               302 I1          ADD     R4,R2                           ;目標+β
33128                             303 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
33129 000072E6 D006                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   488
PROGRAM NAME =

33130 000072E8 400B                   M           JSR     @R0                     ;
33131 000072EA 0009                   M           NOP                                     ;
33132 000072EC D107               304 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+停止量
33133 000072EE 2122               305 I1          MOV.L   R2,@R1                          ;
33134                             306 I1  
33135                             307 I1          SUB_END
33136                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33137 000072F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33138                             308 I1          M_RTS
33139 000072F2 000B                   M           RTS                             ;RTSの後ろの
33140 000072F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33141                             309 I1  
33142                             310 I1  
33143                             311 I1  ;       INPU R2,DESTORY R1,R3,ANS R2
33144                                 I1  ***** BEGIN-POOL *****
33145 000072F6 0000                   I1  ALIGNMENT CODE
33146 000072F8 00000000               I1  DATA FOR SOURCE-LINE 279
33147 000072FC 00000000               I1  DATA FOR SOURCE-LINE 283
33148 00007300 00000000               I1  DATA FOR SOURCE-LINE 291,303
33149 00007304 00000000               I1  DATA FOR SOURCE-LINE 295
33150 00007308 00000000               I1  DATA FOR SOURCE-LINE 299
33151 0000730C 00000000               I1  DATA FOR SOURCE-LINE 304
33152                                 I1  ***** END-POOL *****
33153 00007310                    312 I1  _POSITIONER_UPDN_LIMIT
33154                             313 I1          SUB_START
33155 00007310 4F22                   M           STS.L   PR,@-R15                ;[必要]
33156                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33157                             314 I1  
33158 00007312 D106               315 I1          MOV.L   #_SET1_RNAPOS_MAXP,R1   ;19機械上限機械 ?0.001mm
33159 00007314 6312               316 I1          MOV.L   @R1,R3                  ;UP
33160 00007316 3323               317 I1          CMP/GE  R2,R3                   ;
33161 00007318 8900               318 I1          BT      POSITIONER_UPDNLMT100   ;R2(SV)=<R3(MAX) OK
33162 0000731A 6233               319 I1          MOV     R3,R2                   ;
33163 0000731C                    320 I1  POSITIONER_UPDNLMT100                   ;
33164                             321 I1  
33165 0000731C D104               322 I1          MOV.L   #_SET1_RNAPOS_MINP,R1   ;1A 機械下限機械
33166 0000731E 6312               323 I1          MOV.L   @R1,R3                  ;DN
33167 00007320 3233               324 I1          CMP/GE  R3,R2                   ;
33168 00007322 8900               325 I1          BT      POSITIONER_UPDNLMT200   ;R3(MIN)=<R2(MAX) OK
33169 00007324 6233               326 I1          MOV     R3,R2                   ;
33170 00007326                    327 I1  POSITIONER_UPDNLMT200                   ;
33171                             328 I1  
33172                             329 I1          SUB_END
33173                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33174 00007326 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33175                             330 I1          M_RTS
33176 00007328 000B                   M           RTS                             ;RTSの後ろの
33177 0000732A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33178                             331 I1  
33179                             332 I1  
33180                             333 I1  
33181                             334 I1  ;       *******************************************
33182                             335 I1  ;       ***                                     ***
33183                             336 I1  ;       ***     設定データを0.001mmにする       ***
33184                             337 I1  ;       ***                                     ***
33185                             338 I1  ;       *******************************************
33186                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   489
PROGRAM NAME =

33187 0000732C 00000000               I1  DATA FOR SOURCE-LINE 315
33188 00007330 00000000               I1  DATA FOR SOURCE-LINE 322
33189                                 I1  ***** END-POOL *****
33190 00007334                    339 I1  _POSITIONER_DAI_DATA
33191                             340 I1          SUB_START
33192 00007334 4F22                   M           STS.L   PR,@-R15                ;[必要]
33193                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33194                             341 I1  
33195 00007336 D118               342 I1          MOV.L   #_SVP_SL_TENPOS,R1              ;
33196 00007338 6011               343 I1          MOV.W   @R1,R0                          ;
33197 0000733A D118               344 I1          MOV.L   #_SET1_ATDAT_DOTPOS,R1          ;//小数点
33198 0000733C 2101               345 I1          MOV.W   R0,@R1                          ;
33199                             346 I1  
33200 0000733E 9327               347 I1          MOV.W   #D'1,R3                         ;LATE
33201 00007340 8803               348 I1          CMP/EQ  #3,R0
33202 00007342 8906               349 I1          BT      POSITIONER_DAIDAT_100           ;小数点3桁
33203                             350 I1  
33204 00007344 9325               351 I1          MOV.W   #D'10,R3                        ;
33205 00007346 8802               352 I1          CMP/EQ  #2,R0
33206 00007348 8903               353 I1          BT      POSITIONER_DAIDAT_100           ;小数点2桁
33207                             354 I1  
33208 0000734A 9323               355 I1          MOV.W   #D'100,R3                       ;
33209 0000734C 8801               356 I1          CMP/EQ  #1,R0
33210 0000734E 8900               357 I1          BT      POSITIONER_DAIDAT_100           ;小数点1桁
33211                             358 I1  
33212 00007350 9321               359 I1          MOV.W   #D'1000,R3                      ;小数点無し
33213                             360 I1  
33214 00007352                    361 I1  POSITIONER_DAIDAT_100                           ;
33215                             362 I1  
33216                             363 I1  
33217 00007352 D113               364 I1          MOV.L   #_SVP_ATSLID_DNOBJ1,R1          ; スライド自動調節　下降停止 0~99
33218 00007354 6211               365 I1          MOV.W   @R1,R2                          ;
33219 00007356 332D               366 I1          DMULS.L R2,R3                           ;
33220 00007358 021A               367 I1          STS.L   MACL,R2                         ;
33221 0000735A D112               368 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
33222 0000735C 2122               369 I1          MOV.L   R2,@R1                          ;0.001mm
33223                             370 I1  
33224 0000735E D112               371 I1          MOV.L   #_SVP_ATSLID_UPOBJ1,R1          ; スライド自動調節　上昇停止 "
33225 00007360 6211               372 I1          MOV.W   @R1,R2                          ;
33226 00007362 332D               373 I1          DMULS.L R2,R3                           ;
33227 00007364 021A               374 I1          STS.L   MACL,R2                         ;
33228 00007366 D111               375 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 "
33229 00007368 2122               376 I1          MOV.L   R2,@R1                          ;0.001mm
33230                             377 I1  
33231 0000736A D111               378 I1          MOV.L   #_SVP_ATSLID_BAKLNG,R1          ; スライド自動調節　戻り量   "
33232 0000736C 6211               379 I1          MOV.W   @R1,R2                          ;
33233 0000736E 332D               380 I1          DMULS.L R2,R3                           ;
33234 00007370 021A               381 I1          STS.L   MACL,R2                         ;
33235 00007372 D110               382 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
33236 00007374 2122               383 I1          MOV.L   R2,@R1                          ;0.001mm
33237                             384 I1  
33238 00007376 D110               385 I1          MOV.L   #_SVP_ATSLID_COEF1,R1           ; スライド自動調節　制御精度 "
33239 00007378 6211               386 I1          MOV.W   @R1,R2                          ;
33240 0000737A 332D               387 I1          DMULS.L R2,R3                           ;
33241 0000737C 021A               388 I1          STS.L   MACL,R2                         ;
33242 0000737E D10F               389 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
33243 00007380 2122               390 I1          MOV.L   R2,@R1                          ;0.001mm
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   490
PROGRAM NAME =

33244                             391 I1  
33245                             392 I1  
33246 00007382 D10F               393 I1          MOV.L   #_SVP_ATSLID_OBJ1,R1            ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
33247 00007384 6212               394 I1          MOV.L   @R1,R2                          ;0.001mm
33248 00007386 D10F               395 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置0.001mm
33249 00007388 2122               396 I1          MOV.L   R2,@R1                          ;
33250                             397 I1  
33251                             398 I1  
33252                             399 I1          SUB_END
33253                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33254 0000738A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33255                             400 I1          M_RTS
33256 0000738C 000B                   M           RTS                             ;RTSの後ろの
33257 0000738E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33258                             401 I1  
33259                             402 I1  ;       *******************************************
33260                             403 I1  ;       ***                                     ***
33261                             404 I1  ;       ***             戻り位置比較            ***
33262                             405 I1  ;       ***                                     ***
33263                             406 I1  ;       *******************************************
33264                                 I1  ***** BEGIN-POOL *****
33265 00007390 0001                   I1  DATA FOR SOURCE-LINE 347
33266 00007392 000A                   I1  DATA FOR SOURCE-LINE 351
33267 00007394 0064                   I1  DATA FOR SOURCE-LINE 355
33268 00007396 03E8                   I1  DATA FOR SOURCE-LINE 359
33269 00007398 00000000               I1  DATA FOR SOURCE-LINE 342
33270 0000739C 00000000               I1  DATA FOR SOURCE-LINE 344
33271 000073A0 00000000               I1  DATA FOR SOURCE-LINE 364
33272 000073A4 00000000               I1  DATA FOR SOURCE-LINE 368
33273 000073A8 00000000               I1  DATA FOR SOURCE-LINE 371
33274 000073AC 00000000               I1  DATA FOR SOURCE-LINE 375
33275 000073B0 00000000               I1  DATA FOR SOURCE-LINE 378
33276 000073B4 00000000               I1  DATA FOR SOURCE-LINE 382
33277 000073B8 00000000               I1  DATA FOR SOURCE-LINE 385
33278 000073BC 00000000               I1  DATA FOR SOURCE-LINE 389
33279 000073C0 00000000               I1  DATA FOR SOURCE-LINE 393
33280 000073C4 00000000               I1  DATA FOR SOURCE-LINE 395
33281                                 I1  ***** END-POOL *****
33282 000073C8                    407 I1  _POSITIONER_DAI_OBJ1CMP:
33283                             408 I1          SUB_START
33284 000073C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
33285                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33286                             409 I1  
33287                             410 I1  
33288 000073CA D106               411 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
33289 000073CC 6212               412 I1          MOV.L   @R1,R2                          ;
33290                             413 I1  
33291 000073CE D106               414 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
33292 000073D0 6312               415 I1          MOV.L   @R1,R3                          ;
33293                             416 I1  
33294 000073D2 D106               417 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33295 000073D4 6011               418 I1          MOV.W   @R1,R0                          ;
33296 000073D6 C840               419 I1          TST     #BIT6,R0                        ;方向
33297                             420 I1          TST_BIT_ON POSITIONER_DAI_OBJ1CP_100    ;
33298 000073D8 8B0A                   M           BF      POSITIONER_DAI_OBJ1CP_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   491
PROGRAM NAME =

33299                             421 I1  
33300                             422 I1  ;       上昇
33301 000073DA 3233               423 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
33302 000073DC 8912               424 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
33303                             425 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATUP     ;
33304 000073DE A00B                   M           BRA     POSITIONER_DAI_OBJ1CP_WATUP
33305 000073E0 0009                   M           NOP
33306                             426 I1  
33307                                 I1  ***** BEGIN-POOL *****
33308 000073E2 0000                   I1  ALIGNMENT CODE
33309 000073E4 00000000               I1  DATA FOR SOURCE-LINE 411
33310 000073E8 00000000               I1  DATA FOR SOURCE-LINE 414
33311 000073EC 00000000               I1  DATA FOR SOURCE-LINE 417
33312                                 I1  ***** END-POOL *****
33313 000073F0                    427 I1  POSITIONER_DAI_OBJ1CP_100:
33314                             428 I1  
33315                             429 I1  ;       下降
33316 000073F0 3323               430 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
33317 000073F2 8907               431 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
33318                             432 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATDN     ;
33319 000073F4 A003                   M           BRA     POSITIONER_DAI_OBJ1CP_WATDN
33320 000073F6 0009                   M           NOP
33321                             433 I1  
33322                             434 I1  
33323                             435 I1  
33324 000073F8                    436 I1  POSITIONER_DAI_OBJ1CP_WATUP:
33325 000073F8 E001               437 I1          MOV.B   #1,R0
33326                             438 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
33327 000073FA A004                   M           BRA     POSITIONER_DAI_OBJ1CP_END
33328 000073FC 0009                   M           NOP
33329                             439 I1  
33330 000073FE                    440 I1  POSITIONER_DAI_OBJ1CP_WATDN:
33331 000073FE E0FF               441 I1          MOV.B   #-1,R0
33332                             442 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
33333 00007400 A001                   M           BRA     POSITIONER_DAI_OBJ1CP_END
33334 00007402 0009                   M           NOP
33335                             443 I1  
33336 00007404                    444 I1  POSITIONER_DAI_OBJ1CP_OVR:
33337 00007404 200A               445 I1          XOR     R0,R0                           ;
33338 00007406                    446 I1  POSITIONER_DAI_OBJ1CP_END:
33339                             447 I1  
33340                             448 I1          SUB_END
33341                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33342 00007406 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33343                             449 I1          M_RTS
33344 00007408 000B                   M           RTS                             ;RTSの後ろの
33345 0000740A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33346                             450 I1  
33347                             451 I1  
33348                             452 I1  ;       *******************************************
33349                             453 I1  ;       ***                                     ***
33350                             454 I1  ;       ***             指令OFF位置比較         ***
33351                             455 I1  ;       ***                                     ***
33352                             456 I1  ;       *******************************************
33353 0000740C                    457 I1  _POSITIONER_DAI_OBJ2CMP:
33354                             458 I1          SUB_START
33355 0000740C 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   492
PROGRAM NAME =

33356                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33357                             459 I1  
33358                             460 I1  
33359 0000740E D106               461 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
33360 00007410 6212               462 I1          MOV.L   @R1,R2                          ;
33361                             463 I1  
33362 00007412 D106               464 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+ｵｰﾊ量-下降量
33363 00007414 6312               465 I1          MOV.L   @R1,R3                          ;
33364                             466 I1  
33365 00007416 D106               467 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33366 00007418 6011               468 I1          MOV.W   @R1,R0                          ;
33367 0000741A C840               469 I1          TST     #BIT6,R0                        ;方向
33368                             470 I1          TST_BIT_ON POSITIONER_DAI_OBJ2CP_100    ;
33369 0000741C 8B0A                   M           BF      POSITIONER_DAI_OBJ2CP_100
33370                             471 I1  
33371                             472 I1  ;       上昇から開始の下降中
33372 0000741E 3323               473 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
33373 00007420 8912               474 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
33374                             475 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATDN     ;
33375 00007422 A00E                   M           BRA     POSITIONER_DAI_OBJ2CP_WATDN
33376 00007424 0009                   M           NOP
33377                             476 I1  
33378                                 I1  ***** BEGIN-POOL *****
33379 00007426 0000                   I1  ALIGNMENT CODE
33380 00007428 00000000               I1  DATA FOR SOURCE-LINE 461
33381 0000742C 00000000               I1  DATA FOR SOURCE-LINE 464
33382 00007430 00000000               I1  DATA FOR SOURCE-LINE 467
33383                                 I1  ***** END-POOL *****
33384 00007434                    477 I1  POSITIONER_DAI_OBJ2CP_100:
33385                             478 I1  
33386                             479 I1  ;       下降から開始の上昇中
33387 00007434 3233               480 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
33388 00007436 8907               481 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
33389                             482 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATUP     ;
33390 00007438 A000                   M           BRA     POSITIONER_DAI_OBJ2CP_WATUP
33391 0000743A 0009                   M           NOP
33392                             483 I1  
33393                             484 I1  
33394                             485 I1  
33395 0000743C                    486 I1  POSITIONER_DAI_OBJ2CP_WATUP:
33396 0000743C E001               487 I1          MOV.B   #1,R0
33397                             488 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
33398 0000743E A004                   M           BRA     POSITIONER_DAI_OBJ2CP_END
33399 00007440 0009                   M           NOP
33400 00007442                    489 I1  POSITIONER_DAI_OBJ2CP_WATDN:
33401 00007442 E0FF               490 I1          MOV.B   #-1,R0                          ;
33402                             491 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
33403 00007444 A001                   M           BRA     POSITIONER_DAI_OBJ2CP_END
33404 00007446 0009                   M           NOP
33405                             492 I1  
33406 00007448                    493 I1  POSITIONER_DAI_OBJ2CP_STP:
33407 00007448 200A               494 I1          XOR     R0,R0
33408 0000744A                    495 I1  POSITIONER_DAI_OBJ2CP_END:
33409                             496 I1  
33410                             497 I1          SUB_END
33411                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   493
PROGRAM NAME =

33412 0000744A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33413                             498 I1          M_RTS
33414 0000744C 000B                   M           RTS                             ;RTSの後ろの
33415 0000744E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33416                             499 I1  
33417                             500 I1  
33418                             501 I1  
33419 00007450                    502 I1  _POSITIONER_DAI_OUT:
33420                             503 I1          SUB_START
33421 00007450 4F22                   M           STS.L   PR,@-R15                ;[必要]
33422                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33423                             504 I1  
33424 00007452 222A               505 I1          XOR     R2,R2           ;停止
33425                             506 I1  
33426 00007454 2008               507 I1          TST     R0,R0
33427                             508 I1          TST_BIT_OF POSITIONER_DAIOUT_100
33428 00007456 8903                   M           BT      POSITIONER_DAIOUT_100
33429                             509 I1  
33430 00007458 E208               510 I1          MOV.B   #BIT3,R2
33431 0000745A 8801               511 I1          CMP/EQ  #1,R0
33432 0000745C 8900               512 I1          BT      POSITIONER_DAIOUT_100
33433                             513 I1  
33434 0000745E E210               514 I1          MOV.B   #BIT4,R2
33435                             515 I1  
33436 00007460                    516 I1  POSITIONER_DAIOUT_100:
33437 00007460 D103               517 I1          MOV.L   #_POSINER_STS,R1
33438 00007462 6011               518 I1          MOV.W   @R1,R0
33439 00007464 C9E7               519 I1          AND     #LOW ~(BIT4+BIT3),R0
33440 00007466 202B               520 I1          OR      R2,R0
33441 00007468 2101               521 I1          MOV.W   R0,@R1                  ;
33442                             522 I1  
33443                             523 I1          SUB_END
33444                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33445 0000746A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33446                             524 I1          M_RTS
33447 0000746C 000B                   M           RTS                             ;RTSの後ろの
33448 0000746E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33449                             525 I1  
33450                             526 I1  ;       *******************************************
33451                             527 I1  ;       ***                                     ***
33452                             528 I1  ;       ***             停止待ち                ***
33453                             529 I1  ;       ***                                     ***
33454                             530 I1  ;       *******************************************
33455                             531 I1  ;       基本は１秒間動作しなくなって、インポジ内にいるか
33456                             532 I1  ;       R0=0(動作中) R0=1(停止　ｲﾝﾎﾟｼﾞOK) R0=-1(停止,ｲﾝﾎﾟｼﾞ異常)
33457                             533 I1  ;       ・動作方向の位置が１秒間更新されなかったとき
33458                             534 I1  ;               MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
33459                             535 I1  ;       ・0.01mmの移動が1秒間無い
33460                                 I1  ***** BEGIN-POOL *****
33461 00007470 00000000               I1  DATA FOR SOURCE-LINE 517
33462                                 I1  ***** END-POOL *****
33463 00007474                    536 I1  _POSITIONER_DAI_STPCHK:
33464                             537 I1          SUB_START
33465 00007474 4F22                   M           STS.L   PR,@-R15                ;[必要]
33466                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33467                             538 I1  
33468 00007476 D106               539 I1          MOV.L   #_POSINER_PV_POS,R1     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   494
PROGRAM NAME =

33469 00007478 6212               540 I1          MOV.L   @R1,R2                  ;
33470                             541 I1  
33471 0000747A D506               542 I1          MOV.L   #_POSINER_MOSTPV_POS,R5 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
33472 0000747C 6452               543 I1          MOV.L   @R5,R4                          ;
33473                             544 I1  
33474 0000747E D106               545 I1          MOV.L   #_POSINER_STS,R1                ;
33475 00007480 6011               546 I1          MOV.W   @R1,R0                          ;
33476 00007482 C840               547 I1          TST     #BIT6,R0                        ;方向 0:下降(減少)で終了
33477                             548 I1          TST_BIT_ON POSITIONER_DAI_STPCK100      ;
33478 00007484 8B0A                   M           BF      POSITIONER_DAI_STPCK100
33479                             549 I1  
33480 00007486 3243               550 I1          CMP/GE  R4,R2                           ;最下位置(R4)=<現在位置(R2)
33481 00007488 8910               551 I1          BT      POSITIONER_DAI_STPCK200         ;OK
33482                             552 I1          M_BRA   POSITIONER_DAI_STPCK150         ;移動した
33483 0000748A A009                   M           BRA     POSITIONER_DAI_STPCK150
33484 0000748C 0009                   M           NOP
33485                             553 I1  
33486                             554 I1  
33487                                 I1  ***** BEGIN-POOL *****
33488 0000748E 0000                   I1  ALIGNMENT CODE
33489 00007490 00000000               I1  DATA FOR SOURCE-LINE 539
33490 00007494 00000000               I1  DATA FOR SOURCE-LINE 542
33491 00007498 00000000               I1  DATA FOR SOURCE-LINE 545
33492                                 I1  ***** END-POOL *****
33493 0000749C                    555 I1  POSITIONER_DAI_STPCK100:
33494 0000749C 3423               556 I1          CMP/GE  R2,R4                           ;現在位置(R2)=<最上位置(R4)
33495 0000749E 8905               557 I1          BT      POSITIONER_DAI_STPCK200         ;OK
33496 000074A0                    558 I1  POSITIONER_DAI_STPCK150:                        ;
33497                             559 I1  
33498 000074A0 2522               560 I1          MOV.L   R2,@R5                          ;最下位置(最上位置)更新:動いた
33499                             561 I1  
33500 000074A2 900F               562 I1          MOV.W   #D'1000,R0
33501 000074A4 D108               563 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1       ;
33502 000074A6 2101               564 I1          MOV.W   R0,@R1
33503 000074A8 D108               565 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
33504 000074AA 2101               566 I1          MOV.W   R0,@R1
33505                             567 I1  
33506                             568 I1  
33507 000074AC                    569 I1  POSITIONER_DAI_STPCK200:
33508 000074AC D406               570 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R4
33509 000074AE 6041               571 I1          MOV.W   @R4,R0
33510 000074B0 2008               572 I1          TST     R0,R0
33511                             573 I1          TST_BIT_OF POSITIONER_DAI_STPCK250              ;
33512 000074B2 890F                   M           BT      POSITIONER_DAI_STPCK250
33513 000074B4 70FF               574 I1          ADD     #-1,R0
33514 000074B6 2401               575 I1          MOV.W   R0,@R4                                  ;
33515 000074B8 2008               576 I1          TST     R0,R0                                   ;
33516                             577 I1          TST_BIT_ON POSITIONER_DAI_STPCK230
33517 000074BA 8B01                   M           BF      POSITIONER_DAI_STPCK230
33518 000074BC D104               578 I1          MOV.L   #_POSINER_OLDPV_POS,R1                  ;
33519 000074BE 2122               579 I1          MOV.L   R2,@R1                                  ;R2(NOW),R3(OLD)
33520 000074C0                    580 I1  POSITIONER_DAI_STPCK230:
33521                             581 I1          M_BRA   POSITIONER_DAI_STPCKWAT                 ;
33522 000074C0 A03A                   M           BRA     POSITIONER_DAI_STPCKWAT
33523 000074C2 0009                   M           NOP
33524                             582 I1  
33525                             583 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   495
PROGRAM NAME =

33526                                 I1  ***** BEGIN-POOL *****
33527 000074C4 03E8                   I1  DATA FOR SOURCE-LINE 562
33528 000074C6 0000                   I1  ALIGNMENT CODE
33529 000074C8 00000000               I1  DATA FOR SOURCE-LINE 563,570
33530 000074CC 00000000               I1  DATA FOR SOURCE-LINE 565
33531 000074D0 00000000               I1  DATA FOR SOURCE-LINE 578
33532                                 I1  ***** END-POOL *****
33533 000074D4                    584 I1  POSITIONER_DAI_STPCK250:
33534                             585 I1  ;       ---FIRSTﾀｲﾏOK---
33535 000074D4 D513               586 I1          MOV.L   #_POSINER_OLDPV_POS,R5
33536 000074D6 6352               587 I1          MOV.L   @R5,R3                  ;R2(NOW),R3(OLD)
33537 000074D8 3328               588 I1          SUB     R2,R3                   ;
33538 000074DA 4311               589 I1          CMP/PZ  R3                      ;
33539 000074DC 8900               590 I1          BT      POSITIONER_DAI_STPCK280 ;
33540 000074DE 633B               591 I1          NEG     R3,R3                   ;
33541 000074E0                    592 I1  POSITIONER_DAI_STPCK280:                ;
33542 000074E0 901D               593 I1          MOV.W   #D'10,R0
33543 000074E2 3036               594 I1          CMP/HI  R3,R0                   ;R3<R0(10 0.01mm)
33544 000074E4 8903               595 I1          BT      POSITIONER_DAI_STPCK300 ;
33545                             596 I1  
33546                             597 I1  ;       ------------- 0.01mm動いた------------
33547 000074E6 2522               598 I1          MOV.L   R2,@R5                          ;前回位置更新
33548 000074E8 901A               599 I1          MOV.W   #D'1000,R0                      ;
33549 000074EA D10F               600 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
33550 000074EC 2101               601 I1          MOV.W   R0,@R1                          ;
33551                             602 I1  
33552 000074EE                    603 I1  POSITIONER_DAI_STPCK300:                        ;
33553                             604 I1  
33554                             605 I1  
33555                             606 I1          DN_TIME LG=W,MEM_ADR=_POSINER_STOPCHK_TIM2,WKREG1=R1,WKREG2=R4  ;10msec 定周期
33556 000074EE D10E                   M           MOV.L   #_POSINER_STOPCHK_TIM2,R1               ;SORCE ADRESS SET
33557 000074F0 6411                   M           MOV.W   @R1,R4          ;
33558 000074F2 2448                   M           TST     R4,R4                   ;
33559 000074F4 8901                   M           BT      JMP_0100026                     ;ZERO THEN JUMP
33560 000074F6 4410                   M           DT      R4                              ;
33561 000074F8 2141                   M           MOV.W   R4,@R1          ;STORE
33562 000074FA                        M   JMP_0100026:
33563                             607 I1  
33564 000074FA D40B               608 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R4
33565 000074FC 6041               609 I1          MOV.W   @R4,R0
33566 000074FE 2008               610 I1          TST     R0,R0
33567                             611 I1          TST_BIT_ON POSITIONER_DAI_STPCKWAT              ;
33568 00007500 8B1A                   M           BF      POSITIONER_DAI_STPCKWAT
33569                             612 I1  
33570                             613 I1  
33571                             614 I1  ;       停止終了,ｲﾝﾎﾟｼﾞｼｮﾝ
33572 00007502 D10A               615 I1          MOV.L   #_POSINER_PV_POS,R1             ;
33573 00007504 6212               616 I1          MOV.L   @R1,R2                          ;
33574 00007506 D10A               617 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
33575 00007508 6312               618 I1          MOV.L   @R1,R3                          ;
33576 0000750A 3328               619 I1          SUB     R2,R3                           ;
33577 0000750C 4311               620 I1          CMP/PZ  R3
33578 0000750E 8900               621 I1          BT      POSITIONER_DAI_STPCK320         ;
33579 00007510 633B               622 I1          NEG     R3,R3
33580 00007512                    623 I1  POSITIONER_DAI_STPCK320:                        ;
33581                             624 I1  
33582 00007512 D108               625 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   496
PROGRAM NAME =

33583 00007514 6012               626 I1          MOV.L   @R1,R0                          ;0.001mm
33584 00007516 3033               627 I1          CMP/GE  R3,R0                           ;
33585 00007518 8914               628 I1          BT      POSITIONER_DAI_STPCKINP         ;ｲﾝﾎﾟｼﾞｼｮﾝ
33586                             629 I1          M_BRA   POSITIONER_DAI_STPCKERR         ;
33587 0000751A A010                   M           BRA     POSITIONER_DAI_STPCKERR
33588 0000751C 0009                   M           NOP
33589                             630 I1  
33590                             631 I1  
33591                                 I1  ***** BEGIN-POOL *****
33592 0000751E 000A                   I1  DATA FOR SOURCE-LINE 593
33593 00007520 03E8                   I1  DATA FOR SOURCE-LINE 599
33594 00007522 0000                   I1  ALIGNMENT CODE
33595 00007524 00000000               I1  DATA FOR SOURCE-LINE 586
33596 00007528 00000000               I1  DATA FOR SOURCE-LINE 600,606,608
33597 0000752C 00000000               I1  DATA FOR SOURCE-LINE 615
33598 00007530 00000000               I1  DATA FOR SOURCE-LINE 617
33599 00007534 00000000               I1  DATA FOR SOURCE-LINE 625
33600                                 I1  ***** END-POOL *****
33601 00007538                    632 I1  POSITIONER_DAI_STPCKWAT:
33602 00007538 200A               633 I1          XOR     R0,R0
33603                             634 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
33604 0000753A A004                   M           BRA     POSITIONER_DAI_STPCKEND
33605 0000753C 0009                   M           NOP
33606                             635 I1  
33607 0000753E                    636 I1  POSITIONER_DAI_STPCKERR:                        ;
33608 0000753E E0FF               637 I1          MOV.B   #-1,R0                          ;
33609                             638 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
33610 00007540 A001                   M           BRA     POSITIONER_DAI_STPCKEND
33611 00007542 0009                   M           NOP
33612                             639 I1  
33613 00007544                    640 I1  POSITIONER_DAI_STPCKINP:                        ;
33614 00007544 E001               641 I1          MOV.B   #1,R0                           ;
33615                             642 I1  
33616 00007546                    643 I1  POSITIONER_DAI_STPCKEND:
33617                             644 I1  
33618                             645 I1          SUB_END
33619                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33620 00007546 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33621                             646 I1          M_RTS
33622 00007548 000B                   M           RTS                             ;RTSの後ろの
33623 0000754A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33624                             647 I1  
33625                             648 I1  
33626                           10614     
33627                           10615     
33628                           10616     
33629                           10617     
33630                           10618     
33631                           10619     
33632                           10620     
33633                           10621     
33634                           10622     
33635                           10623     
33636                           10624     
33637                           10625     
33638                           10626     
33639                           10627     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   497
PROGRAM NAME =

33640                           10628     
33641                           10629     
33642                           10630     
33643                           10631     
33644                           10632     
33645                           10633     
33646                           10634     
33647                           10635     
33648                           10636     
33649                           10637     
33650                           10638     
33651                           10639     
33652                           10640     
33653                           10641     ;       ***************************************************
33654                           10642     ;       ***                                             ***
33655                           10643     ;       ***                                             ***
33656                           10644     ;       ***                                             ***
33657                           10645     ;       ***                                             ***
33658                           10646     ;       ***             CPUBの高速化                    ***
33659                           10647     ;       ***             2013-03-15                      ***
33660                           10648     ;       ***                                             ***
33661                           10649     ;       ***                                             ***
33662                           10650     ;       ***                                             ***
33663                           10651     ;       ***                                             ***
33664                           10652     ;       ***                                             ***
33665                           10653     ;       ***************************************************
33666 0000754C                  10654             .ALIGN  4                                       ;
33667                           10655             .AIF    2 EQ 3          ;
33668                           10656             .SECTION        PHiROM,CODE                     ;
33669                           10657             .AENDI                                          ;
33670                           10658     
33671                           10659     ;
33672                           10660     ;
33673                           10661     ;
33674                           10662     ;
33675                           10663     ;
33676 0000754C                  10664             .ALIGN  4                                               ;
33677                           10665     ;       *******************************************
33678                           10666     ;       ***                                     ***
33679                           10667     ;       ***     2006-09-19                      ***
33680                           10668     ;       ***                                     ***
33681                           10669     ;       ***     ﾊﾟﾙｽ管理                        ***
33682                           10670     ;       ***     (位置決め部分での処理)          ***
33683                           10671     ;       ***                                     ***
33684                           10672     ;       *******************************************
33685                           10673     ;       Input :現在位置(出力ﾊﾟﾙｽ側)    [8byte]
33686                           10674     ;       Input :最終停止位置(出力ﾊﾟﾙｽ上)[8byte]
33687                           10675     ;       Input :設定速度(0.01%単位)     [4byte]
33688                           10676     ;       Input :制御周期 TIME-LATE:1/1000
33689                           10677     ;       Input :加速度(0.001%/s/s)[4byte]
33690                           10678     ;       Input :
33691                           10679     ;       Input :処理状態：起動/減速停止/処理継続
33692                           10680     ;       Output:加速度書換え
33693                           10681     ;
33694                           10682     ;       *******************************************
33695                           10683     ;       ***                                     ***
33696                           10684     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   498
PROGRAM NAME =

33697                           10685     ;       ***             主制御                  ***
33698                           10686     ;       ***     (ここは標準・ふりこ共通)        ***
33699                           10687     ;       ***                                     ***
33700                           10688     ;       ***                                     ***
33701                           10689     ;       *******************************************
33702                           10690     ;_POSCTL_STEP_FLG BIT0 ACTIVE
33703                           10691     ;                 BIT1 減速ｺﾏﾝﾄﾞ
33704                           10692     ;                 BIT2 最終減速ﾗｯﾁ：解除は目標位置変更
33705                           10693     ;                 BIT6:END
33706 0000754C                  10694             .ALIGN  4                               ;
33707 0000754C                  10695     _PLS_LSI_CTRL:
33708                           10696             SUB_START
33709 0000754C 4F22                   M           STS.L   PR,@-R15                ;[必要]
33710                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33711                           10697     
33712                           10698     
33713                           10699     ;       ---------------最終目標位置-----------
33714 0000754E D410             10700             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;LINKX_SV_OBJ_ABSPLSの場合があるか
                                          も
33715 00007550 6146             10701             MOV.L   @R4+,R1                                 ;
33716 00007552 6242             10702             MOV.L   @R4,R2                                  ;
33717 00007554 D40F             10703             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
33718 00007556 5540             10704             MOV.L   @(0,R4),R5                              ;
33719 00007558 5641             10705             MOV.L   @(4,R4),R6                              ;
33720 0000755A 1410             10706             MOV.L   R1,@(0,R4)                              ;
33721 0000755C 1421             10707             MOV.L   R2,@(4,R4)                              ;
33722                           10708     
33723 0000755E 251A             10709             XOR     R1,R5
33724 00007560 262A             10710             XOR     R2,R6                                   ;
33725 00007562 265B             10711             OR      R5,R6                                   ;
33726 00007564 2668             10712             TST     R6,R6                                   ;
33727                           10713             TST_BIT_OF PLS_LSICTRL_050                      ;
33728 00007566 8903                   M           BT      PLS_LSICTRL_050
33729                           10714             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSCTL_STEP_FLG,LG=W,BIT=~BIT2,WKREG=R1   ;
33730 00007568 D10B                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
33731 0000756A 6011                   M           MOV.W   @R1,R0          ;
33732 0000756C C9FB                   M           AND     #LOW ~BIT2,R0           ;
33733 0000756E 2101                   M           MOV.W   R0,@R1          ;
33734                           10715     
33735 00007570                  10716     PLS_LSICTRL_050                 ;
33736                           10717     
33737                           10718     
33738                           10719     ;       ---------------リアルタイム目標位置-----------
33739 00007570 D40A             10720             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
33740 00007572 6146             10721             MOV.L   @R4+,R1                                 ;
33741 00007574 6242             10722             MOV.L   @R4,R2                                  ;
33742 00007576 D40A             10723             MOV.L   #_POSCTL_RL_PLS,R4                      ;RL
33743 00007578 1410             10724             MOV.L   R1,@(0,R4)                              ;
33744 0000757A 1421             10725             MOV.L   R2,@(4,R4)                              ;
33745                           10726     
33746                           10727     
33747                           10728     ;       ==================================================
33748 0000757C D109             10729             MOV.L   #_POS_HLDSTOP1_FLG,R1                   ;
33749 0000757E 6011             10730             MOV.W   @R1,R0                                  ;
33750 00007580 C801             10731             TST     #BIT0,R0                                ;HOLD減速
33751                           10732             TST_BIT_OF PLS_LSICTRL_070                      ;
33752 00007582 8915                   M           BT      PLS_LSICTRL_070
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   499
PROGRAM NAME =

33753                           10733     
33754                           10734     ;       ---------------------------------
33755 00007584 D108             10735             MOV.L   #_POSHLD_SET_DN_ACC,R1                  ;//位置決めキャンセル減速
33756 00007586 6212             10736             MOV.L   @R1,R2                                  ;
33757 00007588 D108             10737             MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
33758 0000758A 2122             10738             MOV.L   R2,@R1                                  ;
33759                           10739             M_BRA   PLS_LSICTRL_080                         ;
33760 0000758C A018                   M           BRA     PLS_LSICTRL_080
33761 0000758E 0009                   M           NOP
33762                           10740     
33763                                     ***** BEGIN-POOL *****
33764 00007590 00000000                   DATA FOR SOURCE-LINE 10700
33765 00007594 00000000                   DATA FOR SOURCE-LINE 10703
33766 00007598 00000000                   DATA FOR SOURCE-LINE 10714
33767 0000759C 00000000                   DATA FOR SOURCE-LINE 10720
33768 000075A0 00000000                   DATA FOR SOURCE-LINE 10723
33769 000075A4 00000000                   DATA FOR SOURCE-LINE 10729
33770 000075A8 00000000                   DATA FOR SOURCE-LINE 10735
33771 000075AC 00000000                   DATA FOR SOURCE-LINE 10737
33772                                     ***** END-POOL *****
33773 000075B0                  10741     PLS_LSICTRL_070                                 ;
33774                           10742     ;       --------- ｵｰﾊﾞﾗｲﾄﾞ転送---- -----------
33775                           10743             MEM_MOV_TO_MEM  _SET_UP_ACC_LATE,L,_POSCTL_SV_UP_ACC,L,R1,R2,R3 ;
33776 000075B0 D119                   M           MOV.L   #_SET_UP_ACC_LATE,R1
33777 000075B2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
33778 000075B4 D319                   M           MOV.L   #_POSCTL_SV_UP_ACC,R3   ;DST_ADR
33779 000075B6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
33780                           10744             MEM_MOV_TO_MEM  _SET_DN_ACC_LATE,L,_POSCTL_SV_DN_ACC,L,R1,R2,R3 ;
33781 000075B8 D119                   M           MOV.L   #_SET_DN_ACC_LATE,R1
33782 000075BA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
33783 000075BC D319                   M           MOV.L   #_POSCTL_SV_DN_ACC,R3   ;DST_ADR
33784 000075BE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
33785                           10745     
33786 000075C0                  10746     PLS_LSICTRL_080                                 ;
33787                           10747     
33788                           10748     
33789                           10749     
33790                           10750     
33791 000075C0 D319             10751             MOV.L   #_POSCTL_SET_SPD,R3                     ;速度
33792 000075C2 6232             10752             MOV.L   @R3,R2                                  ;
33793                           10753             FAR_JSR #_OVER_LIDE_SPD_CALC,R0                 ;INPUT R2-OUTPUT R2
33794 000075C4 D019                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33795 000075C6 400B                   M           JSR     @R0                     ;
33796 000075C8 0009                   M           NOP                                     ;
33797                           10754     
33798                           10755     
33799                           10756     ;       -------------2013-02-15 速度上限制限[ここはふりこも共通]-----------------------
33800                           10757             FAR_JSR #_SPD_UPLIMT_CALC,R0                    ;INPUT R2-OUTPUT R2
33801 000075CA D019                   M           MOV.L   #_SPD_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33802 000075CC 400B                   M           JSR     @R0                     ;
33803 000075CE 0009                   M           NOP                                     ;
33804                           10758     ;       --------------------------------------------------------------
33805                           10759     
33806                           10760             FAR_JSR #_CNT_REST_HOSEI_SPD_TYP,R0             ;INPUT R2 OUTPUT R2
33807 000075D0 D018                   M           MOV.L   #_CNT_REST_HOSEI_SPD_TYP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33808 000075D2 400B                   M           JSR     @R0                     ;
33809 000075D4 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   500
PROGRAM NAME =

33810                           10761     
33811                           10762     
33812 000075D6 D118             10763             MOV.L   #_POSCTL_SV_SPD,R1                      ;
33813 000075D8 2122             10764             MOV.L   R2,@R1                                  ;
33814                           10765     
33815                           10766     ;       ========== 管理=============
33816 000075DA D118             10767             MOV.L   #_POSCTL_STEP_FLG,R1                    ;//0(IDLE) BIT0/BIT6 (BIT2,3,4 減
                                          速関連)
33817 000075DC 6011             10768             MOV.W   @R1,R0                                  ;
33818 000075DE C840             10769             TST     #BIT6,R0                                ;終了?
33819                           10770             TST_BIT_ON PLS_LSICTRL_END                      ;
33820 000075E0 8B45                   M           BF      PLS_LSICTRL_END
33821                           10771     
33822 000075E2 C801             10772             TST     #BIT0,R0                                ;ACTIVE
33823                           10773             TST_BIT_ON PLS_LSICTRL_100                      ;
33824 000075E4 8B09                   M           BF      PLS_LSICTRL_100
33825                           10774     
33826                           10775     ;       --- 停止中---
33827 000075E6 D116             10776             MOV.L   #_POSCTL_STEP_CMD,R1                    ;
33828 000075E8 6011             10777             MOV.W   @R1,R0                                  ;
33829 000075EA 8801             10778             CMP/EQ  #1,R0                                   ;起動?
33830 000075EC 8B3F             10779             BF      PLS_LSICTRL_END                         ;NO
33831                           10780     
33832                           10781             FAR_JSR #_PLS_LSI_CTL_INI,R0                    ;起動
33833 000075EE D015                   M           MOV.L   #_PLS_LSI_CTL_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33834 000075F0 400B                   M           JSR     @R0                     ;
33835 000075F2 0009                   M           NOP                                     ;
33836 000075F4 900F             10782             MOV.W   #BIT0,R0                                ;
33837                           10783             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
33838 000075F6 D111                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
33839 000075F8 2101                   M           MOV.W   R0,@R1  ;DST_ADR
33840                           10784     
33841 000075FA                  10785     PLS_LSICTRL_100:
33842 000075FA D111             10786             MOV.L   #_POSCTL_STEP_CMD,R1                    ;//3:EMG停止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2
                                          :(減速停止)
33843 000075FC 6011             10787             MOV.W   @R1,R0                                  ;EMG-STOP
33844 000075FE 8803             10788             CMP/EQ  #3,R0                                   ;
33845 00007600 8B24             10789             BF      PLS_LSICTRL_200                         ;
33846                           10790     
33847 00007602 200A             10791             XOR     R0,R0                                   ;
33848                           10792             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
33849 00007604 D10D                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
33850 00007606 2101                   M           MOV.W   R0,@R1  ;DST_ADR
33851                           10793             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1
33852 00007608 D10D                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
33853 0000760A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
33854                           10794     
33855                           10795             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                  ;
33856 0000760C D00E                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33857 0000760E 400B                   M           JSR     @R0                     ;
33858 00007610 0009                   M           NOP                                     ;
33859                           10796             M_BRA   PLS_LSICTRL_END                         ;
33860 00007612 A02C                   M           BRA     PLS_LSICTRL_END
33861 00007614 0009                   M           NOP
33862                           10797     
33863                                     ***** BEGIN-POOL *****
33864 00007616 0001                       DATA FOR SOURCE-LINE 10782
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   501
PROGRAM NAME =

33865 00007618 00000000                   DATA FOR SOURCE-LINE 10743
33866 0000761C 00000000                   DATA FOR SOURCE-LINE 10743
33867 00007620 00000000                   DATA FOR SOURCE-LINE 10744
33868 00007624 00000000                   DATA FOR SOURCE-LINE 10744
33869 00007628 00000000                   DATA FOR SOURCE-LINE 10751
33870 0000762C 00000000                   DATA FOR SOURCE-LINE 10753
33871 00007630 00000000                   DATA FOR SOURCE-LINE 10757
33872 00007634 00000000                   DATA FOR SOURCE-LINE 10760
33873 00007638 00000000                   DATA FOR SOURCE-LINE 10763
33874 0000763C 00000000                   DATA FOR SOURCE-LINE 10767,10783,10792
33875 00007640 00000000                   DATA FOR SOURCE-LINE 10776,10786,10793
33876 00007644 00000000                   DATA FOR SOURCE-LINE 10781
33877 00007648 00000000                   DATA FOR SOURCE-LINE 10795
33878                                     ***** END-POOL *****
33879 0000764C                  10798     PLS_LSICTRL_200:
33880                           10799     
33881                           10800     ;       ----------- ふりこ加減速と通常加減速を分ける---
33882                           10801     ;;;;2010-09-27 ふりこのため     FAR_JSR #_PLS_LSI_CTL_CALC,R0                   ;
33883                           10802     
33884 0000764C D104             10803             MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
33885 0000764E 6011             10804             MOV.W   @R1,R0                          ;
33886 00007650 8801             10805             CMP/EQ  #1,R0                           ;
33887 00007652 8B09             10806             BF      PLS_LSICTRL_220                 ;
33888                           10807             FAR_JSR #_DNM_PLS_LSICTL_CALC,R0        ;
33889 00007654 D003                   M           MOV.L   #_DNM_PLS_LSICTL_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33890 00007656 400B                   M           JSR     @R0                     ;
33891 00007658 0009                   M           NOP                                     ;
33892                           10808             M_BRA   PLS_LSICTRL_END                 ;ふりこ加減速
33893 0000765A A008                   M           BRA     PLS_LSICTRL_END
33894 0000765C 0009                   M           NOP
33895                           10809     
33896                                     ***** BEGIN-POOL *****
33897 0000765E 0000                       ALIGNMENT CODE
33898 00007660 00000000                   DATA FOR SOURCE-LINE 10803
33899 00007664 00000000                   DATA FOR SOURCE-LINE 10807
33900                                     ***** END-POOL *****
33901 00007668                  10810     PLS_LSICTRL_220:
33902                           10811             FAR_JSR #_PLS_LSI_CTL_CALC,R0           ;通常減速
33903 00007668 D002                   M           MOV.L   #_PLS_LSI_CTL_CALC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33904 0000766A 400B                   M           JSR     @R0                     ;
33905 0000766C 0009                   M           NOP                                     ;
33906                           10812     
33907 0000766E                  10813     PLS_LSICTRL_END:
33908                           10814     
33909                           10815     ;       -------- 2013-07-18 DEBUG ----------
33910                           10816     ;;;;;;;;;;;;;;;;        MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
33911                           10817     ;;;;;;;;;;;;;;;;        MOV.W   @R1,R0                                  ;BIT1:減速時
33912                           10818     ;;;;;;;;;;;;;;;;        MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1             ;
33913                           10819     ;;;;;;;;;;;;;;;;        MOV.W   R0,@R1                                  ;
33914                           10820     
33915                           10821             SUB_END
33916                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33917 0000766E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33918                           10822             M_RTS
33919 00007670 000B                   M           RTS                             ;RTSの後ろの
33920 00007672 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33921                           10823     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   502
PROGRAM NAME =

33922                           10824     ;       *******************************************
33923                           10825     ;       ***                                     ***
33924                           10826     ;       ***                                     ***
33925                           10827     ;       ***             加減速演算              ***
33926                           10828     ;       ***                                     ***
33927                           10829     ;       ***                                     ***
33928                           10830     ;       ***                                     ***
33929                           10831     ;       *******************************************
33930                           10832     
33931                                     ***** BEGIN-POOL *****
33932 00007674 00000000                   DATA FOR SOURCE-LINE 10811
33933                                     ***** END-POOL *****
33934 00007678                  10833             .ALIGN  4                               ;
33935 00007678                  10834     _PLS_LSI_CTL_CALC:
33936                           10835             SUB_START
33937 00007678 4F22                   M           STS.L   PR,@-R15                ;[必要]
33938                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33939                           10836     
33940                           10837     ;       --------- 2010-09-27 残りパルス演算の共通化----
33941                           10838             FAR_JSR #_ACC_REST_INFO_MAKE,R0
33942 0000767A D005                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33943 0000767C 400B                   M           JSR     @R0                     ;
33944 0000767E 0009                   M           NOP                                     ;
33945                           10839     
33946                           10840     
33947 00007680 D104             10841             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
33948 00007682 6011             10842             MOV.W   @R1,R0                                                          ;
33949 00007684 C802             10843             TST     #BIT1,R0                                                        ;
33950                           10844             TST_BIT_ON PLS_LSI_CTLCAL_020                                           ;強制減速
                                          停止中(寸動停止)
33951 00007686 8B07                   M           BF      PLS_LSI_CTLCAL_020
33952 00007688 C804             10845             TST     #BIT2,R0                                                        ;
33953                           10846             TST_BIT_ON PLS_LSI_CTLCAL_050                                           ;最終減速
                                          状態YES
33954 0000768A 8B11                   M           BF      PLS_LSI_CTLCAL_050
33955                           10847             M_BRA   PLS_LSI_CTLCAL_100                                              ;
33956 0000768C A012                   M           BRA     PLS_LSI_CTLCAL_100
33957 0000768E 0009                   M           NOP
33958                           10848     
33959                                     ***** BEGIN-POOL *****
33960 00007690 00000000                   DATA FOR SOURCE-LINE 10838
33961 00007694 00000000                   DATA FOR SOURCE-LINE 10841
33962                                     ***** END-POOL *****
33963 00007698                  10849     PLS_LSI_CTLCAL_020
33964                           10850     ;       --- 減速コマンドラッチ---
33965 00007698 D103             10851             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
                                          PLS/S
33966 0000769A 6212             10852             MOV.L   @R1,R2                                                          ;
33967 0000769C D503             10853             MOV.L   #_POSCTL_RL_SPD,R5                                              ;
33968 0000769E 6352             10854             MOV.L   @R5,R3                                                          ;
33969 000076A0 3326             10855             CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
33970 000076A2 8905             10856             BT      PLS_LSI_CTLCAL_050                                              ;YES
33971                           10857             M_BRA   PLS_LSI_CTLCAL_800                                              ;(減速停止
                                          )終了処理
33972 000076A4 A076                   M           BRA     PLS_LSI_CTLCAL_800
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   503
PROGRAM NAME =

33973 000076A6 0009                   M           NOP
33974                                     ***** BEGIN-POOL *****
33975 000076A8 00000000                   DATA FOR SOURCE-LINE 10851
33976 000076AC 00000000                   DATA FOR SOURCE-LINE 10853
33977                                     ***** END-POOL *****
33978 000076B0                  10858     PLS_LSI_CTLCAL_050:
33979                           10859             M_BRA   PLS_LSI_CTLCAL_700                                              ;減速処理
33980 000076B0 A040                   M           BRA     PLS_LSI_CTLCAL_700
33981 000076B2 0009                   M           NOP
33982                           10860     
33983 000076B4                  10861     PLS_LSI_CTLCAL_100:
33984 000076B4 D104             10862             MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
33985 000076B6 6011             10863             MOV.W   @R1,R0                                                          ;EMG-STOP
33986 000076B8 8802             10864             CMP/EQ  #2,R0                                                           ;減速停止
33987 000076BA 8B09             10865             BF      PLS_LSI_CTLCAL_150                                              ;NO
33988                           10866             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
33989 000076BC D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
33990 000076BE 6011                   M           MOV.W   @R1,R0          ;
33991 000076C0 CB02                   M           OR      #BIT1,R0                ;
33992 000076C2 2101                   M           MOV.W   R0,@R1          ;
33993                           10867             M_BRA   PLS_LSI_CTLCAL_500                                              ;
33994 000076C4 A01E                   M           BRA     PLS_LSI_CTLCAL_500
33995 000076C6 0009                   M           NOP
33996                           10868     
33997                           10869     ;-------通常制御----
33998                                     ***** BEGIN-POOL *****
33999 000076C8 00000000                   DATA FOR SOURCE-LINE 10862
34000 000076CC 00000000                   DATA FOR SOURCE-LINE 10866
34001                                     ***** END-POOL *****
34002 000076D0                  10870     PLS_LSI_CTLCAL_150:
34003 000076D0 D102             10871             MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
34004 000076D2 6011             10872             MOV.W   @R1,R0                                                          ;
34005 000076D4 C801             10873             TST     #BIT0,R0                                                        ;
34006                           10874             TST_BIT_OF PLS_LSI_CTLCAL_160                                           ;
34007 000076D6 8903                   M           BT      PLS_LSI_CTLCAL_160
34008                           10875     ;       -----------やるべきことが今一不明--------
34009                           10876             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
34010 000076D8 A07D                   M           BRA     PLS_LSI_CTLCAL_EXT
34011 000076DA 0009                   M           NOP
34012                           10877     
34013                           10878     
34014                                     ***** BEGIN-POOL *****
34015 000076DC 00000000                   DATA FOR SOURCE-LINE 10871
34016                                     ***** END-POOL *****
34017 000076E0                  10879     PLS_LSI_CTLCAL_160:
34018                           10880     
34019                           10881     ;<<<2010-09-21>>>
34020                           10882             FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<<<2010-0
                                          9-21>>>
34021 000076E0 D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34022 000076E2 400B                   M           JSR     @R0                     ;
34023 000076E4 0009                   M           NOP                                     ;
34024                           10883     
34025 000076E6 2008             10884             TST     R0,R0                                                           ;
34026                           10885             TST_BIT_OF PLS_LSI_CTLCAL_500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   504
PROGRAM NAME =

34027 000076E8 890C                   M           BT      PLS_LSI_CTLCAL_500
34028 000076EA 8801             10886             CMP/EQ  #1,R0                                                           ;
34029 000076EC 8922             10887             BT      PLS_LSI_CTLCAL_700
34030                           10888     ;       ----- ABNOMAL CALC------                                                ;
34031                           10889             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
34032 000076EE D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
34033 000076F0 6041                   M           MOV.W   @R4,R0          ;
34034 000076F2 CB02                   M           OR      #BIT1,R0                ;
34035 000076F4 2401                   M           MOV.W   R0,@R4          ;
34036                           10890             M_BRA   PLS_LSI_CTLCAL_700
34037 000076F6 A01D                   M           BRA     PLS_LSI_CTLCAL_700
34038 000076F8 0009                   M           NOP
34039                           10891     ;;;;;;  M_BRA   PLS_LSI_CTLCAL_ERR      手動ﾊﾟﾙｻでうまくいかない 2013-06-20
34040                           10892     
34041                           10893     ;       ===== 距離がありそう =====
34042                                     ***** BEGIN-POOL *****
34043 000076FA 0000                       ALIGNMENT CODE
34044 000076FC 00000000                   DATA FOR SOURCE-LINE 10882
34045 00007700 00000000                   DATA FOR SOURCE-LINE 10889
34046                                     ***** END-POOL *****
34047 00007704                  10894     PLS_LSI_CTLCAL_500:                                                             ;
34048                           10895     ;<<<2010-09-21>>>
34049                           10896     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0
                                          ;<<<2010-09-21>>>
34050                           10897     ;;;;;;2015-03-10
34051                           10898     ;;;;;;2015-03-10        TST     R0,R0
                                          ;
34052                           10899     ;;;;;;2015-03-10        TST_BIT_OF PLS_LSI_CTLCAL_EXT
                                          ;書き換えない
34053                           10900     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_CTL_SPDSET,R0
                                          ;LSI SET
34054                           10901     ;;;;;;2015-03-10        M_BRA   PLS_LSI_CTLCAL_900
                                          ;
34055                           10902     
34056                           10903     ;       --------- 自起動速度設定の動作も対応[各機種共通事項]-----------
34057                           10904             FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
34058 00007704 D005                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34059 00007706 400B                   M           JSR     @R0                     ;
34060 00007708 0009                   M           NOP                                     ;
34061 0000770A 2008             10905             TST     R0,R0                                                           ;
34062                           10906             TST_BIT_ON PLS_LSI_CTLCAL_580
34063 0000770C 8B0A                   M           BF      PLS_LSI_CTLCAL_580
34064                           10907     
34065                           10908     ;       ---払い出し完了ならやめる---------
34066                           10909             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
34067 0000770E D004                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34068 00007710 400B                   M           JSR     @R0                     ;
34069 00007712 0009                   M           NOP                                     ;
34070 00007714 C804             10910             TST     #BIT2,R0                        ;停止?
34071                           10911             TST_BIT_ON PLS_LSI_CTLCAL_800           ;YES:
34072 00007716 8B3D                   M           BF      PLS_LSI_CTLCAL_800
34073                           10912             M_BRA   PLS_LSI_CTLCAL_EXT              ;
34074 00007718 A05D                   M           BRA     PLS_LSI_CTLCAL_EXT
34075 0000771A 0009                   M           NOP
34076                           10913     
34077                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   505
PROGRAM NAME =

34078 0000771C 00000000                   DATA FOR SOURCE-LINE 10904
34079 00007720 00000000                   DATA FOR SOURCE-LINE 10909
34080                                     ***** END-POOL *****
34081 00007724                  10914     PLS_LSI_CTLCAL_580:
34082                           10915             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
34083 00007724 D002                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34084 00007726 400B                   M           JSR     @R0                     ;
34085 00007728 0009                   M           NOP                                     ;
34086                           10916             M_BRA   PLS_LSI_CTLCAL_900                                              ;
34087 0000772A A045                   M           BRA     PLS_LSI_CTLCAL_900
34088 0000772C 0009                   M           NOP
34089                           10917     
34090                           10918     
34091                           10919     
34092                           10920     ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
34093                                     ***** BEGIN-POOL *****
34094 0000772E 0000                       ALIGNMENT CODE
34095 00007730 00000000                   DATA FOR SOURCE-LINE 10915
34096                                     ***** END-POOL *****
34097 00007734                  10921     PLS_LSI_CTLCAL_700:
34098                           10922             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
34099 00007734 D111                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
34100 00007736 6011                   M           MOV.W   @R1,R0          ;
34101 00007738 CB04                   M           OR      #BIT2,R0                ;
34102 0000773A 2101                   M           MOV.W   R0,@R1          ;
34103                           10923     ;       ---払い出し完了ならやめる---------
34104                           10924             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
34105 0000773C D010                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34106 0000773E 400B                   M           JSR     @R0                     ;
34107 00007740 0009                   M           NOP                                     ;
34108 00007742 C804             10925             TST     #BIT2,R0                        ;停止?
34109                           10926             TST_BIT_ON PLS_LSI_CTLCAL_820           ;YES:ﾌﾗｸﾞ終了
34110 00007744 8B2D                   M           BF      PLS_LSI_CTLCAL_820
34111                           10927     
34112                           10928     ;<<<2010-09-21>>>
34113                           10929     ;       ----ここにきたら目標位置が変わるまで加速はしない------
34114 00007746 D50F             10930             MOV.L   #_POSCTL_RL_SPD,R5              ;
34115 00007748 6252             10931             MOV.L   @R5,R2                          ;
34116 0000774A D40F             10932             MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
34117 0000774C 6342             10933             MOV.L   @R4,R3                          ;
34118 0000774E 2338             10934             TST     R3,R3                           ;
34119                           10935             TST_BIT_ON PLS_LSI_CTLCAL_720           ;
34120 00007750 8B00                   M           BF      PLS_LSI_CTLCAL_720
34121 00007752 E301             10936             MOV     #1,R3                           ;
34122 00007754                  10937     PLS_LSI_CTLCAL_720:                             ;
34123 00007754 3238             10938             SUB     R3,R2                           ;
34124 00007756 4211             10939             CMP/PZ  R2                              ;
34125 00007758 8900             10940             BT      PLS_LSI_CTLCAL_740              ;
34126 0000775A 222A             10941             XOR     R2,R2                           ;
34127 0000775C                  10942     PLS_LSI_CTLCAL_740:                             ;
34128                           10943     
34129                           10944     
34130                           10945     
34131 0000775C D10B             10946             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
34132 0000775E 6312             10947             MOV.L   @R1,R3                          ;
34133 00007760 3236             10948             CMP/HI  R3,R2                           ;
34134 00007762 8904             10949             BT      PLS_LSI_CTLCAL_760              ;OFS < CALC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   506
PROGRAM NAME =

34135 00007764 6233             10950             MOV     R3,R2                           ;MNINLINIT
34136                           10951     ;       -------------------
34137 00007766 D105             10952             MOV.L   #_POSCTL_STEP_FLG,R1            ;
34138 00007768 6011             10953             MOV.W   @R1,R0                          ;
34139 0000776A C802             10954             TST     #BIT1,R0                        ;手動減速中
34140                           10955             TST_BIT_ON PLS_LSI_CTLCAL_800           ;
34141 0000776C 8B12                   M           BF      PLS_LSI_CTLCAL_800
34142                           10956     
34143 0000776E                  10957     PLS_LSI_CTLCAL_760:                             ;
34144 0000776E 2522             10958             MOV.L   R2,@R5                          ;
34145                           10959             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0         ;LSI SET
34146 00007770 D007                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34147 00007772 400B                   M           JSR     @R0                     ;
34148 00007774 0009                   M           NOP                                     ;
34149                           10960             M_BRA   PLS_LSI_CTLCAL_900              ;
34150 00007776 A01F                   M           BRA     PLS_LSI_CTLCAL_900
34151 00007778 0009                   M           NOP
34152                           10961     
34153                           10962     ;       -------------終了処理(STEP STOP)----------
34154                                     ***** BEGIN-POOL *****
34155 0000777A 0000                       ALIGNMENT CODE
34156 0000777C 00000000                   DATA FOR SOURCE-LINE 10922,10952
34157 00007780 00000000                   DATA FOR SOURCE-LINE 10924
34158 00007784 00000000                   DATA FOR SOURCE-LINE 10930
34159 00007788 00000000                   DATA FOR SOURCE-LINE 10932
34160 0000778C 00000000                   DATA FOR SOURCE-LINE 10946
34161 00007790 00000000                   DATA FOR SOURCE-LINE 10959
34162                                     ***** END-POOL *****
34163 00007794                  10963     PLS_LSI_CTLCAL_800:
34164                           10964             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
34165 00007794 D009                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34166 00007796 400B                   M           JSR     @R0                     ;
34167 00007798 0009                   M           NOP                                     ;
34168                           10965             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
34169 0000779A D109                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
34170 0000779C 6011                   M           MOV.W   @R1,R0          ;
34171 0000779E CB20                   M           OR      #BIT5,R0                ;
34172 000077A0 2101                   M           MOV.W   R0,@R1          ;
34173 000077A2                  10966     PLS_LSI_CTLCAL_820:
34174                           10967             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
34175 000077A2 D107                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
34176 000077A4 6011                   M           MOV.W   @R1,R0          ;
34177 000077A6 CB40                   M           OR      #BIT6,R0                ;
34178 000077A8 2101                   M           MOV.W   R0,@R1          ;
34179                           10968             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
34180 000077AA D105                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
34181 000077AC 6011                   M           MOV.W   @R1,R0          ;
34182 000077AE CB08                   M           OR      #BIT3,R0                ;
34183 000077B0 2101                   M           MOV.W   R0,@R1          ;
34184                           10969     
34185                           10970             .AIF    0 EQ    0
34186                           10971 C   
34187                           10972 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
34188 000077B2 D004                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34189 000077B4 400B                   M           JSR     @R0                     ;
34190 000077B6 0009                   M           NOP                                     ;
34191                           10973             .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   507
PROGRAM NAME =

34192                           10974     
34193 000077B8                  10975     PLS_LSI_CTLCAL_900:
34194                           10976             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
34195 000077B8 A00D                   M           BRA     PLS_LSI_CTLCAL_EXT
34196 000077BA 0009                   M           NOP
34197                           10977     
34198                                     ***** BEGIN-POOL *****
34199 000077BC 00000000                   DATA FOR SOURCE-LINE 10964
34200 000077C0 00000000                   DATA FOR SOURCE-LINE 10965,10967,10968
34201 000077C4 00000000                   DATA FOR SOURCE-LINE 10972
34202                                     ***** END-POOL *****
34203 000077C8                  10978     PLS_LSI_CTLCAL_ERR:
34204                           10979             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
34205 000077C8 D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34206 000077CA 400B                   M           JSR     @R0                     ;
34207 000077CC 0009                   M           NOP                                     ;
34208                           10980             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
34209 000077CE D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
34210 000077D0 6011                   M           MOV.W   @R1,R0          ;
34211 000077D2 CB40                   M           OR      #BIT6,R0                ;
34212 000077D4 2101                   M           MOV.W   R0,@R1          ;
34213                           10981     
34214 000077D6                  10982     PLS_LSI_CTLCAL_EXT:
34215                           10983     
34216                           10984     
34217                           10985     
34218                           10986     
34219                           10987     
34220                           10988     
34221                           10989             SUB_END
34222                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34223 000077D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34224                           10990             M_RTS
34225 000077D8 000B                   M           RTS                             ;RTSの後ろの
34226 000077DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34227                           10991     
34228                           10992     ;       *******************************************
34229                           10993     ;       ***                                     ***
34230                           10994     ;       ***                                     ***
34231                           10995     ;       ***             加速・減速              ***
34232                           10996     ;       ***                                     ***
34233                           10997     ;       ***                                     ***
34234                           10998     ;       ***                                     ***
34235                           10999     ;       *******************************************
34236                           11000     ;
34237                           11001     ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
34238                           11002     ;
34239                                     ***** BEGIN-POOL *****
34240 000077DC 00000000                   DATA FOR SOURCE-LINE 10979
34241 000077E0 00000000                   DATA FOR SOURCE-LINE 10980
34242                                     ***** END-POOL *****
34243 000077E4                  11003             .ALIGN  4                               ;
34244 000077E4                  11004     _PLS_LSI_SPD_ACC_ADD:
34245                           11005             SUB_START
34246 000077E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
34247                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34248 000077E6 200A             11006             XOR     R0,R0                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   508
PROGRAM NAME =

34249 000077E8 D107             11007             MOV.L   #_POSCTL_SV_SPD,R1                              ;
34250 000077EA 6312             11008             MOV.L   @R1,R3                                          ;
34251 000077EC D507             11009             MOV.L   #_POSCTL_RL_SPD,R5                              ;
34252 000077EE 6252             11010             MOV.L   @R5,R2                                          ;
34253 000077F0 3320             11011             CMP/EQ  R2,R3                                           ;
34254 000077F2 8917             11012             BT      PLS_LSI_SPD_ACCADD_END                          ;SV=REAL
34255 000077F4 3323             11013             CMP/GE  R2,R3                                           ;R2<R3
34256 000077F6 8B0D             11014             BF      PLS_LSI_SPD_ACCADD_200                                  ;NO 減速しろ
34257                           11015     ;       ---加速しろ----
34258 000077F8 D405             11016             MOV.L   #_POSCTL_SV_UP_ACC,R4                                   ;500,000/1000
34259 000077FA 6142             11017             MOV.L   @R4,R1                                                  ;
34260 000077FC 321C             11018             ADD     R1,R2
34261 000077FE 3327             11019             CMP/GT  R2,R3                                                   ;
34262 00007800 890E             11020             BT      PLS_LSI_SPD_ACCADD_300                                  ;R2<R3(SV) THEN そ
                                          のまま加速
34263 00007802 6233             11021             MOV     R3,R2                                                   ;SV→REAL
34264                           11022             M_BRA   PLS_LSI_SPD_ACCADD_300                                  ;
34265 00007804 A00C                   M           BRA     PLS_LSI_SPD_ACCADD_300
34266 00007806 0009                   M           NOP
34267                           11023     
34268                                     ***** BEGIN-POOL *****
34269 00007808 00000000                   DATA FOR SOURCE-LINE 11007
34270 0000780C 00000000                   DATA FOR SOURCE-LINE 11009
34271 00007810 00000000                   DATA FOR SOURCE-LINE 11016
34272                                     ***** END-POOL *****
34273 00007814                  11024     PLS_LSI_SPD_ACCADD_200:
34274                           11025     ;       ---減速しろ---
34275 00007814 D405             11026             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
34276 00007816 6142             11027             MOV.L   @R4,R1                                                  ;
34277 00007818 3218             11028             SUB     R1,R2                                                   ;
34278 0000781A 3237             11029             CMP/GT  R3,R2                                                   ;
34279 0000781C 8900             11030             BT      PLS_LSI_SPD_ACCADD_300                                  ;R3<R2
34280 0000781E 6233             11031             MOV     R3,R2                                                   ;
34281 00007820                  11032     PLS_LSI_SPD_ACCADD_300:                                                 ;
34282 00007820 2522             11033             MOV.L   R2,@R5                                                  ;
34283 00007822 E001             11034             MOV     #1,R0                                                   ;
34284 00007824                  11035     PLS_LSI_SPD_ACCADD_END:
34285                           11036             SUB_END
34286                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34287 00007824 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34288                           11037             M_RTS
34289 00007826 000B                   M           RTS                             ;RTSの後ろの
34290 00007828 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34291                           11038     
34292                           11039     
34293                           11040     
34294                           11041     
34295                           11042     ;       *******************************************
34296                           11043     ;       ***                                     ***
34297                           11044     ;       ***     Input R1,R2(残り距離)           ***
34298                           11045     ;       ***     Input R9:SPEED  DATA            ***
34299                           11046     ;       ***     Input R10:OFFSET SPEED          ***
34300                           11047     ;       ***     Input R11:ACC_LATE              ***
34301                           11048     ;       ***                                     ***
34302                           11049     ;       *******************************************
34303                           11050     ;       ANS
34304                           11051     ;       00:KEEP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   509
PROGRAM NAME =

34305                           11052     ;       01:STOP
34306                           11053     ;       -1:ERR
34307                           11054     ;
34308                                     ***** BEGIN-POOL *****
34309 0000782A 0000                       ALIGNMENT CODE
34310 0000782C 00000000                   DATA FOR SOURCE-LINE 11026
34311                                     ***** END-POOL *****
34312 00007830                  11055             .ALIGN  4                               ;
34313 00007830                  11056     _CMP_SPD_REST_PLSCHKCOM:
34314                           11057             SUB_START
34315 00007830 4F22                   M           STS.L   PR,@-R15                ;[必要]
34316                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34317 00007832 4111             11058             CMP/PZ  R1                                              ;
34318 00007834 8901             11059             BT      CMPSPD_RSTPLS_250                               ;NOMAL
34319                           11060     ;       ----- ABNOMAL CALC------                                ;
34320                           11061             M_BRA   CMP_SPD_REST_ERR                                ;
34321 00007836 A024                   M           BRA     CMP_SPD_REST_ERR
34322 00007838 0009                   M           NOP
34323                           11062     
34324 0000783A                  11063     CMPSPD_RSTPLS_250:
34325                           11064     
34326 0000783A 2118             11065             TST     R1,R1                                           ;
34327                           11066             TST_BIT_OF CMPSPD_RSTPLS_280                            ;
34328 0000783C 8901                   M           BT      CMPSPD_RSTPLS_280
34329                           11067             M_BRA   CMP_SPD_REST_MOV                                ;まだまだ残り距離がある(32
                                          bit以上残り距離がある)
34330 0000783E A01D                   M           BRA     CMP_SPD_REST_MOV
34331 00007840 0009                   M           NOP
34332 00007842                  11068     CMPSPD_RSTPLS_280:
34333 00007842 D40D             11069             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
34334 00007844 3243             11070             CMP/GE  R4,R2                                           ;
34335 00007846 8919             11071             BT      CMP_SPD_REST_MOV                                ;減速距離がまだまだ大きい(
                                          連続でもありえない)
34336                           11072     ;       ---------------------------------------------------
34337                           11073     
34338                           11074     ;       -------減速距離比較------------
34339                           11075     ;       (R2:距離S)
34340                           11076     ;;      MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
34341                           11077     ;;      MOV.L   @R4,R11                                                 ;
34342                           11078     
34343 00007848 9415             11079             MOV.W   #_ACC_UNIT,R4                                           ;α:(PLS/1000)/s/s
34344 0000784A 3B4D             11080             DMULS.L R4,R11                                                  ;α'=α*1000
34345 0000784C 031A             11081             STS     MACL,R3                                                 ;
34346 0000784E 333C             11082             ADD     R3,R3                                                   ;2*α*1000
34347                           11083     
34348 00007850 332D             11084             DMULS.L R2,R3                                                   ;2*α'*S
34349 00007852 081A             11085             STS     MACL,R8                                                 ;
34350 00007854 070A             11086             STS     MACH,R7                                                 ;R7,R8=2*α*S
34351                           11087     ;;      MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
34352                           11088     ;;      MOV.L   @R4,R10                                                 ;
34353 00007856 3AAD             11089             DMULS.L R10,R10                                                 ;
34354 00007858 021A             11090             STS     MACL,R2                                                 ;
34355 0000785A 010A             11091             STS     MACH,R1                                                 ;
34356                           11092             ADD8B DT_REGH=R7,DT_REGL=R8,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2=2*α*S+β*
                                          β
34357 0000785C 0008                   M           CLRT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   510
PROGRAM NAME =

34358 0000785E 328E                   M           ADDC    R8,R2
34359 00007860 317E                   M           ADDC    R7,R1
34360                           11093     
34361                           11094     ;加速しないならこれでよい。
34362                           11095     ;この状態で演算し、且つ加速した結果でも演算する必要がある。             ;
34363                           11096     ;;      MOV.L   #_POSCTL_RL_SPD,R4                                      ;
34364                           11097     ;;      MOV.L   @R4,R9                                                  ;
34365 00007862 399D             11098             DMULS.L R9,R9                                                   ;V*V
34366 00007864 061A             11099             STS     MACL,R6                                                 ;
34367 00007866 050A             11100             STS     MACH,R5                                                 ;R5,R6=V*V
34368                           11101     
34369                           11102             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;2*α*S+β*β - V*
                                          V
34370 00007868 0008                   M           CLRT
34371 0000786A 326A                   M           SUBC    R6,R2
34372 0000786C 315A                   M           SUBC    R5,R1
34373 0000786E 4111             11103             CMP/PZ  R1                                                      ;
34374 00007870 8904             11104             BT      CMP_SPD_REST_MOV                                        ;
34375                           11105             M_BRA   CMP_SPD_REST_STOP                                       ;
34376 00007872 A009                   M           BRA     CMP_SPD_REST_STOP
34377 00007874 0009                   M           NOP
34378                           11106     
34379                                     ***** BEGIN-POOL *****
34380 00007876 03E8                       DATA FOR SOURCE-LINE 11079
34381 00007878 00E4E1C0                   DATA FOR SOURCE-LINE 11069
34382                                     ***** END-POOL *****
34383 0000787C                  11107     CMP_SPD_REST_MOV:
34384 0000787C 200A             11108             XOR     R0,R0
34385                           11109             M_BRA   CMP_SPD_REST_END
34386 0000787E A004                   M           BRA     CMP_SPD_REST_END
34387 00007880 0009                   M           NOP
34388                           11110     
34389                           11111     ;       ====== 減速開始すべき位置======
34390 00007882                  11112     CMP_SPD_REST_ERR:
34391 00007882 E0FF             11113             MOV     #-1,R0
34392                           11114             M_BRA   CMP_SPD_REST_END        ;
34393 00007884 A001                   M           BRA     CMP_SPD_REST_END
34394 00007886 0009                   M           NOP
34395 00007888                  11115     CMP_SPD_REST_STOP:
34396 00007888 E001             11116             MOV     #1,R0
34397 0000788A                  11117     CMP_SPD_REST_END:
34398                           11118             SUB_END
34399                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34400 0000788A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34401                           11119             M_RTS
34402 0000788C 000B                   M           RTS                             ;RTSの後ろの
34403 0000788E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34404                           11120     
34405                           11121     
34406                           11122     
34407                           11123     ;       ***************************************************
34408                           11124     ;       ***                                             ***
34409                           11125     ;       ***             残距離作成                      ***
34410                           11126     ;       ***             2010-09-22                      ***
34411                           11127     ;       ***             演算の簡略化                    ***
34412                           11128     ;       ***                                             ***
34413                           11129     ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   511
PROGRAM NAME =

34414 00007890                  11130             .ALIGN  4                               ;
34415 00007890                  11131     _ACC_REST_INFO_MAKE
34416                           11132             SUB_START
34417 00007890 4F22                   M           STS.L   PR,@-R15                ;[必要]
34418                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34419                           11133     ;       ----------- 設定目標位置        ---------
34420 00007892 D411             11134             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
34421 00007894 5140             11135             MOV.L   @(0,R4),R1                                              ;
34422 00007896 5241             11136             MOV.L   @(4,R4),R2                                              ;
34423                           11137     
34424                           11138     ;       ---------------リアルタイム目標位置-----------
34425 00007898 D410             11139             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
34426 0000789A 5540             11140             MOV.L   @(0,R4),R5                                              ;
34427 0000789C 5641             11141             MOV.L   @(4,R4),R6                                              ;
34428                           11142             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
34429 0000789E 0008                   M           CLRT
34430 000078A0 326A                   M           SUBC    R6,R2
34431 000078A2 315A                   M           SUBC    R5,R1
34432                           11143     
34433 000078A4 D40E             11144             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
34434 000078A6 6041             11145             MOV.W   @R4,R0                                                  ;
34435 000078A8 C801             11146             TST     #BIT0,R0                                                ;
34436                           11147             TST_BIT_OF ACC_REST_INFMK_100                                   ;正転
34437 000078AA 8905                   M           BT      ACC_REST_INFMK_100
34438                           11148             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
34439 000078AC 6227                   M           NOT     R2,R2                           ;
34440 000078AE 6117                   M           NOT     R1,R1                           ;
34441 000078B0 200A                   M           XOR     R0,R0                           ;
34442 000078B2 0018                   M           SETT
34443 000078B4 320E                   M           ADDC    R0,R2                           ;0+1+R2
34444 000078B6 310E                   M           ADDC    R0,R1                           ;
34445 000078B8                  11149     ACC_REST_INFMK_100                                                      ;正転
34446                           11150     
34447 000078B8 D50A             11151             MOV.L   #_ACC_REST_ABS_PLS,R5   ;
34448 000078BA 2512             11152             MOV.L   R1,@R5                  ;
34449 000078BC 1521             11153             MOV.L   R2,@(4,R5)              ;
34450                           11154     
34451                           11155     
34452 000078BE 200A             11156             XOR     R0,R0
34453 000078C0 2118             11157             TST     R1,R1                                   ;8byteの上位4byteがあるか？
34454                           11158             TST_BIT_ON ACC_REST_INFMK_200                   ;まだ4BYTE以上ある
34455 000078C2 8B03                   M           BF      ACC_REST_INFMK_200
34456                           11159     
34457 000078C4 D408             11160             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
34458 000078C6 3243             11161             CMP/GE  R4,R2                                           ;
34459 000078C8 8900             11162             BT      ACC_REST_INFMK_200                              ;減速距離がまだまだ大きい(
                                          連続でもありえない)
34460                           11163     
34461 000078CA E0FF             11164             MOV.B   #-1,R0                                          ;4BYTE以下なので減速演算し
                                          てもいい
34462                           11165                                                             ;演算オーバフロー対策
34463                           11166     
34464 000078CC                  11167     ACC_REST_INFMK_200                                                      ;
34465 000078CC D407             11168             MOV.L   #_ACC_REST_FLG,R4                                       ;
34466 000078CE 2401             11169             MOV.W   R0,@R4                                                  ;0:まだまだ距離が
                                          十分ある
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   512
PROGRAM NAME =

34467                           11170     
34468                           11171             SUB_END
34469                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34470 000078D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34471                           11172             M_RTS
34472 000078D2 000B                   M           RTS                             ;RTSの後ろの
34473 000078D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34474                           11173     
34475                           11174     ;       *******************************************
34476                           11175     ;       ***                                     ***
34477                           11176     ;       ***                                     ***
34478                           11177     ;       ***                                     ***
34479                           11178     ;       ***     振り子加速・減速演算            ***
34480                           11179     ;       ***                                     ***
34481                           11180     ;       ***                                     ***
34482                           11181     ;       *******************************************
34483                           11182             .EXPORT _DNM_TBL_CALC
34484                           11183             .EXPORT _DNM_START_ACC_CALC
34485                           11184             .EXPORT _DNM_STEP_ACC_CHANGE
34486                           11185     
34487                           11186             .EXPORT _DNM_SPD_CALC
34488                           11187             .EXPORT _DNM_ACC_CALC
34489                           11188             .IMPORT _DATA_CMP2B_R5R6_REF            ;DTMK
34490                           11189     
34491                           11190     ;       ===================================
34492                           11191     ;       ===  SCURVが有効であれば生かす  ===
34493                           11192     ;       ===================================
34494                           11193     
34495                           11194             .EXPORT _USE_IN_TBL_MOV                 ;
34496                           11195             .INCLUDE        "ssa_acct.inc"          ;//2010-09-21ふりこテーブル演算
34497                               1 I1  ;       ***************************************************
34498                               2 I1  ;       ***                                             ***
34499                               3 I1  ;       ***                                             ***
34500                               4 I1  ;       ***                                             ***
34501                               5 I1  ;       ***             振り子加速度演算                ***
34502                               6 I1  ;       ***                                             ***
34503                               7 I1  ;       ***                                             ***
34504                               8 I1  ;       ***                                             ***
34505                               9 I1  ;       ***************************************************
34506                              10 I1  ;       SSA_POS1.SRCにｲﾝｸﾙｰﾄﾞされる
34507                                 I1  ***** BEGIN-POOL *****
34508 000078D6 0000                   I1  ALIGNMENT CODE
34509 000078D8 00000000               I1  DATA FOR SOURCE-LINE 11134
34510 000078DC 00000000               I1  DATA FOR SOURCE-LINE 11139
34511 000078E0 00000000               I1  DATA FOR SOURCE-LINE 11144
34512 000078E4 00000000               I1  DATA FOR SOURCE-LINE 11151
34513 000078E8 00E4E1C0               I1  DATA FOR SOURCE-LINE 11160
34514 000078EC 00000000               I1  DATA FOR SOURCE-LINE 11168
34515                                 I1  ***** END-POOL *****
34516          00002710            11 I1  _ACC_PER_V_MAX  .EQU    10000   ;10000換算
34517          000003E8            12 I1  _ACC_CALC_TIM   .EQU    1000    ;1/1000msec
34518                              13 I1  ;
34519                              14 I1          .INCLUDE        "ssa_acrm.ext"          ; //
34520                               1 I2  ;//     *******************************************
34521                               2 I2  ;//     ***             振り子加速              ***
34522                               3 I2  ;//     *******************************************
34523                               4 I2  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   513
PROGRAM NAME =

34524                               5 I2  
34525                               6 I2  
34526                               7 I2          .GLOBAL         _ACC_LAST_SPD           ;最大速度から求まる
34527                               8 I2          .GLOBAL         _ACC_STOP_SPD           ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
34528                               9 I2          .GLOBAL         _ACC_STEP_SPD           ;ステップ
34529                              10 I2  
34530                              11 I2          .GLOBAL         _ACC_LAST_POINT         ;最大速度から求まる
34531                              12 I2          .GLOBAL         _ACC_STOP_POINT         ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
34532                              13 I2          .GLOBAL         _ACC_STEP_POINT         ;ステップ
34533                              14 I2  
34534                              15 I2          .GLOBAL         _ACC_STEP_FLG           ;BIT0:START BIT1:CALC BIT2:LIMIT
34535                              16 I2          .GLOBAL         _ACC_CTRL_STS1          ;
34536                              17 I2          .GLOBAL         _ACC_CTRL_STS2          ;
34537                              18 I2  
34538                              19 I2          .GLOBAL         _ACC_POS_STEP           ;
34539                              20 I2          .GLOBAL         _ACC_STR_STEP           ;
34540                              21 I2  
34541                              22 I2          .GLOBAL         _ACC_STOP_NUMBER        ;停止に使用するデータ番号=停止ステップ
34542                              23 I2          .GLOBAL         _ACC_STEP_NUMBER        ;加減速に使用するデータ番号=動作ステップ
34543                              24 I2          .GLOBAL         _ACC_ANS_ACCDAT         ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
34544                              25 I2  
34545                              26 I2  
34546                              27 I2  
34547                              28 I2  ;       ------------------------------------------
34548                              29 I2          .GLOBAL         _ACCB_ACCLAT_TIM1       ;最大加減速時間 設定
34549                              30 I2  
34550                              31 I2  
34551                              32 I2  ;
34552                              33 I2  ;       ・各段に変速テーブル（加速または減速）と停止テーブルが存在する
34553                              34 I2  ;       ・変速状態（加速中または減速）での停止は、そのテーブルの停止テーブルに従う
34554                              35 I2  ;       ・停止テーブルは常に増加方向:パルスが必要(パルスでサーチする)
34555                              36 I2  ;       ・加速テーブルも常に増加方向:パルスは不要(速度でサーチする)
34556                              37 I2  ;       ・減速テーブルは常に増加方向:パルスは不要(速度でサーチする)
34557                              38 I2  ;
34558                              39 I2  
34559                              40 I2  
34560                              41 I2  
34561                              42 I2          .GLOBAL         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
34562                              43 I2          .GLOBAL         _ACC_INF1_STEPSP02      ;050%[前状態],100%[設定]
34563                              44 I2          .GLOBAL         _ACC_INF1_STEPSP03      ;100%[前状態],100%[設定](この場合は前の状
                                          態の加減速をCOPY)
34564                              45 I2          .GLOBAL         _ACC_INF1_STEPSP04      ;
34565                              46 I2          .GLOBAL         _ACC_INF1_STEPSP05      ;
34566                              47 I2          .GLOBAL         _ACC_INF1_STEPSP06      ;
34567                              48 I2          .GLOBAL         _ACC_INF1_STEPSP07      ;
34568                              49 I2          .GLOBAL         _ACC_INF1_STEPSP08      ;
34569                              50 I2          .GLOBAL         _ACC_INF1_STEPSP09      ;
34570                              51 I2          .GLOBAL         _ACC_INF1_STEPSP10      ;
34571                              52 I2          .GLOBAL         _ACC_INF1_STEPSP11      ;
34572                              53 I2  
34573                              54 I2  
34574                              55 I2                                          ;INFOMAINTION
34575                              56 I2          .GLOBAL         _ACC_INF1_STEP001       ;//(加速:0/減速:1)
34576                              57 I2          .GLOBAL         _ACC_INF1_STEP002       ;//
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   514
PROGRAM NAME =

34577                              58 I2          .GLOBAL         _ACC_INF1_STEP003       ;
34578                              59 I2          .GLOBAL         _ACC_INF1_STEP004       ;
34579                              60 I2          .GLOBAL         _ACC_INF1_STEP005       ;
34580                              61 I2          .GLOBAL         _ACC_INF1_STEP006       ;
34581                              62 I2          .GLOBAL         _ACC_INF1_STEP007       ;
34582                              63 I2          .GLOBAL         _ACC_INF1_STEP008       ;
34583                              64 I2          .GLOBAL         _ACC_INF1_STEP009       ;
34584                              65 I2          .GLOBAL         _ACC_INF1_STEP010       ;
34585                              66 I2          .GLOBAL         _ACC_INF1_STEP011       ;
34586                              67 I2  
34587                              68 I2  
34588                              69 I2  
34589                              70 I2  
34590                              71 I2  ;       ----------------------------------------------
34591                              72 I2  ;;;[2013-05-20 前から未使用];   最大速度時の加減速時間(設定値と同じもの：上下限チェック済
                                          み)
34592                              73 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_ACCTM      ;加減速時間
34593                              74 I2  ;;;[2013-05-20 前から未使用]
34594                              75 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速速度
34595                              76 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPVTBL    ;//
34596                              77 I2  ;;;[2013-05-20 前から未使用]
34597                              78 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速パルス
34598                              79 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPPTBL    ;//
34599                              80 I2  
34600                              81 I2  
34601                              82 I2  ;
34602                              83 I2  ;       ---------------------------------------------------
34603                              84 I2  ;各段可変速用の加減速速度
34604                              85 I2  
34605                              86 I2          .GLOBAL         _ACC_STEP001_VTBL       ;//
34606                              87 I2          .GLOBAL         _ACC_STEP002_VTBL       ;//
34607                              88 I2          .GLOBAL         _ACC_STEP003_VTBL       ;//
34608                              89 I2          .GLOBAL         _ACC_STEP004_VTBL       ;//
34609                              90 I2          .GLOBAL         _ACC_STEP005_VTBL       ;//
34610                              91 I2          .GLOBAL         _ACC_STEP006_VTBL       ;//
34611                              92 I2          .GLOBAL         _ACC_STEP007_VTBL       ;//
34612                              93 I2          .GLOBAL         _ACC_STEP008_VTBL       ;//
34613                              94 I2          .GLOBAL         _ACC_STEP009_VTBL       ;//
34614                              95 I2          .GLOBAL         _ACC_STEP010_VTBL       ;//
34615                              96 I2          .GLOBAL         _ACC_STEP011_VTBL       ;//
34616                              97 I2  
34617                              98 I2  
34618                              99 I2  ;       ---------------------------------------------------
34619                             100 I2  ;各段可変速用の加減速時間
34620                             101 I2  
34621                             102 I2          .GLOBAL         _ACC_STEP001_ACTM       ;
34622                             103 I2          .GLOBAL         _ACC_STEP002_ACTM       ;
34623                             104 I2          .GLOBAL         _ACC_STEP003_ACTM       ;
34624                             105 I2          .GLOBAL         _ACC_STEP004_ACTM       ;
34625                             106 I2          .GLOBAL         _ACC_STEP005_ACTM       ;
34626                             107 I2          .GLOBAL         _ACC_STEP006_ACTM       ;
34627                             108 I2          .GLOBAL         _ACC_STEP007_ACTM       ;
34628                             109 I2          .GLOBAL         _ACC_STEP008_ACTM       ;
34629                             110 I2          .GLOBAL         _ACC_STEP009_ACTM       ;
34630                             111 I2          .GLOBAL         _ACC_STEP010_ACTM       ;
34631                             112 I2          .GLOBAL         _ACC_STEP011_ACTM       ;
34632                             113 I2  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   515
PROGRAM NAME =

34633                             114 I2  ;       ================================================
34634                             115 I2  ;
34635                             116 I2  ;各段停止用の減速速度
34636                             117 I2  ;                                       格段の停止時
34637                             118 I2  
34638                             119 I2          .GLOBAL         _ACC_STOP001_VTBL       ;//
34639                             120 I2          .GLOBAL         _ACC_STOP002_VTBL       ;//
34640                             121 I2          .GLOBAL         _ACC_STOP003_VTBL       ;//
34641                             122 I2          .GLOBAL         _ACC_STOP004_VTBL       ;//
34642                             123 I2          .GLOBAL         _ACC_STOP005_VTBL       ;//
34643                             124 I2          .GLOBAL         _ACC_STOP006_VTBL       ;//
34644                             125 I2          .GLOBAL         _ACC_STOP007_VTBL       ;//
34645                             126 I2          .GLOBAL         _ACC_STOP008_VTBL       ;//
34646                             127 I2          .GLOBAL         _ACC_STOP009_VTBL       ;//
34647                             128 I2          .GLOBAL         _ACC_STOP010_VTBL       ;//
34648                             129 I2          .GLOBAL         _ACC_STOP011_VTBL       ;//
34649                             130 I2  
34650                             131 I2  ;各段停止用の減速パルス
34651                             132 I2  
34652                             133 I2          .GLOBAL         _ACC_STOP001_PTBL       ;//
34653                             134 I2          .GLOBAL         _ACC_STOP002_PTBL       ;//
34654                             135 I2          .GLOBAL         _ACC_STOP003_PTBL       ;//
34655                             136 I2          .GLOBAL         _ACC_STOP004_PTBL       ;//
34656                             137 I2          .GLOBAL         _ACC_STOP005_PTBL       ;//
34657                             138 I2          .GLOBAL         _ACC_STOP006_PTBL       ;//
34658                             139 I2          .GLOBAL         _ACC_STOP007_PTBL       ;//
34659                             140 I2          .GLOBAL         _ACC_STOP008_PTBL       ;//
34660                             141 I2          .GLOBAL         _ACC_STOP009_PTBL       ;//
34661                             142 I2          .GLOBAL         _ACC_STOP010_PTBL       ;//
34662                             143 I2          .GLOBAL         _ACC_STOP011_PTBL       ;//
34663                             144 I2  
34664                             145 I2  
34665                             146 I2          .GLOBAL         _ACC_STOP001_ACTM       ;
34666                             147 I2          .GLOBAL         _ACC_STOP002_ACTM       ;
34667                             148 I2          .GLOBAL         _ACC_STOP003_ACTM       ;
34668                             149 I2          .GLOBAL         _ACC_STOP004_ACTM       ;
34669                             150 I2          .GLOBAL         _ACC_STOP005_ACTM       ;
34670                             151 I2          .GLOBAL         _ACC_STOP006_ACTM       ;
34671                             152 I2          .GLOBAL         _ACC_STOP007_ACTM       ;
34672                             153 I2          .GLOBAL         _ACC_STOP008_ACTM       ;
34673                             154 I2          .GLOBAL         _ACC_STOP009_ACTM       ;
34674                             155 I2          .GLOBAL         _ACC_STOP010_ACTM       ;
34675                             156 I2          .GLOBAL         _ACC_STOP011_ACTM       ;
34676                             157 I2  
34677                             158 I2  ;       *******************************************
34678                             159 I2  ;       ***                                     ***
34679                             160 I2  ;       ***     加速度パターン入れ替え          ***
34680                             161 I2  ;       ***                                     ***
34681                             162 I2  ;       *******************************************
34682                             163 I2          .GLOBAL         _ACC_IN_TBL_TIM         ;255msec時間 ループ数は256
34683                             164 I2          .GLOBAL         _ACC_IN_TBLUSE          ;
34684                             165 I2  
34685                             166 I2  
34686                             167 I2  ;       -----------------------------------
34687                             168 I2  ;       ---                             ---
34688                             169 I2  ;       ---     ｵｰﾊﾞﾗｲﾄﾞ対策            ---
34689                             170 I2  ;       ---                             ---
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   516
PROGRAM NAME =

34690                             171 I2  ;       -----------------------------------
34691                             172 I2          .GLOBAL         _ACC_REST_ABS_PLSX      ;//比率倍(CPUAのみ使用)
34692                             173 I2          .GLOBAL         _ACC_CALC_SPDX          ;
34693                             174 I2          .GLOBAL         _ACC_CALC_SPD           ;
34694                             175 I2          .GLOBAL         _ACC_POSCTL_SV_SPDX             ;                               ;･
                                          ････
34695                             176 I2          .GLOBAL         _ACC_POSCTL_RL_SPDX             ;
34696                             177 I2          .GLOBAL         _ACC_POSCTL_SV_UP_ACCX          ;
34697                             178 I2          .GLOBAL         _ACC_POSCTL_SV_DN_ACCX          ;
34698                             179 I2  
34699                             180 I2  
34700                             181 I2  ;//     -----------------------------------
34701                             182 I2  ;//     ---     2013-02-05              ---
34702                             183 I2  ;//     -----------------------------------
34703                             184 I2          .GLOBAL _SVX_OBJ_SPD_OLDTOP;
34704                             185 I2          .GLOBAL _SVX_UPAREA_SPD0OLD;
34705                             186 I2  
34706                              15 I1  
34707                              16 I1  
34708                              17 I1  
34709                              18 I1          .IMPORT         _DNM_MAXSPM_ACCLAT_MAK          ;2010-10-05
34710                              19 I1  
34711                              20 I1  
34712                              21 I1  ;//     *******************************************
34713                              22 I1  ;//     ***             振り子加速              ***
34714                              23 I1  ;//     *******************************************
34715                              24 I1  ;       ***************************************************
34716                              25 I1  ;       ***                                             ***
34717                              26 I1  ;       ***             ふりこ加速テーブル              ***
34718                              27 I1  ;       ***             パラメータに入れる              ***
34719                              28 I1  ;       ***                                             ***
34720                              29 I1  ;       ***************************************************
34721                              30 I1          .GLOBAL         _CB_SYS_PARTBL001       ;CODE:ｺｰﾄﾞ存在なければﾃﾞｰﾀなし
34722                              31 I1          .GLOBAL         _CB_SYS_PARTBL002       ;1:加速度ﾃｰﾌﾞﾙ使用NO.[1個より増えた場合用]
34723                              32 I1          .GLOBAL         _CB_SYS_PARTBL003       ;1:最大回転速度/加減速時間ﾃｰﾌﾞﾙ使用[1個よ
                                          り増えた場合用]
34724                              33 I1          .GLOBAL         _CB_SYS_PARTBL004       ;加速度ﾃｰﾌﾞﾙ1　<設定位置１未満
34725                              34 I1          .GLOBAL         _CB_SYS_PARTBL005       ;加速度ﾃｰﾌﾞﾙ2　位置1≦＜位置2
34726                              35 I1  
34727                              36 I1  
34728                              37 I1  ;       ***************************************************
34729                              38 I1  ;       ***                                             ***
34730                              39 I1  ;       ***             mm-最大回転数,加減速時間        ***
34731                              40 I1  ;       ***                                             ***
34732                              41 I1  ;       ***************************************************
34733                              42 I1          .GLOBAL         _CB_SYS_DNMTBL1_CNT             ;
34734                              43 I1          .GLOBAL         _CB_SYS_DNMTBL1_DATA_TOP        ;
34735                              44 I1          .GLOBAL         _CB_SYS_ACCTBL1_CNT             ;
34736                              45 I1          .GLOBAL         _CB_SYS_ACCTBL1_IN_TOP          ;
34737                              46 I1          .GLOBAL         _CB_SYS_ACCTBL2_CNT             ;
34738                              47 I1          .GLOBAL         _CB_SYS_ACCTBL2_IN_TOP          ;
34739                              48 I1          .GLOBAL         _CB_SYS_ACCTBL3_CNT             ;
34740                              49 I1          .GLOBAL         _CB_SYS_ACCTBL3_IN_TOP          ;
34741                              50 I1  
34742                              51 I1          .import         _SYS2_DT_LOAD
34743                              52 I1  
34744                              53 I1  ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   517
PROGRAM NAME =

34745                              54 I1  ;       ***                                             ***
34746                              55 I1  ;       ***             速度テーブル                    ***
34747                              56 I1  ;       ***                                             ***
34748                              57 I1  ;       ***************************************************
34749 000078F0                     58 I1          .ALIGN  4                                               ;
34750                              59 I1  ;;;;;   .INCLUDE        "ssa_atbl.inc"          ;//2010-09-21
34751                              60 I1  
34752                              61 I1          .AIF    0 EQ    0
34753                              62 C   
34754                              63 C           .IMPORT _PDTRB
34755                              64 C           .MACRO  _A_WDT_CLR
34756                              65 C           PUSH_REG1 R10
34757                              66 C           PUSH_REG1 R11
34758                              67 C           PUSH_REG1 R12
34759                              68 C   
34760                              69 C           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
34761                              70 C   
34762                              71 C           MOV.L   #_PDTRB,R10
34763                              72 C           MOV.W   @R10,R11
34764                              73 C           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
34765                              74 C           AND     R12,R11                 ;
34766                              75 C           MOV.W   R11,@R10                ;
34767                              76 C           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
34768                              77 C           OR      R12,R11                 ;
34769                              78 C           MOV.W   R11,@R10                ;
34770                              79 C   
34771                              80 C           EI_POP_SR_SHn                   ;
34772                              81 C   
34773                              82 C           POP_REG1 R12
34774                              83 C           POP_REG1 R11
34775                              84 C           POP_REG1 R10
34776                              85 C           .ENDM
34777                              86 C   
34778                              87             .AELSE
34779                              88     ;CPU-Bは5msecでたたいているから不要
34780                              89             .MACRO  _A_WDT_CLR
34781                              90             .ENDM
34782                              91     
34783                              92     
34784                              93             .AENDI
34785                              94 I1  
34786                              95 I1  ;
34787                              96 I1  ;       _DNM_TBL_CALC:  ﾃｰﾌﾞﾙ作成[DTMK]
34788                              97 I1  ;       _DNM_START_ACC_CALC:API 起動 往路/復路CHANGE [POS1]
34789                              98 I1  ;       _DNM_STEP_ACC_CHANGE:API 工程切替 ;[POS1]
34790                              99 I1  ;       _DNM_SPD_CALC:速度演算→ACC算出,反映[POS1]
34791                             100 I1  ;
34792                             101 I1  
34793                             102 I1  
34794                             103 I1  ;       ***************************************************
34795                             104 I1  ;       ***                                             ***
34796                             105 I1  ;       ***                                             ***
34797                             106 I1  ;       ***                                             ***
34798                             107 I1  ;       ***                                             ***
34799                             108 I1  ;       ***                                             ***
34800                             109 I1  ;       ***                                             ***
34801                             110 I1  ;       ***             振り子加速度テーブル作成        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   518
PROGRAM NAME =

34802                             111 I1  ;       ***                                             ***
34803                             112 I1  ;       ***                                             ***
34804                             113 I1  ;       ***                                             ***
34805                             114 I1  ;       ***                                             ***
34806                             115 I1  ;       ***                                             ***
34807                             116 I1  ;       ***                                             ***
34808                             117 I1  ;       ***************************************************
34809                             118 I1  ;       dtmkにて演算(WDT-CLR必要)
34810 000078F0                    119 I1          .ALIGN  4                                               ;
34811 000078F0                    120 I1  _DNM_TBL_CALC:
34812                             121 I1          SUB_START
34813 000078F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
34814                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34815                             122 I1  
34816                             123 I1          FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
34817 000078F2 D006                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34818 000078F4 400B                   M           JSR     @R0                     ;
34819 000078F6 0009                   M           NOP                                     ;
34820 000078F8 2008               124 I1          TST     R0,R0
34821                             125 I1          TST_BIT_OF DNM_TBLCAL_200                               ;ふりこでない
34822 000078FA 890B                   M           BT      DNM_TBLCAL_200
34823                             126 I1  
34824                             127 I1          FAR_JSR #_DNM_MOTION_DATA_MAK,R0                        ;振り子時
34825 000078FC D004                   M           MOV.L   #_DNM_MOTION_DATA_MAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34826 000078FE 400B                   M           JSR     @R0                     ;
34827 00007900 0009                   M           NOP                                     ;
34828 00007902 9001               128 I1          MOV.W   #1,R0
34829                             129 I1          M_BRA   DNM_TBLCAL_300                                  ;
34830 00007904 A007                   M           BRA     DNM_TBLCAL_300
34831 00007906 0009                   M           NOP
34832                             130 I1  
34833                                 I1  ***** BEGIN-POOL *****
34834 00007908 0001                   I1  DATA FOR SOURCE-LINE 128
34835 0000790A 0000                   I1  ALIGNMENT CODE
34836 0000790C 00000000               I1  DATA FOR SOURCE-LINE 123
34837 00007910 00000000               I1  DATA FOR SOURCE-LINE 127
34838                                 I1  ***** END-POOL *****
34839 00007914                    131 I1  DNM_TBLCAL_200:
34840 00007914 200A               132 I1          XOR     R0,R0
34841 00007916                    133 I1  DNM_TBLCAL_300:
34842 00007916 D104               134 I1          MOV.L   #_DNM_ACC_CALFLG,R1                             ;//0/1
34843 00007918 2101               135 I1          MOV.W   R0,@R1                                          ;
34844                             136 I1  
34845                             137 I1  
34846                             138 I1  
34847                             139 I1  ;       ============ ﾃﾞﾊﾞｯｸ===========
34848                             140 I1   .AIF   0 EQ    0
34849 0000791A D104               141 C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
34850                             142      .AELSE
34851                             143             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
34852                             144      .AENDI
34853 0000791C 6011               145 I1          MOV.W   @R1,R0
34854 0000791E D104               146 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB258,R1     ;258,328
34855 00007920 2101               147 I1          MOV.W   R0,@R1
34856                             148 I1  
34857                             149 I1          SUB_END
34858                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   519
PROGRAM NAME =

34859 00007922 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34860                             150 I1          M_RTS
34861 00007924 000B                   M           RTS                             ;RTSの後ろの
34862 00007926 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34863                             151 I1  
34864                             152 I1  
34865                             153 I1  ;       *******************************************
34866                             154 I1  ;       ***                                     ***
34867                             155 I1  ;       ***             各データ作成CALL        ***
34868                             156 I1  ;       ***                                     ***
34869                             157 I1  ;       *******************************************
34870                             158 I1  ;       速度演算結果 * 速度比率/100　･･･速度
34871                             159 I1  ;       ﾃｰﾌﾞﾙの距離を速度比率/100････残距離比較
34872                             160 I1  ;       残り距離*100/速度比率
34873                             161 I1  ;
34874                             162 I1  ;       [起動時に比率を取込む]
34875                             163 I1  ;
34876                             164 I1  ;       --------2015-03-15[ふりこの設定状態]
34877                             165 I1  
34878                             166 I1          .MACRO  DNM_INFO_SET SETCOD
34879                             167 I1  
34880                             168 I1          MOV.W   #\SETCOD,R0
34881                             169 I1   .AIF   0 EQ    0
34882                             170 I1          MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
34883                             171 I1   .AELSE
34884                             172 I1          MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
34885                             173 I1   .AENDI
34886                             174 I1          MOV.W   R0,@R1                          ;
34887                             175 I1  
34888                             176 I1          .ENDM
34889                             177 I1  
34890                             178 I1          .IMPORT _SH4_DNM_CALC_INFO              ;
34891                             179 I1          .IMPORT _SH2_DNM_CALC_INFO              ;
34892                             180 I1  
34893                             181 I1  
34894                                 I1  ***** BEGIN-POOL *****
34895 00007928 00000000               I1  DATA FOR SOURCE-LINE 134
34896 0000792C 00000000               I1  DATA FOR SOURCE-LINE 141
34897 00007930 00000000               I1  DATA FOR SOURCE-LINE 146
34898                                 I1  ***** END-POOL *****
34899 00007934                    182 I1  _DNM_MOTION_DATA_MAK:
34900                             183 I1          SUB_START
34901 00007934 4F22                   M           STS.L   PR,@-R15                ;[必要]
34902                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34903                             184 I1  
34904                             185 I1  
34905                             186 I1  
34906 00007936 277A               187 I1          XOR     R7,R7                           ;
34907 00007938 D50E               188 I1          MOV.L   #_SVP_UPAREA_SPD0,R5            ;基準速度(戻速度)
34908 0000793A D60F               189 I1          MOV.L   #_SVX_UPAREA_SPD0OLD,R6         ;
34909                             190 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
34910 0000793C D00F                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34911 0000793E 400B                   M           JSR     @R0                     ;
34912 00007940 0009                   M           NOP                                     ;
34913                             191 I1  
34914                             192 I1  
34915 00007942 9315               193 I1          MOV.W   #D'20,R3                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   520
PROGRAM NAME =

34916 00007944 D50E               194 I1          MOV.L   #_SVP_OBJECT_SPD_TOP,R5         ;
34917 00007946 D60F               195 I1          MOV.L   #_SVX_OBJ_SPD_OLDTOP,R6         ;
34918                             196 I1  
34919 00007948                    197 I1  ACC_INFMAK1_DTCHGCHKLOP
34920                             198 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
34921 00007948 D00C                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34922 0000794A 400B                   M           JSR     @R0                     ;
34923 0000794C 0009                   M           NOP                                     ;
34924 0000794E 73FF               199 I1          ADD     #-1,R3                          ;
34925 00007950 2338               200 I1          TST     R3,R3                           ;
34926                             201 I1          TST_BIT_ON ACC_INFMAK1_DTCHGCHKLOP      ;
34927 00007952 8BF9                   M           BF      ACC_INFMAK1_DTCHGCHKLOP
34928 00007954 2778               202 I1          TST     R7,R7                           ;
34929                             203 I1          TST_BIT_ON ACC_INFMAK1_START            ;[速度設定変更有り]
34930 00007956 8B1D                   M           BF      ACC_INFMAK1_START
34931                             204 I1  
34932 00007958 D10B               205 I1          MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
34933 0000795A 6011               206 I1          MOV.W   @R1,R0                          ;
34934 0000795C D10B               207 I1          MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
34935 0000795E 6211               208 I1          MOV.W   @R1,R2                          ;
34936 00007960 202B               209 I1          OR      R2,R0                           ;
34937 00007962 2008               210 I1          TST     R0,R0                           ;
34938                             211 I1          TST_BIT_ON ACC_INFMAK1_START050         ;異常状態での演算
34939 00007964 8B1E                   M           BF      ACC_INFMAK1_START050
34940                             212 I1  
34941                             213 I1          FAR_JSR #_API_SETACC_STS_CLR,R0         ;
34942 00007966 D00A                   M           MOV.L   #_API_SETACC_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34943 00007968 400B                   M           JSR     @R0                     ;
34944 0000796A 0009                   M           NOP                                     ;
34945                             214 I1  
34946                             215 I1          M_BRA   ACC_INFMAK1_EXT                 ;
34947 0000796C A029                   M           BRA     ACC_INFMAK1_EXT
34948 0000796E 0009                   M           NOP
34949                             216 I1  
34950                             217 I1  ;       ----------[CPUA/B間で演算完了状態であれば 反映して良い]--------
34951                                 I1  ***** BEGIN-POOL *****
34952 00007970 0014                   I1  DATA FOR SOURCE-LINE 193
34953 00007972 0000                   I1  ALIGNMENT CODE
34954 00007974 00000000               I1  DATA FOR SOURCE-LINE 188
34955 00007978 00000000               I1  DATA FOR SOURCE-LINE 189
34956 0000797C 00000000               I1  DATA FOR SOURCE-LINE 190,198
34957 00007980 00000000               I1  DATA FOR SOURCE-LINE 194
34958 00007984 00000000               I1  DATA FOR SOURCE-LINE 195
34959 00007988 00000000               I1  DATA FOR SOURCE-LINE 205
34960 0000798C 00000000               I1  DATA FOR SOURCE-LINE 207
34961 00007990 00000000               I1  DATA FOR SOURCE-LINE 213
34962                                 I1  ***** END-POOL *****
34963 00007994                    218 I1  ACC_INFMAK1_START
34964                             219 I1          DNM_INFO_SET SETCOD=BIT0;       ;演算中
34965                                 M   
34966 00007994 9003                   M           MOV.W   #BIT0,R0
34967                                 M    .AIF   0 EQ    0
34968 00007996 D102                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
34969                                      .AELSE
34970                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
34971                                      .AENDI
34972 00007998 2101                   M           MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   521
PROGRAM NAME =

34973                                 M   
34974                             220 I1          M_BRA   ACC_INFMAK1_START100            ;
34975 0000799A A006                   M           BRA     ACC_INFMAK1_START100
34976 0000799C 0009                   M           NOP
34977                             221 I1  
34978                                 I1  ***** BEGIN-POOL *****
34979 0000799E 0001                   I1  DATA FOR SOURCE-LINE 219
34980 000079A0 00000000               I1  DATA FOR SOURCE-LINE 219
34981                                 I1  ***** END-POOL *****
34982 000079A4                    222 I1  ACC_INFMAK1_START050:
34983                             223 I1          DNM_INFO_SET SETCOD=BIT1                ;演算中
34984                                 M   
34985 000079A4 9010                   M           MOV.W   #BIT1,R0
34986                                 M    .AIF   0 EQ    0
34987 000079A6 D109                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
34988                                      .AELSE
34989                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
34990                                      .AENDI
34991 000079A8 2101                   M           MOV.W   R0,@R1                          ;
34992                                 M   
34993                             224 I1  
34994 000079AA                    225 I1  ACC_INFMAK1_START100:
34995                             226 I1  
34996                             227 I1          FAR_JSR #_SYS2_DT_LOAD,R0                       ;
34997 000079AA D009                   M           MOV.L   #_SYS2_DT_LOAD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34998 000079AC 400B                   M           JSR     @R0                     ;
34999 000079AE 0009                   M           NOP                                     ;
35000                             228 I1  
35001                             229 I1  
35002                             230 I1          FAR_JSR #_ACC_STEP_INF_MAKE1,R0         ;
35003 000079B0 D008                   M           MOV.L   #_ACC_STEP_INF_MAKE1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35004 000079B2 400B                   M           JSR     @R0                     ;
35005 000079B4 0009                   M           NOP                                     ;
35006                             231 I1                                                  ;_ACC_INF1_STEPSP01     ;000%[前状態],050%
                                          [設定]
35007                             232 I1                                                  ;_ACC_INF1_STEP001      ;BIT2=[0=加速/1=減
                                          速]
35008                             233 I1                                                  ;
35009                             234 I1          FAR_JSR #_ACC_TBL_MAKE1,R0              ;
35010 000079B6 D008                   M           MOV.L   #_ACC_TBL_MAKE1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35011 000079B8 400B                   M           JSR     @R0                     ;
35012 000079BA 0009                   M           NOP                                     ;
35013                             235 I1  
35014                             236 I1  
35015                             237 I1          DNM_INFO_SET SETCOD=BIT2                ;演算すべき状態、演算結果を反映して良い状
                                          態
35016                                 M   
35017 000079BC 9005                   M           MOV.W   #BIT2,R0
35018                                 M    .AIF   0 EQ    0
35019 000079BE D103                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
35020                                      .AELSE
35021                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
35022                                      .AENDI
35023 000079C0 2101                   M           MOV.W   R0,@R1                          ;
35024                                 M   
35025                             238 I1  
35026 000079C2                    239 I1  ACC_INFMAK1_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   522
PROGRAM NAME =

35027                             240 I1  
35028                             241 I1          SUB_END
35029                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35030 000079C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35031                             242 I1          M_RTS
35032 000079C4 000B                   M           RTS                             ;RTSの後ろの
35033 000079C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35034                             243 I1  
35035                             244 I1  ;       ***************************************************
35036                             245 I1  ;       ***                                             ***
35037                             246 I1  ;       *** 自分がBIT2=1で相手がBIT2=1またはBIT3=1      ***
35038                             247 I1  ;       *** なら演算を反映する                          ***
35039                             248 I1  ;       ***                                             ***
35040                             249 I1  ;       ***************************************************
35041                             250 I1  ;
35042                             251 I1  ;
35043                             252 I1          .EXPORT _API_SETACC_INFO_GET
35044                                 I1  ***** BEGIN-POOL *****
35045 000079C8 0002                   I1  DATA FOR SOURCE-LINE 223
35046 000079CA 0004                   I1  DATA FOR SOURCE-LINE 237
35047 000079CC 00000000               I1  DATA FOR SOURCE-LINE 223,237
35048 000079D0 00000000               I1  DATA FOR SOURCE-LINE 227
35049 000079D4 00000000               I1  DATA FOR SOURCE-LINE 230
35050 000079D8 00000000               I1  DATA FOR SOURCE-LINE 234
35051                                 I1  ***** END-POOL *****
35052 000079DC                    253 I1  _API_SETACC_INFO_GET:
35053                             254 I1          SUB_START
35054 000079DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
35055                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35056                             255 I1  
35057                             256 I1  
35058                             257 I1   .AIF   0 EQ    0
35059 000079DE D507               258 C           MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
35060 000079E0 D607               259 C           MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
35061                             260 C   
35062                             261      .AELSE
35063                             262             MOV.L   #_SH2_DNM_CALC_INFO,R5          ;SH2 TO SH4 +SH2演算部
35064                             263             MOV.L   #_SH4_DNM_CALC_INFO,R6          ;SH4 TO SH2 +SH4演算部
35065                             264      .AENDI
35066 000079E2 6051               265 I1          MOV.W   @R5,R0                          ;
35067 000079E4 6261               266 I1          MOV.W   @R6,R2
35068 000079E6 6423               267 I1          MOV     R2,R4
35069 000079E8 240B               268 I1          OR      R0,R4
35070                             269 I1  
35071 000079EA 2448               270 I1          TST     R4,R4                           ;
35072                             271 I1          TST_BIT_OF API_SETACC_INFOGET_CALOK2    ;演算してもいいよ
35073 000079EC 890D                   M           BT      API_SETACC_INFOGET_CALOK2
35074                             272 I1  
35075 000079EE C804               273 I1          TST     #BIT2,R0                        ;自分がON
35076                             274 I1          TST_BIT_OF API_SETACC_INFOGET_CALNG     ;
35077 000079F0 890E                   M           BT      API_SETACC_INFOGET_CALNG
35078                             275 I1  
35079 000079F2 E40C               276 I1          MOV.B   #(BIT3+BIT2),R4                 ;
35080 000079F4 2248               277 I1          TST     R4,R2                           ;
35081                             278 I1          TST_BIT_ON API_SETACC_INFOGET_CALOK1    ;
35082 000079F6 8B05                   M           BF      API_SETACC_INFOGET_CALOK1
35083                             279 I1          M_BRA   API_SETACC_INFOGET_CALNG        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   523
PROGRAM NAME =

35084 000079F8 A00A                   M           BRA     API_SETACC_INFOGET_CALNG
35085 000079FA 0009                   M           NOP
35086                             280 I1  
35087                             281 I1  
35088                                 I1  ***** BEGIN-POOL *****
35089 000079FC 00000000               I1  DATA FOR SOURCE-LINE 258
35090 00007A00 00000000               I1  DATA FOR SOURCE-LINE 259
35091                                 I1  ***** END-POOL *****
35092 00007A04                    282 I1  API_SETACC_INFOGET_CALOK1:
35093 00007A04 E001               283 I1          MOV.B   #BIT0,R0                        ;演算しろ[完了にしてね！！]
35094                             284 I1          M_BRA   API_SETACC_INFOGET_CALEXT       ;
35095 00007A06 A004                   M           BRA     API_SETACC_INFOGET_CALEXT
35096 00007A08 0009                   M           NOP
35097                             285 I1  
35098 00007A0A                    286 I1  API_SETACC_INFOGET_CALOK2:
35099 00007A0A E002               287 I1          MOV.B   #BIT1,R0                        ;完了にしないでね
35100                             288 I1          M_BRA   API_SETACC_INFOGET_CALEXT
35101 00007A0C A001                   M           BRA     API_SETACC_INFOGET_CALEXT
35102 00007A0E 0009                   M           NOP
35103                             289 I1  
35104 00007A10                    290 I1  API_SETACC_INFOGET_CALNG:
35105 00007A10 200A               291 I1          XOR     R0,R0
35106 00007A12                    292 I1  API_SETACC_INFOGET_CALEXT:
35107                             293 I1  
35108                             294 I1          SUB_END
35109                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35110 00007A12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35111                             295 I1          M_RTS
35112 00007A14 000B                   M           RTS                             ;RTSの後ろの
35113 00007A16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35114                             296 I1  
35115                             297 I1          .EXPORT _API_SETACC_STS_END             ;
35116                             298 I1  
35117 00007A18                    299 I1  _API_SETACC_STS_END:
35118                             300 I1          SUB_START
35119 00007A18 4F22                   M           STS.L   PR,@-R15                ;[必要]
35120                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35121                             301 I1  
35122                             302 I1          DNM_INFO_SET SETCOD=BIT3                ;演算終了した状態
35123                                 M   
35124 00007A1A 9004                   M           MOV.W   #BIT3,R0
35125                                 M    .AIF   0 EQ    0
35126 00007A1C D102                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
35127                                      .AELSE
35128                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
35129                                      .AENDI
35130 00007A1E 2101                   M           MOV.W   R0,@R1                          ;
35131                                 M   
35132                             303 I1  
35133                             304 I1          SUB_END
35134                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35135 00007A20 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35136                             305 I1          M_RTS
35137 00007A22 000B                   M           RTS                             ;RTSの後ろの
35138 00007A24 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35139                             306 I1  
35140                             307 I1  ;       ----CLRはCPUAはCPUAとCPUBを行う-----------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   524
PROGRAM NAME =

35141                                 I1  ***** BEGIN-POOL *****
35142 00007A26 0008                   I1  DATA FOR SOURCE-LINE 302
35143 00007A28 00000000               I1  DATA FOR SOURCE-LINE 302
35144                                 I1  ***** END-POOL *****
35145 00007A2C                    308 I1  _API_SETACC_STS_CLR:
35146                             309 I1          SUB_START
35147 00007A2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
35148                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35149                             310 I1   .AIF   0 EQ    0
35150 00007A2E D507               311 C           MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
35151 00007A30 6051               312 C           MOV.W   @R5,R0                          ;
35152 00007A32 D607               313 C           MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
35153 00007A34 6261               314 C           MOV.W   @R6,R2                          ;
35154                             315 C   ;;;;[本当はこっち]      MOV.B   #BIT3,R4
35155 00007A36 E404               316 C           MOV.B   #BIT2,R4                        ;ｽｷｬﾝﾃｽﾄ
35156 00007A38 3240               317 C           CMP/EQ  R4,R2                           ;(R2==R0 R0?BIT3　の論理は危険 )
35157 00007A3A 8B04               318 C           BF      API_SETACC_STSCLR_EXT           ;
35158 00007A3C 3040               319 C           CMP/EQ  R4,R0                           ;完了？
35159 00007A3E 8B02               320 C           BF      API_SETACC_STSCLR_EXT           ;
35160                             321 C   
35161 00007A40 200A               322 C           XOR     R0,R0                           ;IDEL
35162 00007A42 2501               323 C           MOV.W   R0,@R5                          ;
35163 00007A44 2601               324 C           MOV.W   R0,@R6                          ;
35164                             325 C   
35165 00007A46                    326 C   API_SETACC_STSCLR_EXT:
35166                             327 C   
35167                             328 I1   .AENDI
35168                             329 I1  
35169                             330 I1          SUB_END
35170                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35171 00007A46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35172                             331 I1          M_RTS
35173 00007A48 000B                   M           RTS                             ;RTSの後ろの
35174 00007A4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35175                             332 I1  
35176                             333 I1  
35177                             334 I1  
35178                             335 I1  ;       *******************************************
35179                             336 I1  ;       ***                                     ***
35180                             337 I1  ;       ***             ステップINFOMATION      ***
35181                             338 I1  ;       ***                                     ***
35182                             339 I1  ;       *******************************************
35183                             340 I1  
35184                             341 I1  
35185                                 I1  ***** BEGIN-POOL *****
35186 00007A4C 00000000               I1  DATA FOR SOURCE-LINE 311
35187 00007A50 00000000               I1  DATA FOR SOURCE-LINE 313
35188                                 I1  ***** END-POOL *****
35189 00007A54                    342 I1  _ACC_STEP_INF_MAKE1:
35190                             343 I1          SUB_START
35191 00007A54 4F22                   M           STS.L   PR,@-R15                ;[必要]
35192                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35193                             344 I1  
35194                             345 I1  
35195 00007A56 DE0F               346 I1          MOV.L   #_SETX_POS_SDAT1_INF1,R14               ;往路情報 long data(BIT1=0正/1逆,
                                          BIT0=0 速度停止)
35196                             347 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   525
PROGRAM NAME =

35197 00007A58 D10F               348 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
35198 00007A5A 6511               349 I1          MOV.W   @R1,R5                                  ;
35199 00007A5C 7501               350 I1          ADD     #1,R5
35200                             351 I1  
35201                             352 I1  
35202 00007A5E D80F               353 I1          MOV.L   #_ACC_INF1_STEP001,R8                   ;BIT2=[0=加速/1=減速]
35203                             354 I1                                                          ;BIT1=[0=正,1=逆]
35204                             355 I1                                                          ;BIT0=[0=停/1=連続]
35205                             356 I1  
35206 00007A60 D90F               357 I1          MOV.L   #_ACC_INF1_STEPSP01,R9                  ;000%[前状態],050%[設定]
35207                             358 I1  
35208 00007A62 277A               359 I1          XOR     R7,R7                                   ;(前回速度)
35209 00007A64 DA0F               360 I1          MOV.L   #_SVP_OBJECT_SPD_TOP,R10                ;
35210                             361 I1  
35211 00007A66                    362 I1  ACC_STEPINF_MAK1_100LOP:                                        ;
35212                             363 I1  
35213                             364 I1  
35214 00007A66 62A5               365 I1          MOV.W   @R10+,R2                                ;
35215                             366 I1  
35216 00007A68 9412               367 I1          MOV.W   #1,R4                                   ;
35217 00007A6A 3540               368 I1          CMP/EQ  R4,R5                                   ;"残りｽﾃｯﾌﾟ数=1"(戻りﾃﾞｰﾀ)
35218 00007A6C 8B01               369 I1          BF      ACC_STEPINF_MAK1_120                    ;
35219 00007A6E D10E               370 I1          MOV.L   #_SVP_UPAREA_SPD0,R1                    ;0.1%　戻り速度
35220 00007A70 6211               371 I1          MOV.W   @R1,R2                                  ;
35221 00007A72                    372 I1  ACC_STEPINF_MAK1_120:
35222                             373 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1                    ;
35223 00007A72 D10E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35224 00007A74 410B                   M           JSR     @R1                     ;
35225 00007A76 0009                   M           NOP                                     ;
35226                             374 I1  
35227                             375 I1  
35228                             376 I1  ;R7=0,R2=sv
35229                             377 I1  
35230 00007A78 60E6               378 I1          MOV.L   @R14+,R0                                ;
35231 00007A7A C9FB               379 I1          AND     #LOW ~BIT2,R0                           ;
35232                             380 I1  
35233 00007A7C 3270               381 I1          CMP/EQ  R7,R2                                   ;R7(OLD)==R2
35234 00007A7E 8B17               382 I1          BF      ACC_STEPINF_MAK1_180                    ;NO
35235                             383 I1  
35236                             384 I1  ;       ====== 速度が同じ場合、前の段の加速・減速情報を使用する
35237 00007A80 78FE               385 I1          ADD     #-2,R8                                  ;
35238 00007A82 6185               386 I1          MOV.W   @R8+,R1                                 ;
35239 00007A84 9405               387 I1          MOV.W   #BIT2,R4                                ;
35240 00007A86 2148               388 I1          TST     R4,R1                                   ;
35241                             389 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;
35242 00007A88 8915                   M           BT      ACC_STEPINF_MAK1_200
35243 00007A8A CB04               390 I1          OR      #BIT2,R0                                ;
35244                             391 I1          M_BRA   ACC_STEPINF_MAK1_200                    ;
35245 00007A8C A013                   M           BRA     ACC_STEPINF_MAK1_200
35246 00007A8E 0009                   M           NOP
35247                             392 I1  
35248                             393 I1  
35249                             394 I1  
35250                                 I1  ***** BEGIN-POOL *****
35251 00007A90 0001                   I1  DATA FOR SOURCE-LINE 367
35252 00007A92 0004                   I1  DATA FOR SOURCE-LINE 387
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   526
PROGRAM NAME =

35253 00007A94 00000000               I1  DATA FOR SOURCE-LINE 346
35254 00007A98 00000000               I1  DATA FOR SOURCE-LINE 348
35255 00007A9C 00000000               I1  DATA FOR SOURCE-LINE 353
35256 00007AA0 00000000               I1  DATA FOR SOURCE-LINE 357
35257 00007AA4 00000000               I1  DATA FOR SOURCE-LINE 360
35258 00007AA8 00000000               I1  DATA FOR SOURCE-LINE 370
35259 00007AAC 00000000               I1  DATA FOR SOURCE-LINE 373
35260                                 I1  ***** END-POOL *****
35261 00007AB0                    395 I1  ACC_STEPINF_MAK1_180:                                   ;
35262 00007AB0 3273               396 I1          CMP/GE  R7,R2                                   ;R7(OLD)=<R2
35263                             397 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;加速JUMP
35264 00007AB2 8900                   M           BT      ACC_STEPINF_MAK1_200
35265 00007AB4 CB04               398 I1          OR      #BIT2,R0                                ;
35266 00007AB6                    399 I1  ACC_STEPINF_MAK1_200:                                   ;
35267 00007AB6 2801               400 I1          MOV.W   R0,@R8                                  ;BIT2,BIT1,BIT0 SAVE
35268 00007AB8 7802               401 I1          ADD     #2,R8                                   ;
35269                             402 I1  
35270 00007ABA 2971               403 I1          MOV.W   R7,@R9                                  ;OLD
35271 00007ABC 7902               404 I1          ADD     #2,R9                                   ;
35272 00007ABE 2921               405 I1          MOV.W   R2,@R9                                  ;TARGET
35273 00007AC0 7902               406 I1          ADD     #2,R9                                   ;
35274                             407 I1  
35275                             408 I1  
35276 00007AC2 C801               409 I1          TST     #BIT0,R0                                ;
35277                             410 I1          TST_BIT_ON ACC_STEPINF_MAK1_250                 ;BIT0=0(停止) NO! JUMP
35278 00007AC4 8B00                   M           BF      ACC_STEPINF_MAK1_250
35279 00007AC6 222A               411 I1          XOR     R2,R2                                   ;
35280 00007AC8                    412 I1  ACC_STEPINF_MAK1_250:                                   ;
35281 00007AC8 6723               413 I1          MOV     R2,R7                                   ;
35282 00007ACA 75FF               414 I1          ADD     #-1,R5                                  ;
35283 00007ACC 2558               415 I1          TST     R5,R5                                   ;
35284                             416 I1          TST_BIT_OF ACC_STEPINF_MAK1_300                 ;
35285 00007ACE 8901                   M           BT      ACC_STEPINF_MAK1_300
35286                             417 I1          M_BRA   ACC_STEPINF_MAK1_100LOP                 ;
35287 00007AD0 AFC9                   M           BRA     ACC_STEPINF_MAK1_100LOP
35288 00007AD2 0009                   M           NOP
35289                             418 I1  
35290 00007AD4                    419 I1  ACC_STEPINF_MAK1_300:                                   ;
35291                             420 I1  
35292                             421 I1          SUB_END
35293                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35294 00007AD4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35295                             422 I1          M_RTS
35296 00007AD6 000B                   M           RTS                             ;RTSの後ろの
35297 00007AD8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35298                             423 I1  
35299                             424 I1  
35300 00007ADA                    425 I1  _R2_MUL10_ANS_R2:
35301                             426 I1          SUB_START
35302 00007ADA 4F22                   M           STS.L   PR,@-R15                ;[必要]
35303                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35304                             427 I1          PUSH_REG1 R1
35305 00007ADC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
35306                                 M                                           ;REG=>[SP]
35307                                 M                                           ;"-4" FF,FF,FF,FC
35308 00007ADE 9105               428 I1          MOV.W   #D'10,R1        ;
35309 00007AE0 321D               429 I1          DMULS.L R1,R2           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   527
PROGRAM NAME =

35310 00007AE2 021A               430 I1          STS     MACL,R2         ;
35311                             431 I1          POP_REG1 R1
35312                                 M                                   ; RE"+4" 00,00,00,04
35313 00007AE4 61F6                   M           MOV.L   @R15+,R1        ;
35314                             432 I1          SUB_END
35315                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35316 00007AE6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35317                             433 I1          M_RTS
35318 00007AE8 000B                   M           RTS                             ;RTSの後ろの
35319 00007AEA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35320                             434 I1  
35321                             435 I1  
35322                             436 I1  ;       ***************************************************
35323                             437 I1  ;       ***                                             ***
35324                             438 I1  ;       ***     振り子加速度テーブル作成                ***
35325                             439 I1  ;       ***                                             ***
35326                             440 I1  ;       ***                                             ***
35327                             441 I1  ;       ***                                             ***
35328                             442 I1  ;       ***************************************************
35329                             443 I1  ;       256個　0番目=0と255番目=10000とすること
35330                             444 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         255             ;255msec時間 ループ数は256
35331                             445 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         50              ;255msec時間 ループ数は256
35332                             446 I1  ;
35333                             447 I1  ;
35334                             448 I1  ;       演算タイミングは
35335                             449 I1  ;                       「速度設定変更時」
35336                             450 I1  ;                       「非常停止時」
35337                             451 I1  ;                       「起動中」
35338                             452 I1  ;
35339                             453 I1  ;
35340                                 I1  ***** BEGIN-POOL *****
35341 00007AEC 000A                   I1  DATA FOR SOURCE-LINE 428
35342                                 I1  ***** END-POOL *****
35343 00007AEE                    454 I1  _ACC_TBL_MAKE1
35344                             455 I1          SUB_START
35345 00007AEE 4F22                   M           STS.L   PR,@-R15                ;[必要]
35346                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35347                             456 I1  
35348                             457 I1  
35349                             458 I1  
35350                             459 I1  ;;;;2013-02-05[移動]    FAR_JSR #_USE_IN_TBL_MOV,R0             ;2010-10-20
35351                             460 I1  ;;;;2013-02-05[移動];   ---------<<<<<加減速時間 1~1000>>>>>-----------
35352                             461 I1  ;;;;2013-02-05[移動]    MOV.L   #_TBL_ANS_ACCTIM,R1                             ;2010-10-2
                                          5
35353                             462 I1  ;;;;2013-02-05[移動]    MOV.W   @R1,R2                                          ;
35354                             463 I1  ;;;;2013-02-05[移動]    TST     R2,R2
35355                             464 I1  ;;;;2013-02-05[移動]    TST_BIT_ON ACC_TBLMAK1_DTCHK050                         ;
35356                             465 I1  ;;;;2013-02-05[移動]    MOV.W   #1,R2                                           ;
35357                             466 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK050                                                ;
35358                             467 I1  ;;;;2013-02-05[移動]    MOV.W   #D'1000,R0                                      ;
35359                             468 I1  ;;;;2013-02-05[移動]    CMP/HS  R2,R0                                           ;
35360                             469 I1  ;;;;2013-02-05[移動]    BT      ACC_TBLMAK1_DTCHK100                            ;
35361                             470 I1  ;;;;2013-02-05[移動]    MOV     R0,R2                                           ;1msec~100
                                          0でﾘﾐｯﾄ
35362                             471 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK100                                                ;
35363                             472 I1  ;;;;2013-02-05[移動]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;
35364                             473 I1  ;;;;2013-02-05[移動]    MOV.W   R2,@R1                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   528
PROGRAM NAME =

35365                             474 I1  
35366                             475 I1  
35367                             476 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
35368                             477 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
35369                             478 I1  ;;;[2013-05-20 前から未使用];   ---     BASE(0%->100%=100%→0% 最終減速)ﾃﾞｰﾀの作成      --
                                          -
35370                             479 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
35371                             480 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
35372                             481 I1  ;;;[2013-05-20 前から未使用]
35373                             482 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(0~100.00%の加速時間,速度ﾃｰﾌﾞﾙ作成)----
                                          -----------
35374                             483 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBLUSE,R11                             ;
                                          元ﾃｰﾌﾞﾙADR(2byte)
35375                             484 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBL_TIM,R1                             ;2
                                          55msec ﾙｰﾌﾟは256回
35376                             485 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R12                                         ;
35377                             486 I1  ;;;[2013-05-20 前から未使用]
35378                             487 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_
                                          SET1_ACCLAT_TIM1
35379                             488 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R7                                          ;R
                                          7=最大加速時間
35380                             489 I1  ;;;[2013-05-20 前から未使用]
35381                             490 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #0,R8                                           ;R
                                          8:BASE SPEED速度
35382                             491 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #_ACC_PER_V_MAX,R9                              ;R
                                          9:目標速度
35383                             492 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R13                       ;R
                                          13:速度格納用//
35384                             493 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R5                        ;(
                                          このｹｰｽでは不要)前の段の速度-RAM
35385                             494 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R14                         ;R
                                          14:加減速時間
35386                             495 I1  ;;;[2013-05-20 前から未使用]                                                            ;
35387                             496 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          5:前の段の速度-RAM
35388                             497 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          7:最大加減速時間
35389                             498 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          8:OLD-SPD
35390                             499 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          9:TARGET
35391                             500 I1  ;;;[2013-05-20 前から未使用]    MOV     R7,R10                                          ;2
                                          013-05-20 R10:(前段の加速時間/PLS TABLE用/)
35392                             501 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          11:SRC - SPD TABLE
35393                             502 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          12:SRC - 時間
35394                             503 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R13:Output - SPD RAM>
35395                             504 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R14:Output - ACC RAM>
35396                             505 I1  ;;;[2013-05-20 前から未使用]
35397                             506 I1  ;;;[2013-05-20 前から未使用]    PUSH_ALL                                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   529
PROGRAM NAME =

35398                             507 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;
35399                             508 I1  ;;;[2013-05-20 前から未使用]    POP_ALL                                                 ;
35400                             509 I1  ;;;[2013-05-20 前から未使用]
35401                             510 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)---------
                                          --
35402                             511 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
35403                             512 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R6                                          ;
35404                             513 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R10                       ;
35405                             514 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          6=MAX pls/s
35406                             515 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          13=_ACC_BASEDAT_STPVTBL
35407                             516 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          14=_ACC_BASEDAT_ACCTM
35408                             517 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          10=_ACC_BASEDAT_STPPTBL
35409                             518 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
35410                             519 I1  ;;;[2013-05-20 前から未使用]
35411                             520 I1  ;;;[2013-05-20 前から未使用];   -------- 2013-02-25 ﾃﾞｰﾀﾁｪｯｸ及び金型ﾀｯﾁ用 ----------
35412                             521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_DNM_MAX_GENSOK_LENGTH,R1                      ;/
                                          /100%時→0時の減速距離
35413                             522 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R7,@R1                                          ;
35414                             523 I1  
35415                             524 I1  
35416                             525 I1                                                                  ;
35417                             526 I1  
35418                             527 I1  ;       -----------------------------------------------------------
35419                             528 I1  ;       ---                                                     ---
35420                             529 I1  ;       ---     1段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
35421                             530 I1  ;       ---     1段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
35422                             531 I1  ;       ---                                                     ---
35423                             532 I1  ;       -----------------------------------------------------------
35424 00007AF0 D00C               533 I1          MOV.L   #_ACC_STEP01_TBL_TOP,R0                         ;
35425 00007AF2 401E               534 I1          LDC     R0,GBR                                          ;
35426                             535 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
35427 00007AF4 D00C                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35428 00007AF6 400B                   M           JSR     @R0                     ;
35429 00007AF8 0009                   M           NOP                                     ;
35430                             536 I1  
35431                             537 I1  ;       -----------------------------------------------------------
35432                             538 I1  ;       ---                                                     ---
35433                             539 I1  ;       ---     2段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
35434                             540 I1  ;       ---     2段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
35435                             541 I1  ;       ---                                                     ---
35436                             542 I1  ;       -----------------------------------------------------------
35437 00007AFA D10C               543 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
35438 00007AFC 6511               544 I1          MOV.W   @R1,R5                                          ;
35439 00007AFE 7501               545 I1          ADD     #1,R5
35440                             546 I1  
35441 00007B00 D60B               547 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
35442 00007B02 6066               548 I1          MOV.L   @R6+,R0                                         ;1段目分
35443 00007B04 75FF               549 I1          ADD     #-1,R5                                          ;
35444                             550 I1  
35445 00007B06                    551 I1  ACC_TBLMAK1_200LOP
35446 00007B06 6066               552 I1          MOV.L   @R6+,R0                                         ;
35447                             553 I1          PUSH_REG1 R5
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   530
PROGRAM NAME =

35448 00007B08 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
35449                                 M                                           ;REG=>[SP]
35450                                 M                                           ;"-4" FF,FF,FF,FC
35451                             554 I1          PUSH_REG1 R6
35452 00007B0A 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
35453                                 M                                           ;REG=>[SP]
35454                                 M                                           ;"-4" FF,FF,FF,FC
35455                             555 I1  
35456 00007B0C 401E               556 I1          LDC     R0,GBR                                          ;
35457                             557 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
35458 00007B0E D006                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35459 00007B10 400B                   M           JSR     @R0                     ;
35460 00007B12 0009                   M           NOP                                     ;
35461                             558 I1  
35462                             559 I1          POP_REG1 R6
35463                                 M                                   ; RE"+4" 00,00,00,04
35464 00007B14 66F6                   M           MOV.L   @R15+,R6        ;
35465                             560 I1          POP_REG1 R5
35466                                 M                                   ; RE"+4" 00,00,00,04
35467 00007B16 65F6                   M           MOV.L   @R15+,R5        ;
35468 00007B18 75FF               561 I1          ADD     #-1,R5
35469 00007B1A 2558               562 I1          TST     R5,R5                                           ;
35470                             563 I1          TST_BIT_ON ACC_TBLMAK1_200LOP                           ;
35471 00007B1C 8BF3                   M           BF      ACC_TBLMAK1_200LOP
35472                             564 I1  
35473                             565 I1  
35474                             566 I1  
35475                             567 I1          SUB_END
35476                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35477 00007B1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35478                             568 I1          M_RTS
35479 00007B20 000B                   M           RTS                             ;RTSの後ろの
35480 00007B22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35481                             569 I1  
35482                             570 I1  
35483                             571 I1  
35484                             572 I1  
35485                             573 I1  ;       *******************************************
35486                             574 I1  ;       ***                                     ***
35487                             575 I1  ;       ***     加速度パターン選択+転送         ***
35488                             576 I1  ;       ***                                     ***
35489                             577 I1  ;       *******************************************
35490                                 I1  ***** BEGIN-POOL *****
35491 00007B24 00000000               I1  DATA FOR SOURCE-LINE 533
35492 00007B28 00000000               I1  DATA FOR SOURCE-LINE 535,557
35493 00007B2C 00000000               I1  DATA FOR SOURCE-LINE 543
35494 00007B30 00000000               I1  DATA FOR SOURCE-LINE 547
35495                                 I1  ***** END-POOL *****
35496 00007B34                    578 I1  _USE_IN_TBL_MOV:
35497                             579 I1          SUB_START
35498 00007B34 4F22                   M           STS.L   PR,@-R15                ;[必要]
35499                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35500                             580 I1  
35501                             581 I1  
35502                             582 I1  ;       -----------------------------------------------
35503                             583 I1  ;;;;2013-02-05  MOV.L   #_TBL_ANS_ACC_SEL,R1                            ;(0,1),2[TBL2],3[T
                                          BL3]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   531
PROGRAM NAME =

35504                             584 I1  ;;;;2013-02-05  MOV.W   @R1,R0                                          ;
35505                             585 I1  ;;;;2013-02-05
35506                             586 I1  ;;;;2013-02-05
35507                             587 I1  ;;;;2013-02-05
35508                             588 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_CNT,R7                         ;
35509                             589 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_IN_TOP,R5                      ;
35510                             590 I1  ;;;;2013-02-05
35511                             591 I1  ;;;;2013-02-05  CMP/EQ  #3,R0                                           ;
35512                             592 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
35513                             593 I1  ;;;;2013-02-05
35514                             594 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_CNT,R7                         ;
35515                             595 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_IN_TOP,R5
35516                             596 I1  ;;;;2013-02-05  CMP/EQ  #2,R0                                           ;
35517                             597 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
35518                             598 I1  ;;;;2013-02-05
35519                             599 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
35520                             600 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
35521                             601 I1  ;;;;2013-02-05
35522                             602 I1  ;;;;2013-02-05  USE_IN_TBLMV_100:
35523                             603 I1  
35524 00007B36 D707               604 I1          MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
35525 00007B38 D507               605 I1          MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
35526 00007B3A 6371               606 I1          MOV.W   @R7,R3                                          ;
35527 00007B3C D107               607 I1          MOV.L   #_ACC_IN_TBL_TIM,R1                             ;255msec ﾙｰﾌﾟは256回
35528 00007B3E 2131               608 I1          MOV.W   R3,@R1                                          ;
35529 00007B40 7302               609 I1          ADD     #2,R3                                           ;
35530                             610 I1  
35531 00007B42 D607               611 I1          MOV.L   #_ACC_IN_TBLUSE,R6                              ;元ﾃｰﾌﾞﾙADR(2byte)
35532                             612 I1  
35533 00007B44                    613 I1  USE_IN_TBLMV_100LOP:
35534 00007B44 2338               614 I1          TST     R3,R3
35535                             615 I1          TST_BIT_OF USE_IN_TBLMV_500
35536 00007B46 890D                   M           BT      USE_IN_TBLMV_500
35537 00007B48 6055               616 I1          MOV.W   @R5+,R0
35538 00007B4A 2601               617 I1          MOV.W   R0,@R6
35539 00007B4C 7602               618 I1          ADD     #2,R6                           ;
35540 00007B4E 73FF               619 I1          ADD     #-1,R3                          ;
35541                             620 I1          M_BRA   USE_IN_TBLMV_100LOP             ;
35542 00007B50 AFF8                   M           BRA     USE_IN_TBLMV_100LOP
35543 00007B52 0009                   M           NOP
35544                             621 I1  
35545                                 I1  ***** BEGIN-POOL *****
35546 00007B54 00000000               I1  DATA FOR SOURCE-LINE 604
35547 00007B58 00000000               I1  DATA FOR SOURCE-LINE 605
35548 00007B5C 00000000               I1  DATA FOR SOURCE-LINE 607
35549 00007B60 00000000               I1  DATA FOR SOURCE-LINE 611
35550                                 I1  ***** END-POOL *****
35551 00007B64                    622 I1  USE_IN_TBLMV_500:
35552                             623 I1  
35553                             624 I1          SUB_END
35554                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35555 00007B64 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35556                             625 I1          M_RTS
35557 00007B66 000B                   M           RTS                             ;RTSの後ろの
35558 00007B68 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35559                             626 I1  
35560                             627 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   532
PROGRAM NAME =

35561                             628 I1  ;       ***************************************************
35562                             629 I1  ;       ***                                             ***
35563                             630 I1  ;       ***             INFO->TABLE                     ***
35564                             631 I1  ;       ***                                             ***
35565                             632 I1  ;       ***************************************************
35566                             633 I1  ;       Input GBR
35567 00007B6A                    634 I1  _ACC_INFO_CHNAGE_TBL_MAK:
35568                             635 I1          SUB_START
35569 00007B6A 4F22                   M           STS.L   PR,@-R15                ;[必要]
35570                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35571 00007B6C C600               636 I1          MOV.L   @(AFM_SRC_TBL_TOP-ACC_FORM_TOP,GBR),R0          ;
35572 00007B6E 6B03               637 I1          MOV     R0,R11                                          ;ACC_IN_TBL1;元ﾃｰﾌﾞﾙADR(2b
                                          yte)
35573                             638 I1  
35574 00007B70 C601               639 I1          MOV.L   @(AFM_SRC_TBL_MEM-ACC_FORM_TOP,GBR),R0          ;
35575 00007B72 6C01               640 I1          MOV.W   @R0,R12                                         ;_ACC_IN_TBL_TIM
35576                             641 I1  
35577 00007B74 D144               642 I1          MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_SET1_ACCLAT_TIM1
35578 00007B76 6711               643 I1          MOV.W   @R1,R7                                          ;R7=最大加速時間
35579                             644 I1  
35580 00007B78 C602               645 I1          MOV.L   @(AFM_STEP_INF_SPD-ACC_FORM_TOP,GBR),R0         ;
35581 00007B7A 6805               646 I1          MOV.W   @R0+,R8                                         ;R8:BASE SPEED速度
35582 00007B7C 6901               647 I1          MOV.W   @R0,R9                                          ;R9:目標速度
35583                             648 I1  
35584 00007B7E C604               649 I1          MOV.L   @(AFM_OLD_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;前段の速度TBL(前段=現段速
                                          度時使用)
35585 00007B80 6503               650 I1          MOV     R0,R5                                           ;
35586 00007B82 C606               651 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;今回の速度格納用
35587 00007B84 6D03               652 I1          MOV     R0,R13                                          ;
35588                             653 I1  
35589 00007B86 C607               654 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0          ;
35590 00007B88 6E03               655 I1          MOV     R0,R14                                          ;今回の加速時間格納用
35591                             656 I1  
35592 00007B8A C605               657 I1          MOV.L   @(AFM_OLD_CTLACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
35593 00007B8C 6A01               658 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
                                          =現段速度時使用)
35594                             659 I1  
35595                             660 I1  
35596                             661 I1  
35597                             662 I1          PUSH_ALL                                                ;
35598                                 M           PUSH_REG1       R0      ;
35599 00007B8E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
35600                                 M                                           ;REG=>[SP]
35601                                 M                                           ;"-4" FF,FF,FF,FC
35602                                 M           PUSH_REG1       R1      ;
35603 00007B90 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
35604                                 M                                           ;REG=>[SP]
35605                                 M                                           ;"-4" FF,FF,FF,FC
35606                                 M           PUSH_REG1       R2      ;
35607 00007B92 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
35608                                 M                                           ;REG=>[SP]
35609                                 M                                           ;"-4" FF,FF,FF,FC
35610                                 M           PUSH_REG1       R3      ;
35611 00007B94 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
35612                                 M                                           ;REG=>[SP]
35613                                 M                                           ;"-4" FF,FF,FF,FC
35614                                 M           PUSH_REG1       R4      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   533
PROGRAM NAME =

35615 00007B96 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
35616                                 M                                           ;REG=>[SP]
35617                                 M                                           ;"-4" FF,FF,FF,FC
35618                                 M           PUSH_REG1       R5      ;
35619 00007B98 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
35620                                 M                                           ;REG=>[SP]
35621                                 M                                           ;"-4" FF,FF,FF,FC
35622                                 M           PUSH_REG1       R6      ;
35623 00007B9A 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
35624                                 M                                           ;REG=>[SP]
35625                                 M                                           ;"-4" FF,FF,FF,FC
35626                                 M           PUSH_REG1       R7      ;
35627 00007B9C 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
35628                                 M                                           ;REG=>[SP]
35629                                 M                                           ;"-4" FF,FF,FF,FC
35630                                 M           PUSH_REG1       R8      ;
35631 00007B9E 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
35632                                 M                                           ;REG=>[SP]
35633                                 M                                           ;"-4" FF,FF,FF,FC
35634                                 M           PUSH_REG1       R9      ;
35635 00007BA0 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
35636                                 M                                           ;REG=>[SP]
35637                                 M                                           ;"-4" FF,FF,FF,FC
35638                                 M           PUSH_REG1       R10     ;
35639 00007BA2 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
35640                                 M                                           ;REG=>[SP]
35641                                 M                                           ;"-4" FF,FF,FF,FC
35642                                 M           PUSH_REG1       R11     ;
35643 00007BA4 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
35644                                 M                                           ;REG=>[SP]
35645                                 M                                           ;"-4" FF,FF,FF,FC
35646                                 M           PUSH_REG1       R12     ;
35647 00007BA6 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
35648                                 M                                           ;REG=>[SP]
35649                                 M                                           ;"-4" FF,FF,FF,FC
35650                                 M           PUSH_REG1       R13     ;
35651 00007BA8 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
35652                                 M                                           ;REG=>[SP]
35653                                 M                                           ;"-4" FF,FF,FF,FC
35654                                 M           PUSH_REG1       R14     ;
35655 00007BAA 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
35656                                 M                                           ;REG=>[SP]
35657                                 M                                           ;"-4" FF,FF,FF,FC
35658                                 M           PUSH_MACHL              ;
35659 00007BAC 4F02                   M           STS.L   MACH,@-R15
35660 00007BAE 4F12                   M           STS.L   MACL,@-R15
35661                                 M           PUSH_SYS_REG    GBR     ;
35662 00007BB0 4F13                   M           STC.L   GBR,@-R15
35663                                 M           .AIF    2 EQ 3
35664                                             .AELSE
35665                                 C           PUSH_FPU_ALL            ;2001-07-08
35666                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
35667 00007BB2 4F52                   M           STS.L   FPUL,@-R15
35668 00007BB4 4F62                   M           STS.L   FPSCR,@-R15
35669                                 M                   PUSH_FPU_REG1 FR0       ;
35670 00007BB6 FF0B                   M           FMOV.S  FR0,@-R15
35671                                 M                   PUSH_FPU_REG1 FR1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   534
PROGRAM NAME =

35672 00007BB8 FF1B                   M           FMOV.S  FR1,@-R15
35673                                 M                   PUSH_FPU_REG1 FR2       ;
35674 00007BBA FF2B                   M           FMOV.S  FR2,@-R15
35675                                 M                   PUSH_FPU_REG1 FR3       ;
35676 00007BBC FF3B                   M           FMOV.S  FR3,@-R15
35677                                 M                   PUSH_FPU_REG1 FR4       ;
35678 00007BBE FF4B                   M           FMOV.S  FR4,@-R15
35679                                 M           .AENDI
35680                             663 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;X%(OLD)->Y%(NEW:ﾀｰｹﾞｯﾄ作
                                          成)ANS R13,R14
35681 00007BC0 D032                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35682 00007BC2 400B                   M           JSR     @R0                     ;
35683 00007BC4 0009                   M           NOP                                     ;
35684                             664 I1          POP_ALL                                                 ;
35685                                 M           .AIF    2 EQ 3
35686                                             .AELSE
35687                                 C           POP_FPU_ALL             ;2001-07-08
35688                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
35689 00007BC6 F4F9                   M           FMOV.S  @R15+,FR4
35690                                 M                   POP_FPU_REG1 FR3        ;
35691 00007BC8 F3F9                   M           FMOV.S  @R15+,FR3
35692                                 M                   POP_FPU_REG1 FR2        ;
35693 00007BCA F2F9                   M           FMOV.S  @R15+,FR2
35694                                 M                   POP_FPU_REG1 FR1        ;
35695 00007BCC F1F9                   M           FMOV.S  @R15+,FR1
35696                                 M                   POP_FPU_REG1 FR0        ;
35697 00007BCE F0F9                   M           FMOV.S  @R15+,FR0
35698                                 M                   POP_SYS_FPU             ;
35699 00007BD0 4F66                   M           LDS.L   @R15+,FPSCR
35700 00007BD2 4F56                   M           LDS.L   @R15+,FPUL
35701                                 M           .AENDI
35702                                 M           POP_SYS_REG     GBR     ;
35703 00007BD4 4F17                   M           LDC.L   @R15+,GBR
35704                                 M           POP_MACHL               ;
35705 00007BD6 4F16                   M           LDS.L   @R15+,MACL
35706 00007BD8 4F06                   M           LDS.L   @R15+,MACH
35707                                 M           POP_REG1        R14     ;
35708                                 M                                   ; RE"+4" 00,00,00,04
35709 00007BDA 6EF6                   M           MOV.L   @R15+,R14        ;
35710                                 M           POP_REG1        R13     ;
35711                                 M                                   ; RE"+4" 00,00,00,04
35712 00007BDC 6DF6                   M           MOV.L   @R15+,R13        ;
35713                                 M           POP_REG1        R12     ;
35714                                 M                                   ; RE"+4" 00,00,00,04
35715 00007BDE 6CF6                   M           MOV.L   @R15+,R12        ;
35716                                 M           POP_REG1        R11     ;
35717                                 M                                   ; RE"+4" 00,00,00,04
35718 00007BE0 6BF6                   M           MOV.L   @R15+,R11        ;
35719                                 M           POP_REG1        R10     ;
35720                                 M                                   ; RE"+4" 00,00,00,04
35721 00007BE2 6AF6                   M           MOV.L   @R15+,R10        ;
35722                                 M           POP_REG1        R9      ;
35723                                 M                                   ; RE"+4" 00,00,00,04
35724 00007BE4 69F6                   M           MOV.L   @R15+,R9        ;
35725                                 M           POP_REG1        R8      ;
35726                                 M                                   ; RE"+4" 00,00,00,04
35727 00007BE6 68F6                   M           MOV.L   @R15+,R8        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   535
PROGRAM NAME =

35728                                 M           POP_REG1        R7      ;
35729                                 M                                   ; RE"+4" 00,00,00,04
35730 00007BE8 67F6                   M           MOV.L   @R15+,R7        ;
35731                                 M           POP_REG1        R6      ;
35732                                 M                                   ; RE"+4" 00,00,00,04
35733 00007BEA 66F6                   M           MOV.L   @R15+,R6        ;
35734                                 M           POP_REG1        R5      ;
35735                                 M                                   ; RE"+4" 00,00,00,04
35736 00007BEC 65F6                   M           MOV.L   @R15+,R5        ;
35737                                 M           POP_REG1        R4      ;
35738                                 M                                   ; RE"+4" 00,00,00,04
35739 00007BEE 64F6                   M           MOV.L   @R15+,R4        ;
35740                                 M           POP_REG1        R3      ;
35741                                 M                                   ; RE"+4" 00,00,00,04
35742 00007BF0 63F6                   M           MOV.L   @R15+,R3        ;
35743                                 M           POP_REG1        R2      ;
35744                                 M                                   ; RE"+4" 00,00,00,04
35745 00007BF2 62F6                   M           MOV.L   @R15+,R2        ;
35746                                 M           POP_REG1        R1      ;
35747                                 M                                   ; RE"+4" 00,00,00,04
35748 00007BF4 61F6                   M           MOV.L   @R15+,R1        ;
35749                                 M           POP_REG1        R0      ;
35750                                 M                                   ; RE"+4" 00,00,00,04
35751 00007BF6 60F6                   M           MOV.L   @R15+,R0        ;
35752                             665 I1  
35753                             666 I1  
35754                             667 I1  ;       -----------------(停止演算 0->設定% 速度)--------
35755 00007BF8 288A               668 I1          XOR     R8,R8                                           ;0(R8)--設定(R9)
35756 00007BFA C608               669 I1          MOV.L   @(AFM_OLD_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
35757 00007BFC 6503               670 I1          MOV     R0,R5                                           ;(暴走対策/ありえない)
35758 00007BFE C60A               671 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
35759 00007C00 6D03               672 I1          MOV     R0,R13                                          ;
35760 00007C02 C60B               673 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0          ;
35761 00007C04 6E03               674 I1          MOV     R0,R14                                          ;
35762                             675 I1  
35763 00007C06 C609               676 I1          MOV.L   @(AFM_OLD_STPACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
35764 00007C08 6A01               677 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
                                          =現段速度時使用)
35765                             678 I1  
35766                             679 I1          PUSH_ALL                                                ;
35767                                 M           PUSH_REG1       R0      ;
35768 00007C0A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
35769                                 M                                           ;REG=>[SP]
35770                                 M                                           ;"-4" FF,FF,FF,FC
35771                                 M           PUSH_REG1       R1      ;
35772 00007C0C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
35773                                 M                                           ;REG=>[SP]
35774                                 M                                           ;"-4" FF,FF,FF,FC
35775                                 M           PUSH_REG1       R2      ;
35776 00007C0E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
35777                                 M                                           ;REG=>[SP]
35778                                 M                                           ;"-4" FF,FF,FF,FC
35779                                 M           PUSH_REG1       R3      ;
35780 00007C10 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
35781                                 M                                           ;REG=>[SP]
35782                                 M                                           ;"-4" FF,FF,FF,FC
35783                                 M           PUSH_REG1       R4      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   536
PROGRAM NAME =

35784 00007C12 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
35785                                 M                                           ;REG=>[SP]
35786                                 M                                           ;"-4" FF,FF,FF,FC
35787                                 M           PUSH_REG1       R5      ;
35788 00007C14 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
35789                                 M                                           ;REG=>[SP]
35790                                 M                                           ;"-4" FF,FF,FF,FC
35791                                 M           PUSH_REG1       R6      ;
35792 00007C16 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
35793                                 M                                           ;REG=>[SP]
35794                                 M                                           ;"-4" FF,FF,FF,FC
35795                                 M           PUSH_REG1       R7      ;
35796 00007C18 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
35797                                 M                                           ;REG=>[SP]
35798                                 M                                           ;"-4" FF,FF,FF,FC
35799                                 M           PUSH_REG1       R8      ;
35800 00007C1A 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
35801                                 M                                           ;REG=>[SP]
35802                                 M                                           ;"-4" FF,FF,FF,FC
35803                                 M           PUSH_REG1       R9      ;
35804 00007C1C 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
35805                                 M                                           ;REG=>[SP]
35806                                 M                                           ;"-4" FF,FF,FF,FC
35807                                 M           PUSH_REG1       R10     ;
35808 00007C1E 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
35809                                 M                                           ;REG=>[SP]
35810                                 M                                           ;"-4" FF,FF,FF,FC
35811                                 M           PUSH_REG1       R11     ;
35812 00007C20 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
35813                                 M                                           ;REG=>[SP]
35814                                 M                                           ;"-4" FF,FF,FF,FC
35815                                 M           PUSH_REG1       R12     ;
35816 00007C22 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
35817                                 M                                           ;REG=>[SP]
35818                                 M                                           ;"-4" FF,FF,FF,FC
35819                                 M           PUSH_REG1       R13     ;
35820 00007C24 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
35821                                 M                                           ;REG=>[SP]
35822                                 M                                           ;"-4" FF,FF,FF,FC
35823                                 M           PUSH_REG1       R14     ;
35824 00007C26 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
35825                                 M                                           ;REG=>[SP]
35826                                 M                                           ;"-4" FF,FF,FF,FC
35827                                 M           PUSH_MACHL              ;
35828 00007C28 4F02                   M           STS.L   MACH,@-R15
35829 00007C2A 4F12                   M           STS.L   MACL,@-R15
35830                                 M           PUSH_SYS_REG    GBR     ;
35831 00007C2C 4F13                   M           STC.L   GBR,@-R15
35832                                 M           .AIF    2 EQ 3
35833                                             .AELSE
35834                                 C           PUSH_FPU_ALL            ;2001-07-08
35835                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
35836 00007C2E 4F52                   M           STS.L   FPUL,@-R15
35837 00007C30 4F62                   M           STS.L   FPSCR,@-R15
35838                                 M                   PUSH_FPU_REG1 FR0       ;
35839 00007C32 FF0B                   M           FMOV.S  FR0,@-R15
35840                                 M                   PUSH_FPU_REG1 FR1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   537
PROGRAM NAME =

35841 00007C34 FF1B                   M           FMOV.S  FR1,@-R15
35842                                 M                   PUSH_FPU_REG1 FR2       ;
35843 00007C36 FF2B                   M           FMOV.S  FR2,@-R15
35844                                 M                   PUSH_FPU_REG1 FR3       ;
35845 00007C38 FF3B                   M           FMOV.S  FR3,@-R15
35846                                 M                   PUSH_FPU_REG1 FR4       ;
35847 00007C3A FF4B                   M           FMOV.S  FR4,@-R15
35848                                 M           .AENDI
35849                             680 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;0%->Y%(NEW:ﾀｰｹﾞｯﾄ作成)ANS
                                           R13,R14
35850 00007C3C D013                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35851 00007C3E 400B                   M           JSR     @R0                     ;
35852 00007C40 0009                   M           NOP                                     ;
35853                             681 I1          POP_ALL                                                 ;
35854                                 M           .AIF    2 EQ 3
35855                                             .AELSE
35856                                 C           POP_FPU_ALL             ;2001-07-08
35857                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
35858 00007C42 F4F9                   M           FMOV.S  @R15+,FR4
35859                                 M                   POP_FPU_REG1 FR3        ;
35860 00007C44 F3F9                   M           FMOV.S  @R15+,FR3
35861                                 M                   POP_FPU_REG1 FR2        ;
35862 00007C46 F2F9                   M           FMOV.S  @R15+,FR2
35863                                 M                   POP_FPU_REG1 FR1        ;
35864 00007C48 F1F9                   M           FMOV.S  @R15+,FR1
35865                                 M                   POP_FPU_REG1 FR0        ;
35866 00007C4A F0F9                   M           FMOV.S  @R15+,FR0
35867                                 M                   POP_SYS_FPU             ;
35868 00007C4C 4F66                   M           LDS.L   @R15+,FPSCR
35869 00007C4E 4F56                   M           LDS.L   @R15+,FPUL
35870                                 M           .AENDI
35871                                 M           POP_SYS_REG     GBR     ;
35872 00007C50 4F17                   M           LDC.L   @R15+,GBR
35873                                 M           POP_MACHL               ;
35874 00007C52 4F16                   M           LDS.L   @R15+,MACL
35875 00007C54 4F06                   M           LDS.L   @R15+,MACH
35876                                 M           POP_REG1        R14     ;
35877                                 M                                   ; RE"+4" 00,00,00,04
35878 00007C56 6EF6                   M           MOV.L   @R15+,R14        ;
35879                                 M           POP_REG1        R13     ;
35880                                 M                                   ; RE"+4" 00,00,00,04
35881 00007C58 6DF6                   M           MOV.L   @R15+,R13        ;
35882                                 M           POP_REG1        R12     ;
35883                                 M                                   ; RE"+4" 00,00,00,04
35884 00007C5A 6CF6                   M           MOV.L   @R15+,R12        ;
35885                                 M           POP_REG1        R11     ;
35886                                 M                                   ; RE"+4" 00,00,00,04
35887 00007C5C 6BF6                   M           MOV.L   @R15+,R11        ;
35888                                 M           POP_REG1        R10     ;
35889                                 M                                   ; RE"+4" 00,00,00,04
35890 00007C5E 6AF6                   M           MOV.L   @R15+,R10        ;
35891                                 M           POP_REG1        R9      ;
35892                                 M                                   ; RE"+4" 00,00,00,04
35893 00007C60 69F6                   M           MOV.L   @R15+,R9        ;
35894                                 M           POP_REG1        R8      ;
35895                                 M                                   ; RE"+4" 00,00,00,04
35896 00007C62 68F6                   M           MOV.L   @R15+,R8        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   538
PROGRAM NAME =

35897                                 M           POP_REG1        R7      ;
35898                                 M                                   ; RE"+4" 00,00,00,04
35899 00007C64 67F6                   M           MOV.L   @R15+,R7        ;
35900                                 M           POP_REG1        R6      ;
35901                                 M                                   ; RE"+4" 00,00,00,04
35902 00007C66 66F6                   M           MOV.L   @R15+,R6        ;
35903                                 M           POP_REG1        R5      ;
35904                                 M                                   ; RE"+4" 00,00,00,04
35905 00007C68 65F6                   M           MOV.L   @R15+,R5        ;
35906                                 M           POP_REG1        R4      ;
35907                                 M                                   ; RE"+4" 00,00,00,04
35908 00007C6A 64F6                   M           MOV.L   @R15+,R4        ;
35909                                 M           POP_REG1        R3      ;
35910                                 M                                   ; RE"+4" 00,00,00,04
35911 00007C6C 63F6                   M           MOV.L   @R15+,R3        ;
35912                                 M           POP_REG1        R2      ;
35913                                 M                                   ; RE"+4" 00,00,00,04
35914 00007C6E 62F6                   M           MOV.L   @R15+,R2        ;
35915                                 M           POP_REG1        R1      ;
35916                                 M                                   ; RE"+4" 00,00,00,04
35917 00007C70 61F6                   M           MOV.L   @R15+,R1        ;
35918                                 M           POP_REG1        R0      ;
35919                                 M                                   ; RE"+4" 00,00,00,04
35920 00007C72 60F6                   M           MOV.L   @R15+,R0        ;
35921                             682 I1  
35922                             683 I1  
35923                             684 I1  ;       ---------------(停止演算 0->設定% pls)--------
35924                             685 I1  ;       -------------- (速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)-----------
35925 00007C74 D106               686 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
35926 00007C76 6612               687 I1          MOV.L   @R1,R6                                          ;
35927 00007C78 C60C               688 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0          ;
35928 00007C7A 6A03               689 I1          MOV     R0,R10                                          ;
35929                             690 I1                                                                  ;
35930                             691 I1                                                                  ;R6=MAX pls/s
35931                             692 I1                                                                  ;R13=_ACC_****_STPVTBL(ﾃﾞｰ
                                          ﾀ元)
35932                             693 I1                                                                  ;R14=_ACC_****_ACTM(LOOP個
                                          数)
35933                             694 I1                                                                  ;R10=_ACC_****_STPPTBL ANS
35934                             695 I1          FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
35935 00007C7C D005                   M           MOV.L   #_ACC_TBL_MAKPLS1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35936 00007C7E 400B                   M           JSR     @R0                     ;
35937 00007C80 0009                   M           NOP                                     ;
35938                             696 I1  
35939                             697 I1          SUB_END
35940                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35941 00007C82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35942                             698 I1          M_RTS
35943 00007C84 000B                   M           RTS                             ;RTSの後ろの
35944 00007C86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35945                             699 I1  
35946                             700 I1  
35947                             701 I1  
35948                             702 I1  
35949                                 I1  ***** BEGIN-POOL *****
35950 00007C88 00000000               I1  DATA FOR SOURCE-LINE 642
35951 00007C8C 00000000               I1  DATA FOR SOURCE-LINE 663,680
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   539
PROGRAM NAME =

35952 00007C90 00000000               I1  DATA FOR SOURCE-LINE 686
35953 00007C94 00000000               I1  DATA FOR SOURCE-LINE 695
35954                                 I1  ***** END-POOL *****
35955 00007C98                    703 I1          .ALIGN  4                                       ;
35956 00007C98                    704 I1  _ACC_TBL_CAL_IN_TOP
35957 00007C98 00000000           705 I1          .DATA.L _ACC_STEP01_TBL_TOP
35958 00007C9C 00000000           706 I1          .DATA.L _ACC_STEP02_TBL_TOP
35959 00007CA0 00000000           707 I1          .DATA.L _ACC_STEP03_TBL_TOP
35960 00007CA4 00000000           708 I1          .DATA.L _ACC_STEP04_TBL_TOP
35961 00007CA8 00000000           709 I1          .DATA.L _ACC_STEP05_TBL_TOP
35962 00007CAC 00000000           710 I1          .DATA.L _ACC_STEP06_TBL_TOP
35963 00007CB0 00000000           711 I1          .DATA.L _ACC_STEP07_TBL_TOP
35964 00007CB4 00000000           712 I1          .DATA.L _ACC_STEP08_TBL_TOP
35965 00007CB8 00000000           713 I1          .DATA.L _ACC_STEP09_TBL_TOP
35966 00007CBC 00000000           714 I1          .DATA.L _ACC_STEP10_TBL_TOP
35967 00007CC0 00000000           715 I1          .DATA.L _ACC_STEP11_TBL_TOP
35968                             716 I1  
35969                             717 I1  
35970                             718 I1  
35971 00007CC4                    719 I1          .ALIGN  4                                       ;
35972 00007CC4                    720 I1  _ACC_STEP01_TBL_TOP
35973 00007CC4                    721 I1  ACC_FORM_TOP
35974 00007CC4 00000000           722 I1  AFM_SRC_TBL_TOP         .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
35975 00007CC8 00000000           723 I1  AFM_SRC_TBL_MEM         .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
35976 00007CCC 00000000           724 I1  AFM_STEP_INF_SPD        .DATA.L         _ACC_INF1_STEPSP01      ;[03]000%[前状態],050%[設
                                          定]
35977 00007CD0 00000000           725 I1  AFM_STEP_INF_FLG        .DATA.L         _ACC_INF1_STEP001       ;[04]//BIT2=[加速:0/減速:1
                                          ] BIT1=[]   BIT0=0(停止) =1(連続)
35978 00007CD4 00000000           726 I1  AFM_OLD_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速
                                          度)1段では使用しない
35979 00007CD8 00000000           727 I1  AFM_OLD_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速
                                          度)1段では使用しない
35980 00007CDC 00000000           728 I1  AFM_DST_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[07]
35981 00007CE0 00000000           729 I1  AFM_DST_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[08]
35982 00007CE4 00000000           730 I1  AFM_OLD_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速
                                          度)1段では使用しない
35983 00007CE8 00000000           731 I1  AFM_OLD_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速
                                          度)1段では使用しない
35984 00007CEC 00000000           732 I1  AFM_DST_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[11]
35985 00007CF0 00000000           733 I1  AFM_DST_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[12]
35986 00007CF4 00000000           734 I1  AFM_DST_STPPTBL         .DATA.L         _ACC_STOP001_PTBL       ;[13]
35987                             735 I1  
35988                             736 I1  
35989                             737 I1  
35990 00007CF8                    738 I1  _ACC_STEP02_TBL_TOP
35991 00007CF8 00000000           739 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
35992 00007CFC 00000000           740 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
35993 00007D00 00000000           741 I1          .DATA.L         _ACC_INF1_STEPSP02      ;[03]000%[前状態],050%[設定]
35994 00007D04 00000000           742 I1          .DATA.L         _ACC_INF1_STEP002       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
35995 00007D08 00000000           743 I1          .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速度)
35996 00007D0C 00000000           744 I1          .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速度)
35997 00007D10 00000000           745 I1          .DATA.L         _ACC_STEP002_VTBL       ;[07]
35998 00007D14 00000000           746 I1          .DATA.L         _ACC_STEP002_ACTM       ;[08]
35999 00007D18 00000000           747 I1          .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速度)
36000 00007D1C 00000000           748 I1          .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速度)
36001 00007D20 00000000           749 I1          .DATA.L         _ACC_STOP002_VTBL       ;[11]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   540
PROGRAM NAME =

36002 00007D24 00000000           750 I1          .DATA.L         _ACC_STOP002_ACTM       ;[12]
36003 00007D28 00000000           751 I1          .DATA.L         _ACC_STOP002_PTBL       ;[13]
36004                             752 I1  
36005 00007D2C                    753 I1  _ACC_STEP03_TBL_TOP
36006 00007D2C 00000000           754 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36007 00007D30 00000000           755 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36008 00007D34 00000000           756 I1          .DATA.L         _ACC_INF1_STEPSP03      ;[03]000%[前状態],050%[設定]
36009 00007D38 00000000           757 I1          .DATA.L         _ACC_INF1_STEP003       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36010 00007D3C 00000000           758 I1          .DATA.L         _ACC_STEP002_VTBL       ;[05]
36011 00007D40 00000000           759 I1          .DATA.L         _ACC_STEP002_ACTM       ;[06]
36012 00007D44 00000000           760 I1          .DATA.L         _ACC_STEP003_VTBL       ;[07]
36013 00007D48 00000000           761 I1          .DATA.L         _ACC_STEP003_ACTM       ;[08]
36014 00007D4C 00000000           762 I1          .DATA.L         _ACC_STOP002_VTBL       ;[09]
36015 00007D50 00000000           763 I1          .DATA.L         _ACC_STOP002_ACTM       ;[10]
36016 00007D54 00000000           764 I1          .DATA.L         _ACC_STOP003_VTBL       ;[11]
36017 00007D58 00000000           765 I1          .DATA.L         _ACC_STOP003_ACTM       ;[12]
36018 00007D5C 00000000           766 I1          .DATA.L         _ACC_STOP003_PTBL       ;[13]
36019                             767 I1  
36020 00007D60                    768 I1  _ACC_STEP04_TBL_TOP
36021 00007D60 00000000           769 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36022 00007D64 00000000           770 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36023 00007D68 00000000           771 I1          .DATA.L         _ACC_INF1_STEPSP04      ;[03]000%[前状態],050%[設定]
36024 00007D6C 00000000           772 I1          .DATA.L         _ACC_INF1_STEP004       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36025 00007D70 00000000           773 I1          .DATA.L         _ACC_STEP003_VTBL       ;[05](STEP1では使用しない)
36026 00007D74 00000000           774 I1          .DATA.L         _ACC_STEP003_ACTM       ;[06]
36027 00007D78 00000000           775 I1          .DATA.L         _ACC_STEP004_VTBL       ;[07]
36028 00007D7C 00000000           776 I1          .DATA.L         _ACC_STEP004_ACTM       ;[08]
36029 00007D80 00000000           777 I1          .DATA.L         _ACC_STOP003_VTBL       ;[09]
36030 00007D84 00000000           778 I1          .DATA.L         _ACC_STOP003_ACTM       ;[10]
36031 00007D88 00000000           779 I1          .DATA.L         _ACC_STOP004_VTBL       ;[11]
36032 00007D8C 00000000           780 I1          .DATA.L         _ACC_STOP004_ACTM       ;[12]
36033 00007D90 00000000           781 I1          .DATA.L         _ACC_STOP004_PTBL       ;[13]
36034                             782 I1  
36035                             783 I1  
36036 00007D94                    784 I1  _ACC_STEP05_TBL_TOP
36037 00007D94 00000000           785 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36038 00007D98 00000000           786 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36039 00007D9C 00000000           787 I1          .DATA.L         _ACC_INF1_STEPSP05      ;[03]000%[前状態],050%[設定]
36040 00007DA0 00000000           788 I1          .DATA.L         _ACC_INF1_STEP005       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36041 00007DA4 00000000           789 I1          .DATA.L         _ACC_STEP004_VTBL       ;[05](STEP1では使用しない)
36042 00007DA8 00000000           790 I1          .DATA.L         _ACC_STEP004_ACTM       ;[06]
36043 00007DAC 00000000           791 I1          .DATA.L         _ACC_STEP005_VTBL       ;[07]
36044 00007DB0 00000000           792 I1          .DATA.L         _ACC_STEP005_ACTM       ;[08]
36045 00007DB4 00000000           793 I1          .DATA.L         _ACC_STOP004_VTBL       ;[09]
36046 00007DB8 00000000           794 I1          .DATA.L         _ACC_STOP004_ACTM       ;[10]
36047 00007DBC 00000000           795 I1          .DATA.L         _ACC_STOP005_VTBL       ;[11]
36048 00007DC0 00000000           796 I1          .DATA.L         _ACC_STOP005_ACTM       ;[12]
36049 00007DC4 00000000           797 I1          .DATA.L         _ACC_STOP005_PTBL       ;[13]
36050                             798 I1  
36051 00007DC8                    799 I1  _ACC_STEP06_TBL_TOP
36052 00007DC8 00000000           800 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36053 00007DCC 00000000           801 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36054 00007DD0 00000000           802 I1          .DATA.L         _ACC_INF1_STEPSP06      ;[03]000%[前状態],050%[設定]
36055 00007DD4 00000000           803 I1          .DATA.L         _ACC_INF1_STEP006       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   541
PROGRAM NAME =

                                          =0(停止) =1(連続)
36056 00007DD8 00000000           804 I1          .DATA.L         _ACC_STEP005_VTBL       ;[05](STEP1では使用しない)
36057 00007DDC 00000000           805 I1          .DATA.L         _ACC_STEP005_ACTM       ;[06]
36058 00007DE0 00000000           806 I1          .DATA.L         _ACC_STEP006_VTBL       ;[07]
36059 00007DE4 00000000           807 I1          .DATA.L         _ACC_STEP006_ACTM       ;[08]
36060 00007DE8 00000000           808 I1          .DATA.L         _ACC_STOP005_VTBL       ;[09]
36061 00007DEC 00000000           809 I1          .DATA.L         _ACC_STOP005_ACTM       ;[10]
36062 00007DF0 00000000           810 I1          .DATA.L         _ACC_STOP006_VTBL       ;[11]
36063 00007DF4 00000000           811 I1          .DATA.L         _ACC_STOP006_ACTM       ;[12]
36064 00007DF8 00000000           812 I1          .DATA.L         _ACC_STOP006_PTBL       ;[13]
36065                             813 I1  
36066 00007DFC                    814 I1  _ACC_STEP07_TBL_TOP
36067 00007DFC 00000000           815 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36068 00007E00 00000000           816 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36069 00007E04 00000000           817 I1          .DATA.L         _ACC_INF1_STEPSP07      ;[03]000%[前状態],050%[設定]
36070 00007E08 00000000           818 I1          .DATA.L         _ACC_INF1_STEP007       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36071 00007E0C 00000000           819 I1          .DATA.L         _ACC_STEP006_VTBL       ;[05](STEP1では使用しない)
36072 00007E10 00000000           820 I1          .DATA.L         _ACC_STEP006_ACTM       ;[06]
36073 00007E14 00000000           821 I1          .DATA.L         _ACC_STEP007_VTBL       ;[07]
36074 00007E18 00000000           822 I1          .DATA.L         _ACC_STEP007_ACTM       ;[08]
36075 00007E1C 00000000           823 I1          .DATA.L         _ACC_STOP006_VTBL       ;[09]
36076 00007E20 00000000           824 I1          .DATA.L         _ACC_STOP006_ACTM       ;[10]
36077 00007E24 00000000           825 I1          .DATA.L         _ACC_STOP007_VTBL       ;[11]
36078 00007E28 00000000           826 I1          .DATA.L         _ACC_STOP007_ACTM       ;[12]
36079 00007E2C 00000000           827 I1          .DATA.L         _ACC_STOP007_PTBL       ;[13]
36080                             828 I1  
36081 00007E30                    829 I1  _ACC_STEP08_TBL_TOP
36082 00007E30 00000000           830 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36083 00007E34 00000000           831 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36084 00007E38 00000000           832 I1          .DATA.L         _ACC_INF1_STEPSP08      ;[03]000%[前状態],050%[設定]
36085 00007E3C 00000000           833 I1          .DATA.L         _ACC_INF1_STEP008       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36086 00007E40 00000000           834 I1          .DATA.L         _ACC_STEP007_VTBL       ;[05](STEP1では使用しない)
36087 00007E44 00000000           835 I1          .DATA.L         _ACC_STEP007_ACTM       ;[06]
36088 00007E48 00000000           836 I1          .DATA.L         _ACC_STEP008_VTBL       ;[07]
36089 00007E4C 00000000           837 I1          .DATA.L         _ACC_STEP008_ACTM       ;[08]
36090 00007E50 00000000           838 I1          .DATA.L         _ACC_STOP007_VTBL       ;[09]
36091 00007E54 00000000           839 I1          .DATA.L         _ACC_STOP007_ACTM       ;[10]
36092 00007E58 00000000           840 I1          .DATA.L         _ACC_STOP008_VTBL       ;[11]
36093 00007E5C 00000000           841 I1          .DATA.L         _ACC_STOP008_ACTM       ;[12]
36094 00007E60 00000000           842 I1          .DATA.L         _ACC_STOP008_PTBL       ;[13]
36095                             843 I1  
36096 00007E64                    844 I1  _ACC_STEP09_TBL_TOP
36097 00007E64 00000000           845 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36098 00007E68 00000000           846 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36099 00007E6C 00000000           847 I1          .DATA.L         _ACC_INF1_STEPSP09      ;[03]000%[前状態],050%[設定]
36100 00007E70 00000000           848 I1          .DATA.L         _ACC_INF1_STEP009       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36101 00007E74 00000000           849 I1          .DATA.L         _ACC_STEP008_VTBL       ;[05](STEP1では使用しない)
36102 00007E78 00000000           850 I1          .DATA.L         _ACC_STEP008_ACTM       ;[06]
36103 00007E7C 00000000           851 I1          .DATA.L         _ACC_STEP009_VTBL       ;[07]
36104 00007E80 00000000           852 I1          .DATA.L         _ACC_STEP009_ACTM       ;[08]
36105 00007E84 00000000           853 I1          .DATA.L         _ACC_STOP008_VTBL       ;[09]
36106 00007E88 00000000           854 I1          .DATA.L         _ACC_STOP008_ACTM       ;[10]
36107 00007E8C 00000000           855 I1          .DATA.L         _ACC_STOP009_VTBL       ;[11]
36108 00007E90 00000000           856 I1          .DATA.L         _ACC_STOP009_ACTM       ;[12]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   542
PROGRAM NAME =

36109 00007E94 00000000           857 I1          .DATA.L         _ACC_STOP009_PTBL       ;[13]
36110                             858 I1  
36111 00007E98                    859 I1  _ACC_STEP10_TBL_TOP
36112 00007E98 00000000           860 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36113 00007E9C 00000000           861 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36114 00007EA0 00000000           862 I1          .DATA.L         _ACC_INF1_STEPSP10      ;[03]000%[前状態],050%[設定]
36115 00007EA4 00000000           863 I1          .DATA.L         _ACC_INF1_STEP010       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36116 00007EA8 00000000           864 I1          .DATA.L         _ACC_STEP009_VTBL       ;[05](STEP1では使用しない)
36117 00007EAC 00000000           865 I1          .DATA.L         _ACC_STEP009_ACTM       ;[06]
36118 00007EB0 00000000           866 I1          .DATA.L         _ACC_STEP010_VTBL       ;[07]
36119 00007EB4 00000000           867 I1          .DATA.L         _ACC_STEP010_ACTM       ;[08]
36120 00007EB8 00000000           868 I1          .DATA.L         _ACC_STOP009_VTBL       ;[09]
36121 00007EBC 00000000           869 I1          .DATA.L         _ACC_STOP009_ACTM       ;[10]
36122 00007EC0 00000000           870 I1          .DATA.L         _ACC_STOP010_VTBL       ;[11]
36123 00007EC4 00000000           871 I1          .DATA.L         _ACC_STOP010_ACTM       ;[12]
36124 00007EC8 00000000           872 I1          .DATA.L         _ACC_STOP010_PTBL       ;[13]
36125                             873 I1  
36126 00007ECC                    874 I1  _ACC_STEP11_TBL_TOP
36127 00007ECC 00000000           875 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36128 00007ED0 00000000           876 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36129 00007ED4 00000000           877 I1          .DATA.L         _ACC_INF1_STEPSP11      ;[03]000%[前状態],050%[設定]
36130 00007ED8 00000000           878 I1          .DATA.L         _ACC_INF1_STEP011       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36131 00007EDC 00000000           879 I1          .DATA.L         _ACC_STEP010_VTBL       ;[05](STEP1では使用しない)
36132 00007EE0 00000000           880 I1          .DATA.L         _ACC_STEP010_ACTM       ;[06]
36133 00007EE4 00000000           881 I1          .DATA.L         _ACC_STEP011_VTBL       ;[07]
36134 00007EE8 00000000           882 I1          .DATA.L         _ACC_STEP011_ACTM       ;[08]
36135 00007EEC 00000000           883 I1          .DATA.L         _ACC_STOP010_VTBL       ;[09]
36136 00007EF0 00000000           884 I1          .DATA.L         _ACC_STOP010_ACTM       ;[10]
36137 00007EF4 00000000           885 I1          .DATA.L         _ACC_STOP011_VTBL       ;[11]
36138 00007EF8 00000000           886 I1          .DATA.L         _ACC_STOP011_ACTM       ;[12]
36139 00007EFC 00000000           887 I1          .DATA.L         _ACC_STOP011_PTBL       ;[13]
36140                             888 I1  
36141                             889 I1  
36142                             890 I1  
36143                             891 I1  
36144                             892 I1  
36145                             893 I1  
36146                             894 I1  
36147                             895 I1  
36148                             896 I1  
36149                             897 I1  
36150                             898 I1  ;       ***********************************************************
36151                             899 I1  ;       ***                                                     ***
36152                             900 I1  ;       ***     振り子加速度テーブル作成SUB1                    ***
36153                             901 I1  ;       ***                                                     ***
36154                             902 I1  ;       ***     速度のみを算出する                              ***
36155                             903 I1  ;       ***     ﾃﾞｰﾀ元ﾃｰﾌﾞﾙ→最大加速時間と速度の変化量から     ***
36156                             904 I1  ;       ***     加速時間と速度ﾃｰﾌﾞﾙを求める                     ***
36157                             905 I1  ;       ***     [完成済み]                                      ***
36158                             906 I1  ;       ***                                                     ***
36159                             907 I1  ;       ***********************************************************
36160                             908 I1  ;       input    R5:前段のOUTPUT-TABLE-TOP
36161                             909 I1  ;       Input   R11:BASE-TABLE-TOP         :ﾃｰﾌﾞﾙは1~1000または1~255まで使用する。
36162                             910 I1  ;       Input   R12:BASE-TABLE-時間 1000(ROM),255(ROM),設定(1~1000)加減速時間
36163                             911 I1  ;       Input   R13:OUTPUT-TABLE-TOP       :
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   543
PROGRAM NAME =

36164                             912 I1  ;       Input   R14:OUTPUT-ACC時間　　　　 :加減速時間
36165                             913 I1  ;
36166                             914 I1  ;       Input   R7 :最大加減速時間
36167                             915 I1  ;       Input   R8:BASE  -SPD
36168                             916 I1  ;       Input   R9:TARGET-SPD  BASE=< TARGET SPD
36169                             917 I1  ;               (R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ)
36170                             918 I1  ;       Output ﾃｰﾌﾞﾙに速度を周波数で記述
36171                             919 I1  ;       [1ﾃｰﾌﾞﾙ作成前にWDTを叩く]
36172                             920 I1  ;
36173                             921 I1  ;       ・速度は0.01%で扱う
36174                             922 I1  ;
36175 00007F00                    923 I1  _ACC_TBL_MAKSPD1_SUB
36176                             924 I1          SUB_START
36177 00007F00 4F22                   M           STS.L   PR,@-R15                ;[必要]
36178                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36179                             925 I1          _A_WDT_CLR                              ;
36180                                 M           PUSH_REG1 R10
36181 00007F02 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
36182                                 M                                           ;REG=>[SP]
36183                                 M                                           ;"-4" FF,FF,FF,FC
36184                                 M           PUSH_REG1 R11
36185 00007F04 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
36186                                 M                                           ;REG=>[SP]
36187                                 M                                           ;"-4" FF,FF,FF,FC
36188                                 M           PUSH_REG1 R12
36189 00007F06 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
36190                                 M                                           ;REG=>[SP]
36191                                 M                                           ;"-4" FF,FF,FF,FC
36192                                 M   
36193                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
36194 00007F08 0A02                   M           STC     SR,R10                  ;
36195 00007F0A 9B21                   M           MOV.W   #H'000000F0,R11         ;
36196 00007F0C 2ABB                   M           OR      R11,R10         ;INT15
36197 00007F0E 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
36198 00007F10 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
36199                                 M   
36200 00007F12 DA11                   M           MOV.L   #_PDTRB,R10
36201 00007F14 6BA1                   M           MOV.W   @R10,R11
36202 00007F16 9C1C                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
36203 00007F18 2BC9                   M           AND     R12,R11                 ;
36204 00007F1A 2AB1                   M           MOV.W   R11,@R10                ;
36205 00007F1C 9C1A                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
36206 00007F1E 2BCB                   M           OR      R12,R11                 ;
36207 00007F20 2AB1                   M           MOV.W   R11,@R10                ;
36208                                 M   
36209                                 M           EI_POP_SR_SHn                   ;
36210 00007F22 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
36211                                 M   
36212                                 M           POP_REG1 R12
36213                                 M                                   ; RE"+4" 00,00,00,04
36214 00007F24 6CF6                   M           MOV.L   @R15+,R12        ;
36215                                 M           POP_REG1 R11
36216                                 M                                   ; RE"+4" 00,00,00,04
36217 00007F26 6BF6                   M           MOV.L   @R15+,R11        ;
36218                                 M           POP_REG1 R10
36219                                 M                                   ; RE"+4" 00,00,00,04
36220 00007F28 6AF6                   M           MOV.L   @R15+,R10        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   544
PROGRAM NAME =

36221                             926 I1  
36222                             927 I1  
36223                             928 I1  
36224 00007F2A 3987               929 I1          CMP/GT  R8,R9                           ;R8[前段]<R9[今回]
36225 00007F2C 8902               930 I1          BT      ACC_TBLMKSPD1_SB100
36226 00007F2E 6083               931 I1          MOV     R8,R0                           ;
36227 00007F30 6893               932 I1          MOV     R9,R8                           ;
36228 00007F32 6903               933 I1          MOV     R0,R9                           ;
36229 00007F34                    934 I1  ACC_TBLMKSPD1_SB100:                            ;
36230 00007F34 3988               935 I1          SUB     R8,R9                           ;R9=R9-R8
36231 00007F36 2998               936 I1          TST     R9,R9                           ;
36232                             937 I1          TST_BIT_ON ACC_TBLMKSPD1_SB200          ;
36233 00007F38 8B10                   M           BF      ACC_TBLMKSPD1_SB200
36234                             938 I1  
36235                             939 I1  ;       ----速度が同じ場合、前段の速度データをＣＯＰＹする---
36236 00007F3A 6373               940 I1          MOV     R7,R3                           ;最大時間1000
36237 00007F3C 7301               941 I1          ADD     #1,R3                           ;ﾙｰﾌﾟ数は1001個ﾙｰﾌﾟ
36238 00007F3E                    942 I1  ACC_TBLMKSPD1_SB150:                            ;
36239 00007F3E 6055               943 I1          MOV.W   @R5+,R0                         ;前段ﾃｰﾌﾞﾙ速度
36240 00007F40 2D01               944 I1          MOV.W   R0,@R13                         ;今回ﾃｰﾌﾞﾙ速度
36241 00007F42 7D02               945 I1          ADD     #2,R13                          ;
36242 00007F44 73FF               946 I1          ADD     #-1,R3                          ;
36243 00007F46 2338               947 I1          TST     R3,R3                           ;(2013-05-15 COPY されていない)
36244                             948 I1          TST_BIT_ON ACC_TBLMKSPD1_SB150          ;
36245 00007F48 8BF9                   M           BF      ACC_TBLMKSPD1_SB150
36246                             949 I1  
36247 00007F4A 2EA1               950 I1          MOV.W   R10,@R14                        ;前段の加速時間を今回に使用
36248                             951 I1          M_BRA   ACC_TBLMKSPD1_SB900             ;
36249 00007F4C A041                   M           BRA     ACC_TBLMKSPD1_SB900
36250 00007F4E 0009                   M           NOP
36251                             952 I1  
36252                                 I1  ***** BEGIN-POOL *****
36253 00007F50 00F0                   I1  DATA FOR SOURCE-LINE 925
36254 00007F52 00FB                   I1  DATA FOR SOURCE-LINE 925
36255 00007F54 0004                   I1  DATA FOR SOURCE-LINE 925
36256 00007F56 0000                   I1  ALIGNMENT CODE
36257 00007F58 00000000               I1  DATA FOR SOURCE-LINE 925
36258                                 I1  ***** END-POOL *****
36259 00007F5C                    953 I1  ACC_TBLMKSPD1_SB200:                            ;
36260 00007F5C 6273               954 I1          MOV     R7,R2                           ;最大時間
36261 00007F5E 6193               955 I1          MOV     R9,R1                           ;変化率
36262 00007F60 9431               956 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
36263                             957 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
36264 00007F62 D019                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36265 00007F64 400B                   M           JSR     @R0                     ;
36266 00007F66 0009                   M           NOP                                     ;
36267 00007F68 6423               958 I1          MOV     R2,R4
36268                             959 I1  
36269 00007F6A 2448               960 I1          TST     R4,R4                           ;
36270                             961 I1          TST_BIT_ON ACC_TBLMKSPD1_SB220          ;
36271 00007F6C 8B00                   M           BF      ACC_TBLMKSPD1_SB220
36272 00007F6E 7401               962 I1          ADD     #1,R4                           ;
36273 00007F70                    963 I1  ACC_TBLMKSPD1_SB220:                            ;
36274 00007F70 2E41               964 I1          MOV.W   R4,@R14                         ;時間
36275                             965 I1  
36276                             966 I1  ;       R8はオフセット速度
36277                             967 I1  ;       R9は変化率
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   545
PROGRAM NAME =

36278                             968 I1  ;       @R14=R4=時間　+すればﾙｰﾌﾟ回数1
36279                             969 I1  
36280 00007F72 6343               970 I1          MOV     R4,R3                           ;R4:減速時間
36281 00007F74 7301               971 I1          ADD     #1,R3                           ;
36282                             972 I1  
36283 00007F76 222A               973 I1          XOR     R2,R2                           ;Tx
36284                             974 I1  
36285 00007F78                    975 I1  ACC_TBLMKSPD1_SB250LOP:                         ;
36286 00007F78 2338               976 I1          TST     R3,R3                           ;
36287                             977 I1          TST_BIT_OF ACC_TBLMKSPD1_SB500          ;
36288 00007F7A 8929                   M           BT      ACC_TBLMKSPD1_SB500
36289                             978 I1          PUSH_REG1 R2
36290 00007F7C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
36291                                 M                                           ;REG=>[SP]
36292                                 M                                           ;"-4" FF,FF,FF,FC
36293                             979 I1  
36294                             980 I1  
36295 00007F7E 61C3               981 I1          MOV     R12,R1                          ;R12 ﾃﾞｰﾀ元側MAX時間
36296                             982 I1  
36297                             983 I1          PUSH_REG1 R4                            ;R4 ﾃﾞｰﾀ格納側MAX時間
36298 00007F80 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
36299                                 M                                           ;REG=>[SP]
36300                                 M                                           ;"-4" FF,FF,FF,FC
36301                             984 I1  ;R2*R1/R4 =data･･･MOD
36302 00007F82 312D               985 I1          DMULS.L R2,R1                                           ;
36303 00007F84 021A               986 I1          STS     MACL,R2                                         ;
36304                             987 I1          FAR_JSR #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0       ;R2...R1
36305 00007F86 D011                   M           MOV.L   #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
36306 00007F88 400B                   M           JSR     @R0                     ;
36307 00007F8A 0009                   M           NOP                                     ;
36308                             988 I1  
36309 00007F8C 65B3               989 I1          MOV     R11,R5                          ;ﾃﾞｰﾀ元側 TOP
36310 00007F8E 352C               990 I1          ADD     R2,R5                           ;TOP+NUM*2byte
36311 00007F90 352C               991 I1          ADD     R2,R5                           ;
36312 00007F92 6655               992 I1          MOV.W   @R5+,R6                         ;Fn[]
36313                             993 I1  
36314 00007F94 3C26               994 I1          CMP/HI  R2,R12                          ;
36315 00007F96 8900               995 I1          BT      ACC_TBLMKSPD1_SB300             ;
36316 00007F98 75FE               996 I1          ADD     #-2,R5                          ;
36317 00007F9A                    997 I1  ACC_TBLMKSPD1_SB300:                            ;
36318 00007F9A 6251               998 I1          MOV.W   @R5,R2                          ;Fn+1
36319 00007F9C 3268               999 I1          SUB     R6,R2                           ;R2=(Fn+1 -Fn )
36320                            1000 I1          POP_REG1 R4                             ;
36321                                 M                                   ; RE"+4" 00,00,00,04
36322 00007F9E 64F6                   M           MOV.L   @R15+,R4        ;
36323                            1001 I1  
36324                            1002 I1  
36325                            1003 I1          PUSH_REG1 R4                            ;
36326 00007FA0 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
36327                                 M                                           ;REG=>[SP]
36328                                 M                                           ;"-4" FF,FF,FF,FC
36329                            1004 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](Fn+1 -Fn ) * [R1]MOD/[R4]格納側Tmax
36330 00007FA2 D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36331 00007FA4 400B                   M           JSR     @R0                     ;
36332 00007FA6 0009                   M           NOP                                     ;
36333 00007FA8 326C              1005 I1          ADD     R6,R2                           ;R2速度
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   546
PROGRAM NAME =

36334                            1006 I1  
36335 00007FAA 6193              1007 I1          MOV     R9,R1                           ;
36336 00007FAC 940B              1008 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
36337                            1009 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](速度) * [R1]変化率/[R4]100.00
36338 00007FAE D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36339 00007FB0 400B                   M           JSR     @R0                     ;
36340 00007FB2 0009                   M           NOP                                     ;
36341                            1010 I1          POP_REG1 R4                             ;
36342                                 M                                   ; RE"+4" 00,00,00,04
36343 00007FB4 64F6                   M           MOV.L   @R15+,R4        ;
36344                            1011 I1  
36345 00007FB6 328C              1012 I1          ADD     R8,R2                           ;+ｵﾌｾｯﾄ
36346                            1013 I1  
36347 00007FB8 2D21              1014 I1          MOV.W   R2,@R13                         ;速度SAVE
36348                            1015 I1  
36349                            1016 I1          POP_REG1 R2
36350                                 M                                   ; RE"+4" 00,00,00,04
36351 00007FBA 62F6                   M           MOV.L   @R15+,R2        ;
36352 00007FBC 7D02              1017 I1          ADD     #2,R13                          ;
36353 00007FBE 73FF              1018 I1          ADD     #-1,R3                          ;
36354 00007FC0 7201              1019 I1          ADD     #1,R2                           ;
36355                            1020 I1          M_BRA   ACC_TBLMKSPD1_SB250LOP          ;
36356 00007FC2 AFD9                   M           BRA     ACC_TBLMKSPD1_SB250LOP
36357 00007FC4 0009                   M           NOP
36358                            1021 I1  
36359                                 I1  ***** BEGIN-POOL *****
36360 00007FC6 2710                   I1  DATA FOR SOURCE-LINE 956,1008
36361 00007FC8 00000000               I1  DATA FOR SOURCE-LINE 957,1004,1009
36362 00007FCC 00000000               I1  DATA FOR SOURCE-LINE 987
36363                                 I1  ***** END-POOL *****
36364 00007FD0                   1022 I1  ACC_TBLMKSPD1_SB500:                            ;
36365 00007FD0 0009              1023 I1          NOP                                     ;
36366                            1024 I1  
36367 00007FD2                   1025 I1  ACC_TBLMKSPD1_SB900:                            ;
36368                            1026 I1          _A_WDT_CLR                              ;
36369                                 M           PUSH_REG1 R10
36370 00007FD2 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
36371                                 M                                           ;REG=>[SP]
36372                                 M                                           ;"-4" FF,FF,FF,FC
36373                                 M           PUSH_REG1 R11
36374 00007FD4 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
36375                                 M                                           ;REG=>[SP]
36376                                 M                                           ;"-4" FF,FF,FF,FC
36377                                 M           PUSH_REG1 R12
36378 00007FD6 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
36379                                 M                                           ;REG=>[SP]
36380                                 M                                           ;"-4" FF,FF,FF,FC
36381                                 M   
36382                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
36383 00007FD8 0A02                   M           STC     SR,R10                  ;
36384 00007FDA 9B11                   M           MOV.W   #H'000000F0,R11         ;
36385 00007FDC 2ABB                   M           OR      R11,R10         ;INT15
36386 00007FDE 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
36387 00007FE0 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
36388                                 M   
36389 00007FE2 DA09                   M           MOV.L   #_PDTRB,R10
36390 00007FE4 6BA1                   M           MOV.W   @R10,R11
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   547
PROGRAM NAME =

36391 00007FE6 9C0C                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
36392 00007FE8 2BC9                   M           AND     R12,R11                 ;
36393 00007FEA 2AB1                   M           MOV.W   R11,@R10                ;
36394 00007FEC 9C0A                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
36395 00007FEE 2BCB                   M           OR      R12,R11                 ;
36396 00007FF0 2AB1                   M           MOV.W   R11,@R10                ;
36397                                 M   
36398                                 M           EI_POP_SR_SHn                   ;
36399 00007FF2 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
36400                                 M   
36401                                 M           POP_REG1 R12
36402                                 M                                   ; RE"+4" 00,00,00,04
36403 00007FF4 6CF6                   M           MOV.L   @R15+,R12        ;
36404                                 M           POP_REG1 R11
36405                                 M                                   ; RE"+4" 00,00,00,04
36406 00007FF6 6BF6                   M           MOV.L   @R15+,R11        ;
36407                                 M           POP_REG1 R10
36408                                 M                                   ; RE"+4" 00,00,00,04
36409 00007FF8 6AF6                   M           MOV.L   @R15+,R10        ;
36410                            1027 I1          SUB_END
36411                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36412 00007FFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36413                            1028 I1          M_RTS
36414 00007FFC 000B                   M           RTS                             ;RTSの後ろの
36415 00007FFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36416                            1029 I1  
36417                            1030 I1  ;       ***************************************************
36418                            1031 I1  ;       ***                                             ***
36419                            1032 I1  ;       ***     振り子加速度テーブル作成SUB1            ***
36420                            1033 I1  ;       ***                                             ***
36421                            1034 I1  ;       ***     速度テーブルをパルスに変換する          ***
36422                            1035 I1  ;       ***     [完成済み]                              ***
36423                            1036 I1  ;       ***************************************************
36424                            1037 I1  ;       Input   R6:最大周波数　PLS/Sec
36425                            1038 I1  ;       Input   R13:V-TABLE-TOP
36426                            1039 I1  ;       Input   R14:加減速時間-MEM WORD: ﾙｰﾌﾟ数は0番目を含むから+1回
36427                            1040 I1  ;       Input   R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ
36428                            1041 I1  ;
36429                                 I1  ***** BEGIN-POOL *****
36430 00008000 00F0                   I1  DATA FOR SOURCE-LINE 1026
36431 00008002 00FB                   I1  DATA FOR SOURCE-LINE 1026
36432 00008004 0004                   I1  DATA FOR SOURCE-LINE 1026
36433 00008006 0000                   I1  ALIGNMENT CODE
36434 00008008 00000000               I1  DATA FOR SOURCE-LINE 1026
36435                                 I1  ***** END-POOL *****
36436 0000800C                   1042 I1  _ACC_TBL_MAKPLS1_SUB
36437                            1043 I1          SUB_START
36438 0000800C 4F22                   M           STS.L   PR,@-R15                ;[必要]
36439                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36440                            1044 I1          _A_WDT_CLR                                      ;
36441                                 M           PUSH_REG1 R10
36442 0000800E 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
36443                                 M                                           ;REG=>[SP]
36444                                 M                                           ;"-4" FF,FF,FF,FC
36445                                 M           PUSH_REG1 R11
36446 00008010 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
36447                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   548
PROGRAM NAME =

36448                                 M                                           ;"-4" FF,FF,FF,FC
36449                                 M           PUSH_REG1 R12
36450 00008012 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
36451                                 M                                           ;REG=>[SP]
36452                                 M                                           ;"-4" FF,FF,FF,FC
36453                                 M   
36454                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
36455 00008014 0A02                   M           STC     SR,R10                  ;
36456 00008016 9B22                   M           MOV.W   #H'000000F0,R11         ;
36457 00008018 2ABB                   M           OR      R11,R10         ;INT15
36458 0000801A 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
36459 0000801C 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
36460                                 M   
36461 0000801E DA11                   M           MOV.L   #_PDTRB,R10
36462 00008020 6BA1                   M           MOV.W   @R10,R11
36463 00008022 9C1D                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
36464 00008024 2BC9                   M           AND     R12,R11                 ;
36465 00008026 2AB1                   M           MOV.W   R11,@R10                ;
36466 00008028 9C1B                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
36467 0000802A 2BCB                   M           OR      R12,R11                 ;
36468 0000802C 2AB1                   M           MOV.W   R11,@R10                ;
36469                                 M   
36470                                 M           EI_POP_SR_SHn                   ;
36471 0000802E 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
36472                                 M   
36473                                 M           POP_REG1 R12
36474                                 M                                   ; RE"+4" 00,00,00,04
36475 00008030 6CF6                   M           MOV.L   @R15+,R12        ;
36476                                 M           POP_REG1 R11
36477                                 M                                   ; RE"+4" 00,00,00,04
36478 00008032 6BF6                   M           MOV.L   @R15+,R11        ;
36479                                 M           POP_REG1 R10
36480                                 M                                   ; RE"+4" 00,00,00,04
36481 00008034 6AF6                   M           MOV.L   @R15+,R10        ;
36482                            1045 I1  
36483 00008036 65E1              1046 I1          MOV.W   @R14,R5                                         ;時間
36484 00008038 7501              1047 I1          ADD     #1,R5                                           ;LOOPは+1
36485                            1048 I1  
36486 0000803A 277A              1049 I1          XOR     R7,R7                                           ;積算数 500,000HZ/1000*100
                                          0=4byte
36487 0000803C 6163              1050 I1          MOV     R6,R1                                           ;data(0~10000) *500,000/(1
                                          0000*1/1000(msec)
36488 0000803E D40A              1051 I1          MOV.L   #_ACC_PER_V_MAX*_ACC_CALC_TIM,R4                ;
36489                            1052 I1  
36490 00008040                   1053 I1  ACC_TBLMKPLS1_SBLOP200
36491 00008040 2558              1054 I1          TST     R5,R5                           ;
36492                            1055 I1          TST_BIT_OF ACC_TBLMKPLS1_SB_END         ;
36493 00008042 8915                   M           BT      ACC_TBLMKPLS1_SB_END
36494 00008044 62D5              1056 I1          MOV.W   @R13+,R2                        ;V% LOAD
36495                            1057 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
36496 00008046 D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36497 00008048 400B                   M           JSR     @R0                     ;
36498 0000804A 0009                   M           NOP                                     ;
36499                            1058 I1                                                  ;R2(10000)*500000 8BYTE
36500                            1059 I1  
36501                            1060 I1  
36502                            1061 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   549
PROGRAM NAME =

36503                            1062 I1  
36504                            1063 I1  
36505                            1064 I1  
36506                            1065 I1  ;;      ADD     #1,R2                           ;(1ﾊﾟﾙｽはMOD分･･最大1000ﾊﾟﾙｽ程度の+側に誤
                                          差がでる)
36507 0000804C 2228              1066 I1          TST     R2,R2
36508                            1067 I1          TST_BIT_ON ACC_TBLMKPLS1_SBLOP220       ;
36509 0000804E 8B00                   M           BF      ACC_TBLMKPLS1_SBLOP220
36510 00008050 7201              1068 I1          ADD     #1,R2
36511 00008052                   1069 I1  ACC_TBLMKPLS1_SBLOP220
36512                            1070 I1  
36513 00008052 372C              1071 I1          ADD     R2,R7                           ;S=S+deltV
36514 00008054 2A72              1072 I1          MOV.L   R7,@R10                         ;
36515 00008056 7A04              1073 I1          ADD     #4,R10                          ;
36516                            1074 I1  
36517 00008058 75FF              1075 I1          ADD     #-1,R5
36518                            1076 I1          M_BRA   ACC_TBLMKPLS1_SBLOP200          ;
36519 0000805A AFF1                   M           BRA     ACC_TBLMKPLS1_SBLOP200
36520 0000805C 0009                   M           NOP
36521                            1077 I1  
36522                            1078 I1  
36523                                 I1  ***** BEGIN-POOL *****
36524 0000805E 00F0                   I1  DATA FOR SOURCE-LINE 1044
36525 00008060 00FB                   I1  DATA FOR SOURCE-LINE 1044
36526 00008062 0004                   I1  DATA FOR SOURCE-LINE 1044
36527 00008064 00000000               I1  DATA FOR SOURCE-LINE 1044
36528 00008068 00989680               I1  DATA FOR SOURCE-LINE 1051
36529 0000806C 00000000               I1  DATA FOR SOURCE-LINE 1057
36530                                 I1  ***** END-POOL *****
36531 00008070                   1079 I1  ACC_TBLMKPLS1_SB_END
36532                            1080 I1  
36533                            1081 I1          SUB_END
36534                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36535 00008070 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36536                            1082 I1          M_RTS
36537 00008072 000B                   M           RTS                             ;RTSの後ろの
36538 00008074 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36539                            1083 I1  
36540                            1084 I1  
36541                            1085 I1  
36542                            1086 I1  
36543                            1087 I1  
36544                            1088 I1  
36545                            1089 I1  
36546                            1090 I1  
36547                            1091 I1  
36548                            1092 I1  ;       ***************************************************
36549                            1093 I1  ;       ***                                             ***
36550                            1094 I1  ;       ***                                             ***
36551                            1095 I1  ;       ***                                             ***
36552                            1096 I1  ;       ***             振り子API                       ***
36553                            1097 I1  ;       ***                                             ***
36554                            1098 I1  ;       ***                                             ***
36555                            1099 I1  ;       ***************************************************
36556                            1100 I1  ;       サイクル開始(往路/復路),停止からの起動,タイマ停止からの起動
36557 00008076                   1101 I1  _DNM_START_ACC_CALC:
36558                            1102 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   550
PROGRAM NAME =

36559 00008076 4F22                   M           STS.L   PR,@-R15                ;[必要]
36560                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36561                            1103 I1  
36562 00008078 200A              1104 I1          XOR     R0,R0
36563 0000807A D108              1105 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
36564 0000807C 2101              1106 I1          MOV.W   R0,@R1                  ;
36565 0000807E D108              1107 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
36566 00008080 2101              1108 I1          MOV.W   R0,@R1                  ;
36567 00008082 D108              1109 I1          MOV.L   #_ACC_STR_STEP,R1       ;
36568 00008084 2101              1110 I1          MOV.W   R0,@R1                  ;
36569 00008086 D108              1111 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
36570 00008088 2101              1112 I1          MOV.W   R0,@R1                  ;
36571                            1113 I1  
36572                            1114 I1  ;       ---- 2010-09-29---
36573 0000808A 200A              1115 I1          XOR     R0,R0
36574 0000808C D107              1116 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
36575 0000808E 2101              1117 I1          MOV.W   R0,@R1                  ;
36576 00008090 D107              1118 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
36577 00008092 2101              1119 I1          MOV.W   R0,@R1                  ;
36578                            1120 I1  
36579                            1121 I1          SUB_END
36580                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36581 00008094 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36582                            1122 I1          M_RTS
36583 00008096 000B                   M           RTS                             ;RTSの後ろの
36584 00008098 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36585                            1123 I1  
36586                            1124 I1  ;       工程切替
36587                                 I1  ***** BEGIN-POOL *****
36588 0000809A 0000                   I1  ALIGNMENT CODE
36589 0000809C 00000000               I1  DATA FOR SOURCE-LINE 1105
36590 000080A0 00000000               I1  DATA FOR SOURCE-LINE 1107
36591 000080A4 00000000               I1  DATA FOR SOURCE-LINE 1109
36592 000080A8 00000000               I1  DATA FOR SOURCE-LINE 1111
36593 000080AC 00000000               I1  DATA FOR SOURCE-LINE 1116
36594 000080B0 00000000               I1  DATA FOR SOURCE-LINE 1118
36595                                 I1  ***** END-POOL *****
36596 000080B4                   1125 I1  _DNM_STEP_ACC_CHANGE:
36597                            1126 I1          SUB_START
36598 000080B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
36599                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36600                            1127 I1  
36601 000080B6 D10F              1128 I1          MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
36602 000080B8 6011              1129 I1          MOV.W   @R1,R0                  ;
36603 000080BA 2008              1130 I1          TST     R0,R0
36604                            1131 I1          TST_BIT_OF DNM_STEP_ACC_CHG_100 ;WHY
36605 000080BC 8916                   M           BT      DNM_STEP_ACC_CHG_100
36606                            1132 I1  
36607 000080BE D10E              1133 I1          MOV.L   #_ACC_POS_STEP,R1       ;
36608 000080C0 6211              1134 I1          MOV.W   @R1,R2                  ;
36609 000080C2 2101              1135 I1          MOV.W   R0,@R1                  ;
36610 000080C4 3200              1136 I1          CMP/EQ  R0,R2                   ;
36611 000080C6 8911              1137 I1          BT      DNM_STEP_ACC_CHG_100    ;変更なし
36612 000080C8 D10C              1138 I1          MOV.L   #_ACC_STR_STEP,R1       ;
36613 000080CA 2101              1139 I1          MOV.W   R0,@R1                  ;
36614                            1140 I1  
36615 000080CC 8801              1141 I1          cmp/eq  #1,r0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   551
PROGRAM NAME =

36616 000080CE 8B00              1142 I1          BF      DNM_STEP_ACC_CHGDBG10
36617 000080D0 0009              1143 I1          NOP
36618 000080D2                   1144 I1  DNM_STEP_ACC_CHGDBG10:
36619 000080D2 8802              1145 I1          cmp/eq  #2,r0                   ;
36620 000080D4 8B00              1146 I1          BF      DNM_STEP_ACC_CHGDBG20   ;
36621 000080D6 0009              1147 I1          NOP
36622 000080D8                   1148 I1  DNM_STEP_ACC_CHGDBG20:                  ;
36623                            1149 I1  
36624 000080D8 200A              1150 I1          XOR     R0,R0
36625 000080DA D109              1151 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
36626 000080DC 2101              1152 I1          MOV.W   R0,@R1
36627 000080DE D109              1153 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
36628 000080E0 2101              1154 I1          MOV.W   R0,@R1
36629                            1155 I1  
36630                            1156 I1  
36631                            1157 I1  
36632                            1158 I1  ;       ---- 2010-09-29---
36633 000080E2 200A              1159 I1          XOR     R0,R0
36634 000080E4 D108              1160 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
36635 000080E6 2101              1161 I1          MOV.W   R0,@R1                  ;
36636 000080E8 D108              1162 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
36637 000080EA 2101              1163 I1          MOV.W   R0,@R1                  ;
36638                            1164 I1  
36639                            1165 I1  
36640                            1166 I1  
36641 000080EC                   1167 I1  DNM_STEP_ACC_CHG_100:
36642                            1168 I1  
36643                            1169 I1          SUB_END
36644                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36645 000080EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36646                            1170 I1          M_RTS
36647 000080EE 000B                   M           RTS                             ;RTSの後ろの
36648 000080F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36649                            1171 I1  
36650                            1172 I1  
36651                            1173 I1  ;       ***************************************************
36652                            1174 I1  ;       ***                                             ***
36653                            1175 I1  ;       ***                                             ***
36654                            1176 I1  ;       ***                                             ***
36655                            1177 I1  ;       ***                                             ***
36656                            1178 I1  ;       ***                                             ***
36657                            1179 I1  ;       ***                                             ***
36658                            1180 I1  ;       ***             振り子加速度演算                ***
36659                            1181 I1  ;       ***             (LSIの演算部の代わり)           ***
36660                            1182 I1  ;       ***                                             ***
36661                            1183 I1  ;       ***                                             ***
36662                            1184 I1  ;       ***                                             ***
36663                            1185 I1  ;       ***                                             ***
36664                            1186 I1  ;       ***                                             ***
36665                            1187 I1  ;       ***************************************************
36666                            1188 I1  ;       _PLS_LSI_CTRL
36667                            1189 I1  ;               _PLS_LSI_CTL_CALC
36668                            1190 I1  ;                       POSCTL_SV_SPD
36669                                 I1  ***** BEGIN-POOL *****
36670 000080F2 0000                   I1  ALIGNMENT CODE
36671 000080F4 00000000               I1  DATA FOR SOURCE-LINE 1128
36672 000080F8 00000000               I1  DATA FOR SOURCE-LINE 1133
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   552
PROGRAM NAME =

36673 000080FC 00000000               I1  DATA FOR SOURCE-LINE 1138
36674 00008100 00000000               I1  DATA FOR SOURCE-LINE 1151
36675 00008104 00000000               I1  DATA FOR SOURCE-LINE 1153
36676 00008108 00000000               I1  DATA FOR SOURCE-LINE 1160
36677 0000810C 00000000               I1  DATA FOR SOURCE-LINE 1162
36678                                 I1  ***** END-POOL *****
36679 00008110                   1191 I1  _DNM_SPD_CALC:
36680                            1192 I1          SUB_START
36681 00008110 4F22                   M           STS.L   PR,@-R15                ;[必要]
36682                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36683 00008112 200A              1193 I1          XOR     R0,R0
36684 00008114 D123              1194 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
36685 00008116 2102              1195 I1          MOV.L   R0,@R1                          ;
36686                            1196 I1  
36687                            1197 I1  
36688 00008118 200A              1198 I1          XOR     R0,R0                           ;
36689 0000811A D123              1199 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
36690 0000811C 2101              1200 I1          MOV.W   R0,@R1                          ;
36691                            1201 I1  
36692                            1202 I1          FAR_JSR #_DNM_STEP_ACC_CHANGE,R0        ;
36693 0000811E D023                   M           MOV.L   #_DNM_STEP_ACC_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36694 00008120 400B                   M           JSR     @R0                     ;
36695 00008122 0009                   M           NOP                                     ;
36696                            1203 I1  
36697                            1204 I1          FAR_JSR #_DNM_ACC_CALC,R0               ;
36698 00008124 D022                   M           MOV.L   #_DNM_ACC_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36699 00008126 400B                   M           JSR     @R0                     ;
36700 00008128 0009                   M           NOP                                     ;
36701                            1205 I1  
36702                            1206 I1  ;       -------- DEBUG OUT ------------------
36703 0000812A D122              1207 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
36704 0000812C 6011              1208 I1          MOV.W   @R1,R0                          ;
36705 0000812E D11E              1209 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
36706 00008130 6211              1210 I1          MOV.W   @R1,R2                          ;
36707 00008132 202B              1211 I1          OR      R2,R0                           ;
36708                            1212 I1  
36709 00008134 D120              1213 I1          MOV.L   #_ACC_STEP_FLG,R1               ;
36710 00008136 6311              1214 I1          MOV.W   @R1,R3                          ;
36711 00008138 4318              1215 I1          SHLL8   R3                              ;
36712 0000813A 203B              1216 I1          OR      R3,R0                           ;
36713                            1217 I1  
36714                            1218 I1  ;;;;;;;;2015-07-22      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
36715                            1219 I1  ;;;;;;;;2015-07-22      MOV.W   R0,@R1                          ;
36716                            1220 I1  
36717 0000813C D119              1221 I1          MOV.L   #_ACC_ANS_ACCDAT,R1     ;(加速または減速すべき　加速度):0変化するﾃﾞｰﾀがな
                                          い
36718 0000813E 6212              1222 I1          MOV.L   @R1,R2                  ;
36719 00008140 D11E              1223 I1          MOV.L   #_ACC_MONITOR_DAT1,R1   ;リニア
36720 00008142 2122              1224 I1          MOV.L   R2,@R1                  ;+/-1
36721                            1225 I1  
36722 00008144 D11E              1226 I1          MOV.L   #_ACC_LAST_POINT,R1     ;最大速度から求まる
36723 00008146 6211              1227 I1          MOV.W   @R1,R2                  ;
36724                            1228 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
36725 00008148 D11E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36726 0000814A 410B                   M           JSR     @R1                     ;
36727 0000814C 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   553
PROGRAM NAME =

36728 0000814E D11E              1229 I1          MOV.L   #_ACC_MONITOR_DAT2,R1   ;ｴﾝｺｰﾀﾞ角度
36729 00008150 2122              1230 I1          MOV.L   R2,@R1                  ;
36730                            1231 I1  
36731 00008152 D11E              1232 I1          MOV.L   #_ACC_STOP_POINT,R1     ;ステップ速度停止の中で求まる（停止予定の行程）
36732 00008154 6211              1233 I1          MOV.W   @R1,R2                  ;
36733                            1234 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
36734 00008156 D11B                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36735 00008158 410B                   M           JSR     @R1                     ;
36736 0000815A 0009                   M           NOP                                     ;
36737 0000815C D11C              1235 I1          MOV.L   #_ACC_MONITOR_DAT3,R1   ;PG角度
36738 0000815E 2122              1236 I1          MOV.L   R2,@R1                  ;
36739                            1237 I1  
36740 00008160 D11C              1238 I1          MOV.L   #_ACC_STEP_POINT,R1     ;ステップ
36741 00008162 6211              1239 I1          MOV.W   @R1,R2                  ;
36742 00008164 D11C              1240 I1          MOV.L   #_ACC_MONITOR_DAT4,R1   ;負荷率
36743 00008166 2122              1241 I1          MOV.L   R2,@R1                  ;
36744                            1242 I1  
36745                            1243 I1  
36746                            1244 I1  ;DAT5
36747                            1245 I1  
36748                            1246 I1  
36749 00008168 D11C              1247 I1          MOV.L   #_ACC_LAST_SPD,R1       ;
36750 0000816A 6212              1248 I1          MOV.L   @R1,R2                  ;
36751 0000816C 4201              1249 I1          SHLR    R2
36752 0000816E 4201              1250 I1          SHLR    R2
36753 00008170 4201              1251 I1          SHLR    R2
36754 00008172 4201              1252 I1          SHLR    R2
36755 00008174 4201              1253 I1          SHLR    R2
36756 00008176 D11A              1254 I1          MOV.L   #_ACC_MONITOR_DAT6,R1   ;左
36757 00008178 2122              1255 I1          MOV.L   R2,@R1                  ;
36758                            1256 I1  
36759 0000817A D11A              1257 I1          MOV.L   #_ACC_STOP_SPD,R1       ;
36760 0000817C 6212              1258 I1          MOV.L   @R1,R2                  ;
36761 0000817E 4201              1259 I1          SHLR    R2
36762 00008180 4201              1260 I1          SHLR    R2
36763 00008182 4201              1261 I1          SHLR    R2
36764 00008184 4201              1262 I1          SHLR    R2
36765 00008186 4201              1263 I1          SHLR    R2
36766 00008188 D117              1264 I1          MOV.L   #_ACC_MONITOR_DAT7,R1   ;右
36767 0000818A 2122              1265 I1          MOV.L   R2,@R1                  ;
36768                            1266 I1  
36769 0000818C D117              1267 I1          MOV.L   #_ACC_STEP_SPD,R1       ;
36770 0000818E 6212              1268 I1          MOV.L   @R1,R2                  ;
36771 00008190 4201              1269 I1          SHLR    R2
36772 00008192 4201              1270 I1          SHLR    R2
36773 00008194 4201              1271 I1          SHLR    R2
36774 00008196 4201              1272 I1          SHLR    R2
36775 00008198 4201              1273 I1          SHLR    R2
36776 0000819A D115              1274 I1          MOV.L   #_ACC_MONITOR_DAT8,R1   ;合計
36777 0000819C 2122              1275 I1          MOV.L   R2,@R1                  ;
36778                            1276 I1  
36779                            1277 I1  
36780                            1278 I1  
36781                            1279 I1  
36782                            1280 I1          SUB_END
36783                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36784 0000819E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   554
PROGRAM NAME =

36785                            1281 I1          M_RTS
36786 000081A0 000B                   M           RTS                             ;RTSの後ろの
36787 000081A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36788                            1282 I1  
36789                            1283 I1  
36790                            1284 I1  
36791                                 I1  ***** BEGIN-POOL *****
36792 000081A4 00000000               I1  DATA FOR SOURCE-LINE 1194,1221
36793 000081A8 00000000               I1  DATA FOR SOURCE-LINE 1199,1209
36794 000081AC 00000000               I1  DATA FOR SOURCE-LINE 1202
36795 000081B0 00000000               I1  DATA FOR SOURCE-LINE 1204
36796 000081B4 00000000               I1  DATA FOR SOURCE-LINE 1207
36797 000081B8 00000000               I1  DATA FOR SOURCE-LINE 1213
36798 000081BC 00000000               I1  DATA FOR SOURCE-LINE 1223
36799 000081C0 00000000               I1  DATA FOR SOURCE-LINE 1226
36800 000081C4 00000000               I1  DATA FOR SOURCE-LINE 1228,1234
36801 000081C8 00000000               I1  DATA FOR SOURCE-LINE 1229
36802 000081CC 00000000               I1  DATA FOR SOURCE-LINE 1232
36803 000081D0 00000000               I1  DATA FOR SOURCE-LINE 1235
36804 000081D4 00000000               I1  DATA FOR SOURCE-LINE 1238
36805 000081D8 00000000               I1  DATA FOR SOURCE-LINE 1240
36806 000081DC 00000000               I1  DATA FOR SOURCE-LINE 1247
36807 000081E0 00000000               I1  DATA FOR SOURCE-LINE 1254
36808 000081E4 00000000               I1  DATA FOR SOURCE-LINE 1257
36809 000081E8 00000000               I1  DATA FOR SOURCE-LINE 1264
36810 000081EC 00000000               I1  DATA FOR SOURCE-LINE 1267
36811 000081F0 00000000               I1  DATA FOR SOURCE-LINE 1274
36812                                 I1  ***** END-POOL *****
36813 000081F4                   1285 I1  _DNM_ACC_CALC
36814                            1286 I1          SUB_START
36815 000081F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
36816                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36817                            1287 I1  
36818                            1288 I1          FAR_JSR #_DNM_ACC_OVER_PLS_MAK,R0
36819 000081F6 D024                   M           MOV.L   #_DNM_ACC_OVER_PLS_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36820 000081F8 400B                   M           JSR     @R0                     ;
36821 000081FA 0009                   M           NOP                                     ;
36822                            1289 I1  
36823 000081FC D123              1290 I1          MOV.L   #_ACC_POS_STEP,R1       ;//内部制御工程1~11
36824 000081FE 6011              1291 I1          MOV.W   @R1,R0                  ;
36825                            1292 I1  ;----------必要か？  2011-03-22
36826 00008200 2008              1293 I1          TST     R0,R0
36827                            1294 I1          TST_BIT_ON DNM_ACCCALC_020
36828 00008202 8B00                   M           BF      DNM_ACCCALC_020
36829 00008204 903C              1295 I1          MOV.W   #1,R0                   ;
36830 00008206                   1296 I1  DNM_ACCCALC_020
36831                            1297 I1  
36832                            1298 I1  
36833 00008206 D122              1299 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
36834 00008208 2101              1300 I1          MOV.W   R0,@R1                  ;
36835                            1301 I1  
36836 0000820A D122              1302 I1          MOV.L   #_ACC_STEP_NUMBER,R1    ;加減速に使用するデータ番号=動作ステップ
36837 0000820C 2101              1303 I1          MOV.W   R0,@R1                  ;
36838                            1304 I1  
36839 0000820E 200A              1305 I1          XOR     R0,R0
36840 00008210 D121              1306 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   555
PROGRAM NAME =

36841 00008212 2102              1307 I1          MOV.L   R0,@R1                          ;
36842                            1308 I1  
36843                            1309 I1  ;;;     FAR_JSR #_TBLACC_LAST_SP_MAKE,R0        ;最終減速演算：現在速度より高ければこれに
                                          置き換える
36844                            1310 I1  
36845 00008214 D121              1311 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
36846 00008216 6012              1312 I1          MOV.L   @R1,R0                          ;
36847 00008218 D121              1313 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
36848 0000821A 2102              1314 I1          MOV.L   R0,@R1                          ;PLS/S
36849                            1315 I1  
36850                            1316 I1  
36851                            1317 I1  
36852                            1318 I1          FAR_JSR #_TBLACC_STOP_SP_MAKE,R0        ;現行ｽﾃｯﾌﾟからの減速演算：最大以下であれば
                                          最大
36853 0000821C D021                   M           MOV.L   #_TBLACC_STOP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36854 0000821E 400B                   M           JSR     @R0                     ;
36855 00008220 0009                   M           NOP                                     ;
36856                            1319 I1  
36857                            1320 I1          FAR_JSR #_TBLACC_STEP_SP_MAKE,R0        ;減速演算２つより低い範囲で加速または減速
                                          する
36858 00008222 D021                   M           MOV.L   #_TBLACC_STEP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36859 00008224 400B                   M           JSR     @R0                     ;
36860 00008226 0009                   M           NOP                                     ;
36861                            1321 I1  
36862                            1322 I1  ;       比較結果を加速度で表す
36863                            1323 I1  
36864 00008228 288A              1324 I1          XOR     R8,R8                           ;FLAG
36865 0000822A D11D              1325 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
36866 0000822C 6612              1326 I1          MOV.L   @R1,R6                          ;PLS/S
36867 0000822E D11F              1327 I1          MOV.L   #_ACC_STOP_SPD,R1               ;停止ステップのデータから求まる
36868 00008230 6512              1328 I1          MOV.L   @R1,R5                          ;
36869 00008232 3653              1329 I1          CMP/GE  R5,R6                           ;
36870 00008234 8902              1330 I1          BT      DNM_ACCCALC_100                 ;
36871 00008236 9423              1331 I1          MOV.W   #BIT0,R4                        ;
36872 00008238 284B              1332 I1          OR      R4,R8                           ;
36873 0000823A 6563              1333 I1          MOV     R6,R5                           ;R5:LIMIT
36874 0000823C                   1334 I1  DNM_ACCCALC_100
36875                            1335 I1  
36876                            1336 I1  
36877 0000823C D11C              1337 I1          MOV.L   #_ACC_STEP_SPD,R1               ;これから変化させようと考えている速度
36878 0000823E 6212              1338 I1          MOV.L   @R1,R2                          ;
36879 00008240 3523              1339 I1          CMP/GE  R2,R5                           ;
36880 00008242 8902              1340 I1          BT      DNM_ACCCALC_200                 ;
36881                            1341 I1  
36882                            1342 I1  ;       --- limit on----
36883 00008244 941D              1343 I1          MOV.W   #BIT1,R4                        ;
36884 00008246 284B              1344 I1          OR      R4,R8                           ;
36885 00008248 6253              1345 I1          MOV     R5,R2                           ;LIMIT
36886                            1346 I1  
36887 0000824A                   1347 I1  DNM_ACCCALC_200
36888 0000824A D11A              1348 I1          MOV.L   #_ACC_CALC_SPDX,R1              ;
36889 0000824C 2122              1349 I1          MOV.L   R2,@R1                          ;
36890                            1350 I1  
36891                            1351 I1          FAR_JSR #_DNM_ACC_OVER_SPD_MAK,R0               ;
36892 0000824E D01A                   M           MOV.L   #_DNM_ACC_OVER_SPD_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36893 00008250 400B                   M           JSR     @R0                     ;
36894 00008252 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   556
PROGRAM NAME =

36895 00008254 D119              1352 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
36896 00008256 6212              1353 I1          MOV.L   @R1,R2                          ;
36897                            1354 I1  
36898                            1355 I1  
36899 00008258 D119              1356 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
36900 0000825A 6312              1357 I1          MOV.L   @R1,R3                          ;
36901 0000825C 3233              1358 I1          CMP/GE  R3,R2                           ;
36902 0000825E 8902              1359 I1          BT      DNM_ACCCALC_300                 ;
36903                            1360 I1  
36904                            1361 I1  ;       --- UNDER　LIMIT----
36905 00008260 9410              1362 I1          MOV.W   #BIT2,R4                        ;[BIT2はにせもの]
36906 00008262 284B              1363 I1          OR      R4,R8                           ;
36907 00008264 6233              1364 I1          MOV     R3,R2                           ;
36908                            1365 I1  
36909 00008266                   1366 I1  DNM_ACCCALC_300
36910 00008266 D117              1367 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
36911 00008268 6011              1368 I1          MOV.W   @R1,R0                          ;
36912 0000826A C9FB              1369 I1          AND     #LOW ~BIT2,R0
36913 0000826C 208B              1370 I1          OR      R8,R0                           ;
36914 0000826E 2101              1371 I1          MOV.W   R0,@R1                          ;
36915                            1372 I1  
36916 00008270 D115              1373 I1          MOV.L   #_POSCTL_RL_SPD,R1              ;現在速度
36917 00008272 6312              1374 I1          MOV.L   @R1,R3                          ;
36918 00008274 3238              1375 I1          SUB     R3,R2                           ;
36919 00008276 D108              1376 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
36920 00008278 2122              1377 I1          MOV.L   R2,@R1                          ;
36921                            1378 I1  
36922                            1379 I1          SUB_END
36923                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36924 0000827A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36925                            1380 I1          M_RTS
36926 0000827C 000B                   M           RTS                             ;RTSの後ろの
36927 0000827E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36928                            1381 I1  
36929                            1382 I1  
36930                            1383 I1  
36931                            1384 I1  
36932                            1385 I1  
36933                            1386 I1  
36934                            1387 I1  ;       *******************************************
36935                            1388 I1  ;       ***                                     ***
36936                            1389 I1  ;       ***     演算上で使用するデータ          ***
36937                            1390 I1  ;       ***                                     ***
36938                            1391 I1  ;       *******************************************
36939                                 I1  ***** BEGIN-POOL *****
36940 00008280 0001                   I1  DATA FOR SOURCE-LINE 1295,1331
36941 00008282 0002                   I1  DATA FOR SOURCE-LINE 1343
36942 00008284 0004                   I1  DATA FOR SOURCE-LINE 1362
36943 00008286 0000                   I1  ALIGNMENT CODE
36944 00008288 00000000               I1  DATA FOR SOURCE-LINE 1288
36945 0000828C 00000000               I1  DATA FOR SOURCE-LINE 1290
36946 00008290 00000000               I1  DATA FOR SOURCE-LINE 1299
36947 00008294 00000000               I1  DATA FOR SOURCE-LINE 1302
36948 00008298 00000000               I1  DATA FOR SOURCE-LINE 1306,1376
36949 0000829C 00000000               I1  DATA FOR SOURCE-LINE 1311
36950 000082A0 00000000               I1  DATA FOR SOURCE-LINE 1313,1325
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   557
PROGRAM NAME =

36951 000082A4 00000000               I1  DATA FOR SOURCE-LINE 1318
36952 000082A8 00000000               I1  DATA FOR SOURCE-LINE 1320
36953 000082AC 00000000               I1  DATA FOR SOURCE-LINE 1327
36954 000082B0 00000000               I1  DATA FOR SOURCE-LINE 1337
36955 000082B4 00000000               I1  DATA FOR SOURCE-LINE 1348
36956 000082B8 00000000               I1  DATA FOR SOURCE-LINE 1351
36957 000082BC 00000000               I1  DATA FOR SOURCE-LINE 1352
36958 000082C0 00000000               I1  DATA FOR SOURCE-LINE 1356
36959 000082C4 00000000               I1  DATA FOR SOURCE-LINE 1367
36960 000082C8 00000000               I1  DATA FOR SOURCE-LINE 1373
36961                                 I1  ***** END-POOL *****
36962 000082CC                   1392 I1  _DNM_ACC_OVER_PLS_MAK:
36963                            1393 I1          SUB_START
36964 000082CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
36965                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36966 000082CE D50A              1394 I1          MOV.L   #_ACC_REST_ABS_PLS,R5   ;//
36967 000082D0 6156              1395 I1          MOV.L   @R5+,R1                 ;
36968 000082D2 6252              1396 I1          MOV.L   @R5,R2                  ;
36969                            1397 I1  
36970                            1398 I1  ;       *1/比率
36971 000082D4 D409              1399 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
                                          上距離がある)
36972 000082D6 6041              1400 I1          MOV.W   @R4,R0                          ;
36973 000082D8 2008              1401 I1          TST     R0,R0                           ;
36974                            1402 I1          TST_BIT_OF DNM_ACC_OVER_PLSMK200        ;
36975 000082DA 891A                   M           BT      DNM_ACC_OVER_PLSMK200
36976                            1403 I1  
36977 000082DC D308              1404 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
36978 000082DE 6431              1405 I1          MOV.W   @R3,R4                                  ;
36979 000082E0 9109              1406 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
36980                            1407 I1          FAR_JSR #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0   ;
36981 000082E2 D008                   M           MOV.L   #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36982 000082E4 400B                   M           JSR     @R0                     ;
36983 000082E6 0009                   M           NOP                                     ;
36984                            1408 I1  
36985 000082E8 2118              1409 I1          TST     R1,R1                                   ;
36986                            1410 I1          TST_BIT_ON DNM_ACC_OVER_PLSMK100                ;まだ4byte以上ある
36987 000082EA 8B0F                   M           BF      DNM_ACC_OVER_PLSMK100
36988                            1411 I1  
36989 000082EC D406              1412 I1          MOV.L   #_GENSOK_LNGTH_MAX,R4                   ;30秒*500KHよりも距離がある
36990 000082EE 3243              1413 I1          CMP/GE  R4,R2                                   ;
36991 000082F0 890C              1414 I1          BT      DNM_ACC_OVER_PLSMK100                   ;
36992                            1415 I1          M_BRA   DNM_ACC_OVER_PLSMK200                   ;
36993 000082F2 A00E                   M           BRA     DNM_ACC_OVER_PLSMK200
36994 000082F4 0009                   M           NOP
36995                            1416 I1  
36996                                 I1  ***** BEGIN-POOL *****
36997 000082F6 0064                   I1  DATA FOR SOURCE-LINE 1406
36998 000082F8 00000000               I1  DATA FOR SOURCE-LINE 1394
36999 000082FC 00000000               I1  DATA FOR SOURCE-LINE 1399
37000 00008300 00000000               I1  DATA FOR SOURCE-LINE 1404
37001 00008304 00000000               I1  DATA FOR SOURCE-LINE 1407
37002 00008308 00E4E1C0               I1  DATA FOR SOURCE-LINE 1412
37003                                 I1  ***** END-POOL *****
37004 0000830C                   1417 I1  DNM_ACC_OVER_PLSMK100
37005 0000830C 902F              1418 I1          MOV.W   #-1,R0
37006 0000830E D419              1419 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   558
PROGRAM NAME =

                                          上距離がある)
37007 00008310 2401              1420 I1          MOV.W   R0,@R4                          ;
37008                            1421 I1  
37009 00008312                   1422 I1  DNM_ACC_OVER_PLSMK200:
37010 00008312 D619              1423 I1          MOV.L   #_ACC_REST_ABS_PLSX,R6  ;//これで演算
37011 00008314 2612              1424 I1          MOV.L   R1,@R6                  ;
37012 00008316 1621              1425 I1          MOV.L   R2,@(4,R6)              ;
37013                            1426 I1  
37014                            1427 I1  
37015                            1428 I1  ;       _TBLACC_ACC_ADDCHKの演算に使用している箇所の拡大
37016                            1429 I1  ;       設定速度の拡大 DATA*MAX/比率
37017 00008318 D118              1430 I1          MOV.L   #_POSCTL_SV_SPD,R1                      ;
37018 0000831A 6212              1431 I1          MOV.L   @R1,R2                                  ;
37019 0000831C D318              1432 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
37020 0000831E 6431              1433 I1          MOV.W   @R3,R4                                  ;
37021 00008320 9126              1434 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
37022                            1435 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
37023 00008322 D018                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37024 00008324 400B                   M           JSR     @R0                     ;
37025 00008326 0009                   M           NOP                                     ;
37026 00008328 D117              1436 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                 ;
37027 0000832A 2122              1437 I1          MOV.L   R2,@R1                                  ;
37028                            1438 I1  
37029                            1439 I1  
37030                            1440 I1  
37031                            1441 I1  ;       実速度の拡大 DATA*MAX/比率(ACC_)
37032 0000832C D117              1442 I1          MOV.L   #_POSCTL_RL_SPD,R1                      ;
37033 0000832E 6212              1443 I1          MOV.L   @R1,R2                                  ;
37034 00008330 D313              1444 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
37035 00008332 6431              1445 I1          MOV.W   @R3,R4                                  ;
37036 00008334 911C              1446 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
37037                            1447 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
37038 00008336 D013                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37039 00008338 400B                   M           JSR     @R0                     ;
37040 0000833A 0009                   M           NOP                                     ;
37041 0000833C D114              1448 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R1                 ;
37042 0000833E 2122              1449 I1          MOV.L   R2,@R1                                  ;
37043                            1450 I1  
37044                            1451 I1  
37045                            1452 I1  
37046                            1453 I1  ;       加速度の拡大 DATA*MAX/比率
37047 00008340 D114              1454 I1          MOV.L   #_POSCTL_SV_UP_ACC,R1                   ;
37048 00008342 6212              1455 I1          MOV.L   @R1,R2                                  ;
37049 00008344 D30E              1456 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
37050 00008346 6431              1457 I1          MOV.W   @R3,R4                                  ;
37051 00008348 9112              1458 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
37052                            1459 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
37053 0000834A D00E                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37054 0000834C 400B                   M           JSR     @R0                     ;
37055 0000834E 0009                   M           NOP                                     ;
37056 00008350 D111              1460 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R1              ;
37057 00008352 2122              1461 I1          MOV.L   R2,@R1                                  ;
37058                            1462 I1  
37059                            1463 I1  
37060                            1464 I1  ;       加速度の拡大 DATA*MAX/比率
37061 00008354 D111              1465 I1          MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
37062 00008356 6212              1466 I1          MOV.L   @R1,R2                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   559
PROGRAM NAME =

37063 00008358 D309              1467 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
37064 0000835A 6431              1468 I1          MOV.W   @R3,R4                                  ;
37065 0000835C 9108              1469 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
37066                            1470 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
37067 0000835E D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37068 00008360 400B                   M           JSR     @R0                     ;
37069 00008362 0009                   M           NOP                                     ;
37070 00008364 D10E              1471 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R1              ;
37071 00008366 2122              1472 I1          MOV.L   R2,@R1                                  ;
37072                            1473 I1  
37073                            1474 I1  
37074                            1475 I1  
37075                            1476 I1  
37076                            1477 I1  
37077                            1478 I1  
37078                            1479 I1          SUB_END
37079                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37080 00008368 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37081                            1480 I1          M_RTS
37082 0000836A 000B                   M           RTS                             ;RTSの後ろの
37083 0000836C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37084                            1481 I1  
37085                            1482 I1  
37086                                 I1  ***** BEGIN-POOL *****
37087 0000836E FFFF                   I1  DATA FOR SOURCE-LINE 1418
37088 00008370 0064                   I1  DATA FOR SOURCE-LINE 1434,1446,1458,1469
37089 00008372 0000                   I1  ALIGNMENT CODE
37090 00008374 00000000               I1  DATA FOR SOURCE-LINE 1419
37091 00008378 00000000               I1  DATA FOR SOURCE-LINE 1423
37092 0000837C 00000000               I1  DATA FOR SOURCE-LINE 1430
37093 00008380 00000000               I1  DATA FOR SOURCE-LINE 1432,1444,1456,1467
37094 00008384 00000000               I1  DATA FOR SOURCE-LINE 1435,1447,1459,1470
37095 00008388 00000000               I1  DATA FOR SOURCE-LINE 1436
37096 0000838C 00000000               I1  DATA FOR SOURCE-LINE 1442
37097 00008390 00000000               I1  DATA FOR SOURCE-LINE 1448
37098 00008394 00000000               I1  DATA FOR SOURCE-LINE 1454
37099 00008398 00000000               I1  DATA FOR SOURCE-LINE 1460
37100 0000839C 00000000               I1  DATA FOR SOURCE-LINE 1465
37101 000083A0 00000000               I1  DATA FOR SOURCE-LINE 1471
37102                                 I1  ***** END-POOL *****
37103 000083A4                   1483 I1  _DNM_ACC_OVER_SPD_MAK:
37104                            1484 I1          SUB_START
37105 000083A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
37106                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37107 000083A6 D107              1485 I1          MOV.L   #_ACC_CALC_SPDX,R1                      ;
37108 000083A8 6212              1486 I1          MOV.L   @R1,R2                                  ;
37109                            1487 I1  
37110                            1488 I1  ;      *比率
37111 000083AA D307              1489 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
37112 000083AC 6131              1490 I1          MOV.W   @R3,R1                                  ;
37113 000083AE 9407              1491 I1          MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;
37114                            1492 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
37115 000083B0 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37116 000083B2 400B                   M           JSR     @R0                     ;
37117 000083B4 0009                   M           NOP                                     ;
37118                            1493 I1  
37119                            1494 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   560
PROGRAM NAME =

37120 000083B6 D106              1495 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
37121 000083B8 2122              1496 I1          MOV.L   R2,@R1                          ;
37122                            1497 I1          SUB_END
37123                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37124 000083BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37125                            1498 I1          M_RTS
37126 000083BC 000B                   M           RTS                             ;RTSの後ろの
37127 000083BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37128                            1499 I1  
37129                            1500 I1  
37130                            1501 I1  
37131                            1502 I1  ;       ***************************************************
37132                            1503 I1  ;       ***                                             ***
37133                            1504 I1  ;       ***             最終減速演算                    ***
37134                            1505 I1  ;       ***             100%->0%                        ***
37135                            1506 I1  ;       ***             距離を使用する                  ***
37136                            1507 I1  ;       ***                                             ***
37137                            1508 I1  ;       ***************************************************
37138                            1509 I1  ;@全工程
37139                            1510 I1  ;;;[2013-05-20 前から未使用]_TBLACC_LAST_SP_MAKE
37140                            1511 I1  ;;;[2013-05-20 前から未使用]    SUB_START
37141                            1512 I1  ;;;[2013-05-20 前から未使用]
37142                            1513 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速速度
37143                            1514 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速パルス
37144                            1515 I1  ;;;[2013-05-20 前から未使用]
37145                            1516 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
37146                            1517 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R6                          ;
37147                            1518 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
37148                            1519 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
37149                            1520 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ
                                          換算値　pls/s
37150                            1521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R5                          ;
37151                            1522 I1  ;;;[2013-05-20 前から未使用]
37152                            1523 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
37153                            1524 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R0,R1                          ;
37154                            1525 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @(4,R0),R2                      ;USED R2
37155                            1526 I1  ;;;[2013-05-20 前から未使用]
37156                            1527 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_SERCH_PLS1,R0
37157                            1528 I1  ;;;[2013-05-20 前から未使用]
37158                            1529 I1  ;;;[2013-05-20 前から未使用]
37159                            1530 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
37160                            1531 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   R2,@R1                          ;PLS/S
37161                            1532 I1  ;;;[2013-05-20 前から未使用]
37162                            1533 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_POINT,R1             ;
37163                            1534 I1  ;;;[2013-05-20 前から未使用];;  MOV.W   R0,@R1
37164                            1535 I1  ;;;[2013-05-20 前から未使用]
37165                            1536 I1  ;;;[2013-05-20 前から未使用]
37166                            1537 I1  ;;;[2013-05-20 前から未使用]
37167                            1538 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
37168                            1539 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK100          ;
37169                            1540 I1  ;;;[2013-05-20 前から未使用]    NOP
37170                            1541 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_LASTSP_MK150
37171                            1542 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK100
37172                            1543 I1  ;;;[2013-05-20 前から未使用]    NOP
37173                            1544 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK150
37174                            1545 I1  ;;;[2013-05-20 前から未使用]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   561
PROGRAM NAME =

37175                            1546 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
37176                            1547 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
37177                            1548 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
37178                            1549 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK500          ;
37179                            1550 I1  ;;;[2013-05-20 前から未使用]
37180                            1551 I1  ;;;[2013-05-20 前から未使用]
37181                            1552 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
37182                            1553 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_LASTSP_MK200             ;NO! R0<R3 ok減速
                                          した
37183                            1554 I1  ;;;[2013-05-20 前から未使用]
37184                            1555 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
37185                            1556 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
37186                            1557 I1  ;;;[2013-05-20 前から未使用]
37187                            1558 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK200:
37188                            1559 I1  ;;;[2013-05-20 前から未使用]
37189                            1560 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
37190                            1561 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_LASTSP_MK400
37191                            1562 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
37192                            1563 I1  ;;;[2013-05-20 前から未使用]
37193                            1564 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK400
37194                            1565 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
37195                            1566 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
37196                            1567 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
37197                            1568 I1  ;;;[2013-05-20 前から未使用]
37198                            1569 I1  ;;;[2013-05-20 前から未使用]
37199                            1570 I1  ;;;[2013-05-20 前から未使用]
37200                            1571 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK500                         ;
37201                            1572 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
37202                            1573 I1  ;;;[2013-05-20 前から未使用]    MOV.W   R0,@R5
37203                            1574 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
37204                            1575 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R2,@R1                          ;PLS/S
37205                            1576 I1  ;;;[2013-05-20 前から未使用]
37206                            1577 I1  ;;;[2013-05-20 前から未使用];   ----------- 使用しない---
37207                            1578 I1  ;;;[2013-05-20 前から未使用]
37208                            1579 I1  ;;;[2013-05-20 前から未使用]
37209                            1580 I1  ;;;[2013-05-20 前から未使用]    SUB_END
37210                            1581 I1  ;;;[2013-05-20 前から未使用]    M_RTS
37211                            1582 I1  
37212                            1583 I1  
37213                            1584 I1  
37214                            1585 I1  ;       ***************************************************
37215                            1586 I1  ;       ***                                             ***
37216                            1587 I1  ;       ***             停止減速演算                    ***
37217                            1588 I1  ;       ***             x%->0%                          ***
37218                            1589 I1  ;       ***             距離を使用する                  ***
37219                            1590 I1  ;       ***                                             ***
37220                            1591 I1  ;       ***************************************************
37221                            1592 I1  ;A全工程(全段数に対して存在する)
37222                                 I1  ***** BEGIN-POOL *****
37223 000083C0 0064                   I1  DATA FOR SOURCE-LINE 1491
37224 000083C2 0000                   I1  ALIGNMENT CODE
37225 000083C4 00000000               I1  DATA FOR SOURCE-LINE 1485
37226 000083C8 00000000               I1  DATA FOR SOURCE-LINE 1489
37227 000083CC 00000000               I1  DATA FOR SOURCE-LINE 1492
37228 000083D0 00000000               I1  DATA FOR SOURCE-LINE 1495
37229                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   562
PROGRAM NAME =

37230 000083D4                   1593 I1  _TBLACC_STOP_SP_MAKE
37231                            1594 I1          SUB_START
37232 000083D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
37233                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37234                            1595 I1  
37235 000083D6 D107              1596 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
37236 000083D8 6511              1597 I1          MOV.W   @R1,R5                  ;
37237                            1598 I1  
37238                            1599 I1          FAR_JSR #_ACC_NUMBER_SELTBL1,R0 ;
37239 000083DA D007                   M           MOV.L   #_ACC_NUMBER_SELTBL1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37240 000083DC 400B                   M           JSR     @R0                     ;
37241 000083DE 0009                   M           NOP                                     ;
37242                            1600 I1  
37243 000083E0 D106              1601 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
37244 000083E2 6512              1602 I1          MOV.L   @R1,R5                          ;
37245                            1603 I1  
37246 000083E4 D006              1604 I1          MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
37247 000083E6 6102              1605 I1          MOV.L   @R0,R1                          ;
37248 000083E8 5201              1606 I1          MOV.L   @(4,R0),R2                      ;USED R2
37249                            1607 I1  
37250                            1608 I1          FAR_JSR #_POINT_SERCH_PLS_HOKAN1,R0     ;
37251 000083EA D006                   M           MOV.L   #_POINT_SERCH_PLS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37252 000083EC 400B                   M           JSR     @R0                     ;
37253 000083EE 0009                   M           NOP                                     ;
37254                            1609 I1          M_BRA   TBLACC_STOPSP_MK500
37255 000083F0 A00A                   M           BRA     TBLACC_STOPSP_MK500
37256 000083F2 0009                   M           NOP
37257                            1610 I1  
37258                            1611 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
37259                            1612 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK100          ;
37260                            1613 I1  ;;;[2013-05-20 前から未使用]    NOP
37261                            1614 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_STOPSP_MK150
37262                            1615 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK100
37263                            1616 I1  ;;;[2013-05-20 前から未使用]    NOP
37264                            1617 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK150
37265                            1618 I1  ;;;[2013-05-20 前から未使用]
37266                            1619 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_STOP_POINT,R5             ;
37267                            1620 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
37268                            1621 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
37269                            1622 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK500          ;
37270                            1623 I1  ;;;[2013-05-20 前から未使用]
37271                            1624 I1  ;;;[2013-05-20 前から未使用]
37272                            1625 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
37273                            1626 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_STOPSP_MK200             ;NO! R0<R3 ok減速
                                          した
37274                            1627 I1  ;;;[2013-05-20 前から未使用]
37275                            1628 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
37276                            1629 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
37277                            1630 I1  ;;;[2013-05-20 前から未使用]
37278                            1631 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK200:
37279                            1632 I1  ;;;[2013-05-20 前から未使用]
37280                            1633 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
37281                            1634 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_STOPSP_MK400
37282                            1635 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
37283                            1636 I1  ;;;[2013-05-20 前から未使用]
37284                            1637 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK400
37285                            1638 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   563
PROGRAM NAME =

37286                            1639 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
37287                            1640 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
37288                            1641 I1  ;;;[2013-05-20 前から未使用]
37289                            1642 I1  ;;;[2013-05-20 前から未使用]
37290                            1643 I1  ;;;[2013-05-20 前から未使用]
37291                                 I1  ***** BEGIN-POOL *****
37292 000083F4 00000000               I1  DATA FOR SOURCE-LINE 1596
37293 000083F8 00000000               I1  DATA FOR SOURCE-LINE 1599
37294 000083FC 00000000               I1  DATA FOR SOURCE-LINE 1601
37295 00008400 00000000               I1  DATA FOR SOURCE-LINE 1604
37296 00008404 00000000               I1  DATA FOR SOURCE-LINE 1608
37297                                 I1  ***** END-POOL *****
37298 00008408                   1644 I1  TBLACC_STOPSP_MK500                             ;
37299 00008408 D503              1645 I1          MOV.L   #_ACC_STOP_POINT,R5             ;
37300 0000840A 2501              1646 I1          MOV.W   R0,@R5
37301 0000840C D103              1647 I1          MOV.L   #_ACC_STOP_SPD,R1               ;最終速度から求まる
37302 0000840E 2122              1648 I1          MOV.L   R2,@R1                          ;PLS/S
37303                            1649 I1  
37304                            1650 I1          SUB_END
37305                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37306 00008410 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37307                            1651 I1          M_RTS
37308 00008412 000B                   M           RTS                             ;RTSの後ろの
37309 00008414 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37310                            1652 I1  
37311                            1653 I1  ;       ***************************************************
37312                            1654 I1  ;       ***                                             ***
37313                            1655 I1  ;       ***                                             ***
37314                            1656 I1  ;       ***             加速演算                        ***
37315                            1657 I1  ;       ***             減速演算                        ***
37316                            1658 I1  ;       ***                                             ***
37317                            1659 I1  ;       ***                                             ***
37318                            1660 I1  ;       ***************************************************
37319                            1661 I1  
37320                                 I1  ***** BEGIN-POOL *****
37321 00008416 0000                   I1  ALIGNMENT CODE
37322 00008418 00000000               I1  DATA FOR SOURCE-LINE 1645
37323 0000841C 00000000               I1  DATA FOR SOURCE-LINE 1647
37324                                 I1  ***** END-POOL *****
37325 00008420                   1662 I1  _TBLACC_STEP_SP_MAKE
37326                            1663 I1          SUB_START
37327 00008420 4F22                   M           STS.L   PR,@-R15                ;[必要]
37328                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37329                            1664 I1  
37330 00008422 D115              1665 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
37331 00008424 6511              1666 I1          MOV.W   @R1,R5                          ;
37332                            1667 I1          FAR_JSR #_ACC_NUMBER_SELTBL2,R0         ;
37333 00008426 D015                   M           MOV.L   #_ACC_NUMBER_SELTBL2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37334 00008428 400B                   M           JSR     @R0                     ;
37335 0000842A 0009                   M           NOP                                     ;
37336                            1668 I1  
37337                            1669 I1  
37338 0000842C D114              1670 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
37339 0000842E 6011              1671 I1          MOV.W   @R1,R0                          ;
37340 00008430 C804              1672 I1          TST     #BIT2,R0                        ;
37341                            1673 I1          TST_BIT_ON TBLACC_STEP_SPMAK_400        ;
37342 00008432 8B5F                   M           BF      TBLACC_STEP_SPMAK_400
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   564
PROGRAM NAME =

37343 00008434 C803              1674 I1          TST     #(BIT1+BIT0),R0                 ;
37344                            1675 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
37345 00008436 8B36                   M           BF      TBLACC_STEP_SPMAK_200
37346                            1676 I1  
37347 00008438 D112              1677 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
37348 0000843A 6011              1678 I1          MOV.W   @R1,R0                          ;
37349 0000843C 2008              1679 I1          TST     R0,R0                           ;
37350                            1680 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
37351 0000843E 8B32                   M           BF      TBLACC_STEP_SPMAK_200
37352                            1681 I1  
37353                            1682 I1  ;;;;    MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
37354 00008440 D011              1683 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R0         ;
37355 00008442 6202              1684 I1          MOV.L   @R0,R2                          ;
37356                            1685 I1  
37357                            1686 I1  
37358                            1687 I1  ;       ========= DEBUG
37359 00008444 D10C              1688 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
37360 00008446 6011              1689 I1          MOV.W   @R1,R0                          ;
37361 00008448 8802              1690 I1          CMP/EQ  #2,R0                           ;
37362 0000844A 8B02              1691 I1          BF      DEBUG_JMP10                     ;
37363 0000844C 0009              1692 I1          NOP
37364 0000844E 0009              1693 I1          NOP
37365 00008450 0009              1694 I1          NOP
37366 00008452                   1695 I1  DEBUG_JMP10
37367                            1696 I1  
37368                            1697 I1  ;       -------------加減速直線演算固定させたいだけ2014-09-22
37369 00008452 D10E              1698 I1          MOV.L   #_MOT_REP_F,R1                  ;//BIT0
37370 00008454 6011              1699 I1          MOV.W   @R1,R0                          ;
37371 00008456 C801              1700 I1          TST     #BIT0,R0                        ;
37372                            1701 I1          TST_BIT_ON TBLACC_STEP_SPMAK_CNST050
37373 00008458 8B04                   M           BF      TBLACC_STEP_SPMAK_CNST050
37374                            1702 I1  
37375                            1703 I1          FAR_JSR #_POINT_SERCH_SPD1,R0           ;
37376 0000845A D00D                   M           MOV.L   #_POINT_SERCH_SPD1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37377 0000845C 400B                   M           JSR     @R0                     ;
37378 0000845E 0009                   M           NOP                                     ;
37379                            1704 I1  
37380 00008460 2008              1705 I1          TST     R0,R0                           ;
37381                            1706 I1          TST_BIT_ON TBLACC_STEP_SPMAK_100        ;範囲内でいる JUMP
37382 00008462 8B1B                   M           BF      TBLACC_STEP_SPMAK_100
37383                            1707 I1  
37384 00008464                   1708 I1  TBLACC_STEP_SPMAK_CNST050:
37385                            1709 I1  
37386                            1710 I1  ;一定加速・一定減速演算
37387                            1711 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT4,WKREG=R1       ;
37388 00008464 D10B                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
37389 00008466 6011                   M           MOV.W   @R1,R0          ;
37390 00008468 CB10                   M           OR      #BIT4,R0                ;
37391 0000846A 2101                   M           MOV.W   R0,@R1          ;
37392                            1712 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
37393 0000846C D00A                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37394 0000846E 400B                   M           JSR     @R0                     ;
37395 00008470 0009                   M           NOP                                     ;
37396                            1713 I1          M_BRA   TBLACC_STEP_SPMAK_500   ;
37397 00008472 A046                   M           BRA     TBLACC_STEP_SPMAK_500
37398 00008474 0009                   M           NOP
37399                            1714 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   565
PROGRAM NAME =

37400                            1715 I1  
37401                                 I1  ***** BEGIN-POOL *****
37402 00008476 0000                   I1  ALIGNMENT CODE
37403 00008478 00000000               I1  DATA FOR SOURCE-LINE 1665,1688
37404 0000847C 00000000               I1  DATA FOR SOURCE-LINE 1667
37405 00008480 00000000               I1  DATA FOR SOURCE-LINE 1670
37406 00008484 00000000               I1  DATA FOR SOURCE-LINE 1677
37407 00008488 00000000               I1  DATA FOR SOURCE-LINE 1683
37408 0000848C 00000000               I1  DATA FOR SOURCE-LINE 1698
37409 00008490 00000000               I1  DATA FOR SOURCE-LINE 1703
37410 00008494 00000000               I1  DATA FOR SOURCE-LINE 1711
37411 00008498 00000000               I1  DATA FOR SOURCE-LINE 1712
37412                                 I1  ***** END-POOL *****
37413 0000849C                   1716 I1  TBLACC_STEP_SPMAK_100
37414 0000849C D108              1717 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
37415 0000849E 2101              1718 I1          MOV.W   R0,@R1                          ;
37416                            1719 I1  
37417 000084A0 900C              1720 I1          MOV.W   #BIT0,R0
37418 000084A2 D108              1721 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
37419 000084A4 2101              1722 I1          MOV.W   R0,@R1                          ;
37420                            1723 I1  
37421                            1724 I1  
37422 000084A6                   1725 I1  TBLACC_STEP_SPMAK_200
37423 000084A6 6083              1726 I1          MOV     R8,R0                           ;
37424 000084A8 C804              1727 I1          TST     #BIT2,R0                        ;BIT2=0加速
37425                            1728 I1          TST_BIT_OF TBLACC_STEP_SPMAK_250        ;
37426 000084AA 890D                   M           BT      TBLACC_STEP_SPMAK_250
37427                            1729 I1  ;       ---減速--
37428 000084AC D104              1730 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
37429 000084AE 6011              1731 I1          MOV.W   @R1,R0                          ;
37430 000084B0 8801              1732 I1          CMP/EQ  #1,R0                           ;
37431 000084B2 891F              1733 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
37432 000084B4 70FF              1734 I1          ADD     #-1,R0                          ;
37433 000084B6 2101              1735 I1          MOV.W   R0,@R1                          ;
37434                            1736 I1          M_BRA   TBLACC_STEP_SPMAK_300           ;
37435 000084B8 A00C                   M           BRA     TBLACC_STEP_SPMAK_300
37436 000084BA 0009                   M           NOP
37437                            1737 I1  
37438                                 I1  ***** BEGIN-POOL *****
37439 000084BC 0001                   I1  DATA FOR SOURCE-LINE 1720
37440 000084BE 0000                   I1  ALIGNMENT CODE
37441 000084C0 00000000               I1  DATA FOR SOURCE-LINE 1717,1730
37442 000084C4 00000000               I1  DATA FOR SOURCE-LINE 1721
37443                                 I1  ***** END-POOL *****
37444 000084C8                   1738 I1  TBLACC_STEP_SPMAK_250
37445                            1739 I1  ;       ---加速--
37446 000084C8 D107              1740 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
37447 000084CA 6011              1741 I1          MOV.W   @R1,R0                          ;
37448 000084CC 3062              1742 I1          CMP/HS  R6,R0                           ;
37449 000084CE 8911              1743 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
37450 000084D0 7001              1744 I1          ADD     #1,R0                           ;
37451 000084D2 2101              1745 I1          MOV.W   R0,@R1                          ;
37452 000084D4                   1746 I1  TBLACC_STEP_SPMAK_300
37453                            1747 I1          FAR_JSR #_POINT_GET_SPD1,R1             ;input R0
37454 000084D4 D105                   M           MOV.L   #_POINT_GET_SPD1,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37455 000084D6 410B                   M           JSR     @R1                     ;
37456 000084D8 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   566
PROGRAM NAME =

37457                            1748 I1  
37458 000084DA 9003              1749 I1          MOV.W   #(BIT1+BIT0),R0                 ;
37459 000084DC D104              1750 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
37460 000084DE 2101              1751 I1          MOV.W   R0,@R1                          ;
37461                            1752 I1          M_BRA   TBLACC_STEP_SPMAK_500           ;
37462 000084E0 A00F                   M           BRA     TBLACC_STEP_SPMAK_500
37463 000084E2 0009                   M           NOP
37464                            1753 I1  
37465                            1754 I1  ;       ---------LIMIT-ON  ---------
37466                                 I1  ***** BEGIN-POOL *****
37467 000084E4 0003                   I1  DATA FOR SOURCE-LINE 1749
37468 000084E6 0000                   I1  ALIGNMENT CODE
37469 000084E8 00000000               I1  DATA FOR SOURCE-LINE 1740
37470 000084EC 00000000               I1  DATA FOR SOURCE-LINE 1747
37471 000084F0 00000000               I1  DATA FOR SOURCE-LINE 1750
37472                                 I1  ***** END-POOL *****
37473 000084F4                   1755 I1  TBLACC_STEP_SPMAK_400
37474                            1756 I1  ;;;不要 MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
37475                            1757 I1  ;;不要  MOV.L   @R0,R2                          ;
37476                            1758 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
37477 000084F4 D005                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37478 000084F6 400B                   M           JSR     @R0                     ;
37479 000084F8 0009                   M           NOP                                     ;
37480                            1759 I1  
37481                            1760 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1        ;
37482 000084FA D105                   M           MOV.L   #_ACC_STEP_FLG,R1               ;
37483 000084FC 6011                   M           MOV.W   @R1,R0          ;
37484 000084FE CB04                   M           OR      #BIT2,R0                ;
37485 00008500 2101                   M           MOV.W   R0,@R1          ;
37486                            1761 I1  
37487 00008502                   1762 I1  TBLACC_STEP_SPMAK_500
37488 00008502 D104              1763 I1          MOV.L   #_ACC_STEP_SPD,R1               ;ステップ
37489 00008504 2122              1764 I1          MOV.L   R2,@R1                          ;
37490                            1765 I1  
37491                            1766 I1          SUB_END
37492                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37493 00008506 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37494                            1767 I1          M_RTS
37495 00008508 000B                   M           RTS                             ;RTSの後ろの
37496 0000850A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37497                            1768 I1  
37498                            1769 I1  
37499                            1770 I1  
37500                            1771 I1  ;       *******************************************
37501                            1772 I1  ;       ***                                     ***
37502                            1773 I1  ;       ***     各工程時のインフォメーション    ***
37503                            1774 I1  ;       ***                                     ***
37504                            1775 I1  ;       *******************************************
37505                            1776 I1  ;;      MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
37506                            1777 I1  ;;      MOV.W   @R1,R6                          ;
37507                            1778 I1  ;;      MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
37508                            1779 I1  ;;      MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
37509                            1780 I1  ;       MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
37510                            1781 I1  ;       MOV.W   R0,R8                                   ;BIT2=[0=加速/1=減速]
37511                                 I1  ***** BEGIN-POOL *****
37512 0000850C 00000000               I1  DATA FOR SOURCE-LINE 1758
37513 00008510 00000000               I1  DATA FOR SOURCE-LINE 1760
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   567
PROGRAM NAME =

37514 00008514 00000000               I1  DATA FOR SOURCE-LINE 1763
37515                                 I1  ***** END-POOL *****
37516 00008518                   1782 I1  _ACC_NUMBER_SELTBL1:
37517                            1783 I1          SUB_START
37518 00008518 4F22                   M           STS.L   PR,@-R15                ;[必要]
37519                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37520                            1784 I1  
37521 0000851A 75FF              1785 I1          ADD     #-1,R5                                          ;
37522 0000851C 4508              1786 I1          SHLL2   R5                                              ;*4byte
37523 0000851E D607              1787 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
37524 00008520 365C              1788 I1          ADD     R5,R6                                           ;
37525 00008522 6062              1789 I1          MOV.L   @R6,R0
37526 00008524 401E              1790 I1          LDC     R0,GBR
37527                            1791 I1  
37528 00008526 C60B              1792 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0  ;
37529 00008528 6601              1793 I1          MOV.W   @R0,R6                                  ;
37530 0000852A C60C              1794 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
37531 0000852C 6D03              1795 I1          MOV     R0,R13
37532 0000852E C60A              1796 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0  ;
37533 00008530 6B03              1797 I1          MOV     R0,R11                                  ;
37534 00008532 C603              1798 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
37535 00008534 6801              1799 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
37536                            1800 I1  
37537                            1801 I1          SUB_END
37538                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37539 00008536 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37540                            1802 I1          M_RTS
37541 00008538 000B                   M           RTS                             ;RTSの後ろの
37542 0000853A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37543                            1803 I1  
37544                                 I1  ***** BEGIN-POOL *****
37545 0000853C 00000000               I1  DATA FOR SOURCE-LINE 1787
37546                                 I1  ***** END-POOL *****
37547 00008540                   1804 I1  _ACC_NUMBER_SELTBL2:
37548                            1805 I1          SUB_START
37549 00008540 4F22                   M           STS.L   PR,@-R15                ;[必要]
37550                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37551                            1806 I1  
37552 00008542 75FF              1807 I1          ADD     #-1,R5                                          ;
37553 00008544 4508              1808 I1          SHLL2   R5                                              ;*4byte
37554 00008546 D607              1809 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
37555 00008548 365C              1810 I1          ADD     R5,R6                                           ;
37556 0000854A 6062              1811 I1          MOV.L   @R6,R0
37557 0000854C 401E              1812 I1          LDC     R0,GBR
37558                            1813 I1  
37559 0000854E C607              1814 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0  ;
37560 00008550 6601              1815 I1          MOV.W   @R0,R6                                  ;
37561                            1816 I1  ;;;;;   MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
37562                            1817 I1  ;;;;;   MOV     R0,R13
37563 00008552 C606              1818 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0  ;
37564 00008554 6B03              1819 I1          MOV     R0,R11                                  ;
37565 00008556 6D03              1820 I1          MOV     R0,R13                                  ;
37566 00008558 C603              1821 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
37567 0000855A 6801              1822 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
37568                            1823 I1  
37569                            1824 I1          SUB_END
37570                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   568
PROGRAM NAME =

37571 0000855C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37572                            1825 I1          M_RTS
37573 0000855E 000B                   M           RTS                             ;RTSの後ろの
37574 00008560 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37575                            1826 I1  
37576                            1827 I1  
37577                            1828 I1  ;AFM_SRC_TBL_TOP                .DATA.L         _ACC_IN_TBLUSE          ;元ﾃｰﾌﾞﾙADR(2byte)
37578                            1829 I1  ;AFM_SRC_TBL_MEM                .DATA.L         _ACC_IN_TBL_TIM         ;255msec WOD
37579                            1830 I1  ;AFM_STEP_INF_SPD       .DATA.L         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
37580                            1831 I1  ;AFM_STEP_INF_FLG       .DATA.L         _ACC_INF1_STEP001       ;//BIT2=[加速:0/減速:1] BI
                                          T1=[]   BIT0=0(停止) =1(連続)
37581                            1832 I1  ;AFM_OLD_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;(STEP1では使用し
                                          ない)
37582                            1833 I1  ;AFM_DST_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;
37583                            1834 I1  ;AFM_DST_CTLACTM                .DATA.L         _ACC_STEP001_ACTM       ;
37584                            1835 I1  ;AFM_OLD_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
37585                            1836 I1  ;AFM_DST_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
37586                            1837 I1  ;AFM_DST_STPACTM                .DATA.L         _ACC_STOP001_ACTM       ;
37587                            1838 I1  ;AFM_DST_STPPTBL                .DATA.L         _ACC_STOP001_PTBL       ;
37588                            1839 I1  
37589                            1840 I1  ;       *******************************************
37590                            1841 I1  ;       ***                                     ***
37591                            1842 I1  ;       ***             サーチ                  ***
37592                            1843 I1  ;       ***             速度型サーチ            ***
37593                            1844 I1  ;       ***                                     ***
37594                            1845 I1  ;       *******************************************
37595                            1846 I1  ;       テーブルは増加方向である
37596                            1847 I1  ;       サーチは加速方向と減速方向がある。
37597                            1848 I1  ;
37598                            1849 I1  ;       Input 現在速度 R2 ()
37599                            1850 I1  ;             TABEL_TOP_ADR R13
37600                            1851 I1  ;             TABEL個数(加減速時間+1)をもらう R6
37601                            1852 I1  ;               ﾃｰﾌﾞﾙ方向
37602                            1853 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする) 1:減速（小さくなる限界点をサー
                                          チする）
37603                            1854 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
37604                            1855 I1  ;
37605                            1856 I1  ;       MAX 10回:1023まで
37606                            1857 I1  ;       0~15(16個)   4回   5bit
37607                            1858 I1  ;       0~31(32個)   5回   6
37608                            1859 I1  ;       0~63(64個)   6回   7
37609                            1860 I1  ;       0~127(128個) 7回   8
37610                            1861 I1  ;       0~255(256個) 8回   9
37611                            1862 I1  ;       0~511(512個) 9回   10
37612                            1863 I1  ;       0~1023(1024個)10回 11
37613                            1864 I1  ;
37614                            1865 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
37615                            1866 I1  ;       MOV.W   @R1,R6                          ;
37616                            1867 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
37617                            1868 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
37618                            1869 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
37619                            1870 I1  ;       MOV.L   @R1,R5                          ;
37620                            1871 I1  ;
37621                            1872 I1  ;
37622                            1873 I1  ;
37623                            1874 I1  ;
37624                            1875 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   569
PROGRAM NAME =

37625                                 I1  ***** BEGIN-POOL *****
37626 00008562 0000                   I1  ALIGNMENT CODE
37627 00008564 00000000               I1  DATA FOR SOURCE-LINE 1809
37628                                 I1  ***** END-POOL *****
37629 00008568                   1876 I1  _POINT_SERCH_SPD1
37630                            1877 I1          SUB_START
37631 00008568 4F22                   M           STS.L   PR,@-R15                ;[必要]
37632                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37633                            1878 I1          PUSH_REG1 R2
37634 0000856A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
37635                                 M                                           ;REG=>[SP]
37636                                 M                                           ;"-4" FF,FF,FF,FC
37637                            1879 I1  
37638 0000856C D00A              1880 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
37639 0000856E 6402              1881 I1          MOV.L   @R0,R4                          ;
37640 00008570 9110              1882 I1          MOV.W   #_ACC_PER_V_MAX,R1              ;
37641                            1883 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
37642 00008572 D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37643 00008574 400B                   M           JSR     @R0                     ;
37644 00008576 0009                   M           NOP                                     ;
37645                            1884 I1  
37646 00008578 6063              1885 I1          MOV     R6,R0                           ;加減速時間
37647 0000857A 4000              1886 I1          SHLL    R0                              ;2byte
37648 0000857C 01BD              1887 I1          MOV.W   @(R0,R11),R1                    ;(V)
37649 0000857E 3216              1888 I1          CMP/HI  R1,R2                           ;
37650 00008580 8910              1889 I1          BT      POINT_SERCHSPD1_100             ;最大よりも大きい:範囲外
37651                            1890 I1  
37652 00008582 61B1              1891 I1          MOV.W   @R11,R1                         ;(V)MIN
37653 00008584 3126              1892 I1          CMP/HI  R2,R1                           ;
37654 00008586 890D              1893 I1          BT      POINT_SERCHSPD1_100             ;最小よりも小さい:範囲外
37655                            1894 I1  
37656                            1895 I1          FAR_JSR #_POINT_SERCH_BIG_2B,R0         ;
37657 00008588 D005                   M           MOV.L   #_POINT_SERCH_BIG_2B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37658 0000858A 400B                   M           JSR     @R0                     ;
37659 0000858C 0009                   M           NOP                                     ;
37660 0000858E 6093              1896 I1          MOV     R9,R0                           ;
37661                            1897 I1          M_BRA   POINT_SERCHSPD1_END             ;
37662 00008590 A00B                   M           BRA     POINT_SERCHSPD1_END
37663 00008592 0009                   M           NOP
37664                            1898 I1  
37665                            1899 I1  
37666                            1900 I1  
37667                                 I1  ***** BEGIN-POOL *****
37668 00008594 2710                   I1  DATA FOR SOURCE-LINE 1882
37669 00008596 0000                   I1  ALIGNMENT CODE
37670 00008598 00000000               I1  DATA FOR SOURCE-LINE 1880
37671 0000859C 00000000               I1  DATA FOR SOURCE-LINE 1883
37672 000085A0 00000000               I1  DATA FOR SOURCE-LINE 1895
37673                                 I1  ***** END-POOL *****
37674 000085A4                   1901 I1  POINT_SERCHSPD1_100:                            ;
37675 000085A4 200A              1902 I1          XOR     R0,R0                           ;範囲外
37676                            1903 I1          M_BRA   POINT_SERCHSPD1_END             ;
37677 000085A6 A000                   M           BRA     POINT_SERCHSPD1_END
37678 000085A8 0009                   M           NOP
37679                            1904 I1  
37680 000085AA                   1905 I1  POINT_SERCHSPD1_END:                            ;
37681                            1906 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   570
PROGRAM NAME =

37682                            1907 I1          POP_REG1 R2
37683                                 M                                   ; RE"+4" 00,00,00,04
37684 000085AA 62F6                   M           MOV.L   @R15+,R2        ;
37685                            1908 I1          SUB_END
37686                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37687 000085AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37688                            1909 I1          M_RTS
37689 000085AE 000B                   M           RTS                             ;RTSの後ろの
37690 000085B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37691                            1910 I1  
37692                            1911 I1  
37693                            1912 I1  ;input R0
37694 000085B2                   1913 I1  _POINT_GET_SPD1
37695                            1914 I1          SUB_START
37696 000085B2 4F22                   M           STS.L   PR,@-R15                ;[必要]
37697                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37698 000085B4 4000              1915 I1          SHLL    R0                              ;2byte
37699 000085B6 02BD              1916 I1          MOV.W   @(R0,R11),R2                    ;
37700 000085B8 D004              1917 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
37701 000085BA 6102              1918 I1          MOV.L   @R0,R1                          ;
37702 000085BC 9405              1919 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
37703                            1920 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;ANS R2
37704 000085BE D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37705 000085C0 400B                   M           JSR     @R0                     ;
37706 000085C2 0009                   M           NOP                                     ;
37707                            1921 I1          SUB_END
37708                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37709 000085C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37710                            1922 I1          M_RTS
37711 000085C6 000B                   M           RTS                             ;RTSの後ろの
37712 000085C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37713                            1923 I1  
37714                            1924 I1  
37715                            1925 I1  
37716                            1926 I1  
37717                            1927 I1  
37718                            1928 I1  
37719                            1929 I1  ;       *******************************************
37720                            1930 I1  ;       ***                                     ***
37721                            1931 I1  ;       ***             サーチ                  ***
37722                            1932 I1  ;       ***             位置型サーチ            ***
37723                            1933 I1  ;       ***                                     ***
37724                            1934 I1  ;       *******************************************
37725                            1935 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
37726                            1936 I1  ;       MOV.W   @R1,R6                          ;
37727                            1937 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
37728                            1938 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
37729                            1939 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
37730                            1940 I1  ;       MOV.L   @R1,R5                          ;
37731                            1941 I1  ;
37732                            1942 I1  ;       [減速位置のため]
37733                            1943 I1  ;
37734                                 I1  ***** BEGIN-POOL *****
37735 000085CA 2710                   I1  DATA FOR SOURCE-LINE 1919
37736 000085CC 00000000               I1  DATA FOR SOURCE-LINE 1917
37737 000085D0 00000000               I1  DATA FOR SOURCE-LINE 1920
37738                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   571
PROGRAM NAME =

37739 000085D4                   1944 I1  _POINT_SERCH_PLS1
37740                            1945 I1          SUB_START
37741 000085D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
37742                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37743                            1946 I1  
37744 000085D6 D40E              1947 I1          MOV.L   #_ACC_REST_FLG,R4               ;
37745 000085D8 6041              1948 I1          MOV.W   @R4,R0                          ;
37746 000085DA 2008              1949 I1          TST     R0,R0                           ;
37747                            1950 I1          TST_BIT_OF POINT_SERCHPLS1_100          ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
37748 000085DC 8920                   M           BT      POINT_SERCHPLS1_100
37749                            1951 I1  
37750 000085DE 6063              1952 I1          MOV     R6,R0                           ;加減速時間
37751 000085E0 4008              1953 I1          SHLL2   R0                              ;4byte
37752 000085E2 01DE              1954 I1          MOV.L   @(R0,R13),R1                    ;(P)
37753 000085E4 3216              1955 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
37754 000085E6 891B              1956 I1          BT      POINT_SERCHPLS1_100             ;
37755                            1957 I1  
37756                            1958 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
37757 000085E8 D00A                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37758 000085EA 400B                   M           JSR     @R0                     ;
37759 000085EC 0009                   M           NOP                                     ;
37760                            1959 I1  ;;;;不要        ADD     #-1,R9                          ;
37761 000085EE 4915              1960 I1          CMP/PL  R9                              ;
37762 000085F0 8900              1961 I1          BT      POINT_SERCHPLS1_050             ;
37763 000085F2 990A              1962 I1          MOV.W   #1,R9                           ;
37764 000085F4                   1963 I1  POINT_SERCHPLS1_050:
37765 000085F4 6093              1964 I1          MOV     R9,R0                           ;
37766 000085F6 4000              1965 I1          SHLL    R0                              ;2byte
37767 000085F8 01BD              1966 I1          MOV.W   @(R0,R11),R1                    ;(V)SPEED
37768 000085FA D007              1967 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
37769 000085FC 6202              1968 I1          MOV.L   @R0,R2                          ;
37770 000085FE 9405              1969 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
37771                            1970 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
37772 00008600 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37773 00008602 400B                   M           JSR     @R0                     ;
37774 00008604 0009                   M           NOP                                     ;
37775                            1971 I1          M_BRA   POINT_SERCHPLS1_200             ;PLS/sec
37776 00008606 A00F                   M           BRA     POINT_SERCHPLS1_200
37777 00008608 0009                   M           NOP
37778                            1972 I1  
37779                                 I1  ***** BEGIN-POOL *****
37780 0000860A 0001                   I1  DATA FOR SOURCE-LINE 1962
37781 0000860C 2710                   I1  DATA FOR SOURCE-LINE 1969
37782 0000860E 0000                   I1  ALIGNMENT CODE
37783 00008610 00000000               I1  DATA FOR SOURCE-LINE 1947
37784 00008614 00000000               I1  DATA FOR SOURCE-LINE 1958
37785 00008618 00000000               I1  DATA FOR SOURCE-LINE 1967
37786 0000861C 00000000               I1  DATA FOR SOURCE-LINE 1970
37787                                 I1  ***** END-POOL *****
37788 00008620                   1973 I1  POINT_SERCHPLS1_100:
37789 00008620 6253              1974 I1          MOV     R5,R2
37790 00008622 200A              1975 I1          XOR     R0,R0
37791                            1976 I1          M_BRA   POINT_SERCHPLS1_END             ;
37792 00008624 A001                   M           BRA     POINT_SERCHPLS1_END
37793 00008626 0009                   M           NOP
37794 00008628                   1977 I1  POINT_SERCHPLS1_200:                            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   572
PROGRAM NAME =

37795 00008628 6093              1978 I1          MOV     R9,R0                           ;POINTER(0以外)
37796 0000862A                   1979 I1  POINT_SERCHPLS1_END:
37797                            1980 I1  
37798                            1981 I1          SUB_END
37799                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37800 0000862A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37801                            1982 I1          M_RTS
37802 0000862C 000B                   M           RTS                             ;RTSの後ろの
37803 0000862E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37804                            1983 I1  
37805                            1984 I1  
37806                            1985 I1  
37807                            1986 I1  ;       *******************************************
37808                            1987 I1  ;       ***                                     ***
37809                            1988 I1  ;       ***             サーチ                  ***
37810                            1989 I1  ;       ***             位置型サーチ            ***
37811                            1990 I1  ;       ***                                     ***
37812                            1991 I1  ;       *******************************************
37813                            1992 I1  ;R5
37814 00008630                   1993 I1  _POINT_SERCH_PLS_HOKAN1
37815                            1994 I1          SUB_START
37816 00008630 4F22                   M           STS.L   PR,@-R15                ;[必要]
37817                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37818                            1995 I1          PUSH_REG1 R6
37819 00008632 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
37820                                 M                                           ;REG=>[SP]
37821                                 M                                           ;"-4" FF,FF,FF,FC
37822                            1996 I1          PUSH_REG1 R7
37823 00008634 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
37824                                 M                                           ;REG=>[SP]
37825                                 M                                           ;"-4" FF,FF,FF,FC
37826                            1997 I1          PUSH_REG1 R8
37827 00008636 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
37828                                 M                                           ;REG=>[SP]
37829                                 M                                           ;"-4" FF,FF,FF,FC
37830                            1998 I1  
37831 00008638 D416              1999 I1          MOV.L   #_ACC_REST_FLG,R4               ;
37832 0000863A 6041              2000 I1          MOV.W   @R4,R0                          ;
37833 0000863C 2008              2001 I1          TST     R0,R0                           ;
37834                            2002 I1          TST_BIT_OF POINT_SERCHPLS_HKN1_400      ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
37835 0000863E 8933                   M           BT      POINT_SERCHPLS_HKN1_400
37836                            2003 I1  ;-----ｵｰﾊﾞﾌﾛｰはしない-----
37837 00008640 6063              2004 I1          MOV     R6,R0                           ;加減速時間
37838 00008642 4008              2005 I1          SHLL2   R0                              ;4byte
37839 00008644 01DE              2006 I1          MOV.L   @(R0,R13),R1                    ;(P)
37840 00008646 3216              2007 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
37841 00008648 892E              2008 I1          BT      POINT_SERCHPLS_HKN1_400         ;
37842                            2009 I1  
37843                            2010 I1          PUSH_REG1 R2                            ;残り距離ﾊﾟﾙｽ
37844 0000864A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
37845                                 M                                           ;REG=>[SP]
37846                                 M                                           ;"-4" FF,FF,FF,FC
37847                            2011 I1  
37848                            2012 I1  
37849                            2013 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
37850 0000864C D012                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   573
PROGRAM NAME =

37851 0000864E 400B                   M           JSR     @R0                     ;
37852 00008650 0009                   M           NOP                                     ;
37853 00008652 6893              2014 I1          MOV     R9,R8                           ;
37854                            2015 I1  
37855 00008654 4915              2016 I1          CMP/PL  R9                              ;
37856 00008656 8900              2017 I1          BT      POINT_SERCHPLS_HKN1_050         ;
37857 00008658 991A              2018 I1          MOV.W   #1,R9                           ;
37858 0000865A                   2019 I1  POINT_SERCHPLS_HKN1_050:                        ;
37859 0000865A 6093              2020 I1          MOV     R9,R0                           ;
37860 0000865C 4000              2021 I1          SHLL    R0                              ;2byte
37861 0000865E 03BD              2022 I1          MOV.W   @(R0,R11),R3                    ;(Yn_1)SPEED
37862 00008660 4000              2023 I1          SHLL    R0
37863 00008662 05DE              2024 I1          MOV.L   @(R0,R13),R5                    ;(Xn_1)POS
37864                            2025 I1  
37865 00008664 7801              2026 I1          ADD     #1,R8                           ;
37866 00008666 3682              2027 I1          CMP/HS  R8,R6                           ;
37867 00008668 8900              2028 I1          BT      POINT_SERCHPLS_HKN1_100         ;
37868 0000866A 6863              2029 I1          MOV     R6,R8                           ;加減速時間
37869 0000866C                   2030 I1  POINT_SERCHPLS_HKN1_100:                        ;
37870 0000866C 6083              2031 I1          MOV     R8,R0                           ;
37871 0000866E 4000              2032 I1          SHLL    R0                              ;2byte
37872 00008670 02BD              2033 I1          MOV.W   @(R0,R11),R2                    ;(Yn)SPEED
37873 00008672 4000              2034 I1          SHLL    R0
37874 00008674 04DE              2035 I1          MOV.L   @(R0,R13),R4                    ;(Xn_1)POS
37875                            2036 I1  
37876                            2037 I1          POP_REG1 R1                             ;残り距離ﾊﾟﾙｽ
37877                                 M                                   ; RE"+4" 00,00,00,04
37878 00008676 61F6                   M           MOV.L   @R15+,R1        ;
37879 00008678 6623              2038 I1          MOV     R2,R6                           ;
37880                            2039 I1  
37881                            2040 I1  ;       R3:Yn_1         R5:Xn_1
37882                            2041 I1  ;       R2:Yn           R4:Xn
37883                            2042 I1  ;       ANS:R2=y        R1:x
37884                            2043 I1  ;       limit R6(Yn)
37885                            2044 I1  
37886                            2045 I1          FAR_JSR #_FPU_POS_HOKAN1,R0             ;V%=算出 R2
37887 0000867A D008                   M           MOV.L   #_FPU_POS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37888 0000867C 400B                   M           JSR     @R0                     ;
37889 0000867E 0009                   M           NOP                                     ;
37890                            2046 I1  
37891 00008680 D007              2047 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
37892 00008682 6102              2048 I1          MOV.L   @R0,R1                          ;
37893 00008684 9405              2049 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
37894                            2050 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
37895 00008686 D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37896 00008688 400B                   M           JSR     @R0                     ;
37897 0000868A 0009                   M           NOP                                     ;
37898                            2051 I1          M_BRA   POINT_SERCHPLS_HKN1_500         ;PLS/sec
37899 0000868C A010                   M           BRA     POINT_SERCHPLS_HKN1_500
37900 0000868E 0009                   M           NOP
37901                            2052 I1  
37902                                 I1  ***** BEGIN-POOL *****
37903 00008690 0001                   I1  DATA FOR SOURCE-LINE 2018
37904 00008692 2710                   I1  DATA FOR SOURCE-LINE 2049
37905 00008694 00000000               I1  DATA FOR SOURCE-LINE 1999
37906 00008698 00000000               I1  DATA FOR SOURCE-LINE 2013
37907 0000869C 00000000               I1  DATA FOR SOURCE-LINE 2045
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   574
PROGRAM NAME =

37908 000086A0 00000000               I1  DATA FOR SOURCE-LINE 2047
37909 000086A4 00000000               I1  DATA FOR SOURCE-LINE 2050
37910                                 I1  ***** END-POOL *****
37911 000086A8                   2053 I1  POINT_SERCHPLS_HKN1_400:
37912 000086A8 6253              2054 I1          MOV     R5,R2
37913 000086AA 200A              2055 I1          XOR     R0,R0
37914                            2056 I1          M_BRA   POINT_SERCHPLS_HKN1_END         ;
37915 000086AC A001                   M           BRA     POINT_SERCHPLS_HKN1_END
37916 000086AE 0009                   M           NOP
37917                            2057 I1  
37918 000086B0                   2058 I1  POINT_SERCHPLS_HKN1_500:                        ;
37919 000086B0 6093              2059 I1          MOV     R9,R0                           ;POINTER(0以外)
37920 000086B2                   2060 I1  POINT_SERCHPLS_HKN1_END:
37921                            2061 I1  
37922                            2062 I1  
37923                            2063 I1          POP_REG1 R8
37924                                 M                                   ; RE"+4" 00,00,00,04
37925 000086B2 68F6                   M           MOV.L   @R15+,R8        ;
37926                            2064 I1          POP_REG1 R7
37927                                 M                                   ; RE"+4" 00,00,00,04
37928 000086B4 67F6                   M           MOV.L   @R15+,R7        ;
37929                            2065 I1          POP_REG1 R6
37930                                 M                                   ; RE"+4" 00,00,00,04
37931 000086B6 66F6                   M           MOV.L   @R15+,R6        ;
37932                            2066 I1  
37933                            2067 I1          SUB_END
37934                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37935 000086B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37936                            2068 I1          M_RTS
37937 000086BA 000B                   M           RTS                             ;RTSの後ろの
37938 000086BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37939                            2069 I1  
37940                            2070 I1  
37941                            2071 I1  
37942                            2072 I1  
37943                            2073 I1  
37944                            2074 I1  ;       *******************************************
37945                            2075 I1  ;       ***                                     ***
37946                            2076 I1  ;       ***             サーチ                  ***
37947                            2077 I1  ;       ***                                     ***
37948                            2078 I1  ;       *******************************************
37949                            2079 I1  ;       テーブルは増加方向である
37950                            2080 I1  ;       サーチは加速方向で行う
37951                            2081 I1  ;
37952                            2082 I1  ;       Input 現在速度 R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
37953                            2083 I1  ;                                加速時はnをそのまま使用する
37954                            2084 I1  ;                                減速時はn-1を使用
37955                            2085 I1  ;             TABEL_TOP_ADR R13
37956                            2086 I1  ;             TABEL個数-1(加減速時間)をもらう R6
37957                            2087 I1  ;               ﾃｰﾌﾞﾙ方向
37958                            2088 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする)
37959                            2089 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
37960                            2090 I1  ;
37961                            2091 I1  ;       MAX 10回:1023まで
37962                            2092 I1  ;       0~15(16個)   4回   5bit
37963                            2093 I1  ;       0~31(32個)   5回   6
37964                            2094 I1  ;       0~63(64個)   6回   7
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   575
PROGRAM NAME =

37965                            2095 I1  ;       0~127(128個) 7回   8
37966                            2096 I1  ;       0~255(256個) 8回   9
37967                            2097 I1  ;       0~511(512個) 9回   10
37968                            2098 I1  ;       0~1023(1024個)10回 11
37969                            2099 I1  
37970                            2100 I1  ;       *******************************************
37971                            2101 I1  ;       ***                                     ***
37972                            2102 I1  ;       ***     2byte ｻｰﾁ                       ***
37973                            2103 I1  ;       ***                                     ***
37974                            2104 I1  ;       *******************************************
37975                            2105 I1  ;       ANS R9
37976                            2106 I1  ;
37977 000086BE                   2107 I1  _POINT_SERCH_BIG_2B
37978                            2108 I1          SUB_START
37979 000086BE 4F22                   M           STS.L   PR,@-R15                ;[必要]
37980                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37981                            2109 I1          PUSH_REG1 R6
37982 000086C0 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
37983                                 M                                           ;REG=>[SP]
37984                                 M                                           ;"-4" FF,FF,FF,FC
37985                            2110 I1          PUSH_REG1 R7
37986 000086C2 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
37987                                 M                                           ;REG=>[SP]
37988                                 M                                           ;"-4" FF,FF,FF,FC
37989                            2111 I1          PUSH_REG1 R8
37990 000086C4 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
37991                                 M                                           ;REG=>[SP]
37992                                 M                                           ;"-4" FF,FF,FF,FC
37993                            2112 I1          PUSH_REG1 R10
37994 000086C6 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
37995                                 M                                           ;REG=>[SP]
37996                                 M                                           ;"-4" FF,FF,FF,FC
37997                            2113 I1          PUSH_REG1 R11
37998 000086C8 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
37999                                 M                                           ;REG=>[SP]
38000                                 M                                           ;"-4" FF,FF,FF,FC
38001                            2114 I1          PUSH_REG1 R12
38002 000086CA 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
38003                                 M                                           ;REG=>[SP]
38004                                 M                                           ;"-4" FF,FF,FF,FC
38005                            2115 I1          PUSH_REG1 R13
38006 000086CC 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
38007                                 M                                           ;REG=>[SP]
38008                                 M                                           ;"-4" FF,FF,FF,FC
38009                            2116 I1          PUSH_REG1 R14
38010 000086CE 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
38011                                 M                                           ;REG=>[SP]
38012                                 M                                           ;"-4" FF,FF,FF,FC
38013                            2117 I1  
38014 000086D0 6763              2118 I1          MOV     R6,R7                           ;カウンタ個数
38015                            2119 I1  
38016 000086D2 288A              2120 I1          XOR     R8,R8                           ;min
38017 000086D4 6A73              2121 I1          MOV     R7,R10                          ;max
38018 000086D6 4701              2122 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
38019 000086D8 6973              2123 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
38020                            2124 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
38021                            2125 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   576
PROGRAM NAME =

38022 000086DA 277A              2126 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
38023                            2127 I1  
38024 000086DC 6B83              2128 I1          MOV     R8,R11                          ;MIN
38025 000086DE 6CA3              2129 I1          MOV     R10,R12                         ;MAX
38026                            2130 I1  
38027                            2131 I1  
38028 000086E0                   2132 I1  PINT_SERCH_BIG2B_200LOP
38029                            2133 I1  
38030                            2134 I1  ;======= 2byte/4byteの相違部分=====
38031 000086E0 6093              2135 I1          MOV     R9,R0                           ;ANS R9
38032 000086E2 4000              2136 I1          SHLL    R0                              ;2byte
38033 000086E4 01DD              2137 I1          MOV.W   @(R0,R13),R1                    ;2byte SV
38034                            2138 I1  
38035 000086E6 3210              2139 I1          CMP/EQ  R1,R2                           ;
38036 000086E8 8914              2140 I1          BT      PINT_SERCH_BIG2B_800            ;ﾋﾟｯﾀﾘ賞
38037 000086EA 3212              2141 I1          CMP/HS  R1,R2                           ;SV=<PV
38038 000086EC 8904              2142 I1          BT      PINT_SERCH_BIG2B_300            ;YES:大きい
38039                            2143 I1  
38040                            2144 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
38041 000086EE 6A93              2145 I1          MOV     R9,R10                          ;
38042 000086F0 398C              2146 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
38043 000086F2 4901              2147 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
38044                            2148 I1          M_BRA   PINT_SERCH_BIG2B_500            ;
38045 000086F4 A003                   M           BRA     PINT_SERCH_BIG2B_500
38046 000086F6 0009                   M           NOP
38047                            2149 I1  
38048                            2150 I1  
38049                            2151 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
38050 000086F8                   2152 I1  PINT_SERCH_BIG2B_300
38051 000086F8 6893              2153 I1          MOV     R9,R8                           ;
38052 000086FA 39AC              2154 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
38053 000086FC 4901              2155 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
38054                            2156 I1  
38055 000086FE                   2157 I1  PINT_SERCH_BIG2B_500
38056 000086FE 7701              2158 I1          ADD     #1,R7                           ;デバック
38057                            2159 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
38058 00008700 3B80              2160 I1          CMP/EQ  R8,R11                          ;
38059 00008702 8B03              2161 I1          BF      PINT_SERCH_BIG2B_600            ;MIN=OLD-MIN NO
38060 00008704 3CA0              2162 I1          CMP/EQ  R10,R12                         ;
38061 00008706 8B01              2163 I1          BF      PINT_SERCH_BIG2B_600            ;MAX=OLD-MAX NO
38062                            2164 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
38063 00008708 A038                   M           BRA     PINT_SERCH_BIG4B_900
38064 0000870A 0009                   M           NOP
38065                            2165 I1  
38066                            2166 I1  
38067 0000870C                   2167 I1  PINT_SERCH_BIG2B_600
38068 0000870C 6B83              2168 I1          MOV     R8,R11                          ;
38069 0000870E 6CA3              2169 I1          MOV     R10,R12                         ;
38070                            2170 I1          M_BRA   PINT_SERCH_BIG2B_200LOP         ;
38071 00008710 AFE6                   M           BRA     PINT_SERCH_BIG2B_200LOP
38072 00008712 0009                   M           NOP
38073                            2171 I1  
38074                            2172 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
38075 00008714                   2173 I1  PINT_SERCH_BIG2B_800
38076                            2174 I1  ;       ----------- R9:ANS--------------
38077 00008714                   2175 I1  PINT_SERCH_BIG2B_900
38078                            2176 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   577
PROGRAM NAME =

38079                            2177 I1          POP_REG1 R14
38080                                 M                                   ; RE"+4" 00,00,00,04
38081 00008714 6EF6                   M           MOV.L   @R15+,R14        ;
38082                            2178 I1          POP_REG1 R13
38083                                 M                                   ; RE"+4" 00,00,00,04
38084 00008716 6DF6                   M           MOV.L   @R15+,R13        ;
38085                            2179 I1          POP_REG1 R12
38086                                 M                                   ; RE"+4" 00,00,00,04
38087 00008718 6CF6                   M           MOV.L   @R15+,R12        ;
38088                            2180 I1          POP_REG1 R11
38089                                 M                                   ; RE"+4" 00,00,00,04
38090 0000871A 6BF6                   M           MOV.L   @R15+,R11        ;
38091                            2181 I1          POP_REG1 R10
38092                                 M                                   ; RE"+4" 00,00,00,04
38093 0000871C 6AF6                   M           MOV.L   @R15+,R10        ;
38094                            2182 I1          POP_REG1 R8
38095                                 M                                   ; RE"+4" 00,00,00,04
38096 0000871E 68F6                   M           MOV.L   @R15+,R8        ;
38097                            2183 I1          POP_REG1 R7
38098                                 M                                   ; RE"+4" 00,00,00,04
38099 00008720 67F6                   M           MOV.L   @R15+,R7        ;
38100                            2184 I1          POP_REG1 R6
38101                                 M                                   ; RE"+4" 00,00,00,04
38102 00008722 66F6                   M           MOV.L   @R15+,R6        ;
38103                            2185 I1          SUB_END
38104                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38105 00008724 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38106                            2186 I1          M_RTS
38107 00008726 000B                   M           RTS                             ;RTSの後ろの
38108 00008728 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38109                            2187 I1  
38110                            2188 I1  
38111                            2189 I1  
38112                            2190 I1  ;       *******************************************
38113                            2191 I1  ;       ***                                     ***
38114                            2192 I1  ;       ***     4byte ｻｰﾁ                       ***
38115                            2193 I1  ;       ***                                     ***
38116                            2194 I1  ;       *******************************************
38117                            2195 I1  ;       Input 現在ﾊﾟﾙｽ R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
38118                            2196 I1  ;                                減速時はn-1を使用する
38119                            2197 I1  ;       Input TABEL_TOP_ADR R13
38120                            2198 I1  ;       Input TABEL個数-1(加減速時間)をもらう R6
38121                            2199 I1  ;
38122                            2200 I1  ;       ANS R9 TABLE NO.
38123                            2201 I1  ;
38124 0000872A                   2202 I1  _POINT_SERCH_BIG_4B
38125                            2203 I1          SUB_START
38126 0000872A 4F22                   M           STS.L   PR,@-R15                ;[必要]
38127                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38128                            2204 I1          PUSH_REG1 R6
38129 0000872C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
38130                                 M                                           ;REG=>[SP]
38131                                 M                                           ;"-4" FF,FF,FF,FC
38132                            2205 I1          PUSH_REG1 R7
38133 0000872E 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
38134                                 M                                           ;REG=>[SP]
38135                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   578
PROGRAM NAME =

38136                            2206 I1          PUSH_REG1 R8
38137 00008730 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
38138                                 M                                           ;REG=>[SP]
38139                                 M                                           ;"-4" FF,FF,FF,FC
38140                            2207 I1          PUSH_REG1 R10
38141 00008732 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
38142                                 M                                           ;REG=>[SP]
38143                                 M                                           ;"-4" FF,FF,FF,FC
38144                            2208 I1          PUSH_REG1 R11
38145 00008734 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
38146                                 M                                           ;REG=>[SP]
38147                                 M                                           ;"-4" FF,FF,FF,FC
38148                            2209 I1          PUSH_REG1 R12
38149 00008736 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
38150                                 M                                           ;REG=>[SP]
38151                                 M                                           ;"-4" FF,FF,FF,FC
38152                            2210 I1          PUSH_REG1 R13
38153 00008738 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
38154                                 M                                           ;REG=>[SP]
38155                                 M                                           ;"-4" FF,FF,FF,FC
38156                            2211 I1          PUSH_REG1 R14
38157 0000873A 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
38158                                 M                                           ;REG=>[SP]
38159                                 M                                           ;"-4" FF,FF,FF,FC
38160                            2212 I1  
38161 0000873C 6763              2213 I1          MOV     R6,R7                           ;カウンタ個数
38162                            2214 I1  
38163 0000873E 288A              2215 I1          XOR     R8,R8                           ;min
38164 00008740 6A73              2216 I1          MOV     R7,R10                          ;max
38165 00008742 4701              2217 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
38166 00008744 6973              2218 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
38167                            2219 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
38168 00008746 277A              2220 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
38169                            2221 I1  
38170 00008748                   2222 I1  PINT_SERCH_BIG4B_200LOP
38171                            2223 I1  
38172                            2224 I1  ;======= 2byte/4byteの相違部分=====
38173 00008748 6093              2225 I1          MOV     R9,R0                           ;ANS R9
38174 0000874A 4008              2226 I1          SHLL2   R0                              ;4byte
38175 0000874C 01DE              2227 I1          MOV.L   @(R0,R13),R1                    ;4byte SV
38176                            2228 I1  
38177 0000874E 3210              2229 I1          CMP/EQ  R1,R2                           ;
38178 00008750 8914              2230 I1          BT      PINT_SERCH_BIG4B_800            ;ﾋﾟｯﾀﾘ賞
38179 00008752 3212              2231 I1          CMP/HS  R1,R2                           ;SV=<PV
38180 00008754 8904              2232 I1          BT      PINT_SERCH_BIG4B_300            ;YES:大きい
38181                            2233 I1  
38182                            2234 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
38183 00008756 6A93              2235 I1          MOV     R9,R10                          ;
38184 00008758 398C              2236 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
38185 0000875A 4901              2237 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
38186                            2238 I1          M_BRA   PINT_SERCH_BIG4B_500            ;
38187 0000875C A003                   M           BRA     PINT_SERCH_BIG4B_500
38188 0000875E 0009                   M           NOP
38189                            2239 I1  
38190                            2240 I1  
38191                            2241 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
38192 00008760                   2242 I1  PINT_SERCH_BIG4B_300
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   579
PROGRAM NAME =

38193 00008760 6893              2243 I1          MOV     R9,R8                           ;
38194 00008762 39AC              2244 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
38195 00008764 4901              2245 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
38196                            2246 I1  
38197 00008766                   2247 I1  PINT_SERCH_BIG4B_500
38198 00008766 7701              2248 I1          ADD     #1,R7                           ;デバック
38199                            2249 I1  
38200                            2250 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
38201 00008768 3B80              2251 I1          CMP/EQ  R8,R11                          ;
38202 0000876A 8B03              2252 I1          BF      PINT_SERCH_BIG4B_600            ;MIN=OLD-MIN NO
38203 0000876C 3CA0              2253 I1          CMP/EQ  R10,R12                         ;
38204 0000876E 8B01              2254 I1          BF      PINT_SERCH_BIG4B_600            ;MAX=OLD-MAX NO
38205                            2255 I1  
38206                            2256 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
38207 00008770 A004                   M           BRA     PINT_SERCH_BIG4B_900
38208 00008772 0009                   M           NOP
38209                            2257 I1  
38210 00008774                   2258 I1  PINT_SERCH_BIG4B_600
38211 00008774 6B83              2259 I1          MOV     R8,R11                          ;
38212 00008776 6CA3              2260 I1          MOV     R10,R12                         ;
38213                            2261 I1          M_BRA   PINT_SERCH_BIG4B_200LOP         ;
38214 00008778 AFE6                   M           BRA     PINT_SERCH_BIG4B_200LOP
38215 0000877A 0009                   M           NOP
38216                            2262 I1  
38217                            2263 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
38218 0000877C                   2264 I1  PINT_SERCH_BIG4B_800
38219                            2265 I1  ;       ----------- R9:ANS--------------
38220 0000877C                   2266 I1  PINT_SERCH_BIG4B_900
38221                            2267 I1  
38222                            2268 I1          POP_REG1 R14
38223                                 M                                   ; RE"+4" 00,00,00,04
38224 0000877C 6EF6                   M           MOV.L   @R15+,R14        ;
38225                            2269 I1          POP_REG1 R13
38226                                 M                                   ; RE"+4" 00,00,00,04
38227 0000877E 6DF6                   M           MOV.L   @R15+,R13        ;
38228                            2270 I1          POP_REG1 R12
38229                                 M                                   ; RE"+4" 00,00,00,04
38230 00008780 6CF6                   M           MOV.L   @R15+,R12        ;
38231                            2271 I1          POP_REG1 R11
38232                                 M                                   ; RE"+4" 00,00,00,04
38233 00008782 6BF6                   M           MOV.L   @R15+,R11        ;
38234                            2272 I1          POP_REG1 R10
38235                                 M                                   ; RE"+4" 00,00,00,04
38236 00008784 6AF6                   M           MOV.L   @R15+,R10        ;
38237                            2273 I1          POP_REG1 R8
38238                                 M                                   ; RE"+4" 00,00,00,04
38239 00008786 68F6                   M           MOV.L   @R15+,R8        ;
38240                            2274 I1          POP_REG1 R7
38241                                 M                                   ; RE"+4" 00,00,00,04
38242 00008788 67F6                   M           MOV.L   @R15+,R7        ;
38243                            2275 I1          POP_REG1 R6
38244                                 M                                   ; RE"+4" 00,00,00,04
38245 0000878A 66F6                   M           MOV.L   @R15+,R6        ;
38246                            2276 I1          SUB_END
38247                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38248 0000878C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38249                            2277 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   580
PROGRAM NAME =

38250 0000878E 000B                   M           RTS                             ;RTSの後ろの
38251 00008790 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38252                            2278 I1  
38253                            2279 I1  
38254                            2280 I1  
38255                            2281 I1  
38256                            2282 I1  ;       ***************************************************
38257                            2283 I1  ;       ***                                             ***
38258                            2284 I1  ;       ***                                             ***
38259                            2285 I1  ;       ***             直線加速・減速                  ***
38260                            2286 I1  ;       ***                                             ***
38261                            2287 I1  ;       ***                                             ***
38262                            2288 I1  ;       ***                                             ***
38263                            2289 I1  ;       ***************************************************
38264                            2290 I1  ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
38265                            2291 I1  ;       ANS R2
38266 00008792                   2292 I1  _TBLACC_ACC_ADDCHK:
38267                            2293 I1          SUB_START
38268 00008792 4F22                   M           STS.L   PR,@-R15                ;[必要]
38269                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38270                            2294 I1  
38271                            2295 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT5,WKREG=R1       ;
38272 00008794 D10A                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
38273 00008796 6011                   M           MOV.W   @R1,R0          ;
38274 00008798 CB20                   M           OR      #BIT5,R0                ;
38275 0000879A 2101                   M           MOV.W   R0,@R1          ;
38276                            2296 I1  
38277                            2297 I1  
38278                            2298 I1  
38279 0000879C 200A              2299 I1          XOR     R0,R0                                           ;変化してない　R0=0
38280                            2300 I1  
38281 0000879E D109              2301 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                         ;･････
38282 000087A0 6312              2302 I1          MOV.L   @R1,R3                                          ;
38283 000087A2 D509              2303 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R5                         ;
38284 000087A4 6252              2304 I1          MOV.L   @R5,R2                                          ;
38285 000087A6 3320              2305 I1          CMP/EQ  R2,R3                                           ;
38286 000087A8 8919              2306 I1          BT      TBLACC_ACC_ADD_END                              ;SV=REAL
38287 000087AA 3323              2307 I1          CMP/GE  R2,R3                                           ;R2<R3
38288 000087AC 8B10              2308 I1          BF      TBLACC_ACC_ADD_200                                      ;NO 減速しろ
38289                            2309 I1  ;       ---加速しろ----
38290 000087AE D407              2310 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R4                              ;500,000/1000
38291 000087B0 6142              2311 I1          MOV.L   @R4,R1                                                  ;
38292 000087B2 321C              2312 I1          ADD     R1,R2                                                   ;
38293 000087B4 3327              2313 I1          CMP/GT  R2,R3                                                   ;
38294 000087B6 8911              2314 I1          BT      TBLACC_ACC_ADD_300                                      ;R2<R3(SV) THEN そ
                                          のまま加速
38295 000087B8 6233              2315 I1          MOV     R3,R2                                                   ;SV→REAL
38296                            2316 I1          M_BRA   TBLACC_ACC_ADD_300                                      ;
38297 000087BA A00F                   M           BRA     TBLACC_ACC_ADD_300
38298 000087BC 0009                   M           NOP
38299                            2317 I1  
38300                                 I1  ***** BEGIN-POOL *****
38301 000087BE 0000                   I1  ALIGNMENT CODE
38302 000087C0 00000000               I1  DATA FOR SOURCE-LINE 2295
38303 000087C4 00000000               I1  DATA FOR SOURCE-LINE 2301
38304 000087C8 00000000               I1  DATA FOR SOURCE-LINE 2303
38305 000087CC 00000000               I1  DATA FOR SOURCE-LINE 2310
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   581
PROGRAM NAME =

38306                                 I1  ***** END-POOL *****
38307 000087D0                   2318 I1  TBLACC_ACC_ADD_200:
38308                            2319 I1  ;       ---減速しろ---
38309 000087D0 D404              2320 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R4                              ;500,000/1000
38310 000087D2 6142              2321 I1          MOV.L   @R4,R1                                                  ;
38311 000087D4 3218              2322 I1          SUB     R1,R2                                                   ;
38312 000087D6 3237              2323 I1          CMP/GT  R3,R2                                                   ;
38313 000087D8 8900              2324 I1          BT      TBLACC_ACC_ADD_300                                      ;R3<R2
38314 000087DA 6233              2325 I1          MOV     R3,R2                                                   ;
38315 000087DC                   2326 I1  TBLACC_ACC_ADD_300:                                                     ;
38316 000087DC E001              2327 I1          MOV     #1,R0                                                   ;変化した R0=1
38317 000087DE                   2328 I1  TBLACC_ACC_ADD_END:
38318                            2329 I1          SUB_END
38319                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38320 000087DE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38321                            2330 I1          M_RTS
38322 000087E0 000B                   M           RTS                             ;RTSの後ろの
38323 000087E2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38324                            2331 I1  
38325                            2332 I1  
38326                            2333 I1  
38327                            2334 I1  
38328                            2335 I1  
38329                            2336 I1  
38330                            2337 I1  
38331                            2338 I1  
38332                            2339 I1  
38333                            2340 I1  
38334                            2341 I1  
38335                            2342 I1  
38336                            2343 I1  
38337                            2344 I1  
38338                            2345 I1  
38339                            2346 I1  
38340                            2347 I1  
38341                            2348 I1  
38342                            2349 I1  
38343                            2350 I1  
38344                            2351 I1  
38345                            2352 I1  
38346                            2353 I1  
38347                            2354 I1  
38348                            2355 I1  
38349                            2356 I1  
38350                            2357 I1  
38351                            2358 I1  
38352                            2359 I1  
38353                            2360 I1  
38354                            2361 I1  
38355                            2362 I1  ;       *******************************************
38356                            2363 I1  ;       ***                                     ***
38357                            2364 I1  ;       ***                                     ***
38358                            2365 I1  ;       ***             演算                    ***
38359                            2366 I1  ;       ***                                     ***
38360                            2367 I1  ;       ***             (等身大結果で扱う)      ***
38361                            2368 I1  ;       ***                                     ***
38362                            2369 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   582
PROGRAM NAME =

38363                                 I1  ***** BEGIN-POOL *****
38364 000087E4 00000000               I1  DATA FOR SOURCE-LINE 2320
38365                                 I1  ***** END-POOL *****
38366 000087E8                   2370 I1  _DNM_PLS_LSICTL_CALC:
38367                            2371 I1          SUB_START
38368 000087E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
38369                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38370                            2372 I1  
38371                            2373 I1  ;       --------- 2010-09-27 残りパルス演算の共通化----
38372                            2374 I1          FAR_JSR #_ACC_REST_INFO_MAKE,R0
38373 000087EA D009                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38374 000087EC 400B                   M           JSR     @R0                     ;
38375 000087EE 0009                   M           NOP                                     ;
38376                            2375 I1  
38377 000087F0 D108              2376 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
38378 000087F2 6011              2377 I1          MOV.W   @R1,R0                                  ;
38379 000087F4 8801              2378 I1          CMP/EQ  #1,R0                                   ;
38380 000087F6 8B02              2379 I1          BF      DNM_PLS_LSICTLCAL_010                   ;
38381                            2380 I1          FAR_JSR #_DNM_SPD_CALC,R0                       ;
38382 000087F8 D007                   M           MOV.L   #_DNM_SPD_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38383 000087FA 400B                   M           JSR     @R0                     ;
38384 000087FC 0009                   M           NOP                                     ;
38385 000087FE                   2381 I1  DNM_PLS_LSICTLCAL_010:
38386                            2382 I1  
38387                            2383 I1  
38388 000087FE D107              2384 I1          MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
38389 00008800 6011              2385 I1          MOV.W   @R1,R0                                                          ;
38390 00008802 C802              2386 I1          TST     #BIT1,R0                                                        ;
38391                            2387 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_020                                        ;強制減速
                                          停止中(寸動停止)
38392 00008804 8B0C                   M           BF      DNM_PLS_LSICTLCAL_020
38393                            2388 I1  
38394 00008806 C804              2389 I1          TST     #BIT2,R0                                                        ;
38395                            2390 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_050                                        ;最終減速
                                          状態YES
38396 00008808 8B16                   M           BF      DNM_PLS_LSICTLCAL_050
38397                            2391 I1          M_BRA   DNM_PLS_LSICTLCAL_100                                           ;
38398 0000880A A017                   M           BRA     DNM_PLS_LSICTLCAL_100
38399 0000880C 0009                   M           NOP
38400                            2392 I1  
38401                                 I1  ***** BEGIN-POOL *****
38402 0000880E 0000                   I1  ALIGNMENT CODE
38403 00008810 00000000               I1  DATA FOR SOURCE-LINE 2374
38404 00008814 00000000               I1  DATA FOR SOURCE-LINE 2376
38405 00008818 00000000               I1  DATA FOR SOURCE-LINE 2380
38406 0000881C 00000000               I1  DATA FOR SOURCE-LINE 2384
38407                                 I1  ***** END-POOL *****
38408 00008820                   2393 I1  DNM_PLS_LSICTLCAL_020
38409                            2394 I1  ;       --- 減速コマンドラッチ---
38410 00008820 D103              2395 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
                                          PLS/S
38411 00008822 6212              2396 I1          MOV.L   @R1,R2                                                          ;
38412 00008824 D503              2397 I1          MOV.L   #_POSCTL_RL_SPD,R5                                              ;
38413 00008826 6352              2398 I1          MOV.L   @R5,R3                                                          ;
38414 00008828 3326              2399 I1          CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   583
PROGRAM NAME =

38415 0000882A 8905              2400 I1          BT      DNM_PLS_LSICTLCAL_050                                           ;YES
38416                            2401 I1          M_BRA   DNM_PLS_LSICTLCAL_800                                           ;(減速停止
                                          )終了処理
38417 0000882C A092                   M           BRA     DNM_PLS_LSICTLCAL_800
38418 0000882E 0009                   M           NOP
38419                                 I1  ***** BEGIN-POOL *****
38420 00008830 00000000               I1  DATA FOR SOURCE-LINE 2395
38421 00008834 00000000               I1  DATA FOR SOURCE-LINE 2397
38422                                 I1  ***** END-POOL *****
38423 00008838                   2402 I1  DNM_PLS_LSICTLCAL_050:
38424                            2403 I1          M_BRA   DNM_PLS_LSICTLCAL_700                                           ;減速処理
38425 00008838 A04A                   M           BRA     DNM_PLS_LSICTLCAL_700
38426 0000883A 0009                   M           NOP
38427                            2404 I1  
38428                            2405 I1  
38429                            2406 I1  
38430                            2407 I1  
38431 0000883C                   2408 I1  DNM_PLS_LSICTLCAL_100:
38432 0000883C D104              2409 I1          MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
38433 0000883E 6011              2410 I1          MOV.W   @R1,R0                                                          ;EMG-STOP
38434 00008840 8802              2411 I1          CMP/EQ  #2,R0                                                           ;減速停止
38435 00008842 8B09              2412 I1          BF      DNM_PLS_LSICTLCAL_150                                           ;NO
38436                            2413 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
38437 00008844 D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
38438 00008846 6011                   M           MOV.W   @R1,R0          ;
38439 00008848 CB02                   M           OR      #BIT1,R0                ;
38440 0000884A 2101                   M           MOV.W   R0,@R1          ;
38441                            2414 I1          M_BRA   DNM_PLS_LSICTLCAL_500                                           ;
38442 0000884C A032                   M           BRA     DNM_PLS_LSICTLCAL_500
38443 0000884E 0009                   M           NOP
38444                            2415 I1  
38445                            2416 I1  ;-------通常制御----
38446                                 I1  ***** BEGIN-POOL *****
38447 00008850 00000000               I1  DATA FOR SOURCE-LINE 2409
38448 00008854 00000000               I1  DATA FOR SOURCE-LINE 2413
38449                                 I1  ***** END-POOL *****
38450 00008858                   2417 I1  DNM_PLS_LSICTLCAL_150:
38451 00008858 D102              2418 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
38452 0000885A 6011              2419 I1          MOV.W   @R1,R0                                                          ;
38453 0000885C C801              2420 I1          TST     #BIT0,R0                                                        ;
38454                            2421 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_160                                                ;
38455 0000885E 8903                   M           BT      DNM_PLS_LSICTLCAL_160
38456                            2422 I1  ;       -----------やるべきことが今一不明--------
38457                            2423 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
38458 00008860 A099                   M           BRA     DNM_PLS_LSICTLCAL_EXT
38459 00008862 0009                   M           NOP
38460                            2424 I1  
38461                            2425 I1  
38462                                 I1  ***** BEGIN-POOL *****
38463 00008864 00000000               I1  DATA FOR SOURCE-LINE 2418
38464                                 I1  ***** END-POOL *****
38465 00008868                   2426 I1  DNM_PLS_LSICTLCAL_160:
38466                            2427 I1  
38467                            2428 I1  ;;;;ふりこ      FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<
                                          <<2010-09-21>>>
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   584
PROGRAM NAME =

38468                            2429 I1  
38469                            2430 I1  ;<<<2010-09-21>>>
38470 00008868 D106              2431 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
38471 0000886A 6011              2432 I1          MOV.W   @R1,R0                                          ;
38472 0000886C 8801              2433 I1          CMP/EQ  #1,R0                                           ;
38473 0000886E 8B0F              2434 I1          BF      DNM_PLS_LSICTLCAL_180                           ;
38474 00008870 D105              2435 I1          MOV.L   #_ACC_CTRL_STS1,R1                              ;
38475 00008872 6011              2436 I1          MOV.W   @R1,R0                                          ;
38476 00008874 C906              2437 I1          AND     #(BIT2+BIT1),R0                                 ;
38477 00008876 8806              2438 I1          CMP/EQ  #(BIT2+BIT1),R0                                 ;
38478 00008878 892A              2439 I1          BT      DNM_PLS_LSICTLCAL_700                           ;
38479                            2440 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0                        ;
38480 0000887A D004                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38481 0000887C 400B                   M           JSR     @R0                     ;
38482 0000887E 0009                   M           NOP                                     ;
38483                            2441 I1          M_BRA   DNM_PLS_LSICTLCAL_510                           ;
38484 00008880 A01B                   M           BRA     DNM_PLS_LSICTLCAL_510
38485 00008882 0009                   M           NOP
38486                            2442 I1  
38487                            2443 I1  
38488                                 I1  ***** BEGIN-POOL *****
38489 00008884 00000000               I1  DATA FOR SOURCE-LINE 2431
38490 00008888 00000000               I1  DATA FOR SOURCE-LINE 2435
38491 0000888C 00000000               I1  DATA FOR SOURCE-LINE 2440
38492                                 I1  ***** END-POOL *****
38493 00008890                   2444 I1  DNM_PLS_LSICTLCAL_180:
38494                            2445 I1          FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;
38495 00008890 D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38496 00008892 400B                   M           JSR     @R0                     ;
38497 00008894 0009                   M           NOP                                     ;
38498 00008896                   2446 I1  DNM_PLS_LSICTLCAL_190:
38499                            2447 I1  
38500 00008896 2008              2448 I1          TST     R0,R0                                                           ;
38501                            2449 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_500
38502 00008898 890C                   M           BT      DNM_PLS_LSICTLCAL_500
38503 0000889A 8801              2450 I1          CMP/EQ  #1,R0                                                           ;
38504 0000889C 8918              2451 I1          BT      DNM_PLS_LSICTLCAL_700
38505                            2452 I1  ;       ----- ABNOMAL CALC------                                                ;
38506                            2453 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
38507 0000889E D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
38508 000088A0 6041                   M           MOV.W   @R4,R0          ;
38509 000088A2 CB02                   M           OR      #BIT1,R0                ;
38510 000088A4 2401                   M           MOV.W   R0,@R4          ;
38511                            2454 I1          M_BRA   DNM_PLS_LSICTLCAL_ERR
38512 000088A6 A06F                   M           BRA     DNM_PLS_LSICTLCAL_ERR
38513 000088A8 0009                   M           NOP
38514                            2455 I1  
38515                            2456 I1  ;       ===== 距離がありそう =====
38516                                 I1  ***** BEGIN-POOL *****
38517 000088AA 0000                   I1  ALIGNMENT CODE
38518 000088AC 00000000               I1  DATA FOR SOURCE-LINE 2445
38519 000088B0 00000000               I1  DATA FOR SOURCE-LINE 2453
38520                                 I1  ***** END-POOL *****
38521 000088B4                   2457 I1  DNM_PLS_LSICTLCAL_500:                                                          ;
38522                            2458 I1  ;<<<2010-09-21>>>
38523                            2459 I1          FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   585
PROGRAM NAME =

38524 000088B4 D004                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38525 000088B6 400B                   M           JSR     @R0                     ;
38526 000088B8 0009                   M           NOP                                     ;
38527 000088BA                   2460 I1  DNM_PLS_LSICTLCAL_510:                                                          ;
38528                            2461 I1  
38529 000088BA 2008              2462 I1          TST     R0,R0                                                           ;
38530                            2463 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_EXT                                                ;
                                          書き換えない
38531 000088BC 896B                   M           BT      DNM_PLS_LSICTLCAL_EXT
38532                            2464 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
38533 000088BE D003                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38534 000088C0 400B                   M           JSR     @R0                     ;
38535 000088C2 0009                   M           NOP                                     ;
38536                            2465 I1          M_BRA   DNM_PLS_LSICTLCAL_900                                           ;
38537 000088C4 A058                   M           BRA     DNM_PLS_LSICTLCAL_900
38538 000088C6 0009                   M           NOP
38539                            2466 I1  
38540                            2467 I1  
38541                            2468 I1  
38542                            2469 I1  ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
38543                                 I1  ***** BEGIN-POOL *****
38544 000088C8 00000000               I1  DATA FOR SOURCE-LINE 2459
38545 000088CC 00000000               I1  DATA FOR SOURCE-LINE 2464
38546                                 I1  ***** END-POOL *****
38547 000088D0                   2470 I1  DNM_PLS_LSICTLCAL_700:
38548                            2471 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
38549 000088D0 D10A                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
38550 000088D2 6011                   M           MOV.W   @R1,R0          ;
38551 000088D4 CB04                   M           OR      #BIT2,R0                ;
38552 000088D6 2101                   M           MOV.W   R0,@R1          ;
38553                            2472 I1  ;       ---払い出し完了ならやめる---------
38554                            2473 I1          FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
38555 000088D8 D009                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38556 000088DA 400B                   M           JSR     @R0                     ;
38557 000088DC 0009                   M           NOP                                     ;
38558 000088DE C804              2474 I1          TST     #BIT2,R0                        ;停止?
38559                            2475 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_820        ;YES:ﾌﾗｸﾞ終了
38560 000088E0 8B3F                   M           BF      DNM_PLS_LSICTLCAL_820
38561                            2476 I1  
38562                            2477 I1  ;       ============================================
38563                            2478 I1  ;<<<2010-09-21>>>
38564 000088E2 D108              2479 I1          MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
38565 000088E4 6011              2480 I1          MOV.W   @R1,R0                          ;
38566 000088E6 8801              2481 I1          CMP/EQ  #1,R0                           ;
38567 000088E8 8B10              2482 I1          BF      DNM_PLS_LSICTLCAL_710           ;
38568                            2483 I1  
38569 000088EA D104              2484 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
38570 000088EC 6011              2485 I1          MOV.W   @R1,R0                          ;
38571 000088EE C802              2486 I1          TST     #BIT1,R0                        ;
38572                            2487 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_710        ;
38573 000088F0 8B0C                   M           BF      DNM_PLS_LSICTLCAL_710
38574                            2488 I1  
38575                            2489 I1  ;       自動減速
38576                            2490 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0        ;
38577 000088F2 D005                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38578 000088F4 400B                   M           JSR     @R0                     ;
38579 000088F6 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   586
PROGRAM NAME =

38580                            2491 I1          M_BRA   DNM_PLS_LSICTLCAL_740           ;
38581 000088F8 A013                   M           BRA     DNM_PLS_LSICTLCAL_740
38582 000088FA 0009                   M           NOP
38583                            2492 I1  
38584                            2493 I1  
38585                                 I1  ***** BEGIN-POOL *****
38586 000088FC 00000000               I1  DATA FOR SOURCE-LINE 2471,2484
38587 00008900 00000000               I1  DATA FOR SOURCE-LINE 2473
38588 00008904 00000000               I1  DATA FOR SOURCE-LINE 2479
38589 00008908 00000000               I1  DATA FOR SOURCE-LINE 2490
38590                                 I1  ***** END-POOL *****
38591 0000890C                   2494 I1  DNM_PLS_LSICTLCAL_710:
38592                            2495 I1  ;       ============================================
38593                            2496 I1  
38594                            2497 I1  ;       ----ここにきたら目標位置が変わるまで加速はしない------
38595 0000890C D50C              2498 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
38596 0000890E 6252              2499 I1          MOV.L   @R5,R2                          ;
38597 00008910 D40C              2500 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
38598 00008912 6342              2501 I1          MOV.L   @R4,R3                          ;
38599 00008914 2338              2502 I1          TST     R3,R3                           ;
38600                            2503 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_720                ;
38601 00008916 8B00                   M           BF      DNM_PLS_LSICTLCAL_720
38602 00008918 E301              2504 I1          MOV     #1,R3                           ;
38603 0000891A                   2505 I1  DNM_PLS_LSICTLCAL_720:                          ;
38604 0000891A 3238              2506 I1          SUB     R3,R2                           ;
38605 0000891C 4211              2507 I1          CMP/PZ  R2                              ;
38606 0000891E 8900              2508 I1          BT      DNM_PLS_LSICTLCAL_740           ;
38607 00008920 222A              2509 I1          XOR     R2,R2                           ;
38608 00008922                   2510 I1  DNM_PLS_LSICTLCAL_740:                          ;
38609                            2511 I1  
38610                            2512 I1  
38611                            2513 I1  
38612 00008922 D109              2514 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
38613 00008924 6312              2515 I1          MOV.L   @R1,R3                          ;
38614 00008926 3236              2516 I1          CMP/HI  R3,R2                           ;
38615 00008928 8904              2517 I1          BT      DNM_PLS_LSICTLCAL_760           ;OFS < CALC
38616 0000892A 6233              2518 I1          MOV     R3,R2                           ;MNINLINIT
38617                            2519 I1  ;       -------------------
38618 0000892C D107              2520 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
38619 0000892E 6011              2521 I1          MOV.W   @R1,R0                          ;
38620 00008930 C802              2522 I1          TST     #BIT1,R0                        ;手動減速中
38621                            2523 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_800        ;手動減速中なら終了
38622 00008932 8B0F                   M           BF      DNM_PLS_LSICTLCAL_800
38623                            2524 I1  
38624 00008934                   2525 I1  DNM_PLS_LSICTLCAL_760:                          ;
38625 00008934 2522              2526 I1          MOV.L   R2,@R5                          ;
38626                            2527 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
38627 00008936 D006                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38628 00008938 400B                   M           JSR     @R0                     ;
38629 0000893A 0009                   M           NOP                                     ;
38630                            2528 I1          M_BRA   DNM_PLS_LSICTLCAL_900           ;
38631 0000893C A01C                   M           BRA     DNM_PLS_LSICTLCAL_900
38632 0000893E 0009                   M           NOP
38633                            2529 I1  
38634                            2530 I1  ;       -------------終了処理(STEP STOP)----------
38635                                 I1  ***** BEGIN-POOL *****
38636 00008940 00000000               I1  DATA FOR SOURCE-LINE 2498
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   587
PROGRAM NAME =

38637 00008944 00000000               I1  DATA FOR SOURCE-LINE 2500
38638 00008948 00000000               I1  DATA FOR SOURCE-LINE 2514
38639 0000894C 00000000               I1  DATA FOR SOURCE-LINE 2520
38640 00008950 00000000               I1  DATA FOR SOURCE-LINE 2527
38641                                 I1  ***** END-POOL *****
38642 00008954                   2531 I1  DNM_PLS_LSICTLCAL_800:
38643                            2532 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
38644 00008954 D009                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38645 00008956 400B                   M           JSR     @R0                     ;
38646 00008958 0009                   M           NOP                                     ;
38647                            2533 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
38648 0000895A D109                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
38649 0000895C 6011                   M           MOV.W   @R1,R0          ;
38650 0000895E CB20                   M           OR      #BIT5,R0                ;
38651 00008960 2101                   M           MOV.W   R0,@R1          ;
38652 00008962                   2534 I1  DNM_PLS_LSICTLCAL_820:
38653                            2535 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
38654 00008962 D107                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
38655 00008964 6011                   M           MOV.W   @R1,R0          ;
38656 00008966 CB40                   M           OR      #BIT6,R0                ;
38657 00008968 2101                   M           MOV.W   R0,@R1          ;
38658                            2536 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
38659 0000896A D105                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
38660 0000896C 6011                   M           MOV.W   @R1,R0          ;
38661 0000896E CB08                   M           OR      #BIT3,R0                ;
38662 00008970 2101                   M           MOV.W   R0,@R1          ;
38663                            2537 I1  
38664                            2538 I1          .AIF    0 EQ    0
38665                            2539 C   
38666                            2540 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
38667 00008972 D004                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38668 00008974 400B                   M           JSR     @R0                     ;
38669 00008976 0009                   M           NOP                                     ;
38670                            2541 I1          .AENDI
38671                            2542 I1  
38672 00008978                   2543 I1  DNM_PLS_LSICTLCAL_900:
38673                            2544 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
38674 00008978 A00D                   M           BRA     DNM_PLS_LSICTLCAL_EXT
38675 0000897A 0009                   M           NOP
38676                            2545 I1  
38677                                 I1  ***** BEGIN-POOL *****
38678 0000897C 00000000               I1  DATA FOR SOURCE-LINE 2532
38679 00008980 00000000               I1  DATA FOR SOURCE-LINE 2533,2535,2536
38680 00008984 00000000               I1  DATA FOR SOURCE-LINE 2540
38681                                 I1  ***** END-POOL *****
38682 00008988                   2546 I1  DNM_PLS_LSICTLCAL_ERR:
38683                            2547 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
38684 00008988 D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38685 0000898A 400B                   M           JSR     @R0                     ;
38686 0000898C 0009                   M           NOP                                     ;
38687                            2548 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
38688 0000898E D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
38689 00008990 6011                   M           MOV.W   @R1,R0          ;
38690 00008992 CB40                   M           OR      #BIT6,R0                ;
38691 00008994 2101                   M           MOV.W   R0,@R1          ;
38692                            2549 I1  
38693 00008996                   2550 I1  DNM_PLS_LSICTLCAL_EXT:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   588
PROGRAM NAME =

38694                            2551 I1          SUB_END
38695                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38696 00008996 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38697                            2552 I1          M_RTS
38698 00008998 000B                   M           RTS                             ;RTSの後ろの
38699 0000899A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38700                            2553 I1  
38701                            2554 I1  
38702                            2555 I1  ;
38703                            2556 I1  ;
38704                            2557 I1  ;
38705                            2558 I1  ;
38706                            2559 I1  ;
38707                                 I1  ***** BEGIN-POOL *****
38708 0000899C 00000000               I1  DATA FOR SOURCE-LINE 2547
38709 000089A0 00000000               I1  DATA FOR SOURCE-LINE 2548
38710                                 I1  ***** END-POOL *****
38711 000089A4                   2560 I1  _DNM_AUTO_UP_DN_CALC:
38712                            2561 I1          SUB_START
38713 000089A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
38714                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38715 000089A6 D104              2562 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;
38716 000089A8 6012              2563 I1          MOV.L   @R1,R0                          ;
38717 000089AA D504              2564 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
38718 000089AC 6252              2565 I1          MOV.L   @R5,R2                          ;
38719 000089AE 320C              2566 I1          ADD     R0,R2                           ;
38720 000089B0 2522              2567 I1          MOV.L   R2,@R5                          ;
38721                            2568 I1          SUB_END
38722                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38723 000089B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38724                            2569 I1          M_RTS
38725 000089B4 000B                   M           RTS                             ;RTSの後ろの
38726 000089B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38727                            2570 I1  
38728                            2571 I1  
38729                            2572 I1  
38730                            2573 I1  
38731                            2574 I1  ;
38732                           11196     
38733                           11197     ;       ***************************************************
38734                           11198     ;       ***                                             ***
38735                           11199     ;       ***             CPUBの高速化終了                ***
38736                           11200     ;       ***             2013-03-15                      ***
38737                           11201     ;       ***                                             ***
38738                           11202     ;       ***************************************************
38739                                     ***** BEGIN-POOL *****
38740 000089B8 00000000                   DATA FOR SOURCE-LINE 2562
38741 000089BC 00000000                   DATA FOR SOURCE-LINE 2564
38742                                     ***** END-POOL *****
38743 000089C0                  11203             .ALIGN  4                                       ;
38744                           11204             .AIF    2 EQ 3          ;
38745                           11205             .SECTION        P,CODE                          ;
38746                           11206             .AENDI                                          ;
38747                           11207     
38748                           11208     
38749                           11209     
38750                           11210             .END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   589
PROGRAM NAME =

  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   590

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ACCLAT1_SV_MAKCOM_200            P             0000648A  29949 29951*
ACC_FORM_TOP                     P             00007CC4  35571 35574 35580 35584 35586 35589 35592 35756 35758 35760 35763 35927 
                                                         35973*37528 37530 37532 37534 37559 37563 37566 
ACC_INFMAK1_DTCHGCHKLOP          P             00007948  34919*34927 
ACC_INFMAK1_EXT                  P             000079C2  34947 35026*
ACC_INFMAK1_START                P             00007994  34930 34963*
ACC_INFMAK1_START050             P             000079A4  34939 34982*
ACC_INFMAK1_START100             P             000079AA  34975 34994*
ACC_REST_INFMK_100               P             000078B8  34437 34445*
ACC_REST_INFMK_200               P             000078CC  34455 34459 34464*
ACC_STEPINF_MAK1_100LOP          P             00007A66  35211*35287 
ACC_STEPINF_MAK1_120             P             00007A72  35218 35221*
ACC_STEPINF_MAK1_180             P             00007AB0  35234 35261*
ACC_STEPINF_MAK1_200             P             00007AB6  35242 35245 35264 35266*
ACC_STEPINF_MAK1_250             P             00007AC8  35278 35280*
ACC_STEPINF_MAK1_300             P             00007AD4  35285 35290*
ACC_TBLMAK1_200LOP               P             00007B06  35445*35471 
ACC_TBLMKPLS1_SBLOP200           P             00008040  36490*36519 
ACC_TBLMKPLS1_SBLOP220           P             00008052  36509 36511*
ACC_TBLMKPLS1_SB_END             P             00008070  36493 36531*
ACC_TBLMKSPD1_SB100              P             00007F34  36225 36229*
ACC_TBLMKSPD1_SB150              P             00007F3E  36238*36245 
ACC_TBLMKSPD1_SB200              P             00007F5C  36233 36259*
ACC_TBLMKSPD1_SB220              P             00007F70  36271 36273*
ACC_TBLMKSPD1_SB250LOP           P             00007F78  36285*36356 
ACC_TBLMKSPD1_SB300              P             00007F9A  36315 36317*
ACC_TBLMKSPD1_SB500              P             00007FD0  36288 36364*
ACC_TBLMKSPD1_SB900              P             00007FD2  36249 36367*
AFM_DST_CTLACTM                  P             00007CE0  35589 35981*37559 
AFM_DST_CTLVTBL                  P             00007CDC  35586 35980*37563 
AFM_DST_STPACTM                  P             00007CF0  35760 35985*37528 
AFM_DST_STPPTBL                  P             00007CF4  35927 35986*37530 
AFM_DST_STPVTBL                  P             00007CEC  35758 35984*37532 
AFM_OLD_CTLACTM                  P             00007CD8  35592 35979*
AFM_OLD_CTLVTBL                  P             00007CD4  35584 35978*
AFM_OLD_STPACTM                  P             00007CE8  35763 35983*
AFM_OLD_STPVTBL                  P             00007CE4  35756 35982*
AFM_SRC_TBL_MEM                  P             00007CC8  35574 35975*
AFM_SRC_TBL_TOP                  P             00007CC4  35571 35974*
AFM_STEP_INF_FLG                 P             00007CD0  35977*37534 37566 
AFM_STEP_INF_SPD                 P             00007CCC  35580 35976*
API_ENDHANDSIGCHK_100            P             00006C06  31777 31784*
API_ENDHANDSIGCHK_EXT            P             00006C08  31773 31783 31786*
API_SETACC_INFOGET_CALEXT        P             00007A12  35095 35101 35106*
API_SETACC_INFOGET_CALNG         P             00007A10  35077 35084 35104*
API_SETACC_INFOGET_CALOK1        P             00007A04  35082 35092*
API_SETACC_INFOGET_CALOK2        P             00007A0A  35073 35098*
API_SETACC_STSCLR_EXT            P             00007A46  35157 35159 35165*
BANKCHKNEXT_CYCL_STR1_010        P             00005A7A  27482 27487*
BANKCHKNEXT_CYCL_STR1_020        P             00005A10  27330 27398*
BANKCHKNEXT_CYCL_STR1_050        P             00005A1A  27403 27405*
BANKCHKNEXT_CYCL_STR1_100        P             00005A36  27383 27432*
BANK_CNT_STOPCHK_TYP1_200        P             00005AC0  27515 27523 27534 27555*
BCNT_STEP_NEXTCHK_100            P             00005660  26559 26571*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   591

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BCNT_STEP_NEXTCHK_120            P             0000568C  26591 26599*
BCNT_STEP_NEXTCHK_200            P             00005694  26588 26602 26608*
BCNT_STEP_NEXTCHK_250            P             000056C8  26614 26620 26644*
BCNT_STEP_NEXTCHK_300            P             000056D0  26650 26667*
BCNT_STEP_NEXTCHK_CHK            P             000056E4  26593 26604 26685*
BCNT_STEP_NEXTCHK_EXT            P             000056F2  26561 26634 26675 26690 26699*
BIT0                                      EQU  00000001     15* 2027  2331  2346  6451  6694  6701  6861  6912  7090  7224  7382 
                                                          7528  7588  7830  7837  8187  8194  8257  8264  8415  8599  8606  8770 
                                                          8777  9062  9099  9191  9283  9347  9406  9417  9418  9491  9532  9583 
                                                          9742 10357 10361 10488 10492 10696 10700 10793 10797 10861 10986 11010 
                                                         11045 11070 11123 11142 11224 11241 11257 11271 11325 11408 11569 11596 
                                                         11695 11757 11830 12621 12869 12880 12924 12984 13005 13008 13070 13167 
                                                         13360 13413 13462 13645 13720 13721 13833 13834 13992 13993 13996 14214 
                                                         14231 14338 14375 14487 14659 14952 14959 15112 15371 15410 16382 17111 
                                                         17524 18167 18288 18428 18528 18624 18751 18879 19183 19318 19341 19346 
                                                         19354 19405 19429 19435 19838 20544 20660 20715 20766 20820 20959 20962 
                                                         21194 21307 21320 21689 21764 21990 22238 22243 22759 22771 22801 23168 
                                                         23228 23231 24000 24017 24133 24150 24320 24379 24504 24665 24670 26618 
                                                         26626 26631 26837 26850 27239 27243 27280 27328 27485 27532 27545 27587 
                                                         27816 28008 28169 28430 28455 28512 28717 28801 28812 29148 29232 29308 
                                                         29380 29800 30245 30251 30753 30759 30971 31008 31022 31037 31051 31065 
                                                         31079 31090 31148 31404 31493 31775 31856 31905 32003 32007 32064 32075 
                                                         32076 32150 32196 32409 32428 32559 32692 32923 32976 33002 33750 33822 
                                                         33836 34005 34435 34966 35093 35276 36871 37343 37371 37417 37458 38453 
BIT1                                      EQU  00000002     16* 2028  2332  2347  7218  7224  7382  9197  9347  9417  9824 10121 
                                                         10145 10447 10861 11093 11307 11368 11444 11593 11757 12624 12866 12880 
                                                         12936 12956 12972 13215 13413 13474 13504 13645 13720 13721 13833 13834 
                                                         13992 13993 14325 14408 15147 15307 17111 19323 19359 19410 19440 20532 
                                                         20983 21248 21337 21366 22115 22755 22801 23515 23521 24030 24163 24404 
                                                         27550 27623 27695 28042 28134 28140 28163 28169 28203 28435 28480 28506 
                                                         28512 31775 31905 32075 32554 32559 32701 32707 32765 32777 32918 32957 
                                                         33002 33949 33991 34034 34139 34985 35099 36883 37343 37458 38390 38439 
                                                         38476 38477 38509 38571 38620 
BIT10                                     EQU  00000400     25* 2357 17404 17445 21809 21821 30726 
BIT11                                     EQU  00000800     26* 2358 11001 17303 17344 29662 29714 30726 
BIT12                                     EQU  00001000     27* 2363 11001 16859 16942 22747 23242 23277 
BIT13                                     EQU  00002000     28* 2364  9109 11375 23164 23187 
BIT14                                     EQU  00004000     29* 2365  9104 
BIT15                                     EQU  00008000     30* 2366  6715 28463 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2029  2333  2348  2368  9395  9417  9830  9993 10040 10940 11194 
                                                         11494 11566 11757 12898 13434 13671 14350 14401 14790 16524 16528 17213 
                                                         17265 17588 17678 17752 17856 17865 17899 18167 18232 18288 19707 20519 
                                                         20532 20702 20733 20803 20924 20962 20983 21004 21194 21366 21378 21404 
                                                         23515 24041 24174 24426 25950 26612 28076 28169 31771 31860 32075 32790 
                                                         32815 32962 33002 33732 33952 34070 34101 34108 35017 35075 35079 35155 
                                                         35231 35239 35243 35265 36205 36394 36466 36905 36912 37340 37424 37484 
                                                         38394 38476 38477 38551 38558 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   592

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2030  2334  2349  2369  6015  7581  9395  9797  9990 10020 11219 
                                                         11735 11757 12690 13293 17522 23515 24454 26648 26780 28169 32052 32201 
                                                         32830 32854 32918 32957 33002 33430 33439 34182 35079 35124 38661 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 2335  2350  2370  9395 10967 11752 13367 14774 15390 18372 18528 
                                                         23515 24197 24221 24255 24553 28169 32891 32910 32918 32950 32957 33002 
                                                         33434 33439 37390 
BIT5                                      EQU  00000020     20* 2336  2351  2371  6920  6926  8064  8352  8395  8851  8876 13659 
                                                         13745 14777 15376 19838 21703 21806 23515 28169 32417 32423 33002 34171 
                                                         38274 38650 
BIT6                                      EQU  00000040     21* 2337  2352  2372  6997  7900  9375  9395  9859  9883  9987 10046 
                                                         10065 10068 10849 12012 12845 13286 16150 16382 17861 18308 20916 21093 
                                                         21621 21689 21797 23515 25982 28169 29803 32707 33075 33296 33367 33476 
                                                         33818 34177 34211 38656 38690 
BIT7                                      EQU  00000080     22* 2338  2353  2373  7949 12018 12072 12118 12164 23515 26931 28128 
                                                         28145 28180 30734 30743 
BIT8                                      EQU  00000100     23* 2339  2354 23515 30726 31390 
BIT9                                      EQU  00000200     24* 2340  2355  6563 11382 11399 21800 21821 23515 30726 32357 32676 
                                                         32737 
BRKTST_POSCTL_0020               P             00006D4C  32054 32063*
BRKTST_POSCTL_0040               P             00006D54  32066 32072*
BRKTST_POSCTL_0048               P             00006D68  32077 32086*
BRKTST_POSCTL_0190               P             00006DCC  32079 32163*
BRKTST_POSCTL_0200               P             00006E1C  32068 32193*
BRKTST_POSCTL_0240               P             00006E58  32197 32228*
BRKTST_POSCTL_0800               P             00006E78  32056 32165 32216 32270*
CHG_STEP_INFO_MAKSTP_END_010     P             000051DC  25075 25088*
CHG_STEP_INFO_MAKSTP_END_020     P             000051F0  25090 25102*
CHG_STEP_INFO_MAKSTP_END_EXT     P             000051F0  25081 25096 25104*
CLSINC1_SEL_020                  P             00004A64  23420 23434*
CLSINC1_SEL_END                  P             00004A6E  23427 23442*
CLSINC2_SEL_020                  P             00004A98  23468 23482*
CLSINC2_SEL_END                  P             00004AA2  23475 23490*
CLSINC_SEL_050LOP                P             00004AC2  23524*23533 
CLSINC_SEL_100                   P             00004AD0  23527 23534*
CLSINC_SEL_300                   P             00004AEC  23538 23541 23554*
CLSINC_SEL_DEF                   P             00004AE8  23518 23551*
CLS_POS_LENGTH_ADDATA_050        P             0000447C  21992 22000*
CMPSPD_RSTPLS_250                P             0000783A  34318 34324*
CMPSPD_RSTPLS_280                P             00007842  34328 34332*
CMP_BRK2_CTLCAL_200              P             000061E4  29310 29318*
CMP_CNT_CTLCAL_200               P             00006180  29234 29242*
CMP_HODL_CTL200                  P             0000623A  29382 29390*
CMP_PLSLSI_CTLCAL_200            P             00006114  29150 29158*
CMP_SPD_REST_END                 P             0000788A  34386 34393 34397*
CMP_SPD_REST_ERR                 P             00007882  34321 34390*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   593

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

CMP_SPD_REST_MOV                 P             0000787C  34330 34335 34374 34383*
CMP_SPD_REST_STOP                P             00007888  34376 34395*
CNTBANK_DBGBRK_100               P             00005824  26933 26942*
CNT_GPOINT_STOPTYP2_050          P             00005B10  27609 27626*
CNT_GPOINT_STOPTYP2_100          P             00005B5A  27589 27605 27618 27705*
CNT_REST_HOSEI_SPDTYP_EXT        P             00006968  31150 31154*
CNT_STOP_CMD_DATSUB1_100         P             00005C22  27885 27888*
CNT_STOP_CMD_DATSUB2_100         P             00005C64  27931 27934*
CNT_SUB_DATACALC_100             P             00005BB6  27797 27801*
CNT_SUB_DATACALC_120             P             00005BC0  27804 27809*
CNT_SUB_DATACALC_150             P             00005BCC  27808 27819*
CNT_SYNCHOS_SPDTYP_080           P             0000689C  30968 30988*
CNT_SYNCHOS_SPDTYP_100           P             000068A2  30993*
CNT_SYNCHOS_SPDTYP_200           P             000068AC  30992 31004*
CNT_SYNCHOS_SPDTYP_250           P             000068BE  31007 31018*
CNT_SYNCHOS_SPDTYP_300           P             000068D0  31021 31032*
CNT_SYNCHOS_SPDTYP_310           P             000068E2  31036 31047*
CNT_SYNCHOS_SPDTYP_320           P             000068F4  31050 31061*
CNT_SYNCHOS_SPDTYP_330           P             00006906  31064 31075*
CNT_SYNCHOS_SPDTYP_390           P             00006918  31078 31089*
CNT_SYNCHOS_SPDTYP_400           P             00006922  30974 31011 31025 31040 31054 31068 31082 31093 31099*
CNT_SYNCHOS_SPDTYP_450           P             00006930  30998 31106 31108*
CNT_SYNCHOS_SPDTYP_EXT           P             00006938  31114*
CNT_VMODE_NEXT_CYCLSTR_050       P             00005788  26782 26810*
CNT_VMODE_NEXT_CYCLSTR_100       P             00005794  26790 26821*
CPUB_GET_OBJPOS_100              P             0000603E  28886 28892*
CPUB_GET_OBJPOS_EXT              P             00006044  28897*
DAI_CHK01_100                    P             0000377C  18819 18827*
DAI_CHK01_200                    P             000002A8   7051  7056*
DAI_CHK03_300                    P             000037DE  18894 18910*
DEBUG_BRK_PNT1_100               P             00001A34  12074 12083*
DEBUG_BRK_PNT2_100               P             00001A5C  12120 12129*
DEBUG_BRK_PNT3_100               P             00001A84  12166 12175*
DEBUG_JMP10                      P             00008452  37362 37366*
DELT_POS_SPDCG1_020              P             00003D84  20338 20340*
DELT_POS_SPDCG1_050              P             00003D96  20347 20355*
DELT_POS_SPDCG1_100              P             00003D9A  20352 20361*
DELT_POS_SPDCG1_150              P             00003E42  20486*20492 
DELT_POS_SPDCG1_200              P             00003DA2  20344 20350 20358 20371*
DELT_POS_SPDCG1_250              P             00003DBE  20384 20386*
DELT_POS_SPDCG1_300              P             00003DD6  20400 20403*
DELT_POS_SPDCG1_350              P             00003DD8  20396 20405*
DELT_POS_SPDCG1_380              P             00003DE2  20411 20413*
DELT_POS_SPDCG1_430              P             00003E0E  20443 20445*
DNDINC_MAKOBJPOS_100             P             00002348  13994 14006*
DNDINC_MAKOBJPOS_120             P             00002352  13998 14012*
DNDINC_MAKOBJPOS_150             P             00002364  14000 14011 14024*
DNDINC_MAKOBJPOS_200             P             00002368  14016 14028*
DNDINC_SPDSET_100                P             00000650   7902  7908  7910*
DNDINC_STEP_MK100                P             00002240  13785 13795 13805 13822*
DNDINC_STEP_MK150                P             00002278  13807 13835 13853*
DNDINC_STEP_MK180                P             000022B4  13858 13892*
DNDINC_STEP_MK200                P             000022D2  13881 13915*
DNDINC_STEP_MK220                P             0000231C  13952 13963*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   594

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DNDINC_STEP_MK300                P             00002322  13841 13957 13967*
DNDINC_ST_100                    P             000003F8   7365  7379*
DNDINC_ST_350                    P             00000428   7389  7410*
DNDINC_ST_380                    P             0000043A   7401  7427*
DNDINC_ST_520                    P             00000454   7384  7444*
DNDINC_ST_550                    P             00000478   7448  7468*
DNDINC_ST_580                    P             00000488   7460  7482*
DNDINC_ST_END                    P             0000048E   7372  7433  7487*
DND_1STEP_DATMK1_050             P             000013E0  10792 10794*
DND_ALLSTEPCTL_005               P             00001D04  12790 12804*
DND_ALLSTEPCTL_010               P             00001D20  12810 12826*
DND_ALLSTEPCTL_020               P             00001D30  12783 12842*
DND_ALLSTEPCTL_050               P             00001D40  12847 12855*
DND_ALLSTEPCTL_060               P             00001D58  12868 12871 12876*
DND_ALLSTEPCTL_100               P             00001D74  12882 12893*
DND_ALLSTEPCTL_200               P             00001D90  12900 12916*
DND_ALLSTEPCTL_300               P             00001DAC  12884 12935*
DND_ALLSTEPCTL_320               P             00001DCC  12952 12958*
DND_ALLSTEPCTL_400               P             00001DD8  12938 12969*
DND_ALLSTEPCTL_420               P             00001DE8  12974 12981*
DND_ALLSTEPCTL_425               P             00001DF0  12986 12990*
DND_ALLSTEPCTL_450               P             00001EE4  13000 13142*
DND_ALLSTEPCTL_500               P             00001F30  12988 13187*
DND_ALLSTEPCTL_580               P             00001F5C  13175 13225*
DND_ALLSTEPCTL_600               P             00001FD0  12976 13282*
DND_ALLSTEPCTL_900               P             00001FF2  12796 12818 12832 12849 12906 12927 12960 13124 13262 13321*
DND_LNKPLS_OBJMK1_END            P             00000542   7644  7661*
DND_LNKPLS_OBJ_CHG050            P             0000051A   7633  7636*
DND_LNKPLS_OBJ_DNPOS1            P             00000538   7619  7654*
DND_LNKPLS_OBJ_UPPOS0            P             0000050A   7625*
DND_LNKPLS_OBJ_UPPOS1            P             0000050A   7621  7624*
DND_LNK_STEP_CK1_050             P             000004E6   7590  7592*
DND_LNK_STEP_CK1_100             P             000004EA   7583  7596*
DND_NEGSTEPCTL_100               P             0000205C  13415 13424*
DND_NEGSTEPCTL_200               P             00002078  13436 13449*
DND_NEGSTEPCTL_300               P             00002098  13417 13473*
DND_NEGSTEPCTL_320               P             000020B8  13492 13500*
DND_NEGSTEPCTL_400               P             000020C8  13476 13515*
DND_NEGSTEPCTL_420               P             000020DC  13526 13535*
DND_NEGSTEPCTL_440               P             000020F8  13545 13554*
DND_NEGSTEPCTL_460               P             000020FA  13548 13556*
DND_NEGSTEPCTL_580               P             00002108  13570*
DND_NEGSTEPCTL_900               P             0000212C  13438 13465 13494 13507 13528 13595*
DND_ORGIN_SIG_FORON_EXT          P             00002030  13350 13356 13362 13370*
DND_ORGIN_STEP_050               P             00001E6C  13007 13069*
DND_ORGIN_STEP_100               P             00001EAE  13052 13118*
DND_ROTSTEPCTL_050               P             00002168  13647 13656*
DND_ROTSTEPCTL_080               P             00002180  13661 13674*
DND_ROTSTEPCTL_200               P             00002190  13673 13688*
DND_ROTSTEPCTL_400               P             00002190  13689*
DND_ROTSTEPCTL_420               P             000021A4  13700 13709*
DND_ROTSTEPCTL_440               P             000021CC  13722 13733*
DND_ROTSTEPCTL_500               P             000021D6  13725 13737 13739*
DND_ROTSTEPCTL_900               P             000021E6  13676 13702 13754*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   595

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DND_ROTSTEPCTL_EXT               P             000021E8  13649 13756*
DND_SPD_SEQSET_100               P             00000688   7960  7962*
DND_SPD_SEQSET_END               P             00000696   7951  7956  7972*
DND_TEPSTEPCTL_020               P             000024A8  14327 14336*
DND_TEPSTEPCTL_180               P             000024D8  14352 14366 14378*
DND_TEPSTEPCTL_200               P             000024F4  14340 14392*
DND_TEPSTEPCTL_220               P             00002538  14403 14434*
DND_TEPSTEPCTL_290               P             0000253E  14442*
DND_TEPSTEPCTL_400               P             00002548  14329 14453*
DND_TEPSTEPCTL_420               P             0000255C  14458 14471*
DND_TEPSTEPCTL_800               P             00002584  14478 14501*
DND_TEPSTEPCTL_900               P             0000258A  14380 14422 14444 14464 14490 14508*
DND_TEPSTEPCTL_EXT               P             0000258C  14510*
DNMODE_ENDWAIT_TIMCK_END         P             00006A2C  31354 31360*
DNMODE_ENDWAIT_TIMST100          P             00006A0C  31310 31316 31330*
DNMODE_ENDWAIT_TIMST200          P             00006A0E  31321 31332*
DNM_ACCCALC_020                  P             00008206  36828 36830*
DNM_ACCCALC_100                  P             0000823C  36870 36874*
DNM_ACCCALC_200                  P             0000824A  36880 36887*
DNM_ACCCALC_300                  P             00008266  36902 36909*
DNM_ACC_OVER_PLSMK100            P             0000830C  36987 36991 37004*
DNM_ACC_OVER_PLSMK200            P             00008312  36975 36993 37009*
DNM_CYCLE_ED_100                 P             00006AEA  31538 31544 31546*
DNM_CYCLE_STR_100                P             00006B54  31600 31629*
DNM_CYCLE_STR_200                P             00006B58  31617 31633*
DNM_MATH_ELSE_DATMK100           P             00006B90  31664 31670 31687 31694*
DNM_PLS_LSICTLCAL_010            P             000087FE  38380 38385*
DNM_PLS_LSICTLCAL_020            P             00008820  38392 38408*
DNM_PLS_LSICTLCAL_050            P             00008838  38396 38415 38423*
DNM_PLS_LSICTLCAL_100            P             0000883C  38398 38431*
DNM_PLS_LSICTLCAL_150            P             00008858  38435 38450*
DNM_PLS_LSICTLCAL_160            P             00008868  38455 38465*
DNM_PLS_LSICTLCAL_180            P             00008890  38473 38493*
DNM_PLS_LSICTLCAL_190            P             00008896  38498*
DNM_PLS_LSICTLCAL_500            P             000088B4  38442 38502 38521*
DNM_PLS_LSICTLCAL_510            P             000088BA  38484 38527*
DNM_PLS_LSICTLCAL_700            P             000088D0  38425 38478 38504 38547*
DNM_PLS_LSICTLCAL_710            P             0000890C  38567 38573 38591*
DNM_PLS_LSICTLCAL_720            P             0000891A  38601 38603*
DNM_PLS_LSICTLCAL_740            P             00008922  38581 38606 38608*
DNM_PLS_LSICTLCAL_760            P             00008934  38615 38624*
DNM_PLS_LSICTLCAL_800            P             00008954  38417 38622 38642*
DNM_PLS_LSICTLCAL_820            P             00008962  38560 38652*
DNM_PLS_LSICTLCAL_900            P             00008978  38537 38631 38672*
DNM_PLS_LSICTLCAL_ERR            P             00008988  38512 38682*
DNM_PLS_LSICTLCAL_EXT            P             00008996  38458 38531 38674 38693*
DNM_STEP_ACC_CHGDBG10            P             000080D2  36616 36618*
DNM_STEP_ACC_CHGDBG20            P             000080D8  36620 36622*
DNM_STEP_ACC_CHG_100             P             000080EC  36605 36611 36641*
DNM_TBLCAL_200                   P             00007914  34822 34839*
DNM_TBLCAL_300                   P             00007916  34830 34841*
DURING_TIM_CNTCK_END             P             000069A2  31228*
DURING_TIM_PRECALC100            P             000069D4  31261 31275*
DURING_TIM_PRECALC200            P             000069D6  31252 31256 31264 31277*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   596

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DURING_TIM_PRECALCEND            P             000069DA  31266 31280*
ENDHAND_WAIT_TIMC100             P             00006BD8  31728 31742*
ENDHAND_WAIT_TIMC200             P             00006BE4  31733 31751*
ERR_INFO_BAKUP_ST_END            P             00004FCA  24661 24674*
ERR_INFO_DTCHK1_EXT              P             00004CE6  23983 23989 23995 24002 24046*
ERR_INFO_DTCHK2_050              P             00004D88  24184 24186*
ERR_INFO_DTCHK2_100              P             00004D9C  24193 24199*
ERR_INFO_DTCHK2_150              P             00004DB2  24206 24214*
ERR_INFO_DTCHK2_200              P             00004DF8  24217 24245*
ERR_INFO_DTCHK2_300              P             00004E0C  24224 24251 24257*
ERR_INFO_DTCHK2_EXT              P             00004E0E  24115 24121 24128 24135 24262*
ERR_INFO_DTCHK3X_100             P             00004F50  24506 24515*
ERR_INFO_DTCHK3X_200             P             00004FA8  24508 24574*
ERR_INFO_DTCHK3X_300             P             00004FA8  24547 24563 24575*
ERR_INFO_DTCHK3_050              P             00004E70  24329 24344*
ERR_INFO_DTCHK3_060              P             00004E9A  24372 24374*
ERR_INFO_DTCHK3_100              P             00004EA4  24357 24385*
ERR_INFO_DTCHK3_200              P             00004EBE  24394 24407*
ERR_INFO_DTCHK3_220              P             00004ECC  24416 24418*
ERR_INFO_DTCHK3_300              P             00004EE2  24421 24435*
ERR_INFO_DTCHK3_350              P             00004EE8  24441*24447 
ERR_INFO_DTCHK3_380              P             00004EFE  24450 24456*
ERR_INFO_DTCHK3_EXT              P             00004F04  24303 24309 24315 24322 24333 24466*
ERR_INFO_DTIN1_EXT               P             00004B8A  23715 23721 23728*
ERR_INFO_DTIN2_EXT               P             00004BDA  23771 23805*
ERR_INFO_DTIN3_EXT               P             00004C2A  23867 23874*
ERR_INFO_DTIN4_EXT               P             00004C64  23914 23920 23932*
ERR_INFO_WKCLR_LOP               P             00005004  24729*24735 
ERR_STOP_MOVCK050                P             00003B28  19709 19711*
FULCLS_LNG_ADD_CAL200            P             000044E4  22082 22087 22089*
FULCLS_LNG_ADD_CAL300            P             0000452C  22117 22139*
FULCLS_LNG_ADD_CAL400            P             0000452E  22127 22149*
FULCLS_LNG_ADD_CAL450            P             00004536  22152 22154*
FULCLS_MAXOVER_ERRS100           P             00004384  21698 21706*
FULCLS_MAXOVER_ERRSET            P             00004364  21658 21670 21680*
FULCLS_MAXOVER_ERRWAT            P             00004384  21674 21684 21711*
FULCLS_MAXPLSCAL_100             P             000042EC  21558 21560*
FULCLS_MAXPLSCAL_200             P             000042F4  21569*
FULCLS_OVERSG_100                P             000043D6  21799 21808 21812*
FUL_BEFOR_CAL100                 P             00001300  10554 10566*
FUL_BEFOR_CAL500                 P             00001306  10546 10556 10573*
FUL_CLS_OBJPLSCK_050             P             000044B4  22035 22041 22043*
FUL_PLS_ST120                    P             0000458A  22242 22244*
FWD_REV_STR_050                  P             00003216  17526 17528*
FWD_REV_STR_055                  P             00003224  17534 17537*
FWD_REV_STSIG_OFSPEC_050         P             00003338  17751 17787*
GAMEN_OVRIDE_100                 P             00005E38  28373 28375*
GENSOK_SIGMK_050                 P             00003E68  20521 20529*
GENSOK_SIGMK_END                 P             00003E80  20546 20550*
GENSOK_SIGMK_OF                  P             00003E7E  20523 20536 20548*
GENSOK_SIGMK_ON                  P             00003E78  20534 20543*
HENSA_DAT_MONMK_050              P             000055E4  26474 26476*
HENSA_DAT_MONMK_100              P             000055FE  26492 26494*
H_BYTE                                    EQU  00000000     82*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   597

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

INCENC_SV_HENSA_MK050            P             00003A62  19538 19546*
INCENC_SV_HENSA_MK100            P             00003A68  19549 19551*
INC_UPLIMT_CAL100                P             00006A78  31386 31393 31418*
INC_UPLIMT_CAL200                P             00006A7A  31406 31420*
INC_UPLIMT_CALEND                P             00006A7E  31423*
INT_POSCTL_0020                  P             00000CBC   9377  9392*
INT_POSCTL_0040                  P             00000CCC   9397  9405*
INT_POSCTL_0045                  P             00000CD4   9408  9412*
INT_POSCTL_0048                  P             00000CE8   9419  9428*
INT_POSCTL_0080                  P             00000D10   9449  9461*
INT_POSCTL_0100                  P             00000D18   9474*
INT_POSCTL_0102                  P             00000D5C   9487  9510*
INT_POSCTL_0102A                 P             00000D90   9534  9554*
INT_POSCTL_0103                  P             00000DE0   9585  9605*
INT_POSCTL_0105                  P             00000DE6   9593  9611*
INT_POSCTL_0110                  P             00000DF8   9560  9625*
INT_POSCTL_0115                  P             00000E04   9542  9618  9637*
INT_POSCTL_0120                  P             00000E1C   9519  9654*
INT_POSCTL_0130                  P             00000E54   9660  9688*
INT_POSCTL_0140                  P             00000E60   9643  9677  9699*
INT_POSCTL_0190                  P             00000EAA   9421  9494  9761*
INT_POSCTL_0200                  P             00000EE8   9410  9783*
INT_POSCTL_0220                  P             00000F24   9793  9823*
INT_POSCTL_0240                  P             00000F58   9826  9855*
INT_POSCTL_0250                  P             00000F94   9861  9898*
INT_POSCTL_0260                  P             00000FB4   9903  9907  9924*
INT_POSCTL_0280                  P             00000FBA   9916  9929*
INT_POSCTL_0300                  P             00000FF4   9399  9986*
INT_POSCTL_0320                  P             00001004   9995 10000*
INT_POSCTL_0500                  P             00001034   9992 10008 10035*
INT_POSCTL_0700                  P             00001054   9379  9989 10062*
INT_POSCTL_0800                  P             00001066   9763  9812  9845  9886  9971 10023 10042 10049 10077*
INT_POSCTL_0900                  P             00001068   9997 10067 10079*
INT_POSCTL_0910                  P             00001086   9268  9293 10103*
INT_POSCTL_0920                  P             000010CC  10117 10141*
INT_POSCTL_0950                  P             000010D6  10125 10148*
INT_POSCTL_CHK00                 P             00000C4C   9266  9278*
INT_POSCTL_CHK10                 P             00000C68   9285  9301*
JMP0100000                       P             00000590   7720  7740*
JMP0100001                       P             00000714   8073  8096*
JMP0100002                       P             000008D8   8489  8507*
JMP0100003                       P             00000B32   9015  9018*
JMP0100007                       P             00002290  13866 13869*
JMP0100008                       P             0000229E  13876 13879*
JMP0100009                       P             000022C4  13901 13903*
JMP0100010                       P             000022D2  13911 13913*
JMP0100011                       P             000022FC  13921 13942*
JMP0100013                       P             0000277C  14904 14906*
JMP0100014                       P             00003DF8  20428 20430*
JMP0100016                       P             00004CC2  24016 24018*
JMP0100017                       P             00004CD4  24029 24031*
JMP0100018                       P             00004CE2  24040 24042*
JMP0100019                       P             00004D5A  24149 24151*
JMP0100020                       P             00004D6C  24162 24164*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   598

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

JMP0100021                       P             00004D7A  24173 24175*
JMP0200000                       P             0000059C   7724  7726  7729  7743  7745  7747*
JMP0200001                       P             00000720   8077  8079  8082  8099  8101  8103*
JMP0200002                       P             000008E4   8493  8495  8498  8510  8512  8514*
JMP0200003                       P             00000B4A   9025  9029  9032*
JMP0200011                       P             00002308  13925 13927 13930 13945 13947 13949*
JMP0200014                       P             00003E00  20433 20435*
JMP_0100004                      P             000016D2  11415 11418*
JMP_0100005                      P             00001DBC  12944 12947*
JMP_0100006                      P             000020A8  13483 13486*
JMP_0100012                      P             0000248A  14312 14315*
JMP_0100015                      P             00003FD0  20905 20908*
JMP_0100022                      P             00006A96  31458 31460*
JMP_0100023                      P             00006AD6  31529 31531*
JMP_0100024                      P             00006B1A  31591 31593*
JMP_0100025                      P             00006BE4  31747 31750*
JMP_0100026                      P             000074FA  33559 33562*
KAJYU_START_UPCK_EXT             P             000049B8  23224 23230 23237 23246*
KJYU_DATA_INFOSL100              P             00004970  23134 23140 23152 23183*
KJYU_DATA_INFOSL300              P             0000497C  23170 23191*
KJYU_NEARZERO3CHK_100            P             0000485C  22956 22958*
KJYU_NEARZERO3CHK_200            P             00004876  22973 22975*
KJYU_NEARZERO3CHK_END            P             000048AC  22983 22998 23005 23011 23017*
KJYU_NEARZERO3CHK_OUT_OFF        P             0000489E  22963 23002*
KJYU_NEARZERO3CHK_TOUTATU        P             000048A4  22977 22995 23008*
KJYU_NEARZERO3CHK_YES            P             000048AA  22980 23014*
KJYU_NEARZERO3_CK100             P             00004894  22993*
KJYU_NEARZERO_CK200              P             0000483A  22873 22877 22879*
KJYU_OUTDIR100                   P             000048C8  23036 23046*
KJYU_OUTDIR200                   P             000048CA  23039 23049*
LINK_DIR_OBJMK3_250              P             000009AC   8675  8680  8682*
LINK_DIR_OBJMK3_280              P             000009B8   8689  8691*
LINK_DIR_OBJMK3_300              P             000009D4   8671  8705*
LINK_DIR_OBJMK3_400              P             000009E8   8709  8714  8716*
LINK_DIR_OBJMK3_450              P             000009F4   8724  8726*
LINK_DIR_OBJMK3_500              P             000009F6   8693  8729*
LINK_DIR_OBJMK3_600              P             00000A00   8733  8735*
LINK_DIR_OBJMK3_750              P             00000A28   8769  8771*
LINK_PM_MX50                     P             00000B6E   9064  9068*
LINK_UPPLSDN_DRV050              P             00000A74   8821  8832*
LINK_UPPLSDN_DRV130              P             00000AA0   8823  8847  8853  8859  8870*
LINK_UPPLSDN_DRV135              P             00000AA6   8875*
LINK_UPPLSDN_DRV140              P             00000AA8   8873  8878*
LINK_UPPLS_A_OBJMK1_100          P             000006CC   8039  8041*
LINK_UPPLS_A_OBJMK1_110          P             000006D2   8045  8047*
LINK_UPPLS_A_OBJMK1_145          P             00000726   8066  8108*
LINK_UPPLS_A_OBJMK1_150          P             00000728   8107  8110*
LINK_UPPLS_A_OBJMK1_300          P             00000748   8114  8133*
LINK_UPPLS_A_OBJMK1_400          P             0000075C   8137  8142  8144*
LINK_UPPLS_A_OBJMK1_500          P             0000075E   8118  8123  8126  8146*
LINK_UPPLS_A_OBJMK1_600          P             00000768   8150  8152*
LINK_UPPLS_A_OBJMK1_700          P             00000790   8186  8188*
LINK_UPPLS_A_OBJMK2_030          P             000007D2   8235  8237*
LINK_UPPLS_A_OBJMK2_050          P             000007F2   8256  8258*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   599

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

LINK_UPPLS_OBJ_SEL_050           P             0000087C   8397  8410*
LINK_UPPLS_OBJ_SEL_100A          P             00000894   8417  8431*
LINK_UPPLS_OBJ_SEL_110B          P             000008A4   8402  8422  8443*
LINK_UPPLS_OBJ_SEL_END           P             000008A6   8436  8446*
LNKPLS_OBJ_DAT_MK1_150           P             000005A4   7751  7753*
LNKPLS_OBJ_DAT_MK1_300           P             000005C4   7757  7776*
LNKPLS_OBJ_DAT_MK1_400           P             000005D8   7780  7785  7787*
LNKPLS_OBJ_DAT_MK1_500           P             000005DA   7761  7766  7769  7789*
LNKPLS_OBJ_DAT_MK1_600           P             000005E4   7793  7795*
LNKPLS_OBJ_DAT_MK1_750           P             0000060C   7829  7831*
LNKPLS_OBJ_DAT_MK2_050           P             000023BA  14107 14112 14118*
LNKPLS_OBJ_DAT_MK2_080           P             000023C8  14123 14127*
LNKPLS_OBJ_DAT_MK2_100           P             000023E4  14103 14142*
LNKPLS_OBJ_DAT_MK2_150           P             000023F0  14145 14149*
LNKPLS_OBJ_DAT_MK2_200           P             000023FC  14151 14157*
LNKPLS_OBJ_DAT_MK2_280           P             0000240C  14164 14168*
LNKPLS_OBJ_DAT_MK2_300           P             0000240C  14129 14172*
LNKPLS_OBJ_DAT_MK2_600           P             00002416  14176 14178*
LNKPLS_OBJ_DAT_MK2_750           P             0000243E  14213 14215*
LNKPLS_OBJ_DAT_MK2_800           P             00002450  14222 14227*
LOAD_RESTPLS_050                 P             00003B80  19814 19816 19825*
LOAD_RESTPLS_END                 P             00003B96  19818 19843*
LOAD_RESTPLS_LOP                 P             00003B50  19790*19833 
LOD_POS_STSRG00                  P             0000339E  17900*17961 
LOD_POS_STS_REGSLOW_END          P             00003386  17858 17864 17867*
L_BYTE                                    EQU  00000001     81*
MN_POSCTL_ST050                  P             00000016   6443  6449  6453*
MN_POSCTL_START_110              P             00000128   6608  6643*
MN_POSCTL_START_200              P             0000013C   6648  6691*
MN_POSCTL_START_220              P             00000180   6696  6703  6711  6718  6792*
MN_POSCTL_START_500              P             000001AC   6610  6823*
MN_POSCTL_START_540              P             000001E8   6863  6894*
MN_POSCTL_START_600              P             000001F8   6844  6880  6905*
MN_POSCTL_START_800              P             000001FE   6656  6727  6814  6909*
MN_POS_CTLACT_100                P             00000278   6999  7008*
MN_POS_CTLACT_130                P             00000294   7016  7033*
MN_POS_CTLACT_150                P             0000029A   7025  7040*
MN_POS_CTLACT_800                P             000002C4   7001  7073*
MN_POS_CTLACT_CONTINUE           P             000002EC   7063  7084  7104*
MN_POS_CTLACT_CYCLE_END          P             000002F8   7092  7115*
MN_POS_CTLACT_EXIT               P             000002FA   7107  7113  7117*
MN_POS_CTLACT_STOP_END           P             000002F2   7094  7110*
MONI_DI_CHK_050                  P             00006798  30742 30745*
MOST_DISP_DATSMP_050             P             00003AD0  19627 19629*
MOST_DISP_DATSMP_100             P             00003AE0  19637 19639*
MOST_DISP_DATSMP_150             P             00003AF0  19650 19652*
MOTCYC_ED2_050                   P             0000384A  19007 19010*
MOTION_CYC_ST200                 P             00003782  18812 18834*
MOT_REPSTART_CL050               P             00006CEC  31958 31974*
MOT_REPSTART_CL100               P             00006CFA  31963 31982*
MOT_REPSTART_CL200               P             00006D14  32002 32004*
MOT_REP_STEPCK_100               P             00006C64  31858 31883*
MOT_REP_STEPCK_200               P             00006CA4  31900 31921*
MOT_REP_STEPCK_EXT               P             00006CAA  31852 31871 31889 31895 31909 31927*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   600

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*36202 36391 36463 
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEG_TEPA_ARACHK100               P             0000282C  15049 15065*
NEG_TEPA_ARACHK200               P             00002832  15034 15072*
NEG_TEPA_ARACHK300               P             00002834  15053 15068 15074*
NEXT_CYCL_STR1_050               P             00001B9C  12456 12468 12481 12497 12499*
OBJ_NEAR_CK_030                  P             00000AF0   8953  8955*
OBJ_NEAR_CK_050                  P             00000B00   8958  8968*
OBJ_NEAR_CK_EXT                  P             00000B0C   8961  8973  8975*
OPEN_ROT_NEAR1_ZR_CK100          P             00003982  19328 19364*
OPEN_ROT_NEAR1_ZR_CK20           P             00003938  19282 19289 19296 19308*
OPEN_ROT_NEAR1_ZR_CK40           P             0000393C  19298 19311*
OPEN_ROT_NEAR1_ZR_CK50           P             00003960  19313 19336*
OPEN_ROT_NEAR2_ZR_CK100          P             000039E6  19415 19445*
OPEN_ROT_NEAR2_ZR_CK50           P             000039CC  19400 19424*
ORGIN_OBJ_POSCTLST2_EXT          P             00000C16   9193  9200*
ORGIN_OBJ_POS_CTLST1_100         P             00000BC4   9107  9129*
ORGIN_OBJ_POS_CTLST1_150         P             00000BE0   9135  9155*
ORGIN_OBJ_POS_CTLST1_200         P             00000BE6   9116  9144  9160*
OUTPLS_CNT_CHK010                P             00003870  19149 19152*
OUTPLS_CNT_CHK020                P             00003880  19163 19165*
OUTPLS_CNT_CHK050                P             00003894  19176 19178*
OUTPLS_CNT_CHK100                P             000038AE  19191 19194 19196*
OVERRIDE_CHG050                  P             00000C92   9341  9349  9356*
OVER_DIGCHK_END                  P             00004342  21627 21637*
OVER_DIGCHK_ERR                  P             0000431C  21614*
OVER_DIGCHK_NOMAL                P             00004340  21612 21624 21635*
OVER_LIDE_SPDCAL100              P             000060B4  29063 29065*
OVER_LIDE_SQRF100                P             00005D28  28130 28160*
OVER_LIDE_SQRF220                P             00005D60  28192 28194*
OVER_LIDE_SQRF300                P             00005D70  28136 28149 28165 28206*
OVER_RIDE_ERRTIMCHG_100          P             00005FC8  28719 28733*
OVRLIDE_LATMULDIV200             P             000064CC  30001 30010 30020*
OVRLIDE_LATMULDIV300             P             000064D4  30008 30029*
OVRLIDE_LATMULDIV400             P             000064DC  30023 30035*
OVRLIDE_LATMULDIV500             P             000064EC  30045 30047*
OVRLIDE_LATMULDIV550             P             000064F2  30012 30050 30052*
OutputPLS_REGCLR_100             P             00002FEC  16984 16999*
OutputPLS_REGCLR_150             P             00003044  17070 17081*
OutputPLS_REGCLR_END             P             00003074  16986 17072 17114*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   601

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

OutputPLS_REGCLR_ERR             P             0000306C  17091 17106*
OutputPLS_REGCLR_LOP             P             00002F36  16854*17098 
P                                P        SCT  00000000   5995*
PINT_SERCH_BIG2B_200LOP          P             000086E0  38028*38071 
PINT_SERCH_BIG2B_300             P             000086F8  38038 38050*
PINT_SERCH_BIG2B_500             P             000086FE  38045 38055*
PINT_SERCH_BIG2B_600             P             0000870C  38059 38061 38067*
PINT_SERCH_BIG2B_800             P             00008714  38036 38075*
PINT_SERCH_BIG2B_900             P             00008714  38077*
PINT_SERCH_BIG4B_200LOP          P             00008748  38170*38214 
PINT_SERCH_BIG4B_300             P             00008760  38180 38192*
PINT_SERCH_BIG4B_500             P             00008766  38187 38197*
PINT_SERCH_BIG4B_600             P             00008774  38202 38204 38210*
PINT_SERCH_BIG4B_800             P             0000877C  38178 38218*
PINT_SERCH_BIG4B_900             P             0000877C  38063 38207 38220*
PLS_CHG_PLSTOLSI_100             P             000063E6  29793 29795*
PLS_CHG_PLSTOLSI_120             P             0000640C  29802 29805 29819*
PLS_CHG_PLSTOLSI_130             P             00006424  29826 29840*
PLS_CHG_PLSTOLSI_150             P             00006428  29809 29833 29846*
PLS_CHG_PLSTOLSI_200             P             0000642E  29849 29851*
PLS_LSICTRL_050                  P             00007570  33728 33735*
PLS_LSICTRL_070                  P             000075B0  33752 33773*
PLS_LSICTRL_080                  P             000075C0  33760 33786*
PLS_LSICTRL_100                  P             000075FA  33824 33841*
PLS_LSICTRL_200                  P             0000764C  33845 33879*
PLS_LSICTRL_220                  P             00007668  33887 33901*
PLS_LSICTRL_END                  P             0000766E  33820 33830 33860 33893 33907*
PLS_LSI_CTLCAL_020               P             00007698  33951 33963*
PLS_LSI_CTLCAL_050               P             000076B0  33954 33970 33978*
PLS_LSI_CTLCAL_100               P             000076B4  33956 33983*
PLS_LSI_CTLCAL_150               P             000076D0  33987 34002*
PLS_LSI_CTLCAL_160               P             000076E0  34007 34017*
PLS_LSI_CTLCAL_500               P             00007704  33994 34027 34047*
PLS_LSI_CTLCAL_580               P             00007724  34063 34081*
PLS_LSI_CTLCAL_700               P             00007734  33980 34029 34037 34097*
PLS_LSI_CTLCAL_720               P             00007754  34120 34122*
PLS_LSI_CTLCAL_740               P             0000775C  34125 34127*
PLS_LSI_CTLCAL_760               P             0000776E  34134 34143*
PLS_LSI_CTLCAL_800               P             00007794  33972 34072 34141 34163*
PLS_LSI_CTLCAL_820               P             000077A2  34110 34173*
PLS_LSI_CTLCAL_900               P             000077B8  34087 34150 34193*
PLS_LSI_CTLCAL_ERR               P             000077C8  34203*
PLS_LSI_CTLCAL_EXT               P             000077D6  34010 34074 34195 34214*
PLS_LSI_SPD_ACCADD_200           P             00007814  34256 34273*
PLS_LSI_SPD_ACCADD_300           P             00007820  34262 34265 34279 34281*
PLS_LSI_SPD_ACCADD_END           P             00007824  34254 34284*
POINT_SERCHPLS1_050              P             000085F4  37762 37764*
POINT_SERCHPLS1_100              P             00008620  37748 37754 37788*
POINT_SERCHPLS1_200              P             00008628  37776 37794*
POINT_SERCHPLS1_END              P             0000862A  37792 37796*
POINT_SERCHPLS_HKN1_050          P             0000865A  37856 37858*
POINT_SERCHPLS_HKN1_100          P             0000866C  37867 37869*
POINT_SERCHPLS_HKN1_400          P             000086A8  37835 37841 37911*
POINT_SERCHPLS_HKN1_500          P             000086B0  37899 37918*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   602

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POINT_SERCHPLS_HKN1_END          P             000086B2  37915 37920*
POINT_SERCHSPD1_100              P             000085A4  37650 37654 37674*
POINT_SERCHSPD1_END              P             000085AA  37662 37677 37680*
POSCNT_BANKDT100                 P             00005872  27032*
POSITIONER_DAICTL_020            P             000070C0  32679 32691*
POSITIONER_DAICTL_040            P             000070D6  32706 32708*
POSITIONER_DAICTL_100            P             000070F4  32672 32728*
POSITIONER_DAICTL_200            P             0000712C  32740 32762*
POSITIONER_DAICTL_300            P             00007150  32767 32789*
POSITIONER_DAICTL_350            P             00007170  32811 32817*
POSITIONER_DAICTL_400            P             00007180  32792 32829*
POSITIONER_DAICTL_450            P             000071B6  32850 32872*
POSITIONER_DAICTL_500            P             000071DC  32832 32890*
POSITIONER_DAICTL_530            P             00007218  32904 32936*
POSITIONER_DAICTL_550            P             00007250  32944 32975*
POSITIONER_DAICTL_590            P             00007256  32901 32980*
POSITIONER_DAICTL_800            P             00007260  32716 32749 32780 32819 32874 32893 32926 32965 32982 32992*
POSITIONER_DAICTL_EXT            P             00007276  32681 33014*
POSITIONER_DAIDAT_100            P             00007352  33202 33206 33210 33214*
POSITIONER_DAIOBJ1MK_100         P             0000729A  33064 33069*
POSITIONER_DAIOBJ1MK_200         P             000072C8  33077 33099*
POSITIONER_DAIOBJ1MK_300         P             000072D4  33086 33109*
POSITIONER_DAIOUT_100            P             00007460  33428 33432 33436*
POSITIONER_DAI_OBJ1CP_100        P             000073F0  33298 33313*
POSITIONER_DAI_OBJ1CP_END        P             00007406  33327 33333 33338*
POSITIONER_DAI_OBJ1CP_OVR        P             00007404  33302 33317 33336*
POSITIONER_DAI_OBJ1CP_WATDN      P             000073FE  33319 33330*
POSITIONER_DAI_OBJ1CP_WATUP      P             000073F8  33304 33324*
POSITIONER_DAI_OBJ2CP_100        P             00007434  33369 33384*
POSITIONER_DAI_OBJ2CP_END        P             0000744A  33398 33403 33408*
POSITIONER_DAI_OBJ2CP_STP        P             00007448  33373 33388 33406*
POSITIONER_DAI_OBJ2CP_WATDN      P             00007442  33375 33400*
POSITIONER_DAI_OBJ2CP_WATUP      P             0000743C  33390 33395*
POSITIONER_DAI_STPCK100          P             0000749C  33478 33493*
POSITIONER_DAI_STPCK150          P             000074A0  33483 33496*
POSITIONER_DAI_STPCK200          P             000074AC  33481 33495 33507*
POSITIONER_DAI_STPCK230          P             000074C0  33517 33520*
POSITIONER_DAI_STPCK250          P             000074D4  33512 33533*
POSITIONER_DAI_STPCK280          P             000074E0  33539 33541*
POSITIONER_DAI_STPCK300          P             000074EE  33544 33552*
POSITIONER_DAI_STPCK320          P             00007512  33578 33580*
POSITIONER_DAI_STPCKEND          P             00007546  33604 33610 33616*
POSITIONER_DAI_STPCKERR          P             0000753E  33587 33607*
POSITIONER_DAI_STPCKINP          P             00007544  33585 33613*
POSITIONER_DAI_STPCKWAT          P             00007538  33522 33568 33601*
POSITIONER_UPDNLMT100            P             0000731C  33161 33163*
POSITIONER_UPDNLMT200            P             00007326  33168 33170*
POS_1STEP_DATA_MKSL100           P             00001AB0  12213 12229*
POS_1STEP_DATA_MKSL200           P             00001AB6  12221 12234*
POS_1STEP_DATMK1CL_020           P             00001290  10449 10469*
POS_1STEP_DATMK1CL_040           P             00001296  10456 10476*
POS_1STEP_DATMK1CL_050           P             000012A4  10487 10489*
POS_1STEP_DATMK1_050             P             000011FA  10356 10358*
POS_1STEP_DATMK2_050             P             0000138E  10695 10697*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   603

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_ALLSTEPCTL_020               P             00001418  10851 10860*
POS_ALLSTEPCTL_100               P             00001420  10863 10868*
POS_ALLSTEPCTL_101               P             00001434  10878 10887*
POS_ALLSTEPCTL_105               P             00001454  10902 10912*
POS_ALLSTEPCTL_120               P             00001458  10893 10917*
POS_ALLSTEPCTL_189               P             000014EC  10994 11000 11004 11041*
POS_ALLSTEPCTL_189A              P             00001508  11012 11047 11061*
POS_ALLSTEPCTL_190               P             0000150A  10988 11020 11053 11064*
POS_ALLSTEPCTL_200               P             00001524  10942 11089*
POS_ALLSTEPCTL_210               P             00001554  11120 11125*
POS_ALLSTEPCTL_211               P             0000156A  11138 11144*
POS_ALLSTEPCTL_220               P             00001590  11111 11161*
POS_ALLSTEPCTL_225               P             000015A4  11177 11186*
POS_ALLSTEPCTL_230               P             000015C4  10880 10904 11203 11213*
POS_ALLSTEPCTL_280               P             00001624  11289 11299 11301*
POS_ALLSTEPCTL_285               P             0000162E  11309 11311*
POS_ALLSTEPCTL_300               P             0000168C  10865 11367*
POS_ALLSTEPCTL_310               P             000016B4  11378 11395*
POS_ALLSTEPCTL_320               P             000016EC  11424 11435*
POS_ALLSTEPCTL_400               P             00001708  11370 11463*
POS_ALLSTEPCTL_415               P             00001736  11473 11480 11489 11496 11502 11508*
POS_ALLSTEPCTL_420               P             00001768  11529 11543*
POS_ALLSTEPCTL_428               P             000017B4  11568 11592*
POS_ALLSTEPCTL_430               P             000017D4  11595 11617*
POS_ALLSTEPCTL_450               P             00001810  11629 11656*
POS_ALLSTEPCTL_530               P             00001864  11690 11732*
POS_ALLSTEPCTL_550               P             00001878  11713 11738 11748*
POS_ALLSTEPCTL_580               P             000018B6  11578 11645 11805*
POS_ALLSTEPCTL_583               P             00001924  11832 11860*
POS_ALLSTEPCTL_585               P             0000193C  11826 11878*
POS_ALLSTEPCTL_590               P             00001942  11609 11838 11871 11889*
POS_ALLSTEPCTL_600               P             000019D0  11719 11740 11987*
POS_ALLSTEPCTL_600X              P             00001844  11686 11697 11717*
POS_ALLSTEPCTL_900               P             000019FA  10853 10914 11078 11147 11179 11205 11344 11386 11426 11453 11531 11966 
                                                         12022*
POS_ALLSTEPCTL_REP231            P             0000160C  11273 11275*
POS_CLS_CPUB_TO_CPUA_100         P             0000445C  21962 21964*
POS_CLS_OBJPVPLSMAK100           P             000046CA  22549 22555*
POS_CLS_OBJPVPLSMAK300           P             0000471C  22573 22603*
POS_CLS_OBJPVPLSMAK310           P             0000472C  22623 22627*
POS_CLS_OBJPVPLSMAK500           P             00004730  22587 22635*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK100 P             00004758  22666 22680*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK120 P             0000476C  22692 22694*
POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND P             00004772  22673 22696 22699*
POS_CLS_RNA_KJYU_NZ_CHK100       P             000047A0  22726 22740*
POS_CLS_RNA_KJYU_NZ_CHK200       P             000047E4  22761 22791*
POS_CLS_RNA_KJYU_NZ_CHK400       P             000047F2  22757 22805*
POS_CLS_RNA_KJYU_NZ_CHK490       P             00004800  22769 22780 22798 22816*
POS_CLS_RNA_KJYU_NZ_CHK500       P             00004810  22751 22831*
POS_CLS_RNA_KJYU_NZ_CHKEND       P             00004816  22733 22808 22822 22838*
POS_CLS_START_050                P             0000469E  22503 22505*
POS_CLS_TYP1_NEAR_ZR_CHK_100     P             0000441A  21883 21887*
POS_CLS_TYP1_NEAR_ZR_CHK_200     P             00004444  21908 21924*
POS_CLS_TYP1_NEAR_ZR_CHK_201     P             0000444A  21912 21929*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   604

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_CLS_TYP1_NEAR_ZR_CHK_202     P             0000444C  21915 21927 21931*
POS_CLS_TYP1_POSCTL1_000         P             00003F2A  20669 20763*
POS_CLS_TYP1_POSCTL1_050         P             00003F5C  20805 20819*
POS_CLS_TYP1_POSCTL1_100         P             00003FC4  20768 20898*
POS_CLS_TYP1_POSCTL1_105         P             00003FC4  20899*
POS_CLS_TYP1_POSCTL1_107         P             00003FEC  20926 20935*
POS_CLS_TYP1_POSCTL1_108         P             00004000  20934 20946*
POS_CLS_TYP1_POSCTL1_110         P             00004004  20918 20954*
POS_CLS_TYP1_POSCTL1_112         P             0000402C  20961 20979*
POS_CLS_TYP1_POSCTL1_113         P             0000403C  20985 20993*
POS_CLS_TYP1_POSCTL1_115         P             00004058  21006 21015*
POS_CLS_TYP1_POSCTL1_117         P             0000406C  21020 21029*
POS_CLS_TYP1_POSCTL1_118         P             000040E8  21059 21126*
POS_CLS_TYP1_POSCTL1_119A        P             00004120  21144 21172*
POS_CLS_TYP1_POSCTL1_119E        P             00004126  21161 21177*
POS_CLS_TYP1_POSCTL1_119E_EX     P             00004142  21154 21201*
POS_CLS_TYP1_POSCTL1_200         P             00004160  20987 21217*
POS_CLS_TYP1_POSCTL1_220         P             000041B0  21236 21267*
POS_CLS_TYP1_POSCTL1_222         P             000041C8  21287 21296*
POS_CLS_TYP1_POSCTL1_240         P             000041DC  21303 21317*
POS_CLS_TYP1_POSCTL1_250         P             000041E4  21289 21311 21325*
POS_CLS_TYP1_POSCTL1_260         P             00004218  21309 21322 21355*
POS_CLS_TYP1_POSCTL1_280         P             00004236  21368 21380 21389*
POS_CLS_TYP1_POSCTL1_ED050       P             000040AA  21049 21082*
POS_CLS_TYP1_POSCTL1_END         P             00004254  20735 20754 21406 21411*
POS_CLS_TYP1_POSCTL1_NOT         P             00003EB2  20655 20671*
POS_CLS_TYP1_POSCTL1_NOT20       P             00003EB8  20662 20680*
POS_CLS_TYP1_POSCTL1_OUT_WAIT    P             00004252  20807 20882 20937 21008 21024 21112 21203 21255 21344 21391 21409*
POS_CLS_TYP1_POSCTL1_OVER98      P             000040A0  20970 21074*
POS_CLS_TYP1_POSCTL1_OVER99      P             000040A4  21057 21077*
POS_CLS_TYP1_POSCTL1_PC_END      P             0000424C  20948 21403*
POS_CNT_BANKDTMAK123_COM         P             000058B2  26973 27047 27088*
POS_CNT_BANKDTMAK12_050          P             000058AE  27080 27082*
POS_CNT_BANKDTMAK12_COM          P             000058A0  26968 26990 27042 27071*
POS_CNT_BANKDTMKCM_050           P             00005964  27238 27240*
POS_CNT_BANKDTMKCM_EXT           P             0000596E  27247*
POS_CNT_LASTSTEPCHK_END          P             0000590A  27157 27159*
POS_ENDMYUTTIM_KEEP              P             0000035C   7230*
POS_ENDMYUTTIM_STOP              P             00000362   7214  7220  7226  7236*
POS_ENDWAIT_TIMSET_END           P             0000031C   7150  7157  7164*
POS_LSI_EMGSTOP_END              P             000030CE  17215 17231*
POS_LSI_SLWSTOP_END              P             000030FC  17267 17279*
POS_PLSOUT_SETRY100              P             00003464  18076 18092*
POS_PLSOUT_SETRY120              P             000034AA  18150 18158*
POS_PLSOUT_SETRY130              P             000034E0  18161 18187*
POS_PLSOUT_SETRY900              P             00003588  18174 18205 18208 18211 18332*
POS_PLSOUT_SETRYERR              P             0000355C  18262 18284*
POS_PLSOUT_SETRYEXT              P             00003596  18083 18324 18353*
POS_PLSOUT_SETRYLOP              P             00003482  18124*18269 
POS_PLS_OUTDAT_050               P             000035E0  18424 18431*
POS_PLS_OUTDAT_080               P             0000360C  18445 18458*
POS_PLS_OUTDAT_100               P             0000361E  18464 18472*
POS_PLS_OUTDAT_200               P             00003628  18475 18477 18479*
POS_PLS_OUTDAT_250               P             00003642  18489 18497*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   605

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_PLS_OUTDAT_300               P             00003646  18448 18502*
POS_PLS_OUTDAT_320_ECK10         P             000036D0  18672 18674*
POS_PLS_OUTDAT_320_END           P             00003714  18676 18716*
POS_PLS_OUTDAT_320_ERR1          P             00003704  18666 18701*
POS_PLS_OUTDAT_320_EXT           P             0000371C  18685 18710 18722*
POS_PLS_OUTDAT_400               P             00003742  18753 18761*
POS_START_ROT_CAL_100            P             00001B48  12398 12404 12427*
POS_START_ROT_CAL_200            P             00001B54  12429 12438*
POS_START_ROT_CAL_900            P             00001B64  12389 12408 12434 12440 12444 12452*
POS_START_ROT_CAL_950            P             00001B70  12432 12463*
POS_START_ROT_CAL_999            P             00001B80  12410 12446 12476*
PRESET_PVABSTOOBJ_100            P             0000600C  28803 28822*
PRESET_PVABSTOOBJ_EXT            P             0000600C  28815 28832*
RESTART_WAIT_PLS_DATASEL_100     P             000042AC  21467 21494*
RESTART_WAIT_PLS_DATASEL_END     P             000042BE  21464 21509*
RESTART_WAIT_PLS_DATASEL_OUT     P             000042BC  21483 21507*
REVRSE_KAJYU_AREACK_END          P             00004A3E  23370 23386*
REVRSE_KAJYU_AREACK_LASTSPD      P             00004A38  23348 23361 23363 23380*
REV_BEFORE_CHGKOUTEICK090        P             00004630  22349 22360*
REV_BEFORE_CHGKOUTEICK100        P             00004632  22343 22362*
REV_BEFORE_CHGKOUTEICK200        P             00004640  22371*
REV_BEFORE_CHGKOUTEICK300        P             0000464C  22351 22369 22381*
REV_BEFORE_CHGKOUTEICK400        P             0000464E  22374 22383*
RL_POSDTCHK_SECOND_RD            P             00006840  30834*30840 30842 
SET_OVERID200                    P             00005EAC  28415 28451*
SET_OVERID500                    P             00005EF4  28410 28466 28495*
SET_OVERID900                    P             00005F0E  28438 28483 28515*
SPD_CTL_ST100                    P             000065BC  30247 30253*
SPD_STEP_CHGFWD_090              P             00001C60  12640 12648 12662*
SPD_STEP_CHGFWD_100              P             00001C64  12626 12668*
SPD_STEP_CHGFWD_200              P             00001C6E  12633 12676*
SPD_STEP_CHGFWD_202              P             00001C70  12651 12679*
SPD_STEP_CHGFWD_250              P             00001C90  12684 12701*
SPD_STEP_CHGFWD_EXT              P             00001CBA  12623 12664 12675 12693 12740*
SPD_UPLIMT_CALEND                P             000060DC  29096 29101 29103*
START_CNT_BANK2_MAKCHK_END       P             00005998  27282 27298*
TBLACC_ACC_ADD_200               P             000087D0  38288 38307*
TBLACC_ACC_ADD_300               P             000087DC  38294 38297 38313 38315*
TBLACC_ACC_ADD_END               P             000087DE  38286 38317*
TBLACC_STEP_SPMAK_100            P             0000849C  37382 37413*
TBLACC_STEP_SPMAK_200            P             000084A6  37345 37351 37422*
TBLACC_STEP_SPMAK_250            P             000084C8  37426 37444*
TBLACC_STEP_SPMAK_300            P             000084D4  37435 37452*
TBLACC_STEP_SPMAK_400            P             000084F4  37342 37431 37449 37473*
TBLACC_STEP_SPMAK_500            P             00008502  37397 37462 37487*
TBLACC_STEP_SPMAK_CNST050        P             00008464  37373 37384*
TBLACC_STOPSP_MK500              P             00008408  37255 37298*
TEPA_ADDLSI_010                  P             00002954  15374 15389*
TEPA_ADDLSI_020                  P             0000295C  15378 15392 15397*
TEPA_ADDLSI_025                  P             00002970  15357 15413*
TEPA_ADDLSI_030                  P             00002980  15367 15380 15394 15424*
TEPA_ADDLSI_EXT                  P             000029C8  15415 15430 15441 15453 15484*
TEPA_PLSCNTCHK_050               P             000028FE  15303 15311*
TEPA_PLSCNTCHK_100               P             00002904  15297 15309 15317*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   606

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

TEPA_STARTCHK_050                P             0000287C  15154 15156*
TEPA_STARTCHK_END                P             000028A0  15163 15179*
TEPA_STARTCHK_NG                 P             00002882  15143 15149 15160*
TEPA_STARTCHK_OK                 P             00002898  15159 15173*
TEP_1STEP_DATMK1_050             P             00002760  14871 14885*
TEP_1STEP_DATMK1_070             P             00002764  14874 14888*
TEP_1STEP_DATMK1_080             P             0000276A  14858 14866 14876 14887 14894*
TEP_1STEP_DATMK1_100             P             000027A2  14951 14953*
TEP_ADD_PLSMK_020                P             000026D2  14776 14778*
TEP_ADD_PLSMK_030                P             000026DA  14772 14783*
TEP_ADD_PLSMK_050                P             000026E6  14792 14794*
TEP_ADD_PLSMK_100                P             000026F0  14798 14800*
TEP_ADD_PLSMK_150                P             000026F6  14803 14805*
TEP_SPD_CALCCOM_100              P             00002A5C  15597 15599*
TEP_SPD_CALCCOM_200              P             00002A6A  15609 15611*
TEP_SPD_CALCCOM_300              P             00002A74  15619 15621*
TEP_SPD_CALCCOM_400              P             00002A7E  15629 15631*
TEP_SYS_SET080                   P             00002B0A  15751 15753*
TEP_SYS_SET100                   P             00002B1A  15763 15765*
TEP_SYS_SET200                   P             00002B32  15780 15782*
TYP1_OPEN_PRC_050                P             00003EE0  20712 20717*
TYP1_OPEN_PRC_200                P             00003F24  20704 20723 20731 20751*
UPPLS1_OBJMAK_COM_145            P             000008EA   8484  8519*
UPPLS1_OBJMAK_COM_150            P             000008EC   8518  8521*
UPPLS1_OBJMAK_COM_300            P             0000090C   8525  8544*
UPPLS1_OBJMAK_COM_400            P             00000920   8548  8553  8555*
UPPLS1_OBJMAK_COM_500            P             00000922   8529  8534  8537  8557*
UPPLS1_OBJMAK_COM_600            P             0000092C   8561  8563*
UPPLS1_OBJMAK_COM_750            P             00000954   8598  8600*
USE_IN_TBLMV_100LOP              P             00007B44  35533*35542 
USE_IN_TBLMV_500                 P             00007B64  35536 35551*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3423 20221 20279 29319 
_ABS_OUT_PLS_SPD                          IMPT 00000000   3433 20170 
_ACCBRK1_SV_MAKE                 P             00006504  28597 30074*32573 
_ACCBRK1_SV_MAK_OVR              P             0000652C  28645 30104*
_ACCBRK2_SV_MAKE                 P             00006558  28601 30142*32577 
_ACCB_ACCLAT_TIM1                         IMPT 00000000  34548 35577 
_ACCERR_ACC_HENSA                         IMPT 00000000   4440 
_ACCERR_ACC_OBJ                           IMPT 00000000   4439 
_ACCERR_ACC_PV                            IMPT 00000000   4438 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4449 
_ACCERR_ERR_CNT                           IMPT 00000000   4441 
_ACCESS_ERR1                              IMPT 00000000   3519 24440 
_ACCLAT1_SV_MAK_COM              P        EXPT 0000646C  29879 29896 29924*30083 30115 30151 
_ACCLAT1_SV_MAK_OVR              P             00006438  28641 29885*
_ACC_ANS_ACCDAT                           IMPT 00000000  34543 36684 36717 36840 36919 38715 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   607

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_CALC_SPD                             IMPT 00000000  34693 36895 37120 
_ACC_CALC_SPDX                            IMPT 00000000  34692 36888 37107 
_ACC_CALC_TIM                             EQU  000003E8  34517*36488 
_ACC_CTRL_STS1                            IMPT 00000000  34535 36569 36703 36910 38474 
_ACC_CTRL_STS2                            IMPT 00000000  34536 36689 36705 37388 38272 
_ACC_INF1_STEP001                         IMPT 00000000  34575 35202 35977 
_ACC_INF1_STEP002                         IMPT 00000000  34576 35994 
_ACC_INF1_STEP003                         IMPT 00000000  34577 36009 
_ACC_INF1_STEP004                         IMPT 00000000  34578 36024 
_ACC_INF1_STEP005                         IMPT 00000000  34579 36040 
_ACC_INF1_STEP006                         IMPT 00000000  34580 36055 
_ACC_INF1_STEP007                         IMPT 00000000  34581 36070 
_ACC_INF1_STEP008                         IMPT 00000000  34582 36085 
_ACC_INF1_STEP009                         IMPT 00000000  34583 36100 
_ACC_INF1_STEP010                         IMPT 00000000  34584 36115 
_ACC_INF1_STEP011                         IMPT 00000000  34585 36130 
_ACC_INF1_STEPSP01                        IMPT 00000000  34561 35206 35976 
_ACC_INF1_STEPSP02                        IMPT 00000000  34562 35993 
_ACC_INF1_STEPSP03                        IMPT 00000000  34563 36008 
_ACC_INF1_STEPSP04                        IMPT 00000000  34564 36023 
_ACC_INF1_STEPSP05                        IMPT 00000000  34565 36039 
_ACC_INF1_STEPSP06                        IMPT 00000000  34566 36054 
_ACC_INF1_STEPSP07                        IMPT 00000000  34567 36069 
_ACC_INF1_STEPSP08                        IMPT 00000000  34568 36084 
_ACC_INF1_STEPSP09                        IMPT 00000000  34569 36099 
_ACC_INF1_STEPSP10                        IMPT 00000000  34570 36114 
_ACC_INF1_STEPSP11                        IMPT 00000000  34571 36129 
_ACC_INFO_CHNAGE_TBL_MAK         P             00007B6A  35427 35458 35567*
_ACC_IN_TBLUSE                            IMPT 00000000  34683 35531 35974 35991 36006 36021 36037 36052 36067 36082 36097 36112 
                                                         36127 
_ACC_IN_TBL_TIM                           IMPT 00000000  34682 35527 35975 35992 36007 36022 36038 36053 36068 36083 36098 36113 
                                                         36128 
_ACC_LAST_POINT                           IMPT 00000000  34530 36574 36634 36722 
_ACC_LAST_SPD                             IMPT 00000000  34526 36749 36847 36865 
_ACC_MONITOR_DAT1                         IMPT 00000000   4252 36719 
_ACC_MONITOR_DAT2                         IMPT 00000000   4253 36728 
_ACC_MONITOR_DAT3                         IMPT 00000000   4254 36737 
_ACC_MONITOR_DAT4                         IMPT 00000000   4255 36742 
_ACC_MONITOR_DAT5                         IMPT 00000000   4256 
_ACC_MONITOR_DAT6                         IMPT 00000000   4257 36756 
_ACC_MONITOR_DAT7                         IMPT 00000000   4258 36766 
_ACC_MONITOR_DAT8                         IMPT 00000000   4259 36776 
_ACC_NUMBER_SELTBL1              P             00008518  37239 37516*
_ACC_NUMBER_SELTBL2              P             00008540  37333 37547*
_ACC_PER_V_MAX                            EQU  00002710  34516*36262 36336 36488 37640 37702 37770 37893 
_ACC_POSCTL_RL_SPDX                       IMPT 00000000  34695 37041 37354 38283 
_ACC_POSCTL_SV_DN_ACCX                    IMPT 00000000  34697 37070 38309 
_ACC_POSCTL_SV_SPDX                       IMPT 00000000  34694 37026 38281 
_ACC_POSCTL_SV_UP_ACCX                    IMPT 00000000  34696 37056 38290 
_ACC_POS_STEP                             IMPT 00000000  34538 36607 36823 
_ACC_REST_ABS_PLS                         IMPT 00000000   4209 34447 36966 
_ACC_REST_ABS_PLSX                        IMPT 00000000  34691 37010 37246 
_ACC_REST_FLG                             IMPT 00000000   4210 34465 36971 37006 37744 37831 
_ACC_REST_INFO_MAKE              P             00007890  33942 34415*38373 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   608

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_STEP001_ACTM                         IMPT 00000000  34621 35979 35981 35996 
_ACC_STEP001_VTBL                         IMPT 00000000  34605 35978 35980 35995 
_ACC_STEP002_ACTM                         IMPT 00000000  34622 35998 36011 
_ACC_STEP002_VTBL                         IMPT 00000000  34606 35997 36010 
_ACC_STEP003_ACTM                         IMPT 00000000  34623 36013 36026 
_ACC_STEP003_VTBL                         IMPT 00000000  34607 36012 36025 
_ACC_STEP004_ACTM                         IMPT 00000000  34624 36028 36042 
_ACC_STEP004_VTBL                         IMPT 00000000  34608 36027 36041 
_ACC_STEP005_ACTM                         IMPT 00000000  34625 36044 36057 
_ACC_STEP005_VTBL                         IMPT 00000000  34609 36043 36056 
_ACC_STEP006_ACTM                         IMPT 00000000  34626 36059 36072 
_ACC_STEP006_VTBL                         IMPT 00000000  34610 36058 36071 
_ACC_STEP007_ACTM                         IMPT 00000000  34627 36074 36087 
_ACC_STEP007_VTBL                         IMPT 00000000  34611 36073 36086 
_ACC_STEP008_ACTM                         IMPT 00000000  34628 36089 36102 
_ACC_STEP008_VTBL                         IMPT 00000000  34612 36088 36101 
_ACC_STEP009_ACTM                         IMPT 00000000  34629 36104 36117 
_ACC_STEP009_VTBL                         IMPT 00000000  34613 36103 36116 
_ACC_STEP010_ACTM                         IMPT 00000000  34630 36119 36132 
_ACC_STEP010_VTBL                         IMPT 00000000  34614 36118 36131 
_ACC_STEP011_ACTM                         IMPT 00000000  34631 36134 
_ACC_STEP011_VTBL                         IMPT 00000000  34615 36133 
_ACC_STEP01_TBL_TOP              P             00007CC4  35424 35957 35972*
_ACC_STEP02_TBL_TOP              P             00007CF8  35958 35990*
_ACC_STEP03_TBL_TOP              P             00007D2C  35959 36005*
_ACC_STEP04_TBL_TOP              P             00007D60  35960 36020*
_ACC_STEP05_TBL_TOP              P             00007D94  35961 36036*
_ACC_STEP06_TBL_TOP              P             00007DC8  35962 36051*
_ACC_STEP07_TBL_TOP              P             00007DFC  35963 36066*
_ACC_STEP08_TBL_TOP              P             00007E30  35964 36081*
_ACC_STEP09_TBL_TOP              P             00007E64  35965 36096*
_ACC_STEP10_TBL_TOP              P             00007E98  35966 36111*
_ACC_STEP11_TBL_TOP              P             00007ECC  35967 36126*
_ACC_STEP_FLG                             IMPT 00000000  34534 36565 36627 36709 37338 37418 37459 37482 
_ACC_STEP_INF_MAKE1              P             00007A54  35003 35189*
_ACC_STEP_NUMBER                          IMPT 00000000  34542 36836 37330 37359 
_ACC_STEP_POINT                           IMPT 00000000  34532 36563 36625 36740 37347 37414 37428 37446 
_ACC_STEP_SPD                             IMPT 00000000  34528 36769 36877 37488 
_ACC_STOP001_ACTM                         IMPT 00000000  34665 35983 35985 36000 
_ACC_STOP001_PTBL                         IMPT 00000000  34652 35986 
_ACC_STOP001_VTBL                         IMPT 00000000  34638 35982 35984 35999 
_ACC_STOP002_ACTM                         IMPT 00000000  34666 36002 36015 
_ACC_STOP002_PTBL                         IMPT 00000000  34653 36003 
_ACC_STOP002_VTBL                         IMPT 00000000  34639 36001 36014 
_ACC_STOP003_ACTM                         IMPT 00000000  34667 36017 36030 
_ACC_STOP003_PTBL                         IMPT 00000000  34654 36018 
_ACC_STOP003_VTBL                         IMPT 00000000  34640 36016 36029 
_ACC_STOP004_ACTM                         IMPT 00000000  34668 36032 36046 
_ACC_STOP004_PTBL                         IMPT 00000000  34655 36033 
_ACC_STOP004_VTBL                         IMPT 00000000  34641 36031 36045 
_ACC_STOP005_ACTM                         IMPT 00000000  34669 36048 36061 
_ACC_STOP005_PTBL                         IMPT 00000000  34656 36049 
_ACC_STOP005_VTBL                         IMPT 00000000  34642 36047 36060 
_ACC_STOP006_ACTM                         IMPT 00000000  34670 36063 36076 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   609

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_STOP006_PTBL                         IMPT 00000000  34657 36064 
_ACC_STOP006_VTBL                         IMPT 00000000  34643 36062 36075 
_ACC_STOP007_ACTM                         IMPT 00000000  34671 36078 36091 
_ACC_STOP007_PTBL                         IMPT 00000000  34658 36079 
_ACC_STOP007_VTBL                         IMPT 00000000  34644 36077 36090 
_ACC_STOP008_ACTM                         IMPT 00000000  34672 36093 36106 
_ACC_STOP008_PTBL                         IMPT 00000000  34659 36094 
_ACC_STOP008_VTBL                         IMPT 00000000  34645 36092 36105 
_ACC_STOP009_ACTM                         IMPT 00000000  34673 36108 36121 
_ACC_STOP009_PTBL                         IMPT 00000000  34660 36109 
_ACC_STOP009_VTBL                         IMPT 00000000  34646 36107 36120 
_ACC_STOP010_ACTM                         IMPT 00000000  34674 36123 36136 
_ACC_STOP010_PTBL                         IMPT 00000000  34661 36124 
_ACC_STOP010_VTBL                         IMPT 00000000  34647 36122 36135 
_ACC_STOP011_ACTM                         IMPT 00000000  34675 36138 
_ACC_STOP011_PTBL                         IMPT 00000000  34662 36139 
_ACC_STOP011_VTBL                         IMPT 00000000  34648 36137 
_ACC_STOP_NUMBER                          IMPT 00000000  34541 36833 37235 
_ACC_STOP_POINT                           IMPT 00000000  34531 36576 36636 36731 37299 
_ACC_STOP_SPD                             IMPT 00000000  34527 36759 36867 37301 
_ACC_STR_STEP                             IMPT 00000000  34539 36567 36612 
_ACC_TBL_CAL_IN_TOP              P             00007C98  35441 35956*37523 37554 
_ACC_TBL_MAKE1                   P             00007AEE  35010 35343*
_ACC_TBL_MAKPLS1_SUB             P             0000800C  35935 36436*
_ACC_TBL_MAKSPD1_SUB             P             00007F00  35681 35850 36175*
_ACC_UNIT                                 EQU  000003E8   6019*34343 
_ADDR56_R12_ANS_R12_LIMIT_MAX_MI*P             00000B18   8239  8998*
_ANTI_OF                                  IMPT 00000000   5421 
_ANTI_ON                                  IMPT 00000000   5420 
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6134 13313 13750 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6133 
_API_ENDHAND_SIGCHK              P        EXPT 00006BF0  31760 31765*
_API_IVW_CYC_END                          IMPT 00000000   6126 12004 16276 
_API_IVW_CYC_START                        IMPT 00000000   6125 11664 18844 
_API_SETACC_INFO_GET             P        EXPT 000079DC  35043 35052*
_API_SETACC_STS_CLR              P             00007A2C  34942 35145*
_API_SETACC_STS_END              P        EXPT 00007A18  35115 35117*
_AREACHK_0DIG_TO_180             P             00000AB8   8838  8897*
_AUTO_OF                                  IMPT 00000000   5423 
_AUTO_ON                                  IMPT 00000000   5422 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3666 12502 27284 
_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3659 
_BANK2_CPOS_ABS_POS_SET                   IMPT 00000000   6114 27288 27355 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3664 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3663 27340 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3660 
_BANK2_TO_BANK1_MOV                       IMPT 00000000   6115 27337 
_BANK_CHK_NEXT_CYCL_STR1         P             000059B0  11786 26755 27321*
_BANK_CNT_STEP_NEXT_CHK          P             00005638  11016 11049 26544*
_BANK_CNT_STOP_CHK_TYP1          P             00005A88  11867 26817 27506*
_BANK_LENGH_ADD_CALC_SV_TYPE     P             00002C24  16029*27232 
_BASE_TIM010MS                            IMPT 00000000   2481 
_BASE_TIM100MS                            IMPT 00000000   2482 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4425 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   610

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4424 
_BBN_MESURE_POINT                         IMPT 00000000   4419 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4409 
_BBN_MESURE_PSPD                          IMPT 00000000   4411 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4410 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4405 
_BBN_MESURE_SSPD                          IMPT 00000000   4407 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4406 
_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4423 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4417 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4414 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4416 
_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4413 
_BBN_SET_TIME                             IMPT 00000000   4420 
_BKTMCL_ACCDAT                            IMPT 00000000   4611 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4612 
_BKTMCL_ACCPOINT                          IMPT 00000000   4614 
_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4628 
_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4636 
_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4635 
_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4641 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4642 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4643 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4638 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4646 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4647 
_BKTMCL_ENC_DIR                           IMPT 00000000   4619 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4618 
_BKTMCL_POINTMAX                          IMPT 00000000   4615 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4630 
_BKTMCL_SPDBUF                            IMPT 00000000   4610 
_BKTMCL_STOP_SPD                          IMPT 00000000   4634 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4627 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4629 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4623 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4624 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4626 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3412 
_BRK1_CHKDLY_TM                           IMPT 00000000   3400 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3408 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3407 
_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3406 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3405 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3403 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3404 
_BRK1_SV_DN_ACC                           IMPT 00000000   3411 30087 30119 
_BRK2_CHKDLY_TM                           IMPT 00000000   3401 
_BRK2_SV_DN_ACC                           IMPT 00000000   3413 29325 30155 
_BRKTST_AREA_SIG                          IMPT 00000000   4150 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4160 
_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4161 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4158 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4159 
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4140 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   611

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4153 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4152 
_BRKTST_INPUT_CMD                         IMPT 00000000   4143 23998 24131 24318 
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4155 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4154 
_BRKTST_MOD_FLG                           IMPT 00000000   4138  9281 
_BRKTST_OBJ_MAKE                 P             00006FB8  32306 32474*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4139 32530 
_BRKTST_POS_CTL                  P             00006D38   9288 32046*
_BRKTST_POS_START                P        EXPT 00006E90  32043 32292*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4147 32595 
_BRKTST_STR_FLG                           IMPT 00000000   4148 32429 
_BRKTST_SW_IN                             IMPT 00000000   4149  8413 
_BRK_CHK_COM                              IMPT 00000000   3397 
_BRK_CHK_FLG                              IMPT 00000000   3398 
_BRK_ERR_CHK_START4                       IMPT 00000000   6108 10920 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6104  9746 11945 13254 14662 26863 32154 
_BTTN_FLG                                 IMPT 00000000   2549 15145 15305 30730 
_BTTN_ON_TIME                             IMPT 00000000   3689 
_BVLV_CTL_FLG                             IMPT 00000000   4797 
_BVLV_CTL_ON                              IMPT 00000000   4798 
_BVLV_START_IN                            IMPT 00000000   4801 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3170 20865 21570 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2895 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2894 
_CALC_MISS_FLG1                           IMPT 00000000   3772 28006 28040 28074 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2076* 9022  9031  9065 
_CALC_PLS_MMIN_L32                        EQU  00000001   2077* 9020  9030  9066 
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2072* 9012  9017  9059 
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2073* 9010  9016  9060 
_CALC_ROT_MAX                             EQU  60000000   2068*
_CAM_1STEP_END_SIG1              P             000039F4  11340 19465*
_CAM_1STEP_END_SIG2              P             00003A18  11553 19491*
_CAM_CNT_CHG_FLG                          IMPT 00000000   3269  9439 10259 11634 11777 12721 26836 32095 
_CAM_CTL_STEP                             IMPT 00000000   2625 
_CAM_DT_FLG                               EQU  0000000E   2186*
_CAM_INF_D1                               EQU  00000010   2187*
_CAM_INF_D2                               EQU  00000012   2188*
_CAM_NOW_DIG                              IMPT 00000000   3266 
_CAM_OF_DGT                               EQU  0000000C   2185*
_CAM_OF_DIG                               EQU  00000008   2182* 2183 
_CAM_OF_DIR                               EQU  0000000A   2184*
_CAM_OF_STP                               EQU  00000006   2181*
_CAM_OF_TIM                               EQU  00000008   2183*
_CAM_OLD_DIG                              IMPT 00000000   3267 
_CAM_ON_DIG                               EQU  00000002   2179*
_CAM_ON_DIR                               EQU  00000004   2180*
_CAM_ON_STP                               EQU  00000000   2178*
_CAM_OUTPUT_DT                            IMPT 00000000   3260 
_CAM_OUTPUT_SW                            IMPT 00000000   3258 
_CAM_POS_CTL_STEP                         IMPT 00000000   3268 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3025 19475 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3026 19501 
_CAM_SELECT_SW                            IMPT 00000000   3259 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   612

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CAM_START_FLG                            IMPT 00000000   3261 
_CAM_START_MODE                           IMPT 00000000   3262 
_CAM_STEP_MAX                             IMPT 00000000   3265 
_CAM_STEP_NO                              IMPT 00000000   3263 
_CAM_STEP_NO_OLD                          IMPT 00000000   3264 
_CAM_STRCUT                               EQU  00000014   2177*
_CBSTS_LOAD_FLG                           IMPT 00000000   4560 
_CBSTS_SAVE_CMDWK                         IMPT 00000000   4568 
_CBSTS_SAVE_DAT                           IMPT 00000000   4577 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_ERR_INFO_MEM                          EQU  00000040    137*24727 
_CB_INT_START_OK                          IMPT 00000000   2478 
_CB_IN_HANYO                              IMPT 00000000   4836 
_CB_SEQ_CB_COM340                         IMPT 00000000   3011 11373 
_CB_SEQ_CB_COM345                         IMPT 00000000   3014 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5382 
_CB_SEQ_CB_COM346                         IMPT 00000000   3015  9102 28125 28167 28461 
_CB_SEQ_CB_COM347                         IMPT 00000000   3016 
_CB_SEQ_CB_COM348                         IMPT 00000000   3017 
_CB_SEQ_CB_COM349                         IMPT 00000000   3018  7898  8393 22745 31388 
_CB_SEQ_CB_COM350                         IMPT 00000000   3020 
_CB_SEQ_CB_COM351                         IMPT 00000000   3021 23513 
_CB_SEQ_CB_COM352                         IMPT 00000000   3022 
_CB_SEQ_CB_COM356                         IMPT 00000000   5281  7947 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3012  6713  7526  7586 14788 32674 32735 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3013  7579 
_CB_SEQ_SW_SEL022                         IMPT 00000000   3006 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3007 
_CB_SEQ_SW_SEL028                         IMPT 00000000   3008 11733 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3009 
_CB_SEQ_SW_SEL058                         IMPT 00000000   4886 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_ACCTBL1_CNT                       IMPT 00000000  34735 35524 
_CB_SYS_ACCTBL1_IN_TOP                    IMPT 00000000  34736 35525 
_CB_SYS_ACCTBL2_CNT                       IMPT 00000000  34737 
_CB_SYS_ACCTBL2_IN_TOP                    IMPT 00000000  34738 
_CB_SYS_ACCTBL3_CNT                       IMPT 00000000  34739 
_CB_SYS_ACCTBL3_IN_TOP                    IMPT 00000000  34740 
_CB_SYS_DNMTBL1_CNT                       IMPT 00000000  34733 
_CB_SYS_DNMTBL1_DATA_TOP                  IMPT 00000000  34734 
_CB_SYS_PARAM000                          IMPT 00000000   6162  7013  7143  7160  7205 13453 15747 15759 15776 20831 21472 21497 
                                                         21681 22687 22960 22969 23344 23416 23464 23522 31258 31318 31395 
_CB_SYS_PARTBL001                         IMPT 00000000  34721 
_CB_SYS_PARTBL002                         IMPT 00000000  34722 
_CB_SYS_PARTBL003                         IMPT 00000000  34723 
_CB_SYS_PARTBL004                         IMPT 00000000  34724 
_CB_SYS_PARTBL005                         IMPT 00000000  34725 
_CB_TIME                                  EQU  0000000A   1995* 2008  2009  2010  2015 
_CB_TRD_BEFORE                            EQU  00000060    127*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   613

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3511  6555 32349 
_CGRF_GENSOK_LNG1                         EQU  00000014  26021*
_CGRF_SYNC_ERR                            EQU  00000020  26026*
_CGRF_SYNC_STS                            EQU  0000001E  26025*
_CGRF_iADD_PLS                            EQU  00000010  26020*
_CGRF_iNOW_STEP                           EQU  0000001C  26024*
_CGRF_iSTEP_FRQ                           EQU  00000018  26022*
_CGRF_iSTEP_PV_PLS                        EQU  00000004  26017*
_CGRF_iSTEP_REST                          EQU  00000008  26018*
_CGRF_iSTEP_SV_PLS                        EQU  00000000  26016*
_CGRF_iSTEP_TIM                           EQU  0000001A  26023*
_CGRF_iTOTAL_PLS                          EQU  0000000C  26019*
_CGRF_yADD_PLS                            EQU  00000034  26032*
_CGRF_yNOW_STEP                           EQU  0000003E  26035*
_CGRF_ySTEP_FRQ                           EQU  00000038  26033*
_CGRF_ySTEP_PV_PLS                        EQU  00000028  26029*
_CGRF_ySTEP_REST                          EQU  0000002C  26030*
_CGRF_ySTEP_SV_PLS                        EQU  00000024  26028*
_CGRF_ySTEP_TIM                           EQU  0000003C  26034*
_CGRF_yTOTAL_PLS                          EQU  00000030  26031*
_CHG_LSI_LATE_TO_PLS             P        EXPT 00006580   6221 23436 23484 23556 30196*
_CHG_STEP_INFO_MAKE_1STEP_END    P             000051FC  25077 25121*
_CHG_STEP_INFO_MAKE_2STEP_END    P             00005274  25092 25207*
_CHG_STEP_INFO_MAKE_ESTEP_AFTER  P             00005144  24970*26868 
_CHG_STEP_INFO_MAKE_ESTEP_BEFOR  P             000050CC  24883*26724 
_CHG_STEP_INFO_MAKE_STEP_DAT     P             00005028  12730 24765*26728 26872 
_CHG_STEP_INFO_MAKE_STEP_END     P             000051BC  12726 25060*
_CHKPOSANSDIG                             IMPT 00000000   4731 
_CHKPOSWORK1                              IMPT 00000000   4718 
_CHKPOSWORK2                              IMPT 00000000   4719 
_CHKPOSWORKANS                            IMPT 00000000   4724 
_CHKSPDANSPER                             IMPT 00000000   4723 
_CHKSPDPERWORK1                           IMPT 00000000   4726 
_CHKSPDPERWORK2                           IMPT 00000000   4727 
_CHKSPDPOSINFO                            IMPT 00000000   4729 
_CHKSPDPOSOFS                             IMPT 00000000   4730 
_CHKSPDWORK1                              IMPT 00000000   4716 
_CHKSPDWORK2                              IMPT 00000000   4717 
_CHKSPDWORKANS                            IMPT 00000000   4720 
_CHKSPDWORKTMAX                           IMPT 00000000   4722 
_CHKSPDWORKVMAX                           IMPT 00000000   4721 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4249 23792 23797 24202 24738 
_CHK_CLK_SIG                              IMPT 00000000   4762 
_CHK_DNM_SPEC_MOD1                        IMPT 00000000   6035  9336 29989 34817 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   3998 19145 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   3997 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   3214 
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2761 19594 19634 
_CLS_KJYU_PLS_CHANGE             P             0000465A  22435*22613 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   614

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CLS_POS_LENGTH_ADD_DATA         P             00004466  21984*22249 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2760 19589 19624 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3578 25575 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3572 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3575 25566 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3569 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3577 25572 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3571 
_CMP2_NOW_NG_CNT                          IMPT 00000000   3579 25578 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3573 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3576 25569 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3570 
_CMPAB_NEAR_END_PROC                      IMPT 00000000   6082 11198 20726 20929 
_CMPAB_STEP_END_PROC                      IMPT 00000000   6083 11524 13521 13695 
_CMPCYC_END_CLR                           IMPT 00000000   6093 
_CMPCYC_START_CLR                         IMPT 00000000   6092  6568 26843 32362 
_CMPEMG_EXQ_FLG_CLR                       IMPT 00000000   6095 
_CMPSTEP_CNT_STOP                         IMPT 00000000   2669 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2665 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2664 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2668 
_CMPSTEP_POS_START                        IMPT 00000000   2666 
_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2667 
_CMPSTEP_STEP_END                         IMPT 00000000   2670 11469 31724 31769 
_CMPSTP_CNT_STOP_CLR                      IMPT 00000000   6090  6572 32366 
_CMPSTP_CTRL_BUSY_CLR                     IMPT 00000000   6086 
_CMPSTP_CTRL_REDY_CLR                     IMPT 00000000   6085 
_CMPSTP_NEAR_ZERO_CLR                     IMPT 00000000   6089 11245 
_CMPSTP_POS_START_CLR                     IMPT 00000000   6087 
_CMPSTP_SFTY_AUTO_CLR                     IMPT 00000000   6088 
_CMPSTP_STEP_END_CLR                      IMPT 00000000   6091 11545 13537 13711 
_CMP_BRK2_CTLGENSOK              P        EXPT 000061BC  29273 29287*
_CMP_CNT_CTLGENSOK               P             00006148  27601 29202*
_CMP_ERR_CHK_STSA                         IMPT 00000000   2878 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2879 
_CMP_ERR_STEP_A                           IMPT 00000000   2884 
_CMP_ERR_STEP_B                           IMPT 00000000   2885 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2880 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2881 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2882 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2883 
_CMP_ERR_STS_REF                 P             00003B10  19677*
_CMP_ERR_TIM1                             IMPT 00000000   2581 
_CMP_HOLD_CTLGENSOK              P        EXPT 00006218  29359 29360*
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3682 26526 
_CMP_POSLSI_CTLGENSOK            P             000060EC  29128*34021 38495 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3887 
_CMP_RECOVER_FLG                          IMPT 00000000   3992 27621 
_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3683 26529 
_CMP_SPD_REST_PLSCHKCOM          P             00007830  29171 29254 29329 29405 34313*
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2583 
_CNTREST_HOS_RESET               P        EXPT 00006978   6549 31162 31169*32343 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3669 27814 
_CNT_BEF_LOT_SIGCHK              P             00005A68   6933 27367 27473*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   615

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CNT_GPOINT_STOP_TYP2            P             00005AE0  26694 27581*
_CNT_GRF_1BLOCK                           EQU  00000040  26015*
_CNT_GRF_I_DATA                           IMPT 00000000   5375 
_CNT_GRF_MAX                              EQU  000000C8  26013*
_CNT_GRF_POINT                            IMPT 00000000   5377 25666 
_CNT_GRF_Y_DATA                           IMPT 00000000   5376 
_CNT_HOSEI_CHK_CALC              P             00006874  10161 30877*
_CNT_HOS_DT_MAK                  P             0000552C  25833*
_CNT_NEAR_TIM_CHK                P             00001AC0  12263*
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3936 11097 25760 
_CNT_REST_CHK_CLR                P             000054A4  25583 25728*
_CNT_REST_HOSEI_SPD_TYP          P             00006958  31142*33807 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3675 31111 31115 31151 31178 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3676 31109 31146 31175 
_CNT_SPD_SET                     P             00005924  26786 27100 27196*
_CNT_STOP_CMD                             IMPT 00000000   2504 30738 
_CNT_STOP_CMD_BEF1                        IMPT 00000000   4386 27478 
_CNT_STOP_CMD_DATA_SUB1          P             00005BF0  27538 27683 27854*
_CNT_STOP_CMD_DATA_SUB2          P             00005C48  27687 27914*
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3656  6545 26629 26686 27511 27548 27693 32339 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5337 
_CNT_STOP_LNGTH                           IMPT 00000000   3662 
_CNT_STOP_WAIT_TIM                        IMPT 00000000   5336 11476 11520 
_CNT_SUB_DATA_CALC               P             00005B90  27526 27592 27774*
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3951 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3952 25750 31100 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3934 25757 
_CNT_SYNC_HOS_CALC               P             00005534  25850*
_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3953 25763 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3948 25741 31117 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3949 25744 30963 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3950 25747 25806 
_CNT_SYNC_HOS_SPD_TYP            P             0000687C  30958*
_CNT_SYNC_STS_FLG                         IMPT 00000000   3935 25754 
_CNT_VMODE_NEXT_CYCL_START       P             00005700  26670 26719*
_CONT_MOD_CNT_PV                          IMPT 00000000   3082 
_CONT_MOD_TIM_PV                          IMPT 00000000   3084 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3668 27627 27820 27859 27918 29211 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3329 
_COP_DIG_SIG_FLG                          IMPT 00000000   3328 
_COP_OLD_ENC3600                          IMPT 00000000   3347 
_CPOS_ABS_POS_SET                         IMPT 00000000   6046 12520 27422 
_CPOS_BANK_USELFUL                        IMPT 00000000   3655  9581 11008 11043 11828 27278 27326 
_CPOS_CTL_MATH                            IMPT 00000000   2745  6439  7047  9556 10889 11822 12209 12394 12493 12636 14853 18814 
                                                         18889 23991 24123 24311 27399 
_CPOS_DND_DIGTOP                          IMPT 00000000   3764 13861 13871 13895 13905 
_CPOS_DND_PLSTOP                          IMPT 00000000   3765 14013 14025 
_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3763 13799 13830 
_CPOS_DND_STOP_SW                         IMPT 00000000   3761  7380 13643 13718 13787 13823 13990 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3762 13789 13825 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4821 23148 
_CPOS_INI1_DTMOV1                         IMPT 00000000   6043  6517 
_CPOS_INI1_DTMOV2                         IMPT 00000000   6044  6825 31613 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4823 23155 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   616

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPOS_MOD_FLG1                            IMPT 00000000   2744 11492 26610 26646 26778 
_CPOS_ROT_NUM_SET                         IMPT 00000000   6045 12513 27347 27415 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2742 12610 22319 31978 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3657 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2739 11623 22366 22497 26553 27149 
_CPOS_SDAT1_INF1                          IMPT 00000000   2740 10444 12619 22113 
_CPOS_SDAT1_NUM                           IMPT 00000000   2741 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2736 12381 
_CPOS_SDAT1_SPD                           IMPT 00000000   2737 10327 10409 10667 12710 27204 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2743 10345 10433 10684 26572 26965 27039 27077 27781 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3658 26970 27044 27081 
_CPOS_SDAT1_TIM                           IMPT 00000000   2738 11264 23075 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2764 
_CPOS_SDAT1_UP_POS                        IMPT 00000000   2765 31959 
_CPOS_SPD_DTMOV                           IMPT 00000000   6047 12526 27435 
_CPOS_STEP_MAX                            IMPT 00000000   2746 10550 11295 11625 12680 20665 22545 23136 26555 27151 27779 
_CPOS_TIM_DTMOV                           IMPT 00000000   6048 12531 27440 
_CPOS_UPAREA_PLS                          IMPT 00000000   2759 12374 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5061 
_CPUA_PLS_OUTF                            IMPT 00000000  19694 19718 
_CPUBX_MEM1_BUF                           IMPT 00000000   5391 
_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5390 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5389 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5400 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5402 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5401 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5397 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5398 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5396 
_CPUB_GET_CPUA_OBJPOS            P             00006024  28863*
_CPUB_HENSA_FLG_CLR                       IMPT 00000000   6428  6465 21087 21198 21251 21340 
_CPUB_PARAM_ERR_NO                        IMPT 00000000   5158 
_CPUB_PLS_OUTF                            IMPT 00000000  19695 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5157 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5393 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5392 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5052 
_CPUD_CHK_TIME                            IMPT 00000000   5053 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5147 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5148 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   5468 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   5464 
_CPU_AB_BSY_ON_OUT                        IMPT 00000000   5466 
_CPU_AB_CED_OF_JG                         IMPT 00000000   5531 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   5527 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   5529 
_CPU_AB_CST_OF_JG                         IMPT 00000000   5520 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   5514 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   5515 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   5517 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   5518 26733 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   5546 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   5545 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   5486 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   617

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   5487 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   5506 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   5502 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   5504 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   5457 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   5453 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   5455 
_CPU_AB_STR_OF_JG                         IMPT 00000000   5479 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   5475 
_CPU_AB_STR_ON_OUT                        IMPT 00000000   5477 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   5465 
_CPU_BA_BSY_ON_JG                         IMPT 00000000   5467 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   5528 
_CPU_BA_CED_ON_JG                         IMPT 00000000   5530 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   5516 
_CPU_BA_CST_ON_JG                         IMPT 00000000   5519 27613 
_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   5548 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   5547 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   5489 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   5488 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   5503 
_CPU_BA_NZR_ON_JG                         IMPT 00000000   5505 11115 20707 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   5454 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   5456 
_CPU_BA_STEP_LOAD                         IMPT 00000000   5538 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   5476 
_CPU_BA_STR_ON_JG                         IMPT 00000000   5478 
_CPU_CTRL_CLK                             IMPT 00000000   6032 24823 24930 25017 25168 25254 
_CPU_SV_HAND_IN                           IMPT 00000000   2506 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2507 
_CPU_SV_HAND_OUT                          IMPT 00000000   2509 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3954 25492 25766 
_CTL_ENC360                               IMPT 00000000   2518  7521 32479 
_CTL_ENC360_OLD                           IMPT 00000000   4038 
_CYCLE_SPD1                               IMPT 00000000   6231 15784 31398 
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4296 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4297 
_CYCLE_TIME_DAT                           IMPT 00000000   2998 
_CYCLE_TIME_FLG                           IMPT 00000000   3000 
_CYCLE_TIME_PV                            IMPT 00000000   2999 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6067 
_CYCLE_TIME_REFLASH_END                   IMPT 00000000   6066 18884 
_CYCLE_TIME_REFLASH_START                 IMPT 00000000   6065 18830 
_CYCL_DOWN_POS_REF               P             00003824  18928 18970*
_CYCL_DSP_CNT_PV                          IMPT 00000000   3463 19003 
_CYCL_DSP_DISENB                          IMPT 00000000   3462 
_CYCL_START_CNT                           IMPT 00000000   2762 19574 
_CYC_END_POS_FLG_CLR             P        EXPT 00002DCC   9867 16146 16348 16349*
_CYC_END_POS_FLG_SET             P             00002DE0   9863 16376*
_DAIHAI_CALC_WORK1                        IMPT 00000000   4337 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4346 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4348 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4349 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4350 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   618

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DAIHAI_CALC_WORK2                        IMPT 00000000   4338 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4339 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4340 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4341 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4342 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4343 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4344 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4345 
_DAI_CMP_SMPSTART                         IMPT 00000000   2942 
_DAI_FULL_SCALE_SMPLE                     IMPT 00000000   6077  7053 
_DAI_FULL_SCALE_SMP_END                   IMPT 00000000   6078 18897 
_DAI_FULL_SCALE_SMP_INI                   IMPT 00000000   6076 18823 
_DAI_HOSEI1_FLG                           IMPT 00000000   2932 
_DAI_MOSTPOS_CMPARE                       IMPT 00000000   6074 18901 
_DAI_MOSTPOS_SMPINI                       IMPT 00000000   6072 18800 32376 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6073 
_DATA_CMP2B_R5R6_REF                      IMPT 00000000  34489 34910 34921 
_DATA_GRF_CNT_DATA_MAKE          P        EXPT 00005590  24834 26079 26081*
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   6071 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5082 
_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5083 
_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5088 
_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5084 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5089 
_DBG_CNT_GPOSINT                          IMPT 00000000   3593 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3587 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3586 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3588 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5320 31453 
_DBG_DNM_END_CNT                          IMPT 00000000   5319 31524 
_DBG_DNM_STR_CNT                          IMPT 00000000   5318 31586 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3227 22584 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3229 21892 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3226 22565 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3228 21890 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3596 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3600 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3608 
_DBG_STEP12_CHG_SPD                       IMPT 00000000   3604 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3590 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3597 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3601 
_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3609 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3605 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3591 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3598 
_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3612 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3602 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3610 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3606 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3592 
_DBG_XOR_SIG                              EQU  00080000   6015*17535 
_DEBUG_BRK_POINT1                P             00001A1C  12057*31866 
_DEBUG_BRK_POINT2                P             00001A44  11600 12103*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   619

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DEBUG_BRK_POINT3                P             00001A6C  12149*
_DEBUG_ENC360_STS                         IMPT 00000000   4650 
_DEBUG_ENC360_STS2                        IMPT 00000000   4651 
_DEBUG_MOD_CODE                           IMPT 00000000   5080 
_DEBUG_SIGNAL_OFF                P        EXPT 00005554  25926 25928*
_DEF_DAI_POS_PV                           IMPT 00000000   2971 
_DELT_POS_SPD_CHG1               P             00003D7C  20175 20225 20331*
_DELT_POS_SPD_CLR                P             00003E30  20270 20363 20472*
_DG_PS_INF_CHK1                           EQU  00000000   2195*
_DG_PS_INF_CHK2                           EQU  0000003C   2200*
_DG_PS_INF_CONT                           EQU  00000004   2196*
_DG_PS_INF_LATE                           EQU  00000010   2199*
_DG_PS_INF_STLK                           EQU  0000000C   2198*
_DG_PS_INF_UNIT                           EQU  00000008   2197*
_DIG01_CHG_DN_DATA_MAKE                   IMPT 00000000   6224 31690 
_DIG36000_CHG_RENEA1                      IMPT 00000000   6226 
_DIG_AREA_CHK0                            IMPT 00000000   5570  8911 
_DIG_AREA_CHK1                            IMPT 00000000   5571 15030 15046 
_DIG_LNGTH_CALC1                          IMPT 00000000   6054 
_DIR_FLG                                  IMPT 00000000   4050 
_DISP_ENC360                              IMPT 00000000   2522 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3001 18877 
_DISP_SV_DG_DAT                           IMPT 00000000   3313 
_DISP_SV_MM_DAT                           IMPT 00000000   3314 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   5553 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   5554 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   5567 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   5555 
_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   5568 
_DMATH_CNTROT                             EQU  00000001   2027* 7049  9558 10891 11824 12211 12495 12638 14856 18817 18892 23993 
                                                         24126 24313 27401 
_DMATH_DNDRIV                             EQU  00000004   2029* 6441  7049  9133  9558 10891 12211 12396 12638 14856 18817 18892 
                                                         19294 24126 31308 31536 31598 31662 
_DMATH_REVRSE                             EQU  00000002   2028* 7388  7447 12808 
_DMATH_UPDRIV                             EQU  00000008   2030*
_DNDINC_CTRL_STEP                         IMPT 00000000   3760 13716 13781 13837 13953 13964 14007 16163 
_DNDINC_DIRECT_MAKE1             P             000004A4   7415  7473  7517*
_DNDINC_MAKE_OBJPOS              P             00002330   7423 13985*
_DNDINC_SPD_SET                  P             00000634   7429  7484  7877*14559 
_DNDINC_STEP_MAKE                P             000021FC   7419 13777*
_DNDUPS_CLEEP_SPD_SET            P             000003C4   7330*13024 13085 13153 13203 
_DNDUPS_SPD_SET                  P             000003AC   6806  7310* 9164 13220 
_DND_1STEP_DATA_MAK1             P             000013C0   9694 10771*13572 32110 
_DND_ALL_STEP_CTRL               P             00001CDC   9926 12775*
_DND_AREA_HIS                             EQU  00000014  13776*13860 13894 
_DND_CALC_WORK                            IMPT 00000000   2788 
_DND_LNKPLS_OBJMAK1              P             000004FC   7397  7456  7612*13563 
_DND_LNK_STEP_CHECK1             P             000004D0   7393  7452  7574*13559 
_DND_NEG_STEP_CTRL               P             00002048  12814 13406*
_DND_ORGIN_SIG_FORCE_ON          P             0000200C  13300 13343*
_DND_OVERCHK_DIG                          IMPT 00000000   4250 
_DND_POS_START_DAT_INI                    IMPT 00000000   6118  6521 
_DND_ROT_STEP_CTRL               P             00002154  12828 13638*
_DND_SPD_SEQ_SET                 P             0000066C   7893  7939*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   620

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DND_TEP_STEP_CTRL               P             0000247C  12792 14302*
_DNMODE_ENDWAIT_TIM_CHK          P             00006A1C  11172 31346*
_DNMODE_ENDWAIT_TIM_SET          P             000069E4  10957 31301*
_DNM_ACC_CALC                    P        EXPT 000081F4  34488 36698 36813*
_DNM_ACC_CALFLG                           IMPT 00000000   4220 33884 34842 38377 38470 38564 
_DNM_ACC_OVER_PLS_MAK            P             000082CC  36819 36962*
_DNM_ACC_OVER_SPD_MAK            P             000083A4  36892 37103*
_DNM_AUTO_UP_DN_CALC             P             000089A4  38480 38577 38711*
_DNM_CTL_INC3600                          IMPT 00000000   4088 31695 
_DNM_CYCLE_END                   P        EXPT 00006AC8   9876 11765 31508 31513*
_DNM_CYCLE_START                 P             00006B0C   6512 11771 31576*
_DNM_DATA_CLR                    P             00006A88  16177 31443*
_DNM_DATA_REV_SET                P        EXPT 00006AB4  31482 31489*
_DNM_DEBUG_CNT                            IMPT 00000000   4691 
_DNM_DEBUG_STS1                           IMPT 00000000   4690 10965 11091 11192 11217 11750 11755 19344 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4086 
_DNM_DIR_CHG_TIM                          IMPT 00000000   4087 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5046 31551 31608 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4126 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4084 12400 31465 31540 31604 31630 31672 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4085 31679 31683 
_DNM_DIR_SET_FLG                          IMPT 00000000   4083 31463 31494 31547 31602 
_DNM_MATH_ELSE_DAT_MAKE          P        EXPT 00006B64  31646 31653*
_DNM_MAXSPM_ACCLAT_MAK                    IMPT 00000000  34709 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4739 
_DNM_MOTION_DATA_MAK             P             00007934  34825 34899*
_DNM_PLS_LSICTL_CALC             P             000087E8  33889 38366*
_DNM_RESET_AREA                           IMPT 00000000   5001 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5310 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4082 
_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4080 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4081 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4079 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4455 
_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4096 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4095 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5026 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4091 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4090  8856 
_DNM_SPD_CALC                    P        EXPT 00008110  34487 36679*38382 
_DNM_START_ACC_CALC              P        EXPT 00008076   9735 11940 34484 36557*
_DNM_STEP_ACC_CHANGE             P        EXPT 000080B4  34485 36596*36693 
_DNM_TBL_CALC                    P        EXPT 000078F0  34483 34811*
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4092 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4094 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4093 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5130 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5139 
_DPCHK_ERR_SIG                            IMPT 00000000   5129 
_DPCHK_WR_COD                             IMPT 00000000   5131 
_DPSQ022                                  EQU  0000002C   2082*
_DPSQ024                                  EQU  00000030   2083*
_DPSQ028                                  EQU  00000038   2084*
_DPSQ029                                  EQU  0000003A   2085*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   621

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DPSQ058                                  EQU  00000074   2086*
_DPSQ287                                  EQU  0000023E   2097*
_DPSQ288                                  EQU  00000240   2098*
_DPSQ340                                  EQU  000002A8   2088*
_DPSQ341                                  EQU  000002AA   2089*
_DPSQ356                                  EQU  000002C8   2090*
_DPSQ358                                  EQU  000002CC   2091*
_DPSQ359                                  EQU  000002CE   2092*
_DPSQ367                                  EQU  000002DE   2093*
_DPSQ368                                  EQU  000002E0   2094*
_DPSQ369                                  EQU  000002E2   2095*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2964 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2956 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2963 
_DRVHOS_IDO_BUF                           IMPT 00000000   2968 
_DRVHOS_IDO_CNT                           IMPT 00000000   2959 
_DRVHOS_IDO_POINT                         IMPT 00000000   2957 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2967 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2965 
_DRVHOS_USE_FLG                           IMPT 00000000   2954 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2955 
_DRVHOS_WORK_BUF                          IMPT 00000000   2969 
_DRV_ACT_FLG                              IMPT 00000000   2655 
_DRV_START_KEEP                           IMPT 00000000   3986 
_DT_100PER_0                              EQU  00000064   1999*
_DT_100PER_1                              EQU  000003E8   1998*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3323 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3322 
_DUM_SET1_DIG_TOP                         IMPT 00000000   3321 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5107 
_DUM_UPAREA_DIG0                          IMPT 00000000   3320 
_DURING_TIM_CNTINUE_CHK          P             0000699C   9482 10873 31222*
_DURING_TIM_FX                            IMPT 00000000   4653 10173 11406 11450 12540 31226 31248 
_DURING_TIM_PRESET_CALC          P             000069AC  11316 31243*
_ELSE_ERR_FLG1                            IMPT 00000000   2577 
_ELSE_ERR_FLG2                            IMPT 00000000   2578 
_EMG_OUT                                  IMPT 00000000   5408 
_EMG_POS_FLG_PROC                P        EXPT 00002CA8   6199 16141*
_EMG_SCANCUT_FLG                          IMPT 00000000   4775 
_ENC360_BITERR_CNT                        IMPT 00000000   2542 
_ENC360_BITFLW_CNT                        IMPT 00000000   2541 
_ENC360_BITNML_CNT                        IMPT 00000000   2543 
_ENC360_HEX                               IMPT 00000000   2517 
_ENC360_INDT                              IMPT 00000000   2516 
_ENC360_INOLD                             IMPT 00000000   2515 
_ENC360_LINK_AREASIG                      IMPT 00000000   3635 
_ENC360_OVER_ENC                          IMPT 00000000   3527 
_ENC360_OVER_FLG                          IMPT 00000000   3526 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3429 20219 
_ENCPLS_DELT                              IMPT 00000000   3425 20209 20261 
_ENCPLS_POINT_SEL                         IMPT 00000000   3428 20214 20266 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3426 20213 20265 
_ENCPLS_SPD_POINT                         IMPT 00000000   3427 20217 20268 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   622

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ENCPLS_SPD_TOTAL                         IMPT 00000000   3421 20212 20264 
_ENC_PLS_SPD                              IMPT 00000000   3422 20220 20277 
_ENC_PLS_SPD_CALC                P        EXPT 00003CCC  20143 20203*
_ENC_PLS_SPD_CLR                 P             00003D24  20255*
_ENC_PLS_SPD_DIR                          IMPT 00000000   3424 20218 
_ENC_SYSRST_CMD                           IMPT 00000000   2533 
_ENC_TIMEXT_FLG                           IMPT 00000000   2534 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5098 31730 31744 31779 
_ENDHAND_WAIT_TIMCNT             P             00006BB8   9258 31719*
_END_CMD_LATCH                            IMPT 00000000   2628 
_EPCHK_COM                                IMPT 00000000   4920 
_EPCHK_DLY_TIM                            IMPT 00000000   4923 
_EPCHK_ERR_TIM                            IMPT 00000000   4924 
_EPCHK_FLG                                IMPT 00000000   4921 
_EPCHK_FORCE_VONCMD                       IMPT 00000000   4927 
_EPCHK_RETRY_CNT                          IMPT 00000000   4925 
_EPCHK_STEP                               IMPT 00000000   4922 
_EPCHK_STOP_DISENB                        IMPT 00000000   5243 
_EPCHK_STS                                IMPT 00000000   4926 
_EQ_DND_MAX                               EQU  00000002   2032*
_EQ_STEP_MAX                              EQU  00000005   2025*
_EQ_STEP_MX2                              EQU  0000000A   2026*
_EQ_STOP_START_WAIT_DND                   EQU  00000064  12771*
_EQ_STOP_START_WAIT_ORG                   EQU  000001F4  12770*12917 
_ERRCHK_ENC360                            IMPT 00000000   4602 
_ERR_FIRST_ST                             IMPT 00000000   4989 28799 28810 28847 
_ERR_INFO_A01                             EQU  00000020   2251*24005 24044 
_ERR_INFO_A02                             EQU  00000022   2252*24138 24177 24195 24219 24253 
_ERR_INFO_A03                             EQU  00000024   2253*24377 24402 24424 24452 24551 
_ERR_INFO_A04                             EQU  00000026   2254*
_ERR_INFO_A05                             EQU  00000028   2255*
_ERR_INFO_A06                             EQU  0000002A   2256*
_ERR_INFO_A07                             EQU  0000002C   2257*
_ERR_INFO_A08                             EQU  0000002E   2258*
_ERR_INFO_B01                             EQU  00000030   2259*23677 
_ERR_INFO_B02                             EQU  00000032   2260*23680 
_ERR_INFO_B03                             EQU  00000034   2261*24363 
_ERR_INFO_B04                             EQU  00000036   2262*24369 
_ERR_INFO_B05                             EQU  00000038   2263*24396 
_ERR_INFO_B06                             EQU  0000003A   2264*24429 
_ERR_INFO_B07                             EQU  0000003C   2265*24557 
_ERR_INFO_B08                             EQU  0000003E   2266*
_ERR_INFO_BAKUP_START            P        EXPT 00004FB0  24648 24653*
_ERR_INFO_C01                             EQU  00000000   2243*23725 
_ERR_INFO_C02                             EQU  00000004   2244*23775 
_ERR_INFO_C03                             EQU  00000008   2245*23780 
_ERR_INFO_C04                             EQU  0000000C   2246*23785 24181 24413 
_ERR_INFO_C05                             EQU  00000010   2247*23871 
_ERR_INFO_C06                             EQU  00000014   2248*23927 24390 
_ERR_INFO_C07                             EQU  00000018   2249*23929 24350 24410 
_ERR_INFO_C08                             EQU  0000001C   2250*24353 
_ERR_INFO_DLY_TIM                         IMPT 00000000   3521  9721 11926 24325 32135 
_ERR_INFO_DT_CHK1                P             00004C84   9573 23958*
_ERR_INFO_DT_CHK2                P             00004D1C   9717  9958 11922 24088*32131 32257 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   623

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ERR_INFO_DT_CHK3                P             00004E28   9962 24294*32261 
_ERR_INFO_DT_CHK3X               P             00004F3C  24461 24497*
_ERR_INFO_DT_IN0                 P             00004B48   9252 23671*
_ERR_INFO_DT_IN1                 P             00004B6C   9577 23697*
_ERR_INFO_DT_IN2                 P             00004BA4   9614 11899 23755*
_ERR_INFO_DT_IN2A                P             00004C0C  23836*
_ERR_INFO_DT_IN3                 P             00004C14   9705 11908 23851*32120 
_ERR_INFO_DT_IN4                 P             00004C40   9725 11930 23898*32139 
_ERR_INFO_RST_CLR                P        EXPT 00004FD8  24682 24688*
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3522 24668 24698 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3523 23711 23767 23863 23910 23979 24111 24299 24657 24663 24701 
_ERR_INFO_WK_CLR                 P             00004FFC  24693 24721*
_ERR_LEV_IN2                              IMPT 00000000   4275 
_ERR_LEV_IN3                              IMPT 00000000   4276 
_ERR_LEV_IN4                              IMPT 00000000   4277 
_ERR_LEV_IN5                              IMPT 00000000   4278 
_ERR_LEV_IN6                              IMPT 00000000   4279 
_ERR_STOP_MOV_CHK                P             00003B18  10112 19698*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5294 
_EXQ_LT_GET_FLG                           IMPT 00000000   5293 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5295 
_EXQ_LT_PROC_CNT2                         IMPT 00000000   5296 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5297 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5298 
_EXQ_OUT                                  IMPT 00000000   5409 
_EXQ_POS_FLG_PROC                P        EXPT 00002D28   6200 16188 16227*
_EXQ_STOP_LEV_POS_CLR            P        EXPT 00005508  25781 25797*
_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4844 
_EXTDRV_BTTN_USE                          IMPT 00000000   4837 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4838 
_EXT_BTTN_FLG                             IMPT 00000000   4841 
_FCLS_KJYU_STEPCHG_CLR           P             000048F4   6947 11331 16290 23094*
_FCLS_NZ_TIM_SET                 P             000048D0  22776 23066*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   5560 29943 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   5561 36305 
_FPU_POS_HOKAN1                           IMPT 00000000   5573 37887 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   5558  7968 15603 15795 20422 29057 30039 30208 36264 36330 36338 36496 
                                                         37023 37038 37053 37067 37115 37642 37704 37772 37895 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   5559 
_FPU_TIM_HOKAN1                           IMPT 00000000   5574 
_FRCYCL_OF                                IMPT 00000000   5424 
_FRCYCL_ON                                IMPT 00000000   5425 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3568 29465 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3567 
_FREQ_SV_SPD                              IMPT 00000000   3500 29582 
_FR_CYL_MASK_FLG                          IMPT 00000000   2627  7222 
_FULCLS_ELSE_STS                          IMPT 00000000   4827 23226 23299 
_FULCLS_MATHED                            IMPT 00000000   4817 21140 21695 22569 22662 22722 23102 23192 23221 
_FULCLS_MAXOVER_CLR              P        EXPT 00004398   6940 16283 21731 21732*
_FULCLS_MAXOVER_ERR              P             00004348  21616 21653*
_FULCLS_MAXOVER_ERR_WT           P             0000434E  21384 21661*
_FULCLS_MAXOVER_STEP_INI         P             000043AC  20827 20966 21756*
_FULCLS_MAXPLS_CALC              P             000042D4  20787 21536*
_FULCLS_OVER_SIG                 P        EXPT 000043C0  21782 21788*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   624

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_FULCLS_TIM_SETFLG                        IMPT 00000000   4825 11305 21420 22753 22772 22802 23099 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3063 
_FUL_BEFOR_CALC                  P             000012C0  10472 10512*
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4657 20839 
_FUL_CLS_LENGH_ADD_CALC          P             000044C4  22066*
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4658 10177 20957 21619 21687 21701 21737 21762 21795 
_FUL_CLS_OBJPLS_CHK              P        EXPT 0000449C  22022 22028*22091 22101 22560 22580 
_FUL_CLS_RNADIG                           EQU  00000320   2003*
_FUL_DATA_INIT                   P        EXPT 00004548  11234 22168 22173*26858 
_FUL_PLS_START                   P             0000455C  20869 21191 22201*
_FUL_START_FUL_OBJ_SET           P             00001318  10599*
_FWD_REV_START                   P        EXPT 00003200   6215  9729 11934 13048 13110 13249 13584 14653 17511*22257 32143 
_FWD_REV_STSIG_OFF               P        EXPT 000032C0   6205  9800  9833 10010 16167 16236 17205 17257 17516 17674*20683 20796 
                                                         20997 21096 21238 21327 21371 22264 32204 
_FWD_REV_STSIG_OFF_SPEC          P        EXPT 00003300   6218 10972 12902 13426 13664 14343 14394 17732*
_GAMEN_OVER_RIDE                 P             00005E24   9308 28356*
_GENSOK_LNGTH_MAX                         EQU  00E4E1C0   6018*34333 34457 36989 
_GENSOK_SIG_MAK                  P        EXPT 00003E54  20508 20510*
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3866 
_GPOINT_HOS_CALC                 P             0000554C  25910*
_GPOSIN_HOS_DRV_INI              P             00005544   6530 25891*32324 
_GPOSIN_HOS_RESET                P        EXPT 0000553C  25874 25876*
_HENSA_DAT_MONI_MAK              P        EXPT 000055C8  26451 26453*
_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3942 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3943 
_HENSA_OVR_ENCPOS                         IMPT 00000000   2863 
_HENSA_OVR_OUTPLS                         IMPT 00000000   2862 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   5556 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   5557 
_HIST_DAT_SEND_COM                        IMPT 00000000   5369 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5368 
_HIST_EVENT_COD                           IMPT 00000000   5370 
_HIST_INFO_DT_IN1                P             00004B08   9563 23584*
_HIST_KEP_SEND_COM                        IMPT 00000000   5371 
_HLDCAM_ABS_POS_SET                       IMPT 00000000   6050 12546 27428 
_HLDCAM_BANK2_ABS_POS_SET                 IMPT 00000000   6051 27294 27361 
_INCENC_ADD                               EQU  00000000   2054*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2684 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2683 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2685 
_INCENC_SV_HENSA_MAKE            P        EXPT 00003A3C  19273 19391 19515 19522*
_INCHEN_ADD                               EQU  00000000   2053*
_INCREV_ADD                               EQU  00000000   2058*
_INCRNA_ADD                               EQU  00000000   2055*
_INCSTP_ADD                               EQU  00000000   2056*
_INC_ABS_ORGWORK                          IMPT 00000000   2910 
_INC_ABS_ORGWORK2                         IMPT 00000000   4329 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4330 
_INC_ENC360                               IMPT 00000000   2521  8905 13916 15027 15043 21608 31657 
_INC_ENC_MM_POS                           IMPT 00000000   2705 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2686 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4331 
_INC_RESET_STEP                           IMPT 00000000   5041  9451 
_INC_RESET_USE_F                          IMPT 00000000   5042  9445 12385 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   625

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_INC_RST_WORK_CLR                         IMPT 00000000   6233  9457 
_INC_STOP_CNT                             IMPT 00000000   3241 
_INC_UPLIMT_CALC                 P             00006A38   6499 31378*
_INFO_CHK1_COD                            EQU  5AA51234   2193*
_INFO_CHK2_COD                            EQU  4321A55A   2194*
_INPUT_MODE_SW                            IMPT 00000000   2576 
_INP_ERR_FLG                              IMPT 00000000   4593 11140 
_INP_MODE                                 IMPT 00000000   2608 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5106 
_INT1MS_SCAN_02MS                         IMPT 00000000   4268 
_INT1MS_SCAN_03MS                         IMPT 00000000   4269 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4270 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4271 
_INT1MS_SCAN_10MS                         IMPT 00000000   4272 
_INT_CLS_CTL_FLG                          IMPT 00000000   2829  6597 10186 20764 20821 20914 20963 20981 21091 21195 21246 21335 
                                                         21364 22177 29798 32396 34003 38451 
_INT_CLS_DYL_TIM                          IMPT 00000000   2830 20841 21016 21474 21499 
_INT_CYC_DRV_STS                          IMPT 00000000   2828  6591  6859  6995  7088  9373 10063 16151 16381 32390 
_INT_DND_CTL_STEP                         IMPT 00000000   2824  6535  9195  9433 10263 12864 12970 13165 13213 32091 32329 
_INT_DND_NEG_STEP                         IMPT 00000000   2832  7593  7616 13542 16161 
_INT_DND_STEP_FLG                         IMPT 00000000   2827  6537  9435 10265 12843 12878 12922 12954 13120 13259 13284 13411 
                                                         13460 13502 13588 13657 13743 32093 32331 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2841 
_INT_POS_CTL_END                 P             00001158  10074 10247*
_INT_POS_CTL_FLAG                         IMPT 00000000   2825  6541  9393  9489  9740  9795  9828  9881 10018 10044 10252 14657 
                                                         32050 32148 32199 32335 
_INT_POS_CTL_STEP                         IMPT 00000000   2822  9465 10256 10323 10405 10548 10663 11261 11293 11573 11619 11792 
                                                         12603 18735 19469 19495 22109 22312 22492 23072 24828 25072 26549 26768 
                                                         27086 27145 27200 31884 32101 36601 
_INT_POS_CTRL                    P        EXPT 00000C24   6196  9246*
_INT_POS_DATA_REF                P        EXPT 00003854   6197 19104*
_INT_POS_STEP_FLG                         IMPT 00000000   2826  9431  9857 10254 10847 11323 11442 11780 11950 12010 16246 26751 
                                                         32089 
_INT_SFY_INP_DAT                          IMPT 00000000   3628 
_INT_STP_INP_DAT                          IMPT 00000000   3629 
_INT_STP_INP_DAT1                         IMPT 00000000   3630 
_INT_STP_INP_DAT2                         IMPT 00000000   3631 
_INT_STP_INP_DAT3                         IMPT 00000000   3632 
_INT_TEP_RESTART                 P             000025F0  14369 14481 14598*
_IN_PARAM_RNA_CHK                         IMPT 00000000   4025 
_IN_POS_GPOINT_POS                        IMPT 00000000   3927 
_IN_RDY_FLG                               IMPT 00000000   2616 
_IRQ_EMG_CNT                              IMPT 00000000   3622 
_IRQ_EMG_FLG                              IMPT 00000000   3621 
_IRQ_SFY_CNT                              IMPT 00000000   3624 
_IRQ_SFY_FLG                              IMPT 00000000   3623 
_IRQ_STP_CNT                              IMPT 00000000   3626 
_IRQ_STP_FLG                              IMPT 00000000   3625 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4183 
_KAJLIV_TTL_POINT                         IMPT 00000000   4182 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4180 
_KAJYU_ELSE_STS_CLR              P        EXPT 000049D0   6951 16294 23256 23264*
_KAJYU_ELSE_STS_FLG_CLR          P             000049F4  23270 23294*
_KAJYU_START_UPCHK               P             00004990  20876 23217*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   626

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_KJPHOS_CAL_PRS                           IMPT 00000000   2991 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   2983 
_KJPHOS_IDO_BUF                           IMPT 00000000   2986 
_KJPHOS_IDO_CNT                           IMPT 00000000   2980 
_KJPHOS_IDO_POINT                         IMPT 00000000   2979 
_KJPHOS_IDO_TOTAL                         IMPT 00000000   2985 
_KJPHOS_SMPINI                            IMPT 00000000   6181 18804 32380 
_KJPHOS_SMPLING_END1                      IMPT 00000000   6182 18906 
_KJPHOS_USE_FLG                           IMPT 00000000   2978 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   2982 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4814 22445 22689 22863 22953 23032 23234 
_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4815 22449 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4813 22440 23158 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   2989 
_KJYUU_IN_DAT_PV                          IMPT 00000000   2988 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   2990 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4824 22881 
_KJYU_CMP_CMD                             IMPT 00000000   4883 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4889 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4888 
_KJYU_DATA_INFO_SEL              P             00004910  20635 23125*
_KJYU_NEARZERO3_CHK              P             00004850  21459 22948*23357 
_KJYU_NEARZERO_CHK               P             00004820  22683 22764 22834 22858*
_KJYU_OUT_DIRCT                  P             000048B2  22818 23027*
_KJ_AREATRD_SIG                           IMPT 00000000   4865 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4866 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3746 
_KJ_AREA_SIG                              IMPT 00000000   3745 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2469 
_LENGH_ADD_CALC                  P        EXPT 00002BA0   6210 10350 10481 10787 13036 13098 13237 15924*31996 
_LENGH_ADD_CALC_SV_TYPE          P        EXPT 00002BE4   6211 10689 15979*
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3661 14937 15937 15993 16033 27028 27872 
_LINK_1000ROT_PLS                         IMPT 00000000   4201 
_LINK_1ROT_PLS                            IMPT 00000000   2756  7762  7781  8034  8119  8138  8530  8549  8676  8710  8969 12376 
                                                         14108 14124 14146 14165 22036 22083 24188 24246 32493 
_LINK_2ROT_PLS                            IMPT 00000000   4198 
_LINK_3ROT_PLS                            IMPT 00000000   4199 
_LINK_4ROT_PLS                            IMPT 00000000   4200 
_LINK_CLANK_PV                            IMPT 00000000   3478 
_LINK_DIR_OBJMAK3                P             0000097C   8637* 9112 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3031  7964 29940 35925 36845 37243 37638 37700 37768 37891 
_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2679 
_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2678 12369 12453 12464 12477 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2680 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2681  7711  8053  8474  8661 12372 14092 
_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2750 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2749  6895 11782 
_LINK_POS_OFFSET1                         IMPT 00000000   2843 
_LINK_POS_OFFSET2                         IMPT 00000000   2844 
_LINK_PV_ABSPLS                           IMPT 00000000   2842 19529 23609 23778 24532 24801 24915 25002 25153 25239 26463 28950 
                                                         29298 30698 32485 
_LINK_P_M_MAX                    P             00000B60   7479  9054*
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2803  7797  8155  8247  8566  8738 10617 12615 14181 14541 15946 19228 
                                                         22334 26579 27021 28893 28953 30683 32488 32583 33739 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   627

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2811  7813  8171  8228  8243  8582  8753  9069 10608 10783 13032 13094 
                                                         13233 14197 14544 14895 14934 15928 15983 16042 19526 22071 23601 23723 
                                                         23773 24521 24796 24910 24997 25148 25234 26459 26480 27025 27788 27863 
                                                         29207 29292 30675 32501 33714 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2812  7316  7336  7913  9666 10329 10411 10669 10775 12712 13226 14633 
                                                         15685 15710 27206 31946 32532 
_LINK_UPPLS_A_OBJMAK1            P             000006B0   6802  8017*13081 
_LINK_UPPLS_A_OBJMAK2            P             000007B8   8219*13020 13149 
_LINK_UPPLS_A_OBJMAK3            P             00000824   8293* 9157 13198 
_LINK_UPPLS_DNDRIV               P             00000A54   8804* 9140 
_LINK_UPPLS_OBJ_SELECT1          P             00000860   8312  8387* 8816 
_LNGTH_ADD_DATA                           IMPT 00000000   2837 10268 14941 15953 16005 16055 16091 18023 22157 23783 23790 23795 
                                                         24009 24142 27876 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2838 10272 16088 18030 18106 18126 18252 18438 22001 23869 24022 24155 
                                                         24811 27922 
_LNKPLS_OBJ_DAT_MAK1             P             00000550   7640  7658  7683*
_LNKPLS_OBJ_DAT_MAK2             P             00002384  14032 14060*
_LOAD_ACCS1_LATE                 P        EXPT 00003BE8  19748 19945*
_LOAD_BASE_FREQ_PLS              P        EXPT 00003BCC  19749 19912*
_LOAD_FREQ_PLS                   P        EXPT 00003BB0  19743 19877*24790 24904 24991 25142 25228 
_LOAD_GPOINT_PLS                 P        EXPT 00003C2C  19745 20046*
_LOAD_NOW_FREQ_PLS               P        EXPT 00003C10  19744 20009*30713 
_LOAD_REST_PLS                   P        EXPT 00003B44  15445 16856 16978 17009 17065 17741 18190 18414 18504 18640 19742 19768*
                                                         23924 24347 24517 
_LOAD_SPD_LATE                   P        EXPT 00003BFC  19747 19975*
_LOD_POS_STS_REG                 P        EXPT 00003354   6216 13431 13668 14347 14398 17210 17262 17808*19703 20516 
_LOD_POS_STS_REG_IN              P             00003398  17818 17853 17890*34067 34105 38555 
_LOD_POS_STS_REG_POR             P        EXPT 0000336C   6217 10937 12895 17842*20699 20800 20921 21001 21375 
_LOD_POS_STS_REG_SLOW            P             0000336C  10037 17843*
_LONG_BIT_TBL0                            IMPT 00000000   6139 19472 19498 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3465 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3466 
_LOT_CHK_FLG                              IMPT 00000000   2648 
_LOT_CNT_FLG                              IMPT 00000000   2646 
_LOT_SIG_FLG_CLR                          IMPT 00000000   6099 11675 11997 26745 
_LOT_SIG_SET                              IMPT 00000000   6063 
_LSA1_FILETR_TIM                          IMPT 00000000   3727 
_LSA2_FILETR_TIM                          IMPT 00000000   3728 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3733 
_LSA_ENC_DIG                              IMPT 00000000   3720 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3721 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3722 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3723 
_LSA_ERR_SIG                              IMPT 00000000   3732 
_LSA_SIG_DT                               IMPT 00000000   3724 
_LSA_SIG_DT2                              IMPT 00000000   4049 
_LSA_SIG_OLD_DT                           IMPT 00000000   3725 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3726 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3584 16525 16530 16861 16944 17305 17346 17406 17447 17541 17590 17680 
                                                         17754 29664 29716 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4457 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4458 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4459 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4460 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   628

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3563 25530 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3562 25527 
_LSI_CMP_ERR_MAX                          EQU  0000000A   6011*
_LSI_G_HOS_SPD                            EQU  0000000F   6014*
_LSI_LOAD_32BIT_DATA             P             00003C48  19794 19801 19808 19889 19923 20021 20057 20082*
_LSI_LOAD_PLS                             IMPT 00000000   5167 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3552 16848 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3553 17003 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3554 17093 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3535 16844 17083 17087 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3548 25520 
_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3546 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3545 25475 25537 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3549 19826 
_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3555 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3556 18718 25523 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3557 18264 
_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3558 18679 
_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3559 18704 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3536 18094 18256 
_LSI_REST_PLS_CHK_START_CLR      P             00005330   6526 25513*32320 
_LSI_REST_PLS_CHK_STOP_CLR       P             000052F4   9808  9841 11102 16261 25467*32212 
_LSI_RETRY_ERR_MAX                        EQU  00000003   6010*17089 18258 
_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3646 29790 
_LSI_SET_SPD_MINLMT                       IMPT 00000000   3647 
_LSI_SET_SPD_SV                           IMPT 00000000   3645 
_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3496 23610 
_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3495 23602 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3497 14945 15958 16009 16059 27893 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3498 18041 27938 
_MAIN_CLK                                 IMPT 00000000   4761 
_MAIN_START_OK                            IMPT 00000000   2479 
_MCN_DBG_COD11                            EQU  00000063   2228*
_MCN_DBG_COD21                            EQU  00000059   2230*
_MCN_DBG_COD22                            EQU  00000058   2231*
_MCN_DBG_COD23                            EQU  00000058   2232*
_MCN_DBG_COD31                            EQU  0000004F   2234*
_MCN_DBG_COD32                            EQU  0000004E   2235*
_MCN_DBG_COD33                            EQU  0000004D   2236*
_MCN_FUJI_DBG1                            EQU  000004D2   2238*
_MNWR_POS_CMD                             IMPT 00000000   2772  6913  7075  9415  9789 10004 16154 16232 32073 32194 32410 
_MN_DNDINC_START                 P             000003DC   6652  7357*
_MN_POS_CTRL_ACT                 P        EXPT 00000264   6203  6990*
_MN_POS_CTRL_START               P        EXPT 00000000   6202  6431*
_MN_TEP_START                    P             00002598   7368 14528*
_MODE_SEL                                 IMPT 00000000   2609  6445  6604  7146  7210  9515  9899 10996 11285 11485 11682 12779 
                                                         13352 18071 18808 19278 23717 23916 23985 24117 24305 28406 31312 31382 
                                                         31666 
_MONI_CHG_PROC1                  P        EXPT 000052EC  25280 25296*
_MONI_CNT_HIST_INFO_DISP         P        EXPT 000055C0  26107 26436*
_MONI_CNT_NOW_INFO_DISP          P        EXPT 00005598  26106 26118*
_MONI_CNT_NOW_INFO_DSP1          P             000055A0  26158*
_MONI_CNT_NOW_INFO_DSP2          P             000055A8  26211*
_MONI_CNT_NOW_INFO_DSP3          P             000055B0  26264*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   629

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_MONI_CNT_NOW_INFO_DSP4          P             000055B8  26324*
_MONI_CPUAB_PLSDELT                       IMPT 00000000   3902 30825 30851 
_MONI_DISP_MOD                            IMPT 00000000   5373 
_MONI_RDY_STEP                            IMPT 00000000   4982 
_MONI_RESET_STEP                          IMPT 00000000   4981 
_MONI_SEINOU_CMP_OUTPUT          P             00006708  10152 30641*
_MONI_SELF_STS1                           IMPT 00000000   4983 
_MONI_SELF_STS2                           IMPT 00000000   4984 
_MOST_DISP_DAT_INI               P             00003A7C  18837 19570*
_MOST_DISP_DAT_SMP               P             00003AC0   7059 19617*
_MOTION_CYCLE_ED2                P             0000383C  11671 11993 18997*26741 
_MOTION_CYCLE_END                P             000037B4  11658 11989 18871*26737 
_MOTION_CYCLE_START              P             00003758   6581 11797 18787*26833 
_MOT_REPSTART_CALC               P             00006CB4   9538 11605 31939*
_MOT_REP_CLR                     P             00006C18  16199 18942 31821*31923 
_MOT_REP_CNT                              IMPT 00000000   5028 31826 31897 
_MOT_REP_F                                IMPT 00000000   5027  9530 11269 11564 20658 31828 31854 31861 31906 37369 
_MOT_REP_STEPCHK                 P             00006C34  11560 31843*
_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5045  6454 32299 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2582 
_MOV_ERR_FLG1                             IMPT 00000000   2579 
_MRTION_SEL                               IMPT 00000000   2614 
_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   5564 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   5563 36981 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   5565 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4710 
_M_LINK_AREASIG                           IMPT 00000000   2688 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2796 
_NEAR_IN_FLG                              IMPT 00000000   2671 11107 11121 11239 19339 19427 20713 20719 26848 
_NEAR_ZERO_IN_CHK                P             00001AD0  12285*
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4309 10452 10537 10604 31986 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4307 10541 22325 31990 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4308 
_NEG_EXITTIM                              IMPT 00000000   4679 20833 21666 
_NEG_TEPA_AREA_CHK               P             000027E0  14861 15014*
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3564 18643 24806 24920 25007 25158 25244 30669 
_NEW_TEP_CNT                              IMPT 00000000   3792 15244 15287 
_NEXT_CYCL_START1                P             00001B90   6898 12489*
_NEXT_CYCL_START2                P             00001AE8   6867 12360*
_NOW_INC_DIG_MAK                          IMPT 00000000   6069  7699  8024  8306  8654  8810 12366 14086 14548 32522 
_NOW_MOTREP_DIR                           IMPT 00000000   5029 
_NZ_TIM_CHK1                              IMPT 00000000   6111 11128 
_NZ_TIM_OUT_PV1                           IMPT 00000000   3380 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3381 11134 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3378 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3379 
_OBJDIG_CLANK                             IMPT 00000000   4682 
_OBJ_ENC360                               IMPT 00000000   2523 
_OBJ_NEAR_CHK1                   P             00000AE0   8684  8719  8944*
_OBJ_POS_DIG_MAK                          IMPT 00000000  21527 21547 
_OLD_RNAORG_POS1                          IMPT 00000000   2510 
_OPEN_ROT_NEAR1_ZERO_CHK         P             00003904  10931 19268*
_OPEN_ROT_NEAR2_ZERO_CHK         P             00003994  19386*20693 
_ORGIN2_STEP_FLG                          IMPT 00000000   4318 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   630

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ORGIN_END_FLG1                           IMPT 00000000   3053  6692 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3816 
_ORGIN_MOD2_SEL                           IMPT 00000000   3815  6707 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3817 
_ORGIN_MODE_END                           IMPT 00000000   6060 13190 
_ORGIN_MODE_INI                           IMPT 00000000   6058 13162 
_ORGIN_MODE_SMP                           IMPT 00000000   6059 12873 
_ORGIN_OBJ_POS_CTRL_ST1          P             00000B90   6721  9094*
_ORGIN_OBJ_POS_CTRL_ST2          P             00000C04   9185*12858 
_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4374 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4375 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4376 
_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2586 
_ORG_DRV_CNT_PV                           IMPT 00000000   3452 12996 13114 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2585  6699 
_ORG_END_SIG_CLR                          IMPT 00000000   6080  6810  9168 
_ORG_FIRST_OBJPLS                         IMPT 00000000   3044  8031 
_ORG_PRESET_TIM                           IMPT 00000000   2594 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3453 13003 13291 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3045  8231 
_ORIGIN_POS_CHK_INI2                      IMPT 00000000   6184 13307 
_ORIGN_180ARA_FLG                         IMPT 00000000   4010  6918  8062  8350  8849 32415 
_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3648  6793  9098  9189 13358 32404 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3439 20168 
_OUTPLS_DELT                              IMPT 00000000   3435 19199 20153 30766 
_OUTPLS_DIV                               IMPT 00000000   2846 
_OUTPLS_MOD                               IMPT 00000000   2845 10282 16094 24035 24168 
_OUTPLS_POINT_SEL                         IMPT 00000000   3438 20163 
_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3436 20162 
_OUTPLS_SPD_POINT                         IMPT 00000000   3437 20166 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3431 20161 
_OUT_PLS_SPD                              IMPT 00000000   3432 20169 
_OUT_PLS_SPD_CALC                P        EXPT 00003C74  20142 20149*
_OUT_PLS_SPD_DIR                          IMPT 00000000   3434 20167 
_OUT_UP_DN_TOTAL_CNT             P        EXPT 0000385C  19119 19121*
_OVER1_JGDIG                              EQU  00000032   2037*
_OVERH_CALC_USE                           IMPT 00000000   4676 
_OVERH_CYC_END                            IMPT 00000000   6129 18935 
_OVERH_MODE_SEL                           IMPT 00000000   4674 
_OVERLIDE_DT_SEL                          IMPT 00000000   3864 28412 
_OVERLID_CTL_DEF_SET             P             00005DF8  28248 28313*
_OVERLID_DEF_SET                 P        EXPT 00005D98   6222 28235*
_OVERLID_GMN_DEF_SET             P             00005DDC  28244 28289*
_OVERLID_SEQ_DEF_SET             P             00005DC0  28240 28265*
_OVERRIDE_CALC_LATE_SEL          P             00005F6C  28587 28630*32563 
_OVERRIDE_CALC_SPED_SEL          P             00005F98   9352 28591 28663*32567 
_OVER_DIG_CHK                    P             00004310  21052 21277 21604*
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3891 29933 
_OVER_LIDE_SEQREF                P             00005CF0   9312 28120*
_OVER_LIDE_SPD_CALC              P             0000609C  29049*33794 
_OVER_RIDE_ERR_TIMCHG            P        EXPT 00005FB0  28698 28704*
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3854 28174 28178 28188 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3852 28132 28138 28161 28201 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3853 28171 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   631

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_OVER_RIDE_USEFUL                         IMPT 00000000   3886  9345 28428 28433 28453 28478 28504 28510 28715 32552 32557 
_OVER_RID_UPDN_LAT_CALC          P             00005FE0  28764*
_OVER_RID_UPDN_LAT_DTMK          P        EXPT 00005F24  11818 26761 28564 28573*
_OVER_UPDN_DBGCNT                         IMPT 00000000   3888 28577 
_OVRLIDE_LATE_MAX                         EQU  00000064   2269*28269 28293 28317 28496 29055 30021 30033 30033 30078 30146 32544 
                                                         36979 37021 37036 37051 37065 37113 
_OVRLIDE_LATE_MULDIV             P             000064A0  28727 29930 29974*
_OutputPLS_REG_CLR               P             00002EF4  16119 16756*18170 18249 
_PAR_DNMDEND_DLY                          IMPT 00000000  31296 31318 
_PAR_INCSPD_UPLMT                         IMPT 00000000   6163 31395 
_PAR_INSERT_SMPTM                         IMPT 00000000   6161 
_PAR_KAJYU_ARASPD                         IMPT 00000000  20573 23416 
_PAR_KAJYU_CHGARA                         IMPT 00000000  20574 22969 23344 
_PAR_KAJYU_CTIM1                          IMPT 00000000  20578 21472 
_PAR_KAJYU_CTIM2                          IMPT 00000000  20579 21497 
_PAR_KAJYU_FIRST                          IMPT 00000000  20581 22687 
_PAR_KAJYU_HLDSPD                         IMPT 00000000  20572 23464 
_PAR_KAJYU_STPARA                         IMPT 00000000  20580 22960 
_PAR_MYUBRK_TIM1                          IMPT 00000000   6238  7160 
_PAR_MYUBRK_TIM2                          IMPT 00000000   6239  7143 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6240  7013 
_PAR_NEGCTL_SPDS1                         IMPT 00000000  20576 23522 
_PAR_NEGERR_ENB                           IMPT 00000000  20569 21681 
_PAR_NEG_EXITTIM                          IMPT 00000000  20570 20831 
_PAR_ORGDRV_CNT                           IMPT 00000000   6159 
_PAR_ORGDRV_MOD                           IMPT 00000000   6158 
_PAR_SELF_WAIT_TM                         IMPT 00000000   6241  7205 
_PAR_START_WAIT_DND                       IMPT 00000000  12911 13453 
_PAR_STOPTIM_SEL                          IMPT 00000000   6164 31258 
_PAR_TEP_BEFPLS                           IMPT 00000000  14286 15747 
_PAR_TEP_MINSPD                           IMPT 00000000  14287 15776 
_PAR_TEP_WATTIM                           IMPT 00000000  14285 15759 
_PAR_WTSEL_USE                            IMPT 00000000   5991  7630 13347 
_PDTRA                                    IMPT 00000000   6377 18230 18306 18370 18526 18622 25948 25980 
_PDTRB                                    IMPT 00000000  34754 36200 36389 36461 
_PLSI_CH1                                 EQU  00000000   6269*16502 16535 16866 16918 16949 17032 17310 17351 17411 17452 17548 
                                                         17595 17685 17759 17911 17940 17992 18563 19141 19150 19792 19799 19806 
                                                         19887 19921 19955 19984 20019 20055 27650 29486 29603 29669 29721 30543 
                                                         30567 30591 
_PLSI_CH2                                 EQU  00000030   6270*
_PLSI_CH_COM                              EQU  00000000   6296*20113 
_PLSOUTEND_FLG                            IMPT 00000000   5190 
_PLSOUTEND_PVPLS                          IMPT 00000000   5188 
_PLSOUTEND_SHIN                           IMPT 00000000   5189 
_PLSOUT_STEP_END_TIMSET          P             00001AD8  12296*
_PLS_AccLate1                             EQU  0000001C   6286*19955 30543 
_PLS_AccLate2                             EQU  0000001E   6287*30567 
_PLS_BasFreqL                             EQU  0000000C   6278*19921 29486 
_PLS_BitComdL                             EQU  00000000   6272*16535 16866 16949 17310 17351 17411 17452 17548 17595 17685 17759 
                                                         29669 29721 
_PLS_BitInfoL                             EQU  00000004   6274*17911 17940 
_PLS_CHG_PLS_TO_LSI              P             000063D4  29462 29578 29780*
_PLS_CtrlReg                              EQU  0000002A   6293*16502 
_PLS_ERR_HABPLS1                          EQU  000007D0   5999*24190 24248 24525 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   632

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PLS_GNpointL                             EQU  00000018   6284*20055 
_PLS_LSI_CTL_CALC                P             00007678  33903 33935*
_PLS_LSI_CTL_INI                 P             00006080  28998*33833 
_PLS_LSI_CTL_SPDCNT              P             000062E0  29543*30371 
_PLS_LSI_CTL_SPDINI              P             0000626C  29445*30348 
_PLS_LSI_CTL_SPDSET              P             000062FC  29520 29551 29571*34083 34146 38533 38627 
_PLS_LSI_CTRL                    P             0000754C  10167 33707*
_PLS_LSI_SPD_ACC_ADD             P             000077E4  34058 34244*38524 
_PLS_LSI_SPEED_OFF               P             00006088  29022*33856 34165 34205 38644 38684 
_PLS_LSI_STOP_END                P             00006350  29028 29658*
_PLS_LTCHReg                              EQU  0000007E   6297*20113 
_PLS_NowFreqL                             EQU  00000010   6280*20019 
_PLS_NowPos1L                             EQU  00000024   6290*17992 
_PLS_NowPos2                              EQU  00000028   6292*
_PLS_OUTPUT_FLG                           IMPT 00000000   3371 19713 
_PLS_OUTPUT_MAX                           EQU  00FFFFFF   6268*18421 
_PLS_OUT_END_STS                          IMPT 00000000   4744 
_PLS_OutPposL                             EQU  00000014   6282*16918 17032 18563 19792 19799 19806 27650 
_PLS_OutcntPS                             EQU  00000022   6289*19141 19150 
_PLS_SpedLate                             EQU  00000020   6288*19984 30591 
_PLS_TopFreqL                             EQU  00000008   6276*19887 29603 
_POINT_GET_SPD1                  P             000085B2  37454 37694*
_POINT_SERCH_BIG_2B              P             000086BE  37657 37977*
_POINT_SERCH_BIG_4B              P             0000872A  37757 37850 38124*
_POINT_SERCH_PLS1                P             000085D4  37739*
_POINT_SERCH_PLS_HOKAN1          P             00008630  37251 37814*
_POINT_SERCH_SPD1                P             00008568  37376 37629*
_PON_ERR_WAIT_TIM                         IMPT 00000000   5120 
_POSCANSEL_CMD                            IMPT 00000000   5309 
_POSCHG_LINK_ABSPLS_ROTNUMBER             IMPT 00000000   7993 
_POSCHG_LINK_ABSPLS_ROTNUM_OFSPL*         IMPT 00000000  22060 22077 
_POSCHG_LINK_DIG_TO_LINK_PLS              IMPT 00000000  21526 21563 
_POSCHG_LINK_ROTNUM_PLS                   IMPT 00000000   7994 
_POSCTL_CALC_ERR                          IMPT 00000000   3839 16194 16301 30249 34032 38507 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3895 28329 28638 28721 29889 30108 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3894 28326 28671 29053 36977 37019 37034 37049 37063 37111 
_POSCTL_RL_PLS                            IMPT 00000000   3826 10621 29138 29222 29370 33742 34425 
_POSCTL_RL_SPD                            IMPT 00000000   3830 16600 16643 16688 16729 29161 29244 29392 29456 29575 30654 33967 
                                                         34114 34251 36916 37032 38412 38595 38717 
_POSCTL_SET_SPD                           IMPT 00000000   3828 29450 29547 33791 
_POSCTL_STEP_CMD                          IMPT 00000000   3837 30240 30288 30316 33827 33842 33852 33984 38432 
_POSCTL_STEP_FLG                          IMPT 00000000   3838 10200 17859 20530 30243 30256 33730 33816 33838 33849 33947 33989 
                                                         34099 34137 34169 34175 34180 34209 38388 38437 38549 38569 38618 38648 
                                                         38654 38659 38688 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3833 29167 29250 33757 33783 34116 34275 37061 38597 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3835 16598 16641 16686 16727 29060 29164 29247 29322 29395 29454 29458 
                                                         29706 30397 30422 30450 30480 30482 30510 30512 30664 33965 34131 36899 
                                                         38410 38612 
_POSCTL_SV_PLS                            IMPT 00000000   3825 10612 29133 33717 34420 
_POSCTL_SV_SPD                            IMPT 00000000   3829 30648 33812 34249 37017 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3832 30659 33778 34258 37047 
_POSHLD1_CHKLST_FLG                       IMPT 00000000   4976 
_POSHLD1_GENSKPOSWK                       IMPT 00000000   4955 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4956 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   633

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   4958 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   4959 
_POSHLD1_STOPLATCH                        IMPT 00000000   4964 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4953 
_POSHLD1_STOP_STEP                        IMPT 00000000   4952 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4951 
_POSHLD_SET_DN_ACC                        IMPT 00000000   4963 29401 33755 
_POSINER_FLG                              IMPT 00000000   4905 32668 32744 32763 32775 32813 32852 32908 32948 32977 
_POSINER_MOSTPV_POS                       IMPT 00000000   4901 32869 33471 
_POSINER_OLDPV_POS                        IMPT 00000000   4900 32867 33518 33535 
_POSINER_PV_POS                           IMPT 00000000   4899 32732 32865 33066 33288 33359 33468 33572 
_POSINER_RETRY_CNT                        IMPT 00000000   4907 32697 32938 33060 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4908 32858 33501 33508 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4909 32861 33503 33549 33556 33564 
_POSINER_STS                              IMPT 00000000   4906 32709 32746 32916 32921 32955 32960 32998 33073 33294 33365 33437 
                                                         33474 
_POSINER_SV_OVRPOS                        IMPT 00000000   4903 33120 33291 
_POSINER_SV_POS                           IMPT 00000000   4902 33057 33124 33248 33574 
_POSINER_SV_STPPOS                        IMPT 00000000   4904 33132 33362 
_POSITIONER_DAIHAITO             P        EXPT 0000709C  32662 32663*
_POSITIONER_DAI_DATA             P             00007334  32712 33190*
_POSITIONER_DAI_OBJ1CMP          P             000073C8  32795 33282*
_POSITIONER_DAI_OBJ1MAK          P             00007288  32771 33052*
_POSITIONER_DAI_OBJ2CMP          P             0000740C  32834 33353*
_POSITIONER_DAI_OUT              P             00007450  32803 32842 33419*
_POSITIONER_DAI_STPCHK           P             00007474  32896 33463*
_POSITIONER_UPDN_LIMIT           P             00007310  33114 33129 33153*
_POSLSI_CHK_CNT                           IMPT 00000000   2855 19168 
_POSLSI_CHK_DLT                           IMPT 00000000   2856 19179 
_POSLSI_CHK_RESTPLS                       IMPT 00000000   2849 18418 26484 
_POSLSI_CHK_STS                           IMPT 00000000   2857 12688 18426 
_POSLSI_CMP_DATA                          IMPT 00000000   2839 10276 16123 
_POSLSI_DELT_POS                          IMPT 00000000   2840 10279 
_POSLSI_DRIV_SHIN                         IMPT 00000000   2848  7835  8192  8262  8604  8775 10190 10359 10490 10698 10795 14229 
                                                         14957 17520 18749 19181 21305 21318 21988 22236 24502 27241 29146 29230 
                                                         29306 29378 32005 34433 
_POSLSI_DRV_FRQ                           IMPT 00000000   3565 24793 24818 24907 24925 24994 25012 25145 25163 25231 25249 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2853 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2851 19211 
_POS_1STEP_DATA_MAK1             P             000011C0   9588 10314*
_POS_1STEP_DATA_MAK1CL           P             0000122C   9632 10395*12217 
_POS_1STEP_DATA_MAK2             P             00001354  10653*11834 12231 
_POS_1STEP_DATA_MAK_SEL          P             00001A94  11881 12204*
_POS_ALLSTEP_STOP_SPD_CHK        P             00001AC8  12274*
_POS_ALL_STEP_CTRL               P             00001404   9911 10826*
_POS_CALC_ERR_FLG1                        IMPT 00000000   3538 10081 16254 18165 
_POS_CALC_ERR_FLG2                        IMPT 00000000   3539 10086 16257 
_POS_CALC_ERR_INF1                        IMPT 00000000   3542 10083 
_POS_CALC_ERR_INF2                        IMPT 00000000   3543 10088 
_POS_CALC_MISS0                  P             00005C9C  14114 14153 14224 27993*
_POS_CALC_MISS1                  P             00005CB8  28027*
_POS_CALC_MISS2                  P             00005CD4  28061*
_POS_CLS_OBJPLS_PVPLS_MAKE       P             000046B0  21038 21224 22226 22536*
_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK P             0000473C  21228 22657*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   634

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_CLS_RNA_KJYU_NZ_CHEAK       P             00004784  21042 22717*
_POS_CLS_START_CONF              P             00004684  20623 21034 21220 22222 22488*
_POS_CLS_TYP1_NEAR_ZERO_CHEAK    P             000043FC  21869*22669 22729 
_POS_CLS_TYP1_POS_CTL1           P             00003E86  10897 20609*
_POS_CMP_1STEP_START_INI                  IMPT 00000000   6096  6576  9751 11955 13591 14666 32159 32371 
_POS_CNT_BANK_DTMAK1             P             0000585E   9607 26994*
_POS_CNT_BANK_DTMAK2             P             00005858  26813 26985*
_POS_CNT_BANK_DTMAK3             P             0000580C  11863 26915*
_POS_CNT_BANK_DTMAK_CM           P             00005954  27096 27226*
_POS_CNT_LAST_STEP_CHK           P             000058E8  26961 27035 27073 27128*27518 
_POS_CTRL_SQ_STS                          IMPT 00000000   2819 11068 11222 11255 19316 19321 19352 19357 19403 19408 19433 19438 
_POS_DRV_DIRECT                           IMPT 00000000   2813  7476  7530  7832  8189  8259  8601  8772 13797 13828 13854 14029 
                                                         14216 14954 15369 32508 
_POS_ENDMYUT_TIM_SET             P             0000033C   7036  7200*
_POS_ENDWAIT_TIM_SET             P             00000300   7021  7136*
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5209  7239  7273 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5208  7237  7270 
_POS_END_MYUTIG_TIMER_CLR        P             00000388   7265*16312 
_POS_END_WAIT_TIM                         IMPT 00000000   5199  7080  7165  7276 
_POS_FRQ_SPDMAX                           IMPT 00000000   3037 15792 30200 
_POS_GEN_BEFORE_LNG                       EQU  000003E8  20566*
_POS_GPOINT_POS                           IMPT 00000000   3928 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4935 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4936 33748 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4937 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4938 
_POS_HOLDABS_CALCF                        IMPT 00000000   4975 
_POS_HOLD_CMD                             IMPT 00000000   4970 
_POS_HOLD_FLG                             IMPT 00000000   4971 
_POS_HOLD_FLG_STR2CLR                     IMPT 00000000   6191  9639 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   4972 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   4973 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   4969 
_POS_LATE1                                EQU  000003E8  20565*
_POS_LATE_CALC_MAX                        EQU  000003E8  20567*
_POS_LENGTH_ADD_DATA             P        EXPT 0000340C   6213  9701 11904 13040 13102 13241 13576 14645 15471 18019*26829 32116 
_POS_LSI_ABSPLS                           IMPT 00000000   2901 
_POS_LSI_ACC1_SET                P             000066C0  30537*
_POS_LSI_ACC2_SET                P             000066D8  30561*
_POS_LSI_ACCLT1                           IMPT 00000000   3041 30541 
_POS_LSI_ACCLT2                           IMPT 00000000   3042 30565 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3537 10091 16251 17109 18286 19836 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3541 10093 
_POS_LSI_BAS_SPEED_SET           P             00006628  16594 16637 30390*
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3059 23552 
_POS_LSI_CLS_BAS_SPD_SET         P        EXPT 00006640  16682 30409 30415*
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3058 
_POS_LSI_CLS_TOP_EQ_BAS_SET1     P        EXPT 00006670  30467 30473*
_POS_LSI_CLS_TOP_EQ_BAS_SET2     P        EXPT 00006698  20859 21181 30495 30503*
_POS_LSI_CNT_LOAD_R1reg          P        EXPT 000033F8  17981 17988*
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2905 
_POS_LSI_DATA_INITAL             P        EXPT 00002E44  16416 16585*
_POS_LSI_EMG_STOP                P             000030B0   9804 10014 16171 16240 17199*32208 
_POS_LSI_EMG_STOP_CMD            P             00003110  17223 17299*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   635

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_LSI_FRQ_DATA_MAK                     IMPT 00000000  29768 29785 
_POS_LSI_HARD_INITAL             P        EXPT 00002DF4  16415 16497*
_POS_LSI_OFFSET1                          IMPT 00000000   2903 
_POS_LSI_OFFSET2                          IMPT 00000000   2904 
_POS_LSI_OLDCNT                           IMPT 00000000   2907 
_POS_LSI_SLOW_STOP               P        EXPT 000030E4   6206  9837 17251*21242 21331 
_POS_LSI_SLOW_STOP_CMD           P             00003188  17400*
_POS_LSI_SPDBAS                           IMPT 00000000   3040 29844 
_POS_LSI_SPDLAT                           IMPT 00000000   3039 30589 
_POS_LSI_SPDLATE_SET             P             000066F0  16590 30585*
_POS_LSI_SPDMAX                           IMPT 00000000   3038 15790 30202 
_POS_LSI_START_INITAL            P        EXPT 00002E70   6208  9568  9690 11808 16628*32106 
_POS_LSI_START_INITAL_TEP        P             00002EC8   9663 14629 16717*
_POS_LSI_START_INITL2            P             00002E9C   9628 16674*
_POS_LSI_TEP_BAS_SPEED_SET       P        EXPT 00006658  16723 30437 30443*
_POS_LSI_TOP_SPEED_SET           P        EXPT 00006600   6209  9669 10338 10420 10677 10779 13028 13089 13157 13207 13229 14636 
                                                         30343*30485 30515 31951 32536 
_POS_LSI_TOP_SPEED_SETX          P             00006614  12715 15714 27209 30366*
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2900 
_POS_LSI_WORK_STOP2              P             00002C8C   6586 16114*21102 22210 27973 32385 
_POS_LSI_WORK_STOP_CLR           P             00002C64  16082*16652 16694 16732 17340 17441 21106 22215 27969 
_POS_OVER_RUN_CHK1                        IMPT 00000000   6102 10099 
_POS_PLSOUT_SET_RETRY            P             00003444   9711 11916 14649 18067*32125 
_POS_PLS_OUTPUT_DATA             P        EXPT 000035C0   6214  9931 13044 13106 13245 13580 15475 18079 18138 18407*22253 32230 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3490 
_PRD_DAI_POS0                             IMPT 00000000   3488 
_PRD_DAI_POS1                             IMPT 00000000   3489 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3976 
_PRESET_PV_ABS_TO_OBJ            P        EXPT 00005FE8   6489 28794 28795*
_PRESET_PV_FLGCLR                P        EXPT 00006012  16305 28841 28842*
_PROC_2MS_PLS                             EQU  000007D0  27579*29214 
_PS_DG_INF_CHK1                           EQU  00000000   2202*
_PS_DG_INF_CHK2                           EQU  0000003C   2207*
_PS_DG_INF_CONT                           EQU  00000004   2203*
_PS_DG_INF_LATE                           EQU  00000010   2206*
_PS_DG_INF_STLK                           EQU  0000000C   2205*
_PS_DG_INF_UNIT                           EQU  00000008   2204*
_PS_TIME                                  EQU  00000002   1996*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3239 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3443 20223 20283 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3444 20172 
_PVPAB_KAJLIV_TTL                         IMPT 00000000   6188 
_PVP_CB_A_VER                             IMPT 00000000   6177 16547 16558 16878 16889 16901 16925 16936 16961 16972 17027 17041 
                                                         17052 17322 17333 17363 17374 17423 17434 17464 17475 17560 17571 17581 
                                                         17607 17618 17628 17697 17708 17771 17782 17906 17919 17935 17947 18558 
                                                         18572 18583 20103 20123 27645 27659 27670 29481 29495 29506 29598 29612 
                                                         29623 29681 29692 29733 29744 
_PVP_CPUA_TEPPLS                          IMPT 00000000  15224 15237 15280 
_PVP_CPUB_TEPPLS                          IMPT 00000000  15225 
_PVP_MONALM_A01                           IMPT 00000000  25326 
_PVP_MONALM_A02                           IMPT 00000000  25327 
_PVP_MONALM_A03                           IMPT 00000000  25328 
_PVP_MONALM_A04                           IMPT 00000000  25329 
_PVP_MONALM_A05                           IMPT 00000000  25330 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   636

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PVP_MONALM_A06                           IMPT 00000000  25331 
_PVP_MONALM_A07                           IMPT 00000000  25332 
_PVP_MONALM_A08                           IMPT 00000000  25333 
_PVP_MONALM_B01                           IMPT 00000000  25334 
_PVP_MONALM_B02                           IMPT 00000000  25335 
_PVP_MONALM_B03                           IMPT 00000000  25336 
_PVP_MONALM_B04                           IMPT 00000000  25337 
_PVP_MONALM_B05                           IMPT 00000000  25338 
_PVP_MONALM_B06                           IMPT 00000000  25339 
_PVP_MONALM_B07                           IMPT 00000000  25340 
_PVP_MONALM_B08                           IMPT 00000000  25341 
_PVP_MONALM_C01                           IMPT 00000000  25318 
_PVP_MONALM_C02                           IMPT 00000000  25319 
_PVP_MONALM_C03                           IMPT 00000000  25320 
_PVP_MONALM_C04                           IMPT 00000000  25321 
_PVP_MONALM_C05                           IMPT 00000000  25322 
_PVP_MONALM_C06                           IMPT 00000000  25323 
_PVP_MONALM_C07                           IMPT 00000000  25324 
_PVP_MONALM_C08                           IMPT 00000000  25325 
_PVP_MONALM_P01                           IMPT 00000000  25343 
_PVP_MONALM_P02                           IMPT 00000000  25344 
_PVP_MONALM_P03                           IMPT 00000000  25345 
_PVP_MONALM_P04                           IMPT 00000000  25346 
_PVX_AMPERR_TIM1                          IMPT 00000000   3177 
_PVX_AMPERR_TIM2                          IMPT 00000000   3178 
_PVX_AMPERR_TIM3                          IMPT 00000000   3179 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4734 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4715 
_PVX_DAI_POS0                             IMPT 00000000   2921 
_PVX_DAI_POS1                             IMPT 00000000   2922 32730 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4699 31333 31350 
_PVX_DYHITO_POS                           IMPT 00000000   2929 
_PVX_IAMP_VLT                             IMPT 00000000   3180 
_PVX_INPPOS_TIM1                          IMPT 00000000   3153 
_PVX_MOTINS_AG2                           IMPT 00000000   4519 
_PVX_MOTINS_AG2X                          IMPT 00000000   4520 
_PVX_MOTINS_AG3                           IMPT 00000000   4525 
_PVX_MOTINS_AG3X                          IMPT 00000000   4526 
_PVX_MOTINS_AGL                           IMPT 00000000   4522 
_PVX_MOTINS_AGLX                          IMPT 00000000   4523 
_PVX_MOTINS_DAN                           IMPT 00000000   4530 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4531 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4529 
_PVX_MOTINS_INF                           IMPT 00000000   4533 
_PVX_MOTINS_POS                           IMPT 00000000   4516 
_PVX_MOTINS_PS2                           IMPT 00000000   4515 
_PVX_MOTINS_PS3                           IMPT 00000000   4517 
_PVX_RNA_STLORK                           IMPT 00000000   2923 
_PV_ENC_SPD_PER                           IMPT 00000000   3441 20222 20281 
_PV_OUT_SPD_PER                           IMPT 00000000   3442 20171 
_PV_POWER_ON_CNT                          IMPT 00000000   6031 23675 
_R2_MUL10_ANS_R2                 P             00007ADA  35223 35300*36725 36734 
_RDY_OF                                   IMPT 00000000   5419 
_RDY_ON                                   IMPT 00000000   5418 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   637

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RDY_SFTY_LOCK                            IMPT 00000000   3712 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3713 
_REP_CAMOBJ_DIG                           IMPT 00000000   5030 
_RESET_END_OUT                            IMPT 00000000   5411 
_RESET_OUT                                IMPT 00000000   5410 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2713 
_RESET_ROTNUM_ZR                          IMPT 00000000   2712 
_RESTART_WAIT_PLS_DATA_SELECT    P             00004274  21149 21452*
_REVCHK_DRIV_SHIN                         IMPT 00000000   4600 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4601 
_REVMOD_REVDN_DIG                         IMPT 00000000   4603 
_REVRSE_BASINC_SPDCALC           P        EXPT 00004AB0  20583 20855 21174 23423 23471 23507*
_REVRSE_KAJYU1_BASINCSET         P             00004A48  23366 23411*
_REVRSE_KAJYU2_BASINCSET         P             00004A7C  23382 23459*
_REVRSE_KAJYU_AREACHK_BASSET     P             00004A08  21157 23340*
_REV_BEFORE_CHGKOUTEICHK         P             000045D8  12643 22295*
_REV_CALC_WORK0                           IMPT 00000000   3230 
_REV_CALC_WORK1                           IMPT 00000000   3231 
_REV_CALC_WORK2                           IMPT 00000000   3232 
_REV_ERR_FLG                              IMPT 00000000   5230 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5233 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5234 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4599 
_REV_LATCH_ENCPOS                         IMPT 00000000   2871 
_REV_LATCH_OUTPLS                         IMPT 00000000   2870 
_REV_LATCH_RNAPOS                         IMPT 00000000   2872 
_RL_POS_DATA_CHK                 P             00006838  10156 30821*
_RM1_CHK_OLDSTS                           IMPT 00000000   5055 
_RM1_CHK_TIME                             IMPT 00000000   5056 
_RM2_CHK_OLDSTS                           IMPT 00000000   5058 
_RM2_CHK_TIME                             IMPT 00000000   5059 
_RNAREV_ADD                               EQU  00000000   2059*
_RNASTP_ADD                               EQU  00000000   2057*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2962 
_RNA_ABS_MAXPOS                           IMPT 00000000   2941 
_RNA_ABS_MD2_C1                           IMPT 00000000   4333 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4334 
_RNA_ABS_MD2_C2                           IMPT 00000000   4335 
_RNA_ABS_MD_DT0                           IMPT 00000000   2925 
_RNA_ABS_MD_DT1                           IMPT 00000000   2926 
_RNA_ABS_MEMORG                           IMPT 00000000   2918 
_RNA_ABS_MINPOS                           IMPT 00000000   2940 
_RNA_ABS_ORGWORK                          IMPT 00000000   2909 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4327 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4328 
_RNA_ABS_POS                              IMPT 00000000   2917 19580 19645 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2939 
_RNA_ABS_WKMINPOS                         IMPT 00000000   2938 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4474 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4467 
_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4469 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4468 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4471 
_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4470 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   638

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_BBN_SET_TIME                         IMPT 00000000   4473 
_RNA_CMD_RD_CNT                           IMPT 00000000   2536 
_RNA_CMD_SND_CNT                          IMPT 00000000   2535 
_RNA_COM_ERR_CNT                          IMPT 00000000   2528 
_RNA_COM_NML_CNT                          IMPT 00000000   2529 
_RNA_CTL_POS0                             IMPT 00000000   2927 
_RNA_CTL_POS1                             IMPT 00000000   2928 19587 19622 
_RNA_ENC360                               IMPT 00000000   2520 
_RNA_HOS_DELT                             IMPT 00000000   2930 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4486 
_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2704 19592 19632 22098 22576 
_RNA_OLD_STEP                             IMPT 00000000   4489 
_RNA_POS_OFFSET1                          IMPT 00000000   2915 
_RNA_POS_OFFSET2                          IMPT 00000000   2916 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4026 
_RNA_PROTOCOL_X                           IMPT 00000000   4029 
_RNA_RESET_FLG                            IMPT 00000000   2531 
_RNA_RESET_TIM                            IMPT 00000000   2532 
_RNA_STLORK                               IMPT 00000000   2920 
_RNA_STLORK_HALF                          IMPT 00000000   4325 
_RNA_STOP_CNT                             IMPT 00000000   3240 
_RNA_TECH_POINT                           IMPT 00000000   4485 
_RNA_TECH_POSBUF                          IMPT 00000000   4484 
_ROOT_MAIN_INP                            IMPT 00000000   5379 
_ROOT_MAIN_OUT                            IMPT 00000000   5380 
_RST_DLY_TM                               EQU  000000C8   2015*
_RST_ERR_CHK_ERR                          IMPT 00000000   2876 
_RST_ERR_CHK_FLG                          IMPT 00000000   2874 13172 
_SAME_TIM                                 IMPT 00000000   2656 
_SCAN_DBG_CNT                             IMPT 00000000   4780 
_SCAN_SMP_SIG                             IMPT 00000000   4767 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4758 
_SCAN_TIM_IN                              IMPT 00000000   4763 
_SCAN_TIM_POINT                           IMPT 00000000   4759 
_SCAN_TIM_TOTAL                           IMPT 00000000   4757 
_SDATCLS_OBJMM                            IMPT 00000000   3065 
_SDATCLS_OBJPLS                           IMPT 00000000   3064 22551 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3066 21878 
_SDATCLS_TRG_STEP                         IMPT 00000000   3068 21873 22499 22541 23130 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3067 22544 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2758 11412 11420 12918 12941 12948 13456 13480 13488 20902 22794 23078 
                                                         31278 
_SELF_AD_LATCH                            IMPT 00000000   3701 
_SELF_BRK_LOCK                            IMPT 00000000   3697 
_SELF_CHK_MATHED                          IMPT 00000000   3696 
_SELF_CHK_SEL                             IMPT 00000000   2603 
_SELF_COM                                 IMPT 00000000   2601 
_SELF_FIRST_END_FLG                       IMPT 00000000   3694 
_SELF_FLG                                 IMPT 00000000   2599 
_SELF_LOCK_FLG                            IMPT 00000000   3981 
_SELF_MOV_LENGTH                          IMPT 00000000   3704 
_SELF_MOV_SPEED                           IMPT 00000000   3705 
_SELF_POS_START_WORK_CLR         P        EXPT 00005C80  27957 27964*
_SELF_SECOND_ACT_FLG                      IMPT 00000000   3699 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   639

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SELF_SECOND_STEP                         IMPT 00000000   3700 
_SELF_START_POS_LATCH                     IMPT 00000000   3703 
_SELF_START_WAIT_TM                       IMPT 00000000   2602 
_SELF_TIMING_SIG                          IMPT 00000000   3695 
_SEQ_DP_TOP                               IMPT 00000000  22743 
_SET1_ACCLAT_TIM1                         IMPT 00000000   3140 29892 
_SET1_AMP100P_VLT                         IMPT 00000000   3174 
_SET1_ARACHK_LNG1                         IMPT 00000000   3155 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4916 33197 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4912 33080 33101 33235 
_SET1_ATSLID_COEF1                        IMPT 00000000   4915 33242 33582 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4913 33083 33221 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4914 33105 33228 
_SET1_BREAK_DIG                           IMPT 00000000   3476 
_SET1_BREAK_TIM1                          IMPT 00000000   3474 
_SET1_CNT_CNT                             IMPT 00000000   3083 
_SET1_CNT_TIM                             IMPT 00000000   3081 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3166 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3167 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3168 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3185 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3187 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3186 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3189 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3188 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3191 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3190 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3193 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3192 
_SET1_DNAREA_INPX                         IMPT 00000000   3143 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3147 
_SET1_DNAREA_JUDG                         IMPT 00000000   3117 
_SET1_DNDINC_SPD1                         IMPT 00000000   3126  7944 15614 15657 
_SET1_DND_DIGTOP                          IMPT 00000000   3755 
_SET1_DND_PLSTOP                          IMPT 00000000   3756 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3754 
_SET1_DND_STOP_SW                         IMPT 00000000   3753 
_SET1_DND_UPPLS                           IMPT 00000000   3757 
_SET1_EJECAM_OFR                          IMPT 00000000   5019 
_SET1_EJECAM_ONR                          IMPT 00000000   5018 
_SET1_ENC360_HOS1                         IMPT 00000000   3157 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3169 
_SET1_INCDIR_SEL1                         IMPT 00000000   3098 
_SET1_INCENC_ELNG                         IMPT 00000000   3160 
_SET1_INCHEN_ELNG                         IMPT 00000000   3159 
_SET1_INCPLS_1REV                         IMPT 00000000   3095 
_SET1_INCPLS_HOSM                         IMPT 00000000   3100 
_SET1_INCPLS_HOSN                         IMPT 00000000   3099 
_SET1_INCPOS_KP01                         IMPT 00000000   3138 21132 21477 
_SET1_INCREV_ELNG                         IMPT 00000000   3164 
_SET1_INCRNA_ELNG                         IMPT 00000000   3161 
_SET1_INCSTP_ELNG                         IMPT 00000000   3162 
_SET1_INPPOS_TIM1                         IMPT 00000000   3152 
_SET1_INTLIM_AGL                          IMPT 00000000   4941 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   640

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_INTLIM_PLS                          IMPT 00000000   4943 
_SET1_KAJAREA_ENO                         IMPT 00000000   4853 
_SET1_KAJAREA_SEL                         IMPT 00000000   4867 
_SET1_KAJAREA_SNO                         IMPT 00000000   4852 
_SET1_KATTCH_EAG                          IMPT 00000000   4875 
_SET1_KATTCH_SAG                          IMPT 00000000   4874 
_SET1_KATTCH_SPD                          IMPT 00000000   4543 
_SET1_KJEND_DIG1                          IMPT 00000000   3744 
_SET1_KJEND_DIG2                          IMPT 00000000   4856 
_SET1_KJEND_STEP1                         IMPT 00000000   3743 
_SET1_KJSTR_DIG1                          IMPT 00000000   3742 
_SET1_KJSTR_DIG2                          IMPT 00000000   4855 
_SET1_KJSTR_STEP1                         IMPT 00000000   3741 
_SET1_LSAABN_AGL1                         IMPT 00000000   3730 
_SET1_LSAABN_AGL2                         IMPT 00000000   3731 
_SET1_MAX_KJYU                            IMPT 00000000   4186 
_SET1_MISCAM_OFR                          IMPT 00000000   5021 
_SET1_MISCAM_ONR                          IMPT 00000000   5020 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3112 
_SET1_MOTREP_CNT                          IMPT 00000000   5011 31891 
_SET1_MOTREP_SPD                          IMPT 00000000   5010 31944 
_SET1_MOTREP_STGE                         IMPT 00000000   5009 31886 
_SET1_MOTREP_STGS                         IMPT 00000000   5008 11571 31955 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5007 31848 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3102 
_SET1_MRTION_SEL1                         IMPT 00000000   3195 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3196 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3173 
_SET1_OBJARA_INPX                         IMPT 00000000   3144 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3148  8949 14120 14160 19309 19394 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3150 19285 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3220 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3206 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3201 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3209 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3213 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3254 
_SET1_OVERLIDE_COF                        IMPT 00000000   3865 28364 28369 
_SET1_PLSAHI_PLS                          IMPT 00000000   3781 14793 
_SET1_PLSALO_PLS                          IMPT 00000000   3780 14787 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3256 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3257 
_SET1_REVDAT_SPD1                         IMPT 00000000   3129 
_SET1_REVDAT_SPD2                         IMPT 00000000   3132 
_SET1_REVDAT_SPD3                         IMPT 00000000   3133 
_SET1_RNADIR_SEL1                         IMPT 00000000   3097 
_SET1_RNAORG_POS1                         IMPT 00000000   3113 
_SET1_RNAPOS_KP01                         IMPT 00000000   3139 21502 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3114 33158 
_SET1_RNAPOS_MINP                         IMPT 00000000   3115 33165 
_SET1_RNAREV_ELNG                         IMPT 00000000   3165 
_SET1_RNASTP_ELNG                         IMPT 00000000   3163 
_SET1_ROTCAM_OFR                          IMPT 00000000   5017 
_SET1_ROTCAM_ONR                          IMPT 00000000   5016 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   641

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_RPARAM_TOP1                         IMPT 00000000   3091 
_SET1_SSCURV_TIM1                         IMPT 00000000   3141 
_SET1_STDINC_SPD1                         IMPT 00000000   3128 
_SET1_TEPCTL_SPD1                         IMPT 00000000   3788 
_SET1_TEPLAT_DAT1                         IMPT 00000000   3135 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3136 
_SET1_UPAREA_DIG0                         IMPT 00000000   3219 
_SET1_UPAREA_DIG1                         IMPT 00000000   3156  8902 15025 
_SET1_UPAREA_INPX                         IMPT 00000000   3142 
_SET1_UPAREA_INPXPLS                      IMPT 00000000   3146 
_SET1_UPAREA_JUDG                         IMPT 00000000   3116 
_SET1_UPAREA_PLS0                         IMPT 00000000   3204 
_SET1_UPAREA_PLS1                         IMPT 00000000   3205  7627  8029 
_SET1_UPAREA_POS0                         IMPT 00000000   3200 
_SET1_UPAREA_POS1                         IMPT 00000000   3036 
_SET1_UPAREA_SPD0                         IMPT 00000000   3208 
_SET1_UPAREA_SPD1                         IMPT 00000000   3127  7314 
_SET1_UPAREA_TIM0                         IMPT 00000000   3212 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3130  7334 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4185 
_SET2_INTLIM_AGL                          IMPT 00000000   4942 
_SET2_INTLIM_PLS                          IMPT 00000000   4944 
_SET360_UPAREA_DIG1                       IMPT 00000000   4041 
_SET360_UPAREA_PLS1                       IMPT 00000000   4042 
_SETC_KJEND_DIG1                          IMPT 00000000   4124 
_SETC_KJEND_DIG2                          IMPT 00000000   4863 
_SETC_KJSTR_DIG1                          IMPT 00000000   4123 
_SETC_KJSTR_DIG2                          IMPT 00000000   4862 
_SETD_DEGSPD_MAX                          IMPT 00000000   3292 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4234 20418 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4235 
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4105 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4104 
_SETXY_UPAREA_DIG                         IMPT 00000000   4100 
_SETXY_UPAREA_PLS                         IMPT 00000000   4099 
_SETX_ACCERR_DLY1                         IMPT 00000000   4442 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4437 
_SETX_ACCERR_SEL                          IMPT 00000000   4447 
_SETX_BANK_USELFUL                        IMPT 00000000   3654 
_SETX_BREAK_DIG2                          IMPT 00000000   4170 
_SETX_BREAK_TIM2                          IMPT 00000000   4171 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3122 
_SETX_DAIPOS_MINP                         IMPT 00000000   3123 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3118 15037 
_SETX_DNAREA_JG_PLS                       IMPT 00000000   3119  7655 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3061 
_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3062 22032 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4820 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4454 
_SETX_INCPLS_HOSM                         IMPT 00000000   3101 
_SETX_KJEND_DIG1                          IMPT 00000000   4119 
_SETX_KJEND_DIG2                          IMPT 00000000   4859 
_SETX_KJSTR_DIG1                          IMPT 00000000   4118 
_SETX_KJSTR_DIG2                          IMPT 00000000   4858 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   642

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_KJYUCLS_OBJ                         IMPT 00000000   4822 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5110 21134 21188 21479 21504 
_SETX_LINK_UP_POS_DN                      IMPT 00000000   2699 
_SETX_LINK_UP_POS_UP                      IMPT 00000000   2698 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4431 
_SETX_MOTREP_DIR                          IMPT 00000000   5025 
_SETX_OUTPLS_HOSA                         IMPT 00000000   3109 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3110 
_SETX_OVERH_AMP                           IMPT 00000000   4673 
_SETX_OVERH_LNGTH                         IMPT 00000000   4672 
_SETX_POS_CTL_MATH                        IMPT 00000000   2732  7386  7445  9131 12806 19291 31306 31534 31596 31660 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2731 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2723 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2724 35195 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2720 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2721 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2722 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2730 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2726 
_SETX_POS_STEP_MAX                        IMPT 00000000   2733 35197 35437 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4487 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4488 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4945 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4946 
_SETX_UPAREA_DIG                          IMPT 00000000   3034 
_SETX_UPAREA_PLS                          IMPT 00000000   3032  7634  8432  8659 
_SETX_UPAREA_RNA                          IMPT 00000000   3033 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3049 15020 15039 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3051  7714  8056  8477 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3048 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3050 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4453 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3107 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3106 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3105 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3104 
_SETY_KJEND_DIG1                          IMPT 00000000   4121 
_SETY_KJEND_DIG2                          IMPT 00000000   4861 
_SETY_KJSTR_DIG1                          IMPT 00000000   4120 
_SETY_KJSTR_DIG2                          IMPT 00000000   4860 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4948 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4949 
_SET_ACC_OVRLIDE                          IMPT 00000000   3876 28322 28425 28475 28501 28636 32549 
_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3844 23440 23488 23559 29806 30508 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3842 30420 30478 
_SET_DN_ACC_LATE                          IMPT 00000000   3893 29902 33781 
_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3868 28298 28380 28423 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3867 28295 28377 28418 
_SET_NZ_TIM_DAT                           IMPT 00000000   6110 11073 11250 26853 
_SET_OVER_RIDE                   P             00005E58   9316 28402*28582 
_SET_PV_ABS_TO_OBJ               P        EXPT 00006054   6220 28806 28920*
_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3856 28197 28274 28473 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3855 28195 28271 28468 
_SET_SPDBAS_PLS                           IMPT 00000000   3843 30395 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   643

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET_SPD_OVRLIDE                          IMPT 00000000   3875 28319 28420 28470 28498 28669 32546 
_SET_UP_ACC_LATE                          IMPT 00000000   3892 29900 33776 
_SET_UP_TIM                               IMPT 00000000   2657 
_SFTYCHK_CLANK_DEG                        IMPT 00000000   5176 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5177 
_SFTYCHK_RNA_POS                          IMPT 00000000   3372 
_SFTY_CTL_IN_DAT                          IMPT 00000000   2551 
_SFTY_IN_DAT                              IMPT 00000000   2550 
_SFTY_LOCK_DLYTM                          IMPT 00000000   3975 
_SGL_CMPERR_CNTMAX                        EQU  00000014   5998*
_SGL_CMP_ERR_DT_CLR              P        EXPT 0000561C   6506 25811 26511 26520*32315 
_SH2_4B                                   EQU  00000004  26318*
_SH2_8B                                   EQU  00000008  26320*
_SH2_ADD_PLS                              IMPT 00000000   5739 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5699 
_SH2_CNT_REST_HF                          IMPT 00000000   5710 
_SH2_CNT_REST_PLS                         IMPT 00000000   5694 
_SH2_DNM_CALC_INFO                        IMPT 00000000  34891 35060 35152 
_SH2_GPOINT_LNG                           IMPT 00000000   6179 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5747 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5748 
_SH2_HD_CNT_STOP                          IMPT 00000000   6153 11706 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6145 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6143 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6151 
_SH2_HD_POS_START                         IMPT 00000000   6147 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6149 
_SH2_HD_STEP_END                          IMPT 00000000   6155 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5695 
_SH2_LOT_CNT_A                            IMPT 00000000   5706 
_SH2_LOT_STEP_A                           IMPT 00000000   5707 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5701 
_SH2_NOW_STEP                             IMPT 00000000   5745 
_SH2_PLSI_ACCS                            IMPT 00000000   5703 
_SH2_PLSI_LATE                            IMPT 00000000   5704 
_SH2_REST_PLS_RL                          IMPT 00000000   5697 
_SH2_REST_PLS_SR                          IMPT 00000000   5696 
_SH2_REST_RL_HF                           IMPT 00000000   5709 
_SH2_REST_SR_HF                           IMPT 00000000   5708 
_SH2_STEP1_FRQ                            IMPT 00000000   5727 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5722 
_SH2_STEP1_REST_P                         IMPT 00000000   5717 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5712 
_SH2_STEP1_TIM                            IMPT 00000000   5732 
_SH2_STEP2_FRQ                            IMPT 00000000   5728 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5723 
_SH2_STEP2_REST_P                         IMPT 00000000   5718 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5713 
_SH2_STEP2_TIM                            IMPT 00000000   5733 
_SH2_STEP3_FRQ                            IMPT 00000000   5729 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5724 
_SH2_STEP3_REST_P                         IMPT 00000000   5719 
_SH2_STEP3_SV_PLS                         IMPT 00000000   5714 
_SH2_STEP3_TIM                            IMPT 00000000   5734 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   644

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP4_FRQ                            IMPT 00000000   5730 
_SH2_STEP4_PV_PLS                         IMPT 00000000   5725 
_SH2_STEP4_REST_P                         IMPT 00000000   5720 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5715 
_SH2_STEP4_TIM                            IMPT 00000000   5735 
_SH2_STEP5_FRQ                            IMPT 00000000   5731 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5726 
_SH2_STEP5_REST_P                         IMPT 00000000   5721 
_SH2_STEP5_SV_PLS                         IMPT 00000000   5716 
_SH2_STEP5_TIM                            IMPT 00000000   5736 
_SH2_STEP_FRQ                             IMPT 00000000   5743 
_SH2_STEP_PV_PLS                          IMPT 00000000   5741 
_SH2_STEP_REST_P                          IMPT 00000000   5742 
_SH2_STEP_SV_PLS                          IMPT 00000000   5740 
_SH2_STEP_TIM                             IMPT 00000000   5744 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5700 
_SH2_TOTAL_PLS                            IMPT 00000000   5738 
_SH4_4B                                   EQU  00000000  26317*
_SH4_8B                                   EQU  00000000  26319*
_SH4_ADD_PLS                              IMPT 00000000   5682 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5644 
_SH4_CNT_REST_HF                          IMPT 00000000   5654 25737 25803 
_SH4_CNT_REST_PLS                         IMPT 00000000   5640 25734 
_SH4_DNM_CALC_INFO                        IMPT 00000000  34849 34890 34968 34987 35019 35059 35126 35150 
_SH4_GPOINT_LNG                           IMPT 00000000   6178 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5690 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5691 
_SH4_HD_CNT_STOP                          IMPT 00000000   6152 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6144 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6142 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6150 
_SH4_HD_POS_START                         IMPT 00000000   6146 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6148 
_SH4_HD_STEP_END                          IMPT 00000000   6154 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5641 18108 25555 
_SH4_LOT_CNT_A                            IMPT 00000000   5650 18117 25479 25542 
_SH4_LOT_STEP_A                           IMPT 00000000   5651 18737 25482 25545 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5646 
_SH4_NOW_STEP                             IMPT 00000000   5688 24830 
_SH4_PLSI_ACCS                            IMPT 00000000   5648 
_SH4_PLSI_LATE                            IMPT 00000000   5649 
_SH4_REST_PLS_RL                          IMPT 00000000   5643 18651 25561 
_SH4_REST_PLS_SR                          IMPT 00000000   5642 18198 25558 
_SH4_REST_RL_HF                           IMPT 00000000   5653  9946 25488 25551 32245 
_SH4_REST_SR_HF                           IMPT 00000000   5652 18344 25485 25548 
_SH4_STEP1_FRQ                            IMPT 00000000   5671 25014 25635 
_SH4_STEP1_PV_PLS                         IMPT 00000000   5666 25004 25620 
_SH4_STEP1_REST_P                         IMPT 00000000   5661 25009 25605 
_SH4_STEP1_SV_PLS                         IMPT 00000000   5656 24999 25590 
_SH4_STEP1_TIM                            IMPT 00000000   5676 25019 25650 
_SH4_STEP2_FRQ                            IMPT 00000000   5672 25165 25638 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5667 25155 25623 
_SH4_STEP2_REST_P                         IMPT 00000000   5662 25160 25608 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5657 25150 25593 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   645

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP2_TIM                            IMPT 00000000   5677 25170 25653 
_SH4_STEP3_FRQ                            IMPT 00000000   5673 25251 25641 
_SH4_STEP3_PV_PLS                         IMPT 00000000   5668 25241 25626 
_SH4_STEP3_REST_P                         IMPT 00000000   5663 25246 25611 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5658 25236 25596 
_SH4_STEP3_TIM                            IMPT 00000000   5678 25256 25656 
_SH4_STEP4_FRQ                            IMPT 00000000   5674 24927 25644 
_SH4_STEP4_PV_PLS                         IMPT 00000000   5669 24917 25629 
_SH4_STEP4_REST_P                         IMPT 00000000   5664 24922 25614 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5659 24912 25599 
_SH4_STEP4_TIM                            IMPT 00000000   5679 24932 25659 
_SH4_STEP5_FRQ                            IMPT 00000000   5675 25647 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5670 25632 
_SH4_STEP5_REST_P                         IMPT 00000000   5665 25617 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5660 25602 
_SH4_STEP5_TIM                            IMPT 00000000   5680 25662 
_SH4_STEP_FRQ                             IMPT 00000000   5686 24820 
_SH4_STEP_PV_PLS                          IMPT 00000000   5684 24803 
_SH4_STEP_REST_P                          IMPT 00000000   5685 24808 
_SH4_STEP_SV_PLS                          IMPT 00000000   5683 24798 
_SH4_STEP_TIM                             IMPT 00000000   5687 24825 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5645 
_SH4_TOTAL_PLS                            IMPT 00000000   5681 24813 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4004 18978 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4005 18976 19582 19647 
_SH_2B                                    EQU  00000000  30627*30747 30762 30769 
_SH_4B                                    EQU  00000000  30628*30650 30656 30661 30666 30671 30694 30709 30717 
_SH_8B                                    EQU  00000000  30629*30678 30686 30701 
_SH_CNTSTOP_FLG                           IMPT 00000000  30723 30762 
_SH_OUTPLS_DELT                           IMPT 00000000  30765 30769 
_SH_POSCTL_ACC                            IMPT 00000000  30612 30661 
_SH_POSCTL_CAL_REST                       IMPT 00000000  30618 30694 
_SH_POSCTL_HENSA                          IMPT 00000000  30619 30709 
_SH_POSCTL_LSIFREQ                        IMPT 00000000  30620 30717 
_SH_POSCTL_OFS                            IMPT 00000000  30613 30666 
_SH_POSCTL_PV_ABSPLS                      IMPT 00000000  30616 30701 
_SH_POSCTL_REST_PLS                       IMPT 00000000  30617 30671 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000  28875 30615 30686 30827 30828 
_SH_POSCTL_RL_SPD                         IMPT 00000000  30611 30656 
_SH_POSCTL_SV_ABSPLS                      IMPT 00000000  30614 30678 
_SH_POSCTL_SV_SPD                         IMPT 00000000  30610 30650 
_SH_SQ200_IN                              IMPT 00000000  30722 30747 
_SINKAKU_INF                              IMPT 00000000   3273 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3275 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3274 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3277 
_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3276 
_SINWK_CALC_SCAN                          IMPT 00000000   3285 
_SIN_RCAMOF_SW1                           IMPT 00000000   3301 
_SIN_RCAMON_SW1                           IMPT 00000000   3300 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3280 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3304 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3279 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3303 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   646

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SLIDALM_CHK_FLG                          IMPT 00000000   4362 
_SLIDALM_CHK_POS                          IMPT 00000000   4364 
_SLIDALM_CHK_TIM                          IMPT 00000000   4363 
_SLIDALM_POS_MINAS                        IMPT 00000000   4366 
_SLIDALM_POS_PULAS                        IMPT 00000000   4365 
_SPD_CTL_EMG_STOP                P             000065D8  17219 30282*
_SPD_CTL_SLOW_STOP               P             000065EC  17271 30310*
_SPD_CTL_START                   P             000065A4  17635 30233*
_SPD_PER_MAX                              EQU  00002710   1997*20420 20425 
_SPD_STEP_CHG_FWD                P             00001BFC  10978 12599*20676 
_SPD_UPLIMT_CALC                 P             000060C8  29088*33801 
_SPLCHK_FLG                               IMPT 00000000   4995 
_SPLCHK_TIM                               IMPT 00000000   4996 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5068 
_SQ_CBWK_TOP                              IMPT 00000000   6140  6561  6924 10119 10143 10182 10195 10202 11380 11397 12016 13365 
                                                         21422 21819 23162 23185 23240 23275 28143 28176 32355 32421 33000 33007 
                                                         34854 
_SQ_OVERH_CMP                             IMPT 00000000   4675 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4024 
_START_ACK_COD                            EQU  00004321    211*
_START_CNT_BANK2_MAK_CHK         P             0000597C   6871  6902 27274*
_START_FLG_AFTER_EMG                      IMPT 00000000   3354  9523 
_START_REQ_COD                            EQU  00009876    210*
_STEP_CMPERR_TIMX1                        IMPT 00000000   5329 
_STOPCHK_INC_POS                          IMPT 00000000   3238 
_STOPCHK_RNA_POS                          IMPT 00000000   3237 
_STOPPING_STOP_POS                        IMPT 00000000   2635 
_STOPPING_STOP_TIM                        IMPT 00000000   2637 
_STOPPING_TIM_FLG                         IMPT 00000000   2636 
_STOPPING_TIM_PV1                         IMPT 00000000   2638 
_STOPPING_TIM_PV2                         IMPT 00000000   2639 
_STOPPING_TIM_STOP_INI                    IMPT 00000000   6100 
_STOPPING_VLVOFF_POS                      IMPT 00000000   2634 
_STOP_360ENC_DIG                          IMPT 00000000   4057 
_STOP_ERR_LATCH                           IMPT 00000000   3475 
_STOP_LATCH                               IMPT 00000000   2617  6593 10984 11693 26624 27543 30757 32392 
_STOP_LATCH_B                             IMPT 00000000   2618  6595 11498 26616 27483 27530 27585 30751 32394 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2868 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2866 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2865 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2867 
_STOP_LTH_OUT                             IMPT 00000000   6098 11504 27700 
_STR_ENC3600_DIG                          IMPT 00000000   2785  7523 32481 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2786 
_SVCHK_SCAN                               IMPT 00000000   4694 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3223 
_SVP_ATSLID_BAKLNG                        IMPT 00000000  32656 33231 
_SVP_ATSLID_COEF1                         IMPT 00000000  32657 33238 
_SVP_ATSLID_DNOBJ1                        IMPT 00000000  32654 33217 
_SVP_ATSLID_OBJ1                          IMPT 00000000  32653 33246 
_SVP_ATSLID_UPOBJ1                        IMPT 00000000  32655 33224 
_SVP_KAJOBJ_HAB                           IMPT 00000000  22651 22866 22965 
_SVP_MACINE_SEL1                          IMPT 00000000   6034 17530 
_SVP_OBJECT_SPD_TOP                       IMPT 00000000   6227 34916 35209 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   647

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SVP_ORGLDN_DEG                           IMPT 00000000  22420 
_SVP_ORGLUP_DEG                           IMPT 00000000  22419 
_SVP_ORGRDN_DEG                           IMPT 00000000  22418 
_SVP_ORGRUP_DEG                           IMPT 00000000  22417 
_SVP_OVERLIDE_COF                         IMPT 00000000  28346 28362 
_SVP_SLPOS_DIR                            IMPT 00000000  32658 32702 
_SVP_SL_TENPOS                            IMPT 00000000  32659 33195 
_SVP_UPAREA_SPD0                          IMPT 00000000   6228 34907 35219 
_SVX_DNM_MAXSPM                           IMPT 00000000   4243 
_SVX_OBJ_SPD_OLDTOP                       IMPT 00000000  34703 34917 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3529 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3530 
_SVX_UPAREA_SPD0OLD                       IMPT 00000000  34704 34908 
_SV_CHG_FLG1                              IMPT 00000000   3316 
_SV_CHG_FLG2                              IMPT 00000000   3317 
_SV_CONST_SUB_PV                          IMPT 00000000   3944 26472 
_SV_DAT_ERR1                              IMPT 00000000   3318 
_SV_OBJ360                                IMPT 00000000   3501 21552 
_SV_POS_CTL_STEP                          IMPT 00000000   2818  6839  9453  9463 11575 11640 11790 12506 12705 16354 26766 27333 
                                                         27408 32099 
_SV_REAL_PLS                              IMPT 00000000   3945 
_SV_REAL_SUB_PV                           IMPT 00000000   3946 26496 
_SW_DEV_MASK_FLG                          IMPT 00000000   2626 
_SYNC2_ERR_HABPLS1                        EQU  00001F40  30937*30966 
_SYNC2_ERR_HOSHAB1                        EQU  0000012C  30939*30990 
_SYNC2_ERR_HOSHAB2                        EQU  00000190  30940*31005 
_SYNC2_ERR_HOSHAB3                        EQU  000001F4  30941*31019 
_SYNC2_ERR_HOSHAB4                        EQU  000003E8  30942*31034 
_SYNC2_ERR_HOSHAB5                        EQU  000005DC  30943*31048 
_SYNC2_ERR_HOSHAB6                        EQU  000007D0  30944*31062 
_SYNC2_ERR_HOSHAB7                        EQU  000009C4  30945*31076 
_SYNC2_HOS_SPD1                           EQU  00000001  30948*31009 
_SYNC2_HOS_SPD2                           EQU  00000004  30949*31023 
_SYNC2_HOS_SPD3                           EQU  00000008  30950*31038 
_SYNC2_HOS_SPD4                           EQU  00000020  30951*31052 
_SYNC2_HOS_SPD5                           EQU  00000040  30952*31066 
_SYNC2_HOS_SPD6                           EQU  00000080  30953*31080 
_SYNC2_HOS_SPD7                           EQU  00000100  30954*31091 
_SYNC2_HOS_SPD8                           EQU  00000200  30955*30972 
_SYNC_ERR_HABPLS1                         EQU  00001770   6002*
_SYNC_ERR_HOSHAB                          EQU  000007D0   6003*
_SYNC_ERR_HOSHAB_M                        EQU  00000064   6004*
_SYNC_GEN_HOS_ADD                         EQU  00000001   6008*
_SYNC_GEN_HOS_ERR                         EQU  00000064   6006*
_SYNC_GEN_HOS_HAB                         EQU  00000001   6007*
_SYS2_DT_LOAD                             IMPT 00000000  34742 34997 
_SYS_BSAME_TIM                            EQU  000001F4   2008*
_SYS_SETUP_TIM                            EQU  000007D0   2009*
_SYS_STOPPING_TIM                         EQU  00000032   2010*
_TABLE_ERR_FLG                            IMPT 00000000   2483 
_TBLACC_ACC_ADDCHK               P             00008792  37393 37477 38266*
_TBLACC_STEP_SP_MAKE             P             00008420  36858 37325*
_TBLACC_STOP_SP_MAKE             P             000083D4  36853 37230*
_TBL_ANS_ACCTIM                           IMPT 00000000   4239 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   648

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TBL_ANS_ACC_SEL                          IMPT 00000000   4241 
_TBL_ANS_MAXSPM                           IMPT 00000000   4240 
_TBL_USE_POS0                             IMPT 00000000   4238 
_TECH2_KJYU_DIG                           IMPT 00000000   4506 
_TECH2_KJYU_LNG                           IMPT 00000000   4504 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4497 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4498 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4499 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4500 
_TECH2_KJYU_LT2PLS                        IMPT 00000000   4501 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4502 
_TECH2_KJYU_PLS                           IMPT 00000000   4505 
_TECH2_KJYU_PLSX                          IMPT 00000000   4503 
_TECH2_KN_FLG                             IMPT 00000000   4507 
_TECH_USED_F                              IMPT 00000000   4544 
_TECH_WK_DIG1                             IMPT 00000000   4537 
_TECH_WK_DIG2                             IMPT 00000000   4538 
_TECH_WK_DIG3                             IMPT 00000000   4539 
_TECH_WK_DIG4                             IMPT 00000000   4540 
_TECH_WK_PLS1                             IMPT 00000000   4536 
_TEPA_ADD_LSI                    P             00002920  14438 15342*
_TEPA_PLSCNT_CHK                 P        EXPT 000028D8  14283 15274*
_TEPA_PLSCNT_CLR                 P        EXPT 000028AC  14282 15231*
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4400 15139 15299 15314 
_TEPA_START_CHK                  P        EXPT 00002860  14281 15134*
_TEP_1STEP_DATA_MAK1             P             00002730   9673 14640 14848*15467 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3802 15449 15754 
_TEP_ADD_PLS_MAK                 P             000026C0  14319 14552 14762*
_TEP_CHG_SPD1                             IMPT 00000000   3806 15539 15563 15633 15659 15682 
_TEP_CHG_SPD2                             IMPT 00000000   3807 15541 15565 15661 15707 
_TEP_CNTSMP_TIM                           IMPT 00000000   4750 14309 14565 15426 
_TEP_DND_SPD_PLS                          IMPT 00000000   4749 
_TEP_DNPOS_HIS                            EQU  00000064  15012*15041 
_TEP_DTMAK                       P        EXPT 00002AFC  15734 15741*
_TEP_FLG_CLR                     P        EXPT 0000283A  14280 15091*
_TEP_FLG_START                   P             0000284C  15108*15175 
_TEP_INPLS_FLG                            IMPT 00000000   3797 14605 14729 14779 14965 15361 
_TEP_IN_ADD                               IMPT 00000000   3791 14768 14808 15151 15248 15291 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3804 15798 29830 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3803 15625 15787 30448 
_TEP_MODE_DRV                             IMPT 00000000   3793  7361  9656 12786 15096 15113 29822 
_TEP_POS_ADD_CNT                          IMPT 00000000   3789 14362 14474 14724 14815 14868 14889 14899 15251 15437 15480 15594 
_TEP_REVPLS_LT_CLR               P             00002B8C  14356 14411 14610 14736 15881*
_TEP_REVPLS_LT_FLG                        IMPT 00000000   4751 15353 15408 15886 
_TEP_SPD_CALC1                   P             000029F8  14617 15528*
_TEP_SPD_CALC2                   P             00002A24  15458 15558*
_TEP_SPD_CALC3                   P             00002AA0  15399 15653*
_TEP_SPD_CALC_COM                P             00002A50  15535 15571 15589*
_TEP_SPD_SET                     P             00002AC0  14621 15677*
_TEP_SPD_SET_CHG                 P             00002AD8  15403 15462 15699*
_TEP_START_INIT1                 P             00002690  14503 14533 14670 14714*
_TEP_STEP_FLG                             IMPT 00000000   3794 14323 14373 14406 14485 14720 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3801 15433 15568 15772 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3800 14417 15532 15766 15769 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   649

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TEP_STEP_WTTM                            IMPT 00000000   3795 14419 14454 14567 
_TIM_1MSEC                                EQU  0000000A   1994* 2008  2009  2010  2015 
_TIM_CNT010MS_DT                          EQU  0000000A   2324*
_TIM_CNT100MS_DT                          EQU  00000064   2325*
_TIM_SEC                                  EQU  00002710   1993*
_TMP_SCI_DEBUG                            IMPT 00000000   5271 
_TRD_CLR_CMD                              IMPT 00000000   5356 
_TRD_DP_MOV_CNT                           IMPT 00000000   5362 
_TRD_DP_MOV_FLG                           IMPT 00000000   5361 
_TRD_EVENT_COD                            IMPT 00000000   5351 
_TRD_EVENT_LATCH                          IMPT 00000000   5353 
_TRD_LATE_PV                              IMPT 00000000   5358 
_TRD_LATE_SV                              IMPT 00000000   5357 
_TRD_POINT_END                            IMPT 00000000   5355 
_TRD_POINT_EVENT                          IMPT 00000000   5354 
_TRD_SIG_SET                              IMPT 00000000  18914 18916 
_TRD_SMP_DAT1                             IMPT 00000000   5342 
_TRD_SMP_DAT2                             IMPT 00000000   5343 
_TRD_SMP_DAT3                             IMPT 00000000   5344 
_TRD_SMP_DAT4                             IMPT 00000000   5345 
_TRD_SMP_DAT5                             IMPT 00000000   5346 
_TRD_SMP_DAT6                             IMPT 00000000   5347 
_TRD_SMP_DAT7                             IMPT 00000000   5348 
_TRD_SMP_DAT8                             IMPT 00000000   5349 
_TRD_SMP_FLG                              IMPT 00000000   5359 
_TRD_SMP_POINT                            IMPT 00000000   5350 
_UP360_CHK_LIST                           IMPT 00000000   4039 
_UP360_JGDIG                              EQU  00000028   2036*
_UPDN_DIRJG_DIG                           EQU  00000708   2002* 8908 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5221 
_UPLIMIT_START_F                          IMPT 00000000   4705 16183 29092 31421 
_UPLIMIT_SV_SPD                           IMPT 00000000   4704 29098 31401 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4665 
_UPMSK2_DRVSEL                            IMPT 00000000   4667 
_UPMSK2_MATH                              IMPT 00000000   4666 
_UPMSK2_MOD                               IMPT 00000000   4663 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4664 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4668 
_UPPLS1_OBJMAK_COMMON            P             000008AC   8355  8469* 8881 
_UP_ACCERR_START_INI                      IMPT 00000000   6186  9757 11961 
_UP_HOLD_DIG                              IMPT 00000000   2623 
_UP_HOLD_FLG                              IMPT 00000000   2624  7216 
_UP_HOLD_STEP                             IMPT 00000000   2620 
_UP_HOLD_STEP1                            IMPT 00000000   2621 
_UP_HOLD_STEP2                            IMPT 00000000   2622 
_USE_IN_TBL_MOV                  P        EXPT 00007B34  34495 35496*
_VALV_OFF_DIG_CLANK                       IMPT 00000000   3477 
_VALV_ON_FLG                              IMPT 00000000   4051 
_VIB_DLY_TIM                              IMPT 00000000   4193 
_VIB_GET_SET_TIM                          IMPT 00000000   4190 
_VIB_PLS_OUT_OF                           IMPT 00000000   6123 16268 34188 38667 
_VIB_PLS_OUT_ON                           IMPT 00000000   6122 17643 
_VIB_PV_UP_TIM                            IMPT 00000000   4192 
_VIB_STEP_COM                             IMPT 00000000   4189 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   650

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_VIB_STEP_FLG                             IMPT 00000000   4188 
_VIB_USE_SET_TIM                          IMPT 00000000   4191 
_VON1_OF                                  IMPT 00000000   5413 
_VON1_ON                                  IMPT 00000000   5412 
_VON2_OF                                  IMPT 00000000   5415 
_VON2_ON                                  IMPT 00000000   5414 
_VON3_OF                                  IMPT 00000000   5417 
_VON3_ON                                  IMPT 00000000   5416 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2349* 6447  6606  7148 10998 11287 11487 11684 18810 19280 28408 31314 
                                                         31668 
_W1DIC                                    EQU  00000020   2351* 9517  9901 
_W1DUP                                    EQU  00000040   2352* 6646  9517  9905 12781 13354 
_W1END                                    EQU  00000080   2353*
_W1INC                                    EQU  00000002   2347* 6447  6606 11684 11688 18810 28408 31384 31668 
_W1LNC                                    EQU  00000400   2357*
_W1LNO                                    EQU  00000800   2358*
_W1OFF                                    EQU  00000001   2346*
_W1OPT                                    EQU  00000010   2350* 6447  6606  7148 18810 28408 31668 
_W1REV                                    EQU  00004000   2365*
_W1RNC                                    EQU  00000100   2354*
_W1RNO                                    EQU  00000200   2355*
_W1RST                                    EQU  00008000   2366*
_W1SGL                                    EQU  00000004   2348* 6447  6606  7148  7212 18073 18810 23719 23918 23987 24119 24307 
                                                         28408 31668 
_W1SNC                                    EQU  00001000   2363*
_W1SNO                                    EQU  00002000   2364*
_W2LS1                                    EQU  00000004   2368*
_W2LS2                                    EQU  00000008   2369*
_W2SUP                                    EQU  00000080   2373*
_W2WT1                                    EQU  00000010   2370*
_W2WT2                                    EQU  00000020   2371*
_W2WT3                                    EQU  00000040   2372*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5072 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4811 22442 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4809 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4810 
_WAIT_TIM_CNT                    P             00001AE0  12307*
_WFSYS_MAX_STEP_SEL                       IMPT 00000000   3509 
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3508 10991 
_WKSQCB200                                EQU  00000000   2102*
_WKSQCB201                                EQU  00000002   2103*
_WKSQCB202                                EQU  00000004   2104*
_WKSQCB203                                EQU  00000006   2105*
_WKSQCB204                                EQU  00000008   2106*
_WKSQCB205                                EQU  0000000A   2107*
_WKSQCB206                                EQU  0000000C   2108* 6561 10119 10143 11380 11397 12016 13365 32355 
_WKSQCB207                                EQU  0000000E   2109* 6924 32421 
_WKSQCB208                                EQU  00000010   2110*
_WKSQCB209                                EQU  00000012   2111*
_WKSQCB210                                EQU  00000014   2112*
_WKSQCB211                                EQU  00000016   2113*
_WKSQCB212                                EQU  00000018   2114*
_WKSQCB213                                EQU  0000001A   2115*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   651

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB214                                EQU  0000001C   2116*
_WKSQCB215                                EQU  0000001E   2117*
_WKSQCB216                                EQU  00000020   2118*
_WKSQCB217                                EQU  00000022   2119*
_WKSQCB218                                EQU  00000024   2120*
_WKSQCB219                                EQU  00000026   2121*
_WKSQCB220                                EQU  00000028   2122*
_WKSQCB221                                EQU  0000002A   2123*
_WKSQCB222                                EQU  0000002C   2124*
_WKSQCB223                                EQU  0000002E   2125*
_WKSQCB224                                EQU  00000030   2126*21819 23240 23275 
_WKSQCB225                                EQU  00000032   2127*
_WKSQCB226                                EQU  00000034   2128*
_WKSQCB227                                EQU  00000036   2129*23162 23185 
_WKSQCB228                                EQU  00000038   2130*
_WKSQCB229                                EQU  0000003A   2131*
_WKSQCB230                                EQU  0000003C   2132*28143 28176 
_WKSQCB231                                EQU  0000003E   2133*10182 
_WKSQCB232                                EQU  00000040   2134*10195 
_WKSQCB233                                EQU  00000042   2135*10202 
_WKSQCB234                                EQU  00000044   2136*
_WKSQCB235                                EQU  00000046   2137*
_WKSQCB236                                EQU  00000048   2138*
_WKSQCB237                                EQU  0000004A   2139*
_WKSQCB238                                EQU  0000004C   2140*
_WKSQCB239                                EQU  0000004E   2141*
_WKSQCB240                                EQU  00000050   2142*
_WKSQCB241                                EQU  00000052   2143*
_WKSQCB242                                EQU  00000054   2144*
_WKSQCB243                                EQU  00000056   2145*
_WKSQCB244                                EQU  00000058   2146*
_WKSQCB245                                EQU  0000005A   2147*
_WKSQCB246                                EQU  0000005C   2148*
_WKSQCB247                                EQU  0000005E   2149*21422 
_WKSQCB248                                EQU  00000060   2150*
_WKSQCB249                                EQU  00000062   2151*
_WKSQCB250                                EQU  00000064   2152*
_WKSQCB251                                EQU  00000066   2153*33000 33007 
_WKSQCB252                                EQU  00000068   2154*
_WKSQCB253                                EQU  0000006A   2155*
_WKSQCB254                                EQU  0000006C   2156*
_WKSQCB255                                EQU  0000006E   2157*
_WKSQCB256                                EQU  00000070   2158*
_WKSQCB257                                EQU  00000072   2159*
_WKSQCB258                                EQU  00000074   2160*34854 
_WKSQCB259                                EQU  00000076   2161*
_WKSQCB260                                EQU  00000078   2162*
_WKSQCB261                                EQU  0000007A   2163*
_WKSQCB262                                EQU  0000007C   2164*
_WKSQCB263                                EQU  0000007E   2165*
_WKSQCB264                                EQU  00000080   2166*
_WKSQCB265                                EQU  00000082   2167*
_WKSQCB266                                EQU  00000084   2168*
_WKSQCB267                                EQU  00000086   2169*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   652

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB268                                EQU  00000088   2170*
_WKSQCB269                                EQU  0000008A   2171*
_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3520 23677 23680 23725 23775 23780 23785 23871 23927 23929 24005 24044 
                                                         24138 24177 24181 24195 24219 24253 24350 24353 24363 24369 24377 24390 
                                                         24396 24402 24410 24413 24424 24429 24452 24551 24557 24726 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3298 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3297 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3283 
_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3290 
_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3291 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3282 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3288 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3289 
_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3295 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3294 
_WOANT                                    EQU  00000010   2335*
_WOATO                                    EQU  00000040   2337* 7154 
_WOFCY                                    EQU  00000080   2338*
_WOQST                                    EQU  00000001   2331*
_WORCY                                    EQU  00000100   2339*
_WORDY                                    EQU  00000020   2336*
_WORD_BIT_TBL1                            IMPT 00000000  23118 23145 
_WORST                                    EQU  00000200   2340*
_WOVN1                                    EQU  00000002   2332*
_WOVN2                                    EQU  00000004   2333*
_WOVN3                                    EQU  00000008   2334*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4586  7904 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4394 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4395  8419 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4144 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4146 32587 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4145 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4111 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4112 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4109 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4110 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4115 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4116 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4113 
_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4114 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4687 
_WPARX_ELSE_ORGPLS                        IMPT 00000000   4686  8399 
_WPAR_360STP_HAB                          IMPT 00000000   4036 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3962 30005 
_WPAR_ACC_MATHED                          IMPT 00000000   4206 
_WPAR_ANAIN_SEL                           IMPT 00000000   3960 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4633 
_WPAR_BRK1_ACCTM                          IMPT 00000000   3391 30079 30111 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3390 
_WPAR_BRK2_ACCTM                          IMPT 00000000   3392 30147 
_WPAR_BRKTCHK_SPD                         IMPT 00000000   4134 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4133 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4393 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3389 20440 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   653

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4287 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4288 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3333 
_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3334 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3331 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3332 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4298 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3338 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3339 
_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3336 
_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3337 
_WPAR_COP_SDG1                            IMPT 00000000   3343 
_WPAR_COP_SDG2                            IMPT 00000000   3344 
_WPAR_COP_ZDG1                            IMPT 00000000   3341 
_WPAR_COP_ZDG2                            IMPT 00000000   3342 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4035 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4352 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2951 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2948 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2949 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2952 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2947 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2950 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3395 
_WPAR_ILNGERR_LNG                         IMPT 00000000   3394 
_WPAR_INCOVER_LNG                         IMPT 00000000   3360 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3361 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3362 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3363 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3367 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3365 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3366 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4181 
_WPAR_LSA_FILTIM                          IMPT 00000000   3729 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4034 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4317 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3814 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4377 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3863 
_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3369 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4135 
_WPAR_SLDALM_LNG                          IMPT 00000000   4359 
_WPAR_SLDALM_TIM                          IMPT 00000000   4360 
_WPAR_STOPING_TIM                         IMPT 00000000   4204 
_WPAR_ZERO_SPD                            IMPT 00000000   3388 20408 
_WPVX_KAJLIV_TTL                          IMPT 00000000   4184 
_WPV_ABS_AD_DATA                          IMPT 00000000   3968 
_WPV_AD_DATA                              IMPT 00000000   3967 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5339 
_WPV_CB_STS_POINT                         IMPT 00000000   5364 
_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5340 
_WPV_CB_TRD_POINT                         IMPT 00000000   5365 
_WPV_POWER_MONI                           IMPT 00000000   3969 
_WPV_POWER_ON_CNT                         IMPT 00000000   5366 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   654

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPV_SCAN_MAX01                           IMPT 00000000   4769 
_WPV_SCAN_MAX10                           IMPT 00000000   4768 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4765 
_WPV_SCAN_TIM_REAL                        IMPT 00000000   4764 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2213*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2214*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2215*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2216*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4101 
_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4103 
_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4102 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2695 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2697 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2696 
_WXPV_ERR_DISP                            IMPT 00000000   3639 
_W_PARAM_TOP                              IMPT 00000000   4552  7013  7143  7160  7205 13453 15747 15759 15776 20831 21472 21497 
                                                         21681 22687 22960 22969 23344 23416 23464 23522 31258 31318 31395 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5268 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5263 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5256 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5261 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5260 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5269 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5257 
_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5259 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5267 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5258 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5264 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   5575 
_ZERO_INCENC                              EQU  00000000   2045*
_ZERO_INCHEN                              EQU  00000000   2044*
_ZERO_INCREV                              EQU  00000000   2049*
_ZERO_INCRNA                              EQU  00000001   2046*
_ZERO_INCSTP                              EQU  00000000   2047*
_ZERO_RNAREV                              EQU  00000001   2050*
_ZERO_RNASTP                              EQU  00000001   2048*
_cbsys_tbl_err                            IMPT 00000000   4226 
_di1_cb_ctl1                              IMPT 00000000   2488 
_di1_cb_ctl1_dt                           IMPT 00000000   2496 30724 
_di1_cb_ctl1_of                           IMPT 00000000   2498 
_di1_cb_ctl1_on                           IMPT 00000000   2497 
_di2_cb_ctl2                              IMPT 00000000   2489 12070 12116 12162 26929 
_di2_cb_ctl2_dt                           IMPT 00000000   2500 
_di2_cb_ctl2_of                           IMPT 00000000   2502 
_di2_cb_ctl2_on                           IMPT 00000000   2501 
_di3_cb_inp1                              IMPT 00000000   2490 
_di3_cb_inp1_dt                           IMPT 00000000   2494 
_di4_cb_inp2                              IMPT 00000000   2491 
_dq1_cb_out1                              IMPT 00000000   2492  7152 
_dum_SET_PV_ABS_TO_OBJ           P             00006994   7688  8224  8300  8649 10319 10401 10659 11813 13015 13076 13145 13194 
                                                         14081 26956 31201*32311 
_emg_err_flg                              IMPT 00000000   2572  9262 34932 
_emg_lev_flg                              IMPT 00000000   2571 
_exq_err_flg                              IMPT 00000000   2575 34934 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   655

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_exq_lev_flg                              IMPT 00000000   2573 
_pass_err_flg1                            IMPT 00000000   2569 
_pass_err_flg2                            IMPT 00000000   2570 
_poslsi1_top                              IMPT 00000000   6266 16502 16535 16866 16918 16949 17032 17310 17351 17411 17452 17548 
                                                         17595 17685 17759 17911 17940 17992 18563 19141 19150 19792 19799 19806 
                                                         19887 19921 19955 19984 20019 20055 20113 27650 29486 29603 29669 29721 
                                                         30543 30567 30591 
_reset_dly_tim                            IMPT 00000000   2593 
_reset_flg                                IMPT 00000000   2592 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:54                                                  PAGE   656

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    0000089C0        
